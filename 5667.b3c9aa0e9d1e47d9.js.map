{"version":3,"file":"5667.b3c9aa0e9d1e47d9.js","mappings":"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","names":["regexpEscape","s","replace","toNumberString","value","_a","_c","decimalMark","toString","regexpDecimalMark","n","trim","negative","match","getNumberRegexp","RegExp","exports","toNumber","NaN","Number","_AttributeWidgetComponent_ng_template_1_Template","rf","ctx","_AttributesBuilderComponent_div_2_Template","i0","i_r1","index","ctx_r1","attributes","discoverWidget","widget","appearance","_AttributesBuilderComponent_div_3_Template","ATTRIBUTE_WIDGET","InjectionToken","WidgetsService","_WidgetsService","_createClass","widgets","_classCallCheck","this","key","find","w","name","ɵfac","__ngFactoryType__","ɵprov","token","factory","WidgetPluginManager","_WidgetPluginManager","_BasePluginManager","pcm","moduleLoader","_callSuper","_inherits","of","PluginDef","BasePluginManager","i1","i2","providedIn","AttributeWidgetDirective","_AttributeWidgetDirective","viewContainerRef","ɵdir","type","selectors","standalone","AttributeWidgetComponent","_AttributeWidgetComponent","componentFactoryResolver","controlContainer","_this","subscribe","componentFactory","resolveComponentFactory","component","widgetHost","clear","componentRef","createComponent","instance","attribute","i1$1","ɵcmp","viewQuery","_t","first","inputs","decls","vars","consts","template","control","dependencies","encapsulation","AttributesBuilderComponent","_AttributesBuilderComponent","widgetsService","wpm","attributesForm","UntypedFormGroup","UntypedFormArray","_attributeValues","onTouched","get","set","attributeValues","applyValues","changes","_this2","previousValue","currentValue","attributesArray","length","removeAt","forEach","attr","push","UntypedFormControl","Validators","required","displayName","label","map","attr2","val","console","log","concat","setValue","emitEvent","fn","valueChanges","isDisabled","disable","enable","c","valid","invalidForm","message","getPlugin","_this3","controls","attrValue","av","undefined","updateValueAndValidity","features","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","NG_VALIDATORS","i3","TextWidgetComponent","_TextWidgetComponent","i2$1","MinMaxWidgetComponent","_MinMaxWidgetComponent","AttributeMatcherService","_AttributeMatcherService","matchAttribute","computedValue","len","i","AttributePipe","_AttributePipe","attributeMatcher","getComputedValue","ɵpipe","pure","AttributeTypes","Text","Complex","Float","Array","Bool","Date","AttributeWidget","_Plugin","data","_this4","id","schema","Attribute","Plugin","options","a","AttributeValue","intValue","isArray","reduce","p","_store","_toConsumableArray","textFactory","title","minmaxFactory","AttributesModule","_AttributesModule","widgetPlugins","register","ɵmod","ɵinj","providers","useFactory","provideHttpClient","withJsonpSupport","imports","CommonModule","ReactiveFormsModule","MaterialModule","ValueComputerService","_ValueComputerService","_this5","computedAttributes","computeAttribute","resolveComputedValue","_objectSpread","compute","isNaN","AttributeSerializerService","_AttributeSerializerService","valueComputer","obj","prop","attrValues","serialize","toJSON","ignoreAttributes","arguments","deserialize","_defineProperty","findIndex","b","setting","_this6","fg","convertToGroup","e","r","t","_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__","A","Object","defineProperty","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","apply","_objectSpread2","_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__","getOwnPropertyDescriptors","defineProperties"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./node_modules/number-string/dist/app.js","./node_modules/@rollthecloudinc/attributes/fesm2022/rollthecloudinc-attributes.mjs","./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/defineProperty.js","./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.toClosest = exports.toMoney = exports.toClean = exports.toNumber = exports.toNumberString = void 0;\n/**\n * Escape special RegExp characters in string\n */\nfunction regexpEscape(s) {\n    return s.replace(/[-[\\]/{}()*+?.\\\\^$]/g, \"\\\\$&\");\n}\n/**\n * Convert value to number string\n */\nfunction toNumberString(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c;\n    if (typeof value === \"number\") {\n        return value.toString();\n    }\n    if (typeof value !== \"string\") {\n        return \"NaN\";\n    }\n    var regexpDecimalMark = regexpEscape(decimalMark);\n    var n = value.trim();\n    var negative = n.match(/^\\(.*\\)$|^-/); //negative if matches '(...)' or '-...'\n    var getNumberRegexp = new RegExp(\"[^\\\\d\" + regexpDecimalMark + \"]|\" + regexpDecimalMark + \"(?=.*\" + regexpDecimalMark + \")|^\\\\D*\" + regexpDecimalMark + \"\\\\D*$\", \"g\");\n    n = n.replace(getNumberRegexp, \"\").replace(decimalMark, \".\"); //remove all except digits and last dot\n    if (n === \"\") {\n        n = \"NaN\";\n    }\n    else if (negative) {\n        n = \"-\" + n;\n    }\n    return n;\n}\nexports.toNumberString = toNumberString;\n/**\n * Convert value to number\n */\nfunction toNumber(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c;\n    var s = toNumberString(value, { decimalMark: decimalMark });\n    if (s === \"NaN\") {\n        return NaN;\n    }\n    return Number(s);\n}\nexports.toNumber = toNumber;\n/**\n * Like `toFixed` but removes trailing zeros\n */\nfunction toClean(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c, _d = _b.thousandSeperator, thousandSeperator = _d === void 0 ? null : _d, _e = _b.thousandSeparator, thousandSeparator = _e === void 0 ? \",\" : _e, _f = _b.maxPrecision, maxPrecision = _f === void 0 ? 100 : _f, _g = _b.minPrecision, minPrecision = _g === void 0 ? 0 : _g;\n    if (thousandSeperator) {\n        thousandSeparator = thousandSeperator;\n        console.error(\"`thousandSeperator` is deprecated use `thousandSeparator` instead.\");\n    }\n    value = toNumberString(value);\n    if (value === \"NaN\") {\n        return \"NaN\";\n    }\n    if (maxPrecision < 0) {\n        throw new Error(\"maxPrecision must be >= 0\");\n    }\n    if (minPrecision < 0) {\n        throw new Error(\"minPrecision must be >= 0\");\n    }\n    if (maxPrecision > 100) {\n        throw new Error(\"maxPrecision must be <= 100\");\n    }\n    if (minPrecision > 100) {\n        throw new Error(\"minPrecision must be <= 100\");\n    }\n    if (minPrecision > maxPrecision) {\n        throw new Error(\"minPrecision must be <= maxPrecision\");\n    }\n    var s = value;\n    // limit to maxPrecision\n    var dotIndex = s.lastIndexOf(\".\");\n    if (dotIndex > -1) {\n        var integer = (dotIndex === 0 ? \"0\" : s.slice(0, dotIndex));\n        var fraction = s.slice(dotIndex + 1, dotIndex + 1 + maxPrecision);\n        var remainder = s.slice(dotIndex + 1 + maxPrecision);\n        if (remainder.length > 0 && +remainder[0] > 4) {\n            // round up\n            var i = (BigInt(integer + fraction) + BigInt(1)).toString(10);\n            integer = i.slice(0, i.length - fraction.length);\n            fraction = i.slice(i.length - fraction.length);\n        }\n        s = integer + decimalMark + fraction;\n    }\n    else {\n        s += decimalMark;\n    }\n    // remove trailing 0s\n    var rmLen = 0;\n    for (var i = s.length - 1; i >= 0; i--) {\n        if (s[i] !== \"0\") {\n            break;\n        }\n        rmLen++;\n    }\n    s = s.slice(0, s.length - rmLen);\n    // limit to minPrecision\n    if (minPrecision > 0) {\n        var numZeros = void 0;\n        if (dotIndex > -1) {\n            numZeros = minPrecision - (s.length - dotIndex - 1);\n        }\n        else {\n            numZeros = minPrecision;\n        }\n        for (var i = 0; i < numZeros; i++) {\n            s += \"0\";\n        }\n    }\n    var regexpDecimalMark = regexpEscape(decimalMark);\n    var thousandSeparatorRegexp = new RegExp(\"\\\\d(?=(\\\\d{3})+\" + regexpDecimalMark + \")\", \"g\");\n    var trimRegexp = new RegExp(regexpDecimalMark + \"$\");\n    s = s.replace(thousandSeparatorRegexp, \"$&\" + thousandSeparator).replace(trimRegexp, \"\");\n    return s;\n}\nexports.toClean = toClean;\n/**\n * Convert string or number to currency string\n * modified from http://stackoverflow.com/a/149099/806777\\\n */\nfunction toMoney(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c, _d = _b.thousandSeperator, thousandSeperator = _d === void 0 ? null : _d, _e = _b.thousandSeparator, thousandSeparator = _e === void 0 ? \",\" : _e, _f = _b.maxPrecision, maxPrecision = _f === void 0 ? 2 : _f, _g = _b.minPrecision, minPrecision = _g === void 0 ? 2 : _g, _h = _b.symbol, symbol = _h === void 0 ? \"$\" : _h, _j = _b.symbolBehind, symbolBehind = _j === void 0 ? false : _j, _k = _b.useParens, useParens = _k === void 0 ? true : _k;\n    if (thousandSeperator) {\n        thousandSeparator = thousandSeperator;\n        console.error(\"`thousandSeperator` is deprecated use `thousandSeparator` instead.\");\n    }\n    var n = (typeof value === \"number\"\n        ? value\n        : toNumber(value, {\n            decimalMark: decimalMark\n        }));\n    var s = toNumberString(value, {\n        decimalMark: decimalMark\n    });\n    if (isNaN(n)) {\n        return \"NaN\";\n    }\n    if (n === Infinity) {\n        return \"Infinity\";\n    }\n    if (n === -Infinity) {\n        return (useParens ? \"(Infinity)\" : \"-Infinity\");\n    }\n    if (maxPrecision < 2 && typeof arguments[1].minPrecision === \"undefined\") {\n        minPrecision = maxPrecision;\n    }\n    if (minPrecision > 2 && typeof arguments[1].maxPrecision === \"undefined\") {\n        maxPrecision = minPrecision;\n    }\n    var negative = n < 0;\n    s = toClean(negative ? s.slice(1) : s, {\n        decimalMark: decimalMark,\n        thousandSeparator: thousandSeparator,\n        maxPrecision: maxPrecision,\n        minPrecision: minPrecision\n    });\n    s = (symbolBehind ? s + \" \" + symbol : symbol + s);\n    if (negative) {\n        s = (useParens ? \"(\" + s + \")\" : \"-\" + s);\n    }\n    return s;\n}\nexports.toMoney = toMoney;\n/**\n * Round number to closest multiple of number\n */\nfunction toClosest(value, roundTo) {\n    if (roundTo === void 0) { roundTo = 1; }\n    if (typeof value !== \"number\") {\n        value = toNumber(value);\n    }\n    if (isNaN(value)) {\n        return NaN;\n    }\n    if (value === Infinity || value === -Infinity) {\n        return value;\n    }\n    if (typeof roundTo !== \"number\") {\n        roundTo = toNumber(roundTo);\n    }\n    if (isNaN(roundTo)) {\n        throw Error(\"roundTo must be a number\");\n    }\n    if (roundTo === Infinity || roundTo === -Infinity) {\n        return roundTo;\n    }\n    var n = Math.round(value / roundTo) * roundTo;\n    var maxPrecision = 0;\n    while (!Number.isInteger(roundTo)) {\n        roundTo *= 10;\n        maxPrecision++;\n    }\n    n = +n.toFixed(maxPrecision);\n    return n;\n}\nexports.toClosest = toClosest;\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Inject, Injectable, Directive, ViewChild, Input, Component, forwardRef, Pipe, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { provideHttpClient, withJsonpSupport } from '@angular/common/http';\nimport * as i1$1 from '@angular/forms';\nimport { UntypedFormGroup, UntypedFormArray, UntypedFormControl, Validators, NG_VALUE_ACCESSOR, NG_VALIDATORS, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '@rollthecloudinc/material';\nimport { of } from 'rxjs';\nimport * as i1 from '@rollthecloudinc/plugin';\nimport { BasePluginManager, PluginDef, Plugin } from '@rollthecloudinc/plugin';\nimport * as i2 from '@rollthecloudinc/utils';\nimport * as i2$1 from '@angular/material/input';\nimport { toNumber } from 'number-string';\n\nconst ATTRIBUTE_WIDGET = new InjectionToken('AttributeWidget');\n\nclass WidgetsService {\n    constructor(widgets) {\n        this.widgets = widgets;\n    }\n    get(widget) {\n        return this.widgets.find(w => w.name === widget);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: WidgetsService, deps: [{ token: ATTRIBUTE_WIDGET }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: WidgetsService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: WidgetsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [{ type: Array, decorators: [{\n                    type: Inject,\n                    args: [ATTRIBUTE_WIDGET]\n                }] }] });\n\nclass WidgetPluginManager extends BasePluginManager {\n    constructor(pcm, moduleLoader) {\n        super(pcm, moduleLoader);\n    }\n    pluginDef() {\n        return of(new PluginDef({ name: 'widget' }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: WidgetPluginManager, deps: [{ token: i1.PluginConfigurationManager }, { token: i2.ModuleLoaderService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: WidgetPluginManager, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: WidgetPluginManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: i1.PluginConfigurationManager }, { type: i2.ModuleLoaderService }] });\n\nclass AttributeWidgetDirective {\n    constructor(viewContainerRef) {\n        this.viewContainerRef = viewContainerRef;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeWidgetDirective, deps: [{ token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"20.3.6\", type: AttributeWidgetDirective, isStandalone: false, selector: \"[classifiedsUiWidgetHost]\", ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeWidgetDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[classifiedsUiWidgetHost]',\n                    standalone: false\n                }]\n        }], ctorParameters: () => [{ type: i0.ViewContainerRef }] });\n\nclass AttributeWidgetComponent {\n    constructor(componentFactoryResolver, controlContainer) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.controlContainer = controlContainer;\n        this.appearance = \"legacy\";\n    }\n    ngOnInit() {\n        this.widget.subscribe(widget => {\n            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(widget.component);\n            const viewContainerRef = this.widgetHost.viewContainerRef;\n            viewContainerRef.clear();\n            const componentRef = viewContainerRef.createComponent(componentFactory);\n            componentRef.instance.attribute = this.attribute;\n            componentRef.instance.appearance = this.appearance;\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeWidgetComponent, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$1.ControlContainer }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.6\", type: AttributeWidgetComponent, isStandalone: false, selector: \"classifieds-ui-attribute-widget\", inputs: { widget: \"widget\", attribute: \"attribute\", appearance: \"appearance\" }, viewQueries: [{ propertyName: \"widgetHost\", first: true, predicate: AttributeWidgetDirective, descendants: true, static: true }], ngImport: i0, template: `<ng-container [formGroup]=\"controlContainer.control\"><ng-template classifiedsUiWidgetHost></ng-template></ng-container>`, isInline: true, styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: AttributeWidgetDirective, selector: \"[classifiedsUiWidgetHost]\" }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeWidgetComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-attribute-widget', template: `<ng-container [formGroup]=\"controlContainer.control\"><ng-template classifiedsUiWidgetHost></ng-template></ng-container>`, standalone: false }]\n        }], ctorParameters: () => [{ type: i0.ComponentFactoryResolver }, { type: i1$1.ControlContainer }], propDecorators: { widget: [{\n                type: Input\n            }], attribute: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }], widgetHost: [{\n                type: ViewChild,\n                args: [AttributeWidgetDirective, { static: true }]\n            }] } });\n\nclass AttributesBuilderComponent {\n    set attributeValues(attributeValues) {\n        this._attributeValues = attributeValues;\n        this.applyValues();\n    }\n    get attributeValues() {\n        return this._attributeValues;\n    }\n    get attributesArray() {\n        return this.attributesForm.get('attributes');\n    }\n    constructor(widgetsService, wpm) {\n        this.widgetsService = widgetsService;\n        this.wpm = wpm;\n        this.attributes = [];\n        this.appearance = 'legacy';\n        this.attributesForm = new UntypedFormGroup({\n            attributes: new UntypedFormArray([])\n        });\n        this._attributeValues = [];\n        this.onTouched = () => { };\n    }\n    ngOnChanges(changes) {\n        if (changes.attributes && (!changes.attributes.previousValue || changes.attributes.previousValue !== changes.attributes.currentValue)) {\n            while (this.attributesArray.length !== 0) {\n                this.attributesArray.removeAt(0);\n            }\n            // @todo: Supports 2 levels of nesting currently (no recursion).\n            this.attributes.forEach(attr => {\n                this.attributesArray.push(new UntypedFormGroup({\n                    name: new UntypedFormControl(attr.name, Validators.required),\n                    type: new UntypedFormControl(attr.type, Validators.required),\n                    displayName: new UntypedFormControl(attr.label, Validators.required),\n                    value: new UntypedFormControl('', attr.required ? Validators.required : []),\n                    attributes: new UntypedFormArray(!attr.attributes ? [] : attr.attributes.map(attr2 => new UntypedFormGroup({\n                        name: new UntypedFormControl(attr2.name, Validators.required),\n                        type: new UntypedFormControl(attr2.type, Validators.required),\n                        displayName: new UntypedFormControl(attr2.label, Validators.required),\n                        value: new UntypedFormControl('', attr2.required ? Validators.required : [])\n                    })))\n                }));\n            });\n            this.applyValues();\n        }\n    }\n    writeValue(val) {\n        if (val) {\n            console.log(`write value: ${val}`);\n            this.attributesArray.setValue(val, { emitEvent: false });\n        }\n    }\n    registerOnChange(fn) {\n        this.attributesArray.valueChanges.subscribe(fn);\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n        if (isDisabled) {\n            this.attributesArray.disable();\n        }\n        else {\n            this.attributesArray.enable();\n        }\n    }\n    validate(c) {\n        return this.attributesForm.valid ? null : { invalidForm: { valid: false, message: \"attributes are invalid\" } };\n    }\n    discoverWidget(widget) {\n        // return this.widgetsService.get(widget);\n        return this.wpm.getPlugin(widget);\n    }\n    applyValues() {\n        this.attributesArray.controls.forEach((c, index) => {\n            const attrValue = this.attributeValues ? this.attributeValues.find(av => av.name === c.get('name').value) : undefined;\n            if (attrValue !== undefined) {\n                c.get('value').setValue(attrValue.value);\n                c.updateValueAndValidity();\n            }\n            c.get('attributes').controls.forEach(c => {\n                const attrValue = this.attributeValues && this.attributeValues[index] !== undefined ? this.attributeValues[index].attributes.find(av => av.name === c.get('name').value) : undefined;\n                if (attrValue !== undefined) {\n                    c.get('value').setValue(attrValue.value);\n                    c.updateValueAndValidity();\n                }\n            });\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributesBuilderComponent, deps: [{ token: WidgetsService }, { token: WidgetPluginManager }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.6\", type: AttributesBuilderComponent, isStandalone: false, selector: \"classifieds-ui-attributes-builder\", inputs: { attributes: \"attributes\", appearance: \"appearance\", attributeValues: \"attributeValues\" }, providers: [\n            WidgetsService,\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => AttributesBuilderComponent),\n                multi: true\n            },\n            {\n                provide: NG_VALIDATORS,\n                useExisting: forwardRef(() => AttributesBuilderComponent),\n                multi: true\n            },\n        ], usesOnChanges: true, ngImport: i0, template: \"<ng-container [formGroup]=\\\"attributesForm\\\">\\n  <div formArrayName=\\\"attributes\\\" class=\\\"attribute-fields\\\">\\n    <div *ngFor=\\\"let attribute of attributesArray.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\" class=\\\"attribute-field-container\\\">\\n      <classifieds-ui-attribute-widget [attribute]=\\\"attributes[i]\\\" [widget]=\\\"discoverWidget(attributes[i].widget)\\\" [appearance]=\\\"appearance\\\"></classifieds-ui-attribute-widget>\\n    </div>\\n  </div>\\n</ng-container>\\n<div *ngIf=\\\"attributes.length == 0\\\">\\n  <p>No attributes available for ad type. Click next to continue.</p>\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1$1.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { kind: \"directive\", type: i1$1.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { kind: \"component\", type: AttributeWidgetComponent, selector: \"classifieds-ui-attribute-widget\", inputs: [\"widget\", \"attribute\", \"appearance\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributesBuilderComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-attributes-builder', providers: [\n                        WidgetsService,\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => AttributesBuilderComponent),\n                            multi: true\n                        },\n                        {\n                            provide: NG_VALIDATORS,\n                            useExisting: forwardRef(() => AttributesBuilderComponent),\n                            multi: true\n                        },\n                    ], standalone: false, template: \"<ng-container [formGroup]=\\\"attributesForm\\\">\\n  <div formArrayName=\\\"attributes\\\" class=\\\"attribute-fields\\\">\\n    <div *ngFor=\\\"let attribute of attributesArray.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\" class=\\\"attribute-field-container\\\">\\n      <classifieds-ui-attribute-widget [attribute]=\\\"attributes[i]\\\" [widget]=\\\"discoverWidget(attributes[i].widget)\\\" [appearance]=\\\"appearance\\\"></classifieds-ui-attribute-widget>\\n    </div>\\n  </div>\\n</ng-container>\\n<div *ngIf=\\\"attributes.length == 0\\\">\\n  <p>No attributes available for ad type. Click next to continue.</p>\\n</div>\\n\" }]\n        }], ctorParameters: () => [{ type: WidgetsService }, { type: WidgetPluginManager }], propDecorators: { attributes: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }], attributeValues: [{\n                type: Input\n            }] } });\n\nclass TextWidgetComponent {\n    constructor(controlContainer) {\n        this.controlContainer = controlContainer;\n        this.appearance = \"legacy\";\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: TextWidgetComponent, deps: [{ token: i1$1.ControlContainer }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.6\", type: TextWidgetComponent, isStandalone: false, selector: \"classifieds-ui-text-widget\", inputs: { attribute: \"attribute\", appearance: \"appearance\" }, ngImport: i0, template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <mat-form-field [appearance]=\\\"appearance\\\">\\n    <input matInput [placeholder]=\\\"attribute.label\\\" formControlName=\\\"value\\\">\\n  </mat-form-field>\\n</ng-container>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1$1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1$1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1$1.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: i2$1.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"component\", type: i2$1.MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: TextWidgetComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-text-widget', standalone: false, template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <mat-form-field [appearance]=\\\"appearance\\\">\\n    <input matInput [placeholder]=\\\"attribute.label\\\" formControlName=\\\"value\\\">\\n  </mat-form-field>\\n</ng-container>\\n\" }]\n        }], ctorParameters: () => [{ type: i1$1.ControlContainer }], propDecorators: { attribute: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }] } });\n\nclass MinMaxWidgetComponent {\n    constructor(controlContainer) {\n        this.controlContainer = controlContainer;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: MinMaxWidgetComponent, deps: [{ token: i1$1.ControlContainer }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.6\", type: MinMaxWidgetComponent, isStandalone: false, selector: \"classifieds-ui-min-max-widget\", inputs: { attribute: \"attribute\" }, ngImport: i0, template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <label>{{ attribute.label }}</label>\\n  <div formArrayName=\\\"attributes\\\">\\n    <mat-form-field formGroupName=\\\"0\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[0].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n    <mat-form-field formGroupName=\\\"1\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[1].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n  </div>\\n</ng-container>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1$1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1$1.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i1$1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1$1.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: i1$1.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { kind: \"directive\", type: i1$1.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { kind: \"directive\", type: i2$1.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"component\", type: i2$1.MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: MinMaxWidgetComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-min-max-widget', standalone: false, template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <label>{{ attribute.label }}</label>\\n  <div formArrayName=\\\"attributes\\\">\\n    <mat-form-field formGroupName=\\\"0\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[0].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n    <mat-form-field formGroupName=\\\"1\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[1].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n  </div>\\n</ng-container>\\n\" }]\n        }], ctorParameters: () => [{ type: i1$1.ControlContainer }], propDecorators: { attribute: [{\n                type: Input\n            }] } });\n\nclass AttributeMatcherService {\n    getComputedValue(attr, attributes) {\n        const attribute = attributes && attributes.length > 0 && this.matchAttribute(attr, attributes);\n        if (attribute) {\n            return attribute.computedValue;\n        }\n        else {\n            return;\n        }\n    }\n    getValue(attr, attributes) {\n        const attribute = attributes && attributes.length > 0 && this.matchAttribute(attr, attributes);\n        if (attribute) {\n            return attribute.value;\n        }\n        else {\n            return;\n        }\n    }\n    matchAttribute(attr, attributes) {\n        const len = attributes.length;\n        for (let i = 0; i < len; i++) {\n            if (attributes[i].attributes && attributes[i].attributes.length > 0) {\n                const value = this.matchAttribute(attr, attributes[i].attributes);\n                if (value) {\n                    return attributes[i];\n                }\n                else {\n                    continue;\n                }\n            }\n            else if (attr === attributes[i].name) {\n                return attributes[i];\n            }\n            else {\n                continue;\n            }\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeMatcherService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeMatcherService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeMatcherService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass AttributePipe {\n    constructor(attributeMatcher) {\n        this.attributeMatcher = attributeMatcher;\n    }\n    transform(attributes, attr) {\n        const computedValue = this.attributeMatcher.getComputedValue(attr, attributes);\n        if (computedValue) {\n            return computedValue;\n        }\n        else {\n            return '';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributePipe, deps: [{ token: AttributeMatcherService }], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributePipe, isStandalone: false, name: \"attribute\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributePipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'attribute',\n                    standalone: false\n                }]\n        }], ctorParameters: () => [{ type: AttributeMatcherService }] });\n\nvar AttributeTypes;\n(function (AttributeTypes) {\n    AttributeTypes[AttributeTypes[\"Number\"] = 0] = \"Number\";\n    AttributeTypes[AttributeTypes[\"Text\"] = 1] = \"Text\";\n    AttributeTypes[AttributeTypes[\"Complex\"] = 2] = \"Complex\";\n    AttributeTypes[AttributeTypes[\"Float\"] = 3] = \"Float\";\n    AttributeTypes[AttributeTypes[\"Array\"] = 4] = \"Array\";\n    AttributeTypes[AttributeTypes[\"Bool\"] = 5] = \"Bool\";\n    AttributeTypes[AttributeTypes[\"Date\"] = 6] = \"Date\";\n})(AttributeTypes || (AttributeTypes = {}));\nclass AttributeWidget extends Plugin {\n    constructor(data) {\n        super(data);\n        if (data) {\n            this.name = this.id;\n            this.schema = data.schema ? new Attribute(data.schema) : undefined;\n            this.component = data.component;\n        }\n    }\n}\nclass Attribute {\n    constructor(data) {\n        this.attributes = [];\n        if (data) {\n            this.name = data.name;\n            this.widget = data.widget !== undefined ? data.widget : 'text';\n            this.type = data.type;\n            this.label = data.label;\n            this.required = data.required;\n            this.options = data.options;\n            if (data.attributes) {\n                this.attributes = data.attributes.map(a => new Attribute(a));\n            }\n        }\n    }\n}\nclass AttributeValue {\n    constructor(data) {\n        this.attributes = [];\n        if (data) {\n            this.name = data.name;\n            this.displayName = data.displayName;\n            this.type = data.type;\n            this.value = data.value;\n            this.intValue = data.intValue;\n            this.computedValue = data.computedValue;\n            if (data.attributes) {\n                if (Array.isArray(data.attributes)) {\n                    this.attributes = data.attributes.reduce((p, a) => (a._store === undefined || a._store) ? [...p, new AttributeValue(a)] : p, []);\n                }\n                else if (data.attributes._store === undefined || data.attributes._store) {\n                    this.attributes = [data.attributes];\n                }\n            }\n            if (data.value && typeof (data.value) === 'object') {\n                this.value = undefined;\n                this.type = AttributeTypes.Complex;\n                data.value.attributes.reduce((p, a) => (a._store === undefined || a._store) ? [...p, new AttributeValue(a)] : p, []);\n            }\n            else {\n                this.value = data.value;\n            }\n        }\n    }\n}\n\n// import { YmmSelectorComponent } from './widgets/ymm-selector/ymm-selector.component';\n// import { CitySelectorComponent } from './widgets/city-selector/city-selector.component';\nconst textFactory = () => {\n    const schema = new Attribute({\n        name: '',\n        type: AttributeTypes.Text,\n        label: '',\n        required: false,\n        widget: 'text',\n        options: {},\n        attributes: []\n    });\n    return new AttributeWidget({ id: 'text', name: 'text', title: 'Text', component: TextWidgetComponent, schema });\n};\nconst minmaxFactory = () => {\n    return new AttributeWidget({ id: 'minmax', name: 'minmax', title: 'MinMax', component: MinMaxWidgetComponent, schema: undefined });\n};\n/*export const ymmFactory = () => {\n  const schema = new Attribute({\n    name: '',\n    type: AttributeTypes.Complex,\n    label: '',\n    required: false,\n    widget: 'ymm_selector',\n    options: {},\n    attributes: [\n      new Attribute({\n        name: 'year',\n        type: AttributeTypes.Number,\n        label: 'Year',\n        required: false,\n        widget: '',\n        options: {},\n        attributes: []\n      }),\n      new Attribute({\n        name: 'make',\n        type: AttributeTypes.Text,\n        label: 'Make',\n        required: false,\n        widget: '',\n        options: {},\n        attributes: []\n      }),\n      new Attribute({\n        name: 'model',\n        type: AttributeTypes.Text,\n        label: 'Model',\n        required: false,\n        widget: '',\n        options: {},\n        attributes: []\n      })\n    ]\n  });\n  return new AttributeWidget({ name: 'ymm_selector', component: YmmSelectorComponent, schema });\n};*/\n/*export const cityFactory = () => {\n  const schema = new Attribute({\n    name: '',\n    type: AttributeTypes.Complex,\n    label: '',\n    required: false,\n    widget: 'city_selector',\n    options: {},\n    attributes: []\n  });\n  return new AttributeWidget({ name: 'city_selector', component: CitySelectorComponent, schema });\n};*/\n\nclass AttributesModule {\n    constructor(widgetPlugins, wpm) {\n        widgetPlugins.forEach(p => wpm.register(p));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributesModule, deps: [{ token: ATTRIBUTE_WIDGET }, { token: WidgetPluginManager }], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributesModule, declarations: [AttributesBuilderComponent,\n            AttributeWidgetComponent,\n            AttributeWidgetDirective,\n            TextWidgetComponent,\n            MinMaxWidgetComponent,\n            AttributePipe\n            /*, YmmSelectorComponent, CitySelectorComponent*/\n        ], imports: [CommonModule, ReactiveFormsModule, MaterialModule], exports: [AttributesBuilderComponent, AttributePipe, AttributeWidgetComponent] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributesModule, providers: [\n            {\n                provide: ATTRIBUTE_WIDGET,\n                useFactory: textFactory,\n                multi: true\n            },\n            {\n                provide: ATTRIBUTE_WIDGET,\n                useFactory: minmaxFactory,\n                multi: true\n            },\n            provideHttpClient(withJsonpSupport()),\n        ], imports: [CommonModule, ReactiveFormsModule, MaterialModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributesModule, decorators: [{\n            type: NgModule,\n            args: [{ declarations: [\n                        AttributesBuilderComponent,\n                        AttributeWidgetComponent,\n                        AttributeWidgetDirective,\n                        TextWidgetComponent,\n                        MinMaxWidgetComponent,\n                        AttributePipe\n                        /*, YmmSelectorComponent, CitySelectorComponent*/\n                    ],\n                    exports: [AttributesBuilderComponent, AttributePipe, AttributeWidgetComponent], imports: [CommonModule, ReactiveFormsModule, MaterialModule], providers: [\n                        {\n                            provide: ATTRIBUTE_WIDGET,\n                            useFactory: textFactory,\n                            multi: true\n                        },\n                        {\n                            provide: ATTRIBUTE_WIDGET,\n                            useFactory: minmaxFactory,\n                            multi: true\n                        },\n                        provideHttpClient(withJsonpSupport()),\n                    ] }]\n        }], ctorParameters: () => [{ type: Array, decorators: [{\n                    type: Inject,\n                    args: [ATTRIBUTE_WIDGET]\n                }] }, { type: WidgetPluginManager }] });\n\nclass ValueComputerService {\n    constructor() { }\n    compute(attributes) {\n        const computedAttributes = [];\n        attributes.forEach(a => computedAttributes.push(this.computeAttribute(a)));\n        return computedAttributes;\n    }\n    computeAttribute(attribute) {\n        const computedValue = this.resolveComputedValue(attribute.value, attribute.type);\n        if (attribute.attributes && attribute.attributes.length > 0) {\n            return new AttributeValue({ ...attribute, computedValue, attributes: this.compute(attribute.attributes) });\n        }\n        else {\n            return new AttributeValue({ ...attribute, computedValue });\n        }\n    }\n    /**\n     * @todo: Support below strings.\n     * beds: 1.5\n     * beds: 1 1/2\n     * price: $1,000\n     * price: 1,000\n     * price $1,000,000.00\n     * baths: one\n     */\n    resolveComputedValue(value, type) {\n        let computedValue;\n        if (type === AttributeTypes.Number) {\n            computedValue = toNumber(value.trim());\n            if (computedValue && isNaN(computedValue)) {\n                computedValue = undefined;\n            }\n        }\n        else {\n            computedValue = value.trim();\n        }\n        return computedValue === undefined ? computedValue : `${computedValue}`;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: ValueComputerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: ValueComputerService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: ValueComputerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [] });\n\nclass AttributeSerializerService {\n    constructor(valueComputer) {\n        this.valueComputer = valueComputer;\n    }\n    serialize(obj, prop) {\n        const type = typeof (obj);\n        if (type !== 'object') {\n            return new AttributeValue({\n                name: prop,\n                type: type !== 'string' ? type !== 'boolean' ? AttributeTypes.Number : AttributeTypes.Bool : AttributeTypes.Text,\n                displayName: prop,\n                value: `${obj}`,\n                intValue: undefined,\n                computedValue: this.valueComputer.resolveComputedValue(`${obj}`, type !== 'string' ? type !== 'boolean' ? AttributeTypes.Number : AttributeTypes.Bool : AttributeTypes.Text),\n                attributes: []\n            });\n        }\n        else if (Array.isArray(obj) && (prop === 'attributes' || prop === 'settings')) {\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Complex,\n                displayName: prop,\n                value: undefined,\n                intValue: undefined,\n                computedValue: undefined,\n                attributes: obj\n            });\n        }\n        else if (Array.isArray(obj)) {\n            const len = obj.length;\n            const attrValues = [];\n            for (let i = 0; i < len; i++) {\n                if (typeof (obj[i]) !== 'object') {\n                    // attrValues.push(this.serialize({ value: obj[i] }, `${i}`));\n                    attrValues.push(this.serialize(obj[i], `${i}`));\n                }\n                else {\n                    attrValues.push(this.serialize(obj[i], `${i}`));\n                }\n            }\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Array,\n                displayName: prop,\n                value: undefined,\n                intValue: undefined,\n                computedValue: undefined,\n                attributes: attrValues\n            });\n        }\n        else if (obj instanceof Date) {\n            // store as string for now.\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Date,\n                displayName: prop,\n                value: obj.toJSON(),\n                intValue: undefined,\n                computedValue: obj.toJSON(),\n                attributes: []\n            });\n        }\n        else {\n            const attrValues = [];\n            for (const p in obj) {\n                attrValues.push(this.serialize(obj[p], p));\n            }\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Complex,\n                displayName: prop,\n                value: undefined,\n                intValue: undefined,\n                computedValue: undefined,\n                attributes: attrValues\n            });\n        }\n    }\n    deserializeAsObject(attrValues, ignoreAttributes = false) {\n        return this.deserialize(new AttributeValue({\n            name: 'root',\n            type: AttributeTypes.Complex,\n            displayName: 'root',\n            value: undefined,\n            computedValue: undefined,\n            intValue: 0,\n            attributes: attrValues\n        }), ignoreAttributes);\n    }\n    deserialize(attrValue, ignoreAttributes = false) {\n        let obj;\n        let len;\n        switch (attrValue.type) {\n            case AttributeTypes.Complex:\n                if (!ignoreAttributes && (attrValue.name === 'attributes' || attrValue.name === 'settings')) {\n                    obj = attrValue.attributes.map(a => new AttributeValue(a));\n                }\n                else {\n                    len = attrValue.attributes.length;\n                    for (let i = 0; i < len; i++) {\n                        obj = { ...obj, [attrValue.attributes[i].name]: this.deserialize(attrValue.attributes[i]) };\n                    }\n                }\n                break;\n            case AttributeTypes.Bool:\n                obj = attrValue.value !== undefined ? ['1', 'true', 'on'].findIndex(b => b === attrValue.value) > -1 : undefined;\n                break;\n            case AttributeTypes.Number:\n            case AttributeTypes.Float:\n                obj = attrValue.value !== undefined && attrValue.value !== '' && attrValue.value !== 'undefined' ? attrValue.value !== '0' ? toNumber(attrValue.value.trim()) : 0 : undefined;\n                break;\n            case AttributeTypes.Text:\n                obj = attrValue.value;\n                break;\n            case AttributeTypes.Array:\n                if (!ignoreAttributes && (attrValue.name === 'attributes' || attrValue.name === 'settings')) {\n                    obj = attrValue.attributes.map(a => new AttributeValue(a));\n                }\n                else {\n                    len = attrValue.attributes.length;\n                    obj = [];\n                    for (let i = 0; i < len; i++) {\n                        obj = [...obj, this.deserialize(attrValue.attributes[i])];\n                    }\n                }\n                break;\n            case AttributeTypes.Date:\n                obj = attrValue.value !== undefined && attrValue.value !== '' ? new Date(attrValue.value) : undefined;\n                break;\n            default:\n        }\n        return obj;\n    }\n    convertToGroup(setting) {\n        const fg = new UntypedFormGroup({\n            name: new UntypedFormControl(setting.name, Validators.required),\n            type: new UntypedFormControl(setting.type, Validators.required),\n            displayName: new UntypedFormControl(setting.displayName, Validators.required),\n            value: new UntypedFormControl(setting.value, Validators.required),\n            computedValue: new UntypedFormControl(setting.value, Validators.required),\n            attributes: new UntypedFormArray([])\n        });\n        if (setting.attributes && setting.attributes.length > 0) {\n            setting.attributes.forEach(s => {\n                fg.get('attributes').push(this.convertToGroup(s));\n            });\n        }\n        return fg;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeSerializerService, deps: [{ token: ValueComputerService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeSerializerService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.6\", ngImport: i0, type: AttributeSerializerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: () => [{ type: ValueComputerService }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ATTRIBUTE_WIDGET, Attribute, AttributeMatcherService, AttributePipe, AttributeSerializerService, AttributeTypes, AttributeValue, AttributeWidget, AttributeWidgetComponent, AttributesBuilderComponent, AttributesModule, ValueComputerService, WidgetPluginManager, WidgetsService };\n","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };"],"x_google_ignoreList":[0,1,2,3]}