(self.webpackChunkspear=self.webpackChunkspear||[]).push([[6301],{6042:(A,p,r)=>{r.d(p,{m:()=>u});var f=r(3288),b=r(3398),E=r(2297),i=r(792),P=r(3544),h=r(4205),s=r(5152),u=function(m){function _(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.U;return(0,f.A)(this,_),(n=(0,E.A)(this,_))._bufferSize=e,n._windowTime=o,n._timestampProvider=t,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=o===1/0,n._bufferSize=Math.max(1,e),n._windowTime=Math.max(1,o),n}return(0,P.A)(_,m),(0,b.A)(_,[{key:"next",value:function(e){var t=this._buffer,c=this._infiniteTimeWindow,v=this._timestampProvider,a=this._windowTime;this.isStopped||(t.push(e),!c&&t.push(v.now()+a)),this._trimBuffer(),(0,i.A)(_,"next",this,3)([e])}},{key:"_subscribe",value:function(e){this._throwIfClosed(),this._trimBuffer();for(var o=this._innerSubscribe(e),t=this._infiniteTimeWindow,v=this._buffer.slice(),a=0;a<v.length&&!e.closed;a+=t?1:2)e.next(v[a]);return this._checkFinalizedStatuses(e),o}},{key:"_trimBuffer",value:function(){var e=this._bufferSize,o=this._timestampProvider,t=this._buffer,c=this._infiniteTimeWindow,v=(c?1:2)*e;if(e<1/0&&v<t.length&&t.splice(0,t.length-v),!c){for(var a=o.now(),d=0,l=1;l<t.length&&t[l]<=a;l+=2)d=l;d&&t.splice(0,d+1)}}}])}(h.B)},1870:(A,p,r)=>{r.d(p,{u:()=>P});var f=r(2645),b=r(4205),E=r(9931),i=r(819);function P(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=s.connector,m=void 0===u?function(){return new b.B}:u,_=s.resetOnError,n=void 0===_||_,e=s.resetOnComplete,o=void 0===e||e,t=s.resetOnRefCountZero,c=void 0===t||t;return function(v){var a,d,l,M=0,T=!1,D=!1,O=function(){d?.unsubscribe(),d=void 0},I=function(){O(),a=l=void 0,T=D=!1},U=function(){var C=a;I(),C?.unsubscribe()};return(0,i.N)(function(w,C){M++,!D&&!T&&O();var g=l=l??m();C.add(function(){0===--M&&!D&&!T&&(d=h(U,c))}),g.subscribe(C),!a&&M>0&&(a=new E.Ms({next:function(R){return g.next(R)},error:function(R){D=!0,O(),d=h(I,n,R),g.error(R)},complete:function(){T=!0,O(),d=h(I,o),g.complete()}}),(0,f.Tg)(w).subscribe(a))})(v)}}function h(s,u){if(!0!==u){if(!1!==u){for(var m=new E.Ms({next:function(){m.unsubscribe(),s()}}),_=arguments.length,n=new Array(_>2?_-2:0),e=2;e<_;e++)n[e-2]=arguments[e];return u.apply(void 0,n).subscribe(m)}}else s()}},6301:(A,p,r)=>{r.d(p,{t:()=>E});var f=r(6042),b=r(1870);function E(i,P,h){var s,u=!1;if(i&&"object"==typeof i){var m=i.bufferSize;s=void 0===m?1/0:m;var _=i.windowTime;P=void 0===_?1/0:_;var n=i.refCount;u=void 0!==n&&n,h=i.scheduler}else s=i??1/0;return(0,b.u)({connector:function(){return new f.m(s,P,h)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},5152:(A,p,r)=>{r.d(p,{U:()=>f});var f={now:function(){return(f.delegate||Date).now()},delegate:void 0}}}]);
//# sourceMappingURL=6301.8d076d2ec9aff186.js.map