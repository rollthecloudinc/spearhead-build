(self.webpackChunkspear=self.webpackChunkspear||[]).push([[9168],{9168:(j,C,_)=>{_.r(C),_.d(C,{BasePortalOutlet:()=>A,CdkPortal:()=>D,CdkPortalOutlet:()=>g,ComponentPortal:()=>y,DomPortal:()=>E,DomPortalOutlet:()=>w,Portal:()=>m,PortalHostDirective:()=>R,PortalModule:()=>M,TemplatePortal:()=>P,TemplatePortalDirective:()=>k});var h=_(792),f=_(82297),v=_(13544),u=_(43288),c=_(63398),s=_(40642),d=_(49431),m=function(){return(0,c.A)(function i(){(0,u.A)(this,i),(0,s.A)(this,"_attachedHost",void 0)},[{key:"attach",value:function(o){return this._attachedHost=o,o.attach(this)}},{key:"detach",value:function(){var o=this._attachedHost;null!=o&&(this._attachedHost=null,o.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(o){this._attachedHost=o}}])}(),y=function(i){function e(o,t,r,n){var a;return(0,u.A)(this,e),a=(0,f.A)(this,e),(0,s.A)(a,"component",void 0),(0,s.A)(a,"viewContainerRef",void 0),(0,s.A)(a,"injector",void 0),(0,s.A)(a,"projectableNodes",void 0),a.component=o,a.viewContainerRef=t,a.injector=r,a.projectableNodes=n,a}return(0,v.A)(e,i),(0,c.A)(e)}(m),P=function(i){function e(o,t,r,n){var a;return(0,u.A)(this,e),a=(0,f.A)(this,e),(0,s.A)(a,"templateRef",void 0),(0,s.A)(a,"viewContainerRef",void 0),(0,s.A)(a,"context",void 0),(0,s.A)(a,"injector",void 0),a.templateRef=o,a.viewContainerRef=t,a.context=r,a.injector=n,a}return(0,v.A)(e,i),(0,c.A)(e,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(t){return this.context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context,(0,h.A)(e,"attach",this,3)([t])}},{key:"detach",value:function(){return this.context=void 0,(0,h.A)(e,"detach",this,3)([])}}])}(m),E=function(i){function e(o){var t;return(0,u.A)(this,e),t=(0,f.A)(this,e),(0,s.A)(t,"element",void 0),t.element=o instanceof d.ElementRef?o.nativeElement:o,t}return(0,v.A)(e,i),(0,c.A)(e)}(m),A=function(){return(0,c.A)(function i(){(0,u.A)(this,i),(0,s.A)(this,"_attachedPortal",void 0),(0,s.A)(this,"_disposeFn",void 0),(0,s.A)(this,"_isDisposed",!1),(0,s.A)(this,"attachDomPortal",null)},[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(o){return o instanceof y?(this._attachedPortal=o,this.attachComponentPortal(o)):o instanceof P?(this._attachedPortal=o,this.attachTemplatePortal(o)):this.attachDomPortal&&o instanceof E?(this._attachedPortal=o,this.attachDomPortal(o)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(o){this._disposeFn=o}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}])}(),w=function(i){function e(o,t,r){var n;return(0,u.A)(this,e),n=(0,f.A)(this,e),(0,s.A)(n,"outletElement",void 0),(0,s.A)(n,"_appRef",void 0),(0,s.A)(n,"_defaultInjector",void 0),(0,s.A)(n,"attachDomPortal",function(a){var l=a.element,p=n.outletElement.ownerDocument.createComment("dom-portal");l.parentNode.insertBefore(p,l),n.outletElement.appendChild(l),n._attachedPortal=a,(0,h.A)(e,"setDisposeFn",n,3)([function(){p.parentNode&&p.parentNode.replaceChild(l,p)}])}),n.outletElement=o,n._appRef=t,n._defaultInjector=r,n}return(0,v.A)(e,i),(0,c.A)(e,[{key:"attachComponentPortal",value:function(t){var r;if(t.viewContainerRef){var n=t.injector||t.viewContainerRef.injector,a=n.get(d.NgModuleRef,null,{optional:!0})||void 0;r=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:a,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(function(){return r.destroy()})}else{var l=this._appRef,p=t.injector||this._defaultInjector||d.Injector.NULL,O=p.get(d.EnvironmentInjector,l.injector);r=(0,d.createComponent)(t.component,{elementInjector:p,environmentInjector:O,projectableNodes:t.projectableNodes||void 0}),l.attachView(r.hostView),this.setDisposeFn(function(){l.viewCount>0&&l.detachView(r.hostView),r.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}},{key:"attachTemplatePortal",value:function(t){var r=this,n=t.viewContainerRef,a=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return a.rootNodes.forEach(function(l){return r.outletElement.appendChild(l)}),a.detectChanges(),this.setDisposeFn(function(){var l=n.indexOf(a);-1!==l&&n.remove(l)}),this._attachedPortal=t,a}},{key:"dispose",value:function(){(0,h.A)(e,"dispose",this,3)([]),this.outletElement.remove()}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}])}(A),D=function(){var i,e=function(o){function t(){(0,u.A)(this,t);var r=(0,d.inject)(d.TemplateRef),n=(0,d.inject)(d.ViewContainerRef);return(0,f.A)(this,t,[r,n])}return(0,v.A)(t,o),(0,c.A)(t)}(P);return i=e,(0,s.A)(e,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(e,"\u0275dir",d.\u0275\u0275defineDirective({type:i,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[d.\u0275\u0275InheritDefinitionFeature]})),e}(),k=function(){var i,e=function(o){function t(){return(0,u.A)(this,t),(0,f.A)(this,t,arguments)}return(0,v.A)(t,o),(0,c.A)(t)}(D);return i=e,(0,s.A)(e,"\u0275fac",function(){var o;return function(r){return(o||(o=d.\u0275\u0275getInheritedFactory(i)))(r||i)}}()),(0,s.A)(e,"\u0275dir",d.\u0275\u0275defineDirective({type:i,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[d.\u0275\u0275ProvidersFeature([{provide:D,useExisting:i}]),d.\u0275\u0275InheritDefinitionFeature]})),e}(),g=function(){var i,e=function(o){function t(){var r;return(0,u.A)(this,t),r=(0,f.A)(this,t),(0,s.A)(r,"_moduleRef",(0,d.inject)(d.NgModuleRef,{optional:!0})),(0,s.A)(r,"_document",(0,d.inject)(d.DOCUMENT)),(0,s.A)(r,"_viewContainerRef",(0,d.inject)(d.ViewContainerRef)),(0,s.A)(r,"_isInitialized",!1),(0,s.A)(r,"_attachedRef",void 0),(0,s.A)(r,"attached",new d.EventEmitter),(0,s.A)(r,"attachDomPortal",function(n){var a=n.element,l=r._document.createComment("dom-portal");n.setAttachedHost(r),a.parentNode.insertBefore(l,a),r._getRootNode().appendChild(a),r._attachedPortal=n,(0,h.A)(t,"setDisposeFn",r,3)([function(){l.parentNode&&l.parentNode.replaceChild(a,l)}])}),r}return(0,v.A)(t,o),(0,c.A)(t,[{key:"portal",get:function(){return this._attachedPortal},set:function(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&(0,h.A)(t,"detach",this,3)([]),n&&(0,h.A)(t,"attach",this,3)([n]),this._attachedPortal=n||null)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){(0,h.A)(t,"dispose",this,3)([]),this._attachedRef=this._attachedPortal=null}},{key:"attachComponentPortal",value:function(n){n.setAttachedHost(this);var a=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,l=a.createComponent(n.component,{index:a.length,injector:n.injector||a.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return a!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),(0,h.A)(t,"setDisposeFn",this,3)([function(){return l.destroy()}]),this._attachedPortal=n,this._attachedRef=l,this.attached.emit(l),l}},{key:"attachTemplatePortal",value:function(n){var a=this;n.setAttachedHost(this);var l=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return(0,h.A)(t,"setDisposeFn",this,3)([function(){return a._viewContainerRef.clear()}]),this._attachedPortal=n,this._attachedRef=l,this.attached.emit(l),l}},{key:"_getRootNode",value:function(){var n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}])}(A);return i=e,(0,s.A)(e,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(e,"\u0275dir",d.\u0275\u0275defineDirective({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.\u0275\u0275InheritDefinitionFeature]})),e}(),R=function(){var i,e=function(o){function t(){return(0,u.A)(this,t),(0,f.A)(this,t,arguments)}return(0,v.A)(t,o),(0,c.A)(t)}(g);return i=e,(0,s.A)(e,"\u0275fac",function(){var o;return function(r){return(o||(o=d.\u0275\u0275getInheritedFactory(i)))(r||i)}}()),(0,s.A)(e,"\u0275dir",d.\u0275\u0275defineDirective({type:i,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:[0,"cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[d.\u0275\u0275ProvidersFeature([{provide:g,useExisting:i}]),d.\u0275\u0275InheritDefinitionFeature]})),e}(),M=function(){var i,e=(0,c.A)(function o(){(0,u.A)(this,o)});return i=e,(0,s.A)(e,"\u0275fac",function(t){return new(t||i)}),(0,s.A)(e,"\u0275mod",d.\u0275\u0275defineNgModule({type:i})),(0,s.A)(e,"\u0275inj",d.\u0275\u0275defineInjector({})),e}()}}]);
//# sourceMappingURL=9168.4b09550ec9d66977.js.map