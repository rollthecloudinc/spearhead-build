(self.webpackChunkspear=self.webpackChunkspear||[]).push([[3482],{3482:(Y,b,_)=>{_.r(b),_.d(b,{CdkDialogContainer:()=>L,DEFAULT_DIALOG_CONFIG:()=>R,DIALOG_DATA:()=>F,DIALOG_SCROLL_STRATEGY:()=>I,Dialog:()=>W,DialogConfig:()=>m,DialogModule:()=>$,DialogRef:()=>E,throwDialogContentAlreadyAttachedError:()=>V,\u0275\u0275CdkPortal:()=>f.CdkPortal,\u0275\u0275CdkPortalOutlet:()=>f.CdkPortalOutlet,\u0275\u0275PortalHostDirective:()=>f.PortalHostDirective,\u0275\u0275TemplatePortalDirective:()=>f.TemplatePortalDirective});var y=_(2292),C=_(3730),j=_(2297),S=_(3544),g=_(3398),D=_(3288),t=_(642),v=_(2481),l=_(5240),w=_(9148),O=_(4205),K=_(137),f=_(9168),k=_(9935),Q=_(6423),U=_(7579),M=_(297),x=_(8159),X=_(4879),G=_(3037),H=_(1953),A=_(4941),N=_(4149),B=_(7170);function z(u,r){}var m=(0,g.A)(function u(){(0,D.A)(this,u),(0,t.A)(this,"viewContainerRef",void 0),(0,t.A)(this,"injector",void 0),(0,t.A)(this,"id",void 0),(0,t.A)(this,"role","dialog"),(0,t.A)(this,"panelClass",""),(0,t.A)(this,"hasBackdrop",!0),(0,t.A)(this,"backdropClass",""),(0,t.A)(this,"disableClose",!1),(0,t.A)(this,"closePredicate",void 0),(0,t.A)(this,"width",""),(0,t.A)(this,"height",""),(0,t.A)(this,"minWidth",void 0),(0,t.A)(this,"minHeight",void 0),(0,t.A)(this,"maxWidth",void 0),(0,t.A)(this,"maxHeight",void 0),(0,t.A)(this,"positionStrategy",void 0),(0,t.A)(this,"data",null),(0,t.A)(this,"direction",void 0),(0,t.A)(this,"ariaDescribedBy",null),(0,t.A)(this,"ariaLabelledBy",null),(0,t.A)(this,"ariaLabel",null),(0,t.A)(this,"ariaModal",!1),(0,t.A)(this,"autoFocus","first-tabbable"),(0,t.A)(this,"restoreFocus",!0),(0,t.A)(this,"scrollStrategy",void 0),(0,t.A)(this,"closeOnNavigation",!0),(0,t.A)(this,"closeOnDestroy",!0),(0,t.A)(this,"closeOnOverlayDetachments",!0),(0,t.A)(this,"disableAnimations",!1),(0,t.A)(this,"providers",void 0),(0,t.A)(this,"container",void 0),(0,t.A)(this,"templateContext",void 0)});function V(){throw Error("Attempting to attach dialog content after content is already attached")}var L=function(){var u,r=function(s){function o(){var e;return(0,D.A)(this,o),e=(0,j.A)(this,o),(0,t.A)(e,"_elementRef",(0,l.WQX)(v.aKT)),(0,t.A)(e,"_focusTrapFactory",(0,l.WQX)(k.GX)),(0,t.A)(e,"_config",void 0),(0,t.A)(e,"_interactivityChecker",(0,l.WQX)(k.Z7)),(0,t.A)(e,"_ngZone",(0,l.WQX)(v.SKi)),(0,t.A)(e,"_focusMonitor",(0,l.WQX)(Q.FN)),(0,t.A)(e,"_renderer",(0,l.WQX)(v.sFG)),(0,t.A)(e,"_changeDetectorRef",(0,l.WQX)(w.gRc)),(0,t.A)(e,"_injector",(0,l.WQX)(l.zZn)),(0,t.A)(e,"_platform",(0,l.WQX)(U.O)),(0,t.A)(e,"_document",(0,l.WQX)(l.qQL)),(0,t.A)(e,"_portalOutlet",void 0),(0,t.A)(e,"_focusTrapped",new O.B),(0,t.A)(e,"_focusTrap",null),(0,t.A)(e,"_elementFocusedBeforeDialogWasOpened",null),(0,t.A)(e,"_closeInteractionType",null),(0,t.A)(e,"_ariaLabelledByQueue",[]),(0,t.A)(e,"_isDestroyed",!1),(0,t.A)(e,"attachDomPortal",function(a){e._portalOutlet.hasAttached();var i=e._portalOutlet.attachDomPortal(a);return e._contentAttached(),i}),e._config=(0,l.WQX)(m,{optional:!0})||new m,e._config.ariaLabelledBy&&e._ariaLabelledByQueue.push(e._config.ariaLabelledBy),e}return(0,S.A)(o,s),(0,g.A)(o,[{key:"_addAriaLabelledBy",value:function(a){this._ariaLabelledByQueue.push(a),this._changeDetectorRef.markForCheck()}},{key:"_removeAriaLabelledBy",value:function(a){var i=this._ariaLabelledByQueue.indexOf(a);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}},{key:"_contentAttached",value:function(){this._initializeFocusTrap(),this._captureInitialFocus()}},{key:"_captureInitialFocus",value:function(){this._trapFocus()}},{key:"ngOnDestroy",value:function(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}},{key:"attachComponentPortal",value:function(a){this._portalOutlet.hasAttached();var i=this._portalOutlet.attachComponentPortal(a);return this._contentAttached(),i}},{key:"attachTemplatePortal",value:function(a){this._portalOutlet.hasAttached();var i=this._portalOutlet.attachTemplatePortal(a);return this._contentAttached(),i}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._trapFocus()}},{key:"_forceFocus",value:function(a,i){var n=this;this._interactivityChecker.isFocusable(a)||(a.tabIndex=-1,this._ngZone.runOutsideAngular(function(){var c=function(){h(),d(),a.removeAttribute("tabindex")},h=n._renderer.listen(a,"blur",c),d=n._renderer.listen(a,"mousedown",c)})),a.focus(i)}},{key:"_focusByCssSelector",value:function(a,i){var n=this._elementRef.nativeElement.querySelector(a);n&&this._forceFocus(n,i)}},{key:"_trapFocus",value:function(a){var i=this;this._isDestroyed||(0,v.mal)(function(){var n,c=i._elementRef.nativeElement;switch(i._config.autoFocus){case!1:case"dialog":i._containsFocus()||c.focus(a);break;case!0:case"first-tabbable":(null===(n=i._focusTrap)||void 0===n?void 0:n.focusInitialElement(a))||i._focusDialogContainer(a);break;case"first-heading":i._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',a);break;default:i._focusByCssSelector(i._config.autoFocus,a)}i._focusTrapped.next()},{injector:this._injector})}},{key:"_restoreFocus",value:function(){var a=this._config.restoreFocus,i=null;if("string"==typeof a?i=this._document.querySelector(a):"boolean"==typeof a?i=a?this._elementFocusedBeforeDialogWasOpened:null:a&&(i=a),this._config.restoreFocus&&i&&"function"==typeof i.focus){var n=(0,M.vc)(),c=this._elementRef.nativeElement;(!n||n===this._document.body||n===c||c.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_focusDialogContainer",value:function(a){var i,n;null===(i=(n=this._elementRef.nativeElement).focus)||void 0===i||i.call(n,a)}},{key:"_containsFocus",value:function(){var a=this._elementRef.nativeElement,i=(0,M.vc)();return a===i||a.contains(i)}},{key:"_initializeFocusTrap",value:function(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,M.vc)()))}}])}(f.BasePortalOutlet);return u=r,(0,t.A)(r,"\u0275fac",function(o){return new(o||u)}),(0,t.A)(r,"\u0275cmp",v.VBU({type:u,selectors:[["cdk-dialog-container"]],viewQuery:function(o,e){var a;1&o&&v.GBs(f.CdkPortalOutlet,7),2&o&&v.mGM(a=v.lsd())&&(e._portalOutlet=a.first)},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,e){2&o&&v.BMQ("id",e._config.id||null)("role",e._config.role)("aria-modal",e._config.ariaModal)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledByQueue[0])("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null)},features:[v.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,e){1&o&&v.DNE(0,z,0,0,"ng-template",0)},dependencies:[f.CdkPortalOutlet],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})),r}(),E=function(){return(0,g.A)(function u(r,s){var o=this;(0,D.A)(this,u),(0,t.A)(this,"overlayRef",void 0),(0,t.A)(this,"config",void 0),(0,t.A)(this,"componentInstance",void 0),(0,t.A)(this,"componentRef",void 0),(0,t.A)(this,"containerInstance",void 0),(0,t.A)(this,"disableClose",void 0),(0,t.A)(this,"closed",new O.B),(0,t.A)(this,"backdropClick",void 0),(0,t.A)(this,"keydownEvents",void 0),(0,t.A)(this,"outsidePointerEvents",void 0),(0,t.A)(this,"id",void 0),(0,t.A)(this,"_detachSubscription",void 0),this.overlayRef=r,this.config=s,this.disableClose=s.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=s.id,this.keydownEvents.subscribe(function(e){e.keyCode===x._f&&!o.disableClose&&!(0,X.hasModifierKey)(e)&&(e.preventDefault(),o.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(function(){var e,a;!o.disableClose&&o._canClose()?o.close(void 0,{focusOrigin:"mouse"}):null===(e=(a=o.containerInstance)._recaptureFocus)||void 0===e||e.call(a)}),this._detachSubscription=r.detachments().subscribe(function(){!1!==s.closeOnOverlayDetachments&&o.close()})},[{key:"close",value:function(s,o){if(this._canClose(s)){var e=this.closed;this.containerInstance._closeInteractionType=o?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(s),e.complete(),this.componentInstance=this.containerInstance=null}}},{key:"updatePosition",value:function(){return this.overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){return this.overlayRef.updateSize({width:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",height:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}),this}},{key:"addPanelClass",value:function(s){return this.overlayRef.addPanelClass(s),this}},{key:"removePanelClass",value:function(s){return this.overlayRef.removePanelClass(s),this}},{key:"_canClose",value:function(s){var o=this.config;return!!this.containerInstance&&(!o.closePredicate||o.closePredicate(s,o,this.componentInstance))}}])}(),I=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:function(){var r=(0,l.WQX)(l.zZn);return function(){return(0,A.gA)(r)}}}),F=new l.nKC("DialogData"),R=new l.nKC("DefaultDialogConfig");function Z(u){var r=l.vPA.apply(void 0,[u].concat((0,C.A)([]))),s=new v.bkB;return{valueSignal:r,get value(){return r()},change:s,ngOnDestroy:function(){s.complete()}}}var W=function(){var u,r=function(){return(0,g.A)(function s(){var o=this;(0,D.A)(this,s),(0,t.A)(this,"_injector",(0,l.WQX)(l.zZn)),(0,t.A)(this,"_defaultOptions",(0,l.WQX)(R,{optional:!0})),(0,t.A)(this,"_parentDialog",(0,l.WQX)(s,{optional:!0,skipSelf:!0})),(0,t.A)(this,"_overlayContainer",(0,l.WQX)(A.Sf)),(0,t.A)(this,"_idGenerator",(0,l.WQX)(N.g)),(0,t.A)(this,"_openDialogsAtThisLevel",[]),(0,t.A)(this,"_afterAllClosedAtThisLevel",new O.B),(0,t.A)(this,"_afterOpenedAtThisLevel",new O.B),(0,t.A)(this,"_ariaHiddenElements",new Map),(0,t.A)(this,"_scrollStrategy",(0,l.WQX)(I)),(0,t.A)(this,"afterAllClosed",(0,K.v)(function(){return o.openDialogs.length?o._getAfterAllClosed():o._getAfterAllClosed().pipe((0,G.Z)(void 0))}))},[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"open",value:function(e,a){var i=this,n=this._defaultOptions||new m;(a=(0,y.A)((0,y.A)({},n),a)).id=a.id||this._idGenerator.getId("cdk-dialog-"),a.id&&this.getDialogById(a.id);var c=this._getOverlayConfig(a),h=(0,A.Y$)(this._injector,c),d=new E(h,a),p=this._attachContainer(h,d,a);if(d.containerInstance=p,!this.openDialogs.length){var P=this._overlayContainer.getContainerElement();p._focusTrapped?p._focusTrapped.pipe((0,H.s)(1)).subscribe(function(){i._hideNonDialogContentFromAssistiveTechnology(P)}):this._hideNonDialogContentFromAssistiveTechnology(P)}return this._attachDialogContent(e,d,p,a),this.openDialogs.push(d),d.closed.subscribe(function(){return i._removeOpenDialog(d,!0)}),this.afterOpened.next(d),d}},{key:"closeAll",value:function(){T(this.openDialogs,function(e){return e.close()})}},{key:"getDialogById",value:function(e){return this.openDialogs.find(function(a){return a.id===e})}},{key:"ngOnDestroy",value:function(){var e=this;T(this._openDialogsAtThisLevel,function(a){!1===a.config.closeOnDestroy&&e._removeOpenDialog(a,!1)}),T(this._openDialogsAtThisLevel,function(a){return a.close()}),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}},{key:"_getOverlayConfig",value:function(e){var a=new A.rR({positionStrategy:e.positionStrategy||(0,A.uA)().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(a.backdropClass=e.backdropClass),a}},{key:"_attachContainer",value:function(e,a,i){var n,d,c=i.injector||(null===(n=i.viewContainerRef)||void 0===n?void 0:n.injector),h=[{provide:m,useValue:i},{provide:E,useValue:a},{provide:A.yY,useValue:e}];i.container?"function"==typeof i.container?d=i.container:(d=i.container.type,h.push.apply(h,(0,C.A)(i.container.providers(i)))):d=L;var p=new f.ComponentPortal(d,i.viewContainerRef,l.zZn.create({parent:c||this._injector,providers:h}));return e.attach(p).instance}},{key:"_attachDialogContent",value:function(e,a,i,n){if(e instanceof v.C4Q){var c=this._createInjector(n,a,i,void 0),h={$implicit:n.data,dialogRef:a};n.templateContext&&(h=(0,y.A)((0,y.A)({},h),"function"==typeof n.templateContext?n.templateContext():n.templateContext)),i.attachTemplatePortal(new f.TemplatePortal(e,null,h,c))}else{var d=this._createInjector(n,a,i,this._injector),p=i.attachComponentPortal(new f.ComponentPortal(e,n.viewContainerRef,d));a.componentRef=p,a.componentInstance=p.instance}}},{key:"_createInjector",value:function(e,a,i,n){var c,h=e.injector||(null===(c=e.viewContainerRef)||void 0===c?void 0:c.injector),d=[{provide:F,useValue:e.data},{provide:E,useValue:a}];return e.providers&&d.push.apply(d,(0,C.A)("function"==typeof e.providers?e.providers(a,e,i):e.providers)),e.direction&&(!h||!h.get(B.dS,null,{optional:!0}))&&d.push({provide:B.dS,useValue:Z(e.direction)}),l.zZn.create({parent:h||n,providers:d})}},{key:"_removeOpenDialog",value:function(e,a){var i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(n,c){n?c.setAttribute("aria-hidden",n):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),a&&this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(e){if(e.parentElement)for(var a=e.parentElement.children,i=a.length-1;i>-1;i--){var n=a[i];n!==e&&"SCRIPT"!==n.nodeName&&"STYLE"!==n.nodeName&&!n.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}},{key:"_getAfterAllClosed",value:function(){var e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}])}();return u=r,(0,t.A)(r,"\u0275fac",function(o){return new(o||u)}),(0,t.A)(r,"\u0275prov",l.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})),r}();function T(u,r){for(var s=u.length;s--;)r(u[s])}var $=function(){var u,r=(0,g.A)(function s(){(0,D.A)(this,s)});return u=r,(0,t.A)(r,"\u0275fac",function(o){return new(o||u)}),(0,t.A)(r,"\u0275mod",v.$C({type:u})),(0,t.A)(r,"\u0275inj",l.G2t({providers:[W],imports:[A.z_,f.PortalModule,k.Pd,f.PortalModule]})),r}()}}]);
//# sourceMappingURL=3482.ea698f34fe70bd83.js.map