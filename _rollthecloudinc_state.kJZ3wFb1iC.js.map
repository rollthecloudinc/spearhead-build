{
  "version": 3,
  "sources": ["../../@rollthecloudinc/state/fesm2022/rollthecloudinc-state.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { forwardRef, Input, Component, ViewChild, Injectable, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as i1 from '@angular/forms';\nimport { Validators, NG_VALUE_ACCESSOR, NG_VALIDATORS, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BehaviorSubject, of } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, filter, map, tap } from 'rxjs/operators';\nimport { createSelector, select } from '@ngrx/store';\nimport * as i1$1 from '@rollthecloudinc/attributes';\nimport { AttributeValue } from '@rollthecloudinc/attributes';\nimport * as i1$2 from '@ngrx/data';\nimport * as i4 from '@rollthecloudinc/bridge';\nimport { BridgeBuilderPlugin, PublicApiBridgeService } from '@rollthecloudinc/bridge';\nimport * as i2 from '@rollthecloudinc/context';\nimport { ContextPlugin } from '@rollthecloudinc/context';\nimport { NoopDataService } from '@rollthecloudinc/utils';\nlet ContextStateFormComponent = /*#__PURE__*/(() => {\n  class ContextStateFormComponent {\n    set context(context) {\n      this.context$.next(context);\n    }\n    constructor(fb, controlContainer) {\n      this.fb = fb;\n      this.controlContainer = controlContainer;\n      this.context$ = new BehaviorSubject(undefined);\n      this.formGroup = this.fb.group({\n        // selectionPath: this.fb.control([]),\n        value: this.fb.control('', [Validators.required])\n        /*type: this.fb.control('', [ ]),\n        defaultValue: this.fb.control(''),*/\n      });\n      this.stateCtrl = this.fb.control('');\n      /*selectionPathCtrl = this.fb.control('');\n             selectionPathCtrlSub = this.selectionPathCtrl.valueChanges.pipe(\n        map(v => v && v !== '' ? this.flattenSelector(v) : [])\n      ).subscribe(v => {\n        this.formGroup.get('selectionPath').setValue(v);\n      });*/\n      this.stateCtrlSub = this.stateCtrl.valueChanges.pipe(debounceTime(250), distinctUntilChanged(), filter(v => {\n        try {\n          JSON.parse(v);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }), map(v => JSON.parse(v))).subscribe(v => {\n        console.log('write state');\n        console.log(v);\n        this.formGroup.get('value').setValue(v);\n      });\n      this.onTouched = () => {};\n    }\n    ngOnInit() {\n      this.context$.subscribe(c => {\n        if (c) {\n          this.stateCtrl.setValue(JSON.stringify(c.data.value));\n        } else {\n          this.stateCtrl.setValue('');\n        }\n      });\n    }\n    writeValue(val) {\n      if (val) {\n        this.formGroup.setValue(val, {\n          emitEvent: false\n        });\n      }\n    }\n    registerOnChange(fn) {\n      this.formGroup.valueChanges.subscribe(fn);\n    }\n    registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n      if (isDisabled) {\n        this.formGroup.disable();\n      } else {\n        this.formGroup.enable();\n      }\n    }\n    validate(c) {\n      return this.formGroup.valid ? null : {\n        invalidForm: {\n          valid: false,\n          message: \"source is invalid\"\n        }\n      };\n    }\n    static {\n      this.\u0275fac = function ContextStateFormComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ContextStateFormComponent)(i0.\u0275\u0275directiveInject(i1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i1.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: ContextStateFormComponent,\n        selectors: [[\"classifieds-ui-context-state-form\"]],\n        inputs: {\n          context: \"context\"\n        },\n        standalone: false,\n        features: [i0.\u0275\u0275ProvidersFeature([{\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => ContextStateFormComponent),\n          multi: true\n        }, {\n          provide: NG_VALIDATORS,\n          useExisting: forwardRef(() => ContextStateFormComponent),\n          multi: true\n        }])],\n        decls: 2,\n        vars: 2,\n        consts: [[3, \"formGroup\"], [\"cols\", \"40\", \"rows\", \"20\", \"required\", \"\", 3, \"formControl\"]],\n        template: function ContextStateFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"div\", 0);\n            i0.\u0275\u0275element(1, \"textarea\", 1);\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.formGroup);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"formControl\", ctx.stateCtrl);\n          }\n        },\n        dependencies: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormControlDirective, i1.FormGroupDirective],\n        encapsulation: 2\n      });\n    }\n  }\n  return ContextStateFormComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ContextStateEditorComponent = /*#__PURE__*/(() => {\n  class ContextStateEditorComponent {\n    constructor(fb, controlContainer) {\n      this.fb = fb;\n      this.controlContainer = controlContainer;\n    }\n    ngOnInit() {\n      this.controlContainer.control.addControl('adaptor', this.fb.control('data', Validators.required));\n      this.controlContainer.control.addControl('data', this.fb.control(''));\n    }\n    static {\n      this.\u0275fac = function ContextStateEditorComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ContextStateEditorComponent)(i0.\u0275\u0275directiveInject(i1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i1.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: ContextStateEditorComponent,\n        selectors: [[\"classifieds-ui-context-state-editor\"]],\n        viewQuery: function ContextStateEditorComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275viewQuery(ContextStateFormComponent, 7);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.contextStateFormComp = _t.first);\n          }\n        },\n        inputs: {\n          context: \"context\"\n        },\n        standalone: false,\n        decls: 2,\n        vars: 2,\n        consts: [[3, \"formGroup\"], [\"formControlName\", \"data\", 3, \"context\"]],\n        template: function ContextStateEditorComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementContainerStart(0, 0);\n            i0.\u0275\u0275element(1, \"classifieds-ui-context-state-form\", 1);\n            i0.\u0275\u0275elementContainerEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.controlContainer.control);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"context\", ctx.context);\n          }\n        },\n        dependencies: [i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, ContextStateFormComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return ContextStateEditorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StateContextResolver = /*#__PURE__*/(() => {\n  class StateContextResolver {\n    get entityCollectionService() {\n      return this.es.getEntityCollectionService('GlobalState');\n    }\n    constructor(attributeSerializer, es) {\n      this.attributeSerializer = attributeSerializer;\n      this.es = es;\n    }\n    resolve(ctx, data, meta) {\n      // return of({});\n      const selectEntities = entities => entities.entities;\n      const selectById = id => createSelector(selectEntities, entities => entities[id] ? entities[id] : undefined);\n      console.log('hookup globalstate');\n      console.log(data);\n      const name = meta && meta.has('name') && meta.get('name') && meta.get('name') !== null && meta.get('name') !== '' ? meta.get('name') : undefined;\n      return name ? this.entityCollectionService.collection$.pipe(select(selectById(name)), map(gs => gs ? this.attributeSerializer.deserialize(gs.value) : data.value ? data.value : {}), map(value => value.root ? value.root : value), tap(v => {\n        console.log('resolve globalstate');\n        console.log(v);\n      })) : of(data.value ? data.value : {}).pipe(tap(v => {\n        console.log('resolve default globalstate');\n        console.log(v);\n      }));\n      //return of(data.state);\n      /*return this.entityServices.getEntityCollectionService('GlobalState').entities$.pipe(\n        this.entityServices.getEntityCollectionService('GlobalState').selectors;\n      );*/\n    }\n    static {\n      this.\u0275fac = function StateContextResolver_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || StateContextResolver)(i0.\u0275\u0275inject(i1$1.AttributeSerializerService), i0.\u0275\u0275inject(i1$2.EntityServices));\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: StateContextResolver,\n        factory: StateContextResolver.\u0275fac\n      });\n    }\n  }\n  return StateContextResolver;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass GlobalState {\n  constructor(data) {\n    if (data) {\n      this.id = data.id;\n      this.value = new AttributeValue(data.value);\n    }\n  }\n}\nconst stateContextFactory = resolver => {\n  const baseObject = new AttributeValue();\n  return new ContextPlugin({\n    id: 'state',\n    name: 'state',\n    title: 'State',\n    baseObject,\n    resolver,\n    editorComponent: ContextStateEditorComponent\n  });\n};\nconst stateBridgeFactory = (es, attributeSerializer) => {\n  return new BridgeBuilderPlugin({\n    id: 'state',\n    title: 'State',\n    build: () => {\n      PublicApiBridgeService.prototype['writeState'] = gs => {\n        return new Promise(res => {\n          const svc = es.getEntityCollectionService('GlobalState');\n          /*svc.getByKey(f.id).pipe(\n            // catchError(() => of(new GlobalState({ id: f.id, value: attributeSerializer.serialize(f.state, 'root') }))),\n            switchMap(state => svc.upsert(new GlobalState({ id: f.id, value: attributeSerializer.serialize(f.state, 'root') })))\n          ).subscribe(state => {\n            res(state);\n          });*/\n          svc.upsert(new GlobalState({\n            id: gs.id,\n            value: attributeSerializer.serialize(gs.value, 'root')\n          })).pipe(tap(state => res(state))).subscribe();\n        });\n      };\n    }\n  });\n};\nconst entityMetadata = {\n  GlobalState: {\n    entityName: 'GlobalState'\n  }\n};\nlet StateModule = /*#__PURE__*/(() => {\n  class StateModule {\n    constructor(eds, entityDataService, cpm, es, attributeSerializer, bpm, stateContextResolver) {\n      eds.registerMetadataMap(entityMetadata);\n      entityDataService.registerService('GlobalState', new NoopDataService('GlobalState'));\n      cpm.register(stateContextFactory(stateContextResolver));\n      bpm.register(stateBridgeFactory(es, attributeSerializer));\n    }\n    static {\n      this.\u0275fac = function StateModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || StateModule)(i0.\u0275\u0275inject(i1$2.EntityDefinitionService), i0.\u0275\u0275inject(i1$2.EntityDataService), i0.\u0275\u0275inject(i2.ContextPluginManager), i0.\u0275\u0275inject(i1$2.EntityServices), i0.\u0275\u0275inject(i1$1.AttributeSerializerService), i0.\u0275\u0275inject(i4.BridgeBuilderPluginManager), i0.\u0275\u0275inject(StateContextResolver));\n      };\n    }\n    static {\n      this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n        type: StateModule\n      });\n    }\n    static {\n      this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n        providers: [StateContextResolver],\n        imports: [CommonModule, FormsModule, ReactiveFormsModule]\n      });\n    }\n  }\n  return StateModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of state\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { StateModule };\n"],
  "mappings": "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",
  "names": ["i0", "forwardRef", "CommonModule", "i1", "Validators", "NG_VALUE_ACCESSOR", "NG_VALIDATORS", "FormsModule", "ReactiveFormsModule", "BehaviorSubject", "of", "debounceTime", "distinctUntilChanged", "filter", "map", "tap", "createSelector", "select", "i1$1", "AttributeValue", "i1$2", "i4", "BridgeBuilderPlugin", "PublicApiBridgeService", "i2", "ContextPlugin", "NoopDataService", "ContextStateFormComponent", "context", "fb", "controlContainer", "v", "c", "val", "fn", "isDisabled", "__ngFactoryType__", "rf", "ctx", "ContextStateEditorComponent", "_t", "StateContextResolver", "attributeSerializer", "es", "data", "meta", "selectEntities", "entities", "selectById", "id", "name", "gs", "value", "GlobalState", "stateContextFactory", "resolver", "baseObject", "stateBridgeFactory", "res", "state", "entityMetadata", "StateModule", "eds", "entityDataService", "cpm", "bpm", "stateContextResolver"]
}
