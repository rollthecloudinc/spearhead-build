{
  "version": 3,
  "sources": ["../../@rollthecloudinc/token/fesm2022/rollthecloudinc-token.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { NgModule, Injectable } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AttributeTypes } from '@rollthecloudinc/attributes';\nlet TokenModule = /*#__PURE__*/(() => {\n  class TokenModule {\n    static {\n      this.\u0275fac = function TokenModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TokenModule)();\n      };\n    }\n    static {\n      this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n        type: TokenModule\n      });\n    }\n    static {\n      this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n        imports: [CommonModule]\n      });\n    }\n  }\n  return TokenModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TokenizerService = /*#__PURE__*/(() => {\n  class TokenizerService {\n    constructor() {}\n    generateTokens(settings) {\n      const tokens = new Map();\n      this.attributeTokens(settings, tokens, '', 0);\n      return tokens;\n    }\n    generateGenericTokens(obj, prefix = '') {\n      const tokens = new Map();\n      this.genericTokens(obj, tokens, prefix, 0);\n      return tokens;\n    }\n    attributeTokens(settings, tokens, prefix, level) {\n      settings.forEach((s, i) => {\n        if (s.name !== 'widget') {\n          for (const prop in s) {\n            if (s.type === AttributeTypes.Complex || prop === 'attributes' && s.attributes && s.attributes.length > 0) {\n              if (s.type === AttributeTypes.Complex) {\n                this.attributeTokens(s.attributes, tokens, `${prefix}`, level + 1);\n              } else {\n                this.attributeTokens(s.attributes, tokens, `${prefix}.${s.name}`, level + 1);\n              }\n            } else if (prop !== 'attributes') {\n              if (prop === s.name) {\n                tokens.set(`${prefix}.${prop}`, s[prop]);\n              } else {\n                tokens.set(`${prefix}.${s.name}.${prop}`, s[prop]);\n              }\n            }\n          }\n        }\n      });\n    }\n    genericTokens(obj, tokens, prefix, level) {\n      for (const prop in obj) {\n        const type = typeof obj[prop];\n        if (type !== 'object') {\n          tokens.set(`${prefix}.${prop}`, obj[prop]);\n        } else if (Array.isArray(obj[prop]) && prop === 'attributes') {\n          this.attributeTokens(obj[prop], tokens, `${prefix}.${prop}`, level + 1);\n        } else if (Array.isArray(obj[prop])) {\n          var len = obj[prop].length;\n          for (let i = 0; i < len; i++) {\n            this.genericTokens(obj[prop][i], tokens, `${prefix}.${prop}.${i}`, level + 1);\n          }\n        } else {\n          this.genericTokens(obj[prop], tokens, `${prefix}.${prop}`, level + 1);\n        }\n      }\n    }\n    replaceTokens(v, tokens) {\n      if (tokens) {\n        tokens.forEach((value, key) => {\n          v = v.replace(`[${key}]`, `${value}`);\n        });\n      }\n      return v;\n    }\n    matchTokens(v, tokens) {\n      const matched = [];\n      const len = tokens.length;\n      for (let i = 0; i < len; i++) {\n        if (v.indexOf(`[${tokens[i]}]`) > -1) {\n          matched.push(tokens[i]);\n        }\n      }\n      return matched;\n    }\n    discoverTokens(v, full = false) {\n      const m = v.match(/(\\[(?:\\[??[^\\[]*?\\]))/g);\n      if (m === null) {\n        return [];\n      }\n      const matches = m.reduce((p, c) => {\n        if (c.indexOf(' ') !== -1 || c.indexOf('.') === -1) {\n          return p;\n        }\n        // const [ firstPiece ] = c.indexOf('.') === 1 ? c.substr(2, c.length - 1).split('.') : c.substr(1, c.length - 2).split('.');\n        const [firstPiece] = c.indexOf('.') === 1 ? ['.'] : c.substr(1, c.length - 2).split('.');\n        if (p.findIndex(p => p === firstPiece) !== -1) {\n          return p;\n        }\n        return [...p, full ? c.substr(1, c.length - 2) : firstPiece];\n      }, []);\n      return matches;\n    }\n    static {\n      this.\u0275fac = function TokenizerService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TokenizerService)();\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: TokenizerService,\n        factory: TokenizerService.\u0275fac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return TokenizerService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TokenModule, TokenizerService };\n"],
  "mappings": "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",
  "names": ["i0", "CommonModule", "AttributeTypes", "TokenModule", "__ngFactoryType__", "TokenizerService", "settings", "tokens", "obj", "prefix", "level", "s", "i", "prop", "len", "v", "value", "key", "matched", "full", "m", "p", "c", "firstPiece"]
}
