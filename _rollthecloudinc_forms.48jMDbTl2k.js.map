{
  "version": 3,
  "sources": ["../../@rollthecloudinc/forms/fesm2022/rollthecloudinc-forms.mjs"],
  "sourcesContent": ["import * as i7 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, Input, Directive, Component, Inject, NgModule } from '@angular/core';\nimport * as i6 from '@angular/forms';\nimport { UntypedFormControl, FormsModule as FormsModule$1, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '@rollthecloudinc/material';\nimport * as i1$2 from '@rollthecloudinc/content';\nimport { ContentBinding, ContentPluginEditorOptions, ContentPlugin } from '@rollthecloudinc/content';\nimport * as i10$1 from '@rollthecloudinc/datasource';\nimport { DatasourceOptions, SelectOption, Dataset, mockDatasourceOptions, DatasourceModule } from '@rollthecloudinc/datasource';\nimport * as i5 from '@rollthecloudinc/ordain';\nimport { FormValidation, OrdainModule } from '@rollthecloudinc/ordain';\nimport { of, Subject, tap, ReplaySubject, take, BehaviorSubject, combineLatest, forkJoin, iif, mergeMap, map as map$1, filter, switchMap as switchMap$1 } from 'rxjs';\nimport { switchMap, map, tap as tap$1, defaultIfEmpty, take as take$1, debounceTime, distinctUntilChanged, withLatestFrom } from 'rxjs/operators';\nimport * as uuid from 'uuid';\nimport * as i1 from '@rollthecloudinc/attributes';\nimport * as jpp from 'jsonpath-plus';\nimport * as i3 from '@rollthecloudinc/token';\nimport * as i2 from '@rollthecloudinc/panels';\nimport { PanelPageForm, Pane, StylePlugin } from '@rollthecloudinc/panels';\nimport * as rd from 'recursive-diff';\nimport * as i8 from '@angular/material/input';\nimport * as i8$1 from '@angular/material/autocomplete';\nimport * as i10 from '@angular/material/select';\nimport * as i4 from '@rollthecloudinc/render';\nimport { RenderModule } from '@rollthecloudinc/render';\nimport * as i1$1 from '@angular/material/dialog';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i7$1 from '@angular/material/button';\nimport * as i8$2 from '@angular/material/radio';\nimport * as i7$2 from '@angular/material/slider';\nimport * as i7$3 from '@angular/material/slide-toggle';\nimport * as i7$4 from '@angular/material/checkbox';\nimport * as i7$5 from '@angular/material/datepicker';\nimport { Param, Mapping } from '@rollthecloudinc/dparam';\nimport * as i3$1 from '@rollthecloudinc/media';\nimport { MediaFile } from '@rollthecloudinc/media';\nimport * as i9 from 'ngx-dropzone';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nfunction FormInputComponent_mat_error_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-error\");\n    i0.\u0275\u0275element(1, \"druid-ordain-default-validation-error\", 2);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"validators\", ctx_r0.formSettings$.value == null ? null : ctx_r0.formSettings$.value.validation == null ? null : ctx_r0.formSettings$.value.validation.validators)(\"errors\", ctx_r0.formControl.errors)(\"resolvedContext\", ctx_r0.resolvedContext$.value);\n  }\n}\nfunction FormSelectComponent_mat_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 2);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const opt_r1 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", opt_r1.value);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(opt_r1.label);\n  }\n}\nfunction FormSectionComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.\u0275\u0275getCurrentView();\n    i0.\u0275\u0275elementStart(0, \"div\");\n    i0.\u0275\u0275element(1, \"classifieds-ui-render-pane\", 4);\n    i0.\u0275\u0275elementStart(2, \"button\", 3);\n    i0.\u0275\u0275listener(\"click\", function FormSectionComponent_div_2_Template_button_click_2_listener() {\n      const i_r2 = i0.\u0275\u0275restoreView(_r1).index;\n      const ctx_r2 = i0.\u0275\u0275nextContext();\n      return i0.\u0275\u0275resetView(ctx_r2.remove$.next(i_r2));\n    });\n    i0.\u0275\u0275text(3, \"Remove\");\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const pane_r4 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r2 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"formControlName\", i_r2)(\"pluginName\", pane_r4.contentPlugin)(\"settings\", pane_r4.settings)(\"name\", pane_r4.name)(\"label\", pane_r4.label)(\"contexts\", pane_r4.contexts)(\"panes\", ctx_r2.panes)(\"resolvedContext\", pane_r4.resolvedContext)(\"indexPosition\", i_r2)(\"ancestory\", ctx_r2.ancestory);\n  }\n}\nfunction FormElementEditorComponent_mat_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 9);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const bo_r1 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", bo_r1);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(bo_r1);\n  }\n}\nfunction FormRadiogroupComponent_mat_radio_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-radio-button\", 2);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const opt_r1 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", opt_r1.value);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(opt_r1.label);\n  }\n}\nfunction FormAutocompleteComponent_mat_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 4);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const opt_r2 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", opt_r2);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(opt_r2.label);\n  }\n}\nfunction FormMediaComponent_ng_container_3_ngx_dropzone_image_preview_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.\u0275\u0275getCurrentView();\n    i0.\u0275\u0275elementStart(0, \"ngx-dropzone-image-preview\", 4);\n    i0.\u0275\u0275listener(\"removed\", function FormMediaComponent_ng_container_3_ngx_dropzone_image_preview_1_Template_ngx_dropzone_image_preview_removed_0_listener() {\n      i0.\u0275\u0275restoreView(_r1);\n      const f_r2 = i0.\u0275\u0275nextContext().$implicit;\n      const ctx_r2 = i0.\u0275\u0275nextContext();\n      return i0.\u0275\u0275resetView(ctx_r2.onRemove(f_r2));\n    });\n    i0.\u0275\u0275elementStart(1, \"ngx-dropzone-label\");\n    i0.\u0275\u0275text(2);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const f_r2 = i0.\u0275\u0275nextContext().$implicit;\n    i0.\u0275\u0275property(\"file\", f_r2)(\"removable\", true);\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275textInterpolate2(\"\", f_r2.name, \" (\", f_r2.type, \")\");\n  }\n}\nfunction FormMediaComponent_ng_container_3_ngx_dropzone_video_preview_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.\u0275\u0275getCurrentView();\n    i0.\u0275\u0275elementStart(0, \"ngx-dropzone-video-preview\", 4);\n    i0.\u0275\u0275listener(\"removed\", function FormMediaComponent_ng_container_3_ngx_dropzone_video_preview_2_Template_ngx_dropzone_video_preview_removed_0_listener() {\n      i0.\u0275\u0275restoreView(_r4);\n      const f_r2 = i0.\u0275\u0275nextContext().$implicit;\n      const ctx_r2 = i0.\u0275\u0275nextContext();\n      return i0.\u0275\u0275resetView(ctx_r2.onRemove(f_r2));\n    });\n    i0.\u0275\u0275elementStart(1, \"ngx-dropzone-label\");\n    i0.\u0275\u0275text(2);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const f_r2 = i0.\u0275\u0275nextContext().$implicit;\n    i0.\u0275\u0275property(\"file\", f_r2)(\"removable\", true);\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275textInterpolate2(\"\", f_r2.name, \" (\", f_r2.type, \")\");\n  }\n}\nfunction FormMediaComponent_ng_container_3_ngx_dropzone_preview_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.\u0275\u0275getCurrentView();\n    i0.\u0275\u0275elementStart(0, \"ngx-dropzone-preview\", 5);\n    i0.\u0275\u0275listener(\"removed\", function FormMediaComponent_ng_container_3_ngx_dropzone_preview_3_Template_ngx_dropzone_preview_removed_0_listener() {\n      i0.\u0275\u0275restoreView(_r5);\n      const f_r2 = i0.\u0275\u0275nextContext().$implicit;\n      const ctx_r2 = i0.\u0275\u0275nextContext();\n      return i0.\u0275\u0275resetView(ctx_r2.onRemove(f_r2));\n    });\n    i0.\u0275\u0275elementStart(1, \"ngx-dropzone-label\");\n    i0.\u0275\u0275text(2);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const f_r2 = i0.\u0275\u0275nextContext().$implicit;\n    i0.\u0275\u0275property(\"removable\", true);\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275textInterpolate2(\"\", f_r2.name, \" (\", f_r2.type, \")\");\n  }\n}\nfunction FormMediaComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementContainerStart(0);\n    i0.\u0275\u0275template(1, FormMediaComponent_ng_container_3_ngx_dropzone_image_preview_1_Template, 3, 4, \"ngx-dropzone-image-preview\", 2)(2, FormMediaComponent_ng_container_3_ngx_dropzone_video_preview_2_Template, 3, 4, \"ngx-dropzone-video-preview\", 2)(3, FormMediaComponent_ng_container_3_ngx_dropzone_preview_3_Template, 3, 3, \"ngx-dropzone-preview\", 3);\n    i0.\u0275\u0275elementContainerEnd();\n  }\n  if (rf & 2) {\n    const f_r2 = ctx.$implicit;\n    const ctx_r2 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngIf\", ctx_r2.isType(f_r2, \"image\"));\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngIf\", ctx_r2.isType(f_r2, \"video\"));\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngIf\", !ctx_r2.isType(f_r2, \"image\") && !ctx_r2.isType(f_r2, \"video\"));\n  }\n}\nclass FormSettings {\n  constructor(data) {\n    if (data) {\n      this.value = data.value ? data.value : '';\n      if (data.datasourceBinding && typeof data.datasourceBinding === 'object') {\n        this.datasourceBinding = new ContentBinding(data.datasourceBinding);\n      }\n      if (data.datasourceOptions && typeof data.datasourceOptions === 'object') {\n        this.datasourceOptions = new DatasourceOptions(data.datasourceOptions);\n      }\n      if (data.validation) {\n        this.validation = new FormValidation(data.validation);\n      }\n    }\n  }\n}\nclass FormSectionForm {\n  constructor(data) {\n    if (data) {\n      this.valuesMapping = data.valuesMapping;\n    }\n  }\n}\nlet OptionsResolverService = /*#__PURE__*/(() => {\n  class OptionsResolverService {\n    constructor(tokenizerService, datasourceContentHandler, panelResolver, attributeSerializer) {\n      this.tokenizerService = tokenizerService;\n      this.datasourceContentHandler = datasourceContentHandler;\n      this.panelResolver = panelResolver;\n      this.attributeSerializer = attributeSerializer;\n    }\n    resolveElementOptions(instance, metadata) {\n      return of(instance).pipe(switchMap(i => {\n        if (i.datasourceBinding && i.datasourceBinding.id && i.datasourceBinding.id !== '' /*&& i.type !== 'autocomplete'*/) {\n          const dataPane = metadata.has('panes') ? metadata.get('panes').find(p => p.name === i.datasourceBinding.id) : undefined;\n          return this.panelResolver.dataPanes(metadata.get('panes')).pipe(switchMap(dataPanes => dataPane ? this.datasourceContentHandler.fetchDynamicData(dataPane.settings, new Map([...metadata, ['dataPanes', dataPanes]])) : of([])), map(d => [i, d.results]));\n        } else {\n          return of([i, []]);\n        }\n      }), map(([i, d]) => [i, i.datasourceOptions && i.datasourceOptions.query !== '' ? jpp.JSONPath({\n        path: i.datasourceOptions.query,\n        json: d\n      }) : d]), switchMap(([i, d]) => this.mapDataOptions(i, d)));\n    }\n    mapDataOptions(instance, data) {\n      return of([instance, data]).pipe(map(([i, d]) => [i, d, d ? d.map(r => this.tokenizerService.generateGenericTokens(r)) : []]), map(([i, d, tokens]) => tokens.map(t => this.mapDataItem(i, t))));\n    }\n    mapDataItem(instance, tokens) {\n      return new SelectOption({\n        value: this.tokenizerService.replaceTokens(`${instance.datasourceOptions.valueMapping}`, tokens),\n        label: this.tokenizerService.replaceTokens(`${instance.datasourceOptions.labelMapping}`, tokens),\n        dataItem: undefined\n        // display: this.tokenizerService.replaceTokens(`${instance.datasourceOptions.labelMapping}`, tokens)\n      });\n    }\n    hasDataOptions(instance) {\n      return instance.datasourceBinding && instance.datasourceBinding.id && instance.datasourceBinding.id !== '';\n    }\n    static {\n      this.\u0275fac = function OptionsResolverService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || OptionsResolverService)(i0.\u0275\u0275inject(i3.TokenizerService), i0.\u0275\u0275inject(i2.DatasourceContentHandler), i0.\u0275\u0275inject(i2.PanelResolverService), i0.\u0275\u0275inject(i1.AttributeSerializerService));\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: OptionsResolverService,\n        factory: OptionsResolverService.\u0275fac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return OptionsResolverService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormsContextHelperService = /*#__PURE__*/(() => {\n  class FormsContextHelperService {\n    constructor(tokenizerService) {\n      this.tokenizerService = tokenizerService;\n      this.cachedResolvedContexts = [];\n      this.scheduleResolution$ = new Subject();\n      this.scheduleResolutionSub = this.scheduleResolution$.pipe(tap(({\n        resolvedContext,\n        index\n      }) => {\n        let tokens = new Map();\n        if (resolvedContext) {\n          for (const name in resolvedContext) {\n            // PanelPageForm results in infinite recursion.\n            // This could ne analyzed but reallu the panel page form isn't needed anyway here.\n            if (!(resolvedContext[name] instanceof PanelPageForm)) {\n              tokens = new Map([...tokens, ...this.tokenizerService.generateGenericTokens(resolvedContext[name], name === '_root' ? '' : name)]);\n            }\n          }\n        }\n        this.cachedResolvedContexts[index].resolution$.next(tokens);\n      })).subscribe();\n    }\n    resolveContexts({\n      resolvedContext\n    }) {\n      let cachedIndex = this.cachedResolvedContexts.findIndex(({\n        rContext\n      }) => {\n        const diff = rd.getDiff(rContext, resolvedContext);\n        return diff.length === 0;\n      });\n      if (cachedIndex === -1) {\n        console.log('resolved context no cache', resolvedContext);\n        cachedIndex = this.cachedResolvedContexts.length;\n        this.cachedResolvedContexts.push({\n          rContext: resolvedContext,\n          resolution$: new ReplaySubject()\n        });\n        this.scheduleResolution$.next({\n          resolvedContext,\n          index: cachedIndex\n        });\n      } else {\n        console.log('resolved context cache hit', resolvedContext);\n      }\n      return this.cachedResolvedContexts[cachedIndex].resolution$.pipe(take(1));\n    }\n    static {\n      this.\u0275fac = function FormsContextHelperService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormsContextHelperService)(i0.\u0275\u0275inject(i3.TokenizerService));\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: FormsContextHelperService,\n        factory: FormsContextHelperService.\u0275fac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return FormsContextHelperService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormElementBase = /*#__PURE__*/(() => {\n  class FormElementBase {\n    set settings(settings) {\n      this.settings$.next(settings);\n    }\n    set panes(panes) {\n      this.panes$.next(panes);\n    }\n    set originPanes(originPanes) {\n      this.originPanes$.next(originPanes);\n    }\n    set contexts(contexts) {\n      this.contexts$.next(contexts);\n    }\n    set resolvedContext(resolvedContext) {\n      this.resolvedContext$.next(resolvedContext);\n    }\n    constructor(attributeSerializer, optionsResolver, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      this.attributeSerializer = attributeSerializer;\n      this.optionsResolver = optionsResolver;\n      this.tokenizerService = tokenizerService;\n      this.formsContextHelper = formsContextHelper;\n      this.vpm = vpm;\n      this.controlContainer = controlContainer;\n      this.formControl = new UntypedFormControl('');\n      this.formControlValueChangesSub = this.formControl.valueChanges.pipe(tap$1(value => console.log('serialized form value', this.attributeSerializer.serialize(value, 'value'))), tap$1(value => this.controlContainer.control.get('settings').setValue([this.attributeSerializer.serialize(value, 'value')]))).subscribe();\n      /*private readonly formControlStatusChangesSub = this.formControl.statusChanges.pipe(\n        //distinctUntilChanged(),\n        //tap(() => this.controlContainer.control.get('settings').setErrors(this.formControl.errors)),\n      ).subscribe();*/\n      this.formSettings$ = new BehaviorSubject(undefined);\n      this.settings$ = new BehaviorSubject([]);\n      this.options$ = new BehaviorSubject([]);\n      this.init$ = new Subject();\n      this.afterViewInit$ = new Subject();\n      this.panes$ = new BehaviorSubject([]);\n      this.originPanes$ = new BehaviorSubject([]);\n      this.contexts$ = new BehaviorSubject([]);\n      this.resolvedContext$ = new BehaviorSubject(undefined);\n      this.value$ = new Subject();\n      this.settingsSub = this.settings$.pipe(map(settings => settings ? this.settingsToObject(this.attributeSerializer.deserializeAsObject(settings)) : undefined), tap$1(s => this.formSettings$.next(s))).subscribe();\n      this.loadOptionsSub = combineLatest([this.formSettings$, this.panes$, this.originPanes$, this.contexts$, this.init$]).pipe(map(([settings, panes, originPanes, contexts]) => ({\n        settings,\n        metadata: new Map([['panes', [...(panes && Array.isArray(panes) ? panes : []), ...(originPanes && Array.isArray(originPanes) ? originPanes : [])]], ['contexts', contexts]])\n      })), switchMap(({\n        settings,\n        metadata\n      }) => this.optionsResolver.resolveElementOptions(settings, metadata)), tap$1(options => this.options$.next(options))).subscribe();\n      this.renderContentSub = combineLatest([this.formSettings$, this.resolvedContext$, this.afterViewInit$]).pipe(map(([settings, resolvedContext]) => ({\n        settings,\n        resolvedContext\n      })), switchMap(({\n        settings,\n        resolvedContext\n      }) => this.formsContextHelper.resolveContexts({\n        resolvedContext\n      }).pipe(map(tokens => ({\n        settings,\n        tokens\n      })))), switchMap(({\n        settings,\n        tokens\n      }) => forkJoin(settings.validation && settings.validation.validators ? settings.validation.validators.map(v => this.vpm.getPlugin(v.validator).pipe(switchMap(p => p.builder({\n        v,\n        serialized: false\n      }).pipe(map(vf => ({\n        v,\n        vf\n      })))))) : []).pipe(map(validators => ({\n        settings,\n        tokens,\n        validators\n      })), defaultIfEmpty({\n        settings,\n        tokens,\n        validators: []\n      }))), switchMap(({\n        settings,\n        tokens,\n        validators\n      }) => forkJoin(settings.validation && settings.validation.validators ? settings.validation.validators.map(v => this.vpm.getPlugin(v.validator).pipe(switchMap(p => p.builder({\n        v,\n        serialized: true\n      }).pipe(map(vf => ({\n        v,\n        vf\n      })))))) : []).pipe(map(validatorsSerialized => ({\n        settings,\n        tokens,\n        validators,\n        validatorsSerialized\n      })), defaultIfEmpty({\n        settings,\n        tokens,\n        validators,\n        validatorsSerialized: []\n      }))), tap$1(({\n        settings,\n        tokens,\n        validators,\n        validatorsSerialized\n      }) => {\n        this.formControl.setAsyncValidators(validators.map(({\n          vf\n        }) => vf));\n        this.controlContainer.control.get('settings').setAsyncValidators(validatorsSerialized.map(({\n          vf\n        }) => vf));\n        this.formControl.updateValueAndValidity();\n        this.controlContainer.control.updateValueAndValidity();\n        if (tokens !== undefined) {\n          this.tokens = tokens;\n        }\n        if (settings.value && settings.value !== null && settings.value !== '') {\n          if (settings.value.indexOf('.$i.') !== -1 || settings.value.indexOf('.$j.') !== -1 || settings.value.indexOf('.$k.') !== -1) {\n            console.log(settings.value, this.ancestory);\n          }\n          const pieces = settings.value.split('$i');\n          const replacements = pieces.map((_, i) => this.ancestory[i * 1 + (3 + (i === 0 ? 0 : 3))]);\n          // const path = s.valuesMapping.replace('[$i]', `[${this.ancestory[this.ancestory.length - 4]}]`);\n          const path = pieces.reduce((prev, c, i) => [...prev, i === 0 ? '' : i - 1 < replacements.length ? `${replacements[i - 1]}` : '', c], []).join('');\n          console.log('path', path);\n          // const value = this.replaceTokens(settings.value.replace('.$i.', `.${this.ancestory[this.ancestory.length - 3]}.`));\n          const value = this.replaceTokens(path);\n          this.formControl.setValue(value);\n          const extraTokens = this.tokenizerService.discoverTokens(value, true);\n          if (extraTokens.length !== 0) {\n            if (extraTokens[0].trim().lastIndexOf('.id') === extraTokens[0].trim().length - 3) {\n              const id = uuid.v4();\n              this.formControl.setValue(id);\n              this.value$.next(id);\n            } /*else if (extraTokens[0].trim().lastIndexOf('.user') === extraTokens[0].trim().length - 5) {\n              this.formControl.setValue('{{ _user.username }}');\n              }*/else {\n              const properties = Array.from(tokens).filter(([k]) => k.indexOf(path.substr(1, path.length - 2)) === 0);\n              if (properties.length !== 0) {\n                // Only suppports single depth at the moment.\n                // This is a simple solution to supporting media files.\n                const object = properties.reduce((p, [k, v]) => ({\n                  ...p,\n                  [k.substr(k.lastIndexOf('.') + 1)]: v\n                }), {});\n                this.formControl.setValue(object);\n                this.value$.next(object);\n              } else {\n                const v = this.tokenizerService.replaceTokens(settings.value, new Map(Array.from(extraTokens).map(k => [k, ''])));\n                this.formControl.setValue(v);\n                this.value$.next(v);\n              }\n            }\n          } else {\n            this.value$.next(value);\n          }\n        } else {\n          this.formControl.setValue('');\n        }\n      }), take$1(1)).subscribe();\n    }\n    ngOnInit() {\n      this.init$.next(undefined);\n    }\n    ngAfterViewInit() {\n      this.afterViewInit$.next(undefined);\n    }\n    settingsToObject(s) {\n      return new FormSettings(s);\n    }\n    replaceTokens(v) {\n      if (this.tokens !== undefined) {\n        this.tokens.forEach((value, key) => {\n          v = v.split(`[${key}]`).join(`${value}`);\n        });\n      }\n      return v;\n    }\n    static {\n      this.\u0275fac = function FormElementBase_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormElementBase)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275dir = /* @__PURE__ */i0.\u0275\u0275defineDirective({\n        type: FormElementBase,\n        selectors: [[\"\", \"druid-forms-form-element-base\", \"\"]],\n        inputs: {\n          tokens: \"tokens\",\n          settings: \"settings\",\n          panes: \"panes\",\n          originPanes: \"originPanes\",\n          contexts: \"contexts\",\n          resolvedContext: \"resolvedContext\",\n          ancestory: \"ancestory\"\n        },\n        standalone: false\n      });\n    }\n  }\n  return FormElementBase;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormInputComponent = /*#__PURE__*/(() => {\n  class FormInputComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormInputComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormInputComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormInputComponent,\n        selectors: [[\"druid-forms-form-input\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 3,\n        vars: 2,\n        consts: [[\"matInput\", \"\", 3, \"formControl\"], [4, \"ngIf\"], [3, \"validators\", \"errors\", \"resolvedContext\"]],\n        template: function FormInputComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"mat-form-field\");\n            i0.\u0275\u0275element(1, \"input\", 0);\n            i0.\u0275\u0275template(2, FormInputComponent_mat_error_2_Template, 2, 3, \"mat-error\", 1);\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"ngIf\", ctx.formControl.invalid);\n          }\n        },\n        dependencies: [i7.NgIf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlDirective, i8.MatInput, i8.MatFormField, i8.MatError, i5.DefaultValidationError],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormInputComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormSelectComponent = /*#__PURE__*/(() => {\n  class FormSelectComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormSelectComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormSelectComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormSelectComponent,\n        selectors: [[\"druid-forms-form-select\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 4,\n        vars: 4,\n        consts: [[3, \"formControl\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n        template: function FormSelectComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"mat-form-field\")(1, \"mat-select\", 0);\n            i0.\u0275\u0275template(2, FormSelectComponent_mat_option_2_Template, 2, 2, \"mat-option\", 1);\n            i0.\u0275\u0275pipe(3, \"async\");\n            i0.\u0275\u0275elementEnd()();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(3, 2, ctx.options$));\n          }\n        },\n        dependencies: [i7.NgForOf, i6.NgControlStatus, i6.FormControlDirective, i8$1.MatOption, i8.MatFormField, i10.MatSelect, i7.AsyncPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormSelectComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormSectionComponent = /*#__PURE__*/(() => {\n  class FormSectionComponent {\n    set settings(settings) {\n      this.settings$.next(settings);\n    }\n    set resolvedContext(resolvedContext) {\n      this.resolvedContext$.next(resolvedContext);\n    }\n    set panel(panel) {\n      this.panel$.next(panel);\n    }\n    get panesFormArray() {\n      return this.controlContainer.control.get('panes');\n    }\n    constructor(attributeSerializer, fb, controlContainer) {\n      this.attributeSerializer = attributeSerializer;\n      this.fb = fb;\n      this.controlContainer = controlContainer;\n      this.panes = [];\n      this.originMappings = [];\n      this.ancestory = [];\n      this.add$ = new Subject();\n      this.remove$ = new Subject();\n      this.panes$ = new BehaviorSubject([]);\n      this.settings$ = new Subject();\n      this.resolvedContext$ = new Subject();\n      this.panel$ = new Subject();\n      this.afterViewInit$ = new Subject();\n      this.addSub = this.add$.pipe(map(() => new Pane(this.panes[0])), tap$1(() => this.panesFormArray.push(this.fb.control(''))), tap$1(paneCopy => this.panes.push(paneCopy))).subscribe();\n      this.removeSub = this.remove$.pipe(tap$1(index => this.panesFormArray.removeAt(index)), tap$1(index => this.panes.splice(index, 1))).subscribe();\n      this.populateDefaultValues = combineLatest([this.settings$.pipe(map(s => s ? new FormSectionForm(this.attributeSerializer.deserializeAsObject(s)) : undefined)), this.resolvedContext$, this.panel$, this.afterViewInit$]).pipe(map(([s, rc, p]) => ({\n        s,\n        rc,\n        p\n      })), tap$1(({\n        s\n      }) => console.log(s.valuesMapping, this.ancestory)), map(({\n        s,\n        rc,\n        p\n      }) => {\n        if (rc && s && s.valuesMapping && s.valuesMapping.trim() !== '') {\n          const pieces = s.valuesMapping.split('[$i]');\n          const replacements = pieces.map((_, i) => this.ancestory[i * 1 + 3]);\n          // const path = s.valuesMapping.replace('[$i]', `[${this.ancestory[this.ancestory.length - 4]}]`);\n          const path = pieces.reduce((prev, c, i) => [...prev, i === 0 ? '' : i - 1 < replacements.length ? `[${replacements[i - 1]}]` : '', c], []).join('');\n          console.log('path', path);\n          const items = jpp.JSONPath({\n            path: `$.${path}.*`,\n            json: rc\n          });\n          return {\n            items,\n            s,\n            p\n          };\n        } else {\n          return {\n            items: [],\n            p\n          };\n        }\n      }), tap$1(({\n        items\n      }) => {\n        const len = items.length - this.panesFormArray.length;\n        for (let i = 0; i < len; i++) {\n          this.add$.next(undefined);\n        }\n      })).subscribe();\n    }\n    ngOnInit() {}\n    ngAfterViewInit() {\n      this.afterViewInit$.next(undefined);\n    }\n    static {\n      this.\u0275fac = function FormSectionComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormSectionComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(i6.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormSectionComponent,\n        selectors: [[\"classifieds-ui-form-section\"]],\n        inputs: {\n          panes: \"panes\",\n          originPanes: \"originPanes\",\n          originMappings: \"originMappings\",\n          ancestory: \"ancestory\",\n          settings: \"settings\",\n          resolvedContext: \"resolvedContext\",\n          panel: \"panel\"\n        },\n        standalone: false,\n        decls: 5,\n        vars: 2,\n        consts: [[3, \"formGroup\"], [\"formArrayName\", \"panes\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 3, \"click\"], [3, \"formControlName\", \"pluginName\", \"settings\", \"name\", \"label\", \"contexts\", \"panes\", \"resolvedContext\", \"indexPosition\", \"ancestory\"]],\n        template: function FormSectionComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementContainerStart(0, 0)(1, 1);\n            i0.\u0275\u0275template(2, FormSectionComponent_div_2_Template, 4, 10, \"div\", 2);\n            i0.\u0275\u0275elementContainerEnd()();\n            i0.\u0275\u0275elementStart(3, \"button\", 3);\n            i0.\u0275\u0275listener(\"click\", function FormSectionComponent_Template_button_click_3_listener() {\n              return ctx.add$.next(undefined);\n            });\n            i0.\u0275\u0275text(4, \"Add Item\");\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.controlContainer.control);\n            i0.\u0275\u0275advance(2);\n            i0.\u0275\u0275property(\"ngForOf\", ctx.panes);\n          }\n        },\n        dependencies: [i7.NgForOf, i6.NgControlStatus, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.FormControlName, i6.FormArrayName, i4.RenderPaneComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormSectionComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormTextareaComponent = /*#__PURE__*/(() => {\n  class FormTextareaComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n      this.cols = 20;\n      this.rows = 20;\n    }\n    static {\n      this.\u0275fac = function FormTextareaComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormTextareaComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormTextareaComponent,\n        selectors: [[\"druid-forms-form-textarea\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 1,\n        vars: 3,\n        consts: [[3, \"formControl\", \"cols\", \"rows\"]],\n        template: function FormTextareaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275element(0, \"textarea\", 0);\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl)(\"cols\", ctx.cols)(\"rows\", ctx.rows);\n          }\n        },\n        dependencies: [i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlDirective],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormTextareaComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractFormContentHandler = /*#__PURE__*/(() => {\n  class AbstractFormContentHandler {\n    constructor(attributeSerializer) {\n      this.attributeSerializer = attributeSerializer;\n    }\n    handleFile(file) {\n      return of([]);\n    }\n    handlesType(type) {\n      return false;\n    }\n    implementsRendererOverride() {\n      return false;\n    }\n    hasRendererOverride(settings) {\n      return of(false);\n    }\n    isDynamic(settings) {\n      return false;\n    }\n    isData(settings) {\n      return false;\n    }\n    getBindings(settings, type, metadata) {\n      // return of([ new ContentBinding({ id: 'ad', type: 'context' }) ]);\n      // return of([]);\n      if (type === 'pane') {\n        return this.toObject(settings).pipe(switchMap(i => iif(() => i.datasourceBinding && i.datasourceBinding.id && i.datasourceBinding.id !== null, of([i.datasourceBinding]), of([]))));\n      } else if (type === 'context') {\n        // Needs to include datasource panes bindings as well.\n        /*return this.toObject(settings).pipe(\n          map(i => ({ i, dsPane: metadata && i.datasourceBinding && i.datasourceBinding.id && i.datasourceBinding.id !== null ? (metadata.get('dataPanes') as Array<Pane>).find(p => p.name === i.datasourceBinding.id) : undefined })),\n          switchMap(({ dsPane }) => iif(\n            () => !!dsPane,\n            this.datasourceHandler.toObject(dsPane.settings).pipe(\n              switchMap(bindedDatasource => iif(\n                // Params from rest need to be hoisted into the datasource - this is a legacy work-around new datasources will have params in datasource object not nested.\n                () => bindedDatasource.plugin === 'rest',\n                of(this.attributeSerializer.deserializeAsObject(bindedDatasource.settings)).pipe(\n                  map(bSettings => ({ bindedDatasource: new Datasource({ ...bindedDatasource, params: bSettings.params }) }))\n                ),\n                of({ bindedDatasource })\n              )),\n              map(({ bindedDatasource }) => ({ dsPane: new Pane({ ...dsPane, settings: this.attributeSerializer.serialize(bindedDatasource, 'root').attributes }) })),\n            ),\n            of({ dsPane })\n          )),\n          switchMap(({ dsPane }) => iif(\n            () => !!dsPane,\n            dsPane ? this.datasourceHandler.getBindings(dsPane.settings, type, metadata) : of([]),\n            of([])\n          )),\n          tap(bindings => console.log('formly field context bindings', bindings))\n        );*/\n        return of([]);\n      } else {\n        return of([]);\n      }\n    }\n    fetchDynamicData(settings, metadata) {\n      return of(new Dataset());\n    }\n    buildDynamicItems(settings, metadata) {\n      return of([]);\n    }\n    toObject(settings) {\n      return of(new FormSettings(this.attributeSerializer.deserializeAsObject(settings)));\n    }\n    buildSettings(instance) {\n      return this.attributeSerializer.serialize(instance, 'root').attributes;\n    }\n    stateDefinition(settings) {\n      return of({\n        autocomplete: {\n          input: ''\n        },\n        value: undefined\n      });\n    }\n    editorOptions(settings) {\n      return of(new ContentPluginEditorOptions());\n    }\n    static {\n      this.\u0275fac = function AbstractFormContentHandler_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || AbstractFormContentHandler)(i0.\u0275\u0275inject(i1.AttributeSerializerService));\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: AbstractFormContentHandler,\n        factory: AbstractFormContentHandler.\u0275fac\n      });\n    }\n  }\n  return AbstractFormContentHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormElementHandler = /*#__PURE__*/(() => {\n  class FormElementHandler extends AbstractFormContentHandler {\n    static {\n      this.\u0275fac = /* @__PURE__ */(() => {\n        let \u0275FormElementHandler_BaseFactory;\n        return function FormElementHandler_Factory(__ngFactoryType__) {\n          return (\u0275FormElementHandler_BaseFactory || (\u0275FormElementHandler_BaseFactory = i0.\u0275\u0275getInheritedFactory(FormElementHandler)))(__ngFactoryType__ || FormElementHandler);\n        };\n      })();\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: FormElementHandler,\n        factory: FormElementHandler.\u0275fac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return FormElementHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormElementEditorComponent = /*#__PURE__*/(() => {\n  class FormElementEditorComponent {\n    get paneGroup() {\n      return this.data.panelFormGroup.get('panes').at(this.paneIndex);\n    }\n    constructor(data, dialogRef, fb, handler, attributeSerializer) {\n      this.data = data;\n      this.dialogRef = dialogRef;\n      this.fb = fb;\n      this.handler = handler;\n      this.attributeSerializer = attributeSerializer;\n      // contexts: Array<InlineContext>;\n      // rest = mockRest;\n      this.datasourceOptions = mockDatasourceOptions;\n      this.validation = new FormValidation({\n        validators: []\n      });\n      this.bindableOptions = [];\n      this.formGroup = this.fb.group({\n        // type: this.fb.control('', [ Validators.required ]),\n        // key: this.fb.control('', [ Validators.required ]),\n        value: this.fb.control(''),\n        /*options: this.fb.group({\n          label: this.fb.control('')\n        }),*/\n        // rest: this.fb.control(''),\n        datasourceOptions: this.fb.control(''),\n        validation: this.fb.control(''),\n        datasourceBinding: this.fb.group({\n          id: this.fb.control(''),\n          type: this.fb.control('pane')\n        })\n      });\n      // this.contexts = data.contexts;\n      this.paneIndex = data.paneIndex;\n      this.pane = data.pane;\n    }\n    ngOnInit() {\n      if (this.data.pane) {\n        this.handler.toObject(this.data.pane.settings).subscribe(i => {\n          console.log(\"Form Editor Data Pane Data\", i);\n          this.formGroup.patchValue({\n            value: i.value,\n            datasourceOptions: i.datasourceOptions || mockDatasourceOptions,\n            datasourceBinding: {\n              id: i.datasourceBinding?.id || '',\n              type: 'pane'\n            }\n          });\n          this.datasourceOptions = i.datasourceOptions || mockDatasourceOptions;\n          this.validation = i.validation ? new FormValidation(i.validation) : new FormValidation({\n            validators: []\n          });\n        });\n      } else {\n        this.data.panelFormGroup.get('panes').push(this.fb.group({\n          contentPlugin: this.data.plugin.id,\n          name: new UntypedFormControl(''),\n          label: new UntypedFormControl(''),\n          rule: new UntypedFormControl(''),\n          settings: this.fb.array([])\n        }));\n        this.paneIndex = this.data.panelFormGroup.get('panes').length - 1;\n        this.pane = new Pane(this.data.panelFormGroup.get('panes').at(this.paneIndex).value);\n      }\n      // Update bindableOptions if required\n      this.bindableOptions = this.data.panelFormGroup.get('panes').controls.reduce((p, c) => c.get('name').value ? [...p, c.get('name').value] : p, []);\n      // this.contexts = this.data.contexts.map(c => c.name);\n      /*if (this.data.panelIndex !== undefined) {\n        const settings = (this.data.panelFormGroup.get('panes') as FormArray).at(this.data.paneIndex).get('settings').value.map(s => new AttributeValue(s));\n        this.datasourceHandler.toObject(settings).subscribe(ds => {\n          this.datasource = ds;\n        });\n      }*/\n    }\n    submit() {\n      console.log(this.formGroup.value);\n      const instance = new FormSettings(this.formGroup.value);\n      console.log('losing options debug', instance);\n      // this.paneGroup.get('name').setValue(instance.key);\n      // this.paneGroup.get('label').setValue(instance.key);\n      this.paneGroup.get('settings').clear();\n      const controls = this.handler.buildSettings(instance).map(s => this.attributeSerializer.convertToGroup(s));\n      controls.forEach(c => this.paneGroup.get('settings').push(c));\n      this.dialogRef.close();\n    }\n    static {\n      this.\u0275fac = function FormElementEditorComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormElementEditorComponent)(i0.\u0275\u0275directiveInject(MAT_DIALOG_DATA), i0.\u0275\u0275directiveInject(i1$1.MatDialogRef), i0.\u0275\u0275directiveInject(i6.UntypedFormBuilder), i0.\u0275\u0275directiveInject(FormElementHandler), i0.\u0275\u0275directiveInject(i1.AttributeSerializerService));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormElementEditorComponent,\n        selectors: [[\"druid-forms-form-element-editor\"]],\n        inputs: {\n          bindableOptions: \"bindableOptions\"\n        },\n        standalone: false,\n        decls: 17,\n        vars: 3,\n        consts: [[3, \"ngSubmit\", \"formGroup\"], [\"fxLayout\", \"column\"], [\"matInput\", \"\", \"formControlName\", \"value\"], [\"formGroupName\", \"datasourceBinding\"], [\"required\", \"\", \"formControlName\", \"id\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"datasourceOptions\"], [\"formControlName\", \"validation\", 3, \"validation\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"mat-dialog-close\", \"\"], [3, \"value\"]],\n        template: function FormElementEditorComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"form\", 0);\n            i0.\u0275\u0275listener(\"ngSubmit\", function FormElementEditorComponent_Template_form_ngSubmit_0_listener() {\n              return ctx.submit();\n            });\n            i0.\u0275\u0275elementStart(1, \"mat-dialog-content\", 1)(2, \"div\")(3, \"mat-form-field\")(4, \"mat-label\");\n            i0.\u0275\u0275text(5, \"Value\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275element(6, \"input\", 2);\n            i0.\u0275\u0275elementEnd()();\n            i0.\u0275\u0275elementStart(7, \"mat-form-field\", 3)(8, \"mat-label\");\n            i0.\u0275\u0275text(9, \"Datasource\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275elementStart(10, \"mat-select\", 4);\n            i0.\u0275\u0275template(11, FormElementEditorComponent_mat_option_11_Template, 2, 2, \"mat-option\", 5);\n            i0.\u0275\u0275elementEnd()();\n            i0.\u0275\u0275element(12, \"classifieds-ui-datasource-options\", 6)(13, \"druid-ordain-validation-editor\", 7);\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275elementStart(14, \"mat-dialog-actions\")(15, \"button\", 8);\n            i0.\u0275\u0275text(16, \"Save\");\n            i0.\u0275\u0275elementEnd()()();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.formGroup);\n            i0.\u0275\u0275advance(11);\n            i0.\u0275\u0275property(\"ngForOf\", ctx.bindableOptions);\n            i0.\u0275\u0275advance(2);\n            i0.\u0275\u0275property(\"validation\", ctx.validation);\n          }\n        },\n        dependencies: [i7.NgForOf, i6.\u0275NgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.FormGroupDirective, i6.FormControlName, i6.FormGroupName, i8$1.MatOption, i7$1.MatButton, i1$1.MatDialogClose, i1$1.MatDialogActions, i1$1.MatDialogContent, i8.MatInput, i8.MatFormField, i8.MatLabel, i10.MatSelect, i10$1.DatasourceOptionsComponent, i5.ValidationEditorComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormElementEditorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormRadiogroupComponent = /*#__PURE__*/(() => {\n  class FormRadiogroupComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormRadiogroupComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormRadiogroupComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormRadiogroupComponent,\n        selectors: [[\"druid-forms-form-radiogroup\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 3,\n        vars: 4,\n        consts: [[3, \"formControl\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n        template: function FormRadiogroupComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"mat-radio-group\", 0);\n            i0.\u0275\u0275template(1, FormRadiogroupComponent_mat_radio_button_1_Template, 2, 2, \"mat-radio-button\", 1);\n            i0.\u0275\u0275pipe(2, \"async\");\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(2, 2, ctx.options$));\n          }\n        },\n        dependencies: [i7.NgForOf, i6.NgControlStatus, i6.FormControlDirective, i8$2.MatRadioGroup, i8$2.MatRadioButton, i7.AsyncPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormRadiogroupComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormSliderComponent = /*#__PURE__*/(() => {\n  class FormSliderComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormSliderComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormSliderComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormSliderComponent,\n        selectors: [[\"druid-forms-form-slider\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 2,\n        vars: 1,\n        consts: [[3, \"formControl\"], [\"matSliderThumb\", \"\"]],\n        template: function FormSliderComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"mat-slider\", 0);\n            i0.\u0275\u0275element(1, \"input\", 1);\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl);\n          }\n        },\n        dependencies: [i6.NgControlStatus, i6.FormControlDirective, i7$2.MatSlider, i7$2.MatSliderThumb],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormSliderComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormToggleComponent = /*#__PURE__*/(() => {\n  class FormToggleComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormToggleComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormToggleComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormToggleComponent,\n        selectors: [[\"druid-forms-form-toggle\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 2,\n        vars: 1,\n        consts: [[3, \"formControl\"]],\n        template: function FormToggleComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"mat-slide-toggle\", 0);\n            i0.\u0275\u0275text(1, \"Toggle Label\");\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl);\n          }\n        },\n        dependencies: [i6.NgControlStatus, i6.FormControlDirective, i7$3.MatSlideToggle],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormToggleComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormCheckboxComponent = /*#__PURE__*/(() => {\n  class FormCheckboxComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormCheckboxComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormCheckboxComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormCheckboxComponent,\n        selectors: [[\"druid-forms-form-checkbox\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 1,\n        vars: 1,\n        consts: [[3, \"formControl\"]],\n        template: function FormCheckboxComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275element(0, \"mat-checkbox\", 0);\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formControl\", ctx.formControl);\n          }\n        },\n        dependencies: [i6.NgControlStatus, i6.FormControlDirective, i7$4.MatCheckbox],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormCheckboxComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormDatepickerComponent = /*#__PURE__*/(() => {\n  class FormDatepickerComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormDatepickerComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormDatepickerComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormDatepickerComponent,\n        selectors: [[\"druid-forms-form-datepicker\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 7,\n        vars: 3,\n        consts: [[\"picker\", \"\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", 3, \"matDatepicker\", \"formControl\"], [\"matSuffix\", \"\", 3, \"for\"]],\n        template: function FormDatepickerComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"mat-form-field\", 1)(1, \"mat-label\");\n            i0.\u0275\u0275text(2, \"Choose a date\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275element(3, \"input\", 2)(4, \"mat-datepicker-toggle\", 3)(5, \"mat-datepicker\", null, 0);\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            const picker_r1 = i0.\u0275\u0275reference(6);\n            i0.\u0275\u0275advance(3);\n            i0.\u0275\u0275property(\"matDatepicker\", picker_r1)(\"formControl\", ctx.formControl);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"for\", picker_r1);\n          }\n        },\n        dependencies: [i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlDirective, i7$5.MatDatepicker, i7$5.MatDatepickerInput, i7$5.MatDatepickerToggle, i8.MatInput, i8.MatFormField, i8.MatLabel, i8.MatSuffix],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormDatepickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormAutocompleteComponent = /*#__PURE__*/(() => {\n  class FormAutocompleteComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n      this.proxyControl = new UntypedFormControl('');\n      this.optionSelected$ = new Subject();\n      this.proxyControlValueChangesSub = this.proxyControl.valueChanges.pipe(debounceTime(1000), distinctUntilChanged(), withLatestFrom(combineLatest([this.formSettings$, this.panes$, this.originPanes$, this.contexts$]).pipe(map(([settings, panes, originPanes, contexts]) => ({\n        settings,\n        panes,\n        originPanes,\n        contexts\n      })))), map(([term, {\n        settings,\n        panes,\n        originPanes,\n        contexts\n      }]) => ({\n        term,\n        settings,\n        metadata: new Map([['panes', [...(panes && Array.isArray(panes) ? panes : []), ...(originPanes && Array.isArray(originPanes) ? originPanes : [])]], ['contexts', contexts], ['inputparams', new Map([['term', new Param({\n          flags: [],\n          mapping: new Mapping({\n            value: term,\n            testValue: term,\n            type: 'static',\n            context: undefined\n          })\n        })]])]])\n      })), switchMap(({\n        settings,\n        metadata\n      }) => this.optionsResolver.resolveElementOptions(settings, metadata)), tap$1(options => this.options$.next(options))).subscribe();\n      this.optionSelectedSub = this.optionSelected$.pipe(tap$1(e => this.formControl.setValue(e.option && e.option.value ? e.option.value.value : ''))).subscribe();\n      this.displayAuto = opt => {\n        return opt.label;\n        // return tokenizerService.replaceTokens(this.selectMapping.label, this.tokenizerService.generateGenericTokens(opt.dataItem));\n      };\n    }\n    static {\n      this.\u0275fac = function FormAutocompleteComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormAutocompleteComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormAutocompleteComponent,\n        selectors: [[\"druid-forms-form-autocomplete\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 8,\n        vars: 6,\n        consts: [[\"autocomplete\", \"matAutocomplete\"], [\"matInput\", \"\", 3, \"matAutocomplete\", \"formControl\"], [3, \"optionSelected\", \"displayWith\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n        template: function FormAutocompleteComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.\u0275\u0275getCurrentView();\n            i0.\u0275\u0275elementStart(0, \"mat-form-field\")(1, \"mat-label\");\n            i0.\u0275\u0275text(2, \"Autocomplete\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275element(3, \"input\", 1);\n            i0.\u0275\u0275elementStart(4, \"mat-autocomplete\", 2, 0);\n            i0.\u0275\u0275listener(\"optionSelected\", function FormAutocompleteComponent_Template_mat_autocomplete_optionSelected_4_listener($event) {\n              i0.\u0275\u0275restoreView(_r1);\n              return i0.\u0275\u0275resetView(ctx.optionSelected$.next($event));\n            });\n            i0.\u0275\u0275template(6, FormAutocompleteComponent_mat_option_6_Template, 2, 2, \"mat-option\", 3);\n            i0.\u0275\u0275pipe(7, \"async\");\n            i0.\u0275\u0275elementEnd()();\n          }\n          if (rf & 2) {\n            const autocomplete_r3 = i0.\u0275\u0275reference(5);\n            i0.\u0275\u0275advance(3);\n            i0.\u0275\u0275property(\"matAutocomplete\", autocomplete_r3)(\"formControl\", ctx.proxyControl);\n            i0.\u0275\u0275advance();\n            i0.\u0275\u0275property(\"displayWith\", ctx.displayAuto);\n            i0.\u0275\u0275advance(2);\n            i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(7, 4, ctx.options$));\n          }\n        },\n        dependencies: [i7.NgForOf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlDirective, i8$1.MatAutocomplete, i8$1.MatOption, i8$1.MatAutocompleteTrigger, i8.MatInput, i8.MatFormField, i8.MatLabel, i7.AsyncPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormAutocompleteComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormMediaComponent = /*#__PURE__*/(() => {\n  class FormMediaComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, filesService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n      this.files = [];\n      this.select$ = new Subject();\n      this.selectSub = this.select$.pipe(tap(e => console.log(e)), mergeMap(e => this.filesService.bulkUpload({\n        files: [e.addedFiles[0]]\n      }).pipe(map$1(mfs => ({\n        mfs,\n        e\n      })))), tap(({\n        mfs\n      }) => this.formControl.setValue(mfs[0])), tap(({\n        e\n      }) => this.files.push(...e.addedFiles))).subscribe();\n      this.valueSub = this.value$.pipe(filter(v => typeof v === 'object'), map$1(v => new MediaFile(v)), tap(v => {\n        console.log('populate value', v);\n      }), switchMap$1(v => this.filesService.convertToFiles([v])), tap(f => {\n        console.log('populate as file', f);\n        this.files = f;\n      })).subscribe();\n      this.filesService = filesService;\n    }\n    onSelect(event) {\n      this.select$.next(event);\n    }\n    onRemove(event) {\n      console.log(event);\n      this.formControl.setValue('');\n      this.files.splice(this.files.indexOf(event), 1);\n    }\n    isType(f, type) {\n      switch (type) {\n        case 'image':\n          return this.filesService.isImage({\n            file: f\n          });\n        case 'video':\n          return this.filesService.isVideo({\n            file: f\n          });\n        default:\n          return false;\n      }\n    }\n    static {\n      this.\u0275fac = function FormMediaComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormMediaComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3$1.FilesService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormMediaComponent,\n        selectors: [[\"druid-forms-form-media\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 4,\n        vars: 1,\n        consts: [[3, \"change\"], [4, \"ngFor\", \"ngForOf\"], [\"ngProjectAs\", \"ngx-dropzone-preview\", 5, [\"ngx-dropzone-preview\"], 3, \"file\", \"removable\", \"removed\", 4, \"ngIf\"], [3, \"removable\", \"removed\", 4, \"ngIf\"], [\"ngProjectAs\", \"ngx-dropzone-preview\", 5, [\"ngx-dropzone-preview\"], 3, \"removed\", \"file\", \"removable\"], [3, \"removed\", \"removable\"]],\n        template: function FormMediaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"ngx-dropzone\", 0);\n            i0.\u0275\u0275listener(\"change\", function FormMediaComponent_Template_ngx_dropzone_change_0_listener($event) {\n              return ctx.onSelect($event);\n            });\n            i0.\u0275\u0275elementStart(1, \"ngx-dropzone-label\");\n            i0.\u0275\u0275text(2, \"Drop it, baby!\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275template(3, FormMediaComponent_ng_container_3_Template, 4, 3, \"ng-container\", 1);\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275advance(3);\n            i0.\u0275\u0275property(\"ngForOf\", ctx.files);\n          }\n        },\n        dependencies: [i7.NgForOf, i7.NgIf, i9.NgxDropzoneComponent, i9.NgxDropzoneLabelDirective, i9.NgxDropzonePreviewComponent, i9.NgxDropzoneImagePreviewComponent, i9.NgxDropzoneVideoPreviewComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormMediaComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormHiddenComponent = /*#__PURE__*/(() => {\n  class FormHiddenComponent extends FormElementBase {\n    constructor(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer) {\n      super(attributeSerializer, optionsResolverService, tokenizerService, formsContextHelper, vpm, controlContainer);\n    }\n    static {\n      this.\u0275fac = function FormHiddenComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormHiddenComponent)(i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(OptionsResolverService), i0.\u0275\u0275directiveInject(i3.TokenizerService), i0.\u0275\u0275directiveInject(FormsContextHelperService), i0.\u0275\u0275directiveInject(i5.ValidationPluginManager), i0.\u0275\u0275directiveInject(i6.ControlContainer));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormHiddenComponent,\n        selectors: [[\"druid-forms-form-hidden\"]],\n        standalone: false,\n        features: [i0.\u0275\u0275InheritDefinitionFeature],\n        decls: 0,\n        vars: 0,\n        template: function FormHiddenComponent_Template(rf, ctx) {},\n        encapsulation: 2\n      });\n    }\n  }\n  return FormHiddenComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormSectionEditorComponent = /*#__PURE__*/(() => {\n  class FormSectionEditorComponent {\n    constructor(data, dialogRef, fb, attributeSerializer) {\n      this.data = data;\n      this.dialogRef = dialogRef;\n      this.fb = fb;\n      this.attributeSerializer = attributeSerializer;\n      this.contexts = [];\n      this.formGroup = this.fb.group({\n        valuesMapping: this.fb.control('')\n      });\n    }\n    ngOnInit() {}\n    submit() {\n      this.data.panelFormGroup.get('settings').clear();\n      this.attributeSerializer.serialize(this.formGroup.value, 'root').attributes.forEach(a => {\n        console.log('formly repeating editor form');\n        console.log(this.attributeSerializer.convertToGroup(a));\n        this.data.panelFormGroup.get('settings').push(this.attributeSerializer.convertToGroup(a));\n      });\n    }\n    static {\n      this.\u0275fac = function FormSectionEditorComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormSectionEditorComponent)(i0.\u0275\u0275directiveInject(MAT_DIALOG_DATA), i0.\u0275\u0275directiveInject(i1$1.MatDialogRef), i0.\u0275\u0275directiveInject(i6.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i1.AttributeSerializerService));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: FormSectionEditorComponent,\n        selectors: [[\"classifieds-form-section-editor\"]],\n        standalone: false,\n        decls: 8,\n        vars: 2,\n        consts: [[3, \"ngSubmit\", \"formGroup\"], [\"matInput\", \"\", \"formControlName\", \"valuesMapping\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"mat-dialog-close\", \"\", 3, \"disabled\"]],\n        template: function FormSectionEditorComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"form\", 0);\n            i0.\u0275\u0275listener(\"ngSubmit\", function FormSectionEditorComponent_Template_form_ngSubmit_0_listener() {\n              return ctx.submit();\n            });\n            i0.\u0275\u0275elementStart(1, \"div\")(2, \"mat-form-field\")(3, \"mat-label\");\n            i0.\u0275\u0275text(4, \"Values Mapping\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275element(5, \"input\", 1);\n            i0.\u0275\u0275elementEnd()();\n            i0.\u0275\u0275elementStart(6, \"button\", 2);\n            i0.\u0275\u0275text(7, \"Save\");\n            i0.\u0275\u0275elementEnd()();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.formGroup);\n            i0.\u0275\u0275advance(6);\n            i0.\u0275\u0275property(\"disabled\", !ctx.formGroup.valid);\n          }\n        },\n        dependencies: [i6.\u0275NgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.FormControlName, i7$1.MatButton, i1$1.MatDialogClose, i8.MatInput, i8.MatFormField, i8.MatLabel],\n        encapsulation: 2\n      });\n    }\n  }\n  return FormSectionEditorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst formInputPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_input',\n    title: 'Form Input',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormInputComponent,\n    handler\n  });\n};\nconst formSelectPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_select',\n    title: 'Form Select',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormSelectComponent,\n    handler\n  });\n};\nconst formRadiogroupPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_radiogroup',\n    title: 'Form Radiogroup',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormRadiogroupComponent,\n    handler\n  });\n};\nconst formTextareaPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_textarea',\n    title: 'Form Textarea',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormTextareaComponent,\n    handler\n  });\n};\nconst formSliderPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_slider',\n    title: 'Form Slider',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormSliderComponent,\n    handler\n  });\n};\nconst formTogglePluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_toggle',\n    title: 'Form Toggle',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormToggleComponent,\n    handler\n  });\n};\nconst formCheckboxPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_checkbox',\n    title: 'Form Checkbox',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormCheckboxComponent,\n    handler\n  });\n};\nconst formDatepickerPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_datepicker',\n    title: 'Form Datepicker',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormDatepickerComponent,\n    handler\n  });\n};\nconst formAutocompletePluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_autocomplete',\n    title: 'Form Autocomplete',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormAutocompleteComponent,\n    handler\n  });\n};\nconst formMediaPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_media',\n    title: 'Form Media',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormMediaComponent,\n    handler\n  });\n};\nconst formHiddenPluginFactory = ({\n  handler\n}) => {\n  return new ContentPlugin({\n    id: 'form_hidden',\n    title: 'Form Hidden',\n    selectionComponent: undefined,\n    editorComponent: FormElementEditorComponent,\n    renderComponent: FormHiddenComponent,\n    handler\n  });\n};\nconst formSectionStylePluginFactory = () => {\n  return new StylePlugin({\n    id: 'form_section',\n    name: 'form_section',\n    title: 'Form Section',\n    editorComponent: FormSectionEditorComponent,\n    renderComponent: FormSectionComponent\n  });\n};\nlet FormsModule = /*#__PURE__*/(() => {\n  class FormsModule {\n    constructor(cpm, spm, handler) {\n      [formInputPluginFactory({\n        handler\n      }), formSelectPluginFactory({\n        handler\n      }), formTextareaPluginFactory({\n        handler\n      }), formRadiogroupPluginFactory({\n        handler\n      }), formSliderPluginFactory({\n        handler\n      }), formTogglePluginFactory({\n        handler\n      }), formCheckboxPluginFactory({\n        handler\n      }), formDatepickerPluginFactory({\n        handler\n      }), formAutocompletePluginFactory({\n        handler\n      }), formMediaPluginFactory({\n        handler\n      }), formHiddenPluginFactory({\n        handler\n      })].forEach(p => cpm.register(p));\n      [formSectionStylePluginFactory()].forEach(p => spm.register(p));\n    }\n    static {\n      this.\u0275fac = function FormsModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FormsModule)(i0.\u0275\u0275inject(i1$2.ContentPluginManager), i0.\u0275\u0275inject(i2.StylePluginManager), i0.\u0275\u0275inject(FormElementHandler));\n      };\n    }\n    static {\n      this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n        type: FormsModule\n      });\n    }\n    static {\n      this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n        imports: [CommonModule, FormsModule$1, ReactiveFormsModule, MaterialModule, RenderModule, DatasourceModule, NgxDropzoneModule, OrdainModule]\n      });\n    }\n  }\n  return FormsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of forms\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractFormContentHandler, FormAutocompleteComponent, FormCheckboxComponent, FormDatepickerComponent, FormElementBase, FormElementEditorComponent, FormElementHandler, FormHiddenComponent, FormInputComponent, FormMediaComponent, FormRadiogroupComponent, FormSectionComponent, FormSectionEditorComponent, FormSelectComponent, FormSliderComponent, FormTextareaComponent, FormToggleComponent, FormsModule, OptionsResolverService };\n"],
  "mappings": "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",
  "names": ["i7", "CommonModule", "i0", "i6", "UntypedFormControl", "FormsModule$1", "ReactiveFormsModule", "MaterialModule", "i1$2", "ContentBinding", "ContentPluginEditorOptions", "ContentPlugin", "i10$1", "DatasourceOptions", "SelectOption", "Dataset", "mockDatasourceOptions", "DatasourceModule", "i5", "FormValidation", "OrdainModule", "of", "Subject", "tap", "ReplaySubject", "take", "BehaviorSubject", "combineLatest", "forkJoin", "iif", "mergeMap", "map$1", "filter", "switchMap$1", "switchMap", "map", "tap$1", "defaultIfEmpty", "take$1", "debounceTime", "distinctUntilChanged", "withLatestFrom", "jpp", "rd", "i1", "i3", "i2", "PanelPageForm", "Pane", "StylePlugin", "i8", "i8$1", "i10", "i4", "RenderModule", "i1$1", "MAT_DIALOG_DATA", "i7$1", "i8$2", "i7$2", "i7$3", "i7$4", "i7$5", "Param", "Mapping", "i3$1", "MediaFile", "i9", "NgxDropzoneModule", "FormInputComponent_mat_error_2_Template", "rf", "ctx", "ctx_r0", "FormSelectComponent_mat_option_2_Template", "opt_r1", "FormSectionComponent_div_2_Template", "_r1", "i_r2", "ctx_r2", "pane_r4", "FormElementEditorComponent_mat_option_11_Template", "bo_r1", "FormRadiogroupComponent_mat_radio_button_1_Template", "FormAutocompleteComponent_mat_option_6_Template", "opt_r2", "FormMediaComponent_ng_container_3_ngx_dropzone_image_preview_1_Template", "f_r2", "FormMediaComponent_ng_container_3_ngx_dropzone_video_preview_2_Template", "_r4", "FormMediaComponent_ng_container_3_ngx_dropzone_preview_3_Template", "_r5", "FormMediaComponent_ng_container_3_Template", "FormSettings", "data", "ContentBinding", "DatasourceOptions", "FormValidation", "FormSectionForm", "OptionsResolverService", "tokenizerService", "datasourceContentHandler", "panelResolver", "attributeSerializer", "instance", "metadata", "of", "switchMap", "i", "dataPane", "p", "dataPanes", "map", "d", "r", "tokens", "t", "SelectOption", "__ngFactoryType__", "FormsContextHelperService", "Subject", "tap", "resolvedContext", "index", "name", "PanelPageForm", "cachedIndex", "rContext", "ReplaySubject", "take", "FormElementBase", "settings", "panes", "originPanes", "contexts", "optionsResolver", "formsContextHelper", "vpm", "controlContainer", "UntypedFormControl", "tap$1", "value", "BehaviorSubject", "combineLatest", "options", "forkJoin", "v", "vf", "validators", "defaultIfEmpty", "validatorsSerialized", "pieces", "replacements", "_", "path", "prev", "c", "extraTokens", "id", "v4_default", "properties", "k", "object", "__spreadProps", "__spreadValues", "take$1", "s", "key", "FormInputComponent", "optionsResolverService", "FormSelectComponent", "FormSectionComponent", "panel", "fb", "Pane", "paneCopy", "rc", "items", "len", "FormTextareaComponent", "AbstractFormContentHandler", "file", "type", "iif", "Dataset", "ContentPluginEditorOptions", "FormElementHandler", "\u0275FormElementHandler_BaseFactory", "FormElementEditorComponent", "dialogRef", "handler", "mockDatasourceOptions", "MAT_DIALOG_DATA", "FormRadiogroupComponent", "FormSliderComponent", "FormToggleComponent", "FormCheckboxComponent", "FormDatepickerComponent", "picker_r1", "FormAutocompleteComponent", "debounceTime", "distinctUntilChanged", "withLatestFrom", "term", "Param", "Mapping", "e", "opt", "$event", "autocomplete_r3", "FormMediaComponent", "filesService", "mergeMap", "map$1", "mfs", "filter", "MediaFile", "switchMap$1", "f", "event", "FormHiddenComponent", "FormSectionEditorComponent", "a", "formInputPluginFactory", "ContentPlugin", "formSelectPluginFactory", "formRadiogroupPluginFactory", "formTextareaPluginFactory", "formSliderPluginFactory", "formTogglePluginFactory", "formCheckboxPluginFactory", "formDatepickerPluginFactory", "formAutocompletePluginFactory", "formMediaPluginFactory", "formHiddenPluginFactory", "formSectionStylePluginFactory", "StylePlugin", "FormsModule", "cpm", "spm", "CommonModule", "FormsModule$1", "ReactiveFormsModule", "MaterialModule", "RenderModule", "DatasourceModule", "NgxDropzoneModule", "OrdainModule"]
}
