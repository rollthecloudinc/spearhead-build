(self.webpackChunkspear=self.webpackChunkspear||[]).push([[6571],{9626:(V,b,_)=>{function C(w){return Array.isArray(w)?w:[w]}_.d(b,{F:()=>C})},6571:(V,b,_)=>{_.r(b),_.d(b,{CDK_DRAG_CONFIG:()=>he,CDK_DRAG_HANDLE:()=>de,CDK_DRAG_PARENT:()=>W,CDK_DRAG_PLACEHOLDER:()=>ze,CDK_DRAG_PREVIEW:()=>Ge,CDK_DROP_LIST:()=>ce,CDK_DROP_LIST_GROUP:()=>te,CdkDrag:()=>Be,CdkDragHandle:()=>Fe,CdkDragPlaceholder:()=>Ke,CdkDragPreview:()=>Ve,CdkDropList:()=>We,CdkDropListGroup:()=>He,DragDrop:()=>ee,DragDropModule:()=>pt,DragDropRegistry:()=>q,DragRef:()=>Ie,DropListRef:()=>Le,copyArrayItem:()=>ut,moveItemInArray:()=>ae,transferArrayItem:()=>ct,\u0275\u0275CdkScrollable:()=>J.CdkScrollable}),_(438);var w=_(8824),D=_(3730),f=_(3288),y=_(3398),s=_(642),v=_(2481),u=_(5240),P=_(9148),p=_(4205),E=_(7092),T=_(8473),z=_(4876),M=_(3762),B=_(3942),K=_(3617),Ze=_(5797),F=_(297),_e=_(1780),O=_(6338),$=_(3900),je=_(271),$e=_(1953),Je=_(8764),Ye=_(6647),ve=_(3037),qe=_(6739),J=_(1812),ge=_(7170),et=_(4149),tt=_(9626);function ie(a){var o=a.cloneNode(!0),e=o.querySelectorAll("[id]"),i=a.nodeName.toLowerCase();o.removeAttribute("id");for(var t=0;t<e.length;t++)e[t].removeAttribute("id");return"canvas"===i?me(a,o):("input"===i||"select"===i||"textarea"===i)&&pe(a,o),fe("canvas",a,o,me),fe("input, textarea, select",a,o,pe),o}function fe(a,o,e,i){var t=o.querySelectorAll(a);if(t.length)for(var r=e.querySelectorAll(a),n=0;n<t.length;n++)i(t[n],r[n])}var it=0;function pe(a,o){"file"!==o.type&&(o.value=a.value),"radio"===o.type&&o.name&&(o.name="mat-clone-".concat(o.name,"-").concat(it++))}function me(a,o){var e=o.getContext("2d");if(e)try{e.drawImage(a,0,0)}catch{}}function re(a){var o=a.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function ne(a,o,e){return e>=a.top&&e<=a.bottom&&o>=a.left&&o<=a.right}function Q(a,o,e){a.top+=o,a.bottom=a.top+a.height,a.left+=e,a.right=a.left+a.width}function De(a,o,e,i){var c=a.width*o,g=a.height*o;return i>a.top-g&&i<a.bottom+g&&e>a.left-c&&e<a.right+c}var ye=function(){return(0,y.A)(function a(o){(0,f.A)(this,a),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"positions",new Map),this._document=o},[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var i=this;this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(function(t){i.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:re(t)})})}},{key:"handleScroll",value:function(e){var i=(0,F.Fb)(e),t=this.positions.get(i);if(!t)return null;var n,l,r=t.scrollPosition;if(i===this._document){var d=this.getViewportScrollPosition();n=d.top,l=d.left}else n=i.scrollTop,l=i.scrollLeft;var h=r.top-n,c=r.left-l;return this.positions.forEach(function(g,m){g.clientRect&&i!==m&&i.contains(m)&&Q(g.clientRect,h,c)}),r.top=n,r.left=l,{top:h,left:c}}},{key:"getViewportScrollPosition",value:function(){return{top:window.scrollY,left:window.scrollX}}}])}();function Pe(a,o){var e=a.rootNodes;if(1===e.length&&e[0].nodeType===o.ELEMENT_NODE)return e[0];var i=o.createElement("div");return e.forEach(function(t){return i.appendChild(t)}),i}function oe(a,o,e){for(var i in o)if(o.hasOwnProperty(i)){var t=o[i];t?a.setProperty(i,t,null!=e&&e.has(i)?"important":""):a.removeProperty(i)}return a}function H(a,o){var e=o?"":"none";oe(a.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Ae(a,o,e){oe(a.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},e)}function Y(a,o){return o&&"none"!=o?a+" "+o:a}function we(a,o){a.style.width="".concat(o.width,"px"),a.style.height="".concat(o.height,"px"),a.style.transform=U(o.left,o.top)}function U(a,o){return"translate3d(".concat(Math.round(a),"px, ").concat(Math.round(o),"px, 0)")}function Se(a){var o=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*o}function se(a,o){return a.getPropertyValue(o).split(",").map(function(i){return i.trim()})}var ot=new Set(["position"]),st=function(){return(0,y.A)(function a(o,e,i,t,r,n,l,d,h,c){(0,f.A)(this,a),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_rootElement",void 0),(0,s.A)(this,"_direction",void 0),(0,s.A)(this,"_initialDomRect",void 0),(0,s.A)(this,"_previewTemplate",void 0),(0,s.A)(this,"_previewClass",void 0),(0,s.A)(this,"_pickupPositionOnPage",void 0),(0,s.A)(this,"_initialTransform",void 0),(0,s.A)(this,"_zIndex",void 0),(0,s.A)(this,"_renderer",void 0),(0,s.A)(this,"_previewEmbeddedView",void 0),(0,s.A)(this,"_preview",void 0),this._document=o,this._rootElement=e,this._direction=i,this._initialDomRect=t,this._previewTemplate=r,this._previewClass=n,this._pickupPositionOnPage=l,this._initialTransform=d,this._zIndex=h,this._renderer=c},[{key:"element",get:function(){return this._preview}},{key:"attach",value:function(e){this._preview=this._createPreview(),e.appendChild(this._preview),ke(this._preview)&&this._preview.showPopover()}},{key:"destroy",value:function(){var e;this._preview.remove(),null===(e=this._previewEmbeddedView)||void 0===e||e.destroy(),this._preview=this._previewEmbeddedView=null}},{key:"setTransform",value:function(e){this._preview.style.transform=e}},{key:"getBoundingClientRect",value:function(){return this._preview.getBoundingClientRect()}},{key:"addClass",value:function(e){this._preview.classList.add(e)}},{key:"getTransitionDuration",value:function(){return function nt(a){var o=getComputedStyle(a),e=se(o,"transition-property"),i=e.find(function(l){return"transform"===l||"all"===l});if(!i)return 0;var t=e.indexOf(i),r=se(o,"transition-duration"),n=se(o,"transition-delay");return Se(r[t])+Se(n[t])}(this._preview)}},{key:"addEventListener",value:function(e,i){return this._renderer.listen(this._preview,e,i)}},{key:"_createPreview",value:function(){var r,e=this._previewTemplate,i=this._previewClass,t=e?e.template:null;if(t&&e){var n=e.matchSize?this._initialDomRect:null,l=e.viewContainer.createEmbeddedView(t,e.context);l.detectChanges(),r=Pe(l,this._document),this._previewEmbeddedView=l,e.matchSize?we(r,n):r.style.transform=U(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else we(r=ie(this._rootElement),this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return oe(r.style,{"pointer-events":"none",margin:ke(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ot),H(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(function(d){return r.classList.add(d)}):r.classList.add(i)),r}}])}();function ke(a){return"showPopover"in a}var at={passive:!0},be={passive:!1},lt={passive:!1,capture:!0},Ce="cdk-drag-placeholder",Ee=new Set(["position"]),Ie=function(){return(0,y.A)(function a(o,e,i,t,r,n,l){var d=this;(0,f.A)(this,a),(0,s.A)(this,"_config",void 0),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_ngZone",void 0),(0,s.A)(this,"_viewportRuler",void 0),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_renderer",void 0),(0,s.A)(this,"_rootElementCleanups",void 0),(0,s.A)(this,"_cleanupShadowRootSelectStart",void 0),(0,s.A)(this,"_preview",void 0),(0,s.A)(this,"_previewContainer",void 0),(0,s.A)(this,"_placeholderRef",void 0),(0,s.A)(this,"_placeholder",void 0),(0,s.A)(this,"_pickupPositionInElement",void 0),(0,s.A)(this,"_pickupPositionOnPage",void 0),(0,s.A)(this,"_marker",void 0),(0,s.A)(this,"_anchor",null),(0,s.A)(this,"_passiveTransform",{x:0,y:0}),(0,s.A)(this,"_activeTransform",{x:0,y:0}),(0,s.A)(this,"_initialTransform",void 0),(0,s.A)(this,"_hasStartedDragging",u.vPA.apply(void 0,[!1].concat((0,D.A)([])))),(0,s.A)(this,"_hasMoved",void 0),(0,s.A)(this,"_initialContainer",void 0),(0,s.A)(this,"_initialIndex",void 0),(0,s.A)(this,"_parentPositions",void 0),(0,s.A)(this,"_moveEvents",new p.B),(0,s.A)(this,"_pointerDirectionDelta",void 0),(0,s.A)(this,"_pointerPositionAtLastDirectionChange",void 0),(0,s.A)(this,"_lastKnownPointerPosition",void 0),(0,s.A)(this,"_rootElement",void 0),(0,s.A)(this,"_ownerSVGElement",void 0),(0,s.A)(this,"_rootElementTapHighlight",void 0),(0,s.A)(this,"_pointerMoveSubscription",E.yU.EMPTY),(0,s.A)(this,"_pointerUpSubscription",E.yU.EMPTY),(0,s.A)(this,"_scrollSubscription",E.yU.EMPTY),(0,s.A)(this,"_resizeSubscription",E.yU.EMPTY),(0,s.A)(this,"_lastTouchEventTime",void 0),(0,s.A)(this,"_dragStartTime",void 0),(0,s.A)(this,"_boundaryElement",null),(0,s.A)(this,"_nativeInteractionsEnabled",!0),(0,s.A)(this,"_initialDomRect",void 0),(0,s.A)(this,"_previewRect",void 0),(0,s.A)(this,"_boundaryRect",void 0),(0,s.A)(this,"_previewTemplate",void 0),(0,s.A)(this,"_placeholderTemplate",void 0),(0,s.A)(this,"_handles",[]),(0,s.A)(this,"_disabledHandles",new Set),(0,s.A)(this,"_dropContainer",void 0),(0,s.A)(this,"_direction","ltr"),(0,s.A)(this,"_parentDragRef",void 0),(0,s.A)(this,"_cachedShadowRoot",void 0),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"dragStartDelay",0),(0,s.A)(this,"previewClass",void 0),(0,s.A)(this,"scale",1),(0,s.A)(this,"_disabled",!1),(0,s.A)(this,"beforeStarted",new p.B),(0,s.A)(this,"started",new p.B),(0,s.A)(this,"released",new p.B),(0,s.A)(this,"ended",new p.B),(0,s.A)(this,"entered",new p.B),(0,s.A)(this,"exited",new p.B),(0,s.A)(this,"dropped",new p.B),(0,s.A)(this,"moved",this._moveEvents),(0,s.A)(this,"data",void 0),(0,s.A)(this,"constrainPosition",void 0),(0,s.A)(this,"_pointerDown",function(h){if(d.beforeStarted.next(),d._handles.length){var c=d._getTargetHandle(h);c&&!d._disabledHandles.has(c)&&!d.disabled&&d._initializeDragSequence(c,h)}else d.disabled||d._initializeDragSequence(d._rootElement,h)}),(0,s.A)(this,"_pointerMove",function(h){var c=d._getPointerPositionOnPage(h);if(d._hasStartedDragging()){h.cancelable&&h.preventDefault();var L=d._getConstrainedPointerPosition(c);if(d._hasMoved=!0,d._lastKnownPointerPosition=c,d._updatePointerDirectionDelta(L),d._dropContainer)d._updateActiveDropContainer(L,c);else{var A=d.constrainPosition?d._initialDomRect:d._pickupPositionOnPage,G=d._activeTransform;G.x=L.x-A.x+d._passiveTransform.x,G.y=L.y-A.y+d._passiveTransform.y,d._applyRootElementTransform(G.x,G.y)}d._moveEvents.observers.length&&d._ngZone.run(function(){d._moveEvents.next({source:d,pointerPosition:L,event:h,distance:d._getDragDistance(L),delta:d._pointerDirectionDelta})})}else if(Math.abs(c.x-d._pickupPositionOnPage.x)+Math.abs(c.y-d._pickupPositionOnPage.y)>=d._config.dragStartThreshold){var R=Date.now()>=d._dragStartTime+d._getDragStartDelay(h),x=d._dropContainer;if(!R)return void d._endDragSequence(h);(!x||!x.isDragging()&&!x.isReceiving())&&(h.cancelable&&h.preventDefault(),d._hasStartedDragging.set(!0),d._ngZone.run(function(){return d._startDragSequence(h)}))}}),(0,s.A)(this,"_pointerUp",function(h){d._endDragSequence(h)}),(0,s.A)(this,"_nativeDragStart",function(h){if(d._handles.length){var c=d._getTargetHandle(h);c&&!d._disabledHandles.has(c)&&!d.disabled&&h.preventDefault()}else d.disabled||h.preventDefault()}),this._config=e,this._document=i,this._ngZone=t,this._viewportRuler=r,this._dragDropRegistry=n,this._renderer=l,this.withRootElement(o).withParent(e.parentDragRef||null),this._parentPositions=new ye(i),n.registerDragItem(this)},[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(i){return H(i,e)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var i=this;this._handles=e.map(function(r){return(0,O.i8)(r)}),this._handles.forEach(function(r){return H(r,i.disabled)}),this._toggleNativeDragInteractions();var t=new Set;return this._disabledHandles.forEach(function(r){i._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var i=this,t=(0,O.i8)(e);if(t!==this._rootElement){this._removeRootElementListeners();var r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(function(){return[r.listen(t,"mousedown",i._pointerDown,be),r.listen(t,"touchstart",i._pointerDown,at),r.listen(t,"dragstart",i._nativeDragStart,be)]}),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var i=this;return this._boundaryElement=e?(0,O.i8)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return i._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){var e,i;this._removeRootElementListeners(),this.isDragging()&&(null===(i=this._rootElement)||void 0===i||i.remove()),null===(e=this._marker)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"resetToBoundary",value:function(){if(this._boundaryElement&&this._rootElement&&function rt(a,o){return o.left<a.left||o.left+o.width>a.right||o.top<a.top||o.top+o.height>a.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){var e=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),t=0,r=0;i.left<e.left?t=e.left-i.left:i.right>e.right&&(t=e.right-i.right),i.top<e.top?r=e.top-i.top:i.bottom>e.bottom&&(r=e.bottom-i.bottom);var d=this._activeTransform.x+t,h=this._activeTransform.y+r;this._rootElement.style.transform=U(d,h),this._activeTransform={x:d,y:h},this._passiveTransform={x:d,y:h}}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),H(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),H(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"withPreviewContainer",value:function(e){return this._previewContainer=e,this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeListeners",value:function(){var e;this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),null===(e=this._cleanupShadowRootSelectStart)||void 0===e||e.call(this),this._cleanupShadowRootSelectStart=void 0}},{key:"_destroyPreview",value:function(){var e;null===(e=this._preview)||void 0===e||e.destroy(),this._preview=null}},{key:"_destroyPlaceholder",value:function(){var e,i,t;null===(e=this._anchor)||void 0===e||e.remove(),null===(i=this._placeholder)||void 0===i||i.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var i=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){i._cleanupDragArtifacts(e),i._cleanupCachedDimensions(),i._dragDropRegistry.stopDragging(i)});else{this._passiveTransform.x=this._activeTransform.x;var t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){i.ended.next({source:i,distance:i._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(e){var i=this;X(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(function(){i._cleanupShadowRootSelectStart=i._renderer.listen(t,"selectstart",ht,lt)}),r){var n=this._rootElement,l=n.parentNode,d=this._placeholder=this._createPlaceholderElement(),h=this._marker=this._marker||this._document.createComment("");l.insertBefore(h,n),this._initialTransform=n.style.transform||"",this._preview=new st(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(l,t)),Ae(n,!1,Ee),this._document.body.appendChild(l.replaceChild(d,n)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,i){var t=this;this._parentDragRef&&i.stopPropagation();var r=this.isDragging(),n=X(i),l=!n&&0!==i.button,d=this._rootElement,h=(0,F.Fb)(i),c=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=n?(0,_e.w)(i):(0,_e._)(i);if(h&&h.draggable&&"mousedown"===i.type&&i.preventDefault(),!(r||l||c||g)){if(this._handles.length){var m=d.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(x){return t._updateOnScroll(x)}),this._boundaryElement&&(this._boundaryRect=re(this._boundaryElement));var S=this._previewTemplate;this._pickupPositionInElement=S&&S.template&&!S.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,i);var R=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:R.x,y:R.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}}},{key:"_cleanupDragArtifacts",value:function(e){var i=this;Ae(this._rootElement,!0,Ee),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var t=i._dropContainer,r=t.getItemIndex(i),n=i._getPointerPositionOnPage(e),l=i._getDragDistance(n),d=t._isOverContainer(n.x,n.y);i.ended.next({source:i,distance:l,dropPoint:n,event:e}),i.dropped.next({item:i,currentIndex:r,previousIndex:i._initialIndex,container:t,previousContainer:i._initialContainer,isPointerOverContainer:d,distance:l,dropPoint:n,event:e}),t.drop(i,r,i._initialIndex,i._initialContainer,d,l,n,e),i._dropContainer=i._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,i){var t=this,r=e.x,n=e.y,l=i.x,d=i.y,h=this._initialContainer._getSiblingContainerFromPosition(this,r,n);!h&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,n)&&(h=this._initialContainer),h&&h!==this._dropContainer&&this._ngZone.run(function(){var c,g=t._dropContainer.getItemIndex(t),m=(null===(c=t._dropContainer.getItemAtIndex(g+1))||void 0===c?void 0:c.getVisibleElement())||null;t.exited.next({item:t,container:t._dropContainer}),t._dropContainer.exit(t),t._conditionallyInsertAnchor(h,t._dropContainer,m),t._dropContainer=h,t._dropContainer.enter(t,r,n,h===t._initialContainer&&h.sortingDisabled?t._initialIndex:void 0),t.entered.next({item:t,container:h,currentIndex:h.getItemIndex(t)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(l,d),this._dropContainer._sortItem(this,r,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,n):this._applyPreviewTransform(r-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);var t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(r){var n=function(c){(!c||e._preview&&(0,F.Fb)(c)===e._preview.element&&"transform"===c.propertyName)&&(d(),r(),clearTimeout(l))},l=setTimeout(n,1.5*t),d=e._preview.addEventListener("transitionend",n)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),this._placeholderRef.detectChanges(),t=Pe(this._placeholderRef,this._document)):t=ie(this._rootElement),t.style.pointerEvents="none",t.classList.add(Ce),t}},{key:"_getPointerPositionInElement",value:function(e,i,t){var r=i===this._rootElement?null:i,n=r?r.getBoundingClientRect():e,l=X(t)?t.targetTouches[0]:t,d=this._getViewportScrollPosition();return{x:n.left-e.left+(l.pageX-n.left-d.left),y:n.top-e.top+(l.pageY-n.top-d.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var i=this._getViewportScrollPosition(),t=X(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=t.pageX-i.left,n=t.pageY-i.top;if(this._ownerSVGElement){var l=this._ownerSVGElement.getScreenCTM();if(l){var d=this._ownerSVGElement.createSVGPoint();return d.x=r,d.y=n,d.matrixTransform(l.inverse())}}return{x:r,y:n}}},{key:"_getConstrainedPointerPosition",value:function(e){var i=this._dropContainer?this._dropContainer.lockAxis:null,t=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e,r=t.x,n=t.y;if("x"===this.lockAxis||"x"===i?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===i)&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){var l=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,d=l.x,h=l.y,c=this._boundaryRect,g=this._getPreviewRect(),R=c.top+h,x=c.bottom-(g.height-h);r=Re(r,c.left+d,c.right-(g.width-d)),n=Re(n,R,x)}return{x:r,y:n}}},{key:"_updatePointerDirectionDelta",value:function(e){var i=e.x,t=e.y,r=this._pointerDirectionDelta,n=this._pointerPositionAtLastDirectionChange,l=Math.abs(i-n.x),d=Math.abs(t-n.y);return l>this._config.pointerDirectionChangeThreshold&&(r.x=i>n.x?1:-1,n.x=i),d>this._config.pointerDirectionChangeThreshold&&(r.y=t>n.y?1:-1,n.y=t),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,H(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(){var e;null===(e=this._rootElementCleanups)||void 0===e||e.forEach(function(i){return i()}),this._rootElementCleanups=void 0}},{key:"_applyRootElementTransform",value:function(e,i){var t=1/this.scale,r=U(e*t,i*t),n=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=n.transform&&"none"!=n.transform?n.transform:""),n.transform=Y(r,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(e,i){var t,r=null!==(t=this._previewTemplate)&&void 0!==t&&t.template?void 0:this._initialTransform,n=U(e,i);this._preview.setTransform(Y(n,r))}},{key:"_getDragDistance",value:function(e){var i=this._pickupPositionOnPage;return i?{x:e.x-i.x,y:e.y-i.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,i=e.x,t=e.y;if(!(0===i&&0===t||this.isDragging())&&this._boundaryElement){var r=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(!(0===n.width&&0===n.height||0===r.width&&0===r.height)){var l=n.left-r.left,d=r.right-n.right,h=n.top-r.top,c=r.bottom-n.bottom;n.width>r.width?(l>0&&(i+=l),d>0&&(i-=d)):i=0,n.height>r.height?(h>0&&(t+=h),c>0&&(t-=c)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}}}},{key:"_getDragStartDelay",value:function(e){var i=this.dragStartDelay;return"number"==typeof i?i:X(e)?i.touch:i?i.mouse:0}},{key:"_updateOnScroll",value:function(e){var i=this._parentPositions.handleScroll(e);if(i){var t=(0,F.Fb)(e);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Q(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,F.KT)(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(e,i){var t=this._previewContainer||"global";if("parent"===t)return e;if("global"===t){var r=this._document;return i||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return(0,O.i8)(t)}},{key:"_getPreviewRect",value:function(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}},{key:"_getTargetHandle",value:function(e){return this._handles.find(function(i){return e.target&&(e.target===i||i.contains(e.target))})}},{key:"_conditionallyInsertAnchor",value:function(e,i,t){var r;if(e===this._initialContainer)null===(r=this._anchor)||void 0===r||r.remove(),this._anchor=null;else if(i===this._initialContainer&&i.hasAnchor){var n,l=null!==(n=this._anchor)&&void 0!==n?n:this._anchor=ie(this._placeholder);l.classList.remove(Ce),l.classList.add("cdk-drag-anchor"),l.style.transform="",t?t.before(l):(0,O.i8)(i.element).appendChild(l)}}}])}();function Re(a,o,e){return Math.max(o,Math.min(e,a))}function X(a){return"t"===a.type[0]}function ht(a){a.preventDefault()}function ae(a,o,e){var i=Z(o,a.length-1),t=Z(e,a.length-1);if(i!==t){for(var r=a[i],n=t<i?-1:1,l=i;l!==t;l+=n)a[l]=a[l+n];a[t]=r}}function ct(a,o,e,i){var t=Z(e,a.length-1),r=Z(i,o.length);a.length&&o.splice(r,0,a.splice(t,1)[0])}function ut(a,o,e,i){var t=Z(i,o.length);a.length&&o.splice(t,0,a[e])}function Z(a,o){return Math.max(0,Math.min(o,a))}var xe=function(){return(0,y.A)(function a(o){(0,f.A)(this,a),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_element",void 0),(0,s.A)(this,"_sortPredicate",void 0),(0,s.A)(this,"_itemPositions",[]),(0,s.A)(this,"_activeDraggables",void 0),(0,s.A)(this,"orientation","vertical"),(0,s.A)(this,"direction",void 0),(0,s.A)(this,"_previousSwap",{drag:null,delta:0,overlaps:!1}),this._dragDropRegistry=o},[{key:"start",value:function(e){this.withItems(e)}},{key:"sort",value:function(e,i,t,r){var n=this._itemPositions,l=this._getItemIndexFromPointerPosition(e,i,t,r);if(-1===l&&n.length>0)return null;var d="horizontal"===this.orientation,h=n.findIndex(function(A){return A.drag===e}),c=n[l],m=c.clientRect,S=h>l?1:-1,R=this._getItemOffsetPx(n[h].clientRect,m,S),x=this._getSiblingOffsetPx(h,n,S),L=n.slice();return ae(n,h,l),n.forEach(function(A,G){if(L[G]!==A){var Qe=A.drag===e,ue=Qe?R:x,Ue=Qe?e.getPlaceholderElement():A.drag.getRootElement();A.offset+=ue;var Xe=Math.round(A.offset*(1/A.drag.scale));d?(Ue.style.transform=Y("translate3d(".concat(Xe,"px, 0, 0)"),A.initialTransform),Q(A.clientRect,0,ue)):(Ue.style.transform=Y("translate3d(0, ".concat(Xe,"px, 0)"),A.initialTransform),Q(A.clientRect,ue,0))}}),this._previousSwap.overlaps=ne(m,i,t),this._previousSwap.drag=c.drag,this._previousSwap.delta=d?r.x:r.y,{previousIndex:h,currentIndex:l}}},{key:"enter",value:function(e,i,t,r){var n=null==r||r<0?this._getItemIndexFromPointerPosition(e,i,t):r,l=this._activeDraggables,d=l.indexOf(e),h=e.getPlaceholderElement(),c=l[n];if(c===e&&(c=l[n+1]),!c&&(null==n||-1===n||n<l.length-1)&&this._shouldEnterAsFirstChild(i,t)&&(c=l[0]),d>-1&&l.splice(d,1),c&&!this._dragDropRegistry.isDragging(c)){var g=c.getRootElement();g.parentElement.insertBefore(h,g),l.splice(n,0,e)}else this._element.appendChild(h),l.push(e);h.style.transform="",this._cacheItemPositions()}},{key:"withItems",value:function(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}},{key:"withSortPredicate",value:function(e){this._sortPredicate=e}},{key:"reset",value:function(){var e,i=this;null===(e=this._activeDraggables)||void 0===e||e.forEach(function(t){var r=t.getRootElement();if(r){var n,l=null===(n=i._itemPositions.find(function(d){return d.drag===t}))||void 0===n?void 0:n.initialTransform;r.style.transform=l||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}},{key:"getActiveItemsSnapshot",value:function(){return this._activeDraggables}},{key:"getItemIndex",value:function(e){return this._getVisualItemPositions().findIndex(function(i){return i.drag===e})}},{key:"getItemAtIndex",value:function(e){var i;return(null===(i=this._getVisualItemPositions()[e])||void 0===i?void 0:i.drag)||null}},{key:"updateOnScroll",value:function(e,i){var t=this;this._itemPositions.forEach(function(r){Q(r.clientRect,e,i)}),this._itemPositions.forEach(function(r){var n=r.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}},{key:"withElementContainer",value:function(e){this._element=e}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(function(i){var t=i.getVisibleElement();return{drag:i,offset:0,initialTransform:t.style.transform||"",clientRect:re(t)}}).sort(function(i,t){return e?i.clientRect.left-t.clientRect.left:i.clientRect.top-t.clientRect.top})}},{key:"_getVisualItemPositions",value:function(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}},{key:"_getItemOffsetPx",value:function(e,i,t){var r="horizontal"===this.orientation,n=r?i.left-e.left:i.top-e.top;return-1===t&&(n+=r?i.width-e.width:i.height-e.height),n}},{key:"_getSiblingOffsetPx",value:function(e,i,t){var r="horizontal"===this.orientation,n=i[e].clientRect,l=i[e+-1*t],d=n[r?"width":"height"]*t;if(l){var h=r?"left":"top",c=r?"right":"bottom";-1===t?d-=l.clientRect[h]-n[c]:d+=n[h]-l.clientRect[c]}return d}},{key:"_shouldEnterAsFirstChild",value:function(e,i){if(!this._activeDraggables.length)return!1;var t=this._itemPositions,r="horizontal"===this.orientation;if(t[0].drag!==this._activeDraggables[0]){var l=t[t.length-1].clientRect;return r?e>=l.right:i>=l.bottom}var d=t[0].clientRect;return r?e<=d.left:i<=d.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,i,t,r){var n=this,l="horizontal"===this.orientation,d=this._itemPositions.findIndex(function(h){var c=h.drag,g=h.clientRect;return c!==e&&((!r||c!==n._previousSwap.drag||!n._previousSwap.overlaps||(l?r.x:r.y)!==n._previousSwap.delta)&&(l?i>=Math.floor(g.left)&&i<Math.floor(g.right):t>=Math.floor(g.top)&&t<Math.floor(g.bottom)))});return-1!==d&&this._sortPredicate(d,e)?d:-1}}])}(),_t=function(){return(0,y.A)(function a(o,e){(0,f.A)(this,a),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_element",void 0),(0,s.A)(this,"_sortPredicate",void 0),(0,s.A)(this,"_rootNode",void 0),(0,s.A)(this,"_activeItems",void 0),(0,s.A)(this,"_previousSwap",{drag:null,deltaX:0,deltaY:0,overlaps:!1}),(0,s.A)(this,"_relatedNodes",[]),this._document=o,this._dragDropRegistry=e},[{key:"start",value:function(e){var i=this._element.childNodes;this._relatedNodes=[];for(var t=0;t<i.length;t++){var r=i[t];this._relatedNodes.push([r,r.nextSibling])}this.withItems(e)}},{key:"sort",value:function(e,i,t,r){var n=this._getItemIndexFromPointerPosition(e,i,t),l=this._previousSwap;if(-1===n||this._activeItems[n]===e)return null;var d=this._activeItems[n];if(l.drag===d&&l.overlaps&&l.deltaX===r.x&&l.deltaY===r.y)return null;var h=this.getItemIndex(e),c=e.getPlaceholderElement(),g=d.getRootElement();n>h?g.after(c):g.before(c),ae(this._activeItems,h,n);var m=this._getRootNode().elementFromPoint(i,t);return l.deltaX=r.x,l.deltaY=r.y,l.drag=d,l.overlaps=g===m||g.contains(m),{previousIndex:h,currentIndex:n}}},{key:"enter",value:function(e,i,t,r){var n=this._activeItems.indexOf(e);n>-1&&this._activeItems.splice(n,1);var l=null==r||r<0?this._getItemIndexFromPointerPosition(e,i,t):r;-1===l&&(l=this._getClosestItemIndexToPointer(e,i,t));var d=this._activeItems[l];d&&!this._dragDropRegistry.isDragging(d)?(this._activeItems.splice(l,0,e),d.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}},{key:"withItems",value:function(e){this._activeItems=e.slice()}},{key:"withSortPredicate",value:function(e){this._sortPredicate=e}},{key:"reset",value:function(){for(var e=this._element,i=this._previousSwap,t=this._relatedNodes.length-1;t>-1;t--){var r=(0,w.A)(this._relatedNodes[t],2),n=r[0],l=r[1];n.parentNode===e&&n.nextSibling!==l&&(null===l?e.appendChild(n):l.parentNode===e&&e.insertBefore(n,l))}this._relatedNodes=[],this._activeItems=[],i.drag=null,i.deltaX=i.deltaY=0,i.overlaps=!1}},{key:"getActiveItemsSnapshot",value:function(){return this._activeItems}},{key:"getItemIndex",value:function(e){return this._activeItems.indexOf(e)}},{key:"getItemAtIndex",value:function(e){return this._activeItems[e]||null}},{key:"updateOnScroll",value:function(){var e=this;this._activeItems.forEach(function(i){e._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}},{key:"withElementContainer",value:function(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}},{key:"_getItemIndexFromPointerPosition",value:function(e,i,t){var r=this._getRootNode().elementFromPoint(Math.floor(i),Math.floor(t)),n=r?this._activeItems.findIndex(function(l){var d=l.getRootElement();return r===d||d.contains(r)}):-1;return-1!==n&&this._sortPredicate(n,e)?n:-1}},{key:"_getRootNode",value:function(){return this._rootNode||(this._rootNode=(0,F.KT)(this._element)||this._document),this._rootNode}},{key:"_getClosestItemIndexToPointer",value:function(e,i,t){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;for(var r=1/0,n=-1,l=0;l<this._activeItems.length;l++){var d=this._activeItems[l];if(d!==e){var h=d.getRootElement().getBoundingClientRect(),m=Math.hypot(i-h.x,t-h.y);m<r&&(r=m,n=l)}}return n}}])}(),I=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(I||{}),k=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(k||{}),Le=function(){return(0,y.A)(function a(o,e,i,t,r){var n=this;(0,f.A)(this,a),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_ngZone",void 0),(0,s.A)(this,"_viewportRuler",void 0),(0,s.A)(this,"element",void 0),(0,s.A)(this,"disabled",!1),(0,s.A)(this,"sortingDisabled",!1),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"autoScrollDisabled",!1),(0,s.A)(this,"autoScrollStep",2),(0,s.A)(this,"hasAnchor",!1),(0,s.A)(this,"enterPredicate",function(){return!0}),(0,s.A)(this,"sortPredicate",function(){return!0}),(0,s.A)(this,"beforeStarted",new p.B),(0,s.A)(this,"entered",new p.B),(0,s.A)(this,"exited",new p.B),(0,s.A)(this,"dropped",new p.B),(0,s.A)(this,"sorted",new p.B),(0,s.A)(this,"receivingStarted",new p.B),(0,s.A)(this,"receivingStopped",new p.B),(0,s.A)(this,"data",void 0),(0,s.A)(this,"_container",void 0),(0,s.A)(this,"_isDragging",!1),(0,s.A)(this,"_parentPositions",void 0),(0,s.A)(this,"_sortStrategy",void 0),(0,s.A)(this,"_domRect",void 0),(0,s.A)(this,"_draggables",[]),(0,s.A)(this,"_siblings",[]),(0,s.A)(this,"_activeSiblings",new Set),(0,s.A)(this,"_viewportScrollSubscription",E.yU.EMPTY),(0,s.A)(this,"_verticalScrollDirection",I.NONE),(0,s.A)(this,"_horizontalScrollDirection",k.NONE),(0,s.A)(this,"_scrollNode",void 0),(0,s.A)(this,"_stopScrollTimers",new p.B),(0,s.A)(this,"_cachedShadowRoot",null),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_scrollableElements",[]),(0,s.A)(this,"_initialScrollSnap",void 0),(0,s.A)(this,"_direction","ltr"),(0,s.A)(this,"_startScrollInterval",function(){n._stopScrolling(),function N(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a<0&&(a=0),(0,z.O)(a,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.E)}(0,M.X).pipe((0,$.Q)(n._stopScrollTimers)).subscribe(function(){var d=n._scrollNode,h=n.autoScrollStep;n._verticalScrollDirection===I.UP?d.scrollBy(0,-h):n._verticalScrollDirection===I.DOWN&&d.scrollBy(0,h),n._horizontalScrollDirection===k.LEFT?d.scrollBy(-h,0):n._horizontalScrollDirection===k.RIGHT&&d.scrollBy(h,0)})}),this._dragDropRegistry=e,this._ngZone=t,this._viewportRuler=r;var l=this.element=(0,O.i8)(o);this._document=i,this.withOrientation("vertical").withElementContainer(l),e.registerDropContainer(this),this._parentPositions=new ye(i)},[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,i,t,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,i,t,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,i,t,r,n,l,d){var h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};this._reset(),this.dropped.next({item:e,currentIndex:i,previousIndex:t,container:this,previousContainer:r,isPointerOverContainer:n,distance:l,dropPoint:d,event:h})}},{key:"withItems",value:function(e){var i=this,t=this._draggables;return this._draggables=e,e.forEach(function(n){return n._withDropContainer(i)}),this.isDragging()&&(t.filter(function(n){return n.isDragging()}).every(function(n){return-1===e.indexOf(n)})?this._reset():this._sortStrategy.withItems(this._draggables)),this}},{key:"withDirection",value:function(e){return this._direction=e,this._sortStrategy instanceof xe&&(this._sortStrategy.direction=e),this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){var i=this;if("mixed"===e)this._sortStrategy=new _t(this._document,this._dragDropRegistry);else{var t=new xe(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate(function(r,n){return i.sortPredicate(r,n,i)}),this}},{key:"withScrollableParents",value:function(e){var i=this._container;return this._scrollableElements=-1===e.indexOf(i)?[i].concat((0,D.A)(e)):e.slice(),this}},{key:"withElementContainer",value:function(e){if(e===this._container)return this;(0,O.i8)(this.element);var t=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(e);return t>-1&&this._scrollableElements.splice(t,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}},{key:"getItemAtIndex",value:function(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,i,t,r){if(!this.sortingDisabled&&this._domRect&&De(this._domRect,.05,i,t)){var n=this._sortStrategy.sort(e,i,t,r);n&&this.sorted.next({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:e})}}},{key:"_startScrollingIfNecessary",value:function(e,i){var t=this;if(!this.autoScrollDisabled){var r,n=I.NONE,l=k.NONE;if(this._parentPositions.positions.forEach(function(m,S){if(S!==t._document&&m.clientRect&&!r&&De(m.clientRect,.05,e,i)){var R=function vt(a,o,e,i,t){var r=Me(o,t),n=Ne(o,i),l=I.NONE,d=k.NONE;if(r){var h=a.scrollTop;r===I.UP?h>0&&(l=I.UP):a.scrollHeight-h>a.clientHeight&&(l=I.DOWN)}if(n){var c=a.scrollLeft;"rtl"===e?n===k.RIGHT?c<0&&(d=k.RIGHT):a.scrollWidth+c>a.clientWidth&&(d=k.LEFT):n===k.LEFT?c>0&&(d=k.LEFT):a.scrollWidth-c>a.clientWidth&&(d=k.RIGHT)}return[l,d]}(S,m.clientRect,t._direction,e,i),x=(0,w.A)(R,2);l=x[1],((n=x[0])||l)&&(r=S)}}),!n&&!l){var d=this._viewportRuler.getViewportSize(),h=d.width,c=d.height,g={width:h,height:c,top:0,right:h,bottom:c,left:0};n=Me(g,i),l=Ne(g,e),r=window}r&&(n!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=l,this._scrollNode=r,(n||l)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_isOverContainer",value:function(e,i){return null!=this._domRect&&ne(this._domRect,e,i)}},{key:"_getSiblingContainerFromPosition",value:function(e,i,t){return this._siblings.find(function(r){return r._canReceive(e,i,t)})}},{key:"_canReceive",value:function(e,i,t){if(!this._domRect||!ne(this._domRect,i,t)||!this.enterPredicate(e,this))return!1;var r=this._getShadowRoot().elementFromPoint(i,t);return!!r&&(r===this._container||this._container.contains(r))}},{key:"_startReceiving",value:function(e,i){var t=this,r=this._activeSiblings;!r.has(e)&&i.every(function(n){return t.enterPredicate(n,t)||t._draggables.indexOf(n)>-1})&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:i}))}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(i){if(e.isDragging()){var t=e._parentPositions.handleScroll(i);t&&e._sortStrategy.updateOnScroll(t.top,t.left)}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=(0,F.KT)(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,i=this._sortStrategy.getActiveItemsSnapshot().filter(function(t){return t.isDragging()});this._siblings.forEach(function(t){return t._startReceiving(e,i)})}}])}();function Me(a,o){var e=a.top,i=a.bottom,r=.05*a.height;return o>=e-r&&o<=e+r?I.UP:o>=i-r&&o<=i+r?I.DOWN:I.NONE}function Ne(a,o){var e=a.left,i=a.right,r=.05*a.width;return o>=e-r&&o<=e+r?k.LEFT:o>=i-r&&o<=i+r?k.RIGHT:k.NONE}var j={capture:!0},le={passive:!1,capture:!0},gt=function(){var a,o=(0,y.A)(function e(){(0,f.A)(this,e)});return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275cmp",v.VBU({type:a,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,t){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})),o}(),q=function(){var a,o=function(){return(0,y.A)(function e(){var i=this;(0,f.A)(this,e),(0,s.A)(this,"_ngZone",(0,u.WQX)(v.SKi)),(0,s.A)(this,"_document",(0,u.WQX)(u.qQL)),(0,s.A)(this,"_styleLoader",(0,u.WQX)(qe.l)),(0,s.A)(this,"_renderer",(0,u.WQX)(v._9s).createRenderer(null,null)),(0,s.A)(this,"_cleanupDocumentTouchmove",void 0),(0,s.A)(this,"_scroll",new p.B),(0,s.A)(this,"_dropInstances",new Set),(0,s.A)(this,"_dragInstances",new Set),(0,s.A)(this,"_activeDragInstances",u.vPA.apply(void 0,[[]].concat((0,D.A)([])))),(0,s.A)(this,"_globalListeners",void 0),(0,s.A)(this,"_draggingPredicate",function(t){return t.isDragging()}),(0,s.A)(this,"_domNodesToDirectives",null),(0,s.A)(this,"pointerMove",new p.B),(0,s.A)(this,"pointerUp",new p.B),(0,s.A)(this,"_preventDefaultWhileDragging",function(t){i._activeDragInstances().length>0&&t.preventDefault()}),(0,s.A)(this,"_persistentTouchmoveListener",function(t){i._activeDragInstances().length>0&&(i._activeDragInstances().some(i._draggingPredicate)&&t.preventDefault(),i.pointerMove.next(t))})},[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var r=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){var n;null===(n=r._cleanupDocumentTouchmove)||void 0===n||n.call(r),r._cleanupDocumentTouchmove=r._renderer.listen(r._document,"touchmove",r._persistentTouchmoveListener,le)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){var r;this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&(null===(r=this._cleanupDocumentTouchmove)||void 0===r||r.call(this))}},{key:"startDragging",value:function(t,r){var n=this;if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(gt),this._activeDragInstances.update(function(c){return[].concat((0,D.A)(c),[t])}),1===this._activeDragInstances().length)){var l=r.type.startsWith("touch"),d=function(g){return n.pointerUp.next(g)},h=[["scroll",function(c){return n._scroll.next(c)},j],["selectstart",this._preventDefaultWhileDragging,le]];l?h.push(["touchend",d,j],["touchcancel",d,j]):h.push(["mouseup",d,j]),l||h.push(["mousemove",function(c){return n.pointerMove.next(c)},le]),this._ngZone.runOutsideAngular(function(){n._globalListeners=h.map(function(c){var g=(0,w.A)(c,3);return n._renderer.listen(n._document,g[0],g[1],g[2])})})}}},{key:"stopDragging",value:function(t){this._activeDragInstances.update(function(r){var n=r.indexOf(t);return n>-1?(r.splice(n,1),(0,D.A)(r)):r}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances().indexOf(t)>-1}},{key:"scrolled",value:function(t){var r=this,n=[this._scroll];return t&&t!==this._document&&n.push(new B.c(function(l){return r._ngZone.runOutsideAngular(function(){var d=r._renderer.listen(t,"scroll",function(h){r._activeDragInstances().length&&l.next(h)},j);return function(){d()}})})),K.h.apply(void 0,n)}},{key:"registerDirectiveNode",value:function(t,r){var n;null!==(n=this._domNodesToDirectives)&&void 0!==n||(this._domNodesToDirectives=new WeakMap),this._domNodesToDirectives.set(t,r)}},{key:"removeDirectiveNode",value:function(t){var r;null===(r=this._domNodesToDirectives)||void 0===r||r.delete(t)}},{key:"getDragDirectiveForNode",value:function(t){var r;return(null===(r=this._domNodesToDirectives)||void 0===r?void 0:r.get(t))||null}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(r){return t.removeDragItem(r)}),this._dropInstances.forEach(function(r){return t.removeDropContainer(r)}),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t;null===(t=this._globalListeners)||void 0===t||t.forEach(function(r){return r()}),this._globalListeners=void 0}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275prov",u.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),o}(),ft={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ee=function(){var a,o=function(){return(0,y.A)(function e(){(0,f.A)(this,e),(0,s.A)(this,"_document",(0,u.WQX)(u.qQL)),(0,s.A)(this,"_ngZone",(0,u.WQX)(v.SKi)),(0,s.A)(this,"_viewportRuler",(0,u.WQX)(J.ViewportRuler)),(0,s.A)(this,"_dragDropRegistry",(0,u.WQX)(q)),(0,s.A)(this,"_renderer",(0,u.WQX)(v._9s).createRenderer(null,null))},[{key:"createDrag",value:function(t){return new Ie(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}},{key:"createDropList",value:function(t){return new Le(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275prov",u.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),o}(),W=new u.nKC("CDK_DRAG_PARENT"),de=new u.nKC("CdkDragHandle"),Fe=function(){var a,o=function(){return(0,y.A)(function e(){var i;(0,f.A)(this,e),(0,s.A)(this,"element",(0,u.WQX)(v.aKT)),(0,s.A)(this,"_parentDrag",(0,u.WQX)(W,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_dragDropRegistry",(0,u.WQX)(q)),(0,s.A)(this,"_stateChanges",new p.B),(0,s.A)(this,"_disabled",!1),null===(i=this._parentDrag)||void 0===i||i._addHandle(this)},[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._stateChanges.next(this)}},{key:"ngAfterViewInit",value:function(){if(!this._parentDrag)for(var t=this.element.nativeElement.parentElement;t;){var r=this._dragDropRegistry.getDragDirectiveForNode(t);if(r){this._parentDrag=r,r._addHandle(this);break}t=t.parentElement}}},{key:"ngOnDestroy",value:function(){var t;null===(t=this._parentDrag)||void 0===t||t._removeHandle(this),this._stateChanges.complete()}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",v.FsC({type:a,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",P.L39]},features:[v.Jv_([{provide:de,useExisting:a}])]})),o}(),he=new u.nKC("CDK_DRAG_CONFIG"),ce=new u.nKC("CdkDropList"),Be=function(){var a,o=function(){return(0,y.A)(function e(){var i=this;(0,f.A)(this,e),(0,s.A)(this,"element",(0,u.WQX)(v.aKT)),(0,s.A)(this,"dropContainer",(0,u.WQX)(ce,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_ngZone",(0,u.WQX)(v.SKi)),(0,s.A)(this,"_viewContainerRef",(0,u.WQX)(v.c1b)),(0,s.A)(this,"_dir",(0,u.WQX)(ge.dS,{optional:!0})),(0,s.A)(this,"_changeDetectorRef",(0,u.WQX)(P.gRc)),(0,s.A)(this,"_selfHandle",(0,u.WQX)(de,{optional:!0,self:!0})),(0,s.A)(this,"_parentDrag",(0,u.WQX)(W,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_dragDropRegistry",(0,u.WQX)(q)),(0,s.A)(this,"_destroyed",new p.B),(0,s.A)(this,"_handles",new Ze.t([])),(0,s.A)(this,"_previewTemplate",void 0),(0,s.A)(this,"_placeholderTemplate",void 0),(0,s.A)(this,"_dragRef",void 0),(0,s.A)(this,"data",void 0),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"rootElementSelector",void 0),(0,s.A)(this,"boundaryElement",void 0),(0,s.A)(this,"dragStartDelay",void 0),(0,s.A)(this,"freeDragPosition",void 0),(0,s.A)(this,"_disabled",void 0),(0,s.A)(this,"constrainPosition",void 0),(0,s.A)(this,"previewClass",void 0),(0,s.A)(this,"previewContainer",void 0),(0,s.A)(this,"scale",1),(0,s.A)(this,"started",new v.bkB),(0,s.A)(this,"released",new v.bkB),(0,s.A)(this,"ended",new v.bkB),(0,s.A)(this,"entered",new v.bkB),(0,s.A)(this,"exited",new v.bkB),(0,s.A)(this,"dropped",new v.bkB),(0,s.A)(this,"moved",new B.c(function(l){var d=i._dragRef.moved.pipe((0,je.T)(function(h){return{source:i,pointerPosition:h.pointerPosition,event:h.event,delta:h.delta,distance:h.distance}})).subscribe(l);return function(){d.unsubscribe()}})),(0,s.A)(this,"_injector",(0,u.WQX)(u.zZn));var t=this.dropContainer,r=(0,u.WQX)(he,{optional:!0}),n=(0,u.WQX)(ee);this._dragRef=n.createDrag(this.element,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe((0,$.Q)(this._destroyed)).subscribe(function(){i._dragRef.scale=i.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)},[{key:"disabled",get:function(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)},set:function(t){this._disabled=t,this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"resetToBoundary",value:function(){this._dragRef.resetToBoundary()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"setFreeDragPosition",value:function(t){this._dragRef.setFreeDragPosition(t)}},{key:"ngAfterViewInit",value:function(){var t=this;(0,v.mal)(function(){t._updateRootElement(),t._setupHandlesListener(),t._dragRef.scale=t.scale,t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)},{injector:this._injector})}},{key:"ngOnChanges",value:function(t){var r=t.rootElementSelector,n=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){var t=this;this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(function(){t._handles.complete(),t._destroyed.next(),t._destroyed.complete(),t._dragRef.dispose()})}},{key:"_addHandle",value:function(t){var r=this._handles.getValue();r.push(t),this._handles.next(r)}},{key:"_removeHandle",value:function(t){var r=this._handles.getValue(),n=r.indexOf(t);n>-1&&(r.splice(n,1),this._handles.next(r))}},{key:"_setPreviewTemplate",value:function(t){this._previewTemplate=t}},{key:"_resetPreviewTemplate",value:function(t){t===this._previewTemplate&&(this._previewTemplate=null)}},{key:"_setPlaceholderTemplate",value:function(t){this._placeholderTemplate=t}},{key:"_resetPlaceholderTemplate",value:function(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}},{key:"_updateRootElement",value:function(){var n,t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):null===(n=t.parentElement)||void 0===n?void 0:n.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,O.i8)(t):null}},{key:"_syncInputs",value:function(t){var r=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var n=r._dir,l=r.dragStartDelay,d=r._placeholderTemplate?{template:r._placeholderTemplate.templateRef,context:r._placeholderTemplate.data,viewContainer:r._viewContainerRef}:null,h=r._previewTemplate?{template:r._previewTemplate.templateRef,context:r._previewTemplate.data,matchSize:r._previewTemplate.matchSize,viewContainer:r._viewContainerRef}:null;t.disabled=r.disabled,t.lockAxis=r.lockAxis,t.scale=r.scale,t.dragStartDelay="object"==typeof l&&l?l:(0,O.OE)(l),t.constrainPosition=r.constrainPosition,t.previewClass=r.previewClass,t.withBoundaryElement(r._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(h).withPreviewContainer(r.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe((0,$e.s)(1)).subscribe(function(){if(r._parentDrag)t.withParent(r._parentDrag._dragRef);else for(var n=r.element.nativeElement.parentElement;n;){var l=r._dragDropRegistry.getDragDirectiveForNode(n);if(l){t.withParent(l._dragRef);break}n=n.parentElement}})}},{key:"_handleEvents",value:function(t){var r=this;t.started.subscribe(function(n){r.started.emit({source:r,event:n.event}),r._changeDetectorRef.markForCheck()}),t.released.subscribe(function(n){r.released.emit({source:r,event:n.event})}),t.ended.subscribe(function(n){r.ended.emit({source:r,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),r._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(n){r.entered.emit({container:n.container.data,item:r,currentIndex:n.currentIndex})}),t.exited.subscribe(function(n){r.exited.emit({container:n.container.data,item:r})}),t.dropped.subscribe(function(n){r.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:r,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}},{key:"_assignDefaults",value:function(t){var r=t.lockAxis,n=t.dragStartDelay,l=t.constrainPosition,d=t.previewClass,h=t.boundaryElement,g=t.rootElementSelector,m=t.previewContainer;this.disabled=t.draggingDisabled??!1,this.dragStartDelay=n||0,this.lockAxis=r||null,l&&(this.constrainPosition=l),d&&(this.previewClass=d),h&&(this.boundaryElement=h),g&&(this.rootElementSelector=g),m&&(this.previewContainer=m)}},{key:"_setupHandlesListener",value:function(){var t=this;this._handles.pipe((0,Je.M)(function(r){var n=r.map(function(l){return l.element});t._selfHandle&&t.rootElementSelector&&n.push(t.element),t._dragRef.withHandles(n)}),(0,Ye.n)(function(r){return K.h.apply(void 0,(0,D.A)(r.map(function(n){return n._stateChanges.pipe((0,ve.Z)(n))})))}),(0,$.Q)(this._destroyed)).subscribe(function(r){var n=t._dragRef,l=r.element.nativeElement;r.disabled?n.disableHandle(l):n.enableHandle(l)})}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",v.FsC({type:a,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,t){2&i&&v.AVh("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",P.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",P.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[v.Jv_([{provide:W,useExisting:a}]),v.OA$]})),o}(),te=new u.nKC("CdkDropListGroup"),He=function(){var a,o=function(){return(0,y.A)(function e(){(0,f.A)(this,e),(0,s.A)(this,"_items",new Set),(0,s.A)(this,"disabled",!1)},[{key:"ngOnDestroy",value:function(){this._items.clear()}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",v.FsC({type:a,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",P.L39]},exportAs:["cdkDropListGroup"],features:[v.Jv_([{provide:te,useExisting:a}])]})),o}(),We=function(){var a,o=function(){function e(){var i=this;(0,f.A)(this,e),(0,s.A)(this,"element",(0,u.WQX)(v.aKT)),(0,s.A)(this,"_changeDetectorRef",(0,u.WQX)(P.gRc)),(0,s.A)(this,"_scrollDispatcher",(0,u.WQX)(J.ScrollDispatcher)),(0,s.A)(this,"_dir",(0,u.WQX)(ge.dS,{optional:!0})),(0,s.A)(this,"_group",(0,u.WQX)(te,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_latestSortedRefs",void 0),(0,s.A)(this,"_destroyed",new p.B),(0,s.A)(this,"_scrollableParentsResolved",void 0),(0,s.A)(this,"_dropListRef",void 0),(0,s.A)(this,"connectedTo",[]),(0,s.A)(this,"data",void 0),(0,s.A)(this,"orientation",void 0),(0,s.A)(this,"id",(0,u.WQX)(et.g).getId("cdk-drop-list-")),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"_disabled",void 0),(0,s.A)(this,"sortingDisabled",void 0),(0,s.A)(this,"enterPredicate",function(){return!0}),(0,s.A)(this,"sortPredicate",function(){return!0}),(0,s.A)(this,"autoScrollDisabled",void 0),(0,s.A)(this,"autoScrollStep",void 0),(0,s.A)(this,"elementContainerSelector",void 0),(0,s.A)(this,"hasAnchor",void 0),(0,s.A)(this,"dropped",new v.bkB),(0,s.A)(this,"entered",new v.bkB),(0,s.A)(this,"exited",new v.bkB),(0,s.A)(this,"sorted",new v.bkB),(0,s.A)(this,"_unsortedItems",new Set);var t=(0,u.WQX)(ee),r=(0,u.WQX)(he,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=function(n,l){return i.enterPredicate(n.data,l.data)},this._dropListRef.sortPredicate=function(n,l,d){return i.sortPredicate(n,l.data,d.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),this._group&&this._group._items.add(this)}return(0,y.A)(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=t}},{key:"addItem",value:function(t){this._unsortedItems.add(t),t._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(function(r){return r._dragRef}))}},{key:"removeItem",value:function(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){var r=this._latestSortedRefs.indexOf(t._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(t,r){return t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var r=this;this._dir&&this._dir.change.pipe((0,ve.Z)(this._dir.value),(0,$.Q)(this._destroyed)).subscribe(function(n){return t.withDirection(n)}),t.beforeStarted.subscribe(function(){var n=(0,tt.F)(r.connectedTo).map(function(h){return"string"==typeof h?e._dropLists.find(function(g){return g.id===h}):h});if(r._group&&r._group._items.forEach(function(h){-1===n.indexOf(h)&&n.push(h)}),!r._scrollableParentsResolved){var l=r._scrollDispatcher.getAncestorScrollContainers(r.element).map(function(h){return h.getElementRef().nativeElement});r._dropListRef.withScrollableParents(l),r._scrollableParentsResolved=!0}if(r.elementContainerSelector){var d=r.element.nativeElement.querySelector(r.elementContainerSelector);t.withElementContainer(d)}t.disabled=r.disabled,t.lockAxis=r.lockAxis,t.sortingDisabled=r.sortingDisabled,t.autoScrollDisabled=r.autoScrollDisabled,t.autoScrollStep=(0,O.OE)(r.autoScrollStep,2),t.hasAnchor=r.hasAnchor,t.connectedTo(n.filter(function(h){return h&&h!==r}).map(function(h){return h._dropListRef})).withOrientation(r.orientation)})}},{key:"_handleEvents",value:function(t){var r=this;t.beforeStarted.subscribe(function(){r._syncItemsWithRef(r.getSortedItems().map(function(n){return n._dragRef})),r._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(n){r.entered.emit({container:r,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(function(n){r.exited.emit({container:r,item:n.item.data}),r._changeDetectorRef.markForCheck()}),t.sorted.subscribe(function(n){r.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:r,item:n.item.data})}),t.dropped.subscribe(function(n){r.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),r._changeDetectorRef.markForCheck()}),(0,K.h)(t.receivingStarted,t.receivingStopped).subscribe(function(){return r._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(t){var r=t.lockAxis,l=t.sortingDisabled,d=t.listAutoScrollDisabled,h=t.listOrientation;this.disabled=t.draggingDisabled??!1,this.sortingDisabled=l??!1,this.autoScrollDisabled=d??!1,this.orientation=h||"vertical",this.lockAxis=r||null}},{key:"_syncItemsWithRef",value:function(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}}])}();return a=o,(0,s.A)(o,"_dropLists",[]),(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",v.FsC({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,t){2&i&&(v.BMQ("id",t.id),v.AVh("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",P.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",P.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",P.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",P.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[v.Jv_([{provide:te,useValue:void 0},{provide:ce,useExisting:a}])]})),o}(),Ge=new u.nKC("CdkDragPreview"),Ve=function(){var a,o=function(){return(0,y.A)(function e(){var i;(0,f.A)(this,e),(0,s.A)(this,"templateRef",(0,u.WQX)(v.C4Q)),(0,s.A)(this,"_drag",(0,u.WQX)(W,{optional:!0})),(0,s.A)(this,"data",void 0),(0,s.A)(this,"matchSize",!1),null===(i=this._drag)||void 0===i||i._setPreviewTemplate(this)},[{key:"ngOnDestroy",value:function(){var t;null===(t=this._drag)||void 0===t||t._resetPreviewTemplate(this)}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",v.FsC({type:a,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:[2,"matchSize","matchSize",P.L39]},features:[v.Jv_([{provide:Ge,useExisting:a}])]})),o}(),ze=new u.nKC("CdkDragPlaceholder"),Ke=function(){var a,o=function(){return(0,y.A)(function e(){var i;(0,f.A)(this,e),(0,s.A)(this,"templateRef",(0,u.WQX)(v.C4Q)),(0,s.A)(this,"_drag",(0,u.WQX)(W,{optional:!0})),(0,s.A)(this,"data",void 0),null===(i=this._drag)||void 0===i||i._setPlaceholderTemplate(this)},[{key:"ngOnDestroy",value:function(){var t;null===(t=this._drag)||void 0===t||t._resetPlaceholderTemplate(this)}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",v.FsC({type:a,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[v.Jv_([{provide:ze,useExisting:a}])]})),o}(),pt=function(){var a,o=(0,y.A)(function e(){(0,f.A)(this,e)});return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275mod",v.$C({type:a})),(0,s.A)(o,"\u0275inj",u.G2t({providers:[ee],imports:[J.CdkScrollableModule]})),o}()},1780:(V,b,_)=>{function C(D){return 0===D.buttons||0===D.detail}function w(D){var f=D.touches&&D.touches[0]||D.changedTouches&&D.changedTouches[0];return!(!f||-1!==f.identifier||null!=f.radiusX&&1!==f.radiusX||null!=f.radiusY&&1!==f.radiusY)}_.d(b,{_:()=>C,w:()=>w})},4149:(V,b,_)=>{_.d(b,{g:()=>v});var C=_(3288),w=_(3398),D=_(642),f=_(5240),y=_(2481),s={},v=function(){var u,P=function(){return(0,w.A)(function p(){(0,C.A)(this,p),(0,D.A)(this,"_appId",(0,f.WQX)(y.sZ2))},[{key:"getId",value:function(T){return"ng"!==this._appId&&(T+=this._appId),s.hasOwnProperty(T)||(s[T]=0),"".concat(T).concat(s[T]++)}}])}();return u=P,(0,D.A)(P,"\u0275fac",function(E){return new(E||u)}),(0,D.A)(P,"\u0275prov",f.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})),P}()},297:(V,b,_)=>{var C;function w(){if(null==C){var s=typeof document<"u"?document.head:null;C=!(!s||!s.createShadowRoot&&!s.attachShadow)}return C}function D(s){if(w()){var v=s.getRootNode?s.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&v instanceof ShadowRoot)return v}return null}function f(){for(var s=typeof document<"u"&&document?document.activeElement:null;s&&s.shadowRoot;){var v=s.shadowRoot.activeElement;if(v===s)break;s=v}return s}function y(s){return s.composedPath?s.composedPath()[0]:s.target}_.d(b,{Fb:()=>y,KT:()=>D,cm:()=>w,vc:()=>f})},6739:(V,b,_)=>{_.d(b,{l:()=>u});var C=_(3288),w=_(3398),D=_(642),f=_(5240),y=_(2481),s=_(9148),v=new WeakMap,u=function(){var P,p=function(){return(0,w.A)(function E(){(0,C.A)(this,E),(0,D.A)(this,"_appRef",void 0),(0,D.A)(this,"_injector",(0,f.WQX)(f.zZn)),(0,D.A)(this,"_environmentInjector",(0,f.WQX)(f.uvJ))},[{key:"load",value:function(z){var N=this._appRef=this._appRef||this._injector.get(y.o8S),M=v.get(N);M||(v.set(N,M={loaders:new Set,refs:[]}),N.onDestroy(function(){var B;null===(B=v.get(N))||void 0===B||B.refs.forEach(function(K){return K.destroy()}),v.delete(N)})),M.loaders.has(z)||(M.loaders.add(z),M.refs.push((0,s.a0P)(z,{environmentInjector:this._environmentInjector})))}}])}();return P=p,(0,D.A)(p,"\u0275fac",function(T){return new(T||P)}),(0,D.A)(p,"\u0275prov",f.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})),p}()}}]);
//# sourceMappingURL=6571.b3b33fdbfe37abf7.js.map