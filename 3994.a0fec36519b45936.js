(self.webpackChunkspear=self.webpackChunkspear||[]).push([[3994],{53994:(sr,vt,R)=>{R.r(vt),R.d(vt,{ANIMATION_MODULE_TYPE:()=>A.ANIMATION_MODULE_TYPE,BrowserAnimationsModule:()=>xi,NoopAnimationsModule:()=>tr,provideAnimations:()=>er,provideNoopAnimations:()=>nr,\u0275InjectableAnimationEngine:()=>Xt});var F=R(63730),k=R(43288),T=R(63398),ge=R(82297),pe=R(13544),l=R(40642),A=R(49431),sn=R(88051),Me=R(22292),B=R(98824),Q=R(50438),_=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(_||{}),Y="*";function dt(r){return{type:_.Style,styles:r,offset:null}}var se=function(){return(0,T.A)(function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,k.A)(this,r),(0,l.A)(this,"_onDoneFns",[]),(0,l.A)(this,"_onStartFns",[]),(0,l.A)(this,"_onDestroyFns",[]),(0,l.A)(this,"_originalOnDoneFns",[]),(0,l.A)(this,"_originalOnStartFns",[]),(0,l.A)(this,"_started",!1),(0,l.A)(this,"_destroyed",!1),(0,l.A)(this,"_finished",!1),(0,l.A)(this,"_position",0),(0,l.A)(this,"parentPlayer",null),(0,l.A)(this,"totalTime",void 0),this.totalTime=n+e},[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;queueMicrotask(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(i){return i()}),t.length=0}}])}(),mt=function(){return(0,T.A)(function r(n){var e=this;(0,k.A)(this,r),(0,l.A)(this,"_onDoneFns",[]),(0,l.A)(this,"_onStartFns",[]),(0,l.A)(this,"_finished",!1),(0,l.A)(this,"_started",!1),(0,l.A)(this,"_destroyed",!1),(0,l.A)(this,"_onDestroyFns",[]),(0,l.A)(this,"parentPlayer",null),(0,l.A)(this,"totalTime",0),(0,l.A)(this,"players",void 0),this.players=n;var t=0,i=0,a=0,s=this.players.length;0==s?queueMicrotask(function(){return e._onFinish()}):this.players.forEach(function(o){o.onDone(function(){++t==s&&e._onFinish()}),o.onDestroy(function(){++i==s&&e._onDestroy()}),o.onStart(function(){++a==s&&e._onStart()})}),this.totalTime=this.players.reduce(function(o,u){return Math.max(o,u.totalTime)},0)},[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(i){var a=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(a)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(t,i){return null===t||i.totalTime>t.totalTime?i:t},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(i){return i()}),t.length=0}}])}();function yt(r){return new A.\u0275RuntimeError(3e3,!1)}function gn(r){return new A.\u0275RuntimeError(3002,!1)}function Z(r){switch(r.length){case 0:return new se;case 1:return r[0];default:return new mt(r)}}function gt(r,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=[],a=[],s=-1,o=null;if(n.forEach(function(u){var f=u.get("offset"),h=f==s,c=h&&o||new Map;u.forEach(function(v,d){var y=d,g=v;if("offset"!==d)switch(y=r.normalizePropertyName(y,i),g){case"!":g=e.get(d);break;case Y:g=t.get(d);break;default:g=r.normalizeStyleValue(d,y,g,i)}c.set(y,g)}),h||a.push(c),o=c,s=f}),i.length)throw function Pn(){return new A.\u0275RuntimeError(3502,!1)}();return a}function Fe(r,n,e,t){switch(n){case"start":r.onStart(function(){return t(e&&Ie(e,"start",r))});break;case"done":r.onDone(function(){return t(e&&Ie(e,"done",r))});break;case"destroy":r.onDestroy(function(){return t(e&&Ie(e,"destroy",r))})}}function Ie(r,n,e){var a=Oe(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),s=r._data;return null!=s&&(a._data=s),a}function Oe(r,n,e,t){return{element:r,triggerName:n,fromState:e,toState:t,phaseName:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",totalTime:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,disabled:!!(arguments.length>6?arguments[6]:void 0)}}function O(r,n,e){var t=r.get(n);return t||r.set(n,t=e),t}function pt(r){var n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}var Qn=function(){return typeof document>"u"?null:document.documentElement}();function Le(r){var n=r.parentNode||r.host||null;return n===Qn?null:n}var J=null,_t=!1;function At(r,n){for(;n;){if(n===r)return!0;n=Le(n)}return!1}function St(r,n,e){if(e)return Array.from(r.querySelectorAll(n));var t=r.querySelector(n);return t?[t]:[]}var kt="ng-enter",ze="ng-leave",_e="ng-trigger",Ae=".ng-trigger",Tt="ng-animating",Be=".ng-animating";function $(r){if("number"==typeof r)return r;var n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Ke(parseFloat(n[1]),n[2])}function Ke(r,n){return"s"===n?1e3*r:r}function Se(r,n,e){return r.hasOwnProperty("duration")?r:function Hn(r,n,e){var t,i=0,a="";if("string"==typeof r){var s=r.match(Wn);if(null===s)return n.push(yt()),{duration:0,delay:0,easing:""};t=Ke(parseFloat(s[1]),s[2]);var o=s[3];null!=o&&(i=Ke(parseFloat(o),s[4]));var u=s[5];u&&(a=u)}else t=r;if(!e){var f=!1,h=n.length;t<0&&(n.push(function un(){return new A.\u0275RuntimeError(3100,!1)}()),f=!0),i<0&&(n.push(function ln(){return new A.\u0275RuntimeError(3101,!1)}()),f=!0),f&&n.splice(h,0,yt())}return{duration:t,delay:i,easing:a}}(r,n,e)}var Wn=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function j(r,n,e){n.forEach(function(t,i){var a=qe(i);e&&!e.has(i)&&e.set(i,r.style[a]),r.style[a]=t})}function x(r,n){n.forEach(function(e,t){var i=qe(t);r.style[i]=""})}function oe(r){return Array.isArray(r)?1==r.length?r[0]:function on(r){return{type:_.Sequence,steps:r,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}(r):r}var Qe=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function bt(r){var n=[];if("string"==typeof r){for(var e;e=Qe.exec(r);)n.push(e[1]);Qe.lastIndex=0}return n}function ue(r,n,e){var t="".concat(r),i=t.replace(Qe,function(a,s){var o=n[s];return null==o&&(e.push(function hn(){return new A.\u0275RuntimeError(3003,!1)}()),o=""),o.toString()});return i==t?r:i}var Xn=/-+([a-z0-9])/g;function qe(r){return r.replace(Xn,function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e[1].toUpperCase()})}function L(r,n,e){switch(n.type){case _.Trigger:return r.visitTrigger(n,e);case _.State:return r.visitState(n,e);case _.Transition:return r.visitTransition(n,e);case _.Sequence:return r.visitSequence(n,e);case _.Group:return r.visitGroup(n,e);case _.Animate:return r.visitAnimate(n,e);case _.Keyframes:return r.visitKeyframes(n,e);case _.Style:return r.visitStyle(n,e);case _.Reference:return r.visitReference(n,e);case _.AnimateChild:return r.visitAnimateChild(n,e);case _.AnimateRef:return r.visitAnimateRef(n,e);case _.Query:return r.visitQuery(n,e);case _.Stagger:return r.visitStagger(n,e);default:throw function cn(){return new A.\u0275RuntimeError(3004,!1)}()}}function Ve(r,n){return window.getComputedStyle(r)[n]}var xn=["value"],je=function(){var r,n=function(){return(0,T.A)(function e(){(0,k.A)(this,e)},[{key:"validateStyleProperty",value:function(i){return function Vn(r){J||(J=function jn(){return typeof document<"u"?document.body:null}()||{},_t=!!J.style&&"WebkitAppearance"in J.style);var n=!0;return J.style&&!function qn(r){return"ebkit"==r.substring(1,6)}(r)&&!(n=r in J.style)&&_t&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in J.style),n}(i)}},{key:"containsElement",value:function(i,a){return At(i,a)}},{key:"getParentElement",value:function(i){return Le(i)}},{key:"query",value:function(i,a,s){return St(i,a,s)}},{key:"computeStyle",value:function(i,a,s){return s||""}},{key:"animate",value:function(i,a,s,o,u){return new se(s,o)}}])}();return r=n,(0,l.A)(n,"\u0275fac",function(t){return new(t||r)}),(0,l.A)(n,"\u0275prov",A.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac})),n}(),Ee=(0,T.A)(function r(){(0,k.A)(this,r)});(0,l.A)(Ee,"NOOP",new je);var Ue=(0,T.A)(function r(){(0,k.A)(this,r)}),ti=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wt=function(r){function n(){return(0,k.A)(this,n),(0,ge.A)(this,n,arguments)}return(0,pe.A)(n,r),(0,T.A)(n,[{key:"normalizePropertyName",value:function(t,i){return qe(t)}},{key:"normalizeStyleValue",value:function(t,i,a,s){var o="",u=a.toString().trim();if(ti.has(i)&&0!==a&&"0"!==a)if("number"==typeof a)o="px";else{var f=a.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&s.push(function vn(){return new A.\u0275RuntimeError(3005,!1)}())}return u+o}}])}(Ue);var Te=new Set(["true","1"]),be=new Set(["false","0"]);function Nt(r,n){var e=Te.has(r)||be.has(r),t=Te.has(n)||be.has(n);return function(i,a){var s="*"==r||r==i,o="*"==n||n==a;return!s&&e&&"boolean"==typeof i&&(s=i?Te.has(r):be.has(r)),!o&&t&&"boolean"==typeof a&&(o=a?Te.has(n):be.has(n)),s&&o}}var ai=new RegExp("s*".concat(":self","s*,?"),"g");function Dt(r,n,e,t){return new si(r).build(n,e,t)}var si=function(){return(0,T.A)(function r(n){(0,k.A)(this,r),(0,l.A)(this,"_driver",void 0),this._driver=n},[{key:"build",value:function(e,t,i){var a=new li(t);return this._resetContextStyleTimingState(a),L(this,oe(e),a)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var i=this,a=t.queryCount=0,s=t.depCount=0,o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function dn(){return new A.\u0275RuntimeError(3006,!1)}()),e.definitions.forEach(function(f){if(i._resetContextStyleTimingState(t),f.type==_.State){var h=f,c=h.name;c.toString().split(/\s*,\s*/).forEach(function(d){h.name=d,o.push(i.visitState(h,t))}),h.name=c}else if(f.type==_.Transition){var v=i.visitTransition(f,t);a+=v.queryCount,s+=v.depCount,u.push(v)}else t.errors.push(function mn(){return new A.\u0275RuntimeError(3007,!1)}())}),{type:_.Trigger,name:e.name,states:o,transitions:u,queryCount:a,depCount:s,options:null}}},{key:"visitState",value:function(e,t){var i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){var s=new Set,o=a||{};i.styles.forEach(function(u){u instanceof Map&&u.forEach(function(f){bt(f).forEach(function(h){o.hasOwnProperty(h)||s.add(h)})})}),s.size&&t.errors.push(function yn(){return new A.\u0275RuntimeError(3008,!1)}(0,(0,F.A)(s.values())))}return{type:_.State,name:e.name,style:i,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var i=L(this,oe(e.animation),t),a=function ni(r,n){var e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(function(t){return function ii(r,n,e){if(":"==r[0]){var t=function ri(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return n.push(function wn(){return new A.\u0275RuntimeError(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof t)return void n.push(t);r=t}var i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function bn(){return new A.\u0275RuntimeError(3015,!1)}()),n;var a=i[1],s=i[2],o=i[3];n.push(Nt(a,o)),"<"==s[0]&&("*"!=a||"*"!=o)&&n.push(Nt(o,a))}(t,e,n)}):e.push(r),e}(e.expr,t.errors);return{type:_.Transition,matchers:a,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ee(e.options)}}},{key:"visitSequence",value:function(e,t){var i=this;return{type:_.Sequence,steps:e.steps.map(function(a){return L(i,a,t)}),options:ee(e.options)}}},{key:"visitGroup",value:function(e,t){var i=this,a=t.currentTime,s=0,o=e.steps.map(function(u){t.currentTime=a;var f=L(i,u,t);return s=Math.max(s,t.currentTime),f});return t.currentTime=s,{type:_.Group,steps:o,options:ee(e.options)}}},{key:"visitAnimate",value:function(e,t){var i=function hi(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return We(Se(r,n).duration,0,"");var t=r,i=t.split(/\s+/).some(function(o){return"{"==o.charAt(0)&&"{"==o.charAt(1)});if(i){var a=We(0,0,"");return a.dynamic=!0,a.strValue=t,a}var s=Se(t,n);return We(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var a,s=e.styles?e.styles:dt({});if(s.type==_.Keyframes)a=this.visitKeyframes(s,t);else{var o=e.styles,u=!1;if(!o){u=!0;var f={};i.easing&&(f.easing=i.easing),o=dt(f)}t.currentTime+=i.duration+i.delay;var h=this.visitStyle(o,t);h.isEmptyStep=u,a=h}return t.currentAnimateTimings=null,{type:_.Animate,timings:i,style:a,options:null}}},{key:"visitStyle",value:function(e,t){var i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}},{key:"_makeStyleAst",value:function(e,t){var o,i=[],a=Array.isArray(e.styles)?e.styles:[e.styles],s=(0,Q.A)(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;"string"==typeof u?u===Y?i.push(u):t.errors.push(gn()):i.push(new Map(Object.entries(u)))}}catch(c){s.e(c)}finally{s.f()}var f=!1,h=null;return i.forEach(function(c){if(c instanceof Map&&(c.has("easing")&&(h=c.get("easing"),c.delete("easing")),!f)){var d,v=(0,Q.A)(c.values());try{for(v.s();!(d=v.n()).done;)if(d.value.toString().indexOf("{{")>=0){f=!0;break}}catch(g){v.e(g)}finally{v.f()}}}),{type:_.Style,styles:i,easing:h,offset:e.offset,containsDynamicStyles:f,options:null}}},{key:"_validateStyleAst",value:function(e,t){var a=t.currentAnimateTimings,s=t.currentTime,o=t.currentTime;a&&o>0&&(o-=a.duration+a.delay),e.styles.forEach(function(u){"string"!=typeof u&&u.forEach(function(f,h){var c=t.collectedStyles.get(t.currentQuerySelector),v=c.get(h),d=!0;v&&(o!=s&&o>=v.startTime&&s<=v.endTime&&(t.errors.push(function pn(){return new A.\u0275RuntimeError(3010,!1)}()),d=!1),o=v.startTime),d&&c.set(h,{startTime:o,endTime:s}),t.options&&function $n(r,n,e){var t=n.params||{},i=bt(r);i.length&&i.forEach(function(a){t.hasOwnProperty(a)||e.push(function fn(){return new A.\u0275RuntimeError(3001,!1)}())})}(f,t.options,t.errors)})})}},{key:"visitKeyframes",value:function(e,t){var i=this,a={type:_.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _n(){return new A.\u0275RuntimeError(3011,!1)}()),a;var o=0,u=[],f=!1,h=!1,c=0,v=e.steps.map(function(C){var w=i._makeStyleAst(C,t),M=null!=w.offset?w.offset:function fi(r){if("string"==typeof r)return null;var n=null;if(Array.isArray(r))r.forEach(function(t){if(t instanceof Map&&t.has("offset")){var i=t;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){var e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(w.styles),D=0;return null!=M&&(o++,D=w.offset=M),h=h||D<0||D>1,f=f||D<c,c=D,u.push(D),w});h&&t.errors.push(function An(){return new A.\u0275RuntimeError(3012,!1)}()),f&&t.errors.push(function Sn(){return new A.\u0275RuntimeError(3200,!1)}());var d=e.steps.length,y=0;o>0&&o<d?t.errors.push(function En(){return new A.\u0275RuntimeError(3202,!1)}()):0==o&&(y=1/(d-1));var g=d-1,p=t.currentTime,b=t.currentAnimateTimings,N=b.duration;return v.forEach(function(C,w){var M=y>0?w==g?1:y*w:u[w],D=M*N;t.currentTime=p+b.delay+D,b.duration=D,i._validateStyleAst(C,t),C.offset=M,a.styles.push(C)}),a}},{key:"visitReference",value:function(e,t){return{type:_.Reference,animation:L(this,oe(e.animation),t),options:ee(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:_.AnimateChild,options:ee(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:_.AnimateRef,animation:this.visitReference(e.animation,t),options:ee(e.options)}}},{key:"visitQuery",value:function(e,t){var i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;var s=function oi(r){var n=!!r.split(/\s*,\s*/).find(function(e){return":self"==e});return n&&(r=r.replace(ai,"")),r=r.replace(/@\*/g,Ae).replace(/@\w+/g,function(e){return Ae+"-"+e.slice(1)}).replace(/:animating/g,Be),[r,n]}(e.selector),o=(0,B.A)(s,2),u=o[0],f=o[1];t.currentQuerySelector=i.length?i+" "+u:u,O(t.collectedStyles,t.currentQuerySelector,new Map);var h=L(this,oe(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:_.Query,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:h,originalSelector:e.selector,options:ee(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push(function kn(){return new A.\u0275RuntimeError(3013,!1)}());var i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Se(e.timings,t.errors,!0);return{type:_.Stagger,animation:L(this,oe(e.animation),t),timings:i,options:null}}}])}(),li=(0,T.A)(function r(n){(0,k.A)(this,r),(0,l.A)(this,"errors",void 0),(0,l.A)(this,"queryCount",0),(0,l.A)(this,"depCount",0),(0,l.A)(this,"currentTransition",null),(0,l.A)(this,"currentQuery",null),(0,l.A)(this,"currentQuerySelector",null),(0,l.A)(this,"currentAnimateTimings",null),(0,l.A)(this,"currentTime",0),(0,l.A)(this,"collectedStyles",new Map),(0,l.A)(this,"options",null),(0,l.A)(this,"unsupportedCSSPropertiesFound",new Set),this.errors=n});function ee(r){return r?(r=(0,Me.A)({},r)).params&&(r.params=function ui(r){return r?(0,Me.A)({},r):null}(r.params)):r={},r}function We(r,n,e){return{duration:r,delay:n,easing:e}}function He(r,n,e,t,i,a){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:t,duration:i,delay:a,totalTime:i+a,easing:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,subTimeline:arguments.length>7&&void 0!==arguments[7]&&arguments[7]}}var Ye=function(){return(0,T.A)(function r(){(0,k.A)(this,r),(0,l.A)(this,"_map",new Map)},[{key:"get",value:function(e){return this._map.get(e)||[]}},{key:"append",value:function(e,t){var i,a=this._map.get(e);a||this._map.set(e,a=[]),(i=a).push.apply(i,(0,F.A)(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}])}(),di=new RegExp(":enter","g"),yi=new RegExp(":leave","g");function Mt(r,n,e,t,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Map,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Map,o=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new gi).buildKeyframes(r,n,e,t,i,a,s,o,u,f)}var gi=function(){return(0,T.A)(function r(){(0,k.A)(this,r)},[{key:"buildKeyframes",value:function(e,t,i,a,s,o,u,f,h){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];h=h||new Ye;var v=new pi(e,t,h,a,s,c,[]);v.options=f;var d=f.delay?$(f.delay):0;v.currentTimeline.delayNextStep(d),v.currentTimeline.setStyles([o],null,v.errors,f),L(this,i,v);var y=v.timelines.filter(function(N){return N.containsAnimation()});if(y.length&&u.size){for(var g,p=y.length-1;p>=0;p--){var b=y[p];if(b.element===t){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([u],null,v.errors,f)}return y.length?y.map(function(N){return N.buildKeyframes()}):[He(t,[],[],[],0,d,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var i=t.subInstructions.get(t.element);if(i){var a=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,a,a.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}},{key:"_applyAnimationRefDelays",value:function(e,t,i){var s,a=(0,Q.A)(e);try{for(a.s();!(s=a.n()).done;){var o=s.value,u=o?.delay;if(u){var f,h="number"==typeof u?u:$(ue(u,null!==(f=o?.params)&&void 0!==f?f:{},t.errors));i.delayNextStep(h)}}}catch(c){a.e(c)}finally{a.f()}}},{key:"_visitSubInstructions",value:function(e,t,i){var s=t.currentTimeline.currentTime,o=null!=i.duration?$(i.duration):null,u=null!=i.delay?$(i.delay):null;return 0!==o&&e.forEach(function(f){var h=t.appendInstructionToTimeline(f,o,u);s=Math.max(s,h.duration+h.delay)}),s}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),L(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var i=this,a=t.subContextCount,s=t,o=e.options;if(o&&(o.params||o.delay)&&((s=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){s.previousNode.type==_.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=we);var u=$(o.delay);s.delayNextStep(u)}e.steps.length&&(e.steps.forEach(function(f){return L(i,f,s)}),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>a&&s.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var i=this,a=[],s=t.currentTimeline.currentTime,o=e.options&&e.options.delay?$(e.options.delay):0;e.steps.forEach(function(u){var f=t.createSubContext(e.options);o&&f.delayNextStep(o),L(i,u,f),s=Math.max(s,f.currentTimeline.currentTime),a.push(f.currentTimeline)}),a.forEach(function(u){return t.currentTimeline.mergeTimelineCollectedStyles(u)}),t.transformIntoNewTimeline(s),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var i=e.strValue;return Se(t.params?ue(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());var s=e.style;s.type==_.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();var s=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var i=t.currentAnimateTimings,a=t.currentTimeline.duration,s=i.duration,u=t.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(function(f){u.forwardTime((f.offset||0)*s),u.setStyles(f.styles,f.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(a+s),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var i=this,a=t.currentTimeline.currentTime,s=e.options||{},o=s.delay?$(s.delay):0;o&&(t.previousNode.type===_.Style||0==a&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=we);var u=a,f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=f.length;var h=null;f.forEach(function(c,v){t.currentQueryIndex=v;var d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(h=d.currentTimeline),L(i,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var i=t.parentContext,a=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),u=o*(t.currentQueryTotal-1),f=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=u-f;break;case"full":f=i.currentStaggerTime}var c=t.currentTimeline;f&&c.delayNextStep(f);var v=c.currentTime;L(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-v+(a.startTime-i.currentTimeline.startTime)}}])}(),we={},pi=function(){function r(n,e,t,i,a,s,o,u){(0,k.A)(this,r),(0,l.A)(this,"_driver",void 0),(0,l.A)(this,"element",void 0),(0,l.A)(this,"subInstructions",void 0),(0,l.A)(this,"_enterClassName",void 0),(0,l.A)(this,"_leaveClassName",void 0),(0,l.A)(this,"errors",void 0),(0,l.A)(this,"timelines",void 0),(0,l.A)(this,"parentContext",null),(0,l.A)(this,"currentTimeline",void 0),(0,l.A)(this,"currentAnimateTimings",null),(0,l.A)(this,"previousNode",we),(0,l.A)(this,"subContextCount",0),(0,l.A)(this,"options",{}),(0,l.A)(this,"currentQueryIndex",0),(0,l.A)(this,"currentQueryTotal",0),(0,l.A)(this,"currentStaggerTime",0),this._driver=n,this.element=e,this.subInstructions=t,this._enterClassName=i,this._leaveClassName=a,this.errors=s,this.timelines=o,this.currentTimeline=u||new Rt(this._driver,e,0),o.push(this.currentTimeline)}return(0,T.A)(r,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var i=this;if(e){var a=e,s=this.options;null!=a.duration&&(s.duration=$(a.duration)),null!=a.delay&&(s.delay=$(a.delay));var o=a.params;if(o){var u=s.params;u||(u=this.options.params={}),Object.keys(o).forEach(function(f){(!t||!u.hasOwnProperty(f))&&(u[f]=ue(o[f],u,i.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var i=e.params={};Object.keys(t).forEach(function(a){i[a]=t[a]})}}return e}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=(arguments.length>1?arguments[1]:void 0)||this.element,s=new r(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,(arguments.length>2?arguments[2]:void 0)||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=we,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,i){var a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new _i(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(s),a}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,i,a,s,o){var u=[];if(a&&u.push(this.element),e.length>0){e=(e=e.replace(di,"."+this._enterClassName)).replace(yi,"."+this._leaveClassName);var h=this._driver.query(this.element,e,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),u.push.apply(u,(0,F.A)(h))}return!s&&0==u.length&&o.push(function Tn(){return new A.\u0275RuntimeError(3014,!1)}()),u}}])}(),Rt=function(){function r(n,e,t,i){(0,k.A)(this,r),(0,l.A)(this,"_driver",void 0),(0,l.A)(this,"element",void 0),(0,l.A)(this,"startTime",void 0),(0,l.A)(this,"_elementTimelineStylesLookup",void 0),(0,l.A)(this,"duration",0),(0,l.A)(this,"easing",null),(0,l.A)(this,"_previousKeyframe",new Map),(0,l.A)(this,"_currentKeyframe",new Map),(0,l.A)(this,"_keyframes",new Map),(0,l.A)(this,"_styleSummary",new Map),(0,l.A)(this,"_localTimelineStyles",new Map),(0,l.A)(this,"_globalTimelineStyles",void 0),(0,l.A)(this,"_pendingStyles",new Map),(0,l.A)(this,"_backFill",new Map),(0,l.A)(this,"_currentEmptyStepKeyframe",null),this._driver=n,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return(0,T.A)(r,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}},{key:"hasCurrentStyleProperties",value:function(){return this._currentKeyframe.size>0}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){e&&this._previousKeyframe.set("easing",e);var i,t=(0,Q.A)(this._globalTimelineStyles);try{for(t.s();!(i=t.n()).done;){var a=(0,B.A)(i.value,2),s=a[0];this._backFill.set(s,a[1]||Y),this._currentKeyframe.set(s,Y)}}catch(u){t.e(u)}finally{t.f()}this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,i,a){t&&this._previousKeyframe.set("easing",t);var f,s=a&&a.params||{},o=function Ai(r,n){var t,e=new Map;return r.forEach(function(i){if("*"===i){t??(t=n.keys());var s,a=(0,Q.A)(t);try{for(a.s();!(s=a.n()).done;)e.set(s.value,Y)}catch(d){a.e(d)}finally{a.f()}}else{var f,u=(0,Q.A)(i);try{for(u.s();!(f=u.n()).done;){var h=(0,B.A)(f.value,2);e.set(h[0],h[1])}}catch(d){u.e(d)}finally{u.f()}}}),e}(e,this._globalTimelineStyles),u=(0,Q.A)(o);try{for(u.s();!(f=u.n()).done;){var y,h=(0,B.A)(f.value,2),c=h[0],d=ue(h[1],s,i);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,null!==(y=this._globalTimelineStyles.get(c))&&void 0!==y?y:Y),this._updateStyle(c,d)}}catch(g){u.e(g)}finally{u.f()}}},{key:"applyStylesToKeyframe",value:function(){var e=this;0!=this._pendingStyles.size&&(this._pendingStyles.forEach(function(t,i){e._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach(function(t,i){e._currentKeyframe.has(i)||e._currentKeyframe.set(i,t)}))}},{key:"snapshotCurrentStyles",value:function(){var t,e=(0,Q.A)(this._localTimelineStyles);try{for(e.s();!(t=e.n()).done;){var i=(0,B.A)(t.value,2),a=i[0],s=i[1];this._pendingStyles.set(a,s),this._updateStyle(a,s)}}catch(o){e.e(o)}finally{e.f()}}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;e._styleSummary.forEach(function(i,a){var s=t._styleSummary.get(a);(!s||i.time>s.time)&&t._updateStyle(a,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration,s=[];this._keyframes.forEach(function(c,v){var d=new Map([].concat((0,F.A)(e._backFill),(0,F.A)(c)));d.forEach(function(y,g){"!"===y?t.add(g):y===Y&&i.add(g)}),a||d.set("offset",v/e.duration),s.push(d)});var o=(0,F.A)(t.values()),u=(0,F.A)(i.values());if(a){var f=s[0],h=new Map(f);f.set("offset",0),h.set("offset",1),s=[f,h]}return He(this.element,s,o,u,this.duration,this.startTime,this.easing,!1)}}])}(),_i=function(r){function n(e,t,i,a,s,o){var u,f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,k.A)(this,n),u=(0,ge.A)(this,n,[e,t,o.delay]),(0,l.A)(u,"keyframes",void 0),(0,l.A)(u,"preStyleProps",void 0),(0,l.A)(u,"postStyleProps",void 0),(0,l.A)(u,"_stretchStartingKeyframe",void 0),(0,l.A)(u,"timings",void 0),u.keyframes=i,u.preStyleProps=a,u.postStyleProps=s,u._stretchStartingKeyframe=f,u.timings={duration:o.duration,delay:o.delay,easing:o.easing},u}return(0,pe.A)(n,r),(0,T.A)(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,i=this.timings,a=i.delay,s=i.duration,o=i.easing;if(this._stretchStartingKeyframe&&a){var u=[],f=s+a,h=a/f,c=new Map(t[0]);c.set("offset",0),u.push(c);var v=new Map(t[0]);v.set("offset",Ft(h)),u.push(v);for(var d=t.length-1,y=1;y<=d;y++){var g=new Map(t[y]),p=g.get("offset");g.set("offset",Ft((a+p*s)/f)),u.push(g)}s=f,a=0,o="",t=u}return He(this.element,t,this.preStyleProps,this.postStyleProps,s,a,o,!0)}}])}(Rt);function Ft(r){var e=Math.pow(10,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3)-1);return Math.round(r*e)/e}function It(r,n,e,t,i,a,s,o,u,f,h,c,v){return{type:0,element:r,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:a,toState:t,toStyles:s,timelines:o,queriedElements:u,preStyleProps:f,postStyleProps:h,totalTime:c,errors:v}}var $e={},Ot=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"_triggerName",void 0),(0,l.A)(this,"ast",void 0),(0,l.A)(this,"_stateStyles",void 0),this._triggerName=n,this.ast=e,this._stateStyles=t},[{key:"match",value:function(e,t,i,a){return function Si(r,n,e,t,i){return r.some(function(a){return a(n,e,t,i)})}(this.ast.matchers,e,t,i,a)}},{key:"buildStyles",value:function(e,t,i){var a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,i):new Map}},{key:"build",value:function(e,t,i,a,s,o,u,f,h,c){var v,d=[],y=this.ast.options&&this.ast.options.params||$e,p=this.buildStyles(i,u&&u.params||$e,d),b=f&&f.params||$e,N=this.buildStyles(a,b,d),C=new Set,w=new Map,M=new Map,D="void"===a,te={params:Lt(b,y),delay:null===(v=this.ast.options)||void 0===v?void 0:v.delay},U=c?[]:Mt(e,t,this.ast.animation,s,o,p,N,te,h,d),G=0;return U.forEach(function(z){G=Math.max(z.duration+z.delay,G)}),d.length?It(t,this._triggerName,i,a,D,p,N,[],[],w,M,G,d):(U.forEach(function(z){var V=z.element,he=O(w,V,new Set);z.preStyleProps.forEach(function(re){return he.add(re)});var it=O(M,V,new Set);z.postStyleProps.forEach(function(re){return it.add(re)}),V!==t&&C.add(V)}),It(t,this._triggerName,i,a,D,p,N,U,(0,F.A)(C.values()),w,M,G))}}])}();function Lt(r,n){var e=(0,Me.A)({},n);return Object.entries(r).forEach(function(t){var i=(0,B.A)(t,2),s=i[1];null!=s&&(e[i[0]]=s)}),e}var Ei=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"styles",void 0),(0,l.A)(this,"defaultParams",void 0),(0,l.A)(this,"normalizer",void 0),this.styles=n,this.defaultParams=e,this.normalizer=t},[{key:"buildStyles",value:function(e,t){var i=this,a=new Map,s=Lt(e,this.defaultParams);return this.styles.styles.forEach(function(o){"string"!=typeof o&&o.forEach(function(u,f){u&&(u=ue(u,s,t));var h=i.normalizer.normalizePropertyName(f,t);u=i.normalizer.normalizeStyleValue(f,h,u,t),a.set(f,u)})}),a}}])}(),Ti=function(){return(0,T.A)(function r(n,e,t){var i=this;(0,k.A)(this,r),(0,l.A)(this,"name",void 0),(0,l.A)(this,"ast",void 0),(0,l.A)(this,"_normalizer",void 0),(0,l.A)(this,"transitionFactories",[]),(0,l.A)(this,"fallbackTransition",void 0),(0,l.A)(this,"states",new Map),this.name=n,this.ast=e,this._normalizer=t,e.states.forEach(function(a){i.states.set(a.name,new Ei(a.style,a.options&&a.options.params||{},t))}),zt(this.states,"true","1"),zt(this.states,"false","0"),e.transitions.forEach(function(a){i.transitionFactories.push(new Ot(n,a,i.states))}),this.fallbackTransition=function bi(r,n){return new Ot(r,{type:_.Transition,animation:{type:_.Sequence,steps:[],options:null},matchers:[function(s,o){return!0}],options:null,queryCount:0,depCount:0},n)}(n,this.states)},[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,i,a){return this.transitionFactories.find(function(o){return o.match(e,t,i,a)})||null}},{key:"matchStyles",value:function(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}])}();function zt(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}var wi=new Ye,Ni=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"bodyNode",void 0),(0,l.A)(this,"_driver",void 0),(0,l.A)(this,"_normalizer",void 0),(0,l.A)(this,"_animations",new Map),(0,l.A)(this,"_playersById",new Map),(0,l.A)(this,"players",[]),this.bodyNode=n,this._driver=e,this._normalizer=t},[{key:"register",value:function(e,t){var i=[],s=Dt(this._driver,t,i,[]);if(i.length)throw function Dn(){return new A.\u0275RuntimeError(3503,!1)}();this._animations.set(e,s)}},{key:"_buildPlayer",value:function(e,t,i){var a=e.element,s=gt(this._normalizer,e.keyframes,t,i);return this._driver.animate(a,s,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var u,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=[],o=this._animations.get(e),f=new Map;if(o?(u=Mt(this._driver,t,o,kt,ze,new Map,new Map,a,wi,s)).forEach(function(v){var d=O(f,v.element,new Map);v.postStyleProps.forEach(function(y){return d.set(y,null)})}):(s.push(function Cn(){return new A.\u0275RuntimeError(3300,!1)}()),u=[]),s.length)throw function Mn(){return new A.\u0275RuntimeError(3504,!1)}();f.forEach(function(v,d){v.forEach(function(y,g){v.set(g,i._driver.computeStyle(d,g,Y))})});var c=Z(u.map(function(v){var d=f.get(v.element);return i._buildPlayer(v,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(function(){return i.destroy(e)}),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);var i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById.get(e);if(!t)throw function Rn(){return new A.\u0275RuntimeError(3301,!1)}();return t}},{key:"listen",value:function(e,t,i,a){var s=Oe(t,"","","");return Fe(this._getPlayer(e),i,s,a),function(){}}},{key:"command",value:function(e,t,i,a){if("register"!=i)if("create"!=i){var o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,a[0]||{});else this.register(e,a[0])}}])}(),Bt="ng-animate-queued",Xe="ng-animate-disabled",Ri=[],Kt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},q="__ng_removed",Ze=function(){return(0,T.A)(function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,k.A)(this,r),(0,l.A)(this,"namespaceId",void 0),(0,l.A)(this,"value",void 0),(0,l.A)(this,"options",void 0),this.namespaceId=e;var t=n&&n.hasOwnProperty("value");if(this.value=function zi(r){return r??null}(t?n.value:n),t){var s=(0,sn.A)(n,xn);this.options=s}else this.options={};this.options.params||(this.options.params={})},[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var i=this.options.params;Object.keys(t).forEach(function(a){null==i[a]&&(i[a]=t[a])})}}}])}(),le="void",Je=new Ze(le),Ii=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"id",void 0),(0,l.A)(this,"hostElement",void 0),(0,l.A)(this,"_engine",void 0),(0,l.A)(this,"players",[]),(0,l.A)(this,"_triggers",new Map),(0,l.A)(this,"_queue",[]),(0,l.A)(this,"_elementListeners",new Map),(0,l.A)(this,"_hostClassName",void 0),this.id=n,this.hostElement=e,this._engine=t,this._hostClassName="ng-tns-"+n,K(e,this._hostClassName)},[{key:"listen",value:function(e,t,i,a){var s=this;if(!this._triggers.has(t))throw function Fn(){return new A.\u0275RuntimeError(3302,!1)}();if(null==i||0==i.length)throw function In(){return new A.\u0275RuntimeError(3303,!1)}();if(!function Bi(r){return"start"==r||"done"==r}(i))throw function On(){return new A.\u0275RuntimeError(3400,!1)}();var o=O(this._elementListeners,e,[]),u={name:t,phase:i,callback:a};o.push(u);var f=O(this._engine.statesByElement,e,new Map);return f.has(t)||(K(e,_e),K(e,_e+"-"+t),f.set(t,Je)),function(){s._engine.afterFlush(function(){var h=o.indexOf(u);h>=0&&o.splice(h,1),s._triggers.has(t)||f.delete(t)})}}},{key:"register",value:function(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers.get(e);if(!t)throw function Ln(){return new A.\u0275RuntimeError(3401,!1)}();return t}},{key:"trigger",value:function(e,t,i){var a=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),u=new xe(this.id,t,e),f=this._engine.statesByElement.get(e);f||(K(e,_e),K(e,_e+"-"+t),this._engine.statesByElement.set(e,f=new Map));var h=f.get(t),c=new Ze(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&c.absorbOptions(h.options),f.set(t,c),h||(h=Je),c.value===le||h.value!==c.value){var b=O(this._engine.playersByElement,e,[]);b.forEach(function(w){w.namespaceId==a.id&&w.triggerName==t&&w.queued&&w.destroy()});var N=o.matchTransition(h.value,c.value,e,c.params),C=!1;if(!N){if(!s)return;N=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:h,toState:c,player:u,isFallbackTransition:C}),C||(K(e,Bt),u.onStart(function(){ie(e,Bt)})),u.onDone(function(){var w=a.players.indexOf(u);w>=0&&a.players.splice(w,1);var M=a._engine.playersByElement.get(e);if(M){var D=M.indexOf(u);D>=0&&M.splice(D,1)}}),this.players.push(u),b.push(u),u}if(!function qi(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++){var a=e[i];if(!n.hasOwnProperty(a)||r[a]!==n[a])return!1}return!0}(h.params,c.params)){var y=[],g=o.matchStyles(h.value,h.params,y),p=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(function(){x(e,g),j(e,p)})}}},{key:"deregister",value:function(e){var t=this;this._triggers.delete(e),this._engine.statesByElement.forEach(function(i){return i.delete(e)}),this._elementListeners.forEach(function(i,a){t._elementListeners.set(a,i.filter(function(s){return s.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var i=this,a=this._engine.driver.query(e,Ae,!0);a.forEach(function(s){if(!s[q]){var o=i._engine.fetchNamespacesByElement(s);o.size?o.forEach(function(u){return u.triggerLeaveAnimation(s,t,!1,!0)}):i.clearElementCache(s)}}),this._engine.afterFlushAnimationsDone(function(){return a.forEach(function(s){return i.clearElementCache(s)})})}},{key:"triggerLeaveAnimation",value:function(e,t,i,a){var s=this,o=this._engine.statesByElement.get(e),u=new Map;if(o){var f=[];if(o.forEach(function(h,c){if(u.set(c,h.value),s._triggers.has(c)){var v=s.trigger(e,c,le,a);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Z(f).onDone(function(){return s._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,i=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(i&&a){var s=new Set;i.forEach(function(o){var u=o.name;if(!s.has(u)){s.add(u);var h=t._triggers.get(u).fallbackTransition,c=a.get(u)||Je,v=new Ze(le),d=new xe(t.id,u,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:u,transition:h,fromState:c,toState:v,player:d,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var i=this,a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var s=!1;if(a.totalAnimations){var o=a.players.length?a.playersByQueriedElement.get(e):[];if(o&&o.length)s=!0;else for(var u=e;u=u.parentNode;)if(a.statesByElement.get(u)){s=!0;break}}if(this.prepareLeaveAnimationListeners(e),s)a.markElementAsRemoved(this.id,e,!1,t);else{var h=e[q];(!h||h===Kt)&&(a.afterFlush(function(){return i.clearElementCache(e)}),a.destroyInnerAnimations(e),a._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){K(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,i=[];return this._queue.forEach(function(a){var s=a.player;if(!s.destroyed){var o=a.element,u=t._elementListeners.get(o);u&&u.forEach(function(f){if(f.name==a.triggerName){var h=Oe(o,a.triggerName,a.fromState.value,a.toState.value);h._data=e,Fe(a.player,f.phase,h,f.callback)}}),s.markedForDestroy?t._engine.afterFlush(function(){s.destroy()}):i.push(a)}}),this._queue=[],i.sort(function(a,s){var o=a.transition.ast.depCount,u=s.transition.ast.depCount;return 0==o||0==u?o-u:t._engine.driver.containsElement(a.element,s.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}}])}(),Oi=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"bodyNode",void 0),(0,l.A)(this,"driver",void 0),(0,l.A)(this,"_normalizer",void 0),(0,l.A)(this,"players",[]),(0,l.A)(this,"newHostElements",new Map),(0,l.A)(this,"playersByElement",new Map),(0,l.A)(this,"playersByQueriedElement",new Map),(0,l.A)(this,"statesByElement",new Map),(0,l.A)(this,"disabledNodes",new Set),(0,l.A)(this,"totalAnimations",0),(0,l.A)(this,"totalQueuedPlayers",0),(0,l.A)(this,"_namespaceLookup",{}),(0,l.A)(this,"_namespaceList",[]),(0,l.A)(this,"_flushFns",[]),(0,l.A)(this,"_whenQuietFns",[]),(0,l.A)(this,"namespacesByHostElement",new Map),(0,l.A)(this,"collectedEnterElements",[]),(0,l.A)(this,"collectedLeaveElements",[]),(0,l.A)(this,"onRemovalComplete",function(i,a){}),this.bodyNode=n,this.driver=e,this._normalizer=t},[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(i){i.queued&&e.push(i)})}),e}},{key:"createNamespace",value:function(e,t){var i=new Ii(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}},{key:"_balanceNamespaceList",value:function(e,t){var i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){for(var o=!1,u=this.driver.getParentElement(t);u;){var f=a.get(u);if(f){var h=i.indexOf(f);i.splice(h+1,0,e),o=!0;break}u=this.driver.getParentElement(u)}o||i.unshift(e)}else i.push(e);return a.set(t,e),e}},{key:"register",value:function(e,t){var i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}},{key:"registerTrigger",value:function(e,t,i){var a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var i=this;e&&(this.afterFlush(function(){}),this.afterFlushAnimationsDone(function(){var a=i._fetchNamespace(e);i.namespacesByHostElement.delete(a.hostElement);var s=i._namespaceList.indexOf(a);s>=0&&i._namespaceList.splice(s,1),a.destroy(t),delete i._namespaceLookup[e]}))}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,i=this.statesByElement.get(e);if(i){var s,a=(0,Q.A)(i.values());try{for(a.s();!(s=a.n()).done;){var o=s.value;if(o.namespaceId){var u=this._fetchNamespace(o.namespaceId);u&&t.add(u)}}}catch(f){a.e(f)}finally{a.f()}}return t}},{key:"trigger",value:function(e,t,i,a){if(Ne(t)){var s=this._fetchNamespace(e);if(s)return s.trigger(t,i,a),!0}return!1}},{key:"insertNode",value:function(e,t,i,a){if(Ne(t)){var s=t[q];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var u=this._fetchNamespace(e);u&&u.insertNode(t,i)}a&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),K(e,Xe)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ie(e,Xe))}},{key:"removeNode",value:function(e,t,i){if(Ne(t)){var a=e?this._fetchNamespace(e):null;a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);var s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,i,a,s){this.collectedLeaveElements.push(t),t[q]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}},{key:"listen",value:function(e,t,i,a,s){return Ne(t)?this._fetchNamespace(e).listen(t,i,a,s):function(){}}},{key:"_buildInstruction",value:function(e,t,i,a,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,s)}},{key:"destroyInnerAnimations",value:function(e){var t=this,i=this.driver.query(e,Ae,!0);i.forEach(function(a){return t.destroyActiveAnimationsForElement(a)}),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,Be,!0)).forEach(function(a){return t.finishActiveQueriedAnimationOnElement(a)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(i){return i.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Z(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t,i=this,a=e[q];if(a&&a.setForRemoval){if(e[q]=Kt,a.namespaceId){this.destroyInnerAnimations(e);var s=this._fetchNamespace(a.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,a.setForRemoval)}null!==(t=e.classList)&&void 0!==t&&t.contains(Xe)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(o){i.markElementAsDisabled(o,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(v,d){return e._balanceNamespaceList(v,d)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var a=0;a<this.collectedEnterElements.length;a++)K(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{i=this._flushAnimations(o,t)}finally{for(var u=0;u<o.length;u++)o[u]()}}else for(var f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(v){return v()}),this._flushFns=[],this._whenQuietFns.length){var c=this._whenQuietFns;this._whenQuietFns=[],i.length?Z(i).onDone(function(){c.forEach(function(v){return v()})}):c.forEach(function(v){return v()})}}},{key:"reportError",value:function(e){throw function zn(){return new A.\u0275RuntimeError(3402,!1)}()}},{key:"_flushAnimations",value:function(e,t){var i=this,a=new Ye,s=[],o=new Map,u=[],f=new Map,h=new Map,c=new Map,v=new Set;this.disabledNodes.forEach(function(m){v.add(m);for(var S=i.driver.query(m,".ng-animate-queued",!0),E=0;E<S.length;E++)v.add(S[E])});var d=this.bodyNode,y=Array.from(this.statesByElement.keys()),g=Vt(y,this.collectedEnterElements),p=new Map,b=0;g.forEach(function(m,S){var E=kt+b++;p.set(S,E),m.forEach(function(P){return K(P,E)})});for(var N=[],C=new Set,w=new Set,M=0;M<this.collectedLeaveElements.length;M++){var D=this.collectedLeaveElements[M],te=D[q];te&&te.setForRemoval&&(N.push(D),C.add(D),te.hasAnimation?this.driver.query(D,".ng-star-inserted",!0).forEach(function(m){return C.add(m)}):w.add(D))}var U=new Map,G=Vt(y,Array.from(C));G.forEach(function(m,S){var E=ze+b++;U.set(S,E),m.forEach(function(P){return K(P,E)})}),e.push(function(){g.forEach(function(m,S){var E=p.get(S);m.forEach(function(P){return ie(P,E)})}),G.forEach(function(m,S){var E=U.get(S);m.forEach(function(P){return ie(P,E)})}),N.forEach(function(m){i.processLeaveNode(m)})});for(var z=[],V=[],he=this._namespaceList.length-1;he>=0;he--)this._namespaceList[he].drainQueuedTransitions(t).forEach(function(m){var S=m.player,E=m.element;if(z.push(S),i.collectedEnterElements.length){var P=E[q];if(P&&P.setForMove){if(P.previousTriggersValues&&P.previousTriggersValues.has(m.triggerName)){var W=P.previousTriggersValues.get(m.triggerName),X=i.statesByElement.get(m.element);if(X&&X.has(m.triggerName)){var ve=X.get(m.triggerName);ve.value=W,X.set(m.triggerName,ve)}}return void S.destroy()}}var de=!d||!i.driver.containsElement(d,E),ht=U.get(E),me=p.get(E),I=i._buildInstruction(m,a,me,ht,de);if(I.errors&&I.errors.length)V.push(I);else{if(de)return S.onStart(function(){return x(E,I.fromStyles)}),S.onDestroy(function(){return j(E,I.toStyles)}),void s.push(S);if(m.isFallbackTransition)return S.onStart(function(){return x(E,I.fromStyles)}),S.onDestroy(function(){return j(E,I.toStyles)}),void s.push(S);var an=[];I.timelines.forEach(function(H){H.stretchStartingKeyframe=!0,i.disabledNodes.has(H.element)||an.push(H)}),I.timelines=an,a.append(E,I.timelines),u.push({instruction:I,player:S,element:E}),I.queriedElements.forEach(function(H){return O(f,H,[]).push(S)}),I.preStyleProps.forEach(function(H,ye){if(H.size){var ne=h.get(ye);ne||h.set(ye,ne=new Set),H.forEach(function(ar,ct){return ne.add(ct)})}}),I.postStyleProps.forEach(function(H,ye){var ne=c.get(ye);ne||c.set(ye,ne=new Set),H.forEach(function(ar,ct){return ne.add(ct)})})}});if(V.length){var re=[];V.forEach(function(m){re.push(function Bn(){return new A.\u0275RuntimeError(3505,!1)}())}),z.forEach(function(m){return m.destroy()}),this.reportError(re)}var rt=new Map,De=new Map;u.forEach(function(m){var S=m.element;a.has(S)&&(De.set(S,S),i._beforeAnimationBuild(m.player.namespaceId,m.instruction,rt))}),s.forEach(function(m){var S=m.element;i._getPreviousPlayers(S,!1,m.namespaceId,m.triggerName,null).forEach(function(P){O(rt,S,[]).push(P),P.destroy()})});var Jt=N.filter(function(m){return Ut(m,h,c)}),Ce=new Map;qt(Ce,this.driver,w,c,Y).forEach(function(m){Ut(m,h,c)&&Jt.push(m)});var at=new Map;g.forEach(function(m,S){qt(at,i.driver,new Set(m),h,"!")}),Jt.forEach(function(m){var S,E,P=Ce.get(m),W=at.get(m);Ce.set(m,new Map([].concat((0,F.A)(null!==(S=P?.entries())&&void 0!==S?S:[]),(0,F.A)(null!==(E=W?.entries())&&void 0!==E?E:[]))))});var st=[],xt=[],en={};u.forEach(function(m){var S=m.element,E=m.player,P=m.instruction;if(a.has(S)){if(v.has(S))return E.onDestroy(function(){return j(S,P.toStyles)}),E.disabled=!0,E.overrideTotalTime(P.totalTime),void s.push(E);var W=en;if(De.size>1){for(var X=S,ve=[];X=X.parentNode;){var de=De.get(X);if(de){W=de;break}ve.push(X)}ve.forEach(function(I){return De.set(I,W)})}var ht=i._buildAnimation(E.namespaceId,P,rt,o,at,Ce);if(E.setRealPlayer(ht),W===en)st.push(E);else{var me=i.playersByElement.get(W);me&&me.length&&(E.parentPlayer=Z(me)),s.push(E)}}else x(S,P.fromStyles),E.onDestroy(function(){return j(S,P.toStyles)}),xt.push(E),v.has(S)&&s.push(E)}),xt.forEach(function(m){var S=o.get(m.element);if(S&&S.length){var E=Z(S);m.setRealPlayer(E)}}),s.forEach(function(m){m.parentPlayer?m.syncPlayerEvents(m.parentPlayer):m.destroy()});for(var ot=0;ot<N.length;ot++){var ae=N[ot],tn=ae[q];if(ie(ae,ze),!tn||!tn.hasAnimation){var ce=[];if(f.size){var ut=f.get(ae);ut&&ut.length&&ce.push.apply(ce,(0,F.A)(ut));for(var nn=this.driver.query(ae,Be,!0),lt=0;lt<nn.length;lt++){var ft=f.get(nn[lt]);ft&&ft.length&&ce.push.apply(ce,(0,F.A)(ft))}}var rn=ce.filter(function(m){return!m.destroyed});rn.length?Ki(this,ae,rn):this.processLeaveNode(ae)}}return N.length=0,st.forEach(function(m){i.players.push(m),m.onDone(function(){m.destroy();var S=i.players.indexOf(m);i.players.splice(S,1)}),m.play()}),st}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,i,a,s){var o=[];if(t){var u=this.playersByQueriedElement.get(e);u&&(o=u)}else{var f=this.playersByElement.get(e);if(f){var h=!s||s==le;f.forEach(function(c){c.queued||!h&&c.triggerName!=a||o.push(c)})}}return(i||a)&&(o=o.filter(function(c){return!(i&&i!=c.namespaceId||a&&a!=c.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(e,t,i){var c,a=this,o=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName,h=(0,Q.A)(t.timelines);try{var v=function(){var g=c.value.element,p=g!==o,b=O(i,g,[]);a._getPreviousPlayers(g,p,u,f,t.toState).forEach(function(C){var w=C.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),C.destroy(),b.push(C)})};for(h.s();!(c=h.n()).done;)v()}catch(d){h.e(d)}finally{h.f()}x(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,i,a,s,o){var u=this,f=t.triggerName,h=t.element,c=[],v=new Set,d=new Set,y=t.timelines.map(function(p){var b=p.element;v.add(b);var N=b[q];if(N&&N.removedBeforeQueried)return new se(p.duration,p.delay);var C=b!==h,w=function Qi(r){var n=[];return jt(r,n),n}((i.get(b)||Ri).map(function(z){return z.getRealPlayer()})).filter(function(z){return!!z.element&&z.element===b}),M=s.get(b),D=o.get(b),te=gt(u._normalizer,p.keyframes,M,D),U=u._buildPlayer(p,te,w);if(p.subTimeline&&a&&d.add(b),C){var G=new xe(e,f,b);G.setRealPlayer(U),c.push(G)}return U});c.forEach(function(p){O(u.playersByQueriedElement,p.element,[]).push(p),p.onDone(function(){return function Li(r,n,e){var t=r.get(n);if(t){if(t.length){var i=t.indexOf(e);t.splice(i,1)}0==t.length&&r.delete(n)}return t}(u.playersByQueriedElement,p.element,p)})}),v.forEach(function(p){return K(p,Tt)});var g=Z(y);return g.onDestroy(function(){v.forEach(function(p){return ie(p,Tt)}),j(h,t.toStyles)}),d.forEach(function(p){O(a,p,[]).push(g)}),g}},{key:"_buildPlayer",value:function(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new se(e.duration,e.delay)}}])}(),xe=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"namespaceId",void 0),(0,l.A)(this,"triggerName",void 0),(0,l.A)(this,"element",void 0),(0,l.A)(this,"_player",new se),(0,l.A)(this,"_containsRealPlayer",!1),(0,l.A)(this,"_queuedCallbacks",new Map),(0,l.A)(this,"destroyed",!1),(0,l.A)(this,"parentPlayer",null),(0,l.A)(this,"markedForDestroy",!1),(0,l.A)(this,"disabled",!1),(0,l.A)(this,"queued",!0),(0,l.A)(this,"totalTime",0),this.namespaceId=n,this.triggerName=e,this.element=t},[{key:"setRealPlayer",value:function(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(function(t,i){t.forEach(function(a){return Fe(e,i,void 0,a)})}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,i=this._player;i.triggerCallback&&e.onStart(function(){return i.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){O(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}])}();function Ne(r){return r&&1===r.nodeType}function Qt(r,n){var e=r.style.display;return r.style.display=n??"none",e}function qt(r,n,e,t,i){var a=[];e.forEach(function(u){return a.push(Qt(u))});var s=[];t.forEach(function(u,f){var h=new Map;u.forEach(function(c){var v=n.computeStyle(f,c,i);h.set(c,v),(!v||0==v.length)&&(f[q]=Fi,s.push(f))}),r.set(f,h)});var o=0;return e.forEach(function(u){return Qt(u,a[o++])}),s}function Vt(r,n){var e=new Map;if(r.forEach(function(o){return e.set(o,[])}),0==n.length)return e;var i=new Set(n),a=new Map;function s(o){if(!o)return 1;var u=a.get(o);if(u)return u;var f=o.parentNode;return u=e.has(f)?f:i.has(f)?1:s(f),a.set(o,u),u}return n.forEach(function(o){var u=s(o);1!==u&&e.get(u).push(o)}),e}function K(r,n){var e;null===(e=r.classList)||void 0===e||e.add(n)}function ie(r,n){var e;null===(e=r.classList)||void 0===e||e.remove(n)}function Ki(r,n,e){Z(e).onDone(function(){return r.processLeaveNode(n)})}function jt(r,n){for(var e=0;e<r.length;e++){var t=r[e];t instanceof mt?jt(t.players,n):n.push(t)}}function Ut(r,n,e){var t=e.get(r);if(!t)return!1;var i=n.get(r);return i?t.forEach(function(a){return i.add(a)}):n.set(r,t),e.delete(r),!0}var fe=function(){return(0,T.A)(function r(n,e,t){var i=this;(0,k.A)(this,r),(0,l.A)(this,"_driver",void 0),(0,l.A)(this,"_normalizer",void 0),(0,l.A)(this,"_transitionEngine",void 0),(0,l.A)(this,"_timelineEngine",void 0),(0,l.A)(this,"_triggerCache",{}),(0,l.A)(this,"onRemovalComplete",function(a,s){}),this._driver=e,this._normalizer=t,this._transitionEngine=new Oi(n.body,e,t),this._timelineEngine=new Ni(n.body,e,t),this._transitionEngine.onRemovalComplete=function(a,s){return i.onRemovalComplete(a,s)}},[{key:"registerTrigger",value:function(e,t,i,a,s){var o=e+"-"+a,u=this._triggerCache[o];if(!u){var f=[],c=Dt(this._driver,s,f,[]);if(f.length)throw function Nn(){return new A.\u0275RuntimeError(3404,!1)}();u=function ki(r,n,e){return new Ti(r,n,e)}(a,c,this._normalizer),this._triggerCache[o]=u}this._transitionEngine.registerTrigger(t,a,u)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}},{key:"onRemove",value:function(e,t,i){this._transitionEngine.removeNode(e,t,i)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,i,a){if("@"==i.charAt(0)){var s=pt(i),o=(0,B.A)(s,2);this._timelineEngine.command(o[0],t,o[1],a)}else this._transitionEngine.trigger(e,t,i,a)}},{key:"listen",value:function(e,t,i,a,s){if("@"==i.charAt(0)){var o=pt(i),u=(0,B.A)(o,2);return this._timelineEngine.listen(u[0],t,u[1],s)}return this._transitionEngine.listen(e,t,i,a,s)}},{key:"flush",value:function(){this._transitionEngine.flush(arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1)}},{key:"players",get:function(){return[].concat((0,F.A)(this._transitionEngine.players),(0,F.A)(this._timelineEngine.players))}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"afterFlushAnimationsDone",value:function(e){this._transitionEngine.afterFlushAnimationsDone(e)}}])}(),ji=function(){var r=function(){function n(e,t,i){(0,k.A)(this,n),(0,l.A)(this,"_element",void 0),(0,l.A)(this,"_startStyles",void 0),(0,l.A)(this,"_endStyles",void 0),(0,l.A)(this,"_state",0),(0,l.A)(this,"_initialStyles",void 0),this._element=e,this._startStyles=t,this._endStyles=i;var a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}return(0,T.A)(n,[{key:"start",value:function(){this._state<1&&(this._startStyles&&j(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(j(this._element,this._initialStyles),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(x(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(x(this._element,this._endStyles),this._endStyles=null),j(this._element,this._initialStyles),this._state=3)}}])}();return(0,l.A)(r,"initialStylesByElement",new WeakMap),r}();function et(r){var n=null;return r.forEach(function(e,t){(function Ui(r){return"display"===r||"position"===r})(t)&&(n=n||new Map).set(t,e)}),n}var Gt=function(){return(0,T.A)(function r(n,e,t,i){(0,k.A)(this,r),(0,l.A)(this,"element",void 0),(0,l.A)(this,"keyframes",void 0),(0,l.A)(this,"options",void 0),(0,l.A)(this,"_specialStyles",void 0),(0,l.A)(this,"_onDoneFns",[]),(0,l.A)(this,"_onStartFns",[]),(0,l.A)(this,"_onDestroyFns",[]),(0,l.A)(this,"_duration",void 0),(0,l.A)(this,"_delay",void 0),(0,l.A)(this,"_initialized",!1),(0,l.A)(this,"_finished",!1),(0,l.A)(this,"_started",!1),(0,l.A)(this,"_destroyed",!1),(0,l.A)(this,"_finalKeyframe",void 0),(0,l.A)(this,"_originalOnDoneFns",[]),(0,l.A)(this,"_originalOnStartFns",[]),(0,l.A)(this,"domPlayer",void 0),(0,l.A)(this,"time",0),(0,l.A)(this,"parentPlayer",null),(0,l.A)(this,"currentSnapshot",new Map),this.element=n,this.keyframes=e,this.options=t,this._specialStyles=i,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay},[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;var i=function(){return e._onFinish()};this.domPlayer.addEventListener("finish",i),this.onDestroy(function(){e.domPlayer.removeEventListener("finish",i)})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_convertKeyframesToObject",value:function(e){var t=[];return e.forEach(function(i){t.push(Object.fromEntries(i))}),t}},{key:"_triggerWebAnimation",value:function(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}},{key:"onStart",value:function(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){var e;return+(null!==(e=this.domPlayer.currentTime)&&void 0!==e?e:0)/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t=new Map;this.hasStarted()&&this._finalKeyframe.forEach(function(a,s){"offset"!==s&&t.set(s,e._finished?a:Ve(e.element,s))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(function(i){return i()}),t.length=0}}])}(),Wt=function(){return(0,T.A)(function r(){(0,k.A)(this,r)},[{key:"validateStyleProperty",value:function(e){return!0}},{key:"validateAnimatableStyleProperty",value:function(e){return!0}},{key:"containsElement",value:function(e,t){return At(e,t)}},{key:"getParentElement",value:function(e){return Le(e)}},{key:"query",value:function(e,t,i){return St(e,t,i)}},{key:"computeStyle",value:function(e,t,i){return Ve(e,t)}},{key:"animate",value:function(e,t,i,a,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],f={duration:i,delay:a,fill:0==a?"both":"forwards"};s&&(f.easing=s);var h=new Map,c=o.filter(function(y){return y instanceof Gt});(function Zn(r,n){return 0===r||0===n})(i,a)&&c.forEach(function(y){y.currentSnapshot.forEach(function(g,p){return h.set(p,g)})});var v=function Yn(r){return r.length?r[0]instanceof Map?r:r.map(function(n){return new Map(Object.entries(n))}):[]}(t).map(function(y){return new Map(y)});v=function Jn(r,n,e){if(e.size&&n.length){var t=n[0],i=[];if(e.forEach(function(o,u){t.has(u)||i.push(u),t.set(u,o)}),i.length)for(var a=function(){var u=n[s];i.forEach(function(f){return u.set(f,Ve(r,f))})},s=1;s<n.length;s++)a()}return n}(e,v,h);var d=function Vi(r,n){var e=null,t=null;return Array.isArray(n)&&n.length?(e=et(n[0]),n.length>1&&(t=et(n[n.length-1]))):n instanceof Map&&(e=et(n)),e||t?new ji(r,e,t):null}(e,v);return new Gt(e,v,f,d)}}])}(),Ht="@.disabled",Yt=function(){return(0,T.A)(function r(n,e,t,i){(0,k.A)(this,r),(0,l.A)(this,"namespaceId",void 0),(0,l.A)(this,"delegate",void 0),(0,l.A)(this,"engine",void 0),(0,l.A)(this,"_onDestroy",void 0),(0,l.A)(this,"\u0275type",0),this.namespaceId=n,this.delegate=e,this.engine=t,this._onDestroy=i},[{key:"data",get:function(){return this.delegate.data}},{key:"destroyNode",value:function(e){var t,i;null===(t=(i=this.delegate).destroyNode)||void 0===t||t.call(i,e)}},{key:"destroy",value:function(){var t,e=this;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(function(){queueMicrotask(function(){e.delegate.destroy()})}),null===(t=this._onDestroy)||void 0===t||t.call(this)}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}},{key:"removeChild",value:function(e,t,i,a){a?this.delegate.removeChild(e,t,i):this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}},{key:"removeAttribute",value:function(e,t,i){this.delegate.removeAttribute(e,t,i)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,i,a){this.delegate.setStyle(e,t,i,a)}},{key:"removeStyle",value:function(e,t,i){this.delegate.removeStyle(e,t,i)}},{key:"setProperty",value:function(e,t,i){"@"==t.charAt(0)&&t==Ht?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,i,a){return this.delegate.listen(e,t,i,a)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}])}(),Gi=function(r){function n(e,t,i,a,s){var o;return(0,k.A)(this,n),o=(0,ge.A)(this,n,[t,i,a,s]),(0,l.A)(o,"factory",void 0),o.factory=e,o.namespaceId=t,o}return(0,pe.A)(n,r),(0,T.A)(n,[{key:"setProperty",value:function(t,i,a){"@"==i.charAt(0)?"."==i.charAt(1)&&i==Ht?this.disableAnimations(t,a=void 0===a||!!a):this.engine.process(this.namespaceId,t,i.slice(1),a):this.delegate.setProperty(t,i,a)}},{key:"listen",value:function(t,i,a,s){var o=this;if("@"==i.charAt(0)){var u=function Wi(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t),f=i.slice(1),h="";if("@"!=f.charAt(0)){var c=function Hi(r){var n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(f),v=(0,B.A)(c,2);f=v[0],h=v[1]}return this.engine.listen(this.namespaceId,u,f,h,function(d){o.factory.scheduleListenerCallback(d._data||-1,a,d)})}return this.delegate.listen(t,i,a,s)}}])}(Yt),Yi=function(){return(0,T.A)(function r(n,e,t){(0,k.A)(this,r),(0,l.A)(this,"delegate",void 0),(0,l.A)(this,"engine",void 0),(0,l.A)(this,"_zone",void 0),(0,l.A)(this,"_currentId",0),(0,l.A)(this,"_microtaskId",1),(0,l.A)(this,"_animationCallbacksBuffer",[]),(0,l.A)(this,"_rendererCache",new Map),(0,l.A)(this,"_cdRecurDepth",0),this.delegate=n,this.engine=e,this._zone=t,e.onRemovalComplete=function(i,a){a?.removeChild(null,i)}},[{key:"createRenderer",value:function(e,t){var i,a=this,o=this.delegate.createRenderer(e,t);if(!e||null==t||null===(i=t.data)||void 0===i||!i.animation){var u=this._rendererCache,f=u.get(o);return f||(f=new Yt("",o,this.engine,function(){return u.delete(o)}),u.set(o,f)),f}var c=t.id,v=t.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);var d=function(p){Array.isArray(p)?p.forEach(d):a.engine.registerTrigger(c,v,e,p.name,p)};return t.data.animation.forEach(d),new Gi(this,v,o,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;queueMicrotask(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,i){var a=this;if(e>=0&&e<this._microtaskId)this._zone.run(function(){return t(i)});else{var s=this._animationCallbacksBuffer;0==s.length&&queueMicrotask(function(){a._zone.run(function(){s.forEach(function(o){var u=(0,B.A)(o,2);(0,u[0])(u[1])}),a._animationCallbacksBuffer=[]})}),s.push([t,i])}}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}},{key:"componentReplaced",value:function(e){var t,i;this.engine.flush(),null===(t=(i=this.delegate).componentReplaced)||void 0===t||t.call(i,e)}}])}(),$i=R(25965),Xi=R(74080),$t=R(62190),Xt=function(){var r,n=function(e){function t(i,a,s){return(0,k.A)(this,t),(0,ge.A)(this,t,[i,a,s])}return(0,pe.A)(t,e),(0,T.A)(t,[{key:"ngOnDestroy",value:function(){this.flush()}}])}(fe);return r=n,(0,l.A)(n,"\u0275fac",function(t){return new(t||r)(A.\u0275\u0275inject($i.DOCUMENT),A.\u0275\u0275inject(Ee),A.\u0275\u0275inject(Ue))}),(0,l.A)(n,"\u0275prov",A.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac})),n}(),Zt=[{provide:Ue,useFactory:function Zi(){return new wt}},{provide:fe,useClass:Xt},{provide:A.RendererFactory2,useFactory:function Ji(r,n,e){return new Yi(r,n,e)},deps:[Xi.mE,fe,A.NgZone]}],tt=[{provide:Ee,useClass:je},{provide:A.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"}].concat(Zt),nt=[{provide:Ee,useFactory:function(){return new Wt}},{provide:A.ANIMATION_MODULE_TYPE,useFactory:function(){return"BrowserAnimations"}}].concat(Zt),xi=function(){var r,n=function(){function e(){(0,k.A)(this,e)}return(0,T.A)(e,null,[{key:"withConfig",value:function(i){return{ngModule:e,providers:i.disableAnimations?tt:nt}}}])}();return r=n,(0,l.A)(n,"\u0275fac",function(t){return new(t||r)}),(0,l.A)(n,"\u0275mod",A.\u0275\u0275defineNgModule({type:r})),(0,l.A)(n,"\u0275inj",A.\u0275\u0275defineInjector({providers:nt,imports:[$t.Bb]})),n}();function er(){return(0,A.\u0275performanceMarkFeature)("NgEagerAnimations"),(0,F.A)(nt)}var tr=function(){var r,n=(0,T.A)(function e(){(0,k.A)(this,e)});return r=n,(0,l.A)(n,"\u0275fac",function(t){return new(t||r)}),(0,l.A)(n,"\u0275mod",A.\u0275\u0275defineNgModule({type:r})),(0,l.A)(n,"\u0275inj",A.\u0275\u0275defineInjector({providers:tt,imports:[$t.Bb]})),n}();function nr(){return(0,F.A)(tt)}}}]);
//# sourceMappingURL=3994.a0fec36519b45936.js.map