(self.webpackChunkspear=self.webpackChunkspear||[]).push([[9506],{79506:(we,se,b)=>{b.r(se);var I=b(52494),a=b(49431),m=b(63398),v=b(43288),k=b(98824),A=b(63730),y=b(25965),E=b(55787),L=b(39465),f=b(81011),g=b(22292),V=b(94334),w=b(82297),F=b(13544),N=b(50438),M=b(75797),G=b(43942),R=b(63617),T=b(84205);function U(o){for(var r in o){var n,e=null!==(n=o[r])&&void 0!==n?n:"";switch(r){case"display":o.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":o["-webkit-"+r]=e;break;case"flex-direction":o["-webkit-flex-direction"]=e,o["flex-direction"]=e;break;case"order":o.order=o["-webkit-"+r]=isNaN(+e)?"0":e}}return o}var ee="inline",ne=["row","column","row-reverse","column-reverse"];function H(o){var r=j(o),n=(0,k.A)(r,3);return function re(o){return{display:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"inline-flex":"flex","box-sizing":"border-box","flex-direction":o,"flex-wrap":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||null}}(n[0],n[1],n[2])}function j(o){var r,n,e=(o=null!==(r=null===(n=o)||void 0===n?void 0:n.toLowerCase())&&void 0!==r?r:"").split(" "),t=(0,k.A)(e,3),s=t[0],u=t[1],l=t[2];return ne.find(function(d){return d===s})||(s=ne[0]),u===ee&&(u=l!==ee?l:"",l=ee),[s,le(u),!!l]}function ae(o){var r=j(o);return(0,k.A)(r,1)[0].indexOf("row")>-1}function le(o){if(o)switch(o.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":o="wrap-reverse";break;case"no":case"none":case"nowrap":o="nowrap";break;default:o="wrap"}return o}function q(o){if(null==o)throw TypeError("Cannot convert undefined or null to object");for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];for(var t=0,s=n;t<s.length;t++){var u=s[t];if(null!=u)for(var l in u)u.hasOwnProperty(l)&&(o[l]=u[l])}return o}var te=b(51567),X=b(98764),De={provide:a.APP_BOOTSTRAP_LISTENER,useFactory:function ye(o,r){return function(){if((0,y.isPlatformBrowser)(r)){var n=Array.from(o.querySelectorAll("[class*=".concat(Ie,"]"))),e=/\bflex-layout-.+?\b/g;n.forEach(function(t){t.classList.contains("".concat(Ie,"ssr"))&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}}},deps:[y.DOCUMENT,a.PLATFORM_ID],multi:!0},Ie="flex-layout-",Ge=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[De]}),o}(),Ce=function(){function o(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,v.A)(this,o),this.matches=r,this.mediaQuery=n,this.mqAlias=e,this.suffix=t,this.priority=s,this.property=""}return(0,m.A)(o,[{key:"clone",value:function(){return new o(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}])}(),Be=function(){var o=function(){return(0,m.A)(function r(){(0,v.A)(this,r),this.stylesheet=new Map},[{key:"addStyleToElement",value:function(e,t,s){var u=this.stylesheet.get(e);u?u.set(t,s):this.stylesheet.set(e,new Map([[t,s]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(e,t){var s=this.stylesheet.get(e),u="";if(s){var l=s.get(t);("number"==typeof l||"string"==typeof l)&&(u=l+"")}return u}}])}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Xe={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ye=new a.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return Xe}}),it=new a.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),vt=new a.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function Ke(o,r){var n,e;return o=null!==(n=null===(e=o)||void 0===e?void 0:e.clone())&&void 0!==n?n:new Ce,r&&(o.mqAlias=r.alias,o.mediaQuery=r.mediaQuery,o.suffix=r.suffix,o.priority=r.priority),o}var Ze=function(){return(0,m.A)(function o(){(0,v.A)(this,o),this.shouldCache=!0},[{key:"sideEffect",value:function(n,e,t){}}])}(),ct=function(){var o=function(){return(0,m.A)(function r(n,e,t,s){(0,v.A)(this,r),this._serverStylesheet=n,this._serverModuleLoaded=e,this._platformId=t,this.layoutConfig=s},[{key:"applyStyleToElement",value:function(e,t){var u={};"string"==typeof t&&(u[t]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=u),u=this.layoutConfig.disableVendorPrefixes?t:U(t),this._applyMultiValueStyleToElement(u,e)}},{key:"applyStyleToElements",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.layoutConfig.disableVendorPrefixes?e:U(e);s.forEach(function(l){t._applyMultiValueStyleToElement(u,l)})}},{key:"getFlowDirection",value:function(e){var t="flex-direction",s=this.lookupStyle(e,t);return[s||"row",this.lookupInlineStyle(e,t)||(0,y.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?s:""]}},{key:"hasWrap",value:function(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}},{key:"lookupAttributeValue",value:function(e,t){var s;return null!==(s=e.getAttribute(t))&&void 0!==s?s:""}},{key:"lookupInlineStyle",value:function(e,t){return(0,y.isPlatformBrowser)(this._platformId)?e.style.getPropertyValue(t):function pe(o,r){var n;return null!==(n=xe(o)[r])&&void 0!==n?n:""}(e,t)}},{key:"lookupStyle",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="";return e&&((u=this.lookupInlineStyle(e,t))||((0,y.isPlatformBrowser)(this._platformId)?s||(u=getComputedStyle(e).getPropertyValue(t)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(e,t)))),u?u.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(e,t){var s=this;Object.keys(e).sort().forEach(function(u){var l=e[u],d=Array.isArray(l)?l:[l];d.sort();var h,p=(0,N.A)(d);try{for(p.s();!(h=p.n()).done;){var _=h.value;_=_?_+"":"",(0,y.isPlatformBrowser)(s._platformId)||!s._serverModuleLoaded?(0,y.isPlatformBrowser)(s._platformId)?t.style.setProperty(u,_):K(t,u,_):s._serverStylesheet.addStyleToElement(t,u,_)}}catch(S){p.e(S)}finally{p.f()}})}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(Be),a.\u0275\u0275inject(it),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(Ye))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function K(o,r,n){r=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=xe(o);e[r]=n??"",function Q(o,r){var n="";for(var e in r)r[e]&&(n+="".concat(e,":").concat(r[e],";"));o.setAttribute("style",n)}(o,e)}function xe(o){var r={},n=o.getAttribute("style");if(n)for(var e=n.split(/;+/g),t=0;t<e.length;t++){var s=e[t].trim();if(s.length>0){var u=s.indexOf(":");if(-1===u)throw new Error("Invalid CSS style: ".concat(s));r[s.substr(0,u).trim()]=s.substr(u+1).trim()}}return r}function ke(o,r){return(r&&r.priority||0)-(o&&o.priority||0)}function oe(o,r){return(o.priority||0)-(r.priority||0)}var ie=function(){var o=function(){return(0,m.A)(function r(n,e,t){(0,v.A)(this,r),this._zone=n,this._platformId=e,this._document=t,this.source=new M.t(new Ce(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()},[{key:"activations",get:function(){var e=[];return this.registry.forEach(function(t,s){t.matches&&e.push(s)}),e}},{key:"isActive",value:function(e){var t,s=this.registry.get(e);return null!==(t=s?.matches)&&void 0!==t?t:this.registerQuery(e).some(function(u){return u.matches})}},{key:"observe",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.length){var u=this._observable$.pipe((0,te.p)(function(d){return!s||e.indexOf(d.mediaQuery)>-1})),l=new G.c(function(d){var p=t.registerQuery(e);if(p.length){var h=p.pop();p.forEach(function(_){d.next(_)}),t.source.next(h)}d.complete()});return(0,R.h)(l,u)}return this._observable$}},{key:"registerQuery",value:function(e){var t=this,s=Array.isArray(e)?e:[e],u=[];return function ue(o,r){var n=o.filter(function(u){return!Me[u]});if(n.length>0){var e=n.join(", ");try{var t=r.createElement("style");if(t.setAttribute("type","text/css"),!t.styleSheet){var s="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(e," {.fx-query-test{ }}\n");t.appendChild(r.createTextNode(s))}r.head.appendChild(t),n.forEach(function(u){return Me[u]=t})}catch(u){console.error(u)}}}(s,this._document),s.forEach(function(l){var d=function(_){t._zone.run(function(){return t.source.next(new Ce(_.matches,l))})},p=t.registry.get(l);p||((p=t.buildMQL(l)).addListener(d),t.pendingRemoveListenerFns.push(function(){return p.removeListener(d)}),t.registry.set(l,p)),p.matches&&u.push(new Ce(!0,l))}),u}},{key:"ngOnDestroy",value:function(){for(var e;e=this.pendingRemoveListenerFns.pop();)e()}},{key:"buildMQL",value:function(e){return function W(o,r){return r&&!!window.matchMedia("all").addListener?window.matchMedia(o):function Z(o){var r=new EventTarget;return r.matches="all"===o||""===o,r.media=o,r.addListener=function(){},r.removeListener=function(){},r.addEventListener=function(){},r.dispatchEvent=function(){return!1},r.onchange=null,r}(o)}(e,(0,y.isPlatformBrowser)(this._platformId))}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(y.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Me={},ve=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],je="(orientation: portrait) and (max-width: 599.98px)",nt="(orientation: landscape) and (max-width: 959.98px)",at="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",bt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Ot="(orientation: portrait) and (min-width: 840px)",Nt="(orientation: landscape) and (min-width: 1280px)",nn={HANDSET:"".concat(je,", ").concat(nt),TABLET:"".concat(at," , ").concat(bt),WEB:"".concat(Ot,", ").concat(Nt," "),HANDSET_PORTRAIT:"".concat(je),TABLET_PORTRAIT:"".concat(at," "),WEB_PORTRAIT:"".concat(Ot),HANDSET_LANDSCAPE:"".concat(nt),TABLET_LANDSCAPE:"".concat(bt),WEB_LANDSCAPE:"".concat(Nt)},fn=[{alias:"handset",priority:2e3,mediaQuery:nn.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:nn.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:nn.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:nn.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:nn.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:nn.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:nn.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:nn.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:nn.WEB_PORTRAIT,overlapping:!0}],Se=/(\.|-|_)/g;function Jn(o){var r=o.length>0?o.charAt(0):"",n=o.length>1?o.slice(1):"";return r.toUpperCase()+n}var St=new a.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var r=(0,a.inject)(vt),n=(0,a.inject)(Ye),e=[].concat.apply([],(r||[]).map(function(s){return Array.isArray(s)?s:[s]}));return function Vt(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return o.forEach(function(e){n[e.alias]=e}),r.forEach(function(e){n[e.alias]?q(n[e.alias],e):n[e.alias]=e}),function ft(o){return o.forEach(function(r){r.suffix||(r.suffix=function En(o){return o.replace(Se,"|").split("|").map(Jn).join("")}(r.alias),r.overlapping=!!r.overlapping)}),o}(Object.keys(n).map(function(e){return n[e]}))}((n.disableDefaultBps?[]:ve).concat(n.addOrientationBps?fn:[]),e)}}),Pt=function(){var o=function(){return(0,m.A)(function r(n){(0,v.A)(this,r),this.findByMap=new Map,this.items=(0,A.A)(n).sort(oe)},[{key:"findByAlias",value:function(e){return e?this.findWithPredicate(e,function(t){return t.alias===e}):null}},{key:"findByQuery",value:function(e){return this.findWithPredicate(e,function(t){return t.mediaQuery===e})}},{key:"overlappings",get:function(){return this.items.filter(function(e){return e.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(e){return e.alias})}},{key:"suffixes",get:function(){return this.items.map(function(e){var t;return null!==(t=e?.suffix)&&void 0!==t?t:""})}},{key:"findWithPredicate",value:function(e,t){var u,s=this.findByMap.get(e);return s||(s=null!==(u=this.items.find(t))&&void 0!==u?u:null,this.findByMap.set(e,s)),s??null}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(St))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Et="print",ht={alias:Et,mediaQuery:Et,priority:1e3},Ue=function(){var o=function(){return(0,m.A)(function r(n,e,t){(0,v.A)(this,r),this.breakpoints=n,this.layoutConfig=e,this._document=t,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new $e,this.deactivations=[]},[{key:"withPrintQuery",value:function(e){return[].concat((0,A.A)(e),[Et])}},{key:"isPrintEvent",value:function(e){return e.mediaQuery.startsWith(Et)}},{key:"printAlias",get:function(){var e;return(0,A.A)(null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[])}},{key:"printBreakPoints",get:function(){var e=this;return this.printAlias.map(function(t){return e.breakpoints.findByAlias(t)}).filter(function(t){return null!==t})}},{key:"getEventBreakpoints",value:function(e){var s=this.breakpoints.findByQuery(e.mediaQuery);return(s?[].concat((0,A.A)(this.printBreakPoints),[s]):this.printBreakPoints).sort(ke)}},{key:"updateEvent",value:function(e){var s,u,t=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(t=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(s=null===(u=t)||void 0===u?void 0:u.mediaQuery)&&void 0!==s?s:""),Ke(e,t)}},{key:"registerBeforeAfterPrintHooks",value:function(e){var t=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var s=function(){t.isPrinting||(t.isPrintingBeforeAfterEvent=!0,t.startPrinting(e,t.getEventBreakpoints(new Ce(!0,Et))),e.updateStyles())},u=function(){t.isPrintingBeforeAfterEvent=!1,t.isPrinting&&(t.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",u),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(u)}}},{key:"interceptEvents",value:function(e){var t=this;return function(s){t.isPrintEvent(s)?s.matches&&!t.isPrinting?(t.startPrinting(e,t.getEventBreakpoints(s)),e.updateStyles()):!s.matches&&t.isPrinting&&!t.isPrintingBeforeAfterEvent&&(t.stopPrinting(e),e.updateStyles()):t.collectActivations(e,s)}}},{key:"blockPropagation",value:function(){var e=this;return function(t){return!(e.isPrinting||e.isPrintEvent(t))}}},{key:"startPrinting",value:function(e,t){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(t)}},{key:"stopPrinting",value:function(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(e,t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!t.matches){var s=this.breakpoints.findByQuery(t.mediaQuery);if(s){var u=this.formerActivations&&this.formerActivations.includes(s),l=!this.formerActivations&&e.activatedBreakpoints.includes(s);(u||l)&&(this.deactivations.push(s),this.deactivations.sort(ke))}}}}},{key:"ngOnDestroy",value:function(){var e=this;this._document.defaultView&&(this.beforePrintEventListeners.forEach(function(t){return e._document.defaultView.removeEventListener("beforeprint",t)}),this.afterPrintEventListeners.forEach(function(t){return e._document.defaultView.removeEventListener("afterprint",t)}))}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(Pt),a.\u0275\u0275inject(Ye),a.\u0275\u0275inject(y.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),$e=function(){return(0,m.A)(function o(){(0,v.A)(this,o),this.printBreakpoints=[]},[{key:"addPrintBreakpoints",value:function(n){var e=this;return n.push(ht),n.sort(ke),n.forEach(function(t){return e.addBreakpoint(t)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(n){n&&void 0===this.printBreakpoints.find(function(t){return t.mediaQuery===n.mediaQuery})&&(this.printBreakpoints=function Ft(o){var r;return null!==(r=o?.mediaQuery.startsWith(Et))&&void 0!==r&&r}(n)?[n].concat((0,A.A)(this.printBreakpoints)):[].concat((0,A.A)(this.printBreakpoints),[n]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}])}(),At=function(){var o=function(){return(0,m.A)(function r(n,e,t){(0,v.A)(this,r),this.matchMedia=n,this.breakpoints=e,this.hook=t,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new T.B,this.observeActivations()},[{key:"activatedAlias",get:function(){var e,t;return null!==(e=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==e?e:""}},{key:"activatedBreakpoints",get:function(){return(0,A.A)(this._activatedBreakpoints)},set:function(e){this._activatedBreakpoints=(0,A.A)(e)}},{key:"useFallbacks",set:function(e){this._useFallbacks=e}},{key:"onMediaChange",value:function(e){var t=this.findByQuery(e.mediaQuery);if(t){e=Ke(e,t);var s=this.activatedBreakpoints.indexOf(t);e.matches&&-1===s?(this._activatedBreakpoints.push(t),this._activatedBreakpoints.sort(ke),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(ke),this.updateStyles())}}},{key:"init",value:function(e,t,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];kt(this.updateMap,e,t,s),kt(this.clearMap,e,t,u),this.buildElementKeyMap(e,t),this.watchExtraTriggers(e,t,l)}},{key:"getValue",value:function(e,t,s){var u=this.elementMap.get(e);if(u){var l=void 0!==s?u.get(s):this.getActivatedValues(u,t);if(l)return l.get(t)}}},{key:"hasValue",value:function(e,t){var s=this.elementMap.get(e);if(s){var u=this.getActivatedValues(s,t);if(u)return void 0!==u.get(t)||!1}return!1}},{key:"setValue",value:function(e,t,s,u){var l=this.elementMap.get(e);if(l){var d,p=(null!==(d=l.get(u))&&void 0!==d?d:new Map).set(t,s);l.set(u,p),this.elementMap.set(e,l)}else l=(new Map).set(u,(new Map).set(t,s)),this.elementMap.set(e,l);var h=this.getValue(e,t);void 0!==h&&this.updateElement(e,t,h)}},{key:"trackValue",value:function(e,t){return this.subject.asObservable().pipe((0,te.p)(function(s){return s.element===e&&s.key===t}))}},{key:"updateStyles",value:function(){var e=this;this.elementMap.forEach(function(t,s){var u=new Set(e.elementKeyMap.get(s)),l=e.getActivatedValues(t);l&&l.forEach(function(d,p){e.updateElement(s,p,d),u.delete(p)}),u.forEach(function(d){if(l=e.getActivatedValues(t,d)){var p=l.get(d);e.updateElement(s,d,p)}else e.clearElement(s,d)})})}},{key:"clearElement",value:function(e,t){var s=this.clearMap.get(e);if(s){var u=s.get(t);u&&(u(),this.subject.next({element:e,key:t,value:""}))}}},{key:"updateElement",value:function(e,t,s){var u=this.updateMap.get(e);if(u){var l=u.get(t);l&&(l(s),this.subject.next({element:e,key:t,value:s}))}}},{key:"releaseElement",value:function(e){var t=this.watcherMap.get(e);t&&(t.forEach(function(u){return u.unsubscribe()}),this.watcherMap.delete(e));var s=this.elementMap.get(e);s&&(s.forEach(function(u,l){return s.delete(l)}),this.elementMap.delete(e))}},{key:"triggerUpdate",value:function(e,t){var s=this,u=this.elementMap.get(e);if(u){var l=this.getActivatedValues(u,t);l&&(t?this.updateElement(e,t,l.get(t)):l.forEach(function(d,p){return s.updateElement(e,p,d)}))}}},{key:"buildElementKeyMap",value:function(e,t){var s=this.elementKeyMap.get(e);s||this.elementKeyMap.set(e,s=new Set),s.add(t)}},{key:"watchExtraTriggers",value:function(e,t,s){var u=this;if(s&&s.length){var l=this.watcherMap.get(e);if(l||this.watcherMap.set(e,l=new Map),!l.get(t)){var p=R.h.apply(void 0,(0,A.A)(s)).subscribe(function(){var h=u.getValue(e,t);u.updateElement(e,t,h)});l.set(t,p)}}}},{key:"findByQuery",value:function(e){return this.breakpoints.findByQuery(e)}},{key:"getActivatedValues",value:function(e,t){for(var s=0;s<this.activatedBreakpoints.length;s++){var l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===t||l.has(t)&&null!=l.get(t)))return l}if(this._useFallbacks){var d=e.get("");return void 0===t||d&&d.has(t)?d:void 0}}},{key:"observeActivations",value:function(){var e=this.breakpoints.items.map(function(t){return t.mediaQuery});this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,X.M)(this.hook.interceptEvents(this)),(0,te.p)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(ie),a.\u0275\u0275inject(Pt),a.\u0275\u0275inject(Ue))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function kt(o,r,n,e){if(void 0!==e){var t,s=null!==(t=o.get(r))&&void 0!==t?t:new Map;s.set(n,e),o.set(r,s)}}var gt=function(){var o=function(){return(0,m.A)(function r(n,e,t,s){(0,v.A)(this,r),this.elementRef=n,this.styleBuilder=e,this.styler=t,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new T.B,this.styleCache=new Map},[{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}},{key:"ngOnChanges",value:function(e){var t=this;Object.keys(e).forEach(function(s){if(-1!==t.inputs.indexOf(s)){var u=s.split(".").slice(1).join(".");t.setValue(e[s].currentValue,u)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}},{key:"addStyles",value:function(e,t){var s=this.styleBuilder,u=s.shouldCache,l=this.styleCache.get(e);(!l||!u)&&(l=s.buildStyles(e,t),u&&this.styleCache.set(e,l)),this.mru=(0,g.A)({},l),this.applyStyleToElement(l),s.sideEffect(e,l,t)}},{key:"clearStyles",value:function(){var e=this;Object.keys(this.mru).forEach(function(t){e.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var s=this.styler.getFlowDirection(e),u=(0,k.A)(s,2),l=u[0];if(!u[1]&&t){var p=H(l);this.styler.applyStyleToElements(p,[e])}return l.trim()}return"row"}},{key:"hasWrap",value:function(e){return this.styler.hasWrap(e)}},{key:"applyStyleToElement",value:function(e,t){this.styler.applyStyleToElement(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement,e,t)}},{key:"setValue",value:function(e,t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,t)}},{key:"updateWithValue",value:function(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ze),a.\u0275\u0275directiveInject(ct),a.\u0275\u0275directiveInject(At))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature]}),o}();function qn(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",e=[r,n,o],t=o.indexOf("calc");if(t>0){e[2]=Dn(o.substring(t).trim());var s=o.substr(0,t).trim().split(" ");2==s.length&&(e[0]=s[0],e[1]=s[1])}else if(0==t)e[2]=Dn(o.trim());else{var u=o.split(" ");e=3===u.length?u:[r,n,o]}return e}function Dn(o){return o.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;var In=b(6724),Zt=(b(33253),b(33900)),vi=function(){var o=function(r){function n(e,t,s,u,l,d,p){var h;return(0,v.A)(this,n),(h=(0,w.A)(this,n,[e,null,t,s])).ngClassInstance=p,h.DIRECTIVE_KEY="ngClass",h.ngClassInstance||(h.ngClassInstance=new y.NgClass(u,l,e,d)),h.init(),h.setValue("",""),h}return(0,F.A)(n,r),(0,m.A)(n,[{key:"klass",set:function(t){this.ngClassInstance.klass=t,this.setValue(t,"")}},{key:"updateWithValue",value:function(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ct),a.\u0275\u0275directiveInject(At),a.\u0275\u0275directiveInject(a.IterableDiffers),a.\u0275\u0275directiveInject(a.KeyValueDiffers),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(y.NgClass,10))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,inputs:{klass:[0,"class","klass"]},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),hn=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],yi=function(){var o=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=hn,e}return(0,F.A)(n,r),(0,m.A)(n)}(vi);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),Ou=(0,m.A)(function o(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,v.A)(this,o),this.key=r,this.value=n,this.key=e?r.replace(/['"]/g,"").trim():r.trim(),this.value=e?n.replace(/['"]/g,"").trim():n.trim(),this.value=this.value.replace(/;/,"")});function As(o){var r=typeof o;return"object"===r?o.constructor===Array?"array":o.constructor===Set?"set":"object":r}function O(o){var r=o.split(":"),n=(0,In.A)(r),e=n[0],t=n.slice(1);return new Ou(e,t.join(":"))}function $(o,r){return r.key&&(o[r.key]=r.value),o}var J=function(){var o=function(r){function n(e,t,s,u,l,d,p,h,_){var S,P;(0,v.A)(this,n),(P=(0,w.A)(this,n,[e,null,t,s])).sanitizer=u,P.ngStyleInstance=p,P.DIRECTIVE_KEY="ngStyle",P.ngStyleInstance||(P.ngStyleInstance=new y.NgStyle(e,l,d)),P.init();var B=null!==(S=P.nativeElement.getAttribute("style"))&&void 0!==S?S:"";return P.fallbackStyles=P.buildStyleMap(B),P.isServer=h&&(0,y.isPlatformServer)(_),P}return(0,F.A)(n,r),(0,m.A)(n,[{key:"updateWithValue",value:function(t){var s=this.buildStyleMap(t);this.ngStyleInstance.ngStyle=(0,g.A)((0,g.A)({},this.fallbackStyles),s),this.isServer&&this.applyStyleToElement(s),this.ngStyleInstance.ngDoCheck()}},{key:"clearStyles",value:function(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}},{key:"buildStyleMap",value:function(t){var s=this,u=function(d){var p;return null!==(p=s.sanitizer.sanitize(a.SecurityContext.STYLE,d))&&void 0!==p?p:""};if(t)switch(As(t)){case"string":return Ee(function x(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";return String(o).trim().split(r).map(function(n){return n.trim()}).filter(function(n){return""!==n})}(t),u);case"array":return Ee(t,u);default:return function D(o,r){var n=[];return"set"===As(o)?o.forEach(function(e){return n.push(e)}):Object.keys(o).forEach(function(e){n.push("".concat(e,":").concat(o[e]))}),function C(o,r){return o.map(O).filter(function(e){return!!e}).map(function(t){return r&&(t.value=r(t.value)),t}).reduce($,{})}(n,r)}(t,u)}return{}}},{key:"ngDoCheck",value:function(){this.ngStyleInstance.ngDoCheck()}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ct),a.\u0275\u0275directiveInject(At),a.\u0275\u0275directiveInject(I.DomSanitizer),a.\u0275\u0275directiveInject(a.KeyValueDiffers),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(y.NgStyle,10),a.\u0275\u0275directiveInject(it),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),ce=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"],_e=function(){var o=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=ce,e}return(0,F.A)(n,r),(0,m.A)(n)}(J);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}();function Ee(o,r){return o.map(O).filter(function(e){return!!e}).map(function(t){return r&&(t.value=r(t.value)),t}).reduce($,{})}var Te=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Ge]}),o}(),c=b(40642),ze=b(792),Je=b(69009),rt=function(){var o=function(r){function n(){return(0,v.A)(this,n),(0,w.A)(this,n,arguments)}return(0,F.A)(n,r),(0,m.A)(n,[{key:"buildStyles",value:function(t,s){var u=s.display,l=H(t);return(0,g.A)((0,g.A)({},l),{},{display:"none"===u?u:l.display})}}])}(Ze);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),tt=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],Ne=function(){var o=function(r){function n(e,t,s,u,l){var d;return(0,v.A)(this,n),(d=(0,w.A)(this,n,[e,s,t,u]))._config=l,d.DIRECTIVE_KEY="layout",d.init(),d}return(0,F.A)(n,r),(0,m.A)(n,[{key:"updateWithValue",value:function(t){var s,l=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(s=Le.get(l))&&void 0!==s?s:new Map,Le.set(l,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:l}),this.currentValue=t)}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ct),a.\u0275\u0275directiveInject(rt),a.\u0275\u0275directiveInject(At),a.\u0275\u0275directiveInject(Ye))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),Ve=function(){var o=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=tt,e}return(0,F.A)(n,r),(0,m.A)(n)}(Ne);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),Le=new Map,Xr=function(){var o=function(r){function n(e){var t;return(0,v.A)(this,n),(t=(0,w.A)(this,n)).layoutConfig=e,t}return(0,F.A)(n,r),(0,m.A)(n,[{key:"buildStyles",value:function(t,s){var u=t.split(" "),l=(0,In.A)(u),d=l[0],p=l[1],_=l.slice(2).join(" "),S=s.direction.indexOf("column")>-1?"column":"row",P=ae(S)?"max-width":"max-height",B=ae(S)?"min-width":"min-height",z=String(_).indexOf("calc")>-1,Y=z||"auto"===_,de=String(_).indexOf("%")>-1&&!z,ge=String(_).indexOf("px")>-1||String(_).indexOf("rem")>-1||String(_).indexOf("em")>-1||String(_).indexOf("vw")>-1||String(_).indexOf("vh")>-1,be=z||ge;p="0"==p?0:p;var me=!(d="0"==d?0:d)&&!p,Pe={},qe={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(_||""){case"":_="row"===S?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":d=0,_="auto";break;case"grow":_="100%";break;case"noshrink":p=0,_="auto";break;case"auto":break;case"none":d=0,p=0,_="auto";break;default:!be&&!de&&!isNaN(_)&&(_+="%"),"0%"===_&&(be=!0),"0px"===_&&(_="0%"),Pe=q(qe,z?{"flex-grow":d,"flex-shrink":p,"flex-basis":be?_:"100%"}:{flex:"".concat(d," ").concat(p," ").concat(be?_:"100%")})}return Pe.flex||Pe["flex-grow"]||(Pe=q(qe,z?{"flex-grow":d,"flex-shrink":p,"flex-basis":_}:{flex:"".concat(d," ").concat(p," ").concat(_)})),"0%"!==_&&"0px"!==_&&"0.000000001px"!==_&&"auto"!==_&&(Pe[B]=me||be&&d?_:null,Pe[P]=me||!Y&&p?_:null),Pe[B]||Pe[P]?s.hasWrap&&(Pe[z?"flex-basis":"flex"]=Pe[P]?z?Pe[P]:"".concat(d," ").concat(p," ").concat(Pe[P]):z?Pe[B]:"".concat(d," ").concat(p," ").concat(Pe[B])):Pe=q(qe,z?{"flex-grow":d,"flex-shrink":p,"flex-basis":_}:{flex:"".concat(d," ").concat(p," ").concat(_)}),q(Pe,{"box-sizing":"border-box"})}}])}(Ze);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(Ye))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),va=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],Ko=function(){var o=function(r){function n(e,t,s,u,l){var d;return(0,v.A)(this,n),(d=(0,w.A)(this,n,[e,u,t,l])).layoutConfig=s,d.marshal=l,d.DIRECTIVE_KEY="flex",d.direction=void 0,d.wrap=void 0,d.flexGrow="1",d.flexShrink="1",d.init(),d}return(0,F.A)(n,r),(0,m.A)(n,[{key:"shrink",get:function(){return this.flexShrink},set:function(t){this.flexShrink=t||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(t){this.flexGrow=t||"1",this.triggerReflow()}},{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Zt.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Zt.Q)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(t){var u=t.value.split(" ");this.direction=u[0],this.wrap=void 0!==u[1]&&"wrap"===u[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var u=this.direction,l=u.startsWith("row"),d=this.wrap;l&&d?this.styleCache=Cs:l&&!d?this.styleCache=qo:!l&&d?this.styleCache=ri:!l&&!d&&(this.styleCache=uc);var h=qn(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:u,hasWrap:d})}},{key:"triggerReflow",value:function(){var t=this.activatedValue;if(void 0!==t){var s=qn(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ct),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject(Xr),a.\u0275\u0275directiveInject(At))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,inputs:{shrink:[0,"fxShrink","shrink"],grow:[0,"fxGrow","grow"]},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),_i=function(){var o=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=va,e}return(0,F.A)(n,r),(0,m.A)(n)}(Ko);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),qo=new Map,uc=new Map,Cs=new Map,ri=new Map,$E={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},HE=function(){var o=function(r){function n(){return(0,v.A)(this,n),(0,w.A)(this,n,arguments)}return(0,F.A)(n,r),(0,m.A)(n,[{key:"buildStyles",value:function(t){return $E}}])}(Ze);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Gu=function(){var o=function(r){function n(e,t,s,u){var l;return(0,v.A)(this,n),(l=(0,w.A)(this,n,[e,s,t,u])).styleCache=KE,l.addStyles(""),l}return(0,F.A)(n,r),(0,m.A)(n)}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ct),a.\u0275\u0275directiveInject(HE),a.\u0275\u0275directiveInject(At))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","fxFill",""],["","fxFlexFill",""]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),KE=new Map,Jy=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Ge,Je.BidiModule]}),o}(),s0=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Ge]}),o}(),dc=function(){var o=function(){function r(n,e){(0,v.A)(this,r),(0,y.isPlatformServer)(e)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return(0,m.A)(r,null,[{key:"withConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:r,providers:e.serverLoaded?[{provide:Ye,useValue:(0,g.A)((0,g.A)({},Xe),e)},{provide:vt,useValue:t,multi:!0},{provide:it,useValue:!0}]:[{provide:Ye,useValue:(0,g.A)((0,g.A)({},Xe),e)},{provide:vt,useValue:t,multi:!0}]}}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(it),a.\u0275\u0275inject(a.PLATFORM_ID))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Jy,Te,s0,Jy,Te,s0]}),o}(),Dw=function(r){return["segment",r]},ww=function(r,n){return{"segment-main":!0,expandable:r,expanded:n}};function Fw(o,r){1&o&&a.\u0275\u0275element(0,"div",9)}function kw(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.description)}}function Pw(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"section",11),a.\u0275\u0275element(1,"ngx-json-viewer",12),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("json",n.value)("expanded",e.expanded)("depth",e.depth)("_currentDepth",e._currentDepth+1)}}function Iw(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"section",2)(1,"section",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).$implicit,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.toggle(u))}),a.\u0275\u0275template(2,Fw,1,0,"div",4),a.\u0275\u0275elementStart(3,"span",5),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"span",6),a.\u0275\u0275text(6,": "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,kw,2,1,"span",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,Pw,2,4,"section",8),a.\u0275\u0275elementEnd()}if(2&o){var e=r.$implicit,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(6,Dw,"segment-type-"+e.type)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction2(8,ww,t.isExpandable(e),e.expanded)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.isExpandable(e)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.key),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!e.expanded||!t.isExpandable(e)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.expanded&&t.isExpandable(e))}}var Tw=function(){var o=function(){return(0,m.A)(function r(){(0,v.A)(this,r),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]},[{key:"ngOnChanges",value:function(){var e=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(t){e.segments.push(e.parseKeyValue(t,e.json[t]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(e){return"object"===e.type||"array"===e.type}},{key:"toggle",value:function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}},{key:"parseKeyValue",value:function(e,t){var s={key:e,value:t,type:void 0,description:""+t,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(e){var t=new WeakMap;return function s(u,l){var d,p;return"object"!=typeof u||null===u||u instanceof Boolean||u instanceof Date||u instanceof Number||u instanceof RegExp||u instanceof String?u:void 0!==(d=t.get(u))?{$ref:d}:(t.set(u,l),Array.isArray(u)?(p=[],u.forEach(function(h,_){p[_]=s(h,l+"["+_+"]")})):(p={},Object.keys(u).forEach(function(h){p[h]=s(u[h],l+"["+JSON.stringify(h)+"]")})),p)}(e,"$")}}])}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click","ngClass"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(n,e){1&n&&(a.\u0275\u0275elementStart(0,"section",0),a.\u0275\u0275template(1,Iw,9,11,"section",1),a.\u0275\u0275elementEnd()),2&n&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",e.segments))},dependencies:[y.NgClass,y.NgForOf,y.NgIf,o],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),o}(),Fd=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),o}(),He=b(11),Rt=b(81890),Mw=function(o){function r(n,e){var t;return(0,v.A)(this,r),(t=(0,w.A)(this,r,[n,e])).scheduler=n,t.work=e,t}return(0,F.A)(r,o),(0,m.A)(r,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?(0,ze.A)(r,"schedule",this,3)([e,t]):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?(0,ze.A)(r,"execute",this,3)([e,t]):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=s&&s>0||null==s&&this.delay>0?(0,ze.A)(r,"requestAsyncId",this,3)([e,t,s]):(e.flush(this),0)}}])}(b(90428).R),Vw=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(b(9576).q),u0=new Vw(Mw),l0=b(74304),Es=b(50819),Ui=b(91687),Ds=b(82645),Ow=b(1440),Bw=b(54318),c0=b(4083);function ii(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=(0,c0.ms)(r);return(0,Es.N)(function(t,s){for(var u=r.length,l=new Array(u),d=r.map(function(){return!1}),p=!1,h=function(P){(0,Ds.Tg)(r[P]).subscribe((0,Ui._)(s,function(B){l[P]=B,!p&&!d[P]&&(d[P]=!0,(p=d.every(Ow.D))&&(d=null))},Bw.l))},_=0;_<u;_++)h(_);t.subscribe((0,Ui._)(s,function(S){if(p){var P=[S].concat(l);s.next(e?e.apply(void 0,(0,A.A)(P)):P)}}))})}var kd=b(32112),fe=b(70271);function Lw(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=r.length;if(0===e)throw new Error("list of properties cannot be empty.");return(0,fe.T)(function(t){for(var s=t,u=0;u<e;u++){var l=s?.[r[u]];if(!(typeof l<"u"))return;s=l}return s})}var Ao=b(91817),nm=b(98231),pc={};function $a(o,r){if(pc[o]=(pc[o]||0)+1,"function"==typeof r)return rm(o,function(){return(0,g.A)((0,g.A)({},r.apply(void 0,arguments)),{},{type:o})});switch(r?r._as:"empty"){case"empty":return rm(o,function(){return{type:o}});case"props":return rm(o,function(e){return(0,g.A)((0,g.A)({},e),{},{type:o})});default:throw new Error("Unexpected config.")}}function rm(o,r){return Object.defineProperty(r,"type",{value:o,writable:!1})}var Pd="@ngrx/store/init",Co=function(){var o,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,[{type:Pd}])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"next",value:function(s){if("function"==typeof s)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof s>"u")throw new TypeError("Actions must be objects");if(typeof s.type>"u")throw new TypeError("Actions must have a type property");(0,ze.A)(e,"next",this,3)([s])}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){(0,ze.A)(e,"complete",this,3)([])}}])}(M.t);return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),$w=[Co],im=new a.InjectionToken("@ngrx/store Internal Root Guard"),d0=new a.InjectionToken("@ngrx/store Internal Initial State"),Id=new a.InjectionToken("@ngrx/store Initial State"),p0=new a.InjectionToken("@ngrx/store Reducer Factory"),f0=new a.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),m0=new a.InjectionToken("@ngrx/store Initial Reducers"),om=new a.InjectionToken("@ngrx/store Internal Initial Reducers"),g0=new a.InjectionToken("@ngrx/store Store Features"),h0=new a.InjectionToken("@ngrx/store Internal Store Reducers"),sm=new a.InjectionToken("@ngrx/store Internal Feature Reducers"),v0=new a.InjectionToken("@ngrx/store Internal Feature Configs"),um=new a.InjectionToken("@ngrx/store Internal Store Features"),y0=new a.InjectionToken("@ngrx/store Internal Feature Reducers Token"),lm=new a.InjectionToken("@ngrx/store Feature Reducers"),_0=new a.InjectionToken("@ngrx/store User Provided Meta Reducers"),Td=new a.InjectionToken("@ngrx/store Meta Reducers"),b0=new a.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),A0=new a.InjectionToken("@ngrx/store User Runtime Checks Config"),C0=new a.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),zu=new a.InjectionToken("@ngrx/store Internal Runtime Checks"),fc=new a.InjectionToken("@ngrx/store Check if Action types are unique"),cm=new a.InjectionToken("@ngrx/store Root Store Provider"),x0=new a.InjectionToken("@ngrx/store Feature State Provider");function Rd(o){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(o),e={},t=0;t<n.length;t++){var s=n[t];"function"==typeof o[s]&&(e[s]=o[s])}var u=Object.keys(e);return function(d,p){d=void 0===d?r:d;for(var h=!1,_={},S=0;S<u.length;S++){var P=u[S],z=d[P],Y=(0,e[P])(z,p);_[P]=Y,h=h||Y!==z}return h?_:d}}function dm(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return function(e){if(0===r.length)return e;var t=r[r.length-1];return r.slice(0,-1).reduceRight(function(u,l){return l(u)},t(e))}}function S0(o,r){return Array.isArray(r)&&r.length>0&&(o=dm.apply(null,[].concat((0,A.A)(r),[o]))),function(n,e){var t=o(n);return function(s,u){return t(s=void 0===s?e:s,u)}}}var mc=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(G.c),pm=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Co),fm="@ngrx/store/update-reducers",$u=function(){var o,r=function(n){function e(t,s,u,l){var d;return(0,v.A)(this,e),(d=(0,w.A)(this,e,[l(u,s)])).dispatcher=t,d.initialState=s,d.reducers=u,d.reducerFactory=l,d}return(0,F.A)(e,n),(0,m.A)(e,[{key:"currentReducers",get:function(){return this.reducers}},{key:"addFeature",value:function(s){this.addFeatures([s])}},{key:"addFeatures",value:function(s){var u=s.reduce(function(l,d){var p=d.reducers,h=d.reducerFactory,_=d.metaReducers,S=d.initialState,P=d.key,B="function"==typeof p?function Kw(o){var r=Array.isArray(o)&&o.length>0?dm.apply(void 0,(0,A.A)(o)):function(n){return n};return function(n,e){return n=r(n),function(t,s){return n(t=void 0===t?e:t,s)}}}(_)(p,S):S0(h,_)(p,S);return l[P]=B,l},{});this.addReducers(u)}},{key:"removeFeature",value:function(s){this.removeFeatures([s])}},{key:"removeFeatures",value:function(s){this.removeReducers(s.map(function(u){return u.key}))}},{key:"addReducer",value:function(s,u){this.addReducers((0,c.A)({},s,u))}},{key:"addReducers",value:function(s){this.reducers=(0,g.A)((0,g.A)({},this.reducers),s),this.updateReducers(Object.keys(s))}},{key:"removeReducer",value:function(s){this.removeReducers([s])}},{key:"removeReducers",value:function(s){var u=this;s.forEach(function(l){u.reducers=function Hw(o,r){return Object.keys(o).filter(function(n){return n!==r}).reduce(function(n,e){return Object.assign(n,(0,c.A)({},e,o[e]))},{})}(u.reducers,l)}),this.updateReducers(s)}},{key:"updateReducers",value:function(s){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:fm,features:s})}},{key:"ngOnDestroy",value:function(){this.complete()}}])}(M.t);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(pm),a.\u0275\u0275inject(Id),a.\u0275\u0275inject(m0),a.\u0275\u0275inject(p0))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),qw=[$u,{provide:mc,useExisting:$u},{provide:pm,useExisting:Co}],Xo=function(){var o,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,F.A)(e,n),(0,m.A)(e,[{key:"ngOnDestroy",value:function(){this.complete()}}])}(T.B);return(o=r).\u0275fac=function(){var n;return function(t){return(n||(n=a.\u0275\u0275getInheritedFactory(o)))(t||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Ww=[Xo],mm=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(G.c),E0=function(){var o,r=function(n){function e(t,s,u,l){var d;(0,v.A)(this,e),d=(0,w.A)(this,e,[l]);var S=t.pipe((0,l0.Q)(u0)).pipe(ii(s)).pipe((0,kd.S)(Qw,{state:l}));return d.stateSubscription=S.subscribe(function(P){var z=P.action;d.next(P.state),u.next(z)}),d.state=(0,nm.toSignal)(d,{manualCleanup:!0,requireSync:!0}),d}return(0,F.A)(e,n),(0,m.A)(e,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}])}(M.t);return(o=r).INIT=Pd,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Co),a.\u0275\u0275inject(mc),a.\u0275\u0275inject(Xo),a.\u0275\u0275inject(Id))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function Qw(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},n=(0,k.A)(arguments.length>1?arguments[1]:void 0,2),e=n[0];return{state:(0,n[1])(o.state,e),action:e}}var Xw=[E0,{provide:mm,useExisting:E0}],Ir=function(){var o,r=function(n){function e(t,s,u,l){var d;return(0,v.A)(this,e),(d=(0,w.A)(this,e)).actionsObserver=s,d.reducerManager=u,d.injector=l,d.source=t,d.state=t.state,d}return(0,F.A)(e,n),(0,m.A)(e,[{key:"select",value:function(s){for(var u=arguments.length,l=new Array(u>1?u-1:0),d=1;d<u;d++)l[d-1]=arguments[d];return wr.call.apply(wr,[null,s].concat(l))(this)}},{key:"selectSignal",value:function(s,u){var l=this;return(0,a.computed)(function(){return s(l.state())},u)}},{key:"lift",value:function(s){var u=new e(this,this.actionsObserver,this.reducerManager);return u.operator=s,u}},{key:"dispatch",value:function(s,u){if("function"==typeof s)return this.processDispatchFn(s,u);this.actionsObserver.next(s)}},{key:"next",value:function(s){this.actionsObserver.next(s)}},{key:"error",value:function(s){this.actionsObserver.error(s)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(s,u){this.reducerManager.addReducer(s,u)}},{key:"removeReducer",value:function(s){this.reducerManager.removeReducer(s)}},{key:"processDispatchFn",value:function(s,u){var l,d,p=this;!function Uw(o,r){if(null==o)throw new Error("".concat(r," must be defined."))}(this.injector,"Store Injector");var h=null!==(l=null!==(d=u?.injector)&&void 0!==d?d:function Jw(){try{return(0,a.inject)(a.Injector)}catch{return}}())&&void 0!==l?l:this.injector;return(0,a.effect)(function(){var _=s();(0,a.untracked)(function(){return p.dispatch(_)})},{injector:h})}}])}(G.c);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(mm),a.\u0275\u0275inject(Co),a.\u0275\u0275inject($u),a.\u0275\u0275inject(a.Injector))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Yw=[Ir];function wr(o,r){for(var n=arguments.length,e=new Array(n>2?n-2:0),t=2;t<n;t++)e[t-2]=arguments[t];return function(u){var l;if("string"==typeof o){var d=[r].concat(e).filter(Boolean);l=u.pipe(Lw.apply(void 0,[o].concat((0,A.A)(d))))}else{if("function"!=typeof o)throw new TypeError("Unexpected type '".concat(typeof o,"' in select operator,")+" expected 'string' or 'function'");l=u.pipe((0,fe.T)(function(p){return o(p,r)}))}return l.pipe((0,Ao.F)())}}var gm="https://ngrx.io/guide/store/configuration/runtime-checks";function D0(o){return void 0===o}function w0(o){return null===o}function F0(o){return Array.isArray(o)}function k0(o){return"object"==typeof o&&null!==o}function hm(o){return"function"==typeof o}function vm(o,r){return o===r}function ym(o){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vm,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vm,e=null,t=null;return{memoized:function p(){if(void 0!==s)return s.result;if(!e)return t=o.apply(null,arguments),e=arguments,t;if(!function o2(o,r,n){for(var e=0;e<o.length;e++)if(!n(o[e],r[e]))return!0;return!1}(arguments,e,r))return t;var h=o.apply(null,arguments);return e=arguments,n(t,h)?t:(t=h,h)},reset:function u(){e=null,t=null},setResult:function l(){s={result:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},clearResult:function d(){s=void 0}}}function wn(){return function u2(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:s2};return function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var s=e;if(Array.isArray(s[0])){var l=(0,In.A)(s),d=l[0],p=l.slice(1);s=[].concat((0,A.A)(d),(0,A.A)(p))}else 1===s.length&&function l2(o){return!!o&&"object"==typeof o&&Object.values(o).every(function(r){return"function"==typeof r})}(s[0])&&(s=function c2(o){var r=Object.values(o),n=Object.keys(o);return[].concat(r,[function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return n.reduce(function(d,p,h){return(0,g.A)((0,g.A)({},d),{},(0,c.A)({},p,u[h]))},{})}])}(s[0]));var h=s.slice(0,s.length-1),_=s[s.length-1],S=h.filter(function(Y){return Y.release&&"function"==typeof Y.release}),P=o(function(){for(var Y=arguments.length,de=new Array(Y),ge=0;ge<Y;ge++)de[ge]=arguments[ge];return _.apply(null,de)}),B=ym(function(Y,de){return r.stateFn.apply(null,[Y,h,de,P])});return Object.assign(B.memoized,{release:function z(){B.reset(),P.reset(),S.forEach(function(Y){return Y.release()})},projector:P.memoized,setResult:B.setResult,clearResult:B.clearResult})}}(ym).apply(void 0,arguments)}function s2(o,r,n,e){if(void 0===n){var t=r.map(function(u){return u(o)});return e.memoized.apply(null,t)}var s=r.map(function(u){return u(o,n)});return e.memoized.apply(null,[].concat((0,A.A)(s),[n]))}function gc(o){return wn(function(r){var n=r[o];return(0,a.isDevMode)()&&!(o in r)&&console.warn('@ngrx/store: The feature name "'.concat(o,'" does ')+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+"using StoreModule.forRoot('".concat(o,"', ...) or ")+"StoreModule.forFeature('".concat(o,"', ...).  If the default ")+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),n},function(r){return r})}function f2(o){return o instanceof a.InjectionToken?(0,a.inject)(o):o}function m2(o,r){return r.map(function(n,e){if(o[e]instanceof a.InjectionToken){var t=(0,a.inject)(o[e]);return{key:n.key,reducerFactory:t.reducerFactory?t.reducerFactory:Rd,metaReducers:t.metaReducers?t.metaReducers:[],initialState:t.initialState}}return n})}function g2(o){return o.map(function(r){return r instanceof a.InjectionToken?(0,a.inject)(r):r})}function _m(o){return"function"==typeof o?o():o}function h2(o,r){return o.concat(r)}function v2(){if((0,a.inject)(Ir,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function bm(o){Object.freeze(o);var r=hm(o);return Object.getOwnPropertyNames(o).forEach(function(n){if(!n.startsWith("\u0275")&&function a2(o,r){return Object.prototype.hasOwnProperty.call(o,r)}(o,n)&&(!r||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var e=o[n];(k0(e)||hm(e))&&!Object.isFrozen(e)&&bm(e)}}),o}function Am(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(D0(o)||w0(o))&&0===r.length?{path:["root"],value:o}:Object.keys(o).reduce(function(e,t){if(e)return e;var s=o[t];return function r2(o){return hm(o)&&o.hasOwnProperty("\u0275cmp")}(s)?e:!(D0(s)||w0(s)||function t2(o){return"number"==typeof o}(s)||function e2(o){return"boolean"==typeof o}(s)||function Zw(o){return"string"==typeof o}(s)||F0(s))&&(function P0(o){if(!function n2(o){return k0(o)&&!F0(o)}(o))return!1;var r=Object.getPrototypeOf(o);return r===Object.prototype||null===r}(s)?Am(s,[].concat((0,A.A)(r),[t])):{path:[].concat((0,A.A)(r),[t]),value:s})},!1)}function R0(o,r){if(!1!==o){var n=o.path.join("."),e=new Error("Detected unserializable ".concat(r,' at "').concat(n,'". ').concat(gm,"#strict").concat(r,"serializability"));throw e.value=o.value,e.unserializablePath=n,e}}function A2(o){return(0,a.isDevMode)()?(0,g.A)({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},o):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function C2(o){var r=o.strictActionSerializability,n=o.strictStateSerializability;return function(e){return r||n?function _2(o,r){return function(n,e){r.action(e)&&R0(Am(e),"action");var s=o(n,e);return r.state()&&R0(Am(s),"state"),s}}(e,{action:function(s){return r&&!Cm(s)},state:function(){return n}}):e}}function x2(o){var r=o.strictActionImmutability,n=o.strictStateImmutability;return function(e){return r||n?function y2(o,r){return function(n,e){var t=r.action(e)?bm(e):e,s=o(n,t);return r.state()?bm(s):s}}(e,{action:function(s){return r&&!Cm(s)},state:function(){return n}}):e}}function Cm(o){return o.type.startsWith("@ngrx")}function S2(o){var r=o.strictActionWithinNgZone;return function(n){return r?function b2(o,r){return function(n,e){if(r.action(e)&&!a.NgZone.isInAngularZone())throw new Error("Action '".concat(e.type,"' running outside NgZone. ").concat(gm,"#strictactionwithinngzone"));return o(n,e)}}(n,{action:function(t){return r&&!Cm(t)}}):n}}function E2(o){return[{provide:C0,useValue:o},{provide:A0,useFactory:D2,deps:[C0]},{provide:zu,deps:[A0],useFactory:A2},{provide:Td,multi:!0,deps:[zu],useFactory:x2},{provide:Td,multi:!0,deps:[zu],useFactory:C2},{provide:Td,multi:!0,deps:[zu],useFactory:S2}]}function M0(){return[{provide:fc,multi:!0,deps:[zu],useFactory:w2}]}function D2(o){return o}function w2(o){if(o.strictActionTypeUniqueness){var r=Object.entries(pc).filter(function(n){return(0,k.A)(n,2)[1]>1}).map(function(n){return(0,k.A)(n,1)[0]});if(r.length)throw new Error("Action types are registered more than once, ".concat(r.map(function(n){return'"'.concat(n,'"')}).join(", "),". ").concat(gm,"#strictactiontypeuniqueness"))}}function N0(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{provide:im,useFactory:v2},{provide:d0,useValue:r.initialState},{provide:Id,useFactory:_m,deps:[d0]},{provide:om,useValue:o},{provide:h0,useExisting:o instanceof a.InjectionToken?o:om},{provide:m0,deps:[om,[new a.Inject(h0)]],useFactory:f2},{provide:_0,useValue:r.metaReducers?r.metaReducers:[]},{provide:b0,deps:[Td,_0],useFactory:h2},{provide:f0,useValue:r.reducerFactory?r.reducerFactory:Rd},{provide:p0,deps:[f0,b0],useFactory:S0},$w,qw,Ww,Xw,Yw,E2(r.runtimeChecks),M0()]}function V0(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[{provide:v0,multi:!0,useValue:o instanceof Object?{}:n},{provide:g0,multi:!0,useValue:{key:o instanceof Object?o.name:o,reducerFactory:n instanceof a.InjectionToken||!n.reducerFactory?Rd:n.reducerFactory,metaReducers:n instanceof a.InjectionToken||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof a.InjectionToken||!n.initialState?void 0:n.initialState}},{provide:um,deps:[v0,g0],useFactory:m2},{provide:sm,multi:!0,useValue:o instanceof Object?o.reducer:r},{provide:y0,multi:!0,useExisting:r instanceof a.InjectionToken?r:sm},{provide:lm,multi:!0,deps:[sm,[new a.Inject(y0)]],useFactory:g2},M0()]}(0,a.provideEnvironmentInitializer)(function(){return(0,a.inject)(cm)}),(0,a.provideEnvironmentInitializer)(function(){return(0,a.inject)(x0)});var Md=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Co),a.\u0275\u0275inject(mc),a.\u0275\u0275inject(Xo),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(im,8),a.\u0275\u0275inject(fc,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),xm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.features=e,this.featureReducers=t,this.reducerManager=s;var d=e.map(function(p,h){var S=t.shift()[h];return(0,g.A)((0,g.A)({},p),{},{reducers:S,initialState:_m(p.initialState)})});s.addFeatures(d)},[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(um),a.\u0275\u0275inject(lm),a.\u0275\u0275inject($u),a.\u0275\u0275inject(Md),a.\u0275\u0275inject(fc,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),Sm=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},null,[{key:"forRoot",value:function(t,s){return{ngModule:Md,providers:(0,A.A)(N0(t,s))}}},{key:"forFeature",value:function(t,s){return{ngModule:xm,providers:(0,A.A)(V0(t,s,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}();function hc(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return{reducer:r.pop(),types:r.map(function(s){return s.type})}}const O0={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var Nd,M2=new Uint8Array(16);function N2(){if(!Nd&&!(Nd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nd(M2)}for(var ya=[],Em=0;Em<256;++Em)ya.push((Em+256).toString(16).slice(1));const ur=function V2(o,r,n){if(O0.randomUUID&&!r&&!o)return O0.randomUUID();var e=(o=o||{}).random||(o.rng||N2)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,r){n=n||0;for(var t=0;t<16;++t)r[n+t]=e[t];return r}return function B0(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ya[o[r+0]]+ya[o[r+1]]+ya[o[r+2]]+ya[o[r+3]]+"-"+ya[o[r+4]]+ya[o[r+5]]+"-"+ya[o[r+6]]+ya[o[r+7]]+"-"+ya[o[r+8]]+ya[o[r+9]]+"-"+ya[o[r+10]]+ya[o[r+11]]+ya[o[r+12]]+ya[o[r+13]]+ya[o[r+14]]+ya[o[r+15]]}(e)};var Xn=b(52969),lr=b(81692),vc=b(18473),O2=b(15602),B2=b(32384),Dm=b(20310),L2=(0,B2.L)(function(o){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Vd(o,r){var n=(0,O2.v)(o)?{first:o}:"number"==typeof o?{each:o}:o,e=n.first,t=n.each,s=n.with,u=void 0===s?j2:s,l=n.scheduler,d=void 0===l?r??vc.E:l,p=n.meta,h=void 0===p?null:p;if(null==e&&null==t)throw new TypeError("No timeout provided.");return(0,Es.N)(function(_,S){var P,B,z=null,Y=0,de=function(be){B=(0,Dm.N)(S,d,function(){try{P.unsubscribe(),(0,Ds.Tg)(u({meta:h,lastValue:z,seen:Y})).subscribe(S)}catch(me){S.error(me)}},be)};P=_.subscribe((0,Ui._)(S,function(ge){B?.unsubscribe(),Y++,S.next(z=ge),t>0&&de(t)},void 0,void 0,function(){B?.closed||B?.unsubscribe(),z=null})),!Y&&de(null!=e?"number"==typeof e?e:+e-d.now():t)})}function j2(o){throw new L2(o)}var aa=b(61318),Ha=b(86301),pn=b(64334),ws=b(1365),Fs=b(51903),Yi=b(77919),Re=b(59452),U2=Array.isArray;function L0(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return r=function G2(o){return 1===o.length&&U2(o[0])?o[0]:o}(r),1===r.length?(0,Ds.Tg)(r[0]):new G.c(function z2(o){return function(r){for(var n=[],e=function(u){n.push((0,Ds.Tg)(o[u]).subscribe((0,Ui._)(r,function(l){if(n){for(var d=0;d<n.length;d++)d!==u&&n[d].unsubscribe();n=null}r.next(l)})))},t=0;n&&!r.closed&&t<o.length;t++)e(t)}}(r))}var ln=function(o){return o[o.EntitiesOnly=0]="EntitiesOnly",o[o.Both=1]="Both",o[o.None=2]="None",o}(ln||{});function yr(o){return function(n,e){var t={ids:(0,A.A)(e.ids),entities:(0,g.A)({},e.entities)},s=o(n,t);return s===ln.Both?Object.assign({},e,t):s===ln.EntitiesOnly?(0,g.A)((0,g.A)({},e),{},{entities:t.entities}):e}}function xo(o,r){var n=r(o);return(0,a.isDevMode)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",o,"The `selectId` implementation:",r.toString()),n}function j0(o){function r(Y,de){var ge=xo(Y,o);return ge in de.entities?ln.None:(de.ids.push(ge),de.entities[ge]=Y,ln.Both)}function n(Y,de){var me,ge=!1,be=(0,N.A)(Y);try{for(be.s();!(me=be.n()).done;)ge=r(me.value,de)!==ln.None||ge}catch(qe){be.e(qe)}finally{be.f()}return ge?ln.Both:ln.None}function t(Y,de){var ge=xo(Y,o);return ge in de.entities?(de.entities[ge]=Y,ln.EntitiesOnly):(de.ids.push(ge),de.entities[ge]=Y,ln.Both)}function l(Y,de){var be=(Y instanceof Array?Y:de.ids.filter(function(me){return Y(de.entities[me])})).filter(function(me){return me in de.entities}).map(function(me){return delete de.entities[me]}).length>0;return be&&(de.ids=de.ids.filter(function(me){return me in de.entities})),be?ln.Both:ln.None}function h(Y,de){return _([Y],de)}function _(Y,de){var ge={};if((Y=Y.filter(function(Pe){return Pe.id in de.entities})).length>0){var me=Y.filter(function(Pe){return function p(Y,de,ge){var me=Object.assign({},ge.entities[de.id],de.changes),Pe=xo(me,o),qe=Pe!==de.id;return qe&&(Y[de.id]=Pe,delete ge.entities[de.id]),ge.entities[Pe]=me,qe}(ge,Pe,de)}).length>0;return me?(de.ids=de.ids.map(function(Pe){return ge[Pe]||Pe}),ln.Both):ln.EntitiesOnly}return ln.None}function z(Y,de){var Pe,ge=[],be=[],me=(0,N.A)(Y);try{for(me.s();!(Pe=me.n()).done;){var qe=Pe.value,dt=xo(qe,o);dt in de.entities?be.push({id:dt,changes:qe}):ge.push(qe)}}catch(Tt){me.e(Tt)}finally{me.f()}var ot=_(be,de),pt=n(ge,de);switch(!0){case pt===ln.None&&ot===ln.None:return ln.None;case pt===ln.Both||ot===ln.Both:return ln.Both;default:return ln.EntitiesOnly}}return{removeAll:function d(Y){return Object.assign({},Y,{ids:[],entities:{}})},addOne:yr(r),addMany:yr(n),setAll:yr(function e(Y,de){return de.ids=[],de.entities={},n(Y,de),ln.Both}),setOne:yr(t),setMany:yr(function s(Y,de){var ge=Y.map(function(be){return t(be,de)});switch(!0){case ge.some(function(be){return be===ln.Both}):return ln.Both;case ge.some(function(be){return be===ln.EntitiesOnly}):return ln.EntitiesOnly;default:return ln.None}}),updateOne:yr(h),updateMany:yr(_),upsertOne:yr(function B(Y,de){return z([Y],de)}),upsertMany:yr(z),removeOne:yr(function u(Y,de){return l([Y],de)}),removeMany:yr(l),map:yr(function S(Y,de){return _(de.ids.reduce(function(me,Pe){var qe=Y(de.entities[Pe]);return qe!==de.entities[Pe]&&me.push({id:Pe,changes:qe}),me},[]).filter(function(me){return me.id in de.entities}),de)}),mapOne:yr(function P(Y,de){var be=Y.id,me=de.entities[be];return me?h({id:be,changes:(0,Y.map)(me)},de):ln.None})}}function W2(){var o,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={selectId:null!==(o=n.selectId)&&void 0!==o?o:function(p){return p.id},sortComparer:null!==(r=n.sortComparer)&&void 0!==r&&r},t=e.selectId,s=e.sortComparer,u=function H2(){return{getInitialState:function o(){return Object.assign({ids:[],entities:{}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}}(),l=function K2(){return{getSelectors:function o(r){var n=function(l){return l.ids},e=function(l){return l.entities},t=wn(n,e,function(u,l){return u.map(function(d){return l[d]})}),s=wn(n,function(u){return u.length});return r?{selectIds:wn(r,n),selectEntities:wn(r,e),selectAll:wn(r,t),selectTotal:wn(r,s)}:{selectIds:n,selectEntities:e,selectAll:t,selectTotal:s}}}}(),d=s?function q2(o,r){var n=j0(o);function u(be,me){return l([be],me)}function l(be,me){var Pe=be.filter(function(qe){return!(xo(qe,o)in me.entities)});return 0===Pe.length?ln.None:(ge(Pe,me),ln.Both)}function p(be,me){var Pe=xo(be,o);return Pe in me.entities?(me.ids=me.ids.filter(function(qe){return qe!==Pe}),ge([be],me),ln.Both):u(be,me)}function _(be,me){return P([be],me)}function P(be,me){var Pe=[],qe=be.filter(function(pt){return function S(be,me,Pe){if(!(me.id in Pe.entities))return!1;var dt=Object.assign({},Pe.entities[me.id],me.changes),ot=xo(dt,o);return delete Pe.entities[me.id],be.push(dt),ot!==me.id}(Pe,pt,me)}).length>0;if(0===Pe.length)return ln.None;var dt=me.ids,ot=[];return me.ids=me.ids.filter(function(pt,Tt){return pt in me.entities||(ot.push(Tt),!1)}),ge(Pe,me),!qe&&ot.every(function(pt){return me.ids[pt]===dt[pt]})?ln.EntitiesOnly:ln.Both}function de(be,me){var ot,Pe=[],qe=[],dt=(0,N.A)(be);try{for(dt.s();!(ot=dt.n()).done;){var pt=ot.value,Tt=xo(pt,o);Tt in me.entities?qe.push({id:Tt,changes:pt}):Pe.push(pt)}}catch(yt){dt.e(yt)}finally{dt.f()}var Lt=P(qe,me),mt=l(Pe,me);switch(!0){case mt===ln.None&&Lt===ln.None:return ln.None;case mt===ln.Both||Lt===ln.Both:return ln.Both;default:return ln.EntitiesOnly}}function ge(be,me){be.sort(r);for(var Pe=[],qe=0,dt=0;qe<be.length&&dt<me.ids.length;){var ot=be[qe],pt=xo(ot,o),Tt=me.ids[dt];r(ot,me.entities[Tt])<=0?(Pe.push(pt),qe++):(Pe.push(Tt),dt++)}me.ids=Pe.concat(qe<be.length?be.slice(qe).map(o):me.ids.slice(dt)),be.forEach(function(mt,yt){me.entities[o(mt)]=mt})}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:yr(u),updateOne:yr(_),upsertOne:yr(function Y(be,me){return de([be],me)}),setAll:yr(function d(be,me){return me.entities={},me.ids=[],l(be,me),ln.Both}),setOne:yr(p),setMany:yr(function h(be,me){var Pe=be.map(function(qe){return p(qe,me)});switch(!0){case Pe.some(function(qe){return qe===ln.Both}):return ln.Both;case Pe.some(function(qe){return qe===ln.EntitiesOnly}):return ln.EntitiesOnly;default:return ln.None}}),addMany:yr(l),updateMany:yr(P),upsertMany:yr(de),map:yr(function B(be,me){return P(me.ids.reduce(function(qe,dt){var ot=be(me.entities[dt]);return ot!==me.entities[dt]&&qe.push({id:dt,changes:ot}),qe},[]),me)}),mapOne:yr(function z(be,me){var qe=be.id,dt=me.entities[qe];return dt?_({id:qe,changes:(0,be.map)(dt)},me):ln.None})}}(t,s):j0(t);return(0,g.A)((0,g.A)((0,g.A)({selectId:t,sortComparer:s},u),l),d)}var Q2=b(7242),U0=b(59400),X2=b(81530),yc=function(){function o(r,n,e){(0,v.A)(this,o),this.kind=r,this.value=n,this.error=e,this.hasValue="N"===r}return(0,m.A)(o,[{key:"observe",value:function(n){return G0(this,n)}},{key:"do",value:function(n,e,t){var s=this.kind,u=this.value,l=this.error;return"N"===s?n?.(u):"E"===s?e?.(l):t?.()}},{key:"accept",value:function(n,e,t){var s;return(0,X2.T)(null===(s=n)||void 0===s?void 0:s.next)?this.observe(n):this.do(n,e,t)}},{key:"toObservable",value:function(){var n=this.kind,t=this.error,s="N"===n?(0,Re.of)(this.value):"E"===n?(0,Yi.$)(function(){return t}):"C"===n?U0.w:0;if(!s)throw new TypeError("Unexpected notification kind ".concat(n));return s}}],[{key:"createNext",value:function(n){return new o("N",n)}},{key:"createError",value:function(n){return new o("E",void 0,n)}},{key:"createComplete",value:function(){return o.completeNotification}}])}();function G0(o,r){var n,e,t,s=o.kind,u=o.value,l=o.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=r.next)||void 0===n||n.call(r,u):"E"===s?null===(e=r.error)||void 0===e||e.call(r,l):null===(t=r.complete)||void 0===t||t.call(r)}function z0(o,r,n,e){return(0,Es.N)(function(t,s){var u;r&&"function"!=typeof r?(n=r.duration,u=r.element,e=r.connector):u=r;var l=new Map,d=function(z){l.forEach(z),z(s)},p=function(z){return d(function(Y){return Y.error(z)})},h=0,_=!1,S=new Ui.H(s,function(B){try{var z=o(B),Y=l.get(z);if(!Y){l.set(z,Y=e?e():new T.B);var de=function P(B,z){var Y=new G.c(function(de){h++;var ge=z.subscribe(de);return function(){ge.unsubscribe(),0===--h&&_&&S.unsubscribe()}});return Y.key=B,Y}(z,Y);if(s.next(de),n){var ge=(0,Ui._)(Y,function(){Y.complete(),ge?.unsubscribe()},void 0,void 0,function(){return l.delete(z)});S.add((0,Ds.Tg)(n(de)).subscribe(ge))}}Y.next(u?u(B):B)}catch(be){p(be)}},function(){return d(function(B){return B.complete()})},p,function(){return l.clear()},function(){return _=!0,0===h});t.subscribe(S)})}function $0(o,r){return r?function(n){return n.pipe($0(function(e,t){return(0,Ds.Tg)(o(e,t)).pipe((0,fe.T)(function(s,u){return r(e,s,t,u)}))}))}:(0,Es.N)(function(n,e){var t=0,s=null,u=!1;n.subscribe((0,Ui._)(e,function(l){s||(s=(0,Ui._)(e,void 0,function(){s=null,u&&e.complete()}),(0,Ds.Tg)(o(l,t++)).subscribe(s))},function(){u=!0,!s&&e.complete()}))})}yc.completeNotification=new yc("C");var eF={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Od="__@ngrx/effects_create__";function si(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.functional?o:o(),e=(0,g.A)((0,g.A)({},eF),r);return Object.defineProperty(n,Od,{value:e}),n}function K0(o){return Object.getPrototypeOf(o)}function wm(o){return"function"==typeof o}function Fm(o){return o.filter(wm)}function aF(o,r,n){var e=K0(o),s=e&&"Object"!==e.constructor.name?e.constructor.name:null,u=function H0(o){return function tF(o){return Object.getOwnPropertyNames(o).filter(function(e){return!(!o[e]||!o[e].hasOwnProperty(Od))&&o[e][Od].hasOwnProperty("dispatch")}).map(function(e){return(0,g.A)({propertyName:e},o[e][Od])})}(o)}(o).map(function(l){var d=l.propertyName,p=l.dispatch,h=l.useEffectsErrorHandler,_="function"==typeof o[d]?o[d]():o[d],S=h?n(_,r):_;if(!1===p)return S.pipe((0,Q2.w)());var P=S.pipe(function J2(){return(0,Es.N)(function(o,r){o.subscribe((0,Ui._)(r,function(n){r.next(yc.createNext(n))},function(){r.next(yc.createComplete()),r.complete()},function(n){r.next(yc.createError(n)),r.complete()}))})}());return P.pipe((0,fe.T)(function(B){return{effect:o[d],notification:B,propertyName:d,sourceName:s,sourceInstance:o}}))});return R.h.apply(void 0,(0,A.A)(u))}function q0(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return o.pipe((0,aa.W)(function(e){return r&&r.handleError(e),n<=1?o:q0(o,r,n-1)}))}var ks=function(){var o,r=function(n){function e(t){var s;return(0,v.A)(this,e),s=(0,w.A)(this,e),t&&(s.source=t),s}return(0,F.A)(e,n),(0,m.A)(e,[{key:"lift",value:function(s){var u=new e;return u.source=this,u.operator=s,u}}])}(G.c);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xo))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function So(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(0,te.p)(function(e){return r.some(function(t){return"string"==typeof t?t===e.type:t.type===e.type})})}var W0=new a.InjectionToken("@ngrx/effects Internal Root Guard"),Bd=new a.InjectionToken("@ngrx/effects User Provided Effects"),km=new a.InjectionToken("@ngrx/effects Internal Root Effects"),Q0=new a.InjectionToken("@ngrx/effects Internal Root Effects Instances"),X0=new a.InjectionToken("@ngrx/effects Internal Feature Effects"),Y0=new a.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),oF=new a.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:function(){return q0}}),J0="@ngrx/effects/init";function vF(o){return Pm(o,"ngrxOnInitEffects")}function Pm(o,r){return o&&r in o&&"function"==typeof o[r]}$a(J0);var Ld=function(){var o,r=function(n){function e(t,s){var u;return(0,v.A)(this,e),(u=(0,w.A)(this,e)).errorHandler=t,u.effectsErrorHandler=s,u}return(0,F.A)(e,n),(0,m.A)(e,[{key:"addEffects",value:function(s){this.next(s)}},{key:"toActions",value:function(){var s=this;return this.pipe(z0(function(u){return function nF(o){return!!o.constructor&&"Object"!==o.constructor.name&&"Function"!==o.constructor.name}(u)?K0(u):u}),(0,ws.Z)(function(u){return u.pipe(z0(yF))}),(0,ws.Z)(function(u){var l=u.pipe($0(function(p){return function _F(o,r){return function(n){var e=aF(n,o,r);return function gF(o){return Pm(o,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(e):e}}(s.errorHandler,s.effectsErrorHandler)(p)}),(0,fe.T)(function(p){return function uF(o,r){if("N"===o.notification.kind){var n=o.notification.value,e=!function lF(o){return"function"!=typeof o&&o&&o.type&&"string"==typeof o.type}(n);e&&r.handleError(new Error("Effect ".concat(function cF(o){var r=o.propertyName,e=o.sourceName,t="function"==typeof o.sourceInstance[r];return e?'"'.concat(e,".").concat(String(r)).concat(t?"()":"",'"'):'"'.concat(String(r),'()"')}(o)," dispatched an invalid action: ").concat(function dF(o){try{return JSON.stringify(o)}catch{return o}}(n))))}}(p,s.errorHandler),p.notification}),(0,te.p)(function(p){return"N"===p.kind&&null!=p.value}),function Z2(){return(0,Es.N)(function(o,r){o.subscribe((0,Ui._)(r,function(n){return G0(n,r)}))})}()),d=u.pipe((0,pn.s)(1),(0,te.p)(vF),(0,fe.T)(function(p){return p.ngrxOnInitEffects()}));return(0,R.h)(l,d)}))}}])}(T.B);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(oF))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function yF(o){return function fF(o){return Pm(o,"ngrxOnIdentifyEffects")}(o)?o.ngrxOnIdentifyEffects():""}var Im=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.effectSources=e,this.store=t,this.effectsSubscription=null},[{key:"isStarted",get:function(){return!!this.effectsSubscription}},{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ld),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Z0=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p){(0,v.A)(this,n),this.sources=e,t.start();var _,h=(0,N.A)(u);try{for(h.s();!(_=h.n()).done;)e.addEffects(_.value)}catch(P){h.e(P)}finally{h.f()}s.dispatch({type:J0})},[{key:"addEffects",value:function(t){this.sources.addEffects(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ld),a.\u0275\u0275inject(Im),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Q0),a.\u0275\u0275inject(Md,8),a.\u0275\u0275inject(xm,8),a.\u0275\u0275inject(W0,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),bF=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n);var p,l=t.flat(),d=(0,N.A)(l);try{for(d.s();!(p=d.n()).done;)e.addEffects(p.value)}catch(_){d.e(_)}finally{d.f()}});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Z0),a.\u0275\u0275inject(Y0),a.\u0275\u0275inject(Md,8),a.\u0275\u0275inject(xm,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),_c=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},null,[{key:"forFeature",value:function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];var l=s.flat(),d=Fm(l);return{ngModule:bF,providers:[d,{provide:X0,multi:!0,useValue:l},{provide:Bd,multi:!0,useValue:[]},{provide:Y0,multi:!0,useFactory:e_,deps:[X0,Bd]}]}}},{key:"forRoot",value:function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];var l=s.flat(),d=Fm(l);return{ngModule:Z0,providers:[d,{provide:km,useValue:[l]},{provide:W0,useFactory:AF},{provide:Bd,multi:!0,useValue:[]},{provide:Q0,useFactory:e_,deps:[km,Bd]}]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}();function e_(o,r){var t,n=[],e=(0,N.A)(o);try{for(e.s();!(t=e.n()).done;)n.push.apply(n,(0,A.A)(t.value))}catch(p){e.e(p)}finally{e.f()}var l,u=(0,N.A)(r);try{for(u.s();!(l=u.n()).done;)n.push.apply(n,(0,A.A)(l.value))}catch(p){u.e(p)}finally{u.f()}return n.map(function(p){return function rF(o){return o instanceof a.InjectionToken||wm(o)}(p)?(0,a.inject)(p):p})}function AF(){var o=(0,a.inject)(Im,{optional:!0,skipSelf:!0}),r=(0,a.inject)(km,{self:!0});if((1!==r.length||0!==r[0].length)&&o)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Ps=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"create",value:function(t,s,u,l){var d="string"==typeof t?(0,g.A)((0,g.A)({},l||{}),{},{entityName:t,entityOp:s,data:u}):t;return this.createCore(d)}},{key:"createCore",value:function(t){var s=t.entityName,u=t.entityOp,l=t.tag;if(!s)throw new Error("Missing entity name for new action");if(null==u)throw new Error("Missing EntityOp for new action");return{type:this.formatActionType(u,l||s),payload:t}}},{key:"createFromAction",value:function(t,s){return this.create((0,g.A)((0,g.A)({},t.payload),s))}},{key:"formatActionType",value:function(t,s){return"[".concat(s,"] ").concat(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),t_=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),this.entityName=r,this.selectId=n},[{key:"mustBeEntity",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should have a single entity.");var t=this.selectId(e);return this.isNotKeyType(t)&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeEntities",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=e.selectId(s);if(e.isNotKeyType(l)){var d=", item ".concat(u+1,", does not have a valid entity key (id)");e.throwError(n,d)}}),t):this.throwError(n,"should be an array of entities")}},{key:"mustBeKey",value:function(n){var e=this.extractData(n);if(void 0===e)throw new Error("should be a single entity key");if(this.isNotKeyType(e))throw new Error("is not a valid key (id)");return e}},{key:"mustBeKeys",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){if(e.isNotKeyType(s)){var l="".concat(e.entityName," ', item ").concat(u+1,", is not a valid entity key (id)");e.throwError(n,l)}}),t):this.throwError(n,"should be an array of entity keys (id)")}},{key:"mustBeUpdate",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");var t=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(t)||this.isNotKeyType(u))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdates",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(n,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),t):this.throwError(n,"should be an array of entity updates")}},{key:"mustBeUpdateResponse",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");var t=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(t)||this.isNotKeyType(u))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdateResponses",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(n,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),t):this.throwError(n,"should be an array of entity updates")}},{key:"extractData",value:function(n){return n.payload&&n.payload.data}},{key:"isNotKeyType",value:function(n){return"string"!=typeof n&&"number"!=typeof n}},{key:"throwError",value:function(n,e){throw new Error("".concat(this.entityName,' EntityAction guard for "').concat(n.type,'": payload ').concat(e))}}])}();function bc(o){return o?.id}function n_(o){if(null==o)return[];if(Array.isArray(o[0])){var n=(0,In.A)(o),e=n[0],t=n.slice(1);o=[].concat((0,A.A)(e),(0,A.A)(t))}return o}function r_(o){return o=o||bc,function(n){var e=o(n);if(null==e)throw new Error("Primary key may not be null/undefined.");return n&&{id:e,changes:n}}}function jd(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=n_(r);switch(e.length){case 0:return(0,te.p)(function(s){return s.payload&&null!=s.payload.entityOp});case 1:var t=e[0];return(0,te.p)(function(s){return s.payload&&t===s.payload.entityOp});default:return(0,te.p)(function(s){var u=s.payload&&s.payload.entityOp;return u&&e.some(function(l){return l===u})})}}function Ud(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=n_(r);switch(e.length){case 0:return(0,te.p)(function(s){return s.payload&&null!=s.payload.entityName});case 1:var t=e[0];return(0,te.p)(function(s){return s.payload&&t===s.payload.entityName});default:return(0,te.p)(function(s){var u=s.payload&&s.payload.entityName;return!!u&&e.some(function(l){return l===u})})}}var Ka=function(o){return o.Add="Add",o.Delete="Delete",o.Update="Update",o.Upsert="Upsert",o}(Ka||{});function a_(o){var r=(o=o&&o.changes?o:{changes:[]}).changes.filter(function(n){return null!=n&&n.entities&&n.entities.length>0});return(0,g.A)((0,g.A)({},o),{},{changes:r})}new(function(){return(0,m.A)(function o(){(0,v.A)(this,o)},[{key:"add",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:Ka.Add,entities:e}}},{key:"delete",value:function(n,e){var t=Array.isArray(e)?e:e?[e]:[];return{entityName:n,op:Ka.Delete,entities:t}}},{key:"update",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:Ka.Update,entities:e}}},{key:"upsert",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:Ka.Upsert,entities:e}}}])}());var zr=function(o){return o[o.IgnoreChanges=0]="IgnoreChanges",o[o.PreserveChanges=1]="PreserveChanges",o[o.OverwriteChanges=2]="OverwriteChanges",o}(zr||{}),mr=function(o){return o.CLEAR_COLLECTIONS="@ngrx/data/entity-cache/clear-collections",o.LOAD_COLLECTIONS="@ngrx/data/entity-cache/load-collections",o.MERGE_QUERY_SET="@ngrx/data/entity-cache/merge-query-set",o.SET_ENTITY_CACHE="@ngrx/data/entity-cache/set-cache",o.SAVE_ENTITIES="@ngrx/data/entity-cache/save-entities",o.SAVE_ENTITIES_CANCEL="@ngrx/data/entity-cache/save-entities-cancel",o.SAVE_ENTITIES_CANCELED="@ngrx/data/entity-cache/save-entities-canceled",o.SAVE_ENTITIES_ERROR="@ngrx/data/entity-cache/save-entities-error",o.SAVE_ENTITIES_SUCCESS="@ngrx/data/entity-cache/save-entities-success",o}(mr||{}),xF=(0,m.A)(function o(r,n){(0,v.A)(this,o),this.type=mr.CLEAR_COLLECTIONS,this.payload={collections:r,tag:n}}),SF=(0,m.A)(function o(r,n){(0,v.A)(this,o),this.type=mr.LOAD_COLLECTIONS,this.payload={collections:r,tag:n}}),EF=(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.type=mr.MERGE_QUERY_SET,this.payload={querySet:r,mergeStrategy:null===n?zr.PreserveChanges:n,tag:e}}),DF=(0,m.A)(function o(r,n){(0,v.A)(this,o),this.cache=r,this.type=mr.SET_ENTITY_CACHE,this.payload={cache:r,tag:n}}),wF=(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.type=mr.SAVE_ENTITIES,e=e||{},r&&(r.tag=r.tag||e.tag),this.payload=(0,g.A)((0,g.A)({changeSet:r,url:n},e),{},{tag:r.tag})}),FF=(0,m.A)(function o(r,n,e,t){(0,v.A)(this,o),this.type=mr.SAVE_ENTITIES_CANCEL,this.payload={correlationId:r,reason:n,entityNames:e,tag:t}}),kF=(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.type=mr.SAVE_ENTITIES_CANCELED,this.payload={correlationId:r,reason:n,tag:e}}),PF=(0,m.A)(function o(r,n){(0,v.A)(this,o),this.type=mr.SAVE_ENTITIES_ERROR,this.payload={error:r,originalAction:n,correlationId:n.payload.correlationId}}),Tm=(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.type=mr.SAVE_ENTITIES_SUCCESS,e=e||{},r&&(r.tag=r.tag||e.tag),this.payload=(0,g.A)((0,g.A)({changeSet:r,url:n},e),{},{tag:r.tag})}),Dt=function(o){return o.CANCEL_PERSIST="@ngrx/data/cancel-persist",o.CANCELED_PERSIST="@ngrx/data/canceled-persist",o.QUERY_ALL="@ngrx/data/query-all",o.QUERY_ALL_SUCCESS="@ngrx/data/query-all/success",o.QUERY_ALL_ERROR="@ngrx/data/query-all/error",o.QUERY_LOAD="@ngrx/data/query-load",o.QUERY_LOAD_SUCCESS="@ngrx/data/query-load/success",o.QUERY_LOAD_ERROR="@ngrx/data/query-load/error",o.QUERY_MANY="@ngrx/data/query-many",o.QUERY_MANY_SUCCESS="@ngrx/data/query-many/success",o.QUERY_MANY_ERROR="@ngrx/data/query-many/error",o.QUERY_BY_KEY="@ngrx/data/query-by-key",o.QUERY_BY_KEY_SUCCESS="@ngrx/data/query-by-key/success",o.QUERY_BY_KEY_ERROR="@ngrx/data/query-by-key/error",o.SAVE_ADD_MANY="@ngrx/data/save/add-many",o.SAVE_ADD_MANY_ERROR="@ngrx/data/save/add-many/error",o.SAVE_ADD_MANY_SUCCESS="@ngrx/data/save/add-many/success",o.SAVE_ADD_ONE="@ngrx/data/save/add-one",o.SAVE_ADD_ONE_ERROR="@ngrx/data/save/add-one/error",o.SAVE_ADD_ONE_SUCCESS="@ngrx/data/save/add-one/success",o.SAVE_DELETE_MANY="@ngrx/data/save/delete-many",o.SAVE_DELETE_MANY_SUCCESS="@ngrx/data/save/delete-many/success",o.SAVE_DELETE_MANY_ERROR="@ngrx/data/save/delete-many/error",o.SAVE_DELETE_ONE="@ngrx/data/save/delete-one",o.SAVE_DELETE_ONE_SUCCESS="@ngrx/data/save/delete-one/success",o.SAVE_DELETE_ONE_ERROR="@ngrx/data/save/delete-one/error",o.SAVE_UPDATE_MANY="@ngrx/data/save/update-many",o.SAVE_UPDATE_MANY_SUCCESS="@ngrx/data/save/update-many/success",o.SAVE_UPDATE_MANY_ERROR="@ngrx/data/save/update-many/error",o.SAVE_UPDATE_ONE="@ngrx/data/save/update-one",o.SAVE_UPDATE_ONE_SUCCESS="@ngrx/data/save/update-one/success",o.SAVE_UPDATE_ONE_ERROR="@ngrx/data/save/update-one/error",o.SAVE_UPSERT_MANY="@ngrx/data/save/upsert-many",o.SAVE_UPSERT_MANY_SUCCESS="@ngrx/data/save/upsert-many/success",o.SAVE_UPSERT_MANY_ERROR="@ngrx/data/save/upsert-many/error",o.SAVE_UPSERT_ONE="@ngrx/data/save/upsert-one",o.SAVE_UPSERT_ONE_SUCCESS="@ngrx/data/save/upsert-one/success",o.SAVE_UPSERT_ONE_ERROR="@ngrx/data/save/upsert-one/error",o.ADD_ALL="@ngrx/data/add-all",o.ADD_MANY="@ngrx/data/add-many",o.ADD_ONE="@ngrx/data/add-one",o.REMOVE_ALL="@ngrx/data/remove-all",o.REMOVE_MANY="@ngrx/data/remove-many",o.REMOVE_ONE="@ngrx/data/remove-one",o.UPDATE_MANY="@ngrx/data/update-many",o.UPDATE_ONE="@ngrx/data/update-one",o.UPSERT_MANY="@ngrx/data/upsert-many",o.UPSERT_ONE="@ngrx/data/upsert-one",o.COMMIT_ALL="@ngrx/data/commit-all",o.COMMIT_MANY="@ngrx/data/commit-many",o.COMMIT_ONE="@ngrx/data/commit-one",o.UNDO_ALL="@ngrx/data/undo-all",o.UNDO_MANY="@ngrx/data/undo-many",o.UNDO_ONE="@ngrx/data/undo-one",o.SET_CHANGE_STATE="@ngrx/data/set-change-state",o.SET_COLLECTION="@ngrx/data/set-collection",o.SET_FILTER="@ngrx/data/set-filter",o.SET_LOADED="@ngrx/data/set-loaded",o.SET_LOADING="@ngrx/data/set-loading",o}(Dt||{}),Rm="/success",Mm="/error";function i_(o){return o+Rm}var Hu=function(o){function r(n,e){var t,s;return(0,v.A)(this,r),(s=(0,w.A)(this,r,["string"==typeof n?n:null!==(t=TF(n))&&void 0!==t?t:void 0])).error=n,s.requestData=e,s.name=s.constructor.name,s}return(0,F.A)(r,o),(0,m.A)(r)}((0,V.A)(Error));function TF(o){var r=o.error,n=o.body,e=o.message,t=null;return r?t="string"==typeof r?r:r.message:e?t=e:n&&(t="string"==typeof n?n:n.error),"string"==typeof t?t:t?JSON.stringify(t):null}var Ku=(0,m.A)(function o(){(0,v.A)(this,o)}),Gd=(0,m.A)(function o(){(0,v.A)(this,o)}),o_=new a.InjectionToken("@ngrx/data Plural Names"),Ac=(0,m.A)(function o(){(0,v.A)(this,o)}),s_=(0,m.A)(function o(){(0,v.A)(this,o)}),u_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.pluralizer=e,this.knownHttpResourceUrls={}},[{key:"getResourceUrls",value:function(t,s){var l=this.knownHttpResourceUrls[t];if(!l){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?s:l_(s);l={entityResourceUrl:"".concat(d,"/").concat(t,"/").toLowerCase(),collectionResourceUrl:"".concat(d,"/").concat(this.pluralizer.pluralize(t),"/").toLowerCase()},this.registerHttpResourceUrls((0,c.A)({},t,l))}return l}},{key:"entityResource",value:function(t,s,u){return this.getResourceUrls(t,s,u).entityResourceUrl}},{key:"collectionResource",value:function(t,s){return this.getResourceUrls(t,s).collectionResourceUrl}},{key:"registerHttpResourceUrls",value:function(t){this.knownHttpResourceUrls=(0,g.A)((0,g.A)({},this.knownHttpResourceUrls),t||{})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ac))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function l_(o){return o.replace(/^[/\s]+|[/\s]+$/g,"")}var RF=function(){return(0,m.A)(function o(r,n,e,t){(0,v.A)(this,o),this.http=n,this.httpUrlGenerator=e,this.getDelay=0,this.saveDelay=0,this.timeout=0,this.trailingSlashEndpoints=!1,this._name="".concat(r," DefaultDataService"),this.entityName=r;var s=t||{},u=s.root,l=void 0===u?"api":u,d=s.delete404OK,h=s.getDelay,_=void 0===h?0:h,S=s.saveDelay,P=void 0===S?0:S,B=s.timeout,z=void 0===B?0:B,Y=s.trailingSlashEndpoints,de=void 0!==Y&&Y;this.delete404OK=void 0===d||d,this.entityUrl=e.entityResource(r,l,de),this.entitiesUrl=e.collectionResource(r,l),this.getDelay=_,this.saveDelay=P,this.timeout=z},[{key:"name",get:function(){return this._name}},{key:"add",value:function(n,e){var t=n||new Error('No "'.concat(this.entityName,'" entity to add'));return this.execute("POST",this.entityUrl,t,null,e)}},{key:"delete",value:function(n,e){var t;return null==n&&(t=new Error('No "'.concat(this.entityName,'" key to delete'))),this.execute("DELETE",this.entityUrl+n,t,null,e).pipe((0,fe.T)(function(s){return n}))}},{key:"getAll",value:function(n){return this.execute("GET",this.entitiesUrl,null,null,n)}},{key:"getById",value:function(n,e){var t;return null==n&&(t=new Error('No "'.concat(this.entityName,'" key to get'))),this.execute("GET",this.entityUrl+n,t,null,e)}},{key:"getWithQuery",value:function(n,e){var s=new E.HttpParams("string"==typeof n?{fromString:n}:{fromObject:n});return this.execute("GET",this.entitiesUrl,void 0,{params:s},e)}},{key:"update",value:function(n,e){var t=n&&n.id,s=null==t?new Error('No "'.concat(this.entityName,'" update data or id')):n.changes;return this.execute("PUT",this.entityUrl+t,s,null,e)}},{key:"upsert",value:function(n,e){var t=n||new Error('No "'.concat(this.entityName,'" entity to upsert'));return this.execute("POST",this.entityUrl,t,null,e)}},{key:"execute",value:function(n,e,t,s,u){var l=void 0;u&&(l={headers:null!=u&&u.httpHeaders?new E.HttpHeaders(u?.httpHeaders):void 0,params:null!=u&&u.httpParams?new E.HttpParams(u?.httpParams):void 0});var p,h,_,S,d=void 0;(s||l)&&((0,a.isDevMode)()&&s&&l&&console.warn("@ngrx/data: options.httpParams will be merged with queryParams when both are are provided to getWithQuery(). In the event of a conflict HttpOptions.httpParams will override queryParams`. The queryParams parameter of getWithQuery() will be removed in next major release."),d=(0,g.A)((0,g.A)({},s),{},{headers:null!==(p=null===(h=l)||void 0===h?void 0:h.headers)&&void 0!==p?p:s?.headers,params:null!==(_=null===(S=l)||void 0===S?void 0:S.params)&&void 0!==_?_:s?.params}));var B,P={method:n,url:e,data:t,options:d};if(t instanceof Error)return this.handleError(P)(t);switch(n){case"DELETE":B=this.http.delete(e,d),this.saveDelay&&(B=B.pipe((0,lr.c)(this.saveDelay)));break;case"GET":B=this.http.get(e,d),this.getDelay&&(B=B.pipe((0,lr.c)(this.getDelay)));break;case"POST":B=this.http.post(e,t,d),this.saveDelay&&(B=B.pipe((0,lr.c)(this.saveDelay)));break;case"PUT":B=this.http.put(e,t,d),this.saveDelay&&(B=B.pipe((0,lr.c)(this.saveDelay)));break;default:var z=new Error("Unimplemented HTTP method, "+n);B=(0,Yi.$)(z)}return this.timeout&&(B=B.pipe(Vd(this.timeout+this.saveDelay))),B.pipe((0,aa.W)(this.handleError(P)))}},{key:"handleError",value:function(n){var e=this;return function(t){var s=e.handleDelete404(t,n);if(s)return s;var u=new Hu(t,n);return(0,Yi.$)(u)}}},{key:"handleDelete404",value:function(n,e){if(404===n.status&&"DELETE"===e.method&&this.delete404OK)return(0,Re.of)({})}}])}(),c_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.http=e,this.httpUrlGenerator=t,this.config=s,t.registerHttpResourceUrls((s=s||{}).entityHttpResourceUrls)},[{key:"create",value:function(t){return new RF(t,this.http,this.httpUrlGenerator,this.config)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(s_),a.\u0275\u0275inject(Ku,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),d_=new a.InjectionToken("@ngrx/data Entity Metadata"),qa=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.definitions={},e&&e.forEach(function(s){return t.registerMetadataMap(s)})},[{key:"getDefinition",value:function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=t.trim();var u=this.definitions[t];if(!u&&s)throw new Error('No EntityDefinition for entity type "'.concat(t,'".'));return u}},{key:"registerMetadata",value:function(t){if(t){var s=function MF(o){var r=o.entityName;if(!r)throw new Error("Missing required entityName");o.entityName=r=r.trim();var n=o.selectId||bc,e=o.sortComparer=o.sortComparer||!1,t=W2({selectId:n,sortComparer:e}),s=o.entityDispatcherOptions||{},u=t.getInitialState((0,g.A)({entityName:r,filter:"",loaded:!1,loading:!1,changeState:{}},o.additionalCollectionState||{}));return{entityName:r,entityAdapter:t,entityDispatcherOptions:s,initialState:u,metadata:o,noChangeTracking:!0===o.noChangeTracking,selectId:n,sortComparer:e}}(t);this.registerDefinition(s)}}},{key:"registerMetadataMap",value:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(s||{}).forEach(function(u){return t.registerMetadata((0,g.A)({entityName:u},s[u]))})}},{key:"registerDefinition",value:function(t){this.definitions[t.entityName]=t}},{key:"registerDefinitions",value:function(t){Object.assign(this.definitions,t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(d_,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),p_=Ka.Update,f_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.entityDefinitionService=e,this.http=t,this.idSelectors={},this.saveDelay=0,this.timeout=0;var u=s||{},l=u.saveDelay,p=u.timeout,h=void 0===p?0:p;this.saveDelay=void 0===l?0:l,this.timeout=h},[{key:"saveEntities",value:function(t,s){var u=this;t=this.filterChangeSet(t),t=this.flattenUpdates(t);var l=this.http.post(s,t).pipe((0,fe.T)(function(d){return u.restoreUpdates(d)}),(0,aa.W)(this.handleError({method:"POST",url:s,data:t})));return this.timeout&&(l=l.pipe(Vd(this.timeout))),this.saveDelay&&(l=l.pipe((0,lr.c)(this.saveDelay))),l}},{key:"handleError",value:function(t){return function(s){var u=new Hu(s,t);return(0,Yi.$)(u)}}},{key:"filterChangeSet",value:function(t){return a_(t)}},{key:"flattenUpdates",value:function(t){var s=t.changes;if(0===s.length)return t;var u=!1;return s=s.map(function(l){return l.op===p_&&l.entities.length>0?(u=!0,(0,g.A)((0,g.A)({},l),{},{entities:l.entities.map(function(d){return d.changes})})):l}),u?(0,g.A)((0,g.A)({},t),{},{changes:s}):t}},{key:"restoreUpdates",value:function(t){var s=this;if(null==t)return t;var u=t.changes;if(0===u.length)return t;var l=!1;return u=u.map(function(d){if(d.op===p_){l=!0;var p=s.getIdSelector(d.entityName);return(0,g.A)((0,g.A)({},d),{},{entities:d.entities.map(function(h){return{id:p(h),changes:h}})})}return d}),l?(0,g.A)((0,g.A)({},t),{},{changes:u}):t}},{key:"getIdSelector",value:function(t){var s=this.idSelectors[t];return s||(s=this.entityDefinitionService.getDefinition(t).selectId,this.idSelectors[t]=s),s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qa),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(Ku,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Cc=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.defaultDataServiceFactory=e,this.services={}},[{key:"getService",value:function(t){t=t.trim();var s=this.services[t];return s||(s=this.defaultDataServiceFactory.create(t),this.services[t]=s),s}},{key:"registerService",value:function(t,s){this.services[t.trim()]=s}},{key:"registerServices",value:function(t){this.services=(0,g.A)((0,g.A)({},this.services),t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(c_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),m_=(0,m.A)(function o(){(0,v.A)(this,o)}),NF=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.logger=e,this.entityActionFactory=t},[{key:"handleSuccess",value:function(t){var s=this,u=i_(t.payload.entityOp);return function(l){return s.entityActionFactory.createFromAction(t,{entityOp:u,data:l})}}},{key:"handleError",value:function(t){var s=this,u=function IF(o){return o+Mm}(t.payload.entityOp);return function(l){var p={error:l instanceof Hu?l:new Hu(l,null),originalAction:t};return s.logger.error(p),s.entityActionFactory.createFromAction(t,{entityOp:u,data:p})}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Gd),a.\u0275\u0275inject(Ps))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),g_=(0,m.A)(function o(r){(0,v.A)(this,o),this.message=r,this.message=r||"Canceled by user"}),Nm=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n),this.seed=0,this.prefix="CRID"},[{key:"next",value:function(){return this.seed+=1,this.prefix+this.seed}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Vm=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n),this.optimisticAdd=!1,this.optimisticDelete=!0,this.optimisticUpdate=!1,this.optimisticUpsert=!1,this.optimisticSaveEntities=!1});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),VF=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.correlationIdGenerator=e,this.defaultDispatcherOptions=t,this.store=u,this.reducedActions$=s.pipe((0,Ha.t)(1)),this.raSubscription=this.reducedActions$.subscribe()},[{key:"dispatch",value:function(t){return this.store.dispatch(t),t}},{key:"cancelSaveEntities",value:function(t,s,u,l){if(!t)throw new Error("Missing correlationId");var d=new FF(t,s,u,l);this.dispatch(d)}},{key:"clearCollections",value:function(t,s){this.dispatch(new xF(t,s))}},{key:"loadCollections",value:function(t,s){this.dispatch(new SF(t,s))}},{key:"mergeQuerySet",value:function(t,s,u){this.dispatch(new EF(t,s,u))}},{key:"setEntityCache",value:function(t,s){this.dispatch(new DF(t,s))}},{key:"saveEntities",value:function(t,s,u){var l=Array.isArray(t)?{changes:t}:t,d=null==(u=u||{}).correlationId?this.correlationIdGenerator.next():u.correlationId,p=null==u.isOptimistic?this.defaultDispatcherOptions.optimisticSaveEntities||!1:!0===u.isOptimistic,h=u.tag||"Save Entities";u=(0,g.A)((0,g.A)({},u),{},{correlationId:d,isOptimistic:p,tag:h});var _=new wF(l,s,u);return this.dispatch(_),this.getSaveEntitiesResponseData$(u.correlationId).pipe((0,Ha.t)(1))}},{key:"getSaveEntitiesResponseData$",value:function(t){return this.reducedActions$.pipe((0,te.p)(function(s){return s.type===mr.SAVE_ENTITIES_SUCCESS||s.type===mr.SAVE_ENTITIES_ERROR||s.type===mr.SAVE_ENTITIES_CANCEL}),(0,te.p)(function(s){return t===s.payload.correlationId}),(0,pn.s)(1),(0,ws.Z)(function(s){return s.type===mr.SAVE_ENTITIES_CANCEL?(0,Yi.$)(new g_(s.payload.reason)):s.type===mr.SAVE_ENTITIES_SUCCESS?(0,Re.of)(s.payload.changeSet):(0,Yi.$)(s.payload)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Nm),a.\u0275\u0275inject(Vm),a.\u0275\u0275inject(Xo),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),OF=function(){return(0,m.A)(function o(r,n,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bc,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0;(0,v.A)(this,o),this.entityName=r,this.entityActionFactory=n,this.store=e,this.selectId=t,this.defaultDispatcherOptions=s,this.reducedActions$=u,this.correlationIdGenerator=d,this.guard=new t_(r,t),this.toUpdate=r_(t);var p=wn(l,function(h){return h[r]});this.entityCollection$=e.select(p)},[{key:"createEntityAction",value:function(n,e,t){return this.entityActionFactory.create((0,g.A)({entityName:this.entityName,entityOp:n,data:e},t))}},{key:"createAndDispatch",value:function(n,e,t){var s=this.createEntityAction(n,e,t);return this.dispatch(s),s}},{key:"dispatch",value:function(n){return this.store.dispatch(n),n}},{key:"add",value:function(n,e){var t=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticAdd);var s=this.createEntityAction(Dt.SAVE_ADD_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe(ii(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,Ha.t)(1))}},{key:"cancel",value:function(n,e,t){if(!n)throw new Error("Missing correlationId");this.createAndDispatch(Dt.CANCEL_PERSIST,e,{correlationId:n})}},{key:"delete",value:function(n,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticDelete);var t=this.getKey(n),s=this.createEntityAction(Dt.SAVE_DELETE_ONE,t,e);return this.guard.mustBeKey(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,fe.T)(function(){return t}),(0,Ha.t)(1))}},{key:"getAll",value:function(n){var e=this;n=this.setQueryEntityActionOptions(n);var t=this.createEntityAction(Dt.QUERY_ALL,null,n);return this.dispatch(t),this.getResponseData$(n.correlationId).pipe(ii(this.entityCollection$),(0,fe.T)(function(s){var u=(0,k.A)(s,2),d=u[1];return u[0].reduce(function(p,h){var _=d.entities[e.selectId(h)];return _&&p.push(_),p},[])}),(0,Ha.t)(1))}},{key:"getByKey",value:function(n,e){var t=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(Dt.QUERY_BY_KEY,n,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe(ii(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,Ha.t)(1))}},{key:"getWithQuery",value:function(n,e){var t=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(Dt.QUERY_MANY,n,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe(ii(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2),p=l[1];return l[0].reduce(function(h,_){var S=p.entities[t.selectId(_)];return S&&h.push(S),h},[])}),(0,Ha.t)(1))}},{key:"load",value:function(n){n=this.setQueryEntityActionOptions(n);var e=this.createEntityAction(Dt.QUERY_LOAD,null,n);return this.dispatch(e),this.getResponseData$(n.correlationId).pipe((0,Ha.t)(1))}},{key:"loadWithQuery",value:function(n,e){e=this.setQueryEntityActionOptions(e);var t=this.createEntityAction(Dt.QUERY_MANY,n,e);return this.dispatch(t),this.getResponseData$(e.correlationId).pipe((0,Ha.t)(1))}},{key:"update",value:function(n,e){var t=this,s=this.toUpdate(n);e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpdate);var u=this.createEntityAction(Dt.SAVE_UPDATE_ONE,s,e);return e.isOptimistic&&this.guard.mustBeUpdate(u),this.dispatch(u),this.getResponseData$(e.correlationId).pipe((0,fe.T)(function(l){return l.changes}),ii(this.entityCollection$),(0,fe.T)(function(l){var d=(0,k.A)(l,2);return d[1].entities[t.selectId(d[0])]}),(0,Ha.t)(1))}},{key:"upsert",value:function(n,e){var t=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpsert);var s=this.createEntityAction(Dt.SAVE_UPSERT_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe(ii(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,Ha.t)(1))}},{key:"addAllToCache",value:function(n,e){this.createAndDispatch(Dt.ADD_ALL,n,e)}},{key:"addOneToCache",value:function(n,e){this.createAndDispatch(Dt.ADD_ONE,n,e)}},{key:"addManyToCache",value:function(n,e){this.createAndDispatch(Dt.ADD_MANY,n,e)}},{key:"clearCache",value:function(n){this.createAndDispatch(Dt.REMOVE_ALL,void 0,n)}},{key:"removeOneFromCache",value:function(n,e){this.createAndDispatch(Dt.REMOVE_ONE,this.getKey(n),e)}},{key:"removeManyFromCache",value:function(n,e){var t=this;if(n&&0!==n.length){var s="object"==typeof n[0]?n.map(function(u){return t.getKey(u)}):n;this.createAndDispatch(Dt.REMOVE_MANY,s,e)}}},{key:"updateOneInCache",value:function(n,e){var t=this.toUpdate(n);this.createAndDispatch(Dt.UPDATE_ONE,t,e)}},{key:"updateManyInCache",value:function(n,e){var t=this;if(n&&0!==n.length){var s=n.map(function(u){return t.toUpdate(u)});this.createAndDispatch(Dt.UPDATE_MANY,s,e)}}},{key:"upsertOneInCache",value:function(n,e){this.createAndDispatch(Dt.UPSERT_ONE,n,e)}},{key:"upsertManyInCache",value:function(n,e){!n||0===n.length||this.createAndDispatch(Dt.UPSERT_MANY,n,e)}},{key:"setFilter",value:function(n){this.createAndDispatch(Dt.SET_FILTER,n)}},{key:"setLoaded",value:function(n){this.createAndDispatch(Dt.SET_LOADED,!!n)}},{key:"setLoading",value:function(n){this.createAndDispatch(Dt.SET_LOADING,!!n)}},{key:"getKey",value:function(n){return"object"==typeof n?this.selectId(n):n}},{key:"getResponseData$",value:function(n){var e=this;return this.reducedActions$.pipe((0,te.p)(function(t){return!!t.payload}),(0,te.p)(function(t){var s=t.payload,d=s.entityOp;return s.entityName===e.entityName&&s.correlationId===n&&(d.endsWith(Rm)||d.endsWith(Mm)||d===Dt.CANCEL_PERSIST)}),(0,pn.s)(1),(0,ws.Z)(function(t){var s=t.payload.entityOp;return s===Dt.CANCEL_PERSIST?(0,Yi.$)(new g_(t.payload.data)):s.endsWith(Rm)?(0,Re.of)(t.payload.data):(0,Yi.$)(t.payload.data.error)}))}},{key:"setQueryEntityActionOptions",value:function(n){var e=null==(n=n||{}).correlationId?this.correlationIdGenerator.next():n.correlationId;return(0,g.A)((0,g.A)({},n),{},{correlationId:e})}},{key:"setSaveEntityActionOptions",value:function(n,e){var t=null==(n=n||{}).correlationId?this.correlationIdGenerator.next():n.correlationId,s=null==n.isOptimistic?e||!1:!0===n.isOptimistic;return(0,g.A)((0,g.A)({},n),{},{correlationId:t,isOptimistic:s})}}])}(),zd="entityCache",Om=new a.InjectionToken("@ngrx/data Entity Cache Name"),h_=new a.InjectionToken("@ngrx/data Entity Cache Meta Reducers"),v_=new a.InjectionToken("@ngrx/data Entity Collection Meta Reducers"),BF=new a.InjectionToken("@ngrx/data Initial Entity Cache State"),$d=new a.InjectionToken("@ngrx/data Entity Cache Selector"),LF={provide:$d,useFactory:y_,deps:[[new a.Optional,Om]]};function y_(o){return gc(o=o||zd)}var Bm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.entityActionFactory=e,this.store=t,this.entityDispatcherDefaultOptions=s,this.entityCacheSelector=l,this.correlationIdGenerator=d,this.reducedActions$=u.pipe((0,Ha.t)(1)),this.raSubscription=this.reducedActions$.subscribe()},[{key:"create",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bc,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(0,g.A)((0,g.A)({},this.entityDispatcherDefaultOptions),u);return new OF(t,this.entityActionFactory,this.store,s,l,this.reducedActions$,this.entityCacheSelector,this.correlationIdGenerator)}},{key:"ngOnDestroy",value:function(){this.raSubscription.unsubscribe()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Vm),a.\u0275\u0275inject(Xo),a.\u0275\u0275inject($d),a.\u0275\u0275inject(Nm))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),__=new a.InjectionToken("@ngrx/data Entity Effects Scheduler"),b_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){var d=this;(0,v.A)(this,n),this.actions=e,this.dataService=t,this.entityActionFactory=s,this.logger=u,this.scheduler=l,this.responseDelay=10,this.saveEntitiesCancel$=si(function(){return d.actions.pipe(So(mr.SAVE_ENTITIES_CANCEL),(0,te.p)(function(p){return null!=p.payload.correlationId}))},{dispatch:!1}),this.saveEntities$=si(function(){return d.actions.pipe(So(mr.SAVE_ENTITIES),(0,ws.Z)(function(p){return d.saveEntities(p)}))})},[{key:"saveEntities",value:function(t){var s=this,u=t.payload.error;if(u)return this.handleSaveEntitiesError$(t)(u);try{var l=a_(t.payload.changeSet),d=t.payload,p=d.correlationId,S=d.url;return 0===l.changes.length?(0,Re.of)(new Tm(l,S,{correlationId:p,mergeStrategy:d.mergeStrategy,tag:d.tag})):L0(this.saveEntitiesCancel$.pipe((0,te.p)(function(Y){return p===Y.payload.correlationId}),(0,fe.T)(function(Y){return new kF(p,Y.payload.reason,Y.payload.tag)})),this.dataService.saveEntities(l,S).pipe((0,Fs.H)(function(Y){return s.handleSaveEntitiesSuccess$(t,s.entityActionFactory)(Y)}),(0,aa.W)(this.handleSaveEntitiesError$(t))))}catch(Y){return this.handleSaveEntitiesError$(t)(Y)}}},{key:"handleSaveEntitiesError$",value:function(t){var s=this;return function(u){var l=u instanceof Hu?u:new Hu(u,null);return(0,Re.of)(new PF(l,t)).pipe((0,lr.c)(s.responseDelay,s.scheduler||vc.E))}}},{key:"handleSaveEntitiesSuccess$",value:function(t,s){var u=t.payload,l=u.url,_={correlationId:u.correlationId,mergeStrategy:u.mergeStrategy,tag:u.tag};return function(S){if(S)return(0,Re.of)(new Tm(S,l,_));if(S=t.payload.changeSet,!t.payload.isOptimistic)return(0,Re.of)(new Tm(S,l,_));var P=S.changes.reduce(function(B,z){return-1===B.indexOf(z.entityName)?B.concat(z.entityName):B},[]);return(0,R.h)(P.map(function(B){return s.create(B,Dt.SET_LOADING,!1)}))}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ks),a.\u0275\u0275inject(f_),a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(Gd),a.\u0275\u0275inject(__,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),jF=[Dt.QUERY_ALL,Dt.QUERY_LOAD,Dt.QUERY_BY_KEY,Dt.QUERY_MANY,Dt.SAVE_ADD_ONE,Dt.SAVE_DELETE_ONE,Dt.SAVE_UPDATE_ONE,Dt.SAVE_UPSERT_ONE],A_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){var d=this;(0,v.A)(this,n),this.actions=e,this.dataService=t,this.entityActionFactory=s,this.resultHandler=u,this.scheduler=l,this.responseDelay=10,this.cancel$=si(function(){return d.actions.pipe(jd(Dt.CANCEL_PERSIST),(0,fe.T)(function(p){return p.payload.correlationId}),(0,te.p)(function(p){return null!=p}))},{dispatch:!1}),this.persist$=si(function(){return d.actions.pipe(jd(jF),(0,ws.Z)(function(p){return d.persist(p)}))})},[{key:"persist",value:function(t){var s=this;if(t.payload.skip)return this.handleSkipSuccess$(t);if(t.payload.error)return this.handleError$(t)(t.payload.error);try{return L0(this.cancel$.pipe((0,te.p)(function(d){return t.payload.correlationId===d}),(0,fe.T)(function(d){return s.entityActionFactory.createFromAction(t,{entityOp:Dt.CANCELED_PERSIST})})),this.callDataService(t).pipe((0,fe.T)(this.resultHandler.handleSuccess(t)),(0,aa.W)(this.handleError$(t))))}catch(d){return this.handleError$(t)(d)}}},{key:"callDataService",value:function(t){var s=t.payload,l=s.entityOp,d=s.data,p=s.httpOptions,h=this.dataService.getService(s.entityName);switch(l){case Dt.QUERY_ALL:case Dt.QUERY_LOAD:return h.getAll(p);case Dt.QUERY_BY_KEY:return h.getById(d,p);case Dt.QUERY_MANY:return h.getWithQuery(d,p);case Dt.SAVE_ADD_ONE:return h.add(d,p);case Dt.SAVE_DELETE_ONE:return h.delete(d,p);case Dt.SAVE_UPDATE_ONE:var _=d.id,S=d.changes;return h.update(d,p).pipe((0,fe.T)(function(P){return P&&Object.keys(P).length>0?{id:_,changes:(0,g.A)((0,g.A)({},S),P),changed:!0}:{id:_,changes:S,changed:!1}}));case Dt.SAVE_UPSERT_ONE:return h.upsert(d,p).pipe((0,fe.T)(function(P){return P&&Object.keys(P).length>0?P:d}));default:throw new Error('Persistence action "'.concat(l,'" is not implemented.'))}}},{key:"handleError$",value:function(t){var s=this;return function(u){return(0,Re.of)(s.resultHandler.handleError(t)(u)).pipe((0,lr.c)(s.responseDelay,s.scheduler||vc.E))}}},{key:"handleSkipSuccess$",value:function(t){var s=i_(t.payload.entityOp),u=this.entityActionFactory.createFromAction(t,{entityOp:s});return(0,Re.of)(u).pipe((0,lr.c)(this.responseDelay,this.scheduler||vc.E))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ks),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(m_),a.\u0275\u0275inject(__,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),UF=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),this.entityName=r,r=r.trim();var e=n.create(r),t=e.dispatcher,s=e.selectors,u=e.selectors$;this.entityName=r,this.dispatcher=t,this.guard=t.guard,this.selectId=t.selectId,this.toUpdate=t.toUpdate,this.selectors=s,this.selectors$=u,this.collection$=u.collection$,this.count$=u.count$,this.entities$=u.entities$,this.entityActions$=u.entityActions$,this.entityMap$=u.entityMap$,this.errors$=u.errors$,this.filter$=u.filter$,this.filteredEntities$=u.filteredEntities$,this.keys$=u.keys$,this.loaded$=u.loaded$,this.loading$=u.loading$,this.changeState$=u.changeState$},[{key:"createEntityAction",value:function(n,e,t){return this.dispatcher.createEntityAction(n,e,t)}},{key:"createAndDispatch",value:function(n,e,t){return this.dispatcher.createAndDispatch(n,e,t)}},{key:"dispatch",value:function(n){return this.dispatcher.dispatch(n)}},{key:"store",get:function(){return this.dispatcher.store}},{key:"add",value:function(n,e){return this.dispatcher.add(n,e)}},{key:"cancel",value:function(n,e,t){this.dispatcher.cancel(n,e,t)}},{key:"delete",value:function(n,e){return this.dispatcher.delete(n,e)}},{key:"getAll",value:function(n){return this.dispatcher.getAll(n)}},{key:"getByKey",value:function(n,e){return this.dispatcher.getByKey(n,e)}},{key:"getWithQuery",value:function(n,e){return this.dispatcher.getWithQuery(n,e)}},{key:"load",value:function(n){return this.dispatcher.load(n)}},{key:"loadWithQuery",value:function(n,e){return this.dispatcher.loadWithQuery(n,e)}},{key:"update",value:function(n,e){return this.dispatcher.update(n,e)}},{key:"upsert",value:function(n,e){return this.dispatcher.upsert(n,e)}},{key:"addAllToCache",value:function(n,e){this.dispatcher.addAllToCache(n,e)}},{key:"addOneToCache",value:function(n,e){this.dispatcher.addOneToCache(n,e)}},{key:"addManyToCache",value:function(n,e){this.dispatcher.addManyToCache(n,e)}},{key:"clearCache",value:function(){this.dispatcher.clearCache()}},{key:"removeOneFromCache",value:function(n,e){this.dispatcher.removeOneFromCache(n,e)}},{key:"removeManyFromCache",value:function(n,e){this.dispatcher.removeManyFromCache(n,e)}},{key:"updateOneInCache",value:function(n,e){this.dispatcher.updateOneInCache(n,e)}},{key:"updateManyInCache",value:function(n,e){this.dispatcher.updateManyInCache(n,e)}},{key:"upsertOneInCache",value:function(n,e){this.dispatcher.upsertOneInCache(n,e)}},{key:"upsertManyInCache",value:function(n,e){this.dispatcher.upsertManyInCache(n,e)}},{key:"setFilter",value:function(n){this.dispatcher.setFilter(n)}},{key:"setLoaded",value:function(n){this.dispatcher.setLoaded(!!n)}},{key:"setLoading",value:function(n){this.dispatcher.setLoading(!!n)}}])}(),Hd=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.entityDefinitionService=e},[{key:"create",value:function(t){var s=this.entityDefinitionService&&this.entityDefinitionService.getDefinition(t,!1);return s&&s.initialState||function GF(o){return{entityName:o,ids:[],entities:{},filter:void 0,loaded:!1,loading:!1,changeState:{}}}(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qa,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),C_=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.entityCollectionCreator=e||new Hd,this.selectEntityCache=t||y_(zd)},[{key:"createCollectionSelector",value:function(t){var s=this;return wn(this.selectEntityCache,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[t]||s.entityCollectionCreator.create(t)})}},{key:"createCollectionSelectors",value:function(t){var s="string"==typeof t?{entityName:t}:t,u=function(be){return be.ids},l=function(be){return be.entities},d=wn(u,l,function(ge,be){return ge.map(function(me){return be[me]})}),p=wn(u,function(ge){return ge.length}),h=function(be){return be.filter},_=s.filterFn,S=_?wn(d,h,function(ge,be){return _(ge,be)}):d,de={};return Object.keys(s.additionalCollectionState||{}).forEach(function(ge){de["select"+ge[0].toUpperCase()+ge.slice(1)]=function(be){return be[ge]}}),(0,g.A)({selectCount:p,selectEntities:d,selectEntityMap:l,selectFilter:h,selectFilteredEntities:S,selectKeys:u,selectLoaded:function(be){return be.loaded},selectLoading:function(be){return be.loading},selectChangeState:function(be){return be.changeState}},de)}},{key:"create",value:function(t){var s="string"==typeof t?{entityName:t}:t,u=s.entityName,l=this.createCollectionSelector(u),d=this.createCollectionSelectors(s),p={};return Object.keys(d).forEach(function(h){p[h]=wn(l,d[h])}),(0,g.A)({entityName:u,selectCollection:l,selectEntityCache:this.selectEntityCache},p)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Hd,8),a.\u0275\u0275inject($d,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Lm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.store=e,this.actions=t,this.selectEntityCache=s,this.entityCache$=this.store.select(this.selectEntityCache),this.entityActionErrors$=t.pipe((0,te.p)(function(u){return u.payload&&u.payload.entityOp&&u.payload.entityOp.endsWith(Mm)}),(0,Ha.t)(1))},[{key:"create",value:function(t,s){var u=this,l={entityName:t};return Object.keys(s).forEach(function(d){if(d.startsWith("select")){var p=d[6].toLowerCase()+d.substring(7)+"$";l[p]=u.store.select(s[d])}}),l.entityActions$=this.actions.pipe(Ud(t)),l.errors$=this.entityActionErrors$.pipe(Ud(t)),l}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(ks),a.\u0275\u0275inject($d))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),x_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.entityDispatcherFactory=e,this.entityDefinitionService=t,this.entitySelectorsFactory=s,this.entitySelectors$Factory=u},[{key:"create",value:function(t){t=t.trim();var s=this.entityDefinitionService.getDefinition(t),u=this.entityDispatcherFactory.create(t,s.selectId,s.entityDispatcherOptions),l=this.entitySelectorsFactory.create(s.metadata);return{dispatcher:u,entityName:t,selectors:l,selectors$:this.entitySelectors$Factory.create(t,l)}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Bm),a.\u0275\u0275inject(qa),a.\u0275\u0275inject(C_),a.\u0275\u0275inject(Lm))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),S_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.entityCollectionServiceElementsFactory=e},[{key:"create",value:function(t){return new UF(t,this.entityCollectionServiceElementsFactory)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(x_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),E_=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.entityCollectionServiceFactory=e,this.store=u,this.entityActionErrors$=s.entityActionErrors$,this.entityCache$=s.entityCache$,this.reducedActions$=t.reducedActions$});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(S_),a.\u0275\u0275inject(Bm),a.\u0275\u0275inject(Lm),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),zF=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.entityServicesElements=e,this.EntityCollectionServices={}},[{key:"entityActionErrors$",get:function(){return this.entityServicesElements.entityActionErrors$}},{key:"entityCache$",get:function(){return this.entityServicesElements.entityCache$}},{key:"entityCollectionServiceFactory",get:function(){return this.entityServicesElements.entityCollectionServiceFactory}},{key:"reducedActions$",get:function(){return this.entityServicesElements.reducedActions$}},{key:"store",get:function(){return this.entityServicesElements.store}},{key:"dispatch",value:function(t){this.store.dispatch(t)}},{key:"createEntityCollectionService",value:function(t){return this.entityCollectionServiceFactory.create(t)}},{key:"getEntityCollectionService",value:function(t){var s=this.EntityCollectionServices[t];return s||(s=this.createEntityCollectionService(t),this.EntityCollectionServices[t]=s),s}},{key:"registerEntityCollectionService",value:function(t,s){this.EntityCollectionServices[s||t.entityName]=t}},{key:"registerEntityCollectionServices",value:function(t){var s=this;Array.isArray(t)?t.forEach(function(u){return s.registerEntityCollectionService(u)}):Object.keys(t||{}).forEach(function(u){s.registerEntityCollectionService(t[u],u)})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(E_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),_r=(0,m.A)(function o(){(0,v.A)(this,o)}),_a=function(o){return o[o.Unchanged=0]="Unchanged",o[o.Added=1]="Added",o[o.Deleted=2]="Deleted",o[o.Updated=3]="Updated",o}(_a||{}),$F=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),this.adapter=r,this.selectId=n,this.selectId=n||bc},[{key:"commitAll",value:function(n){return 0===Object.keys(n.changeState).length?n:(0,g.A)((0,g.A)({},n),{},{changeState:{}})}},{key:"commitMany",value:function(n,e){var t=this;if(null==n||0===n.length)return e;var s=!1,u=n.reduce(function(l,d){var p="object"==typeof d?t.selectId(d):d;return l[p]&&(s||(l=(0,g.A)({},l),s=!0),delete l[p]),l},e.changeState);return s?(0,g.A)((0,g.A)({},e),{},{changeState:u}):e}},{key:"commitOne",value:function(n,e){return null==n?e:this.commitMany([n],e)}},{key:"mergeQueryResults",value:function(n,e,t){return this.mergeServerUpserts(n,e,zr.PreserveChanges,t)}},{key:"mergeSaveAdds",value:function(n,e,t){return this.mergeServerUpserts(n,e,zr.OverwriteChanges,t)}},{key:"mergeSaveDeletes",value:function(n,e,t){var s=n;return e=(t=t??zr.OverwriteChanges)===zr.IgnoreChanges?e:this.commitMany(s,e),this.adapter.removeMany(s,e)}},{key:"mergeSaveUpdates",value:function(n,e,t){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==n||0===n.length)return e;var p,l=!1,d=e.changeState;switch(t=t??zr.OverwriteChanges){case zr.IgnoreChanges:return p=_(n),this.adapter.updateMany(p,e);case zr.OverwriteChanges:return d=n.reduce(function(S,P){var B=P.id;return S[B]&&(l||(S=(0,g.A)({},S),l=!0),delete S[B]),S},e.changeState),e=l?(0,g.A)((0,g.A)({},e),{},{changeState:d}):e,p=_(n),this.adapter.updateMany(p,e);case zr.PreserveChanges:var h=[];return d=n.reduce(function(S,P){var B=P.id,z=S[B];if(z){l||(S=(0,g.A)({},S),l=!0);var Y=s.selectId(P.changes),de=z;Y!==B&&delete S[B];var ge=(0,g.A)((0,g.A)({},de.originalValue),P.changes);S[Y]=(0,g.A)((0,g.A)({},de),{},{originalValue:ge})}else h.push(P);return S},e.changeState),e=l?(0,g.A)((0,g.A)({},e),{},{changeState:d}):e,p=_(h),this.adapter.updateMany(p,e)}function _(S){return!0===u&&(S=S.filter(function(P){return!0===P.changed})),S.map(function(P){return{id:P.id,changes:P.changes}})}}},{key:"mergeSaveUpserts",value:function(n,e,t){return this.mergeServerUpserts(n,e,zr.OverwriteChanges,t)}},{key:"mergeServerUpserts",value:function(n,e,t,s){var u=this;if(null==n||0===n.length)return e;var l=!1,d=e.changeState;switch(s=s??t){case zr.IgnoreChanges:return this.adapter.upsertMany(n,e);case zr.OverwriteChanges:return e=this.adapter.upsertMany(n,e),d=n.reduce(function(h,_){var S=u.selectId(_);return h[S]&&(l||(h=(0,g.A)({},h),l=!0),delete h[S]),h},e.changeState),l?(0,g.A)((0,g.A)({},e),{},{changeState:d}):e;case zr.PreserveChanges:var p=[];return d=n.reduce(function(h,_){var S=u.selectId(_);return h[S]?l||(h=(0,g.A)((0,g.A)({},h),{},(0,c.A)({},S,(0,g.A)((0,g.A)({},h[S]),{},{originalValue:_}))),l=!0):p.push(_),h},e.changeState),e=this.adapter.upsertMany(p,e),l?(0,g.A)((0,g.A)({},e),{},{changeState:d}):e}}},{key:"trackAddMany",value:function(n,e,t){var s=this;if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var u=!1,l=n.reduce(function(d,p){var h=s.selectId(p);if(null==h||""===h)throw new Error("".concat(e.entityName," entity add requires a key to be tracked"));return d[h]||(u||(u=!0,d=(0,g.A)({},d)),d[h]={changeType:_a.Added}),d},e.changeState);return u?(0,g.A)((0,g.A)({},e),{},{changeState:l}):e}},{key:"trackAddOne",value:function(n,e,t){return null==n?e:this.trackAddMany([n],e,t)}},{key:"trackDeleteMany",value:function(n,e,t){if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var s=!1,u=e.entities,l=n.reduce(function(d,p){var h=u[p];if(h){var _=d[p];_?_.changeType===_a.Added?(S(),delete d[p]):_.changeType===_a.Updated&&(S(),d[p]=(0,g.A)((0,g.A)({},d[p]),{},{changeType:_a.Deleted})):(S(),d[p]={changeType:_a.Deleted,originalValue:h})}return d;function S(){s||(s=!0,d=(0,g.A)({},d))}},e.changeState);return s?(0,g.A)((0,g.A)({},e),{},{changeState:l}):e}},{key:"trackDeleteOne",value:function(n,e,t){return null==n?e:this.trackDeleteMany([n],e,t)}},{key:"trackUpdateMany",value:function(n,e,t){if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var s=!1,u=e.entities,l=n.reduce(function(d,p){var h=p.id;if(null==h||""===h)throw new Error("".concat(e.entityName," entity update requires a key to be tracked"));var S=u[h];return S&&(d[h]||(s||(s=!0,d=(0,g.A)({},d)),d[h]={changeType:_a.Updated,originalValue:S})),d},e.changeState);return s?(0,g.A)((0,g.A)({},e),{},{changeState:l}):e}},{key:"trackUpdateOne",value:function(n,e,t){return null==n?e:this.trackUpdateMany([n],e,t)}},{key:"trackUpsertMany",value:function(n,e,t){var s=this;if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var u=!1,l=e.entities,d=n.reduce(function(p,h){var _=s.selectId(h);if(null==_||""===_)throw new Error("".concat(e.entityName," entity upsert requires a key to be tracked"));if(!p[_]){u||(u=!0,p=(0,g.A)({},p));var P=l[_];p[_]=null==P?{changeType:_a.Added}:{changeType:_a.Updated,originalValue:P}}return p},e.changeState);return u?(0,g.A)((0,g.A)({},e),{},{changeState:d}):e}},{key:"trackUpsertOne",value:function(n,e,t){return null==n?e:this.trackUpsertMany([n],e,t)}},{key:"undoAll",value:function(n){var t=Object.keys(n.changeState).reduce(function(l,d){var p=l.chgState[d];switch(p.changeType){case _a.Added:l.remove.push(d);break;case _a.Deleted:var h=p.originalValue;h&&l.upsert.push(h);break;case _a.Updated:l.upsert.push(p.originalValue)}return l},{remove:[],upsert:[],chgState:n.changeState}),u=t.upsert;return n=this.adapter.removeMany(t.remove,n),n=this.adapter.upsertMany(u,n),(0,g.A)((0,g.A)({},n),{},{changeState:{}})}},{key:"undoMany",value:function(n,e){var t=this;if(null==n||0===n.length)return e;var s=!1,u=n.reduce(function(h,_){var S=h.changeState,P="object"==typeof _?t.selectId(_):_,B=S[P];if(B)switch(s||(S=(0,g.A)({},S),s=!0),delete S[P],h.changeState=S,B.changeType){case _a.Added:h.remove.push(P);break;case _a.Deleted:var z=B.originalValue;z&&h.upsert.push(z);break;case _a.Updated:h.upsert.push(B.originalValue)}return h},{remove:[],upsert:[],changeState:e.changeState}),l=u.changeState,p=u.upsert;return e=this.adapter.removeMany(u.remove,e),e=this.adapter.upsertMany(p,e),s?(0,g.A)((0,g.A)({},e),{},{changeState:l}):e}},{key:"undoOne",value:function(n,e){return null==n?e:this.undoMany([n],e)}}])}(),HF=function(){return(0,m.A)(function o(r,n,e){var t;(0,v.A)(this,o),this.entityName=r,this.definition=n,this.methods=((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={},Dt.CANCEL_PERSIST,this.cancelPersist.bind(this)),Dt.QUERY_ALL,this.queryAll.bind(this)),Dt.QUERY_ALL_ERROR,this.queryAllError.bind(this)),Dt.QUERY_ALL_SUCCESS,this.queryAllSuccess.bind(this)),Dt.QUERY_BY_KEY,this.queryByKey.bind(this)),Dt.QUERY_BY_KEY_ERROR,this.queryByKeyError.bind(this)),Dt.QUERY_BY_KEY_SUCCESS,this.queryByKeySuccess.bind(this)),Dt.QUERY_LOAD,this.queryLoad.bind(this)),Dt.QUERY_LOAD_ERROR,this.queryLoadError.bind(this)),Dt.QUERY_LOAD_SUCCESS,this.queryLoadSuccess.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Dt.QUERY_MANY,this.queryMany.bind(this)),Dt.QUERY_MANY_ERROR,this.queryManyError.bind(this)),Dt.QUERY_MANY_SUCCESS,this.queryManySuccess.bind(this)),Dt.SAVE_ADD_MANY,this.saveAddMany.bind(this)),Dt.SAVE_ADD_MANY_ERROR,this.saveAddManyError.bind(this)),Dt.SAVE_ADD_MANY_SUCCESS,this.saveAddManySuccess.bind(this)),Dt.SAVE_ADD_ONE,this.saveAddOne.bind(this)),Dt.SAVE_ADD_ONE_ERROR,this.saveAddOneError.bind(this)),Dt.SAVE_ADD_ONE_SUCCESS,this.saveAddOneSuccess.bind(this)),Dt.SAVE_DELETE_MANY,this.saveDeleteMany.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Dt.SAVE_DELETE_MANY_ERROR,this.saveDeleteManyError.bind(this)),Dt.SAVE_DELETE_MANY_SUCCESS,this.saveDeleteManySuccess.bind(this)),Dt.SAVE_DELETE_ONE,this.saveDeleteOne.bind(this)),Dt.SAVE_DELETE_ONE_ERROR,this.saveDeleteOneError.bind(this)),Dt.SAVE_DELETE_ONE_SUCCESS,this.saveDeleteOneSuccess.bind(this)),Dt.SAVE_UPDATE_MANY,this.saveUpdateMany.bind(this)),Dt.SAVE_UPDATE_MANY_ERROR,this.saveUpdateManyError.bind(this)),Dt.SAVE_UPDATE_MANY_SUCCESS,this.saveUpdateManySuccess.bind(this)),Dt.SAVE_UPDATE_ONE,this.saveUpdateOne.bind(this)),Dt.SAVE_UPDATE_ONE_ERROR,this.saveUpdateOneError.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Dt.SAVE_UPDATE_ONE_SUCCESS,this.saveUpdateOneSuccess.bind(this)),Dt.SAVE_UPSERT_MANY,this.saveUpsertMany.bind(this)),Dt.SAVE_UPSERT_MANY_ERROR,this.saveUpsertManyError.bind(this)),Dt.SAVE_UPSERT_MANY_SUCCESS,this.saveUpsertManySuccess.bind(this)),Dt.SAVE_UPSERT_ONE,this.saveUpsertOne.bind(this)),Dt.SAVE_UPSERT_ONE_ERROR,this.saveUpsertOneError.bind(this)),Dt.SAVE_UPSERT_ONE_SUCCESS,this.saveUpsertOneSuccess.bind(this)),Dt.ADD_ALL,this.addAll.bind(this)),Dt.ADD_MANY,this.addMany.bind(this)),Dt.ADD_ONE,this.addOne.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Dt.REMOVE_ALL,this.removeAll.bind(this)),Dt.REMOVE_MANY,this.removeMany.bind(this)),Dt.REMOVE_ONE,this.removeOne.bind(this)),Dt.UPDATE_MANY,this.updateMany.bind(this)),Dt.UPDATE_ONE,this.updateOne.bind(this)),Dt.UPSERT_MANY,this.upsertMany.bind(this)),Dt.UPSERT_ONE,this.upsertOne.bind(this)),Dt.COMMIT_ALL,this.commitAll.bind(this)),Dt.COMMIT_MANY,this.commitMany.bind(this)),Dt.COMMIT_ONE,this.commitOne.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Dt.UNDO_ALL,this.undoAll.bind(this)),Dt.UNDO_MANY,this.undoMany.bind(this)),Dt.UNDO_ONE,this.undoOne.bind(this)),Dt.SET_CHANGE_STATE,this.setChangeState.bind(this)),Dt.SET_COLLECTION,this.setCollection.bind(this)),Dt.SET_FILTER,this.setFilter.bind(this)),Dt.SET_LOADED,this.setLoaded.bind(this)),Dt.SET_LOADING,this.setLoading.bind(this))),this.adapter=n.entityAdapter,this.isChangeTracking=!0!==n.noChangeTracking,this.selectId=n.selectId,this.guard=new t_(r,this.selectId),this.toUpdate=r_(this.selectId),this.entityChangeTracker=e||new $F(this.adapter,this.selectId)},[{key:"cancelPersist",value:function(n){return this.setLoadingFalse(n)}},{key:"queryAll",value:function(n){return this.setLoadingTrue(n)}},{key:"queryAllError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryAllSuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return(0,g.A)((0,g.A)({},this.entityChangeTracker.mergeQueryResults(t,n,s)),{},{loaded:!0,loading:!1})}},{key:"queryByKey",value:function(n,e){return this.setLoadingTrue(n)}},{key:"queryByKeyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryByKeySuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return n=null==t?n:this.entityChangeTracker.mergeQueryResults([t],n,s),this.setLoadingFalse(n)}},{key:"queryLoad",value:function(n){return this.setLoadingTrue(n)}},{key:"queryLoadError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryLoadSuccess",value:function(n,e){var t=this.extractData(e);return(0,g.A)((0,g.A)({},this.adapter.setAll(t,n)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"queryMany",value:function(n,e){return this.setLoadingTrue(n)}},{key:"queryManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryManySuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return(0,g.A)((0,g.A)({},this.entityChangeTracker.mergeQueryResults(t,n,s)),{},{loaded:!0,loading:!1})}},{key:"saveAddMany",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddMany(t,n,s),n=this.adapter.addMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveAddManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveAddManySuccess",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.isOptimistic(e)?this.entityChangeTracker.mergeSaveUpserts(t,n,s):this.entityChangeTracker.mergeSaveAdds(t,n,s),this.setLoadingFalse(n)}},{key:"saveAddOne",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddOne(t,n,s),n=this.adapter.addOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveAddOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveAddOneSuccess",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);if(this.isOptimistic(e)){var u=this.toUpdate(t);n=this.entityChangeTracker.mergeSaveUpdates([u],n,s,!1)}else n=this.entityChangeTracker.mergeSaveAdds([t],n,s);return this.setLoadingFalse(n)}},{key:"saveDeleteOne",value:function(n,e){var t=this.extractData(e),s="object"==typeof t?this.selectId(t):t,u=n.changeState[s];if(u&&(u.changeType===_a.Added?(n=this.adapter.removeOne(s,n),n=this.entityChangeTracker.commitOne(s,n),e.payload.skip=!0):n=this.entityChangeTracker.trackDeleteOne(s,n)),this.isOptimistic(e)){var l=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteOne(s,n,l),n=this.adapter.removeOne(s,n)}return this.setLoadingTrue(n)}},{key:"saveDeleteOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveDeleteOneSuccess",value:function(n,e){var t=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes([t],n,s)}else n=this.adapter.removeOne(t,n),n=this.entityChangeTracker.commitOne(t,n);return this.setLoadingFalse(n)}},{key:"saveDeleteMany",value:function(n,e){var t=this,s=this.extractData(e).map(function(l){return"object"==typeof l?t.selectId(l):l});if(s.forEach(function(l){var d=n.changeState[l];d&&(d.changeType===_a.Added?(n=t.adapter.removeOne(l,n),n=t.entityChangeTracker.commitOne(l,n),e.payload.skip=!0):n=t.entityChangeTracker.trackDeleteOne(l,n))}),this.isOptimistic(e)){var u=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteMany(s,n,u),n=this.adapter.removeMany(s,n)}return this.setLoadingTrue(n)}},{key:"saveDeleteManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveDeleteManySuccess",value:function(n,e){var t=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes(t,n,s)}else n=this.adapter.removeMany(t,n),n=this.entityChangeTracker.commitMany(t,n);return this.setLoadingFalse(n)}},{key:"saveUpdateOne",value:function(n,e){var t=this.guard.mustBeUpdate(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateOne(t,n,s),n=this.adapter.updateOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpdateOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpdateOneSuccess",value:function(n,e){var t=this.guard.mustBeUpdateResponse(e),s=this.isOptimistic(e),u=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpdates([t],n,u,s),this.setLoadingFalse(n)}},{key:"saveUpdateMany",value:function(n,e){var t=this.guard.mustBeUpdates(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateMany(t,n,s),n=this.adapter.updateMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpdateManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpdateManySuccess",value:function(n,e){var t=this.guard.mustBeUpdateResponses(e),u=(this.isOptimistic(e),this.extractMergeStrategy(e));return n=this.entityChangeTracker.mergeSaveUpdates(t,n,u,!1),this.setLoadingFalse(n)}},{key:"saveUpsertOne",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertOne(t,n,s),n=this.adapter.upsertOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpsertOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpsertOneSuccess",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts([t],n,s),this.setLoadingFalse(n)}},{key:"saveUpsertMany",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertMany(t,n,s),n=this.adapter.upsertMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpsertManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpsertManySuccess",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts(t,n,s),this.setLoadingFalse(n)}},{key:"addAll",value:function(n,e){var t=this.guard.mustBeEntities(e);return(0,g.A)((0,g.A)({},this.adapter.setAll(t,n)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"addMany",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddMany(t,n,s),this.adapter.addMany(t,n)}},{key:"addOne",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddOne(t,n,s),this.adapter.addOne(t,n)}},{key:"removeMany",value:function(n,e){var t=this.guard.mustBeKeys(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteMany(t,n,s),this.adapter.removeMany(t,n)}},{key:"removeOne",value:function(n,e){var t=this.guard.mustBeKey(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteOne(t,n,s),this.adapter.removeOne(t,n)}},{key:"removeAll",value:function(n,e){return(0,g.A)((0,g.A)({},this.adapter.removeAll(n)),{},{loaded:!1,loading:!1,changeState:{}})}},{key:"updateMany",value:function(n,e){var t=this.guard.mustBeUpdates(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateMany(t,n,s),this.adapter.updateMany(t,n)}},{key:"updateOne",value:function(n,e){var t=this.guard.mustBeUpdate(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateOne(t,n,s),this.adapter.updateOne(t,n)}},{key:"upsertMany",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertMany(t,n,s),this.adapter.upsertMany(t,n)}},{key:"upsertOne",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertOne(t,n,s),this.adapter.upsertOne(t,n)}},{key:"commitAll",value:function(n){return this.entityChangeTracker.commitAll(n)}},{key:"commitMany",value:function(n,e){return this.entityChangeTracker.commitMany(this.extractData(e),n)}},{key:"commitOne",value:function(n,e){return this.entityChangeTracker.commitOne(this.extractData(e),n)}},{key:"undoAll",value:function(n){return this.entityChangeTracker.undoAll(n)}},{key:"undoMany",value:function(n,e){return this.entityChangeTracker.undoMany(this.extractData(e),n)}},{key:"undoOne",value:function(n,e){return this.entityChangeTracker.undoOne(this.extractData(e),n)}},{key:"setChangeState",value:function(n,e){var t=this.extractData(e);return n.changeState===t?n:(0,g.A)((0,g.A)({},n),{},{changeState:t})}},{key:"setCollection",value:function(n,e){var t=this.extractData(e);return n===t?n:t}},{key:"setFilter",value:function(n,e){var t=this.extractData(e);return n.filter===t?n:(0,g.A)((0,g.A)({},n),{},{filter:t})}},{key:"setLoaded",value:function(n,e){var t=!0===this.extractData(e)||!1;return n.loaded===t?n:(0,g.A)((0,g.A)({},n),{},{loaded:t})}},{key:"setLoading",value:function(n,e){return this.setLoadingFlag(n,this.extractData(e))}},{key:"setLoadingFalse",value:function(n){return this.setLoadingFlag(n,!1)}},{key:"setLoadingTrue",value:function(n){return this.setLoadingFlag(n,!0)}},{key:"setLoadingFlag",value:function(n,e){return n.loading===(e=!0===e)?n:(0,g.A)((0,g.A)({},n),{},{loading:e})}},{key:"extractData",value:function(n){return n.payload&&n.payload.data}},{key:"extractMergeStrategy",value:function(n){return this.isChangeTracking?n.payload&&n.payload.mergeStrategy:zr.IgnoreChanges}},{key:"isOptimistic",value:function(n){return n.payload&&!0===n.payload.isOptimistic}}])}(),D_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.entityDefinitionService=e},[{key:"create",value:function(t){var s=this.entityDefinitionService.getDefinition(t);return new HF(t,s).methods}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qa))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),w_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.methodsFactory=e},[{key:"create",value:function(t){var s=this.methodsFactory.create(t);return function(l,d){var p=s[d.payload.entityOp];return p?p(l,d):l}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(D_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),F_=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.entityCollectionReducerFactory=e,this.entityCollectionReducers={},this.entityCollectionMetaReducer=dm.apply(null,t||[])},[{key:"getOrCreateReducer",value:function(t){var s=this.entityCollectionReducers[t];return s||(s=this.entityCollectionReducerFactory.create(t),s=this.registerReducer(t,s),this.entityCollectionReducers[t]=s),s}},{key:"registerReducer",value:function(t,s){return s=this.entityCollectionMetaReducer(s),this.entityCollectionReducers[t.trim()]=s}},{key:"registerReducers",value:function(t){var s=this;(t?Object.keys(t):[]).forEach(function(l){return s.registerReducer(l,t[l])})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(w_),a.\u0275\u0275inject(v_,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),k_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.entityCollectionCreator=e,this.entityCollectionReducerRegistry=t,this.logger=s},[{key:"create",value:function(){return function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;switch(u.type){case mr.CLEAR_COLLECTIONS:return this.clearCollectionsReducer(s,u);case mr.LOAD_COLLECTIONS:return this.loadCollectionsReducer(s,u);case mr.MERGE_QUERY_SET:return this.mergeQuerySetReducer(s,u);case mr.SAVE_ENTITIES:return this.saveEntitiesReducer(s,u);case mr.SAVE_ENTITIES_CANCEL:return this.saveEntitiesCancelReducer(s,u);case mr.SAVE_ENTITIES_ERROR:return this.saveEntitiesErrorReducer(s,u);case mr.SAVE_ENTITIES_SUCCESS:return this.saveEntitiesSuccessReducer(s,u);case mr.SET_ENTITY_CACHE:return u.payload.cache}var l=u.payload;return l&&l.entityName&&l.entityOp&&!l.error?this.applyCollectionReducer(s,u):s}.bind(this)}},{key:"clearCollectionsReducer",value:function(t,s){var u=this,d=s.payload.collections,h=Dt.REMOVE_ALL;return d||(d=Object.keys(t)),d.reduce(function(_,S){var P={entityName:S,entityOp:h},B={type:"[".concat(S,"] ").concat(s.type),payload:P};return u.applyCollectionReducer(_,B)},t)}},{key:"loadCollectionsReducer",value:function(t,s){var u=this,d=s.payload.collections,h=Dt.ADD_ALL;return Object.keys(d).reduce(function(S,P){var B={entityName:P,entityOp:h,data:d[P]},z={type:"[".concat(P,"] ").concat(s.type),payload:B};return u.applyCollectionReducer(S,z)},t)}},{key:"mergeQuerySetReducer",value:function(t,s){var u=this,l=s.payload,d=l.mergeStrategy,p=l.querySet;d=null===d?zr.PreserveChanges:d;var _=Dt.QUERY_MANY_SUCCESS;return Object.keys(p).reduce(function(P,B){var z={entityName:B,entityOp:_,data:p[B],mergeStrategy:d},Y={type:"[".concat(B,"] ").concat(s.type),payload:z};return u.applyCollectionReducer(P,Y)},t)}},{key:"saveEntitiesReducer",value:function(t,s){var u=this,l=s.payload,d=l.changeSet,p=l.correlationId,h=l.isOptimistic,_=l.mergeStrategy,S=l.tag;try{d.changes.forEach(function(B){var z=B.entityName,Y={entityName:z,entityOp:P(B),data:B.entities,correlationId:p,isOptimistic:h,mergeStrategy:_,tag:S},de={type:"[".concat(z,"] ").concat(s.type),payload:Y};if(t=u.applyCollectionReducer(t,de),de.payload.error)throw de.payload.error})}catch(B){s.payload.error=B}return t;function P(B){switch(B.op){case Ka.Add:return Dt.SAVE_ADD_MANY;case Ka.Delete:return Dt.SAVE_DELETE_MANY;case Ka.Update:return Dt.SAVE_UPDATE_MANY;case Ka.Upsert:return Dt.SAVE_UPSERT_MANY}}}},{key:"saveEntitiesCancelReducer",value:function(t,s){return this.clearLoadingFlags(t,s.payload.entityNames||[])}},{key:"saveEntitiesErrorReducer",value:function(t,s){var d=s.payload.originalAction.payload.changeSet.changes.map(function(p){return p.entityName});return this.clearLoadingFlags(t,d)}},{key:"saveEntitiesSuccessReducer",value:function(t,s){var u=this,l=s.payload,p=l.correlationId,h=l.isOptimistic,_=l.mergeStrategy,S=l.tag;return l.changeSet.changes.forEach(function(B){var z=B.entityName,Y={entityName:z,entityOp:P(B),data:B.entities,correlationId:p,isOptimistic:h,mergeStrategy:_,tag:S},de={type:"[".concat(z,"] ").concat(s.type),payload:Y};t=u.applyCollectionReducer(t,de)}),t;function P(B){switch(B.op){case Ka.Add:return Dt.SAVE_ADD_MANY_SUCCESS;case Ka.Delete:return Dt.SAVE_DELETE_MANY_SUCCESS;case Ka.Update:return Dt.SAVE_UPDATE_MANY_SUCCESS;case Ka.Upsert:return Dt.SAVE_UPSERT_MANY_SUCCESS}}}},{key:"applyCollectionReducer",value:function(){var p,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,u=s.payload.entityName,l=t[u],d=this.entityCollectionReducerRegistry.getOrCreateReducer(u);try{p=d(l||this.entityCollectionCreator.create(u),s)}catch(h){this.logger.error(h),s.payload.error=h}return s.payload.error||l===p?t:(0,g.A)((0,g.A)({},t),{},(0,c.A)({},u,p))}},{key:"clearLoadingFlags",value:function(t,s){var u=!1;return s.forEach(function(l){var d=t[l];d.loading&&(u||(t=(0,g.A)({},t),u=!0),t[l]=(0,g.A)((0,g.A)({},d),{},{loading:!1}))}),t}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Hd),a.\u0275\u0275inject(F_),a.\u0275\u0275inject(Gd))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),KF=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"error",value:function(t,s){t&&(s?console.error(t,s):console.error(t))}},{key:"log",value:function(t,s){t&&(s?console.log(t,s):console.log(t))}},{key:"warn",value:function(t,s){t&&(s?console.warn(t,s):console.warn(t))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),qF=["equipment","information","money","series"],P_=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.pluralNames={},e&&e.forEach(function(s){return t.registerPluralNames(s)})},[{key:"pluralize",value:function(t){return this.pluralNames[t]||(qF.indexOf(t.toLowerCase())>=0?t:/[aeiou]y$/.test(t)?t+"s":t.endsWith("y")?t.substring(0,t.length-1)+"ies":/[s|ss|sh|ch|x|z]$/.test(t)?t+"es":t+"s")}},{key:"registerPluralNames",value:function(t){this.pluralNames=(0,g.A)((0,g.A)({},this.pluralNames),t||{})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(o_,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),I_=[Nm,Vm,Ps,VF,k_,LF,Hd,w_,D_,F_,x_,S_,qa,Bm,C_,Lm,E_,{provide:Om,useValue:zd},{provide:_r,useClass:zF},{provide:Gd,useClass:KF},(0,a.provideEnvironmentInitializer)(function(){return function QF(){var o=(0,a.inject)($u),r=(0,a.inject)(k_),n=(0,a.inject)(Om,{optional:!0}),e=(0,a.inject)(BF,{optional:!0}),t=(0,a.inject)(h_,{optional:!0}),s=n||zd,u=(t||[]).map(function(p){return p instanceof a.InjectionToken?(0,a.inject)(p):p}),l="function"==typeof e?e():e,d={key:s,reducers:r.create(),reducerFactory:Rd,initialState:l||{},metaReducers:u};o.addFeature(d)}()})],T_=[c_,f_,Cc,b_,A_,{provide:s_,useClass:u_},{provide:m_,useClass:NF},{provide:Ac,useClass:P_},(0,a.provideEnvironmentInitializer)(function(){return function XF(){var o=(0,a.inject)(Ld),r=(0,a.inject)(b_),n=(0,a.inject)(A_);o.addEffects(r),o.addEffects(n)}()})];function jm(o){return[{provide:h_,useValue:o.entityCacheMetaReducers?o.entityCacheMetaReducers:[]},{provide:v_,useValue:o.entityCollectionMetaReducers?o.entityCollectionMetaReducers:[]},{provide:o_,multi:!0,useValue:o.pluralNames?o.pluralNames:{}},{provide:d_,multi:!0,useValue:o.entityMetadata?o.entityMetadata:[]}]}var YF=function(){var o,r=function(){function n(){(0,v.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[jm(t)]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[I_]}),r}(),JF=function(){var o,r=function(){function n(){(0,v.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[jm(t)]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[T_],imports:[YF]}),r}(),Yo=function(o){return o.Login="[Auth] Login",o.Logout="[Auth] Logout",o.CompleteAuthentication="[Auth] CompleteAuthentication",o.SetUser="[Auth] SetUser",o}(Yo||{}),Um=(0,m.A)(function o(){(0,v.A)(this,o),this.type=Yo.Login}),Gm=(0,m.A)(function o(){(0,v.A)(this,o),this.type=Yo.Logout}),zm=(0,m.A)(function o(){(0,v.A)(this,o),this.type=Yo.CompleteAuthentication}),$m=(0,m.A)(function o(r){(0,v.A)(this,o),this.payload=r,this.type=Yo.SetUser}),ZF={Login:Um,Logout:Gm,CompleteAuthentication:zm,SetUser:$m},xc=Object.freeze({__proto__:null,get AuthActionTypes(){return Yo},CompleteAuthentication:zm,Login:Um,Logout:Gm,SetUser:$m,fromAuthActions:ZF}),M_={user:void 0,cookies:new Map};function N_(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M_,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Yo.SetUser:o=(0,g.A)((0,g.A)({},o),{},{user:r.payload});break;case Yo.Logout:o=(0,g.A)((0,g.A)({},o),{},{user:void 0})}return o}var Kd={getUser:wn(gc("auth"),function(o){return o.user})},bi=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.store=e,this.getUser$=this.store.pipe(wr(Kd.getUser)),this.token$=this.store.pipe(wr(Kd.getUser),(0,fe.T)(function(t){return t?"".concat(t.token_type," ").concat(t.access_token):void 0})),this.idToken$=this.store.pipe(wr(Kd.getUser),(0,fe.T)(function(t){return t?"".concat(t.token_type," ").concat(t.id_token):void 0}))},[{key:"login",value:function(){this.store.dispatch(new Um)}},{key:"logout",value:function(){this.store.dispatch(new Gm)}},{key:"setUser",value:function(t){this.store.dispatch(new $m(t))}},{key:"completeAuthentication",value:function(){this.store.dispatch(new zm)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),nk={PublicUserProfile:{entityName:"PublicUserProfile"}},rk=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.authFacade=e,this.router=t,this.route=s,this.platformId=u},[{key:"ngOnInit",value:(e=(0,Rt.A)((0,He.A)().m(function s(){return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:this.authFacade.completeAuthentication(),this.router.navigate(["/pages/create-panel-page"],{queryParams:{cacheBuster:ur()}});case 1:return u.a(2)}},s,this)})),function t(){return e.apply(this,arguments)})}]);var e}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(bi),a.\u0275\u0275directiveInject(Xn.Router),a.\u0275\u0275directiveInject(Xn.ActivatedRoute),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-auth-callback"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"auth-callback works!"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),Sc=function(){var o,r=function(){function n(e){(0,v.A)(this,n),e.registerMetadataMap(nk)}return(0,m.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[bi]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qa))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,Sm.forFeature("auth",N_)]}),r}(),ak=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.authFacade=e,this.router=t},[{key:"intercept",value:function(t,s){return s.handle(t).pipe((0,X.M)({error:function(l){}}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(bi),a.\u0275\u0275inject(Xn.Router))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),qd=b(38195),ik=b(12100),qu=b(17473),We=b(36647),Km=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.authority=r.authority,this.client_id=r.client_id,this.redirect_uri=r.redirect_uri,this.silent_redirect_uri=r.silent_redirect_uri,this.response_type=r.response_type,this.scope=r.scope,this.filterProtocolClaims=r.filterProtocolClaims,this.loadUserInfo=r.loadUserInfo,this.automaticSilentRenew=r.automaticSilentRenew,this.metadata=(0,g.A)({},r.metadata),this.userStore=r.userStore?r.userStore:void 0,this.stateStore=r.userStore?r.stateStore:void 0)}),qm=(0,a.makeStateKey)("auth"),Wm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.clientSettings=e,this.platformId=t,this.transferState=s,this.data={},this.isBrowser=(0,y.isPlatformBrowser)(this.platformId),this.cookieMap={oa:"access_token",oi:"id_token",or:"refresh_token",os:"scope",oe:"expires_at",op:"profile"},this.tokenKey="oidc.user:".concat(this.clientSettings.authority,":").concat(this.clientSettings.client_id)},[{key:"request",set:function(t){this.req=t}},{key:"init",value:function(){var t=this;if(this.isBrowser)if(sessionStorage.getItem(this.tokenKey))this.setItem(this.tokenKey,sessionStorage.getItem(this.tokenKey));else if(this.transferState.hasKey(qm)){var s=this.transferState.get(qm,void 0);s&&this.setItem(this.tokenKey,s)}else for(var u=0;u<sessionStorage.length;u++){var l=sessionStorage.key(u);this.setItem(l,sessionStorage.getItem(l))}else{var p,d={token_type:"Bearer"};Object.getOwnPropertyNames(this.cookieMap).forEach(function(h){var _=t.getCookie(h);_&&""!==_&&(_=t.translateFromCookieValue(h,_),"oe"===h?p=_:d[t.cookieMap[h]]=_)}),d.access_token&&(this.data[this.tokenKey]=JSON.stringify(d),this.transferState.set(qm,JSON.stringify((0,g.A)((0,g.A)({},d),{},{expires_at:p}))))}}},{key:"getItem",value:function(t){return this.data[t]}},{key:"setItem",value:function(t,s){var u=this;if(t===this.tokenKey){var l=JSON.parse(s);Object.getOwnPropertyNames(this.cookieMap).forEach(function(d){u.setCookie(d,u.translateCookieValue(d,l[u.cookieMap[d]]))})}this.isBrowser&&sessionStorage.setItem(t,s),this.data[t]=s}},{key:"removeItem",value:function(t){this.removeCookie(t),this.isBrowser&&sessionStorage.removeItem(t),delete this.data[t]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this.data).length}},{key:"key",value:function(t){return console.log("index()"),Object.getOwnPropertyNames(this.data)[t]}},{key:"getCookie",value:function(t){return this.isBrowser?qd.get(t):this.req?null!==(s=this.req.cookies[t])&&void 0!==s?s:"":void 0;var s}},{key:"setCookie",value:function(t,s){this.isBrowser&&qd.set(t,s)}},{key:"removeCookie",value:function(t){this.isBrowser&&qd.remove(t)}},{key:"translateCookieValue",value:function(t,s){switch(t){case"os":return s.split(" ").join("|");case"oe":return"".concat(s);case"op":return JSON.stringify(s);default:return s}}},{key:"translateFromCookieValue",value:function(t,s){switch(t){case"os":return s.split("|").join(" ");case"oe":return(0,ik.Ro)(s);case"op":return JSON.parse(s);default:return s}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Km),a.\u0275\u0275inject(Object),a.\u0275\u0275inject(a.TransferState))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),ok=function(r,n){return new qu.UserManager(new Km((0,g.A)((0,g.A)({},r),{},{stateStore:new qu.WebStorageStateStore({store:n}),userStore:new qu.WebStorageStateStore({store:n})})))},uk=function(r,n,e,t){var s=new Wm(r,n,t);return(0,y.isPlatformServer)(n),s.init(),s},lk=function(){var o,r=(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.actions$=e,this.userManager=t,this.entityActionFactory=s,this.login$=si(function(){return u.actions$.pipe(So(xc.AuthActionTypes.Login),(0,X.M)(function(){u.userManager.signinRedirect()}))},{dispatch:!1}),this.logout$=si(function(){return u.actions$.pipe(So(xc.AuthActionTypes.Logout),(0,X.M)(function(){u.userManager.signoutRedirect()}))},{dispatch:!1}),this.completeAuthentication$=si(function(){return u.actions$.pipe(So(xc.AuthActionTypes.CompleteAuthentication),(0,We.n)(function(){return new G.c(function(l){u.userManager.signinRedirectCallback().then(function(d){l.next(new xc.SetUser(d)),l.complete()})})}))}),this.loadCookies$=si(function(){return u.actions$.pipe(Ud("Cookie"),jd([Dt.QUERY_ALL_SUCCESS]),(0,X.M)(function(l){return console.log(l.payload.data)}),(0,X.M)(function(l){}))},{dispatch:!1})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ks),a.\u0275\u0275inject(qu.UserManager),a.\u0275\u0275inject(Ps))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),ck={Cookie:{entityName:"Cookie"}},Qm=new a.InjectionToken("ClientSettings"),dk=function(){var o,r=function(){function n(e){(0,v.A)(this,n),e.registerMetadataMap(ck)}return(0,m.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[{provide:Wm,useFactory:uk,deps:[Qm,a.PLATFORM_ID,a.Injector,a.TransferState]},{provide:qu.UserManager,useFactory:ok,deps:[Qm,Wm]},(0,a.provideAppInitializer)(function(){var t=function(r,n){return function(){return new Promise(function(t){r.getUser().then(function(s){s?(n.setUser(s),setTimeout(function(){return t()})):t()})})}}((0,a.inject)(qu.UserManager),(0,a.inject)(bi),(0,a.inject)(a.PLATFORM_ID));return t()})]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qa))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Sc,_c.forFeature([lk])]}),r}(),pk=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.authFacade=e},[{key:"intercept",value:function(t,s){return this.authFacade.idToken$.pipe((0,pn.s)(1),(0,Fs.H)(function(u){var l=t.headers;if(t.url.indexOf("/awproxy"),u&&-1===t.url.indexOf("github")&&-1===t.url.indexOf("cloudfront")&&-1===t.url.indexOf("cloudinary")&&-1===t.url.indexOf("carquery")&&-1===t.url.indexOf("gateway.marvel.com")&&-1===t.url.indexOf("hereapi.com")&&-1===t.url.indexOf(".es.")&&-1===t.url.indexOf(".s3.")&&-1===t.url.indexOf("/awproxy")){l=l.set("Authorization",u);var d=t.clone({headers:l});return s.handle(d)}var p=t.clone({headers:l});return s.handle(p)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(bi))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Xt=b(75429),bn=b(61873),fk=b(93335),mk=b(49931);function Xm(o,r){var n="object"==typeof r;return new Promise(function(e,t){var s=new mk.Ms({next:function(l){e(l),s.unsubscribe()},error:t,complete:function(){n?e(r.defaultValue):t(new fk.G)}});o.subscribe(s)})}var gk=function(){var o,r=(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.actions$=e,this.entityActionFactory=t,this.setUser=si(function(){return s.actions$.pipe(So(xc.AuthActionTypes.SetUser),(0,fe.T)(function(){return s.entityActionFactory.create("Cookie",Dt.QUERY_ALL)}))}),this.loadCookies$=si(function(){return s.actions$.pipe(Ud("Cookie"),jd([Dt.QUERY_ALL_SUCCESS]),(0,X.M)(function(u){return console.log(u.payload.data)}),(0,X.M)(function(u){u.payload.data.forEach(function(l){return qd.set(l.name,l.value,{expires:new Date((new Date).getTime()+36e5)})})}))},{dispatch:!1})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ks),a.\u0275\u0275inject(Ps))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),hk=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[_c.forFeature([gk])]}),r}(),vk=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.identityPoolId=r.identityPoolId,this.region=r.region,this.userPoolId=r.userPoolId)}),Wd=new a.InjectionToken("CognitoSettings"),yk=b(82846);function Is(o){var r,n,e,t=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,e=Symbol.iterator);t--;){if(n&&null!=(r=o[n]))return r.call(o);if(e&&null!=(r=o[e]))return new Qd(r.call(o));n="@@asyncIterator",e="@@iterator"}throw new TypeError("Object is not async iterable")}function Qd(o){function r(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var e=n.done;return Promise.resolve(n.value).then(function(t){return{value:t,done:e}})}return(Qd=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new Qd(o)}var Ji=b(7931),cr=function(o){return o.MD5="MD5",o.CRC32="CRC32",o.CRC32C="CRC32C",o.CRC64NVME="CRC64NVME",o.SHA1="SHA1",o.SHA256="SHA256",o}(cr||{}),Jm=cr.CRC32,Ck={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Jo=b(43776),Sk=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"allocByteArray",void 0),(0,c.A)(this,"byteLength",0),(0,c.A)(this,"byteArrays",[]),this.allocByteArray=r},[{key:"push",value:function(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}},{key:"flush",value:function(){if(1===this.byteArrays.length){var n=this.byteArrays[0];return this.reset(),n}for(var e=this.allocByteArray(this.byteLength),t=0,s=0;s<this.byteArrays.length;++s){var u=this.byteArrays[s];e.set(u,t),t+=u.byteLength}return this.reset(),e}},{key:"reset",value:function(){this.byteArrays=[],this.byteLength=0}}])}(),Dk=function Ek(o,r,n){var e=o.getReader(),t=!1,s=0,u=["",new Sk(function(p){return new Uint8Array(p)})],l=-1,d=function(){var p=(0,Rt.A)((0,He.A)().m(function h(_){var S,z,Y,de,ge,be,me;return(0,He.A)().w(function(Pe){for(;;)switch(Pe.n){case 0:return Pe.n=1,e.read();case 1:if(z=(S=Pe.v).value,!S.done){Pe.n=2;break}-1!==l&&Ec(Y=Zm(u,l))>0&&_.enqueue(Y),_.close(),Pe.n=6;break;case 2:if(de=Fk(z,!1),l!==de&&(l>=0&&_.enqueue(Zm(u,l)),l=de),-1!==l){Pe.n=3;break}return _.enqueue(z),Pe.a(2);case 3:if(ge=Ec(z),s+=ge,be=Ec(u[l]),!(ge>=r&&0===be)){Pe.n=4;break}_.enqueue(z),Pe.n=6;break;case 4:if(me=wk(u,l,z),!t&&s>2*r&&(t=!0,n?.warn("@smithy/util-stream - stream chunk size ".concat(ge," is below threshold of ").concat(r,", automatically buffering."))),!(me>=r)){Pe.n=5;break}_.enqueue(Zm(u,l)),Pe.n=6;break;case 5:return Pe.n=6,d(_);case 6:return Pe.a(2)}},h)}));return function(_){return p.apply(this,arguments)}}();return new ReadableStream({pull:d})};function wk(o,r,n){switch(r){case 0:return o[0]+=n,Ec(o[0]);case 1:case 2:return o[r].push(n),Ec(o[r])}}function Zm(o,r){switch(r){case 0:var n=o[0];return o[0]="",n;case 1:case 2:return o[r].flush()}throw new Error("@smithy/util-stream - invalid index ".concat(r," given to flush()"))}function Ec(o){var r,n;return null!==(r=null!==(n=o?.byteLength)&&void 0!==n?n:o?.length)&&void 0!==r?r:0}function Fk(o){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&typeof Buffer<"u"&&o instanceof Buffer?2:o instanceof Uint8Array?1:"string"==typeof o?0:-1}var eg=[cr.CRC32,cr.CRC32C,cr.CRC64NVME,cr.SHA1,cr.SHA256],kk=[cr.SHA256,cr.SHA1,cr.CRC32,cr.CRC32C,cr.CRC64NVME],Pk=function(r,n){var t=n.requestAlgorithmMember;if(!t)return"WHEN_SUPPORTED"===n.requestChecksumCalculation||n.requestChecksumRequired?Jm:void 0;if(r[t]){var u=r[t];if(!eg.includes(u))throw new Error('The checksum algorithm "'.concat(u,'" is not supported by the client.')+" Select one of ".concat(eg,"."));return u}},tg=function(r){return r===cr.MD5?"content-md5":"x-amz-checksum-".concat(r.toLowerCase())},Ik=function(r,n){for(var e=r.toLowerCase(),t=0,s=Object.keys(n);t<s.length;t++)if(e===s[t].toLowerCase())return!0;return!1},Tk=function(r,n){for(var e=r.toLowerCase(),t=0,s=Object.keys(n);t<s.length;t++)if(s[t].toLowerCase().startsWith(e))return!0;return!1},Rk=b(9099),V_=function(r){return void 0!==r&&"string"!=typeof r&&!ArrayBuffer.isView(r)&&!(0,Rk.m)(r)},Gi=b(24398),Or=b(15312),Mk=function(){function o(){this.crc32c=new ng}return o.prototype.update=function(r){(0,Or.isEmptyData)(r)||this.crc32c.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return(0,Gi.__awaiter)(this,void 0,void 0,function(){return(0,Gi.__generator)(this,function(r){return[2,(0,Or.numToUint8)(this.crc32c.digest())]})})},o.prototype.reset=function(){this.crc32c=new ng},o}(),ng=function(){function o(){this.checksum=4294967295}return o.prototype.update=function(r){var n,e;try{for(var t=(0,Gi.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^Vk[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},o.prototype.digest=function(){return(4294967295^this.checksum)>>>0},o}(),Vk=(0,Or.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),Ok=function(){function o(){this.crc32=new rg}return o.prototype.update=function(r){(0,Or.isEmptyData)(r)||this.crc32.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return(0,Gi.__awaiter)(this,void 0,void 0,function(){return(0,Gi.__generator)(this,function(r){return[2,(0,Or.numToUint8)(this.crc32.digest())]})})},o.prototype.reset=function(){this.crc32=new rg},o}(),rg=function(){function o(){this.checksum=4294967295}return o.prototype.update=function(r){var n,e;try{for(var t=(0,Gi.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^Lk[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},o.prototype.digest=function(){return(4294967295^this.checksum)>>>0},o}(),Lk=(0,Or.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),B_=function(r,n){switch(r){case cr.MD5:return n.md5;case cr.CRC32:return Ok;case cr.CRC32C:return Mk;case cr.CRC64NVME:throw new Error('Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. \nYou must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case cr.SHA1:return n.sha1;case cr.SHA256:return n.sha256;default:throw new Error("Unsupported checksum algorithm: ".concat(r))}},Uk=b(83060),L_=function(r,n){var e=new r;return e.update((0,Uk.F)(n||"")),e.digest()},Gk={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},j_=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],e=(0,N.A)(kk);try{for(e.s();!(t=e.n()).done;){var s=t.value;!r.includes(s)||!eg.includes(s)||n.push(s)}}catch(u){e.e(u)}finally{e.f()}return n},$k=function(r){var n=r.lastIndexOf("-");if(-1!==n){var e=r.slice(n+1);if(!e.startsWith("0")){var t=parseInt(e,10);if(!isNaN(t)&&t>=1&&t<=1e4)return!0}}return!1},ag=b(47436),ig=function(r){var n;return"function"==typeof ReadableStream&&((null==r||null===(n=r.constructor)||void 0===n?void 0:n.name)===ReadableStream.name||r instanceof ReadableStream)},Kk=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}("function"==typeof ReadableStream?ReadableStream:function(){}),qk=function(r){var l,d,n=r.expectedChecksum,e=r.checksum,t=r.source,s=r.checksumSourceLocation,u=r.base64Encoder;if(!ig(t))throw new Error("@smithy/util-stream: unsupported source type ".concat(null!==(l=null==t||null===(d=t.constructor)||void 0===d?void 0:d.name)&&void 0!==l?l:t," in ChecksumStream."));var p=u??ag.n;if("function"!=typeof TransformStream)throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");var h=new TransformStream({start:function(){},transform:function(P,B){return(0,Rt.A)((0,He.A)().m(function z(){return(0,He.A)().w(function(Y){for(;;)switch(Y.n){case 0:e.update(P),B.enqueue(P);case 1:return Y.a(2)}},z)}))()},flush:function(P){return(0,Rt.A)((0,He.A)().m(function B(){var Y,de;return(0,He.A)().w(function(ge){for(;;)switch(ge.n){case 0:return ge.n=1,e.digest();case 1:Y=p(ge.v),n!==Y?(de=new Error('Checksum mismatch: expected "'.concat(n,'" but received "').concat(Y,'"')+' in response header "'.concat(s,'".')),P.error(de)):P.terminate();case 2:return ge.a(2)}},B)}))()}});t.pipeThrough(h);var _=h.readable;return Object.setPrototypeOf(_,Kk.prototype),_},Wk=function(){var o=(0,Rt.A)(function(r,n){var e=n.checksumAlgorithmFn,t=n.base64Encoder;return(0,He.A)().m(function s(){var u;return(0,He.A)().w(function(l){for(;;)switch(l.n){case 0:return u=t,l.n=1,L_(e,r);case 1:return l.a(2,u(l.v))}},s)})()});return function(n,e){return o.apply(this,arguments)}}(),Qk=function(){var o=(0,Rt.A)(function(r,n){var e=n.config,t=n.responseAlgorithms,s=n.logger;return(0,He.A)().m(function u(){var l,d,p,h,_,S,P,B,z,Y,de,ge;return(0,He.A)().w(function(me){for(;;)switch(me.p=me.n){case 0:l=j_(t),d=r.body,p=r.headers,h=(0,N.A)(l),me.p=1,h.s();case 2:if((_=h.n()).done){me.n=11;break}if(P=tg(S=_.value),!(B=p[P])){me.n=10;break}z=void 0,me.p=3,z=B_(S,e),me.n=6;break;case 4:if(me.p=4,ge=me.v,S!==cr.CRC64NVME){me.n=5;break}return s?.warn("Skipping ".concat(cr.CRC64NVME," checksum validation: ").concat(ge.message)),me.a(3,10);case 5:throw ge;case 6:if(Y=e.base64Encoder,!V_(d)){me.n=7;break}return r.body=qk({expectedChecksum:B,checksumSourceLocation:P,checksum:new z,source:d,base64Encoder:Y}),me.a(2);case 7:return me.n=8,Wk(d,{checksumAlgorithmFn:z,base64Encoder:Y});case 8:if((de=me.v)!==B){me.n=9;break}return me.a(3,11);case 9:throw new Error('Checksum mismatch: expected "'.concat(de,'" but received "').concat(B,'"')+' in response header "'.concat(P,'".'));case 10:me.n=2;break;case 11:me.n=13;break;case 12:me.p=12,h.e(me.v);case 13:return me.p=13,h.f(),me.f(13);case 14:return me.a(2)}},u,null,[[3,4],[1,12,13,14]])})()});return function(n,e){return o.apply(this,arguments)}}(),Xk={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},og=function(r,n){return{applyToStack:function(t){t.add(function(r,n){return function(e,t){return function(){var s=(0,Rt.A)((0,He.A)().m(function u(l){var d,p,h,_,S,P,B,z,Y,de,ge,be,me,Pe,qe,dt,pt,Tt,mt;return(0,He.A)().w(function(yt){for(;;)switch(yt.n){case 0:if(Jo.K.isInstance(l.request)){yt.n=1;break}return yt.a(2,e(l));case 1:if(!Tk("x-amz-checksum-",l.request.headers)){yt.n=2;break}return yt.a(2,e(l));case 2:return p=l.input,h=(d=l.request).body,_=d.headers,S=r.base64Encoder,P=r.streamHasher,B=n.requestChecksumRequired,z=n.requestAlgorithmMember,yt.n=3,r.requestChecksumCalculation();case 3:if(Y=yt.v,de=z?.name,ge=z?.httpHeader,de&&!p[de]&&("WHEN_SUPPORTED"===Y||B)&&(p[de]=Jm,ge&&(_[ge]=Jm)),be=Pk(p,{requestChecksumRequired:B,requestAlgorithmMember:z?.name,requestChecksumCalculation:Y}),me=h,Pe=_,!be){yt.n=12;break}yt.n=(mt=be)===cr.CRC32?4:mt===cr.CRC32C?5:mt===cr.CRC64NVME?6:mt===cr.SHA1?7:mt===cr.SHA256?8:9;break;case 4:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U"),yt.a(3,9);case 5:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V"),yt.a(3,9);case 6:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W"),yt.a(3,9);case 7:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X"),yt.a(3,9);case 8:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y"),yt.a(3,9);case 9:if(qe=tg(be),dt=B_(be,r),!V_(h)){yt.n=10;break}pt=r.bodyLengthChecker,me=(0,r.getAwsChunkedEncodingStream)("number"==typeof r.requestStreamBufferSize&&r.requestStreamBufferSize>=8192?Dk(h,r.requestStreamBufferSize,t.logger):h,{base64Encoder:S,bodyLengthChecker:pt,checksumLocationName:qe,checksumAlgorithmFn:dt,streamHasher:P}),delete(Pe=(0,g.A)((0,g.A)({},_),{},{"content-encoding":_["content-encoding"]?"".concat(_["content-encoding"],",aws-chunked"):"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":_["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":qe}))["content-length"],yt.n=12;break;case 10:if(Ik(qe,_)){yt.n=12;break}return yt.n=11,L_(dt,h);case 11:Tt=yt.v,Pe=(0,g.A)((0,g.A)({},_),{},(0,c.A)({},qe,S(Tt)));case 12:return yt.n=13,e((0,g.A)((0,g.A)({},l),{},{request:(0,g.A)((0,g.A)({},d),{},{headers:Pe,body:me})}));case 13:return yt.a(2,yt.v)}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),Gk),t.addRelativeTo(function(r,n){return function(e,t){return function(){var s=(0,Rt.A)((0,He.A)().m(function u(l){var d,p,h,_,S,P;return(0,He.A)().w(function(B){for(;;)switch(B.n){case 0:return d=l.input,p=n.requestValidationModeMember,B.n=1,r.requestChecksumCalculation();case 1:return h=B.v,B.n=2,r.responseChecksumValidation();case 2:_=B.v,B.n="WHEN_REQUIRED"===(S=h)?3:"WHEN_SUPPORTED"===S?4:5;break;case 3:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a"),B.a(3,5);case 4:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z"),B.a(3,5);case 5:B.n="WHEN_REQUIRED"===(P=_)?6:"WHEN_SUPPORTED"===P?7:8;break;case 6:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c"),B.a(3,8);case 7:return(0,Ji.J)(t,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b"),B.a(3,8);case 8:return p&&!d[p]&&"WHEN_SUPPORTED"===_&&(d[p]="ENABLED"),B.a(2,e(l))}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),Ck),t.addRelativeTo(function(r,n){return function(e,t){return function(){var s=(0,Rt.A)((0,He.A)().m(function u(l){var d,p,h,_,S,B;return(0,He.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(Jo.K.isInstance(l.request)){Y.n=1;break}return Y.a(2,e(l));case 1:return d=l.input,Y.n=2,e(l);case 2:if(h=(p=Y.v).response,S=n.responseAlgorithms,!(_=n.requestValidationModeMember)||"ENABLED"!==d[_]){Y.n=4;break}if(B=t.commandName,"S3Client"!==t.clientName||"GetObjectCommand"!==B||!j_(S).every(function(de){var ge=tg(de),be=h.headers[ge];return!be||$k(be)})){Y.n=3;break}return Y.a(2,p);case 3:return Y.n=4,Qk(h,{config:r,responseAlgorithms:S,logger:t.logger});case 4:return Y.a(2,p)}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),Xk)}}},U_=b(38310),tP={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},rP=b(91386);function aP(o){return sg.apply(this,arguments)}function sg(){return(sg=(0,Rt.A)((0,He.A)().m(function o(r){return(0,He.A)().w(function(e){for(;;)if(0===e.n)return"function"==typeof r.stream&&(r=r.stream()),e.a(2,r.tee())},o)}))).apply(this,arguments)}function iP(o,r){return ug.apply(this,arguments)}function ug(){return(ug=(0,Rt.A)((0,He.A)().m(function o(r,n){var e,t,s,u,l,d,p,h,_,S,P,B,z;return(0,He.A)().w(function(Y){for(;;)switch(Y.n){case 0:e=0,t=[],s=r.getReader(),u=!1;case 1:if(u){Y.n=4;break}return Y.n=2,s.read();case 2:if(d=(l=Y.v).done,(p=l.value)&&(t.push(p),e+=null!==(h=p?.byteLength)&&void 0!==h?h:0),!(e>=n)){Y.n=3;break}return Y.a(3,4);case 3:u=d,Y.n=1;break;case 4:s.releaseLock(),_=new Uint8Array(Math.min(n,e)),S=0,P=0,B=t;case 5:if(!(P<B.length)){Y.n=9;break}if(!((z=B[P]).byteLength>_.byteLength-S)){Y.n=6;break}return _.set(z.subarray(0,_.byteLength-S),S),Y.a(3,9);case 6:_.set(z,S);case 7:S+=z.length;case 8:P++,Y.n=5;break;case 9:return Y.a(2,_)}},o)}))).apply(this,arguments)}var oP={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},lP=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,n=arguments.length>1?arguments[1]:void 0;return r instanceof Uint8Array?Promise.resolve(r):n.streamCollector(r)||Promise.resolve(new Uint8Array)},cP={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Ts=function(r){return{applyToStack:function(e){e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Rt.A)((0,He.A)().m(function s(u){var l,d,p,h,_,P,B,Y,de,ge,be;return(0,He.A)().w(function(me){for(;;)switch(me.n){case 0:return me.n=1,n(u);case 1:if(rP.c.isInstance(p=(d=me.v).response)){me.n=2;break}return me.a(2,d);case 2:if(_=p.body,!((h=p.statusCode)<200||h>=300)){me.n=3;break}return me.a(2,d);case 3:if("function"==typeof _?.stream||"function"==typeof _?.pipe||"function"==typeof _?.tee){me.n=4;break}return me.a(2,d);case 4:if(P=_,B=_,!_||"object"!=typeof _||_ instanceof Uint8Array){me.n=6;break}return me.n=5,aP(_);case 5:Y=(0,k.A)(me.v,2),P=Y[0],B=Y[1];case 6:return p.body=B,me.n=7,lP(P,{streamCollector:function(){var Pe=(0,Rt.A)((0,He.A)().m(function dt(ot){return(0,He.A)().w(function(pt){for(;;)if(0===pt.n)return pt.a(2,iP(ot,3e3))},dt)}));return function qe(dt){return Pe.apply(this,arguments)}}()});case 7:if(de=me.v,"function"==typeof(null===(l=P)||void 0===l?void 0:l.destroy)&&P.destroy(),ge=r.utf8Encoder(de.subarray(de.length-16)),0!==de.length||!oP[e.commandName]){me.n=8;break}throw(be=new Error("S3 aborted request")).name="InternalError",be;case 8:return ge&&ge.endsWith("</Error>")&&(p.statusCode=400),me.a(2,d)}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),cP)}}},pP={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Xd=function(r){return{applyToStack:function(e){e.add(function dP(o){return function(r){return function(){var n=(0,Rt.A)((0,He.A)().m(function e(t){var s,l,d,p,h,_,S,P;return(0,He.A)().w(function(B){for(;;)switch(B.n){case 0:s=(0,g.A)({},t.input),l=0,d=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];case 1:if(!(l<d.length)){B.n=4;break}if(!(h=s[(p=d[l]).target])){B.n=3;break}return _=void 0,"string"==typeof h?fP(h,o)?_=o.base64Decoder(h):(_=o.utf8Decoder(h),s[p.target]=o.base64Encoder(_)):(_=ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h),s[p.target]=o.base64Encoder(_)),(S=new o.md5).update(_),P=o,B.n=2,S.digest();case 2:s[p.hash]=P.base64Encoder.call(P,B.v);case 3:l++,B.n=1;break;case 4:return B.a(2,r((0,g.A)((0,g.A)({},t),{},{input:s})))}},e)}));return function(e){return n.apply(this,arguments)}}()}}(r),pP)}}};function fP(o,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o))return!1;try{return 32===r.base64Decoder(o).length}catch{return!1}}var lg,Rs=b(19119),Ms=b(57964),Ns=b(71852),Vs={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},$r=b(73181),Ta=b(93628),Ra=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ta.T),gP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"EncryptionTypeMismatch",$fault:"client"},n)]),(0,c.A)(e,"name","EncryptionTypeMismatch"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),hP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"InvalidRequest",$fault:"client"},n)]),(0,c.A)(e,"name","InvalidRequest"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),vP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"InvalidWriteOffset",$fault:"client"},n)]),(0,c.A)(e,"name","InvalidWriteOffset"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),yP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"TooManyParts",$fault:"client"},n)]),(0,c.A)(e,"name","TooManyParts"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),_P=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"IdempotencyParameterMismatch",$fault:"client"},n)]),(0,c.A)(e,"name","IdempotencyParameterMismatch"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),bP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"ObjectAlreadyInActiveTierError",$fault:"client"},n)]),(0,c.A)(e,"name","ObjectAlreadyInActiveTierError"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),G_=function(r){var n="#text";for(var e in r)r.hasOwnProperty(e)&&void 0!==r[e][n]?r[e]=r[e][n]:"object"==typeof r[e]&&null!==r[e]&&(r[e]=G_(r[e]));return r},IP=b(76446),Yd=function(r,n){return(0,IP.w)(r,n).then(function(e){if(e.length){var t;try{t=function PP(o){lg||(lg=new DOMParser);var r=lg.parseFromString(o,"application/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");var n=function(t){var s;if(t.nodeType===Node.TEXT_NODE&&null!==(s=t.textContent)&&void 0!==s&&s.trim())return t.textContent;if(t.nodeType===Node.ELEMENT_NODE){var u=t;if(0===u.attributes.length&&0===u.childNodes.length)return"";for(var l={},d=Array.from(u.attributes),p=0,h=d;p<h.length;p++){var _=h[p];l["".concat(_.name)]=_.value}for(var S=Array.from(u.childNodes),P=0,B=S;P<B.length;P++){var z=B[P],Y=n(z);if(null!=Y){var de=z.nodeName;if(1===S.length&&0===d.length&&"#text"===de)return Y;l[de]?Array.isArray(l[de])?l[de].push(Y):l[de]=[l[de],Y]:l[de]=Y}else if(1===S.length&&0===d.length)return u.textContent}return l}return null};return(0,c.A)({},r.documentElement.nodeName,n(r.documentElement))}(e)}catch(d){throw d&&"object"==typeof d&&Object.defineProperty(d,"$responseBodyText",{value:e}),d}var s="#text",u=Object.keys(t)[0],l=t[u];return l[s]&&(l[u]=l[s],delete l[s]),G_(l)}return{}})},TP=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s;return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:return u.n=1,Yd(n,e);case 1:return(t=u.v).Error&&(t.Error.message=null!==(s=t.Error.message)&&void 0!==s?s:t.Error.Message),u.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),RP=function(r,n){var e;return void 0!==(null==n||null===(e=n.Error)||void 0===e?void 0:e.Code)?n.Error.Code:void 0!==n?.Code?n.Code:404==r.statusCode?"NotFound":void 0};function MP(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var VP=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"value",void 0),this.value=r},[{key:"toString",value:function(){return function NP(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}(""+this.value)}}])}(),Qu=function(){function o(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,v.A)(this,o),(0,c.A)(this,"name",void 0),(0,c.A)(this,"children",void 0),(0,c.A)(this,"attributes",{}),this.name=r,this.children=n}return(0,m.A)(o,[{key:"withName",value:function(n){return this.name=n,this}},{key:"addAttribute",value:function(n,e){return this.attributes[n]=e,this}},{key:"addChildNode",value:function(n){return this.children.push(n),this}},{key:"removeAttribute",value:function(n){return delete this.attributes[n],this}},{key:"n",value:function(n){return this.name=n,this}},{key:"c",value:function(n){return this.children.push(n),this}},{key:"a",value:function(n,e){return null!=e&&(this.attributes[n]=e),this}},{key:"cc",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null!=n[e]){var s=o.of(e,n[e]).withName(t);this.c(s)}}},{key:"l",value:function(n,e,t,s){var u=this;null!=n[e]&&s().map(function(d){d.withName(t),u.c(d)})}},{key:"lc",value:function(n,e,t,s){if(null!=n[e]){var u=s(),l=new o(t);u.map(function(d){l.c(d)}),this.c(l)}}},{key:"toString",value:function(){for(var n=!!this.children.length,e="<".concat(this.name),t=this.attributes,s=0,u=Object.keys(t);s<u.length;s++){var l=u[s],d=t[l];null!=d&&(e+=" ".concat(l,'="').concat(MP(""+d),'"'))}return e+(n?">".concat(this.children.map(function(p){return p.toString()}).join(""),"</").concat(this.name,">"):"/>")}}],[{key:"of",value:function(n,e,t){var s=new o(n);return void 0!==e&&s.addChildNode(new VP(e)),void 0!==t&&s.withName(t),s}}])}();function Jd(o){return encodeURIComponent(o).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}function Os(o,r){return new BP(o,r)}var BP=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),(0,c.A)(this,"input",void 0),(0,c.A)(this,"context",void 0),(0,c.A)(this,"query",{}),(0,c.A)(this,"method",""),(0,c.A)(this,"headers",{}),(0,c.A)(this,"path",""),(0,c.A)(this,"body",null),(0,c.A)(this,"hostname",""),(0,c.A)(this,"resolvePathStack",[]),this.input=r,this.context=n},[{key:"build",value:(r=(0,Rt.A)((0,He.A)().m(function e(){var t,s,u,l,d,h,_;return(0,He.A)().w(function(P){for(;;)switch(P.n){case 0:return P.n=1,this.context.endpoint();case 1:s=(t=P.v).hostname,l=void 0===(u=t.protocol)?"https":u,d=t.port,this.path=t.path,h=(0,N.A)(this.resolvePathStack);try{for(h.s();!(_=h.n()).done;)(0,_.value)(this.path)}catch(B){h.e(B)}finally{h.f()}return P.a(2,new Jo.K({protocol:l,hostname:this.hostname||s,port:d,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers}))}},e,this)})),function n(){return r.apply(this,arguments)})},{key:"hn",value:function(n){return this.hostname=n,this}},{key:"bp",value:function(n){var e=this;return this.resolvePathStack.push(function(t){e.path="".concat(null!=t&&t.endsWith("/")?t.slice(0,-1):t||"")+n}),this}},{key:"p",value:function(n,e,t,s){var u=this;return this.resolvePathStack.push(function(l){u.path=function(r,n,e,t,s,u){if(null==n||void 0===n[e])throw new Error("No value provided for input HTTP label: "+e+".");var l=t();if(l.length<=0)throw new Error("Empty value provided for input HTTP label: "+e+".");return r.replace(s,u?l.split("/").map(function(d){return Jd(d)}).join("/"):Jd(l))}(l,u.input,n,e,t,s)}),this}},{key:"h",value:function(n){return this.headers=n,this}},{key:"q",value:function(n){return this.query=n,this}},{key:"b",value:function(n){return this.body=n,this}},{key:"m",value:function(n){return this.method=n,this}}]);var r}(),Mn=b(79286),Yr=function(r){return null!=r},Dc=b(32723),Tn=b(69176),z_=function(r){return r.toISOString().replace(".000Z","Z")},Zd=b(57622),LP=b(21987),jP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"NoSuchUpload",$fault:"client"},n)]),(0,c.A)(e,"name","NoSuchUpload"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),GP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"ObjectNotInActiveTierError",$fault:"client"},n)]),(0,c.A)(e,"name","ObjectNotInActiveTierError"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),zP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"BucketAlreadyExists",$fault:"client"},n)]),(0,c.A)(e,"name","BucketAlreadyExists"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),$P=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"BucketAlreadyOwnedByYou",$fault:"client"},n)]),(0,c.A)(e,"name","BucketAlreadyOwnedByYou"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),HP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"NoSuchBucket",$fault:"client"},n)]),(0,c.A)(e,"name","NoSuchBucket"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),WP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"InvalidObjectState",$fault:"client"},n)]),(0,c.A)(e,"name","InvalidObjectState"),(0,c.A)(e,"$fault","client"),(0,c.A)(e,"StorageClass",void 0),(0,c.A)(e,"AccessTier",void 0),Object.setPrototypeOf(e,r.prototype),e.StorageClass=n.StorageClass,e.AccessTier=n.AccessTier,e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),QP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"NoSuchKey",$fault:"client"},n)]),(0,c.A)(e,"name","NoSuchKey"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),XP=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,g.A)({name:"NotFound",$fault:"client"},n)]),(0,c.A)(e,"name","NotFound"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(Ra),tI=function(r){return(0,g.A)((0,g.A)((0,g.A)({},r),r.SecretAccessKey&&{SecretAccessKey:$r.$}),r.SessionToken&&{SessionToken:$r.$})},dI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u;return(0,He.A)().w(function(d){for(;;)if(0===d.n)return t=Os(n,e),s=(0,Mn.Tj)({},Yr,(0,c.A)((0,c.A)((0,c.A)({},Ml,n[Al]),Rl,n[ll]),AO,[function(){return Yr(n[mb])},function(){return(0,Dc.JV)(n[mb]).toString()}])),t.bp("/{Key+}"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),t.p("Key",function(){return n.Key},"{Key+}",!0),u=(0,Mn.Tj)((0,c.A)((0,c.A)({},Rh,[,"AbortMultipartUpload"]),Ph,[,(0,Tn.Y0)(n[To],"UploadId")])),t.m("DELETE").h(s).q(u).b(void 0),d.a(2,t.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),pI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l,d,p;return(0,He.A)().w(function(h){for(;;)if(0===h.n)return s=Os(n,e),u=(0,Mn.Tj)({},Yr,((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={"content-type":"application/xml"},Pc,n[br]),Ic,n[Ar]),Tc,n[Cr]),Rc,n[xr]),Mc,n[Sr]),Hp,n[Tr]),CO,[function(){return Yr(n[vb])},function(){return n[vb].toString()}]),Ml,n[Al]),Rl,n[ll]),jb,n[fb]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Ub,n[gb]),mu,n[cu]),Kp,n[Vp]),gu,n[du]))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)({},Ph,[,(0,Tn.Y0)(n[To],"UploadId")])),void 0!==n.MultipartUpload&&(p=(p=tT(n.MultipartUpload,e)).n("CompleteMultipartUpload"),d=Gb,p.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=p.toString()),s.m("POST").h(u).q(l).b(d),h.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),fI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l;return(0,He.A)().w(function(p){for(;;)if(0===p.n)return s=Os(n,e),u=(0,Mn.Tj)({},Yr,(0,g.A)((0,g.A)({},void 0!==n.Metadata&&Object.keys(n.Metadata).reduce(function(h,_){return h["x-amz-meta-".concat(_.toLowerCase())]=n.Metadata[_],h},{})),{},((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={},$b,n[eb]),Tb,n[tb]),Rb,n[nb]),Mb,n[ab]),Nb,n[ib]),Ob,n[ob]),Bb,[function(){return Yr(n[ap])},function(){return(0,Dc.JV)(n[ap]).toString()}]),Wb,n[ub]),Qb,n[lb]),Xb,n[cb]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Yb,n[db]),ts,n[ro]),nA,n[Kn]),aA,n[Ib]),mu,n[cu]),Kp,n[Vp]),gu,n[du]),ns,n[Hi]),Nl,n[Dl]),ci,[function(){return Yr(n[ia])},function(){return n[ia].toString()}]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Ml,n[Al]),rA,n[Fl]),Zb,n[yb]),eA,[function(){return Yr(n[Cp])},function(){return z_(n[Cp]).toString()}]),Jb,n[uh]),Rl,n[ll]),Kb,n[Ca]),Hp,n[Tr])))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)({},vO,[,""])),s.m("POST").h(u).q(l).b(void 0),p.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),mI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u;return(0,He.A)().w(function(d){for(;;)if(0===d.n)return t=Os(n,e),s=(0,Mn.Tj)({},Yr,(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},bO,n[JV]),ts,n[ro]),ns,n[Hi]),Nl,n[Dl]),ci,[function(){return Yr(n[ia])},function(){return n[ia].toString()}])),t.bp("/"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),u=(0,Mn.Tj)((0,c.A)({},gO,[,""])),t.m("GET").h(s).q(u).b(void 0),d.a(2,t.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),gI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l,d;return(0,He.A)().w(function(h){for(;;)if(0===h.n)return s=Os(n,e),u=(0,Mn.Tj)({},Yr,(0,g.A)((0,g.A)({},void 0!==n.Metadata&&Object.keys(n.Metadata).reduce(function(_,S){return _["x-amz-meta-".concat(S.toLowerCase())]=n.Metadata[S],_},{})),{},((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={},Ob,n[ob]||"application/octet-stream"),$b,n[eb]),Tb,n[tb]),Rb,n[nb]),Mb,n[ab]),Nb,n[ib]),Vb,[function(){return Yr(n[rp])},function(){return n[rp].toString()}]),kh,n[kg]),Ih,n[Ca]),Pc,n[br]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Ic,n[Ar]),Tc,n[Cr]),Rc,n[xr]),Mc,n[Sr]),Bb,[function(){return Yr(n[ap])},function(){return(0,Dc.JV)(n[ap]).toString()}]),jb,n[fb]),Ub,n[gb]),Wb,n[ub]),Qb,n[lb]),Xb,n[cb]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Yb,n[db]),xO,[function(){return Yr(n[Pb])},function(){return n[Pb].toString()}]),ts,n[ro]),nA,n[Kn]),aA,n[Ib]),mu,n[cu]),Kp,n[Vp]),gu,n[du]),ns,n[Hi]),Nl,n[Dl]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,ci,[function(){return Yr(n[ia])},function(){return n[ia].toString()}]),Ml,n[Al]),rA,n[Fl]),Zb,n[yb]),eA,[function(){return Yr(n[Cp])},function(){return z_(n[Cp]).toString()}]),Jb,n[uh]),Rl,n[ll])))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)({},Rh,[,"PutObject"])),void 0!==n.Body&&(d=n.Body),s.m("PUT").h(u).q(l).b(d),h.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),hI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l,d;return(0,He.A)().w(function(p){for(;;)if(0===p.n)return t=Os(n,e),s=(0,Mn.Tj)({},Yr,(0,c.A)((0,c.A)((0,c.A)((0,c.A)({"content-type":"application/xml"},kh,n[kg]),Ih,n[Ca]),Rl,n[ll]),Ml,n[Al])),t.bp("/{Key+}"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),t.p("Key",function(){return n.Key},"{Key+}",!0),u=(0,Mn.Tj)((0,c.A)((0,c.A)({},hO,[,""]),yO,[,n[Zr]])),void 0!==n.Tagging&&(d=Q_(n.Tagging,e),l=Gb,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),l+=d.toString()),t.m("PUT").h(s).q(u).b(l),p.a(2,t.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),vI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l,d;return(0,He.A)().w(function(h){for(;;)if(0===h.n)return s=Os(n,e),u=(0,Mn.Tj)({},Yr,((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={"content-type":"application/octet-stream"},Vb,[function(){return Yr(n[rp])},function(){return n[rp].toString()}]),kh,n[kg]),Ih,n[Ca]),Pc,n[br]),Ic,n[Ar]),Tc,n[Cr]),Rc,n[xr]),Mc,n[Sr]),mu,n[cu]),Kp,n[Vp]),(0,c.A)((0,c.A)((0,c.A)(t,gu,n[du]),Ml,n[Al]),Rl,n[ll]))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)((0,c.A)((0,c.A)({},Rh,[,"UploadPart"]),mO,[null!=(0,Tn.Y0)(n.PartNumber,"PartNumber"),function(){return n[$i].toString()}]),Ph,[,(0,Tn.Y0)(n[To],"UploadId")])),void 0!==n.Body&&(d=n.Body),s.m("PUT").h(u).q(l).b(d),h.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),yI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t;return(0,He.A)().w(function(s){for(;;)switch(s.n){case 0:if(!(204!==n.statusCode&&n.statusCode>=300)){s.n=1;break}return s.a(2,Bs(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)({$metadata:Br(n)},kc,[,n.headers[Nc]])),s.n=2,(0,Zd.P)(n.body,e);case 2:return s.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),_I=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l;return(0,He.A)().w(function(d){for(;;)switch(d.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){d.n=1;break}return d.a(2,Bs(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({$metadata:Br(n)},ba,[,n.headers[qb]]),ro,[,n.headers[ts]]),Zr,[,n.headers[Th]]),Hi,[,n.headers[ns]]),ia,[function(){return void 0!==n.headers[ci]},function(){return(0,Tn.yG)(n.headers[ci])}]),kc,[,n.headers[Nc]])),u=Tn.Y0,l=Tn.Xk,d.n=2,Yd(n.body,e);case 2:return null!=(s=u(l(d.v),"body"))[rr]&&(t[rr]=(0,Tn.lK)(s[rr])),null!=s[br]&&(t[br]=(0,Tn.lK)(s[br])),null!=s[Ar]&&(t[Ar]=(0,Tn.lK)(s[Ar])),null!=s[Cr]&&(t[Cr]=(0,Tn.lK)(s[Cr])),null!=s[xr]&&(t[xr]=(0,Tn.lK)(s[xr])),null!=s[Sr]&&(t[Sr]=(0,Tn.lK)(s[Sr])),null!=s[Tr]&&(t[Tr]=(0,Tn.lK)(s[Tr])),null!=s[Rr]&&(t[Rr]=(0,Tn.lK)(s[Rr])),null!=s[yn]&&(t[yn]=(0,Tn.lK)(s[yn])),null!=s[yl]&&(t[yl]=(0,Tn.lK)(s[yl])),d.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),bI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l,d;return(0,He.A)().w(function(p){for(;;)switch(p.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){p.n=1;break}return p.a(2,Bs(n,e));case 1:return s=(0,Mn.Tj)((t={$metadata:Br(n)},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,OM,[function(){return void 0!==n.headers[Hb]},function(){return(0,Tn.Y0)((0,Dc.xE)(n.headers[Hb]))}]),UM,[,n.headers[_O]]),ro,[,n.headers[ts]]),cu,[,n.headers[mu]]),du,[,n.headers[gu]]),Hi,[,n.headers[ns]]),Dl,[,n.headers[Nl]]),ia,[function(){return void 0!==n.headers[ci]},function(){return(0,Tn.yG)(n.headers[ci])}]),kc,[,n.headers[Nc]]),Ca,[,n.headers[Kb]]),(0,c.A)(t,Tr,[,n.headers[Hp]]))),l=Tn.Y0,d=Tn.Xk,p.n=2,Yd(n.body,e);case 2:return null!=(u=l(d(p.v),"body"))[rr]&&(s[rr]=(0,Tn.lK)(u[rr])),null!=u[yn]&&(s[yn]=(0,Tn.lK)(u[yn])),null!=u[To]&&(s[To]=(0,Tn.lK)(u[To])),p.a(2,s)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),AI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u,l;return(0,He.A)().w(function(d){for(;;)switch(d.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){d.n=1;break}return d.a(2,Bs(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({$metadata:Br(n)},ro,[,n.headers[ts]]),Hi,[,n.headers[ns]]),Dl,[,n.headers[Nl]]),ia,[function(){return void 0!==n.headers[ci]},function(){return(0,Tn.yG)(n.headers[ci])}])),u=Tn.Y0,l=Tn.Xk,d.n=2,Yd(n.body,e);case 2:return null!=(s=u(l(d.v),"body"))[Eg]&&(t[Eg]=hM(s[Eg],e)),d.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),CI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s;return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){u.n=1;break}return u.a(2,Bs(n,e));case 1:return s=(0,Mn.Tj)((t={$metadata:Br(n)},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,ba,[,n.headers[qb]]),Rr,[,n.headers[Lb]]),br,[,n.headers[Pc]]),Ar,[,n.headers[Ic]]),Cr,[,n.headers[Tc]]),xr,[,n.headers[Rc]]),Sr,[,n.headers[Mc]]),Tr,[,n.headers[Hp]]),ro,[,n.headers[ts]]),Zr,[,n.headers[Th]]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,cu,[,n.headers[mu]]),du,[,n.headers[gu]]),Hi,[,n.headers[ns]]),Dl,[,n.headers[Nl]]),ia,[function(){return void 0!==n.headers[ci]},function(){return(0,Tn.yG)(n.headers[ci])}]),Aa,[function(){return void 0!==n.headers[tA]},function(){return(0,Tn.V0)(n.headers[tA])}]),kc,[,n.headers[Nc]]))),u.n=2,(0,Zd.P)(n.body,e);case 2:return u.a(2,s)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),xI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t;return(0,He.A)().w(function(s){for(;;)switch(s.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){s.n=1;break}return s.a(2,Bs(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)({$metadata:Br(n)},Zr,[,n.headers[Th]])),s.n=2,(0,Zd.P)(n.body,e);case 2:return s.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),SI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s;return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){u.n=1;break}return u.a(2,Bs(n,e));case 1:return s=(0,Mn.Tj)((t={$metadata:Br(n)},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,ro,[,n.headers[ts]]),Rr,[,n.headers[Lb]]),br,[,n.headers[Pc]]),Ar,[,n.headers[Ic]]),Cr,[,n.headers[Tc]]),xr,[,n.headers[Rc]]),Sr,[,n.headers[Mc]]),cu,[,n.headers[mu]]),du,[,n.headers[gu]]),Hi,[,n.headers[ns]]),(0,c.A)((0,c.A)(t,ia,[function(){return void 0!==n.headers[ci]},function(){return(0,Tn.yG)(n.headers[ci])}]),kc,[,n.headers[Nc]]))),u.n=2,(0,Zd.P)(n.body,e);case 2:return u.a(2,s)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),Bs=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,l,d,p,_;return(0,He.A)().w(function(S){for(;;)switch(S.n){case 0:return l=g.A,d=(0,g.A)({},n),p={},S.n=1,TP(n.body,e);case 1:t=l(d,p,{body:S.v}),s=RP(n,t.body),S.n="NoSuchUpload"===(_=s)||"com.amazonaws.s3#NoSuchUpload"===_?2:"ObjectNotInActiveTierError"===_||"com.amazonaws.s3#ObjectNotInActiveTierError"===_?4:"BucketAlreadyExists"===_||"com.amazonaws.s3#BucketAlreadyExists"===_?6:"BucketAlreadyOwnedByYou"===_||"com.amazonaws.s3#BucketAlreadyOwnedByYou"===_?8:"NoSuchBucket"===_||"com.amazonaws.s3#NoSuchBucket"===_?10:"InvalidObjectState"===_||"com.amazonaws.s3#InvalidObjectState"===_?12:"NoSuchKey"===_||"com.amazonaws.s3#NoSuchKey"===_?14:"NotFound"===_||"com.amazonaws.s3#NotFound"===_?16:"EncryptionTypeMismatch"===_||"com.amazonaws.s3#EncryptionTypeMismatch"===_?18:"InvalidRequest"===_||"com.amazonaws.s3#InvalidRequest"===_?20:"InvalidWriteOffset"===_||"com.amazonaws.s3#InvalidWriteOffset"===_?22:"TooManyParts"===_||"com.amazonaws.s3#TooManyParts"===_?24:"IdempotencyParameterMismatch"===_||"com.amazonaws.s3#IdempotencyParameterMismatch"===_?26:"ObjectAlreadyInActiveTierError"===_||"com.amazonaws.s3#ObjectAlreadyInActiveTierError"===_?28:30;break;case 2:return S.n=3,NI(t,e);case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 29:throw S.v;case 4:return S.n=5,BI(t,e);case 6:return S.n=7,DI(t,e);case 8:return S.n=9,wI(t,e);case 10:return S.n=11,RI(t,e);case 12:return S.n=13,PI(t,e);case 14:return S.n=15,MI(t,e);case 16:return S.n=17,VI(t,e);case 18:return S.n=19,FI(t,e);case 20:return S.n=21,II(t,e);case 22:return S.n=23,TI(t,e);case 24:return S.n=25,LI(t,e);case 26:return S.n=27,kI(t,e);case 28:return S.n=29,OI(t,e);case 30:return S.a(2,EI({output:n,parsedBody:t.body,errorCode:s}));case 31:return S.a(2)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),EI=(0,LP.j)(Ra),DI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new zP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),wI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new $P((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),FI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new gP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),kI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new _P((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),PI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,s,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),null!=(s=n.body)[Do]&&(t[Do]=(0,Tn.lK)(s[Do])),null!=s[Kn]&&(t[Kn]=(0,Tn.lK)(s[Kn])),u=new WP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),II=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new hP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),TI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new vP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),RI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new HP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),MI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new QP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),NI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new jP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),VI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new XP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),OI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new bP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),BI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new GP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),LI=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e){var t,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new yP((0,g.A)({$metadata:Br(n)},t)),l.a(2,(0,Ta.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),tT=function(r,n){var e=new Qu(ZM);return e.l(r,"Parts","Part",function(){return rT(r[dh],n)}),e},rT=function(r,n){return r.filter(function(e){return null!=e}).map(function(e){var t=function(r){var e=new Qu(rN);return e.cc(r,Rr),e.cc(r,br),e.cc(r,Ar),e.cc(r,Cr),e.cc(r,xr),e.cc(r,Sr),null!=r[$i]&&e.c(Qu.of($i,String(r[$i])).n($i)),e}(e);return t.n(ea)})},Q_=function(r,n){var e=new Qu(Fl);return e.lc(r,"TagSet","TagSet",function(){return Ls(r[lO],n)}),e},Ls=function(r,n){return r.filter(function(e){return null!=e}).map(function(e){return function(r){var e=new Qu(Fn);return null!=r[yn]&&e.c(Qu.of(sh,r[yn]).n(yn)),e.cc(r,li),e}(e).n(Fn)})},hM=function(r,n){var e={};return null!=r[yg]&&(e[yg]=(0,Tn.lK)(r[yg])),null!=r[gh]&&(e[gh]=(0,Tn.lK)(r[gh])),null!=r[bh]&&(e[bh]=(0,Tn.lK)(r[bh])),null!=r[ba]&&(e[ba]=(0,Tn.Y0)((0,Dc.t_)(r[ba]))),e},Br=function(r){var n,e;return{httpStatusCode:r.statusCode,requestId:null!==(n=null!==(e=r.headers["x-amzn-requestid"])&&void 0!==e?e:r.headers["x-amzn-request-id"])&&void 0!==n?n:r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}},eb="ACL",OM="AbortDate",yg="AccessKeyId",UM="AbortRuleId",Do="AccessTier",rr="Bucket",ia="BucketKeyEnabled",Eg="Credentials",Ca="ChecksumAlgorithm",tb="CacheControl",br="ChecksumCRC32",Ar="ChecksumCRC32C",Cr="ChecksumCRC64NVME",nb="ContentDisposition",ab="ContentEncoding",ib="ContentLanguage",rp="ContentLength",kg="ContentMD5",ZM="CompletedMultipartUpload",rN="CompletedPart",xr="ChecksumSHA1",Sr="ChecksumSHA256",Tr="ChecksumType",ob="ContentType",ap="Expires",ll="ExpectedBucketOwner",Rr="ETag",ba="Expiration",ub="GrantFullControl",lb="GrantRead",cb="GrantReadACP",db="GrantWriteACP",fb="IfMatch",mb="IfMatchInitiatedTime",gb="IfNoneMatch",yn="Key",yl="Location",vb="MpuObjectSize",sh="ObjectKey",uh="ObjectLockLegalHoldStatus",yb="ObjectLockMode",Cp="ObjectLockRetainUntilDate",$i="PartNumber",dh="Parts",kc="RequestCharged",Al="RequestPayer",gh="SecretAccessKey",Kn="StorageClass",JV="SessionMode",ro="ServerSideEncryption",cu="SSECustomerAlgorithm",Vp="SSECustomerKey",du="SSECustomerKeyMD5",Dl="SSEKMSEncryptionContext",Hi="SSEKMSKeyId",bh="SessionToken",Aa="Size",Fl="Tagging",lO="TagSet",Fn="Tag",To="UploadId",Zr="VersionId",li="Value",Pb="WriteOffsetBytes",Ib="WebsiteRedirectLocation",Tb="cache-control",Rb="content-disposition",Mb="content-encoding",Nb="content-language",Vb="content-length",kh="content-md5",Ob="content-type",Bb="expires",Lb="etag",jb="if-match",Ub="if-none-match",ea="member",mO="partNumber",gO="session",hO="tagging",vO="uploads",Ph="uploadId",yO="versionId",Gb='<?xml version="1.0" encoding="UTF-8"?>',$b="x-amz-acl",Hb="x-amz-abort-date",_O="x-amz-abort-rule-id",Kb="x-amz-checksum-algorithm",Pc="x-amz-checksum-crc32",Ic="x-amz-checksum-crc32c",Tc="x-amz-checksum-crc64nvme",Rc="x-amz-checksum-sha1",Mc="x-amz-checksum-sha256",bO="x-amz-create-session-mode",Hp="x-amz-checksum-type",qb="x-amz-expiration",Rl="x-amz-expected-bucket-owner",Wb="x-amz-grant-full-control",Qb="x-amz-grant-read",Xb="x-amz-grant-read-acp",Yb="x-amz-grant-write-acp",AO="x-amz-if-match-initiated-time",CO="x-amz-mp-object-size",Jb="x-amz-object-lock-legal-hold",Zb="x-amz-object-lock-mode",eA="x-amz-object-lock-retain-until-date",tA="x-amz-object-size",Nc="x-amz-request-charged",Ml="x-amz-request-payer",nA="x-amz-storage-class",Ih="x-amz-sdk-checksum-algorithm",ts="x-amz-server-side-encryption",ns="x-amz-server-side-encryption-aws-kms-key-id",ci="x-amz-server-side-encryption-bucket-key-enabled",Nl="x-amz-server-side-encryption-context",mu="x-amz-server-side-encryption-customer-algorithm",Kp="x-amz-server-side-encryption-customer-key",gu="x-amz-server-side-encryption-customer-key-md5",rA="x-amz-tagging",Th="x-amz-version-id",xO="x-amz-write-offset-bytes",aA="x-amz-website-redirect-location",Rh="x-id",iA=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),og(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),{applyToStack:function(e){e.add(function eP(){return function(o,r){return function(){var n=(0,Rt.A)((0,He.A)().m(function e(t){var s,u,l;return(0,He.A)().w(function(d){for(;;)if(0===d.n)return Jo.K.isInstance(s=t.request)&&!("content-length"in s.headers)&&!("x-amz-decoded-content-length"in s.headers)&&(l="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.","function"!=typeof(null==r||null===(u=r.logger)||void 0===u?void 0:u.warn)||r.logger instanceof U_.N?console.warn(l):r.logger.warn(l)),d.a(2,o((0,g.A)({},t)))},e)}));return function(e){return n.apply(this,arguments)}}()}}(),tP)}},Ts(n),Xd(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(function(r){return(0,g.A)((0,g.A)((0,g.A)((0,g.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$}),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})},function(r){return(0,g.A)((0,g.A)((0,g.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})}).ser(gI).de(CI).build()),SO=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),Ts(n),Xd(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(function(r){return(0,g.A)((0,g.A)((0,g.A)((0,g.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$}),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})},function(r){return(0,g.A)((0,g.A)((0,g.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})}).ser(fI).de(bI).build()),EO=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),Ts(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(dI).de(yI).build()),DO=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),og(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Ts(n),Xd(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(function(r){return(0,g.A)((0,g.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$})},function(r){return(0,g.A)((0,g.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$})}).ser(vI).de(SI).build()),wO=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),Ts(n),Xd(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(function(r){return(0,g.A)((0,g.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$})},function(r){return(0,g.A)((0,g.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$})}).ser(pI).de(_I).build()),FO=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{Bucket:{type:"contextParams",name:"Bucket"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),og(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Ts(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(hI).de(xI).build()),kO=function(){return(0,m.A)(function o(){(0,v.A)(this,o),(0,c.A)(this,"onabort",null),(0,c.A)(this,"_aborted",!1),Object.defineProperty(this,"_aborted",{value:!1,writable:!0})},[{key:"aborted",get:function(){return this._aborted}},{key:"abort",value:function(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}])}(),PO=function(){return(0,m.A)(function o(){(0,v.A)(this,o),(0,c.A)(this,"signal",new kO)},[{key:"abort",value:function(){this.signal.abort()}}])}(),IO=b(4266),oA=b(71522),Mh=b(44339),rs=b(163),qp=(0,g.A)((0,g.A)({},{lstatSync:function(){},isFileReadStream:function(r){return!1}}),{},{runtime:"browser"}),Wp=function(r){if(null==r)return 0;if("string"==typeof r)return rs.Buffer.byteLength(r);if("number"==typeof r.byteLength)return r.byteLength;if("number"==typeof r.length)return r.length;if("number"==typeof r.size)return r.size;if("number"==typeof r.start&&"number"==typeof r.end)return r.end+1-r.start;if(qp.isFileReadStream(r))try{return qp.lstatSync(r.path).size}catch{return}},Ro=function(o){return o.EMPTY_INPUT="a null or undefined Body",o.CONTENT_LENGTH="the ContentLength property of the params set by the caller",o.STRING_LENGTH="the encoded byte length of the Body string",o.TYPED_ARRAY="the byteLength of a typed byte array such as Uint8Array",o.LENGTH="the value of Body.length",o.SIZE="the value of Body.size",o.START_END_DIFF="the numeric difference between Body.start and Body.end",o.LSTAT="the size of the file given by Body.path on disk as reported by lstatSync",o}(Ro||{}),MO=b(44834);function sA(o,r){this.v=o,this.k=r}function Ea(o){return new sA(o,0)}function ao(o){return function(){return new Vc(o.apply(this,arguments))}}function Vc(o){var r,n;function e(s,u){try{var l=o[s](u),d=l.value,p=d instanceof sA;Promise.resolve(p?d.v:d).then(function(h){if(p){var _="return"===s?"return":"next";if(!d.k||h.done)return e(_,h);h=o[_](h).value}t(l.done?"return":"normal",h)},function(h){e("throw",h)})}catch(h){t("throw",h)}}function t(s,u){switch(s){case"return":r.resolve({value:u,done:!0});break;case"throw":r.reject(u);break;default:r.resolve({value:u,done:!1})}(r=r.next)?e(r.key,r.arg):n=null}this._invoke=function(s,u){return new Promise(function(l,d){var p={key:s,arg:u,resolve:l,reject:d,next:null};n?n=n.next=p:(r=n=p,e(s,u))})},"function"!=typeof o.return&&(this.return=void 0)}function Nh(o,r,n){return Vh.apply(this,arguments)}function Vh(){return(Vh=ao((0,He.A)().m(function o(r,n,e){var t,s,u,l,d,p,h,_,S;return(0,He.A)().w(function(B){for(;;)switch(B.p=B.n){case 0:t=1,s={chunks:[],length:0},u=!1,l=!1,B.p=1,p=Is(e(r));case 2:return B.n=3,Ea(p.next());case 3:if(!(u=!(h=B.v).done)){B.n=7;break}s.chunks.push(_=h.value),s.length+=_.byteLength;case 4:if(!(s.length>n)){B.n=6;break}return S=s.chunks.length>1?rs.Buffer.concat(s.chunks):s.chunks[0],B.n=5,{partNumber:t,data:S.subarray(0,n)};case 5:s.chunks=[S.subarray(n)],s.length=s.chunks[0].byteLength,t+=1,B.n=4;break;case 6:u=!1,B.n=2;break;case 7:B.n=9;break;case 8:B.p=8,l=!0,d=B.v;case 9:if(B.p=9,B.p=10,!u||null==p.return){B.n=11;break}return B.n=11,Ea(p.return());case 11:if(B.p=11,!l){B.n=12;break}throw d;case 12:return B.f(11);case 13:return B.f(9);case 14:return B.n=15,{partNumber:t,data:1!==s.chunks.length?rs.Buffer.concat(s.chunks):s.chunks[0],lastPart:!0};case 15:return B.a(2)}},o,null,[[10,,11,13],[1,8,9,14]])}))).apply(this,arguments)}function uA(o,r){return Oh.apply(this,arguments)}function Oh(){return(Oh=ao((0,He.A)().m(function o(r,n){var e,t,s;return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:e=1,t=0,s=n;case 1:if(!(s<r.byteLength)){u.n=3;break}return u.n=2,{partNumber:e,data:r.subarray(t,s)};case 2:e+=1,s=(t=s)+n,u.n=1;break;case 3:return u.n=4,{partNumber:e,data:r.subarray(t),lastPart:!0};case 4:return u.a(2)}},o)}))).apply(this,arguments)}function NO(o){return Bh.apply(this,arguments)}function Bh(){return(Bh=ao((0,He.A)().m(function o(r){var n,e,t,s,u,l;return(0,He.A)().w(function(p){for(;;)switch(p.p=p.n){case 0:n=!1,e=!1,p.p=1,s=Is(r);case 2:return p.n=3,Ea(s.next());case 3:if(!(n=!(u=p.v).done)){p.n=7;break}if(!(rs.Buffer.isBuffer(l=u.value)||l instanceof Uint8Array)){p.n=5;break}return p.n=4,l;case 4:p.n=6;break;case 5:return p.n=6,rs.Buffer.from(l);case 6:n=!1,p.n=2;break;case 7:p.n=9;break;case 8:p.p=8,e=!0,t=p.v;case 9:if(p.p=9,p.p=10,!n||null==s.return){p.n=11;break}return p.n=11,Ea(s.return());case 11:if(p.p=11,!e){p.n=12;break}throw t;case 12:return p.f(11);case 13:return p.f(9);case 14:return p.a(2)}},o,null,[[10,,11,13],[1,8,9,14]])}))).apply(this,arguments)}function lA(o){return Lh.apply(this,arguments)}function Lh(){return(Lh=ao((0,He.A)().m(function o(r){var n,e,s;return(0,He.A)().w(function(l){for(;;)switch(l.p=l.n){case 0:n=r.getReader(),l.p=1;case 2:return l.n=3,Ea(n.read());case 3:if(s=(e=l.v).value,!e.done){l.n=4;break}return l.a(2);case 4:if(!(rs.Buffer.isBuffer(s)||s instanceof Uint8Array)){l.n=6;break}return l.n=5,s;case 5:l.n=7;break;case 6:return l.n=7,rs.Buffer.from(s);case 7:l.n=2;break;case 8:l.n=10;break;case 9:throw l.p=9,l.v;case 10:return l.p=10,n.releaseLock(),l.f(10);case 11:return l.a(2)}},o,null,[[1,9,10,11]])}))).apply(this,arguments)}Vc.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Vc.prototype.next=function(o){return this._invoke("next",o)},Vc.prototype.throw=function(o){return this._invoke("throw",o)},Vc.prototype.return=function(o){return this._invoke("return",o)};var VO=function(r,n){if(r instanceof Uint8Array)return uA(r,n);if(r instanceof MO.Readable)return Nh(r,n,NO);if(r instanceof String||"string"==typeof r)return uA(rs.Buffer.from(r),n);if("function"==typeof r.stream)return Nh(r.stream(),n,lA);if(r instanceof ReadableStream)return Nh(r,n,lA);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},OO=function(){var o=function(r){function n(e){var t,s,u;if((0,v.A)(this,n),u=(0,w.A)(this,n),(0,c.A)(u,"MAX_PARTS",1e4),(0,c.A)(u,"queueSize",4),(0,c.A)(u,"partSize",void 0),(0,c.A)(u,"leavePartsOnError",!1),(0,c.A)(u,"tags",[]),(0,c.A)(u,"client",void 0),(0,c.A)(u,"params",void 0),(0,c.A)(u,"totalBytes",void 0),(0,c.A)(u,"totalBytesSource",void 0),(0,c.A)(u,"bytesUploadedSoFar",void 0),(0,c.A)(u,"abortController",void 0),(0,c.A)(u,"concurrentUploaders",[]),(0,c.A)(u,"createMultiPartPromise",void 0),(0,c.A)(u,"abortMultipartUploadCommand",null),(0,c.A)(u,"uploadedParts",[]),(0,c.A)(u,"uploadEnqueuedPartsCount",0),(0,c.A)(u,"expectedPartsCount",void 0),(0,c.A)(u,"uploadId",void 0),(0,c.A)(u,"uploadEvent",void 0),(0,c.A)(u,"isMultiPart",!0),(0,c.A)(u,"singleUploadResult",void 0),(0,c.A)(u,"sent",!1),u.queueSize=e.queueSize||u.queueSize,u.leavePartsOnError=e.leavePartsOnError||u.leavePartsOnError,u.tags=e.tags||u.tags,u.client=e.client,u.params=e.params,!u.params)throw new Error("InputError: Upload requires params to be passed to upload.");return u.totalBytes=null!==(t=u.params.ContentLength)&&void 0!==t?t:Wp(u.params.Body),u.totalBytesSource=function(r,n){if(null!=n)return Ro.CONTENT_LENGTH;if(null==r)return Ro.EMPTY_INPUT;if("string"==typeof r)return Ro.STRING_LENGTH;if("number"==typeof r.byteLength)return Ro.TYPED_ARRAY;if("number"==typeof r.length)return Ro.LENGTH;if("number"==typeof r.size)return Ro.SIZE;if("number"==typeof r.start&&"number"==typeof r.end)return Ro.START_END_DIFF;if(qp.isFileReadStream(r))try{return qp.lstatSync(r.path),Ro.LSTAT}catch{return}}(u.params.Body,u.params.ContentLength),u.bytesUploadedSoFar=0,u.abortController=null!==(s=e.abortController)&&void 0!==s?s:new PO,u.partSize=e.partSize||Math.max(n.MIN_PART_SIZE,Math.floor((u.totalBytes||0)/u.MAX_PARTS)),void 0!==u.totalBytes&&(u.expectedPartsCount=Math.ceil(u.totalBytes/u.partSize)),u.__validateInput(),u}return(0,F.A)(n,r),(0,m.A)(n,[{key:"abort",value:(e=(0,Rt.A)((0,He.A)().m(function s(){return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:this.abortController.abort();case 1:return u.a(2)}},s,this)})),function t(){return e.apply(this,arguments)})},{key:"done",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(){return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:if(!this.sent){u.n=1;break}throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");case 1:return this.sent=!0,u.n=2,Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)]);case 2:return u.a(2,u.v)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"on",value:function(t,s){return this.uploadEvent=t,(0,ze.A)(n,"on",this,3)([t,s])}},{key:"__uploadUsingPut",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(u){var d,p,h,_,S,P,B,z,Y,de,ge,be,me,Pe,l=this;return(0,He.A)().w(function(qe){for(;;)switch(qe.n){case 0:return this.isMultiPart=!1,p=(0,g.A)((0,g.A)({},this.params),{},{Body:u.data}),P=function(ot){l.bytesUploadedSoFar=ot.loaded,l.totalBytes=ot.total,l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:u.partNumber,Key:l.params.Key,Bucket:l.params.Bucket})},null!==(S=(_=(h=this.client.config).requestHandler)instanceof Mh.EventEmitter?_:null)&&S.on("xhr.upload.progress",P),qe.n=1,Promise.all([this.client.send(new iA(p)),null==h||null===(d=h.endpoint)||void 0===d?void 0:d.call(h)]);case 1:if(z=(B=qe.v)[0],Y=B[1]){qe.n=3;break}return Pe=IO.a,qe.n=2,(0,oA.r)(p,iA,(0,g.A)({},h));case 2:Y=Pe(qe.v);case 3:if(Y){qe.n=4;break}throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');case 4:null!==S&&S.off("xhr.upload.progress",P),de=this.params.Key.split("/").map(function(dt){return Jd(dt)}).join("/"),ge=Jd(this.params.Bucket),be=function(){var dt=Y.hostname.startsWith("".concat(ge,".")),ot=l.client.config.forcePathStyle,pt=Y.port?":".concat(Y.port):"";return ot?"".concat(Y.protocol,"//").concat(Y.hostname).concat(pt,"/").concat(ge,"/").concat(de):dt?"".concat(Y.protocol,"//").concat(Y.hostname).concat(pt,"/").concat(de):"".concat(Y.protocol,"//").concat(ge,".").concat(Y.hostname).concat(pt,"/").concat(de)}(),this.singleUploadResult=(0,g.A)((0,g.A)({},z),{},{Bucket:this.params.Bucket,Key:this.params.Key,Location:be}),me=Wp(u.data),this.__notifyProgress({loaded:me,total:me,part:1,Key:this.params.Key,Bucket:this.params.Bucket});case 5:return qe.a(2)}},s,this)}));return function t(s){return e.apply(this,arguments)}}()},{key:"__createMultipartUpload",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(){var l,d,u=this;return(0,He.A)().w(function(p){for(;;)switch(p.n){case 0:return p.n=1,this.client.config.requestChecksumCalculation();case 1:return l=p.v,this.createMultiPartPromise||(d=(0,g.A)((0,g.A)({},this.params),{},{Body:void 0}),"WHEN_SUPPORTED"===l&&(d.ChecksumAlgorithm=this.params.ChecksumAlgorithm||"CRC32"),this.createMultiPartPromise=this.client.send(new SO(d)).then(function(h){return u.abortMultipartUploadCommand=new EO({Bucket:u.params.Bucket,Key:u.params.Key,UploadId:h.UploadId}),h})),p.a(2,this.createMultiPartPromise)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"__doConcurrentUpload",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(u){var d,p,h,_,S,P,B,l=this;return(0,He.A)().w(function(Y){for(;;)switch(Y.p=Y.n){case 0:d=!1,p=!1,Y.p=1,_=(0,He.A)().m(function de(){var ge,Pe,qe,dt,ot,pt,Tt;return(0,He.A)().w(function(mt){for(;;)switch(mt.n){case 0:if(ge=B.value,!(l.uploadEnqueuedPartsCount>l.MAX_PARTS)){mt.n=1;break}throw new Error("Exceeded ".concat(l.MAX_PARTS," parts in multipart upload to Bucket: ").concat(l.params.Bucket," Key: ").concat(l.params.Key,"."));case 1:if(!l.abortController.signal.aborted){mt.n=2;break}return mt.a(2,{v:void 0});case 2:if(1!==ge.partNumber||!ge.lastPart){mt.n=4;break}return mt.n=3,l.__uploadUsingPut(ge);case 3:return mt.a(2,{v:mt.v});case 4:if(l.uploadId){mt.n=6;break}return mt.n=5,l.__createMultipartUpload();case 5:if(l.uploadId=mt.v.UploadId,!l.abortController.signal.aborted){mt.n=6;break}return mt.a(2,{v:void 0});case 6:return Pe=Wp(ge.data)||0,ot=0,pt=function(wt,Jt){(Number(Jt.query.partNumber)||-1)===ge.partNumber&&(wt.total&&Pe&&(l.bytesUploadedSoFar+=wt.loaded-ot,ot=wt.loaded),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:ge.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}))},null!==(dt=(qe=l.client.config.requestHandler)instanceof Mh.EventEmitter?qe:null)&&dt.on("xhr.upload.progress",pt),l.uploadEnqueuedPartsCount+=1,l.__validateUploadPart(ge),mt.n=7,l.client.send(new DO((0,g.A)((0,g.A)({},l.params),{},{ContentLength:void 0,UploadId:l.uploadId,Body:ge.data,PartNumber:ge.partNumber})));case 7:if(Tt=mt.v,null!==dt&&dt.off("xhr.upload.progress",pt),!l.abortController.signal.aborted){mt.n=8;break}return mt.a(2,{v:void 0});case 8:if(Tt.ETag){mt.n=9;break}throw new Error("Part ".concat(ge.partNumber," is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?"));case 9:l.uploadedParts.push((0,g.A)((0,g.A)((0,g.A)((0,g.A)({PartNumber:ge.partNumber,ETag:Tt.ETag},Tt.ChecksumCRC32&&{ChecksumCRC32:Tt.ChecksumCRC32}),Tt.ChecksumCRC32C&&{ChecksumCRC32C:Tt.ChecksumCRC32C}),Tt.ChecksumSHA1&&{ChecksumSHA1:Tt.ChecksumSHA1}),Tt.ChecksumSHA256&&{ChecksumSHA256:Tt.ChecksumSHA256})),null===dt&&(l.bytesUploadedSoFar+=Pe),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:ge.partNumber,Key:l.params.Key,Bucket:l.params.Bucket});case 10:return mt.a(2)}},de)}),P=Is(u);case 2:return Y.n=3,P.next();case 3:if(!(d=!(B=Y.v).done)){Y.n=6;break}return Y.d((0,yk.A)(_()),4);case 4:if(!(S=Y.v)){Y.n=5;break}return Y.a(2,S.v);case 5:d=!1,Y.n=2;break;case 6:Y.n=8;break;case 7:Y.p=7,p=!0,h=Y.v;case 8:if(Y.p=8,Y.p=9,!d||null==P.return){Y.n=10;break}return Y.n=10,P.return();case 10:if(Y.p=10,!p){Y.n=11;break}throw h;case 11:return Y.f(10);case 12:return Y.f(8);case 13:return Y.a(2)}},s,null,[[9,,10,12],[1,7,8,13]])}));return function t(s){return e.apply(this,arguments)}}()},{key:"__doMultipartUpload",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(){var u,l,d,p,h,_,S,P,B,z,Y;return(0,He.A)().w(function(de){for(;;)switch(de.n){case 0:for(u=VO(this.params.Body,this.partSize),l=[],d=0;d<this.queueSize;d++)p=this.__doConcurrentUpload(u).catch(function(ge){l.push(ge)}),this.concurrentUploaders.push(p);return de.n=1,Promise.all(this.concurrentUploaders);case 1:if(!(l.length>=1)){de.n=3;break}return de.n=2,this.markUploadAsAborted();case 2:throw l[0];case 3:if(!this.abortController.signal.aborted){de.n=5;break}return de.n=4,this.markUploadAsAborted();case 4:throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});case 5:if(!this.isMultiPart){de.n=8;break}if(S=this.expectedPartsCount,P=this.uploadedParts,z=this.totalBytesSource,void 0===(B=this.totalBytes)||void 0===S||P.length===S){de.n=6;break}throw new Error("Expected ".concat(S," part(s) but uploaded ").concat(P.length," part(s).\nThe expected part count is based on the byte-count of the input.params.Body,\nwhich was read from ").concat(z," and is ").concat(B,".\nIf this is not correct, provide an override value by setting a number\nto input.params.ContentLength in bytes.\n"));case 6:return this.uploadedParts.sort(function(ge,be){return ge.PartNumber-be.PartNumber}),Y=(0,g.A)((0,g.A)({},this.params),{},{Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}}),de.n=7,this.client.send(new wO(Y));case 7:"string"==typeof(null===(_=h=de.v)||void 0===_?void 0:_.Location)&&h.Location.includes("%2F")&&(h.Location=h.Location.replace(/%2F/g,"/")),de.n=9;break;case 8:h=this.singleUploadResult;case 9:if(this.abortMultipartUploadCommand=null,!this.tags.length){de.n=10;break}return de.n=10,this.client.send(new FO((0,g.A)((0,g.A)({},this.params),{},{Tagging:{TagSet:this.tags}})));case 10:return de.a(2,h)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"markUploadAsAborted",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(){return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:if(!this.uploadId||this.leavePartsOnError||null===this.abortMultipartUploadCommand){u.n=2;break}return u.n=1,this.client.send(this.abortMultipartUploadCommand);case 1:this.abortMultipartUploadCommand=null;case 2:return u.a(2)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"__notifyProgress",value:function(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}},{key:"__abortTimeout",value:function(){var e=(0,Rt.A)((0,He.A)().m(function s(u){return(0,He.A)().w(function(l){for(;;)if(0===l.n)return l.a(2,new Promise(function(d,p){u.onabort=function(){var h=new Error("Upload aborted.");h.name="AbortError",p(h)}}))},s)}));return function t(s){return e.apply(this,arguments)}}()},{key:"__validateUploadPart",value:function(t){var s=Wp(t.data);if(void 0===s)throw new Error("A dataPart was generated without a measurable data chunk size for part number ".concat(t.partNumber));if(!(1===t.partNumber&&t.lastPart||t.lastPart||s===this.partSize))throw new Error("The byte size for part number ".concat(t.partNumber,", size ").concat(s," does not match expected size ").concat(this.partSize))}},{key:"__validateInput",value:function(){if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<n.MIN_PART_SIZE)throw new Error("EntityTooSmall: Your proposed upload part size [".concat(this.partSize,"] is smaller than the minimum allowed size [").concat(n.MIN_PART_SIZE,"] (5MB)"));if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}}]);var e}(Mh.EventEmitter);return(0,c.A)(o,"MIN_PART_SIZE",5242880),o}(),jh=function(o){function r(n){var e,t,s,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,v.A)(this,r);var l,d=!0;if("boolean"==typeof u)l=void 0,d=u;else if(null!=u&&"object"==typeof u){var p;l=u.logger,d=null===(p=u.tryNextLink)||void 0===p||p}return s=(0,w.A)(this,r,[n]),(0,c.A)(s,"name","ProviderError"),(0,c.A)(s,"tryNextLink",void 0),s.tryNextLink=d,Object.setPrototypeOf(s,r.prototype),null===(e=l)||void 0===e||null===(t=e.debug)||void 0===t||t.call(e,"@smithy/property-provider ".concat(d?"->":"(!)"," ").concat(n)),s}return(0,F.A)(r,o),(0,m.A)(r,null,[{key:"from",value:function(e){return Object.assign(new this(e.message,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e)}}])}((0,V.A)(Error)),Qp=function(o){function r(n){var e,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,v.A)(this,r),e=(0,w.A)(this,r,[n,t]),(0,c.A)(e,"name","CredentialsProviderError"),Object.setPrototypeOf(e,r.prototype),e}return(0,F.A)(r,o),(0,m.A)(r)}(jh);function cA(o){return Promise.all(Object.keys(o).reduce(function(r,n){var e=o[n];return r.push("string"==typeof e?[n,e]:e().then(function(t){return[n,t]})),r},[])).then(function(r){return r.reduce(function(n,e){var t=(0,k.A)(e,2);return n[t[0]]=t[1],n},{})})}function BO(o){return function(){var r=(0,Rt.A)((0,He.A)().m(function n(e){var t,s,u,l,d,p,h,S,P,B,z,Y,de,ge,me,Pe,qe,dt,ot,Tt;return(0,He.A)().w(function(Lt){for(;;)switch(Lt.n){case 0:return null===(t=o.logger)||void 0===t||t.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity"),Lt.n=1,b.e(4143).then(b.bind(b,34143));case 1:if(d=(l=Lt.v).GetCredentialsForIdentityCommand,p=l.CognitoIdentityClient,h=function(yt){var wt,Jt,tn,Yn,Wr;return null!==(wt=null!==(Jt=null===(tn=o.clientConfig)||void 0===tn?void 0:tn[yt])&&void 0!==Jt?Jt:null===(Yn=o.parentClientConfig)||void 0===Yn?void 0:Yn[yt])&&void 0!==wt?wt:null==e||null===(Wr=e.callerClientConfig)||void 0===Wr?void 0:Wr[yt]},me=null!==(s=o.client)&&void 0!==s?s:new p(Object.assign({},null!==(u=o.clientConfig)&&void 0!==u?u:{},{region:h("region"),profile:h("profile")})),Pe=d,qe=o.customRoleArn,dt=o.identityId,!o.logins){Lt.n=3;break}return Lt.n=2,cA(o.logins);case 2:ot=Lt.v,Lt.n=4;break;case 3:ot=void 0;case 4:return Tt={CustomRoleArn:qe,IdentityId:dt,Logins:ot},Lt.n=5,me.send.call(me,new Pe(Tt));case 5:return P=void 0===(S=Lt.v.Credentials)?jO(o.logger):S,z=void 0===(B=P.AccessKeyId)?LO(o.logger):B,Y=P.Expiration,ge=void 0===(de=P.SecretKey)?UO(o.logger):de,Lt.a(2,{identityId:o.identityId,accessKeyId:z,secretAccessKey:ge,sessionToken:P.SessionToken,expiration:Y})}},n)}));return function(n){return r.apply(this,arguments)}}()}function LO(o){throw new Qp("Response from Amazon Cognito contained no access key ID",{logger:o})}function jO(o){throw new Qp("Response from Amazon Cognito contained no credentials",{logger:o})}function UO(o){throw new Qp("Response from Amazon Cognito contained no secret key",{logger:o})}var Uh="IdentityIds",GO=function(){return(0,m.A)(function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws:cognito-identity-ids";(0,v.A)(this,o),(0,c.A)(this,"dbName",void 0),this.dbName=r},[{key:"getItem",value:function(n){return this.withObjectStore("readonly",function(e){var t=e.get(n);return new Promise(function(s){t.onerror=function(){return s(null)},t.onsuccess=function(){return s(t.result?t.result.value:null)}})}).catch(function(){return null})}},{key:"removeItem",value:function(n){return this.withObjectStore("readwrite",function(e){var t=e.delete(n);return new Promise(function(s,u){t.onerror=function(){return u(t.error)},t.onsuccess=function(){return s()}})})}},{key:"setItem",value:function(n,e){return this.withObjectStore("readwrite",function(t){var s=t.put({id:n,value:e});return new Promise(function(u,l){s.onerror=function(){return l(s.error)},s.onsuccess=function(){return u()}})})}},{key:"getDb",value:function(){var n=self.indexedDB.open(this.dbName,1);return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)},n.onblocked=function(){t(new Error("Unable to access DB"))},n.onupgradeneeded=function(){var s=n.result;s.onerror=function(){t(new Error("Failed to create object store"))},s.createObjectStore(Uh,{keyPath:"id"})}})}},{key:"withObjectStore",value:function(n,e){return this.getDb().then(function(t){var s=t.transaction(Uh,n);return s.oncomplete=function(){return t.close()},new Promise(function(u,l){s.onerror=function(){return l(s.error)},u(e(s.objectStore(Uh)))}).catch(function(u){throw t.close(),u})})}}])}(),zO=function(){return(0,m.A)(function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,v.A)(this,o),(0,c.A)(this,"store",void 0),this.store=r},[{key:"getItem",value:function(n){return n in this.store?this.store[n]:null}},{key:"removeItem",value:function(n){delete this.store[n]}},{key:"setItem",value:function(n,e){this.store[n]=e}}])}(),$O=new zO;function Gh(o){var r=o.accountId,n=o.cache,e=void 0===n?function HO(){return"object"==typeof self&&self.indexedDB?new GO:"object"==typeof window&&window.localStorage?window.localStorage:$O}():n,t=o.client,s=o.clientConfig,u=o.customRoleArn,l=o.identityPoolId,d=o.logins,p=o.userIdentifier,h=void 0===p?d&&0!==Object.keys(d).length?void 0:"ANONYMOUS":p,_=o.logger,S=o.parentClientConfig;_?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");var P=h?"aws:cognito-identity-credentials:".concat(l,":").concat(h):void 0,B=function(){var z=(0,Rt.A)((0,He.A)().m(function Y(de){var ge,be,me,Pe,qe,dt,pt,Tt,Lt,mt,yt,wt,Jt,tn,Wr;return(0,He.A)().w(function(Hn){for(;;)switch(Hn.n){case 0:return Hn.n=1,b.e(4143).then(b.bind(b,34143));case 1:if(be=(ge=Hn.v).GetIdCommand,me=ge.CognitoIdentityClient,Pe=function(Oi){var Ua,yo,oc;return null!==(Ua=null!==(yo=s?.[Oi])&&void 0!==yo?yo:S?.[Oi])&&void 0!==Ua?Ua:null==de||null===(oc=de.callerClientConfig)||void 0===oc?void 0:oc[Oi]},qe=t??new me(Object.assign({},s??{},{region:Pe("region"),profile:Pe("profile")})),!(Lt=P)){Hn.n=3;break}return Hn.n=2,e.getItem(P);case 2:Lt=Hn.v;case 3:if(dt=Lt){Hn.n=8;break}if(mt=qe,yt=be,wt=r,Jt=l,!d){Hn.n=5;break}return Hn.n=4,cA(d);case 4:tn=Hn.v,Hn.n=6;break;case 5:tn=void 0;case 6:return Wr={AccountId:wt,IdentityPoolId:Jt,Logins:tn},Hn.n=7,mt.send.call(mt,new yt(Wr));case 7:Tt=void 0===(pt=Hn.v.IdentityId)?KO(_):pt,dt=Tt,P&&Promise.resolve(e.setItem(P,dt)).catch(function(){});case 8:return B=BO({client:qe,customRoleArn:u,logins:d,identityId:dt}),Hn.a(2,B(de))}},Y)}));return function(de){return z.apply(this,arguments)}}();return function(z){return B(z).catch(function(){var Y=(0,Rt.A)((0,He.A)().m(function de(ge){return(0,He.A)().w(function(be){for(;;)switch(be.n){case 0:throw P&&Promise.resolve(e.removeItem(P)).catch(function(){}),ge;case 1:return be.a(2)}},de)}));return function(de){return Y.apply(this,arguments)}}())}}function KO(o){throw new Qp("Response from Amazon Cognito contained no identity ID",{logger:o})}var zh=b(29554),WO={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Xp=b(46887),dA=b(96539),YO=b(65337),JO=b(54931);function ZO(o){var r=Object(o),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}}var e4=function(){var o=function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,v.A)(this,r),(0,c.A)(this,"data",void 0),(0,c.A)(this,"lastPurgeTime",Date.now()),this.data=n}return(0,m.A)(r,[{key:"get",value:function(e){var t=this.data[e];if(t)return t}},{key:"set",value:function(e,t){return this.data[e]=t,t}},{key:"delete",value:function(e){delete this.data[e]}},{key:"purgeExpired",value:(n=(0,Rt.A)((0,He.A)().m(function t(){var s,u,l,d,p,h;return(0,He.A)().w(function(_){for(;;)switch(_.n){case 0:if(s=Date.now(),!(this.lastPurgeTime+r.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>s)){_.n=1;break}return _.a(2);case 1:p=ZO(this.data);case 2:if((h=p()).done){_.n=5;break}if((l=this.data[u=h.value]).isRefreshing){_.n=4;break}return _.n=3,l.identity;case 3:(d=_.v).expiration&&d.expiration.getTime()<s&&delete this.data[u];case 4:_.n=2;break;case 5:return _.a(2)}},t,this)})),function e(){return n.apply(this,arguments)})}]);var n}();return(0,c.A)(o,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4),o}(),$h=function(){return(0,m.A)(function o(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();(0,v.A)(this,o),(0,c.A)(this,"_identity",void 0),(0,c.A)(this,"isRefreshing",void 0),(0,c.A)(this,"accessed",void 0),this._identity=r,this.isRefreshing=n,this.accessed=e},[{key:"identity",get:function(){return this.accessed=Date.now(),this._identity}}])}(),t4=function(){var o=function(){function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e4;(0,v.A)(this,r),(0,c.A)(this,"createSessionFn",void 0),(0,c.A)(this,"cache",void 0),this.createSessionFn=n,this.cache=e}return(0,m.A)(r,[{key:"getS3ExpressIdentity",value:(n=(0,Rt.A)((0,He.A)().m(function t(s,u){var d,p,h,l=this;return(0,He.A)().w(function(_){for(;;)switch(_.n){case 0:if(!(h=(p=this.cache).get(d=u.Bucket))){_.n=1;break}return _.a(2,h.identity.then(function(S){var P,B,z,Y;return(null!==(P=null===(B=S.expiration)||void 0===B?void 0:B.getTime())&&void 0!==P?P:0)<Date.now()?p.set(d,new $h(l.getIdentity(d))).identity:((null!==(z=null===(Y=S.expiration)||void 0===Y?void 0:Y.getTime())&&void 0!==z?z:0)<Date.now()+r.REFRESH_WINDOW_MS&&!h.isRefreshing&&(h.isRefreshing=!0,l.getIdentity(d).then(function(be){p.set(d,new $h(Promise.resolve(be)))})),S)}));case 1:return _.a(2,p.set(d,new $h(this.getIdentity(d))).identity)}},t,this)})),function e(t,s){return n.apply(this,arguments)})},{key:"getIdentity",value:function(){var n=(0,Rt.A)((0,He.A)().m(function t(s){var u,l,d,p;return(0,He.A)().w(function(h){for(;;)switch(h.n){case 0:return h.n=1,this.cache.purgeExpired().catch(function(_){console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+_)});case 1:return h.n=2,this.createSessionFn(s);case 2:if(null!==(u=(d=h.v).Credentials)&&void 0!==u&&u.AccessKeyId&&null!==(l=d.Credentials)&&void 0!==l&&l.SecretAccessKey){h.n=3;break}throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");case 3:return p={accessKeyId:d.Credentials.AccessKeyId,secretAccessKey:d.Credentials.SecretAccessKey,sessionToken:d.Credentials.SessionToken,expiration:d.Credentials.Expiration?new Date(d.Credentials.Expiration):void 0},h.a(2,p)}},t,this)}));return function e(t){return n.apply(this,arguments)}}()}]);var n}();return(0,c.A)(o,"REFRESH_WINDOW_MS",6e4),o}(),r4=function(r){return"string"==typeof r&&0===r.indexOf("arn:")&&r.split(":").length>=6},o4={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},u4={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},d4={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},f4={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Hh=(b(80694),b(62734),"X-Amz-S3session-Token"),Kh=Hh.toLowerCase(),A4={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},mA=b(37957),qh=b(13928),x4=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e,t,s){var u;return(0,He.A)().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,s.signWithCredentials(t,n,{});case 1:if(!(u=l.v).headers["X-Amz-Security-Token"]&&!u.headers["x-amz-security-token"]){l.n=2;break}throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");case 2:return l.a(2,u)}},r)}));return function(n,e,t,s){return o.apply(this,arguments)}}(),S4=function(r){return function(n){throw n}},E4=function(r,n){},F4=b(98027),k4=b(15997),P4=b(54308),I4=b(27111),T4=b(48944),M4=b(13909),N4=b(42855),V4=b(61795),O4=b(6811),B4=b(36977),gA=b(88051),L4=b(97763),j4=b(43971),z4=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r,[{key:"signWithCredentials",value:(n=(0,Rt.A)((0,He.A)().m(function t(s,u,l){var d,p;return(0,He.A)().w(function(h){for(;;)if(0===h.n)return d=hA(u),s.headers[Kh]=u.sessionToken,vA(p=this,d),h.a(2,p.signRequest(s,l??{}))},t,this)})),function e(t,s,u){return n.apply(this,arguments)})},{key:"presignWithCredentials",value:function(){var n=(0,Rt.A)((0,He.A)().m(function t(s,u,l){var d,p;return(0,He.A)().w(function(_){for(;;)if(0===_.n)return p=hA(u),delete s.headers[Kh],s.headers[Hh]=u.sessionToken,s.query=null!==(d=s.query)&&void 0!==d?d:{},s.query[Hh]=u.sessionToken,vA(this,p),_.a(2,this.presign(s,l))},t,this)}));return function e(t,s,u){return n.apply(this,arguments)}}()}]);var n}(b(60324).B);function hA(o){return{accessKeyId:o.accessKeyId,secretAccessKey:o.secretAccessKey,expiration:o.expiration}}function vA(o,r){var n=setTimeout(function(){throw new Error("SignatureV4S3Express credential override was created but not called.")},10),e=o.credentialProvider;o.credentialProvider=function(){return clearTimeout(n),o.credentialProvider=e,Promise.resolve(r)}}var _A=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"sigv4aSigner",void 0),(0,c.A)(this,"sigv4Signer",void 0),(0,c.A)(this,"signerOptions",void 0),this.sigv4Signer=new z4(r),this.signerOptions=r},[{key:"sign",value:(r=(0,Rt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,He.A)().m(function u(){return(0,He.A)().w(function(l){for(;;)switch(l.n){case 0:if("*"!==s.signingRegion){l.n=1;break}return l.a(2,t.getSigv4aSigner().sign(e,s));case 1:return l.a(2,t.sigv4Signer.sign(e,s))}},u)})()}),function n(e){return r.apply(this,arguments)})},{key:"signWithCredentials",value:function(){var r=(0,Rt.A)(function(e,t){var s=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,He.A)().m(function l(){var d;return(0,He.A)().w(function(h){for(;;)switch(h.n){case 0:if("*"!==u.signingRegion){h.n=2;break}if(d=s.getSigv4aSigner(),!(null&&d instanceof null)){h.n=1;break}return h.a(2,d.signWithCredentials(e,t,u));case 1:throw new Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case 2:return h.a(2,s.sigv4Signer.signWithCredentials(e,t,u))}},l)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"presign",value:function(){var r=(0,Rt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,He.A)().m(function u(){var l;return(0,He.A)().w(function(p){for(;;)switch(p.n){case 0:if("*"!==s.signingRegion){p.n=2;break}if(l=t.getSigv4aSigner(),!(null&&l instanceof null)){p.n=1;break}return p.a(2,l.presign(e,s));case 1:throw new Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case 2:return p.a(2,t.sigv4Signer.presign(e,s))}},u)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"presignWithCredentials",value:function(){var r=(0,Rt.A)(function(e,t){var s=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,He.A)().m(function l(){return(0,He.A)().w(function(d){for(;;)switch(d.n){case 0:if("*"!==u.signingRegion){d.n=1;break}throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");case 1:return d.a(2,s.sigv4Signer.presignWithCredentials(e,t,u))}},l)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"getSigv4aSigner",value:function(){if(!this.sigv4aSigner){var n=null,e=null;if("node"===this.signerOptions.runtime){if(!n&&!e)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(n&&"function"==typeof n)this.sigv4aSigner=new n((0,g.A)((0,g.A)({},this.signerOptions),{},{signingAlgorithm:1}));else{if(!e||"function"!=typeof e)throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");this.sigv4aSigner=new e((0,g.A)({},this.signerOptions))}}else{if(!e||"function"!=typeof e)throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new e((0,g.A)({},this.signerOptions))}}return this.sigv4aSigner}}],[{key:"sigv4aDependency",value:function(){return"none"}}]);var r}(),$4=b(92553),H4=b(64585),K4=b(67227),q4=b(71440),Wh="required",Oe="type",Ct="rules",Qe="conditions",ut="fn",lt="argv",Yt="ref",_n="assign",$t="url",Ht="properties",hu="backend",Da="authSchemes",sa="disableDoubleEncoding",ua="signingName",Va="signingRegion",Kt="headers",Qh="signingRegionSet",io=!0,di="isSet",Lr="booleanEquals",Gt="error",Jp="aws.partition",On="stringEquals",kr="getAttr",jr="name",ar="substring",bA="bucketSuffix",Xh="parseURL",Mt="endpoint",xt="tree",Zp="aws.isVirtualHostableS3Bucket",ef="{url#scheme}://{Bucket}.{url#authority}{url#path}",oo="not",AA="accessPointSuffix",tf="{url#scheme}://{url#authority}{url#path}",CA="hardwareType",xA="regionPrefix",SA="bucketAliasSuffix",Yh="outpostId",vu="isValidHostLabel",Jh="sigv4a",Oc="s3-outposts",Vl="s3",EA="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",DA="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",wA="https://{Bucket}.s3.{partitionResult#dnsSuffix}",FA="aws.parseArn",kA="bucketArn",PA="arnType",Zh="s3-object-lambda",IA="accesspoint",ev="accessPointName",TA="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",RA="mrapPartition",MA="outpostType",NA="arnPrefix",VA="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",OA="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",BA="https://s3.{partitionResult#dnsSuffix}",Ol=(0,c.A)((0,c.A)({},Wh,!1),Oe,"String"),Bl=(0,c.A)((0,c.A)((0,c.A)({},Wh,!0),"default",!1),Oe,"Boolean"),Bc=(0,c.A)((0,c.A)({},Wh,!1),Oe,"Boolean"),Pi=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"Accelerate"),!0]),pr=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseFIPS"),!0]),ir=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseDualStack"),!0]),Ur=(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"Endpoint")]),LA=(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,[(0,c.A)({},Yt,"Region")]),_n,"partitionResult"),jA=(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"partitionResult"),jr]),"aws-cn"]),Lc=(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"Bucket")]),Nn=(0,c.A)({},Yt,"Bucket"),UA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir]),Gt,"S3Express does not support Dual-stack."),Oe,Gt),GA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pi]),Gt,"S3Express does not support S3 Accelerate."),Oe,Gt),zA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,(0,c.A)((0,c.A)((0,c.A)({},ut,Xh),lt,[(0,c.A)({},Yt,"Endpoint")]),_n,"url")]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth"),!0])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"url"),"isIp"]),!0])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,"uriEncode"),lt,[Nn]),_n,"uri_encoded_bucket")]),Ct,[(0,c.A)((0,c.A)({},Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}"),Ht,(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,"s3express"),Va,"{Region}")])),Kt,{})),Oe,Mt)]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,!1])]),Ct,[(0,c.A)((0,c.A)({},Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,ef),Ht,(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,"s3express"),Va,"{Region}")])),Kt,{})),Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)({},Gt,"S3Express bucket name is not a valid virtual hostable name."),Oe,Gt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"url"),"isIp"]),!0])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,"uriEncode"),lt,[Nn]),_n,"uri_encoded_bucket")]),Ct,[(0,c.A)((0,c.A)({},Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}"),Ht,(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Va,"{Region}")])),Kt,{})),Oe,Mt)]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,!1])]),Ct,[(0,c.A)((0,c.A)({},Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,ef),Ht,(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Va,"{Region}")])),Kt,{})),Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)({},Gt,"S3Express bucket name is not a valid virtual hostable name."),Oe,Gt)]),Oe,xt),Oa=(0,c.A)((0,c.A)((0,c.A)({},ut,Xh),lt,[(0,c.A)({},Yt,"Endpoint")]),_n,"url"),tv=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"url"),"isIp"]),!0]),$A=(0,c.A)({},Yt,"url"),HA=(0,c.A)((0,c.A)((0,c.A)({},ut,"uriEncode"),lt,[Nn]),_n,"uri_encoded_bucket"),yu=(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,"s3express"),Va,"{Region}")]),mn={},KA=(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,!1]),qA=(0,c.A)((0,c.A)({},Gt,"S3Express bucket name is not a valid virtual hostable name."),Oe,Gt),WA=(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"UseS3ExpressControlEndpoint")]),QA=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseS3ExpressControlEndpoint"),!0]),gn=(0,c.A)((0,c.A)({},ut,oo),lt,[Ur]),rf=(0,c.A)((0,c.A)({},Gt,"Unrecognized S3Express bucket name format."),Oe,Gt),XA=(0,c.A)((0,c.A)({},ut,oo),lt,[Lc]),YA=(0,c.A)({},Yt,CA),JA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[gn]),Gt,"Expected a endpoint to be specified but no endpoint was found"),Oe,Gt),af=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,Jh),ua,Oc),Qh,["*"]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Oc),Va,"{Region}")]),nv=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"ForcePathStyle"),!1]),X4=(0,c.A)({},Yt,"ForcePathStyle"),Hr=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"Accelerate"),!1]),ta=(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"Region"),"aws-global"]),la=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Vl),Va,"us-east-1")]),Rn=(0,c.A)((0,c.A)({},ut,oo),lt,[ta]),ca=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseGlobalEndpoint"),!0]),ZA=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),Ht,(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Vl),Va,"{Region}")])),Kt,{}),Kr=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Vl),Va,"{Region}")]),da=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseGlobalEndpoint"),!1]),Pn=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseDualStack"),!1]),eC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),xn=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseFIPS"),!1]),tC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),nC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),rv=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[$A,"isIp"]),!1]),av=(0,c.A)((0,c.A)((0,c.A)({},$t,EA),Ht,Kr),Kt,{}),iv=(0,c.A)((0,c.A)((0,c.A)({},$t,ef),Ht,Kr),Kt,{}),rC=(0,c.A)((0,c.A)({},Mt,iv),Oe,Mt),ov=(0,c.A)((0,c.A)((0,c.A)({},$t,DA),Ht,Kr),Kt,{}),aC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),sf=(0,c.A)((0,c.A)({},Gt,"Invalid region: region was not a valid DNS name."),Oe,Gt),Qa=(0,c.A)({},Yt,kA),iC=(0,c.A)({},Yt,PA),sv=(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"service"]),uv=(0,c.A)({},Yt,ev),oC=(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir]),Gt,"S3 Object Lambda does not support Dual-stack"),Oe,Gt),sC=(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pi]),Gt,"S3 Object Lambda does not support S3 Accelerate"),Oe,Gt),uC=(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"DisableAccessPoints")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableAccessPoints"),!0])]),Gt,"Access points are not supported for this operation"),Oe,Gt),lv=(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"UseArnRegion")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseArnRegion"),!1]),(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"region"]),"{Region}"])])]),Gt,"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`"),Oe,Gt),lC=(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"bucketPartition"),jr]),cC=(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"accountId"]),cv=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Zh),Va,"{bucketArn#region}")]),dC=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`"),Oe,Gt),dv=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`"),Oe,Gt),pv=(0,c.A)((0,c.A)({},Gt,"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)"),Oe,Gt),fv=(0,c.A)((0,c.A)({},Gt,"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`"),Oe,Gt),pC=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`."),Oe,Gt),fC=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided"),Oe,Gt),jc=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Vl),Va,"{bucketArn#region}")]),mC=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,Jh),ua,Oc),Qh,["*"]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Oc),Va,"{bucketArn#region}")]),gC=(0,c.A)((0,c.A)({},ut,FA),lt,[Nn]),hC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,Kr),Kt,{}),vC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,Kr),Kt,{}),yC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,Kr),Kt,{}),mv=(0,c.A)((0,c.A)((0,c.A)({},$t,VA),Ht,Kr),Kt,{}),_C=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,Kr),Kt,{}),bC=(0,c.A)({},Yt,"UseObjectLambdaEndpoint"),gv=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Zh),Va,"{Region}")]),AC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),CC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),xC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),hv=(0,c.A)((0,c.A)((0,c.A)({},$t,tf),Ht,Kr),Kt,{}),SC=(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3.{Region}.{partitionResult#dnsSuffix}"),Ht,Kr),Kt,{}),vv=[(0,c.A)({},Yt,"Region")],Y4=[(0,c.A)({},Yt,"Endpoint")],J4=[Nn],EC=[ir],yv=[Pi],Ll=[Ur,Oa],DC=[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth"),!0])],Z4=[HA],wC=[KA],Ii=[LA],jl=[pr],FC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,6,14,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,14,16,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],so=[(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr]),Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Ht,yu),Kt,{})),Oe,Mt),(0,c.A)((0,c.A)({},Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Ht,yu),Kt,{})),Oe,Mt)],kC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,6,15,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,15,17,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],PC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,6,19,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,19,21,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],IC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,6,20,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,20,22,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],TC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,6,26,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,26,28,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],uo=[(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr]),Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Ht,(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Va,"{Region}")])),Kt,{})),Oe,Mt),(0,c.A)((0,c.A)({},Mt,(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Ht,(0,c.A)((0,c.A)({},hu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Va,"{Region}")])),Kt,{})),Oe,Mt)],RC=[Nn,0,7,!0],MC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,7,15,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,15,17,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],NC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,7,16,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,16,18,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],VC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,7,20,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,20,22,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],OC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,7,21,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,21,23,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],BC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,7,27,!0]),_n,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,27,29,!0]),_n,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],eB=[Lc],LC=[(0,c.A)((0,c.A)({},ut,vu),lt,[(0,c.A)({},Yt,Yh),!1])],jC=[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,xA),"beta"])],UC=[(0,c.A)((0,c.A)({},ut,vu),lt,[(0,c.A)({},Yt,"Region"),!1])],as=[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"Region"),"us-east-1"])],_v=[(0,c.A)((0,c.A)({},ut,On),lt,[iC,IA])],GC=[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"resourceId[1]"]),_n,ev),(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[uv,""])])],nB=[Qa,"resourceId[1]"],bv=[(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"region"]),""])])],zC=[(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"resourceId[2]"])])])],rB=[Qa,"resourceId[2]"],Av=[(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"region"])]),_n,"bucketPartition")],$C=[(0,c.A)((0,c.A)({},ut,On),lt,[lC,(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"partitionResult"),jr])])],Cv=[(0,c.A)((0,c.A)({},ut,vu),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"region"]),!0])],xv=[(0,c.A)((0,c.A)({},ut,vu),lt,[cC,!1])],HC=[(0,c.A)((0,c.A)({},ut,vu),lt,[uv,!1])],KC=[(0,c.A)((0,c.A)({},ut,vu),lt,[(0,c.A)({},Yt,"Region"),!0])],iB=(0,c.A)({version:"1.0",parameters:{Bucket:Ol,Region:Ol,UseFIPS:Bl,UseDualStack:Bl,Endpoint:Ol,ForcePathStyle:Bl,Accelerate:Bl,UseGlobalEndpoint:Bl,UseObjectLambdaEndpoint:Bc,Key:Ol,Prefix:Ol,CopySource:Ol,DisableAccessPoints:Bc,DisableMultiRegionAccessPoints:Bl,UseArnRegion:Bc,UseS3ExpressControlEndpoint:Bc,DisableS3ExpressSessionAuth:Bc}},Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,di),lt,vv)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pi,pr]),"error","Accelerate cannot be used with FIPS"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,Ur]),"error","Cannot set dual-stack in combination with a custom endpoint."),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,pr]),"error","A custom endpoint cannot be combined with FIPS"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,Pi]),"error","A custom endpoint cannot be combined with S3 Accelerate"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,LA,jA]),"error","Partition does not support FIPS"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Lc,(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,0,6,io]),_n,bA),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,bA),"--x-s3"])]),Ct,[UA,GA,zA,(0,c.A)((0,c.A)((0,c.A)({},Qe,[WA,QA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[HA,gn]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,jl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,yu),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,yu),Kt,mn)},Oe,Mt)]),Oe,xt)]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,wC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,DC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,FC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,kC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,PC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,IC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,TC),Ct,so),Oe,xt),rf]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,FC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,kC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,PC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,IC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,TC),Ct,uo),Oe,xt),rf]),Oe,xt)]),Oe,xt),qA]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Lc,(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,RC),_n,AA),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,AA),"--xa-s3"])]),Ct,[UA,GA,zA,(0,c.A)((0,c.A)((0,c.A)({},Qe,wC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,DC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,MC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,NC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,VC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,OC),Ct,so),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,BC),Ct,so),Oe,xt),rf]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,MC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,NC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,VC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,OC),Ct,uo),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,BC),Ct,uo),Oe,xt),rf]),Oe,xt)]),Oe,xt),qA]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[XA,WA,QA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ll),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,tf),Ht,yu),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,jl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}"),Ht,yu),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3express-control.{Region}.{partitionResult#dnsSuffix}"),Ht,yu),Kt,mn)},Oe,Mt)]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Lc,(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,49,50,io]),_n,CA),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,8,12,io]),_n,xA),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,RC),_n,SA),(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,32,49,io]),_n,Yh),(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,vv),_n,"regionPartition"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,SA),"--op-s3"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,LC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[YA,"e"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,jC),Ct,[JA,(0,c.A)((0,c.A)((0,c.A)({},Qe,Ll),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.ec2.{url#authority}"),Ht,af),Kt,mn)),Oe,Mt)]),Oe,xt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),Ht,af),Kt,mn)},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[YA,"o"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,jC),Ct,[JA,(0,c.A)((0,c.A)((0,c.A)({},Qe,Ll),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.op-{outpostId}.{url#authority}"),Ht,af),Kt,mn)),Oe,Mt)]),Oe,xt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),Ht,af),Kt,mn)},Oe,Mt)]),Oe,xt),(0,c.A)({error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"'},Oe,Gt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`."},Oe,Gt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,eB),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)((0,c.A)({},ut,Xh),lt,Y4)])])]),"error","Custom endpoint `{Endpoint}` was not a valid URI"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[nv,KA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,UC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pi,jA]),"error","S3 Accelerate cannot be used in this region"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,pr,Hr,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,pr,Hr,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:ZA},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,pr,Hr,gn,Rn,da]),"endpoint",ZA),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,pr,Hr,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,pr,Hr,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:eC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,pr,Hr,gn,Rn,da]),"endpoint",eC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,xn,Pi,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,xn,Pi,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:tC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,xn,Pi,gn,Rn,da]),"endpoint",tC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,xn,Hr,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,xn,Hr,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:nC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,xn,Hr,gn,Rn,da]),"endpoint",nC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,Ur,Oa,tv,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,EA),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,Ur,Oa,rv,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,ef),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,Ur,Oa,tv,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",av),Oe,Mt),(0,c.A)({endpoint:av},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,Ur,Oa,rv,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",iv),Oe,Mt),rC]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,Ur,Oa,tv,Rn,da]),"endpoint",av),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,Ur,Oa,rv,Rn,da]),"endpoint",iv),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Pi,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,DA),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Pi,gn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",ov),Oe,Mt),(0,c.A)({endpoint:ov},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Pi,gn,Rn,da]),"endpoint",ov),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,wA),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,gn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,wA),Ht,Kr),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:aC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,xn,Hr,gn,Rn,da]),"endpoint",aC),Oe,Mt)]),Oe,xt),sf]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,Oa,(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[$A,"scheme"]),"http"]),(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,io]),nv,xn,Pn,Hr]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,UC),Ct,[rC]),Oe,xt),sf]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[nv,(0,c.A)((0,c.A)((0,c.A)({},ut,FA),lt,J4),_n,kA)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"resourceId[0]"]),_n,PA),(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[iC,""])])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[sv,Zh])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,_v),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,GC),Ct,[oC,sC,(0,c.A)((0,c.A)((0,c.A)({},Qe,bv),Ct,[uC,(0,c.A)((0,c.A)((0,c.A)({},Qe,zC),Ct,[lv,(0,c.A)((0,c.A)((0,c.A)({},Qe,Av),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,$C),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Cv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[cC,""])]),"error","Invalid ARN: Missing account id"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,xv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,HC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ll),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,TA),Ht,cv),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,jl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,cv),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,cv),Kt,mn)},Oe,Mt)]),Oe,xt),dC]),Oe,xt),dv]),Oe,xt),pv]),Oe,xt),fv]),Oe,xt)]),Oe,xt)]),Oe,xt),pC]),Oe,xt),(0,c.A)({error:"Invalid ARN: bucket ARN is missing a region"},Oe,Gt)]),Oe,xt),fC]),Oe,xt),(0,c.A)({error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`"},Oe,Gt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,_v),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,GC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,bv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,_v),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,bv),Ct,[uC,(0,c.A)((0,c.A)((0,c.A)({},Qe,zC),Ct,[lv,(0,c.A)((0,c.A)((0,c.A)({},Qe,Av),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[lC,"{partitionResult#name}"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Cv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[sv,Vl])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,xv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,HC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,yv),"error","Access Points do not support S3 Accelerate"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,ir]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,jc),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,Pn]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,jc),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,ir]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,jc),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,Ur,Oa]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,TA),Ht,jc),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,jc),Kt,mn)),Oe,Mt)]),Oe,xt),dC]),Oe,xt),dv]),Oe,xt),(0,c.A)({error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}"},Oe,Gt)]),Oe,xt),pv]),Oe,xt),fv]),Oe,xt)]),Oe,xt)]),Oe,xt),pC]),Oe,xt)]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,vu),lt,[uv,io])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,EC),"error","S3 MRAP does not support dual-stack"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,jl),"error","S3 MRAP does not support FIPS"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,yv),"error","S3 MRAP does not support S3 Accelerate"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableMultiRegionAccessPoints"),io])]),"error","Invalid configuration: Multi-Region Access Point ARNs are disabled."),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,vv),_n,RA)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,RA),jr]),(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"partition"])])]),Ct,[(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}"),Ht,(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,io),"name",Jh),ua,Vl),Qh,["*"])])),Kt,mn)},Oe,Mt)]),Oe,xt),(0,c.A)({error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`"},Oe,Gt)]),Oe,xt)]),Oe,xt),(0,c.A)({error:"Invalid Access Point Name"},Oe,Gt)]),Oe,xt),fC]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[sv,Oc])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,EC),"error","S3 Outposts does not support Dual-stack"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,jl),"error","S3 Outposts does not support FIPS"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,yv),"error","S3 Outposts does not support S3 Accelerate"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,di),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"resourceId[4]"])])]),"error","Invalid Arn: Outpost Access Point ARN contains sub resources"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,nB),_n,Yh)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,LC),Ct,[lv,(0,c.A)((0,c.A)((0,c.A)({},Qe,Av),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,$C),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Cv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,xv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,rB),_n,MA)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,[Qa,"resourceId[3]"]),_n,ev)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,MA),IA])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ll),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}"),Ht,mC),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Ht,mC),Kt,mn)},Oe,Mt)]),Oe,xt),(0,c.A)({error:"Expected an outpost type `accesspoint`, found {outpostType}"},Oe,Gt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: expected an access point name"},Oe,Gt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: Expected a 4-component resource"},Oe,Gt)]),Oe,xt),dv]),Oe,xt),pv]),Oe,xt),fv]),Oe,xt)]),Oe,xt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`"},Oe,Gt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: The Outpost Id was not set"},Oe,Gt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})"},Oe,Gt)]),Oe,xt),(0,c.A)({error:"Invalid ARN: No ARN type specified"},Oe,Gt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,ar),lt,[Nn,0,4,!1]),_n,NA),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,NA),"arn:"]),(0,c.A)((0,c.A)({},ut,oo),lt,[(0,c.A)((0,c.A)({},ut,di),lt,[gC])])]),"error","Invalid ARN: `{Bucket}` was not a valid ARN"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[X4,io]),gC]),"error","Path-style addressing cannot be used with ARN buckets"),Oe,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Z4),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[Hr]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,gn,pr,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,gn,pr,Rn,ca]),Ct,[(0,c.A)({endpoint:hC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,gn,pr,Rn,da]),"endpoint",hC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,gn,pr,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,gn,pr,Rn,ca]),Ct,[(0,c.A)({endpoint:vC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,gn,pr,Rn,da]),"endpoint",vC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,gn,xn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,gn,xn,Rn,ca]),Ct,[(0,c.A)({endpoint:yC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[ir,gn,xn,Rn,da]),"endpoint",yC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,Ur,Oa,xn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,VA),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,Ur,Oa,xn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",mv),Oe,Mt),(0,c.A)({endpoint:mv},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,Ur,Oa,xn,Rn,da]),"endpoint",mv),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,gn,xn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,OA),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,gn,xn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,OA),Ht,Kr),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:_C},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Pn,gn,xn,Rn,da]),"endpoint",_C),Oe,Mt)]),Oe,xt),(0,c.A)({error:"Path-style addressing cannot be used with S3 Accelerate"},Oe,Gt)]),Oe,xt)]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,di),lt,[bC]),(0,c.A)((0,c.A)({},ut,Lr),lt,[bC,io])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,KC),Ct,[oC,sC,(0,c.A)((0,c.A)((0,c.A)({},Qe,Ll),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,tf),Ht,gv),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,jl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}"),Ht,gv),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}"),Ht,gv),Kt,mn)},Oe,Mt)]),Oe,xt),sf]),Oe,xt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[XA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ii),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,KC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,ir,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,ir,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:AC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,ir,gn,Rn,da]),"endpoint",AC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,Pn,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,Pn,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:CC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[pr,Pn,gn,Rn,da]),"endpoint",CC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,ir,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,ir,gn,Rn,ca]),Ct,[(0,c.A)({endpoint:xC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,ir,gn,Rn,da]),"endpoint",xC),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,Ur,Oa,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,tf),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,Ur,Oa,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",hv),Oe,Mt),(0,c.A)({endpoint:hv},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,Ur,Oa,Rn,da]),"endpoint",hv),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,gn,ta]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,BA),Ht,la),Kt,mn)),Oe,Mt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,gn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,as),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},$t,BA),Ht,Kr),Kt,mn)),Oe,Mt),(0,c.A)({endpoint:SC},Oe,Mt)]),Oe,xt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[xn,Pn,gn,Rn,da]),"endpoint",SC),Oe,Mt)]),Oe,xt),sf]),Oe,xt)]),Oe,xt)]),Oe,xt),(0,c.A)({error:"A region must be set when sending requests to S3."},Oe,Gt)]),oB=new H4.k({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),qC=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oB.get(r,function(){return(0,K4.s)(iB,{endpointParams:r,logger:n.logger})})};q4.m.aws=$4.UF;var r,sB=["name","properties"],lB=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e,t){var s,u;return(0,He.A)().w(function(d){for(;;)switch(d.n){case 0:return s=(0,qh.u)(e).operation,d.n=1,(0,Xp.t)(n.region)();case 1:if(u=d.v){d.n=2;break}u=function(){throw new Error("expected `region` to be configured for `aws.auth#sigv4`")}();case 2:return d.a(2,{operation:s,region:u})}},r)}));return function(n,e,t){return o.apply(this,arguments)}}(),cB=(r=lB,function(){var n=(0,Rt.A)((0,He.A)().m(function e(t,s,u){var l,d,p;return(0,He.A)().w(function(_){for(;;)switch(_.n){case 0:if(u){_.n=1;break}throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");case 1:return _.n=2,r(t,s,u);case 2:if(d=_.v,p=null===(l=(0,qh.u)(s))||void 0===l||null===(l=l.commandInstance)||void 0===l||null===(l=l.constructor)||void 0===l?void 0:l.getEndpointParameterInstructions){_.n=3;break}throw new Error("getEndpointParameterInstructions() is not defined on `".concat(s.commandName,"`"));case 3:return _.n=4,(0,oA.x)(u,{getEndpointParameterInstructions:p},t);case 4:return _.a(2,Object.assign(d,_.v))}},e)}));return function(e,t,s){return n.apply(this,arguments)}}());function WC(o){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:o.region},propertiesExtractor:function(n,e){return{signingProperties:{config:n,context:e}}}}}function QC(o){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:o.region},propertiesExtractor:function(n,e){return{signingProperties:{config:n,context:e}}}}}var fB=function(r,n,e){return function(u){var l,p=null===(l=r(u).properties)||void 0===l?void 0:l.authSchemes;if(!p)return function(r){var n=[];return n.push(WC(r)),n.push(QC(r)),n}(u);var S,h=[],_=(0,N.A)(p);try{for(_.s();!(S=_.n()).done;){var P=S.value,B=P.name,z=P.properties,Y=void 0===z?{}:z,de=(0,gA.A)(P,sB),ge=B.toLowerCase();B!==ge&&console.warn("HttpAuthScheme has been normalized with lowercasing: `".concat(B,"` to `").concat(ge,"`"));var be=void 0;if("sigv4a"===ge){be="aws.auth#sigv4a";var me=p.find(function(dt){var ot=dt.name.toLowerCase();return"sigv4a"!==ot&&ot.startsWith("sigv4")});if("none"===_A.sigv4aDependency()&&me)continue}else{if(!ge.startsWith("sigv4"))throw new Error("Unknown HttpAuthScheme found in `@smithy.rules#endpointRuleSet`: `".concat(ge,"`"));be="aws.auth#sigv4"}var Pe=e[be];if(!Pe)throw new Error("Could not find HttpAuthOption create function for `".concat(be,"`"));var qe=Pe(u);qe.schemeId=be,qe.signingProperties=(0,g.A)((0,g.A)((0,g.A)({},qe.signingProperties||{}),de),Y),h.push(qe)}}catch(dt){_.e(dt)}finally{_.f()}return h}}(qC,0,{"aws.auth#sigv4":WC,"aws.auth#sigv4a":QC}),gB=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(Ns.u.classBuilder().ep((0,g.A)((0,g.A)({},Vs),{},{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(o,r,n,e){return[(0,Ms.TM)(n,this.serialize,this.deserialize),(0,Rs.r)(n,o.getEndpointParameterInstructions()),Ts(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(function(r){return(0,g.A)((0,g.A)((0,g.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})},function(r){return(0,g.A)((0,g.A)((0,g.A)((0,g.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$}),r.Credentials&&{Credentials:tI(r.Credentials)})}).ser(mI).de(AI).build());function XC(o){return"string"==typeof o?0===o.length:0===o.byteLength}var YC={name:"SHA-1"},JC={name:"HMAC",hash:YC},yB=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]),is=b(93342),_B=function(){function o(r){this.toHash=new Uint8Array(0),void 0!==r&&(this.key=new Promise(function(n,e){(0,is.R)().crypto.subtle.importKey("raw",ZC(r),JC,!1,["sign"]).then(n,e)}),this.key.catch(function(){}))}return o.prototype.update=function(r){if(!XC(r)){var n=ZC(r),e=new Uint8Array(this.toHash.byteLength+n.byteLength);e.set(this.toHash,0),e.set(n,this.toHash.byteLength),this.toHash=e}},o.prototype.digest=function(){var r=this;return this.key?this.key.then(function(n){return(0,is.R)().crypto.subtle.sign(JC,n,r.toHash).then(function(e){return new Uint8Array(e)})}):XC(this.toHash)?Promise.resolve(yB):Promise.resolve().then(function(){return(0,is.R)().crypto.subtle.digest(YC,r.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();function ZC(o){return"string"==typeof o?function(r){return(new TextEncoder).encode(r)}(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}var bB=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var xB=function(){function o(r){if(!function AB(o){return!(!function CB(o){return"object"==typeof o&&"object"==typeof o.crypto&&"function"==typeof o.crypto.getRandomValues}(o)||"object"!=typeof o.crypto.subtle)&&function e1(o){return o&&bB.every(function(r){return"function"==typeof o[r]})}(o.crypto.subtle)}((0,is.R)()))throw new Error("SHA1 not supported");this.hash=new _B(r)}return o.prototype.update=function(r,n){this.hash.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return this.hash.digest()},o.prototype.reset=function(){this.hash.reset()},o}(),t1={name:"SHA-256"},n1={name:"HMAC",hash:t1},SB=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),EB=function(){function o(r){this.toHash=new Uint8Array(0),this.secret=r,this.reset()}return o.prototype.update=function(r){if(!(0,Or.isEmptyData)(r)){var n=(0,Or.convertToBuffer)(r),e=new Uint8Array(this.toHash.byteLength+n.byteLength);e.set(this.toHash,0),e.set(n,this.toHash.byteLength),this.toHash=e}},o.prototype.digest=function(){var r=this;return this.key?this.key.then(function(n){return(0,is.R)().crypto.subtle.sign(n1,n,r.toHash).then(function(e){return new Uint8Array(e)})}):(0,Or.isEmptyData)(this.toHash)?Promise.resolve(SB):Promise.resolve().then(function(){return(0,is.R)().crypto.subtle.digest(t1,r.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},o.prototype.reset=function(){var r=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(n,e){(0,is.R)().crypto.subtle.importKey("raw",(0,Or.convertToBuffer)(r.secret),n1,!1,["sign"]).then(n,e)}),this.key.catch(function(){}))},o}(),wB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),FB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],kB=Math.pow(2,53)-1,uf=function(){function o(){this.state=Int32Array.from(FB),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,e=r.byteLength;if(this.bytesHashed+=e,8*this.bytesHashed>kB)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;e>0;)this.buffer[this.bufferLength++]=r[n++],e--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},o.prototype.digest=function(){if(!this.finished){var r=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),e=this.bufferLength;if(n.setUint8(this.bufferLength++,128),e%64>=56){for(var t=this.bufferLength;t<64;t++)n.setUint8(t,0);this.hashBuffer(),this.bufferLength=0}for(t=this.bufferLength;t<56;t++)n.setUint8(t,0);n.setUint32(56,Math.floor(r/4294967296),!0),n.setUint32(60,r),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(32);for(t=0;t<8;t++)s[4*t]=this.state[t]>>>24&255,s[4*t+1]=this.state[t]>>>16&255,s[4*t+2]=this.state[t]>>>8&255,s[4*t+3]=this.state[t]>>>0&255;return s},o.prototype.hashBuffer=function(){for(var n=this.buffer,e=this.state,t=e[0],s=e[1],u=e[2],l=e[3],d=e[4],p=e[5],h=e[6],_=e[7],S=0;S<64;S++){if(S<16)this.temp[S]=(255&n[4*S])<<24|(255&n[4*S+1])<<16|(255&n[4*S+2])<<8|255&n[4*S+3];else{var P=this.temp[S-2];this.temp[S]=(((P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10)+this.temp[S-7]|0)+((((P=this.temp[S-15])>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)+this.temp[S-16]|0)}var Y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&h)|0)+(_+(wB[S]+this.temp[S]|0)|0)|0,de=((t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10))+(t&s^t&u^s&u)|0;_=h,h=p,p=d,d=l+Y|0,l=u,u=s,s=t,t=Y+de|0}e[0]+=t,e[1]+=s,e[2]+=u,e[3]+=l,e[4]+=d,e[5]+=p,e[6]+=h,e[7]+=_},o}(),PB=function(){function o(r){this.secret=r,this.hash=new uf,this.reset()}return o.prototype.update=function(r){if(!(0,Or.isEmptyData)(r)&&!this.error)try{this.hash.update((0,Or.convertToBuffer)(r))}catch(n){this.error=n}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return(0,Gi.__awaiter)(this,void 0,void 0,function(){return(0,Gi.__generator)(this,function(r){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new uf,this.secret){this.outer=new uf;var r=function IB(o){var r=(0,Or.convertToBuffer)(o);if(r.byteLength>64){var n=new uf;n.update(r),r=n.digest()}var e=new Uint8Array(64);return e.set(r),e}(this.secret),n=new Uint8Array(64);n.set(r);for(var e=0;e<64;e++)r[e]^=54,n[e]^=92;for(this.hash.update(r),this.outer.update(n),e=0;e<r.byteLength;e++)r[e]=0}},o}(),TB=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var NB=function(){function o(r){this.hash=function RB(o){return!(!function MB(o){return"object"==typeof o&&"object"==typeof o.crypto&&"function"==typeof o.crypto.getRandomValues}(o)||"object"!=typeof o.crypto.subtle)&&function r1(o){return o&&TB.every(function(r){return"function"==typeof o[r]})}(o.crypto.subtle)}((0,is.R)())?new EB(r):new PB(r)}return o.prototype.update=function(r,n){this.hash.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return this.hash.digest()},o.prototype.reset=function(){this.hash.reset()},o}(),VB=b(71587),OB=b(3668),BB=b(82502);!function(){function o(){this.crc32=new Uc}o.prototype.update=function(r){(0,Or.isEmptyData)(r)||this.crc32.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return(0,Gi.__awaiter)(this,void 0,void 0,function(){return(0,Gi.__generator)(this,function(r){return[2,(0,Or.numToUint8)(this.crc32.digest())]})})},o.prototype.reset=function(){this.crc32=new Uc}}();var Uc=function(){function o(){this.checksum=4294967295}return o.prototype.update=function(r){var n,e;try{for(var t=(0,Gi.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^jB[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},o.prototype.digest=function(){return(4294967295^this.checksum)>>>0},o}(),jB=(0,Or.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),os=b(34576),Sv=function(){function o(r){if((0,v.A)(this,o),(0,c.A)(this,"bytes",void 0),this.bytes=r,8!==r.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,m.A)(o,[{key:"valueOf",value:function(){var n=this.bytes.slice(0),e=128&n[0];return e&&a1(n),parseInt((0,os.n)(n),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error("".concat(n," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),t=7,s=Math.abs(Math.round(n));t>-1&&s>0;t--,s/=256)e[t]=s;return n<0&&a1(e),new o(e)}}])}();function a1(o){for(var r=0;r<8;r++)o[r]^=255;for(var n=7;n>-1&&(o[n]++,0===o[n]);n--);}var UB=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),(0,c.A)(this,"toUtf8",void 0),(0,c.A)(this,"fromUtf8",void 0),this.toUtf8=r,this.fromUtf8=n},[{key:"format",value:function(n){for(var e=[],t=0,s=Object.keys(n);t<s.length;t++){var u=s[t],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[u]))}for(var d=new Uint8Array(e.reduce(function(P,B){return P+B.byteLength},0)),p=0,h=0,_=e;h<_.length;h++){var S=_[h];d.set(S,p),p+=S.byteLength}return d}},{key:"formatHeaderValue",value:function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+n.value.byteLength));u.setUint8(0,6),u.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(n.value,3),l;case"string":var d=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+d.byteLength));p.setUint8(0,7),p.setUint16(1,d.byteLength,!1);var h=new Uint8Array(p.buffer);return h.set(d,3),h;case"timestamp":var _=new Uint8Array(9);return _[0]=8,_.set(Sv.fromNumber(n.value.valueOf()).bytes,1),_;case"uuid":if(!YB.test(n.value))throw new Error("Invalid UUID received: ".concat(n.value));var S=new Uint8Array(17);return S[0]=9,S.set((0,os.a)(n.value.replace(/\-/g,"")),1),S}}},{key:"parse",value:function(n){for(var e={},t=0;t<n.byteLength;){var s=n.getUint8(t++),u=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,s));switch(t+=s,n.getUint8(t++)){case 0:e[u]={type:o1,value:!0};break;case 1:e[u]={type:o1,value:!1};break;case 2:e[u]={type:zB,value:n.getInt8(t++)};break;case 3:e[u]={type:$B,value:n.getInt16(t,!1)},t+=2;break;case 4:e[u]={type:HB,value:n.getInt32(t,!1)},t+=4;break;case 5:e[u]={type:KB,value:new Sv(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var l=n.getUint16(t,!1);t+=2,e[u]={type:qB,value:new Uint8Array(n.buffer,n.byteOffset+t,l)},t+=l;break;case 7:var d=n.getUint16(t,!1);t+=2,e[u]={type:WB,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,d))},t+=d;break;case 8:e[u]={type:QB,value:new Date(new Sv(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,e[u]={type:XB,value:"".concat((0,os.n)(p.subarray(0,4)),"-").concat((0,os.n)(p.subarray(4,6)),"-").concat((0,os.n)(p.subarray(6,8)),"-").concat((0,os.n)(p.subarray(8,10)),"-").concat((0,os.n)(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}])}(),o1="boolean",zB="byte",$B="short",HB="integer",KB="long",qB="binary",WB="string",QB="timestamp",XB="uuid",YB=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,e8=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),(0,c.A)(this,"headerMarshaller",void 0),(0,c.A)(this,"messageBuffer",void 0),(0,c.A)(this,"isEndOfStream",void 0),this.headerMarshaller=new UB(r,n),this.messageBuffer=[],this.isEndOfStream=!1},[{key:"feed",value:function(n){this.messageBuffer.push(this.decode(n))}},{key:"endOfStream",value:function(){this.isEndOfStream=!0}},{key:"getMessage",value:function(){var n=this.messageBuffer.pop(),e=this.isEndOfStream;return{getMessage:function(){return n},isEndOfStream:function(){return e}}}},{key:"getAvailableMessages",value:function(){var n=this.messageBuffer;this.messageBuffer=[];var e=this.isEndOfStream;return{getMessages:function(){return n},isEndOfStream:function(){return e}}}},{key:"encode",value:function(n){var t=n.body,s=this.headerMarshaller.format(n.headers),u=s.byteLength+t.byteLength+16,l=new Uint8Array(u),d=new DataView(l.buffer,l.byteOffset,l.byteLength),p=new Uc;return d.setUint32(0,u,!1),d.setUint32(4,s.byteLength,!1),d.setUint32(8,p.update(l.subarray(0,8)).digest(),!1),l.set(s,12),l.set(t,s.byteLength+12),d.setUint32(u-4,p.update(l.subarray(8,u-4)).digest(),!1),l}},{key:"decode",value:function(n){var e=function ZB(o){var r=o.byteLength,n=o.byteOffset,e=o.buffer;if(r<16)throw new Error("Provided message too short to accommodate event stream message overhead");var t=new DataView(e,n,r),s=t.getUint32(0,!1);if(r!==s)throw new Error("Reported message length does not match received message length");var u=t.getUint32(4,!1),l=t.getUint32(8,!1),d=t.getUint32(r-4,!1),p=(new Uc).update(new Uint8Array(e,n,8));if(l!==p.digest())throw new Error("The prelude checksum specified in the message (".concat(l,") does not match the calculated CRC32 checksum (").concat(p.digest(),")"));if(p.update(new Uint8Array(e,n+8,r-12)),d!==p.digest())throw new Error("The message checksum (".concat(p.digest(),") did not match the expected value of ").concat(d));return{headers:new DataView(e,n+8+4,u),body:new Uint8Array(e,n+8+4+u,s-u-16)}}(n),s=e.body;return{headers:this.headerMarshaller.parse(e.headers),body:s}}},{key:"formatHeaders",value:function(n){return this.headerMarshaller.format(n)}}])}(),t8=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return ao((0,He.A)().m(function e(){var t,s,u,l,d,p,h;return(0,He.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Is(n.options.messageStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=7;break}return p=d.value,S.n=4,Ea(n.options.deserializer(p));case 4:if(void 0!==(h=S.v)){S.n=5;break}return S.a(3,6);case 5:return S.n=6,h;case 6:t=!1,S.n=2;break;case 7:S.n=9;break;case 8:S.p=8,s=!0,u=S.v;case 9:if(S.p=9,S.p=10,!t||null==l.return){S.n=11;break}return S.n=11,Ea(l.return());case 11:if(S.p=11,!s){S.n=12;break}throw u;case 12:return S.f(11);case 13:return S.f(9);case 14:return S.a(2)}},e,null,[[10,,11,13],[1,8,9,14]])}))()}}])}(),n8=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return ao((0,He.A)().m(function e(){var t,s,u,l,d,h;return(0,He.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Is(n.options.inputStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=5;break}return h=n.options.decoder.decode(d.value),S.n=4,h;case 4:t=!1,S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,s=!0,u=S.v;case 7:if(S.p=7,S.p=8,!t||null==l.return){S.n=9;break}return S.n=9,Ea(l.return());case 9:if(S.p=9,!s){S.n=10;break}throw u;case 10:return S.f(9);case 11:return S.f(7);case 12:return S.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}(),r8=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return ao((0,He.A)().m(function e(){var t,s,u,l,d,h;return(0,He.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Is(n.options.messageStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=5;break}return h=n.options.encoder.encode(d.value),S.n=4,h;case 4:t=!1,S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,s=!0,u=S.v;case 7:if(S.p=7,S.p=8,!t||null==l.return){S.n=9;break}return S.n=9,Ea(l.return());case 9:if(S.p=9,!s){S.n=10;break}throw u;case 10:return S.f(9);case 11:return S.f(7);case 12:if(!n.options.includeEndFrame){S.n=13;break}return S.n=13,new Uint8Array(0);case 13:return S.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}(),a8=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return ao((0,He.A)().m(function e(){var t,s,u,l,d,h;return(0,He.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Is(n.options.inputStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=5;break}return h=n.options.serializer(d.value),S.n=4,h;case 4:t=!1,S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,s=!0,u=S.v;case 7:if(S.p=7,S.p=8,!t||null==l.return){S.n=9;break}return S.n=9,Ea(l.return());case 9:if(S.p=9,!s){S.n=10;break}throw u;case 10:return S.f(9);case 11:return S.f(7);case 12:return S.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}();function u1(o,r){return function(){var n=(0,Rt.A)((0,He.A)().m(function e(t){var s,u,l,d,p,h,_,S;return(0,He.A)().w(function(P){for(;;)switch(P.n){case 0:if("error"!==(s=t.headers[":message-type"].value)){P.n=1;break}throw(u=new Error(t.headers[":error-message"].value||"UnknownError")).name=t.headers[":error-code"].value,u;case 1:if("exception"!==s){P.n=4;break}return d=(0,c.A)({},l=t.headers[":exception-type"].value,t),P.n=2,o(d);case 2:if(!(p=P.v).$unknown){P.n=3;break}throw(h=new Error(r(t.body))).name=l,h;case 3:throw p[l];case 4:if("event"!==s){P.n=7;break}return _=(0,c.A)({},t.headers[":event-type"].value,t),P.n=5,o(_);case 5:if(!(S=P.v).$unknown){P.n=6;break}return P.a(2);case 6:return P.a(2,S);case 7:throw Error("Unrecognizable event type: ".concat(t.headers[":event-type"].value));case 8:return P.a(2)}},e)}));return function(e){return n.apply(this,arguments)}}()}var o8=function(){return(0,m.A)(function o(r){var n=r.utf8Encoder,e=r.utf8Decoder;(0,v.A)(this,o),(0,c.A)(this,"eventStreamCodec",void 0),(0,c.A)(this,"utfEncoder",void 0),this.eventStreamCodec=new e8(n,e),this.utfEncoder=n},[{key:"deserialize",value:function(n,e){var t=function i8(o){var r=0,n=0,e=null,t=null,s=function(d){if("number"!=typeof d)throw new Error("Attempted to allocate an event message where size was not a number: "+d);r=d,n=4,e=new Uint8Array(d),new DataView(e.buffer).setUint32(0,d,!1)},u=function(){var l=ao((0,He.A)().m(function d(){var p,h,_,P,B,z,Y,de;return(0,He.A)().w(function(ge){for(;;)switch(ge.n){case 0:p=o[Symbol.asyncIterator]();case 1:return ge.n=2,Ea(p.next());case 2:if(_=(h=ge.v).value,!h.done){ge.n=7;break}if(r){ge.n=3;break}return ge.a(2);case 3:if(r!==n){ge.n=5;break}return ge.n=4,e;case 4:ge.n=6;break;case 5:throw new Error("Truncated event message received.");case 6:return ge.a(2);case 7:P=_.length,B=0;case 8:if(!(B<P)){ge.n=13;break}if(e){ge.n=10;break}if(z=P-B,t||(t=new Uint8Array(4)),Y=Math.min(4-n,z),t.set(_.slice(B,B+Y),n),B+=Y,!((n+=Y)<4)){ge.n=9;break}return ge.a(3,13);case 9:s(new DataView(t.buffer).getUint32(0,!1)),t=null;case 10:if(de=Math.min(r-n,P-B),e.set(_.slice(B,B+de),n),n+=de,B+=de,!r||r!==n){ge.n=12;break}return ge.n=11,e;case 11:e=null,r=0,n=0;case 12:ge.n=8;break;case 13:ge.n=1;break;case 14:return ge.a(2)}},d)}));return function(){return l.apply(this,arguments)}}();return(0,c.A)({},Symbol.asyncIterator,u)}(n);return new t8({messageStream:new n8({inputStream:t,decoder:this.eventStreamCodec}),deserializer:u1(e,this.utfEncoder)})}},{key:"serialize",value:function(n,e){return new r8({messageStream:new a8({inputStream:n,serializer:e}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}])}(),l8=function(){return(0,m.A)(function o(r){var n=r.utf8Encoder,e=r.utf8Decoder;(0,v.A)(this,o),(0,c.A)(this,"universalMarshaller",void 0),this.universalMarshaller=new o8({utf8Decoder:e,utf8Encoder:n})},[{key:"deserialize",value:function(n,e){var t=c8(n)?function(r){return(0,c.A)({},Symbol.asyncIterator,ao((0,He.A)().m(function n(){var e,t,u;return(0,He.A)().w(function(l){for(;;)switch(l.p=l.n){case 0:e=r.getReader(),l.p=1;case 2:return l.n=3,Ea(e.read());case 3:if(u=(t=l.v).value,!t.done){l.n=4;break}return l.a(2);case 4:return l.n=5,u;case 5:l.n=2;break;case 6:return l.p=6,e.releaseLock(),l.f(6);case 7:return l.a(2)}},n,null,[[1,,6,7]])})))}(n):n;return this.universalMarshaller.deserialize(t,e)}},{key:"serialize",value:function(n,e){var t=this.universalMarshaller.serialize(n,e);return"function"==typeof ReadableStream?function(r){var n=r[Symbol.asyncIterator]();return new ReadableStream({pull:function(t){return(0,Rt.A)((0,He.A)().m(function s(){var u,d;return(0,He.A)().w(function(p){for(;;)switch(p.n){case 0:return p.n=1,n.next();case 1:if(d=(u=p.v).value,!u.done){p.n=2;break}return p.a(2,t.close());case 2:t.enqueue(d);case 3:return p.a(2)}},s)}))()}})}(t):t}}])}(),c8=function(r){return"function"==typeof ReadableStream&&r instanceof ReadableStream},d8=function(r){return new l8(r)},p8=b(27011),l1=b(56992);function f8(o,r){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,Rt.A)(function(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1048576;return(0,He.A)().m(function e(){var t,s,u,l,d;return(0,He.A)().w(function(h){for(;;)switch(h.n){case 0:t=o.size,s=0;case 1:if(!(s<t)){h.n=3;break}return u=o.slice(s,Math.min(t,s+n)),l=r,d=Uint8Array,h.n=2,u.arrayBuffer();case 2:l(new d(h.v)),s+=u.size,h.n=1;break;case 3:return h.a(2)}},e)})()}),Ev.apply(this,arguments)}var m8=function(){var o=(0,Rt.A)((0,He.A)().m(function n(e,t){var s;return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:return s=new e,u.n=1,f8(t,function(l){s.update(l)});case 1:return u.a(2,s.digest())}},n)}));return function r(n,e){return o.apply(this,arguments)}}(),g8=b(82499),c1=b(87521),v8=[1732584193,4023233417,2562383102,271733878],y8=function(){return(0,m.A)(function o(){(0,v.A)(this,o),(0,c.A)(this,"state",void 0),(0,c.A)(this,"buffer",void 0),(0,c.A)(this,"bufferLength",void 0),(0,c.A)(this,"bytesHashed",void 0),(0,c.A)(this,"finished",void 0),this.reset()},[{key:"update",value:function(n){if(!function _8(o){return"string"==typeof o?0===o.length:0===o.byteLength}(n)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=function b8(o){return"string"==typeof o?(0,c1.a)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}(n),t=0,s=e.byteLength;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,e[t++]),s--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}}},{key:"digest",value:function(){var r=(0,Rt.A)((0,He.A)().m(function e(){var t,s,l,d,p,h,_;return(0,He.A)().w(function(S){for(;;)if(0===S.n){if(!this.finished){if(s=this.bufferLength,l=8*this.bytesHashed,(t=this.buffer).setUint8(this.bufferLength++,128),s%64>=56){for(d=this.bufferLength;d<64;d++)t.setUint8(d,0);this.hashBuffer(),this.bufferLength=0}for(p=this.bufferLength;p<56;p++)t.setUint8(p,0);t.setUint32(56,l>>>0,!0),t.setUint32(60,Math.floor(l/4294967296),!0),this.hashBuffer(),this.finished=!0}for(h=new DataView(new ArrayBuffer(16)),_=0;_<4;_++)h.setUint32(4*_,this.state[_],!0);return S.a(2,new Uint8Array(h.buffer,h.byteOffset,h.byteLength))}},e,this)}));return function n(){return r.apply(this,arguments)}}()},{key:"hashBuffer",value:function(){var n=this.buffer,e=this.state,t=e[0],s=e[1],u=e[2],l=e[3];t=wa(t,s,u,l,n.getUint32(0,!0),7,3614090360),l=wa(l,t,s,u,n.getUint32(4,!0),12,3905402710),u=wa(u,l,t,s,n.getUint32(8,!0),17,606105819),s=wa(s,u,l,t,n.getUint32(12,!0),22,3250441966),t=wa(t,s,u,l,n.getUint32(16,!0),7,4118548399),l=wa(l,t,s,u,n.getUint32(20,!0),12,1200080426),u=wa(u,l,t,s,n.getUint32(24,!0),17,2821735955),s=wa(s,u,l,t,n.getUint32(28,!0),22,4249261313),t=wa(t,s,u,l,n.getUint32(32,!0),7,1770035416),l=wa(l,t,s,u,n.getUint32(36,!0),12,2336552879),u=wa(u,l,t,s,n.getUint32(40,!0),17,4294925233),s=wa(s,u,l,t,n.getUint32(44,!0),22,2304563134),t=wa(t,s,u,l,n.getUint32(48,!0),7,1804603682),l=wa(l,t,s,u,n.getUint32(52,!0),12,4254626195),u=wa(u,l,t,s,n.getUint32(56,!0),17,2792965006),t=Fa(t,s=wa(s,u,l,t,n.getUint32(60,!0),22,1236535329),u,l,n.getUint32(4,!0),5,4129170786),l=Fa(l,t,s,u,n.getUint32(24,!0),9,3225465664),u=Fa(u,l,t,s,n.getUint32(44,!0),14,643717713),s=Fa(s,u,l,t,n.getUint32(0,!0),20,3921069994),t=Fa(t,s,u,l,n.getUint32(20,!0),5,3593408605),l=Fa(l,t,s,u,n.getUint32(40,!0),9,38016083),u=Fa(u,l,t,s,n.getUint32(60,!0),14,3634488961),s=Fa(s,u,l,t,n.getUint32(16,!0),20,3889429448),t=Fa(t,s,u,l,n.getUint32(36,!0),5,568446438),l=Fa(l,t,s,u,n.getUint32(56,!0),9,3275163606),u=Fa(u,l,t,s,n.getUint32(12,!0),14,4107603335),s=Fa(s,u,l,t,n.getUint32(32,!0),20,1163531501),t=Fa(t,s,u,l,n.getUint32(52,!0),5,2850285829),l=Fa(l,t,s,u,n.getUint32(8,!0),9,4243563512),u=Fa(u,l,t,s,n.getUint32(28,!0),14,1735328473),t=ka(t,s=Fa(s,u,l,t,n.getUint32(48,!0),20,2368359562),u,l,n.getUint32(20,!0),4,4294588738),l=ka(l,t,s,u,n.getUint32(32,!0),11,2272392833),u=ka(u,l,t,s,n.getUint32(44,!0),16,1839030562),s=ka(s,u,l,t,n.getUint32(56,!0),23,4259657740),t=ka(t,s,u,l,n.getUint32(4,!0),4,2763975236),l=ka(l,t,s,u,n.getUint32(16,!0),11,1272893353),u=ka(u,l,t,s,n.getUint32(28,!0),16,4139469664),s=ka(s,u,l,t,n.getUint32(40,!0),23,3200236656),t=ka(t,s,u,l,n.getUint32(52,!0),4,681279174),l=ka(l,t,s,u,n.getUint32(0,!0),11,3936430074),u=ka(u,l,t,s,n.getUint32(12,!0),16,3572445317),s=ka(s,u,l,t,n.getUint32(24,!0),23,76029189),t=ka(t,s,u,l,n.getUint32(36,!0),4,3654602809),l=ka(l,t,s,u,n.getUint32(48,!0),11,3873151461),u=ka(u,l,t,s,n.getUint32(60,!0),16,530742520),t=Pa(t,s=ka(s,u,l,t,n.getUint32(8,!0),23,3299628645),u,l,n.getUint32(0,!0),6,4096336452),l=Pa(l,t,s,u,n.getUint32(28,!0),10,1126891415),u=Pa(u,l,t,s,n.getUint32(56,!0),15,2878612391),s=Pa(s,u,l,t,n.getUint32(20,!0),21,4237533241),t=Pa(t,s,u,l,n.getUint32(48,!0),6,1700485571),l=Pa(l,t,s,u,n.getUint32(12,!0),10,2399980690),u=Pa(u,l,t,s,n.getUint32(40,!0),15,4293915773),s=Pa(s,u,l,t,n.getUint32(4,!0),21,2240044497),t=Pa(t,s,u,l,n.getUint32(32,!0),6,1873313359),l=Pa(l,t,s,u,n.getUint32(60,!0),10,4264355552),u=Pa(u,l,t,s,n.getUint32(24,!0),15,2734768916),s=Pa(s,u,l,t,n.getUint32(52,!0),21,1309151649),t=Pa(t,s,u,l,n.getUint32(16,!0),6,4149444226),l=Pa(l,t,s,u,n.getUint32(44,!0),10,3174756917),u=Pa(u,l,t,s,n.getUint32(8,!0),15,718787259),s=Pa(s,u,l,t,n.getUint32(36,!0),21,3951481745),e[0]=t+e[0]&4294967295,e[1]=s+e[1]&4294967295,e[2]=u+e[2]&4294967295,e[3]=l+e[3]&4294967295}},{key:"reset",value:function(){this.state=Uint32Array.from(v8),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}])}();function lf(o,r,n,e,t,s){return((r=(r+o&4294967295)+(e+s&4294967295)&4294967295)<<t|r>>>32-t)+n&4294967295}function wa(o,r,n,e,t,s,u){return lf(r&n|~r&e,o,r,t,s,u)}function Fa(o,r,n,e,t,s,u){return lf(r&e|n&~e,o,r,t,s,u)}function ka(o,r,n,e,t,s,u){return lf(r^n^e,o,r,t,s,u)}function Pa(o,r,n,e,t,s,u){return lf(n^(r|~e),o,r,t,s,u)}var A8=b(69153),d1=b(17439),Dv=b(67404),C8=b(85797),x8=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r,[{key:"sign",value:(n=(0,Rt.A)((0,He.A)().m(function t(s,u,l){var d,p,h,_,S,P,B,z,de;return(0,He.A)().w(function(be){for(;;)switch(be.n){case 0:if(Jo.K.isInstance(s)){be.n=1;break}throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");case 1:return be.n=2,(0,Dv.pz)(l);case 2:return _=(h=be.v).config,S=h.signer,P=h.signingRegion,B=h.signingRegionSet,z=h.signingName,be.n=3,null===(d=_.sigv4aSigningRegionSet)||void 0===d?void 0:d.call(_);case 3:return de=(null!==(p=be.v??B)&&void 0!==p?p:[P]).join(","),be.n=4,S.sign(s,{signingDate:(0,C8.C)(_.systemClockOffset),signingRegion:de,signingService:z});case 4:return be.a(2,be.v)}},t)})),function e(t,s,u){return n.apply(this,arguments)})}]);var n}(Dv.f2),S8=b(50993),E8=b(8833),D8=function(r,n){var e=n.base64Encoder,t=n.bodyLengthChecker,s=n.checksumAlgorithmFn,u=n.checksumLocationName,l=n.streamHasher,d=void 0!==e&&void 0!==t&&void 0!==s&&void 0!==u&&void 0!==l,p=d?l(s,r):void 0,h=r.getReader();return new ReadableStream({pull:function(S){return(0,Rt.A)((0,He.A)().m(function P(){var B,z,de,ge;return(0,He.A)().w(function(be){for(;;)switch(be.n){case 0:return be.n=1,h.read();case 1:if(z=(B=be.v).value,!B.done){be.n=4;break}if(S.enqueue("0\r\n"),!d){be.n=3;break}return ge=e,be.n=2,p;case 2:de=ge(be.v),S.enqueue("".concat(u,":").concat(de,"\r\n")),S.enqueue("\r\n");case 3:S.close(),be.n=5;break;case 4:S.enqueue("".concat((t(z)||0).toString(16),"\r\n").concat(z,"\r\n"));case 5:return be.a(2)}},P)}))()}})},p1=b(56044),f1="The stream has already been transformed.",w8=function(r){if(!m1(r)&&!ig(r)){var n,e=(null==r||null===(n=r.__proto__)||void 0===n||null===(n=n.constructor)||void 0===n?void 0:n.name)||r;throw new Error("Unexpected stream implementation, expect Blob or ReadableStream, got ".concat(e))}var l,t=!1,s=function(){var l=(0,Rt.A)((0,He.A)().m(function d(){return(0,He.A)().w(function(p){for(;;)switch(p.n){case 0:if(!t){p.n=1;break}throw new Error(f1);case 1:return t=!0,p.n=2,(0,l1.k)(r);case 2:return p.a(2,p.v)}},d)}));return function(){return l.apply(this,arguments)}}();return Object.assign(r,{transformToByteArray:s,transformToString:(l=(0,Rt.A)((0,He.A)().m(function p(h){var _;return(0,He.A)().w(function(S){for(;;)switch(S.n){case 0:return S.n=1,s();case 1:if(_=S.v,"base64"!==h){S.n=2;break}return S.a(2,(0,ag.n)(_));case 2:if("hex"!==h){S.n=3;break}return S.a(2,(0,os.n)(_));case 3:if(void 0!==h&&"utf8"!==h&&"utf-8"!==h){S.n=4;break}return S.a(2,(0,p1.P)(_));case 4:if("function"!=typeof TextDecoder){S.n=5;break}return S.a(2,new TextDecoder(h).decode(_));case 5:throw new Error("TextDecoder is not available, please make sure polyfill is provided.");case 6:return S.a(2)}},p)})),function d(p){return l.apply(this,arguments)}),transformToWebStream:function(){if(t)throw new Error(f1);if(t=!0,m1(r))return function(d){if("function"!=typeof d.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return d.stream()}(r);if(ig(r))return r;throw new Error("Cannot transform payload to web stream, got ".concat(r))}})},m1=function(r){return"function"==typeof Blob&&r instanceof Blob},k8=b(98526),P8=b(75208),g1=b(45647),h1=b(44811),v1=b(56747),N8=function(o){function r(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var u=t[0];(0,v.A)(this,r);var l=function(r){var n,e,t,s,u,l,d,p,h,_,S,P,B,z,Y,de=(0,P8.I)(r),ge=function(){return de().then(k8.l)},be=function(r){var n,e,t,s,u,l,d,p,h,_,S,P,B,z,Y,de,ge;return{apiVersion:"2006-03-01",base64Decoder:null!==(n=r?.base64Decoder)&&void 0!==n?n:E8.E,base64Encoder:null!==(e=r?.base64Encoder)&&void 0!==e?e:ag.n,disableHostPrefix:null!==(t=r?.disableHostPrefix)&&void 0!==t&&t,endpointProvider:null!==(s=r?.endpointProvider)&&void 0!==s?s:qC,extensions:null!==(u=r?.extensions)&&void 0!==u?u:[],getAwsChunkedEncodingStream:null!==(l=r?.getAwsChunkedEncodingStream)&&void 0!==l?l:D8,httpAuthSchemeProvider:null!==(d=r?.httpAuthSchemeProvider)&&void 0!==d?d:fB,httpAuthSchemes:null!==(p=r?.httpAuthSchemes)&&void 0!==p?p:[{schemeId:"aws.auth#sigv4",identityProvider:function(me){return me.getIdentityProvider("aws.auth#sigv4")},signer:new Dv.f2},{schemeId:"aws.auth#sigv4a",identityProvider:function(me){return me.getIdentityProvider("aws.auth#sigv4a")},signer:new x8}],logger:null!==(h=r?.logger)&&void 0!==h?h:new U_.N,sdkStreamMixin:null!==(_=r?.sdkStreamMixin)&&void 0!==_?_:w8,serviceId:null!==(S=r?.serviceId)&&void 0!==S?S:"S3",signerConstructor:null!==(P=r?.signerConstructor)&&void 0!==P?P:_A,signingEscapePath:null!==(B=r?.signingEscapePath)&&void 0!==B&&B,urlParser:null!==(z=r?.urlParser)&&void 0!==z?z:S8.D,useArnRegion:null!==(Y=r?.useArnRegion)&&void 0!==Y?Y:void 0,utf8Decoder:null!==(de=r?.utf8Decoder)&&void 0!==de?de:c1.a,utf8Encoder:null!==(ge=r?.utf8Encoder)&&void 0!==ge?ge:p1.P}}(r);return(0,g.A)((0,g.A)((0,g.A)({},be),r),{},{runtime:"browser",defaultsMode:de,bodyLengthChecker:null!==(n=r?.bodyLengthChecker)&&void 0!==n?n:A8.n,credentialDefaultProvider:null!==(e=r?.credentialDefaultProvider)&&void 0!==e?e:function(me){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(t=r?.defaultUserAgentProvider)&&void 0!==t?t:(0,VB.pf)({serviceId:be.serviceId,clientVersion:"3.914.0"}),eventStreamSerdeProvider:null!==(s=r?.eventStreamSerdeProvider)&&void 0!==s?s:d8,maxAttempts:null!==(u=r?.maxAttempts)&&void 0!==u?u:d1.Gz,md5:null!==(l=r?.md5)&&void 0!==l?l:y8,region:null!==(d=r?.region)&&void 0!==d?d:(0,g8.B)("Region is missing"),requestHandler:p8.N.create(null!==(p=r?.requestHandler)&&void 0!==p?p:ge),retryMode:null!==(h=r?.retryMode)&&void 0!==h?h:(0,Rt.A)((0,He.A)().m(function me(){var Pe;return(0,He.A)().w(function(qe){for(;;)switch(qe.n){case 0:return qe.n=1,ge();case 1:if(Pe=qe.v.retryMode){qe.n=2;break}Pe=d1.L0;case 2:return qe.a(2,Pe)}},me)})),sha1:null!==(_=r?.sha1)&&void 0!==_?_:xB,sha256:null!==(S=r?.sha256)&&void 0!==S?S:NB,streamCollector:null!==(P=r?.streamCollector)&&void 0!==P?P:l1.k,streamHasher:null!==(B=r?.streamHasher)&&void 0!==B?B:m8,useDualstackEndpoint:null!==(z=r?.useDualstackEndpoint)&&void 0!==z?z:function(){return Promise.resolve(OB.VW)},useFipsEndpoint:null!==(Y=r?.useFipsEndpoint)&&void 0!==Y?Y:function(){return Promise.resolve(BB.Hj)}})}(u||{});n=(0,w.A)(this,r,[l]),(0,c.A)(n,"config",void 0),n.initConfig=l;var be,d=function(r){var n,e,t,s,u,l;return Object.assign(r,{useFipsEndpoint:null!==(n=r.useFipsEndpoint)&&void 0!==n&&n,useDualstackEndpoint:null!==(e=r.useDualstackEndpoint)&&void 0!==e&&e,forcePathStyle:null!==(t=r.forcePathStyle)&&void 0!==t&&t,useAccelerateEndpoint:null!==(s=r.useAccelerateEndpoint)&&void 0!==s&&s,useGlobalEndpoint:null!==(u=r.useGlobalEndpoint)&&void 0!==u&&u,disableMultiregionAccessPoints:null!==(l=r.disableMultiregionAccessPoints)&&void 0!==l&&l,defaultSigningName:"s3"})}(l),h=function(r){var e=r.responseChecksumValidation,t=r.requestStreamBufferSize;return Object.assign(r,{requestChecksumCalculation:(0,Xp.t)(r.requestChecksumCalculation??"WHEN_SUPPORTED"),responseChecksumValidation:(0,Xp.t)(e??"WHEN_SUPPORTED"),requestStreamBufferSize:Number(t??0)})}((0,F4.D)(d)),_=(0,V4.$z)(h),S=(0,P4.T)(_),P=(0,dA.OV)(S),z=function(r){return Object.assign(r,{eventStreamMarshaller:r.eventStreamSerdeProvider(r)})}((0,N4.C)(P)),de=function(r,n){var t=(0,k.A)(n.session,2),s=t[0],u=t[1],S=r.bucketEndpoint;return Object.assign(r,{forcePathStyle:r.forcePathStyle??!1,useAccelerateEndpoint:r.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:r.disableMultiregionAccessPoints??!1,followRegionRedirects:r.followRegionRedirects??!1,s3ExpressIdentityProvider:r.s3ExpressIdentityProvider??new t4(function(){var P=(0,Rt.A)((0,He.A)().m(function B(z){return(0,He.A)().w(function(Y){for(;;)if(0===Y.n)return Y.a(2,s().send(new u({Bucket:z})))},B)}));return function(B){return P.apply(this,arguments)}}()),bucketEndpoint:S??!1})}(function(r){var n,t=function(r){return r.sigv4aSigningRegionSet=(0,j4.t)(r.sigv4aSigningRegionSet),r}((0,L4.h)(r));return Object.assign(t,{authSchemePreference:(0,Xp.t)(null!==(n=r.authSchemePreference)&&void 0!==n?n:[])})}(z),{session:[function(){return n},gB]}),ge=function(r,n){var e=Object.assign((0,g1.R)(r),(0,v1.xA)(r),(0,h1.e)(r),function(r){var n=r.httpAuthSchemes,e=r.httpAuthSchemeProvider,t=r.credentials;return{setHttpAuthScheme:function(u){var l=n.findIndex(function(d){return d.schemeId===u.schemeId});-1===l?n.push(u):n.splice(l,1,u)},httpAuthSchemes:function(){return n},setHttpAuthSchemeProvider:function(u){e=u},httpAuthSchemeProvider:function(){return e},setCredentials:function(u){t=u},credentials:function(){return t}}}(r));return n.forEach(function(t){return t.configure(e)}),Object.assign(r,(0,g1.$)(e),(0,v1.uv)(e),(0,h1.j)(e),function(r){return{httpAuthSchemes:r.httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()}}(e))}(de,u?.extensions||[]);return n.config=ge,n.middlewareStack.use((0,k4.sM)(n.config)),n.middlewareStack.use((0,O4.ey)(n.config)),n.middlewareStack.use((0,M4.vK)(n.config)),n.middlewareStack.use((0,dA.TC)(n.config)),n.middlewareStack.use((0,YO.Y7)(n.config)),n.middlewareStack.use((0,JO.n)(n.config)),n.middlewareStack.use((0,I4.w)(n.config,{httpAuthSchemeParametersProvider:cB,identityProviderConfigProvider:(be=(0,Rt.A)((0,He.A)().m(function Pe(qe){return(0,He.A)().w(function(dt){for(;;)if(0===dt.n)return dt.a(2,new T4.h({"aws.auth#sigv4":qe.credentials,"aws.auth#sigv4a":qe.credentials}))},Pe)})),function me(Pe){return be.apply(this,arguments)})})),n.middlewareStack.use((0,mA.l)(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function s4(o){var r=o.bucketEndpoint;return function(n){return function(){var e=(0,Rt.A)((0,He.A)().m(function t(s){var u,l;return(0,He.A)().w(function(d){for(;;)switch(d.n){case 0:if(u=s.input.Bucket,r||"string"!=typeof u||r4(u)||!(u.indexOf("/")>=0)){d.n=1;break}throw(l=new Error("Bucket name shouldn't contain '/', received '".concat(u,"'"))).name="InvalidBucketName",l;case 1:return d.a(2,n((0,g.A)({},s)))}},t)}));return function(t){return e.apply(this,arguments)}}()}}(r),u4),e.addRelativeTo(function a4(o){return function(r,n){return function(){var e=(0,Rt.A)((0,He.A)().m(function t(s){var u,l,d,p,h,_,S,P;return(0,He.A)().w(function(B){for(;;)switch(B.p=B.n){case 0:if(!o.bucketEndpoint){B.n=3;break}if(!(u=n.endpointV2)){B.n=3;break}if("string"!=typeof(l=s.input.Bucket)){B.n=3;break}B.p=1,d=new URL(l),n.endpointV2=(0,g.A)((0,g.A)({},u),{},{url:d}),B.n=3;break;case 2:throw B.p=2,P=B.v,h="@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=".concat(l," could not be parsed as URL."),"NoOpLogger"===(null===(p=n.logger)||void 0===p||null===(p=p.constructor)||void 0===p?void 0:p.name)?console.warn(h):null===(_=n.logger)||void 0===_||null===(S=_.warn)||void 0===S||S.call(_,h),P;case 3:return B.a(2,r(s))}},t,null,[[1,2]])}));return function(t){return e.apply(this,arguments)}}()}}(r),o4)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function qO(o){return function(r){return function(){var n=(0,Rt.A)((0,He.A)().m(function e(t){var s,u;return(0,He.A)().w(function(l){for(;;)if(0===l.n)return Jo.K.isInstance(s=t.request)&&s.body&&"node"===o.runtime&&"FetchHttpHandler"!==(null===(u=o.requestHandler)||void 0===u||null===(u=u.constructor)||void 0===u?void 0:u.name)&&(s.headers=(0,g.A)((0,g.A)({},s.headers),{},{Expect:"100-continue"})),l.a(2,r((0,g.A)((0,g.A)({},t),{},{request:s})))},e)}));return function(e){return n.apply(this,arguments)}}()}}(r),WO)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function p4(o){return function(r,n){return function(){var e=(0,Rt.A)((0,He.A)().m(function t(s){var u,l,d,p,h,_,S,P,z,Y;return(0,He.A)().w(function(ge){for(;;)switch(ge.p=ge.n){case 0:return ge.p=0,ge.n=1,r(s);case 1:return ge.a(2,ge.v);case 2:if(ge.p=2,P=ge.v,!o.followRegionRedirects){ge.n=8;break}if(d=null==P||null===(u=P.$metadata)||void 0===u?void 0:u.httpStatusCode,p="HeadBucketCommand"===n.commandName,!(h=null==P||null===(l=P.$response)||void 0===l||null===(l=l.headers)||void 0===l?void 0:l["x-amz-bucket-region"])){ge.n=8;break}if(301!==d&&(400!==d||"IllegalLocationConstraintException"!==P?.name&&!p)){ge.n=8;break}if(ge.p=3,S=h,null===(_=n.logger)||void 0===_){ge.n=5;break}return z=_,Y="Redirecting from ",ge.n=4,o.region();case 4:z.debug.call(z,Y.concat.call(Y,ge.v," to ").concat(S));case 5:n.__s3RegionRedirect=S,ge.n=7;break;case 6:throw ge.p=6,new Error("Region redirect failed: "+ge.v);case 7:return ge.a(2,r(s));case 8:throw P;case 9:return ge.a(2)}},t,null,[[3,6],[0,2]])}));return function(t){return e.apply(this,arguments)}}()}}(r),f4),e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Rt.A)((0,He.A)().m(function s(u){var l,d,p,h,S;return(0,He.A)().w(function(P){for(;;)switch(P.p=P.n){case 0:return P.n=1,r.region();case 1:return l=P.v,d=r.region,p=function(){},e.__s3RegionRedirect&&(Object.defineProperty(r,"region",{writable:!1,value:function(){var B=(0,Rt.A)((0,He.A)().m(function Y(){return(0,He.A)().w(function(de){for(;;)if(0===de.n)return de.a(2,e.__s3RegionRedirect)},Y)}));return function z(){return B.apply(this,arguments)}}()}),p=function(){return Object.defineProperty(r,"region",{writable:!0,value:d})}),P.p=2,P.n=3,n(u);case 3:if(h=P.v,!e.__s3RegionRedirect){P.n=5;break}return p(),P.n=4,r.region();case 4:if(l===P.v){P.n=5;break}throw new Error("Region was not restored following S3 region redirect.");case 5:return P.a(2,h);case 6:throw P.p=6,S=P.v,p(),S;case 7:return P.a(2)}},s,null,[[2,6]])}));return function(s){return t.apply(this,arguments)}}()}}(r),d4)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function(r){return function(n,e){return function(){var t=(0,Rt.A)((0,He.A)().m(function s(u){var l,d,p,h,_,P,B,z;return(0,He.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(!e.endpointV2){Y.n=3;break}if(_="sigv4-s3express"===(null===(l=(h=e.endpointV2).properties)||void 0===l||null===(l=l.authSchemes)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.name),("S3Express"===(null===(d=h.properties)||void 0===d?void 0:d.backend)||"Directory"===(null===(p=h.properties)||void 0===p?void 0:p.bucketType))&&((0,Ji.J)(e,"S3_EXPRESS_BUCKET","J"),e.isS3ExpressBucket=!0),!_){Y.n=3;break}if(!(P=u.input.Bucket)){Y.n=3;break}return z=r.s3ExpressIdentityProvider,Y.n=1,r.credentials();case 1:return Y.n=2,z.getS3ExpressIdentity.call(z,Y.v,{Bucket:P});case 2:e.s3ExpressIdentity=B=Y.v,Jo.K.isInstance(u.request)&&B.sessionToken&&(u.request.headers[Kh]=B.sessionToken);case 3:return Y.a(2,n(u))}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),A4)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Rt.A)((0,He.A)().m(function s(u){var l,d,p,h,_,S,P,B,z,Y,de,ge;return(0,He.A)().w(function(be){for(;;)switch(be.n){case 0:if(Jo.K.isInstance(u.request)){be.n=1;break}return be.a(2,n(u));case 1:if(l=(0,qh.u)(e),d=l.selectedHttpAuthScheme){be.n=2;break}throw new Error("No HttpAuthScheme was selected: unable to sign request");case 2:if(h=void 0===(p=d.httpAuthOption.signingProperties)?{}:p,_=d.identity,S=d.signer,!e.s3ExpressIdentity){be.n=5;break}return z=x4,Y=e.s3ExpressIdentity,de=h,ge=u.request,be.n=3,r.signer();case 3:return be.n=4,z(Y,de,ge,be.v);case 4:P=be.v,be.n=7;break;case 5:return be.n=6,S.sign(u.request,_,h);case 6:P=be.v;case 7:return be.n=8,n((0,g.A)((0,g.A)({},u),{},{request:P})).catch((S.errorHandler||S4)(h));case 8:return(S.successHandler||E4)((B=be.v).response,h),be.a(2,B)}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),mA.Q)}}}(n.config)),n}return(0,F.A)(r,o),(0,m.A)(r,[{key:"destroy",value:function(){(0,ze.A)(r,"destroy",this,3)([])}}])}(B4.K),V8=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-mediafile-pane-renderer"]],standalone:!1,decls:1,vars:0,template:function(e,t){1&e&&a.\u0275\u0275text(0,"Media File")},encapsulation:2}),r}(),y1=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),e.register(new Xt.ContentPlugin({id:"media_file",title:"Media File",selectionComponent:void 0,editorComponent:void 0,renderComponent:V8,handler:void 0}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.ContentPluginManager))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),cf=new a.InjectionToken("Media Settings"),B8=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.endpointUrl=r.endpointUrl,this.cloudinaryUrl=r.cloudinaryUrl,this.uploadPreset=r.uploadPreset,this.imageUrl=r.imageUrl,this.bucket=r.bucket,this.prefix=r.prefix)}),wv=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.id=r.id,this.contentType=r.contentType,this.contentDisposition=r.contentDisposition,this.path=r.path,this.fileName=r.fileName,this.length=r.length,this.extension=r.extension?r.extension:void 0,this.realPath=r.realPath&&""!==r.realPath?r.realPath:void 0)}),df=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.settings=e,this.cognitoSettings=t,this.http=s,this.authFacade=u},[{key:"bulkUpload",value:function(t){var s=this,l=t.fileNameOverride,p=[];return t.files.forEach(function(h){if(h){var _=new FormData;_.append("File",h,l||h.name),p.push(s.http.post(s.settings.endpointUrl,_).pipe((0,aa.W)(function(S){return(0,Yi.$)(new Error("Error uploading images."))})))}}),p.length>0?(0,bn.p)(p):(0,Re.of)([])}},{key:"bulkUploadS3",value:function(t){var s=this,l=t.fileNameOverride,d=t.nocache,p=[];return t.files.forEach(function(h){h&&p.push(new G.c(function(_){var S=l||ur(),P=h.name.split(".",2),Y=(0,k.A)(P,2)[1],de=S+(Y?"."+Y:"");new OO({client:s.buildClient(),params:(0,g.A)({Bucket:s.settings.bucket,Key:s.settings.prefix+de,Body:h,ContentType:h.type},d?{CacheControl:"no-cache"}:{})}).done().then(function(){_.next(new wv({id:S,contentType:h.type,contentDisposition:"",path:de,realPath:s.settings.prefix+de,length:h.size,fileName:h.name,extension:Y&&""!==Y?Y:void 0})),_.complete()})}))}),p.length>0?(0,bn.p)(p):(0,Re.of)([])}},{key:"convertToFiles",value:function(t){var s=this,u=t.map(function(l){return new G.c(function(d){fetch("".concat(s.settings.imageUrl,"/").concat(l.path)).then(function(p){p.blob().then(function(h){new Promise(function(_){var S=new FileReader;S.onload=function(){return _(S.result)},S.readAsDataURL(h)}).then(function(_){var S=s.convertDataURIToBinary(_),P=new File([S],l.fileName,{type:l.contentType});d.next(P),d.complete()})})})})});return(0,bn.p)(u)}},{key:"convertDataURIToBinary",value:function(t){for(var u=t.indexOf(";base64,")+8,l=t.substring(u),d=window.atob(l),p=d.length,h=new Uint8Array(new ArrayBuffer(p)),_=0;_<p;_++)h[_]=d.charCodeAt(_);return h}},{key:"buildClient",value:function(){var t=this;return new N8({region:this.cognitoSettings.region,credentials:Gh({client:new zh.D({region:this.cognitoSettings.region}),identityPoolId:this.cognitoSettings.identityPoolId,logins:(0,c.A)({},"cognito-idp.".concat(this.cognitoSettings.region,".amazonaws.com/").concat(this.cognitoSettings.userPoolId),function(){return Xm(t.authFacade.getUser$.pipe((0,fe.T)(function(u){return u?u.id_token:void 0})))})})})}},{key:"isImage",value:function(t){var s=t.file;return s.type&&0===s.type.indexOf("image/")}},{key:"isVideo",value:function(t){var s=t.file;return s.type&&0===s.type.indexOf("video/")}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cf),a.\u0275\u0275inject(Wd),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(bi))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),cn=b(52909),_t=b(1395),Gc=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),Wn=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"generateTokens",value:function(t){var s=new Map;return this.attributeTokens(t,s,"",0),s}},{key:"generateGenericTokens",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=new Map;return this.genericTokens(t,u,s,0),u}},{key:"attributeTokens",value:function(t,s,u,l){var d=this;t.forEach(function(p,h){if("widget"!==p.name)for(var _ in p)p.type===_t.AttributeTypes.Complex||"attributes"===_&&p.attributes&&p.attributes.length>0?d.attributeTokens(p.attributes,s,p.type===_t.AttributeTypes.Complex?"".concat(u):"".concat(u,".").concat(p.name),l+1):"attributes"!==_&&s.set(_===p.name?"".concat(u,".").concat(_):"".concat(u,".").concat(p.name,".").concat(_),p[_])})}},{key:"genericTokens",value:function(t,s,u,l){for(var d in t)if("object"!=typeof t[d])s.set("".concat(u,".").concat(d),t[d]);else if(Array.isArray(t[d])&&"attributes"===d)this.attributeTokens(t[d],s,"".concat(u,".").concat(d),l+1);else if(Array.isArray(t[d]))for(var h=t[d].length,_=0;_<h;_++)this.genericTokens(t[d][_],s,"".concat(u,".").concat(d,".").concat(_),l+1);else this.genericTokens(t[d],s,"".concat(u,".").concat(d),l+1)}},{key:"replaceTokens",value:function(t,s){return s&&s.forEach(function(u,l){t=t.replace("[".concat(l,"]"),"".concat(u))}),t}},{key:"matchTokens",value:function(t,s){for(var u=[],l=s.length,d=0;d<l;d++)t.indexOf("[".concat(s[d],"]"))>-1&&u.push(s[d]);return u}},{key:"discoverTokens",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=t.match(/(\[(?:\[??[^\[]*?\]))/g);return null===u?[]:u.reduce(function(d,p){if(-1!==p.indexOf(" ")||-1===p.indexOf("."))return d;var h=1===p.indexOf(".")?["."]:p.substr(1,p.length-2).split("."),S=(0,k.A)(h,1)[0];return-1!==d.findIndex(function(P){return P===S})?d:[].concat((0,A.A)(d),[s?p.substr(1,p.length-2):S])},[])}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),pa=b(68951),Ln=b(52575),L8=["gutterEls"],j8=["*"],U8=function(r,n,e,t,s,u){return{areaBefore:r,areaAfter:n,gutterNum:e,first:t,last:s,isDragged:u}};function G8(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function z8(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,G8,1,0,"ng-container",7),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext(3),t=e.$implicit,s=e.index,u=e.first,l=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",l.customGutter.template)("ngTemplateOutletContext",a.\u0275\u0275pureFunction6(3,U8,t,l.displayedAreas[s+1],s+1,u,s===l.displayedAreas.length-2,l.draggedGutterNum===s+1))("ngTemplateOutletInjector",n)}}function $8(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,z8,2,10,"ng-container",6),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2).index;a.\u0275\u0275advance(),a.\u0275\u0275property("asSplitGutterDynamicInjector",n+1)}}function H8(o,r){1&o&&a.\u0275\u0275element(0,"div",8)}function K8(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",4,0),a.\u0275\u0275listener("keydown",function(p){a.\u0275\u0275restoreView(n);var h=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.startKeyboardDrag(p,2*h+1,h+1))})("mousedown",function(p){a.\u0275\u0275restoreView(n);var h=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.startMouseDrag(p,2*h+1,h+1))})("touchstart",function(p){a.\u0275\u0275restoreView(n);var h=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.startMouseDrag(p,2*h+1,h+1))})("mouseup",function(p){a.\u0275\u0275restoreView(n);var h=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.clickGutter(p,h+1))})("touchend",function(p){a.\u0275\u0275restoreView(n);var h=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.clickGutter(p,h+1))}),a.\u0275\u0275template(2,$8,2,1,"ng-container",5)(3,H8,1,0,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275reference(4),t=a.\u0275\u0275nextContext(),s=t.$implicit,u=t.index,l=a.\u0275\u0275nextContext();a.\u0275\u0275styleProp("flex-basis",l.gutterSize,"px")("order",2*u+1),a.\u0275\u0275classProp("as-dragged",l.draggedGutterNum===u+1),a.\u0275\u0275attribute("aria-label",l.gutterAriaLabel)("aria-orientation",l.direction)("aria-valuemin",s.minSize)("aria-valuemax",s.maxSize)("aria-valuenow","*"===s.size?null:s.size)("aria-valuetext",l.getAriaAreaSizeText(s.size)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==l.customGutter?null:l.customGutter.template)("ngIfElse",e)}}function q8(o,r){1&o&&a.\u0275\u0275template(0,K8,5,14,"div",3),2&o&&a.\u0275\u0275property("ngIf",!1===r.last)}function zc(o){if(void 0!==o.changedTouches&&o.changedTouches.length>0)return{x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(void 0!==o.clientX&&void 0!==o.clientY)return{x:o.clientX,y:o.clientY};if(void 0!==o.currentTarget){var r=o.currentTarget;return{x:r.offsetLeft,y:r.offsetTop}}return null}function _1(o,r,n){return Math.abs(o.x-r.x)<=n&&Math.abs(o.y-r.y)<=n}function b1(o,r){var n=o.nativeElement.getBoundingClientRect();return"horizontal"===r?n.width:n.height}function $c(o){return"boolean"==typeof o?o:"false"!==o}function ls(o,r){return null==o?r:(o=Number(o),!isNaN(o)&&o>=0?o:r)}function A1(o,r){if("percent"===o){var n=r.reduce(function(t,s){return"*"!==s?t+s:t},0),e=r.filter(function(t){return"*"===t});return!(e.length>1)&&(1===e.length||n>99.9)&&n<100.1}if("pixel"===o)return 1===r.filter(function(t){return"*"===t}).length}function pf(o){return"*"===o.size?null:!0===o.component.lockSize?o.size:null===o.component.minSize?null:o.component.minSize}function ff(o){return"*"===o.size?null:!0===o.component.lockSize?o.size:null===o.component.maxSize?null:o.component.maxSize<o.size?o.size:o.component.maxSize}function Ul(o,r,n,e){return r.reduce(function(t,s){var u=function Q8(o,r,n,e){return 0===n?{areaSnapshot:r,pixelAbsorb:0,percentAfterAbsorption:r.sizePercentAtStart,pixelRemain:0}:0===r.sizePixelAtStart&&n<0?{areaSnapshot:r,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===o?function X8(o,r,n){var t=(o.sizePixelAtStart+r)/n*100;if(r>0){if(null!==o.area.maxSize&&t>o.area.maxSize){var s=o.area.maxSize/100*n;return{areaSnapshot:o,pixelAbsorb:s,percentAfterAbsorption:o.area.maxSize,pixelRemain:o.sizePixelAtStart+r-s}}return{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:t>100?100:t,pixelRemain:0}}if(r<0){if(null!==o.area.minSize&&t<o.area.minSize){var u=o.area.minSize/100*n;return{areaSnapshot:o,pixelAbsorb:u,percentAfterAbsorption:o.area.minSize,pixelRemain:o.sizePixelAtStart+r-u}}return t<0?{areaSnapshot:o,pixelAbsorb:-o.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:r+o.sizePixelAtStart}:{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:t,pixelRemain:0}}}(r,n,e):"pixel"===o?function Y8(o,r){var n=o.sizePixelAtStart+r;return r>0?null!==o.area.maxSize&&n>o.area.maxSize?{areaSnapshot:o,pixelAbsorb:o.area.maxSize-o.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n-o.area.maxSize}:{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:-1,pixelRemain:0}:r<0?null!==o.area.minSize&&n<o.area.minSize?{areaSnapshot:o,pixelAbsorb:o.area.minSize+r-n,percentAfterAbsorption:-1,pixelRemain:n-o.area.minSize}:n<0?{areaSnapshot:o,pixelAbsorb:-o.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r+o.sizePixelAtStart}:{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(r,n):void 0}(o,s,t.remain,e);return t.list.push(u),t.remain=u.pixelRemain,t},{remain:n,list:[]})}function C1(o,r){"*"!==r.areaSnapshot.area.size&&("percent"===o?r.areaSnapshot.area.size=r.percentAfterAbsorption:"pixel"===o&&(r.areaSnapshot.area.size=r.areaSnapshot.sizePixelAtStart+r.pixelAbsorb))}var J8=new a.InjectionToken("angular-split-global-config"),Z8=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e,this.gutterToHandleElementMap=new Map,this.gutterToExcludeDragElementMap=new Map},[{key:"canStartDragging",value:function(t,s){return(!this.gutterToExcludeDragElementMap.has(s)||!this.gutterToExcludeDragElementMap.get(s).some(function(l){return l.nativeElement.contains(t)}))&&(!this.gutterToHandleElementMap.has(s)||this.gutterToHandleElementMap.get(s).some(function(l){return l.nativeElement.contains(t)}))}},{key:"addToMap",value:function(t,s,u){t.has(s)?t.get(s).push(u):t.set(s,[u])}},{key:"removedFromMap",value:function(t,s,u){var l=t.get(s);l.splice(l.indexOf(u),1),0===l.length&&t.delete(s)}}],[{key:"ngTemplateContextGuard",value:function(t,s){return!0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","asSplitGutter",""]],standalone:!1}),r}(),e6=new a.InjectionToken("Gutter num"),t6=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.vcr=e,this.templateRef=t},[{key:"gutterNum",set:function(t){this.vcr.clear();var s=a.Injector.create({providers:[{provide:e6,useValue:t}],parent:this.vcr.injector});this.vcr.createEmbeddedView(this.templateRef,{$implicit:s})}}],[{key:"ngTemplateContextGuard",value:function(t,s){return!0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef),a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","asSplitGutterDynamicInjector",""]],inputs:{gutterNum:[0,"asSplitGutterDynamicInjector","gutterNum"]},standalone:!1}),r}(),Hc=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){var d=this;(0,v.A)(this,n),this.ngZone=e,this.elRef=t,this.cdRef=s,this.renderer=u,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new a.EventEmitter(!1),this.dragEnd=new a.EventEmitter(!1),this.gutterClick=new a.EventEmitter(!1),this.gutterDblClick=new a.EventEmitter(!1),this.dragProgressSubject=new T.B,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.draggedGutterNum=void 0,this.direction=this._direction,this._config=l?Object.assign(this._config,l):this._config,Object.keys(this._config).forEach(function(p){d[p]=d._config[p]})},[{key:"direction",get:function(){return this._direction},set:function(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}},{key:"unit",get:function(){return this._unit},set:function(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}},{key:"gutterSize",get:function(){return this._gutterSize},set:function(t){this._gutterSize=ls(t,11),this.build(!1,!1)}},{key:"gutterStep",get:function(){return this._gutterStep},set:function(t){this._gutterStep=ls(t,1)}},{key:"restrictMove",get:function(){return this._restrictMove},set:function(t){this._restrictMove=$c(t)}},{key:"useTransition",get:function(){return this._useTransition},set:function(t){this._useTransition=$c(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=$c(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}},{key:"dir",get:function(){return this._dir},set:function(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}},{key:"gutterDblClickDuration",get:function(){return this._gutterDblClickDuration},set:function(t){this._gutterDblClickDuration=ls(t,0)}},{key:"transitionEnd",get:function(){var t=this;return new G.c(function(s){return t.transitionEndSubscriber=s}).pipe((0,Ln.B)(20))}},{key:"ngAfterViewInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){setTimeout(function(){return t.renderer.addClass(t.elRef.nativeElement,"as-init")})})}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(t){var s={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(s),this.build(!0,!0)):this.hiddenAreas.push(s)}},{key:"removeArea",value:function(t){if(this.displayedAreas.some(function(l){return l.component===t})){var s=this.displayedAreas.find(function(l){return l.component===t});this.displayedAreas.splice(this.displayedAreas.indexOf(s),1),this.build(!0,!0)}else if(this.hiddenAreas.some(function(l){return l.component===t})){var u=this.hiddenAreas.find(function(l){return l.component===t});this.hiddenAreas.splice(this.hiddenAreas.indexOf(u),1)}}},{key:"updateArea",value:function(t,s,u){!0===t.visible&&this.build(s,u)}},{key:"showArea",value:function(t){var s,u=this.hiddenAreas.find(function(d){return d.component===t});if(void 0!==u){var l=this.hiddenAreas.splice(this.hiddenAreas.indexOf(u),1);(s=this.displayedAreas).push.apply(s,(0,A.A)(l)),this.build(!0,!0)}}},{key:"hideArea",value:function(t){var s,u=this.displayedAreas.find(function(d){return d.component===t});if(void 0!==u){var l=this.displayedAreas.splice(this.displayedAreas.indexOf(u),1);l.forEach(function(d){d.order=0,d.size=0}),(s=this.hiddenAreas).push.apply(s,(0,A.A)(l)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map(function(t){return t.size})}},{key:"setVisibleAreaSizes",value:function(t){if(t.length!==this.displayedAreas.length)return!1;var s=t.map(function(l){return ls(l,"*")});return!1!==A1(this.unit,s)&&(this.displayedAreas.forEach(function(l,d){return l.component.size=s[d]}),this.build(!1,!0),!0)}},{key:"build",value:function(t,s){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(function(h){return null!==h.component.order})&&this.displayedAreas.sort(function(h,_){return h.component.order-_.component.order}),this.displayedAreas.forEach(function(h,_){h.order=2*_,h.component.setStyleOrder(h.order)})),!0===s){var u=A1(this.unit,this.displayedAreas.map(function(h){return h.component.size}));switch(this.unit){case"percent":var l=100/this.displayedAreas.length;this.displayedAreas.forEach(function(h){h.size=u?h.component.size:l,h.minSize=pf(h),h.maxSize=ff(h)});break;case"pixel":if(u)this.displayedAreas.forEach(function(h){h.size=h.component.size,h.minSize=pf(h),h.maxSize=ff(h)});else{var d=this.displayedAreas.filter(function(h){return"*"===h.component.size});if(0===d.length&&this.displayedAreas.length>0)this.displayedAreas.forEach(function(h,_){h.size=0===_?"*":h.component.size,h.minSize=0===_?h.component.minSize:pf(h),h.maxSize=0===_?null:ff(h)});else if(d.length>1){var p=!1;this.displayedAreas.forEach(function(h){"*"===h.component.size?!1===p?(h.size="*",h.minSize=null,h.maxSize=null,p=!0):(h.size=100,h.minSize=null,h.maxSize=null):(h.size=h.component.size,h.minSize=pf(h),h.maxSize=ff(h))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var t=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var s=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(function(u){"*"===u.size?u.component.setStyleFlex(1,1,1===t.displayedAreas.length?"100%":"auto",!1,!1):u.component.setStyleFlex(0,0,"calc( ".concat(u.size,"% - ").concat(u.size/100*s,"px )"),null!==u.minSize&&u.minSize===u.size,null!==u.maxSize&&u.maxSize===u.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(function(u){"*"===u.size?u.component.setStyleFlex(1,1,1===t.displayedAreas.length?"100%":"auto",!1,!1):1===t.displayedAreas.length?u.component.setStyleFlex(0,0,"100%",!1,!1):u.component.setStyleFlex(0,0,"".concat(u.size,"px"),null!==u.minSize&&u.minSize===u.size,null!==u.maxSize&&u.maxSize===u.size)})}},{key:"clickGutter",value:function(t,s){var u=this,l=zc(t);this.startPoint&&_1(this.startPoint,l,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",s),this.stopDragging()):this._clickTimeout=window.setTimeout(function(){u._clickTimeout=null,u.notify("click",s),u.stopDragging()},this.gutterDblClickDuration))}},{key:"startKeyboardDrag",value:function(t,s,u){if(!0!==this.disabled&&!0!==this.isWaitingClear){var l=function W8(o,r){if("horizontal"===r)switch(o.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===r)switch(o.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}var n=o.currentTarget,e="PageUp"===o.key||"PageDown"===o.key?500:50,t=n.offsetLeft,s=n.offsetTop;switch(o.key){case"ArrowLeft":t-=e;break;case"ArrowRight":t+=e;break;case"ArrowUp":s-=e;break;case"ArrowDown":s+=e;break;case"PageUp":"vertical"===r?s-=e:t+=e;break;case"PageDown":"vertical"===r?s+=e:t-=e;break;default:return null}return{x:t,y:s}}(t,this.direction);null!==l&&(this.endPoint=l,this.startPoint=zc(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(s,u),this.startDragging(),this.drag(),this.stopDragging())}}},{key:"startMouseDrag",value:function(t,s,u){var l=this;this.customGutter&&!this.customGutter.canStartDragging(t.target,u)||(t.preventDefault(),t.stopPropagation(),this.startPoint=zc(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(s,u),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(function(){l.dragListeners.push(l.renderer.listen("document","mousemove",l.mouseDragEvent.bind(l))),l.dragListeners.push(l.renderer.listen("document","touchmove",l.mouseDragEvent.bind(l)))}),this.startDragging()))}},{key:"setupForDragEvent",value:function(t,s){var u=this;if(this.snapshot={gutterNum:s,lastSteppedOffset:0,allAreasSizePixel:b1(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(function(h){var _={area:h,sizePixelAtStart:b1(h.component.elRef,u.direction),sizePercentAtStart:"percent"===u.unit?h.size:-1};h.order<t?!0===u.restrictMove?u.snapshot.areasBeforeGutter=[_]:u.snapshot.areasBeforeGutter.unshift(_):h.order>t&&(!0===u.restrictMove?0===u.snapshot.areasAfterGutter.length&&(u.snapshot.areasAfterGutter=[_]):u.snapshot.areasAfterGutter.push(_))}),this.restrictMove&&"percent"===this.unit){var l=this.snapshot.areasBeforeGutter[0],d=this.snapshot.areasAfterGutter[0];if("*"===l.area.size||"*"===d.area.size){var p=this.displayedAreas.reduce(function(h,_){return l.area!==_&&d.area!==_?h+_.size:h},0);this.snapshot.allInvolvedAreasSizePercent=100-p}else this.snapshot.allInvolvedAreasSizePercent=[].concat((0,A.A)(this.snapshot.areasBeforeGutter),(0,A.A)(this.snapshot.areasAfterGutter)).reduce(function(h,_){return h+_.sizePercentAtStart},0)}}},{key:"startDragging",value:function(){this.displayedAreas.forEach(function(t){return t.component.lockEvents()}),this.isDragging=!0,this.isWaitingInitialMove=!0}},{key:"mouseDragEvent",value:function(t){t.preventDefault(),t.stopPropagation();var s=zc(t);null!==this._clickTimeout&&!_1(this.startPoint,s,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=zc(t),null!==this.endPoint&&this.drag())}},{key:"drag",value:function(){var t=this;if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(function(){t.isWaitingInitialMove=!1,t.renderer.addClass(t.elRef.nativeElement,"as-dragging"),t.draggedGutterNum=t.snapshot.gutterNum,t.cdRef.markForCheck(),t.notify("start",t.snapshot.gutterNum)})}var s="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(s=-s);var u=Math.round(s/this.gutterStep)*this.gutterStep;if(u!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=u;var l=Ul(this.unit,this.snapshot.areasBeforeGutter,-u,this.snapshot.allAreasSizePixel),d=Ul(this.unit,this.snapshot.areasAfterGutter,u,this.snapshot.allAreasSizePixel);if(0!==l.remain&&0!==d.remain?Math.abs(l.remain)===Math.abs(d.remain)||(Math.abs(l.remain)>Math.abs(d.remain)?d=Ul(this.unit,this.snapshot.areasAfterGutter,u+l.remain,this.snapshot.allAreasSizePixel):l=Ul(this.unit,this.snapshot.areasBeforeGutter,-(u-d.remain),this.snapshot.allAreasSizePixel)):0!==l.remain?d=Ul(this.unit,this.snapshot.areasAfterGutter,u+l.remain,this.snapshot.allAreasSizePixel):0!==d.remain&&(l=Ul(this.unit,this.snapshot.areasBeforeGutter,-(u-d.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var p=[].concat((0,A.A)(l.list),(0,A.A)(d.list)),_=p.find(function(S){return"*"===S.percentAfterAbsorption})??p.find(function(S){return 0!==S.percentAfterAbsorption&&S.percentAfterAbsorption!==S.areaSnapshot.area.minSize&&S.percentAfterAbsorption!==S.areaSnapshot.area.maxSize});_&&(_.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-p.filter(function(S){return S!==_}).reduce(function(S,P){return S+P.percentAfterAbsorption},0))}l.list.forEach(function(S){return C1(t.unit,S)}),d.list.forEach(function(S){return C1(t.unit,S)}),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}},{key:"stopDragging",value:function(t){var s=this;if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(function(l){return l.component.unlockEvents()});this.dragListeners.length>0;){var u=this.dragListeners.pop();u&&u()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.draggedGutterNum=void 0,this.cdRef.markForCheck(),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(function(){setTimeout(function(){s.startPoint=null,s.endPoint=null,s.isWaitingClear=!1})})}}},{key:"notify",value:function(t,s){var u=this,l=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:s,sizes:l}):"end"===t?this.dragEnd.emit({gutterNum:s,sizes:l}):"click"===t?this.gutterClick.emit({gutterNum:s,sizes:l}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:s,sizes:l}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(function(){return u.transitionEndSubscriber.next(l)}):"progress"===t&&this.dragProgressSubject.next({gutterNum:s,sizes:l})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"collapseArea",value:function(t,s,u){var l=this.displayedAreas.find(function(h){return h.component===t});if(void 0!==l){var d="right"===u?1:-1;l.sizeBeforeCollapse||(l.sizeBeforeCollapse=l.size,l.gutterBeforeCollapse=d),l.size=s;var p=this.gutterEls.find(function(h){return h.nativeElement.style.order==="".concat(l.order+d)});p&&this.renderer.addClass(p.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}}},{key:"expandArea",value:function(t){var s=this.displayedAreas.find(function(l){return l.component===t});if(void 0!==s&&s.sizeBeforeCollapse){s.size=s.sizeBeforeCollapse,s.sizeBeforeCollapse=null;var u=this.gutterEls.find(function(l){return l.nativeElement.style.order==="".concat(s.order+s.gutterBeforeCollapse)});u&&this.renderer.removeClass(u.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}}},{key:"getAriaAreaSizeText",value:function(t){return"*"===t?null:t.toFixed(0)+" "+this.unit}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(J8,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["as-split"]],contentQueries:function(e,t,s){var u;1&e&&a.\u0275\u0275contentQuery(s,Z8,5),2&e&&a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.customGutter=u.first)},viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(L8,5),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.gutterEls=s)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],standalone:!1,ngContentSelectors:j8,decls:2,vars:1,consts:[["gutterEls",""],["defaultGutterTpl",""],["ngFor","",3,"ngForOf"],["role","separator","tabindex","0","class","as-split-gutter",3,"as-dragged","flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","separator","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],[4,"ngIf","ngIfElse"],[4,"asSplitGutterDynamicInjector"],[4,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,q8,1,1,"ng-template",2)),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.displayedAreas))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,t6],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]    >.as-split-area .iframe-fix{position:absolute;top:0;left:0;width:100%;height:100%}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),r}(),Kc=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.ngZone=e,this.renderer=t,this.split=s,this.elRef=u,this._order=null,this._size="*",this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")},[{key:"order",get:function(){return this._order},set:function(t){this._order=ls(t,null),this.split.updateArea(this,!0,!1)}},{key:"size",get:function(){return this._size},set:function(t){this._size=ls(t,"*"),this.split.updateArea(this,!1,!0)}},{key:"minSize",get:function(){return this._minSize},set:function(t){this._minSize=ls(t,null),this.split.updateArea(this,!1,!0)}},{key:"maxSize",get:function(){return this._maxSize},set:function(t){this._maxSize=ls(t,null),this.split.updateArea(this,!1,!0)}},{key:"lockSize",get:function(){return this._lockSize},set:function(t){this._lockSize=$c(t),this.split.updateArea(this,!1,!0)}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible=$c(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}},{key:"ngOnInit",value:function(){var t=this;this.split.addArea(this),this.ngZone.runOutsideAngular(function(){t.transitionListener=t.renderer.listen(t.elRef.nativeElement,"transitionend",function(u){"flex-basis"===u.propertyName&&t.split.notify("transitionEnd",-1)})});var s=this.renderer.createElement("div");this.renderer.addClass(s,"iframe-fix"),this.dragStartSubscription=this.split.dragStart.subscribe(function(){t.renderer.setStyle(t.elRef.nativeElement,"position","relative"),t.renderer.appendChild(t.elRef.nativeElement,s)}),this.dragEndSubscription=this.split.dragEnd.subscribe(function(){t.renderer.removeStyle(t.elRef.nativeElement,"position"),t.renderer.removeChild(t.elRef.nativeElement,s)})}},{key:"setStyleOrder",value:function(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}},{key:"setStyleFlex",value:function(t,s,u,l,d){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",s),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",u),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===d?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.lockListeners.push(t.renderer.listen(t.elRef.nativeElement,"selectstart",function(){return!1})),t.lockListeners.push(t.renderer.listen(t.elRef.nativeElement,"dragstart",function(){return!1}))})}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var t=this.lockListeners.pop();t&&t()}}},{key:"ngOnDestroy",value:function(){var t,s;this.unlockEvents(),this.transitionListener&&this.transitionListener(),null===(t=this.dragStartSubscription)||void 0===t||t.unsubscribe(),null===(s=this.dragEndSubscription)||void 0===s||s.unsubscribe(),this.split.removeArea(this)}},{key:"collapse",value:function(){this.split.collapseArea(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right")}},{key:"expand",value:function(){this.split.expandArea(this)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(Hc),a.\u0275\u0275directiveInject(a.ElementRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"],standalone:!1}),r}(),mf=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),x1=b(14876),n6=b(87378),r6=b(2435);var bu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function S1(o){bu=o}var qc={exec:function(){return null}};function Qn(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="string"==typeof o?o:o.source,e={replace:function(s,u){var l="string"==typeof u?u:u.source;return l=l.replace(Ba.caret,"$1"),n=n.replace(s,l),e},getRegex:function(){return new RegExp(n,r)}};return e}var Ba={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:function(r){return new RegExp("^( {0,3}".concat(r,")((?:[\t ][^\\n]*)?(?:\\n|$))"))},nextBulletRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"))},hrRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"))},fencesBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}(?:```|~~~)"))},headingBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}#"))},htmlBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}<(?:[a-z].*>|!--)"),"i")}},Wc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kv=/(?:[*+-]|\d{1,9}[.)])/,E1=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,D1=Qn(E1).replace(/bull/g,kv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),l6=Qn(E1).replace(/bull/g,kv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Pv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Iv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,d6=Qn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Iv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),p6=Qn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,kv).getRegex(),gf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Tv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,f6=Qn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Tv).replace("tag",gf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w1=Qn(Pv).replace("hr",Wc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),Rv={blockquote:Qn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",w1).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:d6,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Wc,html:f6,lheading:D1,list:p6,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:w1,table:qc,text:/^[^\n]+/},F1=Qn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Wc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),g6=(0,g.A)((0,g.A)({},Rv),{},{lheading:l6,table:F1,paragraph:Qn(Pv).replace("hr",Wc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",F1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex()}),h6=(0,g.A)((0,g.A)({},Rv),{},{html:Qn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Tv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Qn(Pv).replace("hr",Wc).replace("heading"," *#{1,6} *[^\n]").replace("lheading",D1).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),k1=/^( {2,}|\\)\n(?!\s*$)/,hf=/(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,Mv=/(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,P1=/(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,b6=Qn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Mv).getRegex(),I1=/(?!~)(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,T1=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,S6=Qn(T1,"u").replace(/punct/g,hf).getRegex(),E6=Qn(T1,"u").replace(/punct/g,I1).getRegex(),R1="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",D6=Qn(R1,"gu").replace(/notPunctSpace/g,P1).replace(/punctSpace/g,Mv).replace(/punct/g,hf).getRegex(),w6=Qn(R1,"gu").replace(/notPunctSpace/g,/(?:(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|~)/).replace(/punctSpace/g,/(?!~)(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/).replace(/punct/g,I1).getRegex(),F6=Qn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,P1).replace(/punctSpace/g,Mv).replace(/punct/g,hf).getRegex(),k6=Qn(/\\(punct)/,"gu").replace(/punct/g,hf).getRegex(),P6=Qn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),I6=Qn(Tv).replace("(?:--\x3e|$)","--\x3e").getRegex(),T6=Qn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",I6).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R6=Qn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",vf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),M1=Qn(/^!?\[(label)\]\[(ref)\]/).replace("label",vf).replace("ref",Iv).getRegex(),N1=Qn(/^!?\[(ref)\](?:\[\])?/).replace("ref",Iv).getRegex(),Nv={_backpedal:qc,anyPunctuation:k6,autolink:P6,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:k1,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:qc,emStrongLDelim:S6,emStrongRDelimAst:D6,emStrongRDelimUnd:F6,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:R6,nolink:N1,punctuation:b6,reflink:M1,reflinkSearch:Qn("reflink|nolink(?!\\()","g").replace("reflink",M1).replace("nolink",N1).getRegex(),tag:T6,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:qc},N6=(0,g.A)((0,g.A)({},Nv),{},{link:Qn(/^!?\[(label)\]\((.*?)\)/).replace("label",vf).getRegex(),reflink:Qn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vf).getRegex()}),Vv=(0,g.A)((0,g.A)({},Nv),{},{emStrongRDelimAst:w6,emStrongLDelim:E6,url:Qn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),V6=(0,g.A)((0,g.A)({},Vv),{},{br:Qn(k1).replace("{2,}","*").getRegex(),text:Qn(Vv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),yf={normal:Rv,gfm:g6,pedantic:h6},Qc={normal:Nv,gfm:Vv,breaks:V6,pedantic:N6},O6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V1=function(r){return O6[r]};function lo(o,r){if(r){if(Ba.escapeTest.test(o))return o.replace(Ba.escapeReplace,V1)}else if(Ba.escapeTestNoEncode.test(o))return o.replace(Ba.escapeReplaceNoEncode,V1);return o}function O1(o){try{o=encodeURI(o).replace(Ba.percentDecode,"%")}catch{return null}return o}function B1(o,r){var n,t=o.replace(Ba.findPipe,function(u,l,d){for(var p=!1,h=l;--h>=0&&"\\"===d[h];)p=!p;return p?"|":" |"}).split(Ba.splitPipe),s=0;if(t[0].trim()||t.shift(),t.length>0&&!(null!==(n=t.at(-1))&&void 0!==n&&n.trim())&&t.pop(),r)if(t.length>r)t.splice(r);else for(;t.length<r;)t.push("");for(;s<t.length;s++)t[s]=t[s].trim().replace(Ba.slashPipe,"|");return t}function Xc(o,r,n){var e=o.length;if(0===e)return"";for(var t=0;t<e;){var s=o.charAt(e-t-1);if(s!==r||n){if(s===r||!n)break;t++}else t++}return o.slice(0,e-t)}function L1(o,r,n,e,t){var s=r.href,u=r.title||null,l=o[1].replace(t.other.outputLinkReplace,"$1");e.state.inLink=!0;var d={type:"!"===o[0].charAt(0)?"image":"link",raw:n,href:s,title:u,text:l,tokens:e.inlineTokens(l)};return e.state.inLink=!1,d}var _f=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),(0,c.A)(this,"rules",void 0),(0,c.A)(this,"lexer",void 0),this.options=r||bu},[{key:"space",value:function(n){var e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}},{key:"code",value:function(n){var e=this.rules.block.code.exec(n);if(e){var t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Xc(t,"\n")}}}},{key:"fences",value:function(n){var e=this.rules.block.fences.exec(n);if(e){var t=e[0],s=function L6(o,r,n){var e=o.match(n.other.indentCodeCompensation);if(null===e)return r;var t=e[1];return r.split("\n").map(function(s){var u=s.match(n.other.beginningSpace);return null===u?s:(0,k.A)(u,1)[0].length>=t.length?s.slice(t.length):s}).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}},{key:"heading",value:function(n){var e=this.rules.block.heading.exec(n);if(e){var t=e[2].trim();if(this.rules.other.endingHash.test(t)){var s=Xc(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}},{key:"hr",value:function(n){var e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Xc(e[0],"\n")}}},{key:"blockquote",value:function(n){var e=this.rules.block.blockquote.exec(n);if(e){for(var t=Xc(e[0],"\n").split("\n"),s="",u="",l=[];t.length>0;){var d=!1,p=[],h=void 0;for(h=0;h<t.length;h++)if(this.rules.other.blockquoteStart.test(t[h]))p.push(t[h]),d=!0;else{if(d)break;p.push(t[h])}t=t.slice(h);var _=p.join("\n"),S=_.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");s=s?"".concat(s,"\n").concat(_):_,u=u?"".concat(u,"\n").concat(S):S;var P=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(S,l,!0),this.lexer.state.top=P,0===t.length)break;var B=l.at(-1);if("code"===B?.type)break;if("blockquote"===B?.type){var z=B,Y=z.raw+"\n"+t.join("\n"),de=this.blockquote(Y);l[l.length-1]=de,s=s.substring(0,s.length-z.raw.length)+de.raw,u=u.substring(0,u.length-z.text.length)+de.text;break}if("list"!==B?.type);else{var ge=B,be=ge.raw+"\n"+t.join("\n"),me=this.list(be);l[l.length-1]=me,s=s.substring(0,s.length-B.raw.length)+me.raw,u=u.substring(0,u.length-ge.raw.length)+me.raw,t=be.substring(l.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:s,tokens:l,text:u}}}},{key:"list",value:function(n){var e=this,t=this.rules.block.list.exec(n);if(t){var s=t[1].trim(),u=s.length>1,l={type:"list",raw:"",ordered:u,start:u?+s.slice(0,-1):"",loose:!1,items:[]};s=u?"\\d{1,9}\\".concat(s.slice(-1)):"\\".concat(s),this.options.pedantic&&(s=u?s:"[*+-]");for(var d=this.rules.other.listItemRegex(s),p=!1;n;){var h=!1,_="",S="";if(!(t=d.exec(n))||this.rules.block.hr.test(n))break;n=n.substring((_=t[0]).length);var P=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,function(Jt){return" ".repeat(3*Jt.length)}),B=n.split("\n",1)[0],z=!P.trim(),Y=0;if(this.options.pedantic?(Y=2,S=P.trimStart()):z?Y=t[1].length+1:(Y=t[2].search(this.rules.other.nonSpaceChar),S=P.slice(Y=Y>4?1:Y),Y+=t[1].length),z&&this.rules.other.blankLine.test(B)&&(_+=B+"\n",n=n.substring(B.length+1),h=!0),!h)for(var de=this.rules.other.nextBulletRegex(Y),ge=this.rules.other.hrRegex(Y),be=this.rules.other.fencesBeginRegex(Y),me=this.rules.other.headingBeginRegex(Y),Pe=this.rules.other.htmlBeginRegex(Y);n;){var qe=n.split("\n",1)[0],dt=void 0;if(B=qe,dt=this.options.pedantic?B=B.replace(this.rules.other.listReplaceNesting,"  "):B.replace(this.rules.other.tabCharGlobal,"    "),be.test(B)||me.test(B)||Pe.test(B)||de.test(B)||ge.test(B))break;if(dt.search(this.rules.other.nonSpaceChar)>=Y||!B.trim())S+="\n"+dt.slice(Y);else{if(z||P.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||be.test(P)||me.test(P)||ge.test(P))break;S+="\n"+B}!z&&!B.trim()&&(z=!0),_+=qe+"\n",n=n.substring(qe.length+1),P=dt.slice(Y)}l.loose||(p?l.loose=!0:this.rules.other.doubleBlankLine.test(_)&&(p=!0));var ot=null,pt=void 0;this.options.gfm&&(ot=this.rules.other.listIsTask.exec(S))&&(pt="[ ] "!==ot[0],S=S.replace(this.rules.other.listReplaceTask,"")),l.items.push({type:"list_item",raw:_,task:!!ot,checked:pt,loose:!1,text:S,tokens:[]}),l.raw+=_}var Tt=l.items.at(-1);if(!Tt)return;Tt.raw=Tt.raw.trimEnd(),Tt.text=Tt.text.trimEnd(),l.raw=l.raw.trimEnd();for(var Lt=0;Lt<l.items.length;Lt++)if(this.lexer.state.top=!1,l.items[Lt].tokens=this.lexer.blockTokens(l.items[Lt].text,[]),!l.loose){var mt=l.items[Lt].tokens.filter(function(Jt){return"space"===Jt.type}),yt=mt.length>0&&mt.some(function(Jt){return e.rules.other.anyLine.test(Jt.raw)});l.loose=yt}if(l.loose)for(var wt=0;wt<l.items.length;wt++)l.items[wt].loose=!0;return l}}},{key:"html",value:function(n){var e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}},{key:"def",value:function(n){var e=this.rules.block.def.exec(n);if(e){var t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:u}}}},{key:"table",value:function(n){var e,t=this,s=this.rules.block.table.exec(n);if(s&&this.rules.other.tableDelimiter.test(s[2])){var u=B1(s[1]),l=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),d=null!==(e=s[3])&&void 0!==e&&e.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],p={type:"table",raw:s[0],header:[],align:[],rows:[]};if(u.length===l.length){var _,h=(0,N.A)(l);try{for(h.s();!(_=h.n()).done;){var S=_.value;this.rules.other.tableAlignRight.test(S)?p.align.push("right"):this.rules.other.tableAlignCenter.test(S)?p.align.push("center"):this.rules.other.tableAlignLeft.test(S)?p.align.push("left"):p.align.push(null)}}catch(de){h.e(de)}finally{h.f()}for(var P=0;P<u.length;P++)p.header.push({text:u[P],tokens:this.lexer.inline(u[P]),header:!0,align:p.align[P]});var z,B=(0,N.A)(d);try{for(B.s();!(z=B.n()).done;)p.rows.push(B1(z.value,p.header.length).map(function(de,ge){return{text:de,tokens:t.lexer.inline(de),header:!1,align:p.align[ge]}}))}catch(de){B.e(de)}finally{B.f()}return p}}}},{key:"lheading",value:function(n){var e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}},{key:"paragraph",value:function(n){var e=this.rules.block.paragraph.exec(n);if(e){var t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}},{key:"text",value:function(n){var e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}},{key:"escape",value:function(n){var e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}},{key:"tag",value:function(n){var e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}},{key:"link",value:function(n){var e=this.rules.inline.link.exec(n);if(e){var t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;var s=Xc(t.slice(0,-1),"\\");if((t.length-s.length)%2==0)return}else{var u=function B6(o,r){if(-1===o.indexOf(r[1]))return-1;for(var n=0,e=0;e<o.length;e++)if("\\"===o[e])e++;else if(o[e]===r[0])n++;else if(o[e]===r[1]&&--n<0)return e;return n>0?-2:-1}(e[2],"()");if(-2===u)return;if(u>-1){var d=(0===e[0].indexOf("!")?5:4)+e[1].length+u;e[2]=e[2].substring(0,u),e[0]=e[0].substring(0,d).trim(),e[3]=""}}var p=e[2],h="";if(this.options.pedantic){var _=this.rules.other.pedanticHrefTitle.exec(p);_&&(p=_[1],h=_[3])}else h=e[3]?e[3].slice(1,-1):"";return p=p.trim(),this.rules.other.startAngleBracket.test(p)&&(p=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?p.slice(1):p.slice(1,-1)),L1(e,{href:p&&p.replace(this.rules.inline.anyPunctuation,"$1"),title:h&&h.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}},{key:"reflink",value:function(n,e){var t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){var u=e[(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!u){var l=t[0].charAt(0);return{type:"text",raw:l,text:l}}return L1(t,u,t[0],this.lexer,this.rules)}}},{key:"emStrong",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.rules.inline.emStrongLDelim.exec(n);if(s&&(!s[3]||!t.match(this.rules.other.unicodeAlphaNumeric))&&(!s[1]&&!s[2]||!t||this.rules.inline.punctuation.exec(t))){var d,p,l=(0,A.A)(s[0]).length-1,h=l,_=0,S="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(S.lastIndex=0,e=e.slice(-1*n.length+l);null!=(s=S.exec(e));)if(d=s[1]||s[2]||s[3]||s[4]||s[5]||s[6]){if(p=(0,A.A)(d).length,s[3]||s[4]){h+=p;continue}if((s[5]||s[6])&&l%3&&!((l+p)%3)){_+=p;continue}if(!((h-=p)>0)){p=Math.min(p,p+h+_);var P=(0,A.A)(s[0])[0].length,B=n.slice(0,l+s.index+P+p);if(Math.min(l,p)%2){var z=B.slice(1,-1);return{type:"em",raw:B,text:z,tokens:this.lexer.inlineTokens(z)}}var Y=B.slice(2,-2);return{type:"strong",raw:B,text:Y,tokens:this.lexer.inlineTokens(Y)}}}}}},{key:"codespan",value:function(n){var e=this.rules.inline.code.exec(n);if(e){var t=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(t),u=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&u&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}},{key:"br",value:function(n){var e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}},{key:"del",value:function(n){var e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}},{key:"autolink",value:function(n){var t,s,e=this.rules.inline.autolink.exec(n);if(e)return s="@"===e[2]?"mailto:"+(t=e[1]):t=e[1],{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}},{key:"url",value:function(n){var e;if(e=this.rules.inline.url.exec(n)){var t,s;if("@"===e[2])s="mailto:"+(t=e[0]);else{var u;do{var l,d;u=e[0],e[0]=null!==(l=null===(d=this.rules.inline._backpedal.exec(e[0]))||void 0===d?void 0:d[0])&&void 0!==l?l:""}while(u!==e[0]);t=e[0],s="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}},{key:"inlineText",value:function(n){var e=this.rules.inline.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],escaped:this.lexer.state.inRawBlock}}}])}(),Mo=function(){function o(r){(0,v.A)(this,o),(0,c.A)(this,"tokens",void 0),(0,c.A)(this,"options",void 0),(0,c.A)(this,"state",void 0),(0,c.A)(this,"tokenizer",void 0),(0,c.A)(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=r||bu,this.options.tokenizer=this.options.tokenizer||new _f,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={other:Ba,block:yf.normal,inline:Qc.normal};this.options.pedantic?(n.block=yf.pedantic,n.inline=Qc.pedantic):this.options.gfm&&(n.block=yf.gfm,n.inline=this.options.breaks?Qc.breaks:Qc.gfm),this.tokenizer.rules=n}return(0,m.A)(o,[{key:"lex",value:function(n){n=n.replace(Ba.carriageReturn,"\n"),this.blockTokens(n,this.tokens);for(var e=0;e<this.inlineQueue.length;e++){var t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}},{key:"blockTokens",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.options.pedantic&&(n=n.replace(Ba.tabCharGlobal,"    ").replace(Ba.spaceLine,""));for(var l,u=function(){var p,h,_;if(null!==(p=e.options.extensions)&&void 0!==p&&null!==(p=p.block)&&void 0!==p&&p.some(function(qe){return!!(_=qe.call({lexer:e},n,t))&&(n=n.substring(_.raw.length),t.push(_),!0)}))return 0;if(_=e.tokenizer.space(n)){n=n.substring(_.raw.length);var S=t.at(-1);return 1===_.raw.length&&void 0!==S?S.raw+="\n":t.push(_),0}if(_=e.tokenizer.code(n)){n=n.substring(_.raw.length);var P=t.at(-1);return"paragraph"===P?.type||"text"===P?.type?(P.raw+="\n"+_.raw,P.text+="\n"+_.text,e.inlineQueue.at(-1).src=P.text):t.push(_),0}if((_=e.tokenizer.fences(n))||(_=e.tokenizer.heading(n))||(_=e.tokenizer.hr(n))||(_=e.tokenizer.blockquote(n))||(_=e.tokenizer.list(n))||(_=e.tokenizer.html(n)))return n=n.substring(_.raw.length),t.push(_),0;if(_=e.tokenizer.def(n)){n=n.substring(_.raw.length);var B=t.at(-1);return"paragraph"===B?.type||"text"===B?.type?(B.raw+="\n"+_.raw,B.text+="\n"+_.raw,e.inlineQueue.at(-1).src=B.text):e.tokens.links[_.tag]||(e.tokens.links[_.tag]={href:_.href,title:_.title}),0}if((_=e.tokenizer.table(n))||(_=e.tokenizer.lheading(n)))return n=n.substring(_.raw.length),t.push(_),0;var z=n;if(null!==(h=e.options.extensions)&&void 0!==h&&h.startBlock){var ge,Y=1/0,de=n.slice(1);e.options.extensions.startBlock.forEach(function(qe){"number"==typeof(ge=qe.call({lexer:e},de))&&ge>=0&&(Y=Math.min(Y,ge))}),Y<1/0&&Y>=0&&(z=n.substring(0,Y+1))}if(e.state.top&&(_=e.tokenizer.paragraph(z))){var be=t.at(-1);return s&&"paragraph"===be?.type?(be.raw+="\n"+_.raw,be.text+="\n"+_.text,e.inlineQueue.pop(),e.inlineQueue.at(-1).src=be.text):t.push(_),s=z.length!==n.length,n=n.substring(_.raw.length),0}if(_=e.tokenizer.text(n)){n=n.substring(_.raw.length);var me=t.at(-1);return"text"===me?.type?(me.raw+="\n"+_.raw,me.text+="\n"+_.text,e.inlineQueue.pop(),e.inlineQueue.at(-1).src=me.text):t.push(_),0}if(n){var Pe="Infinite loop on byte: "+n.charCodeAt(0);if(e.options.silent)return console.error(Pe),1;throw new Error(Pe)}};n&&(0===(l=u())||1!==l););return this.state.top=!0,t}},{key:"inline",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:n,tokens:e}),e}},{key:"inlineTokens",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=n,u=null;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(s));)l.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(var _,d=!1,p="",h=function(){var P,B,z;if(d||(p=""),d=!1,null!==(P=e.options.extensions)&&void 0!==P&&null!==(P=P.inline)&&void 0!==P&&P.some(function(dt){return!!(z=dt.call({lexer:e},n,t))&&(n=n.substring(z.raw.length),t.push(z),!0)}))return 0;if((z=e.tokenizer.escape(n))||(z=e.tokenizer.tag(n))||(z=e.tokenizer.link(n)))return n=n.substring(z.raw.length),t.push(z),0;if(z=e.tokenizer.reflink(n,e.tokens.links)){n=n.substring(z.raw.length);var Y=t.at(-1);return"text"===z.type&&"text"===Y?.type?(Y.raw+=z.raw,Y.text+=z.text):t.push(z),0}if((z=e.tokenizer.emStrong(n,s,p))||(z=e.tokenizer.codespan(n))||(z=e.tokenizer.br(n))||(z=e.tokenizer.del(n))||(z=e.tokenizer.autolink(n))||!e.state.inLink&&(z=e.tokenizer.url(n)))return n=n.substring(z.raw.length),t.push(z),0;var de=n;if(null!==(B=e.options.extensions)&&void 0!==B&&B.startInline){var me,ge=1/0,be=n.slice(1);e.options.extensions.startInline.forEach(function(dt){"number"==typeof(me=dt.call({lexer:e},be))&&me>=0&&(ge=Math.min(ge,me))}),ge<1/0&&ge>=0&&(de=n.substring(0,ge+1))}if(z=e.tokenizer.inlineText(de)){n=n.substring(z.raw.length),"_"!==z.raw.slice(-1)&&(p=z.raw.slice(-1)),d=!0;var Pe=t.at(-1);return"text"===Pe?.type?(Pe.raw+=z.raw,Pe.text+=z.text):t.push(z),0}if(n){var qe="Infinite loop on byte: "+n.charCodeAt(0);if(e.options.silent)return console.error(qe),1;throw new Error(qe)}};n&&(0===(_=h())||1!==_););return t}}],[{key:"rules",get:function(){return{block:yf,inline:Qc}}},{key:"lex",value:function(n,e){return new o(e).lex(n)}},{key:"lexInline",value:function(n,e){return new o(e).inlineTokens(n)}}])}(),Au=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),(0,c.A)(this,"parser",void 0),this.options=r||bu},[{key:"space",value:function(n){return""}},{key:"code",value:function(n){var e,t=n.text,u=n.escaped,l=null===(e=(n.lang||"").match(Ba.notSpaceStart))||void 0===e?void 0:e[0],d=t.replace(Ba.endingNewline,"")+"\n";return l?'<pre><code class="language-'+lo(l)+'">'+(u?d:lo(d,!0))+"</code></pre>\n":"<pre><code>"+(u?d:lo(d,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(n){var t=this.parser.parse(n.tokens);return"<blockquote>\n".concat(t,"</blockquote>\n")}},{key:"html",value:function(n){return n.text}},{key:"heading",value:function(n){var e=n.tokens,t=n.depth;return"<h".concat(t,">").concat(this.parser.parseInline(e),"</h").concat(t,">\n")}},{key:"hr",value:function(n){return"<hr>\n"}},{key:"list",value:function(n){for(var e=n.ordered,t=n.start,s="",u=0;u<n.items.length;u++)s+=this.listitem(n.items[u]);var d=e?"ol":"ul";return"<"+d+(e&&1!==t?' start="'+t+'"':"")+">\n"+s+"</"+d+">\n"}},{key:"listitem",value:function(n){var e="";if(n.task){var s,t=this.checkbox({checked:!!n.checked});n.loose?"paragraph"===(null===(s=n.tokens[0])||void 0===s?void 0:s.type)?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=t+" "+lo(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),"<li>".concat(e,"</li>\n")}},{key:"checkbox",value:function(n){return"<input "+(n.checked?'checked="" ':"")+'disabled="" type="checkbox">'}},{key:"paragraph",value:function(n){return"<p>".concat(this.parser.parseInline(n.tokens),"</p>\n")}},{key:"table",value:function(n){for(var e="",t="",s=0;s<n.header.length;s++)t+=this.tablecell(n.header[s]);e+=this.tablerow({text:t});for(var u="",l=0;l<n.rows.length;l++){var d=n.rows[l];t="";for(var p=0;p<d.length;p++)t+=this.tablecell(d[p]);u+=this.tablerow({text:t})}return u&&(u="<tbody>".concat(u,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+u+"</table>\n"}},{key:"tablerow",value:function(n){return"<tr>\n".concat(n.text,"</tr>\n")}},{key:"tablecell",value:function(n){var e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?"<".concat(t,' align="').concat(n.align,'">'):"<".concat(t,">"))+e+"</".concat(t,">\n")}},{key:"strong",value:function(n){return"<strong>".concat(this.parser.parseInline(n.tokens),"</strong>")}},{key:"em",value:function(n){return"<em>".concat(this.parser.parseInline(n.tokens),"</em>")}},{key:"codespan",value:function(n){return"<code>".concat(lo(n.text,!0),"</code>")}},{key:"br",value:function(n){return"<br>"}},{key:"del",value:function(n){return"<del>".concat(this.parser.parseInline(n.tokens),"</del>")}},{key:"link",value:function(n){var e=n.href,t=n.title,u=this.parser.parseInline(n.tokens),l=O1(e);if(null===l)return u;var d='<a href="'+(e=l)+'"';return t&&(d+=' title="'+lo(t)+'"'),d+">"+u+"</a>"}},{key:"image",value:function(n){var e=n.href,t=n.title,s=n.text,u=n.tokens;u&&(s=this.parser.parseInline(u,this.parser.textRenderer));var l=O1(e);if(null===l)return lo(s);var d='<img src="'.concat(e=l,'" alt="').concat(s,'"');return t&&(d+=' title="'.concat(lo(t),'"')),d+">"}},{key:"text",value:function(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:lo(n.text)}}])}(),Ov=function(){return(0,m.A)(function o(){(0,v.A)(this,o)},[{key:"strong",value:function(n){return n.text}},{key:"em",value:function(n){return n.text}},{key:"codespan",value:function(n){return n.text}},{key:"del",value:function(n){return n.text}},{key:"html",value:function(n){return n.text}},{key:"text",value:function(n){return n.text}},{key:"link",value:function(n){return""+n.text}},{key:"image",value:function(n){return""+n.text}},{key:"br",value:function(){return""}}])}(),No=function(){function o(r){(0,v.A)(this,o),(0,c.A)(this,"options",void 0),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"textRenderer",void 0),this.options=r||bu,this.options.renderer=this.options.renderer||new Au,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ov}return(0,m.A)(o,[{key:"parse",value:function(n){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="",s=0;s<n.length;s++){var u,l=n[s];if(null!==(u=this.options.extensions)&&void 0!==u&&null!==(u=u.renderers)&&void 0!==u&&u[l.type]){var d=l,p=this.options.extensions.renderers[d.type].call({parser:this},d);if(!1!==p||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){t+=p||"";continue}}var h=l;switch(h.type){case"space":t+=this.renderer.space(h);continue;case"hr":t+=this.renderer.hr(h);continue;case"heading":t+=this.renderer.heading(h);continue;case"code":t+=this.renderer.code(h);continue;case"table":t+=this.renderer.table(h);continue;case"blockquote":t+=this.renderer.blockquote(h);continue;case"list":t+=this.renderer.list(h);continue;case"html":t+=this.renderer.html(h);continue;case"paragraph":t+=this.renderer.paragraph(h);continue;case"text":for(var _=h,S=this.renderer.text(_);s+1<n.length&&"text"===n[s+1].type;)_=n[++s],S+="\n"+this.renderer.text(_);t+=e?this.renderer.paragraph({type:"paragraph",raw:S,text:S,tokens:[{type:"text",raw:S,text:S,escaped:!0}]}):S;continue;default:var P='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(P),"";throw new Error(P)}}return t}},{key:"parseInline",value:function(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderer,t="",s=0;s<n.length;s++){var u,l=n[s];if(null!==(u=this.options.extensions)&&void 0!==u&&null!==(u=u.renderers)&&void 0!==u&&u[l.type]){var d=this.options.extensions.renderers[l.type].call({parser:this},l);if(!1!==d||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){t+=d||"";continue}}var p=l;switch(p.type){case"escape":case"text":t+=e.text(p);break;case"html":t+=e.html(p);break;case"link":t+=e.link(p);break;case"image":t+=e.image(p);break;case"strong":t+=e.strong(p);break;case"em":t+=e.em(p);break;case"codespan":t+=e.codespan(p);break;case"br":t+=e.br(p);break;case"del":t+=e.del(p);break;default:var h='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}return t}}],[{key:"parse",value:function(n,e){return new o(e).parse(n)}},{key:"parseInline",value:function(n,e){return new o(e).parseInline(n)}}])}(),bf=function(){var o;return(0,c.A)(o=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),(0,c.A)(this,"options",void 0),(0,c.A)(this,"block",void 0),this.options=e||bu},[{key:"preprocess",value:function(t){return t}},{key:"postprocess",value:function(t){return t}},{key:"processAllTokens",value:function(t){return t}},{key:"provideLexer",value:function(){return this.block?Mo.lex:Mo.lexInline}},{key:"provideParser",value:function(){return this.block?No.parse:No.parseInline}}])}(),"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),o}(),cs=new(function(){return(0,m.A)(function o(){(0,v.A)(this,o),(0,c.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,c.A)(this,"options",this.setOptions),(0,c.A)(this,"parse",this.parseMarkdown(!0)),(0,c.A)(this,"parseInline",this.parseMarkdown(!1)),(0,c.A)(this,"Parser",No),(0,c.A)(this,"Renderer",Au),(0,c.A)(this,"TextRenderer",Ov),(0,c.A)(this,"Lexer",Mo),(0,c.A)(this,"Tokenizer",_f),(0,c.A)(this,"Hooks",bf),this.use.apply(this,arguments)},[{key:"walkTokens",value:function(n,e){var l,t=this,s=[],u=(0,N.A)(n);try{var d=function(){var h=l.value;switch(s=s.concat(e.call(t,h)),h.type){case"table":var P,_=h,S=(0,N.A)(_.header);try{for(S.s();!(P=S.n()).done;)s=s.concat(t.walkTokens(P.value.tokens,e))}catch(ot){S.e(ot)}finally{S.f()}var Y,z=(0,N.A)(_.rows);try{for(z.s();!(Y=z.n()).done;){var be,ge=(0,N.A)(Y.value);try{for(ge.s();!(be=ge.n()).done;)s=s.concat(t.walkTokens(be.value.tokens,e))}catch(ot){ge.e(ot)}finally{ge.f()}}}catch(ot){z.e(ot)}finally{z.f()}break;case"list":s=s.concat(t.walkTokens(h.items,e));break;default:var qe,dt=h;null!==(qe=t.defaults.extensions)&&void 0!==qe&&null!==(qe=qe.childTokens)&&void 0!==qe&&qe[dt.type]?t.defaults.extensions.childTokens[dt.type].forEach(function(ot){var pt=dt[ot].flat(1/0);s=s.concat(t.walkTokens(pt,e))}):dt.tokens&&(s=s.concat(t.walkTokens(dt.tokens,e)))}};for(u.s();!(l=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}return s}},{key:"use",value:function(){for(var n=this,e=this.defaults.extensions||{renderers:{},childTokens:{}},t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return s.forEach(function(l){var d=(0,g.A)({},l);if(d.async=n.defaults.async||d.async||!1,l.extensions&&(l.extensions.forEach(function(me){if(!me.name)throw new Error("extension name required");if("renderer"in me){var Pe=e.renderers[me.name];e.renderers[me.name]=Pe?function(){for(var dt=arguments.length,ot=new Array(dt),pt=0;pt<dt;pt++)ot[pt]=arguments[pt];var Tt=me.renderer.apply(this,ot);return!1===Tt&&(Tt=Pe.apply(this,ot)),Tt}:me.renderer}if("tokenizer"in me){if(!me.level||"block"!==me.level&&"inline"!==me.level)throw new Error("extension level must be 'block' or 'inline'");var qe=e[me.level];qe?qe.unshift(me.tokenizer):e[me.level]=[me.tokenizer],me.start&&("block"===me.level?e.startBlock?e.startBlock.push(me.start):e.startBlock=[me.start]:"inline"===me.level&&(e.startInline?e.startInline.push(me.start):e.startInline=[me.start]))}"childTokens"in me&&me.childTokens&&(e.childTokens[me.name]=me.childTokens)}),d.extensions=e),l.renderer){var p=n.defaults.renderer||new Au(n.defaults),h=function(){if(!(_ in p))throw new Error("renderer '".concat(_,"' does not exist"));if(["options","parser"].includes(_))return 1;var qe=l.renderer[_],dt=p[_];p[_]=function(){for(var ot=arguments.length,pt=new Array(ot),Tt=0;Tt<ot;Tt++)pt[Tt]=arguments[Tt];var Lt=qe.apply(p,pt);return!1===Lt&&(Lt=dt.apply(p,pt)),Lt||""}};for(var _ in l.renderer)h();d.renderer=p}if(l.tokenizer){var S=n.defaults.tokenizer||new _f(n.defaults),P=function(){if(!(B in S))throw new Error("tokenizer '".concat(B,"' does not exist"));if(["options","rules","lexer"].includes(B))return 1;var qe=l.tokenizer[B],dt=S[B];S[B]=function(){for(var ot=arguments.length,pt=new Array(ot),Tt=0;Tt<ot;Tt++)pt[Tt]=arguments[Tt];var Lt=qe.apply(S,pt);return!1===Lt&&(Lt=dt.apply(S,pt)),Lt}};for(var B in l.tokenizer)P();d.tokenizer=S}if(l.hooks){var z=n.defaults.hooks||new bf,Y=function(){if(!(de in z))throw new Error("hook '".concat(de,"' does not exist"));if(["options","block"].includes(de))return 1;var qe=l.hooks[de],dt=z[de];z[de]=bf.passThroughHooks.has(de)?function(ot){if(n.defaults.async)return Promise.resolve(qe.call(z,ot)).then(function(Tt){return dt.call(z,Tt)});var pt=qe.call(z,ot);return dt.call(z,pt)}:function(){for(var ot=arguments.length,pt=new Array(ot),Tt=0;Tt<ot;Tt++)pt[Tt]=arguments[Tt];var Lt=qe.apply(z,pt);return!1===Lt&&(Lt=dt.apply(z,pt)),Lt}};for(var de in l.hooks)Y();d.hooks=z}if(l.walkTokens){var ge=n.defaults.walkTokens,be=l.walkTokens;d.walkTokens=function(me){var Pe=[];return Pe.push(be.call(this,me)),ge&&(Pe=Pe.concat(ge.call(this,me))),Pe}}n.defaults=(0,g.A)((0,g.A)({},n.defaults),d)}),this}},{key:"setOptions",value:function(n){return this.defaults=(0,g.A)((0,g.A)({},this.defaults),n),this}},{key:"lexer",value:function(n,e){return Mo.lex(n,e??this.defaults)}},{key:"parser",value:function(n,e){return No.parse(n,e??this.defaults)}},{key:"parseMarkdown",value:function(n){var e=this;return function(u,l){var d=(0,g.A)({},l),p=(0,g.A)((0,g.A)({},e.defaults),d),h=e.onError(!!p.silent,!!p.async);if(!0===e.defaults.async&&!1===d.async)return h(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof u>"u"||null===u)return h(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof u)return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(u)+", string expected"));p.hooks&&(p.hooks.options=p,p.hooks.block=n);var _=p.hooks?p.hooks.provideLexer():n?Mo.lex:Mo.lexInline,S=p.hooks?p.hooks.provideParser():n?No.parse:No.parseInline;if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(u):u).then(function(z){return _(z,p)}).then(function(z){return p.hooks?p.hooks.processAllTokens(z):z}).then(function(z){return p.walkTokens?Promise.all(e.walkTokens(z,p.walkTokens)).then(function(){return z}):z}).then(function(z){return S(z,p)}).then(function(z){return p.hooks?p.hooks.postprocess(z):z}).catch(h);try{p.hooks&&(u=p.hooks.preprocess(u));var P=_(u,p);p.hooks&&(P=p.hooks.processAllTokens(P)),p.walkTokens&&e.walkTokens(P,p.walkTokens);var B=S(P,p);return p.hooks&&(B=p.hooks.postprocess(B)),B}catch(z){return h(z)}}}},{key:"onError",value:function(n,e){return function(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",n){var s="<p>An error occurred:</p><pre>"+lo(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}}])}());function jn(o,r){return cs.parse(o,r)}jn.options=jn.setOptions=function(o){return cs.setOptions(o),S1(jn.defaults=cs.defaults),jn},jn.getDefaults=function Fv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},jn.defaults=bu,jn.use=function(){return cs.use.apply(cs,arguments),S1(jn.defaults=cs.defaults),jn},jn.walkTokens=function(o,r){return cs.walkTokens(o,r)},jn.parseInline=cs.parseInline,jn.Parser=No,jn.parser=No.parse,jn.Renderer=Au,jn.TextRenderer=Ov,jn.Lexer=Mo,jn.lexer=Mo.lex,jn.Tokenizer=_f,jn.Hooks=bf,jn.parse=jn;var U6=["*"],j1=function(){var o,r=function(){return(0,m.A)(function n(){var e=this;(0,v.A)(this,n),this._buttonClick$=new T.B,this.copied=(0,nm.toSignal)(this._buttonClick$.pipe((0,We.n)(function(){return(0,R.h)((0,Re.of)(!0),(0,x1.O)(3e3).pipe((0,n6.u)(!1)))}),(0,Ao.F)(),(0,Ha.t)(1))),this.copiedText=(0,a.computed)(function(){return e.copied()?"Copied":"Copy"})},[{key:"onCopyToClipboardClick",value:function(){this._buttonClick$.next()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275domElementStart(0,"button",0),a.\u0275\u0275domListener("click",function(){return t.onCopyToClipboardClick()}),a.\u0275\u0275text(1),a.\u0275\u0275domElementEnd()),2&e&&(a.\u0275\u0275classProp("copied",t.copied()),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(t.copiedText()))},encapsulation:2,changeDetection:0}),r}(),$6=new a.InjectionToken("CLIPBOARD_OPTIONS"),Bv=function(o){return o.CommandLine="command-line",o.LineHighlight="line-highlight",o.LineNumbers="line-numbers",o}(Bv||{}),K6=new a.InjectionToken("MARKED_EXTENSIONS"),U1=new a.InjectionToken("MARKED_OPTIONS"),q6=new a.InjectionToken("MERMAID_OPTIONS"),G1=new a.InjectionToken("SECURITY_CONTEXT"),Af=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,h){(0,v.A)(this,n),this.clipboardOptions=e,this.extensions=t,this.mermaidOptions=u,this.platform=l,this.securityContext=d,this.http=p,this.sanitizer=h,this.DEFAULT_MARKED_OPTIONS={renderer:new Au},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new T.B,this.reload$=this._reload$.asObservable(),this.options=s},[{key:"options",get:function(){return this._options},set:function(t){this._options=(0,g.A)((0,g.A)({},this.DEFAULT_MARKED_OPTIONS),t)}},{key:"renderer",get:function(){return this.options.renderer},set:function(t){this.options.renderer=t}},{key:"parse",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_PARSE_OPTIONS,u=s.decodeHtml,l=s.inline,d=s.emoji,p=s.mermaid,h=s.disableSanitizer,_=(0,g.A)((0,g.A)({},this.options),s.markedOptions),S=_.renderer||this.renderer||new Au;this.extensions&&(this.renderer=this.extendsRendererForExtensions(S)),p&&(this.renderer=this.extendsRendererForMermaid(S));var P=this.trimIndentation(t),B=u?this.decodeHtml(P):P,z=d?this.parseEmoji(B):B,Y=this.parseMarked(z,_,l);return(h?Y:this.sanitizer.sanitize(this.securityContext,Y))||""}},{key:"render",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_RENDER_OPTIONS,u=arguments.length>2?arguments[2]:void 0,l=s.clipboard,d=s.clipboardOptions,h=s.katexOptions,_=s.mermaid,S=s.mermaidOptions;s.katex&&this.renderKatex(t,(0,g.A)((0,g.A)({},this.DEFAULT_KATEX_OPTIONS),h)),_&&this.renderMermaid(t,(0,g.A)((0,g.A)((0,g.A)({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),S)),l&&this.renderClipboard(t,u,(0,g.A)((0,g.A)((0,g.A)({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),d)),this.highlight(t)}},{key:"reload",value:function(){this._reload$.next()}},{key:"getSource",value:function(t){var s=this;if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,fe.T)(function(u){return s.handleExtension(t,u)}))}},{key:"highlight",value:function(t){if((0,y.isPlatformBrowser)(this.platform)&&!(typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")){t||(t=document);var s=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,function(u){return u.classList.add("language-none")}),Prism.highlightAllUnder(t)}}},{key:"decodeHtml",value:function(t){if(!(0,y.isPlatformBrowser)(this.platform))return t;var s=document.createElement("textarea");return s.innerHTML=t,s.value}},{key:"extendsRendererForExtensions",value:function(t){var s,u=t;return!0===u.\u0275NgxMarkdownRendererExtendedForExtensions||((null===(s=this.extensions)||void 0===s?void 0:s.length)>0&&jn.use.apply(jn,(0,A.A)(this.extensions)),u.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}},{key:"extendsRendererForMermaid",value:function(t){var s=t;if(!0===s.\u0275NgxMarkdownRendererExtendedForMermaid)return t;var u=t.code;return t.code=function(l){return"mermaid"===l.lang?'<div class="mermaid">'.concat(l.text,"</div>"):u(l)},s.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}},{key:"handleExtension",value:function(t,s){var u=t.lastIndexOf("://"),l=u>-1?t.substring(u+4):t,d=l.lastIndexOf("/"),p=d>-1?l.substring(d+1).split("?")[0]:"",h=p.lastIndexOf("."),_=h>-1?p.substring(h+1):"";return _&&"md"!==_?"```"+_+"\n"+s+"\n```":s}},{key:"parseMarked",value:function(t,s){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.renderer){var l=(0,g.A)({},s.renderer);delete l.\u0275NgxMarkdownRendererExtendedForExtensions,delete l.\u0275NgxMarkdownRendererExtendedForMermaid,delete s.renderer,jn.use({renderer:l})}return u?jn.parseInline(t,s):jn.parse(t,s)}},{key:"parseEmoji",value:function(t){if(!(0,y.isPlatformBrowser)(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}},{key:"renderKatex",value:function(t,s){if((0,y.isPlatformBrowser)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,s)}}},{key:"renderClipboard",value:function(t,s,u){if((0,y.isPlatformBrowser)(this.platform)){if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!s)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");for(var l=u.buttonComponent,d=u.buttonTemplate,p=t.querySelectorAll("pre"),h=function(){var P=p.item(_),B=document.createElement("div");B.style.position="relative",P.parentNode.insertBefore(B,P),B.appendChild(P);var Y,be,z=document.createElement("div");if(z.classList.add("markdown-clipboard-toolbar"),z.style.position="absolute",z.style.top=".5em",z.style.right=".5em",z.style.zIndex="1",B.insertAdjacentElement("beforeend",z),B.onmouseenter=function(){return z.classList.add("hover")},B.onmouseleave=function(){return z.classList.remove("hover")},l){var de=s.createComponent(l);Y=de.hostView,de.changeDetectorRef.markForCheck()}else if(d)Y=s.createEmbeddedView(d);else{var ge=s.createComponent(j1);Y=ge.hostView,ge.changeDetectorRef.markForCheck()}Y.rootNodes.forEach(function(me){z.appendChild(me),be=new ClipboardJS(me,{text:function(){return P.innerText}})}),Y.onDestroy(function(){return be.destroy()})},_=0;_<p.length;_++)h()}}},{key:"renderMermaid",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_MERMAID_OPTIONS;if((0,y.isPlatformBrowser)(this.platform)){if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");var u=t.querySelectorAll(".mermaid");0!==u.length&&(mermaid.initialize(s),mermaid.run({nodes:u}))}}},{key:"trimIndentation",value:function(t){return t?t.split("\n").map(function(u){var l=s;return u.length>0&&(l=isNaN(l)?u.search(/\S|$/):Math.min(u.search(/\S|$/),l)),isNaN(s)&&(s=l),l?u.substring(l):u}).join("\n"):"";var s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject($6,8),a.\u0275\u0275inject(K6,8),a.\u0275\u0275inject(U1,8),a.\u0275\u0275inject(q6,8),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(G1),a.\u0275\u0275inject(E.HttpClient,8),a.\u0275\u0275inject(I.DomSanitizer))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),z1=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.element=e,this.markdownService=t,this.viewContainerRef=s,this.error=new a.EventEmitter,this.load=new a.EventEmitter,this.ready=new a.EventEmitter,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new T.B},[{key:"disableSanitizer",get:function(){return this._disableSanitizer},set:function(t){this._disableSanitizer=this.coerceBooleanProperty(t)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=this.coerceBooleanProperty(t)}},{key:"clipboard",get:function(){return this._clipboard},set:function(t){this._clipboard=this.coerceBooleanProperty(t)}},{key:"emoji",get:function(){return this._emoji},set:function(t){this._emoji=this.coerceBooleanProperty(t)}},{key:"katex",get:function(){return this._katex},set:function(t){this._katex=this.coerceBooleanProperty(t)}},{key:"mermaid",get:function(){return this._mermaid},set:function(t){this._mermaid=this.coerceBooleanProperty(t)}},{key:"lineHighlight",get:function(){return this._lineHighlight},set:function(t){this._lineHighlight=this.coerceBooleanProperty(t)}},{key:"lineNumbers",get:function(){return this._lineNumbers},set:function(t){this._lineNumbers=this.coerceBooleanProperty(t)}},{key:"commandLine",get:function(){return this._commandLine},set:function(t){this._commandLine=this.coerceBooleanProperty(t)}},{key:"ngOnChanges",value:function(){this.loadContent()}},{key:"loadContent",value:function(){null==this.data?null==this.src||this.handleSrc():this.handleData()}},{key:"ngAfterViewInit",value:function(){var t=this;!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,Zt.Q)(this.destroyed$)).subscribe(function(){return t.loadContent()})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"render",value:(e=(0,Rt.A)(function(s){var u=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,He.A)().m(function d(){var p,h;return(0,He.A)().w(function(S){for(;;)switch(S.n){case 0:return p={decodeHtml:l,inline:u.inline,emoji:u.emoji,mermaid:u.mermaid,disableSanitizer:u.disableSanitizer},h={clipboard:u.clipboard,clipboardOptions:u.getClipboardOptions(),katex:u.katex,katexOptions:u.katexOptions,mermaid:u.mermaid,mermaidOptions:u.mermaidOptions},S.n=1,u.markdownService.parse(s,p);case 1:u.element.nativeElement.innerHTML=S.v,u.handlePlugins(),u.markdownService.render(u.element.nativeElement,h,u.viewContainerRef),u.ready.emit();case 2:return S.a(2)}},d)})()}),function t(s){return e.apply(this,arguments)})},{key:"coerceBooleanProperty",value:function(t){return null!=t&&"false"!=="".concat(String(t))}},{key:"getClipboardOptions",value:function(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}},{key:"handleData",value:function(){this.render(this.data)}},{key:"handleSrc",value:function(){var t=this;this.markdownService.getSource(this.src).subscribe({next:function(u){t.render(u).then(function(){t.load.emit(u)})},error:function(u){return t.error.emit(u)}})}},{key:"handleTransclusion",value:function(){this.render(this.element.nativeElement.innerHTML,!0)}},{key:"handlePlugins",value:function(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Bv.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Bv.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}},{key:"setPluginClass",value:function(t,s){for(var u=t.querySelectorAll("pre"),l=0;l<u.length;l++){var d,p=s instanceof Array?s:[s];(d=u.item(l).classList).add.apply(d,(0,A.A)(p))}}},{key:"setPluginOptions",value:function(t,s){for(var u=this,l=t.querySelectorAll("pre"),d=function(_){Object.keys(s).forEach(function(S){var P=s[S];if(P){var B=u.toLispCase(S);l.item(_).setAttribute(B,P.toString())}})},p=0;p<l.length;p++)d(p)}},{key:"toLispCase",value:function(t){var s=t.match(/([A-Z])/g);if(!s)return t;for(var u=t.toString(),l=0,d=s.length;l<d;l++)u=u.replace(new RegExp(s[l]),"-"+s[l].toLowerCase());return"-"===u.slice(0,1)&&(u=u.slice(1)),u}}]);var e}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Af),a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U6,decls:1,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0))},encapsulation:2}),r}(),$1=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.domSanitizer=e,this.elementRef=t,this.markdownService=s,this.viewContainerRef=u,this.zone=l},[{key:"transform",value:(e=(0,Rt.A)((0,He.A)().m(function s(u,l){var p,d=this;return(0,He.A)().w(function(h){for(;;)switch(h.n){case 0:if(null!=u){h.n=1;break}return h.a(2,"");case 1:if("string"==typeof u){h.n=2;break}return console.error("MarkdownPipe has been invoked with an invalid value type [".concat(typeof u,"]")),h.a(2,u);case 2:return h.n=3,this.markdownService.parse(u,l);case 3:return p=h.v,this.zone.onStable.pipe((0,r6.$)()).subscribe(function(){return d.markdownService.render(d.elementRef.nativeElement,l,d.viewContainerRef)}),h.a(2,this.domSanitizer.bypassSecurityTrustHtml(p))}},s,this)})),function t(s,u){return e.apply(this,arguments)})}]);var e}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(I.DomSanitizer,16),a.\u0275\u0275directiveInject(a.ElementRef,16),a.\u0275\u0275directiveInject(Af,16),a.\u0275\u0275directiveInject(a.ViewContainerRef,16),a.\u0275\u0275directiveInject(a.NgZone,16))},o.\u0275pipe=a.\u0275\u0275definePipe({name:"markdown",type:o,pure:!0}),r}();function e5(o){var r,n,e,t,s,u;return[Af,null!==(r=o?.loader)&&void 0!==r?r:[],null!==(n=o?.clipboardOptions)&&void 0!==n?n:[],null!==(e=o?.markedOptions)&&void 0!==e?e:[],null!==(t=o?.mermaidOptions)&&void 0!==t?t:[],null!==(s=o?.markedExtensions)&&void 0!==s?s:[],{provide:G1,useValue:null!==(u=o?.sanitize)&&void 0!==u?u:a.SecurityContext.HTML}]}var Lv=function(){var o,r=function(){function n(){(0,v.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[e5(t)]}}},{key:"forChild",value:function(){return{ngModule:n}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),Er=b(89745),Gr=b(85441),Bt=b(87813),jt=b(51973),fa=b(80421);function t5(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function n5(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",3),a.\u0275\u0275listener("ngSubmit",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.submit())}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",4),a.\u0275\u0275template(3,t5,1,0,"ng-container",5),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"mat-dialog-actions")(5,"button",6),a.\u0275\u0275text(6,"Save"),a.\u0275\u0275elementEnd()()()}if(2&o){var e=a.\u0275\u0275nextContext(),t=a.\u0275\u0275reference(3);a.\u0275\u0275property("formGroup",e.contentForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngTemplateOutlet",t),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!e.contentForm.valid)}}function r5(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function a5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",4),a.\u0275\u0275template(1,r5,1,0,"ng-container",5),a.\u0275\u0275elementEnd()),2&o){a.\u0275\u0275nextContext();var n=a.\u0275\u0275reference(3);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)}}function i5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.key)}}function o5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"ul",18),a.\u0275\u0275template(1,i5,2,1,"li",19),a.\u0275\u0275pipe(2,"keyvalue"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("hidden",!0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,n.tokens))}}function s5(o,r){if(1&o&&(a.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),a.\u0275\u0275pipe(1,"markdown")),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,n.preview))}}function u5(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("content",n.preview)}}function l5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"as-split",7)(1,"as-split-area",8)(2,"div"),a.\u0275\u0275template(3,o5,3,4,"ul",9),a.\u0275\u0275elementStart(4,"mat-form-field")(5,"mat-label"),a.\u0275\u0275text(6,"Content Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-select",10)(8,"mat-option",11),a.\u0275\u0275text(9,"Markdown"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-option",12),a.\u0275\u0275text(11,"HTML"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",13),a.\u0275\u0275text(13,"JSON"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(14,"as-split",14)(15,"as-split-area",8)(16,"div"),a.\u0275\u0275element(17,"textarea",15),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(18,"as-split-area",8)(19,"div"),a.\u0275\u0275element(20,"textarea",16),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(21,"as-split-area",8),a.\u0275\u0275template(22,s5,2,3,"classifieds-ui-dynamic-content-viewer",17)(23,u5,1,1,"classifieds-ui-dynamic-content-viewer",17),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("direction",n.splitDirection)("formGroup",n.contentForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",n.tokens),a.\u0275\u0275advance(14),a.\u0275\u0275property("cols",n.cols)("rows",n.rows),a.\u0275\u0275advance(3),a.\u0275\u0275property("cols",n.cols)("rows",n.rows),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.isMarkdown),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.isMarkdown)}}var Cu=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.content=r.content,this.contentType=r.contentType,r.jsFile&&""!==r.jsFile&&(this.jsFile=r.jsFile),r.jsScript&&""!==r.jsScript&&(this.jsScript=r.jsScript))}),Cf=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.submitted=new a.EventEmitter,this.splitDirection="vertical",this.rows=40,this.cols=100,this.rootForm=!0,this.onTouched=function(){},this.contentForm=this.fb.group({content:this.fb.control("",f.Validators.required),contentType:this.fb.control("",f.Validators.required),jsScript:this.fb.control("")}),this.isMarkdown=!1,this.contentEditorOptions={theme:"vs-dark",language:"text/html"}},[{key:"snippet",set:function(t){void 0!==t&&this.contentForm.setValue((0,g.A)((0,g.A)({},t),{},{jsScript:t.jsScript&&""!==t.jsScript?t.jsScript:""}))}},{key:"ngOnInit",value:function(){var t=this;this.contentForm.get("content").valueChanges.pipe((0,Ao.F)(),(0,Ln.B)(500),(0,fe.T)(function(s){return void 0!==t.tokens?t.replaceTokens(s):s})).subscribe(function(s){t.preview=s}),this.contentForm.get("contentType").valueChanges.subscribe(function(s){t.isMarkdown="text/markdown"===s})}},{key:"writeValue",value:function(t){t&&(console.log("write value: ".concat(t)),this.contentForm.setValue(t,{emitEvent:!1}))}},{key:"registerOnChange",value:function(t){this.contentForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(t){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"snippet is invalid"}}}},{key:"submit",value:function(){this.submitted.emit(new Cu({content:this.contentForm.get("content").value,contentType:this.contentForm.get("contentType").value,jsScript:this.contentForm.get("jsScript").value}))}},{key:"replaceTokens",value:function(t){return this.tokens&&this.tokens.forEach(function(s,u){t=t.replace("[".concat(u,"]"),"".concat(s," [token = '").concat(u,"']"))}),t}},{key:"addScript",value:function(){var t=document.createElement("script");t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-form"]],inputs:{tokens:"tokens",splitDirection:"splitDirection",rows:"rows",cols:"cols",rootForm:"rootForm",snippet:"snippet"},outputs:{submitted:"submitted"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:4,vars:2,consts:[["formBodyTpl",""],[3,"formGroup","ngSubmit",4,"ngIf"],["class","content-inner",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"content-inner"],[4,"ngTemplateOutlet"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"direction","formGroup"],["size","50"],[3,"hidden",4,"ngIf"],["required","","formControlName","contentType"],["value","text/markdown"],["value","text/html"],["value","application/json"],["direction","horizontal"],["formControlName","content",3,"cols","rows"],["formControlName","jsScript",3,"cols","rows"],[3,"content",4,"ngIf"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"content"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,n5,7,3,"form",1)(1,a5,2,1,"div",2)(2,l5,24,9,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),2&e&&(a.\u0275\u0275property("ngIf",t.rootForm),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!t.rootForm))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Hc,Kc,Er.MatOption,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatFormField,jt.MatLabel,fa.MatSelect,cn.DynamicContentViewer,y.KeyValuePipe,$1],encapsulation:2}),r}(),jv=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,dc,mf,pa.MaterialModule,Fd,Lv,cn.UtilsModule]}),r}(),H1=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"parseSnippet",value:function(t){return(0,Re.of)(t.snippet.content)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),sn=b(71265),c5=b(137);function er(o,r,n){return(0,c5.v)(function(){return o()?r:n})}var zn=b(19999),qr=b(90778),Yc=b(32697),Xa=b(40353);function d5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function p5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function f5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),a.\u0275\u0275text(2,"Context"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-select",11),a.\u0275\u0275template(4,p5,2,2,"mat-option",4),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",n.contexts)}}function m5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",12)(1,"mat-checkbox",13),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("formGroupName",n),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.flagsAsArray[n])}}function g5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",1)(1,"div"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field",2)(4,"mat-label"),a.\u0275\u0275text(5,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-select",3),a.\u0275\u0275template(7,d5,2,2,"mat-option",4),a.\u0275\u0275pipe(8,"async"),a.\u0275\u0275pipe(9,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(10,f5,5,1,"mat-form-field",5),a.\u0275\u0275elementStart(11,"mat-form-field",2),a.\u0275\u0275element(12,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-form-field",2),a.\u0275\u0275element(14,"input",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"div",8),a.\u0275\u0275template(16,m5,3,2,"div",9),a.\u0275\u0275elementEnd()()),2&o){var n=r.$implicit,e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",n),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.paramName(e)),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(9,7,a.\u0275\u0275pipeBind1(8,5,t.paramPlugins$))),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","context"==n.get("mapping").get("type").value),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngForOf",n.get("flags").controls)}}function h5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}var Vo=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.evalParam=n.evalParam,n.condition&&(e.condition=n.condition),n.usedContexts&&(e.usedContexts=n.usedContexts)),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),ma=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.mapping=new K1(r.mapping),void 0!==r.flags&&(this.flags=r.flags.map(function(n){return new _5(n)})))}),K1=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.type=r.type,this.value=r.value,this.testValue=r.testValue,this.context=r.context)}),_5=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.name=r.name,this.enabled=r.enabled)}),Oo=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.plugin=r.plugin,this.settings=r.settings?new q1(r.settings):new q1)}),q1=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.paramsString=r.paramsString,r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),ds=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"param"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Jc=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.ppm=t,this.contexts=[],this.params$=new M.t({}),this.paramValues$=new M.t([]),this.init$=new T.B,this.formArray=this.fb.array([]),this.paramPlugins$=this.ppm.getPlugins(),this.flags=new Map,this.savedParams=new Map,this.paramIndexes=new Map,this.paramsSub=this.params$.pipe((0,X.M)(function(u){var l=new Map((0,A.A)(s.paramIndexes));s.formArray.clear(),s.paramIndexes.clear();var d=0;for(var p in u)Array.isArray(u[p])?(u[p].forEach(function(h){return s.buildParams(h,d,l)}),d++):0===u[p].indexOf(":")&&(s.buildParams(u[p],d,l),d++)})).subscribe(),this.savedParamsSub=this.formArray.valueChanges.pipe((0,Ln.B)(1e3),(0,X.M)(function(u){for(var l=u.length,d=0;d<l;d++)s.savedParams.set(s.paramName(d),new ma(u[d]))})).subscribe(),this.paramValuesSub=(0,zn.z)([this.paramValues$,this.params$,this.init$]).pipe((0,X.M)(function(u){for(var d=(0,k.A)(u,1)[0],p=d?d.length:0,h=function(P){var B=Array.from(s.paramIndexes).find(function(z){return(0,k.A)(z,2)[1]===P});void 0!==B&&s.savedParams.set(B[0],d[P])},_=0;_<p;_++)h(_)})).subscribe(),this.onTouched=function(){},this.flags.set("page","Page"),this.flags.set("limit","Limit"),this.flags.set("offset","Offset"),this.flags.set("searchString","Search String")},[{key:"params",set:function(t){this.params$.next(t)}},{key:"paramValues",set:function(t){this.paramValues$.next(t)}},{key:"flagsAsArray",get:function(){var t=[];return this.flags.forEach(function(s,u){t.push(u)}),t}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.formArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formArray.disable():this.formArray.enable()}},{key:"validate",value:function(t){return this.formArray.valid?null:this.formArray.errors}},{key:"buildParams",value:function(t,s,u){var l=this;console.log("build param ".concat(t)),this.paramIndexes.set(t,s),this.formArray.push(this.fb.group({mapping:this.fb.group({type:this.fb.control("",f.Validators.required),value:this.fb.control("",f.Validators.required),testValue:this.fb.control(""),context:this.fb.control("")}),flags:this.fb.array(this.flagsAsArray.map(function(d){return l.fb.group({name:d,enabled:l.fb.control(!1)})}))})),this.savedParams.has(t)?this.formArray.at(s).setValue(this.savedParams.get(t)):s<this.paramValues$.value.length&&-1===Array.from(u).findIndex(function(d){return(0,k.A)(d,2)[1]===s})&&this.formArray.at(s).setValue(this.paramValues$.value[s])}},{key:"paramName",value:function(t){var s=0;for(var u in this.params$.value)if(Array.isArray(this.params$.value[u]))for(var l=0;l<this.params$.value[u].length;l++){if(t===s)return this.params$.value[u][l];s++}else if(0===this.params$.value[u].indexOf(":")){if(s===t)return this.params$.value[u];s++}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(ds))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-params-form"]],inputs:{contexts:"contexts",params:"params",paramValues:"paramValues"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","mapping"],["required","","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","mapping",4,"ngIf"],["matInput","","formControlName","value","placeholder","value","required",""],["matInput","","formControlName","testValue","placeholder","Test Value","required",""],["formArrayName","flags"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","context"],[3,"formGroupName"],["formControlName","enabled"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,g5,17,9,"div",0),2&e&&a.\u0275\u0275property("ngForOf",t.formArray.controls)},dependencies:[y.NgForOf,y.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Er.MatOption,Yc.MatCheckbox,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),b5=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new M.t(void 0),this.afterViewInit$=new T.B,this.paramValues$=new M.t([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(s){var u=Xa.parse("?"+s);t.paramsParsed=u}),this.settingsSub=this.settings$.pipe((0,X.M)(function(s){s&&t.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,zn.z)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,te.p)(function(s){return void 0!==(0,k.A)(s,1)[0]}),(0,lr.c)(1),(0,X.M)(function(s){var u=(0,k.A)(s,1);return t.paramValues$.next(u[0].params)})).subscribe(),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-params-querystring"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(5,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),A5=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.plugins$=new M.t([]),this.title$=new M.t("Plugin"),this.instance$=new M.t(new Oo),this.instanceForm=this.fb.group({plugin:this.fb.control(""),settings:this.fb.control("")}),this.instanceSub=this.instance$.pipe((0,te.p)(function(s){return!!s}),(0,X.M)(function(s){t.instanceForm.get("plugin").setValue(s.plugin)})).subscribe(),this.onTouched=function(){}},[{key:"title",set:function(t){this.title$.next(t)}},{key:"plugins",set:function(t){this.plugins$.next(t)}},{key:"instance",set:function(t){this.instance$.next(t)}},{key:"writeValue",value:function(t){t&&this.instanceForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.instanceForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.instanceForm.disable():this.instanceForm.enable()}},{key:"validate",value:function(t){return this.instanceForm.valid?null:this.instanceForm.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-params-plugin-instance"]],inputs:{title:"title",plugins:"plugins",instance:"instance"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:10,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["formControlName","settings",3,"settings"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1),a.\u0275\u0275template(6,h5,2,2,"mat-option",2),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275pipe(8,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(9,"druid-params-querystring",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.instanceForm),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(4,4,t.title$)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(8,8,a.\u0275\u0275pipeBind1(7,6,t.plugins$))),a.\u0275\u0275advance(3),a.\u0275\u0275property("settings",t.instance$.value.settings))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect,b5,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),co=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.paramPluginManager=e,this.tokenizerService=t},[{key:"paramValue",value:function(t,s){var u=this;return this.paramPluginManager.getPlugins().pipe((0,fe.T)(function(l){return Array.from(l).map(function(d){return(0,k.A)(d,2)[1]})}),(0,fe.T)(function(l){return l.find(function(d){return d.condition&&d.condition({param:t,metadata:s})||!d.condition&&d.id===t.mapping.type})}),(0,We.n)(function(l){return er(function(){return!!l},l?l.evalParam({param:t,metadata:s}):(0,Re.of)(),(0,Re.of)(t.mapping.value))}),(0,fe.T)(function(l){return t.mapping.value&&"string"==typeof l&&0===u.tokenizerService.discoverTokens(l).length?l:t.mapping.testValue}))}},{key:"paramValues",value:function(t){var s=this;return(0,bn.p)(Array.from(t.keys()).map(function(u){return s.paramValue(t.get(u),new Map).pipe((0,fe.T)(function(l){return[u,l]}))})).pipe((0,fe.T)(function(u){return u.reduce(function(l,d){return new Map([].concat((0,A.A)(l),[d]))},new Map)}),(0,qr.U)(new Map))}},{key:"resolveParams",value:function(t){var s=this,u=t.params;return(0,We.n)(function(){return er(function(){return Object.keys(u).length>1},(0,bn.p)(Object.keys(u).map(function(l){return s.paramValue(u[l],new Map).pipe((0,fe.T)(function(d){return(0,c.A)({},l,d)}))})).pipe((0,fe.T)(function(l){return l.reduce(function(d,p){return(0,g.A)((0,g.A)({},d),p)},{})}),(0,fe.T)(function(l){return{options:l}})),er(function(){return 0!==Object.keys(u).length},s.paramValue(0!==Object.keys(u).length?u[Object.keys(u)[0]]:new ma,new Map).pipe((0,fe.T)(function(l){return{options:(0,c.A)({},Object.keys(u)[0],l)}})),(0,Re.of)({options:{}})))})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ds),a.\u0275\u0275inject(Wn))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),ps=function(){var o,r=(0,m.A)(function n(e,t){(0,v.A)(this,n),e.register(new Vo({id:"static",title:"Static",evalParam:function(n){return(0,Re.of)(n.param.mapping.value)}})),e.register(function(r){return new Vo({id:"inputparam",title:"Input Param",evalParam:function(e){var t=e.param,s=e.metadata;return(0,Re.of)(t.mapping.value).pipe((0,fe.T)(function(u){return s.has("inputparams")&&s.get("inputparams").has(u)?s.get("inputparams").get(u):void 0}),(0,We.n)(function(u){return er(function(){return void 0!==u},void 0!==u?r.paramValue(u,s):(0,Re.of)(t.mapping.testValue),(0,Re.of)(t.mapping.testValue))}))}})}(t))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ds),a.\u0275\u0275inject(co))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule]}),r}(),W1="@ngrx/router-store/request",Uv=($a(W1,{_as:"props",_p:void 0}),"@ngrx/router-store/navigation"),Gv=($a(Uv,{_as:"props",_p:void 0}),"@ngrx/router-store/cancel"),zv=($a(Gv,{_as:"props",_p:void 0}),"@ngrx/router-store/error"),Q1=($a(zv,{_as:"props",_p:void 0}),"@ngrx/router-store/navigated");$a(Q1,{_as:"props",_p:void 0});var $v=function(){return(0,m.A)(function o(){(0,v.A)(this,o)},[{key:"serialize",value:function(n){return{root:this.serializeRoute(n.root),url:n.url}}},{key:"serializeRoute",value:function(n){var e=this,t=n.children.map(function(s){return e.serializeRoute(s)});return{params:n.params,data:n.data,url:n.url,outlet:n.outlet,title:n.title,routeConfig:n.routeConfig?{path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet,title:"string"==typeof n.routeConfig.title?n.routeConfig.title:void 0}:null,queryParams:n.queryParams,fragment:n.fragment,firstChild:t[0],children:t}}}])}(),Hv=function(o){return o[o.PreActivation=1]="PreActivation",o[o.PostActivation=2]="PostActivation",o}(Hv||{}),Y1=new a.InjectionToken("@ngrx/router-store Internal Configuration"),J1=new a.InjectionToken("@ngrx/router-store Configuration"),Kv=function(o){return o[o.Full=0]="Full",o[o.Minimal=1]="Minimal",o}(Kv||{});function x5(o){return(0,g.A)({stateKey:"router",serializer:$v,navigationActionTiming:Hv.PreActivation},o)}var Z1=function(){return(0,m.A)(function o(){(0,v.A)(this,o)},[{key:"serialize",value:function(n){return{root:this.serializeRoute(n.root),url:n.url}}},{key:"serializeRoute",value:function(n){var e=this,t=n.children.map(function(s){return e.serializeRoute(s)});return{params:n.params,paramMap:n.paramMap,data:n.data,url:n.url,outlet:n.outlet,title:n.title,routeConfig:n.routeConfig?{component:n.routeConfig.component,path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet,title:n.routeConfig.title}:null,queryParams:n.queryParams,queryParamMap:n.queryParamMap,fragment:n.fragment,component:n.routeConfig?n.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}}])}(),ex=(0,m.A)(function o(){(0,v.A)(this,o)}),po=function(o){return o[o.NONE=1]="NONE",o[o.ROUTER=2]="ROUTER",o[o.STORE=3]="STORE",o}(po||{}),tx=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.store=e,this.router=t,this.serializer=s,this.errorHandler=u,this.config=l,this.activeRuntimeChecks=d,this.lastEvent=null,this.routerState=null,this.trigger=po.NONE,this.stateKey=this.config.stateKey,(0,a.isDevMode)()&&(null!=d&&d.strictActionSerializability||null!=d&&d.strictStateSerializability)&&this.serializer instanceof Z1&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()},[{key:"setUpStoreStateListener",value:function(){var t=this;this.store.pipe(wr(this.stateKey),ii(this.store)).subscribe(function(s){var u=(0,k.A)(s,2);t.navigateIfNeeded(u[0],u[1])})}},{key:"navigateIfNeeded",value:function(t,s){var u=this;if(t&&t.state&&this.trigger!==po.ROUTER&&!(this.lastEvent instanceof Xn.NavigationStart)){var l=t.state.url;(function S5(o,r){return nx(o)===nx(r)})(this.router.url,l)||(this.storeState=s,this.trigger=po.STORE,this.router.navigateByUrl(l).catch(function(d){u.errorHandler.handleError(d)}))}}},{key:"setUpRouterEventsListener",value:function(){var u,t=this,s=this.config.navigationActionTiming===Hv.PostActivation;this.router.events.pipe(ii(this.store)).subscribe(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];t.lastEvent=p,p instanceof Xn.NavigationStart?(t.routerState=t.serializer.serialize(t.router.routerState.snapshot),t.trigger!==po.STORE&&(t.storeState=h,t.dispatchRouterRequest(p))):p instanceof Xn.RoutesRecognized?(u=p,!s&&t.trigger!==po.STORE&&t.dispatchRouterNavigation(p)):p instanceof Xn.NavigationCancel?(t.dispatchRouterCancel(p),t.reset()):p instanceof Xn.NavigationError?(t.dispatchRouterError(p),t.reset()):p instanceof Xn.NavigationEnd&&(t.trigger!==po.STORE&&(s&&t.dispatchRouterNavigation(u),t.dispatchRouterNavigated(p)),t.reset())})}},{key:"dispatchRouterRequest",value:function(t){this.dispatchRouterAction(W1,{event:t})}},{key:"dispatchRouterNavigation",value:function(t){var s=this.serializer.serialize(t.state);this.dispatchRouterAction(Uv,{routerState:s,event:new Xn.RoutesRecognized(t.id,t.url,t.urlAfterRedirects,s)})}},{key:"dispatchRouterCancel",value:function(t){this.dispatchRouterAction(Gv,{storeState:this.storeState,event:t})}},{key:"dispatchRouterError",value:function(t){this.dispatchRouterAction(zv,{storeState:this.storeState,event:new Xn.NavigationError(t.id,t.url,"".concat(t))})}},{key:"dispatchRouterNavigated",value:function(t){var s=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Q1,{event:t,routerState:s})}},{key:"dispatchRouterAction",value:function(t,s){this.trigger=po.ROUTER;try{this.store.dispatch({type:t,payload:(0,g.A)((0,g.A)({routerState:this.routerState},s),{},{event:this.config.routerState===Kv.Full?s.event:{id:s.event.id,url:s.event.url,urlAfterRedirects:s.event.urlAfterRedirects}})})}finally{this.trigger=po.NONE}}},{key:"reset",value:function(){this.trigger=po.NONE,this.storeState=null,this.routerState=null}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Xn.Router),a.\u0275\u0275inject(ex),a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(J1),a.\u0275\u0275inject(zu))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function nx(o){return o?.length>0&&"/"===o[o.length-1]?o.substring(0,o.length-1):o}function E5(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.makeEnvironmentProviders)([{provide:Y1,useValue:o},{provide:J1,useFactory:x5,deps:[Y1]},{provide:ex,useClass:o.serializer?o.serializer:o.routerState===Kv.Full?Z1:$v},(0,a.provideEnvironmentInitializer)(function(){return(0,a.inject)(tx)}),tx])}var D5=function(){var o,r=function(){function n(){(0,v.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[E5(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}();function Zc(){var r=wn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function w5(){return gc("router")}(),function(P){return P&&P.state}),n=wn(r,function(P){return P&&P.root}),e=wn(n,function(P){if(P){for(var B=P;B.firstChild;)B=B.firstChild;return B}}),t=wn(n,function(P){return P&&P.fragment}),s=wn(n,function(P){return P&&P.queryParams}),l=wn(e,function(P){return P&&P.params}),p=wn(e,function(P){return P&&P.data}),_=wn(r,function(P){return P&&P.url}),S=wn(e,function(P){if(null!=P&&P.routeConfig)return"string"==typeof P.routeConfig.title?P.routeConfig.title:P.title});return{selectCurrentRoute:e,selectFragment:t,selectQueryParams:s,selectQueryParam:function(B){return wn(s,function(z){return z&&z[B]})},selectRouteParams:l,selectRouteParam:function(B){return wn(l,function(z){return z&&z[B]})},selectRouteData:p,selectRouteDataParam:function(B){return wn(p,function(z){return z&&z[B]})},selectUrl:_,selectTitle:S}}var R5=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),[new Vo({id:"page",title:"Page",usedContexts:function(){return(0,Re.of)(["_page"])},condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled&&"page"===s.name})>-1&&t.has("page")},evalParam:function(n){return(0,Re.of)("".concat(n.metadata.get("page")))}}),new Vo({id:"searchstring",title:"Searchstring",condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled})>-1&&t.has("searchString")},evalParam:function(n){return(0,Re.of)("".concat(n.metadata.get("searchString")))}}),new Vo({id:"route",title:"Route",usedContexts:function(){return(0,Re.of)(["_route"])},evalParam:function(n){var e=n.param,s=n.metadata.get("_route");return(0,Re.of)(s.params[e.mapping.value])}}),new Vo({id:"querystring",title:"Querystring",usedContexts:function(){return(0,Re.of)(["_page"])},evalParam:function(n){var e=n.param,s=n.metadata.get("_route");return(0,Re.of)(s.queryParams[e.mapping.value])}}),new Vo({id:"standardpagination",title:"Standard Pagination",usedContexts:function(){return(0,Re.of)(["_page"])},condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled&&"offset"===s.name})>-1&&t.has("limit")&&t.has("page")},evalParam:function(n){var t=n.metadata;return(0,Re.of)("".concat(+t.get("limit")*(+t.get("page")-1)))}})].forEach(function(t){return e.register(t)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ds))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[ps]}),r}(),ed=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.routerStore=e,this.paramPluginManager=t,this.paramEvaluatorService=s},[{key:"getUrl",value:function(t,s,u){var l=this,d=Zc();return this.routerStore.pipe(wr(d.selectCurrentRoute),(0,fe.T)(function(h){return[h,t,t?t.indexOf("?"):-1]}),(0,fe.T)(function(h){var _=(0,k.A)(h,3),P=_[1],B=_[2];return[_[0],B>-1?P.substring(0,B):P,B>-1?P.substring(B+1):""]}),(0,We.n)(function(h){var _=(0,k.A)(h,3),S=_[0],P=_[1],B=_[2],z=Xa.parse(B),Y=P?P.split("/"):[],de=new Map([].concat((0,A.A)(u),[["_route",S]])),ge=l.paramNames(t),be=s.reduce(function(ot,pt,Tt){return new Map([].concat((0,A.A)(ot),[[ge[Tt],pt]]))},new Map),me=Y.reduce(function(ot,pt,Tt){return 0===pt.indexOf(":")?[].concat((0,A.A)(ot),[l.paramEvaluatorService.paramValue(be.get(pt),de)]):[].concat((0,A.A)(ot),[(0,Re.of)(Y[Tt])])},[]),Pe=[],qe=function(pt){Array.isArray(z[pt])?z[pt].forEach(function(Tt){return Pe.push(l.paramEvaluatorService.paramValue(be.get(Tt),de).pipe((0,fe.T)(function(Lt){return[pt,Lt,!0]})))}):"string"==typeof z[pt]&&z[pt].indexOf(":")>-1?Pe.push(l.paramEvaluatorService.paramValue(be.get(z[pt]),de).pipe((0,fe.T)(function(Tt){return[pt,Tt,!1]}))):Pe.push((0,Re.of)([pt,z[pt],Array.isArray(z[pt])]))};for(var dt in z)qe(dt);return(0,bn.p)([(0,bn.p)(me).pipe((0,fe.T)(function(ot){return ot.filter(function(pt){return null!=pt&&""!==pt&&"undefined"!==pt}).map(function(pt,Tt){return 0===Tt&&0===pt.indexOf("http")?"".concat(pt,"/"):pt}).join("/")}),(0,qr.U)(P)),(0,bn.p)(Pe).pipe((0,X.M)(function(ot){return console.log(ot)}),(0,fe.T)(function(ot){return ot.reduce(function(pt,Tt){var Lt=(0,k.A)(Tt,3),mt=Lt[0],yt=Lt[1],wt=Lt[2];if(null==yt||""===yt||"undefined"===yt){var Jt=(0,g.A)({},pt);return delete Jt[mt],Jt}return(0,g.A)((0,g.A)({},pt),{},(0,c.A)({},mt,wt?[].concat((0,A.A)(void 0!==pt[mt]?pt[mt]:[]),[yt]):yt))},l.rebuildQueryString(z))}),(0,X.M)(function(ot){return console.log(ot)}),(0,fe.T)(function(ot){return Xa.stringify(ot,{arrayFormat:"repeat",indices:!1})}),(0,qr.U)(B))]).pipe((0,fe.T)(function(ot){return ot.join("?")}))}))}},{key:"paramNames",value:function(t){var s=t?t.indexOf("?"):-1,u=(s>-1?t.substring(0,s):t||"").split("/").reduce(function(h,_,S){return 0===_.indexOf(":")?(0,g.A)((0,g.A)({},h),{},(0,c.A)({},_.substr(1),_)):h},{}),l=(0,g.A)((0,g.A)({},u),Xa.parse(t?t.substring(t.indexOf("?")+1):"")),d=[];for(var p in l)Array.isArray(l[p])?l[p].forEach(function(h){return d.push(h)}):0===l[p].indexOf(":")&&d.push(l[p]);return d}},{key:"rebuildQueryString",value:function(t){var s={};for(var u in t)Array.isArray(t[u])?s[u]=[]:null!=u[t]&&""!==u[t]&&"undefined"!==u[t]&&(s[u]=u[t]);return Xa.parse(s)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(ds),a.\u0275\u0275inject(co))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function M5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function N5(o,r){}function V5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function O5(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Binding"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",10),a.\u0275\u0275template(5,V5,2,2,"mat-option",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"button",6),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.removeBinding(u))}),a.\u0275\u0275text(7,"Remove"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",t.bindableOptions)}}var B5=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.onChange=function(){},this.onTouched=function(){},this.formGroup=this.fb.group({query:[""],trackBy:[""],valueMapping:[""],labelMapping:[""],idMapping:[""],multiple:[""],limit:[""]}),this.formGroup.valueChanges.subscribe(function(s){t.onChange(s)})},[{key:"ngOnChanges",value:function(t){t.datasourceOptions&&t.datasourceOptions.currentValue&&this.formGroup.patchValue(this.datasourceOptions,{emitEvent:!1})}},{key:"writeValue",value:function(t){console.log("Datasource Options Write Value",t),t&&this.formGroup.patchValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-options"]],inputs:{datasourceOptions:"datasourceOptions"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["matInput","","formControlName","idMapping","placeholder","Id"],["matInput","","formControlName","valueMapping","placeholder","Value"],["matInput","","formControlName","labelMapping","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),a.\u0275\u0275element(2,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-form-field"),a.\u0275\u0275element(8,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-form-field"),a.\u0275\u0275element(10,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div")(12,"mat-checkbox",6),a.\u0275\u0275text(13,"Multiple"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(14,"mat-form-field"),a.\u0275\u0275element(15,"input",7),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Yc.MatCheckbox,jt.MatInput,jt.MatFormField],encapsulation:2}),r}(),rx=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiDatasourceRendererHost",""]],standalone:!1}),r}(),Ri=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"datasource"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),qv=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.componentFactoryResolver=t,this.dpm=s,this.datasources$=this.dpm.getPlugins(),this.formGroup=this.fb.group({plugin:this.fb.control("",[f.Validators.required]),settings:this.fb.control(""),renderer:this.fb.group({type:this.fb.control("pane"),bindings:this.fb.array([])})}),this.bindableOptions=[],this.contexts=[],this.settings$=new M.t([]),this.componentRef$=new M.t(void 0),this.datasource$=new M.t(void 0),this.afterViewInit$=new T.B,this.contextForwardingSub=this.componentRef$.pipe((0,te.p)(function(l){return!!l})).subscribe(function(l){l.instance.contexts=u.contexts,l.instance.settings=u.settings$.value}),this.rendererSub=(0,zn.z)([this.formGroup.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,We.n)(function(l){var p=(0,k.A)(l,2)[0];return p&&""!==p?u.dpm.getPlugin(p):(0,Re.of)(void 0)})).subscribe(function(l){l&&u.renderPlugin(l)}),this.settingsSub=(0,zn.z)([this.componentRef$,this.settings$]).pipe((0,te.p)(function(l){return!!(0,k.A)(l,2)[0]})).subscribe(function(l){var d=(0,k.A)(l,2);d[0].instance.settings=d[1]}),this.datasourceSub=this.datasource$.pipe((0,X.M)(function(l){setTimeout(function(){return u.settings$.next(l?l.settings:[])})})).subscribe(function(l){u.formGroup.get("renderer").get("bindings").clear(),l?(u.formGroup.get("plugin").setValue(l.plugin),u.formGroup.get("renderer").get("type").setValue("pane"),l.renderer&&l.renderer.bindings&&l.renderer.bindings.forEach(function(d){u.addBinding(d)})):(u.formGroup.get("plugin").setValue(""),u.formGroup.get("renderer").get("type").setValue("pane"))}),this.onTouched=function(){}},[{key:"datasource",set:function(t){this.datasource$.next(t)}},{key:"bindings",get:function(){return this.formGroup.get("renderer").get("bindings")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"renderPlugin",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editor),u=this.datasourceHost.viewContainerRef;u.clear(),this.componentRef$.next(u.createComponent(s))}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"addBinding",value:function(t){this.bindings.push(this.fb.group({type:this.fb.control("pane",f.Validators.required),id:this.fb.control(t?t.id:"",f.Validators.required)}))}},{key:"removeBinding",value:function(t){this.bindings.removeAt(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(Ri))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(rx,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.datasourceHost=s.first)},inputs:{bindableOptions:"bindableOptions",contexts:"contexts",datasource:"datasource"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDatasourceRendererHost",""],["formGroupName","renderer"],["formArrayName","bindings"],["type","button",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],["required","","formControlName","id"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,M5,2,2,"mat-option",2),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275pipe(7,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,N5,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementStart(10,"div",4)(11,"div",5)(12,"button",6),a.\u0275\u0275listener("click",function(){return t.addBinding()}),a.\u0275\u0275text(13,"Add Binding"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div"),a.\u0275\u0275template(15,O5,8,2,"div",7),a.\u0275\u0275elementEnd()()()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,5,a.\u0275\u0275pipeBind1(6,3,t.datasources$))),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngForOf",t.bindings.controls))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Er.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect,rx,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),L5=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new M.t(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){u&&u.data?s.formGroup.get("data").setValue(u.data):s.formGroup.get("data").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-data-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","data","cols","60","rows","20"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName],encapsulation:2}),r}(),j5=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-data-datasource"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-data-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,L5],encapsulation:2}),r}(),fo=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.editor=n.editor,e.fetch=n.fetch,e.getBindings=n.getBindings?n.getBindings:function(){return(0,Re.of)([])},e.editorOptions=n.editorOptions?n.editorOptions:function(){return(0,Re.of)(new xf)}),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),Bo=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.url=r.url,this.method=r.method?r.method:void 0,void 0!==r.renderer&&(this.renderer=new Wv(r.renderer)),void 0!==r.params&&(this.params=r.params.map(function(n){return new ma(n)})),r.body&&(this.body=new Cu(r.body)))}),Wv=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.type=r.type,this.query=r.query,this.trackBy=r.trackBy,void 0!==r.data&&(this.data=new Cu(r.data)),void 0!==r.bindings&&(this.bindings=r.bindings.map(function(n){return new Xt.ContentBinding(n)})))}),Un=(0,m.A)(function o(r){(0,v.A)(this,o),this.results=[],r&&(this.results=r.results)}),ax=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.query=r.query,this.trackBy=r.trackBy,this.idMapping=r.idMapping,this.labelMapping=r.labelMapping,this.valueMapping=r.valueMapping,this.multiple=r.multiple,this.limit=r.limit)}),xu=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],this.params=[],r&&(this.plugin=r.plugin,r.renderer&&(this.renderer=new Wv(r.renderer)),r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})),r.params&&(this.params=r.params.map(function(n){return new ma(n)})))}),xf=(0,m.A)(function o(r){(0,v.A)(this,o),this.fullscreen=!1,r&&(this.fullscreen=r.fullscreen)}),U5=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new M.t(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"Datasource"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),G5=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-source"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-datasource-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,U5],encapsulation:2}),r}(),z5=function(r){return new fo({id:"data",title:"Data",editor:j5,fetch:function(e){var t=e.settings;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return r.deserializeAsObject(t)}),(0,fe.T)(function(s){return new Un({results:JSON.parse(s.data)})}))}})},Su=function(){var o,r=(0,m.A)(function n(e,t){(0,v.A)(this,n),[z5(t),new fo({id:"datasource_datasource",title:"Datasource",editor:G5,fetch:function(e){return(0,Re.of)(new Un)}})].forEach(function(s){return e.register(s)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,pa.MaterialModule,R5]}),r}(),ix=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.config=e,this.http=t,this.cache=new Map},[{key:"getData",value:function(t){var s=this;return this.cache.has(t)?(0,Re.of)(this.cache.get(t)).pipe((0,lr.c)(0)):this.http.get("".concat(t)).pipe((0,aa.W)(function(){return(0,Re.of)([])}),(0,fe.T)(function(u){return Array.isArray(u)?u:[u]}),(0,X.M)(function(u){return s.cache.set(t,u)}))}},{key:"postData",value:function(t){var u=t.body,l=void 0===u?"":u;return this.http.post("".concat(t.url),l).pipe((0,fe.T)(function(d){return Array.isArray(d)?d:[d]}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ku),a.\u0275\u0275inject(E.HttpClient))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Qv=new ax({query:"",trackBy:"",idMapping:"",labelMapping:"",valueMapping:"",multiple:!1,limit:0}),ox=(new Bo({url:"",renderer:{type:"",data:{content:"",contentType:""},query:"",trackBy:"",bindings:[]},params:[]}),(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.label=r.label,this.dataItem=r.dataItem,void 0!==r.value&&(this.value=r.value))})),sx=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.value=r.value,this.label=r.label,this.id=r.id,this.multiple=r.multiple,this.limit=r.limit)}),ux=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.dpm=e,this.attributeSerializer=t},[{key:"evalDatasource",value:function(t){var s=this,l=t.metadata,d=t.datasources;return(0,Re.of)(t.datasource).pipe((0,We.n)(function(p){return s.dpm.getPlugin(p.plugin).pipe((0,fe.T)(function(h){return[p,h]}))}),(0,We.n)(function(p){var h=(0,k.A)(p,2),_=h[0];return h[1].fetch({settings:_.settings,metadata:l,datasource:_,datasources:d}).pipe((0,fe.T)(function(P){return[_,P]}))}),(0,We.n)(function(p){var h=(0,k.A)(p,2),S=h[1];return(0,bn.p)(h[0].renderer.bindings.reduce(function(P,B){return[].concat((0,A.A)(P),(0,A.A)(d&&d.has(B.id)?[(0,Re.of)(d.get(B.id))]:[]))},[])).pipe((0,We.n)(function(P){return P.reduce(function(B,z){return B.pipe((0,We.n)(function(Y){return s.dpm.getPlugin(z.plugin).pipe((0,fe.T)(function(de){return[de,Y,z]}))}),(0,We.n)(function(Y){var de=(0,k.A)(Y,3);return de[0].fetch({settings:z.settings,dataset:de[1],metadata:l,datasource:de[2],datasources:d})}))},(0,Re.of)(S))}),(0,fe.T)(function(P){return P}),(0,qr.U)(S))}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Eu=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),td=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.build=n.build),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),Gl=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"bridgebuilder"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),q5=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.bpm=e},[{key:"build",value:function(){try{console.log("build bridge..."),this.bpm.getPlugins().subscribe(function(t){Array.from(t).forEach(function(s){var u=(0,k.A)(s,2),l=u[0];u[1].build(),console.log("bridge build: "+l)})}),console.log("bridge built.")}catch{}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Gl))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),lx=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),console.log("bridge constructor"),e.register(new td({id:"test",title:"Test",build:function(){Eu.prototype.sayHello2=function(){alert("say hello 2")}}}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Gl))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[(0,a.provideAppInitializer)(function(){var n=function(r){return function(){return new Promise(function(n){r.build(),n()})}}((0,a.inject)(q5));return n()})]}),r}(),Sf=b(56042);function W5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",3),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function Q5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.name),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function X5(o,r){}var Xv=new a.InjectionToken("ContextPlugin"),Lo=function(o){function r(n){var e;return(0,v.A)(this,r),(e=(0,w.A)(this,r,[n])).global=!1,n&&(e.name=e.id,e.baseObject=n.baseObject,e.resolver=n.resolver,e.global=void 0!==n.global&&n.global,e.internal=void 0!==n.internal&&n.internal,e.group=void 0!==n.group?n.group:void 0,n.editorComponent&&(e.editorComponent=n.editorComponent)),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),Ia=(0,m.A)(function o(r){(0,v.A)(this,o),this.name=r.name,this.adaptor=r.adaptor,r.plugin&&(this.plugin=r.plugin),"rest"===this.adaptor?this.rest=new Bo(r.rest):"snippet"===this.adaptor||"json"===this.adaptor?this.snippet=new Cu(r.snippet):"data"===this.adaptor?this.data=r.data:"token"===this.adaptor?this.tokens=new Map((0,A.A)(r.tokens)):"datasource"===this.adaptor&&(this.datasource=new xu(r.datasource))}),Yv=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.name=r.name)}),Y5=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new M.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[f.Validators.required])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new Yv(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?s.formGroup.get("name").setValue(u.name):s.formGroup.get("name").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["required","","formControlName","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Context"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,W5,2,2,"mat-option",2),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",t.contexts))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect],encapsulation:2}),r}(),J5=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.contexts=[],this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-datasource"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"contexts","settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("contexts",t.contexts)("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Y5],encapsulation:2}),r}(),Z5=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.attributeSerializer=s},[{key:"ngOnInit",value:function(){var t=this;this.controlContainer.control.addControl("adaptor",this.fb.control("datasource",f.Validators.required)),this.controlContainer.control.addControl("datasource",this.fb.control("")),this.controlContainer.control.addControl("_proxy",this.fb.control("")),this.proxyControlSub=this.controlContainer.control.get("_proxy").valueChanges.pipe((0,fe.T)(function(s){return s?new xu((0,g.A)((0,g.A)({},s),{},{settings:t.attributeSerializer.serialize(s.settings,"settings").attributes})):new xu}),(0,X.M)(function(s){return t.controlContainer.control.get("datasource").setValue(s)})).subscribe()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-context-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(qv,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.datasourceFormComp=s.first)},standalone:!1,decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","_proxy"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("formGroup",t.controlContainer.control)},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,qv],encapsulation:2}),r}(),eL=function(r){return new Lo({id:"route",name:"route",title:"Route",global:!0,baseObject:{path:"",arg0:"",arg2:"",arg3:"",arg4:"",arg5:""},resolver:r})},Jv=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.routerStore=e},[{key:"resolve",value:function(t,s){var u=Zc();return this.routerStore.pipe(wr(u.selectCurrentRoute),(0,fe.T)(function(d){return{path:"/pages/panelpage/".concat(d.params.panelPageId)}}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),cx=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiContextEditorHost",""]],standalone:!1}),r}(),fs=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"context"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),dx=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.fb=e,this.componentFactoryResolver=t,this.cpm=s,this.contextForm=this.fb.group({name:this.fb.control("",f.Validators.required),plugin:this.fb.control("",f.Validators.required)}),this.context$=new M.t(void 0),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.contextPlugins=this.cpm.getPlugins().pipe((0,fe.T)(function(s){return new Map(Array.from(s).filter(function(u,l){return!(0,k.A)(u,2)[1].internal}).map(function(u,l){var h=(0,k.A)(u,2)[1];return[h.name,h]}))})),this.contextForm.get("plugin").valueChanges.pipe((0,We.n)(function(s){return t.cpm.getPlugin(s)})).subscribe(function(s){s.editorComponent?t.renderEditor(s):t.editorHost.viewContainerRef.clear()}),this.context$.pipe((0,te.p)(function(){return!!t.componentRef})).subscribe(function(s){t.componentRef.instance.context=s})}},{key:"writeValue",value:function(t){t&&this.contextForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.contextForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contextForm.disable():this.contextForm.enable()}},{key:"validate",value:function(t){return this.contextForm.valid?null:{invalidForm:{valid:!1,message:"context is invalid"}}}},{key:"renderEditor",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editorComponent),u=this.editorHost.viewContainerRef;u.clear(),this.componentRef=u.createComponent(s),this.componentRef.instance.context=this.context$.value}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(fs))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(cx,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.editorHost=s.first)},inputs:{context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:12,vars:6,consts:[["fxLayout","column",3,"formGroup"],["matInput","","formControlName","name","placeholder","Name","required",""],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiContextEditorHost",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),a.\u0275\u0275element(2,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field")(4,"mat-label"),a.\u0275\u0275text(5,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-select",2),a.\u0275\u0275template(7,Q5,2,2,"mat-option",3),a.\u0275\u0275pipe(8,"async"),a.\u0275\u0275pipe(9,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(10),a.\u0275\u0275template(11,X5,0,0,"ng-template",4),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.contextForm),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(9,4,a.\u0275\u0275pipeBind1(8,2,t.contextPlugins))))},dependencies:[y.NgForOf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,Ve,cx,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),Zv=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.dpm=e},[{key:"resolve",value:function(t,s,u){var l=this;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return new xu(s)}),(0,We.n)(function(d){return l.dpm.getPlugin(d.plugin).pipe((0,fe.T)(function(p){return{ds:d,p}}))}),(0,We.n)(function(d){return d.p.fetch({settings:d.ds.settings,metadata:u})}),(0,fe.T)(function(d){return d}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),iL=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),this.cpm=r,this.rcm=n},[{key:"resolveGlobals",value:function(){return arguments.length>0&&void 0!==arguments[0]||ur(),this.cpm.getPlugins().pipe((0,fe.T)(function(e){return Array.from(e.values()).filter(function(t){return!0===t.global})}),(0,We.n)(function(e){return R.h.apply(void 0,(0,A.A)(e.map(function(t){return t.resolver.resolve(t,{}).pipe((0,fe.T)(function(s){return[t.name,s,e.length]}))}))).pipe((0,kd.S)(function(t,s){var u=(0,k.A)(s,3),l=u[0],d=u[1],p=u[2];return new Map([].concat((0,A.A)(t),[["_".concat(l),d],["__len",p]]))},new Map([])),(0,te.p)(function(t){return t.size-1===+t.get("__len")}),(0,fe.T)(function(t){return Object.assign.apply(Object,[{}].concat((0,A.A)((0,A.A)(t.entries()).filter(function(s){return"__len"!==(0,k.A)(s,2)[0]}).map(function(s){var u=(0,k.A)(s,2);return(0,c.A)({},u[0],u[1])}))))}))}))}},{key:"resolveGlobalsSingle",value:function(){return arguments.length>0&&void 0!==arguments[0]||ur(),this.cpm.getPlugins().pipe((0,fe.T)(function(e){return Array.from(e.values()).filter(function(t){return!0===t.global})}),(0,We.n)(function(e){return R.h.apply(void 0,(0,A.A)(e.map(function(t){return t.resolver.resolve(t,{}).pipe((0,fe.T)(function(s){return[t.name,s]}))})))}))}},{key:"resolveAll",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur();return R.h.apply(void 0,(0,A.A)(n.map(function(s){return e.resolve(s,t).pipe((0,fe.T)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,kd.S)(function(s,u){var l=(0,k.A)(u,2),d=l[0],p=l[1];return new Map([].concat((0,A.A)(s),[[d,p]]))},new Map),(0,te.p)(function(s){return s.size===n.length}),(0,fe.T)(function(s){return Object.assign.apply(Object,[{}].concat((0,A.A)((0,A.A)(s.entries()).map(function(u){var l=(0,k.A)(u,2);return(0,c.A)({},l[0],l[1])}))))}))}},{key:"resolveAllSingle",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur();return R.h.apply(void 0,(0,A.A)(n.map(function(s){return e.resolve(s,t).pipe((0,fe.T)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,fe.T)(function(s){var u=(0,k.A)(s,2);return[u[0],u[1]]}))}},{key:"resolveMerged",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur();return this.rcm.getPlugins().pipe((0,We.n)(function(){return e.rcm.add$.pipe((0,qr.U)(void 0))}),(0,We.n)(function(){return e.rcm.getPlugins()}),(0,We.n)(function(s){return(0,zn.z)([].concat((0,A.A)(Array.from(s).map(function(u){return(0,k.A)(u,2)[1].resolve()})),[e.resolveGlobals(t),0===n.length?(0,Re.of)({}):e.resolveAll(n,t)])).pipe((0,Ln.B)(0),(0,fe.T)(function(u){return u.reduce(function(l,d){return(0,g.A)((0,g.A)({},l),d)},{})}))}))}},{key:"resolveMergedSingle",value:function(n){var e=this;return arguments.length>1&&void 0!==arguments[1]||ur(),0!==n.length?this.rcm.getPlugins().pipe((0,We.n)(function(s){return R.h.apply(void 0,(0,A.A)(Array.from(s).map(function(u){return(0,k.A)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle(),e.resolveAllSingle(n)]))})):this.rcm.getPlugins().pipe((0,We.n)(function(s){return R.h.apply(void 0,(0,A.A)(Array.from(s).map(function(u){return(0,k.A)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle()]))}))}},{key:"resolve",value:function(n){var e=this;return arguments.length>1&&void 0!==arguments[1]||ur(),n.plugin?this.cpm.getPlugin(n.plugin).pipe((0,We.n)(function(s){return s.resolver.resolve(s,e.getDataObject(n),new Map([["name",n.name]]))})):(0,Re.of)(this.getDataObject(n))}},{key:"getDataObject",value:function(n){switch(n.adaptor){case"rest":return n.rest;case"snippet":return n.snippet;case"json":return JSON.parse(n.snippet.content);case"data":return n.data;case"token":return n.tokens;case"datasource":return n.datasource;default:return}}}])}(),px=function(){var o,r=function(n){function e(t,s){var u;return(0,v.A)(this,e),(u=(0,w.A)(this,e,[t,s])).add$=new Sf.m(1),u}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"resolved_context"}))}},{key:"register",value:function(s){var u=this.pluginInstances.has(s.id);(0,ze.A)(e,"register",this,3)([s]),u||this.add$.next(void 0)}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),zl=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e)}(iL);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fs),a.\u0275\u0275inject(px))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),$l=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,h,_){(0,v.A)(this,n),e.forEach(function(S){return u.register(S)}),l.register(function(r,n){return new td({id:"context",title:"Context",build:function(){Eu.prototype.resolveContext=function(t,s){return new Promise(function(u){r.getPlugin(t).pipe((0,We.n)(function(l){return l.resolver.resolve(l,s).pipe((0,pn.s)(1))})).subscribe(function(l){u(l)})})},Eu.prototype.resolveMergedContext=function(t){return new Promise(function(s){n.resolveMerged(t).pipe((0,X.M)(function(u){return s(u)}),(0,pn.s)(1)).subscribe()})}}})}(u,t)),p.register(function(r,n){return new Vo({id:"context",title:"Context",evalParam:function(t){var s=t.param,l=s.mapping.context&&""!==s.mapping.context?new Ia(t.metadata.get("contexts").find(function(d){return d.name===s.mapping.context})):void 0;return l?r.resolve(l).pipe((0,pn.s)(1),(0,We.n)(function(d){return er(function(){return s.mapping.value&&""!==s.mapping.value},(0,Re.of)(d).pipe((0,fe.T)(function(p){return n.generateGenericTokens(Array.isArray(p)?p[0]:p)}),(0,fe.T)(function(p){return n.replaceTokens("[".concat(s.mapping.value,"]"),p)}),(0,pn.s)(1)),(0,Re.of)(Array.isArray(d)?d[0]:d)).pipe((0,pn.s)(1))})):(0,Re.of)()},usedContexts:function(t){return(0,Re.of)([t.param.mapping.context])}})}(t,s)),d.register(function(r,n){return new fo({id:"context",title:"Context",editor:J5,fetch:function(t){var s=t.settings,u=t.metadata;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return new Yv(n.deserializeAsObject(s))}),(0,fe.T)(function(l){return u.get("contexts").find(function(d){return d.name===l.name})}),(0,We.n)(function(l){return r.resolve(l).pipe((0,fe.T)(function(d){return d instanceof Un?d:new Un({results:Array.isArray(d)?d:[d]})}),(0,pn.s)(1))}))},getBindings:function(t){var s=t.settings;return(0,Re.of)([]).pipe((0,fe.T)(function(){return new Yv(n.deserializeAsObject(s))}),(0,fe.T)(function(l){return[new Xt.ContentBinding({id:l.name,type:"context"})]}))}})}(t,h)),u.register(function(r){var n={dataset:new Un};return new Lo({id:"datasource",name:"datasource",title:"Datasource",baseObject:n,resolver:r,editorComponent:Z5})}(_))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xv),a.\u0275\u0275inject(zl),a.\u0275\u0275inject(Wn),a.\u0275\u0275inject(fs),a.\u0275\u0275inject(Gl),a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(ds),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(Zv))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:Jv,useClass:Jv},{provide:Zv,useClass:Zv},{provide:Xv,useFactory:eL,multi:!0,deps:[Jv]}],imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,pa.MaterialModule,dc,Gc,jv,Su]}),r}(),oL=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.contextPlugins=e},[{key:"getAll",value:function(t){return typeof t>"u"?this.contextPlugins:this.contextPlugins.filter(t?function(s){return s.global}:function(s){return!s.global})}},{key:"getAllObjects",value:function(){return this.contextPlugins.map(function(t){return t.baseObject})}},{key:"lookupContext",value:function(t){return this.contextPlugins.find(function(s){return s.name===t})}},{key:"register",value:function(t){this.contextPlugins.push(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xv))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),sL=function(o){function r(n){var e;return(0,v.A)(this,r),(e=(0,w.A)(this,r,[n])).resolve=n.resolve,e.resolveSingle=n.resolveSingle,e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),ey=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.ppm=e},[{key:"extractContexts",value:function(t){var s=this;return(0,bn.p)(t.map(function(u){return s.ppm.getPlugin(u.mapping.type).pipe((0,We.n)(function(l){return er(function(){return!!l&&!!l.usedContexts},l&&l.usedContexts?l.usedContexts({param:u,metadata:new Map([])}):(0,Re.of)([]),(0,Re.of)([]))}))})).pipe((0,fe.T)(function(u){return u.reduce(function(l,d){return[].concat((0,A.A)(l),(0,A.A)(d.filter(function(p){return!l.includes(p)})))},[])}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ds))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),uL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.routerStore=e,this.router=t},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(Xn.Router),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-alias-catch-all-router"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"Page Not Found"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),lL=[],cL=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[cn.UtilsModule,Xn.RouterModule.forChild(lL)]}),r}(),dL=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.loadingStrategy=n.loadingStrategy,e.matchingStrategy=n.matchingStrategy,e.redirectHandler=n.redirectHandler),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),fx=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"alias"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),mx=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.siteName=e,this.router=t,this.apm=s,this.routesLoaded=!1},[{key:"canActivate",value:function(t,s){var u=this;return console.log("catch all alias hit"),new Promise(function(l){u.apm.getPlugins().pipe((0,We.n)(function(d){return(0,bn.p)(u.routesLoaded?[]:Array.from(d).map(function(p){return(0,k.A)(p,2)[1].loadingStrategy.load()})).pipe((0,qr.U)(void 0))}),(0,X.M)(function(){return u.routesLoaded=!0}),(0,We.n)(function(){return u.apm.getPlugins()}),(0,We.n)(function(d){return(0,bn.p)(Array.from(d).map(function(p){var S=(0,k.A)(p,2)[1];return S.matchingStrategy.match(s).pipe((0,fe.T)(function(P){return[S,P]}))}))})).subscribe(function(d){if(console.log("routes loaded: ".concat(u.routesLoaded?"y":"n")),void 0!==d.map(function(_,S){var P=(0,k.A)(_,2);return P[1]?P[0]:void 0}).find(function(_){return void 0!==_})){console.log("alias gaurd state: ".concat(s.url));var h=u.router.parseUrl(s.url);l(h)}else l(!0)})})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.SITE_NAME),a.\u0275\u0275inject(Xn.Router),a.\u0275\u0275inject(fx),a.\u0275\u0275inject(_r))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),gx=b(27092);function pL(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function fL(o,r){}var hx=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.editor=n.editor,e.send=n.send),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),mL=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],r&&(this.data=r.data,r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})))}),ty=(0,m.A)(function o(r){(0,v.A)(this,o)}),Hl=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.dataduct=new gL(r.dataduct))}),gL=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],r&&(this.plugin=r.plugin,r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})))}),vx=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiDataductRendererHost",""]],standalone:!1}),r}(),Ef=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"dataduct"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),hL=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.dpm=e,this.fb=t,this.contexts=[],this.ductForm=this.fb.group({plugin:this.fb.control("",[f.Validators.required]),settings:this.fb.control("")}),this.ducts$=this.dpm.getPlugins(),this.componentRef$=new M.t(void 0),this.persistence$=new M.t(void 0),this.afterViewInit$=new T.B,this.contextForwardingSub=this.componentRef$.pipe((0,te.p)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.persistence$.value&&s.persistence$.value.dataduct?s.persistence$.value.dataduct.settings:[]}),this.persistenceSub=(0,zn.z)([this.persistence$,this.afterViewInit$]).pipe((0,fe.T)(function(u){return(0,k.A)(u,1)[0]}),(0,X.M)(function(u){s.ductForm.get("plugin").setValue(u&&u.dataduct?u.dataduct.plugin:"")}),(0,lr.c)(1),(0,X.M)(function(u){s.componentRef$.value&&s.componentRef$.value.instance&&u&&(s.componentRef$.value.instance.settings=u.dataduct?u.dataduct.settings:[])})).subscribe(),this.rendererSub=(0,zn.z)([this.ductForm.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,We.n)(function(u){var d=(0,k.A)(u,2)[0];return d&&""!==d?s.dpm.getPlugin(d):(0,Re.of)(void 0)})).subscribe(function(u){u&&s.renderPlugin(u)}),this.onTouched=function(){}},[{key:"persistence",set:function(t){this.persistence$.next(t)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.ductForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.ductForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.ductForm.disable():this.ductForm.enable()}},{key:"validate",value:function(t){return this.ductForm.valid?null:this.ductForm.errors}},{key:"renderPlugin",value:function(t){var s=this.datasourceHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(t.editor))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Ef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-persistence-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(vx,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.datasourceHost=s.first)},inputs:{contexts:"contexts",persistence:"persistence"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:6,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDataductRendererHost",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Plugin"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,pL,2,2,"mat-option",2),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275pipe(7,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,fL,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.ductForm),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,4,a.\u0275\u0275pipeBind1(6,2,t.ducts$))))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect,vx,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),vL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.persistenceForm=this.fb.group({dataduct:this.fb.control("")}),this.contexts=[],this.persistence=new Hl,this.contexts=e.contexts,this.persistence=e.persistence},[{key:"submit",value:function(){var t=this.persistenceForm.value;console.log("persistence form",t);var s=this.attributeSerializer.serialize(t.dataduct.settings,"settings");console.log("persistence settings",s),this.dialogRef.close(new Hl((0,g.A)((0,g.A)({},this.persistenceForm.value),{},{dataduct:(0,g.A)((0,g.A)({},t.dataduct),{},{settings:s.attributes})})))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-persistence-dialog"]],standalone:!1,decls:8,vars:4,consts:[[1,"persistence-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["formControlName","dataduct",3,"contexts","persistence"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),a.\u0275\u0275element(4,"classifieds-ui-persistence-form",3),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.persistenceForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",t.contexts)("persistence",t.persistence),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.persistenceForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,hL],encapsulation:2}),r}(),yL=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule]}),r}(),_L=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.dpm=e},[{key:"persist",value:function(t){var s=t.data,u=t.persistence;return this.dpm.getPlugin(u.dataduct.plugin).pipe((0,We.n)(function(l){return l.send(new mL({data:s,settings:u.dataduct.settings}))}),(0,fe.T)(function(){}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ef))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function bL(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"druid-detour-interaction-listener",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.deleteListener$.next(u))}),a.\u0275\u0275text(3,"Delete"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("formControlName",e)("listener",t.interactions$.value.interactions.listeners[e])}}var Du=(0,m.A)(function o(r){(0,v.A)(this,o),this.interactions=r&&r.interactions?new yx(r.interactions):new yx}),yx=(0,m.A)(function o(r){(0,v.A)(this,o),this.listeners=[],r&&r.listeners&&Array.isArray(r.listeners)&&(this.listeners=r.listeners.map(function(n){return new _x(n)}))}),_x=(0,m.A)(function o(r){(0,v.A)(this,o),this.handler=r&&r.handler?new Oo(r.handler):new Oo,this.event=r&&r.event?new Oo(r.event):new Oo}),bx=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"interaction_event"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Ax=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"interaction_handler"}))}},{key:"discovery",value:function(){(0,ze.A)(e,"discovery",this,3)([])}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),AL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.iepm=t,this.ihpm=s,this.eventPlugins$=this.iepm.getPlugins(),this.handlerPlugins$=this.ihpm.getPlugins(),this.listenerForm=this.fb.group({event:this.fb.control(""),handler:this.fb.control("")}),this.contexts=[],this.listener$=new M.t(new _x),this.event$=new M.t(new Oo),this.handler$=new M.t(new Oo),this.listenerSub=this.listener$.pipe((0,X.M)(function(l){u.event$.next(l&&l.event?l.event:new Oo),u.handler$.next(l&&l.handler?l.handler:new Oo)})).subscribe(),this.onTouched=function(){}},[{key:"listener",set:function(t){this.listener$.next(t)}},{key:"writeValue",value:function(t){t&&this.listenerForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.listenerForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.listenerForm.disable():this.listenerForm.enable()}},{key:"validate",value:function(t){return this.listenerForm.valid?null:this.listenerForm.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(bx),a.\u0275\u0275directiveInject(Ax))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interaction-listener"]],inputs:{contexts:"contexts",listener:"listener"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:9,consts:[[3,"formGroup"],["formControlName","event","title","Event",3,"plugins","instance"],["formControlName","handler","title","Handler",3,"plugins","instance"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"druid-params-plugin-instance",1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275element(3,"druid-params-plugin-instance",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.listenerForm),a.\u0275\u0275advance(),a.\u0275\u0275property("plugins",a.\u0275\u0275pipeBind1(2,5,t.eventPlugins$))("instance",t.event$.value),a.\u0275\u0275advance(2),a.\u0275\u0275property("plugins",a.\u0275\u0275pipeBind1(4,7,t.handlerPlugins$))("instance",t.handler$.value))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,A5,y.AsyncPipe],encapsulation:2}),r}(),CL=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.interactions$=new M.t(new Du({interactions:{listeners:[]}})),this.contexts$=new M.t([]),this.afterViewInit$=new T.B,this.interactionsForm=this.fb.group({listeners:this.fb.array([])}),this.addListener$=new T.B,this.deleteListener$=new T.B,this.addListenerSub=this.addListener$.pipe((0,X.M)(function(){return t.listeners.push(t.fb.control(""))})).subscribe(),this.deleteListenerSub=this.deleteListener$.pipe((0,X.M)(function(s){t.interactions$.value.interactions.listeners.splice(s,1),t.listeners.removeAt(s)})).subscribe(),this.interactionsSub=(0,zn.z)([this.interactions$,this.afterViewInit$]).pipe((0,fe.T)(function(s){return(0,k.A)(s,1)[0]}),(0,te.p)(function(s){return 0!==s.interactions.listeners.length}),(0,X.M)(function(s){t.listeners.clear(),s.interactions.listeners.forEach(function(u,l){t.listeners.push(t.fb.control(""))})})).subscribe(),this.onTouched=function(){}},[{key:"interactions",set:function(t){this.interactions$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"listeners",get:function(){return this.interactionsForm.get("listeners")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.interactionsForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.interactionsForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.interactionsForm.disable():this.interactionsForm.enable()}},{key:"validate",value:function(t){return this.interactionsForm.valid?null:this.interactionsForm.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interactions-form"]],inputs:{interactions:"interactions",contexts:"contexts"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","listeners"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","listener"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1),a.\u0275\u0275template(2,bL,4,2,"div",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.addListener$.next(void 0)}),a.\u0275\u0275text(4,"Add Listener"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.interactionsForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.listeners.controls))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,AL],encapsulation:2}),r}(),xL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.interactionsForm=this.fb.group({interactions:this.fb.control("")}),this.contexts=[],this.interactions=new Du,this.contexts=e.contexts,this.interactions=e.interactions},[{key:"submit",value:function(){var t=new Du(this.interactionsForm.value);console.log("interactions payload",t),this.dialogRef.close(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interactions-dialog"]],standalone:!1,decls:8,vars:4,consts:[[1,"interactions-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["formControlName","interactions",3,"contexts","interactions"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),a.\u0275\u0275element(4,"druid-detour-interactions-form",3),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.interactionsForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",t.contexts)("interactions",t.interactions),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.interactionsForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,CL],encapsulation:2}),r}(),SL=function(o){function r(n){return(0,v.A)(this,r),(0,w.A)(this,r,[n])}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),DL=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),e.register(new SL({title:"DOM",id:"dom"}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(bx))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,ps]}),r}(),Cx=function(o){function r(n){return(0,v.A)(this,r),(0,w.A)(this,r,[n])}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),wu=b(47273),Df=b(45935),ms=b(81289),mo=b(26077),Kl=b(7479),ny=b(50270),ql=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.create=n.create,e.read=n.read,e.update=n.update,e.delete=n.delete,n.query&&(e.query=n.query)),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),xx=(0,m.A)(function o(r){(0,v.A)(this,o),this.options=[],this.params=[],r&&(this.adaptorName=r.adaptorName,this.optionsString=r.optionsString?r.optionsString:void 0,this.paramsString=r.paramsString?r.paramsString:void 0,r.options&&Array.isArray(r.options)&&(this.options=r.options.map(function(n){return new ma(n)})),r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),wL=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new M.t(void 0),this.datasource$=new M.t(void 0),this.optionValues$=new M.t([]),this.paramValues$=new M.t([]),this.formGroup=this.fb.group({adaptorName:this.fb.control(""),optionsString:this.fb.control(""),paramsString:this.fb.control(""),options:this.fb.control([]),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new xx(s.attributeSerializer.deserializeAsObject(u)):void 0}),(0,X.M)(function(u){return setTimeout(function(){return s.datasource$.next(u)})})).subscribe(function(u){u?(s.formGroup.get("adaptorName").setValue(u.adaptorName),s.formGroup.get("optionsString").setValue(u.optionsString?u.optionsString:""),s.formGroup.get("paramsString").setValue(u.paramsString?u.paramsString:"")):(s.formGroup.get("adaptorName").setValue(""),s.formGroup.get("optionsString").setValue(""),s.formGroup.get("paramsString").setValue(""),setTimeout(function(){return s.optionValues$.next([])},2),setTimeout(function(){return s.optionValues$.next([])},2))}),this.datasourceOptionsSub=(0,zn.z)([this.datasource$,this.formGroup.get("optionsString").valueChanges]).pipe((0,te.p)(function(u){return void 0!==(0,k.A)(u,1)[0]}),(0,lr.c)(1),(0,X.M)(function(u){var l=(0,k.A)(u,1);return s.optionValues$.next(l[0].options)})).subscribe(),this.datasourceParamsSub=(0,zn.z)([this.datasource$,this.formGroup.get("paramsString").valueChanges]).pipe((0,te.p)(function(u){return void 0!==(0,k.A)(u,1)[0]}),(0,lr.c)(1),(0,X.M)(function(u){var l=(0,k.A)(u,1);return s.paramValues$.next(l[0].params)})).subscribe(),this.optionsStringChangeSub=this.formGroup.get("optionsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(u){var l=Xa.parse("?"+u);s.optionsParsed=l}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(u){var l=Xa.parse("?"+u);s.paramsParsed=l}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-crud-adaptor-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:14,vars:7,consts:[[3,"formGroup"],["matInput","","placeholder","Adaptor","formControlName","adaptorName","required",""],[1,"options-container"],["matInput","","placeholder","Options","formControlName","optionsString"],["formControlName","options",3,"params","paramValues","contexts"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"div",2)(5,"div")(6,"mat-form-field"),a.\u0275\u0275element(7,"input",3),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(8,"classifieds-ui-params-form",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",5)(10,"div")(11,"mat-form-field"),a.\u0275\u0275element(12,"input",6),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(13,"classifieds-ui-params-form",7),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(8),a.\u0275\u0275property("params",t.optionsParsed)("paramValues",t.optionValues$.value)("contexts",t.contexts),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),Sx=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-crud-adaptor-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-crud-adaptor-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,wL],encapsulation:2}),r}(),gs=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"crud_adaptor"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),nd=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.crud=e,this.cachedCollectionQueries=[],this.cachedCollectionIgnore={p:{create:void 0,update:void 0,delete:void 0,query:void 0,read:void 0},input:{identity:void 0}}},[{key:"evaluatePlugins",value:function(t){var s=this,u=t.object,l=t.plugins,d=t.op,p=t.parentObject,_=Object.keys(l).filter(function(S){return!l[S].ops||l[S].ops.includes(d)}).map(function(S){return s.crud.getPlugin(l[S].plugin?l[S].plugin:S).pipe((0,fe.T)(function(P){return{p:P,params:l[S].params?Object.keys(l[S].params).reduce(function(B,z){return(0,g.A)((0,g.A)({},B),{},(0,c.A)({},z,l[S].params[z]instanceof ma?l[S].params[z]:new ma({flags:[],mapping:{type:"static",value:l[S].params[z],context:void 0,testValue:l[S].params[z]}})))},{}):{}}}),(0,We.n)(function(P){return P.p[d]({rule:void 0,object:u,parentObject:p,params:P.params,identity:function(de){var ge=de.object,be=de.parentObject;return(0,Re.of)({identity:ge.id?ge.id:be?be.id:void 0})}})}),(0,We.n)(function(P){return er(function(){return l[S].plugins&&0!==Object.keys(l[S].plugins).length},l[S].plugins&&0!==Object.keys(l[S].plugins).length?s.evaluatePlugins({plugins:l[S].plugins,object:P.entity?P.entity:u,parentObject:P.originalEntity?P.originalEntity:u,op:d}):(0,Re.of)(P),(0,Re.of)(P))}))});return(0,bn.p)(_).pipe((0,fe.T)(function(){return u}))}},{key:"evaluateCollectionPlugins",value:function(t){var s=this,u=t.query,l=t.objects,d=t.plugins,p=t.op,h=t.parentObjects;console.log("evaluate collection plugins");var _=Object.keys(d),S=_.filter(function(B){return!d[B].ops||d[B].ops.includes(p)}).map(function(B){return s.crud.getPlugin(d[B].plugin?d[B].plugin:B).pipe((0,fe.T)(function(z){return{p:z,params:d[B].params?Object.keys(d[B].params).reduce(function(Y,de){return(0,g.A)((0,g.A)({},Y),{},(0,c.A)({},de,d[B].params[de]instanceof ma?d[B].params[de]:new ma({flags:[],mapping:{type:"static",value:d[B].params[de],context:void 0,testValue:d[B].params[de]}})))},{}):{}}}),(0,We.n)(function(z){var Y=z.p,de=z.params;return s.buildQueryRule({params:u,config:d[B]}).pipe((0,fe.T)(function(ge){return{p:Y,params:de,rule:ge.rule}}))}),(0,We.n)(function(z){return s.flightAndCacheAwareCollectionQuery({p:z.p,input:{rule:z.rule,objects:l,parentObjects:h,params:z.params,identity:function(me){var Pe=me.object,qe=me.parentObject;return(0,Re.of)({identity:Pe.id?Pe.id:qe?qe.id:void 0})}}}).pipe((0,X.M)(function(){return console.log("end of crud query call")}))}),(0,We.n)(function(z){return er(function(){return d[B].plugins&&0!==Object.keys(d[B].plugins).length},s.evaluateCollectionPlugins({query:u,plugins:d[B].plugins&&0!==Object.keys(d[B].plugins).length?d[B].plugins:{},objects:z.entities?z.entities:l,parentObjects:z.originalEntities?z.originalEntities:l,op:p}),(0,Re.of)(z))}),(0,X.M)(function(z){return console.log("end of op",z)}))});return _.filter(function(B){return!d[B].ops||d[B].ops.includes(p)}).find(function(B){return d[B].fallback})&&S.length>1?S.reduce(function(B,z){return B.pipe((0,We.n)(function(Y){return Y&&Array.isArray(Y)&&Y.length>0?(0,Re.of)(Y):z.pipe((0,fe.T)(function(de){return de&&de.entities&&Array.isArray(de.entities)?de.entities:[]}))}),(0,We.n)(function(Y){return(0,Re.of)(Y.length>0?Y:[])}))},(0,Re.of)([])):1===S.length?S[0].pipe((0,fe.T)(function(B){return(0,A.A)(B.entities)})):(0,bn.p)(S).pipe((0,fe.T)(function(B){return B.reduce(function(z,Y){return[].concat((0,A.A)(z),(0,A.A)(Y.entities))},[])}),(0,qr.U)([]))}},{key:"buildQueryRule",value:function(t){var s=t.params,u=t.config;return new G.c(function(l){var d=[];"string"==typeof s&&s.split("&").map(function(_){return _.split("=",2)}).reduce(function(_,S){var P=(0,k.A)(S,2),B=P[0],z=P[1];return new Map([].concat((0,A.A)(Array.from(_).filter(function(Y){return(0,k.A)(Y,2)[0]!==B})),[[B,[].concat((0,A.A)(_.has(B)?_.get(B):[]),[z])]]))},new Map).forEach(function(_,S){return d.push({any:_.map(function(P){return(0,g.A)({fact:"identity"===S?"identity":"entity",operator:u.queryMappings&&u.queryMappings.has(S)&&u.queryMappings.get(S).defaultOperator?u.queryMappings.get(S).defaultOperator:"equal",value:P},"identity"===S?{}:{path:"$.".concat(S)})})})});var h=d.length>0?new Kl.Rule({conditions:{all:d},event:{type:"visible"}}):void 0;l.next({rule:h}),l.complete()})}},{key:"flightAndCacheAwareCollectionQuery",value:function(t){var s=this,u=this.cachedCollectionQueries.findIndex(function(l){var d=l.p,p=l.input,h=(0,ny.getDiff)((0,g.A)((0,g.A)({},t.p),s.cachedCollectionIgnore.p),(0,g.A)((0,g.A)({},d),s.cachedCollectionIgnore.p)),_=(0,ny.getDiff)((0,g.A)((0,g.A)({},t.input),s.cachedCollectionIgnore.input),(0,g.A)((0,g.A)({},p),s.cachedCollectionIgnore.input));return 0===h.length&&0===_.length});return-1===u&&(this.cachedCollectionQueries.push({p:t.p,input:t.input,query$:new Sf.m}),u=this.cachedCollectionQueries.length-1,t.p.query(t.input).pipe((0,X.M)(function(l){return s.cachedCollectionQueries[u].query$.next(l)}),(0,pn.s)(1)).subscribe()),this.cachedCollectionQueries[u].query$.pipe((0,pn.s)(1))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gs))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),rd=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,h){(0,v.A)(this,n),e.register(function(r,n,e,t,s,u){return new fo({id:"crud_adaptor",title:"Crud Adaptor",editor:Sx,fetch:function(d){var p=d.settings,h=d.metadata;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return n.deserializeAsObject(p)}),(0,fe.T)(function(_){return new xx(_)}),(0,We.n)(function(_){return e.getPlugin(_.adaptorName).pipe((0,fe.T)(function(S){return{plugin:S,ds:_}}))}),(0,fe.T)(function(_){var P=_.ds;return{plugin:_.plugin,ds:P,optionNames:P.optionsString?P.optionsString.split("&").filter(function(B){return-1!==B.indexOf("=:")}).map(function(B){return B.split("=",2)[1].substr(1)}):[]}}),(0,We.n)(function(_){var S=_.plugin,P=_.ds,B=_.optionNames;return(0,bn.p)([t.paramValues(P.options.reduce(function(z,Y,de){return new Map([].concat((0,A.A)(z),[[B[de],Y]]))},new Map)).pipe((0,fe.T)(function(z){return Array.from(z).reduce(function(Y,de){var ge=(0,k.A)(de,2),be=ge[0],me=ge[1];return(0,g.A)((0,g.A)({},Y),{},(0,c.A)({},be,me))},{})})),P.paramsString&&""!==P.paramsString?u.getUrl("?"+P.paramsString,P.params,h).pipe((0,pn.s)(1)):(0,Re.of)(void 0)]).pipe((0,fe.T)(function(z){var Y=(0,k.A)(z,2);return{plugin:S,options:Y[0],query:Y[1]}}))}),(0,We.n)(function(_){var B=_.query;return s.evaluateCollectionPlugins({plugins:(0,c.A)({},_.plugin.id,{params:_.options}),op:"query",query:B&&B.substr(1)})}),(0,fe.T)(function(_){return new Un({results:_})}))},editorOptions:function(){return(0,Re.of)(new xf({fullscreen:!0}))},getBindings:function(d){return(0,Re.of)([])}})}(0,l,t,d,p,h)),s.register(function(r){var n=r.crudDataHelper,e=r.attributeSerializer;return new hx({id:"crud",title:"Crud",editor:Sx,send:function(s){return(0,Re.of)(new ty({})).pipe((0,fe.T)(function(){return{settings:e.deserializeAsObject(s.settings)}}),(0,X.M)(function(u){return console.log("crud data duct",u.settings)}),(0,fe.T)(function(u){var l=u.settings;return{plugins:(0,c.A)({},"".concat(l.adaptorName),{plugin:"".concat(l.adaptorName),ops:["create"],params:"".concat(l.optionsString).split("&").reduce(function(d,p,h){return(0,g.A)((0,g.A)({},d),{},(0,c.A)({},p.split("=",1)[0],new ma(l.options[h])))},{})})}}),(0,We.n)(function(u){return n.evaluatePlugins({object:s.data,plugins:u.plugins,op:"create",parentObject:{id:ur()}})}),(0,fe.T)(function(){return new ty({})}))}})}({crudDataHelper:p,attributeSerializer:l}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(gs),a.\u0275\u0275inject(Ef),a.\u0275\u0275inject(ey),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(co),a.\u0275\u0275inject(nd),a.\u0275\u0275inject(ed))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,pa.MaterialModule,$l,ps]}),r}(),ry=function(){return(0,m.A)(function o(r,n,e,t){(0,v.A)(this,o),this.crud=n,this.entityDefinitionService=e,this.crudDataHelperService=t,this._name="".concat(r," CrudDataService"),this.entityName=r},[{key:"name",get:function(){return this._name}},{key:"add",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"create"})}},{key:"update",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n.changes,plugins:e.crud,op:"update"})}},{key:"upsert",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"update"})}},{key:"delete",value:function(n){var e=this,t=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.getById(n).pipe((0,We.n)(function(s){return e.crudDataHelperService.evaluatePlugins({object:s,plugins:t.crud,op:"delete"})}),(0,fe.T)(function(){return n}))}},{key:"getAll",value:function(){var n=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({plugins:n.crud,op:"query"})}},{key:"getById",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(n),plugins:e.crud,op:"query"}).pipe((0,fe.T)(function(t){return t&&0!==t.length?t[0]:void 0}))}},{key:"getWithQuery",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:n,plugins:e.crud,op:"query"})}}])}(),Ex=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n),this.operatorsMap=new Map([["=","equal"],["!=","notEqual"]])},[{key:"buildFields",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=new Map;return this.genericFields(t,u,s,0),u}},{key:"attributeFields",value:function(t,s,u,l){var d=this;t.forEach(function(p,h){if("widget"!==p.name)for(var _ in p)p.type===_t.AttributeTypes.Complex||"attributes"===_&&p.attributes&&p.attributes.length>0?d.attributeFields(p.attributes,s,p.type===_t.AttributeTypes.Complex?"".concat(u):"".concat(u,".").concat(p.name),l+1):"attributes"!==_&&(_===p.name?s.set("".concat(u,".").concat(_),{name:"".concat(u,".").concat(_),type:d.resolveAttributeType(p.type),defaultValue:p[_]}):s.set("".concat(u,".").concat(p.name,".").concat(_),{name:"".concat(u,".").concat(p.name,".").concat(_),type:d.resolveAttributeType(p.type),defaultValue:p[_]}))})}},{key:"genericFields",value:function(t,s,u,l){for(var d in t){var p=typeof t[d];if("object"!==p)s.set("".concat(u,".").concat(d),{name:"".concat(u,".").concat(d),type:this.resolveNativeType(p),defaultValue:t[d]});else if(Array.isArray(t[d])&&"attributes"===d)this.attributeFields(t[d],s,"".concat(u,".").concat(d),l+1);else if(Array.isArray(t[d]))for(var h=t[d].length,_=0;_<h;_++)this.genericFields(t[d][_],s,"".concat(u,".").concat(d,".").concat(_),l+1);else this.genericFields(t[d],s,"".concat(u,".").concat(d),l+1)}}},{key:"toEngineRule",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=[];if(void 0!==t.rules&&Array.isArray(t.rules)){for(var h=t.rules.length,_=0;_<h;_++)if(!("field"in t.rules[_])||null!=t.condition&&""!==t.condition){var z=this.toEngineRule(t.rules[_],s+1);u.push(z.conditions)}else{var S=t.rules[_].field.indexOf("."),P=t.rules[_].field.substr(0,S),B=t.rules[_].field.substr(S+1);u.push({fact:P,path:"$.".concat(B),operator:this.operatorsMap.get(t.rules[_].operator),value:t.rules[_].value})}return new Kl.Rule("and"===t.condition?{conditions:{all:u},event:0===s?{type:"visible"}:void 0}:{conditions:{any:u},event:0===s?{type:"visible"}:void 0})}var l=t.field.indexOf("."),d=t.field.substr(0,l),p=t.field.substr(l+1);return u.push({fact:d,path:"$.".concat(p),operator:this.operatorsMap.get(t.operator),value:t.value}),new Kl.Rule({conditions:{all:u},event:0===s?{type:"visible"}:void 0})}},{key:"extractConditions",value:function(t){var u=this.toEngineRule(t);return[].concat((0,A.A)(void 0!==u.conditions.any?u.conditions.any:[]),(0,A.A)(void 0!==u.conditions.all?u.conditions.all:[]))}},{key:"resolveNativeType",value:function(t){switch(t){case"number":return"number";case"boolean":return"boolean";default:return"string"}}},{key:"resolveAttributeType",value:function(t){switch(t){case _t.AttributeTypes.Float:case _t.AttributeTypes.Number:return"number";case _t.AttributeTypes.Bool:return"boolean";default:return"string"}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),ay=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.rulesParser=e,this.inlineContextResolver=t},[{key:"evaluate",value:function(t){var s=this;return this.inlineContextResolver.resolveMerged(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],"rules:".concat(ur())).pipe((0,pn.s)(1),(0,fe.T)(function(l){return[(0,g.A)({},l),new Kl.Engine]}),(0,X.M)(function(l){var h=(0,k.A)(l,2)[1],_=s.rulesParser.toEngineRule(t);h.addRule(_)}),(0,We.n)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return new G.c(function(_){h.run(p).then(function(S){_.next(S.events.findIndex(function(P){return"visible"===P.type})>-1),_.complete()})})}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ex),a.\u0275\u0275inject(zl))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function pi(o){if(null==o)throw new TypeError("Cannot destructure "+o)}b(17351);for(var iy=b(89835),Dx=(b(62933),{}),oy={},ad=0;ad<256;ad++){var id=ad.toString(16).toLowerCase();1===id.length&&(id="0".concat(id)),Dx[ad]=id,oy[id]=ad}function Mi(o){for(var r="",n=0;n<o.byteLength;n++)r+=Dx[o[n]];return r}var sy=function(){function o(r){if((0,v.A)(this,o),this.bytes=r,8!==r.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,m.A)(o,[{key:"valueOf",value:function(){var n=this.bytes.slice(0),e=128&n[0];return e&&wx(n),parseInt(Mi(n),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error("".concat(n," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),t=7,s=Math.abs(Math.round(n));t>-1&&s>0;t--,s/=256)e[t]=s;return n<0&&wx(e),new o(e)}}])}();function wx(o){for(var r=0;r<8;r++)o[r]^=255;for(var n=7;n>-1&&(o[n]++,0===o[n]);n--);}var IL=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),this.toUtf8=r,this.fromUtf8=n},[{key:"format",value:function(n){for(var e=[],t=0,s=Object.keys(n);t<s.length;t++){var u=s[t],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[u]))}for(var d=new Uint8Array(e.reduce(function(P,B){return P+B.byteLength},0)),p=0,h=0,_=e;h<_.length;h++){var S=_[h];d.set(S,p),p+=S.byteLength}return d}},{key:"formatHeaderValue",value:function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+n.value.byteLength));u.setUint8(0,6),u.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(n.value,3),l;case"string":var d=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+d.byteLength));p.setUint8(0,7),p.setUint16(1,d.byteLength,!1);var h=new Uint8Array(p.buffer);return h.set(d,3),h;case"timestamp":var _=new Uint8Array(9);return _[0]=8,_.set(sy.fromNumber(n.value.valueOf()).bytes,1),_;case"uuid":if(!UL.test(n.value))throw new Error("Invalid UUID received: ".concat(n.value));var S=new Uint8Array(17);return S[0]=9,S.set(function PL(o){if(o.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var r=new Uint8Array(o.length/2),n=0;n<o.length;n+=2){var e=o.slice(n,n+2).toLowerCase();if(!(e in oy))throw new Error("Cannot decode unrecognized sequence ".concat(e," as hexadecimal"));r[n/2]=oy[e]}return r}(n.value.replace(/\-/g,"")),1),S}}},{key:"parse",value:function(n){for(var e={},t=0;t<n.byteLength;){var s=n.getUint8(t++),u=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,s));switch(t+=s,n.getUint8(t++)){case 0:e[u]={type:Fx,value:!0};break;case 1:e[u]={type:Fx,value:!1};break;case 2:e[u]={type:RL,value:n.getInt8(t++)};break;case 3:e[u]={type:ML,value:n.getInt16(t,!1)},t+=2;break;case 4:e[u]={type:NL,value:n.getInt32(t,!1)},t+=4;break;case 5:e[u]={type:VL,value:new sy(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var l=n.getUint16(t,!1);t+=2,e[u]={type:OL,value:new Uint8Array(n.buffer,n.byteOffset+t,l)},t+=l;break;case 7:var d=n.getUint16(t,!1);t+=2,e[u]={type:BL,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,d))},t+=d;break;case 8:e[u]={type:LL,value:new Date(new sy(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,e[u]={type:jL,value:"".concat(Mi(p.subarray(0,4)),"-").concat(Mi(p.subarray(4,6)),"-").concat(Mi(p.subarray(6,8)),"-").concat(Mi(p.subarray(8,10)),"-").concat(Mi(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}])}(),Fx="boolean",RL="byte",ML="short",NL="integer",VL="long",OL="binary",BL="string",LL="timestamp",jL="uuid",UL=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Px=function(r){if("function"==typeof r)return r;var n=Promise.resolve(r);return function(){return n}},zL=function(r){return new TextDecoder("utf-8").decode(r)},Ix=function(r){return(new TextEncoder).encode(r)},od=function(r){return"string"==typeof r?Ix(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)},Tx="X-Amz-Date",Rx="X-Amz-Signature",Mx="X-Amz-Security-Token",Nx="authorization",Vx=Tx.toLowerCase(),QL=[Nx,Vx,"date"],XL=Rx.toLowerCase(),uy="x-amz-content-sha256",YL=Mx.toLowerCase(),JL={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ZL=/^proxy-/,ej=/^sec-/,ly="AWS4-HMAC-SHA256",tj="AWS4-HMAC-SHA256-PAYLOAD",Ox="aws4_request",Wl={},wf=[],cy=function(r,n,e){return"".concat(r,"/").concat(n,"/").concat(e,"/").concat(Ox)},ij=function(){var o=(0,Rt.A)((0,He.A)().m(function r(n,e,t,s,u){var l,d,p,h,_,S;return(0,He.A)().w(function(P){for(;;)switch(P.n){case 0:return P.n=1,Bx(n,e.secretAccessKey,e.accessKeyId);case 1:if(l=P.v,!((d="".concat(t,":").concat(s,":").concat(u,":").concat(Mi(l),":").concat(e.sessionToken))in Wl)){P.n=2;break}return P.a(2,Wl[d]);case 2:for(wf.push(d);wf.length>50;)delete Wl[wf.shift()];p="AWS4".concat(e.secretAccessKey),h=0,_=[t,s,u,Ox];case 3:if(!(h<_.length)){P.n=6;break}return S=_[h],P.n=4,Bx(n,p,S);case 4:p=P.v;case 5:h++,P.n=3;break;case 6:return P.a(2,Wl[d]=p)}},r)}));return function(n,e,t,s,u){return o.apply(this,arguments)}}(),Bx=function(r,n,e){var t=new r(n);return t.update(od(e)),t.digest()},Lx=function(r,n,e){var l,t=r.headers,s={},u=(0,N.A)(Object.keys(t).sort());try{for(u.s();!(l=u.n()).done;){var d=l.value;if(null!=t[d]){var p=d.toLowerCase();(p in JL||null!=n&&n.has(p)||ZL.test(p)||ej.test(p))&&(!e||e&&!e.has(p))||(s[p]=t[d].trim().replace(/\s+/g," "))}}}catch(h){u.e(h)}finally{u.f()}return s},Ff=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,oj)},oj=function(r){return"%".concat(r.charCodeAt(0).toString(16).toUpperCase())},uj=function(r){return"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(r)},dy=function(){var o=(0,Rt.A)(function(r,n){var e=r.headers,t=r.body;return(0,He.A)().m(function s(){var u,l,d,p,h;return(0,He.A)().w(function(_){for(;;)switch(_.n){case 0:u=0,l=Object.keys(e);case 1:if(!(u<l.length)){_.n=3;break}if((d=l[u]).toLowerCase()!==uy){_.n=2;break}return _.a(2,e[d]);case 2:u++,_.n=1;break;case 3:if(null!=t){_.n=4;break}return _.a(2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 4:if("string"!=typeof t&&!ArrayBuffer.isView(t)&&!uj(t)){_.n=6;break}return(p=new n).update(od(t)),h=Mi,_.n=5,p.digest();case 5:return _.a(2,h(_.v));case 6:return _.a(2,"UNSIGNED-PAYLOAD")}},s)})()});return function(n,e){return o.apply(this,arguments)}}(),lj=function(r,n){r=r.toLowerCase();for(var e=0,t=Object.keys(n);e<t.length;e++)if(r===t[e].toLowerCase())return!0;return!1},cj=["headers","query"],jx=function(r){var n=r.headers,e=r.query,t=(0,gA.A)(r,cj);return(0,g.A)((0,g.A)({},t),{},{headers:(0,g.A)({},n),query:e?dj(e):void 0})},dj=function(r){return Object.keys(r).reduce(function(n,e){var t=r[e];return(0,g.A)((0,g.A)({},n),{},(0,c.A)({},e,Array.isArray(t)?(0,A.A)(t):t))},{})},pj=function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="function"==typeof r.clone?r.clone():jx(r),t=e.headers,s=e.query,u=void 0===s?{}:s,l=0,d=Object.keys(t);l<d.length;l++){var p,h=d[l],_=h.toLowerCase();"x-amz-"===_.slice(0,6)&&(null===(p=n.unhoistableHeaders)||void 0===p||!p.has(_))&&(u[h]=t[h],delete t[h])}return(0,g.A)((0,g.A)({},r),{},{headers:t,query:u})},Ux=function(r){r="function"==typeof r.clone?r.clone():jx(r);for(var n=0,e=Object.keys(r.headers);n<e.length;n++){var t=e[n];QL.indexOf(t.toLowerCase())>-1&&delete r.headers[t]}return r},Gx=function(){return(0,m.A)(function o(r){var n=r.applyChecksum,e=r.credentials,t=r.region,s=r.service,u=r.sha256,l=r.uriEscapePath,d=void 0===l||l;(0,v.A)(this,o),this.headerMarshaller=new IL(zL,Ix),this.service=s,this.sha256=u,this.uriEscapePath=d,this.applyChecksum="boolean"!=typeof n||n,this.regionProvider=Px(t),this.credentialProvider=Px(e)},[{key:"presign",value:function(){var r=(0,Rt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,He.A)().m(function u(){var l,d,p,h,_,S,P,B,z,Y,de,ge,be,me,Pe,qe,dt,ot,pt,Tt,Lt,mt,yt,wt,Jt;return(0,He.A)().w(function(tn){for(;;)switch(tn.n){case 0:return d=void 0===(l=s.signingDate)?new Date:l,h=void 0===(p=s.expiresIn)?3600:p,_=s.unsignableHeaders,S=s.unhoistableHeaders,P=s.signableHeaders,B=s.signingRegion,z=s.signingService,tn.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(Y=tn.v),null==B){tn.n=2;break}ot=B,tn.n=4;break;case 2:return tn.n=3,t.regionProvider();case 3:ot=tn.v;case 4:if(de=ot,ge=kf(d),be=ge.longDate,me=ge.shortDate,!(h>604800)){tn.n=5;break}return tn.a(2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 5:return Pe=cy(me,de,z??t.service),qe=pj(Ux(e),{unhoistableHeaders:S}),Y.sessionToken&&(qe.query[Mx]=Y.sessionToken),qe.query["X-Amz-Algorithm"]=ly,qe.query["X-Amz-Credential"]="".concat(Y.accessKeyId,"/").concat(Pe),qe.query[Tx]=be,qe.query["X-Amz-Expires"]=h.toString(10),dt=Lx(qe,_,P),qe.query["X-Amz-SignedHeaders"]=zx(dt),pt=t,Tt=be,Lt=Pe,mt=t.getSigningKey(Y,de,me,z),yt=t,wt=qe,Jt=dt,tn.n=6,dy(e,t.sha256);case 6:return tn.n=7,pt.getSignature.call(pt,Tt,Lt,mt,yt.createCanonicalRequest.call(yt,wt,Jt,tn.v));case 7:return qe.query[Rx]=tn.v,tn.a(2,qe)}},u)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"sign",value:function(){var r=(0,Rt.A)((0,He.A)().m(function e(t,s){return(0,He.A)().w(function(u){for(;;)switch(u.n){case 0:if("string"!=typeof t){u.n=1;break}return u.a(2,this.signString(t,s));case 1:if(!t.headers||!t.payload){u.n=2;break}return u.a(2,this.signEvent(t,s));case 2:if(!t.message){u.n=3;break}return u.a(2,this.signMessage(t,s));case 3:return u.a(2,this.signRequest(t,s));case 4:return u.a(2)}},e,this)}));return function n(e,t){return r.apply(this,arguments)}}()},{key:"signEvent",value:function(){var r=(0,Rt.A)(function(e,t){var s=this,u=e.headers,l=e.payload,d=t.signingDate,p=void 0===d?new Date:d,h=t.priorSignature,_=t.signingRegion,S=t.signingService;return(0,He.A)().m(function P(){var B,z,de,ge,be,me,Pe,qe,dt,ot;return(0,He.A)().w(function(pt){for(;;)switch(pt.n){case 0:if(null==_){pt.n=1;break}dt=_,pt.n=3;break;case 1:return pt.n=2,s.regionProvider();case 2:dt=pt.v;case 3:return B=dt,z=kf(p),de=z.longDate,ge=cy(z.shortDate,B,S??s.service),pt.n=4,dy({headers:{},body:l},s.sha256);case 4:return be=pt.v,(me=new s.sha256).update(u),ot=Mi,pt.n=5,me.digest();case 5:return Pe=ot(pt.v),qe=[tj,de,ge,h,Pe,be].join("\n"),pt.a(2,s.signString(qe,{signingDate:p,signingRegion:B,signingService:S}))}},P)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"signMessage",value:function(){var r=(0,Rt.A)(function(e,t){var s=this,u=t.signingDate,l=void 0===u?new Date:u,d=t.signingRegion,p=t.signingService;return(0,He.A)().m(function h(){var _;return(0,He.A)().w(function(S){for(;;)if(0===S.n)return _=s.signEvent({headers:s.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:l,signingRegion:d,signingService:p,priorSignature:e.priorSignature}),S.a(2,_.then(function(P){return{message:e.message,signature:P}}))},h)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"signString",value:function(){var r=(0,Rt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,d=s.signingRegion,p=s.signingService;return(0,He.A)().m(function h(){var _,S,P,B,z,Y,de,be;return(0,He.A)().w(function(me){for(;;)switch(me.n){case 0:return me.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(_=me.v),null==d){me.n=2;break}Y=d,me.n=4;break;case 2:return me.n=3,t.regionProvider();case 3:Y=me.v;case 4:return S=Y,P=kf(l),B=P.shortDate,de=t.sha256,me.n=5,t.getSigningKey(_,S,B,p);case 5:return(z=new de(me.v)).update(od(e)),be=Mi,me.n=6,z.digest();case 6:return me.a(2,be(me.v))}},h)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"signRequest",value:function(){var r=(0,Rt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,d=s.signableHeaders,p=s.unsignableHeaders,h=s.signingRegion,_=s.signingService;return(0,He.A)().m(function S(){var P,B,z,Y,de,ge,be,me,Pe,qe,dt;return(0,He.A)().w(function(ot){for(;;)switch(ot.n){case 0:return ot.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(P=ot.v),null==h){ot.n=2;break}dt=h,ot.n=4;break;case 2:return ot.n=3,t.regionProvider();case 3:dt=ot.v;case 4:return B=dt,z=Ux(e),Y=kf(l),de=Y.longDate,be=cy(ge=Y.shortDate,B,_??t.service),z.headers[Vx]=de,P.sessionToken&&(z.headers[YL]=P.sessionToken),ot.n=5,dy(z,t.sha256);case 5:return me=ot.v,!lj(uy,z.headers)&&t.applyChecksum&&(z.headers[uy]=me),Pe=Lx(z,p,d),ot.n=6,t.getSignature(de,be,t.getSigningKey(P,B,ge,_),t.createCanonicalRequest(z,Pe,me));case 6:return qe=ot.v,z.headers[Nx]="".concat(ly," ")+"Credential=".concat(P.accessKeyId,"/").concat(be,", ")+"SignedHeaders=".concat(zx(Pe),", ")+"Signature=".concat(qe),ot.a(2,z)}},S)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"createCanonicalRequest",value:function(n,e,t){var s=Object.keys(e).sort();return"".concat(n.method,"\n").concat(this.getCanonicalPath(n),"\n").concat(function(r){var l,n=r.query,e=void 0===n?{}:n,t=[],s={},u=(0,N.A)(Object.keys(e).sort());try{var d=function(){var h=l.value;if(h.toLowerCase()===XL)return 1;t.push(h);var _=e[h];"string"==typeof _?s[h]="".concat(Ff(h),"=").concat(Ff(_)):Array.isArray(_)&&(s[h]=_.slice(0).sort().reduce(function(S,P){return S.concat(["".concat(Ff(h),"=").concat(Ff(P))])},[]).join("&"))};for(u.s();!(l=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}return t.map(function(p){return s[p]}).filter(function(p){return p}).join("&")}(n),"\n").concat(s.map(function(u){return"".concat(u,":").concat(e[u])}).join("\n"),"\n\n").concat(s.join(";"),"\n").concat(t)}},{key:"createStringToSign",value:function(){var r=(0,Rt.A)((0,He.A)().m(function e(t,s,u){var l,d;return(0,He.A)().w(function(p){for(;;)switch(p.n){case 0:return(l=new this.sha256).update(od(u)),p.n=1,l.digest();case 1:return d=p.v,p.a(2,"".concat(ly,"\n").concat(t,"\n").concat(s,"\n").concat(Mi(d)))}},e,this)}));return function n(e,t,s){return r.apply(this,arguments)}}()},{key:"getCanonicalPath",value:function(n){var e=n.path;if(this.uriEscapePath){var u,t=[],s=(0,N.A)(e.split("/"));try{for(s.s();!(u=s.n()).done;){var l=u.value;0!==l?.length&&"."!==l&&(".."===l?t.pop():t.push(l))}}catch(h){s.e(h)}finally{s.f()}var d="".concat(null!=e&&e.startsWith("/")?"/":"").concat(t.join("/")).concat(t.length>0&&null!=e&&e.endsWith("/")?"/":"");return encodeURIComponent(d).replace(/%2F/g,"/")}return e}},{key:"getSignature",value:function(){var r=(0,Rt.A)((0,He.A)().m(function e(t,s,u,l){var d,p,h,S;return(0,He.A)().w(function(P){for(;;)switch(P.n){case 0:return P.n=1,this.createStringToSign(t,s,l);case 1:return d=P.v,h=this.sha256,P.n=2,u;case 2:return(p=new h(P.v)).update(od(d)),S=Mi,P.n=3,p.digest();case 3:return P.a(2,S(P.v))}},e,this)}));return function n(e,t,s,u){return r.apply(this,arguments)}}()},{key:"getSigningKey",value:function(n,e,t,s){return ij(this.sha256,n,t,e,s||this.service)}},{key:"validateResolvedCredentials",value:function(n){if("object"!=typeof n||"string"!=typeof n.accessKeyId||"string"!=typeof n.secretAccessKey)throw new Error("Resolved credential object is not valid")}}])}(),kf=function(r){var n=function(r){return function(r){return"number"==typeof r?new Date(1e3*r):"string"==typeof r?Number(r)?new Date(1e3*Number(r)):new Date(r):r}(r).toISOString().replace(/\.\d{3}Z$/,"Z")}(r).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},zx=function(r){return Object.keys(r).sort().join(";")},$x=function(){function o(r){(0,v.A)(this,o),this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?":"!==r.protocol.slice(-1)?"".concat(r.protocol,":"):r.protocol:"https:",this.path=r.path?"/"!==r.path.charAt(0)?"/".concat(r.path):r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}return(0,m.A)(o,[{key:"clone",value:function(){var n=new o((0,g.A)((0,g.A)({},this),{},{headers:(0,g.A)({},this.headers)}));return n.query&&(n.query=function hj(o){return Object.keys(o).reduce(function(r,n){var e=o[n];return(0,g.A)((0,g.A)({},r),{},(0,c.A)({},n,Array.isArray(e)?(0,A.A)(e):e))},{})}(n.query)),n}}],[{key:"isInstance",value:function(n){return!!n&&("method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&"object"==typeof n.query&&"object"==typeof n.headers)}}])}(),Hx=b(93967),py=function(r){var s=r.method,l=r.path,p=r.port,_=r.protocol,B=r.service,z=r.cognitoSettings,Y=r.authFacade;return(0,Re.of)(new $x({body:r.body,headers:r.headers,hostname:r.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===_?"https:":_,query:r.query})).pipe((0,X.M)(function(){return console.log(".marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })")}),(0,We.n)(function(de){return(0,iy.H)(new Gx({credentials:Gh({client:new zh.D({region:z.region}),identityPoolId:z.identityPoolId,logins:(0,c.A)({},"cognito-idp.".concat(z.region,".amazonaws.com/").concat(z.userPoolId),function(){return Xm(Y.getUser$.pipe((0,fe.T)(function(be){return be?be.id_token:void 0})))})}),region:z.region,service:B,sha256:Hx.Sha256}).sign(de).then(function(ge){return console.log(".marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })"),ge})).pipe((0,X.M)(function(){return console.log(".marker({ /s3/sign/after/sig })")}),(0,pn.s)(1))}),(0,fe.T)(function(de){return de}),(0,X.M)(function(){return console.log(".marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })")}))},yj=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p){(0,v.A)(this,n),s.register(function(r,n,e,t,s){return new ql({id:"aws_s3_entity",title:"AWS S3 Entity",create:function(d){var p=d.object,h=d.identity,_=d.params,S=d.parentObject;return(0,Re.of)({success:!1}).pipe(t.resolveParams({params:_}),(0,We.n)(function(P){var B=P.options;return h({object:p,parentObject:S}).pipe((0,fe.T)(function(z){return{identity:z.identity,options:B}}))}),(0,We.n)(function(P){var B=P.options,z=P.identity;return py({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(B.bucket,".s3.amazonaws.com")},hostname:"".concat(B.bucket,".s3.amazonaws.com"),path:"".concat(B.prefix).concat(z,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,fe.T)(function(Y){return{signedHttpRequest:Y,options:B}}))}),(0,X.M)(function(P){return delete P.signedHttpRequest.headers.host}),(0,fe.T)(function(P){var B=P.signedHttpRequest,z=P.options;return{signedHttpRequest:B,options:z,url:"https://".concat(z.bucket,".s3.amazonaws.com").concat(B.path)}}),(0,We.n)(function(P){var B=P.signedHttpRequest;return s.put(P.url,JSON.stringify(p),{headers:B.headers,withCredentials:!1})}),(0,fe.T)(function(){return{success:!0}}))},read:function(d){return pi(d),(0,Re.of)({success:!1})},update:function(d){var p=d.object,h=d.identity,_=d.params;return(0,Re.of)({success:!1}).pipe(t.resolveParams({params:_}),(0,We.n)(function(S){var P=S.options;return h({object:p}).pipe((0,fe.T)(function(B){return{identity:B.identity,options:P}}))}),(0,We.n)(function(S){var P=S.options,B=S.identity;return py({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(P.bucket,".s3.amazonaws.com")},hostname:"".concat(P.bucket,".s3.amazonaws.com"),path:"".concat(P.prefix).concat(B,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,fe.T)(function(z){return{signedHttpRequest:z,options:P}}))}),(0,X.M)(function(S){return delete S.signedHttpRequest.headers.host}),(0,fe.T)(function(S){var P=S.signedHttpRequest,B=S.options;return{signedHttpRequest:P,options:B,url:"https://".concat(B.bucket,".s3.amazonaws.com").concat(P.path)}}),(0,We.n)(function(S){var P=S.signedHttpRequest;return s.put(S.url,JSON.stringify(p),{headers:P.headers,withCredentials:!1})}),(0,fe.T)(function(){return{success:!0}}))},delete:function(d){return pi(d),(0,Re.of)({success:!1})},query:function(d){var p=d.rule,h=d.params;return(0,Re.of)({entities:[],success:!1}).pipe(t.resolveParams({params:h}),(0,fe.T)(function(_){return{options:_.options,identityCondition:p.conditions.all.map(function(P){return P.any.find(function(B){return"identity"===B.fact})}).find(function(P){return!!P})}}),(0,We.n)(function(_){var S=_.identityCondition,P=_.options;return er(function(){return void 0!==S&&S&&"identity"===S.fact&&P&&P.bucket},py({method:"GET",body:void 0,headers:{"Content-Type":"application/json",host:"".concat(P?P.bucket:"",".s3.amazonaws.com")},hostname:"".concat(P?P.bucket:"",".s3.amazonaws.com"),path:"".concat(P&&P.prefix?P.prefix:"").concat(S?S.value:"",".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,X.M)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })")}),(0,X.M)(function(B){return delete B.headers.host}),(0,fe.T)(function(B){return{signedHttpRequest:B,options:P,url:"https://".concat(P.bucket,".s3.amazonaws.com").concat(B.path)}}),(0,X.M)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,We.n)(function(B){return s.get(B.url,{headers:B.signedHttpRequest.headers,withCredentials:!1})}),(0,X.M)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })")}),(0,fe.T)(function(B){return{entities:B?[B]:[],success:!!B}})),(0,Re.of)({entities:[],success:!1}))}))}})}(0,u,e,l,d))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wd),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(gs),a.\u0275\u0275inject(bi),a.\u0275\u0275inject(co),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(cn.AsyncApiCallHelperService))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[cn.UtilsModule,Sc,rd]}),r}(),Pf=function(r){var s=r.method,l=r.path,p=r.port,_=r.protocol,B=r.service,z=r.cognitoSettings,Y=r.authFacade;return(0,Re.of)(new $x({body:r.body,headers:r.headers,hostname:r.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===_?"https:":_,query:r.query})).pipe((0,X.M)(function(){return console.log(".marker({ event: BEGIN , context: os, entity: sig , op: signv4 , meta: {  } })")}),(0,We.n)(function(de){return(0,iy.H)(new Gx({credentials:Gh({client:new zh.D({region:z.region}),identityPoolId:z.identityPoolId,logins:(0,c.A)({},"cognito-idp.".concat(z.region,".amazonaws.com/").concat(z.userPoolId),function(){return Xm(Y.getUser$.pipe((0,fe.T)(function(be){return be?be.id_token:void 0})))})}),region:z.region,service:B,sha256:Hx.Sha256,applyChecksum:!1}).sign(de).then(function(ge){return console.log(".marker({ event: RESOLVED, entity: os , op: signv4 , meta: {  } })"),ge})).pipe((0,X.M)(function(){return console.log(".marker({ /os/sign/after/sig })")}),(0,pn.s)(1))}),(0,fe.T)(function(de){return de}),(0,X.M)(function(){return console.log(".marker({ event: END , context: os, entity: sig , op: signv4 , meta: {  } })")}))},Aj=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),s.register(function(r,n,e,t,s){return new ql({id:"aws_opensearch_template",title:"AWS Opensearch Template",create:function(l){return(0,Re.of)({success:!1})},read:function(l){return pi(l),(0,Re.of)({success:!1})},update:function(l){return(0,Re.of)({success:!1})},delete:function(l){return pi(l),(0,Re.of)({success:!1})},query:function(l){var d=l.rule,p=l.params;return(0,Re.of)({entities:[],success:!1}).pipe((0,We.n)(function(){return p&&0!==Object.keys(p).length?(0,bn.p)(Object.keys(p).map(function(h){return t.paramValue(p[h],new Map).pipe((0,fe.T)(function(_){return(0,c.A)({},h,_)}))})).pipe((0,fe.T)(function(h){return h.reduce(function(_,S){return(0,g.A)((0,g.A)({},_),S)},{})}),(0,fe.T)(function(h){return{options:h}})):(0,Re.of)({options:{}})}),(0,fe.T)(function(h){var _=h.options;return{options:_,body:JSON.stringify({id:_.id,params:d?d.conditions.all.reduce(function(S,P){return(0,g.A)((0,g.A)({},S),P.any.reduce(function(B,z){return(0,g.A)((0,g.A)({},B),{},(0,c.A)({},z.path.substr(2),[].concat((0,A.A)(B[z.path.substr(2)]?B[z.path.substr(2)]:[]),[JSON.parse(decodeURIComponent(z.value))])))},{}))},{}):{}})}}),(0,X.M)(function(h){return console.log("open search template query body",h.body)}),(0,We.n)(function(h){var _=h.options;return Pf({method:"POST",body:h.body,headers:{"Content-Type":"application/json",host:"".concat(_.domain,".").concat(_.region,".es.amazonaws.com")},hostname:"".concat(_.domain,".").concat(_.region,".es.amazonaws.com"),path:"/".concat(_.index,"/_search/template"),protocol:"https:",service:"es",cognitoSettings:e,authFacade:n}).pipe((0,fe.T)(function(P){return{signedHttpRequest:P,options:_}}))}),(0,We.n)(function(h){var _=h.signedHttpRequest,S=h.options;delete _.headers.host;var P="https://".concat(S.domain,".").concat(S.region,".es.amazonaws.com/").concat(S.index,"/_search/template");return s.post(P,_.body,{headers:_.headers,withCredentials:!1}).pipe((0,fe.T)(function(B){return{res:B,options:S}}))}),(0,fe.T)(function(h){var _=h.res,S=h.options;return{entities:S.hits&&_&&_.hits&&_.hits.hits?_.hits.hits.map(function(P){return S.source?P._source:P}):[_],success:!0}}))}})}(0,u,e,l,d)),s.register(function(r,n,e,t){return new ql({id:"aws_opensearch_entity",title:"AWS Opensearch Entity",create:function(u){var l=u.object,d=u.identity,p=u.params,h=u.parentObject;return(0,Re.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,We.n)(function(_){var S=_.options;return d({object:l,parentObject:h}).pipe((0,fe.T)(function(P){return{identity:P.identity,options:S}}))}),(0,We.n)(function(_){var S=_.options,P=_.identity;return Pf((0,g.A)((0,g.A)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com")},hostname:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com"),path:"/".concat(S.index,"/_doc/").concat(P),protocol:"https:",service:"es"},(0,g.A)({},S.pipeline?{query:{pipeline:S.pipeline}}:{})),{},{cognitoSettings:n,authFacade:r})).pipe((0,fe.T)(function(B){return{signedHttpRequest:B,options:S,identity:P}}))}),(0,We.n)(function(_){var S=_.signedHttpRequest,P=_.options,B=_.identity;delete S.headers.host;var z="https://".concat(P.domain,".").concat(P.region,".es.amazonaws.com/").concat(P.index,"/_doc/").concat(B);return t.put(z,JSON.stringify(l),{headers:S.headers,withCredentials:!1,params:(0,g.A)({},P.pipeline?{pipeline:P.pipeline}:{})}).pipe((0,fe.T)(function(Y){return{res:Y,options:P}}))}),(0,fe.T)(function(){return{success:!0}}))},read:function(u){return pi(u),(0,Re.of)({success:!1})},update:function(u){var l=u.object,d=u.identity,p=u.params,h=u.parentObject;return(0,Re.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,We.n)(function(_){var S=_.options;return d({object:l,parentObject:h}).pipe((0,fe.T)(function(P){return{identity:P.identity,options:S}}))}),(0,We.n)(function(_){var S=_.options,P=_.identity;return Pf((0,g.A)((0,g.A)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com")},hostname:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com"),path:"/".concat(S.index,"/_doc/").concat(P),protocol:"https:",service:"es"},(0,g.A)({},S.pipeline?{query:{pipeline:S.pipeline}}:{})),{},{cognitoSettings:n,authFacade:r})).pipe((0,fe.T)(function(B){return{signedHttpRequest:B,options:S,identity:P}}))}),(0,We.n)(function(_){var S=_.signedHttpRequest,P=_.options,B=_.identity;delete S.headers.host;var z="https://".concat(P.domain,".").concat(P.region,".es.amazonaws.com/").concat(P.index,"/_doc/").concat(B);return t.put(z,JSON.stringify(l),{headers:S.headers,withCredentials:!1,params:(0,g.A)({},P.pipeline?{pipeline:P.pipeline}:{})}).pipe((0,fe.T)(function(Y){return{res:Y,options:P}}))}),(0,fe.T)(function(){return{success:!0}}))},delete:function(u){return pi(u),(0,Re.of)({success:!1})},query:function(u){var l=u.rule,d=u.params;return(0,Re.of)({entities:[],success:!1}).pipe((0,X.M)(function(){console.log("crud open search query",l,d)}),e.resolveParams({params:d}),(0,fe.T)(function(p){return{options:p.options,identityCondition:l.conditions.all.map(function(_){return _.any.find(function(S){return"identity"===S.fact})}).find(function(_){return!!_})}}),(0,We.n)(function(p){var h=p.options,_=p.identityCondition;return Pf({method:"GET",headers:{"Content-Type":"application/json",host:"".concat(h.domain,".").concat(h.region,".es.amazonaws.com")},hostname:"".concat(h.domain,".").concat(h.region,".es.amazonaws.com"),path:"/".concat(h.index,"/_doc/").concat(_?_.value:""),protocol:"https:",service:"es",cognitoSettings:n,authFacade:r}).pipe((0,X.M)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { action: createSignedRequest } })")}),(0,X.M)(function(S){return delete S.headers.host}),(0,fe.T)(function(S){return{signedHttpRequest:S,options:h,url:"https://".concat(h.domain,".").concat(h.region,".es.amazonaws.com").concat(S.path)}}),(0,X.M)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,We.n)(function(S){return t.get(S.url,{headers:S.signedHttpRequest.headers,withCredentials:!1}).pipe((0,aa.W)(function(){return(0,Re.of)(void 0)}))}),(0,X.M)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { http: get } })")}),(0,fe.T)(function(S){return{entities:S?[S._source]:[],success:!!S}}))}))}})}(u,e,l,d))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wd),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(gs),a.\u0275\u0275inject(bi),a.\u0275\u0275inject(co),a.\u0275\u0275inject(E.HttpClient))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Sc,rd]}),r}(),jo=b(8345),Cj=b(97055),sd=b(74832),xj=Object.prototype.toString;var qx=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},If=function(){function o(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,n,e){return n&&o(r.prototype,n),e&&o(r,e),r}}();function Wx(o){return o.split("").map(function(r){return"(?:"+r.toUpperCase()+"|"+r.toLowerCase()+")"}).join("")}function Ql(o,r){for(var n=o.length-1;n>=0;n--)o[n]===r&&Array.prototype.splice.call(o,n,1)}function Sj(o,r){return Object.prototype.hasOwnProperty.call(o,r)}var fy={},Qx=function(){function o(){qx(this,o),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return If(o,null,[{key:"getInstance",value:function(n){return fy[n]=fy[n]||new o,fy[n]}}]),If(o,[{key:"acronym",value:function(n){this.acronyms[n.toLowerCase()]=n;var e=[];for(var t in this.acronyms)Sj(this.acronyms,t)&&e.push(this.acronyms[t]);this.acronymRegex=new RegExp(e.join("|"))}},{key:"plural",value:function(n,e){"string"==typeof n&&Ql(this.uncountables,n),Ql(this.uncountables,e),this.plurals.unshift([n,e])}},{key:"singular",value:function(n,e){"string"==typeof n&&Ql(this.uncountables,n),Ql(this.uncountables,e),this.singulars.unshift([n,e])}},{key:"irregular",value:function(n,e){Ql(this.uncountables,n),Ql(this.uncountables,e);var t=n[0],s=n.substr(1),u=e[0],l=e.substr(1);if(t.toUpperCase()===u.toUpperCase())this.plural(new RegExp("("+t+")"+s+"$","i"),"$1"+l),this.plural(new RegExp("("+u+")"+l+"$","i"),"$1"+l),this.singular(new RegExp("("+t+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+u+")"+l+"$","i"),"$1"+s);else{var d=Wx(s),p=Wx(l);this.plural(new RegExp(t.toUpperCase()+d+"$"),u.toUpperCase()+l),this.plural(new RegExp(t.toLowerCase()+d+"$"),u.toLowerCase()+l),this.plural(new RegExp(u.toUpperCase()+p+"$"),u.toUpperCase()+l),this.plural(new RegExp(u.toLowerCase()+p+"$"),u.toLowerCase()+l),this.singular(new RegExp(t.toUpperCase()+d+"$"),t.toUpperCase()+s),this.singular(new RegExp(t.toLowerCase()+d+"$"),t.toLowerCase()+s),this.singular(new RegExp(u.toUpperCase()+p+"$"),t.toUpperCase()+s),this.singular(new RegExp(u.toLowerCase()+p+"$"),t.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];this.uncountables=this.uncountables.concat(e)}},{key:"human",value:function(n,e){this.humans.unshift([n,e])}},{key:"clear",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===n?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[n]=[]}}]),o}(),Xx={en:function Ej(o){o.plural(/$/,"s"),o.plural(/s$/i,"s"),o.plural(/^(ax|test)is$/i,"$1es"),o.plural(/(octop|vir)us$/i,"$1i"),o.plural(/(octop|vir)i$/i,"$1i"),o.plural(/(alias|status)$/i,"$1es"),o.plural(/(bu)s$/i,"$1ses"),o.plural(/(buffal|tomat)o$/i,"$1oes"),o.plural(/([ti])um$/i,"$1a"),o.plural(/([ti])a$/i,"$1a"),o.plural(/sis$/i,"ses"),o.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),o.plural(/(hive)$/i,"$1s"),o.plural(/([^aeiouy]|qu)y$/i,"$1ies"),o.plural(/(x|ch|ss|sh)$/i,"$1es"),o.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),o.plural(/^(m|l)ouse$/i,"$1ice"),o.plural(/^(m|l)ice$/i,"$1ice"),o.plural(/^(ox)$/i,"$1en"),o.plural(/^(oxen)$/i,"$1"),o.plural(/(quiz)$/i,"$1zes"),o.singular(/s$/i,""),o.singular(/(ss)$/i,"$1"),o.singular(/(n)ews$/i,"$1ews"),o.singular(/([ti])a$/i,"$1um"),o.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),o.singular(/(^analy)(sis|ses)$/i,"$1sis"),o.singular(/([^f])ves$/i,"$1fe"),o.singular(/(hive)s$/i,"$1"),o.singular(/(tive)s$/i,"$1"),o.singular(/([lr])ves$/i,"$1f"),o.singular(/([^aeiouy]|qu)ies$/i,"$1y"),o.singular(/(s)eries$/i,"$1eries"),o.singular(/(m)ovies$/i,"$1ovie"),o.singular(/(x|ch|ss|sh)es$/i,"$1"),o.singular(/^(m|l)ice$/i,"$1ouse"),o.singular(/(bus)(es)?$/i,"$1"),o.singular(/(o)es$/i,"$1"),o.singular(/(shoe)s$/i,"$1"),o.singular(/(cris|test)(is|es)$/i,"$1is"),o.singular(/^(a)x[ie]s$/i,"$1xis"),o.singular(/(octop|vir)(us|i)$/i,"$1us"),o.singular(/(alias|status)(es)?$/i,"$1"),o.singular(/^(ox)en/i,"$1"),o.singular(/(vert|ind)ices$/i,"$1ex"),o.singular(/(matr)ices$/i,"$1ix"),o.singular(/(quiz)zes$/i,"$1"),o.singular(/(database)s$/i,"$1"),o.irregular("person","people"),o.irregular("man","men"),o.irregular("child","children"),o.irregular("sex","sexes"),o.irregular("move","moves"),o.irregular("zombie","zombies"),o.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function go(o,r){if(function Kx(o){return"[object Function]"===xj.call(o)}(o)&&(r=o,o=null),o=o||"en",!r)return Qx.getInstance(o);r(Qx.getInstance(o))}for(var Yx in Xx)go(Yx,Xx[Yx]);function Zx(o){return function Jx(o,r){var e,t,s,n=""+o;if(0===n.length)return n;var u=n.toLowerCase().match(/\b\w+$/);if(u&&go().uncountables.indexOf(u[0])>-1)return n;for(var l=0,d=r.length;l<d;l++)if(s=(e=r[l])[1],n.match(t=e[0])){n=n.replace(t,s);break}return n}(o,go(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").plurals)}function eS(o){var r=null==o?"":String(o);return r.charAt(0).toUpperCase()+r.slice(1)}function ku(o,r){null==r&&(r=!0);var n=""+o;return(n=r?n.replace(/^[a-z\d]*/,function(e){return go().acronyms[e]||eS(e)}):n.replace(new RegExp("^(?:"+go().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(e){return e.toLowerCase()})).replace(/(?:_|(\/))([a-z\d]*)/gi,function(e,t,s,u,l){return t||(t=""),""+t+(go().acronyms[s]||eS(s))})}var tS={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00c6:"AE",\u00c7:"C",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00d0:"D",\u00d1:"N",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O","\xd7":"x",\u00d8:"O",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00dd:"Y",\u00de:"Th",\u00df:"ss",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00e6:"ae",\u00e7:"c",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00f0:"d",\u00f1:"n",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00fd:"y",\u00fe:"th",\u00ff:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010a:"C",\u010b:"c",\u010c:"C",\u010d:"c",\u010e:"D",\u010f:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011a:"E",\u011b:"e",\u011c:"G",\u011d:"g",\u011e:"G",\u011f:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012a:"I",\u012b:"i",\u012c:"I",\u012d:"i",\u012e:"I",\u012f:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013a:"l",\u013b:"L",\u013c:"l",\u013d:"L",\u013e:"l",\u013f:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014a:"NG",\u014b:"ng",\u014c:"O",\u014d:"o",\u014e:"O",\u014f:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015a:"S",\u015b:"s",\u015c:"S",\u015d:"s",\u015e:"S",\u015f:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016a:"U",\u016b:"u",\u016c:"U",\u016d:"u",\u016e:"U",\u016f:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017a:"z",\u017b:"Z",\u017c:"z",\u017d:"Z",\u017e:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041a:"K",\u041b:"L",\u041c:"M",\u041d:"N",\u041e:"O",\u041f:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042a:"",\u042b:"Y",\u042c:"",\u042d:"E",\u042e:"YU",\u042f:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043a:"k",\u043b:"l",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044a:"",\u044b:"y",\u044c:"",\u044d:"e",\u044e:"yu",\u044f:"ya"},my={};function Rj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.index;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("panel page | level: ",n)}}function Mj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",3),a.\u0275\u0275template(2,Rj,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,n.panelPages$))}}function Nj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.index;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("panel | ",n)}}function Vj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",6),a.\u0275\u0275template(2,Nj,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,n.panels$))}}function Oj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.index;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("pane | ",n)}}function Bj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",7),a.\u0275\u0275template(2,Oj,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,n.panes$))}}function Lj(o,r){if(1&o&&a.\u0275\u0275element(0,"druid-panels-panelpage-linkedlist",8),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPages",n.nested)}}function jj(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",2),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.onItemSelect(s.id))}),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.title," [",e.id,"]")}}function Uj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,jj,3,2,"a",5),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,1,n.panels$))}}!function(){function o(){for(var r in qx(this,o),this.approximations={},tS)this.approximate(r,tS[r])}If(o,null,[{key:"getInstance",value:function(n){return my[n]=my[n]||new o,my[n]}}]),If(o,[{key:"approximate",value:function(n,e){this.approximations[n]=e}},{key:"transliterate",value:function(n,e){var t=this;return n.replace(/[^\u0000-\u007f]/g,function(s){return t.approximations[s]||e||"?"})}}])}();var zj=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.openSearchDomain=r.openSearchDomain,this.s3Bucket=r.s3Bucket,this.objectsRootUrl=r.objectsRootUrl)}),Pr=(0,m.A)(function o(r){(0,v.A)(this,o),this.gridItems=[],this.panels=[],this.contexts=[],this.rowSettings=[],this.entityPermissions=new rS,r&&(this.id=r.id,this.layoutType=r.layoutType,this.displayType=r.displayType,this.name=r.name?r.name:void 0,this.title=r.title?r.title:void 0,this.site=r.site?r.site:void 0,this.userId=r.userId?r.userId:void 0,this.path=r.path?r.path:void 0,this.persistence=r.persistence?new Hl(r.persistence):void 0,this.interactions=r.interactions?new Du(r.interactions):void 0,r.panels&&(this.panels=r.panels.map(function(n){return new Uo(n)})),r.gridItems&&(this.gridItems=r.gridItems.map(function(n){return new $j(n)})),r.contexts&&(this.contexts=r.contexts.map(function(n){return new Ia(n)})),r.layoutSetting&&(this.layoutSetting=new $n(r.layoutSetting)),r.rowSettings&&Array.isArray(r.rowSettings)&&(this.rowSettings=r.rowSettings.map(function(n){return new $n(n)})),r.entityPermissions&&(this.entityPermissions=new rS(r.entityPermissions)),r.cssFile&&(this.cssFile=r.cssFile))}),Uo=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],this.panes=[],r&&(this.name=r.name?r.name:void 0,this.label=r.label?r.label:void 0,this.stylePlugin=r.stylePlugin,r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})),r.panes&&(this.panes=r.panes.map(function(n){return new Dr(n)})),r.columnSetting&&(this.columnSetting=new $n(r.columnSetting)))}),Dr=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],this.locked=!1,this.contexts=[],r&&(this.name=r.name,this.label=r.label,this.contentPlugin=r.contentPlugin,this.locked=void 0!==r.locked&&r.locked,r.linkedPageId&&(this.linkedPageId=r.linkedPageId),void 0!==r.metadata&&(this.metadata=new Map((0,A.A)(r.metadata))),void 0!==r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})),void 0!==r.contexts&&(this.contexts=r.contexts.map(function(n){return new Ia(n)})),void 0!==r.rule&&"string"!=typeof r.rule&&(this.rule=(0,g.A)({},r.rule)),r.nestedPage&&(this.nestedPage=new Pr(r.nestedPage)),r.resolvedContext&&(this.resolvedContext=(0,g.A)({},r.resolvedContext)))}),$j=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.cols=r.cols,this.rows=r.rows,this.x=r.x,this.y=r.y,this.weight=r.weight)}),$n=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],r&&r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)}))}),rS=(0,m.A)(function o(r){(0,v.A)(this,o),this.readUserIds=[],this.writeUserIds=[],this.deleteUserIds=[],r&&(this.readUserIds=r.readUserIds?r.readUserIds.map(function(n){return n}):[],this.writeUserIds=r.writeUserIds?r.writeUserIds.map(function(n){return n}):[],this.deleteUserIds=r.deleteUserIds?r.deleteUserIds.map(function(n){return n}):[])}),La=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Re.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"getBindings",value:function(t,s){return(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"fromPanes",value:function(t){var s=this;return t.map(function(u){return new Dr(s.attributeSerializer.deserialize(u))})}},{key:"wrapPanel",value:function(t){return new Uo({stylePlugin:void 0,settings:[],panes:t,columnSetting:new $n})}},{key:"stateDefinition",value:function(t){return(0,Re.of)({})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Hj=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.panelHandler=t,this.panelPages$=new M.t([]),this.panels$=new M.t([]),this.panes$=new M.t([]),this.nested$=new M.t([]),this.formGroup=this.fb.group({panelPage:this.fb.control(void 0),panel:this.fb.control(void 0),pane:this.fb.control(void 0),nested:this.fb.control(void 0)}),this.panelPageSub=this.formGroup.get("panelPage").valueChanges.subscribe(function(u){s.panels$.next(new Pr(s.panelPages$.value[u]).panels)}),this.panelSub=this.formGroup.get("panel").valueChanges.subscribe(function(u){s.panes$.next(new Uo(s.panels$.value[u]).panes)}),this.paneSub=this.formGroup.get("pane").valueChanges.pipe((0,fe.T)(function(u){return s.panes$.value[u]}),(0,We.n)(function(u){return er(function(){return"panel"===u.contentPlugin},s.panelHandler.toObject(u.settings),(0,Re.of)(void 0))}),(0,te.p)(function(u){return!!u})).subscribe(function(u){s.nested$.next([u])}),this.onTouched=function(){}},[{key:"panelPages",get:function(){return this.panelPages$.value&&Array.isArray(this.panelPages$.value)?this.panelPages$.value:[]},set:function(t){this.panelPages$.next(t)}},{key:"panels",get:function(){return this.panels$.value&&Array.isArray(this.panels$.value)?this.panels$.value:[]},set:function(t){this.panels$.next(t)}},{key:"panes",get:function(){return this.panes$.value&&Array.isArray(this.panes$.value)?this.panes$.value:[]},set:function(t){this.panes$.next(t)}},{key:"nested",get:function(){return this.nested$.value&&void 0!==typeof this.nested$.value&&this.nested$.value.length>0?(0,A.A)(this.nested$.value):void 0}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(La))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-panels-panelpage-linkedlist"]],inputs:{panelPages:"panelPages",panels:"panels",panes:"panes"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["formControlName","nested",3,"panelPages",4,"ngIf"],["required","","formControlName","panelPage"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","","formControlName","panel"],["required","","formControlName","pane"],["formControlName","nested",3,"panelPages"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,Mj,4,3,"mat-form-field",1)(2,Vj,4,3,"mat-form-field",1)(3,Bj,4,3,"mat-form-field",1)(4,Lj,1,1,"druid-panels-panelpage-linkedlist",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.panelPages.length>0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.panels.length>0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.panes.length>0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested))},dependencies:[y.NgForOf,y.NgIf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatFormField,fa.MatSelect,o,y.AsyncPipe],encapsulation:2}),r}(),Kj=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.siteName=e,this.bottomSheetRef=t,this.handler=s,this.dialog=u,this.fb=l,this.selectedIndex=0,this.panelPagesService=d.getEntityCollectionService("PanelPage"),this.panelPageListItemsService=d.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){}},{key:"onNewSelect",value:function(){var t=this,s=ur(),u=new Pr({id:void 0,layoutType:"split",displayType:"page",site:this.siteName,gridItems:[],panels:[],layoutSetting:new $n,rowSettings:[]});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:s,label:s,rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(u).map(function(l){return t.convertToGroup(l)}))})),this.bottomSheetRef.dismiss()}},{key:"onLinkSelect",value:function(){this.selectedIndex=1,this.panels$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent(this.siteName)))}},{key:"onEmbedSelect",value:function(){var t=ur();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:t,label:t,rule:new f.UntypedFormControl(""),locked:new f.UntypedFormControl(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"onItemSelect",value:function(t){var s=ur();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:s,label:s,rule:new f.UntypedFormControl(""),linkedPageId:new f.UntypedFormControl(t,f.Validators.required),locked:new f.UntypedFormControl(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(cn.SITE_NAME),a.\u0275\u0275directiveInject(wu.MatBottomSheetRef),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-selector"]],inputs:{panelFormGroup:"panelFormGroup"},standalone:!1,decls:11,vars:1,consts:[["mat-align-tabs","start",3,"selectedIndex"],["label","Type"],["mat-list-item","","mat-list-item","",3,"click"],["label","Search"],["matTabContent",""],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-nav-list")(3,"a",2),a.\u0275\u0275listener("click",function(){return t.onNewSelect()}),a.\u0275\u0275text(4,"New Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"a",2),a.\u0275\u0275listener("click",function(){return t.onLinkSelect()}),a.\u0275\u0275text(6,"Link Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"a",2),a.\u0275\u0275listener("click",function(){return t.onEmbedSelect()}),a.\u0275\u0275text(8,"Embed Panel"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(9,"mat-tab",3),a.\u0275\u0275template(10,Uj,3,3,"ng-template",4),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("selectedIndex",t.selectedIndex)},dependencies:[y.NgForOf,Df.MatLine,ms.MatNavList,ms.MatListItem,mo.MatTabContent,mo.MatTab,mo.MatTabGroup,y.AsyncPipe],encapsulation:2}),r}(),qj=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-editor"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"panel-editor works!"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),ho=(0,m.A)(function o(r){(0,v.A)(this,o),this.panels=[],r&&(this.id=r.id,void 0!==r.panels&&Array.isArray(r.panels)&&(this.panels=r.panels.map(function(n){return new Pu(n)})))}),Pu=(0,m.A)(function o(r){(0,v.A)(this,o),this.panes=[],r&&void 0!==r.panes&&Array.isArray(r.panes)&&(this.panes=r.panes.map(function(n){return new fi(n)}))}),fi=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(void 0!==r.state&&(this.state=new _t.AttributeValue(r.state)),null!=r.nestedPage&&(this.nestedPage=new ho(r.nestedPage)))}),gy=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.siteName=e,this.panelHandler=t,this.attributeSerializer=s,this.rulesResolver=u,this.dpm=l,this.datasourceEvalutator=d},[{key:"handleFile",value:function(t){return(0,Re.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!0}},{key:"isData",value:function(t){return!0}},{key:"fetchDynamicData",value:function(t,s){var u=this,l=s.has("dataPanes")?new Map(s.get("dataPanes").map(function(p){return[p.name,p]})):new Map([]),d=new Map(Array.from(l).map(function(p){var h=(0,k.A)(p,2);return[h[0],new xu(u.attributeSerializer.deserializeAsObject(h[1].settings))]}));return this.toObject(t).pipe((0,We.n)(function(p){return u.datasourceEvalutator.evalDatasource({datasource:p,metadata:s,datasources:d})}))}},{key:"buildDynamicItems",value:function(t,s){var u=this,l=new Map(s.get("dataPanes").map(function(d){return[d.name,d]}));return this.fetchDynamicData(t,s).pipe((0,We.n)(function(d){return u.toObject(t).pipe((0,fe.T)(function(p){return[p,d]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,2),h=p[0],_=p[1];return u.getBindings(t,"pane").pipe((0,fe.T)(function(S){return[h,_,S]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,3),h=p[0],_=p[1],S=p[2];return er(function(){return 0!==_.results.length&&S.length>0},(0,bn.p)(_.results.map(function(P){return(0,bn.p)(S.filter(function(B){return!l.has(B.id)}).map(function(B){return(0,Re.of)(s.get("panes").find(function(z){return z.name===B.id})).pipe((0,We.n)(function(z){return er(function(){return z&&z.rule&&null!==z.rule&&""!==z.rule.condition},z?u.rulesResolver.evaluate(z.rule,[].concat((0,A.A)(s.get("contexts")),(0,A.A)(void 0!==z.contexts?z.contexts:[]),[new Ia({name:"_root",adaptor:"data",data:P})])).pipe((0,fe.T)(function(Y){return[z,Y]})):(0,Re.of)([z,!1]),(0,Re.of)(!1).pipe((0,fe.T)(function(Y){return[z,Y]})))}),(0,te.p)(function(z){return(0,k.A)(z,2)[1]}),(0,fe.T)(function(z){return(0,k.A)(z,2)[0].name}),(0,qr.U)(B.id))})).pipe((0,fe.T)(function(B){return B.reduce(function(z,Y){return[].concat((0,A.A)(z),[Y])},[])}))})).pipe((0,fe.T)(function(P){return[h,_,P]})),new G.c(function(P){P.next([h,_,[]]),P.complete()}))}),(0,fe.T)(function(d){var p=(0,k.A)(d,3),S=p[2];return p[1].results.reduce(function(P,B,z){return[].concat((0,A.A)(P),(0,A.A)(S[z]?S[z].map(function(Y){return new Dr((0,g.A)((0,g.A)({},s.get("panes").find(function(de){return de.name===Y})),{},{rule:void 0,label:ur(),contexts:[].concat((0,A.A)(s.get("contexts")),[new Ia({name:"_root",adaptor:"data",data:B})])}))}):[]))},[])}),(0,fe.T)(function(d){return new Uo({stylePlugin:void 0,settings:[],panes:d,columnSetting:new $n})}),(0,fe.T)(function(d){return u.panelHandler.buildSettings(new Pr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new $n,rowSettings:[],panels:[d]}))}),(0,fe.T)(function(d){return d.find(function(p){return"panels"===p.name}).attributes[0].attributes.find(function(p){return"panes"===p.name}).attributes}))}},{key:"getBindings",value:function(t,s,u){var l=this,d=u?new Map(u.get("dataPanes").map(function(p){return[p.name,p]})):new Map;return"context"===s?this.toObject(t).pipe((0,fe.T)(function(p){return[p,p.params?p.params.reduce(function(h,_){return[].concat((0,A.A)(h),(0,A.A)("form"===_.mapping.type?[new Xt.ContentBinding({id:"form__".concat(_.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[]):[]]}),(0,We.n)(function(p){var _=(0,k.A)(p,2)[0];return l.dpm.getPlugin(_.plugin).pipe((0,We.n)(function(P){return P.getBindings({settings:_.settings,metadata:u}).pipe((0,fe.T)(function(B){return[_,B]}))}))}),(0,We.n)(function(p){var h=(0,k.A)(p,2),S=h[1];return(0,bn.p)(h[0].renderer.bindings.reduce(function(P,B){return[].concat((0,A.A)(P),(0,A.A)(d.has(B.id)?[l.toObject(d.get(B.id).settings)]:[]))},[])).pipe((0,We.n)(function(P){return(0,bn.p)(P.map(function(B){return l.dpm.getPlugin(B.plugin).pipe((0,We.n)(function(z){return z.getBindings({settings:B.settings,metadata:u})}))})).pipe((0,fe.T)(function(B){return B.reduce(function(z,Y){return[].concat((0,A.A)(z),(0,A.A)(Y))},S)}),(0,qr.U)(S))}),(0,qr.U)(S))})):this.toObject(t).pipe((0,We.n)(function(p){return er(function(){return p.renderer.type===s},(0,Re.of)(p.renderer.bindings),(0,Re.of)([]))}))}},{key:"toObject",value:function(t){return(0,Re.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"getRenderType",value:function(t){var s=[t.find(function(u){return"renderer"===u.name})].map(function(u){return u.attributes.find(function(l){return"type"===l.name})});return s.length>0?s[0].value:void 0}},{key:"stateDefinition",value:function(t){return(0,Re.of)({autocomplete:{input:""},loading:"y"})}},{key:"editorOptions",value:function(t){var s=this;return this.toObject(t).pipe((0,We.n)(function(u){return s.dpm.getPlugin(u&&u.plugin?u.plugin:"data").pipe((0,fe.T)(function(l){return[u,l]}))}),(0,We.n)(function(u){var l=(0,k.A)(u,2),d=l[0],p=l[1];return p.editorOptions?p.editorOptions({settings:d&&d.settings?d.settings:[]}):(0,Re.of)(void 0)}),(0,fe.T)(function(u){return new Xt.ContentPluginEditorOptions({fullscreen:!!u&&u.fullscreen})}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.SITE_NAME),a.\u0275\u0275inject(La),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ay),a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(ux))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Wj=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.datasourceHandler=l,this.datasource=new xu,this.bindableOptions=[],this.contexts=[],this.formGroup=this.fb.group({source:this.fb.control("")})},[{key:"ngOnInit",value:function(){var t=this,s=this.data.panelFormGroup.get("panes");if(this.bindableOptions=s.controls.reduce(function(l,d){return d.get("name").value?[].concat((0,A.A)(l),[d.get("name").value]):(0,A.A)(l)},[]),this.contexts=this.data.contexts.map(function(l){return l.name}),void 0!==this.data.panelIndex&&this.data.paneIndex<s.length){var u=s.at(this.data.paneIndex).get("settings").value.map(function(l){return new _t.AttributeValue(l)});this.datasourceHandler.toObject(u).subscribe(function(l){t.datasource=l})}}},{key:"onSubmit",value:function(){var t=this,s=this.attributeSerializer.serialize(this.formGroup.value.source,"source"),u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);void 0===this.data.paneIndex?(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"datasource",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(s.attributes.map(function(l){return t.attributeSerializer.convertToGroup(l)}))})),console.log(this.data.panelFormGroup.get("panes").value)):(u.get("settings").clear(),s.attributes.forEach(function(l){return u.get("settings").push(t.attributeSerializer.convertToGroup(l))})),this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(gy))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-editor"]],standalone:!1,decls:4,vars:4,consts:[[3,"ngSubmit","formGroup"],["formControlName","source",3,"bindableOptions","contexts","datasource"],["type","submit"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),a.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),a.\u0275\u0275elementStart(2,"button",2),a.\u0275\u0275text(3,"Save"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(),a.\u0275\u0275property("bindableOptions",t.bindableOptions)("contexts",t.contexts)("datasource",t.datasource))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,qv],encapsulation:2}),r}(),Qj=function(r){return new Xt.ContentPlugin({id:"panel",title:"Panel",selectionComponent:Kj,editorComponent:qj,renderComponent:void 0,handler:r})},Xj=function(r){return new Xt.ContentPlugin({id:"datasource",title:"Datasource",selectionComponent:void 0,editorComponent:Wj,renderComponent:void 0,handler:r})},aS=$a("[PageBuilder] Load Rest Data",{_as:"props",_p:void 0}),iS=$a("[PageBuilder] Load Rest Data Success",{_as:"props",_p:void 0}),hy=($a("[PageBuilder] Load Rest Data Error",{_as:"props",_p:void 0}),$a("[PageBuilder] Set Page Info",{_as:"props",_p:void 0})),oS=$a("[PageBuilder] Set Form",{_as:"props",_p:void 0}),vy=$a("[PageBuilder] Set Page",{_as:"props",_p:void 0}),sS=$a("[PageBuilder] Selection Path",{_as:"props",_p:void 0}),Jj=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.actions$=e,this.datasourceApi=t,this.snippetParserService=s,this.loadRestData$=si(function(){return u.actions$.pipe(So(aS),(0,Fs.H)(function(l){return u.fetchRestdata$(l.rest).pipe((0,aa.W)(function(){return[]}),(0,fe.T)(function(d){return void 0!==l.rest.renderer&&void 0!==l.rest.renderer.query&&""!==l.rest.renderer.query?(0,jo.JSONPath)({path:l.rest.renderer.query,json:d}):d}),(0,fe.T)(function(d){return iS({tag:l.tag,data:new Un({results:d})})}))}))})},[{key:"fetchRestdata$",value:function(t){var s=this;switch(t.method?t.method:"get"){case"post":case"POST":return(0,Re.of)([]).pipe((0,We.n)(function(){return s.snippetParserService.parseSnippet({snippet:t.body})}),(0,We.n)(function(l){return s.datasourceApi.postData({url:t.url,body:l})}));default:return this.datasourceApi.getData(t.url)}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ks),a.\u0275\u0275inject(ix),a.\u0275\u0275inject(H1))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),ld=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.id=r.id,this.path=r.path,this.realPath=r.realPath,this.args=r.args)}),uS="pageBuilder",e9=function T2(o){for(var r=new Map,n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];for(var s=function(){var _,p=l[u],h=(0,N.A)(p.types);try{var S=function(){var B=_.value,z=r.get(B);r.set(B,z?function(ge,be){return p.reducer(z(ge,be),be)}:p.reducer)};for(h.s();!(_=h.n()).done;)S()}catch(P){h.e(P)}finally{h.f()}},u=0,l=e;u<l.length;u++)s();return function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,p=arguments.length>1?arguments[1]:void 0,h=r.get(p.type);return h?h(d,p):d}}({dataTags:[],datasets:[],pageInfo:void 0,formNames:[],forms:[],page:void 0,selectionPath:[]},hc(iS,function(o,r){var n=o.dataTags.findIndex(function(t){return t===r.tag});if(n>-1&&void 0!==o.forms[n]){var e=(0,g.A)({},o);return e.datasets[n].push(r.data),e}return(0,g.A)((0,g.A)({},o),{},{dataTags:[].concat((0,A.A)(o.dataTags),[r.tag]),datasets:[].concat((0,A.A)(o.datasets),[[r.data]])})}),hc(oS,function(o,r){var n=o.formNames.findIndex(function(e){return e===r.name});return(0,g.A)((0,g.A)({},o),{},n>-1&&void 0!==o.forms[n]?{forms:o.forms.map(function(e,t){return t===n?r.form:e})}:{formNames:[].concat((0,A.A)(o.formNames),[r.name]),forms:[].concat((0,A.A)(o.forms),[r.form])})}),hc(hy,function(o,r){return(0,g.A)((0,g.A)({},o),{},{pageInfo:void 0!==r.info?new ld(r.info):void 0})}),hc(vy,function(o,r){return(0,g.A)((0,g.A)({},o),{},{page:void 0!==r.page?new Pr(r.page):void 0})}),hc(sS,function(o,r){return(0,g.A)((0,g.A)({},o),{},{selectionPath:void 0!==r.path?r.path:[]})}));function t9(o,r){return e9(o,r)}var Tf=new a.InjectionToken("StylePlugin"),lS=new a.InjectionToken("PanelsSettings"),yy=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,h,_,S,P,B){(0,v.A)(this,n);var z=function(r,n){return{PanelPageListItem:{entityName:"PanelPageListItem",crud:(0,g.A)((0,g.A)({},(0,y.isPlatformServer)(r)?{}:{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}}),{},{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}})},PanelPage:{entityName:"PanelPage",crud:(0,g.A)((0,g.A)({},(0,y.isPlatformServer)(r)?{}:{readPrimary:{fallback:!0,ops:["create","update","query"],plugin:"idb_keyval",params:{prefix:"panelpage__"}}}),{},{readFallback:{fallback:!0,ops:["query"],plugin:"rest",params:{entityName:"PanelPage",root:n.objectsRootUrl,suffix:".json"}}},(0,y.isPlatformServer)(r)?{}:{idb_keyval:{params:{prefix:"panelpage__"}}})},PanelPageState:{entityName:"PanelPageState"}}}(e,s);u.registerMetadataMap(z),d.registerService("PanelPageState",new cn.NoopDataService("PanelPageState")),d.registerService("PanelPage",new ry("PanelPage",S,P,B)),d.registerService("PanelPageListItem",new ry("PanelPageListItem",S,P,B)),t.forEach(function(Y){return l.register(Y)}),p.register(function(r,n){return new td({id:"panels",title:"Panels",build:function(){Eu.prototype.writePaneState=function(t,s){return new Promise(function(u){var l=r.getEntityCollectionService("PanelPageState");l.getByKey(t.id).pipe((0,aa.W)(function(){return(0,Re.of)(new ho({id:t.id,panels:[]}))}),(0,fe.T)(function(d){return void 0===d?new ho({id:t.id,panels:[]}):d}),(0,fe.T)(function(d){for(var p=n.serialize(s,"root"),h=new ho((0,g.A)((0,g.A)({},d),{},{panels:[]})),_=0;_<t.panelIndex+1;_++){h.panels.push(_<d.panels.length?new Pu((0,g.A)((0,g.A)({},d.panels[_]),{},{panes:[]})):new Pu);for(var S=0;S<t.paneIndex+1;S++)h.panels[_].panes.push(_===t.panelIndex&&S===t.paneIndex?new fi(_<d.panels.length&&S<d.panels[_].panes.length?(0,g.A)((0,g.A)({},d.panels[_].panes[S]),{},{state:p}):{state:p}):_<d.panels.length&&S<d.panels[_].panes.length?new fi((0,g.A)({},d.panels[_].panes[S])):new fi)}return h}),(0,We.n)(function(d){return l.upsert(d)})).subscribe(function(d){u(d)})})}}})}(h,_)),d.registerService("PanelPageForm",new ry("PanelPageForm",S,P,B))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(Xt.CONTENT_PLUGIN),a.\u0275\u0275inject(lS),a.\u0275\u0275inject(qa),a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(Gl),a.\u0275\u0275inject(_r),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(gs),a.\u0275\u0275inject(qa),a.\u0275\u0275inject(nd))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:La,useClass:La},{provide:Xt.CONTENT_PLUGIN,useFactory:Qj,multi:!0,deps:[La]},{provide:Xt.CONTENT_PLUGIN,useFactory:Xj,multi:!0,deps:[gy]},{provide:Ac,useClass:P_}],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,Sm.forFeature(uS,t9),_c.forFeature([Jj]),pa.MaterialModule,Su,Sc,yj,Aj,rd]}),r}(),cS=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.panelPage=r.panelPage,null!=r.panel&&(this.panel=r.panel),null!=r.pane&&(this.pane=r.pane),null!=r.nested&&"object"==typeof r.nested&&(this.nested=new o(r.nested)))}),dS=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.savable=!0,this.nested=!1,this.dashboard=[],this.layoutSetting=new $n,this.rowSettings=[],this.ancestory=[]},[{key:"gridItems",get:function(){return[]}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-layout-editor-base"]],inputs:{savable:"savable",nested:"nested",editor:"editor",dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings",editablePaneTpl:"editablePaneTpl",extraActionsAreaTmpl:"extraActionsAreaTmpl",contextsMenuTpl:"contextsMenuTpl",ancestory:"ancestory"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),pS=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.displayMainControls=!1,this.displayItemHeader=!1},[{key:"columnSettings",get:function(){return this.panelPage?this.panelPage.panels.reduce(function(s,u){return[].concat((0,A.A)(s),[new $n(u.columnSetting)])},[]):[]}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-layout-renderer-base"]],inputs:{panelPage:"panelPage",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",renderPanelTpl:"renderPanelTpl"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),n9=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n),this.settings=[],this.panes=[],this.originMappings=[],this.ancestory=[]},[{key:"mergeContexts",value:function(t){if(void 0!==t||void 0!==this.contexts)return void 0!==t&&void 0!==this.contexts?[].concat((0,A.A)(t),(0,A.A)(this.contexts)):void 0!==t?t:this.contexts}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-style-renderer-base"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",ancestory:"ancestory"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),fS=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.es=e,this.panelHandler=t},[{key:"panelPageService",get:function(){return this.es.getEntityCollectionService("PanelPage")}},{key:"reducePage",value:function(t){var s=this;return t.panels.reduce(function(u,l,d){return s.reducePanels(u,l,d)},[])}},{key:"reducePanels",value:function(t,s,u){var l=this;return[].concat((0,A.A)(t),(0,A.A)(s.panes.reduce(function(d,p,h){return l.reducePanes(d,p,h).map(function(_){return _.pipe((0,fe.T)(function(S){var P=(0,k.A)(S,2);return[u,P[0],P[1]]}))})},[])))}},{key:"reducePanes",value:function(t,s,u){return[].concat((0,A.A)(t),(0,A.A)("panel"===s.contentPlugin?[this.nestedPage$(s).pipe((0,fe.T)(function(l){return[u,l]}))]:[]))}},{key:"nestedPage$",value:function(t){return console.log("get nested panel page"),t.linkedPageId&&""!==t.linkedPageId?this.getByKey(t.linkedPageId).pipe((0,X.M)(function(){return console.log("get(".concat(t.linkedPageId,")"))})):this.getEmbedded(t.settings).pipe((0,X.M)(function(){return console.log("toObject()")}))}},{key:"remapNested",value:function(t,s){s.forEach(function(u){var l=(0,k.A)(u,3);t.panels[l[0]].panes[l[1]].nestedPage=l[2]})}},{key:"getByKey",value:function(t){var s=this;return this.panelPageService.getByKey(t).pipe((0,fe.T)(function(u){return new Pr(u)}),(0,We.n)(function(u){return er(function(){return s.reducePage(u).length>0},(0,bn.p)(s.reducePage(u)).pipe((0,X.M)(function(l){return s.remapNested(u,l)}),(0,fe.T)(function(){return u})),(0,Re.of)(u))}))}},{key:"getEmbedded",value:function(t){var s=this;return this.panelHandler.toObject(t).pipe((0,fe.T)(function(u){return new Pr(u)}),(0,We.n)(function(u){return er(function(){return s.reducePage(u).length>0},(0,bn.p)(s.reducePage(u)).pipe((0,X.M)(function(l){return s.remapNested(u,l)}),(0,fe.T)(function(){return u})),(0,Re.of)(u))}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_r),a.\u0275\u0275inject(La))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),r9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.panelHandler=e},[{key:"rebuildPage",value:function(t,s){return new Pr((0,g.A)((0,g.A)({},t),{},{panels:this.rebuildPanels(t.panels,(0,A.A)(s))}))}},{key:"rebuildPanels",value:function(t,s){var u=this;return t.filter(function(l,d){return u.rebuildCondition(s[0],d)}).map(function(l){return new Uo((0,g.A)((0,g.A)({},l),{},{panes:u.rebuildPanes(l.panes,s.slice(1))}))})}},{key:"rebuildPanes",value:function(t,s){var u=this;return t.filter(function(l,d){return u.rebuildCondition(s[0],d)}).map(function(l){return new Dr("panel"===l.contentPlugin?(0,g.A)((0,g.A)({},l),{},{nestedPage:void 0,settings:u.panelHandler.buildSettings(u.rebuildPage(l.nestedPage,s.slice(1)))}):(0,g.A)({},l))})}},{key:"rebuildCondition",value:function(t,s){return 0===t||(t>-1?s===t+-1*t:s!==-1*t+t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(La))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),a9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.panelHandler=e},[{key:"convertPageToState",value:function(t){var s=this;return(0,Re.of)(new ho).pipe((0,We.n)(function(){return(0,bn.p)(t.panels.map(function(u){return s.convertPanelToState(u)}))}),(0,fe.T)(function(u){return new ho({id:t.id,panels:u})}))}},{key:"convertPanelToState",value:function(t){var s=this;return(0,Re.of)(new Pu).pipe((0,We.n)(function(){return(0,bn.p)(t.panes.map(function(u){return s.convertPaneToState(u)}))}),(0,fe.T)(function(u){return new Pu({panes:u})}))}},{key:"convertPaneToState",value:function(t){var s=this;return(0,Re.of)(new fi).pipe((0,We.n)(function(u){return er(function(){return s.hasNestedPanelPage(t)},s.panelHandler.toObject(t.settings).pipe((0,We.n)(function(l){return s.convertPageToState(l)}),(0,fe.T)(function(l){return new fi({state:new _t.AttributeValue,nestedPage:l})})),(0,Re.of)(u))}))}},{key:"hasNestedPanelPage",value:function(t){return"panel"===t.contentPlugin&&(null==t.linkedPageId||""===t.linkedPageId)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(La))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),i9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.panelsLoaderService=e},[{key:"walkPageHierarchy",value:function(t){var s=this,u=t.panelPage,l=t.visitorFunc,d=t.defaultv,p=t.ancestory;return new G.c(function(h){for(var _=u.panels.length,S=[],P=0;P<_;P++)for(var B=u.panels[P].panes.length,z=0;z<B;z++)S.push(l({pane:u.panels[P].panes[z],panelPage:u,ancestoryWithSelf:[].concat((0,A.A)(p),[P,z])})),u.panels[P].panes[z].nestedPage&&u.panels[P].panes[z].nestedPage.panels&&0!==u.panels[P].panes[z].nestedPage.panels.length&&S.push(s.walkPageHierarchy({panelPage:u,visitorFunc:l,defaultv:d,ancestory:[].concat((0,A.A)(p),[P,z])}));0===S.length?(h.next(d),h.complete()):(0,bn.p)(S).pipe((0,fe.T)(function(Y){return Y.reduce(function(de,ge){return[].concat((0,A.A)(de),(0,A.A)(ge))},d)}),(0,X.M)(function(Y){h.next(Y),h.complete()})).subscribe()})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fS))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),mS=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.panelsVisitorService=e,this.cpm=t,this.gatherPaneContexts=function(u){var l=u.pane,d=u.panelPage,p=u.ancestoryWithSelf;return s.cpm.getPlugin(l.contentPlugin).pipe((0,We.n)(function(h){return h.handler?h.handler.stateDefinition(l.settings):(0,Re.of)({})}),(0,fe.T)(function(h){return new Ia({name:"panestate-"+p.join("-"),adaptor:"data",plugin:"panestate",data:{id:d?d.id:"",selectionPath:(0,A.A)(p),value:h}})}),(0,fe.T)(function(h){return[h]}),(0,pn.s)(1))}},[{key:"allActivePageContexts",value:function(t){var u=t.ancestory;return this.panelsVisitorService.walkPageHierarchy({panelPage:t.panelPage,ancestory:void 0===u?[]:u,visitorFunc:this.gatherPaneContexts,defaultv:[]})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(i9),a.\u0275\u0275inject(Xt.ContentPluginManager))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),o9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"buildToAncestorySpec",value:function(t){for(var s=t.panelPageState,u=t.ancestory,l=0;l<u[0]+1;l++)if(s.panels.length<l+1&&s.panels.push(new Pu),l===u[0]&&u.length>1)for(var d=0;d<u[1]+1;d++)s.panels[u[0]].panes.length<d+1&&s.panels[u[0]].panes.push(new fi({state:this.attributeSerializer.serialize({},"root")})),d===u[1]&&u.length>2&&(s.panels[u[0]].panes[d].nestedPage||(s.panels[u[0]].panes[d].nestedPage=new ho),this.buildToAncestorySpec({panelPageState:s.panels[u[0]].panes[d].nestedPage,ancestory:u.slice(2)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Xl=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"style"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),gS=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.spm=e},[{key:"alterResolvedPanes",value:function(t){var s=this,u=t.panel,l=t.resolvedPanes,d=t.originMappings;return(0,Re.of)(void 0).pipe((0,We.n)(function(){return u.stylePlugin&&""!==u.stylePlugin?s.spm.getPlugin(u.stylePlugin):(0,Re.of)(void 0)}),(0,We.n)(function(p){return p&&p.handler?p.handler.alterResolvedPanes({settings:u.settings,resolvedPanes:l,originMappings:d}):(0,Re.of)({resolvedPanes:l,originMappings:d})}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xl))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),_y=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.panelHandler=e,this.rulesResolver=t,this.inlineContextResolver=s,this.cpm=u},[{key:"usedContexts",value:function(t){var s=this;return this.panesPlugins(t).pipe((0,We.n)(function(u){return s.dataPanes(t).pipe((0,fe.T)(function(l){return{plugins:u,dataPanes:l}}))}),(0,We.n)(function(u){var l=u.plugins,d=u.dataPanes;return(0,bn.p)(t.reduce(function(p,h){var _=l.get(h.contentPlugin);return void 0!==_.handler?[].concat((0,A.A)(p),[_.handler.getBindings(h.settings,"context",new Map([["dataPanes",d]])).pipe((0,fe.T)(function(S){return S.map(function(P){return P.id})}))]):(0,A.A)(p)},[])).pipe((0,fe.T)(function(p){return p.reduce(function(h,_){return[].concat((0,A.A)(h),(0,A.A)(_))},[])}))}))}},{key:"staticPanes",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[])).pipe((0,fe.T)(function(s){return t.filter(function(u){return void 0===s.get(u.contentPlugin).handler||!s.get(u.contentPlugin).handler.isDynamic(u.settings)})}))}},{key:"dataPanes",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[])).pipe((0,fe.T)(function(s){return t.filter(function(u){return void 0!==s.get(u.contentPlugin).handler&&s.get(u.contentPlugin).handler.isData(u.settings)})}))}},{key:"panesPlugins",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[]))}},{key:"resolvePanes",value:function(t){var s=this,u=t.panes,l=t.contexts,d=t.resolvedContext;return console.log("resolve panes"),this.panesPlugins(u).pipe((0,We.n)(function(p){return(0,bn.p)(u.reduce(function(h,_){var S=p.get(_.contentPlugin);return[].concat((0,A.A)(h),void 0!==S.handler?[S.handler.getBindings(_.settings,"pane").pipe((0,fe.T)(function(P){return P.map(function(B){return B.id})}))]:[(0,Re.of)([])])},[]))})).pipe((0,fe.T)(function(p){return p.reduce(function(h,_){return[].concat((0,A.A)(h),(0,A.A)(_))},[])}),(0,We.n)(function(p){return s.panesPlugins(u).pipe((0,fe.T)(function(h){return[p,h]}))}),(0,We.n)(function(p){var h=(0,k.A)(p,2),_=h[0],S=h[1];return(0,bn.p)(u.reduce(function(P,B){var z=S.get(B.contentPlugin);return void 0!==z.handler&&z.handler.isDynamic(B.settings)?[].concat((0,A.A)(P),[z.handler.isData(B.settings)&&-1!==_.findIndex(function(Y){return Y===B.name})?(0,Re.of)([]):(0,bn.p)([s.staticPanes(u),s.dataPanes(u)]).pipe((0,We.n)(function(Y){var de=(0,k.A)(Y,2),ge=de[0],be=de[1];return z.handler.buildDynamicItems(B.settings,new Map([].concat((0,A.A)(void 0===B.metadata?[]:B.metadata),[["tag",ur()],["panes",ge],["dataPanes",be],["contexts",void 0!==l?l:[]]]))).pipe((0,fe.T)(function(me){return s.panelHandler.fromPanes(me)}),(0,fe.T)(function(me){return s.panelHandler.wrapPanel(me).panes}),(0,pn.s)(1))}))]):""===B.name||-1===_.findIndex(function(Y){return Y===B.name})?[].concat((0,A.A)(P),[(0,Re.of)([new Dr((0,g.A)((0,g.A)({},B),{},{contexts:[].concat((0,A.A)(l),(0,A.A)(B.contexts?B.contexts:[]))}))]).pipe((0,We.n)(function(Y){return er(function(){return null!=Y[0].rule&&""!==Y[0].rule.condition},s.rulesResolver.evaluate(Y[0].rule,[].concat((0,A.A)(l),(0,A.A)(B.contexts?B.contexts:[]))).pipe((0,fe.T)(function(de){return de?Y:[]})),(0,Re.of)(Y))}))]):(0,A.A)(P)},[])).pipe((0,We.n)(function(P){return er(function(){return 0===P.reduce(function(B,z){return[].concat((0,A.A)(B),(0,A.A)(z))},[]).length},(0,Re.of)([P,[]]),(0,bn.p)((0,A.A)(P.reduce(function(B,z){return[].concat((0,A.A)(B),(0,A.A)(z.map(function(Y){return Y.contexts&&0!==Y.contexts.length?s.inlineContextResolver.resolveAll(Y.contexts).pipe((0,pn.s)(1)):(0,Re.of)({}).pipe((0,pn.s)(1))})))},[]))).pipe((0,fe.T)(function(B){return[P,B.map(function(z){return(0,g.A)((0,g.A)({},z),d)})]})))}),(0,fe.T)(function(P){var B=(0,k.A)(P,2),Y=B[1],de=[],ge=[];return B[0].forEach(function(be,me){de=[].concat((0,A.A)(void 0===de?[]:de),(0,A.A)(be.map(function(Pe,qe){return new Dr((0,g.A)((0,g.A)({},Pe),{},{resolvedContext:Y[de.length+qe]}))}))),ge=[].concat((0,A.A)(ge&&[]),(0,A.A)(be.map(function(){return me})))}),{resolvedPanes:de,originMappings:ge}}))}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(La),a.\u0275\u0275inject(ay),a.\u0275\u0275inject(zl),a.\u0275\u0275inject(Xt.ContentPluginManager))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Rf=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.name=e.id,e.title=n.title,e.editorComponent=n.editorComponent?n.editorComponent:void 0,e.renderComponent=n.renderComponent?n.renderComponent:void 0,n.handler&&(e.handler=n.handler)),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),Mf=function(){var o,r=function(n){function e(){var t;return(0,v.A)(this,e),(t=(0,w.A)(this,e)).pageChange$=new T.B,t.pageSize=20,t.dataStream=new M.t([]),t.subscription=new gx.yU,t.lastPage=0,t.paneItems=[],t}return(0,F.A)(e,n),(0,m.A)(e,[{key:"panes",set:function(s){this.paneItems=[].concat((0,A.A)(this.paneItems),(0,A.A)(s)),this.dataStream.next(this.paneItems)}},{key:"connect",value:function(s){var u=this;return this.subscription.add(s.viewChange.subscribe(function(l){var d=Math.ceil((l.end+1)/u.pageSize);d>u.lastPage&&(u.lastPage=d,u.pageChange$.next(d))})),this.dataStream}},{key:"disconnect",value:function(s){this.subscription.unsubscribe()}}])}(Cj.DataSource);return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Yl=gc(uS),Nf=function(r){return wn(Yl,function(n){var e=n.dataTags.findIndex(function(t){return t===r});if(e>-1)return n.datasets[e][n.datasets[e].length-1]})},s9=wn(Yl,function(o){return o.pageInfo}),u9=wn(Yl,function(o){return o.page}),l9=wn(Yl,function(o){return o.selectionPath}),hS=wn(Yl,function(o){return o.formNames}),c9=wn(Yl,function(o){return o.forms}),d9=wn(hS,c9,function(o,r,n){var e=o.findIndex(function(t){return t===n.name});if(e>-1)return r[e]}),mi=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.store=e,this.getPageInfo$=this.store.pipe(wr(s9)),this.getPage$=this.store.pipe(wr(u9)),this.getSelectionPath$=this.store.pipe(wr(l9)),this.getFormNames$=this.store.pipe(wr(hS)),this.getForm$=function(s){return t.store.pipe(wr(d9,{name:s}))}},[{key:"loadRestData",value:function(t,s){this.store.dispatch(aS({tag:t,rest:s}))}},{key:"setPageInfo",value:function(t){this.store.dispatch(hy({info:t}))}},{key:"setPage",value:function(t){this.store.dispatch(vy({page:t}))}},{key:"setSelectionPath",value:function(t){this.store.dispatch(sS({path:t}))}},{key:"setForm",value:function(t,s){this.store.dispatch(oS({name:t,form:s}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),cd=(0,m.A)(function o(r){(0,v.A)(this,o),this.readUserIds=[],r&&(this.title=r.title,this.name=r.name,this.path=r.path,this.cssFile=r.cssFile,r.readUserIds&&(this.readUserIds=r.readUserIds.map(function(n){return n})))}),vS=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.label=r.label,this.name=r.name)}),yS=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.label=r.label,this.name=r.name)}),vs=(0,m.A)(function o(r){(0,v.A)(this,o),this.panels=[],r&&(this.id=r.id,this.name=r.name,this.title=r.title,this.derivativeId=r.derivativeId,r.panels&&(this.panels=r.panels.map(function(n){return new p9(n)})))}),p9=(0,m.A)(function o(r){(0,v.A)(this,o),this.panes=[],r&&(this.name=r.name,this.label=r.label,r.panes&&(this.panes=r.panes.map(function(n){return new f9(n)})))}),f9=(0,m.A)(function o(r){(0,v.A)(this,o),this.settings=[],r&&(this.name=r.name,this.label=r.label,this.contentPlugin=r.contentPlugin,r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})))}),by=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.name=r.name,this.field=r.field)}),m9=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){var l=this;(0,v.A)(this,n),this.pageBuilderFacade=e,this.panelStateArchitectService=t,this.attributeSerializer=s,this.selectEntities=function(d){return d.entities},this.selectById=function(d){var p=d.id;return wn(l.selectEntities,function(h){return h[p]?h[p]:void 0})},this.panelPageStateService=u.getEntityCollectionService("PanelPageState")},[{key:"mergeState",value:function(t){var s=this,l=t.settings,d=t.plugin,p=t.ancestory;return(0,Re.of)(t.state).pipe((0,We.n)(function(h){return s.pageBuilderFacade.getPageInfo$.pipe((0,fe.T)(function(_){return[h,_]}))}),(0,We.n)(function(h){var _=(0,k.A)(h,2),S=_[0],P=_[1];return d.handler.stateDefinition(l).pipe((0,fe.T)(function(B){return[S,P,B]}))}),(0,We.n)(function(h){var _=(0,k.A)(h,3),S=_[0],P=_[1],B=_[2];return s.panelPageStateService.collection$.pipe(wr(s.selectById({id:P.id})),(0,fe.T)(function(z){return[S,new ho(z||{id:P.id,panels:[]}),B]}),(0,pn.s)(1))}),(0,fe.T)(function(h){var _=(0,k.A)(h,3),S=_[0],P=_[1],B=_[2];s.panelStateArchitectService.buildToAncestorySpec({panelPageState:P,ancestory:(0,A.A)(p)});var z="$."+p.map(function(de,ge){return"".concat((ge+1)%2==0?"panes":(0===ge?"":"nestedPage.")+"panels","[").concat(de,"]")}).join(".");return[S,P,B,(0,jo.JSONPath)({path:z,json:P})[0]]}),(0,X.M)(function(h){var _=(0,k.A)(h,4),S=_[0],B=_[2],z=_[3],Y=z.state?z.state.root?s.attributeSerializer.deserialize(z.state).root:s.attributeSerializer.deserialize(z.state):{},de=sd(Y&&0!==Object.keys(Y).length?Y:B,S);z.state=s.attributeSerializer.serialize(de,"root")}),(0,fe.T)(function(h){var _=(0,k.A)(h,4);return{paneState:_[3],pageState:_[1]}}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(mi),a.\u0275\u0275inject(o9),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(_r))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),_S=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"serializeForm",value:function(t){for(var s=t.panels.length,u={},l=0;l<s;l++){for(var d=t.panels[l].panes.length,p=new Map,h=0;h<d;h++){var _=this.serializeFormPane(t.panels[l].panes[h]);if(t.panels[l].panes[h].name&&null!==t.panels[l].panes[h].name&&(u[t.panels[l].panes[h].name]||t.panels[l].panes[h].name===Zx(t.panels[l].panes[h].name))){p.has(t.panels[l].panes[h].name)||p.set(t.panels[l].panes[h].name,typeof u[t.panels[l].panes[h].name]<"u"?[u[t.panels[l].panes[h].name]]:[]);var S=p.get(t.panels[l].panes[h].name);p.set(t.panels[l].panes[h].name,[].concat((0,A.A)(S),[_]))}else u=t.panels[l].panes[h].name&&""!==t.panels[l].panes[h].name?(0,g.A)((0,g.A)({},u),{},(0,c.A)({},t.panels[l].panes[h].name,_)):(0,g.A)((0,g.A)({},u),_)}Array.from(p).forEach(function(P){var B=(0,k.A)(P,2);return u[B[0]]=B[1]})}return u}},{key:"serializeFormPane",value:function(t){if("panel"===t.contentPlugin)return this.serializeForm(new vs(this.attributeSerializer.deserializeAsObject(t.settings,!0)));var s=this.attributeSerializer.deserializeAsObject(t.settings,!0);return void 0!==s?s.value:void 0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Ay=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"makeJsonNode",value:function(){return{attributes:{},children:{}}}},{key:"reduceCss",value:function(t,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t&&t.children?Object.keys(t.children).filter(function(l){return u?0===l.indexOf(s):0!==l.indexOf(s)}).reduce(function(l,d){return(0,g.A)((0,g.A)({},l),{},{children:(0,g.A)((0,g.A)({},l.children),{},(0,c.A)({},u?d.substr(d.indexOf(s)+s.length).trim():d,t.children[d]))})},this.makeJsonNode()):this.makeJsonNode()}},{key:"reduceSelector",value:function(t,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t?Object.keys(t).filter(function(l){return u?0===l.indexOf(s):0!==l.indexOf(s)}).reduce(function(l,d){return(0,g.A)((0,g.A)({},l),{},(0,c.A)({},u?d.substr(d.indexOf(s)+s.length).trim():d,t[d]))},{}):{}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Cy=[[["ngx-dropzone-label"]]],xy=["ngx-dropzone-label"];function g9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",1),a.\u0275\u0275listener("click",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s._remove(t))}),a.\u0275\u0275elementEnd()}}var h9=["fileInput"],v9=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],y9=["ngx-dropzone-preview","*","ngx-dropzone-label"];function _9(o,r){1&o&&a.\u0275\u0275projection(0,2,["*ngIf","!_hasPreviews"])}function b9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",2),a.\u0275\u0275listener("click",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s._remove(t))}),a.\u0275\u0275elementEnd()}}function A9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"video",2),a.\u0275\u0275listener("click",function(s){return a.\u0275\u0275restoreView(n),a.\u0275\u0275resetView(s.stopPropagation())}),a.\u0275\u0275element(1,"source",3),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("src",e.sanitizedVideoSrc,a.\u0275\u0275sanitizeUrl)}}function C9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",4),a.\u0275\u0275listener("click",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s._remove(t))}),a.\u0275\u0275elementEnd()}}var bS=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["ngx-dropzone-label"]],standalone:!1}),o}();function Jl(o){return null!=o&&"false"!=="".concat(o)}var Sy=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-remove-badge"]],standalone:!1,decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(n,e){1&n&&(a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(0,"svg"),a.\u0275\u0275element(1,"line",0)(2,"line",1),a.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),o}(),Ey=function(o){return o[o.BACKSPACE=8]="BACKSPACE",o[o.DELETE=46]="DELETE",o}(Ey||{}),Zl=function(){var o=function(){return(0,m.A)(function r(n){(0,v.A)(this,r),this.sanitizer=n,this._removable=!1,this.removed=new a.EventEmitter,this.tabIndex=0},[{key:"file",get:function(){return this._file},set:function(e){this._file=e}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Jl(e)}},{key:"keyEvent",value:function(e){switch(e.keyCode){case Ey.BACKSPACE:case Ey.DELETE:this.remove()}}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:(n=(0,Rt.A)((0,He.A)().m(function t(){var s=this;return(0,He.A)().w(function(u){for(;;)if(0===u.n)return u.a(2,new Promise(function(l,d){var p=new FileReader;if(p.onload=function(h){l(h.target.result)},p.onerror=function(h){console.error("FileReader failed on file ".concat(s.file.name,".")),d(h)},!s.file)return d("No file to read. Please provide a file using the [file] Input property.");p.readAsDataURL(s.file)}))},t)})),function e(){return n.apply(this,arguments)})}]);var n}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(I.DomSanitizer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(n,e){1&n&&a.\u0275\u0275listener("keyup",function(s){return e.keyEvent(s)}),2&n&&(a.\u0275\u0275domProperty("tabIndex",e.tabIndex),a.\u0275\u0275styleMap(e.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},standalone:!1,ngContentSelectors:xy,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(a.\u0275\u0275projectionDef(Cy),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,g9,1,0,"ngx-dropzone-remove-badge",0)),2&n&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.removable))},dependencies:[Sy,y.NgIf],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),o}(),AS=function(){var o=function(){return(0,m.A)(function r(){(0,v.A)(this,r)},[{key:"parseFileList",value:function(e,t,s,u){for(var l=[],d=[],p=0;p<e.length;p++){var h=e.item(p);this.isAccepted(h,t)?s&&h.size>s?this.rejectFile(d,h,"size"):!u&&l.length>=1?this.rejectFile(d,h,"no_multiple"):l.push(h):this.rejectFile(d,h,"type")}return{addedFiles:l,rejectedFiles:d}}},{key:"isAccepted",value:function(e,t){if("*"===t)return!0;var s=t.split(",").map(function(p){return p.toLowerCase().trim()}),u=e.type.toLowerCase(),l=e.name.toLowerCase();return!!s.find(function(p){return p.endsWith("/*")?u.split("/")[0]===p.split("/")[0]:p.startsWith(".")?l.endsWith(p):p==u})}},{key:"rejectFile",value:function(e,t,s){var u=t;u.reason=s,e.push(u)}}])}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Vf=function(){var o=function(){return(0,m.A)(function r(n){(0,v.A)(this,r),this.service=n,this.change=new a.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1},[{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Jl(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Jl(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function x9(o){return isNaN(parseFloat(o))||isNaN(Number(o))?null:Number(o)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=Jl(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=Jl(e)}},{key:"processDirectoryDrop",get:function(){return this._processDirectoryDrop},set:function(e){this._processDirectoryDrop=Jl(e)}},{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){var t=this;if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){var s=e.dataTransfer.items;if(s.length>0){for(var u=[],l=[],d=0;d<s.length;d++){var p=s[d].webkitGetAsEntry();p.isFile?u.push(e.dataTransfer.files[d]):p.isDirectory&&l.push(p)}var h=new DataTransfer;if(u.forEach(function(z){h.items.add(z)}),!l.length&&h.items.length&&this.handleFileDrop(h.files),l.length){var P,_=[],S=(0,N.A)(l);try{for(S.s();!(P=S.n()).done;)_.push(this.extractFilesFromDirectory(P.value))}catch(z){S.e(z)}finally{S.f()}Promise.all(_).then(function(z){z.reduce(function(Y,de){return[].concat((0,A.A)(Y),(0,A.A)(de))}).forEach(function(Y){h.items.add(Y)}),t.handleFileDrop(h.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}},{key:"extractFilesFromDirectory",value:function(e){function t(u){return s.apply(this,arguments)}function s(){return(s=(0,Rt.A)((0,He.A)().m(function u(l){return(0,He.A)().w(function(p){for(;;)switch(p.p=p.n){case 0:return p.p=0,p.n=1,new Promise(function(h,_){return l.file(h,_)});case 1:return p.a(2,p.v);case 2:p.p=2,console.log("Error converting a fileEntry to a File: ",p.v);case 3:return p.a(2)}},u,null,[[0,2]])}))).apply(this,arguments)}return new Promise(function(u,l){var d=[],p=e.createReader(),h=function(){p.readEntries(function(){var S=(0,Rt.A)((0,He.A)().m(function P(B){var z,Y,de,ge;return(0,He.A)().w(function(Pe){for(;;)switch(Pe.p=Pe.n){case 0:if(B.length){Pe.n=1;break}u(d),Pe.n=10;break;case 1:z=B.filter(function(qe){return qe.isFile}),Y=(0,N.A)(z),Pe.p=2,Y.s();case 3:if((de=Y.n()).done){Pe.n=6;break}return ge=de.value,Pe.n=4,t(ge);case 4:d.push(Pe.v);case 5:Pe.n=3;break;case 6:Pe.n=8;break;case 7:Pe.p=7,Y.e(Pe.v);case 8:return Pe.p=8,Y.f(),Pe.f(8);case 9:h();case 10:return Pe.a(2)}},P,null,[[2,7,8,9]])}));return function(P){return S.apply(this,arguments)}}())};h()})}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(AS,2))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(n,e,t){var s;1&n&&a.\u0275\u0275contentQuery(t,Zl,5),2&n&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(e._previewChildren=s)},viewQuery:function(n,e){var t;1&n&&a.\u0275\u0275viewQuery(h9,7),2&n&&a.\u0275\u0275queryRefresh(t=a.\u0275\u0275loadQuery())&&(e._fileInput=t.first)},hostVars:8,hostBindings:function(n,e){1&n&&a.\u0275\u0275listener("click",function(){return e._onClick()})("dragover",function(s){return e._onDragOver(s)})("dragleave",function(){return e._onDragLeave()})("drop",function(s){return e._onDrop(s)}),2&n&&a.\u0275\u0275classProp("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)("ngx-dz-hovered",e._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([AS])],ngContentSelectors:y9,decls:5,vars:8,consts:[["fileInput",""],["type","file",3,"change","id","multiple","accept","disabled"],[4,"ngIf"]],template:function(n,e){if(1&n){var t=a.\u0275\u0275getCurrentView();a.\u0275\u0275projectionDef(v9),a.\u0275\u0275elementStart(0,"input",1,0),a.\u0275\u0275listener("change",function(u){return a.\u0275\u0275restoreView(t),a.\u0275\u0275resetView(e._onFilesSelected(u))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(2,_9,1,0,"ng-content",2),a.\u0275\u0275projection(3),a.\u0275\u0275projection(4,1)}2&n&&(a.\u0275\u0275property("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),a.\u0275\u0275attribute("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!e._hasPreviews))},dependencies:[y.NgIf],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),o}(),CS=function(){var o=function(r){function n(e){var t;return(0,v.A)(this,n),(t=(0,w.A)(this,n,[e])).defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",t.imageSrc=t.sanitizer.bypassSecurityTrustUrl(t.defaultImgLoading),t}return(0,F.A)(n,r),(0,m.A)(n,[{key:"file",get:function(){return this._file},set:function(t){this._file=t,this.renderImage()}},{key:"ngOnInit",value:function(){this.renderImage()}},{key:"renderImage",value:function(){var t=this;this.readFile().then(function(s){return setTimeout(function(){return t.imageSrc=s})}).catch(function(s){return console.error(s)})}}])}(Zl);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(I.DomSanitizer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:Zl,useExisting:o}]),a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:xy,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(a.\u0275\u0275projectionDef(Cy),a.\u0275\u0275element(0,"img",0),a.\u0275\u0275projection(1),a.\u0275\u0275template(2,b9,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(a.\u0275\u0275property("src",e.imageSrc,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.removable))},dependencies:[Sy,y.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o}(),S9=function(){var o=function(r){function n(e){return(0,v.A)(this,n),(0,w.A)(this,n,[e])}return(0,F.A)(n,r),(0,m.A)(n,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}])}(Zl);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(I.DomSanitizer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-video-preview"]],standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:Zl,useExisting:o}]),a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:xy,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(n,e){1&n&&(a.\u0275\u0275projectionDef(Cy),a.\u0275\u0275template(0,A9,2,1,"video",0),a.\u0275\u0275projection(1),a.\u0275\u0275template(2,C9,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(a.\u0275\u0275property("ngIf",e.sanitizedVideoSrc),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.removable))},dependencies:[Sy,y.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o}(),Of=function(){var o=(0,m.A)(function r(){(0,v.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[[y.CommonModule]]}),o}(),E9=["treeContainer"],D9=function(r,n){return{ruleset:r,invalid:n}};function w9(o,r){if(1&o&&a.\u0275\u0275element(0,"i",12),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",n.getClassNames("arrowIcon"))}}function F9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function k9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,F9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getArrowIconContext())}}function P9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.toggleCollapse())}),a.\u0275\u0275template(1,k9,2,2,"ng-container",14),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(),t=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngClass",e.getClassNames("arrowIconButton",e.data.collapsed?"collapsed":"")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.getArrowIconTemplate())("ngIfElse",t)}}function I9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function T9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",12),a.\u0275\u0275template(2,I9,1,0,"ng-container",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getButtonGroupContext())}}function R9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(s.addRuleSet())}),a.\u0275\u0275element(1,"i",12),a.\u0275\u0275text(2," Ruleset "),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("addIcon"))}}function M9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(s.removeRuleSet())}),a.\u0275\u0275element(2,"i",12),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&o){var e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function N9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.addRule())}),a.\u0275\u0275element(2,"i",12),a.\u0275\u0275text(3," Rule "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,R9,3,3,"button",20)(5,M9,3,3,"ng-container",21),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("addIcon")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.allowRuleset),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!!e.parentValue&&e.allowRuleset)}}function V9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function O9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,V9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getSwitchGroupContext())}}function B9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"div",12)(2,"input",22,4),a.\u0275\u0275twoWayListener("ngModelChange",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275twoWayBindingSet(u.data.condition,s)||(u.data.condition=s),a.\u0275\u0275resetView(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"label",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275reference(3),u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.changeCondition(s.value))}),a.\u0275\u0275text(5,"AND"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div",12)(7,"input",23,5),a.\u0275\u0275twoWayListener("ngModelChange",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275twoWayBindingSet(u.data.condition,s)||(u.data.condition=s),a.\u0275\u0275resetView(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"label",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275reference(8),u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.changeCondition(s.value))}),a.\u0275\u0275text(10,"OR"),a.\u0275\u0275elementEnd()()()}if(2&o){var e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",e.getClassNames("switchGroup","transition")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("switchRadio")),a.\u0275\u0275twoWayProperty("ngModel",e.data.condition),a.\u0275\u0275property("disabled",e.disabled),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",e.getClassNames("switchLabel")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("switchRadio")),a.\u0275\u0275twoWayProperty("ngModel",e.data.condition),a.\u0275\u0275property("disabled",e.disabled),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",e.getClassNames("switchLabel"))}}function L9(o,r){if(1&o&&a.\u0275\u0275template(0,B9,11,11,"div",16),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",n.data)}}function j9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function U9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",12),a.\u0275\u0275template(2,j9,1,0,"ng-container",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getRemoveButtonContext(e))}}function G9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext(3).$implicit,u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.removeRule(s,u.data))}),a.\u0275\u0275element(2,"i",12),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(5);a.\u0275\u0275property("ngClass",e.getClassNames("removeButtonSize","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function z9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function $9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,z9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getEntityContext(e))}}function H9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",27),a.\u0275\u0275template(1,$9,2,2,"ng-container",14),a.\u0275\u0275elementEnd()),2&o){a.\u0275\u0275nextContext();var n=a.\u0275\u0275reference(6),e=a.\u0275\u0275nextContext(4);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.getEntityTemplate())("ngIfElse",n)}}function K9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function q9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275twoWayBindingSet(l.entity,u)||(l.entity=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3),d=l.$implicit,p=l.index,h=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(h.changeEntity(u,d,p,h.data))}),a.\u0275\u0275template(2,K9,2,2,"option",29),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("entityControlSize")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("entityControl")),a.\u0275\u0275twoWayProperty("ngModel",e.entity),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.entities)}}function W9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function Q9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,W9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getFieldContext(e))}}function X9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function Y9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275twoWayBindingSet(l.field,u)||(l.field=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit,d=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(d.changeField(u,l))}),a.\u0275\u0275template(2,X9,2,2,"option",29),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("fieldControlSize")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("fieldControl")),a.\u0275\u0275twoWayProperty("ngModel",e.field),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getFields(e.entity))}}function J9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function Z9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,J9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getOperatorContext(e))}}function e7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n," ")}}function t7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275twoWayBindingSet(l.operator,u)||(l.operator=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(3).$implicit,l=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(l.changeOperator(u))}),a.\u0275\u0275template(2,e7,2,2,"option",29),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("operatorControlSize")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("operatorControl")),a.\u0275\u0275twoWayProperty("ngModel",e.operator),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getOperators(e.field))}}function n7(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function r7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,n7,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getInputContext(e))}}function a7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",39),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function o7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",40),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function s7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",41),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function u7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",42),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function l7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function c7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275template(1,l7,2,2,"option",29),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getOptions(e.field))}}function d7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function p7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"select",43),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275template(2,d7,2,2,"option",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getOptions(e.field))}}function f7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",44),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function m7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",31),a.\u0275\u0275template(1,a7,1,3,"input",32)(2,o7,1,3,"input",33)(3,s7,1,3,"input",34)(4,u7,1,3,"input",35)(5,c7,2,4,"select",36)(6,p7,3,4,"ng-container",37)(7,f7,1,3,"input",38),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(3).$implicit,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",e.getClassNames("inputControlSize"))("ngSwitch",e.getInputType(n.field,n.operator)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","string"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","number"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","date"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","time"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","category"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","multiselect"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","boolean")}}function g7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,U9,3,3,"ng-container",14)(2,G9,3,4,"ng-template",null,7,a.\u0275\u0275templateRefExtractor)(4,H9,2,2,"div",26)(5,q9,3,5,"ng-template",null,8,a.\u0275\u0275templateRefExtractor)(7,Q9,2,2,"ng-container",14)(8,Y9,3,5,"ng-template",null,9,a.\u0275\u0275templateRefExtractor)(10,Z9,2,2,"ng-container",14)(11,t7,3,5,"ng-template",null,10,a.\u0275\u0275templateRefExtractor)(13,r7,2,2,"ng-container",14)(14,m7,8,9,"ng-template",null,11,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275reference(3),e=a.\u0275\u0275reference(9),t=a.\u0275\u0275reference(12),s=a.\u0275\u0275reference(15),u=a.\u0275\u0275nextContext(2).$implicit,l=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",l.getRemoveButtonTemplate())("ngIfElse",n),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",null==l.entities?null:l.entities.length),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",l.getFieldTemplate())("ngIfElse",e),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",l.getOperatorTemplate())("ngIfElse",t),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",l.findTemplateForRule(u))("ngIfElse",s)}}function h7(o,r){if(1&o&&a.\u0275\u0275element(0,"query-builder",45),2&o){var n=a.\u0275\u0275nextContext(2).$implicit,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("data",n)("disabled",e.disabled)("parentTouchedCallback",e.parentTouchedCallback||e.onTouchedCallback)("parentChangeCallback",e.parentChangeCallback||e.onChangeCallback)("parentInputTemplates",e.parentInputTemplates||e.inputTemplates)("parentOperatorTemplate",e.parentOperatorTemplate||e.operatorTemplate)("parentFieldTemplate",e.parentFieldTemplate||e.fieldTemplate)("parentEntityTemplate",e.parentEntityTemplate||e.entityTemplate)("parentSwitchGroupTemplate",e.parentSwitchGroupTemplate||e.switchGroupTemplate)("parentButtonGroupTemplate",e.parentButtonGroupTemplate||e.buttonGroupTemplate)("parentRemoveButtonTemplate",e.parentRemoveButtonTemplate||e.removeButtonTemplate)("parentEmptyWarningTemplate",e.parentEmptyWarningTemplate||e.emptyWarningTemplate)("parentArrowIconTemplate",e.parentArrowIconTemplate||e.arrowIconTemplate)("parentValue",e.data)("classNames",e.classNames)("config",e.config)("allowRuleset",e.allowRuleset)("allowCollapse",e.allowCollapse)("emptyMessage",e.emptyMessage)("operatorMap",e.operatorMap)}}function v7(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function y7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,v7,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext().ngIf,e=a.\u0275\u0275nextContext(4);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getEmptyWarningContext())}}function _7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,y7,2,2,"ng-container",21),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.invalid)}}function b7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"p",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(5);a.\u0275\u0275property("ngClass",n.getClassNames("emptyWarning")),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.emptyMessage," ")}}function A7(o,r){if(1&o&&a.\u0275\u0275template(0,b7,2,2,"p",16),2&o){var n=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275property("ngIf",n.invalid)}}function C7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"li",12),a.\u0275\u0275template(2,g7,16,9,"ng-container",21)(3,h7,1,20,"query-builder",25)(4,_7,2,1,"ng-container",14)(5,A7,1,1,"ng-template",null,6,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275reference(6),t=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getQueryItemClassName(n)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.ruleset),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.ruleset),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.getEmptyWarningTemplate())("ngIfElse",e)}}function x7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,C7,7,5,"ng-container",21),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",a.\u0275\u0275pureFunction2(1,D9,!!n.rules,!e.config.allowEmptyRulesets&&n.rules&&0===n.rules.length))}}function S7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"ul",12),a.\u0275\u0275template(1,x7,2,4,"ng-container",24),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",n.getClassNames("tree")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",n.data.rules)}}var E7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryOperator",""]],standalone:!1}),r}(),D7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryField",""]],standalone:!1}),r}(),w7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryEntity",""]],standalone:!1}),r}(),F7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","querySwitchGroup",""]],standalone:!1}),r}(),k7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryButtonGroup",""]],standalone:!1}),r}(),P7=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e},[{key:"queryInputType",get:function(){return this._type},set:function(t){t&&(this._type=t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"},standalone:!1}),r}(),I7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryRemoveButton",""]],standalone:!1}),r}(),T7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryEmptyWarning",""]],standalone:!1}),r}(),R7=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryArrowIcon",""]],standalone:!1}),r}(),M7={provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return Dy}),multi:!0},N7={provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return Dy}),multi:!0},Dy=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.changeDetectorRef=e,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.disabled=!1,this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.classNames={},this.operatorMap={},this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.operatorsCache={},this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return t.disabled},this.fields=[],this.filterFields=[],this.entities=[]},[{key:"condition",get:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.condition}},{key:"ngOnChanges",value:function(t){var s=this.config,u=typeof s;if("object"!==u)throw new Error("Expected 'config' must be a valid object, got ".concat(u," instead."));this.fields=Object.keys(s.fields).map(function(l){var d=s.fields[l];return d.value=d.value||l,d}),this.entities=s.entities?Object.keys(s.entities).map(function(l){var d=s.entities?s.entities[l]:[];return d.value=d.value||l,d}):[],this.operatorsCache={}}},{key:"validate",value:function(t){var s={},u=[],l=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(s.empty="Empty rulesets are not allowed.",l=!0),this.validateRulesInRuleset(this.data,u),u.length&&(s.rules=u,l=!0),l?s:null}},{key:"value",get:function(){return this.data},set:function(t){this.data=t||{condition:"and",rules:[]},this.handleDataChange()}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){var s=this;this.onChangeCallback=function(){return t(s.data)}}},{key:"registerOnTouched",value:function(t){var s=this;this.onTouchedCallback=function(){return t(s.data)}}},{key:"setDisabledState",value:function(t){this.disabled=t,this.changeDetectorRef.detectChanges()}},{key:"findTemplateForRule",value:function(t){var s=this.getInputType(t.field,t.operator);if(s){var u=this.findQueryInput(s);return u?u.template:(-1===this.defaultTemplateTypes.indexOf(s)&&console.warn("Could not find template for field with type: ".concat(s)),null)}}},{key:"findQueryInput",value:function(t){return(this.parentInputTemplates||this.inputTemplates||[]).find(function(u){return u.queryInputType===t})}},{key:"getOperators",value:function(t){if(this.operatorsCache[t])return this.operatorsCache[t];var s=this.defaultEmptyList,u=this.config.fields[t];if(this.config.getOperators)return this.config.getOperators(t,u);var l=u.type;return u&&u.operators?s=u.operators:l?(0===(s=this.operatorMap&&this.operatorMap[l]||this.defaultOperatorMap[l]||this.defaultEmptyList).length&&console.warn("No operators found for field '".concat(t,"' with type ").concat(u.type,". ")+"Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),u.nullable&&(s=s.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '".concat(t,"'")),this.operatorsCache[t]=s,s}},{key:"getFields",value:function(t){var s;return null!==(s=this.entities)&&void 0!==s&&s.length&&t?this.fields.filter(function(u){return u&&u.entity===t}):this.fields}},{key:"getInputType",value:function(t,s){if(this.config.getInputType)return this.config.getInputType(t,s);if(!this.config.fields[t])throw new Error("No configuration for field '".concat(t,"' could be found! Please add it to config.fields."));var u=this.config.fields[t].type;switch(s){case"is null":case"is not null":return null;case"in":case"not in":return"category"===u||"boolean"===u?"multiselect":u;default:return u}}},{key:"getOptions",value:function(t){return this.config.getOptions?this.config.getOptions(t):this.config.fields[t].options||this.defaultEmptyList}},{key:"getClassNames",value:function(){for(var t=this.classNames?this.classNames:this.defaultClassNames,s=this.defaultClassNames,u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];var p=l.map(function(h){return t[h]||s[h]}).filter(function(h){return!!h});return p.length?p.join(" "):[]}},{key:"getDefaultField",value:function(t){if(t){if(void 0!==t.defaultField)return this.getDefaultValue(t.defaultField);var s=this.fields.filter(function(u){return u&&u.entity===t.value});return s&&s.length?s[0]:(console.warn("No fields found for entity '".concat(t.name,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null}},{key:"getDefaultOperator",value:function(t){if(t&&void 0!==t.defaultOperator)return this.getDefaultValue(t.defaultOperator);var s=this.getOperators(t.value);return s&&s.length?s[0]:(console.warn("No operators found for field '".concat(t.value,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}},{key:"addRule",value:function(t){if(!this.disabled){if(t=t||this.data,this.config.addRule)this.config.addRule(t);else{var s=this.fields[0];t.rules=t.rules.concat([{field:s.value,operator:this.getDefaultOperator(s),value:this.getDefaultValue(s.defaultValue),entity:s.entity}])}this.handleTouched(),this.handleDataChange()}}},{key:"removeRule",value:function(t,s){this.disabled||(s=s||this.data,this.config.removeRule?this.config.removeRule(t,s):s.rules=s.rules.filter(function(u){return u!==t}),this.inputContextCache.delete(t),this.operatorContextCache.delete(t),this.fieldContextCache.delete(t),this.entityContextCache.delete(t),this.removeButtonContextCache.delete(t),this.handleTouched(),this.handleDataChange())}},{key:"addRuleSet",value:function(t){this.disabled||(t=t||this.data,this.config.addRuleSet?this.config.addRuleSet(t):t.rules=t.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())}},{key:"removeRuleSet",value:function(t,s){this.disabled||(t=t||this.data,s=s||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(t,s):s&&(s.rules=s.rules.filter(function(u){return u!==t})),this.handleTouched(),this.handleDataChange())}},{key:"transitionEnd",value:function(t){this.treeContainer.nativeElement.style.maxHeight=null}},{key:"toggleCollapse",value:function(){var t=this;this.computedTreeContainerHeight(),setTimeout(function(){t.data.collapsed=!t.data.collapsed},100)}},{key:"computedTreeContainerHeight",value:function(){var t=this.treeContainer.nativeElement;t&&t.firstElementChild&&(t.style.maxHeight=t.firstElementChild.clientHeight+8+"px")}},{key:"changeCondition",value:function(t){this.disabled||(this.data.condition=t,this.handleTouched(),this.handleDataChange())}},{key:"changeOperator",value:function(t){this.disabled||(t.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(t.operator,t.value,t):this.coerceValueForOperator(t.operator,t.value,t),this.handleTouched(),this.handleDataChange())}},{key:"coerceValueForOperator",value:function(t,s,u){return"multiselect"!==this.getInputType(u.field,t)||Array.isArray(s)?s:[s]}},{key:"changeInput",value:function(){this.disabled||(this.handleTouched(),this.handleDataChange())}},{key:"changeField",value:function(t,s){if(!this.disabled){var u=this.inputContextCache.get(s),d=this.config.fields[t],p=this.calculateFieldChangeValue(u&&u.field,d,s.value);void 0!==p?s.value=p:delete s.value,s.operator=this.getDefaultOperator(d),this.inputContextCache.delete(s),this.operatorContextCache.delete(s),this.fieldContextCache.delete(s),this.entityContextCache.delete(s),this.getInputContext(s),this.getFieldContext(s),this.getOperatorContext(s),this.getEntityContext(s),this.handleTouched(),this.handleDataChange()}}},{key:"changeEntity",value:function(t,s,u,l){if(!this.disabled){var d=u,p=l,h=this.entities.find(function(S){return S.value===t}),_=this.getDefaultField(h);p||(d=(p=this.data).rules.findIndex(function(S){return S===s})),s.field=_.value,p.rules[d]=s,_?this.changeField(_.value,s):(this.handleTouched(),this.handleDataChange())}}},{key:"getDefaultValue",value:function(t){return"function"==typeof t?t():t}},{key:"getOperatorTemplate",value:function(){var t=this.parentOperatorTemplate||this.operatorTemplate;return t?t.template:null}},{key:"getFieldTemplate",value:function(){var t=this.parentFieldTemplate||this.fieldTemplate;return t?t.template:null}},{key:"getEntityTemplate",value:function(){var t=this.parentEntityTemplate||this.entityTemplate;return t?t.template:null}},{key:"getArrowIconTemplate",value:function(){var t=this.parentArrowIconTemplate||this.arrowIconTemplate;return t?t.template:null}},{key:"getButtonGroupTemplate",value:function(){var t=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return t?t.template:null}},{key:"getSwitchGroupTemplate",value:function(){var t=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return t?t.template:null}},{key:"getRemoveButtonTemplate",value:function(){var t=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return t?t.template:null}},{key:"getEmptyWarningTemplate",value:function(){var t=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return t?t.template:null}},{key:"getQueryItemClassName",value:function(t){var s=this.getClassNames("row","connector","transition");return s+=" "+this.getClassNames(t.ruleset?"ruleSet":"rule"),t.invalid&&(s+=" "+this.getClassNames("invalidRuleSet")),s}},{key:"getButtonGroupContext",value:function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext}},{key:"getRemoveButtonContext",value:function(t){return this.removeButtonContextCache.has(t)||this.removeButtonContextCache.set(t,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:t}),this.removeButtonContextCache.get(t)}},{key:"getFieldContext",value:function(t){return this.fieldContextCache.has(t)||this.fieldContextCache.set(t,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:t}),this.fieldContextCache.get(t)}},{key:"getEntityContext",value:function(t){return this.entityContextCache.has(t)||this.entityContextCache.set(t,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:t}),this.entityContextCache.get(t)}},{key:"getSwitchGroupContext",value:function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getArrowIconContext",value:function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getEmptyWarningContext",value:function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}}},{key:"getOperatorContext",value:function(t){return this.operatorContextCache.has(t)||this.operatorContextCache.set(t,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(t.field),$implicit:t}),this.operatorContextCache.get(t)}},{key:"getInputContext",value:function(t){return this.inputContextCache.has(t)||this.inputContextCache.set(t,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(t.field),field:this.config.fields[t.field],$implicit:t}),this.inputContextCache.get(t)}},{key:"calculateFieldChangeValue",value:function(t,s,u){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(t,s,u):this.persistValueOnFieldChange&&null!=t&&null!=s&&t.type===s.type&&-1!==this.defaultPersistValueTypes.indexOf(t.type)?u:s&&void 0!==s.defaultValue?this.getDefaultValue(s.defaultValue):void 0}},{key:"checkEmptyRuleInRuleset",value:function(t){var s=this;return!t||!t.rules||0===t.rules.length||t.rules.some(function(u){return!!u.rules&&s.checkEmptyRuleInRuleset(u)})}},{key:"validateRulesInRuleset",value:function(t,s){var u=this;t&&t.rules&&t.rules.length>0&&t.rules.forEach(function(l){if(l.rules)return u.validateRulesInRuleset(l,s);if(l.field){var d=u.config.fields[l.field];if(d&&d.validator){var p=d.validator(l,t);null!=p&&s.push(p)}}})}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()}},{key:"handleTouched",value:function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ChangeDetectorRef))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["query-builder"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,k7,5),a.\u0275\u0275contentQuery(s,F7,5),a.\u0275\u0275contentQuery(s,D7,5),a.\u0275\u0275contentQuery(s,w7,5),a.\u0275\u0275contentQuery(s,E7,5),a.\u0275\u0275contentQuery(s,I7,5),a.\u0275\u0275contentQuery(s,T7,5),a.\u0275\u0275contentQuery(s,R7,5),a.\u0275\u0275contentQuery(s,P7,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.buttonGroupTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.switchGroupTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.fieldTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.entityTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.operatorTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.removeButtonTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.emptyWarningTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.arrowIconTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.inputTemplates=u))},viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(E9,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.treeContainer=s.first)},hostVars:1,hostBindings:function(e,t){2&e&&a.\u0275\u0275attribute("query-builder-condition",t.condition)},inputs:{disabled:"disabled",data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",config:"config",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([M7,N7]),a.\u0275\u0275NgOnChangesFeature],decls:13,vars:8,consts:[["defaultArrowIcon",""],["defaultButtonGroup",""],["defaultSwitchGroup",""],["treeContainer",""],["andOption",""],["orOption",""],["defaultEmptyWarning",""],["defaultRemoveButton",""],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"transitionend","ngClass"],[3,"ngClass",4,"ngIf"],[3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"click","ngClass","disabled"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngModelChange","ngClass","ngModel","disabled"],["type","radio","value","or",3,"ngModelChange","ngClass","ngModel","disabled"],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["class","q-inline-block-display",4,"ngIf"],[1,"q-inline-block-display"],[3,"ngModelChange","ngClass","ngModel","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngModelChange","ngClass","ngModel","disabled"],["type","number",3,"ngModelChange","ngClass","ngModel","disabled"],["type","date",3,"ngModelChange","ngClass","ngModel","disabled"],["type","time",3,"ngModelChange","ngClass","ngModel","disabled"],["multiple","",3,"ngModelChange","ngClass","ngModel","disabled"],["type","checkbox",3,"ngModelChange","ngClass","ngModel","disabled"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12),a.\u0275\u0275template(1,w9,1,1,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)(3,P9,2,3,"a",13)(4,T9,3,3,"ng-container",14)(5,N9,6,6,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(7,O9,2,2,"ng-container",14)(8,L9,1,1,"ng-template",null,2,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",15,3),a.\u0275\u0275listener("transitionend",function(p){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.transitionEnd(p))}),a.\u0275\u0275template(12,S7,2,2,"ul",16),a.\u0275\u0275elementEnd()}if(2&e){var u=a.\u0275\u0275reference(6),l=a.\u0275\u0275reference(9);a.\u0275\u0275property("ngClass",t.getClassNames("switchRow")),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.allowCollapse),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.getButtonGroupTemplate())("ngIfElse",u),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.getSwitchGroupTemplate())("ngIfElse",l),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngClass",t.getClassNames("treeContainer",t.data.collapsed?"collapsed":"")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.data&&t.data.rules)}},dependencies:[y.NgClass,y.NgForOf,y.NgIf,y.NgTemplateOutlet,y.NgSwitch,y.NgSwitchCase,f.NgSelectOption,f.\u0275NgSelectMultipleOption,f.DefaultValueAccessor,f.NumberValueAccessor,f.CheckboxControlValueAccessor,f.SelectControlValueAccessor,f.SelectMultipleControlValueAccessor,f.RadioControlValueAccessor,f.NgControlStatus,f.NgModel,o],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]:before{content:"\\274c"}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;transform:rotate(90deg);transition:linear .25s transform;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]:before{content:"\\25b6"}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]:before{content:"\\2795"}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%]{font-family:Lucida Grande,Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto;min-width:180px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]){min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid rgb(97,158,215);background:#fff;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:#b3415d1a!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #ccc}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #ccc;background:#fff}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{-webkit-transition:all .1s ease-in-out;-moz-transition:all .1s ease-in-out;-ms-transition:all .1s ease-in-out;-o-transition:all .1s ease-in-out;transition:all .1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;transition:ease-in .25s max-height}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{content:"";left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child:after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}']}),r}(),V7=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule]}),r}(),xS=["*"];function O7(o,r){if(1&o&&a.\u0275\u0275element(0,"div",0),2&o){var n=r.$index,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",e.gridRenderer.getGridColumnStyle(n))}}function B7(o,r){if(1&o&&a.\u0275\u0275element(0,"div",1),2&o){var n=r.$index,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",e.gridRenderer.getGridRowStyle(n))}}function L7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",8),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function j7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",9),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function U7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",10),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function G7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",11),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function z7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",12),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function $7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",13),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function H7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",14),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function K7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",15),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}var dd,pd,Ki,fd,Go,md,gd,hd,vd,Vn=function(o){return o.Fit="fit",o.ScrollVertical="scrollVertical",o.ScrollHorizontal="scrollHorizontal",o.Fixed="fixed",o.VerticalFixed="verticalFixed",o.HorizontalFixed="horizontalFixed",o}(Vn||{}),wy=function(o){return o.Always="always",o.OnDragAndResize="onDrag&Resize",o.None="none",o}(wy||{}),tr=function(o){return o.None="none",o.CompactUp="compactUp",o.CompactLeft="compactLeft",o.CompactUpAndLeft="compactUp&Left",o.CompactLeftAndUp="compactLeft&Up",o.CompactRight="compactRight",o.CompactUpAndRight="compactUp&Right",o.CompactRightAndUp="compactRight&Up",o.CompactDown="compactDown",o.CompactDownAndLeft="compactDown&Left",o.CompactLeftAndDown="compactLeft&Down",o.CompactDownAndRight="compactDown&Right",o.CompactRightAndDown="compactRight&Down",o.CompactGrid="compactGrid",o}(tr||{}),ga=function(o){return o.LTR="ltr",o.RTL="rtl",o}(ga||{}),q7=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"gridster",void 0),this.gridster=r},[{key:"destroy",value:function(){this.gridster=null}},{key:"checkCompact",value:function(){this.gridster.$options.compactType!==tr.None&&(this.gridster.$options.compactType===tr.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===tr.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===tr.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===tr.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===tr.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===tr.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===tr.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===tr.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===tr.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===tr.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===tr.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===tr.CompactRightAndDown?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===tr.CompactGrid&&this.checkCompactGrid())}},{key:"checkCompactItem",value:function(n){this.gridster.$options.compactType!==tr.None&&(this.gridster.$options.compactType===tr.CompactUp?this.moveTillCollision(n,"y",-1):this.gridster.$options.compactType===tr.CompactLeft?this.moveTillCollision(n,"x",-1):this.gridster.$options.compactType===tr.CompactUpAndLeft?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===tr.CompactLeftAndUp?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",-1)):this.gridster.$options.compactType===tr.CompactUpAndRight?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===tr.CompactDown?this.moveTillCollision(n,"y",1):this.gridster.$options.compactType===tr.CompactDownAndLeft?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===tr.CompactLeftAndDown?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===tr.CompactDownAndRight?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===tr.CompactRightAndDown?(this.moveTillCollision(n,"x",1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===tr.CompactGrid&&this.moveToGridPosition(n))}},{key:"checkCompactMovement",value:function(n,e){var t=this,s=!1;this.gridster.grid.forEach(function(u){!1!==u.$item.compactEnabled&&t.moveTillCollision(u.$item,n,e)&&(s=!0,u.item[n]=u.$item[n],u.itemChanged())}),s&&this.checkCompact()}},{key:"moveTillCollision",value:function(n,e,t){return n[e]+=t,this.gridster.checkCollision(n)?(n[e]-=t,!1):(this.moveTillCollision(n,e,t),!0)}},{key:"checkCompactGrid",value:function(){var n=this,e=this.gridster.grid.filter(function(l){return!1!==l.$item.compactEnabled}).sort(function(l,d){return l.$item.y!==d.$item.y?l.$item.y-d.$item.y:l.$item.x-d.$item.x}),t=0,s=0,u=0;e.forEach(function(l){var d=l.$item;s+d.cols>n.gridster.columns&&(s=0,u=t=u);var p=d.x,h=d.y;d.x=s,d.y=t,(p!==d.x||h!==d.y)&&(l.item.x=d.x,l.item.y=d.y,l.itemChanged()),s+=d.cols,u=Math.max(u,t+d.rows)})}},{key:"moveToGridPosition",value:function(n){var d,e=0,t=0,s=0,u=this.gridster.grid.filter(function(_){return _.$item!==n}).sort(function(_,S){return _.$item.y!==S.$item.y?_.$item.y-S.$item.y:_.$item.x-S.$item.x}),l=(0,N.A)(u);try{for(l.s();!(d=l.n()).done;){var h=d.value.$item;t+h.cols>this.gridster.columns&&(t=0,s=e=s),e<h.y+h.rows&&e+n.rows>h.y&&t<h.x+h.cols&&t+n.cols>h.x?(t=h.x+h.cols,e=h.y,s=Math.max(s,e+h.rows)):(t+=h.cols,s=Math.max(s,e+h.rows))}}catch(_){l.e(_)}finally{l.f()}t+n.cols>this.gridster.columns&&(e=s,t=0),n.x=t,n.y=e}}])}(),W7={gridType:Vn.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:tr.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,itemAspectRatio:void 0,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:wy.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:ga.LTR},Ya=function(){function o(){(0,v.A)(this,o)}return(0,m.A)(o,null,[{key:"merge",value:function(n,e,t){for(var s in e)void 0!==e[s]&&t.hasOwnProperty(s)&&("object"==typeof e[s]?(s in n||(n[s]={}),n[s]=o.merge(n[s],e[s],t[s])):n[s]=e[s]);return n}},{key:"checkTouchEvent",value:function(n){void 0===n.clientX&&n.touches&&(n.touches&&n.touches.length?(n.clientX=n.touches[0].clientX,n.clientY=n.touches[0].clientY):n.changedTouches&&n.changedTouches.length&&(n.clientX=n.changedTouches[0].clientX,n.clientY=n.changedTouches[0].clientY))}},{key:"checkContentClassForEvent",value:function(n,e){if(n.$options.draggable.ignoreContent){if(!o.checkDragHandleClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass,n.$options.draggable.ignoreContentClass))return!0}else if(o.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass))return!0;return!1}},{key:"checkContentClassForEmptyCellClickEvent",value:function(n,e){return o.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass)||o.checkContentClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass)}},{key:"checkDragHandleClass",value:function(n,e,t,s){if(!n||n===e)return!1;if(n.hasAttribute("class")){var u=n.getAttribute("class").split(" ");if(u.indexOf(t)>-1)return!0;if(u.indexOf(s)>-1)return!1}return o.checkDragHandleClass(n.parentNode,e,t,s)}},{key:"checkContentClass",value:function(n,e,t){return!(!n||n===e)&&(!!(n.hasAttribute("class")&&n.getAttribute("class").split(" ").indexOf(t)>-1)||o.checkContentClass(n.parentNode,e,t))}},{key:"compareItems",value:function(n,e){return n.y>e.y?-1:n.y<e.y?1:n.x>e.x?-1:1}}])}(),Q7=function(){return(0,m.A)(function o(r){var n=this;(0,v.A)(this,o),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"initialItem",void 0),(0,c.A)(this,"removeEmptyCellClickListenerFn",void 0),(0,c.A)(this,"removeEmptyCellTouchendListenerFn",void 0),(0,c.A)(this,"removeEmptyCellContextMenuListenerFn",void 0),(0,c.A)(this,"removeEmptyCellDropListenerFn",void 0),(0,c.A)(this,"removeEmptyCellMousedownListenerFn",void 0),(0,c.A)(this,"removeEmptyCellTouchstartListenerFn",void 0),(0,c.A)(this,"removeWindowMousemoveListenerFn",void 0),(0,c.A)(this,"removeWindowTouchmoveListenerFn",void 0),(0,c.A)(this,"removeWindowMouseupListenerFn",void 0),(0,c.A)(this,"removeWindowTouchendListenerFn",void 0),(0,c.A)(this,"removeEmptyCellDragoverListenerFn",void 0),(0,c.A)(this,"removeDocumentDragendListenerFn",void 0),(0,c.A)(this,"emptyCellClickCb",function(e){if(n.gridster&&!n.gridster.movingItem&&!Ya.checkContentClassForEmptyCellClickEvent(n.gridster,e)){var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellClickCallback&&n.gridster.options.emptyCellClickCallback(e,t),n.gridster.cdRef.markForCheck())}}),(0,c.A)(this,"emptyCellContextMenuCb",function(e){if(!n.gridster.movingItem&&!Ya.checkContentClassForEmptyCellClickEvent(n.gridster,e)){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellContextMenuCallback&&n.gridster.options.emptyCellContextMenuCallback(e,t),n.gridster.cdRef.markForCheck())}}),(0,c.A)(this,"emptyCellDragDrop",function(e){var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellDropCallback&&n.gridster.options.emptyCellDropCallback(e,t),n.gridster.cdRef.markForCheck())}),(0,c.A)(this,"emptyCellDragOver",function(e){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);t?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),n.gridster.movingItem=t):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),n.gridster.movingItem=null),n.gridster.previewStyle()}),(0,c.A)(this,"emptyCellMouseDown",function(e){if(!Ya.checkContentClassForEmptyCellClickEvent(n.gridster,e)){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);!t||1!==e.buttons&&!(e instanceof TouchEvent)||(n.initialItem=t,n.gridster.movingItem=t,n.gridster.previewStyle(),n.gridster.zone.runOutsideAngular(function(){n.removeWindowMousemoveListenerFn=n.gridster.renderer.listen("window","mousemove",n.emptyCellMouseMove),n.removeWindowTouchmoveListenerFn=n.gridster.renderer.listen("window","touchmove",n.emptyCellMouseMove)}),n.removeWindowMouseupListenerFn=n.gridster.renderer.listen("window","mouseup",n.emptyCellMouseUp),n.removeWindowTouchendListenerFn=n.gridster.renderer.listen("window","touchend",n.emptyCellMouseUp))}}),(0,c.A)(this,"emptyCellMouseMove",function(e){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e,n.initialItem);t&&(n.gridster.movingItem=t,n.gridster.previewStyle())}),(0,c.A)(this,"emptyCellMouseUp",function(e){n.removeWindowMousemoveListenerFn(),n.removeWindowTouchmoveListenerFn(),n.removeWindowMouseupListenerFn(),n.removeWindowTouchendListenerFn();var t=n.getValidItemFromEvent(e,n.initialItem);t&&(n.gridster.movingItem=t),n.gridster.options.emptyCellDragCallback&&n.gridster.movingItem&&n.gridster.options.emptyCellDragCallback(e,n.gridster.movingItem),setTimeout(function(){n.initialItem=null,n.gridster&&(n.gridster.movingItem=null,n.gridster.previewStyle())}),n.gridster.cdRef.markForCheck()}),this.gridster=r},[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}},{key:"updateOptions",value:function(){var n=this;this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(function(){n.removeEmptyCellDragoverListenerFn=n.gridster.renderer.listen(n.gridster.el,"dragover",n.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",function(){n.gridster.movingItem=null,n.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}},{key:"getPixelsX",value:function(n,e){var t=this.gridster.options.scale;return t?(n.clientX-e.left)/t+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():n.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}},{key:"getPixelsY",value:function(n,e){var t=this.gridster.options.scale;return t?(n.clientY-e.top)/t+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():n.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}},{key:"getValidItemFromEvent",value:function(n,e){n.preventDefault(),n.stopPropagation(),Ya.checkTouchEvent(n);var t=this.gridster.el.getBoundingClientRect(),s=this.getPixelsX(n,t),u=this.getPixelsY(n,t),l={x:this.gridster.pixelsToPositionX(s,Math.floor,!0),y:this.gridster.pixelsToPositionY(u,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(l.cols=Math.min(Math.abs(e.x-l.x)+1,this.gridster.$options.emptyCellDragMaxCols),l.rows=Math.min(Math.abs(e.y-l.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<l.x?l.x=e.x:e.x-l.x>this.gridster.$options.emptyCellDragMaxCols-1&&(l.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<l.y?l.y=e.y:e.y-l.y>this.gridster.$options.emptyCellDragMaxRows-1&&(l.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(l))return l}}])}(),X7=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"lastGridColumnStyles",{}),(0,c.A)(this,"lastGridRowStyles",{}),this.gridster=r},[{key:"destroy",value:function(){this.gridster=null}},{key:"updateItem",value:function(n,e,t){if(this.gridster.mobile)this.clearCellPosition(t,n),t.setStyle(n,"height",this.gridster.$options.keepFixedHeightInMobile?(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px":e.rows*this.gridster.curWidth/e.cols+"px"),t.setStyle(n,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),t.setStyle(n,"margin-bottom",this.gridster.$options.margin+"px"),t.setStyle(n,ga.LTR?"margin-right":"margin-left","");else{var s=Math.round(this.gridster.curColWidth*e.x),u=Math.round(this.gridster.curRowHeight*e.y),l=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,d=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(t,n,s,u),t.setStyle(n,"width",l+"px"),t.setStyle(n,"height",d+"px");var p=null,h=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(p=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(h=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),t.setStyle(n,"margin-bottom",p),t.setStyle(n,this.gridster.$options.dirType===ga.LTR?"margin-right":"margin-left",h)}}},{key:"updateGridster",value:function(){var n="",e="",t="",s="";if(this.gridster.$options.gridType===Vn.Fit)n=Vn.Fit,e=Vn.ScrollVertical,t=Vn.ScrollHorizontal,s=Vn.Fixed;else if(this.gridster.$options.gridType===Vn.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,n=Vn.ScrollVertical,e=Vn.Fit,t=Vn.ScrollHorizontal,s=Vn.Fixed;else if(this.gridster.$options.gridType===Vn.ScrollHorizontal){var u=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(u>=1?u:u+1),n=Vn.ScrollHorizontal,e=Vn.Fit,t=Vn.ScrollVertical,s=Vn.Fixed}else this.gridster.$options.gridType===Vn.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Vn.Fixed,e=Vn.Fit,t=Vn.ScrollVertical,s=Vn.ScrollHorizontal):this.gridster.$options.gridType===Vn.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Vn.ScrollVertical,e=Vn.Fit,t=Vn.ScrollHorizontal,s=Vn.Fixed):this.gridster.$options.gridType===Vn.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Vn.ScrollHorizontal,e=Vn.Fit,t=Vn.ScrollVertical,s=Vn.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==Vn.Fit?this.gridster.renderer.removeClass(this.gridster.el,n):this.gridster.renderer.addClass(this.gridster.el,n),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,s)}},{key:"getGridColumnStyle",value:function(n){var e={left:this.gridster.curColWidth*n,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,g.A)((0,g.A)({},this.getLeftPosition(e.left)),{},{width:e.width+"px",height:e.height+"px"});var t=this.lastGridColumnStyles[n];return t&&t.left===e.left&&t.width===e.width&&t.height===e.height?t.style:(this.lastGridColumnStyles[n]=e,e.style)}},{key:"getGridRowStyle",value:function(n){var e={top:this.gridster.curRowHeight*n,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,g.A)((0,g.A)({},this.getTopPosition(e.top)),{},{width:e.width+"px",height:e.height+"px"});var t=this.lastGridRowStyles[n];return t&&t.top===e.top&&t.width===e.width&&t.height===e.height?t.style:(this.lastGridRowStyles[n]=e,e.style)}},{key:"getLeftPosition",value:function(n){var e=this.gridster.$options.dirType===ga.RTL?-n:n;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}},{key:"getTopPosition",value:function(n){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+n+"px)"}:{top:this.getTopMargin()+n+"px"}}},{key:"clearCellPosition",value:function(n,e){this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform",""):(n.setStyle(e,"top",""),n.setStyle(e,"left",""))}},{key:"setCellPosition",value:function(n,e,t,s){var u=this.gridster.$options.dirType===ga.RTL?-t:t;this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform","translate3d("+u+"px, "+s+"px, 0)"):(n.setStyle(e,"left",this.getLeftMargin()+u+"px"),n.setStyle(e,"top",this.getTopMargin()+s+"px"))}},{key:"getLeftMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}},{key:"getTopMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}])}(),Y7=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"previewStyle$",void 0),(0,c.A)(this,"gridRenderer",void 0),(0,c.A)(this,"el",void 0),(0,c.A)(this,"sub",void 0),this.renderer=t,this.el=e.nativeElement},[{key:"ngOnInit",value:function(){var t=this;this.sub=this.previewStyle$.subscribe(function(s){return t.previewStyle(s)})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"previewStyle",value:function(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}}])}();return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2))}),(0,c.A)(r,"\u0275cmp",a.\u0275\u0275defineComponent({type:o,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(e,t){},styles:["gridster-preview{position:absolute;display:none;background:#00000026}\n"],encapsulation:2})),r}(),Fy=function(){var o,r=function(){function n(e,t,s,u){var l=this;(0,v.A)(this,n),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"cdRef",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"options",void 0),(0,c.A)(this,"movingItem",void 0),(0,c.A)(this,"el",void 0),(0,c.A)(this,"$options",void 0),(0,c.A)(this,"mobile",void 0),(0,c.A)(this,"curWidth",void 0),(0,c.A)(this,"curHeight",void 0),(0,c.A)(this,"grid",void 0),(0,c.A)(this,"columns",0),(0,c.A)(this,"rows",0),(0,c.A)(this,"curColWidth",void 0),(0,c.A)(this,"curRowHeight",void 0),(0,c.A)(this,"gridColumns",[]),(0,c.A)(this,"gridRows",[]),(0,c.A)(this,"windowResize",void 0),(0,c.A)(this,"dragInProgress",void 0),(0,c.A)(this,"emptyCell",void 0),(0,c.A)(this,"compact",void 0),(0,c.A)(this,"gridRenderer",void 0),(0,c.A)(this,"previewStyle$",new a.EventEmitter),(0,c.A)(this,"calculateLayout$",new T.B),(0,c.A)(this,"resize$",new T.B),(0,c.A)(this,"destroy$",new T.B),(0,c.A)(this,"optionsChanged",function(){l.setOptions();for(var d=l.grid.length-1;d>=0;d--)l.grid[d].updateOptions();l.calculateLayout()}),(0,c.A)(this,"onResize",function(){l.el.clientWidth&&(l.options.setGridSize&&(l.renderer.setStyle(l.el,"width",""),l.renderer.setStyle(l.el,"height","")),l.setGridSize(),l.calculateLayout())}),(0,c.A)(this,"getNextPossiblePosition",function(d){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};-1===d.cols&&(d.cols=l.$options.defaultItemCols),-1===d.rows&&(d.rows=l.$options.defaultItemRows),l.setGridDimensions();for(var _,h=p.y||0;h<l.rows;h++)for(d.y=h,_=p.x||0;_<l.columns;_++)if(d.x=_,!l.checkCollision(d))return!0;var S=l.$options.maxRows>=l.rows+d.rows;return!(l.rows<=l.columns&&S)&&l.$options.maxCols>=l.columns+d.cols?(d.x=l.columns,d.y=0,!0):!!S&&(d.y=l.rows,d.x=0,!0)}),(0,c.A)(this,"getFirstPossiblePosition",function(d){var p=Object.assign({},d);return l.getNextPossiblePosition(p),p}),(0,c.A)(this,"getLastPossiblePosition",function(d){var p={y:0,x:0};p=l.grid.reduce(function(_,S){var P={y:S.$item.y+S.$item.rows-1,x:S.$item.x+S.$item.cols-1};return 1===Ya.compareItems(_,P)?P:_},p);var h=Object.assign({},d);return l.getNextPossiblePosition(h,p),h}),this.renderer=t,this.cdRef=s,this.zone=u,this.el=e.nativeElement,this.$options=JSON.parse(JSON.stringify(W7)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new Q7(this),this.compact=new q7(this),this.gridRenderer=new X7(this)}return(0,m.A)(n,[{key:"checkCollisionTwoItems",value:function(t,s){if(!(t.x<s.x+s.cols&&t.x+t.cols>s.x&&t.y<s.y+s.rows&&t.y+t.rows>s.y))return!1;if(!this.$options.allowMultiLayer)return!0;var l=this.$options.defaultLayerIndex;return(void 0===t.layerIndex?l:t.layerIndex)===(void 0===s.layerIndex?l:s.layerIndex)}},{key:"ngOnInit",value:function(){var t=this;this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,Ln.B)(0),(0,Zt.Q)(this.destroy$)).subscribe(function(){return t.calculateLayout()}),this.resize$.pipe((0,We.n)(function(){return(0,x1.O)(100)}),(0,Zt.Q)(this.destroy$)).subscribe(function(){return t.resize()})}},{key:"ngOnChanges",value:function(t){var s=this;t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:function(l){return s.getItemComponent(l)}},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}},{key:"resize",value:function(){var t,s;"fit"!==this.$options.gridType||this.mobile?(s=this.el.clientWidth,t=this.el.clientHeight):(s=this.el.offsetWidth,t=this.el.offsetHeight),(s!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}},{key:"setOptions",value:function(){this.$options=Ya.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}},{key:"checkIfToResize",value:function(){var t=this.el.clientWidth,s=this.el.offsetWidth,u=this.el.scrollWidth,l=this.el.clientHeight,d=this.el.offsetHeight,p=this.el.scrollHeight;return!(t<s&&p>d&&p-d<s-t||l<d&&u>s&&u-s<d-l)}},{key:"checkIfMobile",value:function(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}},{key:"setGridSize",value:function(){var s,u,t=this.el;this.$options.setGridSize||this.$options.gridType===Vn.Fit&&!this.mobile?(s=t.offsetWidth,u=t.offsetHeight):(s=t.clientWidth,u=t.clientHeight),this.curWidth=s,this.curHeight=u}},{key:"setGridDimensions",value:function(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));for(var l,t=this.$options.minRows,s=this.$options.minCols,u=this.grid.length-1;u>=0;u--)(l=this.grid[u]).notPlaced||(t=Math.max(t,l.$item.y+l.$item.rows),s=Math.max(s,l.$item.x+l.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==s||this.rows!==t)&&(this.columns=s,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}},{key:"calculateLayout",value:function(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){var t=-this.$options.margin;null!==this.$options.outerMarginLeft?(t+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(t+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(t+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(t+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-t)/this.columns;var s=-this.$options.margin;null!==this.$options.outerMarginTop?(s+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(s+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-s)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();for(var l,u=this.grid.length-1;u>=0;u--)(l=this.grid[u]).setSize(),l.drag.toggle(),l.resize.toggle();this.resize$.next()}},{key:"updateGrid",value:function(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=n.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=n.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}},{key:"addItem",value:function(t){void 0===t.$item.cols&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),void 0===t.$item.rows&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),-1===t.$item.x||-1===t.$item.y?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayout$.next()}},{key:"removeItem",value:function(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}},{key:"checkCollision",value:function(t,s){var u=!1;if(this.options.itemValidateCallback&&(u=!this.options.itemValidateCallback(t)),!u&&this.checkGridCollision(t,s)&&(u=!0),!u){var l=this.findItemWithItem(t);l&&(u=l)}return u}},{key:"checkGridCollision",value:function(t){var z=!0;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var Y=t.itemAspectRatio||this.$options.itemAspectRatio;Y&&(z=t.cols/t.rows===Y)}var be=t.cols*t.rows;return!(t.y>-1&&t.x>-1&&t.cols+t.x<=this.$options.maxCols&&t.rows+t.y<=this.$options.maxRows&&z&&t.cols<=(void 0===t.maxItemCols?this.$options.maxItemCols:t.maxItemCols)&&t.cols>=(void 0===t.minItemCols?this.$options.minItemCols:t.minItemCols)&&t.rows<=(void 0===t.maxItemRows?this.$options.maxItemRows:t.maxItemRows)&&t.rows>=(void 0===t.minItemRows?this.$options.minItemRows:t.minItemRows)&&(void 0===t.minItemArea?this.$options.minItemArea:t.minItemArea)<=be&&(void 0===t.maxItemArea?this.$options.maxItemArea:t.maxItemArea)>=be)}},{key:"findItemWithItem",value:function(t){for(var u,s=0;s<this.grid.length;s++)if((u=this.grid[s]).$item!==t&&this.checkCollisionTwoItems(u.$item,t))return u;return!1}},{key:"findItemsWithItem",value:function(t){for(var l,s=[],u=0;u<this.grid.length;u++)(l=this.grid[u]).$item!==t&&this.checkCollisionTwoItems(l.$item,t)&&s.push(l);return s}},{key:"autoPositionItem",value:function(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}},{key:"pixelsToPositionX",value:function(t,s,u){var l=s(t/this.curColWidth);return u?l:Math.max(l,0)}},{key:"pixelsToPositionY",value:function(t,s,u){var l=s(t/this.curRowHeight);return u?l:Math.max(l,0)}},{key:"positionXToPixels",value:function(t){return t*this.curColWidth}},{key:"positionYToPixels",value:function(t){return t*this.curRowHeight}},{key:"getItemComponent",value:function(t){return this.grid.find(function(s){return s.item===t})}},{key:"checkCollisionForSwaping",value:function(t){var s=!1;if(this.options.itemValidateCallback&&(s=!this.options.itemValidateCallback(t)),!s&&this.checkGridCollision(t)&&(s=!0),!s){var u=this.findItemWithItemForSwapping(t);u&&(s=u)}return s}},{key:"findItemWithItemForSwapping",value:function(t){for(var u,s=this.grid.length-1;s>-1;s--)if((u=this.grid[s]).$item!==t&&n.checkCollisionTwoItemsForSwaping(u.$item,t))return u;return!1}},{key:"previewStyle",value:function(){this.movingItem?(this.compact&&arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}}],[{key:"checkCollisionTwoItemsForSwaping",value:function(t,s){return t.x+(1===t.cols?0:1)<s.x+s.cols&&t.x+t.cols>s.x+(1===s.cols?0:1)&&t.y+(1===t.rows?0:1)<s.y+s.rows&&t.y+t.rows>s.y+(1===s.rows?0:1)}},{key:"getNewArrayLength",value:function(t,s,u){var l=Math.max(t,Math.floor(s/u));return l<0?0:Number.isFinite(l)?Math.floor(l):0}}])}();return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.NgZone))}),(0,c.A)(r,"\u0275cmp",a.\u0275\u0275defineComponent({type:o,selectors:[["gridster"]],inputs:{options:"options"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:xS,decls:6,vars:2,consts:[[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275repeaterCreate(0,O7,1,1,"div",0,a.\u0275\u0275repeaterTrackByIndex),a.\u0275\u0275repeaterCreate(2,B7,1,1,"div",1,a.\u0275\u0275repeaterTrackByIndex),a.\u0275\u0275projection(4),a.\u0275\u0275element(5,"gridster-preview",2)),2&e&&(a.\u0275\u0275repeater(t.gridColumns),a.\u0275\u0275advance(2),a.\u0275\u0275repeater(t.gridRows),a.\u0275\u0275advance(3),a.\u0275\u0275property("gridRenderer",t.gridRenderer)("previewStyle$",t.previewStyle$))},dependencies:[y.NgStyle,Y7],styles:["gridster{position:relative;box-sizing:border-box;background:gray;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2})),r}(),SS=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"fromSouth",void 0),(0,c.A)(this,"fromNorth",void 0),(0,c.A)(this,"fromEast",void 0),(0,c.A)(this,"fromWest",void 0),(0,c.A)(this,"pushedItems",void 0),(0,c.A)(this,"pushedItemsTemp",void 0),(0,c.A)(this,"pushedItemsTempPath",void 0),(0,c.A)(this,"pushedItemsPath",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"pushedItemsOrder",void 0),(0,c.A)(this,"tryPattern",void 0),(0,c.A)(this,"iteration",0),this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=r,this.gridster=r.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(n,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;var t=this.push(this.gridsterItem,n);return t||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],t}return!1}},{key:"restoreTempItems",value:function(){for(var n=this.pushedItemsTemp.length-1;n>-1;n--)this.removeFromTempPushed(this.pushedItemsTemp[n])}},{key:"restoreItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).$item.x=t.item.x||0,t.$item.y=t.item.y||0,t.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).checkItemChanges(t.$item,t.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var n=this.pushedItems.length-1,e=!1;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(n,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(n.$item)||""===e)return!1;var t=this.gridster.findItemsWithItem(n.$item),s=e===this.fromNorth||e===this.fromWest;t.sort(function(S,P){return s?P.$item.y-S.$item.y||P.$item.x-S.$item.x:S.$item.y-P.$item.y||S.$item.x-P.$item.x});for(var l,u=0,d=!0,p=[];u<t.length;u++)if((l=t[u])!==this.gridsterItem){if(!l.canBeDragged()){d=!1;break}var h=this.pushedItemsTemp.indexOf(l);if(h>-1&&this.pushedItemsTempPath[h].length>10){d=!1;break}if(this.tryPattern[e][0].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][1].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][2].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else{if(!this.tryPattern[e][3].call(this,l,n)){d=!1;break}this.pushedItemsOrder.push(l),p.push(l)}}if(!d&&(u=this.pushedItemsOrder.lastIndexOf(p[0]))>-1)for(var _=this.pushedItemsOrder.length-1;_>=u;_--)l=this.pushedItemsOrder[_],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l);return this.iteration++,d}},{key:"trySouth",value:function(n,e){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(n),n.$item.y=e.$item.y+e.$item.rows,this.push(n,this.fromNorth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryNorth",value:function(n,e){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(n),n.$item.y=e.$item.y-n.$item.rows,this.push(n,this.fromSouth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryEast",value:function(n,e){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(n),n.$item.x=e.$item.x+e.$item.cols,this.push(n,this.fromWest)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryWest",value:function(n,e){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(n),n.$item.x=e.$item.x-n.$item.cols,this.push(n,this.fromEast)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"addToTempPushed",value:function(n){var e=this.pushedItemsTemp.indexOf(n);-1===e&&(e=this.pushedItemsTemp.push(n)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:n.$item.x,y:n.$item.y})}},{key:"removeFromTempPushed",value:function(n){var e=this.pushedItemsTemp.indexOf(n),t=this.pushedItemsTempPath[e].pop();t&&(n.$item.x=t.x,n.$item.y=t.y,n.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}},{key:"addToPushed",value:function(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0},{x:n.$item.x,y:n.$item.y}]);else{var e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y})}}},{key:"removeFromPushed",value:function(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}},{key:"removeFromPushedItem",value:function(n){var e=this.pushedItems.indexOf(n);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}},{key:"checkPushedItem",value:function(n,e){for(var u,l,d,t=this.pushedItemsPath[e],s=t.length-2,p=!1;s>-1;s--)l=n.$item.x,d=n.$item.y,n.$item.x=(u=t[s]).x,n.$item.y=u.y,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=d):(n.setSize(),t.splice(s+1,t.length-s-1),p=!0);return t.length<2&&this.removeFromPushed(e),p}}])}();function DS(o,r,n,e,t,s,u,l,d,p){dd=o.$options.scrollSensitivity,pd=o.$options.scrollSpeed,fd=d,Go=p;var h=(Ki=o.el).offsetWidth,S=Ki.scrollLeft,P=Ki.scrollTop,B=n-P,Y=s.clientX,de=s.clientY;if(!o.$options.disableScrollVertical)if(u.clientY<de&&Ki.offsetHeight+P-n-t<dd){if(RS(),fd&&Go&&!Go.south||vd)return;vd=wS(1,l,u)}else if(u.clientY>de&&P>0&&B<dd){if(TS(),fd&&Go&&!Go.north||hd)return;hd=wS(-1,l,u)}else u.clientY!==de&&Py();var be=r-S;if(!o.$options.disableScrollHorizontal){var me=o.$options.dirType===ga.RTL,Pe=u.clientX<Y,qe=u.clientX>Y,ot=me?Pe:qe;if((me?qe:Pe)&&S+h-r-e<=dd){if(IS(),fd&&Go&&!Go.east||md)return;md=FS(1,l,u,me)}else if(ot&&S>0&&be<dd){if(PS(),fd&&Go&&!Go.west||gd)return;gd=FS(-1,l,u,me)}else u.clientX!==Y&&ky()}}function wS(o,r,n){var e=n.clientY;return window.setInterval(function(){(!Ki||-1===o&&Ki.scrollTop-pd<0)&&Py(),Ki.scrollTop+=o*pd,r({clientX:n.clientX,clientY:e+=o*pd})},50)}function FS(o,r,n,e){var t=n.clientX;return window.setInterval(function(){if(Ki){var s=o*pd,u=e?-s:s;Ki.scrollBy({left:u,behavior:"auto"}),r({clientX:t+=u,clientY:n.clientY})}else ky()},50)}function kS(){ky(),Py(),Ki=null}function ky(){PS(),IS()}function Py(){RS(),TS()}function PS(){md&&(clearInterval(md),md=0)}function IS(){gd&&(clearInterval(gd),gd=0)}function TS(){vd&&(clearInterval(vd),vd=0)}function RS(){hd&&(clearInterval(hd),hd=0)}var J7=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"swapedItem",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),this.gridsterItem=r,this.gridster=r.gridster},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=this.swapedItem=null}},{key:"swapItems",value:function(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}},{key:"checkSwapBack",value:function(){if(this.swapedItem){var n=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=n,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}},{key:"restoreSwapItem",value:function(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}},{key:"setSwapItem",value:function(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}},{key:"checkSwap",value:function(n){var e;if((e=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(n.$item):this.gridster.checkCollision(n.$item))&&!0!==e&&e.canBeDragged()){var t=e,s=t.$item.x,u=t.$item.y,l=n.$item.x,d=n.$item.y,p=l-s,h=d-u;t.$item.x=n.item.x-p,t.$item.y=n.item.y-h,n.$item.x=t.item.x+p,n.$item.y=t.item.y+h,this.gridster.checkCollision(t.$item)||this.gridster.checkCollision(n.$item)?(n.$item.x=l,n.$item.y=d,t.$item.x=s,t.$item.y=u):(t.setSize(),this.swapedItem=t,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}])}(),gi=function(o){return o.UP="UP",o.DOWN="DOWN",o.LEFT="LEFT",o.RIGHT="RIGHT",o}(gi||{}),eU=function(){return(0,m.A)(function o(r,n,e){var t=this;(0,v.A)(this,o),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"lastMouse",void 0),(0,c.A)(this,"offsetLeft",void 0),(0,c.A)(this,"offsetTop",void 0),(0,c.A)(this,"margin",void 0),(0,c.A)(this,"outerMarginTop",void 0),(0,c.A)(this,"outerMarginRight",void 0),(0,c.A)(this,"outerMarginBottom",void 0),(0,c.A)(this,"outerMarginLeft",void 0),(0,c.A)(this,"diffTop",void 0),(0,c.A)(this,"diffLeft",void 0),(0,c.A)(this,"originalClientX",void 0),(0,c.A)(this,"originalClientY",void 0),(0,c.A)(this,"top",void 0),(0,c.A)(this,"left",void 0),(0,c.A)(this,"height",void 0),(0,c.A)(this,"width",void 0),(0,c.A)(this,"positionX",void 0),(0,c.A)(this,"positionY",void 0),(0,c.A)(this,"positionXBackup",void 0),(0,c.A)(this,"positionYBackup",void 0),(0,c.A)(this,"enabled",void 0),(0,c.A)(this,"mousemove",void 0),(0,c.A)(this,"mouseup",void 0),(0,c.A)(this,"mouseleave",void 0),(0,c.A)(this,"cancelOnBlur",void 0),(0,c.A)(this,"touchmove",void 0),(0,c.A)(this,"touchend",void 0),(0,c.A)(this,"touchcancel",void 0),(0,c.A)(this,"mousedown",void 0),(0,c.A)(this,"touchstart",void 0),(0,c.A)(this,"push",void 0),(0,c.A)(this,"swap",void 0),(0,c.A)(this,"path",void 0),(0,c.A)(this,"collision",!1),(0,c.A)(this,"dragMove",function(s){s.stopPropagation(),s.preventDefault(),Ya.checkTouchEvent(s);var l,d,p,h,u=t.getDirections(s);t.gridster.options.enableBoundaryControl&&(u.includes(gi.UP)&&t.gridsterItem.el.getBoundingClientRect().top<t.gridster.el.getBoundingClientRect().top+(null!==(l=t.outerMarginTop)&&void 0!==l?l:t.margin)&&(u=u.filter(function(_){return _!=gi.UP}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:t.lastMouse.clientY})),u.includes(gi.LEFT)&&t.gridsterItem.el.getBoundingClientRect().left<t.gridster.el.getBoundingClientRect().left+(null!==(d=t.outerMarginLeft)&&void 0!==d?d:t.margin)&&(u=u.filter(function(_){return _!=gi.LEFT}),s=new MouseEvent(s.type,{clientX:t.lastMouse.clientX,clientY:s.clientY})),u.includes(gi.RIGHT)&&t.gridsterItem.el.getBoundingClientRect().right>t.gridster.el.getBoundingClientRect().right-(null!==(p=t.outerMarginRight)&&void 0!==p?p:t.margin)&&(u=u.filter(function(_){return _!=gi.RIGHT}),s=new MouseEvent(s.type,{clientX:t.lastMouse.clientX,clientY:s.clientY})),u.includes(gi.DOWN)&&t.gridsterItem.el.getBoundingClientRect().bottom>t.gridster.el.getBoundingClientRect().bottom-(null!==(h=t.outerMarginBottom)&&void 0!==h?h:t.margin)&&(u=u.filter(function(_){return _!=gi.DOWN}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:t.lastMouse.clientY}))),u.length&&(t.offsetLeft=t.gridster.el.scrollLeft-t.gridster.el.offsetLeft,t.offsetTop=t.gridster.el.scrollTop-t.gridster.el.offsetTop,DS(t.gridster,t.left,t.top,t.width,t.height,s,t.lastMouse,t.calculateItemPositionFromMousePosition),t.calculateItemPositionFromMousePosition(s))}),(0,c.A)(this,"calculateItemPositionFromMousePosition",function(s){t.gridster.options.scale?t.calculateItemPositionWithScale(s,t.gridster.options.scale):t.calculateItemPositionWithoutScale(s),t.calculateItemPosition(),t.lastMouse.clientX=s.clientX,t.lastMouse.clientY=s.clientY,t.zone.run(function(){t.gridster.updateGrid()})}),(0,c.A)(this,"dragStop",function(s){s.stopPropagation(),s.preventDefault(),kS(),t.cancelOnBlur(),t.mousemove(),t.mouseup(),t.mouseleave(),t.touchmove(),t.touchend(),t.touchcancel(),t.gridsterItem.renderer.removeClass(t.gridsterItem.el,"gridster-item-moving"),t.gridster.dragInProgress=!1,t.gridster.updateGrid(),t.path=[],t.gridster.options.draggable&&t.gridster.options.draggable.stop?Promise.resolve(t.gridster.options.draggable.stop(t.gridsterItem.item,t.gridsterItem,s)).then(t.makeDrag,t.cancelDrag):t.makeDrag(),setTimeout(function(){t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle(!0))})}),(0,c.A)(this,"cancelDrag",function(){t.gridsterItem.$item.x=t.gridsterItem.item.x||0,t.gridsterItem.$item.y=t.gridsterItem.item.y||0,t.gridsterItem.setSize(),t.push&&t.push.restoreItems(),t.swap&&t.swap.restoreSwapItem(),t.push&&(t.push.destroy(),t.push=null),t.swap&&(t.swap.destroy(),t.swap=null)}),(0,c.A)(this,"makeDrag",function(){t.gridster.$options.draggable.dropOverItems&&t.gridster.options.draggable&&t.gridster.options.draggable.dropOverItemsCallback&&t.collision&&!0!==t.collision&&t.collision.$item&&t.gridster.options.draggable.dropOverItemsCallback(t.gridsterItem.item,t.collision.item,t.gridster),t.collision=!1,t.gridsterItem.setSize(),t.gridsterItem.checkItemChanges(t.gridsterItem.$item,t.gridsterItem.item),t.push&&t.push.setPushedItems(),t.swap&&t.swap.setSwapItem(),t.push&&(t.push.destroy(),t.push=null),t.swap&&(t.swap.destroy(),t.swap=null)}),(0,c.A)(this,"dragStartDelay",function(s){if(!s.target.classList.contains("gridster-item-resizable-handler")&&!Ya.checkContentClassForEvent(t.gridster,s))if(Ya.checkTouchEvent(s),t.gridster.$options.draggable.delayStart)var l=setTimeout(function(){t.dragStart(s),z()},t.gridster.$options.draggable.delayStart),d=t.gridsterItem.renderer.listen("document","mouseup",z),p=t.gridsterItem.renderer.listen("document","mouseleave",z),h=t.gridsterItem.renderer.listen("window","blur",z),_=t.gridsterItem.renderer.listen("document","touchmove",function B(Y){Ya.checkTouchEvent(Y),(Math.abs(Y.clientX-s.clientX)>9||Math.abs(Y.clientY-s.clientY)>9)&&z()}),S=t.gridsterItem.renderer.listen("document","touchend",z),P=t.gridsterItem.renderer.listen("document","touchcancel",z);else t.dragStart(s);function z(){clearTimeout(l),h(),d(),p(),_(),S(),P()}}),this.zone=e,this.gridsterItem=r,this.gridster=n,this.lastMouse={clientX:0,clientY:0},this.path=[]},[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}},{key:"dragStart",value:function(n){var e=this;n.which&&1!==n.which||this.gridster.dragInProgress||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===ga.RTL?n.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:n.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=n.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new SS(this.gridsterItem),this.swap=new J7(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}},{key:"calculateItemPositionWithScale",value:function(n,e){this.left=this.gridster.$options.dirType===ga.RTL?this.gridster.el.scrollWidth-this.originalClientX+(n.clientX-this.originalClientX)/e+this.diffLeft:this.originalClientX+(n.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(n.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}},{key:"calculateItemPositionWithoutScale",value:function(n){this.left=this.gridster.$options.dirType===ga.RTL?this.gridster.el.offsetWidth-(n.clientX+this.offsetLeft-this.diffLeft):n.clientX+this.offsetLeft-this.diffLeft,this.top=n.clientY+this.offsetTop-this.diffTop}},{key:"calculateItemPosition",value:function(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){var n=this.path[this.path.length-1],e="";n.x<this.gridsterItem.$item.x?e=this.push.fromWest:n.x>this.gridsterItem.$item.x?e=this.push.fromEast:n.y<this.gridsterItem.$item.y?e=this.push.fromNorth:n.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}},{key:"toggle",value:function(){var n=this.gridsterItem.canBeDragged();!this.enabled&&n?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!n&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}},{key:"getDirections",value:function(n){var e=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=n.clientY,this.lastMouse.clientX=n.clientX),this.lastMouse.clientY>n.clientY&&e.push(gi.UP),this.lastMouse.clientY<n.clientY&&e.push(gi.DOWN),this.lastMouse.clientX<n.clientX&&e.push(gi.RIGHT),this.lastMouse.clientX>n.clientX&&e.push(gi.LEFT),e}}])}(),tU=function(){return(0,m.A)(function o(r){(0,v.A)(this,o),(0,c.A)(this,"fromSouth",void 0),(0,c.A)(this,"fromNorth",void 0),(0,c.A)(this,"fromEast",void 0),(0,c.A)(this,"fromWest",void 0),(0,c.A)(this,"pushedItems",void 0),(0,c.A)(this,"pushedItemsPath",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"tryPattern",void 0),this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=r,this.gridster=r.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(n){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,n)}},{key:"restoreItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).$item.x=t.item.x||0,t.$item.y=t.item.y||0,t.$item.cols=t.item.cols||1,t.$item.row=t.item.row||1,t.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).checkItemChanges(t.$item,t.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var n=this.pushedItems.length-1,e=!1;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(n,e){var t=this.gridster.checkCollision(n.$item);if(t&&!0!==t&&t!==this.gridsterItem&&t.canBeResized()){if(this.tryPattern[e].call(this,t,n,e))return!0}else if(!1===t)return!0;return!1}},{key:"trySouth",value:function(n,e,t){var s=n.$item.y,u=n.$item.rows;return n.$item.y=e.$item.y+e.$item.rows,n.$item.rows=u+s-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.y=s,n.$item.rows=u,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryNorth",value:function(n,e,t){var s=n.$item.rows;return n.$item.rows=e.$item.y-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.rows=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryEast",value:function(n,e,t){var s=n.$item.x,u=n.$item.cols;return n.$item.x=e.$item.x+e.$item.cols,n.$item.cols=u+s-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.x=s,n.$item.cols=u,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryWest",value:function(n,e,t){var s=n.$item.cols;return n.$item.cols=e.$item.x-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.cols=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"addToPushed",value:function(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0,cols:n.item.cols||0,rows:n.item.rows||0},{x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows}]);else{var e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows})}}},{key:"removeFromPushed",value:function(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}},{key:"checkPushedItem",value:function(n,e){for(var u,l,d,p,h,t=this.pushedItemsPath[e],s=t.length-2;s>-1;s--)l=n.$item.x,d=n.$item.y,p=n.$item.cols,h=n.$item.rows,n.$item.x=(u=t[s]).x,n.$item.y=u.y,n.$item.cols=u.cols,n.$item.rows=u.rows,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=d,n.$item.cols=p,n.$item.rows=h):(n.setSize(),t.splice(s+1,t.length-1-s));return t.length<2&&(this.removeFromPushed(e),!0)}}])}(),nU=function(){return(0,m.A)(function o(r,n,e){var t=this;(0,v.A)(this,o),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"lastMouse",void 0),(0,c.A)(this,"itemBackup",{x:0,y:0,cols:0,rows:0}),(0,c.A)(this,"resizeEventScrollType",void 0),(0,c.A)(this,"directionFunction",null),(0,c.A)(this,"resizeEnabled",void 0),(0,c.A)(this,"resizableHandles",void 0),(0,c.A)(this,"mousemove",void 0),(0,c.A)(this,"mouseup",void 0),(0,c.A)(this,"mouseleave",void 0),(0,c.A)(this,"cancelOnBlur",void 0),(0,c.A)(this,"touchmove",void 0),(0,c.A)(this,"touchend",void 0),(0,c.A)(this,"touchcancel",void 0),(0,c.A)(this,"push",void 0),(0,c.A)(this,"pushResize",void 0),(0,c.A)(this,"minHeight",void 0),(0,c.A)(this,"minWidth",void 0),(0,c.A)(this,"offsetTop",void 0),(0,c.A)(this,"offsetLeft",void 0),(0,c.A)(this,"diffTop",void 0),(0,c.A)(this,"diffLeft",void 0),(0,c.A)(this,"diffRight",void 0),(0,c.A)(this,"diffBottom",void 0),(0,c.A)(this,"margin",void 0),(0,c.A)(this,"outerMarginTop",void 0),(0,c.A)(this,"outerMarginRight",void 0),(0,c.A)(this,"outerMarginBottom",void 0),(0,c.A)(this,"outerMarginLeft",void 0),(0,c.A)(this,"originalClientX",void 0),(0,c.A)(this,"originalClientY",void 0),(0,c.A)(this,"top",void 0),(0,c.A)(this,"left",void 0),(0,c.A)(this,"bottom",void 0),(0,c.A)(this,"right",void 0),(0,c.A)(this,"width",void 0),(0,c.A)(this,"height",void 0),(0,c.A)(this,"hasRatio",void 0),(0,c.A)(this,"dragMove",function(s){if(null===t.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");s.stopPropagation(),s.preventDefault(),Ya.checkTouchEvent(s),t.offsetTop=t.gridster.el.scrollTop-t.gridster.el.offsetTop,t.offsetLeft=t.gridster.el.scrollLeft-t.gridster.el.offsetLeft,DS(t.gridster,t.left,t.top,t.width,t.height,s,t.lastMouse,t.directionFunction,!0,t.resizeEventScrollType);var u=t.gridster.options.scale||1;t.directionFunction({clientX:t.originalClientX+(s.clientX-t.originalClientX)/u,clientY:t.originalClientY+(s.clientY-t.originalClientY)/u}),t.lastMouse.clientX=s.clientX,t.lastMouse.clientY=s.clientY,t.zone.run(function(){t.gridster.updateGrid()})}),(0,c.A)(this,"dragStop",function(s){s.stopPropagation(),s.preventDefault(),kS(),t.mousemove(),t.mouseup(),t.mouseleave(),t.cancelOnBlur(),t.touchmove(),t.touchend(),t.touchcancel(),t.gridster.dragInProgress=!1,t.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1},t.gridster.updateGrid(),t.gridster.options.resizable&&t.gridster.options.resizable.stop?Promise.resolve(t.gridster.options.resizable.stop(t.gridsterItem.item,t.gridsterItem,s)).then(t.makeResize,t.cancelResize):t.makeResize(),setTimeout(function(){t.gridsterItem.renderer.removeClass(t.gridsterItem.el,"gridster-item-resizing"),t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle())})}),(0,c.A)(this,"cancelResize",function(){t.gridsterItem.$item.cols=t.gridsterItem.item.cols||1,t.gridsterItem.$item.rows=t.gridsterItem.item.rows||1,t.gridsterItem.$item.x=t.gridsterItem.item.x||0,t.gridsterItem.$item.y=t.gridsterItem.item.y||0,t.gridsterItem.setSize(),t.push.restoreItems(),t.pushResize.restoreItems(),t.push.destroy(),t.push=null,t.pushResize.destroy(),t.pushResize=null}),(0,c.A)(this,"makeResize",function(){t.gridsterItem.setSize(),t.gridsterItem.checkItemChanges(t.gridsterItem.$item,t.gridsterItem.item),t.push.setPushedItems(),t.pushResize.setPushedItems(),t.push.destroy(),t.push=null,t.pushResize.destroy(),t.pushResize=null}),(0,c.A)(this,"check",function(s){return t.hasRatio&&t.enforceAspectRatio(),t.pushResize.pushItems(s),t.push.pushItems(s,t.gridster.$options.disablePushOnResize),t.gridster.checkCollision(t.gridsterItem.$item,!0)?(t.resetItem(t.hasRatio),!1):(t.gridster.previewStyle(),t.pushResize.checkPushBack(),t.push.checkPushBack(),!0)}),(0,c.A)(this,"getNewNorthPosition",function(s){return t.top=s.clientY+t.offsetTop-t.diffTop,t.height=t.bottom-t.top,t.minHeight>t.height?(t.height=t.minHeight,t.top=t.bottom-t.minHeight):t.gridster.options.enableBoundaryControl&&(t.top=Math.max(0,t.top),t.height=t.bottom-t.top),t.gridster.pixelsToPositionY(t.top+(t.gridster.options.pushItems?t.margin:0),Math.floor)}),(0,c.A)(this,"handleNorth",function(s){var u=t.getNewNorthPosition(s);t.gridsterItem.$item.y!==u&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height))}),(0,c.A)(this,"getNewWestPosition",function(s){return t.left=(t.gridster.$options.dirType===ga.RTL?t.originalClientX+(t.originalClientX-s.clientX):s.clientX)+t.offsetLeft-t.diffLeft,t.width=t.right-t.left,t.minWidth>t.width?(t.width=t.minWidth,t.left=t.right-t.minWidth):t.gridster.options.enableBoundaryControl&&(t.left=Math.max(0,t.left),t.width=t.right-t.left),t.gridster.pixelsToPositionX(t.left+(t.gridster.options.pushItems?t.margin:0),Math.floor)}),(0,c.A)(this,"handleWest",function(s){var u=t.getNewWestPosition(s);t.gridsterItem.$item.x!==u&&(t.makeItemBackup(),t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-u,t.gridsterItem.$item.x=u,!t.check(t.pushResize.fromEast))||(t.setItemLeft(t.left),t.setItemWidth(t.width))}),(0,c.A)(this,"getNewSouthPosition",function(s){if(t.height=s.clientY+t.offsetTop-t.diffBottom-t.top,t.minHeight>t.height&&(t.height=t.minHeight),t.bottom=t.top+t.height,t.gridster.options.enableBoundaryControl){var u,l=null!==(u=t.outerMarginBottom)&&void 0!==u?u:t.margin,d=t.gridster.el.getBoundingClientRect();t.bottom=Math.min(t.bottom,d.bottom-d.top-2*l),t.height=t.bottom-t.top}return t.gridster.pixelsToPositionY(t.bottom+(t.gridster.options.pushItems?0:t.margin),Math.ceil)}),(0,c.A)(this,"handleSouth",function(s){var u=t.getNewSouthPosition(s);t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,!t.check(t.pushResize.fromNorth))||t.setItemHeight(t.height)}),(0,c.A)(this,"getNewEastPosition",function(s){if(t.width=(t.gridster.$options.dirType===ga.RTL?t.originalClientX+(t.originalClientX-s.clientX):s.clientX)+t.offsetLeft-t.diffRight-t.left,t.minWidth>t.width&&(t.width=t.minWidth),t.right=t.left+t.width,t.gridster.options.enableBoundaryControl){var l,d=null!==(l=t.outerMarginRight)&&void 0!==l?l:t.margin,p=t.gridster.el.getBoundingClientRect();t.right=Math.min(t.right,p.right-p.left-2*d),t.width=t.right-t.left}return t.gridster.pixelsToPositionX(t.right+(t.gridster.options.pushItems?0:t.margin),Math.ceil)}),(0,c.A)(this,"handleEast",function(s){var u=t.getNewEastPosition(s);t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==u&&(t.makeItemBackup(),t.gridsterItem.$item.cols=u-t.gridsterItem.$item.x,!t.check(t.pushResize.fromWest))||t.setItemWidth(t.width)}),(0,c.A)(this,"handleNorthWest",function(s){var u=t.getNewNorthPosition(s),l=t.getNewWestPosition(s);(t.gridsterItem.$item.y!==u||t.gridsterItem.$item.x!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-l,t.gridsterItem.$item.x=l,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height),t.setItemLeft(t.left),t.setItemWidth(t.width))}),(0,c.A)(this,"handleNorthEast",function(s){var u=t.getNewNorthPosition(s),l=t.getNewEastPosition(s);(t.gridsterItem.$item.y!==u||t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,t.gridsterItem.$item.cols=l-t.gridsterItem.$item.x,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height),t.setItemWidth(t.width))}),(0,c.A)(this,"handleSouthWest",function(s){var u=t.getNewSouthPosition(s),l=t.getNewWestPosition(s);(t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u||t.gridsterItem.$item.x!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-l,t.gridsterItem.$item.x=l,!t.check(t.pushResize.fromNorth))||(t.setItemLeft(t.left),t.setItemHeight(t.height),t.setItemWidth(t.width))}),(0,c.A)(this,"handleSouthEast",function(s){var u=t.getNewSouthPosition(s),l=t.getNewEastPosition(s);(t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u||t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,t.gridsterItem.$item.cols=l-t.gridsterItem.$item.x,!t.check(t.pushResize.fromNorth))||(t.setItemHeight(t.height),t.setItemWidth(t.width))}),this.zone=e,this.gridsterItem=r,this.gridster=n,this.lastMouse={clientX:0,clientY:0},this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}},[{key:"destroy",value:function(){var n;null===(n=this.gridster)||void 0===n||n.previewStyle(),this.gridster=this.gridsterItem=null}},{key:"dragStart",value:function(n){var e=this;if(!(n.which&&1!==n.which||this.gridster.dragInProgress)){this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=n.clientX+this.offsetLeft-this.left,this.diffRight=n.clientX+this.offsetLeft-this.right,this.diffTop=n.clientY+this.offsetTop-this.top,this.diffBottom=n.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new SS(this.gridsterItem),this.pushResize=new tU(this.gridsterItem),this.gridster.dragInProgress=!0,this.hasRatio=!(!this.gridster.$options.itemAspectRatio&&!this.gridsterItem.$item.itemAspectRatio),this.itemBackup={x:0,y:0,cols:0,rows:0},this.gridster.updateGrid();var t=n.target.classList;t.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):t.contains("handle-w")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):t.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):t.contains("handle-e")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):t.contains("handle-nw")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):t.contains("handle-ne")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):t.contains("handle-sw")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):t.contains("handle-se")&&(this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}}},{key:"makeItemBackup",value:function(){this.itemBackup.x=this.gridsterItem.$item.x,this.itemBackup.y=this.gridsterItem.$item.y,this.itemBackup.cols=this.gridsterItem.$item.cols,this.itemBackup.rows=this.gridsterItem.$item.rows}},{key:"resetItem",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridsterItem.$item.x!==this.itemBackup.x&&(this.gridsterItem.$item.x=this.itemBackup.x,n||(this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.y),this.setItemLeft(this.left))),this.gridsterItem.$item.y!==this.itemBackup.y&&(this.gridsterItem.$item.y=this.itemBackup.y,n||(this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.top))),this.gridsterItem.$item.cols!==this.itemBackup.cols&&(this.gridsterItem.$item.cols=this.itemBackup.cols,n||this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin)),this.gridsterItem.$item.rows!==this.itemBackup.rows&&(this.gridsterItem.$item.rows=this.itemBackup.rows,n||this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin))}},{key:"toggle",value:function(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}},{key:"dragStartDelay",value:function(n){var e=this;if(Ya.checkTouchEvent(n),this.gridster.$options.resizable.delayStart)var t=setTimeout(function(){e.dragStart(n),P()},this.gridster.$options.resizable.delayStart),s=this.zone.runOutsideAngular(function(){return{cancelMouse:e.gridsterItem.renderer.listen("document","mouseup",P),cancelMouseLeave:e.gridsterItem.renderer.listen("document","mouseleave",P),cancelOnBlur:e.gridsterItem.renderer.listen("window","blur",P),cancelTouchMove:e.gridsterItem.renderer.listen("document","touchmove",S),cancelTouchEnd:e.gridsterItem.renderer.listen("document","touchend",P),cancelTouchCancel:e.gridsterItem.renderer.listen("document","touchcancel",P)}}),u=s.cancelMouse,l=s.cancelMouseLeave,d=s.cancelOnBlur,p=s.cancelTouchMove,h=s.cancelTouchEnd,_=s.cancelTouchCancel;else this.dragStart(n);function S(B){Ya.checkTouchEvent(B),(Math.abs(B.clientX-n.clientX)>9||Math.abs(B.clientY-n.clientY)>9)&&P()}function P(){clearTimeout(t),d(),u(),l(),p(),h(),_()}}},{key:"setItemTop",value:function(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,n)}},{key:"setItemLeft",value:function(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,n,this.top)}},{key:"setItemHeight",value:function(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",n+"px")}},{key:"setItemWidth",value:function(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",n+"px")}},{key:"enforceAspectRatio",value:function(){var n=this.gridsterItem.$item.itemAspectRatio||this.gridster.$options.itemAspectRatio;if(n){var e=n*(this.gridster.curColWidth/this.gridster.curRowHeight),s=this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows,u=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,l=this.gridster.positionYToPixels(s)-this.margin,d=this.gridsterItem.$item.maxItemCols||this.gridster.$options.maxItemCols||0,p=this.gridsterItem.$item.maxItemRows||this.gridster.$options.maxItemRows||0,h=d?this.gridster.positionXToPixels(d)-this.margin:Number.MAX_VALUE,_=p?this.gridster.positionYToPixels(p)-this.margin:Number.MAX_VALUE,S=this.width,P=this.height;if(this.resizeEventScrollType.north||this.resizeEventScrollType.south?(S=this.height*e)<u?(S=u,P=u/e):S>h&&(S=h,P=h/e):(this.resizeEventScrollType.east||this.resizeEventScrollType.west)&&((P=this.width/e)<l?(P=l,S=l*e):P>_&&(P=_,S=_*e)),this.gridster.options.enableBoundaryControl){var B=this.gridster.el.getBoundingClientRect(),z=Math.max(this.outerMarginTop||this.margin,this.outerMarginRight||this.margin,this.outerMarginBottom||this.margin,this.outerMarginLeft||this.margin),Y=B.width-2*z,de=B.height-2*z;this.resizeEventScrollType.west?this.right-S<0&&(P=(S=this.right)/e):this.resizeEventScrollType.east&&this.left+S>Y&&(P=(S=Y-this.left)/e),this.resizeEventScrollType.north?this.bottom-P<0&&(S=(P=this.bottom)*e):this.resizeEventScrollType.south&&this.top+P>de&&(S=(P=de-this.top)*e)}this.width=S,this.height=P,this.resizeEventScrollType.west&&(this.left=this.right-this.width),this.resizeEventScrollType.north&&(this.top=this.bottom-this.height);var be=this.gridster.options.pushItems?0:this.margin,me=this.gridster.options.pushItems?this.margin:0,Pe=this.gridster.options.pushItems?this.margin:0;this.gridsterItem.$item.x=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?0:this.margin),Math.floor),this.gridsterItem.$item.y=this.gridster.pixelsToPositionY(this.top+be,Math.floor),this.gridsterItem.$item.cols=this.gridster.pixelsToPositionX(this.width+me,Math.ceil),this.gridsterItem.$item.rows=this.gridster.pixelsToPositionY(this.height+Pe,Math.ceil),this.setItemTop(this.top),this.setItemLeft(this.left),this.setItemWidth(this.width),this.setItemHeight(this.height)}}}])}(),rU=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"item",void 0),(0,c.A)(this,"itemInit",new a.EventEmitter),(0,c.A)(this,"itemChange",new a.EventEmitter),(0,c.A)(this,"itemResize",new a.EventEmitter),(0,c.A)(this,"$item",void 0),(0,c.A)(this,"el",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"top",void 0),(0,c.A)(this,"left",void 0),(0,c.A)(this,"width",void 0),(0,c.A)(this,"height",void 0),(0,c.A)(this,"drag",void 0),(0,c.A)(this,"resize",void 0),(0,c.A)(this,"notPlaced",void 0),(0,c.A)(this,"init",void 0),this.renderer=s,this.zone=u,this.el=e.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=t,this.drag=new eU(this,t,this.zone),this.resize=new nU(this,t,this.zone)},[{key:"zIndex",get:function(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}},{key:"ngOnInit",value:function(){this.gridster.addItem(this)}},{key:"ngOnChanges",value:function(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),t.item&&t.item.previousValue&&this.setSize()}},{key:"updateOptions",value:function(){this.$item=Ya.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,itemAspectRatio:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}},{key:"ngOnDestroy",value:function(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}},{key:"setSize",value:function(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}},{key:"updateItemSize",value:function(){var s=this.$item.x*this.gridster.curColWidth,u=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,l=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=s,!this.init&&u>0&&l>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})),(u!==this.width||l!==this.height)&&(this.width=u,this.height=l,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}},{key:"itemChanged",value:function(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}},{key:"checkItemChanges",value:function(t,s){t.rows===s.rows&&t.cols===s.cols&&t.x===s.x&&t.y===s.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=s.x||0,this.$item.y=s.y||0,this.$item.cols=s.cols||1,this.$item.rows=s.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}},{key:"canBeDragged",value:function(){var t=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.dragEnabled?t:this.$item.dragEnabled)}},{key:"canBeResized",value:function(){var t=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.resizeEnabled?t:this.$item.resizeEnabled)}},{key:"getResizableHandles",value:function(){var t=this.gridster.$options.resizable.handles,s=this.$item.resizableHandles;return void 0===s?t:(0,g.A)((0,g.A)({},t),s)}},{key:"bringToFront",value:function(t){if(!(t&&t<=0)){var s=this.getLayerIndex(),u=this.gridster.$options.maxLayerIndex;if(s<u){var l=t?s+t:u;this.item.layerIndex=this.$item.layerIndex=l>u?u:l}}}},{key:"sendToBack",value:function(t){if(!(t&&t<=0)){var s=this.getLayerIndex();if(s>0){var u=t?s-t:0;this.item.layerIndex=this.$item.layerIndex=u<0?0:u}}}},{key:"getLayerIndex",value:function(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}])}();return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Fy),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.NgZone))}),(0,c.A)(r,"\u0275cmp",a.\u0275\u0275defineComponent({type:o,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(e,t){2&e&&a.\u0275\u0275styleProp("z-index",t.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:xS,decls:9,vars:8,consts:[[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0),a.\u0275\u0275conditionalCreate(1,L7,1,0,"div",0),a.\u0275\u0275conditionalCreate(2,j7,1,0,"div",1),a.\u0275\u0275conditionalCreate(3,U7,1,0,"div",2),a.\u0275\u0275conditionalCreate(4,G7,1,0,"div",3),a.\u0275\u0275conditionalCreate(5,z7,1,0,"div",4),a.\u0275\u0275conditionalCreate(6,$7,1,0,"div",5),a.\u0275\u0275conditionalCreate(7,H7,1,0,"div",6),a.\u0275\u0275conditionalCreate(8,K7,1,0,"div",7)),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.s&&t.resize.resizeEnabled?1:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.e&&t.resize.resizeEnabled?2:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.n&&t.resize.resizeEnabled?3:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.w&&t.resize.resizeEnabled?4:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.se&&t.resize.resizeEnabled?5:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.ne&&t.resize.resizeEnabled?6:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.sw&&t.resize.resizeEnabled?7:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.nw&&t.resize.resizeEnabled?8:-1))},styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:#fff;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2})),r}(),MS=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)}),(0,c.A)(r,"\u0275mod",a.\u0275\u0275defineNgModule({type:o})),(0,c.A)(r,"\u0275inj",a.\u0275\u0275defineInjector({})),r}(),yd=b(20793),ja=b(65629),Iu=b(48739),ec=b(29421),aU=b(69327),tc=b(56079),Bf=["innerGridItem"],iU=function(){return{height:"100%"}},Tu=function(r){return{i:r}};function oU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function sU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",2)(1,"p",4),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",5),a.\u0275\u0275template(4,oU,1,0,"ng-container",6),a.\u0275\u0275elementEnd()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("fxFlex",t.dashboard[t.itemIndex(e,n)].cols),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate3("row: ",e," | column: ",n," | size: ",t.dashboard[t.itemIndex(e,n)].cols),a.\u0275\u0275advance(),a.\u0275\u0275property("ngStyle",t.gridItemInnerStyles(e,n)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(7,Tu,t.itemIndex(e,n)))}}function uU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",2)(1,"div",3),a.\u0275\u0275template(2,sU,5,9,"div",1),a.\u0275\u0275elementEnd()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("fxFlex",e.rowFlex(n)),a.\u0275\u0275advance(),a.\u0275\u0275property("fxLayout",e.rowDirection(n))("ngStyle",a.\u0275\u0275pureFunction0(4,iU)),a.\u0275\u0275advance(),a.\u0275\u0275property("for",e.totalColumns(n))}}var Iy=["gridItemActions"],Ty=["extraActions"],NS=["mainControls"],VS=["itemHeader"];function lU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function cU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function dU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function pU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"gridster-item",9)(1,"div",10)(2,"div",11,1),a.\u0275\u0275template(4,cU,1,0,"ng-container",12),a.\u0275\u0275elementStart(5,"button",13),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.removeItem(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.removeItem(l))}),a.\u0275\u0275text(6,"Delete"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"div",14),a.\u0275\u0275template(8,dU,1,0,"ng-container",12),a.\u0275\u0275elementEnd()()()}if(2&o){var e=r.$implicit,t=r.index,s=a.\u0275\u0275nextContext();a.\u0275\u0275property("item",e),a.\u0275\u0275advance(2),a.\u0275\u0275property("hidden",!s.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",s.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(6,Tu,t)),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngTemplateOutlet",s.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(8,Tu,t))}}var OS=function(){return{i:0}};function fU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function mU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function gU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function hU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function vU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function yU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function _U(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"as-split-area",16)(1,"div",17)(2,"div",18,2),a.\u0275\u0275template(4,vU,1,0,"ng-container",19),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",20),a.\u0275\u0275template(6,yU,1,0,"ng-container",19),a.\u0275\u0275elementEnd()()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("size",t.itemSize(e,n)),a.\u0275\u0275advance(2),a.\u0275\u0275property("hidden",!t.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(6,Tu,t.itemIndex(e,n))),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(8,Tu,t.itemIndex(e,n)))}}function bU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",8)(1,"div",9)(2,"button",10)(3,"mat-icon"),a.\u0275\u0275text(4,"menu"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"mat-menu",null,1)(7,"button",11),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.addColumn(l))}),a.\u0275\u0275text(8,"Add Column"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",11),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.layoutSettings("row",l))}),a.\u0275\u0275text(10,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"button",12),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.removeRow(l))}),a.\u0275\u0275text(12,"Delete"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(13,"div",13)(14,"as-split",14),a.\u0275\u0275listener("dragEnd",function(l){var d=a.\u0275\u0275restoreView(n).index,p=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(p.dragEnd(d,l))}),a.\u0275\u0275template(15,_U,7,10,"as-split-area",15),a.\u0275\u0275elementEnd()()()}if(2&o){var e=r.index,t=a.\u0275\u0275reference(6),s=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("matMenuTriggerFor",t),a.\u0275\u0275advance(13),a.\u0275\u0275property("for",s.totalColumns(e))}}var AU=["*"],CU=function(r){return[r,"manage"]};function xU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",6),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.login())}),a.\u0275\u0275text(1,"login"),a.\u0275\u0275elementEnd()}}function SU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",7)(1,"a",8),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("routerLink",a.\u0275\u0275pureFunction1(2,CU,n.path)),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.path)}}var Ry=function(r,n){return{i:r,j:n}};function EU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",16),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(2,"Save"),a.\u0275\u0275elementEnd()()}}function DU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(2,"Properties"),a.\u0275\u0275elementEnd()()}}function wU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(2,"Delete"),a.\u0275\u0275elementEnd()()}}function FU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(2,"Rules"),a.\u0275\u0275elementEnd()()}}function kU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(2,"Persistence"),a.\u0275\u0275elementEnd()()}}function PU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(2,"Interactions"),a.\u0275\u0275elementEnd()()}}function IU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))}),a.\u0275\u0275text(2,"Apply Style"),a.\u0275\u0275elementEnd()()}}function TU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))}),a.\u0275\u0275text(2,"Remove Style"),a.\u0275\u0275elementEnd()()}}function RU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",36),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2);var t=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(t.toggle())}),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd()()}}function MU(o,r){1&o&&(a.\u0275\u0275elementStart(0,"mat-icon"),a.\u0275\u0275text(1,"arrow_drop_down"),a.\u0275\u0275elementEnd())}function NU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"button",37),a.\u0275\u0275template(1,MU,2,0,"mat-icon",9),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2),e=a.\u0275\u0275reference(29);a.\u0275\u0275property("matMenuTriggerFor",e),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested)}}function VU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function OU(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,VU,1,0,"ng-container",24),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.contextsMenuTpl)}}function BU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",38),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.editor.panelStyleTitle(0))}}function LU(o,r){1&o&&a.\u0275\u0275element(0,"span",39)}function jU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function UU(o,r){1&o&&(a.\u0275\u0275elementStart(0,"div",40),a.\u0275\u0275text(1,"Quell"),a.\u0275\u0275elementEnd())}function GU(o,r){if(1&o&&(a.\u0275\u0275template(0,RU,3,0,"button",20)(1,NU,2,2,"button",21),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275template(3,OU,2,1,"ng-container",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,BU,2,1,"div",22)(5,LU,1,0,"span",23)(6,jU,1,0,"ng-container",24),a.\u0275\u0275elementStart(7,"div",25)(8,"mat-form-field")(9,"mat-select",26)(10,"mat-option",27),a.\u0275\u0275text(11,"page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",28),a.\u0275\u0275text(13,"form"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-option",29),a.\u0275\u0275text(15,"json"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(16,"div",30)(17,"mat-form-field")(18,"mat-select",31)(19,"mat-option",32),a.\u0275\u0275text(20,"grid"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"mat-option",33),a.\u0275\u0275text(22,"gridless"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(23,"mat-option",34),a.\u0275\u0275text(24,"split"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275template(25,UU,2,0,"div",35)),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",!n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.editor.hasPanelStyle(0)&&n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.extraActionsAreaTmpl),a.\u0275\u0275advance(19),a.\u0275\u0275property("ngIf",!n.nested)}}function zU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",38),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.editor.panelStyleTitle(0))}}function $U(o,r){if(1&o&&a.\u0275\u0275template(0,zU,2,1,"div",22),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",n.editor.hasPanelStyle(0)&&!n.nested)}}function HU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function KU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",43),a.\u0275\u0275template(1,HU,1,0,"ng-container",44),a.\u0275\u0275elementEnd()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().i,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.editablePaneTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction2(2,Ry,e,n))}}function qU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone",41),a.\u0275\u0275listener("change",function(u){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.onFileChange(u,l))})("cdkDropListDropped",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.editor.onDrop(u))}),a.\u0275\u0275elementStart(1,"div",null,5),a.\u0275\u0275template(3,KU,2,5,"div",42),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.i,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.editor.panelPanes(e).controls)}}function WU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",16),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(1,"Save"),a.\u0275\u0275elementEnd()}}function QU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(1,"Properties"),a.\u0275\u0275elementEnd()}}function XU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(1,"Delete"),a.\u0275\u0275elementEnd()}}function YU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(1,"Rules"),a.\u0275\u0275elementEnd()}}function JU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(1,"Persistence"),a.\u0275\u0275elementEnd()}}function ZU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(1,"Interactions"),a.\u0275\u0275elementEnd()}}function eG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))}),a.\u0275\u0275text(1,"Apply Style"),a.\u0275\u0275elementEnd()}}function tG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))}),a.\u0275\u0275text(1,"Remove Style"),a.\u0275\u0275elementEnd()}}function nG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function rG(o,r){if(1&o&&a.\u0275\u0275template(0,nG,1,0,"ng-container",2),2&o){var n=r.i,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Tu,n))}}function aG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",18),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(2,"Save"),a.\u0275\u0275elementEnd()()}}function iG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(2,"Rules"),a.\u0275\u0275elementEnd()()}}function oG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(2,"Persistence"),a.\u0275\u0275elementEnd()()}}function sG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(2,"Interactions"),a.\u0275\u0275elementEnd()()}}function uG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(2,"Delete"),a.\u0275\u0275elementEnd()()}}function lG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",34),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2);var t=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(t.toggle())}),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd()()}}function cG(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"button",35)(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd()()),2&o){a.\u0275\u0275nextContext(2);var n=a.\u0275\u0275reference(30);a.\u0275\u0275property("matMenuTriggerFor",n)}}function dG(o,r){1&o&&a.\u0275\u0275element(0,"span",36)}function pG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function fG(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,pG,1,0,"ng-container",32),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.contextsMenuTpl)}}function mG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function gG(o,r){1&o&&(a.\u0275\u0275elementStart(0,"div",37),a.\u0275\u0275text(1,"Quell"),a.\u0275\u0275elementEnd())}function hG(o,r){if(1&o&&(a.\u0275\u0275template(0,lG,3,0,"button",20)(1,cG,3,1,"button",21)(2,dG,1,0,"span",22),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275template(4,fG,2,1,"ng-container",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",23)(6,"mat-form-field")(7,"mat-select",24)(8,"mat-option",25),a.\u0275\u0275text(9,"page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-option",26),a.\u0275\u0275text(11,"form"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",27),a.\u0275\u0275text(13,"json"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(14,"div",28)(15,"mat-form-field")(16,"mat-select",29)(17,"mat-option",30),a.\u0275\u0275text(18,"gridless"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"mat-option",31),a.\u0275\u0275text(20,"split"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275template(21,mG,1,0,"ng-container",32)(22,gG,2,0,"div",33)),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",!n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.savable),a.\u0275\u0275advance(17),a.\u0275\u0275property("ngTemplateOutlet",n.extraActionsAreaTmpl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.nested)}}function vG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",43),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.applyStyle(t))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.applyStyle(t))}),a.\u0275\u0275text(1,"Apply Style"),a.\u0275\u0275elementEnd()}}function yG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",43),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.removeStyle(t))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.removeStyle(t))}),a.\u0275\u0275text(1,"Remove Style"),a.\u0275\u0275elementEnd()}}function _G(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",44),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().i,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(e.editor.panelStyleTitle(n))}}function bG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",38)(1,"mat-icon"),a.\u0275\u0275text(2,"arrow_drop_down"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(3,"mat-menu",null,6)(5,"button",12),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i;a.\u0275\u0275nextContext();var d=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(d.layoutSettings("column",l))}),a.\u0275\u0275text(6,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"button",39),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.addContent(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.addContent(l))}),a.\u0275\u0275text(8,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",39),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.editPanelProps(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.editPanelProps(l))}),a.\u0275\u0275text(10,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,vG,2,0,"button",40)(12,yG,2,0,"button",40),a.\u0275\u0275elementStart(13,"button",41),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i;a.\u0275\u0275nextContext();var d=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(d.removeColumn2(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).i;a.\u0275\u0275nextContext();var d=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(d.removeColumn2(l))}),a.\u0275\u0275text(14,"Delete"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(15,_G,2,1,"div",42)}if(2&o){var e=r.i,t=a.\u0275\u0275reference(4),s=a.\u0275\u0275nextContext();a.\u0275\u0275property("matMenuTriggerFor",t),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngIf",!s.editor.hasPanelStyle(e)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e))}}function AG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function CG(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",47),a.\u0275\u0275template(1,AG,1,0,"ng-container",48),a.\u0275\u0275elementEnd()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().i,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.editablePaneTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction2(2,Ry,e,n))}}function xG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone",45),a.\u0275\u0275listener("change",function(u){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.onFileChange(u,l))})("cdkDropListDropped",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.editor.onDrop(u))}),a.\u0275\u0275elementStart(1,"div",null,7),a.\u0275\u0275template(3,CG,2,5,"div",46),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.i,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.editor.panelPanes(e).controls)}}function SG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(1,"Save"),a.\u0275\u0275elementEnd()}}function EG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(1,"Rules"),a.\u0275\u0275elementEnd()}}function DG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(1,"Persistence"),a.\u0275\u0275elementEnd()}}function wG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(1,"Interactions"),a.\u0275\u0275elementEnd()}}function FG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(1,"Delete"),a.\u0275\u0275elementEnd()}}function kG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function PG(o,r){if(1&o&&a.\u0275\u0275template(0,kG,1,0,"ng-container",2),2&o){var n=r.i,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Tu,n))}}var $G=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeMatcher=e,this.dashboard=[],this.layoutSetting=new $n,this.rowSettings=[],this.columnSettings=[]},[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(t,s){return s.y>t?s.y:t},0)+1}},{key:"direction",get:function(){var t=this.attributeMatcher.getComputedValue("direction",this.layoutSetting?this.layoutSetting.settings:[]);return!t||"column"!==t.trim()&&"row"!==t.trim()?"column":t}},{key:"ngOnInit",value:function(){console.log(this.dashboard)}},{key:"itemIndex",value:function(t,s){return this.dashboard.findIndex(function(u){return u.y===t&&u.x===s})}},{key:"totalColumns",value:function(t){return this.dashboard.reduce(function(s,u){return u.y===t?s+1:s},0)}},{key:"rowDirection",value:function(t){var s=this.attributeMatcher.getComputedValue("direction",this.rowSettings&&this.rowSettings[t]?this.rowSettings[t].settings:[]);return!s||"column"!==s.trim()&&"row"!==s.trim()?"row":s}},{key:"rowFlex",value:function(t){var s=this;return["flexGrow","flexShrink","flexBasis"].map(function(p){return s.attributeMatcher.getComputedValue(p,s.rowSettings&&s.rowSettings[t]?s.rowSettings[t].settings:[])}).map(function(p){return null!=p&&""!==p&&""!==p.trim()?"".concat(p.trim()):""}).join(" ")}},{key:"gridItemInnerStyles",value:function(t,s){var u=this.itemIndex(t,s);return{height:this.calculateHeight(this.attributeMatcher.getComputedValue("height",this.columnSettings&&this.columnSettings[u]?this.columnSettings[u].settings:[]))}}},{key:"calculateHeight",value:function(t){return null!=t?t.trim():"auto"}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeMatcherService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-flex-layout"]],contentQueries:function(e,t,s){var u;1&e&&a.\u0275\u0275contentQuery(s,Bf,5),2&e&&a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first)},inputs:{dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},standalone:!1,decls:2,vars:2,consts:[["fxFill","",3,"fxLayout"],[3,"fxFlex",4,"for"],[3,"fxFlex"],[3,"fxLayout","ngStyle"],["hidden",""],[1,"grid-item-inner",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,uU,3,5,"div",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("fxLayout",t.direction),a.\u0275\u0275advance(),a.\u0275\u0275property("for",t.totalRows))},dependencies:[y.NgTemplateOutlet,y.NgStyle,Ve,Gu,_i,_e,cn.ForDirective],encapsulation:2}),r}(),BS=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n),this.itemAdded=new a.EventEmitter,this.itemRemoved=new a.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.itemHeights=[],this.rows=0},[{key:"grid",get:function(){return this.dashboard}},{key:"cumulativeHeight",get:function(){var t=this,s=[];return this.heightsMatrix.forEach(function(u){s.push(t.itemHeights.reduce(function(l,d){return d>l?d:l}))}),s.reduce(function(u,l){return u+l})}},{key:"heightsMatrix",get:function(){var t=this;return this.dashboard.reduce(function(s,u,l){return s[u.y]=void 0!==s[u.y]?[].concat((0,A.A)(s[u.y]),[t.itemHeights[l]]):[t.itemHeights[l]],s},[])}},{key:"ngOnInit",value:function(){}},{key:"removeItem",value:function(t){this.dashboard.splice(t,1),this.itemHeights.splice(t,1),this.itemRemoved.emit(t)}},{key:"addColumn",value:function(){console.log("add column grid"),this.dashboard.push({cols:1,rows:1,y:0,x:this.dashboard.length}),this.itemAdded.emit()}},{key:"addRow",value:function(){this.dashboard.push({cols:1,rows:1,y:this.rows++,x:0}),this.itemAdded.emit()}},{key:"setItemContentHeight",value:function(t,s){this.itemHeights[t]=s+(this.displayItemHeader?this.itemHeaderHeight(t):0),this.refreshGridHeight()}},{key:"refreshGridHeight",value:function(){this.gridHeight=this.cumulativeHeight+16*this.gridster.rows}},{key:"itemHeaderHeight",value:function(t){return this.itemHeaders.find(function(s,u){return u===t}).nativeElement.offsetHeight}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-grid-layout"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,Iy,5),a.\u0275\u0275contentQuery(s,Bf,5),a.\u0275\u0275contentQuery(s,Ty,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.gridItemActionsTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsTmpl=u.first))},viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(Fy,5),a.\u0275\u0275viewQuery(NS,5),a.\u0275\u0275viewQuery(VS,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.gridster=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.mainControls=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.itemHeaders=s))},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",options:"options"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved"},standalone:!1,decls:11,vars:6,consts:[["mainControls",""],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["type","button",3,"mousedown"],[4,"ngTemplateOutlet"],[1,"layout-inner"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"delete",3,"mousedown","touchstart"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",2)(1,"div",3,0)(3,"button",4),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.addColumn())}),a.\u0275\u0275text(4,"Add Column"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"button",4),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.addRow())}),a.\u0275\u0275text(6,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,lU,1,0,"ng-container",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",6)(9,"gridster",7),a.\u0275\u0275template(10,pU,9,10,"gridster-item",8),a.\u0275\u0275elementEnd()()()}2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",!t.displayMainControls),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngTemplateOutlet",t.extraActionsTmpl),a.\u0275\u0275advance(),a.\u0275\u0275styleProp("height",t.gridHeight,"px"),a.\u0275\u0275advance(),a.\u0275\u0275property("options",t.options),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.dashboard))},dependencies:[y.NgForOf,y.NgTemplateOutlet,Ve,Gu,_i,Fy,rU],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{background-color:#ccc;padding:.5em}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{background-color:#fff;padding:.5em}"]}),r}(),LS=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n),this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,Iy,5),a.\u0275\u0275contentQuery(s,Bf,5),a.\u0275\u0275contentQuery(s,Ty,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.gridItemActionsTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsTmpl=u.first))},hostVars:2,hostBindings:function(e,t){2&e&&a.\u0275\u0275classProp("is-nested",t.nested)},inputs:{displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested"},standalone:!1,decls:11,vars:9,consts:[["mainControls",""],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],[4,"ngTemplateOutlet"],[1,"layout-inner"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",2)(1,"div",3,0),a.\u0275\u0275template(3,fU,1,0,"ng-container",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",5)(5,"div",6)(6,"div",7,1),a.\u0275\u0275template(8,mU,1,0,"ng-container",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",9),a.\u0275\u0275template(10,gU,1,0,"ng-container",8),a.\u0275\u0275elementEnd()()()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",!t.displayMainControls),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.extraActionsTmpl),a.\u0275\u0275advance(3),a.\u0275\u0275property("hidden",!t.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction0(7,OS)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction0(8,OS)))},dependencies:[y.NgTemplateOutlet,Ve,Gu,_i],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline;border-bottom:1px solid #ccc;margin-bottom:.25em}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}"]}),r}(),HG=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.settingValues=[],this.layoutForm=this.fb.group({settings:this.fb.control("")}),this.onTouched=function(){}},[{key:"attributes",get:function(){return this.layout.settings.has(this.type)?this.layout.settings.get(this.type):[]}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.layoutForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.layoutForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.layoutForm.disable():this.layoutForm.enable()}},{key:"validate",value:function(t){return this.layoutForm.valid?null:{invalidForm:{valid:!1,message:"layout is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-form"]],inputs:{layout:"layout",type:"type",settingValues:"settingValues"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"classifieds-ui-attributes-builder",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.layoutForm),a.\u0275\u0275advance(),a.\u0275\u0275property("attributes",t.attributes)("attributeValues",t.settingValues))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_t.AttributesBuilderComponent],encapsulation:2}),r}(),KG=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.valueComputerService=s,this.fb=u,this.settingValues=[],this.dialogForm=this.fb.group({layout:this.fb.control("")})},[{key:"attrValues",get:function(){return""===this.dialogForm.get("layout").value?this.settingValues:this.dialogForm.get("layout").value.settings.map(function(t){return new _t.AttributeValue(t)})}},{key:"ngOnInit",value:function(){this.layout=this.data.layout,this.type=this.data.type,this.settingValues=this.data.settingValues}},{key:"submit",value:function(){console.log(this.attrValues);var t=this.valueComputerService.compute(this.attrValues);this.dialogRef.close(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(_t.ValueComputerService),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-dialog"]],standalone:!1,decls:6,vars:5,consts:[[1,"layout-form",3,"ngSubmit","formGroup"],["formControlName","layout",3,"layout","type","settingValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"druid-layout-form",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.dialogForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("layout",t.layout)("type",t.type)("settingValues",t.settingValues),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.dialogForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,HG],encapsulation:2}),r}(),Lf=function(){var o,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"layout"}))}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),jS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.el=e,this.dialog=t,this.lpm=s,this.itemAdded=new a.EventEmitter,this.itemRemoved=new a.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1,this.layoutSettingChange=new a.EventEmitter,this.rowSettingsChange=new a.EventEmitter,this.columnSettingsChange=new a.EventEmitter,this.rows=0,this.sizes=[]},[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(t,s){return s.y>t?s.y:t},0)+1}},{key:"ngOnInit",value:function(){if(0===this.dashboard.length)this.addRow();else{for(var t=0;t<this.totalRows;t++){var s=this.totalColumns(t);this.sizes.push([]);for(var u=0;u<s;u++){var l=this.itemIndex(t,u);this.sizes[t].push(this.dashboard[l].cols)}}if(this.totalRows!==this.rowSettings.length&&0===this.rowSettings.length){for(var d=[],p=0;p<this.totalRows;p++)d.push(new $n);this.rowSettings=d,this.rowSettingsChange.emit(this.rowSettings)}for(var h=0,_=0;_<this.totalRows;_++)h+=this.totalColumns(_);if(h!==this.columnSettings.length&&0===this.columnSettings.length){for(var S=[],P=0;P<this.totalRows;P++)for(var B=0;B<this.totalColumns(P);B++)S.push(new $n);this.columnSettings=S,this.columnSettingsChange.emit(this.columnSettings)}}}},{key:"removeRow",value:function(t){for(var s=this.dashboard.reduce(function(h,_,S){return[].concat((0,A.A)(h),(0,A.A)(_.y===t?[S]:[]))},[]),u=s.length,l=0,d=0;d<u;d++)this.dashboard.splice(s[d]-l,1),this.rowSettings.splice(t,1),l++,this.itemRemoved.emit(s[d]),this.rowSettingsChange.emit(this.rowSettings);u=this.dashboard.length;for(var p=0;p<u;p++)this.dashboard[p].y>t&&(this.dashboard[p].y=this.dashboard[p].y-1)}},{key:"removeColumn",value:function(t,s){var u=this.itemIndex(t,s);this.dashboard.splice(u,1),this.itemRemoved.emit(u)}},{key:"removeColumn2",value:function(t){this.dashboard.splice(t,1),this.itemRemoved.emit(t)}},{key:"addRow",value:function(){this.sizes.push([]),this.rowSettings=[].concat((0,A.A)(this.rowSettings.map(function(t){return new $n(t)})),[new $n]),this.addColumn(0===this.totalRows?0:this.totalRows),this.rowSettingsChange.emit(this.rowSettings)}},{key:"addColumn",value:function(t){var s=this,u=this.totalColumns(t),l=0===u?100:100/(u+1);this.sizes[t][u]=l,this.dashboard.push({cols:l,rows:1,y:t,x:u}),this.itemAdded.emit(),setTimeout(function(){return s.resetGutter()})}},{key:"dragEnd",value:function(t,s){var u=s.sizes,l=this.dashboard.length,d=0;this.sizes[t]=(0,A.A)(u);for(var p=this.dashboard.map(function(_){return(0,g.A)({},_)}),h=0;h<l;h++)this.dashboard[h].y===t&&(p[h].cols=u[d],d+=1);this.dashboard=p}},{key:"itemIndex",value:function(t,s){return this.dashboard.findIndex(function(u){return u.y===t&&u.x===s})}},{key:"itemSize",value:function(t,s){return this.dashboard[this.itemIndex(t,s)].cols}},{key:"totalColumns",value:function(t){return this.dashboard.reduce(function(s,u){return u.y===t?s+1:s},0)}},{key:"resetGutter",value:function(){this.el.nativeElement.querySelectorAll(".as-split-gutter").forEach(function(t){t.style.height="auto"})}},{key:"settingValues",value:function(t,s){switch(t){case"column":return this.columnSettings[s].settings;case"row":return this.rowSettings[s].settings;case"global":return this.layoutSetting.settings;default:return[]}}},{key:"layoutSettings",value:function(t,s){var u=this;this.lpm.getPlugin("split").pipe((0,We.n)(function(l){return u.dialog.open(KG,{data:{layout:l,type:t,settingValues:u.settingValues(t,s)}}).afterClosed()}),(0,te.p)(function(l){return!!l})).subscribe(function(l){switch(t){case"column":u.columnSettings=u.columnSettings.map(function(d,p){return new $n(p===s?{settings:l.map(function(h){return new _t.AttributeValue(h)})}:d)}),console.log(u.columnSettings),u.columnSettingsChange.emit(u.columnSettings);break;case"row":u.rowSettings=u.rowSettings.map(function(d,p){return new $n(p===s?{settings:l.map(function(h){return new _t.AttributeValue(h)})}:d)}),console.log(u.rowSettings),u.rowSettingsChange.emit(u.rowSettings);break;case"global":u.layoutSetting=new $n({settings:l.map(function(d){return new _t.AttributeValue(d)})}),u.layoutSettingChange.emit(u.layoutSetting)}})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(Lf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-split-layout"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,Iy,5),a.\u0275\u0275contentQuery(s,Bf,5),a.\u0275\u0275contentQuery(s,Ty,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.gridItemActionsTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsTmpl=u.first))},viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(NS,5),a.\u0275\u0275viewQuery(VS,5),a.\u0275\u0275viewQuery(Kc,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.mainControls=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.itemHeaders=s),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.splitAreas=s))},hostVars:2,hostBindings:function(e,t){2&e&&a.\u0275\u0275classProp("is-nested",t.nested)},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved",layoutSettingChange:"layoutSettingChange",rowSettingsChange:"rowSettingsChange",columnSettingsChange:"columnSettingsChange"},standalone:!1,decls:6,vars:3,consts:[["mainControls",""],["rowActions","matMenu"],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],[4,"ngTemplateOutlet"],[1,"layout-inner"],["class","rows-wrapper",4,"for"],[1,"rows-wrapper"],[1,"row-controls"],["mat-button","","type","button",3,"matMenuTriggerFor"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",1,"remove-row",3,"mousedown"],[1,"rows-inner"],["unit","percent","direction","horizontal",3,"dragEnd"],[3,"size",4,"for"],[3,"size"],["fxLayout","column","fxFill",""],[1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",3)(1,"div",4,0),a.\u0275\u0275template(3,hU,1,0,"ng-container",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",6),a.\u0275\u0275template(5,bU,16,2,"div",7),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",!t.displayMainControls),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.extraActionsTmpl),a.\u0275\u0275advance(2),a.\u0275\u0275property("for",t.totalRows))},dependencies:[y.NgTemplateOutlet,Gr.MatButton,yd.MatIcon,ja.MatMenu,ja.MatMenuItem,ja.MatMenuTrigger,Ve,Gu,_i,Hc,Kc,cn.ForDirective],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline}.rows-inner[_ngcontent-%COMP%]{height:auto;background-color:#fff}.row-controls[_ngcontent-%COMP%]{background-color:gray;padding:0}.remove-row[_ngcontent-%COMP%]{float:right}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;color:#fff}.mat-mdc-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]}),r}(),US=function(o){function r(n){var e;if((0,v.A)(this,r),(e=(0,w.A)(this,r,[n])).settings=new Map,n.settings){var t=[];e.renderer=n.renderer,e.editor=n.editor,n.settings.forEach(function(s,u){t.push([u,s.map(function(l){return new _t.Attribute(l)})])}),e.settings=new Map(t)}return e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),GS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.siteName=e,this.authFacade=t,this.controlContainer=s,this.close=new a.EventEmitter,this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,fe.T)(function(t){return!!t}))}},{key:"login",value:function(){this.authFacade.login()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(cn.SITE_NAME),a.\u0275\u0275directiveInject(bi),a.\u0275\u0275directiveInject(f.ControlContainer),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-sidenav"]],outputs:{close:"close"},standalone:!1,ngContentSelectors:AU,decls:12,vars:6,consts:[[1,"close-wrapper"],[3,"click"],["type","button","class","login","mat-button","",3,"click",4,"ngIf"],[1,"viewport-container"],["appendOnly","","itemSize","48",1,"viewport"],["class","pp-item",4,"cdkVirtualFor","cdkVirtualForOf"],["type","button","mat-button","",1,"login",3,"click"],[1,"pp-item"],[3,"routerLink"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),a.\u0275\u0275listener("click",function(){return t.close.emit()}),a.\u0275\u0275text(2,"close"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,xU,2,0,"button",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"mat-divider"),a.\u0275\u0275projection(6),a.\u0275\u0275element(7,"mat-divider"),a.\u0275\u0275elementStart(8,"div",3)(9,"cdk-virtual-scroll-viewport",4),a.\u0275\u0275template(10,SU,3,4,"div",5),a.\u0275\u0275pipe(11,"async"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!a.\u0275\u0275pipeBind1(4,2,t.isAuthenticated$)),a.\u0275\u0275advance(7),a.\u0275\u0275property("cdkVirtualForOf",a.\u0275\u0275pipeBind1(11,4,t.panelPageListItems$)))},dependencies:[y.NgIf,Xn.RouterLink,Gr.MatButton,aU.MatDivider,yd.MatIcon,tc.CdkFixedSizeVirtualScroll,tc.CdkVirtualForOf,tc.CdkVirtualScrollViewport,y.AsyncPipe],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.close-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;position:relative}.login[_ngcontent-%COMP%]{position:absolute;top:7px;right:5px}.pp-item[_ngcontent-%COMP%]{line-height:48px}.viewport[_ngcontent-%COMP%]{height:100%;width:300px}.viewport-container[_ngcontent-%COMP%]{flex:1;padding:0 0 0 16px;box-sizing:border-box}"]}),r}(),qG=function(){var o,r=function(n){function e(t,s,u,l){var d;return(0,v.A)(this,e),(d=(0,w.A)(this,e,[u])).siteName=t,d.authFacade=s,d.controlContainer=u,d.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem"),d}return(0,F.A)(e,n),(0,m.A)(e,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,fe.T)(function(s){return!!s}))}},{key:"login",value:function(){this.authFacade.login()}}])}(dS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(cn.SITE_NAME),a.\u0275\u0275directiveInject(bi),a.\u0275\u0275directiveInject(f.ControlContainer),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout-editor"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:42,vars:19,consts:[["drawer",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["panes",""],["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["cdkDropListGroup","",3,"formGroup","nested"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"mousedown"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","style-title",4,"ngIf"],["class","spacer",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","grid"],["value","gridless"],["value","split"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"style-title"],[1,"spacer"],[1,"brand"],["cdkDropList","",1,"panel-dropzone",3,"change","cdkDropListDropped","cdkDropListData","multiple","disableClick"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-sidenav-container",6)(1,"mat-sidenav",7,0)(3,"druid-layout-sidenav",8),a.\u0275\u0275listener("close",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(l.toggle())}),a.\u0275\u0275elementStart(4,"nav")(5,"ul"),a.\u0275\u0275template(6,EU,3,0,"li",9)(7,DU,3,0,"li",9)(8,wU,3,0,"li",9)(9,FU,3,0,"li",9)(10,kU,3,0,"li",9)(11,PU,3,0,"li",9),a.\u0275\u0275elementStart(12,"li")(13,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))}),a.\u0275\u0275text(14,"Add Content"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(15,"li")(16,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))}),a.\u0275\u0275text(17,"Props"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(18,IU,3,0,"li",9)(19,TU,3,0,"li",9),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-gridless-layout",11),a.\u0275\u0275template(22,GU,26,7,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(24,$U,1,1,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)(26,qU,4,4,"ng-template",null,3,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(28,"mat-menu",null,4),a.\u0275\u0275template(30,WU,2,0,"button",12)(31,QU,2,0,"button",13)(32,XU,2,0,"button",13)(33,YU,2,0,"button",13)(34,JU,2,0,"button",14)(35,ZU,2,0,"button",14),a.\u0275\u0275elementStart(36,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))}),a.\u0275\u0275text(37,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(38,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))}),a.\u0275\u0275text(39,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(40,eG,2,0,"button",15)(41,tG,2,0,"button",15),a.\u0275\u0275elementEnd()}2&e&&(a.\u0275\u0275property("hasBackdrop",!1),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable||t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngIf",!t.editor.hasPanelStyle(0)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)),a.\u0275\u0275advance(2),a.\u0275\u0275property("formGroup",t.controlContainer.control)("nested",t.nested),a.\u0275\u0275advance(9),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable||t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngIf",!t.editor.hasPanelStyle(0)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Iu.CdkDropList,Iu.CdkDropListGroup,Iu.CdkDrag,Er.MatOption,Gr.MatButton,yd.MatIcon,jt.MatFormField,ja.MatMenu,ja.MatMenuItem,ja.MatMenuTrigger,fa.MatSelect,ec.MatSidenav,ec.MatSidenavContainer,ec.MatSidenavContent,Vf,LS,GS],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),r}(),WG=function(){var o,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).controlContainer=t,s}return(0,F.A)(e,n),(0,m.A)(e,[{key:"ngOnInit",value:function(){}}])}(pS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout-renderer"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["innerGridItem",""],[3,"displayMainControls","displayItemHeader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-gridless-layout",1),a.\u0275\u0275template(1,rG,1,4,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("displayMainControls",t.displayMainControls)("displayItemHeader",t.displayItemHeader)},dependencies:[y.NgTemplateOutlet,LS],styles:["[_nghost-%COMP%]{height:100%}"]}),r}(),QG=function(){var o,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).controlContainer=t,s}return(0,F.A)(e,n),(0,m.A)(e,[{key:"gridItems",get:function(){return this.dashboard.map(function(s,u){return(0,g.A)((0,g.A)({},s),{},{cols:Math.floor(s.cols),weight:u})})}},{key:"ngOnInit",value:function(){}}])}(dS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-split-layout-editor"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:42,vars:17,consts:[["drawer",""],["splitLayout",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["panelActions","matMenu"],["panes",""],["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",3,"click"],["cdkDropListGroup","",3,"itemAdded","itemRemoved","layoutSettingChange","rowSettingsChange","columnSettingsChange","nested","formGroup","dashboard","layoutSetting","rowSettings","columnSettings"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["mat-menu-item","","type","button",3,"click"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","gridless"],["value","split"],[4,"ngTemplateOutlet"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"spacer"],[1,"brand"],["mat-button","","type","button",1,"panel-actions-btn",3,"matMenuTriggerFor"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"mousedown","touchstart"],["class","style-title",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],[1,"style-title"],["cdkDropList","",1,"panel-dropzone",3,"change","cdkDropListDropped","cdkDropListData","multiple","disableClick"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-sidenav-container",8)(1,"mat-sidenav",9,0)(3,"druid-layout-sidenav",10),a.\u0275\u0275listener("close",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(l.toggle())}),a.\u0275\u0275elementStart(4,"nav")(5,"ul"),a.\u0275\u0275template(6,aG,3,0,"li",11),a.\u0275\u0275elementStart(7,"li")(8,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.addRow())}),a.\u0275\u0275text(9,"Add Row"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(10,"li")(11,"button",13),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(12,"Props"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"li")(14,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.layoutSettings("global"))}),a.\u0275\u0275text(15,"Layout Settings"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(16,iG,3,0,"li",11)(17,oG,3,0,"li",11)(18,sG,3,0,"li",11)(19,uG,3,0,"li",11),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-split-layout",14,1),a.\u0275\u0275listener("itemAdded",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onItemAdded())})("itemRemoved",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onItemRemoved(l))})("layoutSettingChange",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onLayoutSettingChange(l))})("rowSettingsChange",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onRowSettingsChange(l))})("columnSettingsChange",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onColumnSettingsChange(l))}),a.\u0275\u0275template(23,hG,23,6,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)(25,bG,16,4,"ng-template",null,3,a.\u0275\u0275templateRefExtractor)(27,xG,4,4,"ng-template",null,4,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(29,"mat-menu",null,5),a.\u0275\u0275template(31,SG,2,0,"button",15),a.\u0275\u0275elementStart(32,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.addRow())}),a.\u0275\u0275text(33,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(34,"button",13),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(35,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(36,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.layoutSettings("global"))}),a.\u0275\u0275text(37,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(38,EG,2,0,"button",16)(39,DG,2,0,"button",17)(40,wG,2,0,"button",17)(41,FG,2,0,"button",16),a.\u0275\u0275elementEnd()}2&e&&(a.\u0275\u0275property("hasBackdrop",!1),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("nested",t.nested)("formGroup",t.controlContainer.control)("dashboard",t.dashboard)("layoutSetting",t.layoutSetting)("rowSettings",t.rowSettings)("columnSettings",t.columnSettings),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Iu.CdkDropList,Iu.CdkDropListGroup,Iu.CdkDrag,Er.MatOption,Gr.MatButton,yd.MatIcon,jt.MatFormField,ja.MatMenu,ja.MatMenuItem,ja.MatMenuTrigger,fa.MatSelect,ec.MatSidenav,ec.MatSidenavContainer,ec.MatSidenavContent,Vf,jS,GS],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.panel-actions-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),r}(),XG=function(){var o,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).controlContainer=t,s}return(0,F.A)(e,n),(0,m.A)(e,[{key:"ngOnInit",value:function(){}}])}(pS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-flex-layout-renderer"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[["innerGridItem",""],[3,"dashboard","layoutSetting","rowSettings","columnSettings"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-flex-layout",1),a.\u0275\u0275template(1,PG,1,4,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("dashboard",null==t.panelPage?null:t.panelPage.gridItems)("layoutSetting",t.panelPage.layoutSetting)("rowSettings",t.panelPage.rowSettings)("columnSettings",t.columnSettings)},dependencies:[y.NgTemplateOutlet,$G],encapsulation:2}),r}(),YG=function(){var r=new Map([["row",[new _t.Attribute({name:"flexGrow",type:_t.AttributeTypes.Text,label:"Flex Grow",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"flexShrink",type:_t.AttributeTypes.Text,label:"Flex Shrink",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"flexBasis",type:_t.AttributeTypes.Text,label:"Flex Basis",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"height",type:_t.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"direction",type:_t.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]],["column",[new _t.Attribute({name:"height",type:_t.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]})]],["global",[new _t.Attribute({name:"direction",type:_t.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]]]);return new US({id:"split",title:"Split",editor:QG,renderer:XG,settings:r})},zS=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),[YG(),new US({id:"gridless",title:"Gridless",editor:qG,renderer:WG,settings:new Map})].forEach(function(t){e.register(t)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Lf))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,Xn.RouterModule,f.ReactiveFormsModule,pa.MaterialModule,dc,mf,MS,Of,cn.UtilsModule,Gc,_t.AttributesModule]}),r}();function ZG(o,r){if(1&o&&a.\u0275\u0275element(0,"ngx-json-viewer",12),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("json",n.jsonData)("expanded",!1)}}var ys,jf=(0,m.A)(function o(r){(0,v.A)(this,o),this.params=[],r&&(this.url=r.url,this.method=r.method?r.method:void 0,void 0!==r.renderer&&(this.renderer=new Wv(r.renderer)),void 0!==r.params&&(this.params=r.params.map(function(n){return new ma(n)})),r.body&&(this.body=new Cu(r.body)))}),_d=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.datasourceApi=t,this.tokenizerService=s,this.dataChange=new a.EventEmitter,this.contexts=[],this.sourceForm=this.fb.group({url:this.fb.control("",f.Validators.required),params:this.fb.control([]),body:this.fb.control(""),method:this.fb.control("get",[f.Validators.required])}),this.restSource$=new M.t(new jf),this.urlParams$=new M.t({}),this.bodyParams$=new M.t({}),this.componentDestroyed=new T.B,this.refreshData$=new T.B,this.refreshSubscription=this.refreshData$.pipe((0,fe.T)(function(){return u.generateUrl()}),(0,X.M)(function(l){return console.log("URL Generated:",l)}),(0,te.p)(function(l){return l&&""!==l.trim()}),(0,We.n)(function(l){var d,p=u.sourceForm.get("method").value,h=null===(d=u.sourceForm.get("body").value)||void 0===d?void 0:d.content;return("post"===p?u.datasourceApi.postData({url:l,body:h}):u.datasourceApi.getData(l)).pipe((0,aa.W)(function(S){return console.error(S),(0,Re.of)([])}))}),(0,Zt.Q)(this.componentDestroyed)).subscribe(function(l){u.jsonData=l,u.dataChange.emit(l)}),this.urlChangeSub=this.sourceForm.get("url").valueChanges.pipe((0,Ln.B)(500),(0,te.p)(function(l){return l&&""!==l.trim()}),(0,fe.T)(function(l){return[l,l.indexOf("?")]}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return[h>-1?p.substring(0,h):p,h>-1?p.substring(h+1):""]})).subscribe(function(l){var d=(0,k.A)(l,2),h=d[1],_=d[0].split("/").reduce(function(P,B,z){return 0===B.indexOf(":")?(0,g.A)((0,g.A)({},P),{},(0,c.A)({},B.substr(1),B)):P},{}),S=(0,g.A)((0,g.A)({},_),Xa.parse(h));console.log("params parsed",S),u.urlParams$.next(S)}),this.bodyChangeSub=this.sourceForm.get("body").valueChanges.pipe((0,Ln.B)(500),(0,X.M)(function(l){console.log("body change",l);var d=u.parseBody(l.content);u.bodyParams$.next((0,g.A)({},d))})).subscribe(),this.paramsChangesSub=(0,zn.z)([this.urlParams$,this.bodyParams$]).pipe((0,Ln.B)(500),(0,X.M)(function(l){var d=(0,k.A)(l,2),h=d[1];u.paramsParsed=(0,g.A)((0,g.A)({},d[0]),h)})).subscribe(),this.restSourceSub=this.restSource$.pipe((0,X.M)(function(l){l?(u.sourceForm.get("url").setValue(l.url),u.sourceForm.get("method").setValue(l.method?l.method:""),u.sourceForm.get("body").setValue(l.body?(0,g.A)((0,g.A)({},l.body),{},{jsScript:""}):"")):(u.sourceForm.get("url").setValue(""),u.sourceForm.get("method").setValue(""),u.sourceForm.get("body").setValue(""))})).subscribe(),this.onTouched=function(){}},[{key:"restSource",set:function(t){this.restSource$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.sourceForm.valueChanges.pipe((0,Ln.B)(1e3)).subscribe(function(){console.log("refresh data"),t.refreshData$.next(void 0)})}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.next(void 0),this.componentDestroyed.complete()}},{key:"parseBody",value:function(t){var s=/\[:([a-zA-Z0-9_]+)\]/g,u={};return function l(d){if("string"==typeof d)for(var p;null!==(p=s.exec(d));){var h=p[1];u[h]=":".concat(h)}else if(Array.isArray(d)){var S,_=(0,N.A)(d);try{for(_.s();!(S=_.n()).done;)l(S.value)}catch(z){_.e(z)}finally{_.f()}}else if("object"==typeof d&&null!==d)for(var B in d)d.hasOwnProperty(B)&&l(d[B])}(t),u}},{key:"writeValue",value:function(t){t&&this.sourceForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.sourceForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.sourceForm.disable():this.sourceForm.enable()}},{key:"validate",value:function(t){return this.sourceForm.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"generateUrl",value:function(){console.log("generate url");for(var t=this.sourceForm.get("url").value,s=t?t.split("?",2):["",""],u=(0,k.A)(s,2),l=u[0],d=u[1],p=Xa.parse(d),h={},_=l.split("/"),S=_.length,P=[],B=0,z=0;z<S;z++)if(0===_[z].indexOf(":")){if(!this.sourceForm.get("params").value[B])return"";var Y=this.sourceForm.get("params").value[B].mapping;P.push("static"===Y.value.type?Y.value.value:Y.value.testValue),B++}else P.push(_[z]);for(var de in p)if("string"==typeof p[de]&&p[de].indexOf(":")>-1){if(!this.sourceForm.get("params").value[B])return"";var ge=this.sourceForm.get("params").value[B].mapping;h[de]="static"===ge.type?ge.value:ge.testValue,B++}var be=P.join("/")+(""!==d?"?"+Xa.stringify((0,g.A)((0,g.A)({},p),h)):"");return console.log(be),be}},{key:"onDataChange",value:function(t){this.tokens=this.tokenizerService.generateGenericTokens(t[0])}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(ix),a.\u0275\u0275directiveInject(Wn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-source-form"]],inputs:{restSource:"restSource",contexts:"contexts"},outputs:{dataChange:"dataChange"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:19,vars:7,consts:[["direction","horizontal",3,"formGroup"],["as-split-area","","size","50"],["required","","formControlName","method"],["value","get"],["value","post"],["value","put"],["value","delete"],["matInput","","placeholder","Url","formControlName","url","required",""],["formControlName","body","rows","10","cols","40",3,"rootForm","tokens"],["formControlName","params",3,"params","paramValues","contexts"],["size","50"],[3,"json","expanded",4,"ngIf"],[3,"json","expanded"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"as-split",0)(1,"div",1)(2,"div")(3,"mat-form-field")(4,"mat-select",2)(5,"mat-option",3),a.\u0275\u0275text(6,"GET"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-option",4),a.\u0275\u0275text(8,"POST"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-option",5),a.\u0275\u0275text(10,"PUT"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-option",6),a.\u0275\u0275text(12,"DELETE"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(13,"mat-form-field"),a.\u0275\u0275element(14,"input",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(15,"classifieds-ui-snippet-form",8)(16,"classifieds-ui-params-form",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"as-split-area",10),a.\u0275\u0275template(18,ZG,1,2,"ngx-json-viewer",11),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.sourceForm),a.\u0275\u0275advance(15),a.\u0275\u0275property("rootForm",!1)("tokens",t.tokens),a.\u0275\u0275advance(),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.restSource$.value.params)("contexts",t.contexts),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.jsonData))},dependencies:[y.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatInput,jt.MatFormField,fa.MatSelect,Hc,Kc,Tw,Cf,Jc],encapsulation:2}),r}(),ez=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.attributeSerializer=e,this.controlContainer=t,this.contexts=[]},[{key:"settings",set:function(t){this.restSource=t?new jf(this.attributeSerializer.deserializeAsObject(t)):void 0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"restSource","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("restSource",t.restSource)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_d],encapsulation:2}),r}(),bd=function(r){var p,n=r.method,e=r.url,t=r.data,s=r.options,u=r.params,l=r.http;if(t instanceof Error)return(0,Re.of)([]);switch(n){case"DELETE":p=l.delete(e,s),u.has("saveDelay")&&(p=p.pipe((0,lr.c)(+u.get("saveDelay"))));break;case"GET":var h=u.has("suffix")?e+u.get("suffix"):e;p=l.get(h,s),u.has("getDelay")&&(p=p.pipe((0,lr.c)(+u.get("getDelay"))));break;case"POST":p=l.post(e,t,s),u.has("saveDelay")&&(p=p.pipe((0,lr.c)(+u.get("saveDelay"))));break;case"PUT":p=l.put(e,t,s),u.has("saveDelay")&&(p=p.pipe((0,lr.c)(+u.get("saveDelay"))));break;default:var _=new Error("Unimplemented HTTP method, "+n);p=(0,Yi.$)(_)}return u.has("timeout")&&(p=p.pipe(Vd(+u.get("timeout")+ +u.get("saveDelay")))),p.pipe((0,aa.W)(function(){return(0,Re.of)([])}))},$S=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.attrbuteSerializer=e,this.http=t,this.snippetParserService=s,this.urlGenerator=u,this.paramsEvaluatorService=l},[{key:"fetchDataset",value:function(t){var s=this,u=t.settings,l=t.metadata;return console.log("metadata",l),(0,Re.of)(new Un).pipe((0,X.M)(function(){return console.log("START rest fetch")}),(0,fe.T)(function(){return s.attrbuteSerializer.deserializeAsObject(u)}),(0,fe.T)(function(d){return new jf(d)}),(0,We.n)(function(d){return s.urlGenerator.getUrl(d.url,d.params,l).pipe((0,fe.T)(function(p){return[new jf((0,g.A)((0,g.A)({},d),{},{url:p})),d]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,2),h=p[0],_=p[1];if("POST"===_.method.toUpperCase()&&_.body&&"application/json"===_.body.contentType){var S=s.parseUrl(_.url),P=_.body&&"application/json"===_.body.contentType?s.parseBody(_.body.content):{},B=(0,g.A)((0,g.A)({},S),P),z=s.mapKeyToParam(B,_.params||[]);return Object.keys(S).forEach(function(Y){return z.delete(Y)}),s.paramsEvaluatorService.paramValues(z).pipe((0,X.M)(function(Y){return console.log("Evaluated body params",Y)}),(0,fe.T)(function(Y){var de=JSON.parse(_.body.content);return s.replaceTokensInJson(de,Y)}),(0,fe.T)(function(Y){return[h,Y]}))}return(0,Re.of)([h,{}])}),(0,te.p)(function(d){var h=(0,k.A)(d,1)[0];return h.url&&""!==h.url.trim()&&h.url.indexOf("http")>-1}),(0,We.n)(function(d){var p=(0,k.A)(d,2),h=p[0],_=p[1];return bd((0,g.A)((0,g.A)({url:h.url,method:"POST"===h.method.toUpperCase()?"POST":"GET"},"POST"===h.method.toUpperCase()&&h.body&&"application/json"===h.body.contentType?{data:_}:{}),{},{http:s.http,params:new Map})).pipe((0,aa.W)(function(){return(0,Re.of)([])}),(0,fe.T)(function(S){return Array.isArray(S)?S:[S]}),(0,fe.T)(function(S){return new Un({results:S})}))}),(0,X.M)(function(){return console.log("END rest fetch")}))}},{key:"parseUrl",value:function(t){for(var l,s=/:([a-zA-Z0-9_]+)/g,u={};null!==(l=s.exec(t));){var d=l[1];u[d]=":".concat(d)}return u}},{key:"parseBody",value:function(t){var s=/\[:([a-zA-Z0-9_]+)\]/g,u={};return function l(d){if("string"==typeof d)for(var p;null!==(p=s.exec(d));){var h=p[1];u[h]=":".concat(h)}else if(Array.isArray(d)){var S,_=(0,N.A)(d);try{for(_.s();!(S=_.n()).done;)l(S.value)}catch(z){_.e(z)}finally{_.f()}}else if("object"==typeof d&&null!==d)for(var B in d)d.hasOwnProperty(B)&&l(d[B])}(t),u}},{key:"mapKeyToParam",value:function(t,s){var u=new Map;return Object.keys(t).forEach(function(d,p){p<s.length&&u.set(d,s[p])}),u}},{key:"replaceTokensInJson",value:function(t,s){var u=this;if("string"==typeof t){var d,l=(0,N.A)(s);try{for(l.s();!(d=l.n()).done;){var p=(0,k.A)(d.value,2),h=p[0],_=p[1];t=(t=t.replace(new RegExp("\\[:".concat(h,"\\]"),"g"),_.toString())).replace(new RegExp(":".concat(h),"g"),_.toString())}}catch(me){l.e(me)}finally{l.f()}return t}if(Array.isArray(t))return t.map(function(me){return u.replaceTokensInJson(me,s)});if("object"==typeof t&&null!==t){var S={};for(var P in t)if(t.hasOwnProperty(P)){var Y,B=P,z=(0,N.A)(s);try{for(z.s();!(Y=z.n()).done;){var de=(0,k.A)(Y.value,2),ge=de[0],be=de[1];B=(B=B.replace(new RegExp("\\[:".concat(ge,"\\]"),"g"),be.toString())).replace(new RegExp(":".concat(ge),"g"),be.toString())}}catch(me){z.e(me)}finally{z.f()}S[B]=this.replaceTokensInJson(t[P],s)}return S}return t}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(H1),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(co))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),HS=function(){var o,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).pluralizer2=t,s}return(0,F.A)(e,n),(0,m.A)(e,[{key:"getResourceUrls",value:function(s,u){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?u:l_(u);return{entityResourceUrl:"".concat(d,"/").concat(s,"/").toLowerCase(),collectionResourceUrl:"".concat(d,"/").concat(this.pluralizer2.pluralize(s),"/").toLowerCase()}}}])}(u_);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ac))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),rz=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,h,_){(0,v.A)(this,n),e.register(function(r,n,e){return new fo({id:"rest",title:"Rest",editor:ez,fetch:function(s){return r.fetchDataset({settings:s.settings,metadata:s.metadata})},editorOptions:function(){return(0,Re.of)(new xf({fullscreen:!0}))},getBindings:function(s){var u=s.settings;return(0,Re.of)([]).pipe((0,fe.T)(function(){return e.deserializeAsObject(u)}),(0,fe.T)(function(d){return new Bo(d)}),(0,We.n)(function(d){return n.extractContexts(d.params)}),(0,fe.T)(function(d){return d.map(function(p){return new Xt.ContentBinding({id:p,type:"context"})})}))}})}(t,s,u)),l.register(function(r,n,e,t){return new ql({id:"rest",title:"Rest",create:function(u){var l=u.object,d=u.params;return(0,Re.of)({success:!1}).pipe((0,We.n)(function(){return r.paramValues(new Map(Object.keys(d).map(function(p){return[p,d[p]]})))}),(0,We.n)(function(p){return bd({method:"POST",url:e.entityResource(p.get("entityName"),p.has("root")?p.get("root"):t.root?t.root:"api",!0),data:l||new Error("No entity to add"),params:p,http:n})}),(0,fe.T)(function(){return{success:!0,entity:l}}))},read:function(u){return pi(u),(0,Re.of)({success:!1})},update:function(u){var l=u.object,d=u.identity,p=u.params,h=u.parentObject;return(0,Re.of)({success:!1}).pipe((0,We.n)(function(){return d({object:l,parentObject:h})}),(0,We.n)(function(_){var S=_.identity;return r.paramValues(new Map(Object.keys(p).map(function(P){return[P,p[P]]}))).pipe((0,fe.T)(function(P){return{identity:S,options:P}}))}),(0,We.n)(function(_){var S=_.identity,P=_.options;return bd({method:"PUT",url:e.entityResource(P.get("entityName"),P.has("root")?P.get("root"):t.root?t.root:"api",!0)+"".concat(S),data:l||new Error("No entity to add"),params:P,http:n})}),(0,fe.T)(function(){return{success:!0,entity:l}}))},delete:function(u){return pi(u),(0,Re.of)({success:!1})},query:function(u){var l=u.params,d=u.rule;return(0,Re.of)({success:!1}).pipe((0,We.n)(function(){return r.paramValues(new Map(Object.keys(l).map(function(p){return[p,l[p]]})))}),(0,We.n)(function(p){return new G.c(function(h){var _=d?d.conditions.all.reduce(function(P,B){return[].concat((0,A.A)(P),(0,A.A)(B.any.filter(function(z){return"identity"!==z.fact}).map(function(z){return"".concat(z.path.substr(2),"=").concat(z.value)})))},[]):[],S=d?d.conditions.all.reduce(function(P,B){return P||B.any.find(function(z){return"identity"===z.fact})},void 0):void 0;h.next({identityFact:S,options:p,query:_.length>0?new E.HttpParams({fromString:_.join("&")}):void 0,path:S?S.value:""}),h.complete()})}),(0,We.n)(function(p){var h=p.options,_=p.query,S=p.path,P=p.identityFact;return er(function(){return!!P},bd({method:"GET",url:e.entityResource(h.get("entityName"),h.has("root")?h.get("root"):t.root?t.root:"api",!0)+S,options:{params:_},params:h,http:n}).pipe((0,fe.T)(function(B){return{success:!0,entities:Array.isArray(B)?B:[B]}})),bd({method:"GET",url:e.collectionResource(h.get("entityName"),h.has("root")?h.get("root"):t.root?t.root:"api")+S,options:{params:_},params:h,http:n}).pipe((0,fe.T)(function(B){return{success:!0,entities:B}})))}))}})}(d,p,h,_))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject($S),a.\u0275\u0275inject(ey),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(gs),a.\u0275\u0275inject(co),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(HS),a.\u0275\u0275inject(Ku))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[$S,HS],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,mf,Fd,jv,Su,Gc,rd,ps]}),r}(),nc=b(47470),My=b(65903),az=b(80967),Ny=b(63037),KS=b(95812),oz=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),rc=function(r){var n=r.selector,t=r.document.createDocumentFragment();if(!n||-1!==n.indexOf("undefined"))return!1;try{t.querySelector(n)}catch{return!1}return!0},sz=/\/\*[\s\S]*?\*\//g,uz=/([^\:]+):([^\;]*);/,lz=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,Uf=function(r){return typeof r>"u"||0==r.length||null==r},cz={ordered:!1,comments:!1,stripComments:!1,split:!1},dz=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.document=e,this.mutate$=new T.B,this.mutated$=new T.B,this.mutateSub=this.mutate$.pipe((0,te.p)(function(s){var u=s.record;return"attributes"===u.type&&"style"===u.attributeName&&!!u.target}),(0,Ln.B)(2e3),(0,We.n)(function(s){return t.mapRecord({record:s.record,overlay:s.overlay})}),(0,X.M)(function(s){return t.mutated$.next({stylesheet:s.stylesheet})})).subscribe()},[{key:"stylize",value:function(t){var s=this,u=t.targetNode,l=new Map;new MutationObserver(function(h){h.forEach(function(_){s.mutate$.next({record:_,overlay:l})})}).observe(u,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0})}},{key:"mapRecord",value:function(t){var s=this,u=t.record,l=t.overlay;return new G.c(function(d){var p=KS.default(u.target),h=s.toJSON("".concat(p," { ").concat(u.oldValue," }")),_=h.children[p]?Object.keys(h.children[p].attributes).reduce(function(Y,de){return(0,g.A)((0,g.A)({},Y),{},(0,c.A)({},ku(de.replace("-","_"),!1),h.children[p].attributes[de]))},{}):void 0,S=Object.keys(u.target.style).reduce(function(Y,de){return!Number.isNaN(parseInt(de))&&u.target.style.hasOwnProperty(ku(u.target.style[de].replace("-","_"),!1))?(0,g.A)((0,g.A)({},Y),{},(0,c.A)({},ku(u.target.style[de].replace("-","_"),!1),u.target.style[ku(u.target.style[de].replace("-","_"),!1)])):Y},{}),P=sd(_,S);l.set(p,P);var B=[];l.forEach(function(Y,de){var be=de.split(" ").reduce(function(qe,dt,ot){return-1!==dt.indexOf(".pane-")||-1!==dt.indexOf(".panel-")?{selector:[].concat((0,A.A)(qe.selector),[dt.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:qe.chars+dt.length,lastIndex:qe.chars+ot+dt.length}:(0,g.A)((0,g.A)({},qe),{},{chars:qe.chars+dt.length})},{selector:[],chars:0,lastIndex:0});if(0!==be.selector.length){var me=(be.selector.join(" ")+" "+de.slice(be.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"").trim();0===me.indexOf(".panel-page")&&(me=me.substr(12).trim()),rc({selector:me,document:s.document})&&B.push(me+" { "+Object.keys(Y).reduce(function(qe,dt){return dt.match(/^[a-zA-Z-]*$/gm)?"".concat(qe).concat(function Fj(o){return o.replace(/_/g,"-")}(function ud(o){var r=""+o;return(r=(r=(r=(r=r.replace(new RegExp("(?:([A-Za-z\\d])|^)("+go().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(n,e,t){return(e||"")+(e?"_":"")+t.toLowerCase()})).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}(dt)),": ").concat(Y[dt],";"):qe},"")+" }")}});var z=B.join("\n");d.next({stylesheet:z}),d.complete()})}},{key:"toJSON",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cz,h={children:{},attributes:{}},_=null,S=0;for(s.stripComments&&(s.comments=!1,t=t.replace(sz,""));null!=(_=lz.exec(t));)if(!Uf(_[1])&&s.comments)h[S++]=_[1].trim();else if(Uf(_[2])){if(!Uf(_[3]))return h;if(!Uf(_[4])){var be=_[4].trim(),me=uz.exec(be);if(me){var Pe=me[1].trim(),qe=me[2].trim();if(s.ordered)h[S++]={name:Pe,value:qe,type:"attr"};else if(Pe in h.attributes){var dt=h.attributes[Pe];dt instanceof Array||(h.attributes[Pe]=[dt]),h.attributes[Pe].push(qe)}else h.attributes[Pe]=qe}else h[S++]=be}}else{var P=_[2].trim(),B=this.toJSON(t,s);if(s.ordered)h[S++]={name:P,value:B,type:"rule"};else{var z=s.split?P.split(","):[P];for(var Y in z){var de=z[Y].trim();if(de in h.children)for(var ge in B.attributes)h.children[de].attributes[ge]=B.attributes[ge];else h.children[de]=B}}}return h}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Ru=function(o){return o[o.KEEP=0]="KEEP",o[o.ADD=1]="ADD",o[o.REMOVE=2]="REMOVE",o}(Ru||{}),pz=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.document=e,this.mutate=new T.B,this.mutated$=new T.B,this.mutateub=this.mutate.pipe((0,te.p)(function(s){var u=s.record;return"attributes"===u.type&&"class"===u.attributeName&&!!u.target}),(0,Ln.B)(2e3),(0,We.n)(function(s){var l=s.overlay;return t.mapRecord({record:s.record,overlay:l,originals:s.originals}).pipe((0,aa.W)(function(p){return(0,Re.of)({classes:l})}))}),(0,X.M)(function(s){return t.mutated$.next({classes:s.classes})})).subscribe()},[{key:"classify",value:function(t){var s=this,u=t.targetNode,l=new Map,d=new Map;new MutationObserver(function(_){_.forEach(function(S){s.mutate.next({record:S,overlay:l,originals:d})})}).observe(u,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}},{key:"mapRecord",value:function(t){var s=this,u=t.record,l=t.overlay,d=t.originals;return new G.c(function(p){var h=KS.default(u.target),_="",S=u.oldValue&&null!==u.oldValue?u.oldValue.split(" ").map(function(me){return me.trim()}):[],B=h.split(" ").reduce(function(me,Pe,qe){return-1!==Pe.indexOf(".pane-")||-1!==Pe.indexOf(".panel-")?{selector:[].concat((0,A.A)(me.selector),[Pe.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:me.chars+Pe.length,lastIndex:me.chars+qe+Pe.length}:(0,g.A)((0,g.A)({},me),{},{chars:me.chars+Pe.length})},{selector:[],chars:0,lastIndex:0});if(0!==B.selector.length){var z=h.substring(B.lastIndex).split(">").map(function(me){return me.trim()}).filter(function(me){return""!==me}).map(function(me,Pe){var qe=me.indexOf("."),dt=-1===qe?me.substring(0):me.substring(0,qe),pt=(-1===qe?[]:me.substring(qe+1).split(".")).filter(function(Tt){return void 0!==S.find(function(Lt){return Tt===Lt})});return(0===Pe?" > ":"")+dt+(0===pt.length?"":"."+pt.join("."))});0===(_=(B.selector.join(" ")+z.join(" > ")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"")).indexOf(".panel-page")&&(_=_.substr(12).trim())}if(rc({selector:_,document:s.document})){d.has(_)||d.set(_,new Set(S));var de=u.target.classList,ge=new Map(Array.from(de.values()).map(function(me){return["".concat(me),!d.has(_)||!d.get(_).has("".concat(me))&&0!=="".concat(me).indexOf("ng-")&&0!=="".concat(me).indexOf("mat-")?Ru.ADD:Ru.KEEP]})),be=Array.from(d.get(_)).reduce(function(me,Pe){return[-1===Array.from(de.values()).findIndex(function(qe){return qe===Pe})?Pe:void 0]},[]).filter(function(me){return void 0!==me});0!==be.length&&be.forEach(function(me){return ge.set(me,Ru.REMOVE)}),0===ge.size&&l.has(_)?l.delete(_):0!==ge.size&&l.set(_,ge),p.next({classes:l}),p.complete()}else p.error(new Error('Selector invalid "'+_+'"')),p.complete()})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function fz(o,r){}function mz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPage",n.panelPage)("nested",!0)("contexts",n.contexts)("css",n.filteredCss)("listeners",n.filteredListeners)("ancestory",n.ancestoryWithSelf)}}function gz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",5),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",n.linkedPageId)("nested",!0)("contexts",n.contexts)("ancestory",n.ancestoryWithSelf)}}function hz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPage",n.embedPanel)("nested",!0)("contexts",n.contexts)("css",n.filteredCss)("listeners",n.filteredListeners)("ancestory",n.ancestoryWithSelf)}}var vz=["panes"];function yz(o,r){}function _z(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",8),2&o){var n=r.$implicit,e=r.index,t=a.\u0275\u0275nextContext(3),s=a.\u0275\u0275reference(1);a.\u0275\u0275property("formControlName",e)("pluginName",n.contentPlugin)("settings",n.settings)("name",n.name)("label",n.label)("originPane",t.panel.panes[t.originMappings[e]])("contexts",n.contexts)("displayType",t.displayType)("resolvedContext",n.resolvedContext)("indexPosition",e)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf$.value)("panes",s)("originPanes",t.originPanes)}}function bz(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0)(1)(2,6),a.\u0275\u0275template(3,_z,1,15,"classifieds-ui-render-pane",7),a.\u0275\u0275elementContainerEnd()()()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",n.resolvedPanes)}}function Az(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",10),2&o){var n=r.$implicit,e=r.index,t=a.\u0275\u0275nextContext(3),s=a.\u0275\u0275reference(1);a.\u0275\u0275property("pluginName",n.contentPlugin)("settings",n.settings)("name",n.name)("label",n.label)("originPane",t.panel.panes[t.originMappings[e]])("contexts",n.contexts)("linkedPageId",n.linkedPageId)("displayType",t.displayType)("resolvedContext",n.resolvedContext)("indexPosition",e)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf$.value)("panes",s)("originPanes",t.originPanes)}}function Cz(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Az,1,15,"classifieds-ui-render-pane",9),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",n.resolvedPanes)}}function xz(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0)(1,4),a.\u0275\u0275template(2,bz,4,1,"ng-container",5)(3,Cz,2,1,"ng-container",5),a.\u0275\u0275elementContainerEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitch",n.displayType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","form"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","page")}}var Sz=["renderPanelTpl"];function Ez(o,r){}function Dz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.submit())}),a.\u0275\u0275text(1,"Submit"),a.\u0275\u0275elementEnd()}}function wz(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0,1)(1,5),a.\u0275\u0275element(2,"classifieds-ui-render-panel",6),a.\u0275\u0275elementContainerEnd()()),2&o){var n=r.i,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e.pageForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("formControlName",n)("panel",e.panelPageCached.panels[n])("nested",e.nested$.value)("contexts",e.contexts$.value)("resolvedContext",e.resolvedContext)("contextsChanged",e.contextsChanged)("displayType",e.panelPageCached.displayType)("indexPosition",n)("css",e.filteredCss)("listeners",e.filteredListeners)("ancestory",e.ancestory$.value)}}var Gf=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiPaneContentHost",""]],standalone:!1}),r}(),qS=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiLayoutRendererHost",""]],standalone:!1}),r}(),Vy=function(){function o(r,n,e,t,s,u,l,d,p,h,_,S,P,B,z,Y,de,ge,be,me,Pe,qe,dt,ot,pt,Tt,Lt){var mt=this;(0,v.A)(this,o),this.platformId=r,this.mediaSettings=n,this.routerStore=e,this.fb=t,this.el=s,this.inlineContextResolver=u,this.pageBuilderFacade=l,this.cpm=d,this.cxm=p,this.lpm=h,this.componentFactoryResolver=_,this.styleLoader=S,this.http=P,this.cssHelper=B,this.attributeSerializer=z,this.formService=Y,this.panelsContextService=de,this.asyncApiCallHelperSvc=ge,this.crudDataHelperService=be,this.entityDefinitionService=me,this.ngZone=Pe,this.persistService=qe,this.stylizerService=dt,this.classifyService=ot,this.fileService=pt,this.authFacade=Tt,this.resolvedContext={},this.contextsChanged=[],this.persistenceEnabled=!1,this.onInit$=new T.B,this.afterViewInit$=new T.B,this.afterContentInit$=new T.B,this.renderLayout$=new T.B,this.id$=new M.t(void 0),this.panelPage$=new M.t(void 0),this.nested$=new M.t(!1),this.ancestory$=new M.t([]),this.contexts$=new M.t([]),this.instanceUniqueIdentity=ur(),this.isStable=!1,this.managedCssCache="",this.managedClassesCache={},this.filteredListeners=[],this.css$=new M.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=this.css$.subscribe(function(yt){mt.nested$.value&&console.log("filtered css nested",yt),mt.filteredCss=yt}),this.listeners$=new M.t([]),this.listenersSub=this.listeners$.pipe((0,X.M)(function(yt){mt.filteredListeners=yt})).subscribe(),this.settingsFormArray=this.fb.array([]),this.pageForm=this.fb.group({panels:this.fb.array([])}),this.bridgeSub=this.pageForm.valueChanges.pipe((0,te.p)(function(){return mt.nested$.value}),(0,Ln.B)(500)).subscribe(function(yt){console.log("write page"),console.log(yt),mt.settingsFormArray.clear();var wt=mt.attributeSerializer.convertToGroup(mt.attributeSerializer.serialize(yt,"value").attributes[0]);mt.settingsFormArray.push(wt),console.log(wt.value)}),this.idOrPanelPageSub=(0,zn.z)([this.id$,this.panelPage$]).pipe((0,Ao.F)(),(0,fe.T)(function(yt){var wt=(0,k.A)(yt,2);return{id:wt[0],panelPage:wt[1]}}),(0,te.p)(function(yt){return!!yt.id||!!yt.panelPage}),(0,We.n)(function(yt){var wt=yt.id;return er(function(){return!wt},(0,Re.of)({panelPage:yt.panelPage}),new G.c(function(tn){var Yn=mt.entityDefinitionService.getDefinition("PanelPage").metadata;return mt.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(wt),plugins:Yn.crud,op:"query"}).pipe((0,fe.T)(function(Wr){return Wr&&0!==Wr.length?Wr[0]:void 0}),(0,X.M)(function(Wr){tn.next({panelPage:Wr}),tn.complete()})).subscribe()}))}),(0,We.n)(function(yt){var wt=yt.panelPage;return mt.cpm.getPlugins(wt.panels.reduce(function(Jt,tn){return tn.panes.forEach(function(Yn){Jt.includes(Yn.contentPlugin)||Jt.push(Yn.contentPlugin)}),Jt},[])).pipe((0,fe.T)(function(){return{panelPage:wt}}))}),(0,We.n)(function(yt){var wt=yt.panelPage;return er(function(){return!mt.nested$.value},
/*!this.nested ? this.panelsContextService.allActivePageContexts({ panelPage: p }).pipe(
                  map(paneContexts => [p, isDynamic, paneContexts])
                ): of([p, isDynamic, []]),*/
mt.panelsContextService.allActivePageContexts({panelPage:wt}).pipe((0,fe.T)(function(Jt){return{panelPage:wt,contexts:Array.from(Jt)}})),(0,Re.of)({panelPage:wt,contexts:[]}))}),(0,X.M)(function(yt){var wt=yt.panelPage,Jt=yt.contexts;mt.hookupFormChange({panelPage:wt}),mt.populatePanelsFormArray({panelPage:wt}),mt.panelPageCached=wt,mt.persistenceEnabled=wt.persistence&&wt.persistence.dataduct&&wt.persistence.dataduct.plugin&&""!==wt.persistence.dataduct.plugin,mt.filteredListeners=wt.interactions&&wt.interactions.interactions&&wt.interactions.interactions.listeners?wt.interactions.interactions.listeners:[],mt.renderLayout$.next(wt),mt.contexts$.next([].concat((0,A.A)(wt.contexts?wt.contexts.map(function(tn){return new Ia(tn)}):[]),(0,A.A)(Jt))),mt.hookupCss({file:wt.cssFile?wt.cssFile.trim():void 0}),console.log("cached panel page: ".concat(wt.id))})).subscribe(),this.hookupContextSub=(0,zn.z)(this.contexts$,this.afterContentInit$).pipe((0,fe.T)(function(yt){return(0,k.A)(yt,1)[0]}),(0,We.n)(function(yt){return mt.inlineContextResolver.resolveMerged(yt,"panelpage:".concat(ur())).pipe((0,We.n)(function(wt){return mt.cxm.getPlugins().pipe((0,fe.T)(function(Jt){return{contexts:yt,resolvedContext:wt,globalPlugins:Array.from(Jt.values()).filter(function(tn){return!0===tn.global})}}))}),(0,pn.s)(1))}),(0,X.M)(function(){mt.resolveSub&&mt.resolveSub.unsubscribe()}),(0,X.M)(function(yt){var wt=yt.contexts,tn=yt.globalPlugins;mt.resolvedContext=yt.resolvedContext;var Yn=new T.B;if((0,y.isPlatformServer)(mt.platformId))var Wr=setInterval(function(){0===o.registredContextListeners.size&&(Yn.next(),Yn.complete(),clearInterval(Wr))},1e3);mt.resolveSub=mt.inlineContextResolver.resolveMergedSingle(wt).pipe((0,nc.i)(tn.length+(wt?wt.length:0)),(0,X.M)(function(){return o.registredContextListeners.add(mt.instanceUniqueIdentity)}),(0,X.M)(function(Hn){return console.log("buffer",Hn)}),function iz(o){for(var r,n,e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var u=null!==(r=(0,c0.lI)(t))&&void 0!==r?r:vc.E,l=null!==(n=t[0])&&void 0!==n?n:null,d=t[1]||1/0;return(0,Es.N)(function(p,h){var _=[],S=!1,P=function(de){var ge=de.buffer;de.subs.unsubscribe(),(0,az.o)(_,de),h.next(ge),S&&B()},B=function(){if(_){var de=new gx.yU;h.add(de);var be={buffer:[],subs:de};_.push(be),(0,Dm.N)(de,u,function(){return P(be)},o)}};null!==l&&l>=0?(0,Dm.N)(h,u,B,l,!0):S=!0,B();var z=(0,Ui._)(h,function(Y){var be,de=_.slice(),ge=(0,N.A)(de);try{for(ge.s();!(be=ge.n()).done;){var me=be.value,Pe=me.buffer;Pe.push(Y),d<=Pe.length&&P(me)}}catch(qe){ge.e(qe)}finally{ge.f()}},function(){for(;_?.length;)h.next(_.shift().buffer);z?.unsubscribe(),h.complete(),h.unsubscribe()},void 0,function(){return _=null});p.subscribe(z)})}(1),(0,X.M)(function(Hn){0===Hn.length&&o.registredContextListeners.delete(mt.instanceUniqueIdentity)}),(0,te.p)(function(Hn){return 0!==Hn.length}),(0,X.M)(function(Hn){mt.contextsChanged=Hn.reduce(function(ei,Oi){var yo=(0,k.A)(Oi,2)[0];return[].concat((0,A.A)(ei),(0,A.A)(ei.includes(yo)?[]:[yo]))},[]),mt.resolvedContext=Hn.reduce(function(ei,Oi){var Ua=(0,k.A)(Oi,2),yo=Ua[0],oc=Ua[1];return(0,g.A)((0,g.A)({},ei),{},(0,c.A)({},yo,oc))},mt.resolvedContext)}),(0,X.M)(function(){return o.registredContextListeners.delete(mt.instanceUniqueIdentity)}),(0,y.isPlatformServer)(mt.platformId)?(0,Zt.Q)(Yn):(0,X.M)(function(){})).subscribe()})).subscribe(),this.renderLayoutSub=(0,zn.z)([this.renderLayout$,this.afterViewInit$]).pipe((0,lr.c)(1),(0,fe.T)(function(yt){return{panelPage:(0,k.A)(yt,1)[0]}}),(0,We.n)(function(yt){var wt=yt.panelPage;return mt.lpm.getPlugin(wt.layoutType).pipe((0,fe.T)(function(Jt){return{panelPage:wt,plugin:Jt}}))}),(0,X.M)(function(){return console.log("start render layout")}),(0,fe.T)(function(yt){return{panelPage:yt.panelPage,plugin:yt.plugin,viewContainerRef:mt.layoutRendererHost.viewContainerRef}}),(0,X.M)(function(yt){return yt.viewContainerRef.clear()}),(0,fe.T)(function(yt){return{panelPage:yt.panelPage,layoutRendererRef:yt.viewContainerRef.createComponent(yt.plugin.renderer)}}),(0,X.M)(function(yt){return mt.layoutRendererRef=yt.layoutRendererRef}),(0,X.M)(function(yt){var wt=yt.layoutRendererRef,Jt=yt.panelPage;wt.instance.renderPanelTpl=mt.renderPanelTpl,wt.instance.panelPage=Jt}),(0,X.M)(function(){return console.log("end render layout")})).subscribe(),this.stylizerSub=this.afterViewInit$.pipe((0,te.p)(function(){return(0,y.isPlatformBrowser)(mt.platformId)}),(0,X.M)(function(){mt.stylizerService.stylize({targetNode:mt.el.nativeElement})})).subscribe(),this.classifySub=this.afterViewInit$.pipe((0,te.p)(function(){return(0,y.isPlatformBrowser)(mt.platformId)}),(0,X.M)(function(){mt.classifyService.classify({targetNode:mt.el.nativeElement})})).subscribe(),this.stylizerMutatedSub=(0,y.isPlatformBrowser)(this.platformId)?this.stylizerService.mutated$.pipe((0,Ln.B)(2e3),(0,nc.i)(1),(0,We.n)(function(yt){var wt=yt.stylesheet;return mt.authFacade.getUser$.pipe((0,fe.T)(function(Jt){return{stylesheet:wt,isAuthenticated:!!Jt}}))}),(0,te.p)(function(yt){return yt.isAuthenticated}),(0,X.M)(function(yt){console.log("merged css",yt.stylesheet)}),(0,te.p)(function(){return!!mt.panelPageCached&&!!mt.panelPageCached.id}),(0,We.n)(function(yt){var wt=yt.stylesheet;return mt.isStable?(0,Re.of)({stylesheet:wt}):mt.ngZone.onStable.asObservable().pipe((0,fe.T)(function(){return{stylesheet:wt}}),(0,pn.s)(1))}),(0,fe.T)(function(yt){var wt=yt.stylesheet;return{stylesheet:(mt.managedCssCache&&""!==mt.managedCssCache.trim()?mt.managedCssCache+"\n":"")+wt}}),(0,Fs.H)(function(yt){return mt.fileService.bulkUpload({nocache:!0,files:[new File([yt.stylesheet],"panelpage__".concat(mt.panelPageCached.id,".css"))],fileNameOverride:"panelpage__".concat(mt.panelPageCached.id,".css")})}),(0,X.M)(function(){console.log("stylesheet saved.")})).subscribe():void 0,this.classifyMutatedSub=(0,y.isPlatformBrowser)(this.platformId)?this.classifyService.mutated$.pipe((0,Ln.B)(2e3),(0,nc.i)(1),(0,We.n)(function(yt){var wt=yt.classes;return mt.authFacade.getUser$.pipe((0,fe.T)(function(Jt){return{classes:wt,isAuthenticated:!!Jt}}))}),(0,te.p)(function(yt){return yt.isAuthenticated}),(0,X.M)(function(yt){console.log("merged classes",yt.classes)}),(0,te.p)(function(){return!!mt.panelPageCached&&!!mt.panelPageCached.id}),(0,We.n)(function(yt){var wt=yt.classes;return mt.isStable?(0,Re.of)({classes:wt}):mt.ngZone.onStable.asObservable().pipe((0,fe.T)(function(){return{classes:wt}}),(0,pn.s)(1))}),(0,fe.T)(function(yt){var wt=yt.classes;return{classes:Array.from(wt.keys()).reduce(function(Jt,tn){return(0,g.A)((0,g.A)({},Jt),{},(0,c.A)({},tn,Array.from(wt.get(tn).keys()).filter(function(Yn){return wt.get(tn).get(Yn)!==Ru.KEEP}).reduce(function(Yn,Wr){return(0,g.A)((0,g.A)({},Yn),{},(0,c.A)({},Wr,wt.get(tn).get(Wr)))},{})))},{})}}),(0,fe.T)(function(yt){return{classes:sd(mt.managedClassesCache,yt.classes)}}),(0,fe.T)(function(yt){return{json:JSON.stringify(yt.classes)}}),(0,Fs.H)(function(yt){return mt.fileService.bulkUpload({nocache:!0,files:[new File([yt.json],"panelpage__".concat(mt.panelPageCached.id,"__classes.json"))],fileNameOverride:"panelpage__".concat(mt.panelPageCached.id,"__classes.json")})}),(0,X.M)(function(){console.log("classes saved.")})).subscribe():void 0,this.onStableSub=this.ngZone.onStable.asObservable().pipe((0,X.M)(function(){return mt.isStable=!0})).subscribe(),this.onUnstableSub=this.ngZone.onUnstable.asObservable().pipe((0,X.M)(function(){return mt.isStable=!1})).subscribe(),this.onTouched=function(){},this.panelPageService=Lt.getEntityCollectionService("PanelPage"),this.panelPageFormService=Lt.getEntityCollectionService("PanelPageForm"),this.panelPageStateService=Lt.getEntityCollectionService("PanelPageState")}return(0,m.A)(o,[{key:"id",set:function(n){this.id$.next(n)}},{key:"panelPage",set:function(n){this.panelPage$.next(n)}},{key:"nested",set:function(n){this.nested$.next(n)}},{key:"contexts",set:function(n){this.contexts$.next(n)}},{key:"ancestory",set:function(n){this.ancestory$.next(n)}},{key:"css",set:function(n){this.css$.next(n)}},{key:"listeners",set:function(n){this.listeners$.next(n)}},{key:"panelsArray",get:function(){return this.pageForm.get("panels")}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"ngOnDestroy",value:function(){o.registredContextListeners.delete(this.instanceUniqueIdentity)}},{key:"populatePanelsFormArray",value:function(n){var e=this,t=n.panelPage;this.panelsArray.clear(),t.panels.forEach(function(){e.panelsArray.push(e.fb.control(""))})}},{key:"hookupFormChange",value:function(n){var e=this,t=n.panelPage;this.pageForm.valueChanges.pipe((0,Ln.B)(100),(0,te.p)(function(){return void 0!==t&&"form"===t.displayType})).subscribe(function(s){var u=new vs((0,g.A)((0,g.A)({},s),{},{name:t.name,title:t.title,derivativeId:t.id}));e.pageBuilderFacade.setForm(t.name,u)})}},{key:"hookupCss",value:function(n){var e=this;(0,bn.p)([(0,Re.of)(void 0),(0,Re.of)(void 0),(0,Re.of)(void 0),this.panelPageCached.id?this.http.get("".concat(this.mediaSettings.imageUrl,"/media/panelpage__").concat(this.panelPageCached.id,"__classes.json")).pipe((0,aa.W)(function(){return(0,Re.of)(void 0)}),(0,qr.U)(void 0)):(0,Re.of)(void 0)]).pipe((0,X.M)(function(s){var u=(0,k.A)(s,4),l=u[0],d=u[1],p=u[2],h=u[3];console.log("fetched managed panelpage css and class files");var _={};e.managedCssCache="",e.managedClassesCache=h,l&&(_=sd(_,l)),d&&(e.managedCssCache=p,_=sd(_,d)),e.filteredCss={css:_,classes:h}})).subscribe()}},{key:"submit",value:function(){if(this.pageForm.valid){var n=new vs((0,g.A)({},this.pageForm.value)),e=this.formService.serializeForm(n);console.log(n),console.log(this.formService.serializeForm(n)),console.log("form data",e),this.persistService.persist({data:e,persistence:this.panelPageCached.persistence}).subscribe(function(){console.log("persisted data")})}else console.log("detected form invalid")}},{key:"writeValue",value:function(n){n&&this.settingsFormArray.setValue(n,{emitEvent:!1})}},{key:"registerOnChange",value:function(n){this.settingsFormArray.valueChanges.subscribe(n)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"setDisabledState",value:function(n){n?this.settingsFormArray.disable():this.settingsFormArray.enable()}},{key:"validate",value:function(n){var e=this;return this.pageForm.statusChanges.pipe((0,Ny.Z)(this.pageForm.status),(0,te.p)(function(t){return"PENDING"!==t}),(0,Ln.B)(1),(0,pn.s)(1),(0,fe.T)(function(t){return e.pageForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}))}}])}();(ys=Vy).registredContextListeners=new Set,ys.\u0275fac=function(r){return new(r||ys)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(cf),a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(zl),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(fs),a.\u0275\u0275directiveInject(Lf),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(cn.StyleLoaderService),a.\u0275\u0275directiveInject(E.HttpClient),a.\u0275\u0275directiveInject(Ay),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(_S),a.\u0275\u0275directiveInject(mS),a.\u0275\u0275directiveInject(cn.AsyncApiCallHelperService),a.\u0275\u0275directiveInject(nd),a.\u0275\u0275directiveInject(qa),a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(_L),a.\u0275\u0275directiveInject(dz),a.\u0275\u0275directiveInject(pz),a.\u0275\u0275directiveInject(df),a.\u0275\u0275directiveInject(bi),a.\u0275\u0275directiveInject(_r))},ys.\u0275cmp=a.\u0275\u0275defineComponent({type:ys,selectors:[["classifieds-ui-panel-page"]],viewQuery:function(r,n){var e;1&r&&(a.\u0275\u0275viewQuery(BS,5),a.\u0275\u0275viewQuery(Sz,7),a.\u0275\u0275viewQuery(qS,5)),2&r&&(a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(n.gridLayout=e.first),a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(n.renderPanelTpl=e.first),a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(n.layoutRendererHost=e.first))},hostVars:2,hostBindings:function(r,n){2&r&&a.\u0275\u0275classProp("panel-page",!0)},inputs:{id:"id",panelPage:"panelPage",nested:"nested",contexts:"contexts",ancestory:"ancestory",css:"css",listeners:"listeners",resolvedContext:"resolvedContext"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return ys}),multi:!0},{provide:f.NG_ASYNC_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return ys}),multi:!0}])],decls:6,vars:2,consts:[["renderPanelTpl",""],[3,"formGroup"],["classifiedsUiLayoutRendererHost",""],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"],["formArrayName","panels"],[3,"formControlName","panel","nested","contexts","resolvedContext","contextsChanged","displayType","indexPosition","css","listeners","ancestory"]],template:function(r,n){1&r&&(a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,Ez,0,0,"ng-template",2),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,Dz,2,0,"button",3)(4,wz,3,12,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)),2&r&&(a.\u0275\u0275property("formGroup",n.pageForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",n.persistenceEnabled))},dependencies:function(){return[y.NgIf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,Fz,qS]},styles:["[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}"]});var Ad=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,h,_,S,P){var B=this;(0,v.A)(this,n),this.document=e,this.platformId=t,this.el=s,this.renderer2=u,this.componentFactoryResolver=l,this.panelHandler=d,this.fb=p,this.cpm=h,this.cssHelper=_,this.paneStateService=S,this.settings=[],this.ancestory=[],this.panes=[],this.originPanes=[],this.afterContentInit$=new T.B,this.resolvedContext$=new M.t({}),this.schedulePluginChange=new T.B,this.ancestoryWithSelf=[],this.filteredListeners=[],this.css$=new M.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,zn.z)([this.css$,this.afterContentInit$,this.schedulePluginChange]).pipe((0,fe.T)(function(z){return(0,k.A)(z,1)[0]}),(0,fe.T)(function(z){return{css:B.cssHelper.reduceCss(z.css,".pane-".concat(B.indexPosition)),classes:B.cssHelper.reduceSelector(z.classes,".pane-".concat(B.indexPosition))}}),(0,fe.T)(function(z){var Y=z.css,de=z.classes;return[B.cssHelper.reduceCss(Y,".panel-page",!1),B.cssHelper.reduceCss(Y,".panel-page"),B.cssHelper.reduceSelector(de,".panel-page",!1),B.cssHelper.reduceSelector(de,".panel-page")]}),(0,X.M)(function(z){var Y=(0,k.A)(z,4);return B.filteredCss={css:Y[1],classes:Y[3]}}),(0,fe.T)(function(z){var Y=(0,k.A)(z,4);return{css:Y[0],classes:Y[2]}}),(0,fe.T)(function(z){var de=z.classes;return{css:{children:Object.keys(z.css.children).reduce(function(me,Pe){return(0,g.A)((0,g.A)({},me),0===Pe.indexOf(">")?(0,c.A)({},B.ancestoryWithSelf.map(function(qe,dt){return(dt+1)%2==0?".pane-".concat(qe):".panel-".concat(qe)}).join(" ")+" "+Pe,de[Pe]):(0,c.A)({},Pe,de[Pe]))},{})},classes:Object.keys(de).reduce(function(me,Pe){return(0,g.A)((0,g.A)({},me),0===Pe.indexOf(">")?(0,c.A)({},B.ancestoryWithSelf.map(function(qe,dt){return(dt+1)%2==0?".pane-".concat(qe):".panel-".concat(qe)}).join(" ")+" "+Pe,de[Pe]):(0,c.A)({},Pe,de[Pe]))},{})}}),(0,lr.c)(500)).subscribe(function(z){var Y=z.css,de=z.classes;console.log("reduced classes",de);var ge=Object.keys(Y.children).filter(function(me){return""===me||rc({selector:me,document:B.document})}),be=Object.keys(de).filter(function(me){return""===me||rc({selector:me,document:B.document})});be.forEach(function(me,Pe){for(var qe=""===me?[B.el.nativeElement]:-1!==me.indexOf(">")?B.document.querySelectorAll(me):B.el.nativeElement.querySelectorAll(me),dt=qe.length,ot=0;ot<dt;ot++)for(var pt=de[be[Pe]],Tt=Object.keys(pt),Lt=Tt.length,mt=0;mt<Lt;mt++)qe[ot]&&(pt[Tt[mt]]===Ru.REMOVE?(console.log("remove class ".concat(Tt[mt])),B.renderer2.removeClass(qe[ot],Tt[mt])):(console.log("add class ".concat(Tt[mt])),B.renderer2.addClass(qe[ot],Tt[mt])))}),ge.forEach(function(me){console.log("search: ".concat(me));for(var Pe=""===me?[B.el.nativeElement]:-1!==me.indexOf(">")?B.document.querySelectorAll(me):B.el.nativeElement.querySelectorAll(me),qe=Pe.length,dt=Object.keys(Y.children[me].attributes),ot=function(Lt){Pe[Lt]&&dt.forEach(function(mt){console.log("".concat(me," { ").concat(mt,": ").concat(Y.children[me].attributes[mt],"; }"));var yt=ku(mt.replace("-","_"),!1);B.renderer2.setStyle(Pe[Lt],yt,Y.children[me].attributes[mt])})},pt=0;pt<qe;pt++)ot(pt)})}),this.listeners$=new M.t([]),this.listenersSub=(0,zn.z)([this.listeners$,this.schedulePluginChange]).pipe((0,fe.T)(function(z){return(0,k.A)(z,1)[0]}),(0,X.M)(function(z){console.log("pane listeners",z)})).subscribe(),this.paneForm=this.fb.group({contentPlugin:this.fb.control("",f.Validators.required),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.control("")}),this.paneFormSub=this.paneForm.valueChanges.subscribe(function(z){console.log("pane form value plugin: ".concat(B.pluginName)),console.log(z)}),this.scheduleStateChange$=new T.B,this.scheduleStateChangeSub=this.scheduleStateChange$.pipe((0,We.n)(function(z){return B.paneStateService.mergeState({state:z.state,ancestory:(0,A.A)(B.ancestoryWithSelf),settings:B.settings,plugin:B.contentPlugin})})).subscribe(function(z){B.panelPageStateService.upsert(z.pageState)}),this.onTouched=function(){},this.pluginChangeSub=this.schedulePluginChange.pipe((0,te.p)(function(){return B.pluginName&&null!==B.pluginName&&""!==B.pluginName}),(0,We.n)(function(){return B.cpm.getPlugin(B.pluginName)})).subscribe(function(z){B.contentPlugin=z,B.paneForm.get("contentPlugin").setValue(z.name),B.paneForm.get("name").setValue(B.name),B.paneForm.get("label").setValue(B.label),"panel"===B.pluginName?B.resolveNestedPanelPage():B.renderPaneContent()}),this.embedPanelSub=this.resolvedContext$.pipe((0,fe.T)(function(z){z&&z._root&&!B.linkedPageId&&0===B.settings.length&&(B.embedPanel=new Pr(z._root))})).subscribe(),this.panelPageStateService=P.getEntityCollectionService("PanelPageState")},[{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"indexPositionClass",get:function(){return"pane-".concat(this.indexPosition)}},{key:"dynamicPanel",get:function(){return new Pr(this.resolvedContext._root)}},{key:"ngOnInit",value:function(){this.ancestoryWithSelf=[].concat((0,A.A)(this.ancestory?this.ancestory:[]),(0,A.A)(null!=this.indexPosition?[this.indexPosition]:[])),this.schedulePluginChange.next(void 0)}},{key:"ngOnChanges",value:function(t){if(t.ancestory||t.indexPosition){var s=[].concat((0,A.A)(t.ancestory.currentValue?t.ancestory.currentValue:this.ancestory?this.ancestory:[]),(0,A.A)(null!=t.indexPosition.currentValue?[t.indexPosition.currentValue]:this.indexPosition?[this.indexPosition]:[]));(s.length!==this.ancestoryWithSelf.length||0!==this.ancestoryWithSelf.filter(function(u,l){return s[l]!==u}).length)&&(this.ancestoryWithSelf=s)}this.schedulePluginChange.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.paneForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.paneForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.paneForm.disable():this.paneForm.enable()}},{key:"validate",value:function(t){var s=this;return this.paneForm.statusChanges.pipe((0,Ny.Z)(this.paneForm.status),(0,te.p)(function(u){return"PENDING"!==u}),(0,Ln.B)(1),(0,pn.s)(1),(0,fe.T)(function(u){return s.paneForm.valid?null:{invalidForm:{invalidForm:{valid:!1,message:"pane is invalid"}}}}))}},{key:"resolveNestedPanelPage",value:function(){var t=this;this.panelHandler.toObject(this.settings).subscribe(function(s){t.panelPage=new Pr((0,g.A)((0,g.A)({},s),{},{contexts:t.contexts}))})}},{key:"renderPaneContent",value:function(){var t=this,s=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),u=this.contentPaneHost.viewContainerRef;u.clear(),this.componentRef=u.createComponent(s),this.componentRef.instance.settings=this.settings,this.componentRef.instance.name=this.name,this.componentRef.instance.label=this.label,this.componentRef.instance.panes=this.panes,this.componentRef.instance.originPanes=this.originPanes,this.componentRef.instance.contexts=this.contexts.map(function(l){return new Ia(l)}),this.componentRef.instance.displayType=this.displayType,this.componentRef.instance.resolvedContext=this.resolvedContext$.value,this.componentRef.instance.ancestory=this.ancestoryWithSelf,this.componentRef.instance.state&&this.contentPlugin.handler&&this.contentPlugin.handler.stateDefinition(this.settings).pipe((0,pn.s)(1)).subscribe(function(l){t.componentRef.instance.state=l||{}}),this.componentRef.instance.stateChange&&this.componentRef.instance.stateChange.subscribe(function(l){t.scheduleStateChange$.next({state:l})})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.DOCUMENT),a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(Ay),a.\u0275\u0275directiveInject(m9),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-render-pane"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Gf,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contentPaneHost=s.first)},hostVars:5,hostBindings:function(e,t){2&e&&(a.\u0275\u0275attribute("data-index",t.indexPosition),a.\u0275\u0275classMap(t.indexPositionClass),a.\u0275\u0275classProp("pane",!0))},inputs:{pluginName:"pluginName",settings:"settings",linkedPageId:"linkedPageId",contexts:"contexts",originPane:"originPane",displayType:"displayType",name:"name",label:"label",indexPosition:"indexPosition",ancestory:"ancestory",panes:"panes",originPanes:"originPanes",resolvedContext:"resolvedContext",css:"css",listeners:"listeners"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_ASYNC_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:6,vars:4,consts:[["fxFlex","",3,"formGroup"],["classifiedsUiPaneContentHost",""],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,fz,0,0,"ng-template",1),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275template(3,mz,1,6,"classifieds-ui-panel-page",2)(4,gz,1,4,"classifieds-ui-panel-page",3)(5,hz,1,6,"classifieds-ui-panel-page",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.paneForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","panel"==t.pluginName&&!t.linkedPageId&&0!==t.settings.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","panel"==t.pluginName&&t.linkedPageId),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","panel"==t.pluginName&&!t.linkedPageId&&0===t.settings.length))},dependencies:[y.NgIf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gf,Vy],styles:["[_nghost-%COMP%]{height:100%}"]}),r}(),Fz=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,h,_,S){var P=this;(0,v.A)(this,n),this.platformId=e,this.document=t,this.hostEl=s,this.renderer2=u,this.componentFactoryResolver=l,this.fb=d,this.panelResolverService=p,this.spm=h,this.cssHelper=_,this.styleResolverService=S,this.nested=!1,this.resolvedContext={},this.heightChange=new a.EventEmitter,this.panelForm=this.fb.group({name:this.fb.control(""),label:this.fb.control(""),panes:this.fb.array([])}),this.panelFormSub=this.panelForm.valueChanges.subscribe(function(B){console.log("paneL form value"),console.log(B)}),this.filteredListeners=[],this.afterContentInit$=new T.B,this.schedulePanelRender=new T.B,this.rendered$=new T.B,this.css$=new M.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,zn.z)([this.css$,this.afterContentInit$,this.rendered$]).pipe((0,X.M)(function(B){var z=(0,k.A)(B,1);return console.log("css node",z[0].css)}),(0,fe.T)(function(B){return(0,k.A)(B,1)[0]}),(0,fe.T)(function(B){return{css:P.cssHelper.reduceCss(B.css,".panel-".concat(P.indexPosition$.value)),classes:P.cssHelper.reduceSelector(B.classes,".panel-".concat(P.indexPosition$.value))}}),(0,fe.T)(function(B){var z=B.css,Y=B.classes;return[P.cssHelper.reduceCss(z,".pane-",!1),z,P.cssHelper.reduceSelector(Y,".pane-",!1),Y]}),(0,X.M)(function(B){var z=(0,k.A)(B,4);return P.filteredCss={css:z[1],classes:z[3]}}),(0,fe.T)(function(B){var z=(0,k.A)(B,3);return{css:z[0],classes:z[2]}}),(0,fe.T)(function(B){var Y=B.classes;return{css:{children:Object.keys(B.css.children).reduce(function(be,me){return(0,g.A)((0,g.A)({},be),0===me.indexOf(">")?(0,c.A)({},P.ancestoryWithSelf$.value.map(function(Pe,qe){return(qe+1)%2==0?".pane-".concat(Pe):".panel-".concat(Pe)}).join(" ")+" "+me,Y[me]):(0,c.A)({},me,Y[me]))},{})},classes:Object.keys(Y).reduce(function(be,me){return(0,g.A)((0,g.A)({},be),0===me.indexOf(">")?(0,c.A)({},P.ancestoryWithSelf$.value.map(function(Pe,qe){return(qe+1)%2==0?".pane-".concat(Pe):".panel-".concat(Pe)}).join(" ")+" "+me,Y[me]):(0,c.A)({},me,Y[me]))},{})}}),(0,lr.c)(1)).subscribe(function(B){var z=B.css,Y=B.classes;console.log("classes",Y);var de=Object.keys(z.children).filter(function(be){return""===be||rc({selector:be,document:P.document})}),ge=Object.keys(Y).filter(function(be){return""===be||rc({selector:be,document:P.document})});ge.forEach(function(be,me){for(var Pe=""===be?[P.hostEl.nativeElement]:-1!==be.indexOf(">")?P.document.querySelectorAll(be):P.hostEl.nativeElement.querySelectorAll(be),qe=Pe.length,dt=0;dt<qe;dt++)for(var ot=Y[ge[me]],pt=Object.keys(ot),Tt=pt.length,Lt=0;Lt<Tt;Lt++)Pe[dt]&&(ot[pt[Lt]]===Ru.REMOVE?(console.log("remove class ".concat(pt[Lt])),P.renderer2.removeClass(Pe[dt],pt[Lt])):(console.log("add class ".concat(pt[Lt])),P.renderer2.addClass(Pe[dt],pt[Lt])))}),de.forEach(function(be){console.log("search: ".concat(be));for(var me=""===be?[P.hostEl.nativeElement]:-1!==be.indexOf(">")?P.document.querySelectorAll(be):P.hostEl.nativeElement.querySelectorAll(be),Pe=me.length,qe=Object.keys(z.children[be].attributes),dt=function(Tt){me[Tt]&&qe.forEach(function(Lt){console.log("".concat(be," { ").concat(Lt,": ").concat(z.children[be].attributes[Lt],"; }"));var mt=ku(Lt.replace("-","_"),!1);P.renderer2.setStyle(me[Tt],mt,z.children[be].attributes[Lt])})},ot=0;ot<Pe;ot++)dt(ot)})}),this.listeners$=new M.t([]),this.listenersSub=this.listeners$.pipe((0,X.M)(function(B){console.log("panel listeners",B),P.filteredListeners=B})).subscribe(),this.scheduleRender=new T.B,this.scheduleRenderSub=this.scheduleRender.pipe((0,X.M)(function(){return console.log("schdule renderer before [".concat(P.panel.name,"]"))}),(0,We.n)(function(B){var z=(0,k.A)(B,3),Y=z[0];return P.panelResolverService.resolvePanes({panes:Y,contexts:z[1],resolvedContext:z[2]}).pipe((0,fe.T)(function(be){return{resolvedPanes:be.resolvedPanes,originMappings:be.originMappings,panes:Y}}))}),(0,We.n)(function(B){var z=B.panes;return P.styleResolverService.alterResolvedPanes({panel:P.panel,resolvedPanes:B.resolvedPanes,originMappings:B.originMappings}).pipe((0,fe.T)(function(ge){return{panes:z,resolvedPanes:ge.resolvedPanes,originMappings:ge.originMappings}}))}),(0,X.M)(function(){return console.log("schdule renderer after [".concat(P.panel.name,"]"))})).subscribe(function(B){var z=B.panes,Y=B.resolvedPanes,de=B.originMappings;console.log("render panel: ".concat(P.panel.name)),P.resolvedPanes=Y,P.originPanes=z,P.originMappings=de,P.populatePanesFormArray(),void 0!==P.stylePlugin?P.renderPanelContent():P.rendered$.next(void 0)}),this.schduleContextChange=new T.B,this.schedulePanelRenderSub=this.schedulePanelRender.pipe((0,We.n)(function(B){return P.spm.getPlugin(B)})).subscribe(function(B){var z=P.componentFactoryResolver.resolveComponentFactory(B.renderComponent),Y=P.panelHost.viewContainerRef;Y.clear();var de=Y.createComponent(z);P.componentRef=de,de.instance.settings=P.panel.settings,de.instance.panes=P.resolvedPanes,de.instance.originPanes=P.panel.panes,de.instance.originMappings=P.originMappings,de.instance.contexts=P.contexts.map(function(ge){return new Ia(ge)}),de.instance.displayType=P.displayType,de.instance.ancestory=P.ancestoryWithSelf$.value,de.instance.resolvedContext=P.resolvedContext,de.instance.panel=P.panel,de.instance.indexPosition=P.indexPosition$.value,P.rendered$.next(void 0)}),this.originMappings=[],this.resolvedContexts=[],this.ancestoryWithSelf$=new M.t([]),this.ancestory$=new M.t([]),this.indexPosition$=new M.t(void 0),this.onTouched=function(){},this.ancestorySub=(0,zn.z)([this.ancestory$,this.indexPosition$]).pipe((0,X.M)(function(B){var z=(0,k.A)(B,2),de=z[1];P.ancestoryWithSelf$.next([].concat((0,A.A)(z[0]),[de]))})).subscribe(),this.counter=n.COUNTER++},[{key:"contextChanged",set:function(t){}},{key:"contextsChanged",set:function(t){var s=this;t.map(function(u){return s.schduleContextChange.next(u)})}},{key:"indexPosition",set:function(t){this.indexPosition$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"indexPositionClass",get:function(){return"panel-".concat(this.indexPosition$.value)}},{key:"panesArray",get:function(){return this.panelForm.get("panes")}},{key:"ngOnInit",value:function(){var t=this;this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,void 0!==this.panel&&void 0!==this.panelHost&&(console.log("panel render init [".concat(this.panel.name)),this.panelResolverService.usedContexts(this.panel.panes).pipe((0,fe.T)(function(s){return s.filter(function(u){return"_page"!==u&&"_root"!==u&&"."!==u&&0!==u.indexOf("panestate-"+t.ancestoryWithSelf$.value.join("-"))})}),(0,X.M)(function(s){return console.log("contexts [".concat(t.panel.name,"]: ").concat(s.join(",")))}),(0,We.n)(function(s){return t.schduleContextChange.pipe((0,X.M)(function(u){return console.log("detected change [".concat(t.panel.name,"]: ").concat(u))}),(0,fe.T)(function(u){return[s,u]}))}),(0,X.M)(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return console.log("detected change [".concat(t.panel.name,"]: ").concat(d," : ctx: ").concat(l.join(",")))}),(0,te.p)(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return Array.isArray(l)&&-1!==l.findIndex(function(p){return p===d})}),(0,Ln.B)(100)).subscribe(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];console.log("Context changed [".concat(t.panel.name,"]: ").concat(d)),console.log("contexts detected [".concat(t.panel.name,"]: ").concat(l.join(","))),t.scheduleRender.next([t.panel.panes,t.contexts,t.resolvedContext])}))}},{key:"ngOnChanges",value:function(t){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,t.resolvedContext&&void 0===t.resolvedContext.previousValue&&this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}},{key:"ngAfterViewInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.panelForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.panelForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.panelForm.disable():this.panelForm.enable()}},{key:"validate",value:function(t){var s=this;return this.panelForm.statusChanges.pipe((0,Ny.Z)(this.panelForm.status),(0,te.p)(function(u){return"PENDING"!==u}),(0,Ln.B)(1),(0,pn.s)(1),(0,fe.T)(function(u){return s.panelForm.valid?null:{invalidForm:{valid:!1,message:"panel are invalid"}}}))}},{key:"populatePanesFormArray",value:function(){var t=this;this.panesArray.clear(),this.resolvedPanes.forEach(function(s,u){t.panesArray.push(t.fb.control(""))})}},{key:"renderPanelContent",value:function(){this.schedulePanelRender.next(this.stylePlugin)}}])}();return(o=r).COUNTER=0,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(a.DOCUMENT),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_y),a.\u0275\u0275directiveInject(Xl),a.\u0275\u0275directiveInject(Ay),a.\u0275\u0275directiveInject(gS))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-render-panel"]],viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(Gf,7),a.\u0275\u0275viewQuery(vz,7),a.\u0275\u0275viewQuery(Ad,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.panelHost=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.paneContainer=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.renderedPanes=s))},hostVars:5,hostBindings:function(e,t){2&e&&(a.\u0275\u0275attribute("data-index",t.indexPosition$.value),a.\u0275\u0275classMap(t.indexPositionClass),a.\u0275\u0275classProp("panel",!0))},inputs:{panel:"panel",contexts:"contexts",nested:"nested",displayType:"displayType",resolvedContext:"resolvedContext",contextChanged:"contextChanged",contextsChanged:"contextsChanged",indexPosition:"indexPosition",ancestory:"ancestory",css:"css",listeners:"listeners"},outputs:{heightChange:"heightChange"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_ASYNC_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:5,vars:2,consts:[["panes",""],[1,"render-panel",3,"formGroup"],["classifiedsUiPaneContentHost",""],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formArrayName","panes"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",1,0),a.\u0275\u0275elementContainerStart(2),a.\u0275\u0275template(3,yz,0,0,"ng-template",2),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275template(4,xz,4,3,"ng-container",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.panelForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!t.stylePlugin&&t.resolvedPanes))},dependencies:[y.NgForOf,y.NgIf,y.NgSwitch,y.NgSwitchCase,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,Gf,Ad],styles:["[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}"]}),r}(),Oy=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),e.register(new Cx({id:"panels_form_submit",title:"Submit Panels Form"})),e.register(new Cx({id:"panels_dialog",title:"Open Panels Dialog"}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ax))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,cn.UtilsModule,f.ReactiveFormsModule,yy,zS]}),r}(),ac=b(67081),zf=b(2043),WS=b(37865),vo=b(80453);function Iz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",4),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onEntitySelected(s.value))}),a.\u0275\u0275elementStart(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.title)}}function Tz(o,r){}function Rz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275listener("docRendered",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onDocRendered())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.content$))}}function Mz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275listener("docRendered",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onDocRendered())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.content$))}}function Nz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",4),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onStyleSelected(s.value))}),a.\u0275\u0275elementStart(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.title)}}function Vz(o,r){}var Oz=["contentEditor"],$f=function(r){return{settings:r}},Bz=function(r){return{visible:r}};function Lz(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function jz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",21),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(t.onOverrideClick())}),a.\u0275\u0275text(1,"Override"),a.\u0275\u0275elementEnd()}}function Uz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",21),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(t.onRemoveOverrideClick())}),a.\u0275\u0275text(1,"Remove Override"),a.\u0275\u0275elementEnd()}}function Gz(o,r){}function zz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14)(4,"mat-icon"),a.\u0275\u0275text(5,"more_vert"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(6,"mat-expansion-panel",15),a.\u0275\u0275listener("afterCollapse",function(){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onAfterCollapse())})("afterExpand",function(){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onAfterExpand())}),a.\u0275\u0275elementStart(7,"mat-expansion-panel-header")(8,"mat-panel-title"),a.\u0275\u0275text(9),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(10,"div",16)(11,"ul"),a.\u0275\u0275template(12,Lz,1,0,"ng-container",17),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"div",18),a.\u0275\u0275template(14,jz,2,0,"button",19)(15,Uz,2,0,"button",19),a.\u0275\u0275elementContainerStart(16),a.\u0275\u0275template(17,Gz,0,0,"ng-template",20),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()()}if(2&o){var e=a.\u0275\u0275nextContext(),t=a.\u0275\u0275reference(2),s=a.\u0275\u0275reference(6);a.\u0275\u0275advance(3),a.\u0275\u0275property("matMenuTriggerFor",s),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate2("",e.contentPlugin.title," : ",e.name),a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",e.preview),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(9,$f,e.settings)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(11,Bz,e.preview)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.displayOverride&&!e.hasOverride),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.displayOverride&&e.hasOverride)}}function $z(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"attribute"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit,e=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,e,n.name))}}function Hz(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function Kz(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"ul"),a.\u0275\u0275template(1,Hz,1,0,"ng-container",17),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275nextContext(2);var e=a.\u0275\u0275reference(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,$f,n.attributes))}}function qz(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275text(1),a.\u0275\u0275template(2,$z,3,4,"span",23)(3,Kz,2,4,"ul",23),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.displayName,": "),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.attributes||0==n.attributes.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.attributes&&n.attributes.length>0)}}function Wz(o,r){1&o&&a.\u0275\u0275template(0,qz,4,3,"li",22),2&o&&a.\u0275\u0275property("ngForOf",r.settings)}function Qz(o,r){}function Xz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",24)(1,"classifieds-ui-content-editor",25,3),a.\u0275\u0275listener("nestedUpdate",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onNestedUpdate(s))})("delete",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onDeleteClick())})("rules",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onRulesClick())})("props",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onPropsClick())}),a.\u0275\u0275template(3,Qz,0,0,"ng-template",null,4,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("panelPage",e.panelPage)("savable",!1)("nested",!0)("locked",e.locked)("contexts",e.contexts)("rootContext",e.rootContext)("ancestory",e.paneAncestoryWithSelf)}}function Yz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",26),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onPreviewClick())}),a.\u0275\u0275text(1,"Preview"),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("disabled",e.locked)}}function Jz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",27),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.onDisablePreviewClick())}),a.\u0275\u0275text(1,"Disable Preview"),a.\u0275\u0275elementEnd()}}var Zz=["extraActionsArea"],e$=["contextsMenuTpl"],t$=["editablePaneTpl"],n$=["panes"],QS=function(r){return{nested:r}};function r$(o,r){}function a$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",7),a.\u0275\u0275listener("ngSubmit",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.submit())}),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,r$,0,0,"ng-template",8),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e.contentForm)("ngClass",a.\u0275\u0275pureFunction1(2,QS,e.nested))}}function i$(o,r){}function o$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,i$,0,0,"ng-template",8),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",n.contentForm)("ngClass",a.\u0275\u0275pureFunction1(2,QS,n.nested))}}function s$(o,r){1&o&&a.\u0275\u0275element(0,"div",12)}function u$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-editable-pane",10),a.\u0275\u0275listener("delete",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.onDeletePane(d,p))})("rules",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.onRulesPane(d,p))})("nestedUpdate",function(l){var d=a.\u0275\u0275restoreView(n),p=d.i,h=d.j,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.onNestedUpdate(l,p,h))})("rendererOverride",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.onOverrideRenderer(d,p))})("removeRendererOverride",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.onRemoveOverrideRenderer(d,p))})("edit",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.onPaneEdit(d,p))})("props",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.editPaneProps(d,p))})("delete",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,h=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(h.onPaneDelete(d,p))}),a.\u0275\u0275template(1,s$,1,0,"div",11),a.\u0275\u0275elementEnd()}if(2&o){var e=r.i,t=r.j,s=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelIndex",e)("paneIndex",t)("name",s.panelPaneName(e,t))("label",s.panelPaneLabel(e,t))("locked",s.panelPaneLocked(e,t))("contexts",s.contexts)("pluginName",s.panelPanePlugin(e,t))("settings",s.panelPaneSettings(e,t))("ancestory",s.ancestory)}}function l$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"button",13),a.\u0275\u0275text(1,"( x )"),a.\u0275\u0275elementEnd()),2&o){a.\u0275\u0275nextContext();var n=a.\u0275\u0275reference(8);a.\u0275\u0275property("matMenuTriggerFor",n)}}function c$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",5),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onEditContext(s.name))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(e.name)}}function d$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",1),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onItemSelect(s.value))}),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.name)}}function p$(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function f$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("",n.displayName,": ")}}function m$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"attribute"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit,e=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,e,n.name))}}function g$(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function h$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,g$,1,0,"ng-container",5),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275nextContext(2);var e=a.\u0275\u0275reference(3);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,$f,n.attributes))}}function v$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,f$,2,1,"span",3)(2,m$,3,4,"span",3)(3,h$,2,4,"div",3),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",0==n.attributes.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",0==n.attributes.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.attributes.length>0)}}function y$(o,r){1&o&&a.\u0275\u0275template(0,v$,4,3,"div",6),2&o&&a.\u0275\u0275property("ngForOf",r.settings)}function _$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,p$,1,0,"ng-container",5)(2,y$,1,1,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275reference(3),e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,$f,e.attributeValues))}}function b$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275element(1,"classifieds-ui-attributes-builder",8),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("formGroup",n.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("attributes",n.attributes)("attributeValues",n.attributeValues)}}function A$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,_$,4,4,"div",3)(2,b$,2,3,"div",4),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","page"==n.displayType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","form"==n.displayType)}}function C$(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-snippet-pane-renderer",9),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("settings",n.rendererSettings)("tokens",n.tokens)}}function x$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",2),a.\u0275\u0275listener("removed",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemoveMedia(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("removable",!0)("file",e.media),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.media.name," (",e.media.type,")")}}var S$=["img"];function E$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",26),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function D$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",23)(2,"mat-label"),a.\u0275\u0275text(3,"Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",24),a.\u0275\u0275template(5,E$,2,2,"mat-option",25),a.\u0275\u0275elementEnd()()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("formGroupName",n),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",e.panes)}}function w$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",20)(1,"button",21),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.addPane())}),a.\u0275\u0275text(2,"Add Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275template(4,D$,6,2,"div",22),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",e.bindings.controls)}}function F$(o,r){1&o&&(a.\u0275\u0275elementStart(0,"div",27)(1,"mat-form-field"),a.\u0275\u0275element(2,"input",28),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",30),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div")(8,"mat-checkbox",31),a.\u0275\u0275text(9,"Multiple"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275element(11,"input",32),a.\u0275\u0275elementEnd()())}function k$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function P$(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",6),a.\u0275\u0275template(5,k$,2,2,"mat-option",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(n.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",n.options)}}function I$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-radio-button",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function T$(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div")(2,"label"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-radio-group",6),a.\u0275\u0275template(5,I$,2,2,"mat-radio-button",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(n.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",n.options)}}function R$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div")(1,"div",10)(2,"mat-checkbox",11),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd()()()),2&o){var n=r.$implicit,e=r.index;a.\u0275\u0275advance(),a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(n.label)}}function M$(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div")(2,"div",2),a.\u0275\u0275template(3,R$,4,2,"div",9),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",n.options)}}function N$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function V$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275element(2,"input",12),a.\u0275\u0275elementStart(3,"mat-autocomplete",13,0),a.\u0275\u0275listener("optionSelected",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onOptionSelected(u))}),a.\u0275\u0275template(5,N$,2,2,"mat-option",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()}if(2&o){var e=a.\u0275\u0275reference(4),t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("placeholder",t.label)("matAutocomplete",e),a.\u0275\u0275advance(),a.\u0275\u0275property("displayWith",t.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.options)}}function O$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.name),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.name)}}function B$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",5),a.\u0275\u0275element(1,"druid-panels-panelpage-linkedlist",6),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onRemoveMapping(u))}),a.\u0275\u0275text(3,"Remove"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(),a.\u0275\u0275property("panes",t.panes)}}function L$(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",4),2&o){var n=a.\u0275\u0275nextContext().index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("pluginName",e.panes[2*n].contentPlugin)("settings",e.panes[2*n].settings)("contexts",e.panes[2*n].contexts)}}function j$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab"),a.\u0275\u0275template(1,L$,1,3,"ng-template",3),a.\u0275\u0275element(2,"classifieds-ui-render-pane",4),a.\u0275\u0275elementEnd()),2&o){var n=r.index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275property("pluginName",e.panes[2*n+1].contentPlugin)("settings",e.panes[2*n+1].settings)("contexts",e.panes[2*n+1].contexts)}}function U$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab-group",1),a.\u0275\u0275template(1,j$,3,3,"mat-tab",2),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("for",n.panes.length/2)}}function G$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab",6),a.\u0275\u0275element(1,"classifieds-ui-render-pane",4),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("pluginName",n.contentPlugin)("settings",n.settings)("contexts",n.contexts)}}function z$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab-group",1),a.\u0275\u0275template(1,G$,2,3,"mat-tab",5),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",n.panes)}}function $$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",2),a.\u0275\u0275element(1,"classifieds-ui-render-pane",3),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("pluginName",n.contentPlugin)("settings",n.settings)("contexts",n.contexts)("resolvedContext",n.resolvedContext)}}function H$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"th",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function K$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"td",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext().$implicit,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(t.rowData(e,n))}}function q$(o,r){1&o&&(a.\u0275\u0275elementContainerStart(0,4),a.\u0275\u0275template(1,H$,2,1,"th",5)(2,K$,2,1,"td",6),a.\u0275\u0275elementContainerEnd()),2&o&&a.\u0275\u0275property("matColumnDef",r.$implicit)}function W$(o,r){1&o&&a.\u0275\u0275element(0,"tr",9)}function Q$(o,r){1&o&&a.\u0275\u0275element(0,"tr",10)}var zy,X$={GridLayout:{entityName:"GridLayout"},PanelPageForm:{crud:{panelpageform_serialize:{plugins:{idb_keyval:{params:{prefix:"panelpageform__"}}}}}}},Hf=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiContentSelectionHost",""]],standalone:!1}),r}(),Y$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.data=e,this.bottomSheetRef=t,this.dialog=s,this.componentFactoryResolver=u,this.fb=l,this.contentPluginManager=d,this.selectedIndex=0},[{key:"ngOnInit",value:function(){this.contentPlugins=this.contentPluginManager.getPlugins()}},{key:"onEntitySelected",value:function(t){var s=this;this.plugin=t,void 0!==this.plugin.selectionComponent?(this.selectedIndex=1,this.renderSelectionComponent()):void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),t.handler?this.plugin.handler.editorOptions([]).subscribe(function(l){s.dialog.open(s.plugin.editorComponent,(0,g.A)({data:{panelFormGroup:s.data.panelForm,panelIndex:s.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:s.data.contexts,contentAdded:s.data.contentAdded,plugin:t}},l.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}))}):this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded}})):this.data.panelForm.get("panes").push(this.fb.group({contentPlugin:this.fb.control(this.plugin.id),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.array([])}))}},{key:"renderSelectionComponent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.plugin.selectionComponent),s=this.selectionHost.viewContainerRef;s.clear();var u=s.createComponent(t);u.instance.panelFormGroup=this.data.panelForm,u.instance.contexts=this.data.contexts}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(wu.MAT_BOTTOM_SHEET_DATA),a.\u0275\u0275directiveInject(wu.MatBottomSheetRef),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Xt.ContentPluginManager))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-content-selector"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Hf,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.selectionHost=s.first)},standalone:!1,decls:10,vars:6,consts:[[1,"content-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),a.\u0275\u0275template(4,Iz,3,1,"a",2),a.\u0275\u0275pipe(5,"async"),a.\u0275\u0275pipe(6,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"mat-tab"),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,Tz,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("selectedIndex",t.selectedIndex),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(6,4,a.\u0275\u0275pipeBind1(5,2,t.contentPlugins))))},dependencies:[y.NgForOf,Df.MatLine,ms.MatNavList,ms.MatListItem,mo.MatTab,mo.MatTabGroup,Hf,y.AsyncPipe,y.KeyValuePipe],styles:[".content-selector-wrapper[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}"]}),r}(),Mu=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.attributeSerializer=e,this.tokenizrService=t,this.types=["text/markdown","text/html"]},[{key:"handleFile",value:function(t){var s=this;return new G.c(function(u){var l=new FileReader;l.onload=function(){u.next(s.buildSettings(new Cu({contentType:t.type,content:"".concat(l.result)}))),u.complete()},l.readAsText(t)})}},{key:"handlesType",value:function(t){return void 0!==this.types.find(function(s){return s===t})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){var l=this;return"context"===s?this.toObject(t).pipe((0,fe.T)(function(d){return l.tokenizrService.discoverTokens(d.content).map(function(h){return new Xt.ContentBinding({id:h,type:"context"})})})):(0,Re.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(new Cu(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Re.of)({})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions({fullscreen:!0}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(Wn))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),XS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){var l=this;(0,v.A)(this,n),this.hostEl=e,this.handler=t,this.tokenizerService=s,this.markdownService=u,this.contexts=[],this.afterContentInit$=new T.B,this.content="",this.content$=new M.t(""),this.settings$=new M.t([]),this.snippet$=new M.t(void 0),this.resolvedContext$=new M.t(void 0),this.docRendered$=new T.B,this.contentSub=(0,zn.z)([this.afterContentInit$,this.content$,this.snippet$,this.docRendered$]).subscribe(function(d){var S=(0,k.A)(d,3)[2];S&&S.jsScript&&""!==S.jsScript&&setTimeout(function(){return l.appendScript(S.jsScript)})}),this.renderContentSub=(0,zn.z)([this.settings$,this.resolvedContext$]).pipe((0,We.n)(function(d){var p=(0,k.A)(d,2);return l.handler.toObject(p[0])}),(0,We.n)(function(d){return l.resolveContexts().pipe((0,fe.T)(function(p){return[d,p]}))})).subscribe(function(){var d=(0,Rt.A)(function(p){var h=(0,k.A)(p,2),_=h[0],S=h[1];return(0,He.A)().m(function P(){var B,z;return(0,He.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(void 0!==S&&(l.tokens=S),l.contentType=_.contentType,l.snippet$.next(_),B=l.replaceTokens(_.content),!_.contentType||-1===_.contentType.indexOf("markdown")){Y.n=2;break}return Y.n=1,Promise.resolve(l.markdownService.parse(B));case 1:z=Y.v,Y.n=3;break;case 2:z=B;case 3:l.content$.next(z);case 4:return Y.a(2)}},P)})()});return function(p){return d.apply(this,arguments)}}())},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){console.log("pane changed")}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(),this.afterContentInit$.complete()}},{key:"replaceTokens",value:function(t){return void 0!==this.tokens&&this.tokens.forEach(function(s,u){t=t.split("[".concat(u,"]")).join("".concat(s))}),t}},{key:"resolveContexts",value:function(){var t=this;return new G.c(function(s){var u=new Map;if(t.resolvedContext$.value)for(var l in t.resolvedContext$.value)u=new Map([].concat((0,A.A)(u),(0,A.A)(t.tokenizerService.generateGenericTokens(t.resolvedContext$.value[l],"_root"===l?"":l))));s.next(u),s.complete()})}},{key:"appendScript",value:function(t){var s=document.createElement("script");s.type="text/javascript",s.appendChild(document.createTextNode(t)),this.hostEl.nativeElement.appendChild(s),console.log("add script")}},{key:"onDocRendered",value:function(){this.docRendered$.next(void 0)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Mu),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Af))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-pane-renderer"]],inputs:{settings:"settings",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"content","docRendered",4,"ngIf"],[3,"docRendered","content"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,Rz,2,3,"classifieds-ui-dynamic-content-viewer",0)(1,Mz,2,3,"classifieds-ui-dynamic-content-viewer",0),2&e&&(a.\u0275\u0275property("ngIf","text/markdown"==t.contentType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","text/html"==t.contentType))},dependencies:[y.NgIf,cn.DynamicContentViewer,y.AsyncPipe],encapsulation:2}),r}(),Nu=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.snippetHandler=e},[{key:"handleFile",value:function(t){return(0,Re.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return this.rendererSnippet(t).pipe((0,fe.T)(function(s){return void 0!==s}))}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"getBindings",value:function(t,s,u){return(0,Re.of)([])}},{key:"valueSettings",value:function(t){var s=[];return t.forEach(function(u){"value"===u.name&&s.push(u)}),s}},{key:"rendererSnippet",value:function(t){var u,s=this;return t.forEach(function(l){"_renderer"===l.name&&(u=s.snippetHandler.toObject(l.attributes))}),void 0!==u?u:(0,Re.of)(void 0)}},{key:"rendererOverrideSettings",value:function(t){return[new _t.AttributeValue({name:"_renderer",type:_t.AttributeTypes.Complex,displayName:"Renderer Override",value:void 0,computedValue:void 0,intValue:0,attributes:this.snippetHandler.buildSettings(t)})]}},{key:"widgetSettings",value:function(t){return[new _t.AttributeValue({name:"widget",type:t.schema.type,displayName:"Widget",value:t.name,computedValue:t.name,intValue:0,attributes:[]})]}},{key:"stateDefinition",value:function(t){return(0,Re.of)({})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Mu))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),J$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.tokenizerService=s,this.handler=u,this.fb=l},[{key:"ngOnInit",value:function(){this.tokens=this.tokenizerService.generateTokens(this.data.pane.settings)}},{key:"submitted",value:function(t){this.replaceRenderer(t),this.dialogRef.close()}},{key:"replaceRenderer",value:function(t){var s,u=this.handler.rendererOverrideSettings(t)[0],l=this.convertToGroup(u),d=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");d.controls.forEach(function(p,h){"_renderer"===p.get("name").value&&(s=h)}),void 0!==s?(d.insert(s,l),d.removeAt(s+1)):d.push(l)}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Nu),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rendering-editor"]],standalone:!1,decls:2,vars:1,consts:[[3,"submitted","tokens"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),a.\u0275\u0275listener("submitted",function(u){return t.submitted(u)}),a.\u0275\u0275element(1,"classifieds-ui-snippet-form"),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("tokens",t.tokens)},dependencies:[Cf],encapsulation:2}),r}(),Z$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.data=e,this.spm=t,this.bottomSheetRef=s,this.dialog=u,this.componentFactoryResolver=l,this.fb=d,this.selectedIndex=0},[{key:"ngOnInit",value:function(){this.stylePlugins=this.spm.getPlugins()}},{key:"onStyleSelected",value:function(t){this.plugin=t,void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,contexts:this.data.contexts}})):(this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.bottomSheetRef.dismiss())}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(wu.MAT_BOTTOM_SHEET_DATA),a.\u0275\u0275directiveInject(Xl),a.\u0275\u0275directiveInject(wu.MatBottomSheetRef),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-style-selector"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Hf,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.selectionHost=s.first)},standalone:!1,decls:10,vars:6,consts:[[1,"style-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),a.\u0275\u0275template(4,Nz,3,1,"a",2),a.\u0275\u0275pipe(5,"async"),a.\u0275\u0275pipe(6,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"mat-tab"),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,Vz,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("selectedIndex",t.selectedIndex),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(6,4,a.\u0275\u0275pipeBind1(5,2,t.stylePlugins))))},dependencies:[y.NgForOf,Df.MatLine,ms.MatNavList,ms.MatListItem,mo.MatTab,mo.MatTabGroup,Hf,y.AsyncPipe,y.KeyValuePipe],styles:[".style-selector-wrapper[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}"]}),r}(),eH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.inlineContextResolver=u,this.rulesParser=l,this.rulesForm=this.fb.group({rules:this.fb.control("")}),this.config={fields:{}}},[{key:"ngOnInit",value:function(){var t=this;this.inlineContextResolver.resolveMerged(this.data.contexts).subscribe(function(s){var u={};for(var l in s)t.rulesParser.buildFields(s[l],l).forEach(function(d,p){u[p]=d});t.config=(0,g.A)((0,g.A)({},t.config),{},{fields:u}),void 0!==t.data.rule&&t.rulesForm.get("rules").setValue(t.data.rule)})}},{key:"submit",value:function(){console.log("the rules"),console.log(this.rulesForm.get("rules").value),this.dialogRef.close(this.rulesForm.get("rules").value)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(zl),a.\u0275\u0275directiveInject(Ex))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rules-dialog"]],standalone:!1,decls:6,vars:3,consts:[[1,"rest-form",3,"ngSubmit","formGroup"],["formControlName","rules",3,"config"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"query-builder",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.rulesForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("config",t.config),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.rulesForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,Dy],encapsulation:2}),r}(),tH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propertiesForm=this.fb.group({name:this.fb.control(this.data.props.name),title:this.fb.control(this.data.props.title),path:this.fb.control(this.data.props.path),cssFile:this.fb.control(this.data.props.cssFile),readUserIds:this.fb.array([this.fb.group({userId:this.fb.control(this.data.props.readUserIds&&this.data.props.readUserIds.length>0?this.data.props.readUserIds[0]:"")})])})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new cd((0,g.A)((0,g.A)({},this.propertiesForm.value),{},{readUserIds:this.propertiesForm.value.readUserIds.map(function(t){return t.userId})})))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-properties-dialog"]],standalone:!1,decls:18,vars:2,consts:[[1,"properties-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","title","placeholder","Title"],["matInput","","formControlName","path","placeholder","Path"],["matInput","","formControlName","cssFile","placeholder","Css File"],["formArrayName","readUserIds"],["formGroupName","0"],["matInput","","formControlName","userId","placeholder","Read User Id"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275element(9,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275element(11,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-form-field",7)(13,"div",8),a.\u0275\u0275element(14,"input",9),a.\u0275\u0275elementEnd()()()()(),a.\u0275\u0275elementStart(15,"mat-dialog-actions")(16,"button",10),a.\u0275\u0275text(17,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.propertiesForm),a.\u0275\u0275advance(16),a.\u0275\u0275property("disabled",!t.propertiesForm.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Ve],encapsulation:2}),r}(),YS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.contextForm=this.fb.group({context:this.fb.control("")}),this.context=e.context},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;this.data.context&&setTimeout(function(){t.contextFormComp.contextForm.setValue({name:t.data.context.name,plugin:t.data.context.plugin}),"rest"===t.data.context.plugin?setTimeout(function(){t.contextFormComp.componentRef.instance.restSourceFormComp.restSource={url:t.data.context.rest.url,params:t.data.context.rest.params}}):"datasource"===t.data.context.plugin&&setTimeout(function(){t.contextFormComp.componentRef.instance.datasourceFormComp.datasource=t.data.context.datasource})})}},{key:"submit",value:function(){""!==this.contextForm.get("context").value.name?this.dialogRef.close(new Ia(this.contextForm.get("context").value)):this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-dialog"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(dx,5),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextFormComp=s.first)},standalone:!1,decls:6,vars:3,consts:[[1,"context-form",3,"ngSubmit","formGroup"],["formControlName","context",3,"context"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"classifieds-ui-context-form",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.contextForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("context",t.context),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.contextForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,dx],encapsulation:2}),r}(),nH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new vS(this.propsForm.value))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-props-dialog"]],standalone:!1,decls:11,vars:2,consts:[[1,"props-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),a.\u0275\u0275text(10,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.propsForm),a.\u0275\u0275advance(9),a.\u0275\u0275property("disabled",!t.propsForm.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Ve],encapsulation:2}),r}(),rH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new yS(this.propsForm.value))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-pane-props-dialog"]],standalone:!1,decls:11,vars:2,consts:[[1,"props-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),a.\u0275\u0275text(10,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.propsForm),a.\u0275\u0275advance(9),a.\u0275\u0275property("disabled",!t.propsForm.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Ve],encapsulation:2}),r}(),JS=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiLayoutEditorHost",""]],standalone:!1}),r}(),ZS=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiPaneContentHost",""]],standalone:!1}),r}(),By=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.entityServices=e,this.attributeSerializer=t},[{key:"entityCollectionService",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState")}},{key:"resolve",value:function(t,s){var S,B,u=this,l=function(S){return S.entities},h="$."+s.selectionPath.map(function(_,S){return"".concat((S+1)%2==0?"panes":(0===S?"":"nestedPage.")+"panels","[").concat(_,"]")}).join(".");return this.entityCollectionService.collection$.pipe(wr((B=(S={id:s.id,path:h}).path,wn(function(S){var P=S.id;return wn(l,function(B){return B[P]?B[P]:void 0})}({id:S.id}),function(z){return(0,jo.JSONPath)({path:B,json:z})}))),(0,fe.T)(function(_){return _&&Array.isArray(_)&&0!==_.length?_[0]:u.defaultPaneState(s.value?s.value:{})}),(0,fe.T)(function(_){return u.attributeSerializer.deserialize(_.state)}),(0,fe.T)(function(_){return _?_.root?_.root:_:{}}),(0,X.M)(function(_){console.log("resolved panestate[id=".concat(s.id,"]").concat(h)),console.log(_)}))}},{key:"defaultPaneState",value:function(t){return new fi({state:this.attributeSerializer.serialize(t,"root")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_r),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),eE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.componentFactoryResolver=e,this.panelHandler=t,this.cpm=s,this.settings=[],this.locked=!1,this.contexts=[],this.edit=new a.EventEmitter,this.props=new a.EventEmitter,this.delete=new a.EventEmitter,this.rules=new a.EventEmitter,this.rendererOverride=new a.EventEmitter,this.removeRendererOverride=new a.EventEmitter,this.nestedUpdate=new a.EventEmitter,this.heightChange=new a.EventEmitter,this.displayOverride=!1,this.hasOverride=!1,this.preview=!1,this.schedulePluginChange=new T.B,this.pluginChangeSub=this.schedulePluginChange.pipe((0,We.n)(function(l){return u.cpm.getPlugin(u.pluginName).pipe((0,We.n)(function(d){return d.handler.hasRendererOverride(u.settings).pipe((0,fe.T)(function(p){return[l,d,p]}))}))})).subscribe(function(l){var d=(0,k.A)(l,3),p=d[0],h=d[1],_=d[2];u.contentPlugin=h,u.displayOverride=h.handler.implementsRendererOverride(),u.hasOverride=!!_,p&&"panel"===u.pluginName&&u.panelHandler.toObject(u.settings).subscribe(function(S){u.panelPage=S})}),this.ancestory$=new T.B,this.panelIndex$=new T.B,this.paneIndex$=new T.B,this.paneAncestoryWithSelf=[],this.paneAncestoryWithSelfSub=(0,zn.z)([this.ancestory$,this.panelIndex$,this.paneIndex$]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,3),h=d[1],_=d[2];return[].concat((0,A.A)(d[0]),[h,_])})).subscribe(function(l){u.paneAncestoryWithSelf=l})},[{key:"panelIndex",set:function(t){this.panelIndex$.next(t)}},{key:"paneIndex",set:function(t){this.paneIndex$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"ngOnInit",value:function(){this.schedulePluginChange.next(!0),console.log("here 1")}},{key:"ngOnChanges",value:function(t){this.schedulePluginChange.next(!1),console.log("here 2"),console.log(t)}},{key:"onEditClick",value:function(){this.edit.emit()}},{key:"onPropsClick",value:function(){this.props.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onPreviewClick",value:function(){var t=this;this.preview=!0,void 0!==this.contentPaneHost&&this.renderPaneContent(),setTimeout(function(){return t.heightChange.emit()})}},{key:"onOverrideClick",value:function(){this.rendererOverride.emit()}},{key:"onRemoveOverrideClick",value:function(){this.removeRendererOverride.emit()}},{key:"onNestedUpdate",value:function(t){this.nestedUpdate.emit(t)}},{key:"onDisablePreviewClick",value:function(){var t=this;this.preview=!1,void 0!==this.contentPaneHost&&this.contentPaneHost.viewContainerRef.clear(),setTimeout(function(){return t.heightChange.emit()})}},{key:"onAfterCollapse",value:function(){this.heightChange.emit()}},{key:"onAfterExpand",value:function(){this.heightChange.emit()}},{key:"renderPaneContent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),s=this.contentPaneHost.viewContainerRef;s.clear(),s.createComponent(t).instance.settings=this.settings}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Xt.ContentPluginManager))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-editable-pane"]],viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(ZS,5),a.\u0275\u0275viewQuery(Oz,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contentPaneHost=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contentEditor=s.first))},inputs:{pluginName:"pluginName",settings:"settings",name:"name",label:"label",panelIndex:"panelIndex",paneIndex:"paneIndex",locked:"locked",rootContext:"rootContext",contexts:"contexts",ancestory:"ancestory"},outputs:{edit:"edit",props:"props",delete:"delete",rules:"rules",rendererOverride:"rendererOverride",removeRendererOverride:"removeRendererOverride",nestedUpdate:"nestedUpdate",heightChange:"heightChange"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:17,vars:6,consts:[["settingsTmpl",""],["nestedPanelTpl",""],["paneMenu","matMenu"],["contentEditor",""],["extraActionsArea",""],["class","editable-pane-wrapper",4,"ngIf","ngIfElse"],["type","button","mat-menu-item","",3,"click","disabled"],["type","button","mat-menu-item","",3,"click"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"click"],[1,"editable-pane-wrapper"],["fxLayout","row",1,"inner-pane-wrapper"],[1,"pane-menu-trigger-wrapper"],["mat-button","","type","button",3,"matMenuTriggerFor"],["fxFlex","",3,"afterCollapse","afterExpand"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"preview-area",3,"ngClass"],["class","override","type","button",3,"click",4,"ngIf"],["classifiedsUiPaneContentHost",""],["type","button",1,"override",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nested-panel-wrapper"],[3,"nestedUpdate","delete","rules","props","panelPage","savable","nested","locked","contexts","rootContext","ancestory"],["mat-menu-item","","type","button",3,"click","disabled"],["mat-menu-item","","type","button",3,"click"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275template(0,zz,18,13,"div",5)(1,Wz,1,1,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)(3,Xz,5,7,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(5,"mat-menu",null,2)(7,"button",6),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onEditClick())}),a.\u0275\u0275text(8,"Edit"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",6),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onPropsClick())}),a.\u0275\u0275text(10,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"button",7),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onRulesClick())}),a.\u0275\u0275text(12,"Rules"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(13,Yz,2,1,"button",8)(14,Jz,2,0,"button",9),a.\u0275\u0275elementStart(15,"button",10),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onDeleteClick())}),a.\u0275\u0275text(16,"Delete"),a.\u0275\u0275elementEnd()()}if(2&e){var u=a.\u0275\u0275reference(4);a.\u0275\u0275property("ngIf","panel"!=t.pluginName||t.locked)("ngIfElse",u),a.\u0275\u0275advance(7),a.\u0275\u0275property("disabled",t.locked),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",t.locked&&0!==t.settings.length),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!t.preview),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.preview)}},dependencies:function(){return[y.NgClass,y.NgForOf,y.NgIf,y.NgTemplateOutlet,Gr.MatButton,My.MatExpansionPanel,My.MatExpansionPanelHeader,My.MatExpansionPanelTitle,yd.MatIcon,ja.MatMenu,ja.MatMenuItem,ja.MatMenuTrigger,Ve,_i,yi,Ly,ZS,_t.AttributePipe]},styles:[".editable-pane-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em;border-radius:4px;padding-left:.25em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nested-panel-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em}.inner-pane-wrapper[_ngcontent-%COMP%]{padding:0}.pane-header[_ngcontent-%COMP%]{background-color:#ccc;padding:0}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}button.delete[_ngcontent-%COMP%]{float:right}.preview-area[_ngcontent-%COMP%]{display:none;position:relative}.preview-area.visible[_ngcontent-%COMP%]{display:block;height:300px;overflow-y:scroll;border:1px solid black;padding:.5em}.panel-name[_ngcontent-%COMP%]{float:right;padding-right:.5em}.pane-menu-trigger-wrapper[_ngcontent-%COMP%]{display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1em 0 .25em}"]}),r}(),Ly=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,h,_,S,P,B,z,Y){var de=this;(0,v.A)(this,n),this.siteName=e,this.cpm=t,this.spm=s,this.lpm=u,this.cxtm=l,this.fb=d,this.bs=p,this.dialog=h,this.panelHandler=_,this.tokenizerService=S,this.componentFactoryResolver=P,this.pageBuilderFacade=B,this.paneStateContextResolver=z,this.panelsContextService=Y,this.submitted=new a.EventEmitter,this.nestedUpdate=new a.EventEmitter,this.delete=new a.EventEmitter,this.rules=new a.EventEmitter,this.props=new a.EventEmitter,this.savable=!0,this.nested=!1,this.locked=!1,this.pageBuilder=!1,this.contexts=[],this.contentAdded=new T.B,this.contentAdddedSub=this.contentAdded.subscribe(function(ge){var be=(0,k.A)(ge,2);de.resolvePaneContexts(be[0],be[1])}),this.dashboard=[],this.pageProperties=new cd,this.persistence=new Hl,this.interactions=new Du,this.layoutSetting=new $n,this.rowSettings=[],this.ancestory$=new M.t([]),this.onTouched=function(){},this.contentForm=this.fb.group({name:this.fb.control(""),title:this.fb.control(""),layoutType:this.fb.control("split",f.Validators.required),displayType:this.fb.control("page",f.Validators.required),panels:this.fb.array([])}),this.options={gridType:Vn.Fit,displayGrid:wy.Always,pushItems:!0,draggable:{enabled:!0},resizable:{enabled:!0},mobileBreakpoint:0,itemChangeCallback:function(be,me){},itemInitCallback:function(be,me){if(de.nested&&0!==be.y){var Pe=de.gridLayout.grid.findIndex(function(qe){return qe.x===be.x&&qe.y===be.y&&qe.cols===be.cols&&qe.rows===be.rows});0===de.panelPanes(Pe).length&&de.gridLayout.setItemContentHeight(Pe,200)}}},this.ancestorySub=this.ancestory$.pipe((0,te.p)(function(){return!!de.layoutEditorRef})).subscribe(function(ge){de.layoutEditorRef.instance.ancestory=ge})},[{key:"ancestory",get:function(){return this.ancestory$.value},set:function(t){this.ancestory$.next(t)}},{key:"panels",get:function(){return this.contentForm.get("panels")}},{key:"layoutType",get:function(){return this.contentForm.get("layoutType")}},{key:"displayType",get:function(){return this.contentForm.get("displayType")}},{key:"columnSettings",get:function(){for(var t=this.panels.length,s=[],u=0;u<t;u++)s=[].concat((0,A.A)(s),[new $n(this.panels.at(u).get("columnSetting").value)]);return s}},{key:"ngOnInit",value:function(){var t=this;this.contentForm.valueChanges.pipe((0,te.p)(function(){return t.nested}),(0,Ln.B)(500)).subscribe(function(){t.nestedUpdate.emit(t.packageFormData())}),this.contentForm.get("layoutType").valueChanges.pipe((0,te.p)(function(s){return"gridless"===s}),(0,lr.c)(1)).subscribe(function(s){0===t.panels.length&&t.panels.push(t.fb.group({name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),stylePlugin:new f.UntypedFormControl(""),styleTitle:new f.UntypedFormControl(""),settings:new f.UntypedFormArray([]),panes:t.fb.array([]),columnSetting:t.fb.group({settings:t.fb.array([])})}))}),this.contentForm.valueChanges.pipe((0,te.p)(function(){return!t.nested}),(0,Ln.B)(500)).subscribe(function(){var s=t.packageFormData();t.pageBuilderFacade.setPage(s)})}},{key:"ngAfterViewInit",value:function(){var t=this;this.layoutType.valueChanges.pipe((0,te.p)(function(){return!!t.layoutEditorHost})).subscribe(function(s){t.renderEditorLayout(s)}),this.layoutType.value&&this.renderEditorLayout(this.layoutType.value)}},{key:"ngAfterContentInit",value:function(){var t=this;setTimeout(function(){t.panelPage||t.contentForm.get("layoutType").setValue("split")},1e3)}},{key:"ngOnChanges",value:function(t){var s=this;t.panelPage&&t.panelPage.previousValue!==t.panelPage.currentValue&&(this.panels.clear(),this.panelPageId=t.panelPage.currentValue.panelPageId,this.dashboard=t.panelPage.currentValue.gridItems.map(function(u){return Object.assign({},u)}),this.layoutType.setValue(t.panelPage.currentValue.layoutType),this.layoutSetting=new $n(t.panelPage.currentValue.layoutSetting),this.rowSettings=t.panelPage.currentValue.rowSettings?t.panelPage.currentValue.rowSettings.map(function(u){return new $n(u)}):[],this.persistence=t.panelPage.currentValue.persistence?new Hl(t.panelPage.currentValue.persistence):new Hl,this.interactions=t.panelPage.currentValue.interactions?new Du(t.panelPage.currentValue.interactions):new Du,this.nested?(this.pageProperties=new cd({name:t.panelPage.currentValue.name,title:t.panelPage.currentValue.title,path:"",readUserIds:[],cssFile:""}),this.contentForm.get("name").setValue(t.panelPage.currentValue.name),this.contentForm.get("title").setValue(t.panelPage.currentValue.title)):(this.pageProperties=new cd({name:t.panelPage.currentValue.name,title:t.panelPage.currentValue.title,path:t.panelPage.currentValue.path,readUserIds:t.panelPage.currentValue.entityPermissions.readUserIds,cssFile:t.panelPage.currentValue.cssFile}),this.contexts=t.panelPage.currentValue.contexts),t.panelPage.currentValue.panels.forEach(function(u,l){s.panels.push(s.fb.group({name:new f.UntypedFormControl(u.name),label:new f.UntypedFormControl(u.label),stylePlugin:new f.UntypedFormControl(u.stylePlugin),styleTitle:new f.UntypedFormControl(""),settings:s.fb.array(void 0!==u.settings?u.settings.map(function(d){return s.convertToGroup(d)}):[]),panes:s.fb.array([]),columnSetting:s.fb.group({settings:s.fb.array(u.columnSetting?u.columnSetting.settings.map(function(d){return s.convertToGroup(d)}):[])})})),u.stylePlugin&&""!==u.stylePlugin&&s.spm.getPlugin(u.stylePlugin).subscribe(function(d){s.panels.at(l).get("styleTitle").setValue(d.title)}),s.nested&&s.panelPanes(s.panels.length-1).valueChanges.pipe((0,Ln.B)(5),(0,lr.c)(1)).subscribe(function(d){return function(){if(void 0!==s.gridLayout){var p=s.paneContainers.find(function(h,_){return _===d});s.gridLayout.setItemContentHeight(d,p.nativeElement.offsetHeight)}}}(s.panels.length-1)),u.panes.forEach(function(d,p){s.panels.at(l).get("panes").push(s.fb.group({contentPlugin:d.contentPlugin,name:new f.UntypedFormControl(d.name),label:new f.UntypedFormControl(d.label),locked:new f.UntypedFormControl(d.locked),linkedPageId:new f.UntypedFormControl(d.linkedPageId),rule:new f.UntypedFormControl(d.rule&&null!==d.rule?(0,g.A)((0,g.A)({},d.rule),{},{rules:d.rule.rules&&Array.isArray(d.rule.rules)?d.rule.rules:[]}):{condition:"",rules:[]}),settings:new f.UntypedFormArray(d.settings.map(function(h){return s.convertToGroup(h)}))})),setTimeout(function(){return s.resolvePaneContexts(l,p)})})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings))}},{key:"addContent",value:function(t){var s=this;console.log(this.panels.at(t)),this.pageBuilderFacade.getPage$.pipe((0,We.n)(function(u){return s.panelsContextService.allActivePageContexts({panelPage:u})}),(0,pn.s)(1)).subscribe(function(u){s.bs.open(Y$,{data:{panelForm:s.panels.at(t),panelIndex:t,contexts:[].concat((0,A.A)(s.rootContext?[s.rootContext]:[]),(0,A.A)(s.contexts),(0,A.A)(u))}})})}},{key:"editPanelProps",value:function(t){var s=this.panels.at(t).get("name"),u=this.panels.at(t).get("label");this.dialog.open(nH,{data:{props:new vS({name:s.value,label:u.value})}}).afterClosed().subscribe(function(l){l&&(s.setValue(l.name),u.setValue(l.label))})}},{key:"editPaneProps",value:function(t,s){var u=this.panelPane(t,s).get("name"),l=this.panelPane(t,s).get("label");this.dialog.open(rH,{data:{props:new yS({name:u.value,label:l.value})}}).afterClosed().subscribe(function(d){d&&(u.setValue(d.name),l.setValue(d.label))})}},{key:"applyStyle",value:function(t){this.bs.open(Z$,{data:{panelForm:this.panels.controls[t],panelIndex:t,contexts:this.contexts}})}},{key:"removeStyle",value:function(t){this.panels.controls[t].get("stylePlugin").setValue(""),this.panels.controls[t].get("styleTitle").setValue("")}},{key:"onItemAdded",value:function(){var t=this;console.log("item added"),this.panels.push(this.fb.group({name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),stylePlugin:new f.UntypedFormControl(""),styleTitle:new f.UntypedFormControl(""),settings:new f.UntypedFormArray([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})})),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){t.paneContainers.forEach(function(s,u){t.gridLayout.setItemContentHeight(u,s.nativeElement.offsetHeight)})}),this.panelPanes(this.panels.length-1).valueChanges.pipe((0,te.p)(function(){return t.nested&&void 0!==t.gridLayout}),(0,Ln.B)(5),(0,lr.c)(1)).subscribe(function(s){return function(){var u=t.paneContainers.find(function(l,d){return d===s});t.gridLayout.setItemContentHeight(s,u.nativeElement.offsetHeight)}}(this.panels.length-1)),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onItemRemoved",value:function(t){var s=this;this.panels.removeAt(t),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){s.paneContainers.forEach(function(u,l){s.gridLayout.setItemContentHeight(l,u.nativeElement.offsetHeight)})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onDrop",value:function(t){console.log(t);var s=+t.container.data,u=+t.previousContainer.data;if(s===u){for(var l=t.currentIndex>t.previousIndex?1:-1,d=t.previousIndex,p=t.currentIndex,h=this.panelPanes(s).at(d),_=d;_*l<p*l;_+=l){var S=this.panelPanes(s).at(_+l);this.panelPanes(s).setControl(_,S)}this.panelPanes(s).setControl(p,h)}else{var P=this.panelPanes(u).at(t.previousIndex);this.panelPanes(u).removeAt(t.previousIndex),this.panelPanes(s).insert(t.currentIndex,P)}}},{key:"onOverrideRenderer",value:function(t,s){var u=new Dr(this.panelPane(t,s).value);this.dialog.open(J$,{data:{panelFormGroup:this.panels.at(t),paneIndex:s,pane:u}})}},{key:"onRemoveOverrideRenderer",value:function(t,s){var l,u=this.panelPane(t,s).get("settings");u.controls.forEach(function(d,p){"_renderer"===d.get("name").value&&(l=p)}),void 0!==l&&u.removeAt(l)}},{key:"onNestedUpdate",value:function(t,s,u){var l=this,d=this.panelHandler.buildSettings(t),p=this.panelPane(s,u).get("settings");p.clear(),d.forEach(function(h){return p.push(l.convertToGroup(h))})}},{key:"onPaneHeightChange",value:function(t){if(this.nested&&this.gridLayout){var s=this.paneContainers.find(function(u,l){return l===t});this.gridLayout.setItemContentHeight(t,s.nativeElement.offsetHeight)}}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onPropertiesClick",value:function(){var t=this;this.props.emit(),this.dialog.open(tH,{data:{props:this.pageProperties}}).afterClosed().subscribe(function(s){s&&(t.pageProperties=new cd((0,g.A)({},s)),t.contentForm.get("name").setValue(s.name),t.contentForm.get("title").setValue(s.title))})}},{key:"onRulesPane",value:function(t,s){var u=this,l=new Dr(this.panelPane(t,s).value),d=""!==this.panelPane(t,s).get("rule").value?this.panelPane(t,s).get("rule").value:void 0,p=this.editablePanes.filter(function(S,P){return S.name===l.name}),_=(0,k.A)(p,1)[0];this.pageBuilderFacade.getPage$.pipe((0,X.M)(function(){u.pageBuilderFacade.setSelectionPath([].concat((0,A.A)(u.ancestory),[t,s]))}),(0,We.n)(function(S){return u.panelsContextService.allActivePageContexts({panelPage:S})}),(0,We.n)(function(S){return u.dialog.open(eH,{data:{rule:d,contexts:[].concat((0,A.A)(_.rootContext?[_.rootContext]:u.rootContext?[u.rootContext]:[]),(0,A.A)(u.contexts),(0,A.A)(S))}}).afterClosed()}),(0,pn.s)(1)).subscribe(function(S){u.panelPane(t,s).get("rule").setValue(S||d||void 0)})}},{key:"onDeletePane",value:function(t,s){console.log("delete nested pane: ".concat(t," | ").concat(s))}},{key:"onAddContextClick",value:function(){var t=this,s=this.packageFormData();this.pageBuilderFacade.setPage(s),this.dialog.open(YS,{data:{}}).afterClosed().subscribe(function(u){u&&(t.contexts=[].concat((0,A.A)(t.contexts),[u]))})}},{key:"onEditContext",value:function(t){var s=this,u=this.contexts.find(function(d){return d.name===t});if(console.log(u),u){var l=this.packageFormData();this.pageBuilderFacade.setPage(l),this.dialog.open(YS,{data:{context:u}}).afterClosed().subscribe(function(d){d&&(s.contexts=s.contexts.map(function(p){return p.name===t?new Ia(d):p}))})}}},{key:"onLayoutSettingChange",value:function(t){this.layoutSetting=new $n(t),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting)}},{key:"onRowSettingsChange",value:function(t){this.rowSettings=t.map(function(s){return new $n(s)}),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.rowSettings=this.rowSettings)}},{key:"onColumnSettingsChange",value:function(t){for(var s=this.panels.length,u=0;u<s;u++){this.panels.at(u).get("columnSetting").get("settings").clear();for(var l=0;l<t[u].settings.length;l++)this.panels.at(u).get("columnSetting").get("settings").push(this.convertToGroup(t[u].settings[l]))}this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"submit",value:function(){this.submitted.emit(this.packageFormData())}},{key:"packageFormData",value:function(){var s=new Pr({id:this.panelPageId,title:this.pageProperties.title,name:this.pageProperties.name,site:this.siteName,path:this.pageProperties.path,cssFile:this.pageProperties.cssFile,displayType:this.displayType.value,layoutType:this.layoutType.value,gridItems:this.layoutEditorRef.instance.gridItems,contexts:this.contexts,panels:this.panels.value,layoutSetting:new $n(this.layoutSetting),rowSettings:this.rowSettings.map(function(u){return new $n(u)}),persistence:this.persistence,interactions:this.interactions,entityPermissions:{readUserIds:this.pageProperties.readUserIds,writeUserIds:[],deleteUserIds:[]}});return console.log(s),s}},{key:"syncNestedPanelPages",value:function(){var t=this;console.log("sync nested"),this.editablePanes.forEach(function(s){if(void 0!==s.contentEditor){var u=t.panelHandler.buildSettings(s.contentEditor.packageFormData()),l=t.panelPane(s.panelIndex,s.paneIndex).get("settings");l.clear(),u.forEach(function(d){return l.push(t.convertToGroup(d))})}})}},{key:"resolvePaneContexts",value:function(t,s){var u=this,l=new Dr(this.panelPane(t,s).value),d=this.panelPanes(t).controls;this.cpm.getPlugin(l.contentPlugin).pipe((0,te.p)(function(p){return void 0!==p.handler&&p.handler.isDynamic(l.settings)}),(0,We.n)(function(p){return p.handler.fetchDynamicData(l.settings,new Map([["tag",ur()],["contexts",(0,A.A)(u.contexts)]])).pipe((0,fe.T)(function(h){return new Ia({name:"_root",adaptor:"data",data:0!==h.length?h.results[0]:{}})}),(0,We.n)(function(h){return p.handler.getBindings(l.settings,"pane").pipe((0,fe.T)(function(_){return[h,_.map(function(S){return d.findIndex(function(P){return new Dr(P.value).name===S.id})})]}))}))})).subscribe(function(p){var h=(0,k.A)(p,2),_=h[0],S=h[1];u.editablePanes.forEach(function(P,B){S.findIndex(function(z){return z===B})>-1&&(P.rootContext=_)})})}},{key:"onPersistenceClick",value:function(){var t=this;this.dialog.open(vL,{data:{persistence:this.persistence,contexts:this.contexts}}).afterClosed().subscribe(function(s){console.log("persistence closed",s),t.persistence=s||t.persistence})}},{key:"onInteractionsClick",value:function(){var t=this;this.dialog.open(xL,(0,g.A)({data:{interactions:this.interactions,contexts:this.contexts}},{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"})).afterClosed().subscribe(function(s){console.log("interactions closed",s),t.interactions=s||t.interactions})}},{key:"panelPanes",value:function(t){return this.panels.at(t).get("panes")}},{key:"panelPane",value:function(t,s){return this.panelPanes(t).at(s)}},{key:"panelPanePlugin",value:function(t,s){return this.panelPane(t,s).get("contentPlugin").value}},{key:"panelPaneSettings",value:function(t,s){return this.panelPane(t,s).get("settings").value}},{key:"panelPaneName",value:function(t,s){return this.panelPane(t,s).get("name").value}},{key:"panelPaneLabel",value:function(t,s){return this.panelPane(t,s).get("label").value}},{key:"panelPaneLocked",value:function(t,s){if(this.locked)return this.locked;var u=this.panelPane(t,s).get("locked");return null!==u&&u.value}},{key:"panelPaneIsNested",value:function(t,s){return"panel"===this.panelPanePlugin(t,s)}},{key:"panelPanePanelPage",value:function(t,s){var u;return this.panelHandler.toObject(this.panelPaneSettings(t,s)).subscribe(function(l){u=l}),u}},{key:"hasPanelStyle",value:function(t){return void 0!==this.panels.at(t).get("stylePlugin").value&&""!==this.panels.at(t).get("stylePlugin").value}},{key:"panelStyleTitle",value:function(t){return this.panels.at(t).get("styleTitle").value}},{key:"onPaneEdit",value:function(t,s){var u=this,l=new Dr(this.panelPane(t,s).value),d=this.panelPanePlugin(t,s),p=this.editablePanes.filter(function(S,P){return S.name===l.name}),_=(0,k.A)(p,1)[0];this.cpm.getPlugin(d).pipe((0,te.p)(function(S){return void 0!==S.editorComponent}),(0,We.n)(function(S){return u.pageBuilderFacade.getPage$.pipe((0,We.n)(function(P){return u.panelsContextService.allActivePageContexts({panelPage:P}).pipe((0,fe.T)(function(B){return[S,B]}),(0,pn.s)(1))}),(0,pn.s)(1))}),(0,We.n)(function(S){var P=(0,k.A)(S,2),B=P[0],z=P[1];return B.handler?B.handler.editorOptions(l.settings).pipe((0,fe.T)(function(Y){return[B,z,Y]})):(0,Re.of)([B,z,new Xt.ContentPluginEditorOptions])})).subscribe(function(S){var P=(0,k.A)(S,3),z=P[1],Y=P[2];u.dialog.open(P[0].editorComponent,(0,g.A)({data:{panelFormGroup:u.panels.at(t),panelIndex:t,paneIndex:s,contexts:[].concat((0,A.A)(_.rootContext?[_.rootContext]:u.rootContext?[u.rootContext]:[]),(0,A.A)(u.contexts),(0,A.A)(z)),contentAdded:u.contentAdded,pane:l}},Y.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{})).afterClosed().subscribe(function(){u.resolvePaneContexts(t,s)})})}},{key:"onPaneDelete",value:function(t,s){this.panelPanes(t).removeAt(s)}},{key:"onFileChange",value:function(t,s){var u=this,l=t.addedFiles[0];this.cpm.getPlugins().pipe((0,fe.T)(function(d){return Array.from(d.values()).filter(function(p){return void 0!==p.handler}).find(function(p){return p.handler.handlesType(l.type)})}),(0,te.p)(function(d){return void 0!==d})).subscribe(function(d){d.handler.handleFile(l).subscribe(function(p){u.panelPanes(s).push(u.fb.group({contentPlugin:d.id,name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),settings:u.fb.array(p.map(function(h){return u.fb.group({name:new f.UntypedFormControl(h.name,f.Validators.required),type:new f.UntypedFormControl(h.type,f.Validators.required),displayName:new f.UntypedFormControl(h.displayName,f.Validators.required),value:new f.UntypedFormControl(h.value,f.Validators.required),computedValue:new f.UntypedFormControl(h.value,f.Validators.required)})}))}))})})}},{key:"writeValue",value:function(t){t&&this.contentForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.contentForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(t){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}},{key:"renderEditorLayout",value:function(t){var s=this;console.log("render editor layout ".concat(t)),this.lpm.getPlugin(t).subscribe(function(u){var l=s.componentFactoryResolver.resolveComponentFactory(u.editor),d=s.layoutEditorHost.viewContainerRef;d.clear(),s.layoutEditorRef=d.createComponent(l),s.layoutEditorRef.instance.savable=s.savable,s.layoutEditorRef.instance.nested=s.nested,s.layoutEditorRef.instance.ancestory=s.ancestory,s.layoutEditorRef.instance.editor=s,s.layoutEditorRef.instance.extraActionsAreaTmpl=s.extraActionsAreaTmpl,s.layoutEditorRef.instance.contextsMenuTpl=s.contextsMenuTpl,s.layoutEditorRef.instance.editablePaneTpl=s.editablePaneTpl,s.layoutEditorRef.instance.dashboard=s.dashboard,s.layoutEditorRef.instance.layoutSetting=s.layoutSetting,s.layoutEditorRef.instance.rowSettings=s.rowSettings,s.layoutEditorRef.instance.columnSettings=s.columnSettings})}},{key:"updateEditorLayoutVars",value:function(){this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(cn.SITE_NAME),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(Xl),a.\u0275\u0275directiveInject(Lf),a.\u0275\u0275directiveInject(fs),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(wu.MatBottomSheet),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(By),a.\u0275\u0275directiveInject(mS))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-content-editor"]],contentQueries:function(e,t,s){var u;1&e&&a.\u0275\u0275contentQuery(s,Zz,5),2&e&&a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsAreaTmpl=u.first)},viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(BS,5),a.\u0275\u0275viewQuery(jS,5),a.\u0275\u0275viewQuery(JS,5),a.\u0275\u0275viewQuery(e$,7),a.\u0275\u0275viewQuery(t$,7),a.\u0275\u0275viewQuery(n$,5),a.\u0275\u0275viewQuery(eE,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.gridLayout=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.splitLayout=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.layoutEditorHost=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextsMenuTpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.editablePaneTpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.paneContainers=s),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.editablePanes=s))},inputs:{panelPage:"panelPage",savable:"savable",nested:"nested",locked:"locked",pageBuilder:"pageBuilder",contexts:"contexts",rootContext:"rootContext",ancestory:"ancestory"},outputs:{submitted:"submitted",nestedUpdate:"nestedUpdate",delete:"delete",rules:"rules",props:"props"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:12,vars:3,consts:[["nestedTpl",""],["editablePaneTpl",""],["contextsMenuTpl",""],["contextMenu","matMenu"],["class","content-editor-wrapper",3,"formGroup","ngClass","ngSubmit",4,"ngIf","ngIfElse"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"content-editor-wrapper",3,"ngSubmit","formGroup","ngClass"],["classifiedsUiLayoutEditorHost",""],[1,"content-editor-wrapper",3,"formGroup","ngClass"],[1,"editable-pane",3,"delete","rules","nestedUpdate","rendererOverride","removeRendererOverride","edit","props","panelIndex","paneIndex","name","label","locked","contexts","pluginName","settings","ancestory"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[1,"custom-placeholder"],["type","button","mat-menu-item","",1,"context-button",3,"matMenuTriggerFor"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275template(0,a$,3,4,"form",4)(1,o$,3,4,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)(3,u$,2,9,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(5,l$,2,1,"ng-template",null,2,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(7,"mat-menu",null,3)(9,"button",5),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onAddContextClick())}),a.\u0275\u0275text(10,"define variable"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,c$,2,1,"button",6),a.\u0275\u0275elementEnd()}if(2&e){var u=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf",!t.nested&&!t.pageBuilder)("ngIfElse",u),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngForOf",t.contexts)}},dependencies:[y.NgClass,y.NgForOf,y.NgIf,f.\u0275NgNoValidate,f.NgControlStatusGroup,f.FormGroupDirective,Iu.CdkDragPlaceholder,ja.MatMenu,ja.MatMenuItem,ja.MatMenuTrigger,yi,JS,eE],styles:[".content-editor-wrapper[_ngcontent-%COMP%]{height:100%}.panel-inner[_ngcontent-%COMP%]{padding:1em}.content-editor-wrapper[_ngcontent-%COMP%]     ngx-dropzone{height:100%;display:block;padding:0;border:none}.content-editor-wrapper.nested[_ngcontent-%COMP%]     .grid-item-header{border-bottom:1px solid white}.layout-type[_ngcontent-%COMP%], .display-type[_ngcontent-%COMP%]{float:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:1.5em}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field{width:85px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .main-controls{background-color:#ccc}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .layout-inner{background-color:#ccc;padding:.75em}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .editable-pane-wrapper{border:none;margin-bottom:0}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .pane-header{background-color:#fff}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .nested-panel-wrapper{padding:.75em;margin-bottom:0}.custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.context-button[_ngcontent-%COMP%]{font-style:italic;font-family:serif;font-weight:bolder;font-size:medium}"]}),r}(),aH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.fb=t,this.handler=s},[{key:"ngOnInit",value:function(){var t=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.snippet=s})}},{key:"onSubmit",value:function(t){if(void 0===this.data.paneIndex)this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"snippet",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:new f.UntypedFormArray(this.buildSettings(t))}));else{var s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);s.get("settings").clear(),this.buildSettings(t).forEach(function(u){s.get("settings").push(u)})}}},{key:"buildSettings",value:function(t){return[this.fb.group({name:new f.UntypedFormControl("contentType",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Text,f.Validators.required),displayName:new f.UntypedFormControl("Content Type",f.Validators.required),value:new f.UntypedFormControl(t.contentType,f.Validators.required),computedValue:new f.UntypedFormControl(t.contentType,f.Validators.required)}),this.fb.group({name:new f.UntypedFormControl("content",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Text,f.Validators.required),displayName:new f.UntypedFormControl("Content",f.Validators.required),value:new f.UntypedFormControl(t.content,f.Validators.required),computedValue:new f.UntypedFormControl(t.content,f.Validators.required)}),this.fb.group({name:new f.UntypedFormControl("jsScript",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Text,f.Validators.required),displayName:new f.UntypedFormControl("jsScript",f.Validators.required),value:new f.UntypedFormControl(t.jsScript),computedValue:new f.UntypedFormControl(t.jsScript)})]}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Mu))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-editor2"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","snippet"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),a.\u0275\u0275listener("submitted",function(u){return t.onSubmit(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("snippet",t.snippet)},dependencies:[Cf],encapsulation:2}),r}(),Kf=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p){var h=this;(0,v.A)(this,n),this.route=e,this.pageBuilderFacade=t,this.routerStore=s,this.asyncApiCallHelperSvc=u,this.crudDataHelperService=l,this.entityDefinitionService=d,this.paramMapSub=this.route.paramMap.pipe((0,X.M)(function(){return console.log("param map panelPageId")}),(0,fe.T)(function(_){return _.get("panelPageId")}),(0,te.p)(function(_){return void 0!==_}),(0,We.n)(function(){return h.route.data}),ii(this.routerStore.pipe(wr(Zc(function(_){return _.router}).selectCurrentRoute),(0,fe.T)(function(_){return _.params}),(0,pn.s)(1))),(0,X.M)(function(_){var S=(0,k.A)(_,2),P=S[0],B=S[1];console.log("route page"),h.pageBuilderFacade.setPageInfo(new ld({id:P.panelPageListItem.id,realPath:"/pages/panelpage/"+P.panelPageListItem.id,path:P.panelPageListItem.path,args:B})),h.panelPageId=P.panelPageListItem.id})).subscribe(),this.panelPageService=p.getEntityCollectionService("PanelPage")},[{key:"ngOnInit",value:function(){var t=this,u=Zc(function(l){return l.router}).selectCurrentRoute;this.route.paramMap.pipe((0,X.M)(function(){return console.log("param map page builder facade info")}),ii(this.pageBuilderFacade.getPageInfo$),(0,te.p)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return void 0!==h&&void 0!==p.get("panelPageId")&&p.get("panelPageId")===h.id}),(0,We.n)(function(l){var h=(0,k.A)(l,2)[1];return t.routerStore.pipe(wr(u),(0,fe.T)(function(_){return[h,_.params]}),(0,pn.s)(1))})).subscribe(function(l){var d=(0,k.A)(l,2),h=d[1];t.pageBuilderFacade.setPageInfo(new ld((0,g.A)((0,g.A)({},d[0]),{},{args:h})))})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Xn.ActivatedRoute),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(cn.AsyncApiCallHelperService),a.\u0275\u0275directiveInject(nd),a.\u0275\u0275directiveInject(qa),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-page-router"]],standalone:!1,decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",0),2&e&&a.\u0275\u0275property("id",t.panelPageId)},dependencies:[Vy],encapsulation:2}),r}(),iH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.panelPageService=e.getEntityCollectionService("PanelPage"),this.panelPageListItemService=e.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){console.log("here")}},{key:"onSubmit",value:function(t){console.log("create panel page",t),t.id=ur(),this.panelPageService.add(t).subscribe(function(){console.log("panel page created")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-create-panel-page"]],standalone:!1,decls:1,vars:0,consts:[[3,"submitted"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),a.\u0275\u0275listener("submitted",function(u){return t.onSubmit(u)}),a.\u0275\u0275elementEnd())},dependencies:[Ly],encapsulation:2}),r}(),qf=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.route=e,this.pageBuilderFacade=t,this.routerStore=s,this.moduleLoader=u,this.panelPageService=l.getEntityCollectionService("PanelPage"),this.panelPageListItemService=l.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.pipe((0,fe.T)(function(s){return s.get("panelPageId")}),(0,te.p)(function(s){return void 0!==s}),(0,Ao.F)(),(0,We.n)(function(s){return t.panelPageService.getByKey(s)}),(0,We.n)(function(s){return s?(0,bn.p)(s.contexts.filter(function(u){return"module"===u.plugin}).map(function(u){return t.moduleLoader.loadModule(function(){return(0,ac.loadRemoteModule)({type:"module",remoteEntry:u.data.remoteEntry,exposedModule:u.data.exposedModule}).then(function(l){return l[u.data.moduleName]})})})).pipe((0,lr.c)(1),(0,fe.T)(function(){return s}),(0,qr.U)(s)):(0,Re.of)(s)}),(0,We.n)(function(s){return t.routerStore.pipe(wr(Zc(function(u){return u.router}).selectCurrentRoute),(0,fe.T)(function(u){return[s,u.params]}),(0,pn.s)(1))}),(0,X.M)(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return t.pageBuilderFacade.setPageInfo(new ld({id:l.id,realPath:"/pages/panelpage/".concat(l.id),path:l.path,args:d}))})).subscribe(function(s){var l=(0,k.A)(s,1)[0];console.log(l),t.panelPage=l})}},{key:"onSubmit",value:function(t){console.log("submitted"),this.panelPageService.update(new Pr((0,g.A)((0,g.A)({},t),{},{id:this.panelPage.id}))).subscribe(function(){alert("panel page updated")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Xn.ActivatedRoute),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(cn.ModuleLoaderService),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-edit-panel-page"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","panelPage"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),a.\u0275\u0275listener("submitted",function(u){return t.onSubmit(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("panelPage",t.panelPage)},dependencies:[Ly],encapsulation:2}),r}(),oH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.bottomSheetRef=e,this.handler=t,this.fb=s,this.dialog=u,this.cpm=l,this.wpm=d},[{key:"ngOnInit",value:function(){this.attributeWidgets=this.wpm.getPlugins()}},{key:"onItemSelect",value:function(t){var s=this;console.log(t),this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"attribute",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.widgetSettings(t).map(function(p){return s.fb.group({name:new f.UntypedFormControl(p.name,f.Validators.required),type:new f.UntypedFormControl(p.type,f.Validators.required),displayName:new f.UntypedFormControl(p.displayName,f.Validators.required),value:new f.UntypedFormControl(p.value,f.Validators.required),computedValue:new f.UntypedFormControl(p.computedValue,f.Validators.required)})}))}));var u=this.panelFormGroup.get("panes"),l=u.length-1,d=new Dr(u.at(l).value);this.cpm.getPlugin("attribute").subscribe(function(p){s.dialog.open(p.editorComponent,{data:{panelFormGroup:s.panelFormGroup,pane:d,paneIndex:l}})}),this.bottomSheetRef.dismiss()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(wu.MatBottomSheetRef),a.\u0275\u0275directiveInject(Nu),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(_t.WidgetPluginManager))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-selector"]],inputs:{panelFormGroup:"panelFormGroup"},standalone:!1,decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,d$,3,1,"a",0),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"keyvalue"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,3,a.\u0275\u0275pipeBind1(2,1,t.attributeWidgets))))},dependencies:[y.NgForOf,Df.MatLine,ms.MatNavList,ms.MatListItem,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),sH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=s,this.fb=u,this.handler=l,this.attributes=[],this.attributeValues=[],this.attributesFormGroup=this.fb.group({name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),attributes:new f.UntypedFormControl("")});var d=this.data.pane.settings.find(function(p){return"widget"===p.name});this.widget=t.find(function(p){return p.name===d.value})},[{key:"name",get:function(){return this.attributesFormGroup.get("name")}},{key:"label",get:function(){return this.attributesFormGroup.get("label")}},{key:"ngOnInit",value:function(){var t=this.data.pane.settings.find(function(l){return"value"===l.name});this.attributes=[new _t.Attribute((0,g.A)((0,g.A)({},this.widget.schema),{},{widget:this.widget.name,label:"Value",name:"value"}))];var s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").value,u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").value;this.attributesFormGroup.get("name").setValue(s),this.attributesFormGroup.get("label").setValue(u),void 0!==t?(this.attributeValues=this.handler.valueSettings(this.data.pane.settings),console.log(this.attributeValues)):this.attributeValues=[new _t.AttributeValue({name:"value",type:this.widget.schema.type,displayName:"Value",value:"",computedValue:"",intValue:0,attributes:[]})]}},{key:"submit",value:function(){var t=this,s=this.name.value,u=this.label.value;this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").setValue(s),this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").setValue(u);var l=new Dr({name:s,label:u,contentPlugin:"attribute",settings:""===this.attributesFormGroup.get("attributes").value?[]:this.attributesFormGroup.get("attributes").value});0!==l.settings.length?this.handler.rendererSnippet(this.data.pane.settings).subscribe(function(d){var p=void 0!==d?t.handler.rendererOverrideSettings(d):[],h=t.data.panelFormGroup.get("panes").at(t.data.paneIndex).get("settings");h.clear(),[].concat((0,A.A)(t.handler.widgetSettings(t.widget)),(0,A.A)(l.settings),(0,A.A)(p)).forEach(function(_){return h.push(t.convertToGroup(_))}),t.dialogRef.close()}):this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(_t.ATTRIBUTE_WIDGET),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Nu))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-editor"]],standalone:!1,decls:10,vars:3,consts:[[3,"ngSubmit","formGroup"],["fxLayout","column"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Label","formControlName","label"],["formControlName","attributes",3,"attributes","attributeValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"mat-form-field"),a.\u0275\u0275element(3,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"classifieds-ui-attributes-builder",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-dialog-actions")(8,"button",5),a.\u0275\u0275text(9,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.attributesFormGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("attributes",t.attributes)("attributeValues",t.attributeValues))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Ve,_t.AttributesBuilderComponent],encapsulation:2}),r}(),uH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.widgets=e,this.handler=t,this.tokenizerService=s,this.fb=u,this.controlContainer=l,this.settings=[],this.appearance="legacy",this.attributes=[]},[{key:"ngOnInit",value:function(){var t=this;this.attributes=[new _t.Attribute((0,g.A)((0,g.A)({},this.widgets.find(function(s){return s.name===t.settings.find(function(u){return"widget"===u.name}).value}).schema),{},{name:"value",label:"Value"}))],this.attributeValues=this.handler.valueSettings(this.settings),this.tokens=this.tokenizerService.generateTokens(this.attributeValues),this.handler.rendererSnippet(this.settings).subscribe(function(s){t.rendererOverride=s,void 0!==s&&(t.rendererSettings=t.handler.rendererOverrideSettings(s)[0].attributes)})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.ATTRIBUTE_WIDGET),a.\u0275\u0275directiveInject(Nu),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-pane-renderer"]],inputs:{settings:"settings",appearance:"appearance",name:"name",label:"label",displayType:"displayType"},standalone:!1,decls:3,vars:2,consts:[["overrideTpl",""],["settingsTmpl",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"],[3,"settings","tokens"]],template:function(e,t){if(1&e&&a.\u0275\u0275template(0,A$,3,2,"div",2)(1,C$,1,2,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),2&e){var s=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf",!t.rendererOverride)("ngIfElse",s)}},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_t.AttributesBuilderComponent,XS,_t.AttributePipe],styles:[".override[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em}"]}),r}(),ic=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.filesService=e,this.attributeSerializer=t,this.types=["image/png","image/jpg","image/jpeg","image/gif"]},[{key:"handleFile",value:function(t){var s=this;return this.filesService.bulkUpload({files:[t]}).pipe((0,fe.T)(function(u){return s.buildSettings(u[0])}))}},{key:"handlesType",value:function(t){return void 0!==this.types.find(function(s){return s===t})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"getBindings",value:function(t,s,u){return(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return t.fileName="placeholdername",this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Re.of)({mediaLoading:"y",mediaLoaded:"n",loadError:"n",loadDuration:"y"})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(df),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),lH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.filesService=u,this.handler=l,this.mediaTypes=".png,.jpg,.jpeg,.gif,.svg"},[{key:"ngOnInit",value:function(){var t=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).pipe((0,We.n)(function(s){return t.filesService.convertToFiles([s])})).subscribe(function(s){t.media=s[0]})}},{key:"onSelectMedia",value:function(t){var s=this;this.media=t.addedFiles[0],this.handler.handleFile(this.media).subscribe(function(u){void 0===s.data.paneIndex&&s.data.panelFormGroup.get("panes").push(s.fb.group({contentPlugin:"media",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:new f.UntypedFormArray(u.map(function(l){return s.fb.group({name:new f.UntypedFormControl(l.name,f.Validators.required),type:new f.UntypedFormControl(l.type,f.Validators.required),displayName:new f.UntypedFormControl(l.displayName,f.Validators.required),value:new f.UntypedFormControl(l.value,f.Validators.required),computedValue:new f.UntypedFormControl(l.value,f.Validators.required)})}))})),s.dialogRef.close()})}},{key:"onRemoveMedia",value:function(t){this.media=void 0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(df),a.\u0275\u0275directiveInject(ic))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-media-editor"]],standalone:!1,decls:4,vars:3,consts:[[3,"change","multiple","accept"],[3,"removable","file","removed",4,"ngIf"],[3,"removed","removable","file"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"ngx-dropzone",0),a.\u0275\u0275listener("change",function(u){return t.onSelectMedia(u)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2,"Drag and Drop Media Here"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,x$,3,4,"ngx-dropzone-image-preview",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("multiple",!1)("accept",t.mediaTypes),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.media))},dependencies:[y.NgIf,Vf,bS,CS],encapsulation:2}),r}(),cH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.mediaSettings=e,this.handler=t,this.attributeSerializer=s,this.settings=[],this.ancestory=[],this.state={},this.stateChange=new a.EventEmitter,this.panelPageStateService=u.getEntityCollectionService("PanelPageState")},[{key:"ngOnInit",value:function(){var t=this;console.log("media ancestory is"),console.log(this.ancestory),console.log("my state is:"),console.log(this.state),this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(s){t.mediaFile=s})}},{key:"ngAfterViewInit",value:function(){var t=this;this.image.nativeElement.onload=function(){console.log("image loaded"),t.stateChange.emit({mediaLoading:"n"})}}},{key:"ngOnChanges",value:function(){var t=this;this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(s){t.mediaFile=s})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(cf),a.\u0275\u0275directiveInject(ic),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(_r))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-media-pane-renderer"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(S$,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.image=s.first)},inputs:{settings:"settings",ancestory:"ancestory",state:"state"},outputs:{stateChange:"stateChange"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:3,consts:[["img",""],[3,"src"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"img",1,0),2&e&&a.\u0275\u0275property("src",a.\u0275\u0275interpolate2("",t.mediaBaseUrl,"/",t.mediaFile.path),a.\u0275\u0275sanitizeUrl)},styles:["img[_ngcontent-%COMP%]{max-width:100%}"]}),r}(),Cd=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,h,_){(0,v.A)(this,n),this.siteName=e,this.snippetHandler=t,this.pageBuilderFacade=s,this.store=u,this.tokenizerService=l,this.panelHandler=d,this.urlGeneratorService=p,this.attributeSerializer=h,this.rulesResolver=_},[{key:"handleFile",value:function(t){return(0,Re.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return["snippet","pane"].indexOf(this.getRenderType(t))>-1}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){var u=this,l=new T.B;return this.toObject(t).pipe((0,We.n)(function(d){return u.urlGeneratorService.getUrl(d.url,d.params,s).pipe((0,fe.T)(function(p){return[d,p]}))})).subscribe(function(d){var p=(0,k.A)(d,2),h=p[0],_=p[1];u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),new Bo((0,g.A)((0,g.A)({},h),{},{url:_}))),u.store.pipe(wr(Nf("".concat(s.get("tag")))),(0,te.p)(function(S){return void 0!==S})).subscribe(function(S){l.next(S),l.complete()})}),l}},{key:"buildDynamicItems",value:function(t,s){var u=this,l=new T.B;return console.log("build dynamic items rest"),this.toObject(t).pipe((0,We.n)(function(d){return u.urlGeneratorService.getUrl(d.url,d.params,s).pipe((0,fe.T)(function(p){return[d,p]}))})).subscribe(function(d){var p=(0,k.A)(d,2),h=p[0],_=p[1];console.log("Load in rest data"),u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),new Bo((0,g.A)((0,g.A)({},h),{},{url:_}))),u.store.pipe(wr(Nf("".concat(s.get("tag")))),(0,te.p)(function(S){return void 0!==S}),(0,We.n)(function(S){return u.getBindings(t,"pane").pipe((0,fe.T)(function(P){return[S,P]}))}),(0,We.n)(function(S){var P=(0,k.A)(S,2),B=P[0],z=P[1];return er(function(){return 0!==B.results.length&&z.length>0},new G.c(function(Y){(0,bn.p)(B.results.map(function(de){return(0,iy.H)(z).pipe((0,fe.T)(function(ge){return s.get("panes").find(function(be){return be.name===ge.id})}),(0,We.n)(function(ge){return er(function(){return ge.rule&&null!==ge.rule&&""!==ge.rule.condition},u.rulesResolver.evaluate(ge.rule,[].concat((0,A.A)(s.get("contexts")),(0,A.A)(void 0!==ge.contexts?ge.contexts:[]),[new Ia({name:"_root",adaptor:"data",data:de})])).pipe((0,fe.T)(function(be){return[ge,be]})),(0,Re.of)(!1).pipe((0,fe.T)(function(be){return[ge,be]})))}),(0,te.p)(function(ge){return(0,k.A)(ge,2)[1]}),(0,fe.T)(function(ge){return(0,k.A)(ge,2)[0].name}),(0,qr.U)(z[0].id),(0,pn.s)(1))})).pipe((0,fe.T)(function(de){return[B,de]})).subscribe(function(de){Y.next(de),Y.complete()})}),new G.c(function(Y){Y.next([B]),Y.complete()}))}),(0,fe.T)(function(S){var P=(0,k.A)(S,2),z=P[1];return P[0].results.map("pane"===h.renderer.type?function(Y,de){var ge=s.get("panes").find(function(me){return me.name===z[de]}),be=ur();return new Dr((0,g.A)((0,g.A)({},ge),{},{rule:void 0,label:be,contexts:[].concat((0,A.A)(s.get("contexts")),[new Ia({name:"_root",adaptor:"data",data:Y})])}))}:function(Y){return new Dr({contentPlugin:"snippet",name:ur(),label:void 0,contexts:[].concat((0,A.A)(s.get("contexts")),[new Ia({name:"_root",adaptor:"data",data:Y})]),settings:u.snippetHandler.buildSettings((0,g.A)((0,g.A)({},h.renderer.data),{},{content:h.renderer.data.content}))})})}),(0,fe.T)(function(S){return new Uo({stylePlugin:void 0,settings:[],panes:S,columnSetting:new $n})}),(0,fe.T)(function(S){return u.panelHandler.buildSettings(new Pr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new $n,rowSettings:[],panels:[S]}))})).subscribe(function(S){l.next(S.find(function(P){return"panels"===P.name}).attributes[0].attributes.find(function(P){return"panes"===P.name}).attributes),l.complete()})}),l}},{key:"buildSelectOptionItems",value:function(t,s){var u=this;return this.toObject(t).pipe((0,We.n)(function(l){return u.urlGeneratorService.getUrl(l.url,l.params,s).pipe((0,fe.T)(function(d){return[l,d]}))}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),h=d[1];return new Bo((0,g.A)((0,g.A)({},d[0]),{},{url:h}))})).subscribe(function(l){u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),l)}),this.store.pipe(wr(Nf("".concat(s.get("tag")))),(0,te.p)(function(l){return void 0!==l}),(0,fe.T)(function(l){return[l,l.results.map(function(d){return u.tokenizerService.generateGenericTokens(d)})]}),(0,fe.T)(function(l){var d=(0,k.A)(l,2);return[d[0],d[1],new sx(JSON.parse(s.get("snippet").content))]}),(0,fe.T)(function(l){var d=(0,k.A)(l,3),p=d[0],_=d[2];return d[1].map(function(S,P){return new ox({dataItem:p.results[P],value:u.attributeSerializer.serialize("[.]"===_.value?p.results[P]:u.tokenizerService.replaceTokens(_.value,S),"value"),label:u.tokenizerService.replaceTokens(_.label,S)})})}))}},{key:"getBindings",value:function(t,s,u){return"context"===s?this.toObject(t).pipe((0,fe.T)(function(l){return l.params.reduce(function(d,p){return[].concat((0,A.A)(d),(0,A.A)("form"===p.mapping.type?[new Xt.ContentBinding({id:"form__".concat(p.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[])})):this.toObject(t).pipe((0,We.n)(function(l){return er(function(){return l.renderer.type===s},(0,Re.of)(l.renderer.bindings),(0,Re.of)([]))}))}},{key:"toObject",value:function(t){return(0,Re.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"getRenderType",value:function(t){var s=[t.find(function(u){return"renderer"===u.name})].map(function(u){return u.attributes.find(function(l){return"type"===l.name})});return s.length>0?s[0].value:void 0}},{key:"stateDefinition",value:function(t){return(0,Re.of)({autocomplete:{input:""}})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.SITE_NAME),a.\u0275\u0275inject(Mu),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Wn),a.\u0275\u0275inject(La),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ay))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),dH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.tokenizerService=t,this.panes=[],this.submitted=new a.EventEmitter,this.contexts=[],this.forms=[],this.snippetValidation=!0,this.restForm=this.fb.group({source:this.fb.control(""),renderer:this.fb.group({type:"snippet",query:this.fb.control(""),trackBy:this.fb.control(""),data:this.fb.control(""),bindings:this.fb.array([]),select:this.fb.group({value:this.fb.control(""),label:this.fb.control(""),id:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")})})})},[{key:"rest",set:function(t){var s=this;void 0!==t&&(this._rest=t,this.restForm.setValue({renderer:(0,g.A)((0,g.A)({trackBy:"",query:""},t.renderer),{},{data:t.renderer.data?(0,g.A)((0,g.A)({},t.renderer.data),{},{jsScript:t.renderer.data.jsScript?t.renderer.data.jsScript:""}):{content:"",contentType:"",jsScript:""},select:["pane","snippet"].findIndex(function(l){return l===t.renderer.type})>-1?{value:"",label:"",id:"",multiple:"",limit:""}:JSON.parse(t.renderer.data.content),bindings:[]}),source:{url:"",params:[],method:"",body:""}}),"pane"===t.renderer.type&&(this.bindings.clear(),t.renderer.bindings.forEach(function(l){"pane"===l.type&&s.bindings.push(s.fb.group({id:s.fb.control(l.id,f.Validators.required),type:s.fb.control(l.type,f.Validators.required)}))})),"pane"===t.renderer.type?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),setTimeout(function(){s.restSource={url:t.url,params:t.params,method:t.method?t.method:"",body:t.body?(0,g.A)((0,g.A)({},t.body),{},{jsScript:""}):""},s.sourceForm.refreshData$.next(void 0)}))}},{key:"rendererType",get:function(){return this.restForm.get("renderer").get("type")}},{key:"isSelectable",get:function(){return this.restForm.get("renderer").get("type").value&&"snippet"!==this.restForm.get("renderer").get("type").value&&"pane"!==this.restForm.get("renderer").get("type").value}},{key:"bindings",get:function(){return this.restForm.get("renderer").get("bindings")}},{key:"valid",get:function(){return this.restForm.valid}},{key:"ngOnInit",value:function(){var t=this;console.log(this.contexts),this.restForm.get("renderer").get("type").valueChanges.subscribe(function(s){"pane"===t.rendererType.value?t.restForm.get("renderer").get("data").disable():t.restForm.get("renderer").get("data").enable(),t.restForm.get("renderer").get("data").setValue({contentType:"",content:"",jsScript:""})}),this.restForm.get("renderer").get("select").valueChanges.subscribe(function(s){t.restForm.get("renderer").get("data").setValue({contentType:"application/json",content:JSON.stringify({value:s.value,label:s.label,id:s.id,multiple:s.multiple,limit:s.limit}),jsScript:""})})}},{key:"ngAfterViewInit",value:function(){}},{key:"onDataChange",value:function(t){this.tokens=this.tokenizerService.generateGenericTokens(t[0])}},{key:"addPane",value:function(){this.bindings.push(this.fb.group({type:this.fb.control("pane",f.Validators.required),id:this.fb.control("",f.Validators.required)}))}},{key:"submit",value:function(){var t=new Bo((0,g.A)((0,g.A)({},this.restForm.value),{},{url:this.restForm.value.source.url,params:this.restForm.value.source.params,method:this.restForm.value.source.method,body:this.restForm.value.source.body}));this.submitted.emit(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Wn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(_d,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.sourceForm=s.first)},inputs:{panes:"panes",contexts:"contexts",rest:"rest"},outputs:{submitted:"submitted"},standalone:!1,decls:34,vars:9,consts:[[1,"rest-form",3,"ngSubmit","formGroup"],["direction","vertical",1,"content-inner"],["as-split-area","","size","50"],["formControlName","source",3,"dataChange","contexts","restSource"],["size","50","formGroupName","renderer"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["required","","formControlName","type"],["label","Output"],["value","snippet"],["value","pane"],["label","Input"],["value","select"],["value","radiogroup"],["value","checkboxgroup"],["value","autocomplete"],["formControlName","data","splitDirection","horizontal","rows","10","cols","40",3,"hidden","rootForm","tokens"],["formArrayName","bindings",4,"ngIf"],["formGroupName","select",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["formArrayName","bindings"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formGroupName","select"],["matInput","","formControlName","id","placeholder","Id"],["matInput","","formControlName","value","placeholder","Value"],["matInput","","formControlName","label","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"as-split",1)(3,"div",2)(4,"classifieds-ui-rest-source-form",3),a.\u0275\u0275listener("dataChange",function(u){return t.onDataChange(u)}),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"as-split-area",4)(6,"mat-form-field"),a.\u0275\u0275element(7,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275element(9,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field")(11,"mat-label"),a.\u0275\u0275text(12,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-select",7)(14,"mat-optgroup",8)(15,"mat-option",9),a.\u0275\u0275text(16,"Snippet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"mat-option",10),a.\u0275\u0275text(18,"Pane"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(19,"mat-optgroup",11)(20,"mat-option",12),a.\u0275\u0275text(21,"Select"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"mat-option",13),a.\u0275\u0275text(23,"Radio Group"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"mat-option",14),a.\u0275\u0275text(25,"Checkbox Group"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"mat-option",15),a.\u0275\u0275text(27,"Autocomplete"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275element(28,"classifieds-ui-snippet-form",16),a.\u0275\u0275template(29,w$,5,1,"div",17)(30,F$,12,0,"div",18),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(31,"mat-dialog-actions")(32,"button",19),a.\u0275\u0275text(33,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.restForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",t.contexts)("restSource",t.restSource),a.\u0275\u0275advance(24),a.\u0275\u0275property("hidden","snippet"!=t.rendererType.value)("rootForm",!1)("tokens",t.tokens),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","pane"==t.rendererType.value),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.isSelectable),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.valid))},dependencies:[y.NgForOf,y.NgIf,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Er.MatOption,Er.MatOptgroup,Gr.MatButton,Yc.MatCheckbox,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,Hc,Kc,_d,Cf],styles:[".rest-form[_ngcontent-%COMP%]     .content-inner{height:auto}"]}),r}(),pH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.panes=[],this.contexts=[],this.contexts=this.data.contexts},[{key:"ngOnInit",value:function(){var t=this;this.panes=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):(0,A.A)(s)},[]),void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.rest=s})}},{key:"submitted",value:function(t){var s=this,u=this.data.panelFormGroup.get("panes");if(void 0===this.data.paneIndex)u.push(this.fb.group({contentPlugin:"rest",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(t).map(function(d){return s.convertToGroup(d)}))})),this.data.contentAdded.next([this.data.panelIndex,u.length-1]);else{var l=u.at(this.data.paneIndex);l.get("settings").clear(),this.handler.buildSettings(t).forEach(function(d){l.get("settings").push(s.convertToGroup(d))})}this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Cd))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-editor"]],standalone:!1,decls:1,vars:3,consts:[[3,"submitted","panes","rest","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-rest-form",0),a.\u0275\u0275listener("submitted",function(u){return t.submitted(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("panes",t.panes)("rest",t.rest)("contexts",t.contexts)},dependencies:[dH],encapsulation:2}),r}(),fH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.tokenizerService=s,this.searchChange=new a.EventEmitter,this.selectionForm=this.fb.group({attributes:this.fb.array([])}),this.onTouched=function(){},this.displayAuto=function(l){return s.replaceTokens(u.selectMapping.label,u.tokenizerService.generateGenericTokens(l.dataItem))}},[{key:"values",set:function(t){this.options=t,this.buildOptions()}},{key:"attributesArray",get:function(){return this.selectionForm.get("attributes")}},{key:"ngOnInit",value:function(){var t=this;this.attributesArray.push(this.fb.group({name:new f.UntypedFormControl("value",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Array,f.Validators.required),displayName:new f.UntypedFormControl("Value",f.Validators.required),value:new f.UntypedFormControl(""),attributes:["checkboxgroup"].findIndex(function(s){return s===t.renderType})>-1?this.fb.array([]):new f.UntypedFormControl("")})),"autocomplete"===this.renderType&&(this.attributesArray.at(0).addControl("_proxy",this.fb.control("")),this.attributesArray.at(0).get("_proxy").valueChanges.pipe((0,Ao.F)(),(0,Ln.B)(500)).subscribe(function(s){t.searchChange.emit(s)}))}},{key:"onOptionSelected",value:function(t){this.attributesArray.at(0).get("attributes").setValue(t.option.value.value),this.attributesArray.at(0).get("attributes").updateValueAndValidity()}},{key:"writeValue",value:function(t){t&&this.attributesArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.attributesArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.attributesArray.disable():this.attributesArray.enable()}},{key:"validate",value:function(t){return this.selectionForm.valid?null:{invalidForm:{valid:!1,message:"selection is invalid"}}}},{key:"buildOptions",value:function(){var t=this;if("checkboxgroup"===this.renderType&&void 0!==this.options){var s=this.attributesArray.controls[0].get("attributes");s.clear(),this.options.forEach(function(u){var l=t.attributeSerializer.convertToGroup(u.value);l.addControl("_store",new f.UntypedFormControl(!1)),s.push(l)})}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Wn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-selection"]],inputs:{name:"name",label:"label",values:"values",renderType:"renderType",selectMapping:"selectMapping"},outputs:{searchChange:"searchChange"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:9,vars:6,consts:[["autocomplete","matAutocomplete"],[3,"formGroup"],["formArrayName","attributes"],["formGroupName","0"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","attributes"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","_store"],["matInput","","formControlName","_proxy",3,"placeholder","matAutocomplete"],[3,"optionSelected","displayWith"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),a.\u0275\u0275elementContainerStart(4,4),a.\u0275\u0275template(5,P$,6,2,"ng-container",5)(6,T$,6,2,"ng-container",5)(7,M$,4,1,"ng-container",5)(8,V$,6,4,"ng-container",5),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()()),2&e&&(a.\u0275\u0275property("formGroup",t.selectionForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngSwitch",t.renderType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","select"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","radiogroup"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","checkboxgroup"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","autocomplete"))},dependencies:[y.NgForOf,y.NgSwitch,y.NgSwitchCase,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Er.MatAutocomplete,Er.MatOption,Er.MatAutocompleteTrigger,Yc.MatCheckbox,jt.MatInput,jt.MatFormField,jt.MatLabel,zf.MatRadioGroup,zf.MatRadioButton,fa.MatSelect],encapsulation:2}),r}(),mH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.restHandler=e,this.controlContainer=t,this.settings=[],this.contexts=[],this.state={},this.stateChange=new a.EventEmitter,this.tag=ur(),this.searchChange$=new T.B},[{key:"renderType",get:function(){return this.restHandler.getRenderType(this.settings)}},{key:"ngOnInit",value:function(){var t=this;this.restHandler.toObject(this.settings).pipe((0,X.M)(function(s){t.snippet=s.renderer.data,t.selectMapping=new sx(JSON.parse(t.snippet.content))}),(0,te.p)(function(){return"autocomplete"!==t.renderType}),(0,We.n)(function(s){return t.restHandler.buildSelectOptionItems(t.settings,new Map([["tag",t.tag],["snippet",s.renderer.data],["contexts",t.contexts]]))})).subscribe(function(s){t.options=s}),this.searchChange$.pipe((0,X.M)(function(s){t.stateChange.emit({autocomplete:{input:s}})}),(0,We.n)(function(s){return t.restHandler.buildSelectOptionItems(t.settings,new Map([["tag",ur()],["snippet",t.snippet],["contexts",t.contexts]]))})).subscribe(function(s){t.options=s})}},{key:"onSearchChange",value:function(t){this.searchChange$.next(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Cd),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-pane-renderer"]],inputs:{settings:"settings",name:"name",label:"label",displayType:"displayType",contexts:"contexts",state:"state"},outputs:{stateChange:"stateChange"},standalone:!1,decls:2,vars:6,consts:[[3,"formGroup"],["formControlName","settings",3,"searchChange","name","label","renderType","values","selectMapping"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"classifieds-ui-selection",1),a.\u0275\u0275listener("searchChange",function(u){return t.onSearchChange(u)}),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("name",t.name)("label",t.label)("renderType",t.renderType)("values",t.options)("selectMapping",t.selectMapping))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,fH],encapsulation:2}),r}(),Wf=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),this.siteName=e,this.tokenizerService=t,this.panelHandler=s,this.mediaHandler=u,this.attributeSerializer=l,this.inlineContextResolver=d},[{key:"handleFile",value:function(t){return(0,Re.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!0}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){var u=this;return this.toObject(t).pipe((0,fe.T)(function(l){return[l,s.get("contexts").find(function(d){return d.name===l.context})]}),(0,We.n)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return u.extractDataArray(h,p.query).pipe((0,fe.T)(function(_){return[p,h,_]}))}),(0,We.n)(function(l){var d=(0,k.A)(l,3);return u.transformDataArray(d[2],d[0].plugin)}),(0,fe.T)(function(l){return new Uo({stylePlugin:void 0,settings:[],panes:l,columnSetting:new $n})}),(0,fe.T)(function(l){return u.panelHandler.buildSettings(new Pr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new $n,rowSettings:[],panels:[l]}))}),(0,fe.T)(function(l){return l.find(function(d){return"panels"===d.name}).attributes[0].attributes.find(function(d){return"panes"===d.name}).attributes}))}},{key:"getBindings",value:function(t,s,u){return"context"===s?this.toObject(t).pipe((0,fe.T)(function(l){return[new Xt.ContentBinding({id:l.context,type:"context"})]})):(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"extractDataArray",value:function(t,s){return this.inlineContextResolver.resolve(t).pipe((0,fe.T)(function(u){var l=s.split("."),d=l.length;if(void 0===t)return(0,Re.of)([]);for(var p=Array.isArray(u)?u[0]:u,h=0;h<d;h++)""!==l[h]&&(p=p[l[h]]);return p}))}},{key:"transformDataArray",value:function(t,s){var u=this;return"media"===s?(0,Re.of)(t.map(function(l){return new wv(l)}).map(function(l){return new Dr({contentPlugin:"media",name:void 0,label:void 0,settings:u.mediaHandler.buildSettings(l)})})):(0,Re.of)()}},{key:"stateDefinition",value:function(t){return(0,Re.of)({})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.SITE_NAME),a.\u0275\u0275inject(Wn),a.\u0275\u0275inject(La),a.\u0275\u0275inject(ic),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(zl))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),gH=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.context=r.context,this.query=r.query,this.plugin=r.plugin)}),hH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.contexts=[],this.submitted=new a.EventEmitter,this.sliceForm=this.fb.group({context:this.fb.control("",f.Validators.required),query:this.fb.control("",f.Validators.required),plugin:this.fb.control("",f.Validators.required)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var t=new gH(this.sliceForm.value);this.submitted.emit(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-slice-form"]],inputs:{contexts:"contexts"},outputs:{submitted:"submitted"},standalone:!1,decls:20,vars:3,consts:[[1,"slice-form",3,"ngSubmit","formGroup"],["required","","formControlName","context"],["value","_root"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Query","formControlName","query","required",""],["required","","formControlName","plugin"],["value","media"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),a.\u0275\u0275text(7,"_root"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,O$,2,2,"mat-option",3),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(9,"mat-form-field"),a.\u0275\u0275element(10,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-form-field")(12,"mat-label"),a.\u0275\u0275text(13,"Plugin"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-select",5)(15,"mat-option",6),a.\u0275\u0275text(16,"Media"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(17,"mat-dialog-actions")(18,"button",7),a.\u0275\u0275text(19,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.sliceForm),a.\u0275\u0275advance(8),a.\u0275\u0275property("ngForOf",t.contexts),a.\u0275\u0275advance(10),a.\u0275\u0275property("disabled",!t.sliceForm.valid))},dependencies:[y.NgForOf,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect],encapsulation:2}),r}(),vH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.contexts=[],this.contexts=this.data.contexts},[{key:"ngOnInit",value:function(){}},{key:"submitted",value:function(t){var s=this;this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"slice",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(t).map(function(u){return s.convertToGroup(u)}))})),this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Wf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-slice-editor"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-slice-form",0),a.\u0275\u0275listener("submitted",function(u){return t.submitted(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("contexts",t.contexts)},dependencies:[hH],encapsulation:2}),r}(),yH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("rest",f.Validators.required)),this.controlContainer.control.addControl("rest",this.fb.control(""))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(_d,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.restSourceFormComp=s.first)},standalone:!1,decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","rest"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("formGroup",t.controlContainer.control)},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_d],encapsulation:2}),r}(),_H=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.contexts=[],this.panes=[],this.formGroup=this.fb.group({labels:this.fb.array([this.buildLabelGroup()])}),this.contexts=this.data.contexts},[{key:"labels",get:function(){return this.formGroup.get("labels")}},{key:"ngOnInit",value:function(){this.panes=new Uo(this.data.panelFormGroup.value).panes}},{key:"submit",value:function(){var t=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(s){console.log("label mappings"),console.log(t.attributeSerializer.convertToGroup(s)),t.data.panelFormGroup.get("settings").push(t.attributeSerializer.convertToGroup(s))})}},{key:"onRemoveMapping",value:function(t){this.labels.removeAt(t)}},{key:"onAddMapping",value:function(){this.labels.push(this.buildLabelGroup())}},{key:"buildLabelGroup",value:function(){return this.fb.group({mapping:this.fb.control("")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-tabs-panel-editor"]],standalone:!1,decls:7,vars:3,consts:[[3,"ngSubmit","formGroup"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"formGroupName"],["formControlName","mapping",3,"panes"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275template(2,B$,4,2,"div",2),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.onAddMapping()}),a.\u0275\u0275text(4,"Add"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"button",4),a.\u0275\u0275text(6,"Save"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.labels.controls),a.\u0275\u0275advance(3),a.\u0275\u0275property("disabled",!t.formGroup.valid))},dependencies:[y.NgForOf,f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Gr.MatButton,Bt.MatDialogClose,Hj],encapsulation:2}),r}(),bH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e,this.settings=[],this.panes=[],this.originMappings=[],this.labelMappingsEnabled=!1},[{key:"ngOnInit",value:function(){console.log("tabs panels contexts"),console.log(this.panes);var t=this.attributeSerializer.deserialize(new _t.AttributeValue({name:"",displayName:"",computedValue:"",type:_t.AttributeTypes.Complex,value:"",intValue:0,attributes:this.settings}));this.labelMappingsEnabled=!!(t&&void 0!==t.labels&&Array.isArray(t.labels)&&t.labels.length>0)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-tabs-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings"},standalone:!1,decls:2,vars:2,consts:[["mat-align-tabs","start",4,"ngIf"],["mat-align-tabs","start"],[4,"for"],["mat-tab-label",""],[3,"pluginName","settings","contexts"],["label","The Label",4,"ngFor","ngForOf"],["label","The Label"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,U$,2,1,"mat-tab-group",0)(1,z$,2,1,"mat-tab-group",0),2&e&&(a.\u0275\u0275property("ngIf",t.labelMappingsEnabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!t.labelMappingsEnabled))},dependencies:[y.NgForOf,y.NgIf,mo.MatTabLabel,mo.MatTab,mo.MatTabGroup,cn.ForDirective,Ad],encapsulation:2}),r}(),tE=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.panelPages=[],this.panelPage$=new M.t(new Pr),this.context$=new M.t(void 0),this.formGroup=this.fb.group({state:this.fb.control("",[f.Validators.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Ln.B)(250),(0,Ao.F)(),(0,te.p)(function(u){try{return JSON.parse(u),!0}catch{return!1}}),(0,fe.T)(function(u){return JSON.parse(u)})).subscribe(function(u){console.log("write state"),console.log(u),s.formGroup.get("state").setValue(u)}),this.onTouched=function(){}},[{key:"panelPage",set:function(t){this.panelPage$.next(t)}},{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.panelPage$.subscribe(function(s){t.panelPages=[s]}),this.context$.subscribe(function(s){t.stateCtrl.setValue(s?JSON.stringify(s.data.state):"")})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"flattenSelector",value:function(t){var s=[];return null!=t.panel&&s.push(t.panel),null!=t.pane&&s.push(t.pane),null!=t.nested&&"object"==typeof t.nested&&this.flattenSelector(t.nested).forEach(function(u){return s.push(u)}),s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-state-form"]],inputs:{panelPage:"panelPage",context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:3,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275text(1," <"),a.\u0275\u0275element(2,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("formControl",t.stateCtrl))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormControlDirective,f.FormGroupDirective],encapsulation:2}),r}(),AH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.fb=e,this.pageBuilderFacade=t,this.controlContainer=s},[{key:"ngOnInit",value:function(){var t=this;this.controlContainer.control.addControl("adaptor",this.fb.control("data",f.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control("")),this.pageBuilderFacade.getPage$.pipe((0,pn.s)(1)).subscribe(function(s){t.panelPage=s})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-state-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(tE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.restSourceFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","data",3,"panelPage","context"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-page-state-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("panelPage",t.panelPage)("context",t.context))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,tE],encapsulation:2}),r}(),CH=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new M.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[f.Validators.required]),field:this.fb.control("",[f.Validators.required])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new by(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?(s.formGroup.get("name").setValue(u.name),s.formGroup.get("field").setValue(u.field)):(s.formGroup.get("name").setValue(""),s.formGroup.get("field").setValue(""))}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-datasource-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:11,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","field","required",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),a.\u0275\u0275text(9,"Field"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"input",2),a.\u0275\u0275elementEnd()()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),xH=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-datasource"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-form-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,CH],encapsulation:2}),r}(),SH=function(r){return new Xt.ContentPlugin({id:"snippet",title:"Snippet",selectionComponent:void 0,editorComponent:aH,renderComponent:XS,handler:r})},EH=function(r){return new Xt.ContentPlugin({id:"attribute",title:"Attribute",selectionComponent:oH,editorComponent:sH,renderComponent:uH,handler:r})},DH=function(r){return new Xt.ContentPlugin({id:"media",title:"Media",selectionComponent:void 0,editorComponent:lH,renderComponent:cH,handler:r})},wH=function(r){return new Xt.ContentPlugin({id:"rest",title:"REST",selectionComponent:void 0,editorComponent:pH,renderComponent:mH,handler:r})},FH=function(r){return new Xt.ContentPlugin({id:"slice",title:"Slice",selectionComponent:void 0,editorComponent:vH,renderComponent:void 0,handler:r})},kH=function(r){return new Lo({id:"page",name:"page",title:"Page",global:!0,group:"pages",baseObject:{path:""},resolver:r})},PH=function(r){var n={dataset:new Un};return new Lo({id:"rest",name:"rest",title:"Rest",baseObject:n,resolver:r,editorComponent:yH})},IH=function(r){var n={dataset:new Un};return new Lo({id:"form",name:"form",title:"Form",baseObject:n,resolver:r})},TH=function(r){var n=new fi({state:new _t.AttributeValue});return new Lo({id:"panestate",name:"panestate",title:"Pane State",internal:!0,baseObject:n,resolver:r})},RH=function(r){var n=new fi({state:new _t.AttributeValue});return new Lo({id:"pagestate",name:"pagestate",title:"Page State",internal:!0,baseObject:n,resolver:r,editorComponent:AH})},MH=function(r){return new Rf({id:"tabs",name:"tabs",title:"Tabs",handler:r,editorComponent:_H,renderComponent:bH})},jy=function(r){return function(n){if(0===("/"+n.map(function(t){return t.path}).join("/")).indexOf(r.path)){var e=r.path.substr(1).split("/").length;return{consumed:n,posParams:n.reduce(function(t,s,u){return 0===u?(0,g.A)((0,g.A)({},t),{},{panelPageId:new Xn.UrlSegment(r.id,{})}):u>e-1?(0,g.A)((0,g.A)({},t),{},(0,c.A)({},"arg".concat(u-e),new Xn.UrlSegment(s.path,{}))):(0,g.A)({},t)},{})}}return null}},Uy=function(r){return function(n){return 0===("/"+n.map(function(t){return t.path}).join("/")).indexOf(r.path)&&n.map(function(t){return t.path}).join("/").indexOf("/manage")>-1?(r.path.substr(1).split("/"),{consumed:n,posParams:n.reduce(function(t,s,u){return 0===u?(0,g.A)((0,g.A)({},t),{},{panelPageId:new Xn.UrlSegment(r.id,{})}):(0,g.A)({},t)},{})}):null}},jH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.tokenizerService=e,this.panelResolverService=t,this.styleResolverService=s,this.paneDatasource=u,this.settings=[],this.panes=[],this.originMappings=[],this.resolvedContext={}},[{key:"ngOnInit",value:function(){var t=this;this.paneDatasource.pageChange$.pipe((0,nc.i)(1),(0,We.n)(function(s){return t.panelResolverService.resolvePanes({panes:t.originPanes.map(function(u){return new Dr((0,g.A)((0,g.A)({},u),{},{metadata:new Map([].concat((0,A.A)(u.metadata?u.metadata:[]),[["page",s],["limit",t.paneDatasource.pageSize]]))}))}),contexts:t.contexts,resolvedContext:t.resolvedContext})}),(0,We.n)(function(s){return t.styleResolverService.alterResolvedPanes({panel:t.panel,resolvedPanes:s.resolvedPanes,originMappings:s.originMappings})})).subscribe(function(s){var u=s.resolvedPanes;t.originMappings=s.originMappings,t.paneDatasource.panes=u}),this.paneDatasource.panes=this.panes,this.trackByTpl="[._root.id]"}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(_y),a.\u0275\u0275directiveInject(gS),a.\u0275\u0275directiveInject(Mf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-virtual-list-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",resolvedContext:"resolvedContext",panel:"panel"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([Mf])],decls:2,vars:2,consts:[[1,"panes-viewport",3,"itemSize"],["class","pane-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pane-item"],[3,"pluginName","settings","contexts","resolvedContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",0),a.\u0275\u0275template(1,$$,2,4,"div",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("itemSize",75),a.\u0275\u0275advance(),a.\u0275\u0275property("cdkVirtualForOf",t.paneDatasource))},dependencies:[tc.CdkFixedSizeVirtualScroll,tc.CdkVirtualForOf,tc.CdkVirtualScrollViewport,Ad],styles:["[_nghost-%COMP%]{position:relative}.panes-viewport[_ngcontent-%COMP%]{height:100%;width:100%}"]}),r}(),UH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.router=e},[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.router.navigateByUrl(this.href)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Xn.Router))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-router-link"]],inputs:{href:"href",text:"text"},standalone:!1,decls:2,vars:1,consts:[[3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"a",0),a.\u0275\u0275listener("click",function(){return t.onClick()}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(t.text))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}"]}),r}(),nE=new a.InjectionToken("PagesSettings"),GH=(0,m.A)(function o(r){(0,v.A)(this,o),this.disableRouting=!1,r&&(this.disableRouting=r.disableRouting)}),zH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.siteName=e,this.pagesSettings=t,this.router=s,this.routesLoaded=!1,this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")},[{key:"canActivate",value:function(t,s){var u=this;return new Promise(this.pagesSettings.disableRouting?function(l){return l(!0)}:function(l){var d=s.url;-1!==d.indexOf("?")&&(d=s.url.substr(0,d.indexOf("?")));var p="path="+d.substr(1).split("/").reduce(function(h,_,S){return[].concat((0,A.A)(h),[0===S?"/".concat(_):"".concat(h[S-1],"/").concat(_)])},[]).map(function(h){return u.encodePathComponent(h)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(u.siteName,'"}}}')));setTimeout(function(){}),(0,bn.p)([er(function(){return!u.routesLoaded},u.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(u.siteName,'"}}}')),'&path={"wildcard":{"path.keyword":{"value":"*"}}}')).pipe((0,X.M)(function(){return console.log("loaded page list items")}),(0,fe.T)(function(h){return h.filter(function(_){return void 0!==_.path&&""!==_.path})}),(0,fe.T)(function(h){return h.map(function(_){return new Pr(_)}).sort(function(_,S){return _.path.split("/").length===S.path.split("/").length?_.path.split("/")[_.path.split("/").length-1]>S.path.split("/")[S.path.split("/").length-1]?-1:1:_.path.split("/").length>S.path.split("/").length?-1:1})}),(0,X.M)(function(h){return h.sort(function(_,S){return _.path.length>S.path.length?1:-1})}),(0,X.M)(function(h){var _=u.router.config;h.forEach(function(S){_.unshift({matcher:Uy(S),component:qf}),_.unshift({matcher:jy(S),component:Kf,data:{panelPageListItem:S}}),console.log("panels matcher: ".concat(S.path))}),u.routesLoaded=!0}),(0,fe.T)(function(){return[]})),(0,Re.of)([])),u.panelPageListItemsService.getWithQuery(p).pipe((0,aa.W)(function(h){return(0,Re.of)([])}),(0,X.M)(function(){return console.log("loaded specific matched")}),(0,fe.T)(function(h){return h.reduce(function(_,S){return void 0===_||_.path.split("/").length<S.path.split("/").length?S:_},void 0)}),(0,fe.T)(function(h){var _=s.url.substr(1).split("/").slice(h.path.split("/").length-1).join("/");return[h,_]}))]).pipe((0,fe.T)(function(h){var _=(0,k.A)(h,2),P=(0,k.A)(_[1],2);return[P[0],P[1]]})).subscribe(function(h){var _=(0,k.A)(h,2),S=_[0],P=_[1],B="".concat(S.path).concat(""===P?"":"/".concat(P),"?").concat(Xa.stringify(t.queryParams)),z=u.router.parseUrl(B);console.log("panels garud navigate: ".concat(S.path).concat(""===P?"":"/".concat(P),"?").concat(Xa.stringify(t.queryParams))),l(z)})})}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.SITE_NAME),a.\u0275\u0275inject(nE),a.\u0275\u0275inject(Xn.Router),a.\u0275\u0275inject(_r))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),rE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.pageBuilderFacade=e},[{key:"resolve",value:function(t,s){return this.pageBuilderFacade.getPageInfo$}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(mi))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),aE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.pageBuilderFacade=e,this.store=t,this.urlGeneratorService=s,this.routerStore=u},[{key:"resolve",value:function(t,s){var u=this,l=new Bo(s);return(l.params&&Array.isArray(l.params)&&l.params.length>0?this.changePipeline(l.params):(0,Re.of)([])).pipe((0,We.n)(function(){return l.params&&Array.isArray(l.params)&&l.params.length>0?u.rebuildParams(l.params):(0,Re.of)([])}),(0,fe.T)(function(d){return[d,new Map([["tag",ur()]])]}),(0,We.n)(function(d){var p=(0,k.A)(d,2),_=p[1];return u.urlGeneratorService.getUrl(l.url,p[0],_).pipe((0,fe.T)(function(S){return[S,_]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,2),h=p[0],_=p[1];return u.pageBuilderFacade.loadRestData("".concat(_.get("tag")),new Bo((0,g.A)((0,g.A)({},l),{},{url:h}))),u.store.pipe(wr(Nf("".concat(_.get("tag")))),(0,te.p)(function(S){return void 0!==S}),(0,fe.T)(function(S){return S.results}),(0,pn.s)(1))}))}},{key:"changePipeline",value:function(t){var s=this,u=t.reduce(function(l,d){switch(d.mapping.type){case"route":return[].concat((0,A.A)(l),[s.routeArgChange(d.mapping.value)]);case"querystring":return[].concat((0,A.A)(l),[s.queryStringChange(d.mapping.value)]);case"form":return[].concat((0,A.A)(l),[s.formChange(d.mapping.value)]);default:return(0,A.A)(l)}},[]);return R.h.apply(void 0,(0,A.A)(u))}},{key:"routeArgChange",value:function(t){return this.pageBuilderFacade.getPageInfo$.pipe((0,fe.T)(function(){}))}},{key:"queryStringChange",value:function(t){return new T.B}},{key:"formChange",value:function(t){var s=t.split(".",2),u=(0,k.A)(s,2);return this.pageBuilderFacade.getForm$(u[0]).pipe((0,X.M)(function(){return console.log("form change")}),(0,fe.T)(function(){}))}},{key:"rebuildParams",value:function(t){var s=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,fe.T)(function(u){return u?t:s.testParams(t)}))}},{key:"testParams",value:function(t){for(var s=[],u=t.length,l=0;l<u;l++)s.push(new ma("route"===t[l].mapping.type?(0,g.A)((0,g.A)({},t[l]),{},{mapping:{type:"static",value:t[l].mapping.testValue,context:void 0,testValue:void 0}}):t[l]));return s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),iE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.pageBuilderFacade=e},[{key:"resolve",value:function(t,s){return this.pageBuilderFacade.getForm$(s)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(mi))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),$H=function(){var o,r=function(n){function e(t,s){var u;return(0,v.A)(this,e),(u=(0,w.A)(this,e)).tokenizerService=t,u.paneDatasource=s,u.trackByMapping=function(l,d){return u.tokenizerService.replaceTokens(u.trackByTpl,u.tokenizerService.generateGenericTokens(d.contexts[0].data))},u}return(0,F.A)(e,n),(0,m.A)(e,[{key:"displayedColumns",get:function(){var s=this.panes.findIndex(function(u){return u.contexts.findIndex(function(l){return"_root"===l.name})>-1});return s>-1?Object.keys(this.panes[s].contexts.find(function(u){return"_root"===u.name}).data):[]}},{key:"ngOnInit",value:function(){console.log(this.panes),this.paneDatasource.panes=this.panes}},{key:"rowData",value:function(s,u){return console.log("name: ".concat(s)),"".concat(u.contexts.find(function(l){return"_root"===l.name}).data[s])}}])}(n9);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Mf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["lib-table-panel-renderer"]],standalone:!1,features:[a.\u0275\u0275ProvidersFeature([Mf]),a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"table",0),a.\u0275\u0275template(1,q$,3,1,"ng-container",1)(2,W$,1,0,"tr",2)(3,Q$,1,0,"tr",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("dataSource",t.paneDatasource),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.displayedColumns),a.\u0275\u0275advance(),a.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),a.\u0275\u0275advance(),a.\u0275\u0275property("matRowDefColumns",t.displayedColumns))},dependencies:[y.NgForOf,WS.MatSort,WS.MatSortHeader,vo.MatTable,vo.MatHeaderCellDef,vo.MatHeaderRowDef,vo.MatColumnDef,vo.MatCellDef,vo.MatRowDef,vo.MatHeaderCell,vo.MatCell,vo.MatHeaderRow,vo.MatRow],encapsulation:2}),r}(),HH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Re.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"getBindings",value:function(t,s){return(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"fromPanes",value:function(t){var s=this;return t.map(function(u){return new Dr(s.attributeSerializer.deserialize(u))})}},{key:"wrapPanel",value:function(t){return new Uo({stylePlugin:void 0,settings:[],panes:t,columnSetting:new $n})}},{key:"stateDefinition",value:function(t){return(0,Re.of)({})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Gy=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.panelHandler=e,this.attributeSerializer=t,this.panelsLoaderService=s,this.panelsSelectorService=u},[{key:"alterResolvedPanes",value:function(t){var s=this,l=t.resolvedPanes,d=t.originMappings,p=this.attributeSerializer.deserialize(new _t.AttributeValue({name:"",displayName:"",computedValue:"",type:_t.AttributeTypes.Complex,value:"",intValue:0,attributes:t.settings})),h=p&&void 0!==p.labels&&Array.isArray(p.labels)?p.labels.map(function(S){return new cS(S.mapping)}):[],_=[];return 0===h.length?(0,Re.of)({resolvedPanes:l,originMappings:d}):(_=l.length!==h.length?l.map(function(S,P){return new cS((0,g.A)((0,g.A)({},P<h.length?h[P]:h[h.length-1]),{},{pane:P}))}).map(function(S){return s.flattenSelector(S)}):h.map(function(S){return s.flattenSelector(S)}),(0,bn.p)(l.map(function(S,P){return s.panelsLoaderService.reducePanes([],S,0)[0]})).pipe((0,fe.T)(function(S){return S.reduce(function(P,B){var de=(0,k.A)(B,2)[1];return[].concat((0,A.A)(P),[de])},[])}),(0,fe.T)(function(S){for(var P=_.map(function(me){return s.selectWithTarget(me)}),B=_.map(function(me){return s.selectWithoutTarget(me)}),z=P.map(function(me,Pe){return s.panelsSelectorService.rebuildPage(S[_[Pe][0]],me.slice(1))}),Y=B.map(function(me,Pe){return s.panelsSelectorService.rebuildPage(S[_[Pe][0]],me.slice(1))}),de=[],ge=l.length,be=0;be<ge;be++)de.push(new Dr((0,g.A)((0,g.A)({},l[be]),{},{settings:s.panelHandler.buildSettings(z[be])}))),de.push(new Dr((0,g.A)((0,g.A)({},l[be]),{},{settings:s.panelHandler.buildSettings(Y[be])})));return{resolvedPanes:de,originMappings:d}})))}},{key:"stateDefinition",value:function(t){return(0,Re.of)({})}},{key:"flattenSelector",value:function(t){var s=[];return null!=t.panel&&s.push(t.panel),null!=t.pane&&s.push(t.pane),null!=t.nested&&"object"==typeof t.nested&&this.flattenSelector(t.nested).forEach(function(u){return s.push(u)}),s}},{key:"selectWithTarget",value:function(t){return t.map(function(s){return s+1})}},{key:"selectWithoutTarget",value:function(t){return t.map(function(s,u){return u===t.length-1?-1*(s+1):0})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(HH),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(fS),a.\u0275\u0275inject(r9))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),oE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.entityServices=e,this.pageBuilderFacade=t,this.panelStateConverterService=s,this.attributeSerializer=u,this.resolverCache$=new Map},[{key:"emptyPaneState",get:function(){return new fi({state:this.attributeSerializer.serialize({displayAssociatedPane:""},"root")})}},{key:"entities$",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState").entities$.pipe((0,X.M)(function(t){console.log("entities in store"),console.log(t)}))}},{key:"panelPage$",get:function(){return(0,zn.z)([this.pageBuilderFacade.getPageInfo$,this.entityServices.getEntityCollectionService("PanelPage").entities$]).pipe((0,fe.T)(function(t){var s=(0,k.A)(t,2),u=s[0],l=s[1];return u&&void 0!==u.id&&""!==u.id&&null!==u.id&&-1!==l.findIndex(function(d){return d.id===u.id})?l.find(function(d){return d.id===u.id}):void 0}))}},{key:"fakePageInfo",get:function(){return new ld({id:"948d6e7b-12ab-11ec-8ecd-661fdd19e6df",path:"",realPath:"",args:new Map})}},{key:"resolve",value:function(t,s){var u=s&&s.selectionMethod&&0!==s.selectionMethod.length&&s.id&&null!==s.id&&""!==s.id?"ps[id=".concat(s.id,"]").concat(s.selectionMethod.map(function(d){return"".concat(d)}).join("")):void 0;if(u&&this.resolverCache$.has(u))return this.resolverCache$.get(u);var l=this.resolve$(t,s);return u&&this.resolverCache$.set(u,l),l}},{key:"resolve$",value:function(t,s){var u=this;return(0,zn.z)([this.panelPage$,this.entities$]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return[p,p&&-1!==h.findIndex(function(_){return _.id===p.id})?h.find(function(_){return _.id===p.id}):new ho]}),(0,We.n)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return u.pageBuilderFacade.getSelectionPath$.pipe((0,fe.T)(function(_){return s&&s.selectionPath?s.selectionPath:_}),(0,X.M)(function(_){return _.join(",")}),(0,fe.T)(function(_){return _.map(function(S,P){return"".concat((P+1)%2==0?"panes":(0===P?"":"nestedPage.")+"panels","[").concat(S,"]")})}),(0,fe.T)(function(_){return 0===_.length?void 0:"$."+_.join(".")}),(0,fe.T)(function(_){return[p,h,_]}))}),(0,X.M)(function(l){var d=(0,k.A)(l,3),p=d[0],_=d[2];console.log("page state context resolver"),console.log(p),console.log("query: "+_)}),(0,We.n)(function(l){var d=(0,k.A)(l,3),p=d[0],h=d[1],_=d[2];return er(function(){return!!p&&!h},u.panelStateConverterService.convertPageToState(p).pipe((0,fe.T)(function(S){return new ho((0,g.A)((0,g.A)({},S),{},{panels:S.panels.map(function(P){return new Pu((0,g.A)((0,g.A)({},P),{},{panes:P.panes.map(function(B){return new fi((0,g.A)((0,g.A)({},B),{},{state:u.attributeSerializer.serialize({displayAssociatedPane:"y"},"root")}))})}))})}))}),(0,fe.T)(function(S){return[S,_]})),(0,Re.of)([h,_]))}),(0,X.M)(function(l){var p=(0,k.A)(l,2)[0];console.log("rebuilt state from realtime page"),console.log(p)}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),h=d[1];return h?(0,jo.JSONPath)({path:h,json:d[0]}):u.emptyPaneState}),(0,fe.T)(function(l){return l&&Array.isArray(l)&&0!==l.length?l[0]:u.emptyPaneState}),(0,X.M)(function(l){console.log("json path match"),console.log(l)}),(0,fe.T)(function(l){return u.attributeSerializer.deserializeAsObject(l.state)}),(0,X.M)(function(l){console.log("final state"),console.log(l)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_r),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(a9),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),KH=[{path:"pages",children:[{path:"create-panel-page",component:iH},{path:"panelpage/:panelPageId/manage",component:qf}]}],qH=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,h,_,S,P,B,z,Y,de,ge,be,me,Pe,qe,dt,ot,pt,Tt,Lt,mt,yt,wt,Jt){(0,v.A)(this,n),d.registerMetadataMap(X$),[kH(Y),PH(de),IH(ge),TH(be),RH(me)].forEach(function(Yn){u.register(Yn)}),e.forEach(function(Yn){return s.register(Yn)}),t.forEach(function(Yn){return l.register(Yn)}),p.register(function(r,n,e){return new Vo({id:"form",title:"Form",usedContexts:function(s){var u=s.param;return(0,Re.of)(["form__".concat(u.mapping.value.substr(0,u.mapping.value.indexOf(".")))])},evalParam:function(s){var u=s.param,d=u.mapping.value.substr(0,u.mapping.value.indexOf(".")),p=u.mapping.value.substr(u.mapping.value.indexOf(".")+1);return console.log("form: ".concat(d," || ").concat(p)),e.getForm$(d).pipe((0,pn.s)(1),(0,fe.T)(function(h){return h||new vs}),(0,fe.T)(function(h){return n.serializeForm(h)}),(0,fe.T)(function(h){return r.generateGenericTokens(h)}),(0,X.M)(function(h){return console.log(h)}),(0,fe.T)(function(h){return h.has(".".concat(p))?r.replaceTokens("[.".concat(p,"]"),h):""}),(0,X.M)(function(h){console.log("form value"),console.log(h)}))}})}(P,B,z)),h.register(function(r){return new sL({id:"form",title:"Form",resolve:function(){return r.getFormNames$.pipe((0,We.n)(function(e){return 0===e.length?(0,Re.of)([]):(0,zn.z)(e.map(function(t){return r.getForm$(t).pipe((0,fe.T)(function(s){return[t,s]}))}))}),(0,fe.T)(function(e){return e.reduce(function(t,s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return(0,g.A)((0,g.A)({},t),{},(0,c.A)({},"form__".concat(l),d))},{})}))},resolveSingle:function(){return r.getFormNames$.pipe((0,We.n)(function(e){return R.h.apply(void 0,(0,A.A)(e.map(function(t){return r.getForm$(t).pipe((0,fe.T)(function(s){return["form__".concat(t),s]}))})))}))}})}(z)),Pe.register(function(r){return new td({id:"pages_form",title:"Pages Form",build:function(){Eu.prototype.serializePageForm=function(e){return new Promise(function(t){t(r.serializeForm(e))})}}})}(B)),Pe.getPlugin("pages_form").subscribe(function(Yn){return Yn.build()}),pt.register(function(r,n){return new ql({id:"panelpageform_serialize",title:"Panelpageform Serialize",create:function(t){return(0,Re.of)({success:!1,entity:n.serializeForm(new vs(t.object))})},read:function(t){return pi(t),(0,Re.of)({success:!1})},update:function(t){return pi(t),(0,Re.of)({success:!1})},delete:function(t){return pi(t),(0,Re.of)({success:!1})}})}(0,B)),yt.register(function(r,n,e){return new fo({id:"form",title:"Form",editor:xH,fetch:function(s){var u=s.settings;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return new by(r.deserializeAsObject(u))}),(0,We.n)(function(l){return n.getForm$(l.name).pipe((0,fe.T)(function(d){return[l,d||new vs]}),(0,qr.U)([l,new vs]),(0,pn.s)(1))}),(0,fe.T)(function(l){var d=(0,k.A)(l,2);return[d[0],e.serializeForm(d[1])]}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),h=d[1];return new Un({results:(0,jo.JSONPath)({path:"$.".concat(d[0].field,".*"),json:h})})}))},getBindings:function(s){var u=s.settings;return(0,Re.of)([]).pipe((0,fe.T)(function(){return new by(r.deserializeAsObject(u))}),(0,fe.T)(function(d){return[new Xt.ContentBinding({id:"form__".concat(d.name),type:"context"})]}))}})}(wt,z,B))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.CONTENT_PLUGIN),a.\u0275\u0275inject(Tf),a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(fs),a.\u0275\u0275inject(Xl),a.\u0275\u0275inject(qa),a.\u0275\u0275inject(ds),a.\u0275\u0275inject(px),a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(oL),a.\u0275\u0275inject(Wn),a.\u0275\u0275inject(_S),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(rE),a.\u0275\u0275inject(aE),a.\u0275\u0275inject(iE),a.\u0275\u0275inject(By),a.\u0275\u0275inject(oE),a.\u0275\u0275inject(Gl),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(Ac),a.\u0275\u0275inject(Ku),a.\u0275\u0275inject(gs),a.\u0275\u0275inject(qa),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(co),a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(nd))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[zH,rE,aE,iE,By,oE,{provide:cn.EMBEDDABLE_COMPONENT,useValue:UH,multi:!0},{provide:cn.EMBEDDABLE_COMPONENT,useValue:z1,multi:!0},{provide:cn.EMBEDDABLE_COMPONENT,useValue:Kf,multi:!0},{provide:Mu,useClass:Mu},{provide:Nu,useClass:Nu},{provide:ic,useClass:ic},{provide:Cd,useClass:Cd},{provide:Wf,useClass:Wf},{provide:Gy,useClass:Gy},{provide:Xt.CONTENT_PLUGIN,useFactory:SH,multi:!0,deps:[Mu]},{provide:Xt.CONTENT_PLUGIN,useFactory:EH,multi:!0,deps:[Nu]},{provide:Xt.CONTENT_PLUGIN,useFactory:DH,multi:!0,deps:[ic]},{provide:Xt.CONTENT_PLUGIN,useFactory:wH,multi:!0,deps:[Cd]},{provide:Xt.CONTENT_PLUGIN,useFactory:FH,multi:!0,deps:[Wf]},{provide:Tf,useValue:new Rf({id:"virtuallist",name:"virtuallist",title:"Virtual List",editorComponent:void 0,renderComponent:jH}),multi:!0},{provide:Tf,useFactory:MH,multi:!0,deps:[Gy]},{provide:Tf,useValue:new Rf({id:"table",name:"table",title:"Table",editorComponent:void 0,renderComponent:$H}),multi:!0}],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,dc,mf,Xn.RouterModule.forChild(KH),Fd,Lv.forChild(),Of,MS,cn.UtilsModule,Gc,$l,_t.AttributesModule,y1,zS,V7,yy,rz,jv,ps,lx,Su,Oy]}),r}(),WH=function(o){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,F.A)(r,o),(0,m.A)(r)}(dL),QH=function(){return(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.siteName=r,this.es=n,this.router=e,this.routesLoaded=!1},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"isLoaded",value:function(){return this.routesLoaded}},{key:"load",value:function(){var n=this;return this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')),"&path=").concat(encodeURIComponent('{"wildcard":{"path.keyword":{"value":"*"}}}'))).pipe((0,fe.T)(function(e){return e.filter(function(t){return void 0!==t.path&&""!==t.path})}),(0,fe.T)(function(e){return e.map(function(t){return new Pr(t)}).sort(function(t,s){return t.path.split("/").length===s.path.split("/").length?t.path.split("/")[t.path.split("/").length-1]>s.path.split("/")[s.path.split("/").length-1]?-1:1:t.path.split("/").length>s.path.split("/").length?-1:1})}),(0,X.M)(function(e){return e.sort(function(t,s){return t.path.length>s.path.length?1:-1})}),(0,X.M)(function(e){e.forEach(function(t){n.router.config.unshift({matcher:jy(t),component:Kf,data:{panelPageListItem:t}}),n.router.config.unshift({matcher:Uy(t),component:qf,data:{panelPageListItem:t}})}),n.routesLoaded=!0}),(0,X.M)(function(){return console.log("panels routes loaded")}),(0,fe.T)(function(){return!0}))}}])}(),XH=function(){return(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.siteName=r,this.es=n,this.router=e},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"match",value:function(n){var e=this,t=n.url;-1!==t.indexOf("?")&&(t=n.url.substr(0,t.indexOf("?")));var s="path="+t.substr(1).split("/").reduce(function(u,l,d){return[].concat((0,A.A)(u),[0===d?"/".concat(l):"".concat(u[d-1],"/").concat(l)])},[]).map(function(u){return e.encodePathComponent(u)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));return this.panelPageListItemsService.getWithQuery(s).pipe((0,aa.W)(function(u){return(0,Re.of)([])}),(0,fe.T)(function(u){return u.reduce(function(l,d){return void 0===l||l.path.split("/").length<d.path.split("/").length?d:l},void 0)}),(0,fe.T)(function(u){return!!u||n.url.indexOf("pages")>-1}))}},{key:"encodePathComponent",value:function(n){return'{"term":{"path.keyword":{"value":"'.concat(n,'"}}}')}}])}(),YH=function(){return(0,m.A)(function o(r,n,e){(0,v.A)(this,o),this.siteName=r,this.es=n,this.router=e},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"redirect",value:function(n,e){var t=this;if(e.url.indexOf("pages")>-1)console.log("redirect: ".concat(e.url)),this.router.navigateByUrl(e.url);else{var s=e.url;-1!==s.indexOf("?")&&(s=e.url.substr(0,s.indexOf("?")));var u="path="+s.substr(1).split("/").reduce(function(l,d,p){return[].concat((0,A.A)(l),[0===p?"/".concat(d):"".concat(l[p-1],"/").concat(d)])},[]).map(function(l){return t.encodePathComponent(l)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));this.panelPageListItemsService.getWithQuery(u).pipe((0,fe.T)(function(l){return l.reduce(function(d,p){return void 0===d||d.path.split("/").length<p.path.split("/").length?p:d},void 0)}),(0,fe.T)(function(l){var d=e.url.substr(1).split("/").slice(l.path.split("/").length-1).join("/");return[l,d]})).subscribe(function(l){(0,k.A)(l,2),t.router.navigate(["reload"])})}}},{key:"encodePathComponent",value:function(n){return'{"term":{"path.keyword":{"value":"'.concat(n,'"}}}')}}])}(),ZH=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),e.register(function(r,n,e){var t=new QH(r,n,e),s=new XH(r,n,e),u=new YH(r,n,e);return new WH({id:"panels",title:"Panels",loadingStrategy:t,matchingStrategy:s,redirectHandler:u})}(s,u,t))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fx),a.\u0275\u0275inject(Xn.Router),a.\u0275\u0275inject(cn.SITE_NAME),a.\u0275\u0275inject(_r))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),sE=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.context$=new M.t(void 0),this.formGroup=this.fb.group({value:this.fb.control("",[f.Validators.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Ln.B)(250),(0,Ao.F)(),(0,te.p)(function(u){try{return JSON.parse(u),!0}catch{return!1}}),(0,fe.T)(function(u){return JSON.parse(u)})).subscribe(function(u){console.log("write state"),console.log(u),s.formGroup.get("value").setValue(u)}),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.context$.subscribe(function(s){t.stateCtrl.setValue(s?JSON.stringify(s.data.value):"")})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-state-form"]],inputs:{context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(),a.\u0275\u0275property("formControl",t.stateCtrl))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormControlDirective,f.FormGroupDirective],encapsulation:2}),r}(),eK=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",f.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-state-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(sE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextStateFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-state-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("context",t.context))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,sE],encapsulation:2}),r}(),uE=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.attributeSerializer=e,this.es=t},[{key:"entityCollectionService",get:function(){return this.es.getEntityCollectionService("GlobalState")}},{key:"resolve",value:function(t,s,u){var l=this;console.log("hookup globalstate"),console.log(s);var S,h=u&&u.has("name")&&u.get("name")&&null!==u.get("name")&&""!==u.get("name")?u.get("name"):void 0;return h?this.entityCollectionService.collection$.pipe(wr((S=h,wn(function(S){return S.entities},function(P){return P[S]?P[S]:void 0}))),(0,fe.T)(function(_){return _?l.attributeSerializer.deserialize(_.value):s.value?s.value:{}}),(0,fe.T)(function(_){return _.root?_.root:_}),(0,X.M)(function(_){console.log("resolve globalstate"),console.log(_)})):(0,Re.of)(s.value?s.value:{}).pipe((0,X.M)(function(_){console.log("resolve default globalstate"),console.log(_)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(_r))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),tK=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.id=r.id,this.value=new _t.AttributeValue(r.value))}),aK={GlobalState:{entityName:"GlobalState"}},iK=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p){(0,v.A)(this,n),e.registerMetadataMap(aK),t.registerService("GlobalState",new cn.NoopDataService("GlobalState")),s.register(function(r){var n=new _t.AttributeValue;return new Lo({id:"state",name:"state",title:"State",baseObject:n,resolver:r,editorComponent:eK})}(p)),d.register(function(r,n){return new td({id:"state",title:"State",build:function(){Eu.prototype.writeState=function(t){return new Promise(function(s){r.getEntityCollectionService("GlobalState").upsert(new tK({id:t.id,value:n.serialize(t.value,"root")})).pipe((0,X.M)(function(l){return s(l)})).subscribe()})}}})}(u,l))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qa),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(fs),a.\u0275\u0275inject(_r),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(Gl),a.\u0275\u0275inject(uE))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[uE],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule]}),r}(),oK=b(49923);function Ja(o){return new Promise(function(r,n){o.oncomplete=o.onsuccess=function(){return r(o.result)},o.onabort=o.onerror=function(){return n(o.error)}})}function qi(){return zy||(zy=function sK(o,r){var n;return function(t,s){return function(){if(n)return n;var s=indexedDB.open(o);return s.onupgradeneeded=function(){return s.result.createObjectStore(r)},(n=Ja(s)).then(function(u){u.onclose=function(){return n=void 0}},function(){}),n}().then(function(u){return s(u.transaction(r,t).objectStore(r))})}}("keyval-store","keyval")),zy}function lE(o,r){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:qi())("readwrite",function(e){return e.put(r,o),Ja(e.transaction)})}var dK=function(r){return new ql({id:"idb_keyval",title:"Idb Keyval",create:function(e){var t=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,Re.of)({success:!1}).pipe((0,We.n)(function(){return s({object:t,parentObject:l}).pipe((0,fe.T)(function(d){return{identity:d.identity}}))}),(0,We.n)(function(d){var p=d.identity;return u&&0!==Object.keys(u).length?(0,bn.p)(Object.keys(u).map(function(h){return r.paramValue(u[h],new Map).pipe((0,fe.T)(function(_){return(0,c.A)({},h,_)}))})).pipe((0,fe.T)(function(h){return h.reduce(function(_,S){return(0,g.A)((0,g.A)({},_),S)},{})}),(0,fe.T)(function(h){return{identity:p,options:h}})):(0,Re.of)({identity:p,options:{}})}),(0,fe.T)(function(d){return{name:d.options.prefix+d.identity}}),(0,We.n)(function(d){var p=d.name;return new G.c(function(h){lE(p,t).then(function(_){console.log("idb write suceeded"),console.log(_),h.next({success:!0}),h.complete()}).catch(function(_){console.log("idb write failed"),console.log(_),h.next({success:!1}),h.complete()})})}))},read:function(e){return pi(e),(0,Re.of)({success:!1})},update:function(e){var t=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,Re.of)({success:!1}).pipe((0,We.n)(function(){return s({object:t,parentObject:l}).pipe((0,fe.T)(function(d){return{identity:d.identity}}))}),(0,We.n)(function(d){var p=d.identity;return u&&0!==Object.keys(u).length?(0,bn.p)(Object.keys(u).map(function(h){return r.paramValue(u[h],new Map).pipe((0,fe.T)(function(_){return(0,c.A)({},h,_)}))})).pipe((0,fe.T)(function(h){return h.reduce(function(_,S){return(0,g.A)((0,g.A)({},_),S)},{})}),(0,fe.T)(function(h){return{identity:p,options:h}})):(0,Re.of)({identity:p,options:{}})}),(0,fe.T)(function(d){return{name:d.options.prefix+d.identity}}),(0,We.n)(function(d){var p=d.name;return new G.c(function(h){lE(p,t).then(function(_){console.log("idb write suceeded"),console.log(_),h.next({success:!0}),h.complete()}).catch(function(_){console.log("idb write failed"),console.log(_),h.next({success:!1}),h.complete()})})}))},delete:function(e){return pi(e),(0,Re.of)({success:!1})},query:function(e){var t=e.params,s=e.rule,u=e.identity;return r.paramValues(new Map(Object.keys(t).map(function(l){return[l,t[l]]}))).pipe((0,We.n)(function(l){return new G.c(function(d){(function cK(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi())("readonly",function(r){if(r.getAllKeys)return Ja(r.getAllKeys());var n=[];return function $y(o,r){return o.openCursor().onsuccess=function(){this.result&&(r(this.result),this.result.continue())},Ja(o.transaction)}(r,function(e){return n.push(e.key)}).then(function(){return n})})})().then(function(p){return p.filter(function(h){return 0==="".concat(h).indexOf(l.get("prefix"))})}).then(function(p){return function lK(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:qi())("readonly",function(n){return Promise.all(o.map(function(e){return Ja(n.get(e))}))})}(p)}).then(function(p){d.next({entities:p,success:!0}),d.complete()})})}),(0,We.n)(function(l){return s?new G.c(function(d){var p=new Kl.Engine;p.addOperator("startsWith",function(h,_){return"string"==typeof _&&"string"==typeof h&&0===_.indexOf(h)}),p.addOperator("term||wildcard",function(h,_){var S=JSON.parse(decodeURIComponent(_)),P=(0,jo.JSONPath)({path:"$.term.*.value.@string()",json:S,flatten:!0});return void 0!==S.wildcard||S.term&&0!==P.lengh&&P[0]===h}),p.addRule(s),p.addFact("identity",function(h,_){return new G.c(function(S){_.factValue("entity").then(function(P){return u({object:P}).pipe((0,fe.T)(function(B){return B.identity})).toPromise()}).then(function(P){S.next(P),S.complete()})}).toPromise()},{cache:!1}),Re.of.apply(void 0,(0,A.A)(l.entities)).pipe((0,Fs.H)(function(h){return new G.c(function(_){p.removeFact("entity"),p.addFact("entity",h,{cache:!1}),p.run().then(function(S){_.next([h,S.events.findIndex(function(P){return"visible"===P.type})>-1]),_.complete()})})}),(0,te.p)(function(h){return(0,k.A)(h,2)[1]}),(0,fe.T)(function(h){return(0,k.A)(h,1)[0]}),(0,oK.T)(function(h,_){return[].concat((0,A.A)(h),[_])},[]),(0,qr.U)([])).subscribe(function(h){d.next((0,g.A)((0,g.A)({},l),{},{entities:h})),d.complete()})}):(0,Re.of)(l)}))}})},fK=function(){var o,r=(0,m.A)(function n(e,t){(0,v.A)(this,n),e.register(dK(t))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gs),a.\u0275\u0275inject(co))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[rd]}),r}(),mK=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.authFacade=t,this.router=s,this.title="ipe",this.menuClicked=new a.EventEmitter,(0,y.isPlatformBrowser)(e)&&(bridge=u)},[{key:"ngOnInit",value:function(){var t=this;this.authFacade.getUser$.subscribe(function(s){t.isAuthenticated=!!s})}},{key:"login",value:function(){this.authFacade.login()}},{key:"menuClick",value:function(){this.menuClicked.emit()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(bi),a.\u0275\u0275directiveInject(Xn.Router),a.\u0275\u0275directiveInject(Eu))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["app-root"]],outputs:{menuClicked:"menuClicked"},standalone:!1,decls:3,vars:0,consts:[["fxLayout","column","fxFill",""],[1,"outlet-wrapper"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1),a.\u0275\u0275element(2,"router-outlet"),a.\u0275\u0275elementEnd()())},dependencies:[Ve,Gu,Xn.RouterOutlet],styles:[".outlet-wrapper[_ngcontent-%COMP%]{height:100%}"]}),r}(),gK=b(71870),xd="PERFORM_ACTION",dE="ROLLBACK",mE="TOGGLE_ACTION",gE="JUMP_TO_STATE",hE="JUMP_TO_ACTION",Hy="IMPORT_STATE",vE="LOCK_CHANGES",yE="PAUSE_RECORDING",Qf=(0,m.A)(function o(r,n){if((0,v.A)(this,o),this.action=r,this.timestamp=n,this.type=xd,typeof r.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}),yK=(0,m.A)(function o(){(0,v.A)(this,o),this.type="REFRESH"}),_K=(0,m.A)(function o(r){(0,v.A)(this,o),this.timestamp=r,this.type="RESET"}),bK=(0,m.A)(function o(r){(0,v.A)(this,o),this.timestamp=r,this.type=dE}),AK=(0,m.A)(function o(r){(0,v.A)(this,o),this.timestamp=r,this.type="COMMIT"}),CK=(0,m.A)(function o(){(0,v.A)(this,o),this.type="SWEEP"}),xK=(0,m.A)(function o(r){(0,v.A)(this,o),this.id=r,this.type=mE}),SK=(0,m.A)(function o(r){(0,v.A)(this,o),this.index=r,this.type=gE}),EK=(0,m.A)(function o(r){(0,v.A)(this,o),this.actionId=r,this.type=hE}),DK=(0,m.A)(function o(r){(0,v.A)(this,o),this.nextLiftedState=r,this.type=Hy}),wK=(0,m.A)(function o(r){(0,v.A)(this,o),this.status=r,this.type=vE}),FK=(0,m.A)(function o(r){(0,v.A)(this,o),this.status=r,this.type=yE}),Xf=new a.InjectionToken("@ngrx/store-devtools Options"),_E=new a.InjectionToken("@ngrx/store-devtools Initial Config");function bE(){return null}function PK(o){var r={maxAge:!1,monitor:bE,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n="function"==typeof o?o():o,t=n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||r.features;!0===t.import&&(t.import="custom");var s=Object.assign({},r,{features:t},n);if(s.maxAge&&s.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got ".concat(s.maxAge));return s}function AE(o,r){return o.filter(function(n){return r.indexOf(n)<0})}function CE(o){var r=o.computedStates,n=o.currentStateIndex;return n>=r.length?r[r.length-1].state:r[n].state}function Sd(o){return new Qf(o,+Date.now())}function IK(o,r){return Object.keys(r).reduce(function(n,e){var t=Number(e);return n[t]=xE(o,r[t],t),n},{})}function xE(o,r,n){return(0,g.A)((0,g.A)({},r),{},{action:o(r.action,n)})}function TK(o,r){return r.map(function(n,e){return{state:SE(o,n.state,e),error:n.error}})}function SE(o,r,n){return o(r,n)}function EE(o){return o.predicate||o.actionsSafelist||o.actionsBlocklist}function Ky(o,r,n,e,t){var s=n&&!n(o,r.action),u=e&&!r.action.type.match(e.map(function(d){return DE(d)}).join("|")),l=t&&r.action.type.match(t.map(function(d){return DE(d)}).join("|"));return s||u||l}function DE(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wE(o){return{ngZone:o?(0,a.inject)(a.NgZone):null,connectInZone:o}}var Yf=function(){var o,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,F.A)(e,n),(0,m.A)(e)}(Co);return(o=r).\u0275fac=function(){var n;return function(t){return(n||(n=a.\u0275\u0275getInheritedFactory(o)))(t||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),qy=new a.InjectionToken("@ngrx/store-devtools Redux Devtools Extension"),FE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.config=t,this.dispatcher=s,this.zoneConfig=wE(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()},[{key:"notify",value:function(t,s){var u=this;if(this.devtoolsExtension)if(t.type===xd){if(s.isLocked||s.isPaused)return;var l=CE(s);if(EE(this.config)&&Ky(l,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var d=this.config.stateSanitizer?SE(this.config.stateSanitizer,l,s.currentStateIndex):l,p=this.config.actionSanitizer?xE(this.config.actionSanitizer,t,s.nextActionId):t;this.sendToReduxDevtools(function(){return u.extensionConnection.send(p,d)})}else{var h=(0,g.A)((0,g.A)({},s),{},{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?IK(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?TK(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(function(){return u.devtoolsExtension.send(null,h,u.getExtensionConfig(u.config))})}}},{key:"createChangesObservable",value:function(){var t=this;return this.devtoolsExtension?new G.c(function(s){var u=t.zoneConfig.connectInZone?t.zoneConfig.ngZone.runOutsideAngular(function(){return t.devtoolsExtension.connect(t.getExtensionConfig(t.config))}):t.devtoolsExtension.connect(t.getExtensionConfig(t.config));return t.extensionConnection=u,u.init(),u.subscribe(function(l){return s.next(l)}),u.unsubscribe}):U0.w}},{key:"createActionStreams",value:function(){var t=this,s=this.createChangesObservable().pipe((0,gK.u)()),u=s.pipe((0,te.p)(function(S){return"START"===S.type})),l=s.pipe((0,te.p)(function(S){return"STOP"===S.type})),d=s.pipe((0,te.p)(function(S){return"DISPATCH"===S.type}),(0,fe.T)(function(S){return t.unwrapAction(S.payload)}),(0,Fs.H)(function(S){return S.type===Hy?t.dispatcher.pipe((0,te.p)(function(P){return P.type===fm}),Vd(1e3),(0,Ln.B)(1e3),(0,fe.T)(function(){return S}),(0,aa.W)(function(){return(0,Re.of)(S)}),(0,pn.s)(1)):(0,Re.of)(S)})),h=s.pipe((0,te.p)(function(S){return"ACTION"===S.type}),(0,fe.T)(function(S){return t.unwrapAction(S.payload)})).pipe((0,Zt.Q)(l)),_=d.pipe((0,Zt.Q)(l));this.start$=u.pipe((0,Zt.Q)(l)),this.actions$=this.start$.pipe((0,We.n)(function(){return h})),this.liftedActions$=this.start$.pipe((0,We.n)(function(){return _}))}},{key:"unwrapAction",value:function(t){return"string"==typeof t?(0,eval)("(".concat(t,")")):t}},{key:"getExtensionConfig",value:function(t){var s,u,l,d={name:t.name,features:t.features,serialize:t.serialize,autoPause:null!==(s=t.autoPause)&&void 0!==s&&s,trace:null!==(u=t.trace)&&void 0!==u&&u,traceLimit:null!==(l=t.traceLimit)&&void 0!==l?l:75};return!1!==t.maxAge&&(d.maxAge=t.maxAge),d}},{key:"sendToReduxDevtools",value:function(t){try{t()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qy),a.\u0275\u0275inject(Xf),a.\u0275\u0275inject(Yf))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Zf={type:Pd},NK={type:"@ngrx/store-devtools/recompute"};function kE(o,r,n,e,t){if(e)return{state:n,error:"Interrupted by an error up the chain"};var u,s=n;try{s=o(n,r)}catch(l){u=l.toString(),t.handleError(l)}return{state:s,error:u}}function em(o,r,n,e,t,s,u,l,d){if(r>=o.length&&o.length===s.length)return o;for(var p=o.slice(0,r),h=s.length-(d?1:0),_=r;_<h;_++){var S=s[_],P=t[S].action,B=p[_-1],z=B?B.state:e,Y=B?B.error:void 0,ge=u.indexOf(S)>-1?B:kE(n,P,z,Y,l);p.push(ge)}return d&&p.push(o[o.length-1]),p}var PE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,h){var _=this;(0,v.A)(this,n);var S=function VK(o,r){return{monitorState:r(void 0,{}),nextActionId:1,actionsById:{0:Sd(Zf)},stagedActionIds:[0],skippedActionIds:[],committedState:o,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(p,h.monitor),P=function OK(o,r,n,e){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(s){return function(u,l){var d=u||r,p=d.monitorState,h=d.actionsById,_=d.nextActionId,S=d.stagedActionIds,P=d.skippedActionIds,B=d.committedState,z=d.currentStateIndex,Y=d.computedStates,de=d.isLocked,ge=d.isPaused;function be(Hn){for(var ei=Hn,Oi=S.slice(1,ei+1),Ua=0;Ua<Oi.length;Ua++){if(Y[Ua+1].error){Oi=S.slice(1,(ei=Ua)+1);break}delete h[Oi[Ua]]}P=P.filter(function(yo){return-1===Oi.indexOf(yo)}),S=[0].concat((0,A.A)(S.slice(ei+1))),B=Y[ei].state,Y=Y.slice(ei),z=z>ei?z-ei:0}function me(){h={0:Sd(Zf)},_=1,S=[0],P=[],B=Y[z].state,z=0,Y=[]}u||(h=Object.create(h));var Pe=0;switch(l.type){case vE:de=l.status,Pe=1/0;break;case yE:(ge=l.status)?(S=[].concat((0,A.A)(S),[_]),h[_]=new Qf({type:"@ngrx/devtools/pause"},+Date.now()),_++,Pe=S.length-1,Y=Y.concat(Y[Y.length-1]),z===S.length-2&&z++,Pe=1/0):me();break;case"RESET":h={0:Sd(Zf)},_=1,S=[0],P=[],B=o,z=0,Y=[];break;case"COMMIT":me();break;case dE:h={0:Sd(Zf)},_=1,S=[0],P=[],z=0,Y=[];break;case mE:var qe=l.id,dt=P.indexOf(qe);P=-1===dt?[qe].concat((0,A.A)(P)):P.filter(function(Hn){return Hn!==qe}),Pe=S.indexOf(qe);break;case"SET_ACTIONS_ACTIVE":for(var ot=l.start,pt=l.end,Tt=l.active,Lt=[],mt=ot;mt<pt;mt++)Lt.push(mt);P=Tt?AE(P,Lt):[].concat((0,A.A)(P),Lt),Pe=S.indexOf(ot);break;case gE:z=l.index,Pe=1/0;break;case hE:var yt=S.indexOf(l.actionId);-1!==yt&&(z=yt),Pe=1/0;break;case"SWEEP":S=AE(S,P),P=[],z=Math.min(z,S.length-1);break;case xd:if(de)return u||r;if(ge||u&&Ky(u.computedStates[z],l,t.predicate,t.actionsSafelist,t.actionsBlocklist)){var wt=Y[Y.length-1];Y=[].concat((0,A.A)(Y.slice(0,-1)),[kE(s,l.action,wt.state,wt.error,n)]),Pe=1/0;break}t.maxAge&&S.length===t.maxAge&&be(1),z===S.length-1&&z++;var Jt=_++;h[Jt]=l,Pe=(S=[].concat((0,A.A)(S),[Jt])).length-1;break;case Hy:var tn=l.nextLiftedState;p=tn.monitorState,h=tn.actionsById,_=tn.nextActionId,S=tn.stagedActionIds,P=tn.skippedActionIds,B=tn.committedState,z=tn.currentStateIndex,Y=tn.computedStates,de=tn.isLocked,ge=tn.isPaused;break;case Pd:Pe=0,t.maxAge&&S.length>t.maxAge&&(Y=em(Y,Pe,s,B,h,S,P,n,ge),be(S.length-t.maxAge),Pe=1/0);break;case fm:if(Y.filter(function(Hn){return Hn.error}).length>0)Pe=0,t.maxAge&&S.length>t.maxAge&&(Y=em(Y,Pe,s,B,h,S,P,n,ge),be(S.length-t.maxAge),Pe=1/0);else{if(!ge&&!de){z===S.length-1&&z++;var Wr=_++;h[Wr]=new Qf(l,+Date.now()),S=[].concat((0,A.A)(S),[Wr]),Y=em(Y,Pe=S.length-1,s,B,h,S,P,n,ge)}Y=Y.map(function(Hn){return(0,g.A)((0,g.A)({},Hn),{},{state:s(Hn.state,NK)})}),z=S.length-1,t.maxAge&&S.length>t.maxAge&&be(S.length-t.maxAge),Pe=1/0}break;default:Pe=1/0}return Y=em(Y,Pe,s,B,h,S,P,n,ge),{monitorState:p=e(p,l),actionsById:h,nextActionId:_,stagedActionIds:S,skippedActionIds:P,committedState:B,currentStateIndex:z,computedStates:Y,isLocked:de,isPaused:ge}}}}(p,S,d,h.monitor,h),B=(0,R.h)((0,R.h)(t.asObservable().pipe((0,nc.i)(1)),u.actions$).pipe((0,fe.T)(Sd)),e,u.liftedActions$).pipe((0,l0.Q)(u0)),z=s.pipe((0,fe.T)(P)),Y=wE(h.connectInZone),de=new Sf.m(1);this.liftedStateSubscription=B.pipe(ii(z),IE(Y),(0,kd.S)(function(me,Pe){var qe=me.state,dt=(0,k.A)(Pe,2),ot=dt[0],Tt=(0,dt[1])(qe,ot);return ot.type!==xd&&EE(h)&&(Tt=function RK(o,r,n,e){var t=[],s={},u=[];return o.stagedActionIds.forEach(function(l,d){var p=o.actionsById[l];p&&(d&&Ky(o.computedStates[d],p,r,n,e)||(s[l]=p,t.push(l),u.push(o.computedStates[d])))}),(0,g.A)((0,g.A)({},o),{},{stagedActionIds:t,actionsById:s,computedStates:u})}(Tt,h.predicate,h.actionsSafelist,h.actionsBlocklist)),u.notify(ot,Tt),{state:Tt,action:ot}},{state:S,action:null})).subscribe(function(me){var qe=me.action;de.next(me.state),qe.type===xd&&l.next(qe.action)}),this.extensionStartSubscription=u.start$.pipe(IE(Y)).subscribe(function(){_.refresh()});var ge=de.asObservable(),be=ge.pipe((0,fe.T)(CE));Object.defineProperty(be,"state",{value:(0,nm.toSignal)(be,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=ge,this.state=be},[{key:"ngOnDestroy",value:function(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}},{key:"dispatch",value:function(t){this.dispatcher.next(t)}},{key:"next",value:function(t){this.dispatcher.next(t)}},{key:"error",value:function(t){}},{key:"complete",value:function(){}},{key:"performAction",value:function(t){this.dispatch(new Qf(t,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new yK)}},{key:"reset",value:function(){this.dispatch(new _K(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new bK(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new AK(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new CK)}},{key:"toggleAction",value:function(t){this.dispatch(new xK(t))}},{key:"jumpToAction",value:function(t){this.dispatch(new EK(t))}},{key:"jumpToState",value:function(t){this.dispatch(new SK(t))}},{key:"importState",value:function(t){this.dispatch(new DK(t))}},{key:"lockChanges",value:function(t){this.dispatch(new wK(t))}},{key:"pauseRecording",value:function(t){this.dispatch(new FK(t))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Yf),a.\u0275\u0275inject(Co),a.\u0275\u0275inject(mc),a.\u0275\u0275inject(FE),a.\u0275\u0275inject(Xo),a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(Id),a.\u0275\u0275inject(Xf))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function IE(o){var r=o.ngZone,n=o.connectInZone;return function(e){return n?new G.c(function(t){return e.subscribe({next:function(u){return r.run(function(){return t.next(u)})},error:function(u){return r.run(function(){return t.error(u)})},complete:function(){return r.run(function(){return t.complete()})}})}):e}}var BK=new a.InjectionToken("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function LK(o,r){return!!o||r.monitor!==bE}function jK(){var o="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[o]<"u"?window[o]:null}function UK(o){return o.state}function GK(){return(0,a.makeEnvironmentProviders)([FE,Yf,PE,{provide:_E,useValue:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},{provide:BK,deps:[qy,Xf],useFactory:LK},{provide:qy,useFactory:jK},{provide:Xf,deps:[_E],useFactory:PK},{provide:mm,deps:[PE],useFactory:UK},{provide:pm,useExisting:Yf}])}var zK=function(){var o,r=function(){function n(){(0,v.A)(this,n)}return(0,m.A)(n,null,[{key:"instrument",value:function(){return{ngModule:n,providers:[GK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),Wi=b(37273),$K={router:function C5(o,r){var n=r;switch(n.type){case Uv:case zv:case Gv:return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return o}}},HK=[],TE=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.query=r.query)}),KK=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new M.t(void 0),this.formGroup=this.fb.group({query:this.fb.control("",[f.Validators.required])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new TE(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?s.formGroup.get("query").setValue(u.query):s.formGroup.get("query").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-select-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","required",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Query"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"input",1),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),qK=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-transform-select"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-select-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,KK],encapsulation:2}),r}(),WK=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-transform-merge"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"transform merge"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),QK=function(r){return new fo({id:"select",title:"Select",editor:qK,fetch:function(e){var t=e.settings,s=e.dataset;return er(function(){return!!s},(0,Re.of)(s).pipe((0,fe.T)(function(){return new TE(r.deserializeAsObject(t))}),(0,fe.T)(function(u){return new Un({results:(0,jo.JSONPath)({path:u.query,json:s.results})})})),(0,Re.of)(new Un))}})},YK=function(){var o,r=(0,m.A)(function n(e,t){(0,v.A)(this,n),[QK(t),new fo({id:"merge",title:"Merge",editor:WK,fetch:function(n){return(0,Re.of)(new Un)}})].forEach(function(s){return e.register(s)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,Su]}),r}(),JK=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new M.t(void 0),this.paramValues$=new M.t([]),this.formGroup=this.fb.group({entityName:this.fb.control(""),queryString:this.fb.control(""),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){u?(s.formGroup.get("entityName").setValue(u.entityName),s.formGroup.get("queryString").setValue(u.queryString)):(s.formGroup.get("entityName").setValue(""),s.formGroup.get("queryString").setValue(""))}),this.queryStringChangeSub=this.formGroup.get("queryString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(u){var l=Xa.parse("?"+u);s.paramsParsed=l}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-entity-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:8,vars:4,consts:[[3,"formGroup"],["matInput","","placeholder","Name","formControlName","entityName","required",""],["matInput","","placeholder","Query String","formControlName","queryString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"div")(5,"mat-form-field"),a.\u0275\u0275element(6,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(7,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(7),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),RE=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-entity-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-entity-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,JK],encapsulation:2}),r}(),ME=(0,m.A)(function o(r){(0,v.A)(this,o),this.params=[],r&&(this.entityName=r.entityName,this.queryString=r.queryString?r.queryString:"",r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),tq=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d){(0,v.A)(this,n),e.register(function(r,n,e,t){return new fo({id:"entity",title:"Entity",editor:RE,fetch:function(u){var l=u.settings,d=u.metadata;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return n.deserializeAsObject(l)}),(0,fe.T)(function(p){return new ME(p)}),(0,We.n)(function(p){return e.getUrl("?"+p.queryString,p.params,d).pipe((0,fe.T)(function(h){return{e:p,queryString:h}}))}),(0,fe.T)(function(p){return{e:p.e,queryString:p.queryString.substr(1)}}),(0,We.n)(function(p){var h=p.e,_=p.queryString;return _&&""!==_?t.getEntityCollectionService(h.entityName).getWithQuery(_):t.getEntityCollectionService(h.entityName).getAll()}),(0,fe.T)(function(p){return new Un({results:p})}))},editorOptions:function(){return(0,Re.of)(new xf({fullscreen:!0}))},getBindings:function(u){var l=u.settings;return(0,Re.of)([]).pipe((0,fe.T)(function(){return n.deserializeAsObject(l)}),(0,fe.T)(function(p){return new ME(p)}),(0,We.n)(function(p){return r.extractContexts(p.params)}),(0,fe.T)(function(p){return p.map(function(h){return new Xt.ContentBinding({id:h,type:"context"})})}))}})}(s,u,l,d)),t.register(new hx({id:"entity",title:"Entity",editor:RE,send:function(n){return(0,Re.of)(new ty({}))}}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(Ef),a.\u0275\u0275inject(ey),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(_r))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,pa.MaterialModule,$l,ps]}),r}(),nq=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new M.t(void 0),this.datasource$=new M.t(void 0),this.formGroup=this.fb.group({}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-loop-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"div",0),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.NgControlStatusGroup,f.FormGroupDirective],encapsulation:2}),r}(),rq=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-loop-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-loop-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,nq],encapsulation:2}),r}(),aq=(0,m.A)(function o(r){(0,v.A)(this,o)}),iq=function(r,n){return new fo({id:"loop",title:"loop",editor:rq,fetch:function(t){var s=t.settings,u=t.dataset,l=t.datasource,d=t.metadata,p=t.datasources;return(0,Re.of)(new Un).pipe((0,fe.T)(function(){return r.deserializeAsObject(s)}),(0,fe.T)(function(h){return h?new aq(h):void 0}),(0,We.n)(function(h){return(0,bn.p)(u?u.results.map(function(_){return n.evalDatasource({datasource:new xu({plugin:"data",renderer:l.renderer,settings:r.serialize({data:JSON.stringify(u.results)},"root").attributes}),datasources:p,metadata:new Map([].concat((0,A.A)(d?Array.from(d).filter(function(S){return"contexts"!==(0,k.A)(S,1)[0]}):[]),[["contexts",[].concat((0,A.A)(d.has("contexts")&&Array.isArray(d.get("contexts"))?d.get("contexts").filter(function(S){return"_root"!==S.name}):[]),[new Ia({name:"_root",adaptor:"data",data:_})])]]))}).pipe((0,pn.s)(1))}):[]).pipe((0,fe.T)(function(_){return new Un({results:_.reduce(function(S,P){return[].concat((0,A.A)(S),(0,A.A)(P.results))},[])})}),(0,qr.U)(new Un({results:[]})))}))}})},oq=function(){var o,r=(0,m.A)(function n(e,t,s){(0,v.A)(this,n),[iq(t,s)].forEach(function(u){return e.register(u)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ri),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ux))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,pa.MaterialModule,$l,Su]}),r}();function sq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",6),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function uq(o,r){}function lq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"druid-ordain-validation-validator",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.deleteValidator$.next(u))}),a.\u0275\u0275text(3,"Delete"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("formControlName",e)("validation",t.validation$.value.validators[e])}}var zo=function(o){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.editor=n.editor,e.errorMessage=n.errorMessage,e.builder=n.builder),e}return(0,F.A)(r,o),(0,m.A)(r)}(sn.Plugin),cq=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.name=r.name,this.validator=r.validator,this.overrideErrorMessage=r.overrideErrorMessage,r.paramSettings&&"string"!=typeof r.paramSettings&&(this.paramSettings=new dq(r.paramSettings)))}),dq=(0,m.A)(function o(r){(0,v.A)(this,o),this.params=[],r&&(this.paramsString=r.paramsString,r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),Ed=(0,m.A)(function o(r){(0,v.A)(this,o),r&&Array.isArray(r.validators)&&(this.validators=r.validators.map(function(n){return new cq(n)}))}),NE=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","druidValidationRendererHost",""]],standalone:!1}),r}(),pq=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new M.t(void 0),this.afterViewInit$=new T.B,this.paramValues$=new M.t([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(s){var u=Xa.parse("?"+s);t.paramsParsed=u}),this.settingsSub=this.settings$.pipe((0,X.M)(function(s){s&&t.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,zn.z)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,te.p)(function(s){return void 0!==(0,k.A)(s,1)[0]}),(0,lr.c)(1),(0,X.M)(function(s){var u=(0,k.A)(s,1);return t.paramValues$.next(u[0].params)})).subscribe(),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-params-editor-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(5,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),$o=function(){var o,r=(0,m.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-params-editor"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","paramSettings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"druid-ordain-validation-params-editor-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,pq],encapsulation:2}),r}(),fq=function(){return(0,m.A)(function o(r,n){(0,v.A)(this,o),this.pluginManager=r,this.formsValidationUtils=n},[{key:"loadPlugins",value:function(n){var e=this;return(0,Re.of)(!1).pipe((0,X.M)(function(){return e.pluginManager.register(e.makeRequired())}),(0,X.M)(function(){return e.pluginManager.register(e.makeRequiredTrue())}),(0,X.M)(function(){e.pluginManager.register(e.makeMin()),e.pluginManager.register(e.makeMax()),e.pluginManager.register(e.makeMinLength()),e.pluginManager.register(e.makeMaxLength())}),(0,fe.T)(function(){return e.pluginManager.register(e.makeEmail())}),(0,fe.T)(function(){return e.pluginManager.register(e.makePattern())}),(0,fe.T)(function(){return e.pluginManager.register(e.nullValidator())}),(0,fe.T)(function(){return!0}))}},{key:"makeRequired",value:function(){var n=this;return new zo({id:"required",title:"Required",errorMessage:"Field is required",editor:$o,builder:function(t){var s=t.serialized;return(0,Re.of)(function(u){return(0,Re.of)(f.Validators.required(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeRequiredTrue",value:function(){var n=this;return new zo({id:"required_true",title:"Required True",errorMessage:"Field is required",editor:$o,builder:function(t){var s=t.serialized;return(0,Re.of)(function(u){return(0,Re.of)(f.Validators.requiredTrue(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeEmail",value:function(){var n=this;return new zo({id:"email",title:"Email",errorMessage:"Invalid email",editor:$o,builder:function(t){var s=t.serialized;return(0,Re.of)(function(u){return(0,Re.of)(f.Validators.email(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"nullValidator",value:function(){var n=this;return new zo({id:"null",title:"Null",errorMessage:"nota",editor:$o,builder:function(t){var s=t.serialized;return(0,Re.of)(function(u){return(0,Re.of)(f.Validators.nullValidator(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeMin",value:function(){var n=this;return new zo({id:"min",title:"Min",errorMessage:"Field min [.min]",editor:$o,builder:function(t){var s=t.v,u=t.serialized;return(0,Re.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.min(+d.min)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMax",value:function(){var n=this;return new zo({id:"max",title:"Max",errorMessage:"Field max [.max]",editor:$o,builder:function(t){var s=t.v,u=t.serialized;return(0,Re.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.max(+d.max)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMinLength",value:function(){var n=this;return new zo({id:"min_length",title:"Min Length",errorMessage:"minimum of [.min] characters",editor:$o,builder:function(t){var s=t.v,u=t.serialized;return(0,Re.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.minLength(+d.minLength)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMaxLength",value:function(){var n=this;return new zo({id:"max_length",title:"Max Length",errorMessage:"Maximum of [.max] characters",editor:$o,builder:function(t){var s=t.v,u=t.serialized;return(0,Re.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.maxLength(+d.maxLength)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makePattern",value:function(){var n=this;return new zo({id:"pattern",title:"Pattern",errorMessage:"Must match pattern",editor:$o,builder:function(t){var s=t.v,u=t.serialized;return(0,Re.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.pattern(new RegExp(d.pattern))(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}}])}(),mq=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.paramEvaluatorService=e,this.attributesSerializerService=t},[{key:"resolveParams",value:function(t){var s=this,u=t.v;return(0,Re.of)({}).pipe((0,fe.T)(function(){return{paramNames:u.paramSettings.paramsString?u.paramSettings.paramsString.split("&").filter(function(l){return-1!==l.indexOf("=:")}).map(function(l){return l.split("=",2)[1].substr(1)}):[]}}),(0,We.n)(function(l){var d=l.paramNames;return s.paramEvaluatorService.paramValues(u.paramSettings.params.reduce(function(p,h,_){return new Map([].concat((0,A.A)(p),[[d[_],h]]))},new Map)).pipe((0,fe.T)(function(p){return Array.from(p).reduce(function(h,_){var S=(0,k.A)(_,2),P=S[0],B=S[1];return(0,g.A)((0,g.A)({},h),{},(0,c.A)({},P,B))},{})}))}))}},{key:"rebuildControl",value:function(t){var s=t.c;return t.serialized?new f.UntypedFormControl(this.attributesSerializerService.deserializeAsObject(s.value).value):s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(co),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Za=function(){var o,r=function(n){function e(t,s,u){var l;return(0,v.A)(this,e),(l=(0,w.A)(this,e,[s,u])).addDiscovery(new fq(l,t)),l}return(0,F.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Re.of)(new sn.PluginDef({name:"validation"}))}},{key:"discovery",value:function(){(0,ze.A)(e,"discovery",this,3)([])}}])}(sn.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(mq),a.\u0275\u0275inject(sn.PluginConfigurationManager),a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),gq=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.vpm=t,this.componentFactoryResolver=s,this.contexts=[],this.settings$=new M.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[f.Validators.required]),validator:this.fb.control("",[f.Validators.required]),overrideErrorMessage:this.fb.control(""),paramSettings:this.fb.control("")}),this.validationPlugins$=this.vpm.getPlugins(),this.componentRef$=new M.t(void 0),this.afterViewInit$=new T.B,this.onInit$=new T.B,this.validation$=new M.t(void 0),this.validatorChangeSub=this.formGroup.get("validator").valueChanges.pipe((0,X.M)(function(l){console.log("validator change",l)})).subscribe(),this.validatorSub=(0,zn.z)([this.formGroup.get("validator").valueChanges,this.afterViewInit$]).pipe((0,fe.T)(function(l){return(0,k.A)(l,1)[0]}),(0,We.n)(function(l){return l&&""!==l?u.vpm.getPlugin(l):(0,Re.of)(void 0)}),(0,X.M)(function(l){l&&u.renderValidation(l)})).subscribe(),this.validationSub=this.validation$.pipe((0,X.M)(function(l){l?(u.formGroup.get("name").setValue(l.name),u.formGroup.get("validator").setValue(l.validator),u.formGroup.get("overrideErrorMessage").setValue(l.overrideErrorMessage),setTimeout(function(){return u.formGroup.get("paramSettings").setValue(l.paramSettings)})):(u.formGroup.get("name").setValue(""),u.formGroup.get("overrideErrorMessage").setValue(""),u.formGroup.get("validator").setValue(""))})).subscribe(),this.contextForwardingSub=this.componentRef$.pipe((0,te.p)(function(l){return!!l})).subscribe(function(l){l.instance.contexts=u.contexts,l.instance.settings=u.validation$.value?u.validation$.value.paramSettings:void 0}),this.onTouched=function(){}},[{key:"validation",set:function(t){this.validation$.next(t)}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0),this.onInit$.complete()}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue((0,g.A)((0,g.A)({},t),{},{settings:t.settings?t.settings:""}),{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"renderValidation",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editor),u=this.validationHost.viewContainerRef;u.clear(),this.componentRef$.next(u.createComponent(s))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-validator"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(NE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.validationHost=s.first)},inputs:{contexts:"contexts",validation:"validation"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:19,vars:6,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","name"],["required","","formControlName","validator"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","overrideErrorMessage"],["druidValidationRendererHost",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field")(7,"mat-label"),a.\u0275\u0275text(8,"Validator"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-select",2),a.\u0275\u0275template(10,sq,2,2,"mat-option",3),a.\u0275\u0275pipe(11,"async"),a.\u0275\u0275pipe(12,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"mat-form-field")(14,"mat-label"),a.\u0275\u0275text(15,"Error Message"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(16,"input",4),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(17),a.\u0275\u0275template(18,uq,0,0,"ng-template",5),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(12,4,a.\u0275\u0275pipeBind1(11,2,t.validationPlugins$))))},dependencies:[y.NgForOf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Er.MatOption,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,NE,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),hq=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.formGroup=this.fb.group({validators:this.fb.array([])}),this.addValidator$=new T.B,this.deleteValidator$=new T.B,this.afterViewInit$=new T.B,this.validation$=new M.t(new Ed({validators:[]})),this.addValidatorSub=this.addValidator$.pipe((0,X.M)(function(){t.validators.push(t.fb.control(""))})).subscribe(),this.deleteValidatorSub=this.deleteValidator$.pipe((0,X.M)(function(s){t.validation$.value.validators.splice(s,1),t.validators.removeAt(s)})).subscribe(),this.validationSub=(0,zn.z)([this.validation$,this.afterViewInit$]).pipe((0,fe.T)(function(s){return(0,k.A)(s,1)[0]}),(0,te.p)(function(s){return 0!==s.validators.length}),(0,X.M)(function(s){t.validators.clear(),s.validators.forEach(function(u,l){t.validators.push(t.fb.control(""))})})).subscribe(),this.onTouched=function(){}},[{key:"validation",set:function(t){this.validation$.next(t)}},{key:"validators",get:function(){return this.formGroup.get("validators")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-editor"]],inputs:{validation:"validation"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","validators"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","validation"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1),a.\u0275\u0275template(2,lq,4,2,"div",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.addValidator$.next(void 0)}),a.\u0275\u0275text(4,"Add Validator"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.validators.controls))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,gq],encapsulation:2}),r}(),vq=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.vpm=e,this.tokenizerService=t,this.validators$=new M.t([]),this.errors$=new M.t(null),this.message$=new M.t("Field is invalid"),this.resolvedContext$=new M.t(void 0),this.messageSub=(0,zn.z)([this.validators$,this.errors$,this.resolvedContext$]).pipe((0,te.p)(function(u){var p=(0,k.A)(u,2)[1];return null!==p&&0!==Object.keys(p).length}),(0,fe.T)(function(u){var l=(0,k.A)(u,2),d=l[0],p=l[1],h=Object.keys(p),S=(0,k.A)(h,1)[0],P=d.find(function(B){return B.validator===S});return{k:S,v:P,e:p[S]}}),(0,We.n)(function(u){var l=u.k,d=u.v,p=u.e;return s.vpm.getPlugin(d.validator).pipe((0,fe.T)(function(h){return{k:l,v:d,p:h,e:p}}))}),(0,We.n)(function(u){var l=u.k,d=u.v,p=u.p;return s.resolveContexts({errors:u.e}).pipe((0,fe.T)(function(_){return{k:l,v:d,p,t:_}}))}),(0,X.M)(function(u){var p=u.v,h=s.replaceTokens({message:p.overrideErrorMessage&&""!==p.overrideErrorMessage?p.overrideErrorMessage:u.p.errorMessage,tokens:u.t});s.message$.next(h)})).subscribe()},[{key:"validators",set:function(t){this.validators$.next(t)}},{key:"errors",set:function(t){this.errors$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"replaceTokens",value:function(t){var s=t.message,u=t.tokens;return void 0!==u&&u.forEach(function(l,d){s=s.split("[".concat(d,"]")).join("".concat(l))}),s}},{key:"resolveContexts",value:function(t){var s=this,u=t.errors;return new G.c(function(l){var d=new Map(s.tokenizerService.generateGenericTokens(u,""));if(s.resolvedContext$.value)for(var p in s.resolvedContext$.value)d=new Map([].concat((0,A.A)(d),(0,A.A)(s.tokenizerService.generateGenericTokens(s.resolvedContext$.value[p],"_root"===p?"":p))));l.next(d),l.complete()})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(Wn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-default-validation-error"]],inputs:{validators:"validators",errors:"errors",resolvedContext:"resolvedContext"},standalone:!1,decls:1,vars:1,template:function(e,t){1&e&&a.\u0275\u0275text(0),2&e&&a.\u0275\u0275textInterpolate(t.message$.value)},encapsulation:2}),r}(),VE=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,ps]}),r}(),OE=b(84517),yq=b(69989),Wy=b(43233);function _q(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275element(1,"druid-ordain-default-validation-error",2),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("validators",null==n.formSettings$.value||null==n.formSettings$.value.validation?null:n.formSettings$.value.validation.validators)("errors",n.formControl.errors)("resolvedContext",n.resolvedContext$.value)}}function bq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function Aq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"classifieds-ui-render-pane",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.remove$.next(l))}),a.\u0275\u0275text(3,"Remove"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit,t=r.index,s=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("formControlName",t)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("contexts",e.contexts)("panes",s.panes)("resolvedContext",e.resolvedContext)("indexPosition",t)("ancestory",s.ancestory)}}function Cq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",9),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function xq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-radio-button",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function Sq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function Eq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",4),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemove(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("file",e)("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function Dq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-video-preview",4),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemove(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("file",e)("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function wq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-preview",5),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemove(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function Fq(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Eq,3,4,"ngx-dropzone-image-preview",2)(2,Dq,3,4,"ngx-dropzone-video-preview",2)(3,wq,3,3,"ngx-dropzone-preview",3),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.isType(n,"image")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.isType(n,"video")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!e.isType(n,"image")&&!e.isType(n,"video"))}}var Qy=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.value=r.value?r.value:"",r.datasourceBinding&&"object"==typeof r.datasourceBinding&&(this.datasourceBinding=new Xt.ContentBinding(r.datasourceBinding)),r.datasourceOptions&&"object"==typeof r.datasourceOptions&&(this.datasourceOptions=new ax(r.datasourceOptions)),r.validation&&(this.validation=new Ed(r.validation)))}),kq=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.valuesMapping=r.valuesMapping)}),Ni=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.tokenizerService=e,this.datasourceContentHandler=t,this.panelResolver=s,this.attributeSerializer=u},[{key:"resolveElementOptions",value:function(t,s){var u=this;return(0,Re.of)(t).pipe((0,We.n)(function(l){if(l.datasourceBinding&&l.datasourceBinding.id&&""!==l.datasourceBinding.id){var d=s.has("panes")?s.get("panes").find(function(p){return p.name===l.datasourceBinding.id}):void 0;return u.panelResolver.dataPanes(s.get("panes")).pipe((0,We.n)(function(p){return d?u.datasourceContentHandler.fetchDynamicData(d.settings,new Map([].concat((0,A.A)(s),[["dataPanes",p]]))):(0,Re.of)([])}),(0,fe.T)(function(p){return[l,p.results]}))}return(0,Re.of)([l,[]])}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),p=d[0],h=d[1];return[p,p.datasourceOptions&&""!==p.datasourceOptions.query?(0,jo.JSONPath)({path:p.datasourceOptions.query,json:h}):h]}),(0,We.n)(function(l){var d=(0,k.A)(l,2);return u.mapDataOptions(d[0],d[1])}))}},{key:"mapDataOptions",value:function(t,s){var u=this;return(0,Re.of)([t,s]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,2),h=d[1];return[d[0],h,h?h.map(function(_){return u.tokenizerService.generateGenericTokens(_)}):[]]}),(0,fe.T)(function(l){var d=(0,k.A)(l,3),p=d[0];return d[2].map(function(S){return u.mapDataItem(p,S)})}))}},{key:"mapDataItem",value:function(t,s){return new ox({value:this.tokenizerService.replaceTokens("".concat(t.datasourceOptions.valueMapping),s),label:this.tokenizerService.replaceTokens("".concat(t.datasourceOptions.labelMapping),s),dataItem:void 0})}},{key:"hasDataOptions",value:function(t){return t.datasourceBinding&&t.datasourceBinding.id&&""!==t.datasourceBinding.id}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wn),a.\u0275\u0275inject(gy),a.\u0275\u0275inject(_y),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Vi=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.tokenizerService=e,this.cachedResolvedContexts=[],this.scheduleResolution$=new T.B,this.scheduleResolutionSub=this.scheduleResolution$.pipe((0,X.M)(function(s){var u=s.resolvedContext,l=s.index,d=new Map;if(u)for(var p in u)u[p]instanceof vs||(d=new Map([].concat((0,A.A)(d),(0,A.A)(t.tokenizerService.generateGenericTokens(u[p],"_root"===p?"":p)))));t.cachedResolvedContexts[l].resolution$.next(d)})).subscribe()},[{key:"resolveContexts",value:function(t){var s=t.resolvedContext,u=this.cachedResolvedContexts.findIndex(function(l){return 0===(0,ny.getDiff)(l.rContext,s).length});return-1===u?(console.log("resolved context no cache",s),u=this.cachedResolvedContexts.length,this.cachedResolvedContexts.push({rContext:s,resolution$:new Sf.m}),this.scheduleResolution$.next({resolvedContext:s,index:u})):console.log("resolved context cache hit",s),this.cachedResolvedContexts[u].resolution$.pipe((0,pn.s)(1))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wn))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Qi=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){var p=this;(0,v.A)(this,n),this.attributeSerializer=e,this.optionsResolver=t,this.tokenizerService=s,this.formsContextHelper=u,this.vpm=l,this.controlContainer=d,this.formControl=new f.UntypedFormControl(""),this.formControlValueChangesSub=this.formControl.valueChanges.pipe((0,X.M)(function(h){return console.log("serialized form value",p.attributeSerializer.serialize(h,"value"))}),(0,X.M)(function(h){return p.controlContainer.control.get("settings").setValue([p.attributeSerializer.serialize(h,"value")])})).subscribe(),this.formSettings$=new M.t(void 0),this.settings$=new M.t([]),this.options$=new M.t([]),this.init$=new T.B,this.afterViewInit$=new T.B,this.panes$=new M.t([]),this.originPanes$=new M.t([]),this.contexts$=new M.t([]),this.resolvedContext$=new M.t(void 0),this.value$=new T.B,this.settingsSub=this.settings$.pipe((0,fe.T)(function(h){return h?p.settingsToObject(p.attributeSerializer.deserializeAsObject(h)):void 0}),(0,X.M)(function(h){return p.formSettings$.next(h)})).subscribe(),this.loadOptionsSub=(0,zn.z)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe((0,fe.T)(function(h){var _=(0,k.A)(h,4),P=_[1],B=_[2],z=_[3];return{settings:_[0],metadata:new Map([["panes",[].concat((0,A.A)(P&&Array.isArray(P)?P:[]),(0,A.A)(B&&Array.isArray(B)?B:[]))],["contexts",z]])}}),(0,We.n)(function(h){return p.optionsResolver.resolveElementOptions(h.settings,h.metadata)}),(0,X.M)(function(h){return p.options$.next(h)})).subscribe(),this.renderContentSub=(0,zn.z)([this.formSettings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,fe.T)(function(h){var _=(0,k.A)(h,2);return{settings:_[0],resolvedContext:_[1]}}),(0,We.n)(function(h){var _=h.settings;return p.formsContextHelper.resolveContexts({resolvedContext:h.resolvedContext}).pipe((0,fe.T)(function(P){return{settings:_,tokens:P}}))}),(0,We.n)(function(h){var _=h.settings,S=h.tokens;return(0,bn.p)(_.validation&&_.validation.validators?_.validation.validators.map(function(P){return p.vpm.getPlugin(P.validator).pipe((0,We.n)(function(B){return B.builder({v:P,serialized:!1}).pipe((0,fe.T)(function(z){return{v:P,vf:z}}))}))}):[]).pipe((0,fe.T)(function(P){return{settings:_,tokens:S,validators:P}}),(0,qr.U)({settings:_,tokens:S,validators:[]}))}),(0,We.n)(function(h){var _=h.settings,S=h.tokens,P=h.validators;return(0,bn.p)(_.validation&&_.validation.validators?_.validation.validators.map(function(B){return p.vpm.getPlugin(B.validator).pipe((0,We.n)(function(z){return z.builder({v:B,serialized:!0}).pipe((0,fe.T)(function(Y){return{v:B,vf:Y}}))}))}):[]).pipe((0,fe.T)(function(B){return{settings:_,tokens:S,validators:P,validatorsSerialized:B}}),(0,qr.U)({settings:_,tokens:S,validators:P,validatorsSerialized:[]}))}),(0,X.M)(function(h){var _=h.settings,S=h.tokens,B=h.validatorsSerialized;if(p.formControl.setAsyncValidators(h.validators.map(function(ot){return ot.vf})),p.controlContainer.control.get("settings").setAsyncValidators(B.map(function(ot){return ot.vf})),p.formControl.updateValueAndValidity(),p.controlContainer.control.updateValueAndValidity(),void 0!==S&&(p.tokens=S),_.value&&null!==_.value&&""!==_.value){(-1!==_.value.indexOf(".$i.")||-1!==_.value.indexOf(".$j.")||-1!==_.value.indexOf(".$k."))&&console.log(_.value,p.ancestory);var z=_.value.split("$i"),Y=z.map(function(ot,pt){return p.ancestory[1*pt+(3+(0===pt?0:3))]}),de=z.reduce(function(ot,pt,Tt){return[].concat((0,A.A)(ot),[0===Tt?"":Tt-1<Y.length?"".concat(Y[Tt-1]):"",pt])},[]).join("");console.log("path",de);var ge=p.replaceTokens(de);p.formControl.setValue(ge);var be=p.tokenizerService.discoverTokens(ge,!0);if(0!==be.length)if(be[0].trim().lastIndexOf(".id")===be[0].trim().length-3){var me=ur();p.formControl.setValue(me),p.value$.next(me)}else{var Pe=Array.from(S).filter(function(ot){return 0===(0,k.A)(ot,1)[0].indexOf(de.substr(1,de.length-2))});if(0!==Pe.length){var qe=Pe.reduce(function(ot,pt){var Tt=(0,k.A)(pt,2),Lt=Tt[0],mt=Tt[1];return(0,g.A)((0,g.A)({},ot),{},(0,c.A)({},Lt.substr(Lt.lastIndexOf(".")+1),mt))},{});p.formControl.setValue(qe),p.value$.next(qe)}else{var dt=p.tokenizerService.replaceTokens(_.value,new Map(Array.from(be).map(function(ot){return[ot,""]})));p.formControl.setValue(dt),p.value$.next(dt)}}else p.value$.next(ge)}else p.formControl.setValue("")}),(0,pn.s)(1)).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"panes",set:function(t){this.panes$.next(t)}},{key:"originPanes",set:function(t){this.originPanes$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"settingsToObject",value:function(t){return new Qy(t)}},{key:"replaceTokens",value:function(t){return void 0!==this.tokens&&this.tokens.forEach(function(s,u){t=t.split("[".concat(u,"]")).join("".concat(s))}),t}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","druid-forms-form-element-base",""]],inputs:{tokens:"tokens",settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",resolvedContext:"resolvedContext",ancestory:"ancestory"},standalone:!1}),r}(),Pq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-input"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matInput","",3,"formControl"],[4,"ngIf"],[3,"validators","errors","resolvedContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275element(1,"input",0),a.\u0275\u0275template(2,_q,2,3,"mat-error",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.formControl.invalid))},dependencies:[y.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,jt.MatInput,jt.MatFormField,jt.MatError,vq],encapsulation:2}),r}(),Iq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-select"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",0),a.\u0275\u0275template(2,bq,2,2,"mat-option",1),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,2,t.options$)))},dependencies:[y.NgForOf,f.NgControlStatus,f.FormControlDirective,Er.MatOption,jt.MatFormField,fa.MatSelect,y.AsyncPipe],encapsulation:2}),r}(),Tq=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.attributeSerializer=e,this.fb=t,this.controlContainer=s,this.panes=[],this.originMappings=[],this.ancestory=[],this.add$=new T.B,this.remove$=new T.B,this.panes$=new M.t([]),this.settings$=new T.B,this.resolvedContext$=new T.B,this.panel$=new T.B,this.afterViewInit$=new T.B,this.addSub=this.add$.pipe((0,fe.T)(function(){return new Dr(u.panes[0])}),(0,X.M)(function(){return u.panesFormArray.push(u.fb.control(""))}),(0,X.M)(function(l){return u.panes.push(l)})).subscribe(),this.removeSub=this.remove$.pipe((0,X.M)(function(l){return u.panesFormArray.removeAt(l)}),(0,X.M)(function(l){return u.panes.splice(l,1)})).subscribe(),this.populateDefaultValues=(0,zn.z)([this.settings$.pipe((0,fe.T)(function(l){return l?new kq(u.attributeSerializer.deserializeAsObject(l)):void 0})),this.resolvedContext$,this.panel$,this.afterViewInit$]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,3);return{s:d[0],rc:d[1],p:d[2]}}),(0,X.M)(function(l){return console.log(l.s.valuesMapping,u.ancestory)}),(0,fe.T)(function(l){var d=l.s,p=l.rc,h=l.p;if(p&&d&&d.valuesMapping&&""!==d.valuesMapping.trim()){var _=d.valuesMapping.split("[$i]"),S=_.map(function(z,Y){return u.ancestory[1*Y+3]}),P=_.reduce(function(z,Y,de){return[].concat((0,A.A)(z),[0===de?"":de-1<S.length?"[".concat(S[de-1],"]"):"",Y])},[]).join("");return console.log("path",P),{items:(0,jo.JSONPath)({path:"$.".concat(P,".*"),json:p}),s:d,p:h}}return{items:[],p:h}}),(0,X.M)(function(l){for(var p=l.items.length-u.panesFormArray.length,h=0;h<p;h++)u.add$.next(void 0)})).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"panel",set:function(t){this.panel$.next(t)}},{key:"panesFormArray",get:function(){return this.controlContainer.control.get("panes")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-section"]],inputs:{panes:"panes",originPanes:"originPanes",originMappings:"originMappings",ancestory:"ancestory",settings:"settings",resolvedContext:"resolvedContext",panel:"panel"},standalone:!1,decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","panes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","pluginName","settings","name","label","contexts","panes","resolvedContext","indexPosition","ancestory"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0)(1,1),a.\u0275\u0275template(2,Aq,4,10,"div",2),a.\u0275\u0275elementContainerEnd()(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.add$.next(void 0)}),a.\u0275\u0275text(4,"Add Item"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.panes))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,Ad],encapsulation:2}),r}(),Rq=function(){var o,r=function(n){function e(t,s,u,l,d,p){var h;return(0,v.A)(this,e),(h=(0,w.A)(this,e,[t,s,u,l,d,p])).cols=20,h.rows=20,h}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-textarea"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"formControl","cols","rows"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"textarea",0),2&e&&a.\u0275\u0275property("formControl",t.formControl)("cols",t.cols)("rows",t.rows)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective],encapsulation:2}),r}(),Mq=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Re.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){return"pane"===s?this.toObject(t).pipe((0,We.n)(function(l){return er(function(){return l.datasourceBinding&&l.datasourceBinding.id&&null!==l.datasourceBinding.id},(0,Re.of)([l.datasourceBinding]),(0,Re.of)([]))})):(0,Re.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(new Qy(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Re.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),BE=function(){var o,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,F.A)(e,n),(0,m.A)(e)}(Mq);return(o=r).\u0275fac=function(){var n;return function(t){return(n||(n=a.\u0275\u0275getInheritedFactory(o)))(t||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Xi=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.attributeSerializer=l,this.datasourceOptions=Qv,this.validation=new Ed({validators:[]}),this.bindableOptions=[],this.formGroup=this.fb.group({value:this.fb.control(""),datasourceOptions:this.fb.control(""),validation:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})}),this.paneIndex=e.paneIndex,this.pane=e.pane},[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var t=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(s){var u;console.log("Form Editor Data Pane Data",s),t.formGroup.patchValue({value:s.value,datasourceOptions:s.datasourceOptions||Qv,datasourceBinding:{id:(null===(u=s.datasourceBinding)||void 0===u?void 0:u.id)||"",type:"pane"}}),t.datasourceOptions=s.datasourceOptions||Qv,t.validation=new Ed(s.validation?s.validation:{validators:[]})}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Dr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):s},[])}},{key:"submit",value:function(){var t=this;console.log(this.formGroup.value);var s=new Qy(this.formGroup.value);console.log("losing options debug",s),this.paneGroup.get("settings").clear(),this.handler.buildSettings(s).map(function(l){return t.attributeSerializer.convertToGroup(l)}).forEach(function(l){return t.paneGroup.get("settings").push(l)}),this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(BE),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-element-editor"]],inputs:{bindableOptions:"bindableOptions"},standalone:!1,decls:17,vars:3,consts:[[3,"ngSubmit","formGroup"],["fxLayout","column"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions"],["formControlName","validation",3,"validation"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"div")(3,"mat-form-field")(4,"mat-label"),a.\u0275\u0275text(5,"Value"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"mat-form-field",3)(8,"mat-label"),a.\u0275\u0275text(9,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-select",4),a.\u0275\u0275template(11,Cq,2,2,"mat-option",5),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(12,"classifieds-ui-datasource-options",6)(13,"druid-ordain-validation-editor",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-dialog-actions")(15,"button",8),a.\u0275\u0275text(16,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngForOf",t.bindableOptions),a.\u0275\u0275advance(2),a.\u0275\u0275property("validation",t.validation))},dependencies:[y.NgForOf,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,Er.MatOption,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,B5,hq],encapsulation:2}),r}(),Nq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-radiogroup"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-radio-group",0),a.\u0275\u0275template(1,xq,2,2,"mat-radio-button",1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,t.options$)))},dependencies:[y.NgForOf,f.NgControlStatus,f.FormControlDirective,zf.MatRadioGroup,zf.MatRadioButton,y.AsyncPipe],encapsulation:2}),r}(),Vq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-slider"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"],["matSliderThumb",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-slider",0),a.\u0275\u0275element(1,"input",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formControl",t.formControl)},dependencies:[f.NgControlStatus,f.FormControlDirective,OE.MatSlider,OE.MatSliderThumb],encapsulation:2}),r}(),Oq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-toggle"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-slide-toggle",0),a.\u0275\u0275text(1,"Toggle Label"),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formControl",t.formControl)},dependencies:[f.NgControlStatus,f.FormControlDirective,yq.MatSlideToggle],encapsulation:2}),r}(),Bq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-checkbox"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"mat-checkbox",0),2&e&&a.\u0275\u0275property("formControl",t.formControl)},dependencies:[f.NgControlStatus,f.FormControlDirective,Yc.MatCheckbox],encapsulation:2}),r}(),Lq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-datepicker"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[["picker",""],["appearance","fill"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"]],template:function(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-label"),a.\u0275\u0275text(2,"Choose a date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"input",2)(4,"mat-datepicker-toggle",3)(5,"mat-datepicker",null,0),a.\u0275\u0275elementEnd()),2&e){var s=a.\u0275\u0275reference(6);a.\u0275\u0275advance(3),a.\u0275\u0275property("matDatepicker",s)("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("for",s)}},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,Wy.MatDatepicker,Wy.MatDatepickerInput,Wy.MatDatepickerToggle,jt.MatInput,jt.MatFormField,jt.MatLabel,jt.MatSuffix],encapsulation:2}),r}(),jq=function(){var o,r=function(n){function e(t,s,u,l,d,p){var h;return(0,v.A)(this,e),(h=(0,w.A)(this,e,[t,s,u,l,d,p])).proxyControl=new f.UntypedFormControl(""),h.optionSelected$=new T.B,h.proxyControlValueChangesSub=h.proxyControl.valueChanges.pipe((0,Ln.B)(1e3),(0,Ao.F)(),ii((0,zn.z)([h.formSettings$,h.panes$,h.originPanes$,h.contexts$]).pipe((0,fe.T)(function(_){var S=(0,k.A)(_,4);return{settings:S[0],panes:S[1],originPanes:S[2],contexts:S[3]}}))),(0,fe.T)(function(_){var S=(0,k.A)(_,2),P=S[0],B=S[1],Y=B.panes,de=B.originPanes,ge=B.contexts;return{term:P,settings:B.settings,metadata:new Map([["panes",[].concat((0,A.A)(Y&&Array.isArray(Y)?Y:[]),(0,A.A)(de&&Array.isArray(de)?de:[]))],["contexts",ge],["inputparams",new Map([["term",new ma({flags:[],mapping:new K1({value:P,testValue:P,type:"static",context:void 0})})]])]])}}),(0,We.n)(function(_){return h.optionsResolver.resolveElementOptions(_.settings,_.metadata)}),(0,X.M)(function(_){return h.options$.next(_)})).subscribe(),h.optionSelectedSub=h.optionSelected$.pipe((0,X.M)(function(_){return h.formControl.setValue(_.option&&_.option.value?_.option.value.value:"")})).subscribe(),h.displayAuto=function(_){return _.label},h}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-autocomplete"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[["autocomplete","matAutocomplete"],["matInput","",3,"matAutocomplete","formControl"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-label"),a.\u0275\u0275text(2,"Autocomplete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementStart(4,"mat-autocomplete",2,0),a.\u0275\u0275listener("optionSelected",function(d){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.optionSelected$.next(d))}),a.\u0275\u0275template(6,Sq,2,2,"mat-option",3),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275elementEnd()()}if(2&e){var u=a.\u0275\u0275reference(5);a.\u0275\u0275advance(3),a.\u0275\u0275property("matAutocomplete",u)("formControl",t.proxyControl),a.\u0275\u0275advance(),a.\u0275\u0275property("displayWith",t.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,4,t.options$))}},dependencies:[y.NgForOf,f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,Er.MatAutocomplete,Er.MatOption,Er.MatAutocompleteTrigger,jt.MatInput,jt.MatFormField,jt.MatLabel,y.AsyncPipe],encapsulation:2}),r}(),Uq=function(){var o,r=function(n){function e(t,s,u,l,d,p,h){var _;return(0,v.A)(this,e),(_=(0,w.A)(this,e,[t,s,l,d,p,h])).files=[],_.select$=new T.B,_.selectSub=_.select$.pipe((0,X.M)(function(S){return console.log(S)}),(0,ws.Z)(function(S){return _.filesService.bulkUpload({files:[S.addedFiles[0]]}).pipe((0,fe.T)(function(P){return{mfs:P,e:S}}))}),(0,X.M)(function(S){return _.formControl.setValue(S.mfs[0])}),(0,X.M)(function(S){var P;return(P=_.files).push.apply(P,(0,A.A)(S.e.addedFiles))})).subscribe(),_.valueSub=_.value$.pipe((0,te.p)(function(S){return"object"==typeof S}),(0,fe.T)(function(S){return new wv(S)}),(0,X.M)(function(S){console.log("populate value",S)}),(0,We.n)(function(S){return _.filesService.convertToFiles([S])}),(0,X.M)(function(S){console.log("populate as file",S),_.files=S})).subscribe(),_.filesService=u,_}return(0,F.A)(e,n),(0,m.A)(e,[{key:"onSelect",value:function(s){this.select$.next(s)}},{key:"onRemove",value:function(s){console.log(s),this.formControl.setValue(""),this.files.splice(this.files.indexOf(s),1)}},{key:"isType",value:function(s,u){switch(u){case"image":return this.filesService.isImage({file:s});case"video":return this.filesService.isVideo({file:s});default:return!1}}}])}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(df),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-media"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[3,"change"],[4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngIf"],[3,"removable","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","file","removable"],[3,"removed","removable"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"ngx-dropzone",0),a.\u0275\u0275listener("change",function(u){return t.onSelect(u)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2,"Drop it, baby!"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,Fq,4,3,"ng-container",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.files))},dependencies:[y.NgForOf,y.NgIf,Vf,bS,Zl,CS,S9],encapsulation:2}),r}(),Gq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,d,p])}return(0,F.A)(e,n),(0,m.A)(e)}(Qi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(Wn),a.\u0275\u0275directiveInject(Vi),a.\u0275\u0275directiveInject(Za),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-hidden"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),zq=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var t=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(s){console.log("formly repeating editor form"),console.log(t.attributeSerializer.convertToGroup(s)),t.data.panelFormGroup.get("settings").push(t.attributeSerializer.convertToGroup(s))})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-form-section-editor"]],standalone:!1,decls:8,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Values Mapping"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"button",2),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("disabled",!t.formGroup.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),$q=function(r){return new Xt.ContentPlugin({id:"form_input",title:"Form Input",selectionComponent:void 0,editorComponent:Xi,renderComponent:Pq,handler:r.handler})},Hq=function(r){return new Xt.ContentPlugin({id:"form_select",title:"Form Select",selectionComponent:void 0,editorComponent:Xi,renderComponent:Iq,handler:r.handler})},Kq=function(r){return new Xt.ContentPlugin({id:"form_radiogroup",title:"Form Radiogroup",selectionComponent:void 0,editorComponent:Xi,renderComponent:Nq,handler:r.handler})},qq=function(r){return new Xt.ContentPlugin({id:"form_textarea",title:"Form Textarea",selectionComponent:void 0,editorComponent:Xi,renderComponent:Rq,handler:r.handler})},Wq=function(r){return new Xt.ContentPlugin({id:"form_slider",title:"Form Slider",selectionComponent:void 0,editorComponent:Xi,renderComponent:Vq,handler:r.handler})},Qq=function(r){return new Xt.ContentPlugin({id:"form_toggle",title:"Form Toggle",selectionComponent:void 0,editorComponent:Xi,renderComponent:Oq,handler:r.handler})},Xq=function(r){return new Xt.ContentPlugin({id:"form_checkbox",title:"Form Checkbox",selectionComponent:void 0,editorComponent:Xi,renderComponent:Bq,handler:r.handler})},Yq=function(r){return new Xt.ContentPlugin({id:"form_datepicker",title:"Form Datepicker",selectionComponent:void 0,editorComponent:Xi,renderComponent:Lq,handler:r.handler})},Jq=function(r){return new Xt.ContentPlugin({id:"form_autocomplete",title:"Form Autocomplete",selectionComponent:void 0,editorComponent:Xi,renderComponent:jq,handler:r.handler})},Zq=function(r){return new Xt.ContentPlugin({id:"form_media",title:"Form Media",selectionComponent:void 0,editorComponent:Xi,renderComponent:Uq,handler:r.handler})},eW=function(r){return new Xt.ContentPlugin({id:"form_hidden",title:"Form Hidden",selectionComponent:void 0,editorComponent:Xi,renderComponent:Gq,handler:r.handler})},nW=function(){var o,r=(0,m.A)(function n(e,t,s){(0,v.A)(this,n),[$q({handler:s}),Hq({handler:s}),qq({handler:s}),Kq({handler:s}),Wq({handler:s}),Qq({handler:s}),Xq({handler:s}),Yq({handler:s}),Jq({handler:s}),Zq({handler:s}),eW({handler:s})].forEach(function(u){return e.register(u)}),[new Rf({id:"form_section",name:"form_section",title:"Form Section",editorComponent:zq,renderComponent:Tq})].forEach(function(u){return t.register(u)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(Xl),a.\u0275\u0275inject(BE))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,Oy,Su,Of,VE]}),r}(),rW=new a.InjectionToken("AlienaliasSettings"),iW=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.openSearchDomain=r.openSearchDomain)}),lW=["mfeReactComponent"],cW=function(){var o,r=function(){return(0,m.A)(function n(){(0,v.A)(this,n)},[{key:"ngOnChanges",value:function(t){this.render()}},{key:"ngAfterViewInit",value:function(){this.render()}},{key:"ngOnDestroy",value:function(){}},{key:"render",value:function(){this.component()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-mfe-react"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(lW,5),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.containerRef=s.first)},inputs:{component:"component"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["mfeReactComponent",""]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"span",null,0)},encapsulation:2}),r}(),dW=["appContainer"],Xy=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.type=r.type&&""!==r.type?r.type:"module",this.remoteEntry=r.remoteEntry,this.componentName=r.componentName,this.exposedModule=r.exposedModule,this.remoteName=r.remoteName&&""!==r.remoteName?r.remoteName:void 0)}),LE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Re.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Re.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){return(0,Re.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Re.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Re.of)([])}},{key:"toObject",value:function(t){return(0,Re.of)(new Xy(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Re.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(t){return(0,Re.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),pW=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.attributeSerializer=l,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("module",[f.Validators.required]),remoteEntry:this.fb.control("",[f.Validators.required]),exposedModule:this.fb.control("",[f.Validators.required]),componentName:this.fb.control("",[f.Validators.required]),remoteName:this.fb.control("")}),this.paneIndex=e.paneIndex,this.pane=e.pane},[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var t=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.formGroup.get("type").setValue(s.type&&""!==s.type?s.type:"module"),t.formGroup.get("remoteEntry").setValue(s.remoteEntry),t.formGroup.get("exposedModule").setValue(s.exposedModule),t.formGroup.get("componentName").setValue(s.componentName),t.formGroup.get("remoteName").setValue(s.remoteName)}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Dr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):(0,A.A)(s)},[])}},{key:"submit",value:function(){var t=this;console.log(this.formGroup.value);var s=new Xy(this.formGroup.value);console.log(s),this.paneGroup.get("settings").clear(),this.handler.buildSettings(s).map(function(l){return t.attributeSerializer.convertToGroup(l)}).forEach(function(l){return t.paneGroup.get("settings").push(l)}),this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(LE),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-outsider-outside-app-editor"]],inputs:{bindableOptions:"bindableOptions"},standalone:!1,decls:32,vars:1,consts:[[3,"ngSubmit","formGroup"],["formControlName","type","required",""],["value","module"],["value","script"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","componentName","required",""],["matInput","","formControlName","remoteName"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),a.\u0275\u0275text(7,"Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-option",3),a.\u0275\u0275text(9,"Script"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(10,"div")(11,"mat-form-field")(12,"mat-label"),a.\u0275\u0275text(13,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(14,"input",4),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(15,"div")(16,"mat-form-field")(17,"mat-label"),a.\u0275\u0275text(18,"Exposed Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(19,"input",5),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(20,"div")(21,"mat-form-field")(22,"mat-label"),a.\u0275\u0275text(23,"Component Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(24,"input",6),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(25,"div")(26,"mat-form-field")(27,"mat-label"),a.\u0275\u0275text(28,"Remote Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(29,"input",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(30,"button",8),a.\u0275\u0275text(31,"Save"),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[Er.MatOption,Gr.MatButton,Bt.MatDialogClose,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName],encapsulation:2}),r}(),fW=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,v.A)(this,n),this.attributeSerializer=e,this.objectSettings$=new M.t(void 0),this.contexts$=new M.t([]),this.settings$=new M.t([]),this.settingsSub=this.settings$.pipe((0,fe.T)(function(s){return s?new Xy(t.attributeSerializer.deserializeAsObject(s)):void 0}),(0,X.M)(function(s){return t.objectSettings$.next(s)})).subscribe(),this.renderAppSub=this.objectSettings$.pipe((0,nc.i)(1),(0,We.n)(function(s){return new G.c(function(u){(0,ac.loadRemoteModule)(s.type&&"script"!==s.type?{type:"module",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule}:{type:"script",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule,remoteName:s.remoteName}).then(function(l){u.next(l[s.componentName&&""!==s.componentName?s.componentName:"default"]),u.complete()})}).pipe((0,fe.T)(function(u){return{s,c:u}}))}),(0,X.M)(function(s){var u=s.s,l=s.c;t.viewContainer.clear(),u.type&&"script"!==u.type?t.viewContainer.createComponent(l):t.viewContainer.createComponent(cW).instance.component=l})).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-outsider-outside-app-renderer"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(dW,7,a.ViewContainerRef),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.viewContainer=s.first)},inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:0,consts:[["appContainer",""]],template:function(e,t){1&e&&a.\u0275\u0275elementContainer(0,null,0)},encapsulation:2}),r}(),gW=function(){var o,r=(0,m.A)(function n(e,t){(0,v.A)(this,n),e.register(function(r){return new Xt.ContentPlugin({id:"outside_app",title:"Outside App",selectionComponent:void 0,editorComponent:pW,renderComponent:fW,handler:r.handler})}({handler:t}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(LE))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,pa.MaterialModule,f.ReactiveFormsModule]}),r}(),jE=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.context$=new M.t(void 0),this.formGroup=this.fb.group({remoteEntry:this.fb.control("",[f.Validators.required]),exposedModule:this.fb.control("",[f.Validators.required]),moduleName:this.fb.control("",[f.Validators.required])}),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.context$.subscribe(function(s){t.formGroup.setValue(s?{remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule,moduleName:s.data.moduleName}:{remoteEntry:"",exposedModule:"",moduleName:""})})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-module-form"]],inputs:{context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","moduleName","required",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),a.\u0275\u0275text(9,"Exposed Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(11,"div")(12,"mat-form-field")(13,"mat-label"),a.\u0275\u0275text(14,"Module Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(15,"input",3),a.\u0275\u0275elementEnd()()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),hW=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",f.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-module-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(jE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextModuleFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-module-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("context",t.context))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,jE],encapsulation:2}),r}(),vW=function(){var o,r=(0,m.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.actions$=e,this.moduleLoaderService=t,this.es=s,this.setPage$=si(function(){return u.actions$.pipe(So(vy),(0,X.M)(function(l){var d=l.page;console.log("tractor beam capture page",d),d.contexts&&Array.isArray(d.contexts)&&d.contexts.forEach(function(p){if("module"===p.plugin)return u.moduleLoaderService.loadModule(function(){return(0,ac.loadRemoteModule)({type:"module",remoteEntry:p.data.remoteEntry,exposedModule:p.data.exposedModule}).then(function(h){return h[p.data.moduleName]})}).subscribe()})}))},{dispatch:!1}),this.setPageInfo$=si(function(){return u.actions$.pipe(So(hy),(0,X.M)(function(l){console.log("tractor beam info",l.info)}),(0,We.n)(function(l){var d=l.info;return u.es.getEntityCollectionService("PanelPage").getByKey(d.id)}),(0,X.M)(function(l){l.contexts&&Array.isArray(l.contexts)&&l.contexts.forEach(function(d){if("module"===d.plugin)return u.moduleLoaderService.loadModule(function(){return(0,ac.loadRemoteModule)({type:"module",remoteEntry:d.data.remoteEntry,exposedModule:d.data.exposedModule}).then(function(p){return p[d.data.moduleName]})}).subscribe()})}))},{dispatch:!1})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ks),a.\u0275\u0275inject(cn.ModuleLoaderService),a.\u0275\u0275inject(_r))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),UE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,v.A)(this,n),this.moduleLoaderService=e},[{key:"resolve",value:function(t,s,u){return console.log("module resolver context",t,s,u),this.moduleLoaderService.loadModule(function(){return(0,ac.loadRemoteModule)({type:"module",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule}).then(function(l){return l[s.moduleName]})})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),_W=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,v.A)(this,n),this.moduleLoader=e,this.pageBuilderFacade=t,this.es=s},[{key:"loadPlugins",value:function(){var t=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,X.M)(function(){return console.log("started loading external modules")}),(0,We.n)(function(s){return(s&&s.id?t.es.getEntityCollectionService("PanelPage").getByKey(s.id):(0,Re.of)(void 0)).pipe((0,qr.U)(void 0))}),(0,We.n)(function(s){return s?(0,bn.p)(s.contexts.filter(function(u){return"module"===u.plugin}).map(function(u){return t.moduleLoader.loadModule(function(){return(0,ac.loadRemoteModule)({type:"module",remoteEntry:u.data.remoteEntry,exposedModule:u.data.exposedModule}).then(function(l){return l[u.data.moduleName]})})})).pipe((0,lr.c)(1),(0,qr.U)([])):(0,Re.of)([])}),(0,X.M)(function(){return console.log("completed loading external modules")}),(0,fe.T)(function(){return!0}),(0,pn.s)(1))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cn.ModuleLoaderService),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(_r))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),bW=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,v.A)(this,n),t.addDiscovery(u),e.register(function(r){return new Lo({id:"module",name:"module",title:"Module",baseObject:{},resolver:r.moduleResolver,editorComponent:hW})}({moduleResolver:s}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fs),a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(UE),a.\u0275\u0275inject(_W))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[UE],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,$l,pa.MaterialModule,_c.forFeature([vW])]}),r}(),AW=(0,m.A)(function o(r){(0,v.A)(this,o),r&&(this.appId=r.appId,this.guestRoleArn=r.guestRoleArn,this.region=r.region,this.identityPoolId=r.identityPoolId)}),CW=new a.InjectionToken("RumSettings"),GE=[["bb66aa62-8635-4015-86c9-ba4f208b0856","/native_forms_rebuild_v1"],["888b9746-9cc1-43dc-8edb-1868e64b36a5","/test-2025"],["5494f47d-473c-49b4-bbef-f563be722131","/plugin-amcharts-refs-test-1"],["8ebbcdb3-300f-4739-8cb3-6c5d4c402638","/am-charts-visual-editor-bar-chart-test"],["63a4219d-254e-11ec-ab14-c613312e594f","/dev-test-virtual-list-flex-v1"],["c38d4c9a-c2c7-4d9a-9d89-6a5c5425a372","/justwork"]],xW=[{contexts:[{adaptor:"data",data:{exposedModule:"./GalleryModule",moduleName:"GalleryModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"gallery",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"0340ec29-fc39-4d4a-92ba-09caa0fb9d8f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-gallery-int",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[{contentPlugin:"gallery_gallery_item",contexts:[],label:"gallery",locked:!1,name:"gallery",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"bindingOption",name:"bindingOption",type:1,value:"data"},{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"[.type]",displayName:"typeMapping",name:"typeMapping",type:1,value:"[.type]"},{attributes:[],computedValue:"[.src]",displayName:"imageMapping",name:"imageMapping",type:1,value:"[.src]"}]},{contentPlugin:"datasource",contexts:[],label:"Data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'{"images":[\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"}\n]}',displayName:"data",name:"data",type:1,value:'{"images":[\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"}\n]}'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectMedia",displayName:"id",name:"id",type:1,value:"selectMedia"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Media",locked:!1,name:"selectMedia",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$.images.*",displayName:"query",name:"query",type:1,value:"$.images.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/test-gallery-int",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",name:"direction",type:1,value:""}]}],site:"spearhead",title:"Test Gallery int",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"rest",name:"ad",plugin:"rest",rest:{body:{content:"{}",contentType:"application/json"},method:"get",params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"de35f42f-a551-11f0-89d0-1ac36c6edc87",type:"route",value:"arg1"}}],url:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id"}},{adaptor:"data",data:{exposedModule:"./GalleryModule",moduleName:"GalleryModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"gallery",plugin:"module"}],cssFile:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/media/test.css",displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"0904fb75-1311-4763-b6e3-043239fb3a89",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"Search Form",locked:!1,name:"searchForm",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Search Phrase",displayName:"Content",name:"content",type:1,value:"Search Phrase"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"textSearchLabel",displayName:"name",name:"name",type:1,value:"textSearchLabel"},{attributes:[],computedValue:"Text Search Label",displayName:"label",name:"label",type:1,value:"Text Search Label"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"textSearch",displayName:"name",name:"name",type:1,value:"textSearch"},{attributes:[],computedValue:"Text Search",displayName:"label",name:"label",type:1,value:"Text Search"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"title": "All", "value": ""},\n{"title": "1", "value": "1"},\n{"title": "1.5", "value": "1.5"},\n{"title": "2", "value": "2"},\n{"title": "2.5", "value": "2.5"},\n{"title": "3", "value": "3"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"title": "All", "value": ""},\n{"title": "1", "value": "1"},\n{"title": "1.5", "value": "1.5"},\n{"title": "2", "value": "2"},\n{"title": "2.5", "value": "2.5"},\n{"title": "3", "value": "3"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"beds",displayName:"name",name:"name",type:1,value:"beds"},{attributes:[],computedValue:"Beds",displayName:"label",name:"label",type:1,value:"Beds"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Beds",displayName:"Content",name:"content",type:1,value:"Beds"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"bedsSearchLabel",displayName:"name",name:"name",type:1,value:"bedsSearchLabel"},{attributes:[],computedValue:"Beds Search Label",displayName:"label",name:"label",type:1,value:"Beds Search Label"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"3",name:"3",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"beds",displayName:"id",name:"id",type:1,value:"beds"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.title]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.title]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"bedsSearch",displayName:"name",name:"name",type:1,value:"bedsSearch"},{attributes:[],computedValue:"Beds Search",displayName:"label",name:"label",type:1,value:"Beds Search"},{attributes:[],computedValue:"form_select",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_select"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"4",name:"4",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"rest",displayName:"adaptor",name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id",displayName:"url",name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id"},{attributes:[],computedValue:"get",displayName:"method",name:"method",type:1,value:"get"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"de35f42f-a551-11f0-89d0-1ac36c6edc87",displayName:"testValue",name:"testValue",type:1,value:"de35f42f-a551-11f0-89d0-1ac36c6edc87"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:"{}",displayName:"content",name:"content",type:1,value:"{}"},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"}],computedValue:null,displayName:"body",name:"body",type:2,value:null}],computedValue:null,displayName:"rest",name:"rest",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"gallery",displayName:"name",name:"name",type:1,value:"gallery"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"module",displayName:"plugin",name:"plugin",type:1,value:"module"},{attributes:[{attributes:[],computedValue:"http://localhost:3000/remoteEntry.js",displayName:"remoteEntry",name:"remoteEntry",type:1,value:"http://localhost:3000/remoteEntry.js"},{attributes:[],computedValue:"./GalleryModule",displayName:"exposedModule",name:"exposedModule",type:1,value:"./GalleryModule"},{attributes:[],computedValue:"GalleryModule",displayName:"moduleName",name:"moduleName",type:1,value:"GalleryModule"}],computedValue:null,displayName:"data",name:"data",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"searchForm",displayName:"name",name:"name",type:1,value:"searchForm"},{attributes:[],computedValue:"Search Form",displayName:"title",name:"title",type:1,value:"Search Form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",name:"type",type:1,value:"form"},{attributes:[],computedValue:"searchForm.textSearch",displayName:"value",name:"value",type:1,value:"searchForm.textSearch"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",name:"type",type:1,value:"form"},{attributes:[],computedValue:"searchForm.bedsSearch",displayName:"value",name:"value",type:1,value:"searchForm.bedsSearch"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t },\n"bool": {\n  "all": [\n    {\n       "matchPhrase": {\n          "field": "description",\n          "value": "[:textSearch]"\n      }\n    },\n   {\n      "filter": {\n        "field": "property.bedrooms",\n         "value": "[:bedsSearch]"\n      }\n   }\n  ]\n}\n}}',displayName:"content",name:"content",type:1,value:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t },\n"bool": {\n  "all": [\n    {\n       "matchPhrase": {\n          "field": "description",\n          "value": "[:textSearch]"\n      }\n    },\n   {\n      "filter": {\n        "field": "property.bedrooms",\n         "value": "[:bedsSearch]"\n      }\n   }\n  ]\n}\n}}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectHits",displayName:"id",name:"id",type:1,value:"selectHits"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"adDescription",displayName:"id",name:"id",type:1,value:"adDescription"}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Hits",locked:!1,name:"selectHits",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$[0].hits.*",displayName:"query",name:"query",type:1,value:"$[0].hits.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"snippet",contexts:[],label:"Ad Description",locked:!1,name:"adDescription",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<classifieds-ui-page-router-link href="[_page.path]/listing/[.id]" text="[.title]"></classifieds-ui-page-router-link>',displayName:"Content",name:"content",type:1,value:'<classifieds-ui-page-router-link href="[_page.path]/listing/[.id]" text="[.title]"></classifieds-ui-page-router-link>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"gallery_gallery_item",contexts:[],label:"Gallery",locked:!1,name:"gallery",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"galleryDummyData",displayName:"bindingOption",name:"bindingOption",type:1,value:"galleryDummyData"},{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"[.type]",displayName:"typeMapping",name:"typeMapping",type:1,value:"[.type]"},{attributes:[],computedValue:"[.src]",displayName:"imageMapping",name:"imageMapping",type:1,value:"[.src]"},{attributes:[],computedValue:"undefined",displayName:"videoMapping",name:"videoMapping",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"youtubeMapping",name:"youtubeMapping",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"iframeMapping",name:"iframeMapping",type:0,value:"undefined"}]},{contentPlugin:"datasource",contexts:[],label:"Gallery Dummy Data",locked:!1,name:"galleryDummyData",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"context",displayName:"plugin",name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectImages",displayName:"id",name:"id",type:1,value:"selectImages"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Images",locked:!1,name:"selectImages",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$[0].photos.*",displayName:"query",name:"query",type:1,value:"$[0].photos.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"title",locked:!1,name:"title",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"<h2>[ad.title]</h2>",displayName:"Content",name:"content",type:1,value:"<h2>[ad.title]</h2>"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]},{contentPlugin:"snippet",contexts:[],label:"Description",locked:!1,name:"description",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"[ad.description]",displayName:"Content",name:"content",type:1,value:"[ad.description]"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"mapping",name:"mapping",type:1,value:""}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"labels",name:"labels",type:4,value:null}],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",name:"direction",type:1,value:""}]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"200e4ab8-922c-4a9c-a760-77bce3facf92",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hedge-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"This is a hedge compatibility test. Modified.",displayName:"Content",name:"content",type:1,value:"This is a hedge compatibility test. Modified."},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hedge-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hedge Test",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"286f9a5e-196d-4812-bd8a-235a164a1a97",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"2d94ada8-53f4-4e45-b7e5-8c07c796856d",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"testDatasourceSelectv1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'{"options": [\n{"label": "one", "value":"1"},\n{"label": "two", "value":"2"},\n{"label": "three", "value":"3"}\n]}',displayName:"data",name:"data",type:1,value:'{"options": [\n{"label": "one", "value":"1"},\n{"label": "two", "value":"2"},\n{"label": "three", "value":"3"}\n]}'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectOptions",displayName:"id",name:"id",type:1,value:"selectOptions"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.label]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.label]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"",displayName:"multiple",name:"multiple",type:1,value:""},{attributes:[],computedValue:"",displayName:"limit",name:"limit",type:1,value:""}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Options",locked:!1,name:"selectOptions",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$.options.*",displayName:"query",name:"query",type:1,value:"$.options.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-datasource-select-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Datasource Select v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"37ebba18-506d-41c4-bff7-b6ef0affa67d",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'\n  {"query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}\n}',displayName:"content",name:"content",type:1,value:'\n  {"query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}\n}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World!",displayName:"Content",name:"content",type:1,value:"Hello World!"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"41cc92a0-bd34-4c06-a386-bd61b89bced8",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}}',displayName:"content",name:"content",type:1,value:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"https://rollthecloudinc.github.io/plugin-amcharts5-build/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"479f66de-7468-47fa-a649-9fd476b754ab",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_amcharts5_plugin_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"amcharts5_json_chart",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[]}],settings:[],stylePlugin:""}],path:"/test-amcharts5-plugin-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test AmCharts5 Plugin v1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"5494f47d-473c-49b4-bbef-f563be722131",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[{attributes:[],computedValue:"column",displayName:"Direction",name:"direction",type:1,value:"column"}]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"name",name:"name",type:1,value:"data"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"},{attributes:[],computedValue:"undefined",displayName:"type",name:"type",type:0,value:"undefined"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"refs",name:"refs",type:4,value:null},{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"json",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]},{contentPlugin:"datasource",contexts:[],label:"data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]',displayName:"data",name:"data",type:1,value:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"1",displayName:"Flex Grow",name:"flexGrow",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Shrink",name:"flexShrink",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Basis",name:"flexBasis",type:1,value:"1"},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"row",displayName:"Direction",name:"direction",type:1,value:"row"}]},{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"rest",data:null,datasource:null,name:"character",plugin:"rest",rest:{params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"1017100",type:"route",value:"arg1"}}],url:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"63a4219d-254e-11ec-ab14-c613312e594f",layoutSetting:{settings:[]},layoutType:"split",name:"dev_test_virtual_list_flex_v1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"panel",label:"filter Form",linkedPageId:"",locked:!1,name:"filter_form",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"filter_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"filter_form"},{attributes:[],computedValue:"filter form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"filter form"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"datasource",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters?apikey=12097554cc585301fc38efd51b21fb06&orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters?apikey=12097554cc585301fc38efd51b21fb06&orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"20",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"20"},{attributes:[],computedValue:"20",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"20"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"0"},{attributes:[],computedValue:"0",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"0"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"form"},{attributes:[],computedValue:"filter_form.nameStartsWith",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"filter_form.nameStartsWith"},{attributes:[],computedValue:"john",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"x",displayName:"content",floatValue:0,intValue:0,name:"content",type:1,value:"x"},{attributes:[],computedValue:"application/json",displayName:"contentType",floatValue:0,intValue:0,name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",floatValue:0,intValue:0,name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",floatValue:0,intValue:0,name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"character_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"character_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"select_characters",linkedPageId:"",locked:!1,name:"select_characters",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"snippet",label:"character_tpl",linkedPageId:"",locked:!1,name:"character_tpl",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"panel",label:"276c66e1-286f-4a8f-9953-938f42f3fb36",linkedPageId:"",locked:!1,name:"276c66e1-286f-4a8f-9953-938f42f3fb36",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"# [character.data.results.0.name]\n[character.data.results.0.id]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"# [character.data.results.0.name]\n[character.data.results.0.id]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[character.data.results.0.description]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[character.data.results.0.description]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:""}]},label:"right_panel",name:"right_panel",panes:[{contentPlugin:"panel",label:"c40a5eba-1081-45f7-b02e-7102980d7a2e",linkedPageId:"",locked:!1,name:"c40a5eba-1081-45f7-b02e-7102980d7a2e",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Comics",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Comics"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"comic_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"comic_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_comics",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_comics"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.comics.items[0,1,2,3,4]",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.comics.items[0,1,2,3,4]"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_comics"},{attributes:[],computedValue:"select_comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_comics"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"comic_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comic_tpl"},{attributes:[],computedValue:"comic_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comic_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comics"},{attributes:[],computedValue:"comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comics"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1e704bb6-d886-4196-931b-70327374ef8d",linkedPageId:"",locked:!1,name:"1e704bb6-d886-4196-931b-70327374ef8d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Series",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Series"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab_title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab_title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"series_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"series_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_series",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_series"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.series.items.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.series.items.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_series",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_series"},{attributes:[],computedValue:"select_series",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_series"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"series_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"series_tpl"},{attributes:[],computedValue:"series_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"series_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1a3ad36e-b741-46d8-9d4b-500276778060",linkedPageId:"",locked:!1,name:"1a3ad36e-b741-46d8-9d4b-500276778060",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"58458438-44ef-4e53-a08f-e91bc0cede2d",linkedPageId:"",locked:!1,name:"58458438-44ef-4e53-a08f-e91bc0cede2d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:2,value:""},{attributes:[],computedValue:"",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:2,value:""},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[{attributes:[],computedValue:"0",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"labels",floatValue:0,intValue:0,name:"labels",type:4,value:""}],stylePlugin:"tabs"}],path:"/dev-test-virtual-list-flex-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}]}],site:"ipe",title:"Dev Test Virtual List Flex v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"6b4bc3f2-5138-491b-a718-e342f6828a62",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-simple-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Text",locked:!1,name:"text",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"required",displayName:"name",name:"name",type:1,value:"required"},{attributes:[],computedValue:"required",displayName:"validator",name:"validator",type:1,value:"required"},{attributes:[],computedValue:"field is required.",displayName:"overrideErrorMessage",name:"overrideErrorMessage",type:1,value:"field is required."}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}]},{contentPlugin:"form_textarea",contexts:[],label:"Textarea",locked:!1,name:"textarea",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_datepicker",contexts:[],label:"datepick",locked:!1,name:"datepick",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_checkbox",contexts:[],label:"checkbox",locked:!1,name:"checkbox",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_slider",contexts:[],label:"slider",locked:!1,name:"slider",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Nums",locked:!1,name:"nums",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"label": "One", "value": "1"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"label": "One", "value": "1"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"nums",displayName:"id",name:"id",type:1,value:"nums"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.label]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.label]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"",displayName:"multiple",name:"multiple",type:1,value:""},{attributes:[],computedValue:"",displayName:"limit",name:"limit",type:1,value:""}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}]},{contentPlugin:"form_toggle",contexts:[],label:"toggle",locked:!1,name:"toggle",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_hidden",contexts:[],label:"Id",locked:!1,name:"id",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"terms",locked:!1,name:"terms",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"required",displayName:"name",name:"name",type:1,value:"required"},{attributes:[],computedValue:"required",displayName:"validator",name:"validator",type:1,value:"required"},{attributes:[],computedValue:"This field is required.",displayName:"overrideErrorMessage",name:"overrideErrorMessage",type:1,value:"This field is required."}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"term",displayName:"name",name:"name",type:1,value:"term"},{attributes:[],computedValue:"Term",displayName:"label",name:"label",type:1,value:"Term"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-simple-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestSimpleForm",displayName:"entityName",name:"entityName",type:1,value:"TestSimpleForm"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Simple Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"7254396c-2464-41d3-a2df-8f6294a486ac",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"888b9746-9cc1-43dc-8edb-1868e64b36a5",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World! Modify",displayName:"Content",name:"content",type:1,value:"Hello World! Modify"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"8ebbcdb3-300f-4739-8cb3-6c5d4c402638",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"96050a0f-cc1a-4a31-bc47-8c9fe065745a",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"hello2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello",displayName:"Content",name:"content",type:1,value:"Hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hello-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"a2399ab6-d16b-480d-b015-88eed8dc8f64",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"a5291ca2-8fec-4011-9fc5-7574cbf944cc",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123",displayName:"Content",name:"content",type:1,value:"Hellow World 123"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"ad3dd72c-f153-4689-8da8-f94e01230457",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hello2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello",displayName:"Content",name:"content",type:1,value:"Hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hello-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bad7cc2e-75fe-4137-9c36-d7777273ff80",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"upload-file-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_media",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/upload-file-form",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Upload File Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{value:[{},{},{}]},name:"terms",plugin:"state"},{adaptor:"datasource",datasource:{params:[],plugin:"data",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}]},name:"characters",plugin:"datasource"},{adaptor:"datasource",datasource:{params:[],plugin:"crud_adaptor",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",intValue:0,name:"params",type:4,value:""}]},name:"ad",plugin:"datasource"}],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bb66aa62-8635-4015-86c9-ba4f208b0856",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"native_forms_rebuild_v1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"characters_context_ref",locked:!1,name:"characters_context_ref",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"context",displayName:"plugin",name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",contexts:[],label:"creators",locked:!1,name:"creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith",displayName:"url",name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"inputparam",displayName:"type",name:"type",type:1,value:"inputparam"},{attributes:[],computedValue:"term",displayName:"value",name:"value",type:1,value:"term"},{attributes:[],computedValue:"john",displayName:"testValue",name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"content",name:"content",type:1,value:""},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_creators",displayName:"id",name:"id",type:1,value:"select_creators"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",contexts:[],label:"select_creators",locked:!1,name:"select_creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"form_input",contexts:[],label:"text",locked:!1,name:"text",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.text]",displayName:"value",name:"value",type:1,value:"[ad.results.0.text]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.select]",displayName:"value",name:"value",type:1,value:"[ad.results.0.select]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_textarea",contexts:[],label:"textarea",locked:!1,name:"textarea",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.textarea]",displayName:"value",name:"value",type:1,value:"[ad.results.0.textarea]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_radiogroup",contexts:[],label:"radiogroup",locked:!1,name:"radiogroup",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.radiogroup]",displayName:"value",name:"value",type:1,value:"[ad.results.0.radiogroup]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_slider",contexts:[],label:"slider",locked:!1,name:"slider",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.slider]",displayName:"value",name:"value",type:1,value:"[ad.results.0.slider]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_toggle",contexts:[],label:"toggle",locked:!1,name:"toggle",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.toggle]",displayName:"value",name:"value",type:1,value:"[ad.results.0.toggle]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_checkbox",contexts:[],label:"checkbox",locked:!1,name:"checkbox",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.checkbox]",displayName:"value",name:"value",type:1,value:"[ad.results.0.checkbox]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_datepicker",contexts:[],label:"datepicker",locked:!1,name:"datepicker",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.datepicker]",displayName:"value",name:"value",type:1,value:"[ad.results.0.datepicker]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_autocomplete",contexts:[],label:"autocomplete",locked:!1,name:"autocomplete",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.autocomplete]",displayName:"value",name:"value",type:1,value:"[ad.results.0.autocomplete]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"creators",displayName:"id",name:"id",type:1,value:"creators"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.fullName]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.fullName]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"panel",contexts:[],label:"nested",locked:!1,name:"nested",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.nested.nestedValue]",displayName:"value",name:"value",type:1,value:"[ad.results.0.nested.nestedValue]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"nestedValue",displayName:"name",name:"name",type:1,value:"nestedValue"},{attributes:[],computedValue:"nestedValue",displayName:"label",name:"label",type:1,value:"nestedValue"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"nested_form",displayName:"name",name:"name",type:1,value:"nested_form"},{attributes:[],computedValue:"nested_form",displayName:"title",name:"title",type:1,value:"nested_form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.ad.results[0].terms"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.humanName]",displayName:"value",name:"value",type:1,value:"[ad.results.0.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms[$i].terms",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.ad.results[0].terms[$i].terms"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.terms.$i.humanName]",displayName:"value",name:"value",type:1,value:"[ad.results.0.terms.$i.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form2",displayName:"name",name:"name",type:1,value:"terms_form2"},{attributes:[],computedValue:"terms_form2",displayName:"title",name:"title",type:1,value:"terms_form2"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form",displayName:"name",name:"name",type:1,value:"terms_form"},{attributes:[],computedValue:"terms_form",displayName:"title",name:"title",type:1,value:"terms_form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}]},{contentPlugin:"form_hidden",contexts:[],label:"id",locked:!1,name:"id",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.id]",displayName:"value",name:"value",type:1,value:"[ad.results.0.id]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]}],settings:[],stylePlugin:""}],path:"/native_forms_rebuild_v1",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"rest",displayName:"adaptorName",name:"adaptorName",type:1,value:"rest"},{attributes:[],computedValue:"entityName=:entityName",displayName:"optionsString",name:"optionsString",type:1,value:"entityName=:entityName"},{attributes:[],computedValue:"",displayName:"paramsString",name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"value",name:"value",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"testValue",name:"testValue",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],displayName:"mapping",name:"mapping",type:2},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"0",name:"0",type:2},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"1",name:"1",type:2},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"2",name:"2",type:2},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"3",name:"3",type:2}],displayName:"flags",name:"flags",type:4}],displayName:"0",name:"0",type:2}],displayName:"options",name:"options",type:4},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"native_forms_rebuild_v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd29f806-3b4b-4b79-9dac-7a5ae221f432",layoutSetting:{settings:[]},layoutType:"split",name:"hello_world",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Hello World"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/hello-world",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello World",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd4c1820-952c-47c8-9478-5a49d45a7bc0",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c38d4c9a-c2c7-4d9a-9d89-6a5c5425a372",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123 345",displayName:"Content",name:"content",type:1,value:"Hellow World 123 345"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"c8feab31-84b9-49a1-95a3-989ad3211eac",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"datasource-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"Body",locked:!1,name:"body",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"[.body]",displayName:"Content",name:"content",type:1,value:"[.body]"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]},{contentPlugin:"datasource",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"body": "data here"},\n{"body": "data here"},\n{"body": "data here"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"body": "data here"},\n{"body": "data here"},\n{"body": "data here"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"body",displayName:"id",name:"id",type:1,value:"body"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/datasource-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Datasource Test",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c91aa514-0ad8-4797-a516-cce997c877d9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}',displayName:"JSON",name:"json",type:1,value:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[],id:"cdcb0c14-3dd8-492c-9013-74aa861087f9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justsave",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"hello",displayName:"Content",name:"content",type:1,value:"hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justsave",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justsave",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d4a8f35d-bcf4-412a-a67c-7f6d3fcff2b2",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"post-ad-v1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Title",locked:!1,name:"title",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"Title",displayName:"value",name:"value",type:1,value:"Title"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/post",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"rest",displayName:"adaptorName",name:"adaptorName",type:1,value:"rest"},{attributes:[],computedValue:"entityName=:entityName",displayName:"optionsString",name:"optionsString",type:1,value:"entityName=:entityName"},{attributes:[],computedValue:"",displayName:"paramsString",name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"value",name:"value",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"testValue",name:"testValue",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],displayName:"mapping",name:"mapping",type:2},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"0",name:"0",type:2},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"1",name:"1",type:2},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"2",name:"2",type:2},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"3",name:"3",type:2}],displayName:"flags",name:"flags",type:4}],displayName:"0",name:"0",type:2}],displayName:"options",name:"options",type:4},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Post Ad v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[],id:"d52e24fa-470f-4d7c-815e-41f33f89b2bc",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justsave",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"hello",displayName:"Content",name:"content",type:1,value:"hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justsave",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justsave",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"d5f9de5b-e56f-4cfb-a2ca-677637e1e3d7",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d75c2267-0eb1-4238-ad0e-7d4b0d1d4801",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"e39fa739-b354-45cb-8a35-5c9e54d28d6f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"e9f7488d-bd52-4f42-b850-4afc6a217c20",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"eaa608c2-17fd-48ad-924e-8a29fc8c72cb",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"upload-file-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_media",contexts:[],label:"File",locked:!1,name:"file",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.images.*",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.images.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"file",displayName:"name",name:"name",type:1,value:"file"},{attributes:[],computedValue:"File",displayName:"label",name:"label",type:1,value:"File"},{attributes:[],computedValue:"form_media",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_media"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:1,value:""}],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"photos",displayName:"name",name:"name",type:1,value:"photos"},{attributes:[],computedValue:"Photos",displayName:"title",name:"title",type:1,value:"Photos"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"photos",displayName:"name",name:"name",type:1,value:"photos"},{attributes:[],computedValue:"Photos",displayName:"label",name:"label",type:1,value:"Photos"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"images",displayName:"name",name:"name",type:1,value:"images"},{attributes:[],computedValue:"Images",displayName:"label",name:"label",type:1,value:"Images"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:1,value:""}],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/upload-file-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestMedia",displayName:"entityName",name:"entityName",type:1,value:"TestMedia"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Upload File Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"ecacb624-716e-47fd-b62d-4ad4f4b9cf1f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World!",displayName:"Content",name:"content",type:1,value:"Hello World!"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"f3ecdb90-080e-4791-afaf-073d43bc8228",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123",displayName:"Content",name:"content",type:1,value:"Hellow World 123"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"fc69e899-1c7d-47cc-bc63-260037d76381",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-simple-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Text",locked:!1,name:"text",settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-simple-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestSimpleForm",displayName:"entityName",name:"entityName",type:1,value:"TestSimpleForm"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Simple Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"}],SW=[{path:"auth-callback",component:rk}].concat((0,A.A)(GE.map(function(o){var r=(0,k.A)(o,2),n=r[0],e=r[1];return{matcher:Uy(new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:qf,data:{panelPageListItem:new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),(0,A.A)(GE.map(function(o){var r=(0,k.A)(o,2),n=r[0],e=r[1];return{matcher:jy(new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:Kf,data:{panelPageListItem:new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),[{path:"**",component:uL,canActivate:[mx]}]),EW={root:Wi.c.apiGatewaySettings.endpointUrl,timeout:2e4};function DW(){var o=new Au;return o.link=function(r){var n=r.href,t=r.text;return"page"===t?'<classifieds-ui-panel-page id="'.concat(n,'"></classifieds-ui-panel-page>'):'<classifieds-ui-page-router-link href="'.concat(n,'" text="').concat(t,'"></classifieds-ui-page-router-link>')},{renderer:o}}var wW=function(){var o,r=(0,m.A)(function n(){(0,v.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o,bootstrap:[mK]}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[(0,I.provideClientHydration)(),mx,{provide:a.APP_ID,useValue:"serverApp"},{provide:cn.SITE_NAME,useValue:Wi.c.site},{provide:Qm,useValue:new Km(Wi.c.clientSettings)},{provide:cf,useValue:new B8(Wi.c.mediaSettings)},{provide:lS,useValue:new zj(Wi.c.panelsSettings)},{provide:rW,useValue:new iW(Wi.c.alienaliasSettings)},{provide:nE,useValue:new GH({disableRouting:!1})},{provide:Wd,useValue:new vk(Wi.c.cognitoSettings)},{provide:CW,useValue:new AW(Wi.c.rumSettings)},{provide:E.HTTP_INTERCEPTORS,useClass:pk,multi:!0},{provide:E.HTTP_INTERCEPTORS,useClass:ak,multi:!0},{provide:Ku,useValue:EW},(0,a.provideAppInitializer)(function(){return function(r){var n=r.data,e=r.key;return function(t){return function(){return new G.c(function(s){(0,y.isPlatformBrowser)(t)?function uK(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:qi())("readwrite",function(n){return o.forEach(function(e){return n.put(e[1],e[0])}),Ja(n.transaction)})}(n.map(function(l){return[e({data:l}),l]})).then(function(){console.log("data loaded into idb"),s.next(),s.complete()}).catch(function(){console.log("data load into idb failure"),s.next(),s.complete()}):(s.next(),s.complete())})}}}({key:function(t){return"panelpage__"+t.data.id},data:xW.map(function(e){return new Pr(e)})})((0,a.inject)(a.PLATFORM_ID))()}),(0,E.provideHttpClient)((0,E.withInterceptorsFromDi)(),(0,E.withJsonpSupport)())],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,L.BrowserAnimationsModule,dc,Fd,Lv.forRoot({sanitize:a.SecurityContext.NONE,markedOptions:{provide:U1,useFactory:DW}}),Xn.RouterModule.forRoot(SW,{initialNavigation:"enabledBlocking"}),Wi.c.production?[]:zK.instrument({maxAge:25,logOnly:Wi.c.production,connectInZone:!0}),D5.forRoot({serializer:$v}),Sm.forRoot($K,{metaReducers:HK,runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),_c.forRoot([]),lx,iK,cn.UtilsModule,Gc,Xt.ContentModule,$l,Sc.forRoot(),dk.forRoot(),y1,JF.forRoot({}),cL,yy,Oy,ZH,YK,hk,fK,tq,oq,nW,gW,bW,yL,oz,Of,qH,VE,ps,DL]}),r}();console.log("bootstrap"),Wi.c.production&&(0,a.enableProdMode)(),I.platformBrowser().bootstrapModule(wW).catch(function(o){return console.log(o)})},56886:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.RawSha256=void 0;var I=b(86770),a=function(){function m(){this.state=Int32Array.from(I.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return m.prototype.update=function(v){if(this.finished)throw new Error("Attempted to update an already finished hash.");var k=0,A=v.byteLength;if(this.bytesHashed+=A,8*this.bytesHashed>I.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;A>0;)this.buffer[this.bufferLength++]=v[k++],A--,this.bufferLength===I.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var v=8*this.bytesHashed,k=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),A=this.bufferLength;if(k.setUint8(this.bufferLength++,128),A%I.BLOCK_SIZE>=I.BLOCK_SIZE-8){for(var y=this.bufferLength;y<I.BLOCK_SIZE;y++)k.setUint8(y,0);this.hashBuffer(),this.bufferLength=0}for(y=this.bufferLength;y<I.BLOCK_SIZE-8;y++)k.setUint8(y,0);k.setUint32(I.BLOCK_SIZE-8,Math.floor(v/4294967296),!0),k.setUint32(I.BLOCK_SIZE-4,v),this.hashBuffer(),this.finished=!0}var E=new Uint8Array(I.DIGEST_LENGTH);for(y=0;y<8;y++)E[4*y]=this.state[y]>>>24&255,E[4*y+1]=this.state[y]>>>16&255,E[4*y+2]=this.state[y]>>>8&255,E[4*y+3]=this.state[y]>>>0&255;return E},m.prototype.hashBuffer=function(){for(var k=this.buffer,A=this.state,y=A[0],E=A[1],L=A[2],f=A[3],g=A[4],V=A[5],w=A[6],F=A[7],N=0;N<I.BLOCK_SIZE;N++){if(N<16)this.temp[N]=(255&k[4*N])<<24|(255&k[4*N+1])<<16|(255&k[4*N+2])<<8|255&k[4*N+3];else{var M=this.temp[N-2];this.temp[N]=(((M>>>17|M<<15)^(M>>>19|M<<13)^M>>>10)+this.temp[N-7]|0)+((((M=this.temp[N-15])>>>7|M<<25)^(M>>>18|M<<14)^M>>>3)+this.temp[N-16]|0)}var T=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&V^~g&w)|0)+(F+(I.KEY[N]+this.temp[N]|0)|0)|0,U=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&E^y&L^E&L)|0;F=w,w=V,V=g,g=f+T|0,f=L,L=E,E=y,y=T+U|0}A[0]+=y,A[1]+=E,A[2]+=L,A[3]+=f,A[4]+=g,A[5]+=V,A[6]+=w,A[7]+=F},m}();se.RawSha256=a},86770:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.MAX_HASHABLE_LENGTH=se.INIT=se.KEY=se.DIGEST_LENGTH=se.BLOCK_SIZE=void 0,se.BLOCK_SIZE=64,se.DIGEST_LENGTH=32,se.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),se.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],se.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},93967:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),(0,b(24398).__exportStar)(b(17011),se)},17011:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.Sha256=void 0;var I=b(24398),a=b(86770),m=b(56886),v=b(15312),k=function(){function y(E){if(this.hash=new m.RawSha256,E){this.outer=new m.RawSha256;var L=function A(y){var E=(0,v.convertToBuffer)(y);if(E.byteLength>a.BLOCK_SIZE){var L=new m.RawSha256;L.update(E),E=L.digest()}var f=new Uint8Array(a.BLOCK_SIZE);return f.set(E),f}(E),f=new Uint8Array(a.BLOCK_SIZE);f.set(L);for(var g=0;g<a.BLOCK_SIZE;g++)L[g]^=54,f[g]^=92;for(this.hash.update(L),this.outer.update(f),g=0;g<L.byteLength;g++)L[g]=0}}return y.prototype.update=function(E){if(!(0,v.isEmptyData)(E)&&!this.error)try{this.hash.update((0,v.convertToBuffer)(E))}catch(L){this.error=L}},y.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},y.prototype.digest=function(){return(0,I.__awaiter)(this,void 0,void 0,function(){return(0,I.__generator)(this,function(E){return[2,this.digestSync()]})})},y}();se.Sha256=k},92164:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.convertToBuffer=void 0;var I=b(94965),a=typeof Buffer<"u"&&Buffer.from?function(v){return Buffer.from(v,"utf8")}:I.fromUtf8;se.convertToBuffer=function m(v){return v instanceof Uint8Array?v:"string"==typeof v?a(v):ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(v)}},15312:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.uint32ArrayFrom=se.numToUint8=se.isEmptyData=se.convertToBuffer=void 0;var I=b(92164);Object.defineProperty(se,"convertToBuffer",{enumerable:!0,get:function(){return I.convertToBuffer}});var a=b(31657);Object.defineProperty(se,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var m=b(6057);Object.defineProperty(se,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var v=b(55066);Object.defineProperty(se,"uint32ArrayFrom",{enumerable:!0,get:function(){return v.uint32ArrayFrom}})},31657:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.isEmptyData=void 0,se.isEmptyData=function b(I){return"string"==typeof I?0===I.length:0===I.byteLength}},6057:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.numToUint8=void 0,se.numToUint8=function b(I){return new Uint8Array([(4278190080&I)>>24,(16711680&I)>>16,(65280&I)>>8,255&I])}},55066:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.uint32ArrayFrom=void 0,se.uint32ArrayFrom=function b(I){if(!Array.from){for(var a=new Uint32Array(I.length);0<I.length;)a[0]=I[0];return a}return Uint32Array.from(I)}},29554:(we,se,b)=>{b.d(se,{D:()=>O});var I=b(11),a=b(81890),m=b(43288),v=b(63398),k=b(82297),A=b(792),y=b(13544),E=b(40642),L=b(96539),f=b(65337),g=b(54931),V=b(98027),w=b(15997),F=b(54308),N=b(27111),M=b(48944),G=b(37957),R=b(13909),T=b(42855),U=b(61795),ee=b(6811),ne=b(36977),H=b(97763),j=b(13928),ae=b(46887),le=function(){var $=(0,a.A)((0,I.A)().m(function J(ce,Ae,_e){var Ee,Fe;return(0,I.A)().w(function(c){for(;;)switch(c.n){case 0:return Ee=(0,j.u)(Ae).operation,c.n=1,(0,ae.t)(ce.region)();case 1:if(Fe=c.v){c.n=2;break}Fe=function(){throw new Error("expected `region` to be configured for `aws.auth#sigv4`")}();case 2:return c.a(2,{operation:Ee,region:Fe})}},J)}));return function(ce,Ae,_e){return $.apply(this,arguments)}}(),te=function(J){var ce=[];switch(J.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":ce.push({schemeId:"smithy.api#noAuth"});break;default:ce.push(function re($){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:$.region},propertiesExtractor:function(ce,Ae){return{signingProperties:{config:ce,context:Ae}}}}}(J))}return ce},ye=b(90975),De=b(22292);var Ge=b(15312),Ce={name:"SHA-256"},Be={name:"HMAC",hash:Ce},Xe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Ye=b(93342),it=function(){function $(J){this.toHash=new Uint8Array(0),this.secret=J,this.reset()}return $.prototype.update=function(J){if(!(0,Ge.isEmptyData)(J)){var ce=(0,Ge.convertToBuffer)(J),Ae=new Uint8Array(this.toHash.byteLength+ce.byteLength);Ae.set(this.toHash,0),Ae.set(ce,this.toHash.byteLength),this.toHash=Ae}},$.prototype.digest=function(){var J=this;return this.key?this.key.then(function(ce){return(0,Ye.R)().crypto.subtle.sign(Be,ce,J.toHash).then(function(Ae){return new Uint8Array(Ae)})}):(0,Ge.isEmptyData)(this.toHash)?Promise.resolve(Xe):Promise.resolve().then(function(){return(0,Ye.R)().crypto.subtle.digest(Ce,J.toHash)}).then(function(ce){return Promise.resolve(new Uint8Array(ce))})},$.prototype.reset=function(){var J=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(ce,Ae){(0,Ye.R)().crypto.subtle.importKey("raw",(0,Ge.convertToBuffer)(J.secret),Be,!1,["sign"]).then(ce,Ae)}),this.key.catch(function(){}))},$}(),vt=b(24398),ct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],K=Math.pow(2,53)-1,Q=function(){function $(){this.state=Int32Array.from(pe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return $.prototype.update=function(J){if(this.finished)throw new Error("Attempted to update an already finished hash.");var ce=0,Ae=J.byteLength;if(this.bytesHashed+=Ae,8*this.bytesHashed>K)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;Ae>0;)this.buffer[this.bufferLength++]=J[ce++],Ae--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},$.prototype.digest=function(){if(!this.finished){var J=8*this.bytesHashed,ce=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),Ae=this.bufferLength;if(ce.setUint8(this.bufferLength++,128),Ae%64>=56){for(var _e=this.bufferLength;_e<64;_e++)ce.setUint8(_e,0);this.hashBuffer(),this.bufferLength=0}for(_e=this.bufferLength;_e<56;_e++)ce.setUint8(_e,0);ce.setUint32(56,Math.floor(J/4294967296),!0),ce.setUint32(60,J),this.hashBuffer(),this.finished=!0}var Ee=new Uint8Array(32);for(_e=0;_e<8;_e++)Ee[4*_e]=this.state[_e]>>>24&255,Ee[4*_e+1]=this.state[_e]>>>16&255,Ee[4*_e+2]=this.state[_e]>>>8&255,Ee[4*_e+3]=this.state[_e]>>>0&255;return Ee},$.prototype.hashBuffer=function(){for(var ce=this.buffer,Ae=this.state,_e=Ae[0],Ee=Ae[1],Fe=Ae[2],Te=Ae[3],c=Ae[4],ze=Ae[5],Je=Ae[6],rt=Ae[7],tt=0;tt<64;tt++){if(tt<16)this.temp[tt]=(255&ce[4*tt])<<24|(255&ce[4*tt+1])<<16|(255&ce[4*tt+2])<<8|255&ce[4*tt+3];else{var he=this.temp[tt-2];this.temp[tt]=(((he>>>17|he<<15)^(he>>>19|he<<13)^he>>>10)+this.temp[tt-7]|0)+((((he=this.temp[tt-15])>>>7|he<<25)^(he>>>18|he<<14)^he>>>3)+this.temp[tt-16]|0)}var Le=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&ze^~c&Je)|0)+(rt+(ct[tt]+this.temp[tt]|0)|0)|0,et=((_e>>>2|_e<<30)^(_e>>>13|_e<<19)^(_e>>>22|_e<<10))+(_e&Ee^_e&Fe^Ee&Fe)|0;rt=Je,Je=ze,ze=c,c=Te+Le|0,Te=Fe,Fe=Ee,Ee=_e,_e=Le+et|0}Ae[0]+=_e,Ae[1]+=Ee,Ae[2]+=Fe,Ae[3]+=Te,Ae[4]+=c,Ae[5]+=ze,Ae[6]+=Je,Ae[7]+=rt},$}(),xe=function(){function $(J){this.secret=J,this.hash=new Q,this.reset()}return $.prototype.update=function(J){if(!(0,Ge.isEmptyData)(J)&&!this.error)try{this.hash.update((0,Ge.convertToBuffer)(J))}catch(ce){this.error=ce}},$.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},$.prototype.digest=function(){return(0,vt.__awaiter)(this,void 0,void 0,function(){return(0,vt.__generator)(this,function(J){return[2,this.digestSync()]})})},$.prototype.reset=function(){if(this.hash=new Q,this.secret){this.outer=new Q;var J=function ke($){var J=(0,Ge.convertToBuffer)($);if(J.byteLength>64){var ce=new Q;ce.update(J),J=ce.digest()}var Ae=new Uint8Array(64);return Ae.set(J),Ae}(this.secret),ce=new Uint8Array(64);ce.set(J);for(var Ae=0;Ae<64;Ae++)J[Ae]^=54,ce[Ae]^=92;for(this.hash.update(J),this.outer.update(ce),Ae=0;Ae<J.byteLength;Ae++)J[Ae]=0}},$}(),oe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var W=function(){function $(J){this.hash=function ie($){return!(!function Me($){return"object"==typeof $&&"object"==typeof $.crypto&&"function"==typeof $.crypto.getRandomValues}($)||"object"!=typeof $.crypto.subtle)&&function ue($){return $&&oe.every(function(J){return"function"==typeof $[J]})}($.crypto.subtle)}((0,Ye.R)())?new it(J):new xe(J)}return $.prototype.update=function(J,ce){this.hash.update((0,Ge.convertToBuffer)(J))},$.prototype.digest=function(){return this.hash.digest()},$.prototype.reset=function(){this.hash.reset()},$}(),ve=b(71587),je=b(3668),nt=b(82502),at=b(27011),bt=b(56992),Ot=b(82499),Nt=b(69153),nn=b(17439),fn=b(67404),Se=function(){return(0,v.A)(function $(){(0,m.A)(this,$)},[{key:"sign",value:(J=(0,a.A)((0,I.A)().m(function Ae(_e,Ee,Fe){return(0,I.A)().w(function(Te){for(;;)if(0===Te.n)return Te.a(2,_e)},Ae)})),function ce(Ae,_e,Ee){return J.apply(this,arguments)})}]);var J}(),Jn=b(38310),En=b(50993),ft=b(8833),Vt=b(47436),St=b(87521),Pt=b(56044),Et=b(92553),ht=b(64585),Ue=b(67227),$e=b(71440),Ft="required",At="fn",kt="argv",gt="ref",on="booleanEquals",Bn="error",rn="endpoint",dn="tree",kn="PartitionResult",gr="getAttr",qn="stringEquals",Dn=(0,E.A)((0,E.A)({},Ft,!1),"type","String"),fr=(0,E.A)((0,E.A)((0,E.A)({},Ft,!0),"default",!1),"type","Boolean"),hr=(0,E.A)({},gt,"Endpoint"),In=(0,E.A)((0,E.A)({},At,on),kt,[(0,E.A)({},gt,"UseFIPS"),!0]),An=(0,E.A)((0,E.A)({},At,on),kt,[(0,E.A)({},gt,"UseDualStack"),!0]),Zt={},na=(0,E.A)({},gt,"Region"),ti=(0,E.A)((0,E.A)({},At,gr),kt,[(0,E.A)({},gt,kn),"supportsFIPS"]),Gn=(0,E.A)({},gt,kn),hi=(0,E.A)((0,E.A)({},At,on),kt,[!0,(0,E.A)((0,E.A)({},At,gr),kt,[Gn,"supportsDualStack"])]),Ga=[In],ni=[An],vi=[na],Bi={version:"1.0",parameters:{Region:Dn,UseDualStack:fr,UseFIPS:fr,Endpoint:Dn},rules:[{conditions:[(0,E.A)((0,E.A)({},At,"isSet"),kt,[hr])],rules:[{conditions:Ga,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Bn},{conditions:ni,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Bn},{endpoint:{url:hr,properties:Zt,headers:Zt},type:rn}],type:dn},{conditions:[(0,E.A)((0,E.A)({},At,"isSet"),kt,vi)],rules:[{conditions:[(0,E.A)((0,E.A)((0,E.A)({},At,"aws.partition"),kt,vi),"assign",kn)],rules:[{conditions:[In,An],rules:[{conditions:[(0,E.A)((0,E.A)({},At,on),kt,[!0,ti]),hi],rules:[{conditions:[(0,E.A)((0,E.A)({},At,qn),kt,[na,"us-east-1"])],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:Zt,headers:Zt},type:rn},{conditions:[(0,E.A)((0,E.A)({},At,qn),kt,[na,"us-east-2"])],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:Zt,headers:Zt},type:rn},{conditions:[(0,E.A)((0,E.A)({},At,qn),kt,[na,"us-west-1"])],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:Zt,headers:Zt},type:rn},{conditions:[(0,E.A)((0,E.A)({},At,qn),kt,[na,"us-west-2"])],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:Zt,headers:Zt},type:rn},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zt,headers:Zt},type:rn}],type:dn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Bn}],type:dn},{conditions:Ga,rules:[{conditions:[(0,E.A)((0,E.A)({},At,on),kt,[ti,!0])],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Zt,headers:Zt},type:rn}],type:dn},{error:"FIPS is enabled but this partition does not support FIPS",type:Bn}],type:dn},{conditions:ni,rules:[{conditions:[hi],rules:[{conditions:[(0,E.A)((0,E.A)({},At,qn),kt,["aws",(0,E.A)((0,E.A)({},At,gr),kt,[Gn,"name"])])],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:Zt,headers:Zt},type:rn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zt,headers:Zt},type:rn}],type:dn},{error:"DualStack is enabled but this partition does not support DualStack",type:Bn}],type:dn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:Zt,headers:Zt},type:rn}],type:dn}],type:dn},{error:"Invalid Configuration: Missing Region",type:Bn}]},yi=new ht.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),_s=function(J){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yi.get(J,function(){return(0,Ue.s)(Bi,{endpointParams:J,logger:ce.logger})})};$e.m.aws=Et.UF;var bs=b(98526),sc=b(75208),Vu=b(45647),Ou=b(44811),As=b(56747),O=function($){function J(){for(var ce,Ae=arguments.length,_e=new Array(Ae),Ee=0;Ee<Ae;Ee++)_e[Ee]=arguments[Ee];var Fe=_e[0];(0,m.A)(this,J);var Te=function(J){var ce,Ae,_e,Ee,Fe,Te,c,ze,Je,rt,tt,he=(0,sc.I)(J),Ne=function(){return he().then(bs.l)},Ve=function(J){var ce,Ae,_e,Ee,Fe,Te,c,ze,Je,rt,tt,he;return{apiVersion:"2014-06-30",base64Decoder:null!==(ce=J?.base64Decoder)&&void 0!==ce?ce:ft.E,base64Encoder:null!==(Ae=J?.base64Encoder)&&void 0!==Ae?Ae:Vt.n,disableHostPrefix:null!==(_e=J?.disableHostPrefix)&&void 0!==_e&&_e,endpointProvider:null!==(Ee=J?.endpointProvider)&&void 0!==Ee?Ee:_s,extensions:null!==(Fe=J?.extensions)&&void 0!==Fe?Fe:[],httpAuthSchemeProvider:null!==(Te=J?.httpAuthSchemeProvider)&&void 0!==Te?Te:te,httpAuthSchemes:null!==(c=J?.httpAuthSchemes)&&void 0!==c?c:[{schemeId:"aws.auth#sigv4",identityProvider:function(Ve){return Ve.getIdentityProvider("aws.auth#sigv4")},signer:new fn.f2},{schemeId:"smithy.api#noAuth",identityProvider:function(Ve){return Ve.getIdentityProvider("smithy.api#noAuth")||(0,a.A)((0,I.A)().m(function Le(){return(0,I.A)().w(function(et){for(;;)if(0===et.n)return et.a(2,{})},Le)}))},signer:new Se}],logger:null!==(ze=J?.logger)&&void 0!==ze?ze:new Jn.N,serviceId:null!==(Je=J?.serviceId)&&void 0!==Je?Je:"Cognito Identity",urlParser:null!==(rt=J?.urlParser)&&void 0!==rt?rt:En.D,utf8Decoder:null!==(tt=J?.utf8Decoder)&&void 0!==tt?tt:St.a,utf8Encoder:null!==(he=J?.utf8Encoder)&&void 0!==he?he:Pt.P}}(J);return(0,De.A)((0,De.A)((0,De.A)({},Ve),J),{},{runtime:"browser",defaultsMode:he,bodyLengthChecker:null!==(ce=J?.bodyLengthChecker)&&void 0!==ce?ce:Nt.n,credentialDefaultProvider:null!==(Ae=J?.credentialDefaultProvider)&&void 0!==Ae?Ae:function(Le){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(_e=J?.defaultUserAgentProvider)&&void 0!==_e?_e:(0,ve.pf)({serviceId:Ve.serviceId,clientVersion:"3.914.0"}),maxAttempts:null!==(Ee=J?.maxAttempts)&&void 0!==Ee?Ee:nn.Gz,region:null!==(Fe=J?.region)&&void 0!==Fe?Fe:(0,Ot.B)("Region is missing"),requestHandler:at.N.create(null!==(Te=J?.requestHandler)&&void 0!==Te?Te:Ne),retryMode:null!==(c=J?.retryMode)&&void 0!==c?c:(0,a.A)((0,I.A)().m(function Le(){var et;return(0,I.A)().w(function(st){for(;;)switch(st.n){case 0:return st.n=1,Ne();case 1:if(et=st.v.retryMode){st.n=2;break}et=nn.L0;case 2:return st.a(2,et)}},Le)})),sha256:null!==(ze=J?.sha256)&&void 0!==ze?ze:W,streamCollector:null!==(Je=J?.streamCollector)&&void 0!==Je?Je:bt.k,useDualstackEndpoint:null!==(rt=J?.useDualstackEndpoint)&&void 0!==rt?rt:function(){return Promise.resolve(je.VW)},useFipsEndpoint:null!==(tt=J?.useFipsEndpoint)&&void 0!==tt?tt:function(){return Promise.resolve(nt.Hj)}})}(Fe||{});ce=(0,k.A)(this,J,[Te]),(0,E.A)(ce,"config",void 0),ce.initConfig=Te;var Le,c=(0,ye.v)(Te),ze=(0,V.D)(c),Je=(0,U.$z)(ze),rt=(0,F.T)(Je),tt=(0,L.OV)(rt),Ne=function(J){var ce,Ae=(0,H.h)(J);return Object.assign(Ae,{authSchemePreference:(0,ae.t)(null!==(ce=J.authSchemePreference)&&void 0!==ce?ce:[])})}((0,T.C)(tt)),Ve=function(J,ce){var Ae=Object.assign((0,Vu.R)(J),(0,As.xA)(J),(0,Ou.e)(J),function(J){var ce=J.httpAuthSchemes,Ae=J.httpAuthSchemeProvider,_e=J.credentials;return{setHttpAuthScheme:function(Fe){var Te=ce.findIndex(function(c){return c.schemeId===Fe.schemeId});-1===Te?ce.push(Fe):ce.splice(Te,1,Fe)},httpAuthSchemes:function(){return ce},setHttpAuthSchemeProvider:function(Fe){Ae=Fe},httpAuthSchemeProvider:function(){return Ae},setCredentials:function(Fe){_e=Fe},credentials:function(){return _e}}}(J));return ce.forEach(function(_e){return _e.configure(Ae)}),Object.assign(J,(0,Vu.$)(Ae),(0,As.uv)(Ae),(0,Ou.j)(Ae),function(J){return{httpAuthSchemes:J.httpAuthSchemes(),httpAuthSchemeProvider:J.httpAuthSchemeProvider(),credentials:J.credentials()}}(Ae))}(Ne,Fe?.extensions||[]);return ce.config=Ve,ce.middlewareStack.use((0,w.sM)(ce.config)),ce.middlewareStack.use((0,ee.ey)(ce.config)),ce.middlewareStack.use((0,R.vK)(ce.config)),ce.middlewareStack.use((0,L.TC)(ce.config)),ce.middlewareStack.use((0,f.Y7)(ce.config)),ce.middlewareStack.use((0,g.n)(ce.config)),ce.middlewareStack.use((0,N.w)(ce.config,{httpAuthSchemeParametersProvider:le,identityProviderConfigProvider:(Le=(0,a.A)((0,I.A)().m(function st(zt){return(0,I.A)().w(function(It){for(;;)if(0===It.n)return It.a(2,new M.h({"aws.auth#sigv4":zt.credentials}))},st)})),function et(st){return Le.apply(this,arguments)})})),ce.middlewareStack.use((0,G.l)(ce.config)),ce}return(0,y.A)(J,$),(0,v.A)(J,[{key:"destroy",value:function(){(0,A.A)(J,"destroy",this,3)([])}}])}(ne.K)},90975:(we,se,b)=>{b.d(se,{S:()=>a,v:()=>I});var I=function(v){var k,A;return Object.assign(v,{useDualstackEndpoint:null!==(k=v.useDualstackEndpoint)&&void 0!==k&&k,useFipsEndpoint:null!==(A=v.useFipsEndpoint)&&void 0!==A&&A,defaultSigningName:"cognito-identity"})},a={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},7931:(we,se,b)=>{function I(a,m,v){a.__aws_sdk_context?a.__aws_sdk_context.features||(a.__aws_sdk_context.features={}):a.__aws_sdk_context={features:{}},a.__aws_sdk_context.features[m]=v}b.d(se,{J:()=>I})},67404:(we,se,b)=>{b.d(se,{f2:()=>F,pz:()=>w});var I=b(98824),a=b(43288),m=b(63398),v=b(11),k=b(81890),A=b(43776),y=b(85797),E=b(91386),L=function(G){var R,T,U;return E.c.isInstance(G)?null!==(R=null===(T=G.headers)||void 0===T?void 0:T.date)&&void 0!==R?R:null===(U=G.headers)||void 0===U?void 0:U.Date:void 0},g=function(G,R){var T=Date.parse(G);return function(G,R){return Math.abs((0,y.C)(R).getTime()-G)>=3e5}(T,R)?T-Date.now():R},V=function(G,R){if(!R)throw new Error("Property `".concat(G,"` is not resolved for AWS SDK SigV4Auth"));return R},w=function(){var M=(0,k.A)((0,v.A)().m(function G(R){var T,U,ee,ne,H,j,ae,le,re;return(0,v.A)().w(function(q){for(;;)switch(q.n){case 0:return U=V("context",R.context),ee=V("config",R.config),ne=null===(T=U.endpointV2)||void 0===T||null===(T=T.properties)||void 0===T||null===(T=T.authSchemes)||void 0===T?void 0:T[0],H=V("signer",ee.signer),q.n=1,H(ne);case 1:return j=q.v,ae=R?.signingRegion,le=R?.signingRegionSet,re=R?.signingName,q.a(2,{config:ee,signer:j,signingRegion:ae,signingRegionSet:le,signingName:re})}},G)}));return function(R){return M.apply(this,arguments)}}(),F=function(){return(0,m.A)(function M(){(0,a.A)(this,M)},[{key:"sign",value:(G=(0,k.A)((0,v.A)().m(function T(U,ee,ne){var H,j,ae,le,re,q,te,X,ye,De,Ie,Ge,Ce;return(0,v.A)().w(function(Xe){for(;;)switch(Xe.n){case 0:if(A.K.isInstance(U)){Xe.n=1;break}throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");case 1:return Xe.n=2,w(ne);case 2:return le=(ae=Xe.v).config,re=ae.signer,q=ae.signingRegion,te=ae.signingName,null!==(H=null==(X=ne.context)||null===(j=X.authSchemes)||void 0===j?void 0:j.length)&&void 0!==H&&H&&(ye=(0,I.A)(X.authSchemes,2),De=ye[0],Ie=ye[1],"sigv4a"===De?.name&&"sigv4"===Ie?.name&&(q=null!==(Ge=Ie?.signingRegion)&&void 0!==Ge?Ge:q,te=null!==(Ce=Ie?.signingName)&&void 0!==Ce?Ce:te)),Xe.n=3,re.sign(U,{signingDate:(0,y.C)(le.systemClockOffset),signingRegion:q,signingService:te});case 3:return Xe.a(2,Xe.v)}},T)})),function R(T,U,ee){return G.apply(this,arguments)})},{key:"errorHandler",value:function(R){return function(T){var U,ee=null!==(U=T.ServerTime)&&void 0!==U?U:L(T.$response);if(ee){var ne=V("config",R.config),H=ne.systemClockOffset;ne.systemClockOffset=g(ee,ne.systemClockOffset),ne.systemClockOffset!==H&&T.$metadata&&(T.$metadata.clockSkewCorrected=!0)}throw T}}},{key:"successHandler",value:function(R,T){var U=L(R);if(U){var ee=V("config",T.config);ee.systemClockOffset=g(U,ee.systemClockOffset)}}}]);var G}()},97763:(we,se,b)=>{b.d(se,{h:()=>w});var I=b(22292),a=b(98824),m=b(11),v=b(81890);function k(G,R,T){return G.$source||(G.$source={}),G.$source[R]=T,G}var A=b(43971),L=function(U){return f(U)&&U.expiration.getTime()-Date.now()<3e5},f=function(R){return void 0!==R.expiration},V=b(60324),w=function(R){var T=R.credentials,U=!!R.credentials,ee=void 0;Object.defineProperty(R,"credentials",{set:function(X){X&&X!==T&&X!==ee&&(U=!0);var ye=function N(G,R){var ee,T=R.credentials,U=R.credentialDefaultProvider;return ee=T?null!=T&&T.memoized?T:function(R,T,U){if(void 0!==R){var ne,H,j,ee="function"!=typeof R?(0,v.A)((0,m.A)().m(function re(){return(0,m.A)().w(function(q){for(;;)if(0===q.n)return q.a(2,Promise.resolve(R))},re)})):R,ae=!1,le=function(){var re=(0,v.A)((0,m.A)().m(function q(te){return(0,m.A)().w(function(X){for(;;)switch(X.p=X.n){case 0:return H||(H=ee(te)),X.p=1,X.n=2,H;case 2:ne=X.v,j=!0,ae=!1;case 3:return X.p=3,H=void 0,X.f(3);case 4:return X.a(2,ne)}},q,null,[[1,,3,4]])}));return function(te){return re.apply(this,arguments)}}();return void 0===T?function(){var re=(0,v.A)((0,m.A)().m(function q(te){return(0,m.A)().w(function(X){for(;;)switch(X.n){case 0:if(j&&(null==te||!te.forceRefresh)){X.n=2;break}return X.n=1,le(te);case 1:ne=X.v;case 2:return X.a(2,ne)}},q)}));return function(q){return re.apply(this,arguments)}}():function(){var re=(0,v.A)((0,m.A)().m(function q(te){return(0,m.A)().w(function(X){for(;;)switch(X.n){case 0:if(j&&(null==te||!te.forceRefresh)){X.n=2;break}return X.n=1,le(te);case 1:ne=X.v;case 2:if(!ae){X.n=3;break}return X.a(2,ne);case 3:if(U(ne)){X.n=4;break}return ae=!0,X.a(2,ne);case 4:if(!T(ne)){X.n=6;break}return X.n=5,le(te);case 5:case 6:return X.a(2,ne)}},q)}));return function(q){return re.apply(this,arguments)}}()}}(T,L,f):U?(0,A.t)(U(Object.assign({},G,{parentClientConfig:G}))):function(){var ne=(0,v.A)((0,m.A)().m(function H(){return(0,m.A)().w(function(j){for(;;)switch(j.n){case 0:throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.");case 1:return j.a(2)}},H)}));return function(){return ne.apply(this,arguments)}}(),ee.memoized=!0,ee}(R,{credentials:T=X,credentialDefaultProvider:R.credentialDefaultProvider}),De=function M(G,R){if(R.configBound)return R;var T=function(){var U=(0,v.A)((0,m.A)().m(function ee(ne){return(0,m.A)().w(function(H){for(;;)if(0===H.n)return H.a(2,R((0,I.A)((0,I.A)({},ne),{},{callerClientConfig:G})))},ee)}));return function(ne){return U.apply(this,arguments)}}();return T.memoized=R.memoized,T.configBound=!0,T}(R,ye);U&&!De.attributed?(ee=function(){var Ie=(0,v.A)((0,m.A)().m(function Ge(Ce){return(0,m.A)().w(function(Be){for(;;)if(0===Be.n)return Be.a(2,De(Ce).then(function(Xe){return k(Xe,"CREDENTIALS_CODE","e")}))},Ge)}));return function(Ce){return Ie.apply(this,arguments)}}(),ee.memoized=De.memoized,ee.configBound=De.configBound,ee.attributed=!0):ee=De},get:function(){return ee},enumerable:!0,configurable:!0}),R.credentials=T;var re,ne=R.signingEscapePath,H=void 0===ne||ne,j=R.systemClockOffset,ae=void 0===j?R.systemClockOffset||0:j,le=R.sha256;return re=R.signer?(0,A.t)(R.signer):R.regionInfoProvider?function(){return(0,A.t)(R.region)().then(function(){var X=(0,v.A)((0,m.A)().m(function ye(De){var Ie,Ge,Ce,Be,Xe;return(0,m.A)().w(function(vt){for(;;)switch(vt.n){case 0:return Ge=R,Ce=De,vt.n=1,R.useFipsEndpoint();case 1:return Be=vt.v,vt.n=2,R.useDualstackEndpoint();case 2:return Xe=vt.v,vt.n=3,Ge.regionInfoProvider.call(Ge,Ce,{useFipsEndpoint:Be,useDualstackEndpoint:Xe});case 3:if(Ie=vt.v){vt.n=4;break}Ie={};case 4:return vt.a(2,[Ie,De])}},ye)}));return function(ye){return X.apply(this,arguments)}}()).then(function(X){var ye=(0,a.A)(X,2),De=ye[0],Ce=De.signingService;R.signingRegion=R.signingRegion||De.signingRegion||ye[1],R.signingName=R.signingName||Ce||R.serviceId;var Be=(0,I.A)((0,I.A)({},R),{},{credentials:R.credentials,region:R.signingRegion,service:R.signingName,sha256:le,uriEscapePath:H});return new(R.signerConstructor||V.B)(Be)})}:function(){var te=(0,v.A)((0,m.A)().m(function X(ye){var De,Ie,Ge,Be,Xe,Ye;return(0,m.A)().w(function(Ke){for(;;)switch(Ke.n){case 0:return Be=Object,Xe={},Ye=R.signingName||R.defaultSigningName,Ke.n=1,(0,A.t)(R.region)();case 1:return ye=Be.assign.call(Be,Xe,{name:"sigv4",signingName:Ye,signingRegion:Ke.v,properties:{}},ye),De=ye.signingRegion,Ie=ye.signingName,R.signingRegion=R.signingRegion||De,R.signingName=R.signingName||Ie||R.serviceId,Ge=(0,I.A)((0,I.A)({},R),{},{credentials:R.credentials,region:R.signingRegion,service:R.signingName,sha256:le,uriEscapePath:H}),Ke.a(2,new(R.signerConstructor||V.B)(Ge))}},X)}));return function(ye){return te.apply(this,arguments)}}(),Object.assign(R,{systemClockOffset:ae,signingEscapePath:H,signer:re})}},85797:(we,se,b)=>{b.d(se,{C:()=>I});var I=function(m){return new Date(Date.now()+m)}},76446:(we,se,b)=>{b.d(se,{w:()=>m});var I=b(57622),a=b(56044),m=function(k,A){return(0,I.P)(k,A).then(function(y){var E;return(null!==(E=A?.utf8Encoder)&&void 0!==E?E:a.P)(y)})}},97668:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AwsCrc32=void 0;var I=b(24398),a=b(15312),m=b(62933),v=function(){function k(){this.crc32=new m.Crc32}return k.prototype.update=function(A){(0,a.isEmptyData)(A)||this.crc32.update((0,a.convertToBuffer)(A))},k.prototype.digest=function(){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(A){return[2,(0,a.numToUint8)(this.crc32.digest())]})})},k.prototype.reset=function(){this.crc32=new m.Crc32},k}();se.AwsCrc32=v},62933:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AwsCrc32=se.Crc32=se.crc32=void 0;var I=b(24398),a=b(15312);se.crc32=function m(E){return(new v).update(E).digest()};var v=function(){function E(){this.checksum=4294967295}return E.prototype.update=function(L){var f,g;try{for(var V=I.__values(L),w=V.next();!w.done;w=V.next())this.checksum=this.checksum>>>8^A[255&(this.checksum^w.value)]}catch(N){f={error:N}}finally{try{w&&!w.done&&(g=V.return)&&g.call(V)}finally{if(f)throw f.error}}return this},E.prototype.digest=function(){return(4294967295^this.checksum)>>>0},E}();se.Crc32=v;var A=(0,a.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),y=b(97668);Object.defineProperty(se,"AwsCrc32",{enumerable:!0,get:function(){return y.AwsCrc32}})},96539:(we,se,b)=>{b.d(se,{OV:()=>v,TC:()=>y});var I=b(11),a=b(81890),m=b(43776);function v(E){return E}var A={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},y=function(L){return{applyToStack:function(g){g.add(function(L){return function(f){return function(){var g=(0,a.A)((0,I.A)().m(function V(w){var F,M,R;return(0,I.A)().w(function(T){for(;;)switch(T.n){case 0:if(m.K.isInstance(w.request)){T.n=1;break}return T.a(2,f(w));case 1:return F=w.request,(void 0===(M=(L.requestHandler.metadata||{}).handlerProtocol)?"":M).indexOf("h2")>=0&&!F.headers[":authority"]?(delete F.headers.host,F.headers[":authority"]=F.hostname+(F.port?":"+F.port:"")):F.headers.host||(R=F.hostname,null!=F.port&&(R+=":".concat(F.port)),F.headers.host=R),T.a(2,f(w))}},V)}));return function(V){return g.apply(this,arguments)}}()}}(L),A)}}}},65337:(we,se,b)=>{b.d(se,{Y7:()=>y});var I=b(11),a=b(88051),m=b(81890),v=["$metadata"],A={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},y=function(L){return{applyToStack:function(g){g.add(function(L,f){return function(){var g=(0,m.A)((0,I.A)().m(function V(w){var F,N,M,G,R,T,U,H,j,ae,le,re,q,te,X,ye,De,Ce,Be;return(0,I.A)().w(function(Xe){for(;;)switch(Xe.p=Xe.n){case 0:return Xe.p=0,Xe.n=1,L(w);case 1:return M=f.clientName,G=f.commandName,R=f.logger,H=(U=void 0===(T=f.dynamoDbDocumentClientOptions)?{}:T).overrideInputFilterSensitiveLog??f.inputFilterSensitiveLog,j=U.overrideOutputFilterSensitiveLog??f.outputFilterSensitiveLog,le=(ae=(N=Xe.v).output).$metadata,re=(0,a.A)(ae,v),null==R||null===(F=R.info)||void 0===F||F.call(R,{clientName:M,commandName:G,input:H(w.input),output:j(re),metadata:le}),Xe.a(2,N);case 2:throw Xe.p=2,Be=Xe.v,te=f.clientName,X=f.commandName,Ce=(void 0===(De=f.dynamoDbDocumentClientOptions)?{}:De).overrideInputFilterSensitiveLog??f.inputFilterSensitiveLog,null==(ye=f.logger)||null===(q=ye.error)||void 0===q||q.call(ye,{clientName:te,commandName:X,input:Ce(w.input),error:Be,metadata:Be.$metadata}),Be;case 3:return Xe.a(2)}},V,null,[[0,2]])}));return function(V){return g.apply(this,arguments)}}()},A)}}}},54931:(we,se,b)=>{b.d(se,{n:()=>k});var I={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},a=b(11),m=b(81890),k=function(y){return{applyToStack:function(L){L.add(function(y){return function(){var E=(0,m.A)((0,a.A)().m(function L(f){return(0,a.A)().w(function(g){for(;;)if(0===g.n)return g.a(2,y(f))},L)}));return function(L){return E.apply(this,arguments)}}()},I)}}}},98027:(we,se,b)=>{b.d(se,{D:()=>A});var I=b(11),a=b(81890),m=b(43971),v=void 0;function k(y){return void 0===y||"string"==typeof y&&y.length<=50}function A(y){var E,g,L=(0,m.t)(null!==(E=y.userAgentAppId)&&void 0!==E?E:v),f=y.customUserAgent;return Object.assign(y,{customUserAgent:"string"==typeof f?[[f]]:f,userAgentAppId:(g=(0,a.A)((0,I.A)().m(function w(){var F,N,M;return(0,I.A)().w(function(G){for(;;)switch(G.n){case 0:return G.n=1,L();case 1:return k(F=G.v)||(M="NoOpLogger"!==(null===(N=y.logger)||void 0===N||null===(N=N.constructor)||void 0===N?void 0:N.name)&&y.logger?y.logger:console,"string"!=typeof F?M?.warn("userAgentAppId must be a string or undefined."):F.length>50&&M?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")),G.a(2,F)}},w)})),function V(){return g.apply(this,arguments)})})}},15997:(we,se,b)=>{b.d(se,{sM:()=>j});var I=b(11),a=b(22292),m=b(63730),v=b(81890),k=b(92553),A=b(43776),y=b(98824),E=b(7931),L=/\d{12}\.ddb/;function f(ae,le,re){return g.apply(this,arguments)}function g(){return(g=(0,v.A)((0,I.A)().m(function ae(le,re,q){var te,X,ye,De,Ie,Ge,Ce,Be,Xe,Ye,it,vt,Ke,Ze,K;return(0,I.A)().w(function(Q){for(;;)switch(Q.n){case 0:if("rpc-v2-cbor"===(null==(ye=q.request)||null===(te=ye.headers)||void 0===te?void 0:te["smithy-protocol"])&&(0,E.J)(le,"PROTOCOL_RPC_V2_CBOR","M"),"function"!=typeof re.retryStrategy){Q.n=2;break}return Q.n=1,re.retryStrategy();case 1:"function"==typeof(De=Q.v).acquireInitialRetryToken?null!==(Ie=De.constructor)&&void 0!==Ie&&null!==(Ie=Ie.name)&&void 0!==Ie&&Ie.includes("Adaptive")?(0,E.J)(le,"RETRY_MODE_ADAPTIVE","F"):(0,E.J)(le,"RETRY_MODE_STANDARD","E"):(0,E.J)(le,"RETRY_MODE_LEGACY","D");case 2:if("function"!=typeof re.accountIdEndpointMode){Q.n=7;break}return Be=le.endpointV2,String(null==Be||null===(Ge=Be.url)||void 0===Ge?void 0:Ge.hostname).match(L)&&(0,E.J)(le,"ACCOUNT_ID_ENDPOINT","O"),Q.n=3,null===(Ce=re.accountIdEndpointMode)||void 0===Ce?void 0:Ce.call(re);case 3:Q.n="disabled"===(K=Q.v)?4:"preferred"===K?5:"required"===K?6:7;break;case 4:return(0,E.J)(le,"ACCOUNT_ID_MODE_DISABLED","Q"),Q.a(3,7);case 5:return(0,E.J)(le,"ACCOUNT_ID_MODE_PREFERRED","P"),Q.a(3,7);case 6:return(0,E.J)(le,"ACCOUNT_ID_MODE_REQUIRED","R"),Q.a(3,7);case 7:if(null!=(Xe=null===(X=le.__smithy_context)||void 0===X||null===(X=X.selectedHttpAuthScheme)||void 0===X?void 0:X.identity)&&Xe.$source)for((Ye=Xe).accountId&&(0,E.J)(le,"RESOLVED_ACCOUNT_ID","T"),it=0,vt=Object.entries(null!==(Ke=Ye.$source)&&void 0!==Ke?Ke:{});it<vt.length;it++)Ze=(0,y.A)(vt[it],2),(0,E.J)(le,Ze[0],Ze[1]);case 8:return Q.a(2)}},ae)}))).apply(this,arguments)}var V="user-agent",w="x-amz-user-agent",M=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,G=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;function U(ae){var le="";for(var re in ae){var q=ae[re];if(!(le.length+q.length+1<=1024))break;le+=le.length?","+q:q}return le}var ne=function(le){var re,q=le[0].split("/").map(function(Ie){return Ie.replace(M,"-")}).join("/"),te=null===(re=le[1])||void 0===re?void 0:re.replace(G,"-"),X=q.indexOf("/"),ye=q.substring(0,X),De=q.substring(X+1);return"api"===ye&&(De=De.toLowerCase()),[ye,De,te].filter(function(Ie){return Ie&&Ie.length>0}).reduce(function(Ie,Ge,Ce){switch(Ce){case 0:return Ge;case 1:return"".concat(Ie,"/").concat(Ge);default:return"".concat(Ie,"#").concat(Ge)}},"")},H={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},j=function(le){return{applyToStack:function(q){q.add(function(le){return function(re,q){return function(){var te=(0,v.A)((0,I.A)().m(function X(ye){var De,Ie,Ge,Ce,Be,Xe,Ye,it,Ke,Ze,ct,pe,K;return(0,I.A)().w(function(Q){for(;;)switch(Q.n){case 0:if(A.K.isInstance(Be=ye.request)){Q.n=1;break}return Q.a(2,re(ye));case 1:return Xe=Be.headers,Ye=(null==q||null===(De=q.userAgent)||void 0===De?void 0:De.map(ne))||[],Q.n=2,le.defaultUserAgentProvider();case 2:return it=Q.v.map(ne),Q.n=3,f(q,le,ye);case 3:return it.push("m/".concat(U(Object.assign({},null===(Ie=q.__smithy_context)||void 0===Ie?void 0:Ie.features,null===(Ge=q.__aws_sdk_context)||void 0===Ge?void 0:Ge.features)))),Ke=(null==le||null===(Ce=le.customUserAgent)||void 0===Ce?void 0:Ce.map(ne))||[],Q.n=4,le.userAgentAppId();case 4:return(Ze=Q.v)&&it.push(ne(["app/".concat(Ze)])),ct=(0,k.vL)(),pe=(ct?[ct]:[]).concat([].concat((0,m.A)(it),(0,m.A)(Ye),(0,m.A)(Ke))).join(" "),K=[].concat((0,m.A)(it.filter(function(xe){return xe.startsWith("aws-sdk-")})),(0,m.A)(Ke)).join(" "),"browser"!==le.runtime?(K&&(Xe[w]=Xe[w]?"".concat(Xe[V]," ").concat(K):K),Xe[V]=pe):Xe[w]=pe,Q.a(2,re((0,a.A)((0,a.A)({},ye),{},{request:Be})))}},X)}));return function(X){return te.apply(this,arguments)}}()}}(le),H)}}}},45647:(we,se,b)=>{b.d(se,{$:()=>a,R:()=>I});var I=function(v){return{setRegion:function(A){v.region=A},region:function(){return v.region}}},a=function(v){return{region:v.region()}}},92553:(we,se,b)=>{b.d(se,{UF:()=>T,vL:()=>R});var I=b(71440),a=b(50438),m=b(98023),v=b(54110),k=function(H){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var le,ae=(0,a.A)(H.split("."));try{for(ae.s();!(le=ae.n()).done;)if(!k(le.value))return!1}catch(q){ae.e(q)}finally{ae.f()}return!0}return!(!(0,m.X)(H)||H.length<3||H.length>63||H!==H.toLowerCase()||(0,v.o)(H))},A=b(6724),f=b(98824),g=b(22292),w=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}'),R=function(){return""},T={isVirtualHostableS3Bucket:k,parseArn:function(H){var j=H.split(":");if(j.length<6)return null;var ae=(0,A.A)(j),le=ae[0],re=ae[1],q=ae[2],te=ae[3],X=ae[4],ye=ae.slice(5);return"arn"!==le||""===re||""===q||""===ye.join(":")?null:{partition:re,service:q,region:te,accountId:X,resourceId:ye.map(function(Ie){return Ie.split("/")}).flat()}},partition:function(H){var re,ae=w.partitions,le=(0,a.A)(ae);try{for(le.s();!(re=le.n()).done;)for(var q=re.value,X=q.outputs,ye=0,De=Object.entries(q.regions);ye<De.length;ye++){var Ie=(0,f.A)(De[ye],2),Ce=Ie[1];if(Ie[0]===H)return(0,g.A)((0,g.A)({},X),Ce)}}catch(Ze){le.e(Ze)}finally{le.f()}var Xe,Be=(0,a.A)(ae);try{for(Be.s();!(Xe=Be.n()).done;){var Ye=Xe.value,vt=Ye.outputs;if(new RegExp(Ye.regionRegex).test(H))return(0,g.A)({},vt)}}catch(Ze){Be.e(Ze)}finally{Be.f()}var Ke=ae.find(function(Ze){return"aws"===Ze.id});if(!Ke)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return(0,g.A)({},Ke.outputs)}};I.m.aws=T},93342:(we,se,b)=>{b.d(se,{R:()=>a});var I={};function a(){return typeof window<"u"?window:typeof self<"u"?self:I}},71587:(we,se,b)=>{b.d(se,{pf:()=>m});var I=b(11),a=b(81890),m=function(y){var E=y.serviceId,L=y.clientVersion;return function(){var f=(0,a.A)((0,I.A)().m(function g(V){var w,F,N,M,G,R,T,U,ee,ne,H,j,ae,re,q,te,X,ye,De;return(0,I.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:return H=typeof window<"u"?window.navigator:void 0,j=null!==(w=H?.userAgent)&&void 0!==w?w:"",ae=null!==(F=null!==(N=null==H||null===(M=H.userAgentData)||void 0===M?void 0:M.platform)&&void 0!==N?N:v.os(j))&&void 0!==F?F:"other",re=null!==(G=null==H||null===(R=H.userAgentData)||void 0===R?void 0:R.brands)&&void 0!==G?G:[],q=re[re.length-1],te=null!==(T=null!==(U=q?.brand)&&void 0!==U?U:v.browser(j))&&void 0!==T?T:"unknown",X=null!==(ee=q?.version)&&void 0!==ee?ee:"unknown",ye=[["aws-sdk-js",L],["ua","2.1"],["os/".concat(ae),void 0],["lang/js"],["md/browser","".concat(te,"_").concat(X)]],E&&ye.push(["api/".concat(E),L]),Ie.n=1,null==V||null===(ne=V.userAgentAppId)||void 0===ne?void 0:ne.call(V);case 1:return(De=Ie.v)&&ye.push(["app/".concat(De)]),Ie.a(2,ye)}},g)}));return function(g){return f.apply(this,arguments)}}()},v={os:function(y){return/iPhone|iPad|iPod/.test(y)?"iOS":/Macintosh|Mac OS X/.test(y)?"macOS":/Windows NT/.test(y)?"Windows":/Android/.test(y)?"Android":/Linux/.test(y)?"Linux":void 0},browser:function(y){return/EdgiOS|EdgA|Edg\//.test(y)?"Microsoft Edge":/Firefox\//.test(y)?"Firefox":/Chrome\//.test(y)?"Chrome":/Safari\//.test(y)?"Safari":void 0}}},94965:(we,se,b)=>{b.r(se),b.d(se,{fromUtf8:()=>k,toUtf8:()=>A});var k=function(E){return"function"==typeof TextEncoder?function m(y){return(new TextEncoder).encode(y)}(E):function(E){for(var L=[],f=0,g=E.length;f<g;f++){var V=E.charCodeAt(f);if(V<128)L.push(V);else if(V<2048)L.push(V>>6|192,63&V|128);else if(f+1<E.length&&55296==(64512&V)&&56320==(64512&E.charCodeAt(f+1))){var w=65536+((1023&V)<<10)+(1023&E.charCodeAt(++f));L.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}else L.push(V>>12|224,V>>6&63|128,63&V|128)}return Uint8Array.from(L)}(E)},A=function(E){return"function"==typeof TextDecoder?function v(y){return new TextDecoder("utf-8").decode(y)}(E):function(E){for(var L="",f=0,g=E.length;f<g;f++){var V=E[f];if(V<128)L+=String.fromCharCode(V);else if(192<=V&&V<224){var w=E[++f];L+=String.fromCharCode((31&V)<<6|63&w)}else if(240<=V&&V<365){var N="%"+[V,E[++f],E[++f],E[++f]].map(function(M){return M.toString(16)}).join("%");L+=decodeURIComponent(N)}else L+=String.fromCharCode((15&V)<<12|(63&E[++f])<<6|63&E[++f])}return L}(E)}},3668:(we,se,b)=>{b.d(se,{VW:()=>k}),b(80694),b(62734);var k=!1},82502:(we,se,b)=>{b.d(se,{Hj:()=>k}),b(80694),b(62734);var k=!1},54308:(we,se,b)=>{b.d(se,{T:()=>E});var I=b(11),a=b(81890),m=b(98023),v=new Set,k=function(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.X;if(!v.has(f)&&!g(f))throw new Error('Region not accepted: region="'.concat(f,'" is not a valid hostname component.'));v.add(f)},A=function(f){return"string"==typeof f&&(f.startsWith("fips-")||f.endsWith("-fips"))},y=function(f){return A(f)?["fips-aws-global","aws-fips"].includes(f)?"us-east-1":f.replace(/fips-(dkr-|prod-)?|-fips/,""):f},E=function(f){var w,g=f.region,V=f.useFipsEndpoint;if(!g)throw new Error("Region is missing");return Object.assign(f,{region:(w=(0,a.A)((0,I.A)().m(function N(){var G,R;return(0,I.A)().w(function(T){for(;;)switch(T.n){case 0:if("function"!=typeof g){T.n=2;break}return T.n=1,g();case 1:R=T.v,T.n=3;break;case 2:R=g;case 3:return G=y(R),k(G),T.a(2,G)}},N)})),function F(){return w.apply(this,arguments)}),useFipsEndpoint:function(){var w=(0,a.A)((0,I.A)().m(function N(){var G;return(0,I.A)().w(function(R){for(;;)switch(R.n){case 0:if("string"!=typeof g){R.n=1;break}G=g,R.n=3;break;case 1:return R.n=2,g();case 2:G=R.v;case 3:if(!A(G)){R.n=4;break}return R.a(2,!0);case 4:return R.a(2,"function"!=typeof V?Promise.resolve(!!V):V())}},N)}));return function F(){return w.apply(this,arguments)}}()})}},27111:(we,se,b)=>{b.d(se,{w:()=>L});var I=b(11),a=b(81890),m=b(50438),v=b(13928),k=function(g,V){if(!V||0===V.length)return g;var N,w=[],F=(0,m.A)(V);try{for(F.s();!(N=F.n()).done;){var R,M=N.value,G=(0,m.A)(g);try{for(G.s();!(R=G.n()).done;){var T=R.value;T.schemeId.split("#")[1]===M&&w.push(T)}}catch(j){G.e(j)}finally{G.f()}}}catch(j){F.e(j)}finally{F.f()}var ne,ee=(0,m.A)(g);try{var H=function(){var ae=ne.value;w.find(function(le){return le.schemeId===ae.schemeId})||w.push(ae)};for(ee.s();!(ne=ee.n()).done;)H()}catch(j){ee.e(j)}finally{ee.f()}return w};function A(f){var w,g=new Map,V=(0,m.A)(f);try{for(V.s();!(w=V.n()).done;){var F=w.value;g.set(F.schemeId,F)}}catch(N){V.e(N)}finally{V.f()}return g}var E={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},L=function(g,V){var w=V.httpAuthSchemeParametersProvider,F=V.identityProviderConfigProvider;return{applyToStack:function(M){M.addRelativeTo(function(g,V){return function(w,F){return function(){var N=(0,a.A)((0,I.A)().m(function M(G){var R,U,ee,ne,H,j,ae,le,re,q,te,X,ye,Ie,Ge,Ce,Be,Xe,Ye;return(0,I.A)().w(function(Ze){for(;;)switch(Ze.p=Ze.n){case 0:return Ce=g,Ze.n=1,V.httpAuthSchemeParametersProvider(g,F,G.input);case 1:if(R=Ce.httpAuthSchemeProvider.call(Ce,Ze.v),!g.authSchemePreference){Ze.n=3;break}return Ze.n=2,g.authSchemePreference();case 2:Be=Ze.v,Ze.n=4;break;case 3:Be=[];case 4:U=k(R,Be),ee=A(g.httpAuthSchemes),ne=(0,v.u)(F),H=[],j=(0,m.A)(U),Ze.p=5,j.s();case 6:if((ae=j.n()).done){Ze.n=12;break}if(q=ee.get((re=ae.value).schemeId)){Ze.n=7;break}return H.push("HttpAuthScheme `".concat(re.schemeId,"` was not enabled for this service.")),Ze.a(3,11);case 7:return Xe=q,Ze.n=8,V.identityProviderConfigProvider(g);case 8:if(te=Xe.identityProvider.call(Xe,Ze.v)){Ze.n=9;break}return H.push("HttpAuthScheme `".concat(re.schemeId,"` did not have an IdentityProvider configured.")),Ze.a(3,11);case 9:return X=(null===(le=re.propertiesExtractor)||void 0===le?void 0:le.call(re,g,F))||{},ye=X.identityProperties,Ge=void 0===(Ie=X.signingProperties)?{}:Ie,re.identityProperties=Object.assign(re.identityProperties||{},void 0===ye?{}:ye),re.signingProperties=Object.assign(re.signingProperties||{},Ge),Ye=re,Ze.n=10,te(re.identityProperties);case 10:return ne.selectedHttpAuthScheme={httpAuthOption:Ye,identity:Ze.v,signer:q.signer},Ze.a(3,12);case 11:Ze.n=6;break;case 12:Ze.n=14;break;case 13:Ze.p=13,j.e(Ze.v);case 14:return Ze.p=14,j.f(),Ze.f(14);case 15:if(ne.selectedHttpAuthScheme){Ze.n=16;break}throw new Error(H.join("\n"));case 16:return Ze.a(2,w(G))}},M,null,[[5,13,14,15]])}));return function(M){return N.apply(this,arguments)}}()}}(g,{httpAuthSchemeParametersProvider:w,identityProviderConfigProvider:F}),E)}}}},37957:(we,se,b)=>{b.d(se,{l:()=>f,Q:()=>L});var I=b(11),a=b(22292),m=b(81890),v=b(43776),k=b(13928),A=function(V){return function(w){throw w}},y=function(V,w){},L={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},f=function(V){return{applyToStack:function(F){F.addRelativeTo(function(w,F){return function(){var N=(0,m.A)((0,I.A)().m(function M(G){var R,T,U,ee,ne,H,j,ae,le,re,q,te;return(0,I.A)().w(function(X){for(;;)switch(X.n){case 0:if(v.K.isInstance(G.request)){X.n=1;break}return X.a(2,w(G));case 1:if(R=(0,k.u)(F),T=R.selectedHttpAuthScheme){X.n=2;break}throw new Error("No HttpAuthScheme was selected: unable to sign request");case 2:return ee=void 0===(U=T.httpAuthOption.signingProperties)?{}:U,ne=T.identity,H=T.signer,ae=w,le=a.A,re=(0,a.A)({},G),q={},X.n=3,H.sign(G.request,ne,ee);case 3:return te=X.v,X.n=4,ae(le(re,q,{request:te})).catch((H.errorHandler||A)(ee));case 4:return(H.successHandler||y)((j=X.v).response,ee),X.a(2,j)}},M)}));return function(M){return N.apply(this,arguments)}}()},L)}}}},43971:(we,se,b)=>{b.d(se,{t:()=>I});var I=function(m){if("function"==typeof m)return m;var v=Promise.resolve(m);return function(){return v}}},57622:(we,se,b)=>{b.d(se,{P:()=>w});var I=b(11),a=b(81890),m=b(43288),v=b(63398),k=b(82297),A=b(13544),y=b(94334),E=b(47436),L=b(8833),f=b(56044),g=b(87521),V=function(F){function N(){return(0,m.A)(this,N),(0,k.A)(this,N,arguments)}return(0,A.A)(N,F),(0,v.A)(N,[{key:"transformToString",value:function(){return"base64"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8")?(0,E.n)(this):(0,f.P)(this)}}],[{key:"fromString",value:function(G){if("string"==typeof G)return N.mutate("base64"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8")?(0,L.E)(G):(0,g.a)(G));throw new Error("Unsupported conversion from ".concat(typeof G," to Uint8ArrayBlobAdapter."))}},{key:"mutate",value:function(G){return Object.setPrototypeOf(G,N.prototype),G}}])}((0,y.A)(Uint8Array)),w=function(){var F=(0,a.A)(function(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,M=arguments.length>1?arguments[1]:void 0;return(0,I.A)().m(function G(){var R,T;return(0,I.A)().w(function(U){for(;;)switch(U.n){case 0:if(!(N instanceof Uint8Array)){U.n=1;break}return U.a(2,V.mutate(N));case 1:if(N){U.n=2;break}return U.a(2,V.mutate(new Uint8Array));case 2:return R=M.streamCollector(N),T=V,U.n=3,R;case 3:return U.a(2,T.mutate.call(T,U.v))}},G)})()});return function(){return F.apply(this,arguments)}}()},32723:(we,se,b)=>{b.d(se,{JV:()=>k,l3:()=>F,t_:()=>L,xE:()=>w});var I=b(98824),a=b(69176),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(re){var q=re.getUTCFullYear(),te=re.getUTCMonth(),X=re.getUTCDay(),ye=re.getUTCDate(),De=re.getUTCHours(),Ie=re.getUTCMinutes(),Ge=re.getUTCSeconds(),Ce=ye<10?"0".concat(ye):"".concat(ye),Be=De<10?"0".concat(De):"".concat(De),Xe=Ie<10?"0".concat(Ie):"".concat(Ie),Ye=Ge<10?"0".concat(Ge):"".concat(Ge);return"".concat(m[X],", ").concat(Ce," ").concat(v[te]," ").concat(q," ").concat(Be,":").concat(Xe,":").concat(Ye," GMT")}var E=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),L=function(q){if(null!=q){if("string"!=typeof q)throw new TypeError("RFC-3339 date-times must be expressed as strings");var te=E.exec(q);if(!te)throw new TypeError("Invalid RFC-3339 date-time value");var X=(0,I.A)(te,9),Ie=X[2],Ge=X[3],Ce=X[4],Be=X[5],Xe=X[6],Ye=X[7],it=X[8],vt=(0,a.zi)(le(X[1])),Ke=H(Ie,"month",1,12),Ze=H(Ge,"day",1,31),ct=N(vt,Ke,Ze,{hours:Ce,minutes:Be,seconds:Xe,fractionalMilliseconds:Ye});return"Z"!=it.toUpperCase()&&ct.setTime(ct.getTime()-ae(it)),ct}},f=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),g=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),V=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),w=function(q){if(null!=q){if("string"!=typeof q)throw new TypeError("RFC-7231 date-times must be expressed as strings");var te=f.exec(q);if(te){var ye=(0,I.A)(te,8),Ie=ye[1],Ge=ye[2],Be=ye[4],Xe=ye[5],Ye=ye[6],it=ye[7];return N((0,a.zi)(le(ye[3])),T(Ge),H(Ie,"day",1,31),{hours:Be,minutes:Xe,seconds:Ye,fractionalMilliseconds:it})}if(te=g.exec(q)){var Ke=(0,I.A)(te,8),ct=Ke[1],pe=Ke[2],Q=Ke[4],xe=Ke[5],ke=Ke[6],oe=Ke[7];return R(N(M(Ke[3]),T(pe),H(ct,"day",1,31),{hours:Q,minutes:xe,seconds:ke,fractionalMilliseconds:oe}))}if(te=V.exec(q)){var Me=(0,I.A)(te,8),Z=Me[1],W=Me[2],ve=Me[3],je=Me[4],nt=Me[5],at=Me[6];return N((0,a.zi)(le(Me[7])),T(Z),H(W.trimLeft(),"day",1,31),{hours:ve,minutes:je,seconds:nt,fractionalMilliseconds:at})}throw new TypeError("Invalid RFC-7231 date-time value")}},F=function(q){if(null!=q){var te;if("number"==typeof q)te=q;else if("string"==typeof q)te=(0,a.OZ)(q);else{if("object"!=typeof q||1!==q.tag)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");te=q.value}if(Number.isNaN(te)||te===1/0||te===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*te))}},N=function(q,te,X,ye){var De=te-1;return ee(q,De,X),new Date(Date.UTC(q,De,X,H(ye.hours,"hour",0,23),H(ye.minutes,"minute",0,59),H(ye.seconds,"seconds",0,60),j(ye.fractionalMilliseconds)))},M=function(q){var te=(new Date).getUTCFullYear(),X=100*Math.floor(te/100)+(0,a.zi)(le(q));return X<te?X+100:X},R=function(q){return q.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(q.getUTCFullYear()-100,q.getUTCMonth(),q.getUTCDate(),q.getUTCHours(),q.getUTCMinutes(),q.getUTCSeconds(),q.getUTCMilliseconds())):q},T=function(q){var te=v.indexOf(q);if(te<0)throw new TypeError("Invalid month: ".concat(q));return te+1},U=[31,28,31,30,31,30,31,31,30,31,30,31],ee=function(q,te,X){var ye=U[te];if(1===te&&ne(q)&&(ye=29),X>ye)throw new TypeError("Invalid day for ".concat(v[te]," in ").concat(q,": ").concat(X))},ne=function(q){return q%4==0&&(q%100!=0||q%400==0)},H=function(q,te,X,ye){var De=(0,a.tW)(le(q));if(De<X||De>ye)throw new TypeError("".concat(te," must be between ").concat(X," and ").concat(ye,", inclusive"));return De},j=function(q){return null==q?0:1e3*(0,a.UO)("0."+q)},ae=function(q){var te=q[0],X=1;if("+"==te)X=1;else{if("-"!=te)throw new TypeError("Offset direction, ".concat(te,', must be "+" or "-"'));X=-1}return X*(60*Number(q.substring(1,3))+Number(q.substring(4,6)))*60*1e3},le=function(q){for(var te=0;te<q.length-1&&"0"===q.charAt(te);)te++;return 0===te?q:q.slice(te)}},69176:(we,se,b)=>{b.d(se,{OZ:()=>G,UO:()=>T,V0:()=>re,Xk:()=>F,Y0:()=>w,lK:()=>N,r$:()=>m,tW:()=>ye,yG:()=>I,zi:()=>X});var I=function(Ce){switch(Ce){case"true":return!0;case"false":return!1;default:throw new Error('Unable to parse boolean value "'.concat(Ce,'"'))}},m=function(Ce){if(null!=Ce){if("string"==typeof Ce){var Be=parseFloat(Ce);if(!Number.isNaN(Be))return String(Be)!==String(Ce)&&Ie.warn(De("Expected number but observed string: ".concat(Ce))),Be}if("number"==typeof Ce)return Ce;throw new TypeError("Expected number, got ".concat(typeof Ce,": ").concat(Ce))}},v=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),A=function(Ce){if(null!=Ce){if(Number.isInteger(Ce)&&!Number.isNaN(Ce))return Ce;throw new TypeError("Expected integer, got ".concat(typeof Ce,": ").concat(Ce))}},g=function(Ce,Be){var Xe=A(Ce);if(void 0!==Xe&&V(Xe,Be)!==Xe)throw new TypeError("Expected ".concat(Be,"-bit integer, got ").concat(Ce));return Xe},V=function(Ce,Be){switch(Be){case 32:return Int32Array.of(Ce)[0];case 16:return Int16Array.of(Ce)[0];case 8:return Int8Array.of(Ce)[0]}},w=function(Ce,Be){if(null==Ce)throw Be?new TypeError("Expected a non-null value for ".concat(Be)):new TypeError("Expected a non-null value");return Ce},F=function(Ce){if(null!=Ce){if("object"==typeof Ce&&!Array.isArray(Ce))return Ce;var Be=Array.isArray(Ce)?"array":typeof Ce;throw new TypeError("Expected object, got ".concat(Be,": ").concat(Ce))}},N=function(Ce){if(null!=Ce){if("string"==typeof Ce)return Ce;if(["boolean","number","bigint"].includes(typeof Ce))return Ie.warn(De("Expected string, got ".concat(typeof Ce,": ").concat(Ce))),String(Ce);throw new TypeError("Expected string, got ".concat(typeof Ce,": ").concat(Ce))}},G=function(Ce){return m("string"==typeof Ce?ee(Ce):Ce)},T=function(Ce){return function(Ce){var Be=m(Ce);if(void 0!==Be&&!Number.isNaN(Be)&&Be!==1/0&&Be!==-1/0&&Math.abs(Be)>v)throw new TypeError("Expected 32-bit float, got ".concat(Ce));return Be}("string"==typeof Ce?ee(Ce):Ce)},U=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ee=function(Ce){var Be=Ce.match(U);if(null===Be||Be[0].length!==Ce.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(Ce)},re=function(Ce){return A("string"==typeof Ce?ee(Ce):Ce)},X=function(Ce){return function(Ce){return g(Ce,16)}("string"==typeof Ce?ee(Ce):Ce)},ye=function(Ce){return function(Ce){return g(Ce,8)}("string"==typeof Ce?ee(Ce):Ce)},De=function(Ce){return String(new TypeError(Ce).stack||Ce).split("\n").slice(0,5).filter(function(Be){return!Be.includes("stackTraceWarning")}).join("\n")},Ie={warn:console.warn}},48944:(we,se,b)=>{b.d(se,{h:()=>k});var I=b(98824),a=b(43288),m=b(63398),v=b(40642),k=function(){return(0,m.A)(function A(y){(0,a.A)(this,A),(0,v.A)(this,"authSchemes",new Map);for(var E=0,L=Object.entries(y);E<L.length;E++){var f=(0,I.A)(L[E],2),V=f[1];void 0!==V&&this.authSchemes.set(f[0],V)}},[{key:"getIdentityProvider",value:function(E){return this.authSchemes.get(E)}}])}()},27011:(we,se,b)=>{b.d(se,{N:()=>w});var I=b(11),a=b(50438),m=b(81890),v=b(43288),k=b(63398),A=b(40642),y=b(91386),E=b(96639);function L(F){var G,N=[],M=(0,a.A)(Object.keys(F).sort());try{for(M.s();!(G=M.n()).done;){var R=G.value,T=F[R];if(R=(0,E.o)(R),Array.isArray(T))for(var U=0,ee=T.length;U<ee;U++)N.push("".concat(R,"=").concat((0,E.o)(T[U])));else{var ne=R;(T||"string"==typeof T)&&(ne+="=".concat((0,E.o)(T))),N.push(ne)}}}catch(H){M.e(H)}finally{M.f()}return N.join("&")}function f(F,N){return new Request(F,N)}function g(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(N,M){F&&setTimeout(function(){var G=new Error("Request did not complete within ".concat(F," ms"));G.name="TimeoutError",M(G)},F)})}var V={supported:void 0},w=function(){function F(N){(0,v.A)(this,F),(0,A.A)(this,"config",void 0),(0,A.A)(this,"configProvider",void 0),"function"==typeof N?this.configProvider=N().then(function(M){return M||{}}):(this.config=N??{},this.configProvider=Promise.resolve(this.config)),void 0===V.supported&&(V.supported=typeof Request<"u"&&"keepalive"in f("https://[::1]"))}return(0,k.A)(F,[{key:"destroy",value:function(){}},{key:"handle",value:(N=(0,m.A)(function(G){var R=this,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=T.abortSignal,ee=T.requestTimeout;return(0,I.A)().m(function ne(H){var j,ae,le,re,q,te,X,ye,De,Ie,Ge,Ce,Be,Xe,Ye,it,vt,Ke,Ze;return(0,I.A)().w(function(ct){for(;;)switch(ct.n){case 0:if(R.config){ct.n=2;break}return ct.n=1,R.configProvider;case 1:R.config=ct.v;case 2:if(j=ee??R.config.requestTimeout,ae=!0===R.config.keepAlive,le=R.config.credentials,null==U||!U.aborted){ct.n=3;break}return(re=new Error("Request aborted")).name="AbortError",ct.a(2,Promise.reject(re));case 3:return q=G.path,(te=L(G.query||{}))&&(q+="?".concat(te)),G.fragment&&(q+="#".concat(G.fragment)),X="",(null!=G.username||null!=G.password)&&(Ie=null!==(ye=G.username)&&void 0!==ye?ye:"",Ge=null!==(De=G.password)&&void 0!==De?De:"",X="".concat(Ie,":").concat(Ge,"@")),Ce=G.port,Be=G.method,Xe="".concat(G.protocol,"//").concat(X).concat(G.hostname).concat(Ce?":".concat(Ce):"").concat(q),it={body:Ye="GET"===Be||"HEAD"===Be?void 0:G.body,headers:new Headers(G.headers),method:Be,credentials:le},null!==(H=R.config)&&void 0!==H&&H.cache&&(it.cache=R.config.cache),Ye&&(it.duplex="half"),typeof AbortController<"u"&&(it.signal=U),V.supported&&(it.keepalive=ae),"function"==typeof R.config.requestInit&&Object.assign(it,R.config.requestInit(G)),vt=function(){},Ke=f(Xe,it),Ze=[fetch(Ke).then(function(pe){var ke,Q={},xe=(0,a.A)(pe.headers.entries());try{for(xe.s();!(ke=xe.n()).done;){var oe=ke.value;Q[oe[0]]=oe[1]}}catch(Me){xe.e(Me)}finally{xe.f()}return null!=pe.body?{response:new y.c({headers:Q,reason:pe.statusText,statusCode:pe.status,body:pe.body})}:pe.blob().then(function(Me){return{response:new y.c({headers:Q,reason:pe.statusText,statusCode:pe.status,body:Me})}})}),g(j)],U&&Ze.push(new Promise(function(pe,K){var Q=function(){var oe=new Error("Request aborted");oe.name="AbortError",K(oe)};if("function"==typeof U.addEventListener){var xe=U;xe.addEventListener("abort",Q,{once:!0}),vt=function(){return xe.removeEventListener("abort",Q)}}else U.onabort=Q})),ct.a(2,Promise.race(Ze).finally(vt))}},ne)})()}),function M(G){return N.apply(this,arguments)})},{key:"updateHttpClientConfig",value:function(M,G){this.config=void 0,this.configProvider=this.configProvider.then(function(R){return R[M]=G,R})}},{key:"httpHandlerConfigs",value:function(){var M;return null!==(M=this.config)&&void 0!==M?M:{}}}],[{key:"create",value:function(M){return"function"==typeof M?.handle?M:new F(M)}}]);var N}()},56992:(we,se,b)=>{b.d(se,{k:()=>v});var I=b(11),a=b(81890),m=b(8833),v=function(){var f=(0,a.A)((0,I.A)().m(function g(V){var w,F;return(0,I.A)().w(function(M){for(;;)switch(M.n){case 0:if(!("function"==typeof Blob&&V instanceof Blob||"Blob"===(null===(w=V.constructor)||void 0===w?void 0:w.name))){M.n=3;break}if(void 0===Blob.prototype.arrayBuffer){M.n=2;break}return F=Uint8Array,M.n=1,V.arrayBuffer();case 1:return M.a(2,new F(M.v));case 2:return M.a(2,k(V));case 3:return M.a(2,y(V))}},g)}));return function(V){return f.apply(this,arguments)}}();function k(f){return A.apply(this,arguments)}function A(){return(A=(0,a.A)((0,I.A)().m(function f(g){var w;return(0,I.A)().w(function(F){for(;;)switch(F.n){case 0:return F.n=1,L(g);case 1:return w=(0,m.E)(F.v),F.a(2,new Uint8Array(w))}},f)}))).apply(this,arguments)}function y(f){return E.apply(this,arguments)}function E(){return(E=(0,a.A)((0,I.A)().m(function f(g){var V,w,F,N,M,G,R,T,U,ee,ne,H;return(0,I.A)().w(function(j){for(;;)switch(j.n){case 0:V=[],w=g.getReader(),F=!1,N=0;case 1:if(F){j.n=3;break}return j.n=2,w.read();case 2:G=(M=j.v).done,(R=M.value)&&(V.push(R),N+=R.length),F=G,j.n=1;break;case 3:for(T=new Uint8Array(N),U=0,ee=0,ne=V;ee<ne.length;ee++)T.set(H=ne[ee],U),U+=H.length;return j.a(2,T)}},f)}))).apply(this,arguments)}function L(f){return new Promise(function(g,V){var w=new FileReader;w.onloadend=function(){var F;if(2!==w.readyState)return V(new Error("Reader aborted too early"));var N=null!==(F=w.result)&&void 0!==F?F:"",M=N.indexOf(",");g(N.substring(M>-1?M+1:N.length))},w.onabort=function(){return V(new Error("Read aborted"))},w.onerror=function(){return V(w.error)},w.readAsDataURL(f)})}},82499:(we,se,b)=>{b.d(se,{B:()=>I});var I=function(m){return function(){return Promise.reject(m)}}},9099:(we,se,b)=>{b.d(se,{m:()=>I});var I=function(m){return"function"==typeof ArrayBuffer&&m instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(m)}},13909:(we,se,b)=>{b.d(se,{vK:()=>L});var I=b(11),a=b(40642),m=b(22292),v=b(81890),k=b(43776),A="content-length",E={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},L=function(g){return{applyToStack:function(w){w.add(function y(f){return function(g){return function(){var V=(0,v.A)((0,I.A)().m(function w(F){var N,M,G,R;return(0,I.A)().w(function(T){for(;;)if(0===T.n){if(k.K.isInstance(N=F.request)&&(G=N.headers,(M=N.body)&&-1===Object.keys(G).map(function(U){return U.toLowerCase()}).indexOf(A)))try{R=f(M),N.headers=(0,m.A)((0,m.A)({},N.headers),{},(0,a.A)({},A,String(R)))}catch{}return T.a(2,g((0,m.A)((0,m.A)({},F),{},{request:N})))}},w)}));return function(w){return V.apply(this,arguments)}}()}}(g.bodyLengthChecker),E)}}}},67754:(we,se,b)=>{b.d(se,{k:()=>m});var I=b(11),a=b(81890),m=function(){var v=(0,a.A)((0,I.A)().m(function k(A){return(0,I.A)().w(function(y){for(;;)if(0===y.n)return y.a(2,void 0)},k)}));return function(A){return v.apply(this,arguments)}}()},71522:(we,se,b)=>{b.d(se,{r:()=>N,x:()=>M});var I=b(98824),a=b(11),m=b(81890),v=function(){var G=(0,m.A)((0,a.A)().m(function R(T){var U;return(0,a.A)().w(function(ee){for(;;)switch(ee.n){case 0:if(U=T?.Bucket||"","string"==typeof T.Bucket&&(T.Bucket=U.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),!g(U)){ee.n=2;break}if(!0!==T.ForcePathStyle){ee.n=1;break}throw new Error("Path-style addressing cannot be used with ARN buckets");case 1:ee.n=3;break;case 2:(!f(U)||-1!==U.indexOf(".")&&!String(T.Endpoint).startsWith("http:")||U.toLowerCase()!==U||U.length<3)&&(T.ForcePathStyle=!0);case 3:return T.DisableMultiRegionAccessPoints&&(T.disableMultiRegionAccessPoints=!0,T.DisableMRAP=!0),ee.a(2,T)}},R)}));return function(T){return G.apply(this,arguments)}}(),k=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,A=/(\d+\.){3}\d+/,y=/\.\./,f=function(R){return k.test(R)&&!A.test(R)&&!y.test(R)},g=function(R){var T=R.split(":"),U=(0,I.A)(T,6),ne=U[1],H=U[2],j=U[5],ae="arn"===U[0]&&R.split(":").length>=6,le=!!(ae&&ne&&H&&j);if(ae&&!le)throw new Error("Invalid ARN: ".concat(R," was an invalid ARN."));return le},V=function(R,T,U){var ee=function(){var ne=(0,m.A)((0,a.A)().m(function H(){var j,ae;return(0,a.A)().w(function(le){for(;;)switch(le.n){case 0:if("function"!=typeof(ae=null!==(j=U[R])&&void 0!==j?j:U[T])){le.n=1;break}return le.a(2,ae());case 1:return le.a(2,ae)}},H)}));return function(){return ne.apply(this,arguments)}}();return"credentialScope"===R||"CredentialScope"===T?(0,m.A)((0,a.A)().m(function ne(){var H,j,ae,le;return(0,a.A)().w(function(re){for(;;)switch(re.n){case 0:if("function"!=typeof U.credentials){re.n=2;break}return re.n=1,U.credentials();case 1:le=re.v,re.n=3;break;case 2:le=U.credentials;case 3:return j=le,ae=null!==(H=j?.credentialScope)&&void 0!==H?H:j?.CredentialScope,re.a(2,ae)}},ne)})):"accountId"===R||"AccountId"===T?(0,m.A)((0,a.A)().m(function ne(){var H,j,ae,le;return(0,a.A)().w(function(re){for(;;)switch(re.n){case 0:if("function"!=typeof U.credentials){re.n=2;break}return re.n=1,U.credentials();case 1:le=re.v,re.n=3;break;case 2:le=U.credentials;case 3:return j=le,ae=null!==(H=j?.accountId)&&void 0!==H?H:j?.AccountId,re.a(2,ae)}},ne)})):"endpoint"===R||"endpoint"===T?(0,m.A)((0,a.A)().m(function ne(){var H,ae,le,re;return(0,a.A)().w(function(q){for(;;)switch(q.n){case 0:if(!1!==U.isCustomEndpoint){q.n=1;break}return q.a(2,void 0);case 1:return q.n=2,ee();case 2:if(!(H=q.v)||"object"!=typeof H){q.n=4;break}if(!("url"in H)){q.n=3;break}return q.a(2,H.url.href);case 3:if(!("hostname"in H)){q.n=4;break}return ae=H.hostname,le=H.port,re=H.path,q.a(2,"".concat(H.protocol,"//").concat(ae).concat(le?":"+le:"").concat(re));case 4:return q.a(2,H)}},ne)})):ee},w=b(67754),F=b(4266),N=function(){var G=(0,m.A)((0,a.A)().m(function R(T,U,ee,ne){var H,j,ae;return(0,a.A)().w(function(le){for(;;)switch(le.n){case 0:if(ee.isCustomEndpoint){le.n=5;break}if(!ee.serviceConfiguredEndpoint){le.n=2;break}return le.n=1,ee.serviceConfiguredEndpoint();case 1:H=le.v,le.n=4;break;case 2:return le.n=3,(0,w.k)(ee.serviceId);case 3:H=le.v;case 4:H&&(ee.endpoint=function(){return Promise.resolve((0,F.a)(H))},ee.isCustomEndpoint=!0);case 5:return le.n=6,M(T,U,ee);case 6:if(j=le.v,"function"==typeof ee.endpointProvider){le.n=7;break}throw new Error("config.endpointProvider is not set.");case 7:return ae=ee.endpointProvider(j,ne),le.a(2,ae)}},R)}));return function(T,U,ee,ne){return G.apply(this,arguments)}}(),M=function(){var G=(0,m.A)((0,a.A)().m(function R(T,U,ee){var ne,H,j,ae,le,re,q,te,X;return(0,a.A)().w(function(ye){for(;;)switch(ye.n){case 0:H={},j=(null==U||null===(ne=U.getEndpointParameterInstructions)||void 0===ne?void 0:ne.call(U))||{},ae=0,le=Object.entries(j);case 1:if(!(ae<le.length)){ye.n=9;break}re=(0,I.A)(le[ae],2),q=re[0],ye.n="staticContextParams"===(X=(te=re[1]).type)?2:"contextParams"===X?3:"clientContextParams"===X||"builtInParams"===X?4:"operationContextParams"===X?6:7;break;case 2:return H[q]=te.value,ye.a(3,8);case 3:return H[q]=T[te.name],ye.a(3,8);case 4:return ye.n=5,V(te.name,q,ee)();case 5:return H[q]=ye.v,ye.a(3,8);case 6:return H[q]=te.get(T),ye.a(3,8);case 7:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(te));case 8:ae++,ye.n=1;break;case 9:if(0===Object.keys(j).length&&Object.assign(H,ee),"s3"!==String(ee.serviceId).toLowerCase()){ye.n=10;break}return ye.n=10,v(H);case 10:return ye.a(2,H)}},R)}));return function(T,U,ee){return G.apply(this,arguments)}}()},4266:(we,se,b)=>{b.d(se,{a:()=>a});var I=b(50993),a=function(v){return"object"==typeof v?"url"in v?(0,I.D)(v.url):v:(0,I.D)(v)}},19119:(we,se,b)=>{b.d(se,{r:()=>f});var I=b(57964),a=b(11),m=b(22292),v=b(81890);function k(g,V,w){g.__smithy_context?g.__smithy_context.features||(g.__smithy_context.features={}):g.__smithy_context={features:{}},g.__smithy_context.features[V]=w}var A=b(13928),y=b(71522),L={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:I.Ou.name},f=function(V,w){return{applyToStack:function(N){N.addRelativeTo(function(V){var w=V.config,F=V.instructions;return function(N,M){return function(){var G=(0,v.A)((0,a.A)().m(function R(T){var U,ee,ne,H,j,ae,le;return(0,a.A)().w(function(re){for(;;)switch(re.n){case 0:return w.isCustomEndpoint&&k(M,"ENDPOINT_OVERRIDE","N"),re.n=1,(0,y.r)(T.input,{getEndpointParameterInstructions:function(){return F}},(0,m.A)({},w),M);case 1:return M.endpointV2=ne=re.v,M.authSchemes=null===(U=ne.properties)||void 0===U?void 0:U.authSchemes,(H=null===(ee=M.authSchemes)||void 0===ee?void 0:ee[0])&&(M.signing_region=H.signingRegion,M.signing_service=H.signingName,ae=(0,A.u)(M),(le=null==ae||null===(j=ae.selectedHttpAuthScheme)||void 0===j?void 0:j.httpAuthOption)&&(le.signingProperties=Object.assign(le.signingProperties||{},{signing_region:H.signingRegion,signingRegion:H.signingRegion,signing_service:H.signingName,signingName:H.signingName,signingRegionSet:H.signingRegionSet},H.properties))),re.a(2,N((0,m.A)({},T)))}},R)}));return function(R){return G.apply(this,arguments)}}()}}({config:V,instructions:w}),L)}}}},42855:(we,se,b)=>{b.d(se,{C:()=>A});var I=b(11),a=b(81890),m=b(46887),v=b(67754),k=b(4266),A=function(E){var L,f=null===(L=E.tls)||void 0===L||L,g=E.endpoint,V=E.useDualstackEndpoint,w=E.useFipsEndpoint,M=Object.assign(E,{endpoint:null!=g?(0,a.A)((0,I.A)().m(function R(){var T;return(0,I.A)().w(function(U){for(;;)switch(U.n){case 0:return T=k.a,U.n=1,(0,m.t)(g)();case 1:return U.a(2,T(U.v))}},R)})):void 0,tls:f,isCustomEndpoint:!!g,useDualstackEndpoint:(0,m.t)(V??!1),useFipsEndpoint:(0,m.t)(w??!1)}),G=void 0;return M.serviceConfiguredEndpoint=(0,a.A)((0,I.A)().m(function R(){return(0,I.A)().w(function(T){for(;;)if(0===T.n)return E.serviceId&&!G&&(G=(0,v.k)(E.serviceId)),T.a(2,G)},R)})),M}},61795:(we,se,b)=>{b.d(se,{$z:()=>R});var I=b(11),a=b(81890),m=b(46887),v=b(17439),k=b(43288),A=b(63398),y=b(40642),E=b(13554),L=function(){function ne(H){var j,ae,le,re,q;(0,k.A)(this,ne),(0,y.A)(this,"beta",void 0),(0,y.A)(this,"minCapacity",void 0),(0,y.A)(this,"minFillRate",void 0),(0,y.A)(this,"scaleConstant",void 0),(0,y.A)(this,"smooth",void 0),(0,y.A)(this,"currentCapacity",0),(0,y.A)(this,"enabled",!1),(0,y.A)(this,"lastMaxRate",0),(0,y.A)(this,"measuredTxRate",0),(0,y.A)(this,"requestCount",0),(0,y.A)(this,"fillRate",void 0),(0,y.A)(this,"lastThrottleTime",void 0),(0,y.A)(this,"lastTimestamp",0),(0,y.A)(this,"lastTxRateBucket",void 0),(0,y.A)(this,"maxCapacity",void 0),(0,y.A)(this,"timeWindow",0),this.beta=null!==(j=H?.beta)&&void 0!==j?j:.7,this.minCapacity=null!==(ae=H?.minCapacity)&&void 0!==ae?ae:1,this.minFillRate=null!==(le=H?.minFillRate)&&void 0!==le?le:.5,this.scaleConstant=null!==(re=H?.scaleConstant)&&void 0!==re?re:.4,this.smooth=null!==(q=H?.smooth)&&void 0!==q?q:.8;var te=this.getCurrentTimeInSeconds();this.lastThrottleTime=te,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return(0,A.A)(ne,[{key:"getCurrentTimeInSeconds",value:function(){return Date.now()/1e3}},{key:"getSendToken",value:(H=(0,a.A)((0,I.A)().m(function ae(){return(0,I.A)().w(function(le){for(;;)if(0===le.n)return le.a(2,this.acquireTokenBucket(1))},ae,this)})),function j(){return H.apply(this,arguments)})},{key:"acquireTokenBucket",value:function(){var H=(0,a.A)((0,I.A)().m(function ae(le){var re;return(0,I.A)().w(function(q){for(;;)switch(q.n){case 0:if(this.enabled){q.n=1;break}return q.a(2);case 1:if(this.refillTokenBucket(),!(le>this.currentCapacity)){q.n=2;break}return re=(le-this.currentCapacity)/this.fillRate*1e3,q.n=2,new Promise(function(te){return ne.setTimeoutFn(te,re)});case 2:this.currentCapacity=this.currentCapacity-le;case 3:return q.a(2)}},ae,this)}));return function j(ae){return H.apply(this,arguments)}}()},{key:"refillTokenBucket",value:function(){var j=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(j-this.lastTimestamp)*this.fillRate),this.lastTimestamp=j):this.lastTimestamp=j}},{key:"updateClientSendingRate",value:function(j){var ae;if(this.updateMeasuredRate(),(0,E.Qb)(j)){var le=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=le,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),ae=this.cubicThrottle(le),this.enableTokenBucket()}else this.calculateTimeWindow(),ae=this.cubicSuccess(this.getCurrentTimeInSeconds());var re=Math.min(ae,2*this.measuredTxRate);this.updateTokenBucketRate(re)}},{key:"calculateTimeWindow",value:function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}},{key:"cubicThrottle",value:function(j){return this.getPrecise(j*this.beta)}},{key:"cubicSuccess",value:function(j){return this.getPrecise(this.scaleConstant*Math.pow(j-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}},{key:"enableTokenBucket",value:function(){this.enabled=!0}},{key:"updateTokenBucketRate",value:function(j){this.refillTokenBucket(),this.fillRate=Math.max(j,this.minFillRate),this.maxCapacity=Math.max(j,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}},{key:"updateMeasuredRate",value:function(){var j=this.getCurrentTimeInSeconds(),ae=Math.floor(2*j)/2;this.requestCount++,ae>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(ae-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=ae)}},{key:"getPrecise",value:function(j){return parseFloat(j.toFixed(8))}}]);var H}();(0,y.A)(L,"setTimeoutFn",setTimeout);var f=b(18276),V=function(H){var j=H.retryDelay,ae=H.retryCount,le=H.retryCost;return{getRetryCount:function(){return ae},getRetryDelay:function(){return Math.min(f.G8,j)},getRetryCost:function(){return le}}},w=function(){return(0,A.A)(function ne(H){(0,k.A)(this,ne),(0,y.A)(this,"maxAttempts",void 0),(0,y.A)(this,"mode",v.cm.STANDARD),(0,y.A)(this,"capacity",f.Df),(0,y.A)(this,"retryBackoffStrategy",function(){var H=f.bp;return{computeNextBackoffDelay:function(re){return Math.floor(Math.min(f.G8,Math.random()*Math.pow(2,re)*H))},setDelayBase:function(re){H=re}}}()),(0,y.A)(this,"maxAttemptsProvider",void 0),this.maxAttempts=H,this.maxAttemptsProvider="function"==typeof H?H:(0,a.A)((0,I.A)().m(function j(){return(0,I.A)().w(function(ae){for(;;)if(0===ae.n)return ae.a(2,H)},j)}))},[{key:"acquireInitialRetryToken",value:(H=(0,a.A)((0,I.A)().m(function ae(le){return(0,I.A)().w(function(re){for(;;)if(0===re.n)return re.a(2,V({retryDelay:f.bp,retryCount:0}))},ae)})),function j(ae){return H.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var H=(0,a.A)((0,I.A)().m(function ae(le,re){var te,X,ye,De;return(0,I.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:return Ie.n=1,this.getMaxAttempts();case 1:if(!this.shouldRetry(le,re,Ie.v)){Ie.n=2;break}return this.retryBackoffStrategy.setDelayBase("THROTTLING"===(te=re.errorType)?f.jh:f.bp),X=this.retryBackoffStrategy.computeNextBackoffDelay(le.getRetryCount()),ye=re.retryAfterHint?Math.max(re.retryAfterHint.getTime()-Date.now()||0,X):X,De=this.getCapacityCost(te),this.capacity-=De,Ie.a(2,V({retryDelay:ye,retryCount:le.getRetryCount()+1,retryCost:De}));case 2:throw new Error("No retry token available");case 3:return Ie.a(2)}},ae,this)}));return function j(ae,le){return H.apply(this,arguments)}}()},{key:"recordSuccess",value:function(j){var ae;this.capacity=Math.max(f.Df,this.capacity+(null!==(ae=j.getRetryCost())&&void 0!==ae?ae:f.XP))}},{key:"getCapacity",value:function(){return this.capacity}},{key:"getMaxAttempts",value:function(){var H=(0,a.A)((0,I.A)().m(function ae(){return(0,I.A)().w(function(re){for(;;)switch(re.p=re.n){case 0:return re.p=0,re.n=1,this.maxAttemptsProvider();case 1:return re.a(2,re.v);case 2:return re.p=2,console.warn("Max attempts provider could not resolve. Using default of ".concat(v.Gz)),re.a(2,v.Gz)}},ae,this,[[0,2]])}));return function j(){return H.apply(this,arguments)}}()},{key:"shouldRetry",value:function(j,ae,le){return j.getRetryCount()+1<le&&this.capacity>=this.getCapacityCost(ae.errorType)&&this.isRetryableError(ae.errorType)}},{key:"getCapacityCost",value:function(j){return"TRANSIENT"===j?f.Rn:f.XS}},{key:"isRetryableError",value:function(j){return"THROTTLING"===j||"TRANSIENT"===j}}]);var H}(),F=function(){return(0,A.A)(function ne(H,j){(0,k.A)(this,ne),(0,y.A)(this,"maxAttemptsProvider",void 0),(0,y.A)(this,"rateLimiter",void 0),(0,y.A)(this,"standardRetryStrategy",void 0),(0,y.A)(this,"mode",v.cm.ADAPTIVE),this.maxAttemptsProvider=H,this.rateLimiter=(j??{}).rateLimiter??new L,this.standardRetryStrategy=new w(H)},[{key:"acquireInitialRetryToken",value:(H=(0,a.A)((0,I.A)().m(function ae(le){return(0,I.A)().w(function(re){for(;;)switch(re.n){case 0:return re.n=1,this.rateLimiter.getSendToken();case 1:return re.a(2,this.standardRetryStrategy.acquireInitialRetryToken(le))}},ae,this)})),function j(ae){return H.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var H=(0,a.A)((0,I.A)().m(function ae(le,re){return(0,I.A)().w(function(q){for(;;)if(0===q.n)return this.rateLimiter.updateClientSendingRate(re),q.a(2,this.standardRetryStrategy.refreshRetryTokenForRetry(le,re))},ae,this)}));return function j(ae,le){return H.apply(this,arguments)}}()},{key:"recordSuccess",value:function(j){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(j)}}]);var H}(),R=function(H){var q,j=H.retryStrategy,ae=H.retryMode,re=(0,m.t)(H.maxAttempts??v.Gz);return Object.assign(H,{maxAttempts:re,retryStrategy:(q=(0,a.A)((0,I.A)().m(function X(){return(0,I.A)().w(function(De){for(;;)switch(De.n){case 0:if(!j){De.n=1;break}return De.a(2,j);case 1:return De.n=2,(0,m.t)(ae)();case 2:if(De.v!==v.cm.ADAPTIVE){De.n=3;break}return De.a(2,new F(re));case 3:return De.a(2,new w(re))}},X)})),function te(){return q.apply(this,arguments)})})}},6811:(we,se,b)=>{b.d(se,{ey:()=>U});var I=b(82846),a=b(63730),m=b(11),v=b(81890),k=b(43776),A=b(91386),y=b(13554),E=b(38310),L=b(18276),f=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g=Array.from({length:256},function(ne,H){return H.toString(16).padStart(2,"0")}),V=function(){if(f)return f();var H=new Uint8Array(16);return crypto.getRandomValues(H),H[6]=15&H[6]|64,H[8]=63&H[8]|128,g[H[0]]+g[H[1]]+g[H[2]]+g[H[3]]+"-"+g[H[4]]+g[H[5]]+"-"+g[H[6]]+g[H[7]]+"-"+g[H[8]]+g[H[9]]+"-"+g[H[10]]+g[H[11]]+g[H[12]]+g[H[13]]+g[H[14]]+g[H[15]]},w=function(H){return H?.body instanceof ReadableStream},F=function(H){return H instanceof Error?H:H instanceof Object?Object.assign(new Error,H):"string"==typeof H?new Error(H):new Error("AWS SDK error wrapper for ".concat(H))},M=function(H){return typeof H.acquireInitialRetryToken<"u"&&typeof H.refreshRetryTokenForRetry<"u"&&typeof H.recordSuccess<"u"},G=function(H){var j={error:H,errorType:R(H)},ae=ee(H.$response);return ae&&(j.retryAfterHint=ae),j},R=function(H){return(0,y.Qb)(H)?"THROTTLING":(0,y.bV)(H)?"TRANSIENT":(0,y.GQ)(H)?"SERVER_ERROR":"CLIENT_ERROR"},T={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},U=function(H){return{applyToStack:function(ae){ae.add(function(H){return function(j,ae){return function(){var le=(0,v.A)((0,m.A)().m(function re(q){var te,X,ye,De,Ie,Ge,Ce,Be,Xe,Ye,it;return(0,m.A)().w(function(vt){for(;;)switch(vt.n){case 0:return vt.n=1,H.retryStrategy();case 1:return te=vt.v,vt.n=2,H.maxAttempts();case 2:if(X=vt.v,!M(te)){vt.n=8;break}return vt.n=3,te.acquireInitialRetryToken(ae.partition_id);case 3:ye=vt.v,De=new Error,Ie=0,Ge=0,(Be=k.K.isInstance(Ce=q.request))&&(Ce.headers[L.l5]=V()),Xe=(0,m.A)().m(function Ke(){var Ze,ct,pe,K,Q,xe,ke;return(0,m.A)().w(function(ie){for(;;)switch(ie.p=ie.n){case 0:return ie.p=0,Be&&(Ce.headers[L.ok]="attempt=".concat(Ie+1,"; max=").concat(X)),ie.n=1,j(q);case 1:return ct=(Ze=ie.v).response,pe=Ze.output,te.recordSuccess(ye),pe.$metadata.attempts=Ie+1,pe.$metadata.totalRetryDelay=Ge,ie.a(2,{v:{response:ct,output:pe}});case 2:if(ie.p=2,K=G(ke=ie.v),De=F(ke),!Be||!w(Ce)){ie.n=3;break}throw null===(Q=ae.logger instanceof E.N?console:ae.logger)||void 0===Q||Q.warn("An error was encountered in a non-retryable streaming request."),De;case 3:return ie.p=3,ie.n=4,te.refreshRetryTokenForRetry(ye,K);case 4:ye=ie.v,ie.n=6;break;case 5:throw ie.p=5,De.$metadata||(De.$metadata={}),De.$metadata.attempts=Ie+1,De.$metadata.totalRetryDelay=Ge,De;case 6:return Ie=ye.getRetryCount(),xe=ye.getRetryDelay(),Ge+=xe,ie.n=7,new Promise(function(Me){return setTimeout(Me,xe)});case 7:return ie.a(2)}},Ke,null,[[3,5],[0,2]])});case 4:return vt.d((0,I.A)(Xe()),5);case 5:if(!(Ye=vt.v)){vt.n=6;break}return vt.a(2,Ye.v);case 6:vt.n=4;break;case 7:vt.n=9;break;case 8:return null!==(it=te)&&void 0!==it&&it.mode&&(ae.userAgent=[].concat((0,a.A)(ae.userAgent||[]),[["cfg/retry-mode",te.mode]])),vt.a(2,te.retry(j,q));case 9:return vt.a(2)}},re)}));return function(re){return le.apply(this,arguments)}}()}}(H),T)}}},ee=function(H){if(A.c.isInstance(H)){var j=Object.keys(H.headers).find(function(q){return"retry-after"===q.toLowerCase()});if(j){var ae=H.headers[j],le=Number(ae);return Number.isNaN(le)?new Date(ae):new Date(1e3*le)}}}},57964:(we,se,b)=>{b.d(se,{TM:()=>g,Ou:()=>f});var I=b(98824),a=b(11),m=b(81890),v=b(91386),k=function(w,F){return function(N,M){return function(){var G=(0,m.A)((0,a.A)().m(function R(T){var ee,H,j,ae,le,re,te,X;return(0,a.A)().w(function(ye){for(;;)switch(ye.p=ye.n){case 0:return ye.n=1,N(T);case 1:return ee=ye.v.response,ye.p=2,ye.n=3,F(ee,w);case 3:return ye.a(2,{response:ee,output:ye.v});case 4:if(ye.p=4,X=ye.v,Object.defineProperty(X,"$response",{value:ee}),!("$metadata"in X)){H="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{X.message+="\n  "+H}catch{M.logger&&"NoOpLogger"!==(null===(j=M.logger)||void 0===j||null===(j=j.constructor)||void 0===j?void 0:j.name)?null===(ae=M.logger)||void 0===ae||null===(le=ae.warn)||void 0===le||le.call(ae,H):console.warn(H)}typeof X.$responseBodyText<"u"&&X.$response&&(X.$response.body=X.$responseBodyText);try{v.c.isInstance(ee)&&(re=ee.headers,te=Object.entries(void 0===re?{}:re),X.$metadata={httpStatusCode:ee.statusCode,requestId:A(/^x-[\w-]+-request-?id$/,te),extendedRequestId:A(/^x-[\w-]+-id-2$/,te),cfId:A(/^x-[\w-]+-cf-id$/,te)})}catch{}}throw X;case 5:return ye.a(2)}},R,null,[[2,4]])}));return function(R){return G.apply(this,arguments)}}()}},A=function(w,F){return(F.find(function(N){return(0,I.A)(N,1)[0].match(w)})||[void 0,void 0])[1]},y=b(22292),E=function(w,F){return function(N,M){return function(){var G=(0,m.A)((0,a.A)().m(function R(T){var U,ee,ne,H;return(0,a.A)().w(function(j){for(;;)switch(j.n){case 0:if(ee=w,ne=null!==(U=M.endpointV2)&&void 0!==U&&U.url&&ee.urlParser?(0,m.A)((0,a.A)().m(function ae(){return(0,a.A)().w(function(le){for(;;)if(0===le.n)return le.a(2,ee.urlParser(M.endpointV2.url))},ae)})):ee.endpoint){j.n=1;break}throw new Error("No valid endpoint provider available.");case 1:return j.n=2,F(T.input,(0,y.A)((0,y.A)({},w),{},{endpoint:ne}));case 2:return H=j.v,j.a(2,N((0,y.A)((0,y.A)({},T),{},{request:H})))}},R)}));return function(R){return G.apply(this,arguments)}}()}},L={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},f={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function g(V,w,F){return{applyToStack:function(M){M.add(k(V,F),L),M.add(E(V,w),f)}}}},31579:(we,se,b)=>{b.d(se,{o:()=>A});var I=b(63730),a=b(22292),m=b(50438),v=function(f,g){var V=[];if(f&&V.push(f),g){var F,w=(0,m.A)(g);try{for(w.s();!(F=w.n()).done;)V.push(F.value)}catch(M){w.e(M)}finally{w.f()}}return V},k=function(f,g){return"".concat(f||"anonymous").concat(g&&g.length>0?" (a.k.a. ".concat(g.join(","),")"):"")},A=function(){var f=[],g=[],V=!1,w=new Set,G=function(ne){var H;return f.forEach(function(j){ne.add(j.middleware,(0,a.A)({},j))}),g.forEach(function(j){ne.addRelativeTo(j.middleware,(0,a.A)({},j))}),null===(H=ne.identifyOnResolve)||void 0===H||H.call(ne,U.identifyOnResolve()),ne},R=function(ne){var H=[];return ne.before.forEach(function(j){0===j.before.length&&0===j.after.length?H.push(j):H.push.apply(H,(0,I.A)(R(j)))}),H.push(ne),ne.after.reverse().forEach(function(j){0===j.before.length&&0===j.after.length?H.push(j):H.push.apply(H,(0,I.A)(R(j)))}),H},T=function(){var ne=arguments.length>0&&void 0!==arguments[0]&&arguments[0],H=[],j=[],ae={};f.forEach(function(re){var X,q=(0,a.A)((0,a.A)({},re),{},{before:[],after:[]}),te=(0,m.A)(v(q.name,q.aliases));try{for(te.s();!(X=te.n()).done;)ae[X.value]=q}catch(De){te.e(De)}finally{te.f()}H.push(q)}),g.forEach(function(re){var X,q=(0,a.A)((0,a.A)({},re),{},{before:[],after:[]}),te=(0,m.A)(v(q.name,q.aliases));try{for(te.s();!(X=te.n()).done;)ae[X.value]=q}catch(De){te.e(De)}finally{te.f()}j.push(q)}),j.forEach(function(re){if(re.toMiddleware){var q=ae[re.toMiddleware];if(void 0===q){if(ne)return;throw new Error("".concat(re.toMiddleware," is not found when adding ")+"".concat(k(re.name,re.aliases)," ")+"middleware ".concat(re.relation," ").concat(re.toMiddleware))}"after"===re.relation&&q.after.push(re),"before"===re.relation&&q.before.push(re)}});var le=function(ne){return ne.sort(function(H,j){return y[j.step]-y[H.step]||E[j.priority||"normal"]-E[H.priority||"normal"]})}(H).map(R).reduce(function(re,q){return re.push.apply(re,(0,I.A)(q)),re},[]);return le},U={add:function(ne){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=H.name,ae=H.override,le=H.aliases,re=(0,a.A)({step:"initialize",priority:"normal",middleware:ne},H),q=v(j,le);if(q.length>0){if(q.some(function(Ce){return w.has(Ce)})){if(!ae)throw new Error("Duplicate middleware name '".concat(k(j,le),"'"));var X,te=(0,m.A)(q);try{var ye=function(){var Be=X.value,Xe=f.findIndex(function(it){var vt;return it.name===Be||(null===(vt=it.aliases)||void 0===vt?void 0:vt.some(function(Ke){return Ke===Be}))});if(-1===Xe)return 1;var Ye=f[Xe];if(Ye.step!==re.step||re.priority!==Ye.priority)throw new Error('"'.concat(k(Ye.name,Ye.aliases),'" middleware with ')+"".concat(Ye.priority," priority in ").concat(Ye.step," step cannot ")+'be overridden by "'.concat(k(j,le),'" middleware with ')+"".concat(re.priority," priority in ").concat(re.step," step."));f.splice(Xe,1)};for(te.s();!(X=te.n()).done;)ye()}catch(Ce){te.e(Ce)}finally{te.f()}}var Ie,De=(0,m.A)(q);try{for(De.s();!(Ie=De.n()).done;)w.add(Ie.value)}catch(Ce){De.e(Ce)}finally{De.f()}}f.push(re)},addRelativeTo:function(ne,H){var j=H.name,ae=H.override,le=H.aliases,re=(0,a.A)({middleware:ne},H),q=v(j,le);if(q.length>0){if(q.some(function(Ce){return w.has(Ce)})){if(!ae)throw new Error("Duplicate middleware name '".concat(k(j,le),"'"));var X,te=(0,m.A)(q);try{var ye=function(){var Be=X.value,Xe=g.findIndex(function(it){var vt;return it.name===Be||(null===(vt=it.aliases)||void 0===vt?void 0:vt.some(function(Ke){return Ke===Be}))});if(-1===Xe)return 1;var Ye=g[Xe];if(Ye.toMiddleware!==re.toMiddleware||Ye.relation!==re.relation)throw new Error('"'.concat(k(Ye.name,Ye.aliases),'" middleware ')+"".concat(Ye.relation,' "').concat(Ye.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(k(j,le),'" middleware ').concat(re.relation," ")+'"'.concat(re.toMiddleware,'" middleware.'));g.splice(Xe,1)};for(te.s();!(X=te.n()).done;)ye()}catch(Ce){te.e(Ce)}finally{te.f()}}var Ie,De=(0,m.A)(q);try{for(De.s();!(Ie=De.n()).done;)w.add(Ie.value)}catch(Ce){De.e(Ce)}finally{De.f()}}g.push(re)},clone:function(){return G(A())},use:function(ne){ne.applyToStack(U)},remove:function(ne){return"string"==typeof ne?function(ne){var H=!1,j=function(le){var re=v(le.name,le.aliases);if(re.includes(ne)){H=!0;var te,q=(0,m.A)(re);try{for(q.s();!(te=q.n()).done;)w.delete(te.value)}catch(ye){q.e(ye)}finally{q.f()}return!1}return!0};return f=f.filter(j),g=g.filter(j),H}(ne):function(ne){var H=!1,j=function(le){if(le.middleware===ne){H=!0;var q,re=(0,m.A)(v(le.name,le.aliases));try{for(re.s();!(q=re.n()).done;)w.delete(q.value)}catch(X){re.e(X)}finally{re.f()}return!1}return!0};return f=f.filter(j),g=g.filter(j),H}(ne)},removeByTag:function(ne){var H=!1,j=function(le){var re=le.tags,q=le.name,te=le.aliases;if(re&&re.includes(ne)){var De,X=v(q,te),ye=(0,m.A)(X);try{for(ye.s();!(De=ye.n()).done;)w.delete(De.value)}catch(Ge){ye.e(Ge)}finally{ye.f()}return H=!0,!1}return!0};return f=f.filter(j),g=g.filter(j),H},concat:function(ne){var H,j,ae=G(A());return ae.use(ne),ae.identifyOnResolve(V||ae.identifyOnResolve()||null!==(H=null===(j=ne.identifyOnResolve)||void 0===j?void 0:j.call(ne))&&void 0!==H&&H),ae},applyToStack:G,identify:function(){return T(!0).map(function(ne){var H,j=null!==(H=ne.step)&&void 0!==H?H:ne.relation+" "+ne.toMiddleware;return k(ne.name,ne.aliases)+" - "+j})},identifyOnResolve:function(ne){return"boolean"==typeof ne&&(V=ne),V},resolve:function(ne,H){var ae,j=(0,m.A)(T().map(function(re){return re.middleware}).reverse());try{for(j.s();!(ae=j.n()).done;)ne=(0,ae.value)(ne,H)}catch(re){j.e(re)}finally{j.f()}return V&&console.log(U.identify()),ne}};return U},y={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},E={high:3,normal:2,low:1}},44811:(we,se,b)=>{b.d(se,{e:()=>I,j:()=>a});var I=function(v){return{setHttpHandler:function(A){v.httpHandler=A},httpHandler:function(){return v.httpHandler},updateHttpClientConfig:function(A,y){var E;null===(E=v.httpHandler)||void 0===E||E.updateHttpClientConfig(A,y)},httpHandlerConfigs:function(){return v.httpHandler.httpHandlerConfigs()}}},a=function(v){return{httpHandler:v.httpHandler()}}},43776:(we,se,b)=>{b.d(se,{K:()=>A});var I=b(63730),a=b(22292),m=b(43288),v=b(63398),k=b(40642),A=function(){function E(L){(0,m.A)(this,E),(0,k.A)(this,"method",void 0),(0,k.A)(this,"protocol",void 0),(0,k.A)(this,"hostname",void 0),(0,k.A)(this,"port",void 0),(0,k.A)(this,"path",void 0),(0,k.A)(this,"query",void 0),(0,k.A)(this,"headers",void 0),(0,k.A)(this,"username",void 0),(0,k.A)(this,"password",void 0),(0,k.A)(this,"fragment",void 0),(0,k.A)(this,"body",void 0),this.method=L.method||"GET",this.hostname=L.hostname||"localhost",this.port=L.port,this.query=L.query||{},this.headers=L.headers||{},this.body=L.body,this.protocol=L.protocol?":"!==L.protocol.slice(-1)?"".concat(L.protocol,":"):L.protocol:"https:",this.path=L.path?"/"!==L.path.charAt(0)?"/".concat(L.path):L.path:"/",this.username=L.username,this.password=L.password,this.fragment=L.fragment}return(0,v.A)(E,[{key:"clone",value:function(){return E.clone(this)}}],[{key:"clone",value:function(f){var g=new E((0,a.A)((0,a.A)({},f),{},{headers:(0,a.A)({},f.headers)}));return g.query&&(g.query=function y(E){return Object.keys(E).reduce(function(L,f){var g=E[f];return(0,a.A)((0,a.A)({},L),{},(0,k.A)({},f,Array.isArray(g)?(0,I.A)(g):g))},{})}(g.query)),g}},{key:"isInstance",value:function(f){return!!f&&("method"in f&&"protocol"in f&&"hostname"in f&&"path"in f&&"object"==typeof f.query&&"object"==typeof f.headers)}}])}()},91386:(we,se,b)=>{b.d(se,{c:()=>v});var I=b(43288),a=b(63398),m=b(40642),v=function(){return(0,a.A)(function k(A){(0,I.A)(this,k),(0,m.A)(this,"statusCode",void 0),(0,m.A)(this,"reason",void 0),(0,m.A)(this,"headers",void 0),(0,m.A)(this,"body",void 0),this.statusCode=A.statusCode,this.reason=A.reason,this.headers=A.headers||{},this.body=A.body},null,[{key:"isInstance",value:function(y){return!!y&&("number"==typeof y.statusCode&&"object"==typeof y.headers)}}])}()},13554:(we,se,b)=>{b.d(se,{GQ:()=>w,Qb:()=>g,bV:()=>V});var a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],m=["TimeoutError","RequestTimeout","RequestTimeoutException"],v=[500,502,503,504],k=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],A=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],g=function(N){var M,G;return 429===(null===(M=N.$metadata)||void 0===M?void 0:M.httpStatusCode)||a.includes(N.name)||1==(null===(G=N.$retryable)||void 0===G?void 0:G.throttling)},V=function(N){var M,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(N){return void 0!==N?.$retryable}(N)||function(N){var M;return null===(M=N.$metadata)||void 0===M?void 0:M.clockSkewCorrected}(N)||m.includes(N.name)||k.includes(N?.code||"")||A.includes(N?.code||"")||v.includes((null===(M=N.$metadata)||void 0===M?void 0:M.httpStatusCode)||0)||function(N){return!!(N&&N instanceof TypeError)&&new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]).has(N.message)}(N)||void 0!==N.cause&&G<=10&&V(N.cause,G+1)},w=function(N){var M;if(void 0!==(null===(M=N.$metadata)||void 0===M?void 0:M.httpStatusCode)){var G=N.$metadata.httpStatusCode;return 500<=G&&G<=599&&!V(N)}return!1}},60324:(we,se,b)=>{b.d(se,{B:()=>En});var I=b(11),a=b(81890),m=b(43288),v=b(63398),k=b(82297),A=b(13544),y=b(40642),E=b(34576),L=b(83060),V="X-Amz-Date",N="X-Amz-Signature",M="X-Amz-Security-Token",R="authorization",T=V.toLowerCase(),ee=[R,T,"date"],ne=N.toLowerCase(),H="x-amz-content-sha256",j=M.toLowerCase(),le={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},re=/^proxy-/,q=/^sec-/,X="AWS4-HMAC-SHA256",De="AWS4-HMAC-SHA256-PAYLOAD",Ce="aws4_request",Xe={},Ye=[],it=function(Vt,St,Pt){return"".concat(Vt,"/").concat(St,"/").concat(Pt,"/").concat(Ce)},vt=function(){var ft=(0,a.A)((0,I.A)().m(function Vt(St,Pt,Et,ht,Ue){var $e,Ft,At,kt,gt,Qt;return(0,I.A)().w(function(un){for(;;)switch(un.n){case 0:return un.n=1,Ze(St,Pt.secretAccessKey,Pt.accessKeyId);case 1:if($e=un.v,!((Ft="".concat(Et,":").concat(ht,":").concat(Ue,":").concat((0,E.n)($e),":").concat(Pt.sessionToken))in Xe)){un.n=2;break}return un.a(2,Xe[Ft]);case 2:for(Ye.push(Ft);Ye.length>50;)delete Xe[Ye.shift()];At="AWS4".concat(Pt.secretAccessKey),kt=0,gt=[Et,ht,Ue,Ce];case 3:if(!(kt<gt.length)){un.n=6;break}return Qt=gt[kt],un.n=4,Ze(St,At,Qt);case 4:At=un.v;case 5:kt++,un.n=3;break;case 6:return un.a(2,Xe[Ft]=At)}},Vt)}));return function(St,Pt,Et,ht,Ue){return ft.apply(this,arguments)}}(),Ze=function(Vt,St,Pt){var Et=new Vt(St);return Et.update((0,L.F)(Pt)),Et.digest()},ct=b(50438),pe=function(Vt,St,Pt){var $e,Et=Vt.headers,ht={},Ue=(0,ct.A)(Object.keys(Et).sort());try{for(Ue.s();!($e=Ue.n()).done;){var Ft=$e.value;if(null!=Et[Ft]){var At=Ft.toLowerCase();(At in le||null!=St&&St.has(At)||re.test(At)||q.test(At))&&(!Pt||Pt&&!Pt.has(At))||(ht[At]=Et[Ft].trim().replace(/\s+/g," "))}}}catch(kt){Ue.e(kt)}finally{Ue.f()}return ht},K=b(9099),Q=function(){var ft=(0,a.A)(function(Vt,St){var Pt=Vt.headers,Et=Vt.body;return(0,I.A)().m(function ht(){var Ue,$e,Ft,At,kt;return(0,I.A)().w(function(gt){for(;;)switch(gt.n){case 0:Ue=0,$e=Object.keys(Pt);case 1:if(!(Ue<$e.length)){gt.n=3;break}if((Ft=$e[Ue]).toLowerCase()!==H){gt.n=2;break}return gt.a(2,Pt[Ft]);case 2:Ue++,gt.n=1;break;case 3:if(null!=Et){gt.n=4;break}return gt.a(2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 4:if("string"!=typeof Et&&!ArrayBuffer.isView(Et)&&!(0,K.m)(Et)){gt.n=6;break}return(At=new St).update((0,L.F)(Et)),kt=E.n,gt.n=5,At.digest();case 5:return gt.a(2,kt(gt.v));case 6:return gt.a(2,"UNSIGNED-PAYLOAD")}},ht)})()});return function(St,Pt){return ft.apply(this,arguments)}}(),xe=b(87521),ke=function(){return(0,v.A)(function ft(){(0,m.A)(this,ft)},[{key:"format",value:function(St){for(var Pt=[],Et=0,ht=Object.keys(St);Et<ht.length;Et++){var Ue=ht[Et],$e=(0,xe.a)(Ue);Pt.push(Uint8Array.from([$e.byteLength]),$e,this.formatHeaderValue(St[Ue]))}for(var Ft=new Uint8Array(Pt.reduce(function(un,on){return un+on.byteLength},0)),At=0,kt=0,gt=Pt;kt<gt.length;kt++){var Qt=gt[kt];Ft.set(Qt,At),At+=Qt.byteLength}return Ft}},{key:"formatHeaderValue",value:function(St){switch(St.type){case"boolean":return Uint8Array.from([St.value?0:1]);case"byte":return Uint8Array.from([2,St.value]);case"short":var Pt=new DataView(new ArrayBuffer(3));return Pt.setUint8(0,3),Pt.setInt16(1,St.value,!1),new Uint8Array(Pt.buffer);case"integer":var Et=new DataView(new ArrayBuffer(5));return Et.setUint8(0,4),Et.setInt32(1,St.value,!1),new Uint8Array(Et.buffer);case"long":var ht=new Uint8Array(9);return ht[0]=5,ht.set(St.value.bytes,1),ht;case"binary":var Ue=new DataView(new ArrayBuffer(3+St.value.byteLength));Ue.setUint8(0,6),Ue.setUint16(1,St.value.byteLength,!1);var $e=new Uint8Array(Ue.buffer);return $e.set(St.value,3),$e;case"string":var Ft=(0,xe.a)(St.value),At=new DataView(new ArrayBuffer(3+Ft.byteLength));At.setUint8(0,7),At.setUint16(1,Ft.byteLength,!1);var kt=new Uint8Array(At.buffer);return kt.set(Ft,3),kt;case"timestamp":var gt=new Uint8Array(9);return gt[0]=8,gt.set(Me.fromNumber(St.value.valueOf()).bytes,1),gt;case"uuid":if(!ie.test(St.value))throw new Error("Invalid UUID received: ".concat(St.value));var Qt=new Uint8Array(17);return Qt[0]=9,Qt.set((0,E.a)(St.value.replace(/\-/g,"")),1),Qt}}}])}(),ie=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Me=function(){function ft(Vt){if((0,m.A)(this,ft),(0,y.A)(this,"bytes",void 0),this.bytes=Vt,8!==Vt.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,v.A)(ft,[{key:"valueOf",value:function(){var St=this.bytes.slice(0),Pt=128&St[0];return Pt&&ue(St),parseInt((0,E.n)(St),16)*(Pt?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(St){if(St>0x8000000000000000||St<-0x8000000000000000)throw new Error("".concat(St," is too large (or, if negative, too small) to represent as an Int64"));for(var Pt=new Uint8Array(8),Et=7,ht=Math.abs(Math.round(St));Et>-1&&ht>0;Et--,ht/=256)Pt[Et]=ht;return St<0&&ue(Pt),new ft(Pt)}}])}();function ue(ft){for(var Vt=0;Vt<8;Vt++)ft[Vt]^=255;for(var St=7;St>-1&&(ft[St]++,0===ft[St]);St--);}var Z=function(Vt,St){Vt=Vt.toLowerCase();for(var Pt=0,Et=Object.keys(St);Pt<Et.length;Pt++)if(Vt===Et[Pt].toLowerCase())return!0;return!1},je=b(22292),nt=b(43776),at=function(Vt){for(var St=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Pt=nt.K.clone(Vt),Et=Pt.headers,ht=Pt.query,Ue=void 0===ht?{}:ht,$e=0,Ft=Object.keys(Et);$e<Ft.length;$e++){var At,kt,gt=Ft[$e],Qt=gt.toLowerCase();("x-amz-"===Qt.slice(0,6)&&(null===(At=St.unhoistableHeaders)||void 0===At||!At.has(Qt))||null!==(kt=St.hoistableHeaders)&&void 0!==kt&&kt.has(Qt))&&(Ue[gt]=Et[gt],delete Et[gt])}return(0,je.A)((0,je.A)({},Vt),{},{headers:Et,query:Ue})},bt=function(Vt){Vt=nt.K.clone(Vt);for(var St=0,Pt=Object.keys(Vt.headers);St<Pt.length;St++){var Et=Pt[St];ee.indexOf(Et.toLowerCase())>-1&&delete Vt.headers[Et]}return Vt},Ot=b(46887),Nt=b(96639),En=function(ft){function Vt(St){var Pt,Et=St.applyChecksum,ht=St.credentials,Ue=St.region,$e=St.service,Ft=St.sha256,At=St.uriEscapePath,kt=void 0===At||At;return(0,m.A)(this,Vt),Pt=(0,k.A)(this,Vt,[{applyChecksum:Et,credentials:ht,region:Ue,service:$e,sha256:Ft,uriEscapePath:kt}]),(0,y.A)(Pt,"headerFormatter",new ke),Pt}return(0,A.A)(Vt,ft),(0,v.A)(Vt,[{key:"presign",value:(St=(0,a.A)(function(Et){var ht=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,I.A)().m(function $e(){var Ft,At,kt,gt,Qt,un,on,Bn,rn,dn,kn,gr,qn,Dn,fr,hr,In,An,Zt,na,ti,Gn,hi,Ga,ni,vi;return(0,I.A)().w(function(hn){for(;;)switch(hn.n){case 0:return At=void 0===(Ft=Ue.signingDate)?new Date:Ft,gt=void 0===(kt=Ue.expiresIn)?3600:kt,Qt=Ue.unsignableHeaders,un=Ue.unhoistableHeaders,on=Ue.signableHeaders,Bn=Ue.hoistableHeaders,rn=Ue.signingRegion,dn=Ue.signingService,hn.n=1,ht.credentialProvider();case 1:if(ht.validateResolvedCredentials(kn=hn.v),null==rn){hn.n=2;break}Zt=rn,hn.n=4;break;case 2:return hn.n=3,ht.regionProvider();case 3:Zt=hn.v;case 4:if(gr=Zt,qn=ht.formatDate(At),Dn=qn.longDate,fr=qn.shortDate,!(gt>604800)){hn.n=5;break}return hn.a(2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 5:return hr=it(fr,gr,dn??ht.service),In=at(bt(Et),{unhoistableHeaders:un,hoistableHeaders:Bn}),kn.sessionToken&&(In.query[M]=kn.sessionToken),In.query["X-Amz-Algorithm"]=X,In.query["X-Amz-Credential"]="".concat(kn.accessKeyId,"/").concat(hr),In.query[V]=Dn,In.query["X-Amz-Expires"]=gt.toString(10),An=pe(In,Qt,on),In.query["X-Amz-SignedHeaders"]=ht.getCanonicalHeaderList(An),na=ht,ti=Dn,Gn=hr,hi=ht.getSigningKey(kn,gr,fr,dn),Ga=ht,ni=In,vi=An,hn.n=6,Q(Et,ht.sha256);case 6:return hn.n=7,na.getSignature.call(na,ti,Gn,hi,Ga.createCanonicalRequest.call(Ga,ni,vi,hn.v));case 7:return In.query[N]=hn.v,hn.a(2,In)}},$e)})()}),function Pt(Et){return St.apply(this,arguments)})},{key:"sign",value:function(){var St=(0,a.A)((0,I.A)().m(function Et(ht,Ue){return(0,I.A)().w(function($e){for(;;)switch($e.n){case 0:if("string"!=typeof ht){$e.n=1;break}return $e.a(2,this.signString(ht,Ue));case 1:if(!ht.headers||!ht.payload){$e.n=2;break}return $e.a(2,this.signEvent(ht,Ue));case 2:if(!ht.message){$e.n=3;break}return $e.a(2,this.signMessage(ht,Ue));case 3:return $e.a(2,this.signRequest(ht,Ue));case 4:return $e.a(2)}},Et,this)}));return function Pt(Et,ht){return St.apply(this,arguments)}}()},{key:"signEvent",value:function(){var St=(0,a.A)(function(Et,ht){var Ue=this,$e=Et.headers,Ft=Et.payload,At=ht.signingDate,kt=void 0===At?new Date:At,gt=ht.priorSignature,Qt=ht.signingRegion,un=ht.signingService;return(0,I.A)().m(function on(){var Bn,rn,kn,gr,qn,Dn,fr,hr,In,An;return(0,I.A)().w(function(Zt){for(;;)switch(Zt.n){case 0:if(null==Qt){Zt.n=1;break}In=Qt,Zt.n=3;break;case 1:return Zt.n=2,Ue.regionProvider();case 2:In=Zt.v;case 3:return Bn=In,rn=Ue.formatDate(kt),kn=rn.longDate,gr=it(rn.shortDate,Bn,un??Ue.service),Zt.n=4,Q({headers:{},body:Ft},Ue.sha256);case 4:return qn=Zt.v,(Dn=new Ue.sha256).update($e),An=E.n,Zt.n=5,Dn.digest();case 5:return fr=An(Zt.v),hr=[De,kn,gr,gt,fr,qn].join("\n"),Zt.a(2,Ue.signString(hr,{signingDate:kt,signingRegion:Bn,signingService:un}))}},on)})()});return function Pt(Et,ht){return St.apply(this,arguments)}}()},{key:"signMessage",value:function(){var St=(0,a.A)(function(Et,ht){var Ue=this,$e=ht.signingDate,Ft=void 0===$e?new Date:$e,At=ht.signingRegion,kt=ht.signingService;return(0,I.A)().m(function gt(){var Qt;return(0,I.A)().w(function(un){for(;;)if(0===un.n)return Qt=Ue.signEvent({headers:Ue.headerFormatter.format(Et.message.headers),payload:Et.message.body},{signingDate:Ft,signingRegion:At,signingService:kt,priorSignature:Et.priorSignature}),un.a(2,Qt.then(function(on){return{message:Et.message,signature:on}}))},gt)})()});return function Pt(Et,ht){return St.apply(this,arguments)}}()},{key:"signString",value:function(){var St=(0,a.A)(function(Et){var ht=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$e=Ue.signingDate,Ft=void 0===$e?new Date:$e,At=Ue.signingRegion,kt=Ue.signingService;return(0,I.A)().m(function gt(){var Qt,un,on,Bn,rn,dn,kn,qn;return(0,I.A)().w(function(Dn){for(;;)switch(Dn.n){case 0:return Dn.n=1,ht.credentialProvider();case 1:if(ht.validateResolvedCredentials(Qt=Dn.v),null==At){Dn.n=2;break}dn=At,Dn.n=4;break;case 2:return Dn.n=3,ht.regionProvider();case 3:dn=Dn.v;case 4:return un=dn,on=ht.formatDate(Ft),Bn=on.shortDate,kn=ht.sha256,Dn.n=5,ht.getSigningKey(Qt,un,Bn,kt);case 5:return(rn=new kn(Dn.v)).update((0,L.F)(Et)),qn=E.n,Dn.n=6,rn.digest();case 6:return Dn.a(2,qn(Dn.v))}},gt)})()});return function Pt(Et){return St.apply(this,arguments)}}()},{key:"signRequest",value:function(){var St=(0,a.A)(function(Et){var ht=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$e=Ue.signingDate,Ft=void 0===$e?new Date:$e,At=Ue.signableHeaders,kt=Ue.unsignableHeaders,gt=Ue.signingRegion,Qt=Ue.signingService;return(0,I.A)().m(function un(){var on,Bn,rn,dn,kn,gr,qn,Dn,fr,hr,In;return(0,I.A)().w(function(An){for(;;)switch(An.n){case 0:return An.n=1,ht.credentialProvider();case 1:if(ht.validateResolvedCredentials(on=An.v),null==gt){An.n=2;break}In=gt,An.n=4;break;case 2:return An.n=3,ht.regionProvider();case 3:In=An.v;case 4:return Bn=In,rn=bt(Et),dn=ht.formatDate(Ft),kn=dn.longDate,qn=it(gr=dn.shortDate,Bn,Qt??ht.service),rn.headers[T]=kn,on.sessionToken&&(rn.headers[j]=on.sessionToken),An.n=5,Q(rn,ht.sha256);case 5:return Dn=An.v,!Z(H,rn.headers)&&ht.applyChecksum&&(rn.headers[H]=Dn),fr=pe(rn,kt,At),An.n=6,ht.getSignature(kn,qn,ht.getSigningKey(on,Bn,gr,Qt),ht.createCanonicalRequest(rn,fr,Dn));case 6:return hr=An.v,rn.headers[R]="".concat(X," ")+"Credential=".concat(on.accessKeyId,"/").concat(qn,", ")+"SignedHeaders=".concat(ht.getCanonicalHeaderList(fr),", ")+"Signature=".concat(hr),An.a(2,rn)}},un)})()});return function Pt(Et){return St.apply(this,arguments)}}()},{key:"getSignature",value:function(){var St=(0,a.A)((0,I.A)().m(function Et(ht,Ue,$e,Ft){var At,kt,gt,un;return(0,I.A)().w(function(on){for(;;)switch(on.n){case 0:return on.n=1,this.createStringToSign(ht,Ue,Ft,X);case 1:return At=on.v,gt=this.sha256,on.n=2,$e;case 2:return(kt=new gt(on.v)).update((0,L.F)(At)),un=E.n,on.n=3,kt.digest();case 3:return on.a(2,un(on.v))}},Et,this)}));return function Pt(Et,ht,Ue,$e){return St.apply(this,arguments)}}()},{key:"getSigningKey",value:function(Pt,Et,ht,Ue){return vt(this.sha256,Pt,ht,Et,Ue||this.service)}}]);var St}(function(){return(0,v.A)(function ft(Vt){var St=Vt.applyChecksum,Pt=Vt.credentials,Et=Vt.region,ht=Vt.service,Ue=Vt.sha256,$e=Vt.uriEscapePath,Ft=void 0===$e||$e;(0,m.A)(this,ft),(0,y.A)(this,"service",void 0),(0,y.A)(this,"regionProvider",void 0),(0,y.A)(this,"credentialProvider",void 0),(0,y.A)(this,"sha256",void 0),(0,y.A)(this,"uriEscapePath",void 0),(0,y.A)(this,"applyChecksum",void 0),this.service=ht,this.sha256=Ue,this.uriEscapePath=Ft,this.applyChecksum="boolean"!=typeof St||St,this.regionProvider=(0,Ot.t)(Et),this.credentialProvider=(0,Ot.t)(Pt)},[{key:"createCanonicalRequest",value:function(St,Pt,Et){var ht=Object.keys(Pt).sort();return"".concat(St.method,"\n").concat(this.getCanonicalPath(St),"\n").concat(function(Vt){for(var St=Vt.query,Pt=void 0===St?{}:St,Et=[],ht={},Ue=function(){var kt=Ft[$e];if(kt.toLowerCase()===ne)return 1;var gt=(0,Nt.o)(kt);Et.push(gt);var Qt=Pt[kt];"string"==typeof Qt?ht[gt]="".concat(gt,"=").concat((0,Nt.o)(Qt)):Array.isArray(Qt)&&(ht[gt]=Qt.slice(0).reduce(function(un,on){return un.concat(["".concat(gt,"=").concat((0,Nt.o)(on))])},[]).sort().join("&"))},$e=0,Ft=Object.keys(Pt);$e<Ft.length;$e++)Ue();return Et.sort().map(function(At){return ht[At]}).filter(function(At){return At}).join("&")}(St),"\n").concat(ht.map(function(Ue){return"".concat(Ue,":").concat(Pt[Ue])}).join("\n"),"\n\n").concat(ht.join(";"),"\n").concat(Et)}},{key:"createStringToSign",value:(Vt=(0,a.A)((0,I.A)().m(function Pt(Et,ht,Ue,$e){var Ft,At;return(0,I.A)().w(function(kt){for(;;)switch(kt.n){case 0:return(Ft=new this.sha256).update((0,L.F)(Ue)),kt.n=1,Ft.digest();case 1:return At=kt.v,kt.a(2,"".concat($e,"\n").concat(Et,"\n").concat(ht,"\n").concat((0,E.n)(At)))}},Pt,this)})),function St(Pt,Et,ht,Ue){return Vt.apply(this,arguments)})},{key:"getCanonicalPath",value:function(St){var Pt=St.path;if(this.uriEscapePath){var Ue,Et=[],ht=(0,ct.A)(Pt.split("/"));try{for(ht.s();!(Ue=ht.n()).done;){var $e=Ue.value;0!==$e?.length&&"."!==$e&&(".."===$e?Et.pop():Et.push($e))}}catch(kt){ht.e(kt)}finally{ht.f()}var Ft="".concat(null!=Pt&&Pt.startsWith("/")?"/":"").concat(Et.join("/")).concat(Et.length>0&&null!=Pt&&Pt.endsWith("/")?"/":"");return(0,Nt.o)(Ft).replace(/%2F/g,"/")}return Pt}},{key:"validateResolvedCredentials",value:function(St){if("object"!=typeof St||"string"!=typeof St.accessKeyId||"string"!=typeof St.secretAccessKey)throw new Error("Resolved credential object is not valid")}},{key:"formatDate",value:function(St){var Pt=function(Vt){return function(Vt){return"number"==typeof Vt?new Date(1e3*Vt):"string"==typeof Vt?Number(Vt)?new Date(1e3*Number(Vt)):new Date(Vt):Vt}(Vt).toISOString().replace(/\.\d{3}Z$/,"Z")}(St).replace(/[\-:]/g,"");return{longDate:Pt,shortDate:Pt.slice(0,8)}}},{key:"getCanonicalHeaderList",value:function(St){return Object.keys(St).sort().join(";")}}]);var Vt}())},38310:(we,se,b)=>{b.d(se,{N:()=>m});var I=b(43288),a=b(63398),m=function(){return(0,a.A)(function v(){(0,I.A)(this,v)},[{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}])}()},36977:(we,se,b)=>{b.d(se,{K:()=>k});var I=b(43288),a=b(63398),m=b(40642),v=b(31579),k=function(){return(0,a.A)(function A(y){(0,I.A)(this,A),(0,m.A)(this,"config",void 0),(0,m.A)(this,"middlewareStack",(0,v.o)()),(0,m.A)(this,"initConfig",void 0),(0,m.A)(this,"handlers",void 0),this.config=y},[{key:"send",value:function(E,L,f){var F,g="function"!=typeof L?L:void 0,V="function"==typeof L?L:f;if(void 0===g&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);var N=this.handlers;N.has(E.constructor)?F=N.get(E.constructor):(F=E.resolveMiddleware(this.middlewareStack,this.config,g),N.set(E.constructor,F))}else delete this.handlers,F=E.resolveMiddleware(this.middlewareStack,this.config,g);if(!V)return F(E).then(function(M){return M.output});F(E).then(function(M){return V(null,M.output)},function(M){return V(M)}).catch(function(){})}},{key:"destroy",value:function(){var E,L;null===(E=this.config)||void 0===E||null===(E=E.requestHandler)||void 0===E||null===(L=E.destroy)||void 0===L||L.call(E),delete this.handlers}}])}()},71852:(we,se,b)=>{b.d(se,{u:()=>U});var I=b(82297),a=b(13544),m=b(22292),v=b(50438),k=b(43288),A=b(63398),y=b(40642),E=b(31579),L=b(33927),f=b(98824),g=b(11),V=function(H){return"function"==typeof H?H():H};function w(ne){if("object"==typeof ne)return ne;ne|=0;for(var H={},j=0,ae=0,le=["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"];ae<le.length;ae++)1==(ne>>j++&1)&&(H[le[ae]]=1);return H}var F=function(){var ne=function(){function H(j,ae){(0,k.A)(this,H),(0,y.A)(this,"ref",void 0),(0,y.A)(this,"memberName",void 0),(0,y.A)(this,"symbol",H.symbol),(0,y.A)(this,"name",void 0),(0,y.A)(this,"schema",void 0),(0,y.A)(this,"_isMemberSchema",void 0),(0,y.A)(this,"traits",void 0),(0,y.A)(this,"memberTraits",void 0),(0,y.A)(this,"normalizedTraits",void 0),this.ref=j,this.memberName=ae;var De,le=[],re=j,q=j;for(this._isMemberSchema=!1;M(re);)le.push(re[1]),q=V(re=re[0]),this._isMemberSchema=!0;if(le.length>0){this.memberTraits={};for(var te=le.length-1;te>=0;--te)Object.assign(this.memberTraits,w(le[te]))}else this.memberTraits=0;if(q instanceof H){var ye=this.memberTraits;return Object.assign(this,q),this.memberTraits=Object.assign({},ye,q.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,void(this.memberName=ae??q.memberName)}if(this.schema=V(q),G(this.schema)?(this.name="".concat(this.schema[1],"#").concat(this.schema[2]),this.traits=this.schema[3]):(this.name=null!==(De=this.memberName)&&void 0!==De?De:String(q),this.traits=0),this._isMemberSchema&&!ae)throw new Error("@smithy/core/schema - NormalizedSchema member init ".concat(this.getName(!0)," missing member name."))}return(0,A.A)(H,[{key:"getSchema",value:function(){var ae=this.schema;return 0===ae[0]?ae[4]:ae}},{key:"getName",value:function(){var le=this.name;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!le||!le.includes("#")?le||void 0:le.split("#")[1]}},{key:"getMemberName",value:function(){return this.memberName}},{key:"isMemberSchema",value:function(){return this._isMemberSchema}},{key:"isListSchema",value:function(){var ae=this.getSchema();return"number"==typeof ae?ae>=64&&ae<128:1===ae[0]}},{key:"isMapSchema",value:function(){var ae=this.getSchema();return"number"==typeof ae?ae>=128&&ae<=255:2===ae[0]}},{key:"isStructSchema",value:function(){var ae=this.getSchema();return 3===ae[0]||-3===ae[0]}},{key:"isBlobSchema",value:function(){var ae=this.getSchema();return 21===ae||42===ae}},{key:"isTimestampSchema",value:function(){var ae=this.getSchema();return"number"==typeof ae&&ae>=4&&ae<=7}},{key:"isUnitSchema",value:function(){return"unit"===this.getSchema()}},{key:"isDocumentSchema",value:function(){return 15===this.getSchema()}},{key:"isStringSchema",value:function(){return 0===this.getSchema()}},{key:"isBooleanSchema",value:function(){return 2===this.getSchema()}},{key:"isNumericSchema",value:function(){return 1===this.getSchema()}},{key:"isBigIntegerSchema",value:function(){return 17===this.getSchema()}},{key:"isBigDecimalSchema",value:function(){return 19===this.getSchema()}},{key:"isStreaming",value:function(){return!!this.getMergedTraits().streaming||42===this.getSchema()}},{key:"isIdempotencyToken",value:function(){var ae=function(X){return!(4&~X&&(null==X||!X.idempotencyToken))},re=this.traits,q=this.memberTraits;return ae(this.normalizedTraits)||ae(re)||ae(q)}},{key:"getMergedTraits",value:function(){var ae;return null!==(ae=this.normalizedTraits)&&void 0!==ae?ae:this.normalizedTraits=(0,m.A)((0,m.A)({},this.getOwnTraits()),this.getMemberTraits())}},{key:"getMemberTraits",value:function(){return w(this.memberTraits)}},{key:"getOwnTraits",value:function(){return w(this.traits)}},{key:"getKeySchema",value:function(){var ae,le=[this.isDocumentSchema(),this.isMapSchema()],re=le[0];if(!re&&!le[1])throw new Error("@smithy/core/schema - cannot get key for non-map: ".concat(this.getName(!0)));var te=this.getSchema();return N([re?15:null!==(ae=te[4])&&void 0!==ae?ae:0,0],"key")}},{key:"getValueSchema",value:function(){var ae=this.getSchema(),le=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],q=le[1],X="number"==typeof ae?63&ae:ae&&"object"==typeof ae&&(q||le[2])?ae[3+ae[0]]:le[0]?15:void 0;if(null!=X)return N([X,0],q?"value":"member");throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no value member."))}},{key:"getMemberSchema",value:function(ae){var le=this.getSchema();if(this.isStructSchema()&&le[4].includes(ae)){var re=le[4].indexOf(ae),q=le[5][re];return N(M(q)?q:[q,0],ae)}if(this.isDocumentSchema())return N([15,0],ae);throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no no member=").concat(ae,"."))}},{key:"getMemberSchemas",value:function(){var ae={};try{var re,le=(0,v.A)(this.structIterator());try{for(le.s();!(re=le.n()).done;){var q=(0,f.A)(re.value,2);ae[q[0]]=q[1]}}catch(ye){le.e(ye)}finally{le.f()}}catch{}return ae}},{key:"getEventStreamMember",value:function(){if(this.isStructSchema()){var le,ae=(0,v.A)(this.structIterator());try{for(ae.s();!(le=ae.n()).done;){var re=(0,f.A)(le.value,2),q=re[0],te=re[1];if(te.isStreaming()&&te.isStructSchema())return q}}catch(X){ae.e(X)}finally{ae.f()}}return""}},{key:"structIterator",value:(0,g.A)().m(function j(){var ae,le;return(0,g.A)().w(function(re){for(;;)switch(re.n){case 0:if(!this.isUnitSchema()){re.n=1;break}return re.a(2);case 1:if(this.isStructSchema()){re.n=2;break}throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");case 2:ae=this.getSchema(),le=0;case 3:if(!(le<ae[4].length)){re.n=5;break}return re.n=4,[ae[4][le],N([ae[5][le],0],ae[4][le])];case 4:++le,re.n=3;break;case 5:return re.a(2)}},j,this)})}],[{key:Symbol.hasInstance,value:function(ae){var le=this.prototype.isPrototypeOf(ae);return le||"object"!=typeof ae||null===ae?le:ae.symbol===this.symbol}},{key:"of",value:function(ae){var le=V(ae);if(le instanceof H)return le;if(M(le)){var re=(0,f.A)(le,2),q=re[0],te=re[1];if(q instanceof H)return Object.assign(q.getMergedTraits(),w(te)),q;throw new Error("@smithy/core/schema - may not init unwrapped member schema=".concat(JSON.stringify(ae,null,2),"."))}return new H(le)}}])}();return(0,y.A)(ne,"symbol",Symbol.for("@smithy/nor")),ne}();function N(ne,H){return ne instanceof F?Object.assign(ne,{memberName:H,_isMemberSchema:!0}):new F(ne,H)}var M=function(H){return Array.isArray(H)&&2===H.length},G=function(H){return Array.isArray(H)&&H.length>=5},R="***SensitiveInformation***";function T(ne,H){if(null==H)return H;var j=F.of(ne);if(j.getMergedTraits().sensitive)return R;if(j.isListSchema()){if(j.getValueSchema().getMergedTraits().sensitive)return R}else if(j.isMapSchema()){if(j.getKeySchema().getMergedTraits().sensitive||j.getValueSchema().getMergedTraits().sensitive)return R}else if(j.isStructSchema()&&"object"==typeof H){var X,re=H,q={},te=(0,v.A)(j.structIterator());try{for(te.s();!(X=te.n()).done;){var ye=(0,f.A)(X.value,2),De=ye[0];null!=re[De]&&(q[De]=T(ye[1],re[De]))}}catch(Ge){te.e(Ge)}finally{te.f()}return q}return H}var U=function(){return(0,A.A)(function ne(){(0,k.A)(this,ne),(0,y.A)(this,"middlewareStack",(0,E.o)()),(0,y.A)(this,"schema",void 0)},[{key:"resolveMiddlewareWithContext",value:function(j,ae,le,re){var Xe,te=re.clientName,X=re.commandName,ye=re.inputFilterSensitiveLog,De=re.outputFilterSensitiveLog,Ie=re.smithyContext,Ge=re.additionalContext,Ce=re.CommandCtor,Be=(0,v.A)(re.middlewareFn.bind(this)(Ce,j,ae,le));try{for(Be.s();!(Xe=Be.n()).done;)this.middlewareStack.use(Xe.value)}catch(ct){Be.e(ct)}finally{Be.f()}var it=j.concat(this.middlewareStack),Ke=(0,m.A)((0,y.A)({logger:ae.logger,clientName:te,commandName:X,inputFilterSensitiveLog:ye,outputFilterSensitiveLog:De},L.V,(0,m.A)({commandInstance:this},Ie)),Ge),Ze=ae.requestHandler;return it.resolve(function(ct){return Ze.handle(ct.request,le||{})},Ke)}}],[{key:"classBuilder",value:function(){return new ee}}])}(),ee=function(){return(0,A.A)(function ne(){(0,k.A)(this,ne),(0,y.A)(this,"_init",function(){}),(0,y.A)(this,"_ep",{}),(0,y.A)(this,"_middlewareFn",function(){return[]}),(0,y.A)(this,"_commandName",""),(0,y.A)(this,"_clientName",""),(0,y.A)(this,"_additionalContext",{}),(0,y.A)(this,"_smithyContext",{}),(0,y.A)(this,"_inputFilterSensitiveLog",void 0),(0,y.A)(this,"_outputFilterSensitiveLog",void 0),(0,y.A)(this,"_serializer",null),(0,y.A)(this,"_deserializer",null),(0,y.A)(this,"_operationSchema",void 0)},[{key:"init",value:function(j){this._init=j}},{key:"ep",value:function(j){return this._ep=j,this}},{key:"m",value:function(j){return this._middlewareFn=j,this}},{key:"s",value:function(j,ae){return this._smithyContext=(0,m.A)({service:j,operation:ae},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this}},{key:"c",value:function(){return this._additionalContext=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this}},{key:"n",value:function(j,ae){return this._clientName=j,this._commandName=ae,this}},{key:"f",value:function(){var ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(le){return le};return this._inputFilterSensitiveLog=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(le){return le},this._outputFilterSensitiveLog=ae,this}},{key:"ser",value:function(j){return this._serializer=j,this}},{key:"de",value:function(j){return this._deserializer=j,this}},{key:"sc",value:function(j){return this._operationSchema=j,this._smithyContext.operationSchema=j,this}},{key:"build",value:function(){var ae,j=this;return ae=function(le){function re(){for(var q,te=arguments.length,X=new Array(te),ye=0;ye<te;ye++)X[ye]=arguments[ye];var De=X[0];return(0,k.A)(this,re),q=(0,I.A)(this,re),(0,y.A)(q,"input",void 0),(0,y.A)(q,"serialize",j._serializer),(0,y.A)(q,"deserialize",j._deserializer),q.input=De??{},j._init(q),q.schema=j._operationSchema,q}return(0,a.A)(re,le),(0,A.A)(re,[{key:"resolveMiddleware",value:function(te,X,ye){var De,Ie,Ge,Ce,Be=j._operationSchema,Xe=null!==(De=Be?.[4])&&void 0!==De?De:Be?.input,Ye=null!==(Ie=Be?.[5])&&void 0!==Ie?Ie:Be?.output;return this.resolveMiddlewareWithContext(te,X,ye,{CommandCtor:ae,middlewareFn:j._middlewareFn,clientName:j._clientName,commandName:j._commandName,inputFilterSensitiveLog:null!==(Ge=j._inputFilterSensitiveLog)&&void 0!==Ge?Ge:Be?T.bind(null,Xe):function(it){return it},outputFilterSensitiveLog:null!==(Ce=j._outputFilterSensitiveLog)&&void 0!==Ce?Ce:Be?T.bind(null,Ye):function(it){return it},smithyContext:j._smithyContext,additionalContext:j._additionalContext})}}],[{key:"getEndpointParameterInstructions",value:function(){return j._ep}}])}(U)}}])}()},73181:(we,se,b)=>{b.d(se,{$:()=>I});var I="***SensitiveInformation***"},21987:(we,se,b)=>{b.d(se,{j:()=>m});var I=b(93628),m=function(A){return function(y){!function(A){var E=A.parsedBody,L=A.exceptionCtor,f=A.errorCode,g=v(A.output),V=g.httpStatusCode?g.httpStatusCode+"":void 0,w=new L({name:E?.code||E?.Code||f||V||"UnknownError",$fault:"client",$metadata:g});throw(0,I.M)(w,E)}({output:y.output,parsedBody:y.parsedBody,exceptionCtor:A,errorCode:y.errorCode})}},v=function(A){var y,E;return{httpStatusCode:A.statusCode,requestId:null!==(y=null!==(E=A.headers["x-amzn-requestid"])&&void 0!==E?E:A.headers["x-amzn-request-id"])&&void 0!==y?y:A.headers["x-amz-request-id"],extendedRequestId:A.headers["x-amz-id-2"],cfId:A.headers["x-amz-cf-id"]}}},98526:(we,se,b)=>{b.d(se,{l:()=>I});var I=function(m){switch(m){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}},93628:(we,se,b)=>{b.d(se,{M:()=>L,T:()=>E});var I=b(98824),a=b(43288),m=b(63398),v=b(82297),k=b(13544),A=b(94334),y=b(40642),E=function(f){function g(V){var w;return(0,a.A)(this,g),w=(0,v.A)(this,g,[V.message]),(0,y.A)(w,"$fault",void 0),(0,y.A)(w,"$response",void 0),(0,y.A)(w,"$retryable",void 0),(0,y.A)(w,"$metadata",void 0),Object.setPrototypeOf(w,Object.getPrototypeOf(w).constructor.prototype),w.name=V.name,w.$fault=V.$fault,w.$metadata=V.$metadata,w}return(0,k.A)(g,f),(0,m.A)(g,null,[{key:"isInstance",value:function(w){if(!w)return!1;var F=w;return g.prototype.isPrototypeOf(F)||!!F.$fault&&!!F.$metadata&&("client"===F.$fault||"server"===F.$fault)}},{key:Symbol.hasInstance,value:function(w){if(!w)return!1;var F=w;return this===g?g.isInstance(w):!!g.isInstance(w)&&(F.name&&this.name?this.prototype.isPrototypeOf(w)||F.name===this.name:this.prototype.isPrototypeOf(w))}}])}((0,A.A)(Error)),L=function(g){return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).filter(function(F){return void 0!==(0,I.A)(F,2)[1]}).forEach(function(F){var N=(0,I.A)(F,2),M=N[0];(null==g[M]||""===g[M])&&(g[M]=N[1])}),g.message=g.message||g.Message||"UnknownError",delete g.Message,g}},56747:(we,se,b)=>{b.d(se,{xA:()=>E,uv:()=>f});var I=function(g){return g.MD5="md5",g.CRC32="crc32",g.CRC32C="crc32c",g.SHA1="sha1",g.SHA256="sha256",g}(I||{}),E=function(V){return Object.assign(function(V){var w=[],F=function(){var G=I[N];if(void 0===V[G])return 1;w.push({algorithmId:function(){return G},checksumConstructor:function(){return V[G]}})};for(var N in I)F();return{addChecksumAlgorithm:function(G){w.push(G)},checksumAlgorithms:function(){return w}}}(V),function(V){return{setRetryStrategy:function(F){V.retryStrategy=F},retryStrategy:function(){return V.retryStrategy}}}(V))},f=function(V){return Object.assign(function(V){var w={};return V.checksumAlgorithms().forEach(function(F){w[F.algorithmId()]=F.checksumConstructor()}),w}(V),function(V){var w={};return w.retryStrategy=V.retryStrategy(),w}(V))}},79286:(we,se,b)=>{b.d(se,{Tj:()=>a,s:()=>v});var I=b(98824);function a(L,f,g){var V,F;if(typeof f>"u"&&typeof g>"u")V={},F=L;else{if(V=L,"function"==typeof f)return k(V,f,F=g);F=f}for(var N=0,M=Object.keys(F);N<M.length;N++){var G=M[N];Array.isArray(F[G])?A(V,null,F,G):V[G]=F[G]}return V}var v=function(f,g){var V={};for(var w in g)A(V,f,g,w);return V},k=function(f,g,V){return a(f,Object.entries(V).reduce(function(w,F){var N=(0,I.A)(F,2),G=N[1];return w[N[0]]=Array.isArray(G)?G:"function"==typeof G?[g,G()]:[g,G],w},{}))},A=function(f,g,V,w){if(null===g){var H=(0,I.A)(V[w],2),j=H[0],ae=H[1];if("function"==typeof ae){var le,re=void 0===j&&null!=(le=ae()),q="function"==typeof j&&!!j(void 0)||"function"!=typeof j&&!!j;re?f[w]=le:q&&(f[w]=ae())}else{var te=void 0===j&&null!=ae,X="function"==typeof j&&!!j(ae)||"function"!=typeof j&&!!j;(te||X)&&(f[w]=ae)}}else{var F=V[w];"function"==typeof F&&(F=[,F]);var M=(0,I.A)(F,3),G=M[0],R=void 0===G?y:G,T=M[1],U=void 0===T?E:T,ee=M[2],ne=void 0===ee?w:ee;("function"==typeof R&&R(g[ne])||"function"!=typeof R&&R)&&(f[w]=U(g[ne]))}},y=function(f){return null!=f},E=function(f){return f}},33927:(we,se,b)=>{b.d(se,{V:()=>I});var I="__smithy_context"},50993:(we,se,b)=>{b.d(se,{D:()=>v});var I=b(98824),a=b(50438),v=function(A){if("string"==typeof A)return v(new URL(A));var V,y=A.hostname,E=A.pathname,L=A.port,f=A.protocol,g=A.search;return g&&(V=function m(k){var A={};if(k=k.replace(/^\?/,"")){var E,y=(0,a.A)(k.split("&"));try{for(y.s();!(E=y.n()).done;){var f=E.value.split("="),g=(0,I.A)(f,2),V=g[0],w=g[1],F=void 0===w?null:w;V=decodeURIComponent(V),F&&(F=decodeURIComponent(F)),V in A?Array.isArray(A[V])?A[V].push(F):A[V]=[A[V],F]:A[V]=F}}catch(N){y.e(N)}finally{y.f()}}return A}(g)),{hostname:y,port:L?parseInt(L):void 0,protocol:f,path:E,query:V}}},47245:(we,se,b)=>{b.d(se,{Kc:()=>v,OF:()=>y,_w:()=>k,kQ:()=>A,mh:()=>m});var I=b(98824),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=Object.entries(a).reduce(function(E,L){var f=(0,I.A)(L,2);return E[f[1]]=Number(f[0]),E},{}),v=a.split(""),k=6,A=8,y=63},8833:(we,se,b)=>{b.d(se,{E:()=>a});var I=b(47245),a=function(v){var k=v.length/4*3;"=="===v.slice(-2)?k-=2:"="===v.slice(-1)&&k--;for(var A=new ArrayBuffer(k),y=new DataView(A),E=0;E<v.length;E+=4){for(var L=0,f=0,g=E,V=E+3;g<=V;g++)if("="!==v[g]){if(!(v[g]in I.mh))throw new TypeError("Invalid character ".concat(v[g]," in base64 string."));L|=I.mh[v[g]]<<(V-g)*I._w,f+=I._w}else L>>=I._w;var w=E/4*3;L>>=f%I.kQ;for(var F=Math.floor(f/I.kQ),N=0;N<F;N++){var M=(F-N-1)*I.kQ;y.setUint8(w+N,(L&255<<M)>>M)}}return new Uint8Array(A)}},47436:(we,se,b)=>{b.d(se,{n:()=>m});var I=b(87521),a=b(47245);function m(v){var k;if(!("object"==typeof(k="string"==typeof v?(0,I.a)(v):v)&&"number"==typeof k.length||"object"==typeof k&&"number"==typeof k.byteOffset&&"number"==typeof k.byteLength))throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");for(var E="",L=0;L<k.length;L+=3){for(var f=0,g=0,V=L,w=Math.min(L+3,k.length);V<w;V++)f|=k[V]<<(w-V-1)*a.kQ,g+=a.kQ;var F=Math.ceil(g/a._w);f<<=F*a._w-g;for(var N=1;N<=F;N++){var M=(F-N)*a._w;E+=a.Kc[(f&a.OF<<M)>>M]}E+="==".slice(0,4-F)}return E}},69153:(we,se,b)=>{b.d(se,{n:()=>a});var I="function"==typeof TextEncoder?new TextEncoder:null,a=function(v){if("string"==typeof v){if(I)return I.encode(v).byteLength;for(var k=v.length,A=k-1;A>=0;A--){var y=v.charCodeAt(A);y>127&&y<=2047?k++:y>2047&&y<=65535&&(k+=2),y>=56320&&y<=57343&&A--}return k}if("number"==typeof v.byteLength)return v.byteLength;if("number"==typeof v.size)return v.size;throw new Error("Body Length computation failed for ".concat(v))}},80694:(we,se,b)=>{b.d(se,{Q:()=>I});var I=function(m,v,k){if(v in m){if("true"===m[v])return!0;if("false"===m[v])return!1;throw new Error("Cannot load ".concat(k,' "').concat(v,'". Expected "true" or "false", got ').concat(m[v],"."))}}},62734:(we,se,b)=>{b.d(se,{c:()=>I});var I=function(a){return a.ENV="env",a.CONFIG="shared config entry",a}(I||{})},75208:(we,se,b)=>{b.d(se,{I:()=>k});var I=b(11),a=b(81890),v=["in-region","cross-region","mobile","standard","legacy"],k=function(){var E,g,V,w,N,L=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultsMode;return E=(0,a.A)((0,I.A)().m(function f(){var g,V,w;return(0,I.A)().w(function(F){for(;;)switch(F.n){case 0:if("function"!=typeof L){F.n=2;break}return F.n=1,L();case 1:V=F.v,F.n=3;break;case 2:V=L;case 3:g=V,w=g?.toLowerCase(),F.n="auto"===w?4:"mobile"===w||"in-region"===w||"cross-region"===w||"standard"===w||"legacy"===w?5:void 0===w?6:7;break;case 4:return F.a(2,Promise.resolve(A()?"mobile":"standard"));case 5:return F.a(2,Promise.resolve(g?.toLocaleLowerCase()));case 6:return F.a(2,Promise.resolve("legacy"));case 7:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(v.join(", "),", got ").concat(g));case 8:return F.a(2)}},f)})),N=function(){var M=(0,a.A)((0,I.A)().m(function G(){return(0,I.A)().w(function(R){for(;;)switch(R.p=R.n){case 0:return V||(V=E()),R.p=1,R.n=2,V;case 2:g=R.v,w=!0;case 3:return R.p=3,V=void 0,R.f(3);case 4:return R.a(2,g)}},G,null,[[1,,3,4]])}));return function(){return M.apply(this,arguments)}}(),function(){var M=(0,a.A)((0,I.A)().m(function G(R){return(0,I.A)().w(function(T){for(;;)switch(T.n){case 0:if(w&&(null==R||!R.forceRefresh)){T.n=2;break}return T.n=1,N();case 1:g=T.v;case 2:return T.a(2,g)}},G)}));return function(G){return M.apply(this,arguments)}}()},A=function(){var E,L,f=null===(E=window)||void 0===E?void 0:E.navigator;if(null!=f&&f.connection){var g=f?.connection,V=g.effectiveType,F=g.downlink;if("string"==typeof V&&"4g"!==V||Number(g.rtt)>100||Number(F)<10)return!0}return(null==f||null===(L=f.userAgentData)||void 0===L?void 0:L.mobile)||"number"==typeof f?.maxTouchPoints&&f?.maxTouchPoints>1}},64585:(we,se,b)=>{b.d(se,{k:()=>k});var I=b(50438),a=b(43288),m=b(63398),v=b(40642),k=function(){return(0,m.A)(function A(y){var E=y.size,L=y.params;(0,a.A)(this,A),(0,v.A)(this,"capacity",void 0),(0,v.A)(this,"data",new Map),(0,v.A)(this,"parameters",[]),this.capacity=E??50,L&&(this.parameters=L)},[{key:"get",value:function(E,L){var f=this.hash(E);if(!1===f)return L();if(!this.data.has(f)){if(this.data.size>this.capacity+10)for(var g=this.data.keys(),V=0;;){var w=g.next(),N=w.done;if(this.data.delete(w.value),N||++V>10)break}this.data.set(f,L())}return this.data.get(f)}},{key:"size",value:function(){return this.data.size}},{key:"hash",value:function(E){var L="",f=this.parameters;if(0===f.length)return!1;var V,g=(0,I.A)(f);try{for(g.s();!(V=g.n()).done;){var w,N=String(null!==(w=E[V.value])&&void 0!==w?w:"");if(N.includes("|;"))return!1;L+=N+"|;"}}catch(M){g.e(M)}finally{g.f()}return L}}])}()},54110:(we,se,b)=>{b.d(se,{o:()=>a});var I=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),a=function(v){return I.test(v)||v.startsWith("[")&&v.endsWith("]")}},98023:(we,se,b)=>{b.d(se,{X:()=>m});var I=b(50438),a=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),m=function(k){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return a.test(k);var L,y=k.split("."),E=(0,I.A)(y);try{for(E.s();!(L=E.n()).done;)if(!m(L.value))return!1}catch(g){E.e(g)}finally{E.f()}return!0}},67227:(we,se,b)=>{b.d(se,{s:()=>ke});var I=b(50438),a=b(98824),m="endpoints";function v(oe){return"object"!=typeof oe||null==oe?oe:"ref"in oe?"$".concat(v(oe.ref)):"fn"in oe?"".concat(oe.fn,"(").concat((oe.argv||[]).map(v).join(", "),")"):JSON.stringify(oe,null,2)}var k=b(63398),A=b(43288),y=b(82297),E=b(13544),f=function(oe){function ie(Me){var ue;return(0,A.A)(this,ie),(ue=(0,y.A)(this,ie,[Me])).name="EndpointError",ue}return(0,E.A)(ie,oe),(0,k.A)(ie)}((0,b(94334).A)(Error)),g=b(22292),V=b(88051),w=b(63730),F=b(71440),G=function(ie,Me){return function(ie){var W,Me=ie.split("."),ue=[],Z=(0,I.A)(Me);try{for(Z.s();!(W=Z.n()).done;){var ve=W.value,je=ve.indexOf("[");if(-1!==je){if(ve.indexOf("]")!==ve.length-1)throw new f("Path: '".concat(ie,"' does not end with ']'"));var nt=ve.slice(je+1,-1);if(Number.isNaN(parseInt(nt)))throw new f("Invalid array index: '".concat(nt,"' in path: '").concat(ie,"'"));0!==je&&ue.push(ve.slice(0,je)),ue.push(nt)}else ue.push(ve)}}catch(at){Z.e(at)}finally{Z.f()}return ue}(Me).reduce(function(ue,Z){if("object"!=typeof ue)throw new f("Index '".concat(Z,"' in '").concat(Me,"' not found in '").concat(JSON.stringify(ie),"'"));return Array.isArray(ue)?ue[parseInt(Z)]:ue[Z]},ie)},T=b(98023),ee=b(40642),ne=function(oe){return oe.HTTP="http",oe.HTTPS="https",oe}(ne||{}),H=b(54110),j=(0,ee.A)((0,ee.A)({},ne.HTTP,80),ne.HTTPS,443),te={booleanEquals:function(ie,Me){return ie===Me},getAttr:G,isSet:function(ie){return null!=ie},isValidHostLabel:T.X,not:function(ie){return!ie},parseURL:function(ie){var Me=function(){try{if(ie instanceof URL)return ie;if("object"==typeof ie&&"hostname"in ie){var nn=ie.hostname,fn=ie.port,Se=ie.protocol,En=ie.path,ft=void 0===En?"":En,Vt=ie.query,St=void 0===Vt?{}:Vt,Pt=new URL("".concat(void 0===Se?"":Se,"//").concat(nn).concat(fn?":".concat(fn):"").concat(ft));return Pt.search=Object.entries(St).map(function(Et){var ht=(0,a.A)(Et,2),$e=ht[1];return"".concat(ht[0],"=").concat($e)}).join("&"),Pt}return new URL(ie)}catch{return null}}();if(!Me)return console.error("Unable to parse ".concat(JSON.stringify(ie)," as a whatwg URL.")),null;var ue=Me.href,Z=Me.host,W=Me.hostname,ve=Me.pathname;if(Me.search)return null;var at=Me.protocol.slice(0,-1);if(!Object.values(ne).includes(at))return null;var bt=(0,H.o)(W),Ot=ue.includes("".concat(Z,":").concat(j[at]))||"string"==typeof ie&&ie.includes("".concat(Z,":").concat(j[at]));return{scheme:at,authority:"".concat(Z).concat(Ot?":".concat(j[at]):""),path:ve,normalizedPath:ve.endsWith("/")?ve:"".concat(ve,"/"),isIp:bt}},stringEquals:function(ie,Me){return ie===Me},substring:function(ie,Me,ue,Z){return Me>=ue||ie.length<ue?null:Z?ie.substring(ie.length-ue,ie.length-Me):ie.substring(Me,ue)},uriEncode:function(ie){return encodeURIComponent(ie).replace(/[!*'()]/g,function(Me){return"%".concat(Me.charCodeAt(0).toString(16).toUpperCase())})}},X=function(ie,Me){for(var ue=[],Z=(0,g.A)((0,g.A)({},Me.endpointParams),Me.referenceRecord),W=0;W<ie.length;){var ve=ie.indexOf("{",W);if(-1===ve){ue.push(ie.slice(W));break}ue.push(ie.slice(W,ve));var je=ie.indexOf("}",ve);if(-1===je){ue.push(ie.slice(ve));break}"{"===ie[ve+1]&&"}"===ie[je+1]&&(ue.push(ie.slice(ve+1,je)),W=je+2);var nt=ie.substring(ve+1,je);if(nt.includes("#")){var at=nt.split("#"),bt=(0,a.A)(at,2);ue.push(G(Z[bt[0]],bt[1]))}else ue.push(Z[nt]);W=je+1}return ue.join("")},De=function(ie,Me,ue){if("string"==typeof ie)return X(ie,ue);if(ie.fn)return Ge.callFunction(ie,ue);if(ie.ref)return function(ie,Me){var ue=ie.ref;return(0,g.A)((0,g.A)({},Me.endpointParams),Me.referenceRecord)[ue]}(ie,ue);throw new f("'".concat(Me,"': ").concat(String(ie)," is not a string, function or reference."))},Ie=function(ie,Me){var je,ue=ie.fn,W=ie.argv.map(function(nt){return["boolean","number"].includes(typeof nt)?nt:Ge.evaluateExpression(nt,"arg",Me)}),ve=ue.split(".");return ve[0]in F.m&&null!=ve[1]?(je=F.m[ve[0]])[ve[1]].apply(je,(0,w.A)(W)):te[ue].apply(te,(0,w.A)(W))},Ge={evaluateExpression:De,callFunction:Ie},Ce=["assign"],Be=function(ie,Me){var ue,Z,W=ie.assign,ve=(0,V.A)(ie,Ce);if(W&&W in Me.referenceRecord)throw new f("'".concat(W,"' is already defined in Reference Record."));var je=Ie(ve,Me);return null===(ue=Me.logger)||void 0===ue||null===(Z=ue.debug)||void 0===Z||Z.call(ue,"".concat(m," evaluateCondition: ").concat(v(ve)," = ").concat(v(je))),(0,g.A)({result:""===je||!!je},null!=W&&{toAssign:{name:W,value:je}})},Xe=function(){var W,Me=arguments.length>1?arguments[1]:void 0,ue={},Z=(0,I.A)(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(Z.s();!(W=Z.n()).done;){var bt,Ot,je=Be(W.value,(0,g.A)((0,g.A)({},Me),{},{referenceRecord:(0,g.A)((0,g.A)({},Me.referenceRecord),ue)})),nt=je.result,at=je.toAssign;if(!nt)return{result:nt};at&&(ue[at.name]=at.value,null===(bt=Me.logger)||void 0===bt||null===(Ot=bt.debug)||void 0===Ot||Ot.call(bt,"".concat(m," assign: ").concat(at.name," := ").concat(v(at.value))))}}catch(Nt){Z.e(Nt)}finally{Z.f()}return{result:!0,referenceRecord:ue}},Ye=function(ie,Me){return Object.entries(ie).reduce(function(ue,Z){var W=(0,a.A)(Z,2),ve=W[0],je=W[1];return(0,g.A)((0,g.A)({},ue),{},(0,ee.A)({},ve,je.map(function(nt){var at=De(nt,"Header value entry",Me);if("string"!=typeof at)throw new f("Header '".concat(ve,"' value '").concat(at,"' is not a string"));return at})))},{})},it=function(ie,Me){return Object.entries(ie).reduce(function(ue,Z){var W=(0,a.A)(Z,2),ve=W[0],je=W[1];return(0,g.A)((0,g.A)({},ue),{},(0,ee.A)({},ve,Ke.getEndpointProperty(je,Me)))},{})},vt=function(ie,Me){if(Array.isArray(ie))return ie.map(function(ue){return vt(ue,Me)});switch(typeof ie){case"string":return X(ie,Me);case"object":if(null===ie)throw new f("Unexpected endpoint property: ".concat(ie));return Ke.getEndpointProperties(ie,Me);case"boolean":return ie;default:throw new f("Unexpected endpoint property type: ".concat(typeof ie))}},Ke={getEndpointProperty:vt,getEndpointProperties:it},Ze=function(ie,Me){var ue=De(ie,"Endpoint URL",Me);if("string"==typeof ue)try{return new URL(ue)}catch(Z){throw console.error("Failed to construct URL with ".concat(ue),Z),Z}throw new f("Endpoint URL must be a string, got ".concat(typeof ue))},ct=function(ie,Me){var ue,Z,ve=ie.endpoint,je=Xe(ie.conditions,Me),at=je.referenceRecord;if(je.result){var bt=(0,g.A)((0,g.A)({},Me),{},{referenceRecord:(0,g.A)((0,g.A)({},Me.referenceRecord),at)}),Ot=ve.url,Nt=ve.properties,nn=ve.headers;return null===(ue=Me.logger)||void 0===ue||null===(Z=ue.debug)||void 0===Z||Z.call(ue,"".concat(m," Resolving endpoint from template: ").concat(v(ve))),(0,g.A)((0,g.A)((0,g.A)({},null!=nn&&{headers:Ye(nn,bt)}),null!=Nt&&{properties:it(Nt,bt)}),{},{url:Ze(Ot,bt)})}},pe=function(ie,Me){var Z=ie.error,W=Xe(ie.conditions,Me),je=W.referenceRecord;if(W.result)throw new f(De(Z,"Error",(0,g.A)((0,g.A)({},Me),{},{referenceRecord:(0,g.A)((0,g.A)({},Me.referenceRecord),je)})))},K=function(ie,Me){var Z,ue=(0,I.A)(ie);try{for(ue.s();!(Z=ue.n()).done;){var W=Z.value;if("endpoint"===W.type){var ve=ct(W,Me);if(ve)return ve}else if("error"===W.type)pe(W,Me);else{if("tree"!==W.type)throw new f("Unknown endpoint rule: ".concat(W));var je=xe.evaluateTreeRule(W,Me);if(je)return je}}}catch(nt){ue.e(nt)}finally{ue.f()}throw new f("Rules evaluation failed")},xe={evaluateRules:K,evaluateTreeRule:function(ie,Me){var Z=ie.rules,W=Xe(ie.conditions,Me),je=W.referenceRecord;if(W.result)return xe.evaluateRules(Z,(0,g.A)((0,g.A)({},Me),{},{referenceRecord:(0,g.A)((0,g.A)({},Me.referenceRecord),je)}))}},ke=function(ie,Me){var ue,Z,W,ve,je=Me.endpointParams,nt=Me.logger,at=ie.parameters,bt=ie.rules;null===(ue=Me.logger)||void 0===ue||null===(Z=ue.debug)||void 0===Z||Z.call(ue,"".concat(m," Initial EndpointParams: ").concat(v(je)));var Ot=Object.entries(at).filter(function(ht){return null!=(0,a.A)(ht,2)[1].default}).map(function(ht){var Ue=(0,a.A)(ht,2);return[Ue[0],Ue[1].default]});if(Ot.length>0){var nn,Nt=(0,I.A)(Ot);try{for(Nt.s();!(nn=Nt.n()).done;){var fn,Se=(0,a.A)(nn.value,2),Jn=Se[0];je[Jn]=null!==(fn=je[Jn])&&void 0!==fn?fn:Se[1]}}catch(ht){Nt.e(ht)}finally{Nt.f()}}var St,ft=Object.entries(at).filter(function(ht){return(0,a.A)(ht,2)[1].required}).map(function(ht){return(0,a.A)(ht,1)[0]}),Vt=(0,I.A)(ft);try{for(Vt.s();!(St=Vt.n()).done;){var Pt=St.value;if(null==je[Pt])throw new f("Missing required parameter: '".concat(Pt,"'"))}}catch(ht){Vt.e(ht)}finally{Vt.f()}var Et=K(bt,{endpointParams:je,logger:nt,referenceRecord:{}});return null===(W=Me.logger)||void 0===W||null===(ve=W.debug)||void 0===ve||ve.call(W,"".concat(m," Resolved endpoint: ").concat(v(Et))),Et}},71440:(we,se,b)=>{b.d(se,{m:()=>I});var I={}},34576:(we,se,b)=>{b.d(se,{a:()=>k,n:()=>A});for(var I={},a={},m=0;m<256;m++){var v=m.toString(16).toLowerCase();1===v.length&&(v="0".concat(v)),I[m]=v,a[v]=m}function k(y){if(y.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var E=new Uint8Array(y.length/2),L=0;L<y.length;L+=2){var f=y.slice(L,L+2).toLowerCase();if(!(f in a))throw new Error("Cannot decode unrecognized sequence ".concat(f," as hexadecimal"));E[L/2]=a[f]}return E}function A(y){for(var E="",L=0;L<y.byteLength;L++)E+=I[y[L]];return E}},13928:(we,se,b)=>{b.d(se,{u:()=>a});var I=b(33927),a=function(v){return v[I.V]||(v[I.V]={})}},46887:(we,se,b)=>{b.d(se,{t:()=>I});var I=function(m){if("function"==typeof m)return m;var v=Promise.resolve(m);return function(){return v}}},17439:(we,se,b)=>{b.d(se,{Gz:()=>a,L0:()=>m,cm:()=>I});var I=function(v){return v.STANDARD="standard",v.ADAPTIVE="adaptive",v}(I||{}),a=3,m=I.STANDARD},18276:(we,se,b)=>{b.d(se,{Df:()=>v,G8:()=>a,Rn:()=>A,XP:()=>y,XS:()=>k,bp:()=>I,jh:()=>m,l5:()=>E,ok:()=>L});var I=100,a=2e4,m=500,v=500,k=5,A=10,y=1,E="amz-sdk-invocation-id",L="amz-sdk-request"},96639:(we,se,b)=>{b.d(se,{o:()=>I});var I=function(v){return encodeURIComponent(v).replace(/[!'()*]/g,a)},a=function(v){return"%".concat(v.charCodeAt(0).toString(16).toUpperCase())}},87521:(we,se,b)=>{b.d(se,{a:()=>I});var I=function(m){return(new TextEncoder).encode(m)}},83060:(we,se,b)=>{b.d(se,{F:()=>a});var I=b(87521),a=function(v){return"string"==typeof v?(0,I.a)(v):ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(v)}},56044:(we,se,b)=>{b.d(se,{P:()=>I});var I=function(m){if("string"==typeof m)return m;if("object"!=typeof m||"number"!=typeof m.byteOffset||"number"!=typeof m.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(m)}},54578:(we,se)=>{se.byteLength=function y(w){var F=A(w),M=F[1];return 3*(F[0]+M)/4-M},se.toByteArray=function L(w){var F,ee,N=A(w),M=N[0],G=N[1],R=new a(function E(w,F,N){return 3*(F+N)/4-N}(0,M,G)),T=0,U=G>0?M-4:M;for(ee=0;ee<U;ee+=4)F=I[w.charCodeAt(ee)]<<18|I[w.charCodeAt(ee+1)]<<12|I[w.charCodeAt(ee+2)]<<6|I[w.charCodeAt(ee+3)],R[T++]=F>>16&255,R[T++]=F>>8&255,R[T++]=255&F;return 2===G&&(F=I[w.charCodeAt(ee)]<<2|I[w.charCodeAt(ee+1)]>>4,R[T++]=255&F),1===G&&(F=I[w.charCodeAt(ee)]<<10|I[w.charCodeAt(ee+1)]<<4|I[w.charCodeAt(ee+2)]>>2,R[T++]=F>>8&255,R[T++]=255&F),R},se.fromByteArray=function V(w){for(var F,N=w.length,M=N%3,G=[],R=16383,T=0,U=N-M;T<U;T+=R)G.push(g(w,T,T+R>U?U:T+R));return 1===M?G.push(b[(F=w[N-1])>>2]+b[F<<4&63]+"=="):2===M&&G.push(b[(F=(w[N-2]<<8)+w[N-1])>>10]+b[F>>4&63]+b[F<<2&63]+"="),G.join("")};for(var b=[],I=[],a=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0;v<64;++v)b[v]=m[v],I[m.charCodeAt(v)]=v;function A(w){var F=w.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=w.indexOf("=");return-1===N&&(N=F),[N,N===F?0:4-N%4]}function f(w){return b[w>>18&63]+b[w>>12&63]+b[w>>6&63]+b[63&w]}function g(w,F,N){for(var G=[],R=F;R<N;R+=3)G.push(f((w[R]<<16&16711680)+(w[R+1]<<8&65280)+(255&w[R+2])));return G.join("")}I[45]=62,I[95]=63},25346:we=>{we.exports=function I(a){return"[object String]"=={}.toString.call(a)?a.replace(se,".$1").replace(b,""):""};var se=/\[([^\[\]]+)\]/g,b=/^[.]*|[.]*$/g},163:(we,se,b)=>{var I=b(54578),a=b(17383),m="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;se.Buffer=y,se.SlowBuffer=function G(ue){return+ue!=ue&&(ue=0),y.alloc(+ue)},se.INSPECT_MAX_BYTES=50;var v=2147483647;function A(ue){if(ue>v)throw new RangeError('The value "'+ue+'" is invalid for option "size"');var Z=new Uint8Array(ue);return Object.setPrototypeOf(Z,y.prototype),Z}function y(ue,Z,W){if("number"==typeof ue){if("string"==typeof Z)throw new TypeError('The "string" argument must be of type string. Received type number');return g(ue)}return E(ue,Z,W)}function E(ue,Z,W){if("string"==typeof ue)return function V(ue,Z){if(("string"!=typeof Z||""===Z)&&(Z="utf8"),!y.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var W=0|R(ue,Z),ve=A(W),je=ve.write(ue,Z);return je!==W&&(ve=ve.slice(0,je)),ve}(ue,Z);if(ArrayBuffer.isView(ue))return w(ue);if(null==ue)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(oe(ue,ArrayBuffer)||ue&&oe(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(ue,SharedArrayBuffer)||ue&&oe(ue.buffer,SharedArrayBuffer)))return function F(ue,Z,W){if(Z<0||ue.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<Z+(W||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return ve=void 0===Z&&void 0===W?new Uint8Array(ue):void 0===W?new Uint8Array(ue,Z):new Uint8Array(ue,Z,W),Object.setPrototypeOf(ve,y.prototype),ve}(ue,Z,W);if("number"==typeof ue)throw new TypeError('The "value" argument must not be of type number. Received type number');var ve=ue.valueOf&&ue.valueOf();if(null!=ve&&ve!==ue)return y.from(ve,Z,W);var je=function N(ue){if(y.isBuffer(ue)){var Z=0|M(ue.length),W=A(Z);return 0===W.length||ue.copy(W,0,0,Z),W}return void 0!==ue.length?"number"!=typeof ue.length||ie(ue.length)?A(0):w(ue):"Buffer"===ue.type&&Array.isArray(ue.data)?w(ue.data):void 0}(ue);if(je)return je;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ue[Symbol.toPrimitive])return y.from(ue[Symbol.toPrimitive]("string"),Z,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}function L(ue){if("number"!=typeof ue)throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function g(ue){return L(ue),A(ue<0?0:0|M(ue))}function w(ue){for(var Z=ue.length<0?0:0|M(ue.length),W=A(Z),ve=0;ve<Z;ve+=1)W[ve]=255&ue[ve];return W}function M(ue){if(ue>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|ue}function R(ue,Z){if(y.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||oe(ue,ArrayBuffer))return ue.byteLength;if("string"!=typeof ue)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);var W=ue.length,ve=arguments.length>2&&!0===arguments[2];if(!ve&&0===W)return 0;for(var je=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return pe(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return xe(ue).length;default:if(je)return ve?-1:pe(ue).length;Z=(""+Z).toLowerCase(),je=!0}}function T(ue,Z,W){var ve=!1;if((void 0===Z||Z<0)&&(Z=0),Z>this.length||((void 0===W||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(Z>>>=0))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return Ce(this,Z,W);case"utf8":case"utf-8":return X(this,Z,W);case"ascii":return Ie(this,Z,W);case"latin1":case"binary":return Ge(this,Z,W);case"base64":return te(this,Z,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,Z,W);default:if(ve)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),ve=!0}}function U(ue,Z,W){var ve=ue[Z];ue[Z]=ue[W],ue[W]=ve}function ee(ue,Z,W,ve,je){if(0===ue.length)return-1;if("string"==typeof W?(ve=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),ie(W=+W)&&(W=je?0:ue.length-1),W<0&&(W=ue.length+W),W>=ue.length){if(je)return-1;W=ue.length-1}else if(W<0){if(!je)return-1;W=0}if("string"==typeof Z&&(Z=y.from(Z,ve)),y.isBuffer(Z))return 0===Z.length?-1:ne(ue,Z,W,ve,je);if("number"==typeof Z)return Z&=255,"function"==typeof Uint8Array.prototype.indexOf?je?Uint8Array.prototype.indexOf.call(ue,Z,W):Uint8Array.prototype.lastIndexOf.call(ue,Z,W):ne(ue,[Z],W,ve,je);throw new TypeError("val must be string, number or Buffer")}function ne(ue,Z,W,ve,je){var Nt,nt=1,at=ue.length,bt=Z.length;if(void 0!==ve&&("ucs2"===(ve=String(ve).toLowerCase())||"ucs-2"===ve||"utf16le"===ve||"utf-16le"===ve)){if(ue.length<2||Z.length<2)return-1;nt=2,at/=2,bt/=2,W/=2}function Ot(Jn,En){return 1===nt?Jn[En]:Jn.readUInt16BE(En*nt)}if(je){var nn=-1;for(Nt=W;Nt<at;Nt++)if(Ot(ue,Nt)===Ot(Z,-1===nn?0:Nt-nn)){if(-1===nn&&(nn=Nt),Nt-nn+1===bt)return nn*nt}else-1!==nn&&(Nt-=Nt-nn),nn=-1}else for(W+bt>at&&(W=at-bt),Nt=W;Nt>=0;Nt--){for(var fn=!0,Se=0;Se<bt;Se++)if(Ot(ue,Nt+Se)!==Ot(Z,Se)){fn=!1;break}if(fn)return Nt}return-1}function H(ue,Z,W,ve){W=Number(W)||0;var je=ue.length-W;ve?(ve=Number(ve))>je&&(ve=je):ve=je;var nt=Z.length;ve>nt/2&&(ve=nt/2);for(var at=0;at<ve;++at){var bt=parseInt(Z.substr(2*at,2),16);if(ie(bt))return at;ue[W+at]=bt}return at}function j(ue,Z,W,ve){return ke(pe(Z,ue.length-W),ue,W,ve)}function ae(ue,Z,W,ve){return ke(function K(ue){for(var Z=[],W=0;W<ue.length;++W)Z.push(255&ue.charCodeAt(W));return Z}(Z),ue,W,ve)}function le(ue,Z,W,ve){return ae(ue,Z,W,ve)}function re(ue,Z,W,ve){return ke(xe(Z),ue,W,ve)}function q(ue,Z,W,ve){return ke(function Q(ue,Z){for(var W,ve,nt=[],at=0;at<ue.length&&!((Z-=2)<0);++at)ve=(W=ue.charCodeAt(at))>>8,nt.push(W%256),nt.push(ve);return nt}(Z,ue.length-W),ue,W,ve)}function te(ue,Z,W){return I.fromByteArray(0===Z&&W===ue.length?ue:ue.slice(Z,W))}function X(ue,Z,W){W=Math.min(ue.length,W);for(var ve=[],je=Z;je<W;){var Ot,Nt,nn,fn,nt=ue[je],at=null,bt=nt>239?4:nt>223?3:nt>191?2:1;if(je+bt<=W)switch(bt){case 1:nt<128&&(at=nt);break;case 2:128==(192&(Ot=ue[je+1]))&&(fn=(31&nt)<<6|63&Ot)>127&&(at=fn);break;case 3:Nt=ue[je+2],128==(192&(Ot=ue[je+1]))&&128==(192&Nt)&&(fn=(15&nt)<<12|(63&Ot)<<6|63&Nt)>2047&&(fn<55296||fn>57343)&&(at=fn);break;case 4:Nt=ue[je+2],nn=ue[je+3],128==(192&(Ot=ue[je+1]))&&128==(192&Nt)&&128==(192&nn)&&(fn=(15&nt)<<18|(63&Ot)<<12|(63&Nt)<<6|63&nn)>65535&&fn<1114112&&(at=fn)}null===at?(at=65533,bt=1):at>65535&&(ve.push((at-=65536)>>>10&1023|55296),at=56320|1023&at),ve.push(at),je+=bt}return function De(ue){var Z=ue.length;if(Z<=ye)return String.fromCharCode.apply(String,ue);for(var W="",ve=0;ve<Z;)W+=String.fromCharCode.apply(String,ue.slice(ve,ve+=ye));return W}(ve)}se.kMaxLength=v,!(y.TYPED_ARRAY_SUPPORT=function k(){try{var ue=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(ue,Z),42===ue.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}}),y.poolSize=8192,y.from=function(ue,Z,W){return E(ue,Z,W)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array),y.alloc=function(ue,Z,W){return function f(ue,Z,W){return L(ue),ue<=0?A(ue):void 0!==Z?"string"==typeof W?A(ue).fill(Z,W):A(ue).fill(Z):A(ue)}(ue,Z,W)},y.allocUnsafe=function(ue){return g(ue)},y.allocUnsafeSlow=function(ue){return g(ue)},y.isBuffer=function(Z){return null!=Z&&!0===Z._isBuffer&&Z!==y.prototype},y.compare=function(Z,W){if(oe(Z,Uint8Array)&&(Z=y.from(Z,Z.offset,Z.byteLength)),oe(W,Uint8Array)&&(W=y.from(W,W.offset,W.byteLength)),!y.isBuffer(Z)||!y.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===W)return 0;for(var ve=Z.length,je=W.length,nt=0,at=Math.min(ve,je);nt<at;++nt)if(Z[nt]!==W[nt]){ve=Z[nt],je=W[nt];break}return ve<je?-1:je<ve?1:0},y.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(Z,W){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return y.alloc(0);var ve;if(void 0===W)for(W=0,ve=0;ve<Z.length;++ve)W+=Z[ve].length;var je=y.allocUnsafe(W),nt=0;for(ve=0;ve<Z.length;++ve){var at=Z[ve];if(oe(at,Uint8Array)&&(at=y.from(at)),!y.isBuffer(at))throw new TypeError('"list" argument must be an Array of Buffers');at.copy(je,nt),nt+=at.length}return je},y.byteLength=R,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var W=0;W<Z;W+=2)U(this,W,W+1);return this},y.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var W=0;W<Z;W+=4)U(this,W,W+3),U(this,W+1,W+2);return this},y.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var W=0;W<Z;W+=8)U(this,W,W+7),U(this,W+1,W+6),U(this,W+2,W+5),U(this,W+3,W+4);return this},y.prototype.toLocaleString=y.prototype.toString=function(){var Z=this.length;return 0===Z?"":0===arguments.length?X(this,0,Z):T.apply(this,arguments)},y.prototype.equals=function(Z){if(!y.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===y.compare(this,Z)},y.prototype.inspect=function(){var Z="",W=se.INSPECT_MAX_BYTES;return Z=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(Z+=" ... "),"<Buffer "+Z+">"},m&&(y.prototype[m]=y.prototype.inspect),y.prototype.compare=function(Z,W,ve,je,nt){if(oe(Z,Uint8Array)&&(Z=y.from(Z,Z.offset,Z.byteLength)),!y.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(void 0===W&&(W=0),void 0===ve&&(ve=Z?Z.length:0),void 0===je&&(je=0),void 0===nt&&(nt=this.length),W<0||ve>Z.length||je<0||nt>this.length)throw new RangeError("out of range index");if(je>=nt&&W>=ve)return 0;if(je>=nt)return-1;if(W>=ve)return 1;if(this===Z)return 0;for(var at=(nt>>>=0)-(je>>>=0),bt=(ve>>>=0)-(W>>>=0),Ot=Math.min(at,bt),Nt=this.slice(je,nt),nn=Z.slice(W,ve),fn=0;fn<Ot;++fn)if(Nt[fn]!==nn[fn]){at=Nt[fn],bt=nn[fn];break}return at<bt?-1:bt<at?1:0},y.prototype.includes=function(Z,W,ve){return-1!==this.indexOf(Z,W,ve)},y.prototype.indexOf=function(Z,W,ve){return ee(this,Z,W,ve,!0)},y.prototype.lastIndexOf=function(Z,W,ve){return ee(this,Z,W,ve,!1)},y.prototype.write=function(Z,W,ve,je){if(void 0===W)je="utf8",ve=this.length,W=0;else if(void 0===ve&&"string"==typeof W)je=W,ve=this.length,W=0;else{if(!isFinite(W))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");W>>>=0,isFinite(ve)?(ve>>>=0,void 0===je&&(je="utf8")):(je=ve,ve=void 0)}var nt=this.length-W;if((void 0===ve||ve>nt)&&(ve=nt),Z.length>0&&(ve<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var at=!1;;)switch(je){case"hex":return H(this,Z,W,ve);case"utf8":case"utf-8":return j(this,Z,W,ve);case"ascii":return ae(this,Z,W,ve);case"latin1":case"binary":return le(this,Z,W,ve);case"base64":return re(this,Z,W,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,Z,W,ve);default:if(at)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),at=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ye=4096;function Ie(ue,Z,W){var ve="";W=Math.min(ue.length,W);for(var je=Z;je<W;++je)ve+=String.fromCharCode(127&ue[je]);return ve}function Ge(ue,Z,W){var ve="";W=Math.min(ue.length,W);for(var je=Z;je<W;++je)ve+=String.fromCharCode(ue[je]);return ve}function Ce(ue,Z,W){var ve=ue.length;(!Z||Z<0)&&(Z=0),(!W||W<0||W>ve)&&(W=ve);for(var je="",nt=Z;nt<W;++nt)je+=Me[ue[nt]];return je}function Be(ue,Z,W){for(var ve=ue.slice(Z,W),je="",nt=0;nt<ve.length;nt+=2)je+=String.fromCharCode(ve[nt]+256*ve[nt+1]);return je}function Xe(ue,Z,W){if(ue%1!=0||ue<0)throw new RangeError("offset is not uint");if(ue+Z>W)throw new RangeError("Trying to access beyond buffer length")}function Ye(ue,Z,W,ve,je,nt){if(!y.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>je||Z<nt)throw new RangeError('"value" argument is out of bounds');if(W+ve>ue.length)throw new RangeError("Index out of range")}function it(ue,Z,W,ve,je,nt){if(W+ve>ue.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function vt(ue,Z,W,ve,je){return Z=+Z,W>>>=0,je||it(ue,0,W,4),a.write(ue,Z,W,ve,23,4),W+4}function Ke(ue,Z,W,ve,je){return Z=+Z,W>>>=0,je||it(ue,0,W,8),a.write(ue,Z,W,ve,52,8),W+8}y.prototype.slice=function(Z,W){var ve=this.length;(Z=~~Z)<0?(Z+=ve)<0&&(Z=0):Z>ve&&(Z=ve),(W=void 0===W?ve:~~W)<0?(W+=ve)<0&&(W=0):W>ve&&(W=ve),W<Z&&(W=Z);var je=this.subarray(Z,W);return Object.setPrototypeOf(je,y.prototype),je},y.prototype.readUIntLE=function(Z,W,ve){Z>>>=0,W>>>=0,ve||Xe(Z,W,this.length);for(var je=this[Z],nt=1,at=0;++at<W&&(nt*=256);)je+=this[Z+at]*nt;return je},y.prototype.readUIntBE=function(Z,W,ve){Z>>>=0,W>>>=0,ve||Xe(Z,W,this.length);for(var je=this[Z+--W],nt=1;W>0&&(nt*=256);)je+=this[Z+--W]*nt;return je},y.prototype.readUInt8=function(Z,W){return Z>>>=0,W||Xe(Z,1,this.length),this[Z]},y.prototype.readUInt16LE=function(Z,W){return Z>>>=0,W||Xe(Z,2,this.length),this[Z]|this[Z+1]<<8},y.prototype.readUInt16BE=function(Z,W){return Z>>>=0,W||Xe(Z,2,this.length),this[Z]<<8|this[Z+1]},y.prototype.readUInt32LE=function(Z,W){return Z>>>=0,W||Xe(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},y.prototype.readUInt32BE=function(Z,W){return Z>>>=0,W||Xe(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},y.prototype.readIntLE=function(Z,W,ve){Z>>>=0,W>>>=0,ve||Xe(Z,W,this.length);for(var je=this[Z],nt=1,at=0;++at<W&&(nt*=256);)je+=this[Z+at]*nt;return je>=(nt*=128)&&(je-=Math.pow(2,8*W)),je},y.prototype.readIntBE=function(Z,W,ve){Z>>>=0,W>>>=0,ve||Xe(Z,W,this.length);for(var je=W,nt=1,at=this[Z+--je];je>0&&(nt*=256);)at+=this[Z+--je]*nt;return at>=(nt*=128)&&(at-=Math.pow(2,8*W)),at},y.prototype.readInt8=function(Z,W){return Z>>>=0,W||Xe(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},y.prototype.readInt16LE=function(Z,W){Z>>>=0,W||Xe(Z,2,this.length);var ve=this[Z]|this[Z+1]<<8;return 32768&ve?4294901760|ve:ve},y.prototype.readInt16BE=function(Z,W){Z>>>=0,W||Xe(Z,2,this.length);var ve=this[Z+1]|this[Z]<<8;return 32768&ve?4294901760|ve:ve},y.prototype.readInt32LE=function(Z,W){return Z>>>=0,W||Xe(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},y.prototype.readInt32BE=function(Z,W){return Z>>>=0,W||Xe(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},y.prototype.readFloatLE=function(Z,W){return Z>>>=0,W||Xe(Z,4,this.length),a.read(this,Z,!0,23,4)},y.prototype.readFloatBE=function(Z,W){return Z>>>=0,W||Xe(Z,4,this.length),a.read(this,Z,!1,23,4)},y.prototype.readDoubleLE=function(Z,W){return Z>>>=0,W||Xe(Z,8,this.length),a.read(this,Z,!0,52,8)},y.prototype.readDoubleBE=function(Z,W){return Z>>>=0,W||Xe(Z,8,this.length),a.read(this,Z,!1,52,8)},y.prototype.writeUIntLE=function(Z,W,ve,je){Z=+Z,W>>>=0,ve>>>=0,je||Ye(this,Z,W,ve,Math.pow(2,8*ve)-1,0);var at=1,bt=0;for(this[W]=255&Z;++bt<ve&&(at*=256);)this[W+bt]=Z/at&255;return W+ve},y.prototype.writeUIntBE=function(Z,W,ve,je){Z=+Z,W>>>=0,ve>>>=0,je||Ye(this,Z,W,ve,Math.pow(2,8*ve)-1,0);var at=ve-1,bt=1;for(this[W+at]=255&Z;--at>=0&&(bt*=256);)this[W+at]=Z/bt&255;return W+ve},y.prototype.writeUInt8=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,1,255,0),this[W]=255&Z,W+1},y.prototype.writeUInt16LE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,2,65535,0),this[W]=255&Z,this[W+1]=Z>>>8,W+2},y.prototype.writeUInt16BE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,2,65535,0),this[W]=Z>>>8,this[W+1]=255&Z,W+2},y.prototype.writeUInt32LE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,4,4294967295,0),this[W+3]=Z>>>24,this[W+2]=Z>>>16,this[W+1]=Z>>>8,this[W]=255&Z,W+4},y.prototype.writeUInt32BE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,4,4294967295,0),this[W]=Z>>>24,this[W+1]=Z>>>16,this[W+2]=Z>>>8,this[W+3]=255&Z,W+4},y.prototype.writeIntLE=function(Z,W,ve,je){if(Z=+Z,W>>>=0,!je){var nt=Math.pow(2,8*ve-1);Ye(this,Z,W,ve,nt-1,-nt)}var at=0,bt=1,Ot=0;for(this[W]=255&Z;++at<ve&&(bt*=256);)Z<0&&0===Ot&&0!==this[W+at-1]&&(Ot=1),this[W+at]=(Z/bt|0)-Ot&255;return W+ve},y.prototype.writeIntBE=function(Z,W,ve,je){if(Z=+Z,W>>>=0,!je){var nt=Math.pow(2,8*ve-1);Ye(this,Z,W,ve,nt-1,-nt)}var at=ve-1,bt=1,Ot=0;for(this[W+at]=255&Z;--at>=0&&(bt*=256);)Z<0&&0===Ot&&0!==this[W+at+1]&&(Ot=1),this[W+at]=(Z/bt|0)-Ot&255;return W+ve},y.prototype.writeInt8=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,1,127,-128),Z<0&&(Z=255+Z+1),this[W]=255&Z,W+1},y.prototype.writeInt16LE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,2,32767,-32768),this[W]=255&Z,this[W+1]=Z>>>8,W+2},y.prototype.writeInt16BE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,2,32767,-32768),this[W]=Z>>>8,this[W+1]=255&Z,W+2},y.prototype.writeInt32LE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,4,2147483647,-2147483648),this[W]=255&Z,this[W+1]=Z>>>8,this[W+2]=Z>>>16,this[W+3]=Z>>>24,W+4},y.prototype.writeInt32BE=function(Z,W,ve){return Z=+Z,W>>>=0,ve||Ye(this,Z,W,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[W]=Z>>>24,this[W+1]=Z>>>16,this[W+2]=Z>>>8,this[W+3]=255&Z,W+4},y.prototype.writeFloatLE=function(Z,W,ve){return vt(this,Z,W,!0,ve)},y.prototype.writeFloatBE=function(Z,W,ve){return vt(this,Z,W,!1,ve)},y.prototype.writeDoubleLE=function(Z,W,ve){return Ke(this,Z,W,!0,ve)},y.prototype.writeDoubleBE=function(Z,W,ve){return Ke(this,Z,W,!1,ve)},y.prototype.copy=function(Z,W,ve,je){if(!y.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(ve||(ve=0),!je&&0!==je&&(je=this.length),W>=Z.length&&(W=Z.length),W||(W=0),je>0&&je<ve&&(je=ve),je===ve||0===Z.length||0===this.length)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(ve<0||ve>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),Z.length-W<je-ve&&(je=Z.length-W+ve);var nt=je-ve;if(this===Z&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(W,ve,je);else if(this===Z&&ve<W&&W<je)for(var at=nt-1;at>=0;--at)Z[at+W]=this[at+ve];else Uint8Array.prototype.set.call(Z,this.subarray(ve,je),W);return nt},y.prototype.fill=function(Z,W,ve,je){if("string"==typeof Z){if("string"==typeof W?(je=W,W=0,ve=this.length):"string"==typeof ve&&(je=ve,ve=this.length),void 0!==je&&"string"!=typeof je)throw new TypeError("encoding must be a string");if("string"==typeof je&&!y.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(1===Z.length){var nt=Z.charCodeAt(0);("utf8"===je&&nt<128||"latin1"===je)&&(Z=nt)}}else"number"==typeof Z?Z&=255:"boolean"==typeof Z&&(Z=Number(Z));if(W<0||this.length<W||this.length<ve)throw new RangeError("Out of range index");if(ve<=W)return this;var at;if(W>>>=0,ve=void 0===ve?this.length:ve>>>0,Z||(Z=0),"number"==typeof Z)for(at=W;at<ve;++at)this[at]=Z;else{var bt=y.isBuffer(Z)?Z:y.from(Z,je),Ot=bt.length;if(0===Ot)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(at=0;at<ve-W;++at)this[at+W]=bt[at%Ot]}return this};var Ze=/[^+/0-9A-Za-z-_]/g;function pe(ue,Z){Z=Z||1/0;for(var W,ve=ue.length,je=null,nt=[],at=0;at<ve;++at){if((W=ue.charCodeAt(at))>55295&&W<57344){if(!je){if(W>56319){(Z-=3)>-1&&nt.push(239,191,189);continue}if(at+1===ve){(Z-=3)>-1&&nt.push(239,191,189);continue}je=W;continue}if(W<56320){(Z-=3)>-1&&nt.push(239,191,189),je=W;continue}W=65536+(je-55296<<10|W-56320)}else je&&(Z-=3)>-1&&nt.push(239,191,189);if(je=null,W<128){if((Z-=1)<0)break;nt.push(W)}else if(W<2048){if((Z-=2)<0)break;nt.push(W>>6|192,63&W|128)}else if(W<65536){if((Z-=3)<0)break;nt.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;nt.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return nt}function xe(ue){return I.toByteArray(function ct(ue){if((ue=(ue=ue.split("=")[0]).trim().replace(Ze,"")).length<2)return"";for(;ue.length%4!=0;)ue+="=";return ue}(ue))}function ke(ue,Z,W,ve){for(var je=0;je<ve&&!(je+W>=Z.length||je>=ue.length);++je)Z[je+W]=ue[je];return je}function oe(ue,Z){return ue instanceof Z||null!=ue&&null!=ue.constructor&&null!=ue.constructor.name&&ue.constructor.name===Z.name}function ie(ue){return ue!=ue}var Me=function(){for(var ue="0123456789abcdef",Z=new Array(256),W=0;W<16;++W)for(var ve=16*W,je=0;je<16;++je)Z[ve+je]=ue[W]+ue[je];return Z}()},55124:(we,se,b)=>{var I=b(37707),a=b(60814),m=b(87648),v=b(48963);we.exports=v||I.call(m,a)},60814:we=>{we.exports=Function.prototype.apply},87648:we=>{we.exports=Function.prototype.call},92282:(we,se,b)=>{var I=b(37707),a=b(28519),m=b(87648),v=b(55124);we.exports=function(A){if(A.length<1||"function"!=typeof A[0])throw new a("a function is required");return v(I,m,A)}},48963:we=>{we.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},30840:(we,se,b)=>{var I=b(12521),a=b(92282),m=a([I("%String.prototype.indexOf%")]);we.exports=function(k,A){var y=I(k,!!A);return"function"==typeof y&&m(k,".prototype.")>-1?a([y]):y}},32471:we=>{var se=function(){"use strict";function b(f,g){return null!=g&&f instanceof g}var I,a,m;try{I=Map}catch{I=function(){}}try{a=Set}catch{a=function(){}}try{m=Promise}catch{m=function(){}}function v(f,g,V,w,F){"object"==typeof g&&(V=g.depth,w=g.prototype,F=g.includeNonEnumerable,g=g.circular);var N=[],M=[],G=typeof Buffer<"u";return typeof g>"u"&&(g=!0),typeof V>"u"&&(V=1/0),function R(T,U){if(null===T)return null;if(0===U)return T;var ee,ne;if("object"!=typeof T)return T;if(b(T,I))ee=new I;else if(b(T,a))ee=new a;else if(b(T,m))ee=new m(function(ye,De){T.then(function(Ie){ye(R(Ie,U-1))},function(Ie){De(R(Ie,U-1))})});else if(v.__isArray(T))ee=[];else if(v.__isRegExp(T))ee=new RegExp(T.source,L(T)),T.lastIndex&&(ee.lastIndex=T.lastIndex);else if(v.__isDate(T))ee=new Date(T.getTime());else{if(G&&Buffer.isBuffer(T))return ee=Buffer.allocUnsafe?Buffer.allocUnsafe(T.length):new Buffer(T.length),T.copy(ee),ee;b(T,Error)?ee=Object.create(T):typeof w>"u"?(ne=Object.getPrototypeOf(T),ee=Object.create(ne)):(ee=Object.create(w),ne=w)}if(g){var H=N.indexOf(T);if(-1!=H)return M[H];N.push(T),M.push(ee)}for(var j in b(T,I)&&T.forEach(function(ye,De){var Ie=R(De,U-1),Ge=R(ye,U-1);ee.set(Ie,Ge)}),b(T,a)&&T.forEach(function(ye){var De=R(ye,U-1);ee.add(De)}),T){var ae;ne&&(ae=Object.getOwnPropertyDescriptor(ne,j)),(!ae||null!=ae.set)&&(ee[j]=R(T[j],U-1))}if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(T);for(j=0;j<le.length;j++){var re=le[j];(q=Object.getOwnPropertyDescriptor(T,re))&&!q.enumerable&&!F||(ee[re]=R(T[re],U-1),q.enumerable||Object.defineProperty(ee,re,{enumerable:!1}))}}if(F){var te=Object.getOwnPropertyNames(T);for(j=0;j<te.length;j++){var q,X=te[j];(q=Object.getOwnPropertyDescriptor(T,X))&&q.enumerable||(ee[X]=R(T[X],U-1),Object.defineProperty(ee,X,{enumerable:!1}))}}return ee}(f,V)}function k(f){return Object.prototype.toString.call(f)}function L(f){var g="";return f.global&&(g+="g"),f.ignoreCase&&(g+="i"),f.multiline&&(g+="m"),g}return v.clonePrototype=function(g){if(null===g)return null;var V=function(){};return V.prototype=g,new V},v.__objToStr=k,v.__isDate=function A(f){return"object"==typeof f&&"[object Date]"===k(f)},v.__isArray=function y(f){return"object"==typeof f&&"[object Array]"===k(f)},v.__isRegExp=function E(f){return"object"==typeof f&&"[object RegExp]"===k(f)},v.__getRegExpFlags=L,v}();we.exports&&(we.exports=se)},17351:function(we,se){var b,a;void 0!==(a="function"==typeof(b=function(){return new function(){var v=this;v.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(R){return new Array(1+R).join(this)}},v.init();var E=/\/\*[\s\S]*?\*\//g,L=/([^\:]+):([^\;]*);/,f=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,N=function(T){return typeof T>"u"||0==T.length||null==T};v.toJSON=function(R,T){var U={children:{},attributes:{}},ee=null,ne=0;for(typeof T>"u"&&(T={ordered:!1,comments:!1,stripComments:!1,split:!1}),T.stripComments&&(T.comments=!1,R=R.replace(E,""));null!=(ee=f.exec(R));)if(!N(ee[1])&&T.comments){var H=ee[1].trim();U[ne++]=H}else if(N(ee[2])){if(!N(ee[3]))return U;if(!N(ee[4])){var X=ee[4].trim(),ye=L.exec(X);if(ye){var j=ye[1].trim(),De=ye[2].trim();if(T.ordered)(le={}).name=j,le.value=De,le.type="attr",U[ne++]=le;else if(j in U.attributes){var Ie=U.attributes[j];Ie instanceof Array||(U.attributes[j]=[Ie]),U.attributes[j].push(De)}else U.attributes[j]=De}else U[ne++]=X}}else{j=ee[2].trim();var ae=v.toJSON(R,T);if(T.ordered){var le;(le={}).name=j,le.value=ae,le.type="rule",U[ne++]=le}else{if(T.split)var re=j.split(",");else re=[j];for(i in re){var q=re[i].trim();if(q in U.children)for(var te in ae.attributes)U.children[q].attributes[te]=ae.attributes[te];else U.children[q]=ae}}}return U},v.toCSS=function(R,T,U){var ee="";if(typeof T>"u"&&(T=0),typeof U>"u"&&(U=!1),R.attributes)for(i in R.attributes){var ne=R.attributes[i];if(ne instanceof Array)for(var H=0;H<ne.length;H++)ee+=M(i,ne[H],T);else ee+=M(i,ne,T)}if(R.children){var j=!0;for(i in R.children)U&&!j?ee+="\n":j=!1,ee+=G(i,R.children[i],T)}return ee};var M=function(T,U,ee){return"\t".repeat(ee)+T+": "+U+";\n"},G=function(T,U,ee){var ne="\t".repeat(ee)+T+" {\n";return(ne+=v.toCSS(U,ee+1))+("\t".repeat(ee)+"}\n")}}})?b.apply(se,[]):b)&&(we.exports=a)},19558:function(we,se){!function(b){"use strict";var I="function"==typeof Symbol?Symbol("curriable placeholder"):60881;function m(A,y){var E="number"==typeof y?y:A.length,L=function a(A,y){return function E(L){return function(){var M,f=L.length,g=arguments,V=g.length,w=[],F=0,N=y;if(f)for(var G=-1;++G<f;)w[G]=M=L[G]===I&&F<V?g[F++]:L[G],M!==I&&--N;if(F<V)for(;F<V;)w[w.length]=M=g[F],M!==I&&F<y&&--N,++F;return N>0?E(w):A.apply(this,w)}}([])}(A,E);return L.arity=E,L.fn=A,L}function v(A){return A===I}function k(A){return A.fn}m.__=I,m.isPlaceholder=v,m.uncurry=k,b.__=I,b.curry=m,b.default=m,b.isPlaceholder=v,b.uncurry=k,Object.defineProperty(b,"__esModule",{value:!0})}(se)},22954:(we,se,b)=>{var I=Function.prototype.bind||b(7861);we.exports=function a(m,v){var k=function(){return 0===arguments.length?k:arguments.length>1?m.apply(v,arguments):I.call(m,v,arguments[0])};return k.uncurry=function(){return m},k}},74832:function(we){we.exports=function(){"use strict";var se="__proto__",b=function(w,F){return F},I=function(w,F){return F.map(function(N){return g(N)})},a=function(w,F){if(F&&F.hasOwnProperty("__proto__")){var N={};for(var M in F)M!==se&&(N[M]=F[M]);return N}return Object.assign({},F)},L={$push:function(w,F){return w.concat(F)},$append:function(w,F){return w.concat(F)},$prepend:function(w,F){return F.concat(w)},$replace:function(w,F){var N;return w=I(0,w),Object.keys(F).forEach(function(M){if((N=Number.parseInt(M))<0||Number.isNaN(N))throw Error("Invalid index for $replace: ".concat(M));w[N]=g.clone(F[M])}),w},$merge:function(w,F){var N;return w=w.slice(),Object.keys(F).forEach(function(M){if((N=Number.parseInt(M))<0||Number.isNaN(N))throw Error("Invalid index for $merge: ".concat(M));w[N]=g(w[N],F[M])}),w},$insert:function(w,F){var N;return w=I(0,w),Object.keys(F).forEach(function(M){if(N=Number.parseInt(M),Number.isNaN(N))throw Error("Invalid index for $insert: ".concat(M));w.splice(N,0,F[M])}),w},$set:I},f={oo:function(w,F){return w=a(0,w),Object.keys(F).forEach(function(N){N!==se&&(w[N]=g(w[N],F[N]))}),w},oa:a,ob:b,aa:function(w,F){return w=I(0,w),F.forEach(function(N,M){return w[M]=g(w[M],N)}),w},ao:function(w,F){return w=I(0,w),Object.keys(F).forEach(function(N){N!==se&&(w=N in L?L[N](w,F[N]):F)}),w},ab:b,bb:b,bo:a,ba:I};function g(V,w){if(void 0===w){if(null==V)return V;w=Array.isArray(V)?[]:"object"==typeof V?{}:V}else if(null===w)return null;var F=Array.isArray(V)?"a":"object"==typeof V?"o":"b",N=Array.isArray(w)?"a":"object"==typeof w?"o":"b";return f[F+N](V,w)}return g.clone=function(V){return g(V)},g.multi=function(V){for(var w=arguments.length,F=new Array(w>1?w-1:0),N=1;N<w;N++)F[N-1]=arguments[N];if(!F)return g(V);for(var M=0;M<F.length;M++)V=g(V,F[M]);return V},g}()},95812:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.default=se.nthElement=se.parentElements=void 0;var b=function(y){for(var E=[];y;){var L=y.nodeName.toLowerCase(),f=y.id?"#".concat(y.id):"",g="";y.className&&"string"==typeof y.className&&(g=".".concat(y.className.replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&"))),E.unshift({element:y,selector:L+f+g}),y=y.parentNode!==document&&y.parentNode}return E};se.parentElements=b;var I=function(y){for(var E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],L=y,f=1;null!==L.previousElementSibling;)(!E||L.previousElementSibling.nodeName===y.nodeName)&&f++,L=L.previousElementSibling;return f};se.nthElement=I;se.default=function(y){if(!(y instanceof HTMLElement))throw new Error("element must be of type `HTMLElement`.");return function(y){var E=[];return y.forEach(function(L){(function(y,E){var L=""===E?y:"".concat(E," > ").concat(y);return document.querySelectorAll(L).length>1})(L.selector,E.join(" > "))&&(L.selector+=":nth-of-type(".concat(I(L.element),")")),E.push(L.selector)}),E.join(" > ")}(b(y))}},46413:we=>{var se=Object.prototype.toString;function m(v){return v.replace(/\uffff/g,".")}we.exports=function b(v){for(var k=-1,A=function a(v){for(var k=-1,A=v.length,y=[];++k<A;)v[k]&&y.push(v[k]);return y}(function I(v){return("[object String]"===se.call(v)?v:"").replace(/\\\./g,"\uffff")}(v).split(".")),y=A.length,E=[];++k<y;)E.push(m(A[k]));return E}},38580:(we,se,b)=>{var m,I=b(92282),a=b(89263);try{m=[].__proto__===Array.prototype}catch(y){if(!y||"object"!=typeof y||!("code"in y)||"ERR_PROTO_ACCESS"!==y.code)throw y}var v=!!m&&a&&a(Object.prototype,"__proto__"),k=Object,A=k.getPrototypeOf;we.exports=v&&"function"==typeof v.get?I([v.get]):"function"==typeof A&&function(E){return A(null==E?E:k(E))}},81963:we=>{var se=Object.defineProperty||!1;if(se)try{se({},"a",{value:1})}catch{se=!1}we.exports=se},2905:we=>{we.exports=EvalError},71123:we=>{we.exports=Error},67718:we=>{we.exports=RangeError},33286:we=>{we.exports=ReferenceError},54880:we=>{we.exports=SyntaxError},28519:we=>{we.exports=TypeError},52781:we=>{we.exports=URIError},37888:we=>{we.exports=Object},44339:we=>{var I,se="object"==typeof Reflect?Reflect:null,b=se&&"function"==typeof se.apply?se.apply:function(U,ee,ne){return Function.prototype.apply.call(U,ee,ne)};I=se&&"function"==typeof se.ownKeys?se.ownKeys:Object.getOwnPropertySymbols?function(U){return Object.getOwnPropertyNames(U).concat(Object.getOwnPropertySymbols(U))}:function(U){return Object.getOwnPropertyNames(U)};var m=Number.isNaN||function(U){return U!=U};function v(){v.init.call(this)}we.exports=v,we.exports.once=function M(T,U){return new Promise(function(ee,ne){function H(ae){T.removeListener(U,j),ne(ae)}function j(){"function"==typeof T.removeListener&&T.removeListener("error",H),ee([].slice.call(arguments))}R(T,U,j,{once:!0}),"error"!==U&&function G(T,U,ee){"function"==typeof T.on&&R(T,"error",U,ee)}(T,H,{once:!0})})},v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var k=10;function A(T){if("function"!=typeof T)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}function y(T){return void 0===T._maxListeners?v.defaultMaxListeners:T._maxListeners}function E(T,U,ee,ne){var H,j,ae;if(A(ee),void 0===(j=T._events)?(j=T._events=Object.create(null),T._eventsCount=0):(void 0!==j.newListener&&(T.emit("newListener",U,ee.listener?ee.listener:ee),j=T._events),ae=j[U]),void 0===ae)ae=j[U]=ee,++T._eventsCount;else if("function"==typeof ae?ae=j[U]=ne?[ee,ae]:[ae,ee]:ne?ae.unshift(ee):ae.push(ee),(H=y(T))>0&&ae.length>H&&!ae.warned){ae.warned=!0;var le=new Error("Possible EventEmitter memory leak detected. "+ae.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");le.name="MaxListenersExceededWarning",le.emitter=T,le.type=U,le.count=ae.length,function a(T){console&&console.warn&&console.warn(T)}(le)}return T}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(T,U,ee){var ne={fired:!1,wrapFn:void 0,target:T,type:U,listener:ee},H=L.bind(ne);return H.listener=ee,ne.wrapFn=H,H}function g(T,U,ee){var ne=T._events;if(void 0===ne)return[];var H=ne[U];return void 0===H?[]:"function"==typeof H?ee?[H.listener||H]:[H]:ee?function N(T){for(var U=new Array(T.length),ee=0;ee<U.length;++ee)U[ee]=T[ee].listener||T[ee];return U}(H):w(H,H.length)}function V(T){var U=this._events;if(void 0!==U){var ee=U[T];if("function"==typeof ee)return 1;if(void 0!==ee)return ee.length}return 0}function w(T,U){for(var ee=new Array(U),ne=0;ne<U;++ne)ee[ne]=T[ne];return ee}function R(T,U,ee,ne){if("function"==typeof T.on)ne.once?T.once(U,ee):T.on(U,ee);else{if("function"!=typeof T.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T);T.addEventListener(U,function H(j){ne.once&&T.removeEventListener(U,H),ee(j)})}}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(U){if("number"!=typeof U||U<0||m(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");k=U}}),v.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(U){if("number"!=typeof U||U<0||m(U))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+U+".");return this._maxListeners=U,this},v.prototype.getMaxListeners=function(){return y(this)},v.prototype.emit=function(U){for(var ee=[],ne=1;ne<arguments.length;ne++)ee.push(arguments[ne]);var H="error"===U,j=this._events;if(void 0!==j)H=H&&void 0===j.error;else if(!H)return!1;if(H){var ae;if(ee.length>0&&(ae=ee[0]),ae instanceof Error)throw ae;var le=new Error("Unhandled error."+(ae?" ("+ae.message+")":""));throw le.context=ae,le}var re=j[U];if(void 0===re)return!1;if("function"==typeof re)b(re,this,ee);else{var q=re.length,te=w(re,q);for(ne=0;ne<q;++ne)b(te[ne],this,ee)}return!0},v.prototype.on=v.prototype.addListener=function(U,ee){return E(this,U,ee,!1)},v.prototype.prependListener=function(U,ee){return E(this,U,ee,!0)},v.prototype.once=function(U,ee){return A(ee),this.on(U,f(this,U,ee)),this},v.prototype.prependOnceListener=function(U,ee){return A(ee),this.prependListener(U,f(this,U,ee)),this},v.prototype.off=v.prototype.removeListener=function(U,ee){var ne,H,j,ae,le;if(A(ee),void 0===(H=this._events))return this;if(void 0===(ne=H[U]))return this;if(ne===ee||ne.listener===ee)0===--this._eventsCount?this._events=Object.create(null):(delete H[U],H.removeListener&&this.emit("removeListener",U,ne.listener||ee));else if("function"!=typeof ne){for(j=-1,ae=ne.length-1;ae>=0;ae--)if(ne[ae]===ee||ne[ae].listener===ee){le=ne[ae].listener,j=ae;break}if(j<0)return this;0===j?ne.shift():function F(T,U){for(;U+1<T.length;U++)T[U]=T[U+1];T.pop()}(ne,j),1===ne.length&&(H[U]=ne[0]),void 0!==H.removeListener&&this.emit("removeListener",U,le||ee)}return this},v.prototype.removeAllListeners=function(U){var ee,ne,H;if(void 0===(ne=this._events))return this;if(void 0===ne.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ne[U]&&(0===--this._eventsCount?this._events=Object.create(null):delete ne[U]),this;if(0===arguments.length){var ae,j=Object.keys(ne);for(H=0;H<j.length;++H)"removeListener"!==(ae=j[H])&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ee=ne[U]))this.removeListener(U,ee);else if(void 0!==ee)for(H=ee.length-1;H>=0;H--)this.removeListener(U,ee[H]);return this},v.prototype.listeners=function(U){return g(this,U,!0)},v.prototype.rawListeners=function(U){return g(this,U,!1)},v.listenerCount=function(T,U){return"function"==typeof T.listenerCount?T.listenerCount(U):V.call(T,U)},v.prototype.listenerCount=V,v.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},7861:we=>{we.exports=function(se){var I,b=this;if(arguments.length<2)I=function(){if(this instanceof I){var k=b.apply(this,arguments);return Object(k)===k?k:this}return b.apply(se,arguments)};else{for(var a=new Array(arguments.length-1),m=1;m<arguments.length;m++)a[m-1]=arguments[m];I=function(){var y,k=a.length,A=new Array(k+arguments.length);for(y=0;y<k;y++)A[y]=a[y];for(y=0;y<arguments.length;y++)A[k+y]=arguments[y];if(this instanceof I){var E=b.apply(this,A);return Object(E)===E?E:this}return b.apply(se,A)}}return I.prototype=b.prototype,I}},3933:we=>{var b=Object.prototype.toString,I=Math.max,m=function(y,E){for(var L=[],f=0;f<y.length;f+=1)L[f]=y[f];for(var g=0;g<E.length;g+=1)L[g+y.length]=E[g];return L};we.exports=function(y){var E=this;if("function"!=typeof E||"[object Function]"!==b.apply(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var f,L=function(y){for(var L=[],f=1,g=0;f<y.length;f+=1,g+=1)L[g]=y[f];return L}(arguments),V=I(0,E.length-L.length),w=[],F=0;F<V;F++)w[F]="$"+F;if(f=Function("binder","return function ("+function(y){for(var L="",f=0;f<y.length;f+=1)L+=y[f],f+1<y.length&&(L+=",");return L}(w)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var G=E.apply(this,m(L,arguments));return Object(G)===G?G:this}return E.apply(y,m(L,arguments))}),E.prototype){var N=function(){};N.prototype=E.prototype,f.prototype=new N,N.prototype=null}return f}},37707:(we,se,b)=>{var I=b(3933);we.exports=Function.prototype.bind||I},12521:(we,se,b)=>{var I,a=b(37888),m=b(71123),v=b(2905),k=b(67718),A=b(33286),y=b(54880),E=b(28519),L=b(52781),f=b(97598),g=b(73116),V=b(42136),w=b(43462),F=b(11516),N=b(75714),M=b(497),G=Function,R=function(xe){try{return G('"use strict"; return ('+xe+").constructor;")()}catch{}},T=b(89263),U=b(81963),ee=function(){throw new E},ne=T?function(){try{return ee}catch{try{return T(arguments,"callee").get}catch{return ee}}}():ee,H=b(61459)(),j=b(11568),ae=b(69364),le=b(93996),re=b(60814),q=b(87648),te={},X=typeof Uint8Array>"u"||!j?I:j(Uint8Array),ye={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":H&&j?j([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":te,"%AsyncGenerator%":te,"%AsyncGeneratorFunction%":te,"%AsyncIteratorPrototype%":te,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":m,"%eval%":eval,"%EvalError%":v,"%Float16Array%":typeof Float16Array>"u"?I:Float16Array,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":G,"%GeneratorFunction%":te,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&j?j(j([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!j?I:j((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":k,"%ReferenceError%":A,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!j?I:j((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&j?j(""[Symbol.iterator]()):I,"%Symbol%":H?Symbol:I,"%SyntaxError%":y,"%ThrowTypeError%":ne,"%TypedArray%":X,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":L,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet,"%Function.prototype.call%":q,"%Function.prototype.apply%":re,"%Object.defineProperty%":U,"%Object.getPrototypeOf%":ae,"%Math.abs%":f,"%Math.floor%":g,"%Math.max%":V,"%Math.min%":w,"%Math.pow%":F,"%Math.round%":N,"%Math.sign%":M,"%Reflect.getPrototypeOf%":le};if(j)try{null.error}catch(Q){var De=j(j(Q));ye["%Error.prototype%"]=De}var Ie=function Q(xe){var ke;if("%AsyncFunction%"===xe)ke=R("async function () {}");else if("%GeneratorFunction%"===xe)ke=R("function* () {}");else if("%AsyncGeneratorFunction%"===xe)ke=R("async function* () {}");else if("%AsyncGenerator%"===xe){var oe=Q("%AsyncGeneratorFunction%");oe&&(ke=oe.prototype)}else if("%AsyncIteratorPrototype%"===xe){var ie=Q("%AsyncGenerator%");ie&&j&&(ke=j(ie.prototype))}return ye[xe]=ke,ke},Ge={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ce=b(37707),Be=b(13889),Xe=Ce.call(q,Array.prototype.concat),Ye=Ce.call(re,Array.prototype.splice),it=Ce.call(q,String.prototype.replace),vt=Ce.call(q,String.prototype.slice),Ke=Ce.call(q,RegExp.prototype.exec),Ze=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ct=/\\(\\)?/g,K=function(xe,ke){var ie,oe=xe;if(Be(Ge,oe)&&(oe="%"+(ie=Ge[oe])[0]+"%"),Be(ye,oe)){var Me=ye[oe];if(Me===te&&(Me=Ie(oe)),typeof Me>"u"&&!ke)throw new E("intrinsic "+xe+" exists, but is not available. Please file an issue!");return{alias:ie,name:oe,value:Me}}throw new y("intrinsic "+xe+" does not exist!")};we.exports=function(xe,ke){if("string"!=typeof xe||0===xe.length)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ke)throw new E('"allowMissing" argument must be a boolean');if(null===Ke(/^%?[^%]*%?$/,xe))throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var oe=function(xe){var ke=vt(xe,0,1),oe=vt(xe,-1);if("%"===ke&&"%"!==oe)throw new y("invalid intrinsic syntax, expected closing `%`");if("%"===oe&&"%"!==ke)throw new y("invalid intrinsic syntax, expected opening `%`");var ie=[];return it(xe,Ze,function(Me,ue,Z,W){ie[ie.length]=Z?it(W,ct,"$1"):ue||Me}),ie}(xe),ie=oe.length>0?oe[0]:"",Me=K("%"+ie+"%",ke),ue=Me.name,Z=Me.value,W=!1,ve=Me.alias;ve&&(ie=ve[0],Ye(oe,Xe([0,1],ve)));for(var je=1,nt=!0;je<oe.length;je+=1){var at=oe[je],bt=vt(at,0,1),Ot=vt(at,-1);if(('"'===bt||"'"===bt||"`"===bt||'"'===Ot||"'"===Ot||"`"===Ot)&&bt!==Ot)throw new y("property names with quotes must have matching quotes");if(("constructor"===at||!nt)&&(W=!0),Be(ye,ue="%"+(ie+="."+at)+"%"))Z=ye[ue];else if(null!=Z){if(!(at in Z)){if(!ke)throw new E("base intrinsic for "+xe+" exists, but the property is not available.");return}if(T&&je+1>=oe.length){var Nt=T(Z,at);Z=(nt=!!Nt)&&"get"in Nt&&!("originalValue"in Nt.get)?Nt.get:Z[at]}else nt=Be(Z,at),Z=Z[at];nt&&!W&&(ye[ue]=Z)}}return Z}},69364:(we,se,b)=>{var I=b(37888);we.exports=I.getPrototypeOf||null},93996:we=>{we.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},11568:(we,se,b)=>{var I=b(93996),a=b(69364),m=b(38580);we.exports=I?function(k){return I(k)}:a?function(k){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new TypeError("getProto: not an object");return a(k)}:m?function(k){return m(k)}:null},29817:we=>{we.exports=Object.getOwnPropertyDescriptor},89263:(we,se,b)=>{var I=b(29817);if(I)try{I([],"length")}catch{I=null}we.exports=I},61459:(we,se,b)=>{var I=typeof Symbol<"u"&&Symbol,a=b(76497);we.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&a()}},76497:we=>{we.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var b={},I=Symbol("test"),a=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(var v in b[I]=42,b)return!1;if("function"==typeof Object.keys&&0!==Object.keys(b).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var k=Object.getOwnPropertySymbols(b);if(1!==k.length||k[0]!==I||!Object.prototype.propertyIsEnumerable.call(b,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var A=Object.getOwnPropertyDescriptor(b,I);if(42!==A.value||!0!==A.enumerable)return!1}return!0}},6451:(we,se,b)=>{b.r(se),b.d(se,{default:()=>vt,hash:()=>it});var a,m,v,k,I=b(19558),A=typeof Buffer<"u"&&"function"==typeof Buffer.from,y="function"==typeof Uint16Array,E=/\[object (HTML(.*)Element)\]/,L=/\[object (SVG(.*)Element)\]/,g=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"].reduce(function(Ke,Ze){return Ke["[object "+Ze+"]"]=Ze,Ke},{}),V=Object.keys(g).reduce(function(Ke,Ze){return Ke[g[Ze].toUpperCase()]=Ze,Ke},{}),w={"[object Map]":!0,"[object Set]":!0},F={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},N=((a={})[V.ARGUMENTS]=!0,a[V.ARRAY]=!0,a),M=((m={})[V.REGEXP]=!0,m[V.SYMBOL]=!0,m),G=((v={})[V.FLOAT32ARRAY]=!0,v[V.FLOAT64ARRAY]=!0,v[V.INT8ARRAY]=!0,v[V.INT16ARRAY]=!0,v[V.INT32ARRAY]=!0,v[V.UINT8ARRAY]=!0,v[V.UINT8CLAMPEDARRAY]=!0,v[V.UINT16ARRAY]=!0,v[V.UINT32ARRAY]=!0,v),R=((k={})[V.GENERATOR]=!0,k[V.PROMISE]=!0,k[V.WEAKMAP]=!0,k[V.WEAKSET]=!0,k),T=/^\s*function\s*([^(]*)/i,U=Object.prototype.toString,ee=Object.keys;function ae(Ke,Ze){return Ke>Ze}function le(Ke,Ze){return Ke[0]>Ze[0]}function re(Ke,Ze){for(var ct,pe,K=0;K<Ke.length;++K){for(pe=Ke[K],ct=K-1;~ct&&Ze(Ke[ct],pe);--ct)Ke[ct+1]=Ke[ct];Ke[ct+1]=pe}return Ke}function X(Ke){return String.fromCharCode.apply(null,new Uint16Array(Ke))}function ye(Ke){return Buffer.from(Ke).toString("utf8")}function De(){return""}var Ie=function(){return A?ye:y?X:De}();function Ce(Ke,Ze){for(var ct=0;ct<Ke.length;++ct)if(Ke[ct]===Ze)return ct+1;return 0}function Be(Ke,Ze,ct,pe){if(void 0===pe){var K=typeof Ke;if("string"===K||F[K])return K+"|"+Ke;if(null===Ke)return"null|"+Ke}var Q=pe||U.call(Ke);return N[Q]?Ke:Q===V.OBJECT?function te(Ke){for(var pe,Ze=re(ee(Ke),ae),ct={},K=0;K<Ze.length;++K)ct[pe=Ze[K]]=Ke[pe];return ct}(Ke):M[Q]?g[Q]+"|"+Ke.toString():w[Q]?function q(Ke,Ze,ct){var pe="function"==typeof Ke.get,K=[];pe?(Ke.forEach(function(ie,Me){K.push([Ye(Me,Ze,ct),Ye(ie,Ze,ct)])}),re(K,le)):(Ke.forEach(function(ie){K.push(Ye(ie,Ze,ct))}),re(K,ae));for(var oe,Q=function ne(Ke){return Ke.name||(Ke.toString().match(T)||[])[1]||"anonymous"}(Ke.constructor)+"|[",xe=0,ke=K.length;xe<ke;++xe)oe=K[xe],Q+=(xe?",":"")+(pe?"["+oe[0]+","+oe[1]+"]":oe);return Q+"]"}(Ke,Ze,ct):Q===V.DATE?g[Q]+"|"+Ke.getTime():Q===V.ERROR?g[Q]+"|"+Ke.stack:Q===V.EVENT?function j(Ke){return{bubbles:Ke.bubbles,cancelBubble:Ke.cancelBubble,cancelable:Ke.cancelable,composed:Ke.composed,currentTarget:Ke.currentTarget,defaultPrevented:Ke.defaultPrevented,eventPhase:Ke.eventPhase,isTrusted:Ke.isTrusted,returnValue:Ke.returnValue,target:Ke.target,type:Ke.type}}(Ke):R[Q]?g[Q]+"|NOT_ENUMERABLE":E.test(Q)||L.test(Q)?Q.slice(8,-1)+"|"+Ke.outerHTML:Q===V.DOCUMENTFRAGMENT?g[Q]+"|"+function Ge(Ke){for(var Ze=Ke.children,ct="",pe=0;pe<Ze.length;++pe)ct+=Ze[pe].outerHTML;return ct}(Ke):G[Q]?g[Q]+"|"+Ke.join(","):Q===V.ARRAYBUFFER?g[Q]+"|"+Ie(Ke):Q===V.DATAVIEW?g[Q]+"|"+Ie(Ke.buffer):Ke}function Ye(Ke,Ze,ct){if(!Ke||"object"!=typeof Ke)return Be(Ke,Ze,ct);var pe=U.call(Ke);return pe===V.DATE||pe===V.REGEXP?Be(Ke,Ze,ct,pe):JSON.stringify(Ke,function Xe(Ke,Ze){return void 0===Ke&&(Ke=[]),void 0===Ze&&(Ze=[]),function(ct,pe){if("object"==typeof pe)if(Ke.length){var K=Ce(Ke,this);0===K?Ke.push(this):(Ke.splice(K),Ze.splice(K)),Ze.push(ct);var Q=Ce(Ke,pe);if(0!==Q)return"[~"+(Ze.slice(0,Q).join(".")||".")+"]";Ke.push(pe)}else Ke[0]=pe,Ze[0]=ct;return ct&&this[ct]instanceof Date?Be(this[ct],Ke,Ze,V.DATE):Be(pe,Ke,Ze)}}(Ze,ct))}function it(Ke){return function H(Ke){for(var K,Ze=Ke.length,ct=5381,pe=52711;Ze--;)ct=33*ct^(K=Ke.charCodeAt(Ze)),pe=33*pe^K;return 4096*(ct>>>0)+(pe>>>0)}(Ye(Ke))}(it.is=(0,I.curry)(function(Ke,Ze){return it(Ke)===it(Ze)})).all=(0,I.curry)(function(Ke){for(var Ze=it.is(Ke),ct=1;ct<arguments.length;++ct)if(!Ze(arguments[ct]))return!1;return!0},2),it.is.any=(0,I.curry)(function(Ke){for(var Ze=it.is(Ke),ct=1;ct<arguments.length;ct++)if(Ze(arguments[ct]))return!0;return!1},2),it.is.not=(0,I.curry)(function(Ke,Ze){return it(Ke)!==it(Ze)});const vt=it},13889:(we,se,b)=>{var I=Function.prototype.call,a=Object.prototype.hasOwnProperty,m=b(37707);we.exports=m.call(I,a)},17383:(we,se)=>{se.read=function(b,I,a,m,v){var k,A,y=8*v-m-1,E=(1<<y)-1,L=E>>1,f=-7,g=a?v-1:0,V=a?-1:1,w=b[I+g];for(g+=V,k=w&(1<<-f)-1,w>>=-f,f+=y;f>0;k=256*k+b[I+g],g+=V,f-=8);for(A=k&(1<<-f)-1,k>>=-f,f+=m;f>0;A=256*A+b[I+g],g+=V,f-=8);if(0===k)k=1-L;else{if(k===E)return A?NaN:1/0*(w?-1:1);A+=Math.pow(2,m),k-=L}return(w?-1:1)*A*Math.pow(2,k-m)},se.write=function(b,I,a,m,v,k){var A,y,E,L=8*k-v-1,f=(1<<L)-1,g=f>>1,V=23===v?Math.pow(2,-24)-Math.pow(2,-77):0,w=m?0:k-1,F=m?1:-1,N=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(y=isNaN(I)?1:0,A=f):(A=Math.floor(Math.log(I)/Math.LN2),I*(E=Math.pow(2,-A))<1&&(A--,E*=2),(I+=A+g>=1?V/E:V*Math.pow(2,1-g))*E>=2&&(A++,E/=2),A+g>=f?(y=0,A=f):A+g>=1?(y=(I*E-1)*Math.pow(2,v),A+=g):(y=I*Math.pow(2,g-1)*Math.pow(2,v),A=0));v>=8;b[a+w]=255&y,w+=F,y/=256,v-=8);for(A=A<<v|y,L+=v;L>0;b[a+w]=255&A,w+=F,A/=256,L-=8);b[a+w-F]|=128*N}},19822:we=>{we.exports="function"==typeof Object.create?function(b,I){I&&(b.super_=I,b.prototype=Object.create(I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}))}:function(b,I){if(I){b.super_=I;var a=function(){};a.prototype=I.prototype,b.prototype=new a,b.prototype.constructor=b}}},38195:(we,se,b)=>{var I,a,m;void 0!==(a="function"==typeof(I=m=function(){function m(){for(var A=0,y={};A<arguments.length;A++){var E=arguments[A];for(var L in E)y[L]=E[L]}return y}function v(A){return A.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function k(A){function y(){}function E(f,g,V){if(!(typeof document>"u")){"number"==typeof(V=m({path:"/"},y.defaults,V)).expires&&(V.expires=new Date(1*new Date+864e5*V.expires)),V.expires=V.expires?V.expires.toUTCString():"";try{var w=JSON.stringify(g);/^[\{\[]/.test(w)&&(g=w)}catch{}g=A.write?A.write(g,f):encodeURIComponent(String(g)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),f=encodeURIComponent(String(f)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var F="";for(var N in V)V[N]&&(F+="; "+N,!0!==V[N]&&(F+="="+V[N].split(";")[0]));return document.cookie=f+"="+g+F}}function L(f,g){if(!(typeof document>"u")){for(var V={},w=document.cookie?document.cookie.split("; "):[],F=0;F<w.length;F++){var N=w[F].split("="),M=N.slice(1).join("=");!g&&'"'===M.charAt(0)&&(M=M.slice(1,-1));try{var G=v(N[0]);if(M=(A.read||A)(M,G)||v(M),g)try{M=JSON.parse(M)}catch{}if(V[G]=M,f===G)break}catch{}}return f?V[f]:V}}return y.set=E,y.get=function(f){return L(f,!1)},y.getJSON=function(f){return L(f,!0)},y.remove=function(f,g){E(f,"",m(g,{expires:-1}))},y.defaults={},y.withConverter=k,y}(function(){})})?I.call(se,b,se,we):I)&&(we.exports=a),we.exports=m()},59788:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},a=function(){function F(N,M){for(var G=0;G<M.length;G++){var R=M[G];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,M,G){return M&&F(N.prototype,M),G&&F(N,G),N}}(),v=g(b(62909)),k=b(88912),y=g(b(46440)),E=b(8345),f=g(b(77086));function g(F){return F&&F.__esModule?F:{default:F}}var w=function(){function F(N){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var R in function V(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}(this,F),this.factMap=new Map(N),this.factResultsCache=new Map,this.allowUndefinedFacts=!!G.allowUndefinedFacts,M){var T;T=M[R]instanceof v.default?M[R]:new v.default(R,M[R]),this._addConstantFact(T),(0,y.default)("almanac::constructor initialized runtime fact:"+T.id+" with "+T.value+"<"+I(T.value)+">")}}return a(F,[{key:"_getFact",value:function(M){return this.factMap.get(M)}},{key:"_addConstantFact",value:function(M){this.factMap.set(M.id,M),this._setFactValue(M,{},M.value)}},{key:"_setFactValue",value:function(M,G,R){var T=M.getCacheKey(G),U=Promise.resolve(R);return T&&this.factResultsCache.set(T,U),U}},{key:"addRuntimeFact",value:function(M,G){(0,y.default)("almanac::addRuntimeFact id:"+M);var R=new v.default(M,G);return this._addConstantFact(R)}},{key:"factValue",value:function(M){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",T=void 0,U=this._getFact(M);if(void 0===U)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new k.UndefinedFactError("Undefined fact: "+M));if(U.isConstant())T=Promise.resolve(U.calculate(G,this));else{var ee=U.getCacheKey(G),ne=ee&&this.factResultsCache.get(ee);ne?(T=Promise.resolve(ne),(0,y.default)("almanac::factValue cache hit for fact:"+M)):((0,y.default)("almanac::factValue cache miss for fact:"+M+"; calculating"),T=this._setFactValue(U,G,U.calculate(G,this)))}if(R){if("string"==typeof R&&R.startsWith("$"))return(0,y.default)("condition::evaluate extracting object property "+R),T.then(function(j){if((0,f.default)(j)){var ae=(0,E.JSONPath)({path:R,json:j,wrap:!1});return(0,y.default)("condition::evaluate extracting object property "+R+", received: "+ae),ae}return(0,y.default)("condition::evaluate could not compute object path("+R+") of non-object: "+j+" <"+(typeof j>"u"?"undefined":I(j))+">; continuing with "+j),j});var H=void 0;try{H=b(34365)}catch{throw console.error('Oops! Looks like you\'re trying to use the deprecated syntax for the ".path" property.'),console.error('Please convert your "path" properties to JsonPath syntax (ensure your path starts with "$")'),console.error('Alternatively, if you wish to continue using old syntax (provided by selectn), you may "npm install selectn" as a direct dependency.'),console.error("See https://github.com/CacheControl/json-rules-engine/blob/master/CHANGELOG.md#500--2019-10-27 for more information."),new Error('json-rules-engine: Unmet peer dependency "selectn" required for use of deprecated ".path" syntax. please "npm install selectn" or convert to json-path syntax')}return T.then(function(j){if((0,f.default)(j)){var ae=H(R)(j);return(0,y.default)("condition::evaluate extracting object property "+R+", received: "+ae),ae}return(0,y.default)("condition::evaluate could not compute object path("+R+") of non-object: "+j+" <"+(typeof j>"u"?"undefined":I(j))+">; continuing with "+j),j})}return T}}]),F}();se.default=w},3354:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var I=function(){function L(f,g){for(var V=0;V<g.length;V++){var w=g[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,g,V){return g&&L(f.prototype,g),V&&L(f,V),f}}(),m=A(b(46440)),k=A(b(77086));function A(L){return L&&L.__esModule?L:{default:L}}var E=function(){function L(f){if(function y(L,f){if(!(L instanceof f))throw new TypeError("Cannot call a class as a function")}(this,L),!f)throw new Error("Condition: constructor options required");var g=L.booleanOperator(f);if(Object.assign(this,f),g){var V=f[g];if(!Array.isArray(V))throw new Error('"'+g+'" must be an array');this.operator=g,this.priority=parseInt(f.priority,10)||1,this[g]=V.map(function(w){return new L(w)})}else{if(!Object.prototype.hasOwnProperty.call(f,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(f,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(f,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(f,"priority")&&(f.priority=parseInt(f.priority,10))}}return I(L,[{key:"toJSON",value:function(){var g=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],V={};this.priority&&(V.priority=this.priority);var w=L.booleanOperator(this);return w?V[w]=this[w].map(function(F){return F.toJSON(g)}):(V.operator=this.operator,V.value=this.value,V.fact=this.fact,void 0!==this.factResult&&(V.factResult=this.factResult),void 0!==this.result&&(V.result=this.result),this.params&&(V.params=this.params),this.path&&(V.path=this.path)),g?JSON.stringify(V):V}},{key:"_getValue",value:function(g){var V=this.value;return(0,k.default)(V)&&Object.prototype.hasOwnProperty.call(V,"fact")?g.factValue(V.fact,V.params,V.path):Promise.resolve(V)}},{key:"evaluate",value:function(g,V){var w=this;if(!g)return Promise.reject(new Error("almanac required"));if(!V)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var F=V.get(this.operator);return F?this._getValue(g).then(function(N){return g.factValue(w.fact,w.params,w.path).then(function(M){var G=F.evaluate(M,N);return(0,m.default)("condition::evaluate <"+M+" "+w.operator+" "+N+"?> ("+G+")"),{result:G,leftHandSideValue:M,rightHandSideValue:N,operator:w.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return L.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==L.booleanOperator(this)}}],[{key:"booleanOperator",value:function(g){return Object.prototype.hasOwnProperty.call(g,"any")?"any":Object.prototype.hasOwnProperty.call(g,"all")?"all":void 0}}]),L}();se.default=E},46440:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.default=function b(I){try{(typeof process<"u"&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(I)}catch{}}},45757:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var a=function m(A){return A&&A.__esModule?A:{default:A}}(b(49203)),v=[];function k(A){return"NaN"!==Number.parseFloat(A).toString()}v.push(new a.default("equal",function(A,y){return A===y})),v.push(new a.default("notEqual",function(A,y){return A!==y})),v.push(new a.default("in",function(A,y){return y.indexOf(A)>-1})),v.push(new a.default("notIn",function(A,y){return-1===y.indexOf(A)})),v.push(new a.default("contains",function(A,y){return A.indexOf(y)>-1},Array.isArray)),v.push(new a.default("doesNotContain",function(A,y){return-1===A.indexOf(y)},Array.isArray)),v.push(new a.default("lessThan",function(A,y){return A<y},k)),v.push(new a.default("lessThanInclusive",function(A,y){return A<=y},k)),v.push(new a.default("greaterThan",function(A,y){return A>y},k)),v.push(new a.default("greaterThanInclusive",function(A,y){return A>=y},k)),se.default=v},9175:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.SuccessEventFact=function(){var a=[];return function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.event&&a.push(m.event),a}}},86457:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.FINISHED=se.RUNNING=se.READY=void 0;var I=function(){function j(ae,le){for(var re=0;re<le.length;re++){var q=le[re];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ae,q.key,q)}}return function(ae,le,re){return le&&j(ae.prototype,le),re&&j(ae,re),ae}}(),m=M(b(62909)),k=M(b(57133)),y=M(b(49203)),L=M(b(59788)),f=b(44339),g=b(9175),w=M(b(45757)),N=M(b(46440));function M(j){return j&&j.__esModule?j:{default:j}}var U=se.READY="READY",ee=se.RUNNING="RUNNING",ne=se.FINISHED="FINISHED",H=function(j){function ae(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function G(j,ae){if(!(j instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,ae);var q=function R(j,ae){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ae||"object"!=typeof ae&&"function"!=typeof ae?j:ae}(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this));return q.rules=[],q.allowUndefinedFacts=re.allowUndefinedFacts||!1,q.operators=new Map,q.facts=new Map,q.status=U,le.map(function(te){return q.addRule(te)}),w.default.map(function(te){return q.addOperator(te)}),q}return function T(j,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);j.prototype=Object.create(ae&&ae.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(j,ae):j.__proto__=ae)}(ae,j),I(ae,[{key:"addRule",value:function(re){if(!re)throw new Error("Engine: addRule() requires options");if(!Object.prototype.hasOwnProperty.call(re,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!Object.prototype.hasOwnProperty.call(re,"event"))throw new Error('Engine: addRule() argument requires "event" property');var q=void 0;return(q=re instanceof k.default?re:new k.default(re)).setEngine(this),this.rules.push(q),this.prioritizedRules=null,this}},{key:"removeRule",value:function(re){if(!(re instanceof k.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var q=this.rules.indexOf(re);return-1!==q&&(this.prioritizedRules=null,!!this.rules.splice(q,1).length)}},{key:"addOperator",value:function(re,q){var te;te=re instanceof y.default?re:new y.default(re,q),(0,N.default)("engine::addOperator name:"+te.name),this.operators.set(te.name,te)}},{key:"removeOperator",value:function(re){return this.operators.delete(re instanceof y.default?re.name:re)}},{key:"addFact",value:function(re,q,te){var X=re,ye=void 0;return re instanceof m.default?(X=re.id,ye=re):ye=new m.default(re,q,te),(0,N.default)("engine::addFact id:"+X),this.facts.set(X,ye),this}},{key:"removeFact",value:function(re){return this.facts.delete(re instanceof m.default?re.id:re)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var re=this.rules.reduce(function(q,te){var X=te.priority;return q[X]||(q[X]=[]),q[X].push(te),q},{});this.prioritizedRules=Object.keys(re).sort(function(q,te){return Number(q)>Number(te)?-1:1}).map(function(q){return re[q]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=ne,this}},{key:"getFact",value:function(re){return this.facts.get(re)}},{key:"evaluateRules",value:function(re,q){var te=this;return Promise.all(re.map(function(X){if(te.status===ee)return X.evaluate(q).then(function(ye){(0,N.default)("engine::run ruleResult:"+ye.result),ye.result?(te.emit("success",X.event,q,ye),te.emit(X.event.type,X.event.params,q,ye),q.factValue("success-events",{event:X.event})):te.emit("failure",X.event,q,ye)});(0,N.default)("engine::run status:"+te.status+"; skipping remaining rules")}))}},{key:"run",value:function(){var re=this,q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,N.default)("engine::run started"),(0,N.default)("engine::run runtimeFacts:",q),q["success-events"]=new m.default("success-events",(0,g.SuccessEventFact)(),{cache:!1}),this.status=ee;var te=new L.default(this.facts,q,{allowUndefinedFacts:this.allowUndefinedFacts}),X=this.prioritizeRules(),ye=Promise.resolve();return new Promise(function(De,Ie){X.map(function(Ge){return ye=ye.then(function(){return re.evaluateRules(Ge,te)}).catch(Ie)}),ye.then(function(){return re.status=ne,(0,N.default)("engine::run completed"),te.factValue("success-events")}).then(function(Ge){De({events:Ge,almanac:te})}).catch(Ie)})}}]),ae}(f.EventEmitter);se.default=H},88912:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.UndefinedFactError=function(){function k(){var A;!function b(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k);for(var y=arguments.length,E=Array(y),L=0;L<y;L++)E[L]=arguments[L];var f=function I(v,k){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?v:k}(this,(A=k.__proto__||Object.getPrototypeOf(k)).call.apply(A,[this].concat(E)));return f.code="UNDEFINED_FACT",f}return function a(v,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);v.prototype=Object.create(k&&k.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(v,k):v.__proto__=k)}(k,Error),k}()},62909:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var I=function(){function y(E,L){for(var f=0;f<L.length;f++){var g=L[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,L,f){return L&&y(E.prototype,L),f&&y(E,f),E}}(),m=function v(y){return y&&y.__esModule?y:{default:y}}(b(6451)),A=function(){function y(E,L,f){(function k(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=E;var g={cache:!0};if(typeof f>"u"&&(f=g),"function"!=typeof L?(this.value=L,this.type=this.constructor.CONSTANT):(this.calculationMethod=L,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(f.priority||1,10),this.options=Object.assign({},g,f),this.cacheKeyMethod=this.defaultCacheKeys,this}return I(y,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(L,f){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(L,f)}},{key:"defaultCacheKeys",value:function(L,f){return{params:f,id:L}}},{key:"getCacheKey",value:function(L){if(!0===this.options.cache){var f=this.cacheKeyMethod(this.id,L);return y.hashFromObject(f)}}}],[{key:"hashFromObject",value:function(L){return(0,m.default)(L)}}]),y}();A.CONSTANT="CONSTANT",A.DYNAMIC="DYNAMIC",se.default=A},7479:(we,se,b)=>{we.exports=b(46542)},46542:(we,se,b)=>{se.Engine=se.Rule=void 0;var m=f(b(86457)),y=(f(b(62909)),f(b(57133)));f(b(49203));function f(g){return g&&g.__esModule?g:{default:g}}se.Rule=y.default,se.Engine=m.default},49203:(we,se)=>{Object.defineProperty(se,"__esModule",{value:!0});var b=function(){function m(v,k){for(var A=0;A<k.length;A++){var y=k[A];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,k,A){return k&&m(v.prototype,k),A&&m(v,A),v}}(),a=function(){function m(v,k,A){if(function I(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,m),this.name=String(v),!v)throw new Error("Missing operator name");if("function"!=typeof k)throw new Error("Missing operator callback");this.cb=k,this.factValueValidator=A,this.factValueValidator||(this.factValueValidator=function(){return!0})}return b(m,[{key:"evaluate",value:function(k,A){return this.factValueValidator(k)&&this.cb(k,A)}}]),m}();se.default=a},70347:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var I=function(){function y(E,L){for(var f=0;f<L.length;f++){var g=L[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,L,f){return L&&y(E.prototype,L),f&&y(E,f),E}}(),m=function v(y){return y&&y.__esModule?y:{default:y}}(b(32471)),A=function(){function y(E,L,f,g){(function k(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,y),this.conditions=(0,m.default)(E),this.event=(0,m.default)(L),this.priority=(0,m.default)(f),this.name=(0,m.default)(g),this.result=null}return I(y,[{key:"setResult",value:function(L){this.result=L}},{key:"toJSON",value:function(){var L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return L?JSON.stringify(f):f}}]),y}();se.default=A},57133:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var I=function(){function F(N,M){for(var G=0;G<M.length;G++){var R=M[G];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,M,G){return M&&F(N.prototype,M),G&&F(N,G),N}}(),m=L(b(3354)),k=L(b(70347)),A=b(44339),E=L(b(46440));function L(F){return F&&F.__esModule?F:{default:F}}var w=function(F){function N(M){!function f(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}(this,N);var G=function g(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?F:N}(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return"string"==typeof M&&(M=JSON.parse(M)),M&&M.conditions&&G.setConditions(M.conditions),M&&M.onSuccess&&G.on("success",M.onSuccess),M&&M.onFailure&&G.on("failure",M.onFailure),M&&(M.name||0===M.name)&&G.setName(M.name),G.setPriority(M&&M.priority||1),G.setEvent(M&&M.event||{type:"unknown"}),G}return function V(F,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}(N,F),I(N,[{key:"setPriority",value:function(G){if((G=parseInt(G,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=G,this}},{key:"setName",value:function(G){if(!G&&0!==G)throw new Error('Rule "name" must be defined');return this.name=G,this}},{key:"setConditions",value:function(G){if(!Object.prototype.hasOwnProperty.call(G,"all")&&!Object.prototype.hasOwnProperty.call(G,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new m.default(G),this}},{key:"setEvent",value:function(G){if(!G)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(G,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:G.type},G.params&&(this.event.params=G.params),this}},{key:"setEngine",value:function(G){return this.engine=G,this}},{key:"toJSON",value:function(){var G=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],R={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return G?JSON.stringify(R):R}},{key:"prioritizeConditions",value:function(G){var R=this,T=G.reduce(function(U,ee){var ne=ee.priority;if(!ne){var H=R.engine.getFact(ee.fact);ne=H&&H.priority||1}return U[ne]||(U[ne]=[]),U[ne].push(ee),U},{});return Object.keys(T).sort(function(U,ee){return Number(U)>Number(ee)?-1:1}).map(function(U){return T[U]})}},{key:"evaluate",value:function(G){var R=this,T=new k.default(this.conditions,this.event,this.priority,this.name),ne=function(re,q){if(0===re.length)return Promise.resolve(!0);var te=Array.prototype.some;"all"===q&&(te=Array.prototype.every);for(var X=R.prioritizeConditions(re),ye=Promise.resolve(),De=function(Ce){var Be=X[Ce],Xe=!1;ye=ye.then(function(Ye){return"any"===q&&!0===Ye||Xe?((0,E.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),Xe=!0,!0):"all"===q&&!1===Ye||Xe?((0,E.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),Xe=!0,!1):function(re,q){return Array.isArray(re)||(re=[re]),Promise.all(re.map(function(te){return function(re){if(re.isBooleanOperator()){var q=re[re.operator];return("all"===re.operator?j(q):H(q)).then(function(X){var ye=!0===X;return re.result=ye,ye})}return re.evaluate(G,R.engine.operators).then(function(X){var ye=X.result;return re.factResult=X.leftHandSideValue,re.result=ye,ye})}(te)})).then(function(te){return(0,E.default)("rule::evaluateConditions results",te),q.call(te,function(X){return!0===X})})}(Be,te)})},Ie=0;Ie<X.length;Ie++)De(Ie);return ye},H=function(re){return ne(re,"any")},j=function(re){return ne(re,"all")},ae=function(re){return T.setResult(re),R.emit(re?"success":"failure",T.event,G,T),T};return T.conditions.any?H(T.conditions.any).then(function(le){return ae(le)}):j(T.conditions.all).then(function(le){return ae(le)})}}]),N}(A.EventEmitter);se.default=w},8345:(we,se,b)=>{function I(q){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(q)}function v(q){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(q)}function k(q,te){return(k=Object.setPrototypeOf||function(ye,De){return ye.__proto__=De,ye})(q,te)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function y(q,te,X){return(y=A()?Reflect.construct:function(De,Ie,Ge){var Ce=[null];Ce.push.apply(Ce,Ie);var Xe=new(Function.bind.apply(De,Ce));return Ge&&k(Xe,Ge.prototype),Xe}).apply(null,arguments)}function L(q){var te="function"==typeof Map?new Map:void 0;return L=function(ye){if(null===ye||!function E(q){return-1!==Function.toString.call(q).indexOf("[native code]")}(ye))return ye;if("function"!=typeof ye)throw new TypeError("Super expression must either be null or a function");if(typeof te<"u"){if(te.has(ye))return te.get(ye);te.set(ye,De)}function De(){return y(ye,arguments,v(this).constructor)}return De.prototype=Object.create(ye.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),k(De,ye)},L(q)}function w(q){return function F(q){if(Array.isArray(q))return G(q)}(q)||function N(q){if(typeof Symbol<"u"&&Symbol.iterator in Object(q))return Array.from(q)}(q)||M(q)||function R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(q,te){if(q){if("string"==typeof q)return G(q,te);var X=Object.prototype.toString.call(q).slice(8,-1);if("Object"===X&&q.constructor&&(X=q.constructor.name),"Map"===X||"Set"===X)return Array.from(X);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return G(q,te)}}function G(q,te){(null==te||te>q.length)&&(te=q.length);for(var X=0,ye=new Array(te);X<te;X++)ye[X]=q[X];return ye}b.r(se),b.d(se,{JSONPath:()=>re});var ee=Object.prototype.hasOwnProperty,H=(re.nodeVMSupported=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}())?b(52249):{runInNewContext:function(te,X){var ye=Object.keys(X),De=[];!function(te,X,ye){for(var De=te.length,Ie=0;Ie<De;Ie++)ye(te[Ie])&&X.push(te.splice(Ie--,1)[0])}(ye,De,function(Xe){return"function"==typeof X[Xe]});var Ie=ye.map(function(Xe,Ye){return X[Xe]});!(te=De.reduce(function(Xe,Ye){var it=X[Ye].toString();return/function/.test(it)||(it="function "+it),"var "+Ye+"="+it+";"+Xe},"")+te).match(/(["'])use strict\1/)&&!ye.includes("arguments")&&(te="var arguments = undefined;"+te);var Ce=(te=te.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),Be=Ce>-1?te.slice(0,Ce+1)+" return "+te.slice(Ce+1):" return "+te;return y(Function,w(ye).concat([Be])).apply(void 0,w(Ie))}};function j(q,te){return(q=q.slice()).push(te),q}function ae(q,te){return(te=te.slice()).unshift(q),te}var le=function(q){!function m(q,te){if("function"!=typeof te&&null!==te)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(te&&te.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),te&&k(q,te)}(X,q);var te=function V(q){return function(){var X,te=v(q);if(A()){var ye=v(this).constructor;X=Reflect.construct(te,arguments,ye)}else X=te.apply(this,arguments);return function g(q,te){return!te||"object"!=typeof te&&"function"!=typeof te?function f(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(q):te}(this,X)}}(X);function X(ye){var De;return function a(q,te){if(!(q instanceof te))throw new TypeError("Cannot call a class as a function")}(this,X),(De=te.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,De.value=ye,De.name="NewError",De}return X}(L(Error));function re(q,te,X,ye,De){if(!(this instanceof re))try{return new re(q,te,X,ye,De)}catch(Be){if(!Be.avoidNew)throw Be;return Be.value}"string"==typeof q&&(De=ye,ye=X,X=te,te=q,q=null);var Ie=q&&"object"===I(q);if(this.json=(q=q||{}).json||X,this.path=q.path||te,this.resultType=q.resultType||"value",this.flatten=q.flatten||!1,this.wrap=!ee.call(q,"wrap")||q.wrap,this.sandbox=q.sandbox||{},this.preventEval=q.preventEval||!1,this.parent=q.parent||null,this.parentProperty=q.parentProperty||null,this.callback=q.callback||ye||null,this.otherTypeCallback=q.otherTypeCallback||De||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==q.autostart){var Ge={path:Ie?q.path:te};Ie?"json"in q&&(Ge.json=q.json):Ge.json=X;var Ce=this.evaluate(Ge);if(!Ce||"object"!==I(Ce))throw new le(Ce);return Ce}}re.prototype.evaluate=function(q,te,X,ye){var De=this,Ie=this.parent,Ge=this.parentProperty,Ce=this.flatten,Be=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,X=X||this.callback,this.currOtherTypeCallback=ye||this.otherTypeCallback,te=te||this.json,(q=q||this.path)&&"object"===I(q)&&!Array.isArray(q)){if(!q.path&&""!==q.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ee.call(q,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');te=q.json,Ce=ee.call(q,"flatten")?q.flatten:Ce,this.currResultType=ee.call(q,"resultType")?q.resultType:this.currResultType,this.currSandbox=ee.call(q,"sandbox")?q.sandbox:this.currSandbox,Be=ee.call(q,"wrap")?q.wrap:Be,this.currPreventEval=ee.call(q,"preventEval")?q.preventEval:this.currPreventEval,X=ee.call(q,"callback")?q.callback:X,this.currOtherTypeCallback=ee.call(q,"otherTypeCallback")?q.otherTypeCallback:this.currOtherTypeCallback,Ie=ee.call(q,"parent")?q.parent:Ie,Ge=ee.call(q,"parentProperty")?q.parentProperty:Ge,q=q.path}if(Ie=Ie||null,Ge=Ge||null,Array.isArray(q)&&(q=re.toPathString(q)),(q||""===q)&&te){this._obj=te;var Ye=re.toPathArray(q);"$"===Ye[0]&&Ye.length>1&&Ye.shift(),this._hasParentSelector=null;var it=this._trace(Ye,te,["$"],Ie,Ge,X).filter(function(vt){return vt&&!vt.isParentSelector});return it.length?Be||1!==it.length||it[0].hasArrExpr?it.reduce(function(vt,Ke){var Ze=De._getPreferredOutput(Ke);return Ce&&Array.isArray(Ze)?vt=vt.concat(Ze):vt.push(Ze),vt},[]):this._getPreferredOutput(it[0]):Be?[]:void 0}},re.prototype._getPreferredOutput=function(q){var te=this.currResultType;switch(te){default:throw new TypeError("Unknown result type");case"all":var X=Array.isArray(q.path)?q.path:re.toPathArray(q.path);return q.pointer=re.toPointer(X),q.path="string"==typeof q.path?q.path:re.toPathString(q.path),q;case"value":case"parent":case"parentProperty":return q[te];case"path":return re.toPathString(q[te]);case"pointer":return re.toPointer(q.path)}},re.prototype._handleCallback=function(q,te,X){if(te){var ye=this._getPreferredOutput(q);q.path="string"==typeof q.path?q.path:re.toPathString(q.path),te(ye,X,q)}},re.prototype._trace=function(q,te,X,ye,De,Ie,Ge,Ce){var Be,Xe=this;if(!q.length)return this._handleCallback(Be={path:X,value:te,parent:ye,parentProperty:De,hasArrExpr:Ge},Ie,"value"),Be;var Ye=q[0],it=q.slice(1),vt=[];function Ke(W){Array.isArray(W)?W.forEach(function(ve){vt.push(ve)}):vt.push(W)}if(("string"!=typeof Ye||Ce)&&te&&ee.call(te,Ye))Ke(this._trace(it,te[Ye],j(X,Ye),te,Ye,Ie,Ge));else if("*"===Ye)this._walk(Ye,it,te,X,ye,De,Ie,function(W,ve,je,nt,at,bt,Ot,Nt){Ke(Xe._trace(ae(W,je),nt,at,bt,Ot,Nt,!0,!0))});else if(".."===Ye)Ke(this._trace(it,te,X,ye,De,Ie,Ge)),this._walk(Ye,it,te,X,ye,De,Ie,function(W,ve,je,nt,at,bt,Ot,Nt){"object"===I(nt[W])&&Ke(Xe._trace(ae(ve,je),nt[W],j(at,W),nt,W,Nt,!0))});else{if("^"===Ye)return this._hasParentSelector=!0,{path:X.slice(0,-1),expr:it,isParentSelector:!0};if("~"===Ye)return Be={path:j(X,Ye),value:De,parent:ye,parentProperty:null},this._handleCallback(Be,Ie,"property"),Be;if("$"===Ye)Ke(this._trace(it,te,X,null,null,Ie,Ge));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(Ye))Ke(this._slice(Ye,it,te,X,ye,De,Ie));else if(0===Ye.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(Ye,it,te,X,ye,De,Ie,function(W,ve,je,nt,at,bt,Ot,Nt){Xe._eval(ve.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),nt[W],W,at,bt,Ot)&&Ke(Xe._trace(ae(W,je),nt,at,bt,Ot,Nt,!0))})}else if("("===Ye[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");Ke(this._trace(ae(this._eval(Ye,te,X[X.length-1],X.slice(0,-1),ye,De),it),te,X,ye,De,Ie,Ge))}else if("@"===Ye[0]){var Ze=!1,ct=Ye.slice(1,-2);switch(ct){default:throw new TypeError("Unknown value type "+ct);case"scalar":(!te||!["object","function"].includes(I(te)))&&(Ze=!0);break;case"boolean":case"string":case"undefined":case"function":I(te)===ct&&(Ze=!0);break;case"integer":Number.isFinite(te)&&!(te%1)&&(Ze=!0);break;case"number":Number.isFinite(te)&&(Ze=!0);break;case"nonFinite":"number"==typeof te&&!Number.isFinite(te)&&(Ze=!0);break;case"object":te&&I(te)===ct&&(Ze=!0);break;case"array":Array.isArray(te)&&(Ze=!0);break;case"other":Ze=this.currOtherTypeCallback(te,X,ye,De);break;case"null":null===te&&(Ze=!0)}if(Ze)return this._handleCallback(Be={path:X,value:te,parent:ye,parentProperty:De},Ie,"value"),Be}else if("`"===Ye[0]&&te&&ee.call(te,Ye.slice(1))){var pe=Ye.slice(1);Ke(this._trace(it,te[pe],j(X,pe),te,pe,Ie,Ge,!0))}else if(Ye.includes(",")){var xe,Q=function T(q){if(typeof Symbol>"u"||null==q[Symbol.iterator]){if(Array.isArray(q)||(q=M(q))){var te=0,X=function(){};return{s:X,n:function(){return te>=q.length?{done:!0}:{done:!1,value:q[te++]}},e:function(Be){throw Be},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ye,Ge,De=!0,Ie=!1;return{s:function(){ye=q[Symbol.iterator]()},n:function(){var Be=ye.next();return De=Be.done,Be},e:function(Be){Ie=!0,Ge=Be},f:function(){try{!De&&null!=ye.return&&ye.return()}finally{if(Ie)throw Ge}}}}(Ye.split(","));try{for(Q.s();!(xe=Q.n()).done;)Ke(this._trace(ae(xe.value,it),te,X,ye,De,Ie,!0))}catch(W){Q.e(W)}finally{Q.f()}}else!Ce&&te&&ee.call(te,Ye)&&Ke(this._trace(it,te[Ye],j(X,Ye),te,Ye,Ie,Ge,!0))}if(this._hasParentSelector)for(var oe=0;oe<vt.length;oe++){var ie=vt[oe];if(ie&&ie.isParentSelector){var Me=Xe._trace(ie.expr,te,ie.path,ye,De,Ie,Ge);if(Array.isArray(Me)){vt[oe]=Me[0];for(var ue=Me.length,Z=1;Z<ue;Z++)oe++,vt.splice(oe,0,Me[Z])}else vt[oe]=Me}}return vt},re.prototype._walk=function(q,te,X,ye,De,Ie,Ge,Ce){if(Array.isArray(X))for(var Be=X.length,Xe=0;Xe<Be;Xe++)Ce(Xe,q,te,X,ye,De,Ie,Ge);else X&&"object"===I(X)&&Object.keys(X).forEach(function(Ye){Ce(Ye,q,te,X,ye,De,Ie,Ge)})},re.prototype._slice=function(q,te,X,ye,De,Ie,Ge){if(Array.isArray(X)){var Ce=X.length,Be=q.split(":"),Xe=Be[2]&&Number.parseInt(Be[2])||1,Ye=Be[0]&&Number.parseInt(Be[0])||0,it=Be[1]&&Number.parseInt(Be[1])||Ce;Ye=Ye<0?Math.max(0,Ye+Ce):Math.min(Ce,Ye),it=it<0?Math.max(0,it+Ce):Math.min(Ce,it);for(var vt=[],Ke=Ye;Ke<it;Ke+=Xe)this._trace(ae(Ke,te),X,ye,De,Ie,Ge,!0).forEach(function(ct){vt.push(ct)});return vt}},re.prototype._eval=function(q,te,X,ye,De,Ie){if(!this._obj||!te)return!1;q.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=Ie,q=q.replace(/@parentProperty/g,"_$_parentProperty")),q.includes("@parent")&&(this.currSandbox._$_parent=De,q=q.replace(/@parent/g,"_$_parent")),q.includes("@property")&&(this.currSandbox._$_property=X,q=q.replace(/@property/g,"_$_property")),q.includes("@path")&&(this.currSandbox._$_path=re.toPathString(ye.concat([X])),q=q.replace(/@path/g,"_$_path")),q.includes("@root")&&(this.currSandbox._$_root=this.json,q=q.replace(/@root/g,"_$_root")),q.match(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/)&&(this.currSandbox._$_v=te,q=q.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return H.runInNewContext(q,this.currSandbox)}catch(Ge){throw console.log(Ge),new Error("jsonPath: "+Ge.message+": "+q)}},re.cache={},re.toPathString=function(q){for(var te=q,X=te.length,ye="$",De=1;De<X;De++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(te[De])||(ye+=/^[\*0-9]+$/.test(te[De])?"["+te[De]+"]":"['"+te[De]+"']");return ye},re.toPointer=function(q){for(var te=q,X=te.length,ye="",De=1;De<X;De++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(te[De])||(ye+="/"+te[De].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return ye},re.toPathArray=function(q){var te=re.cache;if(te[q])return te[q].concat();var X=[],De=q.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(Ie,Ge){return"[#"+(X.push(Ge)-1)+"]"}).replace(/\['((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)'\]/g,function(Ie,Ge){return"['"+Ge.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(Ie,Ge){return";"+Ge.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(Ie){var Ge=Ie.match(/#([0-9]+)/);return Ge&&Ge[1]?X[Ge[1]]:Ie});return te[q]=De,te[q]}},77086:we=>{we.exports=function se(b){return!!b&&"object"==typeof b}},97598:we=>{we.exports=Math.abs},73116:we=>{we.exports=Math.floor},80159:we=>{we.exports=Number.isNaN||function(b){return b!=b}},42136:we=>{we.exports=Math.max},43462:we=>{we.exports=Math.min},11516:we=>{we.exports=Math.pow},75714:we=>{we.exports=Math.round},497:(we,se,b)=>{var I=b(80159);we.exports=function(m){return I(m)||0===m?m:m<0?-1:1}},12100:(we,se)=>{function I(y){return y.replace(/[-[\]/{}()*+?.\\^$]/g,"\\$&")}function a(y,E){var f=(void 0===E?{}:E).decimalMark,g=void 0===f?".":f;if("number"==typeof y)return y.toString();if("string"!=typeof y)return"NaN";var V=I(g),w=y.trim(),F=w.match(/^\(.*\)$|^-/),N=new RegExp("[^\\d"+V+"]|"+V+"(?=.*"+V+")|^\\D*"+V+"\\D*$","g");return""===(w=w.replace(N,"").replace(g,"."))?w="NaN":F&&(w="-"+w),w}se.Ro=void 0,se.Ro=function m(y,E){var f=(void 0===E?{}:E).decimalMark,V=a(y,{decimalMark:void 0===f?".":f});return"NaN"===V?NaN:Number(V)}},73687:(we,se,b)=>{var I="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,m=I&&a&&"function"==typeof a.get?a.get:null,v=I&&Map.prototype.forEach,k="function"==typeof Set&&Set.prototype,A=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,y=k&&A&&"function"==typeof A.get?A.get:null,E=k&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,V="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,F="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,N=Boolean.prototype.valueOf,M=Object.prototype.toString,G=Function.prototype.toString,R=String.prototype.match,T=String.prototype.slice,U=String.prototype.replace,ee=String.prototype.toUpperCase,ne=String.prototype.toLowerCase,H=RegExp.prototype.test,j=Array.prototype.concat,ae=Array.prototype.join,le=Array.prototype.slice,re=Math.floor,q="function"==typeof BigInt?BigInt.prototype.valueOf:null,te=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ye="function"==typeof Symbol&&"object"==typeof Symbol.iterator,De="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ie=Object.prototype.propertyIsEnumerable,Ge=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ue){return Ue.__proto__}:null);function Ce(Ue,$e){if(Ue===1/0||Ue===-1/0||Ue!=Ue||Ue&&Ue>-1e3&&Ue<1e3||H.call(/e/,$e))return $e;var Ft=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ue){var At=Ue<0?-re(-Ue):re(Ue);if(At!==Ue){var kt=String(At),gt=T.call($e,kt.length+1);return U.call(kt,Ft,"$&_")+"."+U.call(U.call(gt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return U.call($e,Ft,"$&_")}var Be=b(42634),Xe=Be.custom,Ye=Me(Xe)?Xe:null,it={__proto__:null,double:'"',single:"'"},vt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Ke(Ue,$e,Ft){var kt=it[Ft.quoteStyle||$e];return kt+Ue+kt}function Ze(Ue){return U.call(String(Ue),/"/g,"&quot;")}function ct(Ue){return!De||!("object"==typeof Ue&&(De in Ue||typeof Ue[De]<"u"))}function pe(Ue){return"[object Array]"===ve(Ue)&&ct(Ue)}function Q(Ue){return"[object RegExp]"===ve(Ue)&&ct(Ue)}function Me(Ue){if(ye)return Ue&&"object"==typeof Ue&&Ue instanceof Symbol;if("symbol"==typeof Ue)return!0;if(!Ue||"object"!=typeof Ue||!X)return!1;try{return X.call(Ue),!0}catch{}return!1}we.exports=function Ue($e,Ft,At,kt){var gt=Ft||{};if(W(gt,"quoteStyle")&&!W(it,gt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(gt,"maxStringLength")&&("number"==typeof gt.maxStringLength?gt.maxStringLength<0&&gt.maxStringLength!==1/0:null!==gt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qt=!W(gt,"customInspect")||gt.customInspect;if("boolean"!=typeof Qt&&"symbol"!==Qt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(gt,"indent")&&null!==gt.indent&&"\t"!==gt.indent&&!(parseInt(gt.indent,10)===gt.indent&&gt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(gt,"numericSeparator")&&"boolean"!=typeof gt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var un=gt.numericSeparator;if(typeof $e>"u")return"undefined";if(null===$e)return"null";if("boolean"==typeof $e)return $e?"true":"false";if("string"==typeof $e)return Se($e,gt);if("number"==typeof $e){if(0===$e)return 1/0/$e>0?"0":"-0";var on=String($e);return un?Ce($e,on):on}if("bigint"==typeof $e){var Bn=String($e)+"n";return un?Ce($e,Bn):Bn}var rn=typeof gt.depth>"u"?5:gt.depth;if(typeof At>"u"&&(At=0),At>=rn&&rn>0&&"object"==typeof $e)return pe($e)?"[Array]":"[Object]";var dn=function Pt(Ue,$e){var Ft;if("\t"===Ue.indent)Ft="\t";else{if(!("number"==typeof Ue.indent&&Ue.indent>0))return null;Ft=ae.call(Array(Ue.indent+1)," ")}return{base:Ft,prev:ae.call(Array($e+1),Ft)}}(gt,At);if(typeof kt>"u")kt=[];else if(nt(kt,$e)>=0)return"[Circular]";function kn(Bi,yi,_s){if(yi&&(kt=le.call(kt)).push(yi),_s){var Ho={depth:gt.depth};return W(gt,"quoteStyle")&&(Ho.quoteStyle=gt.quoteStyle),Ue(Bi,Ho,At+1,kt)}return Ue(Bi,gt,At+1,kt)}if("function"==typeof $e&&!Q($e)){var gr=function je(Ue){if(Ue.name)return Ue.name;var $e=R.call(G.call(Ue),/^function\s*([\w$]+)/);return $e?$e[1]:null}($e),qn=ht($e,kn);return"[Function"+(gr?": "+gr:" (anonymous)")+"]"+(qn.length>0?" { "+ae.call(qn,", ")+" }":"")}if(Me($e)){var Dn=ye?U.call(String($e),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call($e);return"object"!=typeof $e||ye?Dn:En(Dn)}if(function fn(Ue){return!(!Ue||"object"!=typeof Ue)&&(typeof HTMLElement<"u"&&Ue instanceof HTMLElement||"string"==typeof Ue.nodeName&&"function"==typeof Ue.getAttribute)}($e)){for(var fr="<"+ne.call(String($e.nodeName)),hr=$e.attributes||[],In=0;In<hr.length;In++)fr+=" "+hr[In].name+"="+Ke(Ze(hr[In].value),"double",gt);return fr+=">",$e.childNodes&&$e.childNodes.length&&(fr+="..."),fr+"</"+ne.call(String($e.nodeName))+">"}if(pe($e)){if(0===$e.length)return"[]";var An=ht($e,kn);return dn&&!function St(Ue){for(var $e=0;$e<Ue.length;$e++)if(nt(Ue[$e],"\n")>=0)return!1;return!0}(An)?"["+Et(An,dn)+"]":"[ "+ae.call(An,", ")+" ]"}if(function xe(Ue){return"[object Error]"===ve(Ue)&&ct(Ue)}($e)){var Zt=ht($e,kn);return"cause"in Error.prototype||!("cause"in $e)||Ie.call($e,"cause")?0===Zt.length?"["+String($e)+"]":"{ ["+String($e)+"] "+ae.call(Zt,", ")+" }":"{ ["+String($e)+"] "+ae.call(j.call("[cause]: "+kn($e.cause),Zt),", ")+" }"}if("object"==typeof $e&&Qt){if(Ye&&"function"==typeof $e[Ye]&&Be)return Be($e,{depth:rn-At});if("symbol"!==Qt&&"function"==typeof $e.inspect)return $e.inspect()}if(function at(Ue){if(!m||!Ue||"object"!=typeof Ue)return!1;try{m.call(Ue);try{y.call(Ue)}catch{return!0}return Ue instanceof Map}catch{}return!1}($e)){var na=[];return v&&v.call($e,function(Bi,yi){na.push(kn(yi,$e,!0)+" => "+kn(Bi,$e))}),Vt("Map",m.call($e),na,dn)}if(function Nt(Ue){if(!y||!Ue||"object"!=typeof Ue)return!1;try{y.call(Ue);try{m.call(Ue)}catch{return!0}return Ue instanceof Set}catch{}return!1}($e)){var ti=[];return E&&E.call($e,function(Bi){ti.push(kn(Bi,$e))}),Vt("Set",y.call($e),ti,dn)}if(function bt(Ue){if(!f||!Ue||"object"!=typeof Ue)return!1;try{f.call(Ue,f);try{V.call(Ue,V)}catch{return!0}return Ue instanceof WeakMap}catch{}return!1}($e))return ft("WeakMap");if(function nn(Ue){if(!V||!Ue||"object"!=typeof Ue)return!1;try{V.call(Ue,V);try{f.call(Ue,f)}catch{return!0}return Ue instanceof WeakSet}catch{}return!1}($e))return ft("WeakSet");if(function Ot(Ue){if(!F||!Ue||"object"!=typeof Ue)return!1;try{return F.call(Ue),!0}catch{}return!1}($e))return ft("WeakRef");if(function oe(Ue){return"[object Number]"===ve(Ue)&&ct(Ue)}($e))return En(kn(Number($e)));if(function ue(Ue){if(!Ue||"object"!=typeof Ue||!q)return!1;try{return q.call(Ue),!0}catch{}return!1}($e))return En(kn(q.call($e)));if(function ie(Ue){return"[object Boolean]"===ve(Ue)&&ct(Ue)}($e))return En(N.call($e));if(function ke(Ue){return"[object String]"===ve(Ue)&&ct(Ue)}($e))return En(kn(String($e)));if(typeof window<"u"&&$e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&$e===globalThis||typeof global<"u"&&$e===global)return"{ [object globalThis] }";if(!function K(Ue){return"[object Date]"===ve(Ue)&&ct(Ue)}($e)&&!Q($e)){var Gn=ht($e,kn),hi=Ge?Ge($e)===Object.prototype:$e instanceof Object||$e.constructor===Object,Ga=$e instanceof Object?"":"null prototype",ni=!hi&&De&&Object($e)===$e&&De in $e?T.call(ve($e),8,-1):Ga?"Object":"",hn=(hi||"function"!=typeof $e.constructor?"":$e.constructor.name?$e.constructor.name+" ":"")+(ni||Ga?"["+ae.call(j.call([],ni||[],Ga||[]),": ")+"] ":"");return 0===Gn.length?hn+"{}":dn?hn+"{"+Et(Gn,dn)+"}":hn+"{ "+ae.call(Gn,", ")+" }"}return String($e)};var Z=Object.prototype.hasOwnProperty||function(Ue){return Ue in this};function W(Ue,$e){return Z.call(Ue,$e)}function ve(Ue){return M.call(Ue)}function nt(Ue,$e){if(Ue.indexOf)return Ue.indexOf($e);for(var Ft=0,At=Ue.length;Ft<At;Ft++)if(Ue[Ft]===$e)return Ft;return-1}function Se(Ue,$e){if(Ue.length>$e.maxStringLength){var Ft=Ue.length-$e.maxStringLength,At="... "+Ft+" more character"+(Ft>1?"s":"");return Se(T.call(Ue,0,$e.maxStringLength),$e)+At}var kt=vt[$e.quoteStyle||"single"];return kt.lastIndex=0,Ke(U.call(U.call(Ue,kt,"\\$1"),/[\x00-\x1f]/g,Jn),"single",$e)}function Jn(Ue){var $e=Ue.charCodeAt(0),Ft={8:"b",9:"t",10:"n",12:"f",13:"r"}[$e];return Ft?"\\"+Ft:"\\x"+($e<16?"0":"")+ee.call($e.toString(16))}function En(Ue){return"Object("+Ue+")"}function ft(Ue){return Ue+" { ? }"}function Vt(Ue,$e,Ft,At){return Ue+" ("+$e+") {"+(At?Et(Ft,At):ae.call(Ft,", "))+"}"}function Et(Ue,$e){if(0===Ue.length)return"";var Ft="\n"+$e.prev+$e.base;return Ft+ae.call(Ue,","+Ft)+"\n"+$e.prev}function ht(Ue,$e){var Ft=pe(Ue),At=[];if(Ft){At.length=Ue.length;for(var kt=0;kt<Ue.length;kt++)At[kt]=W(Ue,kt)?$e(Ue[kt],Ue):""}var Qt,gt="function"==typeof te?te(Ue):[];if(ye){Qt={};for(var un=0;un<gt.length;un++)Qt["$"+gt[un]]=gt[un]}for(var on in Ue)W(Ue,on)&&(Ft&&String(Number(on))===on&&on<Ue.length||ye&&Qt["$"+on]instanceof Symbol||(H.call(/[^\w$]/,on)?At.push($e(on,Ue)+": "+$e(Ue[on],Ue)):At.push(on+": "+$e(Ue[on],Ue))));if("function"==typeof te)for(var Bn=0;Bn<gt.length;Bn++)Ie.call(Ue,gt[Bn])&&At.push("["+$e(gt[Bn])+"]: "+$e(Ue[gt[Bn]],Ue));return At}},17473:function(we){we.exports=function(se){var b={};function I(a){if(b[a])return b[a].exports;var m=b[a]={i:a,l:!1,exports:{}};return se[a].call(m.exports,m,m.exports,I),m.l=!0,m.exports}return I.m=se,I.c=b,I.d=function(a,m,v){I.o(a,m)||Object.defineProperty(a,m,{enumerable:!0,get:v})},I.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},I.t=function(a,m){if(1&m&&(a=I(a)),8&m||4&m&&"object"==typeof a&&a&&a.__esModule)return a;var v=Object.create(null);if(I.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:a}),2&m&&"string"!=typeof a)for(var k in a)I.d(v,k,function(A){return a[A]}.bind(null,k));return v},I.n=function(a){var m=a&&a.__esModule?function(){return a.default}:function(){return a};return I.d(m,"a",m),m},I.o=function(a,m){return Object.prototype.hasOwnProperty.call(a,m)},I.p="",I(I.s=22)}([function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function A(y,E){for(var L=0;L<E.length;L++){var f=E[L];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,E,L){return E&&A(y.prototype,E),L&&A(y,L),y}}(),m={debug:function(){},info:function(){},warn:function(){},error:function(){}},v=void 0,k=void 0;(b.Log=function(){function A(){!function(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,A)}return A.reset=function(){k=3,v=m},A.debug=function(){if(k>=4){for(var E=arguments.length,L=Array(E),f=0;f<E;f++)L[f]=arguments[f];v.debug.apply(v,Array.from(L))}},A.info=function(){if(k>=3){for(var E=arguments.length,L=Array(E),f=0;f<E;f++)L[f]=arguments[f];v.info.apply(v,Array.from(L))}},A.warn=function(){if(k>=2){for(var E=arguments.length,L=Array(E),f=0;f<E;f++)L[f]=arguments[f];v.warn.apply(v,Array.from(L))}},A.error=function(){if(k>=1){for(var E=arguments.length,L=Array(E),f=0;f<E;f++)L[f]=arguments[f];v.error.apply(v,Array.from(L))}},a(A,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return k},set:function(E){if(!(0<=E&&E<=4))throw new Error("Invalid log level");k=E}},{key:"logger",get:function(){return v},set:function(E){if(!E.debug&&E.info&&(E.debug=E.info),!(E.debug&&E.info&&E.warn&&E.error))throw new Error("Invalid logger");v=E}}]),A}()).reset()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function A(y,E){for(var L=0;L<E.length;L++){var f=E[L];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,E,L){return E&&A(y.prototype,E),L&&A(y,L),y}}(),m={setInterval:function(A){function y(E,L){return A.apply(this,arguments)}return y.toString=function(){return A.toString()},y}(function(A,y){return setInterval(A,y)}),clearInterval:function(A){function y(E){return A.apply(this,arguments)}return y.toString=function(){return A.toString()},y}(function(A){return clearInterval(A)})},v=!1,k=null;b.Global=function(){function A(){!function(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,A)}return A._testing=function(){v=!0},A.setXMLHttpRequest=function(E){k=E},a(A,null,[{key:"location",get:function(){if(!v)return location}},{key:"localStorage",get:function(){if(!v&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!v&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!v&&typeof window<"u")return k||XMLHttpRequest}},{key:"timer",get:function(){if(!v)return m}}]),A}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataService=void 0;var a=function(){function y(E,L){for(var f=0;f<L.length;f++){var g=L[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,L,f){return L&&y(E.prototype,L),f&&y(E,f),E}}(),m=I(0),v=I(7);var A=".well-known/openid-configuration";b.MetadataService=function(){function y(E){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.JsonService;if(function k(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw m.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=E,this._jsonService=new L(["application/jwk-set+json"])}return y.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},y.prototype.getMetadata=function(){var L=this;return this._settings.metadata?(m.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(m.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(f){return m.Log.debug("MetadataService.getMetadata: json received"),L._settings.metadata=Object.assign({},L._settings.metadataSeed||{},f),L._settings.metadata})):(m.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},y.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},y.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},y.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},y.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},y.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},y.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},y.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},y.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},y.prototype._getMetadataProperty=function(L){var f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.Log.debug("MetadataService.getMetadataProperty for: "+L),this.getMetadata().then(function(g){if(m.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===g[L]){if(!0===f)return void m.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+L);throw m.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+L),new Error("Metadata does not contain property "+L)}return g[L]})},y.prototype.getSigningKeys=function(){var L=this;return this._settings.signingKeys?(m.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(f){return m.Log.debug("MetadataService.getSigningKeys: jwks_uri received",f),L._jsonService.getJson(f).then(function(g){if(m.Log.debug("MetadataService.getSigningKeys: key set received",g),!g.keys)throw m.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return L._settings.signingKeys=g.keys,L._settings.signingKeys})})},a(y,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(A)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=A))),this._metadataUrl}}]),y}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UrlUtility=void 0;var a=I(0),m=I(1);b.UrlUtility=function(){function v(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.addQueryParam=function(A,y,E){return A.indexOf("?")<0&&(A+="?"),"?"!==A[A.length-1]&&(A+="&"),A+=encodeURIComponent(y),(A+="=")+encodeURIComponent(E)},v.parseUrlFragment=function(A){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof A&&(A=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.Global).location.href);var L=A.lastIndexOf(y);L>=0&&(A=A.substr(L+1)),"?"===y&&(L=A.indexOf("#"))>=0&&(A=A.substr(0,L));for(var f,g={},V=/([^&=]+)=([^&]*)/g,w=0;f=V.exec(A);)if(g[decodeURIComponent(f[1])]=decodeURIComponent(f[2].replace(/\+/g," ")),w++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",A),{error:"Response exceeded expected number of parameters"};for(var F in g)return g;return{}},v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JoseUtil=void 0;var k,a=I(26),m=(k=I(33))&&k.__esModule?k:{default:k};b.JoseUtil=(0,m.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClientSettings=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},m=function(){function F(N,M){for(var G=0;G<M.length;G++){var R=M[G];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,M,G){return M&&F(N.prototype,M),G&&F(N,G),N}}(),v=I(0),k=I(23),A=I(6),y=I(24),E=I(2);var f=".well-known/openid-configuration";b.OidcClientSettings=function(){function F(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=N.authority,G=N.metadataUrl,R=N.metadata,T=N.signingKeys,U=N.metadataSeed,ee=N.client_id,ne=N.client_secret,H=N.response_type,j=void 0===H?"id_token":H,ae=N.scope,le=void 0===ae?"openid":ae,re=N.redirect_uri,q=N.post_logout_redirect_uri,te=N.client_authentication,X=void 0===te?"client_secret_post":te,ye=N.prompt,De=N.display,Ie=N.max_age,Ge=N.ui_locales,Ce=N.acr_values,Be=N.resource,Xe=N.response_mode,Ye=N.filterProtocolClaims,it=void 0===Ye||Ye,vt=N.loadUserInfo,Ke=void 0===vt||vt,Ze=N.staleStateAge,ct=void 0===Ze?900:Ze,pe=N.clockSkew,K=void 0===pe?300:pe,Q=N.clockService,xe=void 0===Q?new k.ClockService:Q,ke=N.userInfoJwtIssuer,oe=void 0===ke?"OP":ke,ie=N.mergeClaims,Me=void 0!==ie&&ie,ue=N.stateStore,Z=void 0===ue?new A.WebStorageStateStore:ue,W=N.ResponseValidatorCtor,ve=void 0===W?y.ResponseValidator:W,je=N.MetadataServiceCtor,nt=void 0===je?E.MetadataService:je,at=N.extraQueryParams,bt=void 0===at?{}:at,Ot=N.extraTokenParams,Nt=void 0===Ot?{}:Ot;(function L(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")})(this,F),this._authority=M,this._metadataUrl=G,this._metadata=R,this._metadataSeed=U,this._signingKeys=T,this._client_id=ee,this._client_secret=ne,this._response_type=j,this._scope=le,this._redirect_uri=re,this._post_logout_redirect_uri=q,this._client_authentication=X,this._prompt=ye,this._display=De,this._max_age=Ie,this._ui_locales=Ge,this._acr_values=Ce,this._resource=Be,this._response_mode=Xe,this._filterProtocolClaims=!!it,this._loadUserInfo=!!Ke,this._staleStateAge=ct,this._clockSkew=K,this._clockService=xe,this._userInfoJwtIssuer=oe,this._mergeClaims=!!Me,this._stateStore=Z,this._validator=new ve(this),this._metadataService=new nt(this),this._extraQueryParams="object"===(void 0===bt?"undefined":a(bt))?bt:{},this._extraTokenParams="object"===(void 0===Nt?"undefined":a(Nt))?Nt:{}}return F.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},m(F,[{key:"client_id",get:function(){return this._client_id},set:function(M){if(this._client_id)throw v.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=M}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(M){if(this._authority)throw v.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=M}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=f)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(M){this._metadata=M}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(M){this._metadataSeed=M}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(M){this._signingKeys=M}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(M){this._extraQueryParams="object"===(void 0===M?"undefined":a(M))?M:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(M){this._extraTokenParams="object"===(void 0===M?"undefined":a(M))?M:{}}}]),F}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebStorageStateStore=void 0;var a=I(0),m=I(1);b.WebStorageStateStore=function(){function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=A.prefix,E=void 0===y?"oidc.":y,L=A.store,f=void 0===L?m.Global.localStorage:L;(function v(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,k),this._store=f,this._prefix=E}return k.prototype.set=function(y,E){return a.Log.debug("WebStorageStateStore.set",y),this._store.setItem(y=this._prefix+y,E),Promise.resolve()},k.prototype.get=function(y){a.Log.debug("WebStorageStateStore.get",y);var E=this._store.getItem(y=this._prefix+y);return Promise.resolve(E)},k.prototype.remove=function(y){a.Log.debug("WebStorageStateStore.remove",y);var E=this._store.getItem(y=this._prefix+y);return this._store.removeItem(y),Promise.resolve(E)},k.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var y=[],E=0;E<this._store.length;E++){var L=this._store.key(E);0===L.indexOf(this._prefix)&&y.push(L.substr(this._prefix.length))}return Promise.resolve(y)},k}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonService=void 0;var a=I(0),m=I(1);b.JsonService=function(){function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Global.XMLHttpRequest,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function v(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,k),this._contentTypes=A&&Array.isArray(A)?A.slice():[],this._contentTypes.push("application/json"),E&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=y,this._jwtHandler=E}return k.prototype.getJson=function(y,E){var L=this;if(!y)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",y),new Promise(function(f,g){var V=new L._XMLHttpRequest;V.open("GET",y);var w=L._contentTypes,F=L._jwtHandler;V.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",V.status),200===V.status){var N=V.getResponseHeader("Content-Type");if(N){var M=w.find(function(G){if(N.startsWith(G))return!0});if("application/jwt"==M)return void F(V).then(f,g);if(M)try{return void f(JSON.parse(V.responseText))}catch(G){return a.Log.error("JsonService.getJson: Error parsing JSON response",G.message),void g(G)}}g(Error("Invalid response Content-Type: "+N+", from URL: "+y))}else g(Error(V.statusText+" ("+V.status+")"))},V.onerror=function(){a.Log.error("JsonService.getJson: network error"),g(Error("Network Error"))},E&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),V.setRequestHeader("Authorization","Bearer "+E)),V.send()})},k.prototype.postForm=function(y,E,L){var f=this;if(!y)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",y),new Promise(function(g,V){var w=new f._XMLHttpRequest;w.open("POST",y);var F=f._contentTypes;w.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",w.status),200!==w.status){if(400===w.status&&(T=w.getResponseHeader("Content-Type"))&&F.find(function(U){if(T.startsWith(U))return!0}))try{var R=JSON.parse(w.responseText);if(R&&R.error)return a.Log.error("JsonService.postForm: Error from server: ",R.error),void V(new Error(R.error))}catch(U){return a.Log.error("JsonService.postForm: Error parsing JSON response",U.message),void V(U)}V(Error(w.statusText+" ("+w.status+")"))}else{var T;if((T=w.getResponseHeader("Content-Type"))&&F.find(function(U){if(T.startsWith(U))return!0}))try{return void g(JSON.parse(w.responseText))}catch(U){return a.Log.error("JsonService.postForm: Error parsing JSON response",U.message),void V(U)}V(Error("Invalid response Content-Type: "+T+", from URL: "+y))}},w.onerror=function(){a.Log.error("JsonService.postForm: network error"),V(Error("Network Error"))};var N="";for(var M in E){var G=E[M];G&&(N.length>0&&(N+="&"),N+=encodeURIComponent(M),N+="=",N+=encodeURIComponent(G))}w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==L&&w.setRequestHeader("Authorization","Basic "+btoa(L)),w.send(N)})},k}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninRequest=void 0;var a=I(0),m=I(3),v=I(13);b.SigninRequest=function(){function k(A){var y=A.url,E=A.client_id,L=A.redirect_uri,f=A.response_type,g=A.scope,V=A.authority,w=A.data,F=A.prompt,N=A.display,M=A.max_age,G=A.ui_locales,R=A.id_token_hint,T=A.login_hint,U=A.acr_values,ee=A.resource,ne=A.response_mode,H=A.request,j=A.request_uri,ae=A.extraQueryParams,le=A.request_type,re=A.client_secret,q=A.extraTokenParams,te=A.skipUserInfo;if(function(Be,Xe){if(!(Be instanceof Xe))throw new TypeError("Cannot call a class as a function")}(this,k),!y)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!E)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!L)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!f)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!g)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!V)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var X=k.isOidc(f),ye=k.isCode(f);ne||(ne=k.isCode(f)?"query":null),this.state=new v.SigninState({nonce:X,data:w,client_id:E,authority:V,redirect_uri:L,code_verifier:ye,request_type:le,response_mode:ne,client_secret:re,scope:g,extraTokenParams:q,skipUserInfo:te}),y=m.UrlUtility.addQueryParam(y,"client_id",E),y=m.UrlUtility.addQueryParam(y,"redirect_uri",L),y=m.UrlUtility.addQueryParam(y,"response_type",f),y=m.UrlUtility.addQueryParam(y,"scope",g),y=m.UrlUtility.addQueryParam(y,"state",this.state.id),X&&(y=m.UrlUtility.addQueryParam(y,"nonce",this.state.nonce)),ye&&(y=m.UrlUtility.addQueryParam(y,"code_challenge",this.state.code_challenge),y=m.UrlUtility.addQueryParam(y,"code_challenge_method","S256"));var De={prompt:F,display:N,max_age:M,ui_locales:G,id_token_hint:R,login_hint:T,acr_values:U,resource:ee,request:H,request_uri:j,response_mode:ne};for(var Ie in De)De[Ie]&&(y=m.UrlUtility.addQueryParam(y,Ie,De[Ie]));for(var Ge in ae)y=m.UrlUtility.addQueryParam(y,Ge,ae[Ge]);this.url=y}return k.isOidc=function(y){return!!y.split(/\s+/g).filter(function(E){return"id_token"===E})[0]},k.isOAuth=function(y){return!!y.split(/\s+/g).filter(function(E){return"token"===E})[0]},k.isCode=function(y){return!!y.split(/\s+/g).filter(function(E){return"code"===E})[0]},k}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.State=void 0;var y,a=function(){function A(y,E){for(var L=0;L<E.length;L++){var f=E[L];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,E,L){return E&&A(y.prototype,E),L&&A(y,L),y}}(),m=I(0),v=(y=I(14))&&y.__esModule?y:{default:y};b.State=function(){function A(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.id,L=y.data,f=y.created,g=y.request_type;(function k(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,A),this._id=E||(0,v.default)(),this._data=L,this._created="number"==typeof f&&f>0?f:parseInt(Date.now()/1e3),this._request_type=g}return A.prototype.toStorageString=function(){return m.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},A.fromStorageString=function(E){return m.Log.debug("State.fromStorageString"),new A(JSON.parse(E))},A.clearStaleState=function(E,L){var f=Date.now()/1e3-L;return E.getAllKeys().then(function(g){m.Log.debug("State.clearStaleState: got keys",g);for(var V=[],w=function(G){var R=g[G];N=E.get(R).then(function(T){var U=!1;if(T)try{var ee=A.fromStorageString(T);m.Log.debug("State.clearStaleState: got item from key: ",R,ee.created),ee.created<=f&&(U=!0)}catch(ne){m.Log.error("State.clearStaleState: Error parsing state for key",R,ne.message),U=!0}else m.Log.debug("State.clearStaleState: no item in storage for key: ",R),U=!0;if(U)return m.Log.debug("State.clearStaleState: removed item for key: ",R),E.remove(R)}),V.push(N)},F=0;F<g.length;F++){var N;w(F)}return m.Log.debug("State.clearStaleState: waiting on promise count:",V.length),Promise.all(V)})},a(A,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),A}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClient=void 0;var a=function(){function w(F,N){for(var M=0;M<N.length;M++){var G=N[M];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,N,M){return N&&w(F.prototype,N),M&&w(F,M),F}}(),m=I(0),v=I(5),k=I(12),A=I(8),y=I(34),E=I(35),L=I(36),f=I(13),g=I(9);b.OidcClient=function(){function w(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function V(w,F){if(!(w instanceof F))throw new TypeError("Cannot call a class as a function")})(this,w),this._settings=F instanceof v.OidcClientSettings?F:new v.OidcClientSettings(F)}return w.prototype.createSigninRequest=function(){var N=this,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=M.response_type,R=M.scope,T=M.redirect_uri,U=M.data,ee=M.state,ne=M.prompt,H=M.display,j=M.max_age,ae=M.ui_locales,le=M.id_token_hint,re=M.login_hint,q=M.acr_values,te=M.resource,X=M.request,ye=M.request_uri,De=M.response_mode,Ie=M.extraQueryParams,Ge=M.extraTokenParams,Ce=M.request_type,Be=M.skipUserInfo,Xe=arguments[1];m.Log.debug("OidcClient.createSigninRequest");var Ye=this._settings.client_id;R=R||this._settings.scope,T=T||this._settings.redirect_uri,ne=ne||this._settings.prompt,H=H||this._settings.display,j=j||this._settings.max_age,ae=ae||this._settings.ui_locales,q=q||this._settings.acr_values,te=te||this._settings.resource,De=De||this._settings.response_mode,Ie=Ie||this._settings.extraQueryParams,Ge=Ge||this._settings.extraTokenParams;var it=this._settings.authority;return A.SigninRequest.isCode(G=G||this._settings.response_type)&&"code"!==G?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(vt){m.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",vt);var Ke=new A.SigninRequest({url:vt,client_id:Ye,redirect_uri:T,response_type:G,scope:R,data:U||ee,authority:it,prompt:ne,display:H,max_age:j,ui_locales:ae,id_token_hint:le,login_hint:re,acr_values:q,resource:te,request:X,request_uri:ye,extraQueryParams:Ie,extraTokenParams:Ge,request_type:Ce,response_mode:De,client_secret:N._settings.client_secret,skipUserInfo:Be}),Ze=Ke.state;return(Xe=Xe||N._stateStore).set(Ze.id,Ze.toStorageString()).then(function(){return Ke})})},w.prototype.readSigninResponseState=function(N,M){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m.Log.debug("OidcClient.readSigninResponseState");var R="query"===this._settings.response_mode||!this._settings.response_mode&&A.SigninRequest.isCode(this._settings.response_type),U=new y.SigninResponse(N,R?"?":"#");return U.state?(M=M||this._stateStore,(G?M.remove.bind(M):M.get.bind(M))(U.state).then(function(ne){if(!ne)throw m.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.SigninState.fromStorageString(ne),response:U}})):(m.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},w.prototype.processSigninResponse=function(N,M){var G=this;return m.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(N,M,!0).then(function(R){var T=R.state,U=R.response;return m.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),G._validator.validateSigninResponse(T,U)})},w.prototype.createSignoutRequest=function(){var N=this,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=M.id_token_hint,R=M.data,T=M.state,U=M.post_logout_redirect_uri,ee=M.extraQueryParams,ne=M.request_type,H=arguments[1];return m.Log.debug("OidcClient.createSignoutRequest"),U=U||this._settings.post_logout_redirect_uri,ee=ee||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(j){if(!j)throw m.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");m.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",j);var ae=new E.SignoutRequest({url:j,id_token_hint:G,post_logout_redirect_uri:U,data:R||T,extraQueryParams:ee,request_type:ne}),le=ae.state;return le&&(m.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(H=H||N._stateStore).set(le.id,le.toStorageString())),ae})},w.prototype.readSignoutResponseState=function(N,M){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m.Log.debug("OidcClient.readSignoutResponseState");var R=new L.SignoutResponse(N);if(!R.state)return m.Log.debug("OidcClient.readSignoutResponseState: No state in response"),R.error?(m.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",R.error),Promise.reject(new k.ErrorResponse(R))):Promise.resolve({state:void 0,response:R});var T=R.state;return M=M||this._stateStore,(G?M.remove.bind(M):M.get.bind(M))(T).then(function(ee){if(!ee)throw m.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:g.State.fromStorageString(ee),response:R}})},w.prototype.processSignoutResponse=function(N,M){var G=this;return m.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(N,M,!0).then(function(R){var T=R.state,U=R.response;return T?(m.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),G._validator.validateSignoutResponse(T,U)):(m.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),U)})},w.prototype.clearStaleState=function(N){return m.Log.debug("OidcClient.clearStaleState"),g.State.clearStaleState(N=N||this._stateStore,this.settings.staleStateAge)},a(w,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),w}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenClient=void 0;var a=I(7),m=I(2),v=I(0);b.TokenClient=function(){function A(y){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.MetadataService;if(function k(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,A),!y)throw v.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new E,this._metadataService=new L(this._settings)}return A.prototype.exchangeCode=function(){var E=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(L=Object.assign({},L)).grant_type=L.grant_type||"authorization_code",L.client_id=L.client_id||this._settings.client_id,L.client_secret=L.client_secret||this._settings.client_secret,L.redirect_uri=L.redirect_uri||this._settings.redirect_uri;var f=void 0,g=L._client_authentication||this._settings._client_authentication;return delete L._client_authentication,L.code?L.redirect_uri?L.code_verifier?L.client_id?L.client_secret||"client_secret_basic"!=g?("client_secret_basic"==g&&(f=L.client_id+":"+L.client_secret,delete L.client_id,delete L.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(V){return v.Log.debug("TokenClient.exchangeCode: Received token endpoint"),E._jsonService.postForm(V,L,f).then(function(w){return v.Log.debug("TokenClient.exchangeCode: response received"),w})})):(v.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(v.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(v.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(v.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},A.prototype.exchangeRefreshToken=function(){var E=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(L=Object.assign({},L)).grant_type=L.grant_type||"refresh_token",L.client_id=L.client_id||this._settings.client_id,L.client_secret=L.client_secret||this._settings.client_secret;var f=void 0,g=L._client_authentication||this._settings._client_authentication;return delete L._client_authentication,L.refresh_token?L.client_id?("client_secret_basic"==g&&(f=L.client_id+":"+L.client_secret,delete L.client_id,delete L.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(V){return v.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),E._jsonService.postForm(V,L,f).then(function(w){return v.Log.debug("TokenClient.exchangeRefreshToken: response received"),w})})):(v.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},A}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ErrorResponse=void 0;var a=I(0);b.ErrorResponse=function(k){function A(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.error,L=y.error_description,f=y.error_uri,g=y.state,V=y.session_state;if(function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),!E)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var w=function v(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}(this,k.call(this,L||E));return w.name="ErrorResponse",w.error=E,w.error_description=L,w.error_uri=f,w.state=g,w.session_state=V,w}return function(E,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(E,L):E.__proto__=L)}(A,k),A}(Error)},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninState=void 0;var f,a=function(){function L(f,g){for(var V=0;V<g.length;V++){var w=g[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,g,V){return g&&L(f.prototype,g),V&&L(f,V),f}}(),m=I(0),v=I(9),k=I(4),A=(f=I(14))&&f.__esModule?f:{default:f};b.SigninState=function(L){function f(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},V=g.nonce,w=g.authority,F=g.client_id,N=g.redirect_uri,M=g.code_verifier,G=g.response_mode,R=g.client_secret,T=g.scope,U=g.extraTokenParams,ee=g.skipUserInfo;!function y(L,f){if(!(L instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f);var ne=function E(L,f){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?L:f}(this,L.call(this,arguments[0]));if(!0===V?ne._nonce=(0,A.default)():V&&(ne._nonce=V),!0===M?ne._code_verifier=(0,A.default)()+(0,A.default)()+(0,A.default)():M&&(ne._code_verifier=M),ne.code_verifier){var H=k.JoseUtil.hashString(ne.code_verifier,"SHA256");ne._code_challenge=k.JoseUtil.hexToBase64Url(H)}return ne._redirect_uri=N,ne._authority=w,ne._client_id=F,ne._response_mode=G,ne._client_secret=R,ne._scope=T,ne._extraTokenParams=U,ne._skipUserInfo=ee,ne}return function(V,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);V.prototype=Object.create(w&&w.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(V,w):V.__proto__=w)}(f,L),f.prototype.toStorageString=function(){return m.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},f.fromStorageString=function(V){return m.Log.debug("SigninState.fromStorageString"),new f(JSON.parse(V))},a(f,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),f}(v.State)},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(){return("undefined"!=a&&null!==a&&void 0!==a.getRandomValues?m:v)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function m(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(k){return(k^a.getRandomValues(new Uint8Array(1))[0]&15>>k/4).toString(16)})}function v(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(k){return(k^16*Math.random()>>k/4).toString(16)})}se.exports=b.default},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.User=void 0;var a=function(){function v(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&v(k.prototype,A),y&&v(k,y),k}}(),m=I(0);b.User=function(){function v(k){var A=k.id_token,y=k.session_state,E=k.access_token,L=k.refresh_token,f=k.token_type,g=k.scope,V=k.profile,w=k.expires_at,F=k.state;(function(M,G){if(!(M instanceof G))throw new TypeError("Cannot call a class as a function")})(this,v),this.id_token=A,this.session_state=y,this.access_token=E,this.refresh_token=L,this.token_type=f,this.scope=g,this.profile=V,this.expires_at=w,this.state=F}return v.prototype.toStorageString=function(){return m.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},v.fromStorageString=function(A){return m.Log.debug("User.fromStorageString"),new v(JSON.parse(A))},a(v,[{key:"expires_in",get:function(){if(this.expires_at){var A=parseInt(Date.now()/1e3);return this.expires_at-A}},set:function(A){var y=parseInt(A);if("number"==typeof y&&y>0){var E=parseInt(Date.now()/1e3);this.expires_at=E+y}}},{key:"expired",get:function(){var A=this.expires_in;if(void 0!==A)return A<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AccessTokenEvents=void 0;var a=I(0),m=I(46);b.AccessTokenEvents=function(){function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=A.accessTokenExpiringNotificationTime,E=void 0===y?60:y,L=A.accessTokenExpiringTimer,f=void 0===L?new m.Timer("Access token expiring"):L,g=A.accessTokenExpiredTimer,V=void 0===g?new m.Timer("Access token expired"):g;(function v(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,k),this._accessTokenExpiringNotificationTime=E,this._accessTokenExpiring=f,this._accessTokenExpired=V}return k.prototype.load=function(y){if(y.access_token&&void 0!==y.expires_in){var E=y.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",E),E>0){var L=E-this._accessTokenExpiringNotificationTime;L<=0&&(L=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",L),this._accessTokenExpiring.init(L)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var f=E+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",f),this._accessTokenExpired.init(f)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},k.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},k.prototype.addAccessTokenExpiring=function(y){this._accessTokenExpiring.addHandler(y)},k.prototype.removeAccessTokenExpiring=function(y){this._accessTokenExpiring.removeHandler(y)},k.prototype.addAccessTokenExpired=function(y){this._accessTokenExpired.addHandler(y)},k.prototype.removeAccessTokenExpired=function(y){this._accessTokenExpired.removeHandler(y)},k}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Event=void 0;var a=I(0);b.Event=function(){function m(v){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,m),this._name=v,this._callbacks=[]}return m.prototype.addHandler=function(k){this._callbacks.push(k)},m.prototype.removeHandler=function(k){var A=this._callbacks.findIndex(function(y){return y===k});A>=0&&this._callbacks.splice(A,1)},m.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var k=0;k<this._callbacks.length;k++){var A;(A=this._callbacks)[k].apply(A,arguments)}},m}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SessionMonitor=void 0;var a=function(){function y(E,L){for(var f=0;f<L.length;f++){var g=L[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,L,f){return L&&y(E.prototype,L),f&&y(E,f),E}}(),m=I(0),v=I(19),k=I(1);b.SessionMonitor=function(){function y(E){var L=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.CheckSessionIFrame,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Global.timer;if(function A(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw m.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=E,this._CheckSessionIFrameCtor=f,this._timer=g,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(V){V?L._start(V):L._settings.monitorAnonymousSession&&L._userManager.querySessionStatus().then(function(w){var F={session_state:w.session_state};w.sub&&w.sid&&(F.profile={sub:w.sub,sid:w.sid}),L._start(F)}).catch(function(w){m.Log.error("SessionMonitor ctor: error from querySessionStatus:",w.message)})}).catch(function(V){m.Log.error("SessionMonitor ctor: error from getUser:",V.message)}))}return y.prototype._start=function(L){var f=this,g=L.session_state;g&&(L.profile?(this._sub=L.profile.sub,this._sid=L.profile.sid,m.Log.debug("SessionMonitor._start: session_state:",g,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,m.Log.debug("SessionMonitor._start: session_state:",g,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(g):this._metadataService.getCheckSessionIframe().then(function(V){if(V){m.Log.debug("SessionMonitor._start: Initializing check session iframe");var w=f._client_id,F=f._checkSessionInterval,N=f._stopCheckSessionOnError;f._checkSessionIFrame=new f._CheckSessionIFrameCtor(f._callback.bind(f),w,V,F,N),f._checkSessionIFrame.load().then(function(){f._checkSessionIFrame.start(g)})}else m.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(V){m.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",V.message)}))},y.prototype._stop=function(){var L=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(m.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var f=this._timer.setInterval(function(){L._timer.clearInterval(f),L._userManager.querySessionStatus().then(function(g){var V={session_state:g.session_state};g.sub&&g.sid&&(V.profile={sub:g.sub,sid:g.sid}),L._start(V)}).catch(function(g){m.Log.error("SessionMonitor: error from querySessionStatus:",g.message)})},1e3)},y.prototype._callback=function(){var L=this;this._userManager.querySessionStatus().then(function(f){var g=!0;f?f.sub===L._sub?(g=!1,L._checkSessionIFrame.start(f.session_state),f.sid===L._sid?m.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",f.session_state):(m.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",f.session_state),L._userManager.events._raiseUserSessionChanged())):m.Log.debug("SessionMonitor._callback: Different subject signed into OP:",f.sub):m.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),g&&(L._sub?(m.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),L._userManager.events._raiseUserSignedOut()):(m.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),L._userManager.events._raiseUserSignedIn()))}).catch(function(f){L._sub&&(m.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",f.message),L._userManager.events._raiseUserSignedOut())})},a(y,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),y}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CheckSessionIFrame=void 0;var a=I(0);b.CheckSessionIFrame=function(){function v(k,A,y,E){var L=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function m(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")})(this,v),this._callback=k,this._client_id=A,this._url=y,this._interval=E||2e3,this._stopOnError=L;var f=y.indexOf("/",y.indexOf("//")+2);this._frame_origin=y.substr(0,f),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=y}return v.prototype.load=function(){var A=this;return new Promise(function(y){A._frame.onload=function(){y()},window.document.body.appendChild(A._frame),A._boundMessageEvent=A._message.bind(A),window.addEventListener("message",A._boundMessageEvent,!1)})},v.prototype._message=function(A){A.origin===this._frame_origin&&A.source===this._frame.contentWindow&&("error"===A.data?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===A.data?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+A.data+" message from check session op iframe"))},v.prototype.start=function(A){var y=this;if(this._session_state!==A){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=A;var E=function(){y._frame.contentWindow.postMessage(y._client_id+" "+y._session_state,y._frame_origin)};E(),this._timer=window.setInterval(E,this._interval)}},v.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenRevocationClient=void 0;var a=I(0),m=I(2),v=I(1);b.TokenRevocationClient=function(){function E(L){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Global.XMLHttpRequest,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.MetadataService;if(function k(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,E),!L)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=L,this._XMLHttpRequestCtor=f,this._metadataService=new g(this._settings)}return E.prototype.revoke=function(f,g){var V=this,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!f)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==w&&"refresh_token"!=w)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(F){if(F)return a.Log.debug("TokenRevocationClient.revoke: Revoking "+w),V._revoke(F,V._settings.client_id,V._settings.client_secret,f,w);if(g)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},E.prototype._revoke=function(f,g,V,w,F){var N=this;return new Promise(function(M,G){var R=new N._XMLHttpRequestCtor;R.open("POST",f),R.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",R.status),200===R.status?M():G(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),G("Network Error")};var T="client_id="+encodeURIComponent(g);V&&(T+="&client_secret="+encodeURIComponent(V)),T+="&token_type_hint="+encodeURIComponent(F),T+="&token="+encodeURIComponent(w),R.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),R.send(T)})},E}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupWindow=void 0;var a=function(){function v(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&v(k.prototype,A),y&&v(k,y),k}}(),m=I(0);b.CordovaPopupWindow=function(){function v(k){var A=this;(function(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(y,E){A._resolve=y,A._reject=E}),this.features=k.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=k.popupWindowTarget||"_blank",this.redirect_uri=k.startUrl,m.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return v.prototype._isInAppBrowserInstalled=function(A){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(y){return A.hasOwnProperty(y)})},v.prototype.navigate=function(A){if(A&&A.url){if(!window.cordova)return this._error("cordova is undefined");var y=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(y))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(A.url,this.target,this.features),this._popup?(m.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},v.prototype._loadStartCallback=function(A){0===A.url.indexOf(this.redirect_uri)&&this._success({url:A.url})},v.prototype._exitCallback=function(A){this._error(A)},v.prototype._success=function(A){this._cleanup(),m.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(A)},v.prototype._error=function(A){this._cleanup(),m.Log.error(A),this._reject(new Error(A))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._popup&&(m.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(v,[{key:"promise",get:function(){return this._promise}}]),v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=I(0),m=I(10),v=I(5),k=I(6),A=I(37),y=I(38),E=I(16),L=I(2),f=I(48),g=I(49),V=I(19),w=I(20),F=I(18),N=I(1),M=I(15),G=I(50);b.default={Version:G.Version,Log:a.Log,OidcClient:m.OidcClient,OidcClientSettings:v.OidcClientSettings,WebStorageStateStore:k.WebStorageStateStore,InMemoryWebStorage:A.InMemoryWebStorage,UserManager:y.UserManager,AccessTokenEvents:E.AccessTokenEvents,MetadataService:L.MetadataService,CordovaPopupNavigator:f.CordovaPopupNavigator,CordovaIFrameNavigator:g.CordovaIFrameNavigator,CheckSessionIFrame:V.CheckSessionIFrame,TokenRevocationClient:w.TokenRevocationClient,SessionMonitor:F.SessionMonitor,Global:N.Global,User:M.User},se.exports=b.default},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClockService=function(){function a(){!function(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResponseValidator=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},m=I(0),v=I(2),k=I(25),A=I(11),y=I(12),E=I(4);var f=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];b.ResponseValidator=function(){function g(V){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.MetadataService,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.UserInfoService,N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.JoseUtil,M=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A.TokenClient;if(function L(g,V){if(!(g instanceof V))throw new TypeError("Cannot call a class as a function")}(this,g),!V)throw m.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=V,this._metadataService=new w(this._settings),this._userInfoService=new F(this._settings),this._joseUtil=N,this._tokenClient=new M(this._settings)}return g.prototype.validateSigninResponse=function(w,F){var N=this;return m.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(w,F).then(function(M){return m.Log.debug("ResponseValidator.validateSigninResponse: state processed"),N._validateTokens(w,M).then(function(G){return m.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),N._processClaims(w,G).then(function(R){return m.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),R})})})},g.prototype.validateSignoutResponse=function(w,F){return w.id!==F.state?(m.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(m.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),F.state=w.data,F.error?(m.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",F.error),Promise.reject(new y.ErrorResponse(F))):Promise.resolve(F))},g.prototype._processSigninParams=function(w,F){if(w.id!==F.state)return m.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!w.client_id)return m.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!w.authority)return m.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==w.authority)return m.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=w.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==w.client_id)return m.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=w.client_id;return m.Log.debug("ResponseValidator._processSigninParams: state validated"),F.state=w.data,F.error?(m.Log.warn("ResponseValidator._processSigninParams: Response was error",F.error),Promise.reject(new y.ErrorResponse(F))):w.nonce&&!F.id_token?(m.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!w.nonce&&F.id_token?(m.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):w.code_verifier&&!F.code?(m.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!w.code_verifier&&F.code?(m.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(F.scope||(F.scope=w.scope),Promise.resolve(F))},g.prototype._processClaims=function(w,F){var N=this;if(F.isOpenIdConnect){if(m.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),F.profile=this._filterProtocolClaims(F.profile),!0!==w.skipUserInfo&&this._settings.loadUserInfo&&F.access_token)return m.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(F.access_token).then(function(M){return m.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),M.sub!==F.profile.sub?(m.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(F.profile=N._mergeClaims(F.profile,M),m.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",F.profile),F)});m.Log.debug("ResponseValidator._processClaims: not loading user info")}else m.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(F)},g.prototype._mergeClaims=function(w,F){var N=Object.assign({},w);for(var M in F){var G=F[M];Array.isArray(G)||(G=[G]);for(var R=0;R<G.length;R++){var T=G[R];N[M]?Array.isArray(N[M])?N[M].indexOf(T)<0&&N[M].push(T):N[M]!==T&&(N[M]="object"===(void 0===T?"undefined":a(T))&&this._settings.mergeClaims?this._mergeClaims(N[M],T):[N[M],T]):N[M]=T}}return N},g.prototype._filterProtocolClaims=function(w){m.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",w);var F=Object.assign({},w);return this._settings._filterProtocolClaims?(f.forEach(function(N){delete F[N]}),m.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",F)):m.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),F},g.prototype._validateTokens=function(w,F){return F.code?(m.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(w,F)):F.id_token?F.access_token?(m.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(w,F)):(m.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(w,F)):(m.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(F))},g.prototype._processCode=function(w,F){var N=this,M={client_id:w.client_id,client_secret:w.client_secret,code:F.code,redirect_uri:w.redirect_uri,code_verifier:w.code_verifier};return w.extraTokenParams&&"object"===a(w.extraTokenParams)&&Object.assign(M,w.extraTokenParams),this._tokenClient.exchangeCode(M).then(function(G){for(var R in G)F[R]=G[R];return F.id_token?(m.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),N._validateIdTokenAttributes(w,F)):(m.Log.debug("ResponseValidator._processCode: token response successful, returning response"),F)})},g.prototype._validateIdTokenAttributes=function(w,F){var N=this;return this._metadataService.getIssuer().then(function(M){var G=w.client_id,R=N._settings.clockSkew;return m.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",R),N._settings.getEpochTime().then(function(T){return N._joseUtil.validateJwtAttributes(F.id_token,M,G,R,T).then(function(U){return w.nonce&&w.nonce!==U.nonce?(m.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):U.sub?(F.profile=U,F):(m.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},g.prototype._validateIdTokenAndAccessToken=function(w,F){var N=this;return this._validateIdToken(w,F).then(function(M){return N._validateAccessToken(M)})},g.prototype._getSigningKeyForJwt=function(w){var F=this;return this._metadataService.getSigningKeys().then(function(N){var M=w.header.kid;if(!N)return m.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));m.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var G=void 0;if(M)G=N.filter(function(R){return R.kid===M})[0];else{if((N=F._filterByAlg(N,w.header.alg)).length>1)return m.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));G=N[0]}return Promise.resolve(G)})},g.prototype._getSigningKeyForJwtWithSingleRetry=function(w){var F=this;return this._getSigningKeyForJwt(w).then(function(N){return N?Promise.resolve(N):(F._metadataService.resetSigningKeys(),F._getSigningKeyForJwt(w))})},g.prototype._validateIdToken=function(w,F){var N=this;if(!w.nonce)return m.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var M=this._joseUtil.parseJwt(F.id_token);return M&&M.header&&M.payload?w.nonce!==M.payload.nonce?(m.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(G){return m.Log.debug("ResponseValidator._validateIdToken: Received issuer"),N._getSigningKeyForJwtWithSingleRetry(M).then(function(R){if(!R)return m.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var T=w.client_id,U=N._settings.clockSkew;return m.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",U),N._joseUtil.validateJwt(F.id_token,R,G,T,U).then(function(){return m.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),M.payload.sub?(F.profile=M.payload,F):(m.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(m.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",M),Promise.reject(new Error("Failed to parse id_token")))},g.prototype._filterByAlg=function(w,F){var N=null;if(F.startsWith("RS"))N="RSA";else if(F.startsWith("PS"))N="PS";else{if(!F.startsWith("ES"))return m.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",F),[];N="EC"}return m.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",N),w=w.filter(function(M){return M.kty===N}),m.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",N,w.length),w},g.prototype._validateAccessToken=function(w){if(!w.profile)return m.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!w.profile.at_hash)return m.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!w.id_token)return m.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var F=this._joseUtil.parseJwt(w.id_token);if(!F||!F.header)return m.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",F),Promise.reject(new Error("Failed to parse id_token"));var N=F.header.alg;if(!N||5!==N.length)return m.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",N),Promise.reject(new Error("Unsupported alg: "+N));var M=N.substr(2,3);if(!M)return m.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",N,M),Promise.reject(new Error("Unsupported alg: "+N));if(256!==(M=parseInt(M))&&384!==M&&512!==M)return m.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",N,M),Promise.reject(new Error("Unsupported alg: "+N));var G="sha"+M,R=this._joseUtil.hashString(w.access_token,G);if(!R)return m.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",G),Promise.reject(new Error("Failed to validate at_hash"));var T=R.substr(0,R.length/2),U=this._joseUtil.hexToBase64Url(T);return U!==w.profile.at_hash?(m.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",U,w.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(m.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(w))},g}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserInfoService=void 0;var a=I(7),m=I(2),v=I(0),k=I(4);b.UserInfoService=function(){function y(E){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.MetadataService,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.JoseUtil;if(function A(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw v.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=E,this._jsonService=new L(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new f(this._settings),this._joseUtil=g}return y.prototype.getClaims=function(L){var f=this;return L?this._metadataService.getUserInfoEndpoint().then(function(g){return v.Log.debug("UserInfoService.getClaims: received userinfo url",g),f._jsonService.getJson(g,L).then(function(V){return v.Log.debug("UserInfoService.getClaims: claims received",V),V})}):(v.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},y.prototype._getClaimsFromJwt=function(L){var f=this;try{var g=this._joseUtil.parseJwt(L.responseText);if(!g||!g.header||!g.payload)return v.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",g),Promise.reject(new Error("Failed to parse id_token"));var V=g.header.kid,w=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":w=this._metadataService.getIssuer();break;case"ANY":w=Promise.resolve(g.payload.iss);break;default:w=Promise.resolve(this._settings.userInfoJwtIssuer)}return w.then(function(F){return v.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+F),f._metadataService.getSigningKeys().then(function(N){if(!N)return v.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));v.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var M=void 0;if(V)M=N.filter(function(T){return T.kid===V})[0];else{if((N=f._filterByAlg(N,g.header.alg)).length>1)return v.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));M=N[0]}if(!M)return v.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var G=f._settings.client_id,R=f._settings.clockSkew;return v.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",R),f._joseUtil.validateJwt(L.responseText,M,F,G,R,void 0,!0).then(function(){return v.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),g.payload})})})}catch(F){return v.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",F.message),void reject(F)}},y.prototype._filterByAlg=function(L,f){var g=null;if(f.startsWith("RS"))g="RSA";else if(f.startsWith("PS"))g="PS";else{if(!f.startsWith("ES"))return v.Log.debug("UserInfoService._filterByAlg: alg not supported: ",f),[];g="EC"}return v.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",g),L=L.filter(function(V){return V.kty===g}),v.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",g,L.length),L},y}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AllowedSigningAlgs=b.b64tohex=b.hextob64u=b.crypto=b.X509=b.KeyUtil=b.jws=void 0;var a=I(27);b.jws=a.jws,b.KeyUtil=a.KEYUTIL,b.X509=a.X509,b.crypto=a.crypto,b.hextob64u=a.hextob64u,b.b64tohex=a.b64tohex,b.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(se,b,I){"use strict";(function(a){Object.defineProperty(b,"__esModule",{value:!0});var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},v={userAgent:!1},k={};if(void 0===A)var A={};A.lang={extend:function(C,D,O){if(!D||!C)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var $=function(){};if($.prototype=D.prototype,C.prototype=new $,C.prototype.constructor=C,C.superclass=D.prototype,D.prototype.constructor==Object.prototype.constructor&&(D.prototype.constructor=D),O){var J;for(J in O)C.prototype[J]=O[J];var ce=function(){},Ae=["toString","valueOf"];try{/MSIE/.test(v.userAgent)&&(ce=function(Ee,Fe){for(J=0;J<Ae.length;J+=1){var Te=Ae[J],c=Fe[Te];"function"==typeof c&&c!=Object.prototype[Te]&&(Ee[Te]=c)}})}catch{}ce(C.prototype,O)}}};var y,E,L,f,g,V,w,F,N,M,G,C,D,O,$,R=R||(y=Math,L=(E={}).lib={},f=L.Base=function(){function x(){}return{extend:function(D){x.prototype=this;var O=new x;return D&&O.mixIn(D),O.hasOwnProperty("init")||(O.init=function(){O.$super.init.apply(this,arguments)}),O.init.prototype=O,O.$super=this,O},create:function(){var D=this.extend();return D.init.apply(D,arguments),D},init:function(){},mixIn:function(D){for(var O in D)D.hasOwnProperty(O)&&(this[O]=D[O]);D.hasOwnProperty("toString")&&(this.toString=D.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=L.WordArray=f.extend({init:function(C,D){C=this.words=C||[],this.sigBytes=D??4*C.length},toString:function(C){return(C||w).stringify(this)},concat:function(C){var D=this.words,O=C.words,$=this.sigBytes,J=C.sigBytes;if(this.clamp(),$%4)for(var ce=0;ce<J;ce++)D[$+ce>>>2]|=(O[ce>>>2]>>>24-ce%4*8&255)<<24-($+ce)%4*8;else for(ce=0;ce<J;ce+=4)D[$+ce>>>2]=O[ce>>>2];return this.sigBytes+=J,this},clamp:function(){var C=this.words,D=this.sigBytes;C[D>>>2]&=4294967295<<32-D%4*8,C.length=y.ceil(D/4)},clone:function(){var C=f.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var D=[],O=0;O<C;O+=4)D.push(4294967296*y.random()|0);return new g.init(D,C)}}),V=E.enc={},w=V.Hex={stringify:function(C){for(var D=C.words,O=C.sigBytes,$=[],J=0;J<O;J++){var ce=D[J>>>2]>>>24-J%4*8&255;$.push((ce>>>4).toString(16)),$.push((15&ce).toString(16))}return $.join("")},parse:function(C){for(var D=C.length,O=[],$=0;$<D;$+=2)O[$>>>3]|=parseInt(C.substr($,2),16)<<24-$%8*4;return new g.init(O,D/2)}},F=V.Latin1={stringify:function(C){for(var D=C.words,O=C.sigBytes,$=[],J=0;J<O;J++)$.push(String.fromCharCode(D[J>>>2]>>>24-J%4*8&255));return $.join("")},parse:function(C){for(var D=C.length,O=[],$=0;$<D;$++)O[$>>>2]|=(255&C.charCodeAt($))<<24-$%4*8;return new g.init(O,D)}},N=V.Utf8={stringify:function(C){try{return decodeURIComponent(escape(F.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return F.parse(unescape(encodeURIComponent(C)))}},M=L.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(C){"string"==typeof C&&(C=N.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var D=this._data,O=D.words,$=D.sigBytes,J=this.blockSize,ce=$/(4*J),Ae=(ce=C?y.ceil(ce):y.max((0|ce)-this._minBufferSize,0))*J,_e=y.min(4*Ae,$);if(Ae){for(var Ee=0;Ee<Ae;Ee+=J)this._doProcessBlock(O,Ee);var Fe=O.splice(0,Ae);D.sigBytes-=_e}return new g.init(Fe,_e)},clone:function(){var C=f.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),L.Hasher=M.extend({cfg:f.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){M.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(D,O){return new C.init(O).finalize(D)}},_createHmacHelper:function(C){return function(D,O){return new G.HMAC.init(C,O).finalize(D)}}}),G=E.algo={},E);D=(C=R).lib,O=D.Base,$=D.WordArray,(C=C.x64={}).Word=O.extend({init:function(ce,Ae){this.high=ce,this.low=Ae}}),C.WordArray=O.extend({init:function(ce,Ae){ce=this.words=ce||[],this.sigBytes=Ae??8*ce.length},toX32:function(){for(var ce=this.words,Ae=ce.length,_e=[],Ee=0;Ee<Ae;Ee++){var Fe=ce[Ee];_e.push(Fe.high),_e.push(Fe.low)}return $.create(_e,this.sigBytes)},clone:function(){for(var ce=O.clone.call(this),Ae=ce.words=this.words.slice(0),_e=Ae.length,Ee=0;Ee<_e;Ee++)Ae[Ee]=Ae[Ee].clone();return ce}}),function(){var C=R.lib.WordArray;R.enc.Base64={stringify:function(O){var $=O.words,J=O.sigBytes,ce=this._map;O.clamp(),O=[];for(var Ae=0;Ae<J;Ae+=3)for(var _e=($[Ae>>>2]>>>24-Ae%4*8&255)<<16|($[Ae+1>>>2]>>>24-(Ae+1)%4*8&255)<<8|$[Ae+2>>>2]>>>24-(Ae+2)%4*8&255,Ee=0;4>Ee&&Ae+.75*Ee<J;Ee++)O.push(ce.charAt(_e>>>6*(3-Ee)&63));if($=ce.charAt(64))for(;O.length%4;)O.push($);return O.join("")},parse:function(O){var $=O.length,J=this._map;(ce=J.charAt(64))&&-1!=(ce=O.indexOf(ce))&&($=ce);for(var ce=[],Ae=0,_e=0;_e<$;_e++)if(_e%4){var Ee=J.indexOf(O.charAt(_e-1))<<_e%4*2,Fe=J.indexOf(O.charAt(_e))>>>6-_e%4*2;ce[Ae>>>2]|=(Ee|Fe)<<24-Ae%4*8,Ae++}return C.create(ce,Ae)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(x){for(var C=R,D=($=C.lib).WordArray,O=$.Hasher,$=C.algo,J=[],ce=[],Ae=function(rt){return 4294967296*(rt-(0|rt))|0},_e=2,Ee=0;64>Ee;){var Fe;e:{for(var Te=x.sqrt(Fe=_e),c=2;c<=Te;c++)if(!(Fe%c)){Fe=!1;break e}Fe=!0}Fe&&(8>Ee&&(J[Ee]=Ae(x.pow(_e,.5))),ce[Ee]=Ae(x.pow(_e,1/3)),Ee++),_e++}var ze=[];$=$.SHA256=O.extend({_doReset:function(){this._hash=new D.init(J.slice(0))},_doProcessBlock:function(rt,tt){for(var he=this._hash.words,Ne=he[0],Ve=he[1],Le=he[2],et=he[3],st=he[4],zt=he[5],It=he[6],Cn=he[7],Ut=0;64>Ut;Ut++){if(16>Ut)ze[Ut]=0|rt[tt+Ut];else{var en=ze[Ut-15],Zn=ze[Ut-2];ze[Ut]=((en<<25|en>>>7)^(en<<14|en>>>18)^en>>>3)+ze[Ut-7]+((Zn<<15|Zn>>>17)^(Zn<<13|Zn>>>19)^Zn>>>10)+ze[Ut-16]}en=Cn+((st<<26|st>>>6)^(st<<21|st>>>11)^(st<<7|st>>>25))+(st&zt^~st&It)+ce[Ut]+ze[Ut],Zn=((Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22))+(Ne&Ve^Ne&Le^Ve&Le),Cn=It,It=zt,zt=st,st=et+en|0,et=Le,Le=Ve,Ve=Ne,Ne=en+Zn|0}he[0]=he[0]+Ne|0,he[1]=he[1]+Ve|0,he[2]=he[2]+Le|0,he[3]=he[3]+et|0,he[4]=he[4]+st|0,he[5]=he[5]+zt|0,he[6]=he[6]+It|0,he[7]=he[7]+Cn|0},_doFinalize:function(){var rt=this._data,tt=rt.words,he=8*this._nDataBytes,Ne=8*rt.sigBytes;return tt[Ne>>>5]|=128<<24-Ne%32,tt[14+(Ne+64>>>9<<4)]=x.floor(he/4294967296),tt[15+(Ne+64>>>9<<4)]=he,rt.sigBytes=4*tt.length,this._process(),this._hash},clone:function(){var rt=O.clone.call(this);return rt._hash=this._hash.clone(),rt}}),C.SHA256=O._createHelper($),C.HmacSHA256=O._createHmacHelper($)}(Math),function(){function x(){return O.create.apply(O,arguments)}for(var C=R,D=C.lib.Hasher,O=(J=C.x64).Word,$=J.WordArray,J=C.algo,ce=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],Ae=[],_e=0;80>_e;_e++)Ae[_e]=x();J=J.SHA512=D.extend({_doReset:function(){this._hash=new $.init([new O.init(1779033703,4089235720),new O.init(3144134277,2227873595),new O.init(1013904242,4271175723),new O.init(2773480762,1595750129),new O.init(1359893119,2917565137),new O.init(2600822924,725511199),new O.init(528734635,4215389547),new O.init(1541459225,327033209)])},_doProcessBlock:function(Fe,Te){for(var c=(Ve=this._hash.words)[0],ze=Ve[1],Je=Ve[2],rt=Ve[3],tt=Ve[4],he=Ve[5],Ne=Ve[6],Ve=Ve[7],Le=c.high,et=c.low,st=ze.high,zt=ze.low,It=Je.high,Cn=Je.low,Ut=rt.high,en=rt.low,Zn=tt.high,or=tt.low,nr=he.high,Qr=he.low,ra=Ne.high,ha=Ne.low,vr=Ve.high,Nr=Ve.low,Xr=Le,va=et,Bu=st,Ko=zt,_i=It,qo=Cn,uc=Ut,Cs=en,ri=Zn,za=or,Lu=nr,ju=Qr,Uu=ra,xs=ha,lc=vr,Ss=Nr,ai=0;80>ai;ai++){var Wo=Ae[ai];if(16>ai)var Li=Wo.high=0|Fe[Te+2*ai],sr=Wo.low=0|Fe[Te+2*ai+1];else{Li=((sr=(Li=Ae[ai-15]).high)>>>1|(ji=Li.low)<<31)^(sr>>>8|ji<<24)^sr>>>7;var ji=(ji>>>1|sr<<31)^(ji>>>8|sr<<24)^(ji>>>7|sr<<25),Qo=((sr=(Qo=Ae[ai-2]).high)>>>19|(Vr=Qo.low)<<13)^(sr<<3|Vr>>>29)^sr>>>6,Vr=(Vr>>>19|sr<<13)^(Vr<<3|sr>>>29)^(Vr>>>6|sr<<26),cc=(sr=Ae[ai-7]).high,_o=(bo=Ae[ai-16]).high,bo=bo.low;Li=(Li=(Li=Li+cc+((sr=ji+sr.low)>>>0<ji>>>0?1:0))+Qo+((sr+=Vr)>>>0<Vr>>>0?1:0))+_o+((sr+=bo)>>>0<bo>>>0?1:0),Wo.high=Li,Wo.low=sr}cc=ri&Lu^~ri&Uu,bo=za&ju^~za&xs,Wo=Xr&Bu^Xr&_i^Bu&_i;var Yy=va&Ko^va&qo^Ko&qo,tm=(ji=(Xr>>>28|va<<4)^(Xr<<30|va>>>2)^(Xr<<25|va>>>7),Qo=(va>>>28|Xr<<4)^(va<<30|Xr>>>2)^(va<<25|Xr>>>7),(Vr=ce[ai]).high),wd=Vr.low;_o=lc+((ri>>>14|za<<18)^(ri>>>18|za<<14)^(ri<<23|za>>>9))+((Vr=Ss+((za>>>14|ri<<18)^(za>>>18|ri<<14)^(za<<23|ri>>>9)))>>>0<Ss>>>0?1:0),lc=Uu,Ss=xs,Uu=Lu,xs=ju,Lu=ri,ju=za,ri=uc+(_o=(_o=(_o=_o+cc+((Vr+=bo)>>>0<bo>>>0?1:0))+tm+((Vr+=wd)>>>0<wd>>>0?1:0))+Li+((Vr+=sr)>>>0<sr>>>0?1:0))+((za=Cs+Vr|0)>>>0<Cs>>>0?1:0)|0,uc=_i,Cs=qo,_i=Bu,qo=Ko,Bu=Xr,Ko=va,Xr=_o+(Wo=ji+Wo+((sr=Qo+Yy)>>>0<Qo>>>0?1:0))+((va=Vr+sr|0)>>>0<Vr>>>0?1:0)|0}et=c.low=et+va,c.high=Le+Xr+(et>>>0<va>>>0?1:0),zt=ze.low=zt+Ko,ze.high=st+Bu+(zt>>>0<Ko>>>0?1:0),Cn=Je.low=Cn+qo,Je.high=It+_i+(Cn>>>0<qo>>>0?1:0),en=rt.low=en+Cs,rt.high=Ut+uc+(en>>>0<Cs>>>0?1:0),or=tt.low=or+za,tt.high=Zn+ri+(or>>>0<za>>>0?1:0),Qr=he.low=Qr+ju,he.high=nr+Lu+(Qr>>>0<ju>>>0?1:0),ha=Ne.low=ha+xs,Ne.high=ra+Uu+(ha>>>0<xs>>>0?1:0),Nr=Ve.low=Nr+Ss,Ve.high=vr+lc+(Nr>>>0<Ss>>>0?1:0)},_doFinalize:function(){var Fe=this._data,Te=Fe.words,c=8*this._nDataBytes,ze=8*Fe.sigBytes;return Te[ze>>>5]|=128<<24-ze%32,Te[30+(ze+128>>>10<<5)]=Math.floor(c/4294967296),Te[31+(ze+128>>>10<<5)]=c,Fe.sigBytes=4*Te.length,this._process(),this._hash.toX32()},clone:function(){var Fe=D.clone.call(this);return Fe._hash=this._hash.clone(),Fe},blockSize:32}),C.SHA512=D._createHelper(J),C.HmacSHA512=D._createHmacHelper(J)}(),function(){var x=R,C=($=x.x64).Word,D=$.WordArray,O=($=x.algo).SHA512,$=$.SHA384=O.extend({_doReset:function(){this._hash=new D.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var ce=O._doFinalize.call(this);return ce.sigBytes-=16,ce}});x.SHA384=O._createHelper($),x.HmacSHA384=O._createHmacHelper($)}();var T,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ee(x){var C,D,O="";for(C=0;C+3<=x.length;C+=3)D=parseInt(x.substring(C,C+3),16),O+=U.charAt(D>>6)+U.charAt(63&D);for(C+1==x.length?(D=parseInt(x.substring(C,C+1),16),O+=U.charAt(D<<2)):C+2==x.length&&(D=parseInt(x.substring(C,C+2),16),O+=U.charAt(D>>2)+U.charAt((3&D)<<4));(3&O.length)>0;)O+="=";return O}function ne(x){var C,D,O,$="",J=0;for(C=0;C<x.length&&"="!=x.charAt(C);++C)(O=U.indexOf(x.charAt(C)))<0||(0==J?($+=te(O>>2),D=3&O,J=1):1==J?($+=te(D<<2|O>>4),D=15&O,J=2):2==J?($+=te(D),$+=te(O>>2),D=3&O,J=3):($+=te(D<<2|O>>4),$+=te(15&O),J=0));return 1==J&&($+=te(D<<2)),$}function H(x){var C,D=ne(x),O=new Array;for(C=0;2*C<D.length;++C)O[C]=parseInt(D.substring(2*C,2*C+2),16);return O}function j(x,C,D){null!=x&&("number"==typeof x?this.fromNumber(x,C,D):this.fromString(x,null==C&&"string"!=typeof x?256:C))}function ae(){return new j(null)}"Microsoft Internet Explorer"==v.appName?(j.prototype.am=function(C,D,O,$,J,ce){for(var Ae=32767&D,_e=D>>15;--ce>=0;){var Ee=32767&this[C],Fe=this[C++]>>15,Te=_e*Ee+Fe*Ae;J=((Ee=Ae*Ee+((32767&Te)<<15)+O[$]+(1073741823&J))>>>30)+(Te>>>15)+_e*Fe+(J>>>30),O[$++]=1073741823&Ee}return J},T=30):"Netscape"!=v.appName?(j.prototype.am=function(C,D,O,$,J,ce){for(;--ce>=0;){var Ae=D*this[C++]+O[$]+J;J=Math.floor(Ae/67108864),O[$++]=67108863&Ae}return J},T=26):(j.prototype.am=function(C,D,O,$,J,ce){for(var Ae=16383&D,_e=D>>14;--ce>=0;){var Ee=16383&this[C],Fe=this[C++]>>14,Te=_e*Ee+Fe*Ae;J=((Ee=Ae*Ee+((16383&Te)<<14)+O[$]+J)>>28)+(Te>>14)+_e*Fe,O[$++]=268435455&Ee}return J},T=28),j.prototype.DB=T,j.prototype.DM=(1<<T)-1,j.prototype.DV=1<<T,j.prototype.FV=Math.pow(2,52),j.prototype.F1=52-T,j.prototype.F2=2*T-52;var le,re,q=new Array;for(le=48,re=0;re<=9;++re)q[le++]=re;for(le=97,re=10;re<36;++re)q[le++]=re;for(le=65,re=10;re<36;++re)q[le++]=re;function te(x){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(x)}function X(x,C){return q[x.charCodeAt(C)]??-1}function ye(x){var C=ae();return C.fromInt(x),C}function De(x){var C,D=1;return 0!=(C=x>>>16)&&(x=C,D+=16),0!=(C=x>>8)&&(x=C,D+=8),0!=(C=x>>4)&&(x=C,D+=4),0!=(C=x>>2)&&(x=C,D+=2),0!=(C=x>>1)&&(x=C,D+=1),D}function Ie(x){this.m=x}function Ge(x){this.m=x,this.mp=x.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<x.DB-15)-1,this.mt2=2*x.t}function Ce(x,C){return x&C}function Be(x,C){return x|C}function Xe(x,C){return x^C}function Ye(x,C){return x&~C}function it(x){if(0==x)return-1;var C=0;return!(65535&x)&&(x>>=16,C+=16),!(255&x)&&(x>>=8,C+=8),!(15&x)&&(x>>=4,C+=4),!(3&x)&&(x>>=2,C+=2),!(1&x)&&++C,C}function vt(x){for(var C=0;0!=x;)x&=x-1,++C;return C}function Ke(){}function Ze(x){return x}function ct(x){this.r2=ae(),this.q3=ae(),j.ONE.dlShiftTo(2*x.t,this.r2),this.mu=this.r2.divide(x),this.m=x}Ie.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},Ie.prototype.revert=function(C){return C},Ie.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},Ie.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O),this.reduce(O)},Ie.prototype.sqrTo=function(C,D){C.squareTo(D),this.reduce(D)},Ge.prototype.convert=function(C){var D=ae();return C.abs().dlShiftTo(this.m.t,D),D.divRemTo(this.m,null,D),C.s<0&&D.compareTo(j.ZERO)>0&&this.m.subTo(D,D),D},Ge.prototype.revert=function(C){var D=ae();return C.copyTo(D),this.reduce(D),D},Ge.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var D=0;D<this.m.t;++D){var O=32767&C[D],$=O*this.mpl+((O*this.mph+(C[D]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[O=D+this.m.t]+=this.m.am(0,$,C,D,0,this.m.t);C[O]>=C.DV;)C[O]-=C.DV,C[++O]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},Ge.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O),this.reduce(O)},Ge.prototype.sqrTo=function(C,D){C.squareTo(D),this.reduce(D)},j.prototype.copyTo=function(C){for(var D=this.t-1;D>=0;--D)C[D]=this[D];C.t=this.t,C.s=this.s},j.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},j.prototype.fromString=function(C,D){var O;if(16==D)O=4;else if(8==D)O=3;else if(256==D)O=8;else if(2==D)O=1;else if(32==D)O=5;else{if(4!=D)return void this.fromRadix(C,D);O=2}this.t=0,this.s=0;for(var $=C.length,J=!1,ce=0;--$>=0;){var Ae=8==O?255&C[$]:X(C,$);Ae<0?"-"==C.charAt($)&&(J=!0):(J=!1,0==ce?this[this.t++]=Ae:ce+O>this.DB?(this[this.t-1]|=(Ae&(1<<this.DB-ce)-1)<<ce,this[this.t++]=Ae>>this.DB-ce):this[this.t-1]|=Ae<<ce,(ce+=O)>=this.DB&&(ce-=this.DB))}8==O&&!!(128&C[0])&&(this.s=-1,ce>0&&(this[this.t-1]|=(1<<this.DB-ce)-1<<ce)),this.clamp(),J&&j.ZERO.subTo(this,this)},j.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},j.prototype.dlShiftTo=function(C,D){var O;for(O=this.t-1;O>=0;--O)D[O+C]=this[O];for(O=C-1;O>=0;--O)D[O]=0;D.t=this.t+C,D.s=this.s},j.prototype.drShiftTo=function(C,D){for(var O=C;O<this.t;++O)D[O-C]=this[O];D.t=Math.max(this.t-C,0),D.s=this.s},j.prototype.lShiftTo=function(C,D){var O,$=C%this.DB,J=this.DB-$,ce=(1<<J)-1,Ae=Math.floor(C/this.DB),_e=this.s<<$&this.DM;for(O=this.t-1;O>=0;--O)D[O+Ae+1]=this[O]>>J|_e,_e=(this[O]&ce)<<$;for(O=Ae-1;O>=0;--O)D[O]=0;D[Ae]=_e,D.t=this.t+Ae+1,D.s=this.s,D.clamp()},j.prototype.rShiftTo=function(C,D){D.s=this.s;var O=Math.floor(C/this.DB);if(O>=this.t)D.t=0;else{var $=C%this.DB,J=this.DB-$,ce=(1<<$)-1;D[0]=this[O]>>$;for(var Ae=O+1;Ae<this.t;++Ae)D[Ae-O-1]|=(this[Ae]&ce)<<J,D[Ae-O]=this[Ae]>>$;$>0&&(D[this.t-O-1]|=(this.s&ce)<<J),D.t=this.t-O,D.clamp()}},j.prototype.subTo=function(C,D){for(var O=0,$=0,J=Math.min(C.t,this.t);O<J;)$+=this[O]-C[O],D[O++]=$&this.DM,$>>=this.DB;if(C.t<this.t){for($-=C.s;O<this.t;)$+=this[O],D[O++]=$&this.DM,$>>=this.DB;$+=this.s}else{for($+=this.s;O<C.t;)$-=C[O],D[O++]=$&this.DM,$>>=this.DB;$-=C.s}D.s=$<0?-1:0,$<-1?D[O++]=this.DV+$:$>0&&(D[O++]=$),D.t=O,D.clamp()},j.prototype.multiplyTo=function(C,D){var O=this.abs(),$=C.abs(),J=O.t;for(D.t=J+$.t;--J>=0;)D[J]=0;for(J=0;J<$.t;++J)D[J+O.t]=O.am(0,$[J],D,J,0,O.t);D.s=0,D.clamp(),this.s!=C.s&&j.ZERO.subTo(D,D)},j.prototype.squareTo=function(C){for(var D=this.abs(),O=C.t=2*D.t;--O>=0;)C[O]=0;for(O=0;O<D.t-1;++O){var $=D.am(O,D[O],C,2*O,0,1);(C[O+D.t]+=D.am(O+1,2*D[O],C,2*O+1,$,D.t-O-1))>=D.DV&&(C[O+D.t]-=D.DV,C[O+D.t+1]=1)}C.t>0&&(C[C.t-1]+=D.am(O,D[O],C,2*O,0,1)),C.s=0,C.clamp()},j.prototype.divRemTo=function(C,D,O){var $=C.abs();if(!($.t<=0)){var J=this.abs();if(J.t<$.t)return D?.fromInt(0),void(null!=O&&this.copyTo(O));null==O&&(O=ae());var ce=ae(),Ae=this.s,_e=C.s,Ee=this.DB-De($[$.t-1]);Ee>0?($.lShiftTo(Ee,ce),J.lShiftTo(Ee,O)):($.copyTo(ce),J.copyTo(O));var Fe=ce.t,Te=ce[Fe-1];if(0!=Te){var c=Te*(1<<this.F1)+(Fe>1?ce[Fe-2]>>this.F2:0),ze=this.FV/c,Je=(1<<this.F1)/c,rt=1<<this.F2,tt=O.t,he=tt-Fe,Ne=D??ae();for(ce.dlShiftTo(he,Ne),O.compareTo(Ne)>=0&&(O[O.t++]=1,O.subTo(Ne,O)),j.ONE.dlShiftTo(Fe,Ne),Ne.subTo(ce,ce);ce.t<Fe;)ce[ce.t++]=0;for(;--he>=0;){var Ve=O[--tt]==Te?this.DM:Math.floor(O[tt]*ze+(O[tt-1]+rt)*Je);if((O[tt]+=ce.am(0,Ve,O,he,0,Fe))<Ve)for(ce.dlShiftTo(he,Ne),O.subTo(Ne,O);O[tt]<--Ve;)O.subTo(Ne,O)}null!=D&&(O.drShiftTo(Fe,D),Ae!=_e&&j.ZERO.subTo(D,D)),O.t=Fe,O.clamp(),Ee>0&&O.rShiftTo(Ee,O),Ae<0&&j.ZERO.subTo(O,O)}}},j.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var D=3&C;return(D=(D=(D=(D=D*(2-(15&C)*D)&15)*(2-(255&C)*D)&255)*(2-((65535&C)*D&65535))&65535)*(2-C*D%this.DV)%this.DV)>0?this.DV-D:-D},j.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},j.prototype.exp=function(C,D){if(C>4294967295||C<1)return j.ONE;var O=ae(),$=ae(),J=D.convert(this),ce=De(C)-1;for(J.copyTo(O);--ce>=0;)if(D.sqrTo(O,$),(C&1<<ce)>0)D.mulTo($,J,O);else{var Ae=O;O=$,$=Ae}return D.revert(O)},j.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var D;if(16==C)D=4;else if(8==C)D=3;else if(2==C)D=1;else if(32==C)D=5;else{if(4!=C)return this.toRadix(C);D=2}var O,$=(1<<D)-1,J=!1,ce="",Ae=this.t,_e=this.DB-Ae*this.DB%D;if(Ae-- >0)for(_e<this.DB&&(O=this[Ae]>>_e)>0&&(J=!0,ce=te(O));Ae>=0;)_e<D?(O=(this[Ae]&(1<<_e)-1)<<D-_e,O|=this[--Ae]>>(_e+=this.DB-D)):(O=this[Ae]>>(_e-=D)&$,_e<=0&&(_e+=this.DB,--Ae)),O>0&&(J=!0),J&&(ce+=te(O));return J?ce:"0"},j.prototype.negate=function(){var C=ae();return j.ZERO.subTo(this,C),C},j.prototype.abs=function(){return this.s<0?this.negate():this},j.prototype.compareTo=function(C){var D=this.s-C.s;if(0!=D)return D;var O=this.t;if(0!=(D=O-C.t))return this.s<0?-D:D;for(;--O>=0;)if(0!=(D=this[O]-C[O]))return D;return 0},j.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+De(this[this.t-1]^this.s&this.DM)},j.prototype.mod=function(C){var D=ae();return this.abs().divRemTo(C,null,D),this.s<0&&D.compareTo(j.ZERO)>0&&C.subTo(D,D),D},j.prototype.modPowInt=function(C,D){var O;return O=C<256||D.isEven()?new Ie(D):new Ge(D),this.exp(C,O)},j.ZERO=ye(0),j.ONE=ye(1),Ke.prototype.convert=Ze,Ke.prototype.revert=Ze,Ke.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O)},Ke.prototype.sqrTo=function(C,D){C.squareTo(D)},ct.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var D=ae();return C.copyTo(D),this.reduce(D),D},ct.prototype.revert=function(C){return C},ct.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},ct.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O),this.reduce(O)},ct.prototype.sqrTo=function(C,D){C.squareTo(D),this.reduce(D)};var xe,ke,oe,pe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],K=(1<<26)/pe[pe.length-1];function Q(){this.i=0,this.j=0,this.S=new Array}function ie(){!function(C){ke[oe++]^=255&C,ke[oe++]^=C>>8&255,ke[oe++]^=C>>16&255,ke[oe++]^=C>>24&255,oe>=256&&(oe-=256)}((new Date).getTime())}if(j.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},j.prototype.toRadix=function(C){if(null==C&&(C=10),0==this.signum()||C<2||C>36)return"0";var D=this.chunkSize(C),O=Math.pow(C,D),$=ye(O),J=ae(),ce=ae(),Ae="";for(this.divRemTo($,J,ce);J.signum()>0;)Ae=(O+ce.intValue()).toString(C).substr(1)+Ae,J.divRemTo($,J,ce);return ce.intValue().toString(C)+Ae},j.prototype.fromRadix=function(C,D){this.fromInt(0),null==D&&(D=10);for(var O=this.chunkSize(D),$=Math.pow(D,O),J=!1,ce=0,Ae=0,_e=0;_e<C.length;++_e){var Ee=X(C,_e);Ee<0?"-"==C.charAt(_e)&&0==this.signum()&&(J=!0):(Ae=D*Ae+Ee,++ce>=O&&(this.dMultiply($),this.dAddOffset(Ae,0),ce=0,Ae=0))}ce>0&&(this.dMultiply(Math.pow(D,ce)),this.dAddOffset(Ae,0)),J&&j.ZERO.subTo(this,this)},j.prototype.fromNumber=function(C,D,O){if("number"==typeof D)if(C<2)this.fromInt(1);else for(this.fromNumber(C,O),this.testBit(C-1)||this.bitwiseTo(j.ONE.shiftLeft(C-1),Be,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(D);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(j.ONE.shiftLeft(C-1),this);else{var $=new Array,J=7&C;$.length=1+(C>>3),D.nextBytes($),J>0?$[0]&=(1<<J)-1:$[0]=0,this.fromString($,256)}},j.prototype.bitwiseTo=function(C,D,O){var $,J,ce=Math.min(C.t,this.t);for($=0;$<ce;++$)O[$]=D(this[$],C[$]);if(C.t<this.t){for(J=C.s&this.DM,$=ce;$<this.t;++$)O[$]=D(this[$],J);O.t=this.t}else{for(J=this.s&this.DM,$=ce;$<C.t;++$)O[$]=D(J,C[$]);O.t=C.t}O.s=D(this.s,C.s),O.clamp()},j.prototype.changeBit=function(C,D){var O=j.ONE.shiftLeft(C);return this.bitwiseTo(O,D,O),O},j.prototype.addTo=function(C,D){for(var O=0,$=0,J=Math.min(C.t,this.t);O<J;)$+=this[O]+C[O],D[O++]=$&this.DM,$>>=this.DB;if(C.t<this.t){for($+=C.s;O<this.t;)$+=this[O],D[O++]=$&this.DM,$>>=this.DB;$+=this.s}else{for($+=this.s;O<C.t;)$+=C[O],D[O++]=$&this.DM,$>>=this.DB;$+=C.s}D.s=$<0?-1:0,$>0?D[O++]=$:$<-1&&(D[O++]=this.DV+$),D.t=O,D.clamp()},j.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},j.prototype.dAddOffset=function(C,D){if(0!=C){for(;this.t<=D;)this[this.t++]=0;for(this[D]+=C;this[D]>=this.DV;)this[D]-=this.DV,++D>=this.t&&(this[this.t++]=0),++this[D]}},j.prototype.multiplyLowerTo=function(C,D,O){var $,J=Math.min(this.t+C.t,D);for(O.s=0,O.t=J;J>0;)O[--J]=0;for($=O.t-this.t;J<$;++J)O[J+this.t]=this.am(0,C[J],O,J,0,this.t);for($=Math.min(C.t,D);J<$;++J)this.am(0,C[J],O,J,0,D-J);O.clamp()},j.prototype.multiplyUpperTo=function(C,D,O){--D;var $=O.t=this.t+C.t-D;for(O.s=0;--$>=0;)O[$]=0;for($=Math.max(D-this.t,0);$<C.t;++$)O[this.t+$-D]=this.am(D-$,C[$],O,0,0,this.t+$-D);O.clamp(),O.drShiftTo(1,O)},j.prototype.modInt=function(C){if(C<=0)return 0;var D=this.DV%C,O=this.s<0?C-1:0;if(this.t>0)if(0==D)O=this[0]%C;else for(var $=this.t-1;$>=0;--$)O=(D*O+this[$])%C;return O},j.prototype.millerRabin=function(C){var D=this.subtract(j.ONE),O=D.getLowestSetBit();if(O<=0)return!1;var $=D.shiftRight(O);(C=C+1>>1)>pe.length&&(C=pe.length);for(var J=ae(),ce=0;ce<C;++ce){J.fromInt(pe[Math.floor(Math.random()*pe.length)]);var Ae=J.modPow($,this);if(0!=Ae.compareTo(j.ONE)&&0!=Ae.compareTo(D)){for(var _e=1;_e++<O&&0!=Ae.compareTo(D);)if(0==(Ae=Ae.modPowInt(2,this)).compareTo(j.ONE))return!1;if(0!=Ae.compareTo(D))return!1}}return!0},j.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var C=ae();return this.copyTo(C),C},j.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},j.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},j.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},j.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},j.prototype.toByteArray=function(){var C=this.t,D=new Array;D[0]=this.s;var O,$=this.DB-C*this.DB%8,J=0;if(C-- >0)for($<this.DB&&(O=this[C]>>$)!=(this.s&this.DM)>>$&&(D[J++]=O|this.s<<this.DB-$);C>=0;)$<8?(O=(this[C]&(1<<$)-1)<<8-$,O|=this[--C]>>($+=this.DB-8)):(O=this[C]>>($-=8)&255,$<=0&&($+=this.DB,--C)),!!(128&O)&&(O|=-256),0==J&&(128&this.s)!=(128&O)&&++J,(J>0||O!=this.s)&&(D[J++]=O);return D},j.prototype.equals=function(C){return 0==this.compareTo(C)},j.prototype.min=function(C){return this.compareTo(C)<0?this:C},j.prototype.max=function(C){return this.compareTo(C)>0?this:C},j.prototype.and=function(C){var D=ae();return this.bitwiseTo(C,Ce,D),D},j.prototype.or=function(C){var D=ae();return this.bitwiseTo(C,Be,D),D},j.prototype.xor=function(C){var D=ae();return this.bitwiseTo(C,Xe,D),D},j.prototype.andNot=function(C){var D=ae();return this.bitwiseTo(C,Ye,D),D},j.prototype.not=function(){for(var C=ae(),D=0;D<this.t;++D)C[D]=this.DM&~this[D];return C.t=this.t,C.s=~this.s,C},j.prototype.shiftLeft=function(C){var D=ae();return C<0?this.rShiftTo(-C,D):this.lShiftTo(C,D),D},j.prototype.shiftRight=function(C){var D=ae();return C<0?this.lShiftTo(-C,D):this.rShiftTo(C,D),D},j.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(0!=this[C])return C*this.DB+it(this[C]);return this.s<0?this.t*this.DB:-1},j.prototype.bitCount=function(){for(var C=0,D=this.s&this.DM,O=0;O<this.t;++O)C+=vt(this[O]^D);return C},j.prototype.testBit=function(C){var D=Math.floor(C/this.DB);return D>=this.t?0!=this.s:!!(this[D]&1<<C%this.DB)},j.prototype.setBit=function(C){return this.changeBit(C,Be)},j.prototype.clearBit=function(C){return this.changeBit(C,Ye)},j.prototype.flipBit=function(C){return this.changeBit(C,Xe)},j.prototype.add=function(C){var D=ae();return this.addTo(C,D),D},j.prototype.subtract=function(C){var D=ae();return this.subTo(C,D),D},j.prototype.multiply=function(C){var D=ae();return this.multiplyTo(C,D),D},j.prototype.divide=function(C){var D=ae();return this.divRemTo(C,D,null),D},j.prototype.remainder=function(C){var D=ae();return this.divRemTo(C,null,D),D},j.prototype.divideAndRemainder=function(C){var D=ae(),O=ae();return this.divRemTo(C,D,O),new Array(D,O)},j.prototype.modPow=function(C,D){var O,$,J=C.bitLength(),ce=ye(1);if(J<=0)return ce;O=J<18?1:J<48?3:J<144?4:J<768?5:6,$=J<8?new Ie(D):D.isEven()?new ct(D):new Ge(D);var Ae=new Array,_e=3,Ee=O-1,Fe=(1<<O)-1;if(Ae[1]=$.convert(this),O>1){var Te=ae();for($.sqrTo(Ae[1],Te);_e<=Fe;)Ae[_e]=ae(),$.mulTo(Te,Ae[_e-2],Ae[_e]),_e+=2}var c,ze,Je=C.t-1,rt=!0,tt=ae();for(J=De(C[Je])-1;Je>=0;){for(J>=Ee?c=C[Je]>>J-Ee&Fe:(c=(C[Je]&(1<<J+1)-1)<<Ee-J,Je>0&&(c|=C[Je-1]>>this.DB+J-Ee)),_e=O;!(1&c);)c>>=1,--_e;if((J-=_e)<0&&(J+=this.DB,--Je),rt)Ae[c].copyTo(ce),rt=!1;else{for(;_e>1;)$.sqrTo(ce,tt),$.sqrTo(tt,ce),_e-=2;_e>0?$.sqrTo(ce,tt):(ze=ce,ce=tt,tt=ze),$.mulTo(tt,Ae[c],ce)}for(;Je>=0&&!(C[Je]&1<<J);)$.sqrTo(ce,tt),ze=ce,ce=tt,tt=ze,--J<0&&(J=this.DB-1,--Je)}return $.revert(ce)},j.prototype.modInverse=function(C){var D=C.isEven();if(this.isEven()&&D||0==C.signum())return j.ZERO;for(var O=C.clone(),$=this.clone(),J=ye(1),ce=ye(0),Ae=ye(0),_e=ye(1);0!=O.signum();){for(;O.isEven();)O.rShiftTo(1,O),D?(J.isEven()&&ce.isEven()||(J.addTo(this,J),ce.subTo(C,ce)),J.rShiftTo(1,J)):ce.isEven()||ce.subTo(C,ce),ce.rShiftTo(1,ce);for(;$.isEven();)$.rShiftTo(1,$),D?(Ae.isEven()&&_e.isEven()||(Ae.addTo(this,Ae),_e.subTo(C,_e)),Ae.rShiftTo(1,Ae)):_e.isEven()||_e.subTo(C,_e),_e.rShiftTo(1,_e);O.compareTo($)>=0?(O.subTo($,O),D&&J.subTo(Ae,J),ce.subTo(_e,ce)):($.subTo(O,$),D&&Ae.subTo(J,Ae),_e.subTo(ce,_e))}return 0!=$.compareTo(j.ONE)?j.ZERO:_e.compareTo(C)>=0?_e.subtract(C):_e.signum()<0?(_e.addTo(C,_e),_e.signum()<0?_e.add(C):_e):_e},j.prototype.pow=function(C){return this.exp(C,new Ke)},j.prototype.gcd=function(C){var D=this.s<0?this.negate():this.clone(),O=C.s<0?C.negate():C.clone();if(D.compareTo(O)<0){var $=D;D=O,O=$}var J=D.getLowestSetBit(),ce=O.getLowestSetBit();if(ce<0)return D;for(J<ce&&(ce=J),ce>0&&(D.rShiftTo(ce,D),O.rShiftTo(ce,O));D.signum()>0;)(J=D.getLowestSetBit())>0&&D.rShiftTo(J,D),(J=O.getLowestSetBit())>0&&O.rShiftTo(J,O),D.compareTo(O)>=0?(D.subTo(O,D),D.rShiftTo(1,D)):(O.subTo(D,O),O.rShiftTo(1,O));return ce>0&&O.lShiftTo(ce,O),O},j.prototype.isProbablePrime=function(C){var D,O=this.abs();if(1==O.t&&O[0]<=pe[pe.length-1]){for(D=0;D<pe.length;++D)if(O[0]==pe[D])return!0;return!1}if(O.isEven())return!1;for(D=1;D<pe.length;){for(var $=pe[D],J=D+1;J<pe.length&&$<K;)$*=pe[J++];for($=O.modInt($);D<J;)if($%pe[D++]==0)return!1}return O.millerRabin(C)},j.prototype.square=function(){var C=ae();return this.squareTo(C),C},Q.prototype.init=function(C){var D,O,$;for(D=0;D<256;++D)this.S[D]=D;for(O=0,D=0;D<256;++D)$=this.S[D],this.S[D]=this.S[O=O+this.S[D]+C[D%C.length]&255],this.S[O]=$;this.i=0,this.j=0},Q.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]},null==ke){var Me;if(ke=new Array,oe=0,void 0!==k&&(void 0!==k.crypto||void 0!==k.msCrypto)){var ue=k.crypto||k.msCrypto;if(ue.getRandomValues){var Z=new Uint8Array(32);for(ue.getRandomValues(Z),Me=0;Me<32;++Me)ke[oe++]=Z[Me]}else if("Netscape"==v.appName&&v.appVersion<"5"){var W=k.crypto.random(32);for(Me=0;Me<W.length;++Me)ke[oe++]=255&W.charCodeAt(Me)}}for(;oe<256;)Me=Math.floor(65536*Math.random()),ke[oe++]=Me>>>8,ke[oe++]=255&Me;oe=0,ie()}function ve(){if(null==xe){for(ie(),(xe=new Q).init(ke),oe=0;oe<ke.length;++oe)ke[oe]=0;oe=0}return xe.next()}function je(){}function nt(x,C){return new j(x,C)}function at(x,C,D){for(var O="",$=0;O.length<C;)O+=D(String.fromCharCode.apply(String,x.concat([(4278190080&$)>>24,(16711680&$)>>16,(65280&$)>>8,255&$]))),$+=1;return O}function bt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Ot(x,C){this.x=C,this.q=x}function Nt(x,C,D,O){this.curve=x,this.x=C,this.y=D,this.z=O??j.ONE,this.zinv=null}function nn(x,C,D){this.q=x,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(D),this.infinity=new Nt(this,null,null)}je.prototype.nextBytes=function(C){var D;for(D=0;D<C.length;++D)C[D]=ve()},bt.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},bt.prototype.setPublic=function(C,D){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof C)this.n=C,this.e=D;else{if(!(null!=C&&null!=D&&C.length>0&&D.length>0))throw"Invalid RSA public key";this.n=nt(C,16),this.e=parseInt(D,16)}},bt.prototype.encrypt=function(C){var D=function(ce,Ae){if(Ae<ce.length+11)throw"Message too long for RSA";for(var _e=new Array,Ee=ce.length-1;Ee>=0&&Ae>0;){var Fe=ce.charCodeAt(Ee--);Fe<128?_e[--Ae]=Fe:Fe>127&&Fe<2048?(_e[--Ae]=63&Fe|128,_e[--Ae]=Fe>>6|192):(_e[--Ae]=63&Fe|128,_e[--Ae]=Fe>>6&63|128,_e[--Ae]=Fe>>12|224)}_e[--Ae]=0;for(var Te=new je,c=new Array;Ae>2;){for(c[0]=0;0==c[0];)Te.nextBytes(c);_e[--Ae]=c[0]}return _e[--Ae]=2,_e[--Ae]=0,new j(_e)}(C,this.n.bitLength()+7>>3);if(null==D)return null;var O=this.doPublic(D);if(null==O)return null;var $=O.toString(16);return 1&$.length?"0"+$:$},bt.prototype.encryptOAEP=function(C,D,O){var $=function(_e,Ee,Fe,Te){var c=Se.crypto.MessageDigest,ze=Se.crypto.Util,Je=null;if(Fe||(Fe="sha1"),"string"==typeof Fe&&(Je=c.getCanonicalAlgName(Fe),Te=c.getHashLength(Je),Fe=function(It){return gt(ze.hashHex(Qt(It),Je))}),_e.length+2*Te+2>Ee)throw"Message too long for RSA";var rt,tt="";for(rt=0;rt<Ee-_e.length-2*Te-2;rt+=1)tt+="\0";var he=Fe("")+tt+"\x01"+_e,Ne=new Array(Te);(new je).nextBytes(Ne);var Ve=at(Ne,he.length,Fe),Le=[];for(rt=0;rt<he.length;rt+=1)Le[rt]=he.charCodeAt(rt)^Ve.charCodeAt(rt);var et=at(Le,Ne.length,Fe),st=[0];for(rt=0;rt<Ne.length;rt+=1)st[rt+1]=Ne[rt]^et.charCodeAt(rt);return new j(st.concat(Le))}(C,this.n.bitLength()+7>>3,D,O);if(null==$)return null;var J=this.doPublic($);if(null==J)return null;var ce=J.toString(16);return 1&ce.length?"0"+ce:ce},bt.prototype.type="RSA",Ot.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Ot.prototype.toBigInteger=function(){return this.x},Ot.prototype.negate=function(){return new Ot(this.q,this.x.negate().mod(this.q))},Ot.prototype.add=function(C){return new Ot(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Ot.prototype.subtract=function(C){return new Ot(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Ot.prototype.multiply=function(C){return new Ot(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Ot.prototype.square=function(){return new Ot(this.q,this.x.square().mod(this.q))},Ot.prototype.divide=function(C){return new Ot(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},Nt.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Nt.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Nt.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(j.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(j.ZERO))},Nt.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(j.ZERO)&&!this.y.toBigInteger().equals(j.ZERO)},Nt.prototype.negate=function(){return new Nt(this.curve,this.x,this.y.negate(),this.z)},Nt.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var D=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),O=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(j.ZERO.equals(O))return j.ZERO.equals(D)?this.twice():this.curve.getInfinity();var $=new j("3"),J=this.x.toBigInteger(),ce=this.y.toBigInteger(),Ae=(C.x.toBigInteger(),C.y.toBigInteger(),O.square()),_e=Ae.multiply(O),Ee=J.multiply(Ae),Fe=D.square().multiply(this.z),Te=Fe.subtract(Ee.shiftLeft(1)).multiply(C.z).subtract(_e).multiply(O).mod(this.curve.q),c=Ee.multiply($).multiply(D).subtract(ce.multiply(_e)).subtract(Fe.multiply(D)).multiply(C.z).add(D.multiply(_e)).mod(this.curve.q),ze=_e.multiply(this.z).multiply(C.z).mod(this.curve.q);return new Nt(this.curve,this.curve.fromBigInteger(Te),this.curve.fromBigInteger(c),ze)},Nt.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var C=new j("3"),D=this.x.toBigInteger(),O=this.y.toBigInteger(),$=O.multiply(this.z),J=$.multiply(O).mod(this.curve.q),ce=this.curve.a.toBigInteger(),Ae=D.square().multiply(C);j.ZERO.equals(ce)||(Ae=Ae.add(this.z.square().multiply(ce)));var _e=(Ae=Ae.mod(this.curve.q)).square().subtract(D.shiftLeft(3).multiply(J)).shiftLeft(1).multiply($).mod(this.curve.q),Ee=Ae.multiply(C).multiply(D).subtract(J.shiftLeft(1)).shiftLeft(2).multiply(J).subtract(Ae.square().multiply(Ae)).mod(this.curve.q),Fe=$.square().multiply($).shiftLeft(3).mod(this.curve.q);return new Nt(this.curve,this.curve.fromBigInteger(_e),this.curve.fromBigInteger(Ee),Fe)},Nt.prototype.multiply=function(C){if(this.isInfinity())return this;if(0==C.signum())return this.curve.getInfinity();var D,O=C,$=O.multiply(new j("3")),J=this.negate(),ce=this,Ae=this.curve.q.subtract(C),_e=Ae.multiply(new j("3")),Ee=new Nt(this.curve,this.x,this.y),Fe=Ee.negate();for(D=$.bitLength()-2;D>0;--D){ce=ce.twice();var Te=$.testBit(D);Te!=O.testBit(D)&&(ce=ce.add(Te?this:J))}for(D=_e.bitLength()-2;D>0;--D){Ee=Ee.twice();var c=_e.testBit(D);c!=Ae.testBit(D)&&(Ee=Ee.add(c?Ee:Fe))}return ce},Nt.prototype.multiplyTwo=function(C,D,O){var $;$=C.bitLength()>O.bitLength()?C.bitLength()-1:O.bitLength()-1;for(var J=this.curve.getInfinity(),ce=this.add(D);$>=0;)J=J.twice(),C.testBit($)?J=O.testBit($)?J.add(ce):J.add(this):O.testBit($)&&(J=J.add(D)),--$;return J},nn.prototype.getQ=function(){return this.q},nn.prototype.getA=function(){return this.a},nn.prototype.getB=function(){return this.b},nn.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},nn.prototype.getInfinity=function(){return this.infinity},nn.prototype.fromBigInteger=function(C){return new Ot(this.q,C)},nn.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var D=(C.length-2)/2,O=C.substr(2,D),$=C.substr(D+2,D);return new Nt(this,this.fromBigInteger(new j(O,16)),this.fromBigInteger(new j($,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
Ot.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Nt.prototype.getEncoded=function(x){var C=function(ce,Ae){var _e=ce.toByteArrayUnsigned();if(Ae<_e.length)_e=_e.slice(_e.length-Ae);else for(;Ae>_e.length;)_e.unshift(0);return _e},D=this.getX().toBigInteger(),O=this.getY().toBigInteger(),$=C(D,32);return x?O.isEven()?$.unshift(2):$.unshift(3):($.unshift(4),$=$.concat(C(O,32))),$},Nt.decodeFrom=function(x,C){var D=C.length-1,O=C.slice(1,1+D/2),$=C.slice(1+D/2,1+D);O.unshift(0),$.unshift(0);var J=new j(O),ce=new j($);return new Nt(x,x.fromBigInteger(J),x.fromBigInteger(ce))},Nt.decodeFromHex=function(x,C){C.substr(0,2);var D=C.length-2,O=C.substr(2,D/2),$=C.substr(2+D/2,D/2),J=new j(O,16),ce=new j($,16);return new Nt(x,x.fromBigInteger(J),x.fromBigInteger(ce))},Nt.prototype.add2D=function(x){if(this.isInfinity())return x;if(x.isInfinity())return this;if(this.x.equals(x.x))return this.y.equals(x.y)?this.twice():this.curve.getInfinity();var C=x.x.subtract(this.x),D=x.y.subtract(this.y).divide(C),O=D.square().subtract(this.x).subtract(x.x),$=D.multiply(this.x.subtract(O)).subtract(this.y);return new Nt(this.curve,O,$)},Nt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var x=this.curve.fromBigInteger(j.valueOf(2)),C=this.curve.fromBigInteger(j.valueOf(3)),D=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(x)),O=D.square().subtract(this.x.multiply(x)),$=D.multiply(this.x.subtract(O)).subtract(this.y);return new Nt(this.curve,O,$)},Nt.prototype.multiply2D=function(x){if(this.isInfinity())return this;if(0==x.signum())return this.curve.getInfinity();var C,D=x,O=D.multiply(new j("3")),$=this.negate(),J=this;for(C=O.bitLength()-2;C>0;--C){J=J.twice();var ce=O.testBit(C);ce!=D.testBit(C)&&(J=J.add2D(ce?this:$))}return J},Nt.prototype.isOnCurve=function(){var x=this.getX().toBigInteger(),C=this.getY().toBigInteger(),D=this.curve.getA().toBigInteger(),O=this.curve.getB().toBigInteger(),$=this.curve.getQ(),J=C.multiply(C).mod($),ce=x.multiply(x).multiply(x).add(D.multiply(x)).add(O).mod($);return J.equals(ce)},Nt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Nt.prototype.validate=function(){var x=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),D=this.getY().toBigInteger();if(C.compareTo(j.ONE)<0||C.compareTo(x.subtract(j.ONE))>0)throw new Error("x coordinate out of bounds");if(D.compareTo(j.ONE)<0||D.compareTo(x.subtract(j.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(x).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var fn=function(){var x=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),D={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function O(ce,Ae,_e){return Ae?D[Ae]:String.fromCharCode(parseInt(_e,16))}var $=new String(""),J=Object.hasOwnProperty;return function(ce,Ae){var _e,Ee,Fe=ce.match(x),Te=Fe[0],c=!1;"{"===Te?_e={}:"["===Te?_e=[]:(_e=[],c=!0);for(var ze=[_e],Je=1-c,rt=Fe.length;Je<rt;++Je){var tt;switch((Te=Fe[Je]).charCodeAt(0)){default:(tt=ze[0])[Ee||tt.length]=+Te,Ee=void 0;break;case 34:if(-1!==(Te=Te.substring(1,Te.length-1)).indexOf("\\")&&(Te=Te.replace(C,O)),tt=ze[0],!Ee){if(!(tt instanceof Array)){Ee=Te||$;break}Ee=tt.length}tt[Ee]=Te,Ee=void 0;break;case 91:ze.unshift((tt=ze[0])[Ee||tt.length]=[]),Ee=void 0;break;case 93:case 125:ze.shift();break;case 102:(tt=ze[0])[Ee||tt.length]=!1,Ee=void 0;break;case 110:(tt=ze[0])[Ee||tt.length]=null,Ee=void 0;break;case 116:(tt=ze[0])[Ee||tt.length]=!0,Ee=void 0;break;case 123:ze.unshift((tt=ze[0])[Ee||tt.length]={}),Ee=void 0}}if(c){if(1!==ze.length)throw new Error;_e=_e[0]}else if(ze.length)throw new Error;return Ae&&(_e=function he(Ne,Ve){var Le=Ne[Ve];if(Le&&"object"===(void 0===Le?"undefined":m(Le))){var et=null;for(var st in Le)if(J.call(Le,st)&&Le!==Ne){var zt=he(Le,st);void 0!==zt?Le[st]=zt:(et||(et=[]),et.push(st))}if(et)for(var It=et.length;--It>=0;)delete Le[et[It]]}return Ae.call(Ne,Ve,Le)}({"":_e},"")),_e}}();void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.asn1&&Se.asn1||(Se.asn1={}),Se.asn1.ASN1Util=new function(){this.integerToByteHex=function(x){var C=x.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(x){var C=x.toString(16);if("-"!=C.substr(0,1))C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var D=C.substr(1).length;D%2==1?D+=1:C.match(/^[0-7]/)||(D+=2);for(var O="",$=0;$<D;$++)O+="f";C=new j(O,16).xor(x).add(j.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(x,C){return rn(x,C)},this.newObject=function(x){var C=Se.asn1,D=C.ASN1Object,O=C.DERBoolean,$=C.DERInteger,J=C.DERBitString,ce=C.DEROctetString,Ae=C.DERNull,_e=C.DERObjectIdentifier,Ee=C.DEREnumerated,Fe=C.DERUTF8String,Te=C.DERNumericString,c=C.DERPrintableString,ze=C.DERTeletexString,Je=C.DERIA5String,rt=C.DERUTCTime,tt=C.DERGeneralizedTime,he=C.DERVisibleString,Ne=C.DERBMPString,Ve=C.DERSequence,Le=C.DERSet,et=C.DERTaggedObject,st=C.ASN1Util.newObject;if(x instanceof C.ASN1Object)return x;var zt=Object.keys(x);if(1!=zt.length)throw new Error("key of param shall be only one.");var It=zt[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+It+":"))throw new Error("undefined key: "+It);if("bool"==It)return new O(x[It]);if("int"==It)return new $(x[It]);if("bitstr"==It)return new J(x[It]);if("octstr"==It)return new ce(x[It]);if("null"==It)return new Ae(x[It]);if("oid"==It)return new _e(x[It]);if("enum"==It)return new Ee(x[It]);if("utf8str"==It)return new Fe(x[It]);if("numstr"==It)return new Te(x[It]);if("prnstr"==It)return new c(x[It]);if("telstr"==It)return new ze(x[It]);if("ia5str"==It)return new Je(x[It]);if("utctime"==It)return new rt(x[It]);if("gentime"==It)return new tt(x[It]);if("visstr"==It)return new he(x[It]);if("bmpstr"==It)return new Ne(x[It]);if("asn1"==It)return new D(x[It]);if("seq"==It){for(var Cn=x[It],Ut=[],en=0;en<Cn.length;en++){var Zn=st(Cn[en]);Ut.push(Zn)}return new Ve({array:Ut})}if("set"==It){for(Cn=x[It],Ut=[],en=0;en<Cn.length;en++)Zn=st(Cn[en]),Ut.push(Zn);return new Le({array:Ut})}if("tag"==It){var or=x[It];if("[object Array]"===Object.prototype.toString.call(or)&&3==or.length){var nr=st(or[2]);return new et({tag:or[0],explicit:or[1],obj:nr})}return new et(or)}},this.jsonToASN1HEX=function(x){return this.newObject(x).getEncodedHex()}},Se.asn1.ASN1Util.oidHexToInt=function(x){for(var C="",D=parseInt(x.substr(0,2),16),O=(C=Math.floor(D/40)+"."+D%40,""),$=2;$<x.length;$+=2){var J=("00000000"+parseInt(x.substr($,2),16).toString(2)).slice(-8);O+=J.substr(1,7),"0"==J.substr(0,1)&&(C=C+"."+new j(O,2).toString(10),O="")}return C},Se.asn1.ASN1Util.oidIntToHex=function(x){var C=function(_e){var Ee=_e.toString(16);return 1==Ee.length&&(Ee="0"+Ee),Ee},D=function(_e){var Ee="",Fe=new j(_e,10).toString(2),Te=7-Fe.length%7;7==Te&&(Te=0);for(var c="",ze=0;ze<Te;ze++)c+="0";for(Fe=c+Fe,ze=0;ze<Fe.length-1;ze+=7){var Je=Fe.substr(ze,7);ze!=Fe.length-7&&(Je="1"+Je),Ee+=C(parseInt(Je,2))}return Ee};if(!x.match(/^[0-9.]+$/))throw"malformed oid string: "+x;var O="",$=x.split("."),J=40*parseInt($[0])+parseInt($[1]);O+=C(J),$.splice(0,2);for(var ce=0;ce<$.length;ce++)O+=D($[ce]);return O},Se.asn1.ASN1Object=function(x){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,D=C.toString(16);if(D.length%2==1&&(D="0"+D),C<128)return D;var O=D.length/2;if(O>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+O).toString(16)+D},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},null!=x&&null!=x.tlv&&(this.hTLV=x.tlv,this.isModified=!1)},Se.asn1.DERAbstractString=function(x){Se.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=At(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==x&&("string"==typeof x?this.setString(x):void 0!==x.str?this.setString(x.str):void 0!==x.hex&&this.setStringHex(x.hex))},A.lang.extend(Se.asn1.DERAbstractString,Se.asn1.ASN1Object),Se.asn1.DERAbstractTime=function(x){Se.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var D=C.getTime()+6e4*C.getTimezoneOffset();return new Date(D)},this.formatDate=function(C,D,O){var $=this.zeroPadding,J=this.localDateToUTC(C),ce=String(J.getFullYear());"utc"==D&&(ce=ce.substr(2,2));var Ae=ce+$(String(J.getMonth()+1),2)+$(String(J.getDate()),2)+$(String(J.getHours()),2)+$(String(J.getMinutes()),2)+$(String(J.getSeconds()),2);if(!0===O){var _e=J.getMilliseconds();if(0!=_e){var Ee=$(String(_e),3);Ae=Ae+"."+(Ee=Ee.replace(/[0]+$/,""))}}return Ae+"Z"},this.zeroPadding=function(C,D){return C.length>=D?C:new Array(D-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Et(C)},this.setByDateValue=function(C,D,O,$,J,ce){var Ae=new Date(Date.UTC(C,D-1,O,$,J,ce,0));this.setByDate(Ae)},this.getFreshValueHex=function(){return this.hV}},A.lang.extend(Se.asn1.DERAbstractTime,Se.asn1.ASN1Object),Se.asn1.DERAbstractStructured=function(x){Se.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,void 0!==x&&void 0!==x.array&&(this.asn1Array=x.array)},A.lang.extend(Se.asn1.DERAbstractStructured,Se.asn1.ASN1Object),Se.asn1.DERBoolean=function(x){Se.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==x?"010100":"0101ff"},A.lang.extend(Se.asn1.DERBoolean,Se.asn1.ASN1Object),Se.asn1.DERInteger=function(x){Se.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=Se.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var D=new j(String(C),10);this.setByBigInteger(D)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==x&&(void 0!==x.bigint?this.setByBigInteger(x.bigint):void 0!==x.int?this.setByInteger(x.int):"number"==typeof x?this.setByInteger(x):void 0!==x.hex&&this.setValueHex(x.hex))},A.lang.extend(Se.asn1.DERInteger,Se.asn1.ASN1Object),Se.asn1.DERBitString=function(x){if(void 0!==x&&void 0!==x.obj){var C=Se.asn1.ASN1Util.newObject(x.obj);x.hex="00"+C.getEncodedHex()}Se.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(D){this.hTLV=null,this.isModified=!0,this.hV=D},this.setUnusedBitsAndHexValue=function(D,O){if(D<0||7<D)throw"unused bits shall be from 0 to 7: u = "+D;var $="0"+D;this.hTLV=null,this.isModified=!0,this.hV=$+O},this.setByBinaryString=function(D){var O=8-(D=D.replace(/0+$/,"")).length%8;8==O&&(O=0);for(var $=0;$<=O;$++)D+="0";var J="";for($=0;$<D.length-1;$+=8){var ce=D.substr($,8),Ae=parseInt(ce,2).toString(16);1==Ae.length&&(Ae="0"+Ae),J+=Ae}this.hTLV=null,this.isModified=!0,this.hV="0"+O+J},this.setByBooleanArray=function(D){for(var O="",$=0;$<D.length;$++)O+=1==D[$]?"1":"0";this.setByBinaryString(O)},this.newFalseArray=function(D){for(var O=new Array(D),$=0;$<D;$++)O[$]=!1;return O},this.getFreshValueHex=function(){return this.hV},void 0!==x&&("string"==typeof x&&x.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(x):void 0!==x.hex?this.setHexValueIncludingUnusedBits(x.hex):void 0!==x.bin?this.setByBinaryString(x.bin):void 0!==x.array&&this.setByBooleanArray(x.array))},A.lang.extend(Se.asn1.DERBitString,Se.asn1.ASN1Object),Se.asn1.DEROctetString=function(x){if(void 0!==x&&void 0!==x.obj){var C=Se.asn1.ASN1Util.newObject(x.obj);x.hex=C.getEncodedHex()}Se.asn1.DEROctetString.superclass.constructor.call(this,x),this.hT="04"},A.lang.extend(Se.asn1.DEROctetString,Se.asn1.DERAbstractString),Se.asn1.DERNull=function(){Se.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},A.lang.extend(Se.asn1.DERNull,Se.asn1.ASN1Object),Se.asn1.DERObjectIdentifier=function(x){Se.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var D=function($){var J=function(c){var ze=c.toString(16);return 1==ze.length&&(ze="0"+ze),ze},ce=function(c){var ze="",Je=parseInt(c,10).toString(2),rt=7-Je.length%7;7==rt&&(rt=0);for(var tt="",he=0;he<rt;he++)tt+="0";for(Je=tt+Je,he=0;he<Je.length-1;he+=7){var Ne=Je.substr(he,7);he!=Je.length-7&&(Ne="1"+Ne),ze+=J(parseInt(Ne,2))}return ze};try{if(!$.match(/^[0-9.]+$/))return null;var Ae="",_e=$.split("."),Ee=40*parseInt(_e[0],10)+parseInt(_e[1],10);Ae+=J(Ee),_e.splice(0,2);for(var Fe=0;Fe<_e.length;Fe++)Ae+=ce(_e[Fe]);return Ae}catch{return null}}(C);if(null==D)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=D},this.setValueName=function(C){var D=Se.asn1.x509.OID.name2oid(C);if(""===D)throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(D)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){"string"==typeof C?this.setValueNameOrOid(C):void 0!==C.oid?this.setValueNameOrOid(C.oid):void 0!==C.name?this.setValueNameOrOid(C.name):void 0!==C.hex&&this.setValueHex(C.hex)},void 0!==x&&this.setByParam(x)},A.lang.extend(Se.asn1.DERObjectIdentifier,Se.asn1.ASN1Object),Se.asn1.DEREnumerated=function(x){Se.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=Se.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var D=new j(String(C),10);this.setByBigInteger(D)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==x&&(void 0!==x.int?this.setByInteger(x.int):"number"==typeof x?this.setByInteger(x):void 0!==x.hex&&this.setValueHex(x.hex))},A.lang.extend(Se.asn1.DEREnumerated,Se.asn1.ASN1Object),Se.asn1.DERUTF8String=function(x){Se.asn1.DERUTF8String.superclass.constructor.call(this,x),this.hT="0c"},A.lang.extend(Se.asn1.DERUTF8String,Se.asn1.DERAbstractString),Se.asn1.DERNumericString=function(x){Se.asn1.DERNumericString.superclass.constructor.call(this,x),this.hT="12"},A.lang.extend(Se.asn1.DERNumericString,Se.asn1.DERAbstractString),Se.asn1.DERPrintableString=function(x){Se.asn1.DERPrintableString.superclass.constructor.call(this,x),this.hT="13"},A.lang.extend(Se.asn1.DERPrintableString,Se.asn1.DERAbstractString),Se.asn1.DERTeletexString=function(x){Se.asn1.DERTeletexString.superclass.constructor.call(this,x),this.hT="14"},A.lang.extend(Se.asn1.DERTeletexString,Se.asn1.DERAbstractString),Se.asn1.DERIA5String=function(x){Se.asn1.DERIA5String.superclass.constructor.call(this,x),this.hT="16"},A.lang.extend(Se.asn1.DERIA5String,Se.asn1.DERAbstractString),Se.asn1.DERVisibleString=function(x){Se.asn1.DERIA5String.superclass.constructor.call(this,x),this.hT="1a"},A.lang.extend(Se.asn1.DERVisibleString,Se.asn1.DERAbstractString),Se.asn1.DERBMPString=function(x){Se.asn1.DERBMPString.superclass.constructor.call(this,x),this.hT="1e"},A.lang.extend(Se.asn1.DERBMPString,Se.asn1.DERAbstractString),Se.asn1.DERUTCTime=function(x){Se.asn1.DERUTCTime.superclass.constructor.call(this,x),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Et(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Et(this.s)),this.hV},void 0!==x&&(void 0!==x.str?this.setString(x.str):"string"==typeof x&&x.match(/^[0-9]{12}Z$/)?this.setString(x):void 0!==x.hex?this.setStringHex(x.hex):void 0!==x.date&&this.setByDate(x.date))},A.lang.extend(Se.asn1.DERUTCTime,Se.asn1.DERAbstractTime),Se.asn1.DERGeneralizedTime=function(x){Se.asn1.DERGeneralizedTime.superclass.constructor.call(this,x),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Et(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Et(this.s)),this.hV},void 0!==x&&(void 0!==x.str?this.setString(x.str):"string"==typeof x&&x.match(/^[0-9]{14}Z$/)?this.setString(x):void 0!==x.hex?this.setStringHex(x.hex):void 0!==x.date&&this.setByDate(x.date),!0===x.millis&&(this.withMillis=!0))},A.lang.extend(Se.asn1.DERGeneralizedTime,Se.asn1.DERAbstractTime),Se.asn1.DERSequence=function(x){Se.asn1.DERSequence.superclass.constructor.call(this,x),this.hT="30",this.getFreshValueHex=function(){for(var C="",D=0;D<this.asn1Array.length;D++)C+=this.asn1Array[D].getEncodedHex();return this.hV=C,this.hV}},A.lang.extend(Se.asn1.DERSequence,Se.asn1.DERAbstractStructured),Se.asn1.DERSet=function(x){Se.asn1.DERSet.superclass.constructor.call(this,x),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,D=0;D<this.asn1Array.length;D++)C.push(this.asn1Array[D].getEncodedHex());return 1==this.sortFlag&&C.sort(),this.hV=C.join(""),this.hV},void 0!==x&&void 0!==x.sortflag&&0==x.sortflag&&(this.sortFlag=!1)},A.lang.extend(Se.asn1.DERSet,Se.asn1.DERAbstractStructured),Se.asn1.DERTaggedObject=function(x){Se.asn1.DERTaggedObject.superclass.constructor.call(this);var C=Se.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(D,O,$){this.hT=O,this.isExplicit=D,this.asn1Object=$,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=$.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,O),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(D){null!=D.tag&&(this.hT=D.tag),null!=D.explicit&&(this.isExplicit=D.explicit),null!=D.tage&&(this.hT=D.tage,this.isExplicit=!0),null!=D.tagi&&(this.hT=D.tagi,this.isExplicit=!1),null!=D.obj&&(D.obj instanceof C.ASN1Object?(this.asn1Object=D.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==m(D.obj)&&(this.asn1Object=C.ASN1Util.newObject(D.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=x&&this.setByParam(x)},A.lang.extend(Se.asn1.DERTaggedObject,Se.asn1.ASN1Object);var Se,Jn,En,ft=new function(){};function Vt(x){for(var C=new Array,D=0;D<x.length;D++)C[D]=x.charCodeAt(D);return C}function St(x){for(var C="",D=0;D<x.length;D++)C+=String.fromCharCode(x[D]);return C}function Pt(x){for(var C="",D=0;D<x.length;D++){var O=x[D].toString(16);1==O.length&&(O="0"+O),C+=O}return C}function Et(x){return Pt(Vt(x))}function ht(x){return(x=(x=x.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ue(x){return x.length%4==2?x+="==":x.length%4==3&&(x+="="),(x=x.replace(/-/g,"+")).replace(/_/g,"/")}function $e(x){return x.length%2==1&&(x="0"+x),ht(ee(x))}function Ft(x){return ne(Ue(x))}function At(x){return qn(An(x))}function kt(x){return decodeURIComponent(Dn(x))}function gt(x){for(var C="",D=0;D<x.length-1;D+=2)C+=String.fromCharCode(parseInt(x.substr(D,2),16));return C}function Qt(x){for(var C="",D=0;D<x.length;D++)C+=("0"+x.charCodeAt(D).toString(16)).slice(-2);return C}function un(x){return ee(x)}function on(x){return un(x).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Bn(x){return ne(x.replace(/[^0-9A-Za-z\/+=]*/g,""))}function rn(x,C){return"-----BEGIN "+C+"-----\r\n"+on(x)+"\r\n-----END "+C+"-----\r\n"}function dn(x,C){if(-1==x.indexOf("-----BEGIN "))throw"can't find PEM header: "+C;return Bn(x=void 0!==C?(x=x.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(x=x.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function kn(x){var C,D,O,$,J,ce,Ae,_e,Ee,Fe,Te;if(Te=x.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return _e=Te[1],C=parseInt(_e),2===_e.length&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),D=parseInt(Te[2])-1,O=parseInt(Te[3]),$=parseInt(Te[4]),J=parseInt(Te[5]),ce=parseInt(Te[6]),Ae=0,""!==(Ee=Te[7])&&(Fe=(Ee.substr(1)+"00").substr(0,3),Ae=parseInt(Fe)),Date.UTC(C,D,O,$,J,ce,Ae);throw"unsupported zulu format: "+x}function gr(x){return~~(kn(x)/1e3)}function qn(x){return x.replace(/%/g,"")}function Dn(x){return x.replace(/(..)/g,"%$1")}function fr(x){var C="malformed IPv6 address";if(!x.match(/^[0-9A-Fa-f:]+$/))throw C;var D=(x=x.toLowerCase()).split(":").length-1;if(D<2)throw C;var O=":".repeat(7-D+2),$=(x=x.replace("::",O)).split(":");if(8!=$.length)throw C;for(var J=0;J<8;J++)$[J]=("0000"+$[J]).slice(-4);return $.join("")}function hr(x){if(!x.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(x=x.toLowerCase()).match(/.{1,4}/g),D=0;D<8;D++)C[D]=C[D].replace(/^0+/,""),""==C[D]&&(C[D]="0");var O=(x=":"+C.join(":")+":").match(/:(0:){2,}/g);if(null===O)return x.slice(1,-1);var $="";for(D=0;D<O.length;D++)O[D].length>$.length&&($=O[D]);return(x=x.replace($,"::")).slice(1,-1)}function In(x){var C="malformed hex value";if(!x.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(8!=x.length)return 32==x.length?hr(x):x;try{return parseInt(x.substr(0,2),16)+"."+parseInt(x.substr(2,2),16)+"."+parseInt(x.substr(4,2),16)+"."+parseInt(x.substr(6,2),16)}catch{throw C}}function An(x){for(var C=encodeURIComponent(x),D="",O=0;O<C.length;O++)"%"==C[O]?(D+=C.substr(O,3),O+=2):D=D+"%"+Et(C[O]);return D}function Zt(x){return!(x.length%2!=0||!x.match(/^[0-9a-f]+$/)&&!x.match(/^[0-9A-F]+$/))}function na(x){return x.length%2==1?"0"+x:x.substr(0,1)>"7"?"00"+x:x}ft.getLblen=function(x,C){if("8"!=x.substr(C+2,1))return 1;var D=parseInt(x.substr(C+3,1));return 0==D?-1:0<D&&D<10?D+1:-2},ft.getL=function(x,C){var D=ft.getLblen(x,C);return D<1?"":x.substr(C+2,2*D)},ft.getVblen=function(x,C){var D;return""==(D=ft.getL(x,C))?-1:("8"===D.substr(0,1)?new j(D.substr(2),16):new j(D,16)).intValue()},ft.getVidx=function(x,C){var D=ft.getLblen(x,C);return D<0?D:C+2*(D+1)},ft.getV=function(x,C){var D=ft.getVidx(x,C),O=ft.getVblen(x,C);return x.substr(D,2*O)},ft.getTLV=function(x,C){return x.substr(C,2)+ft.getL(x,C)+ft.getV(x,C)},ft.getTLVblen=function(x,C){return 2+2*ft.getLblen(x,C)+2*ft.getVblen(x,C)},ft.getNextSiblingIdx=function(x,C){return ft.getVidx(x,C)+2*ft.getVblen(x,C)},ft.getChildIdx=function(x,C){var D,O,$,J=ft,ce=[];D=J.getVidx(x,C),O=2*J.getVblen(x,C),"03"==x.substr(C,2)&&(D+=2,O-=2),$=0;for(var Ae=D;$<=O;){var _e=J.getTLVblen(x,Ae);if(($+=_e)<=O&&ce.push(Ae),Ae+=_e,$>=O)break}return ce},ft.getNthChildIdx=function(x,C,D){return ft.getChildIdx(x,C)[D]},ft.getIdxbyList=function(x,C,D,O){var $,J,ce=ft;return 0==D.length?void 0!==O&&x.substr(C,2)!==O?-1:C:($=D.shift())>=(J=ce.getChildIdx(x,C)).length?-1:ce.getIdxbyList(x,J[$],D,O)},ft.getIdxbyListEx=function(x,C,D,O){var $,J,ce=ft;if(0==D.length)return void 0!==O&&x.substr(C,2)!==O?-1:C;$=D.shift(),J=ce.getChildIdx(x,C);for(var Ae=0,_e=0;_e<J.length;_e++){var Ee=x.substr(J[_e],2);if("number"==typeof $&&!ce.isContextTag(Ee)&&Ae==$||"string"==typeof $&&ce.isContextTag(Ee,$))return ce.getIdxbyListEx(x,J[_e],D,O);ce.isContextTag(Ee)||Ae++}return-1},ft.getTLVbyList=function(x,C,D,O){var $=ft,J=$.getIdxbyList(x,C,D,O);return-1==J||J>=x.length?null:$.getTLV(x,J)},ft.getTLVbyListEx=function(x,C,D,O){var $=ft,J=$.getIdxbyListEx(x,C,D,O);return-1==J?null:$.getTLV(x,J)},ft.getVbyList=function(x,C,D,O,$){var J,ce,Ae=ft;return-1==(J=Ae.getIdxbyList(x,C,D,O))||J>=x.length?null:(ce=Ae.getV(x,J),!0===$&&(ce=ce.substr(2)),ce)},ft.getVbyListEx=function(x,C,D,O,$){var J,ce,Ae=ft;return-1==(J=Ae.getIdxbyListEx(x,C,D,O))?null:(ce=Ae.getV(x,J),"03"==x.substr(J,2)&&!1!==$&&(ce=ce.substr(2)),ce)},ft.getInt=function(x,C,D){null==D&&(D=-1);try{var O=x.substr(C,2);if("02"!=O&&"03"!=O)return D;var $=ft.getV(x,C);return"02"==O?parseInt($,16):function(ce){try{var Ae=ce.substr(0,2);if("00"==Ae)return parseInt(ce.substr(2),16);var _e=parseInt(Ae,16),Ee=ce.substr(2),Fe=parseInt(Ee,16).toString(2);return"0"==Fe&&(Fe="00000000"),Fe=Fe.slice(0,0-_e),parseInt(Fe,2)}catch{return-1}}($)}catch{return D}},ft.getOID=function(x,C,D){null==D&&(D=null);try{return"06"!=x.substr(C,2)?D:function($){if(!Zt($))return null;try{var J=[],ce=$.substr(0,2),Ae=parseInt(ce,16);J[0]=new String(Math.floor(Ae/40)),J[1]=new String(Ae%40);for(var _e=$.substr(2),Ee=[],Fe=0;Fe<_e.length/2;Fe++)Ee.push(parseInt(_e.substr(2*Fe,2),16));var Te=[],c="";for(Fe=0;Fe<Ee.length;Fe++)128&Ee[Fe]?c+=ti((127&Ee[Fe]).toString(2),7):(c+=ti((127&Ee[Fe]).toString(2),7),Te.push(new String(parseInt(c,2))),c="");var ze=J.join(".");return Te.length>0&&(ze=ze+"."+Te.join(".")),ze}catch{return null}}(ft.getV(x,C))}catch{return D}},ft.getOIDName=function(x,C,D){null==D&&(D=null);try{var O=ft.getOID(x,C,D);if(O==D)return D;var $=Se.asn1.x509.OID.oid2name(O);return""==$?O:$}catch{return D}},ft.getString=function(x,C,D){null==D&&(D=null);try{return gt(ft.getV(x,C))}catch{return D}},ft.hextooidstr=function(x){var C=function(c,ze){return c.length>=ze?c:new Array(ze-c.length+1).join("0")+c},D=[],O=x.substr(0,2),$=parseInt(O,16);D[0]=new String(Math.floor($/40)),D[1]=new String($%40);for(var J=x.substr(2),ce=[],Ae=0;Ae<J.length/2;Ae++)ce.push(parseInt(J.substr(2*Ae,2),16));var _e=[],Ee="";for(Ae=0;Ae<ce.length;Ae++)128&ce[Ae]?Ee+=C((127&ce[Ae]).toString(2),7):(Ee+=C((127&ce[Ae]).toString(2),7),_e.push(new String(parseInt(Ee,2))),Ee="");var Fe=D.join(".");return _e.length>0&&(Fe=Fe+"."+_e.join(".")),Fe},ft.dump=function(x,C,D,O){var $=ft,J=$.getV,ce=$.dump,Ae=$.getChildIdx,_e=x;x instanceof Se.asn1.ASN1Object&&(_e=x.getEncodedHex());var Ee=function(It,Cn){return It.length<=2*Cn?It:It.substr(0,Cn)+"..(total "+It.length/2+"bytes).."+It.substr(It.length-Cn,Cn)};void 0===C&&(C={ommit_long_octet:32}),void 0===D&&(D=0),void 0===O&&(O="");var Fe,Te=C.ommit_long_octet;if("01"==(Fe=_e.substr(D,2)))return"00"==(c=J(_e,D))?O+"BOOLEAN FALSE\n":O+"BOOLEAN TRUE\n";if("02"==Fe)return O+"INTEGER "+Ee(c=J(_e,D),Te)+"\n";if("03"==Fe){var c=J(_e,D);return $.isASN1HEX(c.substr(2))?(ze=O+"BITSTRING, encapsulates\n")+ce(c.substr(2),C,0,O+"  "):O+"BITSTRING "+Ee(c,Te)+"\n"}if("04"==Fe)return c=J(_e,D),$.isASN1HEX(c)?(ze=O+"OCTETSTRING, encapsulates\n",ze+=ce(c,C,0,O+"  ")):O+"OCTETSTRING "+Ee(c,Te)+"\n";if("05"==Fe)return O+"NULL\n";if("06"==Fe){var Je=J(_e,D),rt=Se.asn1.ASN1Util.oidHexToInt(Je),tt=Se.asn1.x509.OID.oid2name(rt),he=rt.replace(/\./g," ");return""!=tt?O+"ObjectIdentifier "+tt+" ("+he+")\n":O+"ObjectIdentifier ("+he+")\n"}if("0a"==Fe)return O+"ENUMERATED "+parseInt(J(_e,D))+"\n";if("0c"==Fe)return O+"UTF8String '"+kt(J(_e,D))+"'\n";if("13"==Fe)return O+"PrintableString '"+kt(J(_e,D))+"'\n";if("14"==Fe)return O+"TeletexString '"+kt(J(_e,D))+"'\n";if("16"==Fe)return O+"IA5String '"+kt(J(_e,D))+"'\n";if("17"==Fe)return O+"UTCTime "+kt(J(_e,D))+"\n";if("18"==Fe)return O+"GeneralizedTime "+kt(J(_e,D))+"\n";if("1a"==Fe)return O+"VisualString '"+kt(J(_e,D))+"'\n";if("1e"==Fe)return O+"BMPString '"+kt(J(_e,D))+"'\n";if("30"==Fe){if("3000"==_e.substr(D,4))return O+"SEQUENCE {}\n";ze=O+"SEQUENCE\n";var Ne=C;if((2==(et=Ae(_e,D)).length||3==et.length)&&"06"==_e.substr(et[0],2)&&"04"==_e.substr(et[et.length-1],2)){tt=$.oidname(J(_e,et[0]));var Ve=JSON.parse(JSON.stringify(C));Ve.x509ExtName=tt,Ne=Ve}for(var Le=0;Le<et.length;Le++)ze+=ce(_e,Ne,et[Le],O+"  ");return ze}if("31"==Fe){ze=O+"SET\n";var et=Ae(_e,D);for(Le=0;Le<et.length;Le++)ze+=ce(_e,C,et[Le],O+"  ");return ze}if(128&(Fe=parseInt(Fe,16))){var ze,st=31&Fe;if(32&Fe){for(ze=O+"["+st+"]\n",et=Ae(_e,D),Le=0;Le<et.length;Le++)ze+=ce(_e,C,et[Le],O+"  ");return ze}return c=J(_e,D),ft.isASN1HEX(c)?(ze=O+"["+st+"]\n")+ce(c,C,0,O+"  "):(("68747470"==c.substr(0,8)||"subjectAltName"===C.x509ExtName&&2==st)&&(c=kt(c)),O+"["+st+"] "+c+"\n")}return O+"UNKNOWN("+Fe+") "+J(_e,D)+"\n"},ft.isContextTag=function(x,C){var D,O;x=x.toLowerCase();try{D=parseInt(x,16)}catch{return-1}if(void 0===C)return 128==(192&D);try{return null!=C.match(/^\[[0-9]+\]$/)&&!((O=parseInt(C.substr(1,C.length-1),10))>31)&&128==(192&D)&&(31&D)==O}catch{return!1}},ft.isASN1HEX=function(x){var C=ft;if(x.length%2==1)return!1;var D=C.getVblen(x,0),O=x.substr(0,2),$=C.getL(x,0);return x.length-O.length-$.length==2*D},ft.checkStrictDER=function(x,C,D,O,$){var J=ft;if(void 0===D){if("string"!=typeof x)throw new Error("not hex string");if(x=x.toLowerCase(),!Se.lang.String.isHex(x))throw new Error("not hex string");D=x.length,$=(O=x.length/2)<128?1:Math.ceil(O.toString(16))+1}if(J.getL(x,C).length>2*$)throw new Error("L of TLV too long: idx="+C);var ce=J.getVblen(x,C);if(ce>O)throw new Error("value of L too long than hex: idx="+C);var Ae=J.getTLV(x,C),_e=Ae.length-2-J.getL(x,C).length;if(_e!==2*ce)throw new Error("V string length and L's value not the same:"+_e+"/"+2*ce);if(0===C&&x.length!=Ae.length)throw new Error("total length and TLV length unmatch:"+x.length+"!="+Ae.length);var Ee=x.substr(C,2);if("02"===Ee){var Fe=J.getVidx(x,C);if("00"==x.substr(Fe,2)&&x.charCodeAt(Fe+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Ee,16)){for(var Te=J.getVblen(x,C),c=0,ze=J.getChildIdx(x,C),Je=0;Je<ze.length;Je++)c+=J.getTLV(x,ze[Je]).length,J.checkStrictDER(x,ze[Je],D,O,$);if(2*Te!=c)throw new Error("sum of children's TLV length and L unmatch: "+2*Te+"!="+c)}},ft.oidname=function(x){var C=Se.asn1;Se.lang.String.isHex(x)&&(x=C.ASN1Util.oidHexToInt(x));var D=C.x509.OID.oid2name(x);return""===D&&(D=x),D},void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.lang&&Se.lang||(Se.lang={}),Se.lang.String=function(){},"function"==typeof a?(b.utf8tob64u=Jn=function(C){return ht(a.from(C,"utf8").toString("base64"))},b.b64utoutf8=En=function(C){return a.from(Ue(C),"base64").toString("utf8")}):(b.utf8tob64u=Jn=function(C){return $e(qn(An(C)))},b.b64utoutf8=En=function(C){return decodeURIComponent(Dn(Ft(C)))}),Se.lang.String.isInteger=function(x){return!!x.match(/^[0-9]+$/)||!!x.match(/^-[0-9]+$/)},Se.lang.String.isHex=function(x){return Zt(x)},Se.lang.String.isBase64=function(x){return!(!(x=x.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||x.length%4!=0)},Se.lang.String.isBase64URL=function(x){return!x.match(/[+/=]/)&&(x=Ue(x),Se.lang.String.isBase64(x))},Se.lang.String.isIntegerArray=function(x){return!!(x=x.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},Se.lang.String.isPrintable=function(x){return null!==x.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},Se.lang.String.isIA5=function(x){return null!==x.match(/^[\x20-\x21\x23-\x7f]*$/)},Se.lang.String.isMail=function(x){return null!==x.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var ti=function(C,D,O){return null==O&&(O="0"),C.length>=D?C:new Array(D-C.length+1).join(O)+C};void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.crypto&&Se.crypto||(Se.crypto={}),Se.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:R.algo.MD5,sha1:R.algo.SHA1,sha224:R.algo.SHA224,sha256:R.algo.SHA256,sha384:R.algo.SHA384,sha512:R.algo.SHA512,ripemd160:R.algo.RIPEMD160},this.getDigestInfoHex=function(x,C){if(void 0===this.DIGESTINFOHEAD[C])throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+x},this.getPaddedDigestInfoHex=function(x,C,D){var O=this.getDigestInfoHex(x,C),$=D/4;if(O.length+22>$)throw"key is too short for SigAlg: keylen="+D+","+C;for(var J="0001",ce="00"+O,Ae="",_e=$-4-ce.length,Ee=0;Ee<_e;Ee+=2)Ae+="ff";return J+Ae+ce},this.hashString=function(x,C){return new Se.crypto.MessageDigest({alg:C}).digestString(x)},this.hashHex=function(x,C){return new Se.crypto.MessageDigest({alg:C}).digestHex(x)},this.sha1=function(x){return this.hashString(x,"sha1")},this.sha256=function(x){return this.hashString(x,"sha256")},this.sha256Hex=function(x){return this.hashHex(x,"sha256")},this.sha512=function(x){return this.hashString(x,"sha512")},this.sha512Hex=function(x){return this.hashHex(x,"sha512")},this.isKey=function(x){return x instanceof bt||x instanceof Se.crypto.DSA||x instanceof Se.crypto.ECDSA}},Se.crypto.Util.md5=function(x){return new Se.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(x)},Se.crypto.Util.ripemd160=function(x){return new Se.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(x)},Se.crypto.Util.SECURERANDOMGEN=new je,Se.crypto.Util.getRandomHexOfNbytes=function(x){var C=new Array(x);return Se.crypto.Util.SECURERANDOMGEN.nextBytes(C),Pt(C)},Se.crypto.Util.getRandomBigIntegerOfNbytes=function(x){return new j(Se.crypto.Util.getRandomHexOfNbytes(x),16)},Se.crypto.Util.getRandomHexOfNbits=function(x){var C=x%8,D=new Array((x-C)/8+1);return Se.crypto.Util.SECURERANDOMGEN.nextBytes(D),D[0]=(255<<C&255^255)&D[0],Pt(D)},Se.crypto.Util.getRandomBigIntegerOfNbits=function(x){return new j(Se.crypto.Util.getRandomHexOfNbits(x),16)},Se.crypto.Util.getRandomBigIntegerZeroToMax=function(x){for(var C=x.bitLength();;){var D=Se.crypto.Util.getRandomBigIntegerOfNbits(C);if(-1!=x.compareTo(D))return D}},Se.crypto.Util.getRandomBigIntegerMinToMax=function(x,C){var D=x.compareTo(C);if(1==D)throw"biMin is greater than biMax";if(0==D)return x;var O=C.subtract(x);return Se.crypto.Util.getRandomBigIntegerZeroToMax(O).add(x)},Se.crypto.MessageDigest=function(x){this.setAlgAndProvider=function(C,D){if(null!==(C=Se.crypto.MessageDigest.getCanonicalAlgName(C))&&void 0===D&&(D=Se.crypto.Util.DEFAULTPROVIDER[C]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)&&"cryptojs"==D){try{this.md=Se.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(O){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+O}this.updateString=function(O){this.md.update(O)},this.updateHex=function(O){var $=R.enc.Hex.parse(O);this.md.update($)},this.digest=function(){return this.md.finalize().toString(R.enc.Hex)},this.digestString=function(O){return this.updateString(O),this.digest()},this.digestHex=function(O){return this.updateHex(O),this.digest()}}if(-1!=":sha256:".indexOf(C)&&"sjcl"==D){try{this.md=new sjcl.hash.sha256}catch(O){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+O}this.updateString=function(O){this.md.update(O)},this.updateHex=function(O){var $=sjcl.codec.hex.toBits(O);this.md.update($)},this.digest=function(){var O=this.md.finalize();return sjcl.codec.hex.fromBits(O)},this.digestString=function(O){return this.updateString(O),this.digest()},this.digestHex=function(O){return this.updateHex(O),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==x&&void 0!==x.alg&&(this.algName=x.alg,void 0===x.prov&&(this.provName=Se.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Se.crypto.MessageDigest.getCanonicalAlgName=function(x){return"string"==typeof x&&(x=(x=x.toLowerCase()).replace(/-/,"")),x},Se.crypto.MessageDigest.getHashLength=function(x){var C=Se.crypto.MessageDigest,D=C.getCanonicalAlgName(x);if(void 0===C.HASHLENGTH[D])throw"not supported algorithm: "+x;return C.HASHLENGTH[D]},Se.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Se.crypto.Mac=function(x){this.setAlgAndProvider=function(C,D){if(null==(C=C.toLowerCase())&&(C="hmacsha1"),"hmac"!=(C=C.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+C;void 0===D&&(D=Se.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+D;var O=C.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(O)&&"cryptojs"==D){try{this.mac=R.algo.HMAC.create(Se.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[O],this.pass)}catch(J){throw"setAlgAndProvider hash alg set fail hashAlg="+O+"/"+J}this.updateString=function(J){this.mac.update(J)},this.updateHex=function(J){var ce=R.enc.Hex.parse(J);this.mac.update(ce)},this.doFinal=function(){return this.mac.finalize().toString(R.enc.Hex)},this.doFinalString=function(J){return this.updateString(J),this.doFinal()},this.doFinalHex=function(J){return this.updateHex(J),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if("string"==typeof C){var D=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(D=Qt(C)),void(this.pass=R.enc.Hex.parse(D))}if("object"!=(void 0===C?"undefined":m(C)))throw"KJUR.crypto.Mac unsupported password type: "+C;if(D=null,void 0!==C.hex){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;D=C.hex}if(void 0!==C.utf8&&(D=At(C.utf8)),void 0!==C.rstr&&(D=Qt(C.rstr)),void 0!==C.b64&&(D=ne(C.b64)),void 0!==C.b64u&&(D=Ft(C.b64u)),null==D)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=R.enc.Hex.parse(D)},void 0!==x&&(void 0!==x.pass&&this.setPassword(x.pass),void 0!==x.alg&&(this.algName=x.alg,void 0===x.prov&&(this.provName=Se.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Se.crypto.Signature=function(x){var C=null;if(this._setAlgNames=function(){var D=this.algName.match(/^(.+)with(.+)$/);D&&(this.mdAlgName=D[1].toLowerCase(),this.pubkeyAlgName=D[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(D,O){for(var $="",J=O/4-D.length,ce=0;ce<J;ce++)$+="0";return $+D},this.setAlgAndProvider=function(D,O){if(this._setAlgNames(),"cryptojs/jsrsa"!=O)throw new Error("provider not supported: "+O);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new Se.crypto.MessageDigest({alg:this.mdAlgName})}catch($){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+$)}this.init=function($,J){var ce=null;try{ce=void 0===J?Gn.getKey($):Gn.getKey($,J)}catch(Ae){throw"init failed:"+Ae}if(!0===ce.isPrivate)this.prvKey=ce,this.state="SIGN";else{if(!0!==ce.isPublic)throw"init failed.:"+ce;this.pubKey=ce,this.state="VERIFY"}},this.updateString=function($){this.md.updateString($)},this.updateHex=function($){this.md.updateHex($)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==Se.crypto.ECDSA&&(this.prvKey=new Se.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof bt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof bt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Se.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Se.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function($){return this.updateString($),this.sign()},this.signHex=function($){return this.updateHex($),this.sign()},this.verify=function($){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==Se.crypto.ECDSA&&(this.pubKey=new Se.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof bt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,$,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof bt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,$);if(void 0!==Se.crypto.ECDSA&&this.pubKey instanceof Se.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,$);if(void 0!==Se.crypto.DSA&&this.pubKey instanceof Se.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,$);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(D,O){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(D){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(D){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(D){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(D){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(D){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=x,void 0!==x&&(void 0!==x.alg&&(this.algName=x.alg,this.provName=void 0===x.prov?Se.crypto.Util.DEFAULTPROVIDER[this.algName]:x.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==x.psssaltlen&&(this.pssSaltLen=x.psssaltlen),void 0!==x.prvkeypem)){if(void 0!==x.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{C=Gn.getKey(x.prvkeypem),this.init(C)}catch(D){throw"fatal error to load pem private key: "+D}}},Se.crypto.Cipher=function(x){},Se.crypto.Cipher.encrypt=function(x,C,D){if(C instanceof bt&&C.isPublic){var O=Se.crypto.Cipher.getAlgByKeyAndName(C,D);if("RSA"===O)return C.encrypt(x);if("RSAOAEP"===O)return C.encryptOAEP(x,"sha1");var $=O.match(/^RSAOAEP(\d+)$/);if(null!==$)return C.encryptOAEP(x,"sha"+$[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+D}throw"Cipher.encrypt: unsupported key or algorithm"},Se.crypto.Cipher.decrypt=function(x,C,D){if(C instanceof bt&&C.isPrivate){var O=Se.crypto.Cipher.getAlgByKeyAndName(C,D);if("RSA"===O)return C.decrypt(x);if("RSAOAEP"===O)return C.decryptOAEP(x,"sha1");var $=O.match(/^RSAOAEP(\d+)$/);if(null!==$)return C.decryptOAEP(x,"sha"+$[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+D}throw"Cipher.decrypt: unsupported key or algorithm"},Se.crypto.Cipher.getAlgByKeyAndName=function(x,C){if(x instanceof bt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C))return C;if(null==C)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},Se.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.crypto&&Se.crypto||(Se.crypto={}),Se.crypto.ECDSA=function(x){var C=Error,D=j,O=Nt,$=Se.crypto.ECDSA,J=Se.crypto.ECParameterDB,ce=$.getName,_e=ft.getVbyListEx,Ee=ft.isASN1HEX,Fe=new je;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Te){return new D(Te.bitLength(),Fe).mod(Te.subtract(D.ONE)).add(D.ONE)},this.setNamedCurve=function(Te){this.ecparams=J.getByName(Te),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Te},this.setPrivateKeyHex=function(Te){this.isPrivate=!0,this.prvKeyHex=Te},this.setPublicKeyHex=function(Te){this.isPublic=!0,this.pubKeyHex=Te},this.getPublicKeyXYHex=function(){var Te=this.pubKeyHex;if("04"!==Te.substr(0,2))throw"this method supports uncompressed format(04) only";var c=this.ecparams.keylen/4;if(Te.length!==2+2*c)throw"malformed public key hex length";var ze={};return ze.x=Te.substr(2,c),ze.y=Te.substr(2+c),ze},this.getShortNISTPCurveName=function(){var Te=this.curveName;return"secp256r1"===Te||"NIST P-256"===Te||"P-256"===Te||"prime256v1"===Te?"P-256":"secp384r1"===Te||"NIST P-384"===Te||"P-384"===Te?"P-384":null},this.generateKeyPairHex=function(){var c=this.getBigRandom(this.ecparams.n),ze=this.ecparams.G.multiply(c),Je=ze.getX().toBigInteger(),rt=ze.getY().toBigInteger(),tt=this.ecparams.keylen/4,he=("0000000000"+c.toString(16)).slice(-tt),Ne="04"+("0000000000"+Je.toString(16)).slice(-tt)+("0000000000"+rt.toString(16)).slice(-tt);return this.setPrivateKeyHex(he),this.setPublicKeyHex(Ne),{ecprvhex:he,ecpubhex:Ne}},this.signWithMessageHash=function(Te){return this.signHex(Te,this.prvKeyHex)},this.signHex=function(Te,c){var ze=new D(c,16),Je=this.ecparams.n,rt=new D(Te.substring(0,this.ecparams.keylen/4),16);do{var tt=this.getBigRandom(Je),he=this.ecparams.G.multiply(tt).getX().toBigInteger().mod(Je)}while(he.compareTo(D.ZERO)<=0);var Ne=tt.modInverse(Je).multiply(rt.add(ze.multiply(he))).mod(Je);return $.biRSSigToASN1Sig(he,Ne)},this.sign=function(Te,c){var ze=c,Je=this.ecparams.n,rt=D.fromByteArrayUnsigned(Te);do{var tt=this.getBigRandom(Je),he=this.ecparams.G.multiply(tt).getX().toBigInteger().mod(Je)}while(he.compareTo(j.ZERO)<=0);var Ne=tt.modInverse(Je).multiply(rt.add(ze.multiply(he))).mod(Je);return this.serializeSig(he,Ne)},this.verifyWithMessageHash=function(Te,c){return this.verifyHex(Te,c,this.pubKeyHex)},this.verifyHex=function(Te,c,ze){try{var Je,rt,tt=$.parseSigHex(c);Je=tt.r,rt=tt.s;var he=O.decodeFromHex(this.ecparams.curve,ze),Ne=new D(Te.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ne,Je,rt,he)}catch{return!1}},this.verify=function(Te,c,ze){var Je,rt,tt;if(Bitcoin.Util.isArray(c)){var he=this.parseSig(c);Je=he.r,rt=he.s}else{if("object"!==(void 0===c?"undefined":m(c))||!c.r||!c.s)throw"Invalid value for signature";Je=c.r,rt=c.s}if(ze instanceof Nt)tt=ze;else{if(!Bitcoin.Util.isArray(ze))throw"Invalid format for pubkey value, must be byte array or ECPointFp";tt=O.decodeFrom(this.ecparams.curve,ze)}var Ne=D.fromByteArrayUnsigned(Te);return this.verifyRaw(Ne,Je,rt,tt)},this.verifyRaw=function(Te,c,ze,Je){var rt=this.ecparams.n,tt=this.ecparams.G;if(c.compareTo(D.ONE)<0||c.compareTo(rt)>=0||ze.compareTo(D.ONE)<0||ze.compareTo(rt)>=0)return!1;var he=ze.modInverse(rt),Ne=Te.multiply(he).mod(rt),Ve=c.multiply(he).mod(rt);return tt.multiply(Ne).add(Je.multiply(Ve)).getX().toBigInteger().mod(rt).equals(c)},this.serializeSig=function(Te,c){var ze=Te.toByteArraySigned(),Je=c.toByteArraySigned(),rt=[];return rt.push(2),rt.push(ze.length),(rt=rt.concat(ze)).push(2),rt.push(Je.length),(rt=rt.concat(Je)).unshift(rt.length),rt.unshift(48),rt},this.parseSig=function(Te){var c;if(48!=Te[0])throw new Error("Signature not a valid DERSequence");if(2!=Te[c=2])throw new Error("First element in signature must be a DERInteger");var ze=Te.slice(c+2,c+2+Te[c+1]);if(2!=Te[c+=2+Te[c+1]])throw new Error("Second element in signature must be a DERInteger");var Je=Te.slice(c+2,c+2+Te[c+1]);return c+=2+Te[c+1],{r:D.fromByteArrayUnsigned(ze),s:D.fromByteArrayUnsigned(Je)}},this.parseSigCompact=function(Te){if(65!==Te.length)throw"Signature has the wrong length";var c=Te[0]-27;if(c<0||c>7)throw"Invalid signature type";var ze=this.ecparams.n;return{r:D.fromByteArrayUnsigned(Te.slice(1,33)).mod(ze),s:D.fromByteArrayUnsigned(Te.slice(33,65)).mod(ze),i:c}},this.readPKCS5PrvKeyHex=function(Te){if(!1===Ee(Te))throw new Error("not ASN.1 hex string");var c,ze,Je;try{c=_e(Te,0,["[0]",0],"06"),ze=_e(Te,0,[1],"04");try{Je=_e(Te,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=ce(c),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je),this.setPrivateKeyHex(ze),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Te){if(!1===Ee(Te))throw new C("not ASN.1 hex string");var c,ze,Je;try{_e(Te,0,[1,0],"06"),c=_e(Te,0,[1,1],"06"),ze=_e(Te,0,[2,0,1],"04");try{Je=_e(Te,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=ce(c),void 0===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je),this.setPrivateKeyHex(ze),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Te){if(!1===Ee(Te))throw new C("not ASN.1 hex string");var c,ze;try{_e(Te,0,[0,0],"06"),c=_e(Te,0,[0,1],"06"),ze=_e(Te,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=ce(c),null===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ze)},this.readCertPubKeyHex=function(Te,c){if(!1===Ee(Te))throw new C("not ASN.1 hex string");var ze,Je;try{ze=_e(Te,0,[0,5,0,1],"06"),Je=_e(Te,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=ce(ze),null===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je)},void 0!==x&&void 0!==x.curve&&(this.curveName=x.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==x&&(void 0!==x.prv&&this.setPrivateKeyHex(x.prv),void 0!==x.pub&&this.setPublicKeyHex(x.pub))},Se.crypto.ECDSA.parseSigHex=function(x){var C=Se.crypto.ECDSA.parseSigHexInHexRS(x);return{r:new j(C.r,16),s:new j(C.s,16)}},Se.crypto.ECDSA.parseSigHexInHexRS=function(x){var D=ft.getChildIdx,O=ft.getV;if(ft.checkStrictDER(x,0),"30"!=x.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var $=D(x,0);if(2!=$.length)throw new Error("signature shall have two elements");var J=$[0],ce=$[1];if("02"!=x.substr(J,2))throw new Error("1st item not ASN.1 integer");if("02"!=x.substr(ce,2))throw new Error("2nd item not ASN.1 integer");return{r:O(x,J),s:O(x,ce)}},Se.crypto.ECDSA.asn1SigToConcatSig=function(x){var C=Se.crypto.ECDSA.parseSigHexInHexRS(x),D=C.r,O=C.s;if("00"==D.substr(0,2)&&D.length%32==2&&(D=D.substr(2)),"00"==O.substr(0,2)&&O.length%32==2&&(O=O.substr(2)),D.length%32==30&&(D="00"+D),O.length%32==30&&(O="00"+O),D.length%32!=0)throw"unknown ECDSA sig r length error";if(O.length%32!=0)throw"unknown ECDSA sig s length error";return D+O},Se.crypto.ECDSA.concatSigToASN1Sig=function(x){if(x.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=x.substr(0,x.length/2),D=x.substr(x.length/2);return Se.crypto.ECDSA.hexRSSigToASN1Sig(C,D)},Se.crypto.ECDSA.hexRSSigToASN1Sig=function(x,C){var D=new j(x,16),O=new j(C,16);return Se.crypto.ECDSA.biRSSigToASN1Sig(D,O)},Se.crypto.ECDSA.biRSSigToASN1Sig=function(x,C){var D=Se.asn1,O=new D.DERInteger({bigint:x}),$=new D.DERInteger({bigint:C});return new D.DERSequence({array:[O,$]}).getEncodedHex()},Se.crypto.ECDSA.getName=function(x){return"2b8104001f"===x?"secp192k1":"2a8648ce3d030107"===x?"secp256r1":"2b8104000a"===x?"secp256k1":"2b81040021"===x?"secp224r1":"2b81040022"===x?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(x)?"secp256r1":-1!=="|secp256k1|".indexOf(x)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(x)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(x)?"secp384r1":null},void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.crypto&&Se.crypto||(Se.crypto={}),Se.crypto.ECParameterDB=new function(){var x={},C={};function D(O){return new j(O,16)}this.getByName=function(O){var $=O;if(void 0!==C[$]&&($=C[O]),void 0!==x[$])return x[$];throw"unregistered EC curve name: "+$},this.regist=function(O,$,J,ce,Ae,_e,Ee,Fe,Te,c,ze,Je){x[O]={};var rt=D(J),tt=D(ce),he=D(Ae),Ne=D(_e),Ve=D(Ee),Le=new nn(rt,tt,he),et=Le.decodePointHex("04"+Fe+Te);x[O].name=O,x[O].keylen=$,x[O].curve=Le,x[O].G=et,x[O].n=Ne,x[O].h=Ve,x[O].oid=ze,x[O].info=Je;for(var st=0;st<c.length;st++)C[c[st]]=O}},Se.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),Se.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),Se.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),Se.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),Se.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),Se.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),Se.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),Se.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),Se.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),Se.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Gn=function(){var x=function(Ee,Fe,Te){return C(R.AES,Ee,Fe,Te)},C=function(Ee,Fe,Te,c){var ze=R.enc.Hex.parse(Fe),Je=R.enc.Hex.parse(Te),rt=R.enc.Hex.parse(c),tt={};tt.key=Je,tt.iv=rt,tt.ciphertext=ze;var he=Ee.decrypt(tt,Je,{iv:rt});return R.enc.Hex.stringify(he)},D=function(Ee,Fe,Te){return O(R.AES,Ee,Fe,Te)},O=function(Ee,Fe,Te,c){var ze=R.enc.Hex.parse(Fe),Je=R.enc.Hex.parse(Te),rt=R.enc.Hex.parse(c),tt=Ee.encrypt(ze,Je,{iv:rt}),he=R.enc.Hex.parse(tt.toString());return R.enc.Base64.stringify(he)},$={"AES-256-CBC":{proc:x,eproc:D,keylen:32,ivlen:16},"AES-192-CBC":{proc:x,eproc:D,keylen:24,ivlen:16},"AES-128-CBC":{proc:x,eproc:D,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Ee,Fe,Te){return C(R.TripleDES,Ee,Fe,Te)},eproc:function(Ee,Fe,Te){return O(R.TripleDES,Ee,Fe,Te)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Ee,Fe,Te){return C(R.DES,Ee,Fe,Te)},eproc:function(Ee,Fe,Te){return O(R.DES,Ee,Fe,Te)},keylen:8,ivlen:8}},J=function(Ee){var Fe={},Te=Ee.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Te&&(Fe.cipher=Te[1],Fe.ivsalt=Te[2]);var c=Ee.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));c&&(Fe.type=c[1]);var ze=-1,Je=0;-1!=Ee.indexOf("\r\n\r\n")&&(ze=Ee.indexOf("\r\n\r\n"),Je=2),-1!=Ee.indexOf("\n\n")&&(ze=Ee.indexOf("\n\n"),Je=1);var rt=Ee.indexOf("-----END");if(-1!=ze&&-1!=rt){var tt=Ee.substring(ze+2*Je,rt-Je);tt=tt.replace(/\s+/g,""),Fe.data=tt}return Fe},ce=function(Ee,Fe,Te){for(var c=Te.substring(0,16),ze=R.enc.Hex.parse(c),Je=R.enc.Utf8.parse(Fe),rt=$[Ee].keylen+$[Ee].ivlen,tt="",he=null;;){var Ne=R.algo.MD5.create();if(null!=he&&Ne.update(he),Ne.update(Je),Ne.update(ze),he=Ne.finalize(),(tt+=R.enc.Hex.stringify(he)).length>=2*rt)break}var Ve={};return Ve.keyhex=tt.substr(0,2*$[Ee].keylen),Ve.ivhex=tt.substr(2*$[Ee].keylen,2*$[Ee].ivlen),Ve},Ae=function(Ee,Fe,Te,c){var ze=R.enc.Base64.parse(Ee),Je=R.enc.Hex.stringify(ze);return(0,$[Fe].proc)(Je,Te,c)};return{version:"1.0.0",parsePKCS5PEM:function(Ee){return J(Ee)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Ee,Fe,Te){return ce(Ee,Fe,Te)},decryptKeyB64:function(Ee,Fe,Te,c){return Ae(Ee,Fe,Te,c)},getDecryptedKeyHex:function(Ee,Fe){var Te=J(Ee),c=Te.cipher,ze=Te.ivsalt,Je=Te.data,rt=ce(c,Fe,ze).keyhex;return Ae(Je,c,rt,ze)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Ee,Fe,Te,c,ze){var he,Ne,Je="";if(void 0!==c&&null!=c||(c="AES-256-CBC"),void 0===$[c])throw"KEYUTIL unsupported algorithm: "+c;void 0!==ze&&null!=ze||(ze=(he=$[c].ivlen,Ne=R.lib.WordArray.random(he),R.enc.Hex.stringify(Ne)).toUpperCase());var rt=function(he,Ne,Ve,Le){return(0,$[Ne].eproc)(he,Ve,Le)}(Fe,c,ce(c,Te,ze).keyhex,ze);return Je="-----BEGIN "+Ee+" PRIVATE KEY-----\r\n",Je+="Proc-Type: 4,ENCRYPTED\r\n",Je+="DEK-Info: "+c+","+ze+"\r\n",Je+="\r\n",(Je+=rt.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+Ee+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(Ee){var Te=ft.getChildIdx,c=ft.getV,ze={},Je=Te(Ee,0);if(2!=Je.length)throw"malformed format: SEQUENCE(0).items != 2: "+Je.length;ze.ciphertext=c(Ee,Je[1]);var rt=Te(Ee,Je[0]);if(2!=rt.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+rt.length;if("2a864886f70d01050d"!=c(Ee,rt[0]))throw"this only supports pkcs5PBES2";var tt=Te(Ee,rt[1]);if(2!=rt.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+tt.length;var he=Te(Ee,tt[1]);if(2!=he.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+he.length;if("2a864886f70d0307"!=c(Ee,he[0]))throw"this only supports TripleDES";ze.encryptionSchemeAlg="TripleDES",ze.encryptionSchemeIV=c(Ee,he[1]);var Ne=Te(Ee,tt[0]);if(2!=Ne.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ne.length;if("2a864886f70d01050c"!=c(Ee,Ne[0]))throw"this only supports pkcs5PBKDF2";var Ve=Te(Ee,Ne[1]);if(Ve.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ve.length;ze.pbkdf2Salt=c(Ee,Ve[0]);var Le=c(Ee,Ve[1]);try{ze.pbkdf2Iter=parseInt(Le,16)}catch{throw"malformed format pbkdf2Iter: "+Le}return ze},getPBKDF2KeyHexFromParam:function(Ee,Fe){var Te=R.enc.Hex.parse(Ee.pbkdf2Salt),ze=R.PBKDF2(Fe,Te,{keySize:6,iterations:Ee.pbkdf2Iter});return R.enc.Hex.stringify(ze)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Ee,Fe){var Te=dn(Ee,"ENCRYPTED PRIVATE KEY"),c=this.parseHexOfEncryptedPKCS8(Te),ze=Gn.getPBKDF2KeyHexFromParam(c,Fe),Je={};Je.ciphertext=R.enc.Hex.parse(c.ciphertext);var rt=R.enc.Hex.parse(ze),tt=R.enc.Hex.parse(c.encryptionSchemeIV),he=R.TripleDES.decrypt(Je,rt,{iv:tt});return R.enc.Hex.stringify(he)},getKeyFromEncryptedPKCS8PEM:function(Ee,Fe){var Te=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Ee,Fe);return this.getKeyFromPlainPrivatePKCS8Hex(Te)},parsePlainPrivatePKCS8Hex:function(Ee){var Fe=ft,Te=Fe.getChildIdx,c=Fe.getV,ze={algparam:null};if("30"!=Ee.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var Je=Te(Ee,0);if(3!=Je.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=Ee.substr(Je[1],2))throw"malformed PKCS8 private key(code:003)";var rt=Te(Ee,Je[1]);if(2!=rt.length)throw"malformed PKCS8 private key(code:004)";if("06"!=Ee.substr(rt[0],2))throw"malformed PKCS8 private key(code:005)";if(ze.algoid=c(Ee,rt[0]),"06"==Ee.substr(rt[1],2)&&(ze.algparam=c(Ee,rt[1])),"04"!=Ee.substr(Je[2],2))throw"malformed PKCS8 private key(code:006)";return ze.keyidx=Fe.getVidx(Ee,Je[2]),ze},getKeyFromPlainPrivatePKCS8PEM:function(Ee){var Fe=dn(Ee,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Fe)},getKeyFromPlainPrivatePKCS8Hex:function(Ee){var Fe,Te=this.parsePlainPrivatePKCS8Hex(Ee);if("2a864886f70d010101"==Te.algoid)Fe=new bt;else if("2a8648ce380401"==Te.algoid)Fe=new Se.crypto.DSA;else{if("2a8648ce3d0201"!=Te.algoid)throw"unsupported private key algorithm";Fe=new Se.crypto.ECDSA}return Fe.readPKCS8PrvKeyHex(Ee),Fe},_getKeyFromPublicPKCS8Hex:function(Ee){var Fe,Te=ft.getVbyList(Ee,0,[0,0],"06");if("2a864886f70d010101"===Te)Fe=new bt;else if("2a8648ce380401"===Te)Fe=new Se.crypto.DSA;else{if("2a8648ce3d0201"!==Te)throw"unsupported PKCS#8 public key hex";Fe=new Se.crypto.ECDSA}return Fe.readPKCS8PubKeyHex(Ee),Fe},parsePublicRawRSAKeyHex:function(Ee){var Te=ft.getChildIdx,c=ft.getV,ze={};if("30"!=Ee.substr(0,2))throw"malformed RSA key(code:001)";var Je=Te(Ee,0);if(2!=Je.length)throw"malformed RSA key(code:002)";if("02"!=Ee.substr(Je[0],2))throw"malformed RSA key(code:003)";if(ze.n=c(Ee,Je[0]),"02"!=Ee.substr(Je[1],2))throw"malformed RSA key(code:004)";return ze.e=c(Ee,Je[1]),ze},parsePublicPKCS8Hex:function(Ee){var Fe=ft,Te=Fe.getChildIdx,c=Fe.getV,ze={algparam:null},Je=Te(Ee,0);if(2!=Je.length)throw"outer DERSequence shall have 2 elements: "+Je.length;var rt=Je[0];if("30"!=Ee.substr(rt,2))throw"malformed PKCS8 public key(code:001)";var tt=Te(Ee,rt);if(2!=tt.length)throw"malformed PKCS8 public key(code:002)";if("06"!=Ee.substr(tt[0],2))throw"malformed PKCS8 public key(code:003)";if(ze.algoid=c(Ee,tt[0]),"06"==Ee.substr(tt[1],2)?ze.algparam=c(Ee,tt[1]):"30"==Ee.substr(tt[1],2)&&(ze.algparam={},ze.algparam.p=Fe.getVbyList(Ee,tt[1],[0],"02"),ze.algparam.q=Fe.getVbyList(Ee,tt[1],[1],"02"),ze.algparam.g=Fe.getVbyList(Ee,tt[1],[2],"02")),"03"!=Ee.substr(Je[1],2))throw"malformed PKCS8 public key(code:004)";return ze.key=c(Ee,Je[1]).substr(2),ze}}}();Gn.getKey=function(x,C,D){var nr,O=(tt=ft).getChildIdx,$=tt.getVbyList,J=Se.crypto,ce=J.ECDSA,Ae=J.DSA,_e=bt,Ee=dn,Fe=Gn;if(void 0!==_e&&x instanceof _e||void 0!==ce&&x instanceof ce||void 0!==Ae&&x instanceof Ae)return x;if(void 0!==x.curve&&void 0!==x.xy&&void 0===x.d)return new ce({pub:x.xy,curve:x.curve});if(void 0!==x.curve&&void 0!==x.d)return new ce({prv:x.d,curve:x.curve});if(void 0===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0===x.d)return(en=new _e).setPublic(x.n,x.e),en;if(void 0===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d&&void 0!==x.p&&void 0!==x.q&&void 0!==x.dp&&void 0!==x.dq&&void 0!==x.co&&void 0===x.qi)return(en=new _e).setPrivateEx(x.n,x.e,x.d,x.p,x.q,x.dp,x.dq,x.co),en;if(void 0===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d&&void 0===x.p)return(en=new _e).setPrivate(x.n,x.e,x.d),en;if(void 0!==x.p&&void 0!==x.q&&void 0!==x.g&&void 0!==x.y&&void 0===x.x)return(en=new Ae).setPublic(x.p,x.q,x.g,x.y),en;if(void 0!==x.p&&void 0!==x.q&&void 0!==x.g&&void 0!==x.y&&void 0!==x.x)return(en=new Ae).setPrivate(x.p,x.q,x.g,x.y,x.x),en;if("RSA"===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0===x.d)return(en=new _e).setPublic(Ft(x.n),Ft(x.e)),en;if("RSA"===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d&&void 0!==x.p&&void 0!==x.q&&void 0!==x.dp&&void 0!==x.dq&&void 0!==x.qi)return(en=new _e).setPrivateEx(Ft(x.n),Ft(x.e),Ft(x.d),Ft(x.p),Ft(x.q),Ft(x.dp),Ft(x.dq),Ft(x.qi)),en;if("RSA"===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d)return(en=new _e).setPrivate(Ft(x.n),Ft(x.e),Ft(x.d)),en;if("EC"===x.kty&&void 0!==x.crv&&void 0!==x.x&&void 0!==x.y&&void 0===x.d){var Te=(Ut=new ce({curve:x.crv})).ecparams.keylen/4,c="04"+("0000000000"+Ft(x.x)).slice(-Te)+("0000000000"+Ft(x.y)).slice(-Te);return Ut.setPublicKeyHex(c),Ut}if("EC"===x.kty&&void 0!==x.crv&&void 0!==x.x&&void 0!==x.y&&void 0!==x.d){Te=(Ut=new ce({curve:x.crv})).ecparams.keylen/4,c="04"+("0000000000"+Ft(x.x)).slice(-Te)+("0000000000"+Ft(x.y)).slice(-Te);var ze=("0000000000"+Ft(x.d)).slice(-Te);return Ut.setPublicKeyHex(c),Ut.setPrivateKeyHex(ze),Ut}if("pkcs5prv"===D){var Je,rt=x,tt=ft;if(9===(Je=O(rt,0)).length)(en=new _e).readPKCS5PrvKeyHex(rt);else if(6===Je.length)(en=new Ae).readPKCS5PrvKeyHex(rt);else{if(!(Je.length>2&&"04"===rt.substr(Je[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(en=new ce).readPKCS5PrvKeyHex(rt)}return en}if("pkcs8prv"===D)return Fe.getKeyFromPlainPrivatePKCS8Hex(x);if("pkcs8pub"===D)return Fe._getKeyFromPublicPKCS8Hex(x);if("x509pub"===D)return hn.getPublicKeyFromCertHex(x);if(-1!=x.indexOf("-END CERTIFICATE-",0)||-1!=x.indexOf("-END X509 CERTIFICATE-",0)||-1!=x.indexOf("-END TRUSTED CERTIFICATE-",0))return hn.getPublicKeyFromCertPEM(x);if(-1!=x.indexOf("-END PUBLIC KEY-")){var he=dn(x,"PUBLIC KEY");return Fe._getKeyFromPublicPKCS8Hex(he)}if(-1!=x.indexOf("-END RSA PRIVATE KEY-")&&-1==x.indexOf("4,ENCRYPTED")){var Ne=Ee(x,"RSA PRIVATE KEY");return Fe.getKey(Ne,null,"pkcs5prv")}if(-1!=x.indexOf("-END DSA PRIVATE KEY-")&&-1==x.indexOf("4,ENCRYPTED")){var Ve=$(nr=Ee(x,"DSA PRIVATE KEY"),0,[1],"02"),Le=$(nr,0,[2],"02"),et=$(nr,0,[3],"02"),st=$(nr,0,[4],"02"),zt=$(nr,0,[5],"02");return(en=new Ae).setPrivate(new j(Ve,16),new j(Le,16),new j(et,16),new j(st,16),new j(zt,16)),en}if(-1!=x.indexOf("-END EC PRIVATE KEY-")&&-1==x.indexOf("4,ENCRYPTED"))return Ne=Ee(x,"EC PRIVATE KEY"),Fe.getKey(Ne,null,"pkcs5prv");if(-1!=x.indexOf("-END PRIVATE KEY-"))return Fe.getKeyFromPlainPrivatePKCS8PEM(x);if(-1!=x.indexOf("-END RSA PRIVATE KEY-")&&-1!=x.indexOf("4,ENCRYPTED")){var It=Fe.getDecryptedKeyHex(x,C),Cn=new bt;return Cn.readPKCS5PrvKeyHex(It),Cn}if(-1!=x.indexOf("-END EC PRIVATE KEY-")&&-1!=x.indexOf("4,ENCRYPTED")){var Ut,en=$(nr=Fe.getDecryptedKeyHex(x,C),0,[1],"04"),Zn=$(nr,0,[2,0],"06"),or=$(nr,0,[3,0],"03").substr(2);if(void 0===Se.crypto.OID.oidhex2name[Zn])throw"undefined OID(hex) in KJUR.crypto.OID: "+Zn;return(Ut=new ce({curve:Se.crypto.OID.oidhex2name[Zn]})).setPublicKeyHex(or),Ut.setPrivateKeyHex(en),Ut.isPublic=!1,Ut}if(-1!=x.indexOf("-END DSA PRIVATE KEY-")&&-1!=x.indexOf("4,ENCRYPTED"))return Ve=$(nr=Fe.getDecryptedKeyHex(x,C),0,[1],"02"),Le=$(nr,0,[2],"02"),et=$(nr,0,[3],"02"),st=$(nr,0,[4],"02"),zt=$(nr,0,[5],"02"),(en=new Ae).setPrivate(new j(Ve,16),new j(Le,16),new j(et,16),new j(st,16),new j(zt,16)),en;if(-1!=x.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Fe.getKeyFromEncryptedPKCS8PEM(x,C);throw new Error("not supported argument")},Gn.generateKeypair=function(x,C){if("RSA"==x){var D=C;(ce=new bt).generate(D,"10001"),ce.isPrivate=!0,ce.isPublic=!0;var O=new bt,$=ce.n.toString(16),J=ce.e.toString(16);return O.setPublic($,J),O.isPrivate=!1,O.isPublic=!0,(Ae={}).prvKeyObj=ce,Ae.pubKeyObj=O,Ae}if("EC"==x){var ce,Ae,_e=C,Ee=new Se.crypto.ECDSA({curve:_e}).generateKeyPairHex();return(ce=new Se.crypto.ECDSA({curve:_e})).setPublicKeyHex(Ee.ecpubhex),ce.setPrivateKeyHex(Ee.ecprvhex),ce.isPrivate=!0,ce.isPublic=!1,(O=new Se.crypto.ECDSA({curve:_e})).setPublicKeyHex(Ee.ecpubhex),O.isPrivate=!1,O.isPublic=!0,(Ae={}).prvKeyObj=ce,Ae.pubKeyObj=O,Ae}throw"unknown algorithm: "+x},Gn.getPEM=function(x,C,D,O,$,J){var Ae=Se.asn1,_e=Ae.DERObjectIdentifier,Ee=Ae.DERInteger,Fe=Ae.ASN1Util.newObject,c=Se.crypto,ze=c.DSA,Je=c.ECDSA,rt=bt;function tt(Ut){return Fe({seq:[{int:0},{int:{bigint:Ut.n}},{int:Ut.e},{int:{bigint:Ut.d}},{int:{bigint:Ut.p}},{int:{bigint:Ut.q}},{int:{bigint:Ut.dmp1}},{int:{bigint:Ut.dmq1}},{int:{bigint:Ut.coeff}}]})}function he(Ut){return Fe({seq:[{int:1},{octstr:{hex:Ut.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ut.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ut.pubKeyHex}}]}]})}function Ne(Ut){return Fe({seq:[{int:0},{int:{bigint:Ut.p}},{int:{bigint:Ut.q}},{int:{bigint:Ut.g}},{int:{bigint:Ut.y}},{int:{bigint:Ut.x}}]})}if((void 0!==rt&&x instanceof rt||void 0!==ze&&x instanceof ze||void 0!==Je&&x instanceof Je)&&1==x.isPublic&&(void 0===C||"PKCS8PUB"==C))return rn(st=new(0,Ae.x509.SubjectPublicKeyInfo)(x).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==C&&void 0!==rt&&x instanceof rt&&(void 0===D||null==D)&&1==x.isPrivate)return rn(st=tt(x).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==C&&void 0!==Je&&x instanceof Je&&(void 0===D||null==D)&&1==x.isPrivate){var Ve=new _e({name:x.curveName}).getEncodedHex(),Le=he(x).getEncodedHex(),et="";return(et+=rn(Ve,"EC PARAMETERS"))+rn(Le,"EC PRIVATE KEY")}if("PKCS1PRV"==C&&void 0!==ze&&x instanceof ze&&(void 0===D||null==D)&&1==x.isPrivate)return rn(st=Ne(x).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==C&&void 0!==rt&&x instanceof rt&&void 0!==D&&null!=D&&1==x.isPrivate){var st=tt(x).getEncodedHex();return void 0===O&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",st,D,O,J)}if("PKCS5PRV"==C&&void 0!==Je&&x instanceof Je&&void 0!==D&&null!=D&&1==x.isPrivate)return st=he(x).getEncodedHex(),void 0===O&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",st,D,O,J);if("PKCS5PRV"==C&&void 0!==ze&&x instanceof ze&&void 0!==D&&null!=D&&1==x.isPrivate)return st=Ne(x).getEncodedHex(),void 0===O&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",st,D,O,J);var zt=function(en,Zn){var or=It(en,Zn);return new Fe({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:or.pbkdf2Salt}},{int:or.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:or.encryptionSchemeIV}}]}]}]},{octstr:{hex:or.ciphertext}}]}).getEncodedHex()},It=function(en,Zn){var or=R.lib.WordArray.random(8),nr=R.lib.WordArray.random(8),Qr=R.PBKDF2(Zn,or,{keySize:6,iterations:100}),ra=R.enc.Hex.parse(en),ha=R.TripleDES.encrypt(ra,Qr,{iv:nr})+"",vr={};return vr.ciphertext=ha,vr.pbkdf2Salt=R.enc.Hex.stringify(or),vr.pbkdf2Iter=100,vr.encryptionSchemeAlg="DES-EDE3-CBC",vr.encryptionSchemeIV=R.enc.Hex.stringify(nr),vr};if("PKCS8PRV"==C&&null!=rt&&x instanceof rt&&1==x.isPrivate){var Cn=tt(x).getEncodedHex();return st=Fe({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Cn}}]}).getEncodedHex(),void 0===D||null==D?rn(st,"PRIVATE KEY"):rn(Le=zt(st,D),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==C&&void 0!==Je&&x instanceof Je&&1==x.isPrivate)return Cn=new Fe({seq:[{int:1},{octstr:{hex:x.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+x.pubKeyHex}}]}]}).getEncodedHex(),st=Fe({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:x.curveName}}]},{octstr:{hex:Cn}}]}).getEncodedHex(),void 0===D||null==D?rn(st,"PRIVATE KEY"):rn(Le=zt(st,D),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==C&&void 0!==ze&&x instanceof ze&&1==x.isPrivate)return Cn=new Ee({bigint:x.x}).getEncodedHex(),st=Fe({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:x.p}},{int:{bigint:x.q}},{int:{bigint:x.g}}]}]},{octstr:{hex:Cn}}]}).getEncodedHex(),void 0===D||null==D?rn(st,"PRIVATE KEY"):rn(Le=zt(st,D),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Gn.getKeyFromCSRPEM=function(x){var C=dn(x,"CERTIFICATE REQUEST");return Gn.getKeyFromCSRHex(C)},Gn.getKeyFromCSRHex=function(x){var C=Gn.parseCSRHex(x);return Gn.getKey(C.p8pubkeyhex,null,"pkcs8pub")},Gn.parseCSRHex=function(x){var D=ft.getChildIdx,O=ft.getTLV,$={},J=x;if("30"!=J.substr(0,2))throw"malformed CSR(code:001)";var ce=D(J,0);if(ce.length<1)throw"malformed CSR(code:002)";if("30"!=J.substr(ce[0],2))throw"malformed CSR(code:003)";var Ae=D(J,ce[0]);if(Ae.length<3)throw"malformed CSR(code:004)";return $.p8pubkeyhex=O(J,Ae[2]),$},Gn.getKeyID=function(x){var C=Gn,D=ft;"string"==typeof x&&-1!=x.indexOf("BEGIN ")&&(x=C.getKey(x));var O=dn(C.getPEM(x)),$=D.getIdxbyList(O,0,[1]),J=D.getV(O,$).substring(2);return Se.crypto.Util.hashHex(J,"sha1")},Gn.getJWKFromKey=function(x){var C={};if(x instanceof bt&&x.isPrivate)return C.kty="RSA",C.n=$e(x.n.toString(16)),C.e=$e(x.e.toString(16)),C.d=$e(x.d.toString(16)),C.p=$e(x.p.toString(16)),C.q=$e(x.q.toString(16)),C.dp=$e(x.dmp1.toString(16)),C.dq=$e(x.dmq1.toString(16)),C.qi=$e(x.coeff.toString(16)),C;if(x instanceof bt&&x.isPublic)return C.kty="RSA",C.n=$e(x.n.toString(16)),C.e=$e(x.e.toString(16)),C;if(x instanceof Se.crypto.ECDSA&&x.isPrivate){if("P-256"!==(O=x.getShortNISTPCurveName())&&"P-384"!==O)throw"unsupported curve name for JWT: "+O;var D=x.getPublicKeyXYHex();return C.kty="EC",C.crv=O,C.x=$e(D.x),C.y=$e(D.y),C.d=$e(x.prvKeyHex),C}if(x instanceof Se.crypto.ECDSA&&x.isPublic){var O;if("P-256"!==(O=x.getShortNISTPCurveName())&&"P-384"!==O)throw"unsupported curve name for JWT: "+O;return D=x.getPublicKeyXYHex(),C.kty="EC",C.crv=O,C.x=$e(D.x),C.y=$e(D.y),C}throw"not supported key object"},bt.getPosArrayOfChildrenFromHex=function(x){return ft.getChildIdx(x,0)},bt.getHexValueArrayOfChildrenFromHex=function(x){var C,D=ft.getV,O=D(x,(C=bt.getPosArrayOfChildrenFromHex(x))[0]),$=D(x,C[1]),J=D(x,C[2]),ce=D(x,C[3]),Ae=D(x,C[4]),_e=D(x,C[5]),Ee=D(x,C[6]),Fe=D(x,C[7]),Te=D(x,C[8]);return(C=new Array).push(O,$,J,ce,Ae,_e,Ee,Fe,Te),C},bt.prototype.readPrivateKeyFromPEMString=function(x){var C=dn(x),D=bt.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(D[1],D[2],D[3],D[4],D[5],D[6],D[7],D[8])},bt.prototype.readPKCS5PrvKeyHex=function(x){var C=bt.getHexValueArrayOfChildrenFromHex(x);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},bt.prototype.readPKCS8PrvKeyHex=function(x){var C,D,O,$,J,ce,Ae,_e,Fe=ft.getVbyListEx;if(!1===ft.isASN1HEX(x))throw new Error("not ASN.1 hex string");try{C=Fe(x,0,[2,0,1],"02"),D=Fe(x,0,[2,0,2],"02"),O=Fe(x,0,[2,0,3],"02"),$=Fe(x,0,[2,0,4],"02"),J=Fe(x,0,[2,0,5],"02"),ce=Fe(x,0,[2,0,6],"02"),Ae=Fe(x,0,[2,0,7],"02"),_e=Fe(x,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,D,O,$,J,ce,Ae,_e)},bt.prototype.readPKCS5PubKeyHex=function(x){var C=ft,D=C.getV;if(!1===C.isASN1HEX(x))throw new Error("keyHex is not ASN.1 hex string");var O=C.getChildIdx(x,0);if(2!==O.length||"02"!==x.substr(O[0],2)||"02"!==x.substr(O[1],2))throw new Error("wrong hex for PKCS#5 public key");var $=D(x,O[0]),J=D(x,O[1]);this.setPublic($,J)},bt.prototype.readPKCS8PubKeyHex=function(x){var C=ft;if(!1===C.isASN1HEX(x))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==C.getTLVbyListEx(x,0,[0,0]))throw new Error("not PKCS8 RSA public key");var D=C.getTLVbyListEx(x,0,[1,0]);this.readPKCS5PubKeyHex(D)},bt.prototype.readCertPubKeyHex=function(x,C){var D,O;(D=new hn).readCertHex(x),O=D.getPublicKeyHex(),this.readPKCS8PubKeyHex(O)};var hi=new RegExp("[^0-9a-f]","gi");function Ga(x,C){for(var D="",O=C/4-x.length,$=0;$<O;$++)D+="0";return D+x}function ni(x,C,D){for(var O="",$=0;O.length<C;)O+=gt(D(Qt(x+String.fromCharCode.apply(String,[(4278190080&$)>>24,(16711680&$)>>16,(65280&$)>>8,255&$])))),$+=1;return O}function vi(x){for(var C in Se.crypto.Util.DIGESTINFOHEAD){var D=Se.crypto.Util.DIGESTINFOHEAD[C],O=D.length;if(x.substring(0,O)==D)return[C,x.substring(O)]}return[]}function hn(x){var C,D=ft,O=D.getChildIdx,$=D.getV,J=D.getTLV,ce=D.getVbyList,Ae=D.getVbyListEx,_e=D.getTLVbyList,Ee=D.getTLVbyListEx,Fe=D.getIdxbyList,Te=D.getIdxbyListEx,c=D.getVidx,ze=D.oidname,Je=D.hextooidstr,rt=hn,tt=dn;try{C=Se.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==_e(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return Ae(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var he=Ee(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(he)},this.getAlgorithmIdentifierName=function(he){for(var Ne in C)if(he===C[Ne])return Ne;return ze(Ae(he,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return _e(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return rt.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return _e(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return rt.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var he=ce(this.hex,0,[0,4+this.foffset,0]);return he=he.replace(/(..)/g,"%$1"),decodeURIComponent(he)},this.getNotAfter=function(){var he=ce(this.hex,0,[0,4+this.foffset,1]);return he=he.replace(/(..)/g,"%$1"),decodeURIComponent(he)},this.getPublicKeyHex=function(){return D.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Fe(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var he=this.getPublicKeyIdx();return Fe(this.hex,he,[1,0],"30")},this.getPublicKey=function(){return Gn.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var he=_e(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(he)},this.getSignatureValueHex=function(){return ce(this.hex,0,[2],"03",!0)},this.verifySignature=function(he){var Ne=this.getSignatureAlgorithmField(),Ve=this.getSignatureValueHex(),Le=_e(this.hex,0,[0],"30"),et=new Se.crypto.Signature({alg:Ne});return et.init(he),et.updateHex(Le),et.verify(Ve)},this.parseExt=function(he){var Ne,Ve,Le;if(void 0===he){if(3!==this.version)return-1;Ne=Fe(Le=this.hex,0,[0,7,0],"30"),Ve=O(Le,Ne)}else{Le=dn(he);var et=Fe(Le,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=$(Le,et))return void(this.aExtInfo=new Array);Ne=Fe(Le,0,[0,3,0,1,0],"30"),Ve=O(Le,Ne),this.hex=Le}this.aExtInfo=new Array;for(var st=0;st<Ve.length;st++){var zt={critical:!1},It=0;3===O(Le,Ve[st]).length&&(zt.critical=!0,It=1),zt.oid=D.hextooidstr(ce(Le,Ve[st],[0],"06"));var Cn=Fe(Le,Ve[st],[1+It]);zt.vidx=c(Le,Cn),this.aExtInfo.push(zt)}},this.getExtInfo=function(he){var Ne=this.aExtInfo,Ve=he;if(he.match(/^[0-9.]+$/)||(Ve=Se.asn1.x509.OID.name2oid(he)),""!==Ve)for(var Le=0;Le<Ne.length;Le++)if(Ne[Le].oid===Ve)return Ne[Le]},this.getExtBasicConstraints=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("basicConstraints");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"basicConstraints"};if(Ne&&(Le.critical=!0),"3000"===he)return Le;if("30030101ff"===he)return Le.cA=!0,Le;if("30060101ff02"===he.substr(0,12)){var et=$(he,10),st=parseInt(et,16);return Le.cA=!0,Le.pathLen=st,Le}throw new Error("hExtV parse error: "+he)},this.getExtKeyUsage=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("keyUsage");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"keyUsage"};return Ne&&(Le.critical=!0),Le.names=this.getExtKeyUsageString(he).split(","),Le},this.getExtKeyUsageBin=function(he){if(void 0===he){var Ne=this.getExtInfo("keyUsage");if(void 0===Ne)return"";he=J(this.hex,Ne.vidx)}if(8!=he.length&&10!=he.length)throw new Error("malformed key usage value: "+he);var Ve="000000000000000"+parseInt(he.substr(6),16).toString(2);return 8==he.length&&(Ve=Ve.slice(-8)),10==he.length&&(Ve=Ve.slice(-16)),""==(Ve=Ve.replace(/0+$/,""))&&(Ve="0"),Ve},this.getExtKeyUsageString=function(he){for(var Ne=this.getExtKeyUsageBin(he),Ve=new Array,Le=0;Le<Ne.length;Le++)"1"==Ne.substr(Le,1)&&Ve.push(hn.KEYUSAGE_NAME[Le]);return Ve.join(",")},this.getExtSubjectKeyIdentifier=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("subjectKeyIdentifier");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"subjectKeyIdentifier"};Ne&&(Le.critical=!0);var et=$(he,0);return Le.kid={hex:et},Le},this.getExtAuthorityKeyIdentifier=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("authorityKeyIdentifier");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"authorityKeyIdentifier"};Ne&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var zt=he.substr(et[st],2);if("80"===zt&&(Le.kid={hex:$(he,et[st])}),"a1"===zt){var It=J(he,et[st]),Cn=this.getGeneralNames(It);Le.issuer=Cn[0].dn}"82"===zt&&(Le.sn={hex:$(he,et[st])})}return Le},this.getExtExtKeyUsage=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("extKeyUsage");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"extKeyUsage",array:[]};Ne&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++)Le.array.push(ze($(he,et[st])));return Le},this.getExtExtKeyUsageName=function(){var he=this.getExtInfo("extKeyUsage");if(void 0===he)return he;var Ne=new Array,Ve=J(this.hex,he.vidx);if(""===Ve)return Ne;for(var Le=O(Ve,0),et=0;et<Le.length;et++)Ne.push(ze($(Ve,Le[et])));return Ne},this.getExtSubjectAltName=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("subjectAltName");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"subjectAltName",array:[]};return Ne&&(Le.critical=!0),Le.array=this.getGeneralNames(he),Le},this.getExtIssuerAltName=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("issuerAltName");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"issuerAltName",array:[]};return Ne&&(Le.critical=!0),Le.array=this.getGeneralNames(he),Le},this.getGeneralNames=function(he){for(var Ne=O(he,0),Ve=[],Le=0;Le<Ne.length;Le++){var et=this.getGeneralName(J(he,Ne[Le]));void 0!==et&&Ve.push(et)}return Ve},this.getGeneralName=function(he){var Ne=he.substr(0,2),Ve=$(he,0),Le=gt(Ve);return"81"==Ne?{rfc822:Le}:"82"==Ne?{dns:Le}:"86"==Ne?{uri:Le}:"87"==Ne?{ip:In(Ve)}:"a4"==Ne?{dn:this.getX500Name(Ve)}:void 0},this.getExtSubjectAltName2=function(){var he,Ne,Ve,Le=this.getExtInfo("subjectAltName");if(void 0===Le)return Le;for(var et=new Array,st=J(this.hex,Le.vidx),zt=O(st,0),It=0;It<zt.length;It++)Ve=st.substr(zt[It],2),he=$(st,zt[It]),"81"===Ve&&(Ne=kt(he),et.push(["MAIL",Ne])),"82"===Ve&&(Ne=kt(he),et.push(["DNS",Ne])),"84"===Ve&&(Ne=hn.hex2dn(he,0),et.push(["DN",Ne])),"86"===Ve&&(Ne=kt(he),et.push(["URI",Ne])),"87"===Ve&&(Ne=In(he),et.push(["IP",Ne]));return et},this.getExtCRLDistributionPoints=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("cRLDistributionPoints");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"cRLDistributionPoints",array:[]};Ne&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var zt=J(he,et[st]);Le.array.push(this.getDistributionPoint(zt))}return Le},this.getDistributionPoint=function(he){for(var Ne={},Ve=O(he,0),Le=0;Le<Ve.length;Le++){var et=he.substr(Ve[Le],2),st=J(he,Ve[Le]);"a0"==et&&(Ne.dpname=this.getDistributionPointName(st))}return Ne},this.getDistributionPointName=function(he){for(var Ne={},Ve=O(he,0),Le=0;Le<Ve.length;Le++){var et=he.substr(Ve[Le],2),st=J(he,Ve[Le]);"a0"==et&&(Ne.full=this.getGeneralNames(st))}return Ne},this.getExtCRLDistributionPointsURI=function(){var he=this.getExtInfo("cRLDistributionPoints");if(void 0===he)return he;for(var Ne=new Array,Ve=O(this.hex,he.vidx),Le=0;Le<Ve.length;Le++)try{var et=kt(ce(this.hex,Ve[Le],[0,0,0],"86"));Ne.push(et)}catch{}return Ne},this.getExtAIAInfo=function(){var he=this.getExtInfo("authorityInfoAccess");if(void 0===he)return he;for(var Ne={ocsp:[],caissuer:[]},Ve=O(this.hex,he.vidx),Le=0;Le<Ve.length;Le++){var et=ce(this.hex,Ve[Le],[0],"06"),st=ce(this.hex,Ve[Le],[1],"86");"2b06010505073001"===et&&Ne.ocsp.push(kt(st)),"2b06010505073002"===et&&Ne.caissuer.push(kt(st))}return Ne},this.getExtAuthorityInfoAccess=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("authorityInfoAccess");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"authorityInfoAccess",array:[]};Ne&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var zt=Ae(he,et[st],[0],"06"),It=kt(ce(he,et[st],[1],"86"));if("2b06010505073001"==zt)Le.array.push({ocsp:It});else{if("2b06010505073002"!=zt)throw new Error("unknown method: "+zt);Le.array.push({caissuer:It})}}return Le},this.getExtCertificatePolicies=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("certificatePolicies");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"certificatePolicies",array:[]};Ne&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var zt=J(he,et[st]),It=this.getPolicyInformation(zt);Le.array.push(It)}return Le},this.getPolicyInformation=function(he){var Ne={},Ve=ce(he,0,[0],"06");Ne.policyoid=ze(Ve);var Le=Te(he,0,[1],"30");if(-1!=Le){Ne.array=[];for(var et=O(he,Le),st=0;st<et.length;st++){var zt=J(he,et[st]),It=this.getPolicyQualifierInfo(zt);Ne.array.push(It)}}return Ne},this.getPolicyQualifierInfo=function(he){var Ne={},Ve=ce(he,0,[0],"06");if("2b06010505070201"===Ve){var Le=Ae(he,0,[1],"16");Ne.cps=gt(Le)}else if("2b06010505070202"===Ve){var et=_e(he,0,[1],"30");Ne.unotice=this.getUserNotice(et)}return Ne},this.getUserNotice=function(he){for(var Ne={},Ve=O(he,0),Le=0;Le<Ve.length;Le++){var et=J(he,Ve[Le]);"30"!=et.substr(0,2)&&(Ne.exptext=this.getDisplayText(et))}return Ne},this.getDisplayText=function(he){var Ne={};return Ne.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[he.substr(0,2)],Ne.str=gt($(he,0)),Ne},this.getExtCRLNumber=function(he,Ne){var Ve={extname:"cRLNumber"};if(Ne&&(Ve.critical=!0),"02"==he.substr(0,2))return Ve.num={hex:$(he,0)},Ve;throw new Error("hExtV parse error: "+he)},this.getExtCRLReason=function(he,Ne){var Ve={extname:"cRLReason"};if(Ne&&(Ve.critical=!0),"0a"==he.substr(0,2))return Ve.code=parseInt($(he,0),16),Ve;throw new Error("hExtV parse error: "+he)},this.getExtOcspNonce=function(he,Ne){var Ve={extname:"ocspNonce"};Ne&&(Ve.critical=!0);var Le=$(he,0);return Ve.hex=Le,Ve},this.getExtOcspNoCheck=function(he,Ne){var Ve={extname:"ocspNoCheck"};return Ne&&(Ve.critical=!0),Ve},this.getExtAdobeTimeStamp=function(he,Ne){if(void 0===he&&void 0===Ne){var Ve=this.getExtInfo("adobeTimeStamp");if(void 0===Ve)return;he=J(this.hex,Ve.vidx),Ne=Ve.critical}var Le={extname:"adobeTimeStamp"};Ne&&(Le.critical=!0);var et=O(he,0);if(et.length>1){var st=J(he,et[1]),zt=this.getGeneralName(st);null!=zt.uri&&(Le.uri=zt.uri)}if(et.length>2){var It=J(he,et[2]);"0101ff"==It&&(Le.reqauth=!0),"010100"==It&&(Le.reqauth=!1)}return Le},this.getX500NameRule=function(he){for(var Ne=null,Ve=[],Le=0;Le<he.length;Le++)for(var et=he[Le],st=0;st<et.length;st++)Ve.push(et[st]);for(Le=0;Le<Ve.length;Le++){var zt=Ve[Le],It=zt.ds,Ut=zt.type;if("prn"!=It&&"utf8"!=It&&"ia5"!=It)return"mixed";if("ia5"==It){if("CN"!=Ut)return"mixed";if(Se.lang.String.isMail(zt.value))continue;return"mixed"}if("C"==Ut){if("prn"==It)continue;return"mixed"}if(null==Ne)Ne=It;else if(Ne!==It)return"mixed"}return Ne??"prn"},this.getX500Name=function(he){var Ne=this.getX500NameArray(he);return{array:Ne,str:this.dnarraytostr(Ne)}},this.getX500NameArray=function(he){for(var Ne=[],Ve=O(he,0),Le=0;Le<Ve.length;Le++)Ne.push(this.getRDN(J(he,Ve[Le])));return Ne},this.getRDN=function(he){for(var Ne=[],Ve=O(he,0),Le=0;Le<Ve.length;Le++)Ne.push(this.getAttrTypeAndValue(J(he,Ve[Le])));return Ne},this.getAttrTypeAndValue=function(he){var Ne={type:null,value:null,ds:null},Ve=O(he,0),Le=ce(he,Ve[0],[],"06"),et=ce(he,Ve[1],[]),st=Se.asn1.ASN1Util.oidHexToInt(Le);return Ne.type=Se.asn1.x509.OID.oid2atype(st),Ne.value=gt(et),Ne.ds=this.HEX2STAG[he.substr(Ve[1],2)],Ne},this.readCertPEM=function(he){this.readCertHex(tt(he))},this.readCertHex=function(he){this.hex=he,this.getVersion();try{Fe(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var he={};return he.version=this.getVersion(),he.serial={hex:this.getSerialNumberHex()},he.sigalg=this.getSignatureAlgorithmField(),he.issuer=this.getIssuer(),he.notbefore=this.getNotBefore(),he.notafter=this.getNotAfter(),he.subject=this.getSubject(),he.sbjpubkey=rn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(he.ext=this.getExtParamArray()),he.sighex=this.getSignatureValueHex(),he},this.getExtParamArray=function(he){null==he&&-1!=Te(this.hex,0,[0,"[3]"])&&(he=Ee(this.hex,0,[0,"[3]",0],"30"));for(var Ne=[],Ve=O(he,0),Le=0;Le<Ve.length;Le++){var et=J(he,Ve[Le]),st=this.getExtParam(et);null!=st&&Ne.push(st)}return Ne},this.getExtParam=function(he){var Ne=O(he,0).length;if(2!=Ne&&3!=Ne)throw new Error("wrong number elements in Extension: "+Ne+" "+he);var Ve=Je(ce(he,0,[0],"06")),Le=!1;3==Ne&&"0101ff"==_e(he,0,[1])&&(Le=!0);var et=_e(he,0,[Ne-1,0]),st=void 0;if("2.5.29.14"==Ve?st=this.getExtSubjectKeyIdentifier(et,Le):"2.5.29.15"==Ve?st=this.getExtKeyUsage(et,Le):"2.5.29.17"==Ve?st=this.getExtSubjectAltName(et,Le):"2.5.29.18"==Ve?st=this.getExtIssuerAltName(et,Le):"2.5.29.19"==Ve?st=this.getExtBasicConstraints(et,Le):"2.5.29.31"==Ve?st=this.getExtCRLDistributionPoints(et,Le):"2.5.29.32"==Ve?st=this.getExtCertificatePolicies(et,Le):"2.5.29.35"==Ve?st=this.getExtAuthorityKeyIdentifier(et,Le):"2.5.29.37"==Ve?st=this.getExtExtKeyUsage(et,Le):"1.3.6.1.5.5.7.1.1"==Ve?st=this.getExtAuthorityInfoAccess(et,Le):"2.5.29.20"==Ve?st=this.getExtCRLNumber(et,Le):"2.5.29.21"==Ve?st=this.getExtCRLReason(et,Le):"1.3.6.1.5.5.7.48.1.2"==Ve?st=this.getExtOcspNonce(et,Le):"1.3.6.1.5.5.7.48.1.5"==Ve?st=this.getExtOcspNoCheck(et,Le):"1.2.840.113583.1.1.9.1"==Ve&&(st=this.getExtAdobeTimeStamp(et,Le)),null!=st)return st;var zt={extname:Ve,extn:et};return Le&&(zt.critical=!0),zt},this.findExt=function(he,Ne){for(var Ve=0;Ve<he.length;Ve++)if(he[Ve].extname==Ne)return he[Ve];return null},this.updateExtCDPFullURI=function(he,Ne){var Ve=this.findExt(he,"cRLDistributionPoints");if(null!=Ve&&null!=Ve.array)for(var Le=Ve.array,et=0;et<Le.length;et++)if(null!=Le[et].dpname&&null!=Le[et].dpname.full)for(var st=Le[et].dpname.full,zt=0;zt<st.length;zt++){var It=st[et];null!=It.uri&&(It.uri=Ne)}},this.updateExtAIAOCSP=function(he,Ne){var Ve=this.findExt(he,"authorityInfoAccess");if(null!=Ve&&null!=Ve.array)for(var Le=Ve.array,et=0;et<Le.length;et++)null!=Le[et].ocsp&&(Le[et].ocsp=Ne)},this.updateExtAIACAIssuer=function(he,Ne){var Ve=this.findExt(he,"authorityInfoAccess");if(null!=Ve&&null!=Ve.array)for(var Le=Ve.array,et=0;et<Le.length;et++)null!=Le[et].caissuer&&(Le[et].caissuer=Ne)},this.dnarraytostr=function(he){return"/"+he.map(function(Ne){return Ne.map(function(et){return(zt=et).type+"="+zt.value;var zt}).join("+")}).join("/")},this.getInfo=function(){var he,Ne,Ve,Le=function(Qr){return JSON.stringify(Qr.array).replace(/[\[\]\{\}\"]/g,"")},et=function(Qr){for(var ra="",ha=Qr.array,vr=0;vr<ha.length;vr++){var Nr=ha[vr];if(ra+="    policy oid: "+Nr.policyoid+"\n",void 0!==Nr.array)for(var Xr=0;Xr<Nr.array.length;Xr++){var va=Nr.array[Xr];void 0!==va.cps&&(ra+="    cps: "+va.cps+"\n")}}return ra},st=function(Qr){for(var ra="",ha=Qr.array,vr=0;vr<ha.length;vr++){var Nr=ha[vr];try{void 0!==Nr.dpname.full[0].uri&&(ra+="    "+Nr.dpname.full[0].uri+"\n")}catch{}try{void 0!==Nr.dname.full[0].dn.hex&&(ra+="    "+hn.hex2dn(Nr.dpname.full[0].dn.hex)+"\n")}catch{}}return ra},zt=function(Qr){for(var ra="",ha=Qr.array,vr=0;vr<ha.length;vr++){var Nr=ha[vr];void 0!==Nr.caissuer&&(ra+="    caissuer: "+Nr.caissuer+"\n"),void 0!==Nr.ocsp&&(ra+="    ocsp: "+Nr.ocsp+"\n")}return ra};if(he="Basic Fields\n",he+="  serial number: "+this.getSerialNumberHex()+"\n",he+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",he+="  issuer: "+this.getIssuerString()+"\n",he+="  notBefore: "+this.getNotBefore()+"\n",he+="  notAfter: "+this.getNotAfter()+"\n",he+="  subject: "+this.getSubjectString()+"\n",he+="  subject public key info: \n",he+="    key algorithm: "+(Ne=this.getPublicKey()).type+"\n","RSA"===Ne.type&&(he+="    n="+na(Ne.n.toString(16)).substr(0,16)+"...\n",he+="    e="+na(Ne.e.toString(16))+"\n"),null!=(Ve=this.aExtInfo)){he+="X509v3 Extensions:\n";for(var It=0;It<Ve.length;It++){var Cn=Ve[It],Ut=Se.asn1.x509.OID.oid2name(Cn.oid);""===Ut&&(Ut=Cn.oid);var en="";if(!0===Cn.critical&&(en="CRITICAL"),he+="  "+Ut+" "+en+":\n","basicConstraints"===Ut){var Zn=this.getExtBasicConstraints();void 0===Zn.cA?he+="    {}\n":(he+="    cA=true",void 0!==Zn.pathLen&&(he+=", pathLen="+Zn.pathLen),he+="\n")}else if("keyUsage"===Ut)he+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Ut)he+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Ut){var or=this.getExtAuthorityKeyIdentifier();void 0!==or.kid&&(he+="    kid="+or.kid.hex+"\n")}else"extKeyUsage"===Ut?he+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Ut?he+="    "+Le(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===Ut?he+=st(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Ut?he+=zt(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Ut&&(he+=et(this.getExtCertificatePolicies()))}}return(he+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof x&&(-1!=x.indexOf("-----BEGIN")?this.readCertPEM(x):Se.lang.String.isHex(x)&&this.readCertHex(x))}bt.prototype.sign=function(x,C){var D=function($){return Se.crypto.Util.hashString($,C)}(x);return this.signWithMessageHash(D,C)},bt.prototype.signWithMessageHash=function(x,C){var D=nt(Se.crypto.Util.getPaddedDigestInfoHex(x,C,this.n.bitLength()),16);return Ga(this.doPrivate(D).toString(16),this.n.bitLength())},bt.prototype.signPSS=function(x,C,D){var J,O=(J=Qt(x),Se.crypto.Util.hashHex(J,C));return void 0===D&&(D=-1),this.signWithMessageHashPSS(O,C,D)},bt.prototype.signWithMessageHashPSS=function(x,C,D){var O,$=gt(x),J=$.length,ce=this.n.bitLength()-1,Ae=Math.ceil(ce/8),_e=function(he){return Se.crypto.Util.hashHex(he,C)};if(-1===D||void 0===D)D=J;else if(-2===D)D=Ae-J-2;else if(D<-2)throw new Error("invalid salt length");if(Ae<J+D+2)throw new Error("data too long");var Ee="";D>0&&(Ee=new Array(D),(new je).nextBytes(Ee),Ee=String.fromCharCode.apply(String,Ee));var Fe=gt(_e(Qt("\0\0\0\0\0\0\0\0"+$+Ee))),Te=[];for(O=0;O<Ae-D-J-2;O+=1)Te[O]=0;var c=String.fromCharCode.apply(String,Te)+"\x01"+Ee,ze=ni(Fe,c.length,_e),Je=[];for(O=0;O<c.length;O+=1)Je[O]=c.charCodeAt(O)^ze.charCodeAt(O);for(Je[0]&=~(65280>>8*Ae-ce&255),O=0;O<J;O++)Je.push(Fe.charCodeAt(O));return Je.push(188),Ga(this.doPrivate(new j(Je)).toString(16),this.n.bitLength())},bt.prototype.verify=function(x,C){var D=nt(C=(C=C.replace(hi,"")).replace(/[ \n]+/g,""),16);if(D.bitLength()>this.n.bitLength())return 0;var O=vi(this.doPublic(D).toString(16).replace(/^1f+00/,""));return 0!=O.length&&O[1]==Se.crypto.Util.hashString(x,O[0])},bt.prototype.verifyWithMessageHash=function(x,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var D=nt(C,16);if(D.bitLength()>this.n.bitLength())return 0;var O=vi(this.doPublic(D).toString(16).replace(/^1f+00/,""));return 0!=O.length&&O[1]==x},bt.prototype.verifyPSS=function(x,C,D,O){var ce,$=(ce=Qt(x),Se.crypto.Util.hashHex(ce,D));return void 0===O&&(O=-1),this.verifyWithMessageHashPSS($,C,D,O)},bt.prototype.verifyWithMessageHashPSS=function(x,C,D,O){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var $,J=new j(C,16),ce=function(Ve){return Se.crypto.Util.hashHex(Ve,D)},Ae=gt(x),_e=Ae.length,Ee=this.n.bitLength()-1,Fe=Math.ceil(Ee/8);if(-1===O||void 0===O)O=_e;else if(-2===O)O=Fe-_e-2;else if(O<-2)throw new Error("invalid salt length");if(Fe<_e+O+2)throw new Error("data too long");var Te=this.doPublic(J).toByteArray();for($=0;$<Te.length;$+=1)Te[$]&=255;for(;Te.length<Fe;)Te.unshift(0);if(188!==Te[Fe-1])throw new Error("encoded message does not end in 0xbc");var c=(Te=String.fromCharCode.apply(String,Te)).substr(0,Fe-_e-1),ze=Te.substr(c.length,_e),Je=65280>>8*Fe-Ee&255;if(0!=(c.charCodeAt(0)&Je))throw new Error("bits beyond keysize not zero");var rt=ni(ze,c.length,ce),tt=[];for($=0;$<c.length;$+=1)tt[$]=c.charCodeAt($)^rt.charCodeAt($);tt[0]&=~Je;var he=Fe-_e-O-2;for($=0;$<he;$+=1)if(0!==tt[$])throw new Error("leftmost octets not zero");if(1!==tt[he])throw new Error("0x01 marker not found");return ze===gt(ce(Qt("\0\0\0\0\0\0\0\0"+Ae+String.fromCharCode.apply(String,tt.slice(-O)))))},bt.SALT_LEN_HLEN=-1,bt.SALT_LEN_MAX=-2,bt.SALT_LEN_RECOVER=-2,hn.hex2dn=function(x,C){if(void 0===C&&(C=0),"30"!==x.substr(C,2))throw new Error("malformed DN");for(var D=new Array,O=ft.getChildIdx(x,C),$=0;$<O.length;$++)D.push(hn.hex2rdn(x,O[$]));return"/"+(D=D.map(function(J){return J.replace("/","\\/")})).join("/")},hn.hex2rdn=function(x,C){if(void 0===C&&(C=0),"31"!==x.substr(C,2))throw new Error("malformed RDN");for(var D=new Array,O=ft.getChildIdx(x,C),$=0;$<O.length;$++)D.push(hn.hex2attrTypeValue(x,O[$]));return(D=D.map(function(J){return J.replace("+","\\+")})).join("+")},hn.hex2attrTypeValue=function(x,C){var D=ft,O=D.getV;if(void 0===C&&(C=0),"30"!==x.substr(C,2))throw new Error("malformed attribute type and value");var $=D.getChildIdx(x,C);2!==$.length||x.substr($[0],2);var J=O(x,$[0]),ce=Se.asn1.ASN1Util.oidHexToInt(J);return Se.asn1.x509.OID.oid2atype(ce)+"="+gt(O(x,$[1]))},hn.getPublicKeyFromCertHex=function(x){var C=new hn;return C.readCertHex(x),C.getPublicKey()},hn.getPublicKeyFromCertPEM=function(x){var C=new hn;return C.readCertPEM(x),C.getPublicKey()},hn.getPublicKeyInfoPropOfCertPEM=function(x){var C,D,O=ft.getVbyList,$={algparam:null};return(C=new hn).readCertPEM(x),D=C.getPublicKeyHex(),$.keyhex=O(D,0,[1],"03").substr(2),$.algoid=O(D,0,[0,0],"06"),"2a8648ce3d0201"===$.algoid&&($.algparam=O(D,0,[0,1],"06")),$},hn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.jws&&Se.jws||(Se.jws={}),Se.jws.JWS=function(){var x=Se.jws.JWS.isSafeJSONString;this.parseJWS=function(C,D){if(void 0===this.parsedJWS||!D&&void 0===this.parsedJWS.sigvalH){var O=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==O)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var $=O[1],J=O[2],ce=O[3],Ae=$+"."+J;if(this.parsedJWS={},this.parsedJWS.headB64U=$,this.parsedJWS.payloadB64U=J,this.parsedJWS.sigvalB64U=ce,this.parsedJWS.si=Ae,!D){var _e=Ft(ce),Ee=nt(_e,16);this.parsedJWS.sigvalH=_e,this.parsedJWS.sigvalBI=Ee}var Fe=En($),Te=En(J);if(this.parsedJWS.headS=Fe,this.parsedJWS.payloadS=Te,!x(Fe,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Fe}}},Se.jws.JWS.sign=function(x,C,D,O,$){var J,ce,Ae,Ee=Se.jws.JWS,Fe=Ee.readSafeJSONString,Te=Ee.isSafeJSONString,c=Se.crypto,ze=c.Mac,Je=c.Signature,rt=JSON;if("string"!=typeof C&&"object"!=(void 0===C?"undefined":m(C)))throw"spHeader must be JSON string or object: "+C;if("object"==(void 0===C?"undefined":m(C))&&(J=rt.stringify(ce=C)),"string"==typeof C){if(!Te(J=C))throw"JWS Head is not safe JSON string: "+J;ce=Fe(J)}if(Ae=D,"object"==(void 0===D?"undefined":m(D))&&(Ae=rt.stringify(D)),""!=x&&null!=x||void 0===ce.alg||(x=ce.alg),""!=x&&null!=x&&void 0===ce.alg&&(ce.alg=x,J=rt.stringify(ce)),x!==ce.alg)throw"alg and sHeader.alg doesn't match: "+x+"!="+ce.alg;var tt=null;if(void 0===Ee.jwsalg2sigalg[x])throw"unsupported alg name: "+x;tt=Ee.jwsalg2sigalg[x];var he=Jn(J)+"."+Jn(Ae),Ne="";if("Hmac"==tt.substr(0,4)){if(void 0===O)throw"mac key shall be specified for HS* alg";var Ve=new ze({alg:tt,prov:"cryptojs",pass:O});Ve.updateString(he),Ne=Ve.doFinal()}else if(-1!=tt.indexOf("withECDSA")){(et=new Je({alg:tt})).init(O,$),et.updateString(he);var Le=et.sign();Ne=Se.crypto.ECDSA.asn1SigToConcatSig(Le)}else{var et;"none"!=tt&&((et=new Je({alg:tt})).init(O,$),et.updateString(he),Ne=et.sign())}return he+"."+$e(Ne)},Se.jws.JWS.verify=function(x,C,D){var O,J=Se.jws.JWS,ce=J.readSafeJSONString,Ae=Se.crypto,_e=Ae.ECDSA,Ee=Ae.Mac,Fe=Ae.Signature;void 0!==m(bt)&&(O=bt);var Te=x.split(".");if(3!==Te.length)return!1;var tt,c=Te[0]+"."+Te[1],ze=Ft(Te[2]),Je=ce(En(Te[0])),rt=null;if(void 0===Je.alg)throw"algorithm not specified in header";if(tt=(rt=Je.alg).substr(0,2),null!=D&&"[object Array]"===Object.prototype.toString.call(D)&&D.length>0&&-1==(":"+D.join(":")+":").indexOf(":"+rt+":"))throw"algorithm '"+rt+"' not accepted in the list";if("none"!=rt&&null===C)throw"key shall be specified to verify.";if("string"==typeof C&&-1!=C.indexOf("-----BEGIN ")&&(C=Gn.getKey(C)),!("RS"!=tt&&"PS"!=tt||C instanceof O))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==tt&&!(C instanceof _e))throw"key shall be a ECDSA obj for ES* algs";var he=null;if(void 0===J.jwsalg2sigalg[Je.alg])throw"unsupported alg name: "+rt;if("none"==(he=J.jwsalg2sigalg[rt]))throw"not supported";if("Hmac"==he.substr(0,4)){if(void 0===C)throw"hexadecimal key shall be specified for HMAC";var Ne=new Ee({alg:he,pass:C});return Ne.updateString(c),ze==Ne.doFinal()}if(-1!=he.indexOf("withECDSA")){var Ve,Le=null;try{Le=_e.concatSigToASN1Sig(ze)}catch{return!1}return(Ve=new Fe({alg:he})).init(C),Ve.updateString(c),Ve.verify(Le)}return(Ve=new Fe({alg:he})).init(C),Ve.updateString(c),Ve.verify(ze)},Se.jws.JWS.parse=function(x){var D,O,$=x.split("."),J={};if(2!=$.length&&3!=$.length)throw"malformed sJWS: wrong number of '.' splitted elements";return D=$[1],3==$.length&&(O=$[2]),J.headerObj=Se.jws.JWS.readSafeJSONString(En($[0])),J.payloadObj=Se.jws.JWS.readSafeJSONString(En(D)),J.headerPP=JSON.stringify(J.headerObj,null,"  "),J.payloadPP=null==J.payloadObj?En(D):JSON.stringify(J.payloadObj,null,"  "),void 0!==O&&(J.sigHex=Ft(O)),J},Se.jws.JWS.verifyJWT=function(x,C,D){var O=Se.jws,$=O.JWS,J=$.readSafeJSONString,ce=$.inArray,Ae=$.includedArray,_e=x.split("."),Ee=_e[0],Fe=_e[1],Te=(Ft(_e[2]),J(En(Ee))),c=J(En(Fe));if(void 0===Te.alg)return!1;if(void 0===D.alg)throw"acceptField.alg shall be specified";if(!ce(Te.alg,D.alg)||void 0!==c.iss&&"object"===m(D.iss)&&!ce(c.iss,D.iss)||void 0!==c.sub&&"object"===m(D.sub)&&!ce(c.sub,D.sub))return!1;if(void 0!==c.aud&&"object"===m(D.aud))if("string"==typeof c.aud){if(!ce(c.aud,D.aud))return!1}else if("object"==m(c.aud)&&!Ae(c.aud,D.aud))return!1;var ze=O.IntDate.getNow();return void 0!==D.verifyAt&&"number"==typeof D.verifyAt&&(ze=D.verifyAt),void 0!==D.gracePeriod&&"number"==typeof D.gracePeriod||(D.gracePeriod=0),!(void 0!==c.exp&&"number"==typeof c.exp&&c.exp+D.gracePeriod<ze||void 0!==c.nbf&&"number"==typeof c.nbf&&ze<c.nbf-D.gracePeriod||void 0!==c.iat&&"number"==typeof c.iat&&ze<c.iat-D.gracePeriod||void 0!==c.jti&&void 0!==D.jti&&c.jti!==D.jti||!$.verify(x,C,D.alg))},Se.jws.JWS.includedArray=function(x,C){var D=Se.jws.JWS.inArray;if(null===x||"object"!==(void 0===x?"undefined":m(x))||"number"!=typeof x.length)return!1;for(var O=0;O<x.length;O++)if(!D(x[O],C))return!1;return!0},Se.jws.JWS.inArray=function(x,C){if(null===C||"object"!==(void 0===C?"undefined":m(C))||"number"!=typeof C.length)return!1;for(var D=0;D<C.length;D++)if(C[D]==x)return!0;return!1},Se.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},Se.jws.JWS.isSafeJSONString=function(x,C,D){var O=null;try{return"object"!=(void 0===(O=fn(x))?"undefined":m(O))||O.constructor===Array?0:(C&&(C[D]=O),1)}catch{return 0}},Se.jws.JWS.readSafeJSONString=function(x){var C=null;try{return"object"!=(void 0===(C=fn(x))?"undefined":m(C))||C.constructor===Array?null:C}catch{return null}},Se.jws.JWS.getEncodedSignatureValueFromJWS=function(x){var C=x.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==C)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},Se.jws.JWS.getJWKthumbprint=function(x){if("RSA"!==x.kty&&"EC"!==x.kty&&"oct"!==x.kty)throw"unsupported algorithm for JWK Thumprint";var C="{";if("RSA"===x.kty){if("string"!=typeof x.n||"string"!=typeof x.e)throw"wrong n and e value for RSA key";C+='"e":"'+x.e+'",',C+='"kty":"'+x.kty+'",',C+='"n":"'+x.n+'"}'}else if("EC"===x.kty){if("string"!=typeof x.crv||"string"!=typeof x.x||"string"!=typeof x.y)throw"wrong crv, x and y value for EC key";C+='"crv":"'+x.crv+'",',C+='"kty":"'+x.kty+'",',C+='"x":"'+x.x+'",',C+='"y":"'+x.y+'"}'}else if("oct"===x.kty){if("string"!=typeof x.k)throw"wrong k value for oct(symmetric) key";C+='"kty":"'+x.kty+'",',C+='"k":"'+x.k+'"}'}var D=Qt(C);return $e(Se.crypto.Util.hashHex(D,"sha256"))},Se.jws.IntDate={},Se.jws.IntDate.get=function(x){var C=Se.jws.IntDate,D=C.getNow,O=C.getZulu;if("now"==x)return D();if("now + 1hour"==x)return D()+3600;if("now + 1day"==x)return D()+86400;if("now + 1month"==x)return D()+2592e3;if("now + 1year"==x)return D()+31536e3;if(x.match(/Z$/))return O(x);if(x.match(/^[0-9]+$/))return parseInt(x);throw"unsupported format: "+x},Se.jws.IntDate.getZulu=function(x){return gr(x)},Se.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Se.jws.IntDate.intDate2UTCString=function(x){return new Date(1e3*x).toUTCString()},Se.jws.IntDate.intDate2Zulu=function(x){var C=new Date(1e3*x);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},b.SecureRandom=je,b.rng_seed_time=ie,b.BigInteger=j,b.RSAKey=bt,b.EDSA=Se.crypto.EDSA,b.DSA=Se.crypto.DSA,b.Signature=Se.crypto.Signature,b.MessageDigest=Se.crypto.MessageDigest,b.Mac=Se.crypto.Mac,b.Cipher=Se.crypto.Cipher,b.KEYUTIL=Gn,b.ASN1HEX=ft,b.X509=hn,b.CryptoJS=R,b.b64tohex=ne,b.b64toBA=H,b.stoBA=Vt,b.BAtos=St,b.BAtohex=Pt,b.stohex=Et,b.stob64=function(C){return ee(Et(C))},b.stob64u=function(C){return ht(ee(Et(C)))},b.b64utos=function(C){return St(H(Ue(C)))},b.b64tob64u=ht,b.b64utob64=Ue,b.hex2b64=ee,b.hextob64u=$e,b.b64utohex=Ft,b.utf8tob64u=Jn,b.b64utoutf8=En,b.utf8tob64=function(C){return ee(qn(An(C)))},b.b64toutf8=function(C){return decodeURIComponent(Dn(ne(C)))},b.utf8tohex=At,b.hextoutf8=kt,b.hextorstr=gt,b.rstrtohex=Qt,b.hextob64=un,b.hextob64nl=on,b.b64nltohex=Bn,b.hextopem=rn,b.pemtohex=dn,b.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(null==C.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var D=new ArrayBuffer(C.length/2),O=new DataView(D),$=0;$<C.length/2;$++)O.setUint8($,parseInt(C.substr(2*$,2),16));return D},b.ArrayBuffertohex=function(C){for(var D="",O=new DataView(C),$=0;$<C.byteLength;$++)D+=("00"+O.getUint8($).toString(16)).slice(-2);return D},b.zulutomsec=kn,b.zulutosec=gr,b.zulutodate=function(C){return new Date(kn(C))},b.datetozulu=function(C,D,O){var $,J=C.getUTCFullYear();if(D){if(J<1950||2049<J)throw"not proper year for UTCTime: "+J;$=(""+J).slice(-2)}else $=("000"+J).slice(-4);if($+=("0"+(C.getUTCMonth()+1)).slice(-2),$+=("0"+C.getUTCDate()).slice(-2),$+=("0"+C.getUTCHours()).slice(-2),$+=("0"+C.getUTCMinutes()).slice(-2),$+=("0"+C.getUTCSeconds()).slice(-2),O){var ce=C.getUTCMilliseconds();0!==ce&&($+="."+(ce=(ce=("00"+ce).slice(-3)).replace(/0+$/g,"")))}return $+"Z"},b.uricmptohex=qn,b.hextouricmp=Dn,b.ipv6tohex=fr,b.hextoipv6=hr,b.hextoip=In,b.iptohex=function(C){var D="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&-1!==C.indexOf(":"))return fr(C);throw D}var O=C.split(".");if(4!==O.length)throw D;var $="";try{for(var J=0;J<4;J++)$+=("0"+parseInt(O[J]).toString(16)).slice(-2);return $}catch{throw D}},b.encodeURIComponentAll=An,b.newline_toUnix=function(C){return C.replace(/\r\n/gm,"\n")},b.newline_toDos=function(C){return(C=C.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},b.hextoposhex=na,b.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(D,O,$){var J=parseInt(D);if(J<0||255<J)throw"integer not in range 0-255";return("00"+J.toString(16)).slice(-2)}).join("")}catch(D){throw"malformed integer array string: "+D}},b.strdiffidx=function(C,D){var O=C.length;C.length>D.length&&(O=D.length);for(var $=0;$<O;$++)if(C.charCodeAt($)!=D.charCodeAt($))return $;return C.length!=D.length?O:-1},b.KJUR=Se,b.crypto=Se.crypto,b.asn1=Se.asn1,b.jws=Se.jws,b.lang=Se.lang}).call(this,I(28).Buffer)},function(se,b,I){"use strict";(function(a){var m=I(30),v=I(31),k=I(32);function A(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(pe,K){if(A()<K)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(pe=new Uint8Array(K)).__proto__=E.prototype:(null===pe&&(pe=new E(K)),pe.length=K),pe}function E(pe,K,Q){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(pe,K,Q);if("number"==typeof pe){if("string"==typeof K)throw new Error("If encoding is specified then the first argument must be a string");return g(this,pe)}return L(this,pe,K,Q)}function L(pe,K,Q,xe){if("number"==typeof K)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer?function(oe,ie,Me,ue){if(Me<0||ie.byteLength<Me)throw new RangeError("'offset' is out of bounds");if(ie.byteLength<Me+(ue||0))throw new RangeError("'length' is out of bounds");return ie=void 0===Me&&void 0===ue?new Uint8Array(ie):void 0===ue?new Uint8Array(ie,Me):new Uint8Array(ie,Me,ue),E.TYPED_ARRAY_SUPPORT?(oe=ie).__proto__=E.prototype:oe=V(oe,ie),oe}(pe,K,Q,xe):"string"==typeof K?function(oe,ie,Me){if("string"==typeof Me&&""!==Me||(Me="utf8"),!E.isEncoding(Me))throw new TypeError('"encoding" must be a valid string encoding');var ue=0|F(ie,Me),Z=(oe=y(oe,ue)).write(ie,Me);return Z!==ue&&(oe=oe.slice(0,Z)),oe}(pe,K,Q):function(oe,ie){if(E.isBuffer(ie)){var Me=0|w(ie.length);return 0===(oe=y(oe,Me)).length||ie.copy(oe,0,0,Me),oe}if(ie){if(typeof ArrayBuffer<"u"&&ie.buffer instanceof ArrayBuffer||"length"in ie)return"number"!=typeof ie.length||(Z=ie.length)!=Z?y(oe,0):V(oe,ie);if("Buffer"===ie.type&&k(ie.data))return V(oe,ie.data)}var Z;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(pe,K)}function f(pe){if("number"!=typeof pe)throw new TypeError('"size" argument must be a number');if(pe<0)throw new RangeError('"size" argument must not be negative')}function g(pe,K){if(f(K),pe=y(pe,K<0?0:0|w(K)),!E.TYPED_ARRAY_SUPPORT)for(var Q=0;Q<K;++Q)pe[Q]=0;return pe}function V(pe,K){var Q=K.length<0?0:0|w(K.length);pe=y(pe,Q);for(var xe=0;xe<Q;xe+=1)pe[xe]=255&K[xe];return pe}function w(pe){if(pe>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return 0|pe}function F(pe,K){if(E.isBuffer(pe))return pe.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(pe)||pe instanceof ArrayBuffer))return pe.byteLength;"string"!=typeof pe&&(pe=""+pe);var Q=pe.length;if(0===Q)return 0;for(var xe=!1;;)switch(K){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":case void 0:return Ke(pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Ze(pe).length;default:if(xe)return Ke(pe).length;K=(""+K).toLowerCase(),xe=!0}}function N(pe,K,Q){var xe=!1;if((void 0===K||K<0)&&(K=0),K>this.length||((void 0===Q||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(K>>>=0))return"";for(pe||(pe="utf8");;)switch(pe){case"hex":return X(this,K,Q);case"utf8":case"utf-8":return le(this,K,Q);case"ascii":return q(this,K,Q);case"latin1":case"binary":return te(this,K,Q);case"base64":return ae(this,K,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,K,Q);default:if(xe)throw new TypeError("Unknown encoding: "+pe);pe=(pe+"").toLowerCase(),xe=!0}}function M(pe,K,Q){var xe=pe[K];pe[K]=pe[Q],pe[Q]=xe}function G(pe,K,Q,xe,ke){if(0===pe.length)return-1;if("string"==typeof Q?(xe=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),Q=+Q,isNaN(Q)&&(Q=ke?0:pe.length-1),Q<0&&(Q=pe.length+Q),Q>=pe.length){if(ke)return-1;Q=pe.length-1}else if(Q<0){if(!ke)return-1;Q=0}if("string"==typeof K&&(K=E.from(K,xe)),E.isBuffer(K))return 0===K.length?-1:R(pe,K,Q,xe,ke);if("number"==typeof K)return K&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ke?Uint8Array.prototype.indexOf.call(pe,K,Q):Uint8Array.prototype.lastIndexOf.call(pe,K,Q):R(pe,[K],Q,xe,ke);throw new TypeError("val must be string, number or Buffer")}function R(pe,K,Q,xe,ke){var oe,ie=1,Me=pe.length,ue=K.length;if(void 0!==xe&&("ucs2"===(xe=String(xe).toLowerCase())||"ucs-2"===xe||"utf16le"===xe||"utf-16le"===xe)){if(pe.length<2||K.length<2)return-1;ie=2,Me/=2,ue/=2,Q/=2}function Z(nt,at){return 1===ie?nt[at]:nt.readUInt16BE(at*ie)}if(ke){var W=-1;for(oe=Q;oe<Me;oe++)if(Z(pe,oe)===Z(K,-1===W?0:oe-W)){if(-1===W&&(W=oe),oe-W+1===ue)return W*ie}else-1!==W&&(oe-=oe-W),W=-1}else for(Q+ue>Me&&(Q=Me-ue),oe=Q;oe>=0;oe--){for(var ve=!0,je=0;je<ue;je++)if(Z(pe,oe+je)!==Z(K,je)){ve=!1;break}if(ve)return oe}return-1}function T(pe,K,Q,xe){Q=Number(Q)||0;var ke=pe.length-Q;xe?(xe=Number(xe))>ke&&(xe=ke):xe=ke;var oe=K.length;if(oe%2!=0)throw new TypeError("Invalid hex string");xe>oe/2&&(xe=oe/2);for(var ie=0;ie<xe;++ie){var Me=parseInt(K.substr(2*ie,2),16);if(isNaN(Me))return ie;pe[Q+ie]=Me}return ie}function U(pe,K,Q,xe){return ct(Ke(K,pe.length-Q),pe,Q,xe)}function ee(pe,K,Q,xe){return ct(function(oe){for(var ie=[],Me=0;Me<oe.length;++Me)ie.push(255&oe.charCodeAt(Me));return ie}(K),pe,Q,xe)}function ne(pe,K,Q,xe){return ee(pe,K,Q,xe)}function H(pe,K,Q,xe){return ct(Ze(K),pe,Q,xe)}function j(pe,K,Q,xe){return ct(function(oe,ie){for(var Me,ue,W=[],ve=0;ve<oe.length&&!((ie-=2)<0);++ve)ue=(Me=oe.charCodeAt(ve))>>8,W.push(Me%256),W.push(ue);return W}(K,pe.length-Q),pe,Q,xe)}function ae(pe,K,Q){return m.fromByteArray(0===K&&Q===pe.length?pe:pe.slice(K,Q))}function le(pe,K,Q){Q=Math.min(pe.length,Q);for(var xe=[],ke=K;ke<Q;){var oe,ie,Me,ue,Z=pe[ke],W=null,ve=Z>239?4:Z>223?3:Z>191?2:1;if(ke+ve<=Q)switch(ve){case 1:Z<128&&(W=Z);break;case 2:128==(192&(oe=pe[ke+1]))&&(ue=(31&Z)<<6|63&oe)>127&&(W=ue);break;case 3:ie=pe[ke+2],128==(192&(oe=pe[ke+1]))&&128==(192&ie)&&(ue=(15&Z)<<12|(63&oe)<<6|63&ie)>2047&&(ue<55296||ue>57343)&&(W=ue);break;case 4:ie=pe[ke+2],Me=pe[ke+3],128==(192&(oe=pe[ke+1]))&&128==(192&ie)&&128==(192&Me)&&(ue=(15&Z)<<18|(63&oe)<<12|(63&ie)<<6|63&Me)>65535&&ue<1114112&&(W=ue)}null===W?(W=65533,ve=1):W>65535&&(xe.push((W-=65536)>>>10&1023|55296),W=56320|1023&W),xe.push(W),ke+=ve}return function(nt){var at=nt.length;if(at<=re)return String.fromCharCode.apply(String,nt);for(var bt="",Ot=0;Ot<at;)bt+=String.fromCharCode.apply(String,nt.slice(Ot,Ot+=re));return bt}(xe)}b.Buffer=E,b.SlowBuffer=function(K){return+K!=K&&(K=0),E.alloc(+K)},b.INSPECT_MAX_BYTES=50,E.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===K.foo()&&"function"==typeof K.subarray&&0===K.subarray(1,1).byteLength}catch{return!1}}(),b.kMaxLength=A(),E.poolSize=8192,E._augment=function(pe){return pe.__proto__=E.prototype,pe},E.from=function(pe,K,Q){return L(null,pe,K,Q)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0})),E.alloc=function(pe,K,Q){return ie=K,Me=Q,f(oe=pe),oe<=0?y(null,oe):void 0!==ie?"string"==typeof Me?y(null,oe).fill(ie,Me):y(null,oe).fill(ie):y(null,oe);var oe,ie,Me},E.allocUnsafe=function(pe){return g(null,pe)},E.allocUnsafeSlow=function(pe){return g(null,pe)},E.isBuffer=function(K){return!(null==K||!K._isBuffer)},E.compare=function(K,Q){if(!E.isBuffer(K)||!E.isBuffer(Q))throw new TypeError("Arguments must be Buffers");if(K===Q)return 0;for(var xe=K.length,ke=Q.length,oe=0,ie=Math.min(xe,ke);oe<ie;++oe)if(K[oe]!==Q[oe]){xe=K[oe],ke=Q[oe];break}return xe<ke?-1:ke<xe?1:0},E.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(K,Q){if(!k(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return E.alloc(0);var xe;if(void 0===Q)for(Q=0,xe=0;xe<K.length;++xe)Q+=K[xe].length;var ke=E.allocUnsafe(Q),oe=0;for(xe=0;xe<K.length;++xe){var ie=K[xe];if(!E.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(ke,oe),oe+=ie.length}return ke},E.byteLength=F,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<K;Q+=2)M(this,Q,Q+1);return this},E.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<K;Q+=4)M(this,Q,Q+3),M(this,Q+1,Q+2);return this},E.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<K;Q+=8)M(this,Q,Q+7),M(this,Q+1,Q+6),M(this,Q+2,Q+5),M(this,Q+3,Q+4);return this},E.prototype.toString=function(){var K=0|this.length;return 0===K?"":0===arguments.length?le(this,0,K):N.apply(this,arguments)},E.prototype.equals=function(K){if(!E.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K||0===E.compare(this,K)},E.prototype.inspect=function(){var K="",Q=b.INSPECT_MAX_BYTES;return this.length>0&&(K=this.toString("hex",0,Q).match(/.{2}/g).join(" "),this.length>Q&&(K+=" ... ")),"<Buffer "+K+">"},E.prototype.compare=function(K,Q,xe,ke,oe){if(!E.isBuffer(K))throw new TypeError("Argument must be a Buffer");if(void 0===Q&&(Q=0),void 0===xe&&(xe=K?K.length:0),void 0===ke&&(ke=0),void 0===oe&&(oe=this.length),Q<0||xe>K.length||ke<0||oe>this.length)throw new RangeError("out of range index");if(ke>=oe&&Q>=xe)return 0;if(ke>=oe)return-1;if(Q>=xe)return 1;if(this===K)return 0;for(var ie=(oe>>>=0)-(ke>>>=0),Me=(xe>>>=0)-(Q>>>=0),ue=Math.min(ie,Me),Z=this.slice(ke,oe),W=K.slice(Q,xe),ve=0;ve<ue;++ve)if(Z[ve]!==W[ve]){ie=Z[ve],Me=W[ve];break}return ie<Me?-1:Me<ie?1:0},E.prototype.includes=function(K,Q,xe){return-1!==this.indexOf(K,Q,xe)},E.prototype.indexOf=function(K,Q,xe){return G(this,K,Q,xe,!0)},E.prototype.lastIndexOf=function(K,Q,xe){return G(this,K,Q,xe,!1)},E.prototype.write=function(K,Q,xe,ke){if(void 0===Q)ke="utf8",xe=this.length,Q=0;else if(void 0===xe&&"string"==typeof Q)ke=Q,xe=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q|=0,isFinite(xe)?(xe|=0,void 0===ke&&(ke="utf8")):(ke=xe,xe=void 0)}var oe=this.length-Q;if((void 0===xe||xe>oe)&&(xe=oe),K.length>0&&(xe<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var ie=!1;;)switch(ke){case"hex":return T(this,K,Q,xe);case"utf8":case"utf-8":return U(this,K,Q,xe);case"ascii":return ee(this,K,Q,xe);case"latin1":case"binary":return ne(this,K,Q,xe);case"base64":return H(this,K,Q,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,K,Q,xe);default:if(ie)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),ie=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var re=4096;function q(pe,K,Q){var xe="";Q=Math.min(pe.length,Q);for(var ke=K;ke<Q;++ke)xe+=String.fromCharCode(127&pe[ke]);return xe}function te(pe,K,Q){var xe="";Q=Math.min(pe.length,Q);for(var ke=K;ke<Q;++ke)xe+=String.fromCharCode(pe[ke]);return xe}function X(pe,K,Q){var xe=pe.length;(!K||K<0)&&(K=0),(!Q||Q<0||Q>xe)&&(Q=xe);for(var ke="",oe=K;oe<Q;++oe)ke+=vt(pe[oe]);return ke}function ye(pe,K,Q){for(var xe=pe.slice(K,Q),ke="",oe=0;oe<xe.length;oe+=2)ke+=String.fromCharCode(xe[oe]+256*xe[oe+1]);return ke}function De(pe,K,Q){if(pe%1!=0||pe<0)throw new RangeError("offset is not uint");if(pe+K>Q)throw new RangeError("Trying to access beyond buffer length")}function Ie(pe,K,Q,xe,ke,oe){if(!E.isBuffer(pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>ke||K<oe)throw new RangeError('"value" argument is out of bounds');if(Q+xe>pe.length)throw new RangeError("Index out of range")}function Ge(pe,K,Q,xe){K<0&&(K=65535+K+1);for(var ke=0,oe=Math.min(pe.length-Q,2);ke<oe;++ke)pe[Q+ke]=(K&255<<8*(xe?ke:1-ke))>>>8*(xe?ke:1-ke)}function Ce(pe,K,Q,xe){K<0&&(K=4294967295+K+1);for(var ke=0,oe=Math.min(pe.length-Q,4);ke<oe;++ke)pe[Q+ke]=K>>>8*(xe?ke:3-ke)&255}function Be(pe,K,Q,xe,ke,oe){if(Q+xe>pe.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function Xe(pe,K,Q,xe,ke){return ke||Be(pe,0,Q,4),v.write(pe,K,Q,xe,23,4),Q+4}function Ye(pe,K,Q,xe,ke){return ke||Be(pe,0,Q,8),v.write(pe,K,Q,xe,52,8),Q+8}E.prototype.slice=function(K,Q){var xe,ke=this.length;if((K=~~K)<0?(K+=ke)<0&&(K=0):K>ke&&(K=ke),(Q=void 0===Q?ke:~~Q)<0?(Q+=ke)<0&&(Q=0):Q>ke&&(Q=ke),Q<K&&(Q=K),E.TYPED_ARRAY_SUPPORT)(xe=this.subarray(K,Q)).__proto__=E.prototype;else{var oe=Q-K;xe=new E(oe,void 0);for(var ie=0;ie<oe;++ie)xe[ie]=this[ie+K]}return xe},E.prototype.readUIntLE=function(K,Q,xe){K|=0,Q|=0,xe||De(K,Q,this.length);for(var ke=this[K],oe=1,ie=0;++ie<Q&&(oe*=256);)ke+=this[K+ie]*oe;return ke},E.prototype.readUIntBE=function(K,Q,xe){K|=0,Q|=0,xe||De(K,Q,this.length);for(var ke=this[K+--Q],oe=1;Q>0&&(oe*=256);)ke+=this[K+--Q]*oe;return ke},E.prototype.readUInt8=function(K,Q){return Q||De(K,1,this.length),this[K]},E.prototype.readUInt16LE=function(K,Q){return Q||De(K,2,this.length),this[K]|this[K+1]<<8},E.prototype.readUInt16BE=function(K,Q){return Q||De(K,2,this.length),this[K]<<8|this[K+1]},E.prototype.readUInt32LE=function(K,Q){return Q||De(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},E.prototype.readUInt32BE=function(K,Q){return Q||De(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},E.prototype.readIntLE=function(K,Q,xe){K|=0,Q|=0,xe||De(K,Q,this.length);for(var ke=this[K],oe=1,ie=0;++ie<Q&&(oe*=256);)ke+=this[K+ie]*oe;return ke>=(oe*=128)&&(ke-=Math.pow(2,8*Q)),ke},E.prototype.readIntBE=function(K,Q,xe){K|=0,Q|=0,xe||De(K,Q,this.length);for(var ke=Q,oe=1,ie=this[K+--ke];ke>0&&(oe*=256);)ie+=this[K+--ke]*oe;return ie>=(oe*=128)&&(ie-=Math.pow(2,8*Q)),ie},E.prototype.readInt8=function(K,Q){return Q||De(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},E.prototype.readInt16LE=function(K,Q){Q||De(K,2,this.length);var xe=this[K]|this[K+1]<<8;return 32768&xe?4294901760|xe:xe},E.prototype.readInt16BE=function(K,Q){Q||De(K,2,this.length);var xe=this[K+1]|this[K]<<8;return 32768&xe?4294901760|xe:xe},E.prototype.readInt32LE=function(K,Q){return Q||De(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},E.prototype.readInt32BE=function(K,Q){return Q||De(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},E.prototype.readFloatLE=function(K,Q){return Q||De(K,4,this.length),v.read(this,K,!0,23,4)},E.prototype.readFloatBE=function(K,Q){return Q||De(K,4,this.length),v.read(this,K,!1,23,4)},E.prototype.readDoubleLE=function(K,Q){return Q||De(K,8,this.length),v.read(this,K,!0,52,8)},E.prototype.readDoubleBE=function(K,Q){return Q||De(K,8,this.length),v.read(this,K,!1,52,8)},E.prototype.writeUIntLE=function(K,Q,xe,ke){K=+K,Q|=0,xe|=0,ke||Ie(this,K,Q,xe,Math.pow(2,8*xe)-1,0);var oe=1,ie=0;for(this[Q]=255&K;++ie<xe&&(oe*=256);)this[Q+ie]=K/oe&255;return Q+xe},E.prototype.writeUIntBE=function(K,Q,xe,ke){K=+K,Q|=0,xe|=0,ke||Ie(this,K,Q,xe,Math.pow(2,8*xe)-1,0);var oe=xe-1,ie=1;for(this[Q+oe]=255&K;--oe>=0&&(ie*=256);)this[Q+oe]=K/ie&255;return Q+xe},E.prototype.writeUInt8=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,1,255,0),E.TYPED_ARRAY_SUPPORT||(K=Math.floor(K)),this[Q]=255&K,Q+1},E.prototype.writeUInt16LE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[Q]=255&K,this[Q+1]=K>>>8):Ge(this,K,Q,!0),Q+2},E.prototype.writeUInt16BE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[Q]=K>>>8,this[Q+1]=255&K):Ge(this,K,Q,!1),Q+2},E.prototype.writeUInt32LE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[Q+3]=K>>>24,this[Q+2]=K>>>16,this[Q+1]=K>>>8,this[Q]=255&K):Ce(this,K,Q,!0),Q+4},E.prototype.writeUInt32BE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[Q]=K>>>24,this[Q+1]=K>>>16,this[Q+2]=K>>>8,this[Q+3]=255&K):Ce(this,K,Q,!1),Q+4},E.prototype.writeIntLE=function(K,Q,xe,ke){if(K=+K,Q|=0,!ke){var oe=Math.pow(2,8*xe-1);Ie(this,K,Q,xe,oe-1,-oe)}var ie=0,Me=1,ue=0;for(this[Q]=255&K;++ie<xe&&(Me*=256);)K<0&&0===ue&&0!==this[Q+ie-1]&&(ue=1),this[Q+ie]=(K/Me|0)-ue&255;return Q+xe},E.prototype.writeIntBE=function(K,Q,xe,ke){if(K=+K,Q|=0,!ke){var oe=Math.pow(2,8*xe-1);Ie(this,K,Q,xe,oe-1,-oe)}var ie=xe-1,Me=1,ue=0;for(this[Q+ie]=255&K;--ie>=0&&(Me*=256);)K<0&&0===ue&&0!==this[Q+ie+1]&&(ue=1),this[Q+ie]=(K/Me|0)-ue&255;return Q+xe},E.prototype.writeInt8=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,1,127,-128),E.TYPED_ARRAY_SUPPORT||(K=Math.floor(K)),K<0&&(K=255+K+1),this[Q]=255&K,Q+1},E.prototype.writeInt16LE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[Q]=255&K,this[Q+1]=K>>>8):Ge(this,K,Q,!0),Q+2},E.prototype.writeInt16BE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[Q]=K>>>8,this[Q+1]=255&K):Ge(this,K,Q,!1),Q+2},E.prototype.writeInt32LE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[Q]=255&K,this[Q+1]=K>>>8,this[Q+2]=K>>>16,this[Q+3]=K>>>24):Ce(this,K,Q,!0),Q+4},E.prototype.writeInt32BE=function(K,Q,xe){return K=+K,Q|=0,xe||Ie(this,K,Q,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),E.TYPED_ARRAY_SUPPORT?(this[Q]=K>>>24,this[Q+1]=K>>>16,this[Q+2]=K>>>8,this[Q+3]=255&K):Ce(this,K,Q,!1),Q+4},E.prototype.writeFloatLE=function(K,Q,xe){return Xe(this,K,Q,!0,xe)},E.prototype.writeFloatBE=function(K,Q,xe){return Xe(this,K,Q,!1,xe)},E.prototype.writeDoubleLE=function(K,Q,xe){return Ye(this,K,Q,!0,xe)},E.prototype.writeDoubleBE=function(K,Q,xe){return Ye(this,K,Q,!1,xe)},E.prototype.copy=function(K,Q,xe,ke){if(xe||(xe=0),ke||0===ke||(ke=this.length),Q>=K.length&&(Q=K.length),Q||(Q=0),ke>0&&ke<xe&&(ke=xe),ke===xe||0===K.length||0===this.length)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(xe<0||xe>=this.length)throw new RangeError("sourceStart out of bounds");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),K.length-Q<ke-xe&&(ke=K.length-Q+xe);var oe,ie=ke-xe;if(this===K&&xe<Q&&Q<ke)for(oe=ie-1;oe>=0;--oe)K[oe+Q]=this[oe+xe];else if(ie<1e3||!E.TYPED_ARRAY_SUPPORT)for(oe=0;oe<ie;++oe)K[oe+Q]=this[oe+xe];else Uint8Array.prototype.set.call(K,this.subarray(xe,xe+ie),Q);return ie},E.prototype.fill=function(K,Q,xe,ke){if("string"==typeof K){if("string"==typeof Q?(ke=Q,Q=0,xe=this.length):"string"==typeof xe&&(ke=xe,xe=this.length),1===K.length){var oe=K.charCodeAt(0);oe<256&&(K=oe)}if(void 0!==ke&&"string"!=typeof ke)throw new TypeError("encoding must be a string");if("string"==typeof ke&&!E.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke)}else"number"==typeof K&&(K&=255);if(Q<0||this.length<Q||this.length<xe)throw new RangeError("Out of range index");if(xe<=Q)return this;var ie;if(Q>>>=0,xe=void 0===xe?this.length:xe>>>0,K||(K=0),"number"==typeof K)for(ie=Q;ie<xe;++ie)this[ie]=K;else{var Me=E.isBuffer(K)?K:Ke(new E(K,ke).toString()),ue=Me.length;for(ie=0;ie<xe-Q;++ie)this[ie+Q]=Me[ie%ue]}return this};var it=/[^+\/0-9A-Za-z-_]/g;function vt(pe){return pe<16?"0"+pe.toString(16):pe.toString(16)}function Ke(pe,K){var Q;K=K||1/0;for(var xe=pe.length,ke=null,oe=[],ie=0;ie<xe;++ie){if((Q=pe.charCodeAt(ie))>55295&&Q<57344){if(!ke){if(Q>56319){(K-=3)>-1&&oe.push(239,191,189);continue}if(ie+1===xe){(K-=3)>-1&&oe.push(239,191,189);continue}ke=Q;continue}if(Q<56320){(K-=3)>-1&&oe.push(239,191,189),ke=Q;continue}Q=65536+(ke-55296<<10|Q-56320)}else ke&&(K-=3)>-1&&oe.push(239,191,189);if(ke=null,Q<128){if((K-=1)<0)break;oe.push(Q)}else if(Q<2048){if((K-=2)<0)break;oe.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((K-=3)<0)break;oe.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((K-=4)<0)break;oe.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return oe}function Ze(pe){return m.toByteArray(function(Q){if((Q=(ke=Q,ke.trim?ke.trim():ke.replace(/^\s+|\s+$/g,"")).replace(it,"")).length<2)return"";for(var ke;Q.length%4!=0;)Q+="=";return Q}(pe))}function ct(pe,K,Q,xe){for(var ke=0;ke<xe&&!(ke+Q>=K.length||ke>=pe.length);++ke)K[ke+Q]=pe[ke];return ke}}).call(this,I(29))},function(se,b){var I;I=function(){return this}();try{I=I||new Function("return this")()}catch{"object"==typeof window&&(I=window)}se.exports=I},function(se,b,I){"use strict";b.byteLength=function(g){var V=E(g),F=V[1];return 3*(V[0]+F)/4-F},b.toByteArray=function(g){var V,w,H,F=E(g),N=F[0],M=F[1],G=new v(3*(N+(H=M))/4-H),R=0,T=M>0?N-4:N;for(w=0;w<T;w+=4)V=m[g.charCodeAt(w)]<<18|m[g.charCodeAt(w+1)]<<12|m[g.charCodeAt(w+2)]<<6|m[g.charCodeAt(w+3)],G[R++]=V>>16&255,G[R++]=V>>8&255,G[R++]=255&V;return 2===M&&(V=m[g.charCodeAt(w)]<<2|m[g.charCodeAt(w+1)]>>4,G[R++]=255&V),1===M&&(V=m[g.charCodeAt(w)]<<10|m[g.charCodeAt(w+1)]<<4|m[g.charCodeAt(w+2)]>>2,G[R++]=V>>8&255,G[R++]=255&V),G},b.fromByteArray=function(g){for(var V,w=g.length,F=w%3,N=[],M=16383,G=0,R=w-F;G<R;G+=M)N.push(L(g,G,G+M>R?R:G+M));return 1===F?N.push(a[(V=g[w-1])>>2]+a[V<<4&63]+"=="):2===F&&N.push(a[(V=(g[w-2]<<8)+g[w-1])>>10]+a[V>>4&63]+a[V<<2&63]+"="),N.join("")};for(var a=[],m=[],v=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)a[A]=k[A],m[k.charCodeAt(A)]=A;function E(f){var g=f.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var V=f.indexOf("=");return-1===V&&(V=g),[V,V===g?0:4-V%4]}function L(f,g,V){for(var F,N=[],M=g;M<V;M+=3)N.push(a[(F=(f[M]<<16&16711680)+(f[M+1]<<8&65280)+(255&f[M+2]))>>18&63]+a[F>>12&63]+a[F>>6&63]+a[63&F]);return N.join("")}m[45]=62,m[95]=63},function(se,b){b.read=function(I,a,m,v,k){var A,y,E=8*k-v-1,L=(1<<E)-1,f=L>>1,g=-7,V=m?k-1:0,w=m?-1:1,F=I[a+V];for(V+=w,A=F&(1<<-g)-1,F>>=-g,g+=E;g>0;A=256*A+I[a+V],V+=w,g-=8);for(y=A&(1<<-g)-1,A>>=-g,g+=v;g>0;y=256*y+I[a+V],V+=w,g-=8);if(0===A)A=1-f;else{if(A===L)return y?NaN:1/0*(F?-1:1);y+=Math.pow(2,v),A-=f}return(F?-1:1)*y*Math.pow(2,A-v)},b.write=function(I,a,m,v,k,A){var y,E,L,f=8*A-k-1,g=(1<<f)-1,V=g>>1,w=23===k?Math.pow(2,-24)-Math.pow(2,-77):0,F=v?0:A-1,N=v?1:-1,M=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(E=isNaN(a)?1:0,y=g):(y=Math.floor(Math.log(a)/Math.LN2),a*(L=Math.pow(2,-y))<1&&(y--,L*=2),(a+=y+V>=1?w/L:w*Math.pow(2,1-V))*L>=2&&(y++,L/=2),y+V>=g?(E=0,y=g):y+V>=1?(E=(a*L-1)*Math.pow(2,k),y+=V):(E=a*Math.pow(2,V-1)*Math.pow(2,k),y=0));k>=8;I[m+F]=255&E,F+=N,E/=256,k-=8);for(y=y<<k|E,f+=k;f>0;I[m+F]=255&y,F+=N,y/=256,f-=8);I[m+F-N]|=128*M}},function(se,b){var I={}.toString;se.exports=Array.isArray||function(a){return"[object Array]"==I.call(a)}},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(v){var k=v.jws,A=v.KeyUtil,y=v.X509,E=v.crypto,L=v.hextob64u,f=v.b64tohex,g=v.AllowedSigningAlgs;return function(){function V(){!function(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}(this,V)}return V.parseJwt=function(F){a.Log.debug("JoseUtil.parseJwt");try{var N=k.JWS.parse(F);return{header:N.headerObj,payload:N.payloadObj}}catch(M){a.Log.error(M)}},V.validateJwt=function(F,N,M,G,R,T,U){a.Log.debug("JoseUtil.validateJwt");try{if("RSA"===N.kty)if(N.e&&N.n)N=A.getKey(N);else{if(!N.x5c||!N.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",N),Promise.reject(new Error("RSA key missing key material"));var ee=f(N.x5c[0]);N=y.getPublicKeyFromCertHex(ee)}else{if("EC"!==N.kty)return a.Log.error("JoseUtil.validateJwt: Unsupported key type",N&&N.kty),Promise.reject(new Error(N.kty));if(!(N.crv&&N.x&&N.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",N),Promise.reject(new Error("EC key missing key material"));N=A.getKey(N)}return V._validateJwt(F,N,M,G,R,T,U)}catch(ne){return a.Log.error(ne&&ne.message||ne),Promise.reject("JWT validation failed")}},V.validateJwtAttributes=function(F,N,M,G,R,T){G||(G=0),R||(R=parseInt(Date.now()/1e3));var U=V.parseJwt(F).payload;if(!U.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(U.iss!==N)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",U.iss),Promise.reject(new Error("Invalid issuer in token: "+U.iss));if(!U.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(U.aud===M||Array.isArray(U.aud)&&U.aud.indexOf(M)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",U.aud),Promise.reject(new Error("Invalid audience in token: "+U.aud));if(U.azp&&U.azp!==M)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",U.azp),Promise.reject(new Error("Invalid azp in token: "+U.azp));if(!T){var ee=R+G,ne=R-G;if(!U.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(ee<U.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",U.iat),Promise.reject(new Error("iat is in the future: "+U.iat));if(U.nbf&&ee<U.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",U.nbf),Promise.reject(new Error("nbf is in the future: "+U.nbf));if(!U.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(U.exp<ne)return a.Log.error("JoseUtil._validateJwt: exp is in the past",U.exp),Promise.reject(new Error("exp is in the past:"+U.exp))}return Promise.resolve(U)},V._validateJwt=function(F,N,M,G,R,T,U){return V.validateJwtAttributes(F,M,G,R,T,U).then(function(ee){try{return k.JWS.verify(F,N,g)?ee:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(ne){return a.Log.error(ne&&ne.message||ne),Promise.reject(new Error("signature validation failed"))}})},V.hashString=function(F,N){try{return E.Util.hashString(F,N)}catch(M){a.Log.error(M)}},V.hexToBase64Url=function(F){try{return L(F)}catch(N){a.Log.error(N)}},V}()};var a=I(0);se.exports=b.default},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninResponse=void 0;var a=function(){function k(A,y){for(var E=0;E<y.length;E++){var L=y[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,y,E){return y&&k(A.prototype,y),E&&k(A,E),A}}(),m=I(3);b.SigninResponse=function(){function k(A){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function v(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,k);var E=m.UrlUtility.parseUrlFragment(A,y);this.error=E.error,this.error_description=E.error_description,this.error_uri=E.error_uri,this.code=E.code,this.state=E.state,this.id_token=E.id_token,this.session_state=E.session_state,this.access_token=E.access_token,this.token_type=E.token_type,this.scope=E.scope,this.profile=void 0,this.expires_in=E.expires_in}return a(k,[{key:"expires_in",get:function(){if(this.expires_at){var y=parseInt(Date.now()/1e3);return this.expires_at-y}},set:function(y){var E=parseInt(y);if("number"==typeof E&&E>0){var L=parseInt(Date.now()/1e3);this.expires_at=L+E}}},{key:"expired",get:function(){var y=this.expires_in;if(void 0!==y)return y<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),k}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutRequest=void 0;var a=I(0),m=I(3),v=I(9);b.SignoutRequest=function k(A){var y=A.url,E=A.id_token_hint,L=A.post_logout_redirect_uri,f=A.data,g=A.extraQueryParams,V=A.request_type;if(function(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}(this,k),!y)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var w in E&&(y=m.UrlUtility.addQueryParam(y,"id_token_hint",E)),L&&(y=m.UrlUtility.addQueryParam(y,"post_logout_redirect_uri",L),f&&(this.state=new v.State({data:f,request_type:V}),y=m.UrlUtility.addQueryParam(y,"state",this.state.id))),g)y=m.UrlUtility.addQueryParam(y,w,g[w]);this.url=y}},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutResponse=void 0;var a=I(3);b.SignoutResponse=function m(v){!function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,m);var k=a.UrlUtility.parseUrlFragment(v,"?");this.error=k.error,this.error_description=k.error_description,this.error_uri=k.error_uri,this.state=k.state}},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InMemoryWebStorage=void 0;var a=function(){function v(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&v(k.prototype,A),y&&v(k,y),k}}(),m=I(0);b.InMemoryWebStorage=function(){function v(){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this._data={}}return v.prototype.getItem=function(A){return m.Log.debug("InMemoryWebStorage.getItem",A),this._data[A]},v.prototype.setItem=function(A,y){m.Log.debug("InMemoryWebStorage.setItem",A),this._data[A]=y},v.prototype.removeItem=function(A){m.Log.debug("InMemoryWebStorage.removeItem",A),delete this._data[A]},v.prototype.key=function(A){return Object.getOwnPropertyNames(this._data)[A]},a(v,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManager=void 0;var a=function(){function M(G,R){for(var T=0;T<R.length;T++){var U=R[T];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(G,U.key,U)}}return function(G,R,T){return R&&M(G.prototype,R),T&&M(G,T),G}}(),m=I(0),v=I(10),k=I(39),A=I(15),y=I(45),E=I(47),L=I(18),f=I(8),g=I(20),V=I(11),w=I(4);b.UserManager=function(M){function G(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.SilentRenewService,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.SessionMonitor,ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.TokenRevocationClient,ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:V.TokenClient,H=arguments.length>5&&void 0!==arguments[5]?arguments[5]:w.JoseUtil;(function F(M,G){if(!(M instanceof G))throw new TypeError("Cannot call a class as a function")})(this,G),R instanceof k.UserManagerSettings||(R=new k.UserManagerSettings(R));var j=function N(M,G){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?M:G}(this,M.call(this,R));return j._events=new y.UserManagerEvents(R),j._silentRenewService=new T(j),j.settings.automaticSilentRenew&&(m.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),j.startSilentRenew()),j.settings.monitorSession&&(m.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),j._sessionMonitor=new U(j)),j._tokenRevocationClient=new ee(j._settings),j._tokenClient=new ne(j._settings),j._joseUtil=H,j}return function(T,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);T.prototype=Object.create(U&&U.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(T,U):T.__proto__=U)}(G,M),G.prototype.getUser=function(){var T=this;return this._loadUser().then(function(U){return U?(m.Log.info("UserManager.getUser: user loaded"),T._events.load(U,!1),U):(m.Log.info("UserManager.getUser: user not found in storage"),null)})},G.prototype.removeUser=function(){var T=this;return this.storeUser(null).then(function(){m.Log.info("UserManager.removeUser: user removed from storage"),T._events.unload()})},G.prototype.signinRedirect=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(T=Object.assign({},T)).request_type="si:r",this._signinStart(T,this._redirectNavigator,{useReplaceToNavigate:T.useReplaceToNavigate}).then(function(){m.Log.info("UserManager.signinRedirect: successful")})},G.prototype.signinRedirectCallback=function(T){return this._signinEnd(T||this._redirectNavigator.url).then(function(U){return U.profile&&U.profile.sub?m.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",U.profile.sub):m.Log.info("UserManager.signinRedirectCallback: no sub"),U})},G.prototype.signinPopup=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(T=Object.assign({},T)).request_type="si:p";var U=T.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return U?(T.redirect_uri=U,T.display="popup",this._signin(T,this._popupNavigator,{startUrl:U,popupWindowFeatures:T.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:T.popupWindowTarget||this.settings.popupWindowTarget}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?m.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",ee.profile.sub):m.Log.info("UserManager.signinPopup: no sub")),ee})):(m.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},G.prototype.signinPopupCallback=function(T){return this._signinCallback(T,this._popupNavigator).then(function(U){return U&&(U.profile&&U.profile.sub?m.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",U.profile.sub):m.Log.info("UserManager.signinPopupCallback: no sub")),U}).catch(function(U){m.Log.error(U.message)})},G.prototype.signinSilent=function(){var T=this,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U=Object.assign({},U),this._loadUser().then(function(ee){return ee&&ee.refresh_token?(U.refresh_token=ee.refresh_token,T._useRefreshToken(U)):(U.request_type="si:s",U.id_token_hint=U.id_token_hint||T.settings.includeIdTokenInSilentRenew&&ee&&ee.id_token,ee&&T._settings.validateSubOnSilentRenew&&(m.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",ee.profile.sub),U.current_sub=ee.profile.sub),T._signinSilentIframe(U))})},G.prototype._useRefreshToken=function(){var T=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(ee){return ee?ee.access_token?T._loadUser().then(function(ne){if(ne){var H=Promise.resolve();return ee.id_token&&(H=T._validateIdTokenFromTokenRefreshToken(ne.profile,ee.id_token)),H.then(function(){return m.Log.debug("UserManager._useRefreshToken: refresh token response success"),ne.id_token=ee.id_token||ne.id_token,ne.access_token=ee.access_token,ne.refresh_token=ee.refresh_token||ne.refresh_token,ne.expires_in=ee.expires_in,T.storeUser(ne).then(function(){return T._events.load(ne),ne})})}return null}):(m.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(m.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},G.prototype._validateIdTokenFromTokenRefreshToken=function(T,U){var ee=this;return this._metadataService.getIssuer().then(function(ne){return ee.settings.getEpochTime().then(function(H){return ee._joseUtil.validateJwtAttributes(U,ne,ee._settings.client_id,ee._settings.clockSkew,H).then(function(j){return j?j.sub!==T.sub?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):j.auth_time&&j.auth_time!==T.auth_time?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):j.azp&&j.azp!==T.azp?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!j.azp&&T.azp?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},G.prototype._signinSilentIframe=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=T.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return U?(T.redirect_uri=U,T.prompt=T.prompt||"none",this._signin(T,this._iframeNavigator,{startUrl:U,silentRequestTimeout:T.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?m.Log.info("UserManager.signinSilent: successful, signed in sub: ",ee.profile.sub):m.Log.info("UserManager.signinSilent: no sub")),ee})):(m.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},G.prototype.signinSilentCallback=function(T){return this._signinCallback(T,this._iframeNavigator).then(function(U){return U&&(U.profile&&U.profile.sub?m.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",U.profile.sub):m.Log.info("UserManager.signinSilentCallback: no sub")),U})},G.prototype.signinCallback=function(T){var U=this;return this.readSigninResponseState(T).then(function(ee){var ne=ee.state;return"si:r"===ne.request_type?U.signinRedirectCallback(T):"si:p"===ne.request_type?U.signinPopupCallback(T):"si:s"===ne.request_type?U.signinSilentCallback(T):Promise.reject(new Error("invalid response_type in state"))})},G.prototype.signoutCallback=function(T,U){var ee=this;return this.readSignoutResponseState(T).then(function(ne){var H=ne.state,j=ne.response;return H?"so:r"===H.request_type?ee.signoutRedirectCallback(T):"so:p"===H.request_type?ee.signoutPopupCallback(T,U):Promise.reject(new Error("invalid response_type in state")):j})},G.prototype.querySessionStatus=function(){var T=this,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(U=Object.assign({},U)).request_type="si:s";var ee=U.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ee?(U.redirect_uri=ee,U.prompt="none",U.response_type=U.response_type||this.settings.query_status_response_type,U.scope=U.scope||"openid",U.skipUserInfo=!0,this._signinStart(U,this._iframeNavigator,{startUrl:ee,silentRequestTimeout:U.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ne){return T.processSigninResponse(ne.url).then(function(H){if(m.Log.debug("UserManager.querySessionStatus: got signin response"),H.session_state&&H.profile.sub)return m.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",H.profile.sub),{session_state:H.session_state,sub:H.profile.sub,sid:H.profile.sid};m.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(H){if(H.session_state&&T.settings.monitorAnonymousSession&&("login_required"==H.message||"consent_required"==H.message||"interaction_required"==H.message||"account_selection_required"==H.message))return m.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:H.session_state};throw H})})):(m.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},G.prototype._signin=function(T,U){var ee=this;return this._signinStart(T,U,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(H){return ee._signinEnd(H.url,T)})},G.prototype._signinStart=function(T,U){var ee=this,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return U.prepare(ne).then(function(H){return m.Log.debug("UserManager._signinStart: got navigator window handle"),ee.createSigninRequest(T).then(function(j){return m.Log.debug("UserManager._signinStart: got signin request"),ne.url=j.url,ne.id=j.state.id,H.navigate(ne)}).catch(function(j){throw H.close&&(m.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),H.close()),j})})},G.prototype._signinEnd=function(T){var U=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(T).then(function(ne){m.Log.debug("UserManager._signinEnd: got signin response");var H=new A.User(ne);if(ee.current_sub){if(ee.current_sub!==H.profile.sub)return m.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",H.profile.sub),Promise.reject(new Error("login_required"));m.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return U.storeUser(H).then(function(){return m.Log.debug("UserManager._signinEnd: user stored"),U._events.load(H),H})})},G.prototype._signinCallback=function(T,U){m.Log.debug("UserManager._signinCallback");var ee="query"===this._settings.response_mode||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type)?"?":"#";return U.callback(T,void 0,ee)},G.prototype.signoutRedirect=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(T=Object.assign({},T)).request_type="so:r";var U=T.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return U&&(T.post_logout_redirect_uri=U),this._signoutStart(T,this._redirectNavigator,{useReplaceToNavigate:T.useReplaceToNavigate}).then(function(){m.Log.info("UserManager.signoutRedirect: successful")})},G.prototype.signoutRedirectCallback=function(T){return this._signoutEnd(T||this._redirectNavigator.url).then(function(U){return m.Log.info("UserManager.signoutRedirectCallback: successful"),U})},G.prototype.signoutPopup=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(T=Object.assign({},T)).request_type="so:p";var U=T.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return T.post_logout_redirect_uri=U,T.display="popup",T.post_logout_redirect_uri&&(T.state=T.state||{}),this._signout(T,this._popupNavigator,{startUrl:U,popupWindowFeatures:T.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:T.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){m.Log.info("UserManager.signoutPopup: successful")})},G.prototype.signoutPopupCallback=function(T,U){return void 0===U&&"boolean"==typeof T&&(U=T,T=null),this._popupNavigator.callback(T,U,"?").then(function(){m.Log.info("UserManager.signoutPopupCallback: successful")})},G.prototype._signout=function(T,U){var ee=this;return this._signoutStart(T,U,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(H){return ee._signoutEnd(H.url)})},G.prototype._signoutStart=function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=this,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(ne).then(function(H){return m.Log.debug("UserManager._signoutStart: got navigator window handle"),U._loadUser().then(function(j){return m.Log.debug("UserManager._signoutStart: loaded current user from storage"),(U._settings.revokeAccessTokenOnSignout?U._revokeInternal(j):Promise.resolve()).then(function(){var ae=T.id_token_hint||j&&j.id_token;return ae&&(m.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),T.id_token_hint=ae),U.removeUser().then(function(){return m.Log.debug("UserManager._signoutStart: user removed, creating signout request"),U.createSignoutRequest(T).then(function(le){return m.Log.debug("UserManager._signoutStart: got signout request"),ne.url=le.url,le.state&&(ne.id=le.state.id),H.navigate(ne)})})})}).catch(function(j){throw H.close&&(m.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),H.close()),j})})},G.prototype._signoutEnd=function(T){return this.processSignoutResponse(T).then(function(U){return m.Log.debug("UserManager._signoutEnd: got signout response"),U})},G.prototype.revokeAccessToken=function(){var T=this;return this._loadUser().then(function(U){return T._revokeInternal(U,!0).then(function(ee){if(ee)return m.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),U.access_token=null,U.refresh_token=null,U.expires_at=null,U.token_type=null,T.storeUser(U).then(function(){m.Log.debug("UserManager.revokeAccessToken: user stored"),T._events.load(U)})})}).then(function(){m.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},G.prototype._revokeInternal=function(T,U){var ee=this;if(T){var H=T.refresh_token;return this._revokeAccessTokenInternal(T.access_token,U).then(function(j){return ee._revokeRefreshTokenInternal(H,U).then(function(ae){return j||ae||m.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),j||ae})})}return Promise.resolve(!1)},G.prototype._revokeAccessTokenInternal=function(T,U){return!T||T.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(T,U).then(function(){return!0})},G.prototype._revokeRefreshTokenInternal=function(T,U){return T?this._tokenRevocationClient.revoke(T,U,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},G.prototype.startSilentRenew=function(){this._silentRenewService.start()},G.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},G.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(T){return T?(m.Log.debug("UserManager._loadUser: user storageString loaded"),A.User.fromStorageString(T)):(m.Log.debug("UserManager._loadUser: no user storageString"),null)})},G.prototype.storeUser=function(T){if(T){m.Log.debug("UserManager.storeUser: storing user");var U=T.toStorageString();return this._userStore.set(this._userStoreKey,U)}return m.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(G,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),G}(v.OidcClient)},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerSettings=void 0;var a=function(){function V(w,F){for(var N=0;N<F.length;N++){var M=F[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(w,M.key,M)}}return function(w,F,N){return F&&V(w.prototype,F),N&&V(w,N),w}}(),m=(I(0),I(5)),v=I(40),k=I(41),A=I(43),y=I(6),E=I(1),L=I(8);b.UserManagerSettings=function(V){function w(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=F.popup_redirect_uri,M=F.popup_post_logout_redirect_uri,G=F.popupWindowFeatures,R=F.popupWindowTarget,T=F.silent_redirect_uri,U=F.silentRequestTimeout,ee=F.automaticSilentRenew,ne=void 0!==ee&&ee,H=F.validateSubOnSilentRenew,j=void 0!==H&&H,ae=F.includeIdTokenInSilentRenew,le=void 0===ae||ae,re=F.monitorSession,q=void 0===re||re,te=F.monitorAnonymousSession,X=void 0!==te&&te,ye=F.checkSessionInterval,De=void 0===ye?2e3:ye,Ie=F.stopCheckSessionOnError,Ge=void 0===Ie||Ie,Ce=F.query_status_response_type,Be=F.revokeAccessTokenOnSignout,Xe=void 0!==Be&&Be,Ye=F.accessTokenExpiringNotificationTime,it=void 0===Ye?60:Ye,vt=F.redirectNavigator,Ke=void 0===vt?new v.RedirectNavigator:vt,Ze=F.popupNavigator,ct=void 0===Ze?new k.PopupNavigator:Ze,pe=F.iframeNavigator,K=void 0===pe?new A.IFrameNavigator:pe,Q=F.userStore,xe=void 0===Q?new y.WebStorageStateStore({store:E.Global.sessionStorage}):Q;!function f(V,w){if(!(V instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var ke=function g(V,w){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?V:w}(this,V.call(this,arguments[0]));return ke._popup_redirect_uri=N,ke._popup_post_logout_redirect_uri=M,ke._popupWindowFeatures=G,ke._popupWindowTarget=R,ke._silent_redirect_uri=T,ke._silentRequestTimeout=U,ke._automaticSilentRenew=ne,ke._validateSubOnSilentRenew=j,ke._includeIdTokenInSilentRenew=le,ke._accessTokenExpiringNotificationTime=it,ke._monitorSession=q,ke._monitorAnonymousSession=X,ke._checkSessionInterval=De,ke._stopCheckSessionOnError=Ge,ke._query_status_response_type=Ce||(arguments[0]&&arguments[0].response_type?L.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),ke._revokeAccessTokenOnSignout=Xe,ke._redirectNavigator=Ke,ke._popupNavigator=ct,ke._iframeNavigator=K,ke._userStore=xe,ke}return function(N,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);N.prototype=Object.create(M&&M.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(N,M):N.__proto__=M)}(w,V),a(w,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),w}(m.OidcClientSettings)},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RedirectNavigator=void 0;var a=function(){function v(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&v(k.prototype,A),y&&v(k,y),k}}(),m=I(0);b.RedirectNavigator=function(){function v(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.prototype.prepare=function(){return Promise.resolve(this)},v.prototype.navigate=function(A){return A&&A.url?(A.useReplaceToNavigate?window.location.replace(A.url):window.location=A.url,Promise.resolve()):(m.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(v,[{key:"url",get:function(){return window.location.href}}]),v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupNavigator=void 0;var a=I(0),m=I(42);b.PopupNavigator=function(){function v(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.prototype.prepare=function(A){var y=new m.PopupWindow(A);return Promise.resolve(y)},v.prototype.callback=function(A,y,E){a.Log.debug("PopupNavigator.callback");try{return m.PopupWindow.notifyOpener(A,y,E),Promise.resolve()}catch(L){return Promise.reject(L)}},v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupWindow=void 0;var a=function(){function k(A,y){for(var E=0;E<y.length;E++){var L=y[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,y,E){return y&&k(A.prototype,y),E&&k(A,E),A}}(),m=I(0),v=I(3);b.PopupWindow=function(){function k(A){var y=this;(function(g,V){if(!(g instanceof V))throw new TypeError("Cannot call a class as a function")})(this,k),this._promise=new Promise(function(f,g){y._resolve=f,y._reject=g}),this._popup=window.open("",A.popupWindowTarget||"_blank",A.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(m.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return k.prototype.navigate=function(y){return this._popup?y&&y.url?(m.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=y.id,this._id&&(window["popupCallback_"+y.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=y.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},k.prototype._success=function(y){m.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(y)},k.prototype._error=function(y){m.Log.error("PopupWindow.error: ",y),this._cleanup(),this._reject(new Error(y))},k.prototype.close=function(){this._cleanup(!1)},k.prototype._cleanup=function(y){m.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!y&&this._popup.close(),this._popup=null},k.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},k.prototype._callback=function(y,E){this._cleanup(E),y?(m.Log.debug("PopupWindow.callback success"),this._success({url:y})):(m.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},k.notifyOpener=function(y,E,L){if(window.opener){if(y=y||window.location.href){var f=v.UrlUtility.parseUrlFragment(y,L);if(f.state){var V=window.opener["popupCallback_"+f.state];V?(m.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),V(y,E)):m.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else m.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else m.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(k,[{key:"promise",get:function(){return this._promise}}]),k}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameNavigator=void 0;var a=I(0),m=I(44);b.IFrameNavigator=function(){function v(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.prototype.prepare=function(A){var y=new m.IFrameWindow(A);return Promise.resolve(y)},v.prototype.callback=function(A){a.Log.debug("IFrameNavigator.callback");try{return m.IFrameWindow.notifyParent(A),Promise.resolve()}catch(y){return Promise.reject(y)}},v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameWindow=void 0;var a=function(){function v(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&v(k.prototype,A),y&&v(k,y),k}}(),m=I(0);b.IFrameWindow=function(){function v(k){var A=this;(function(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(y,E){A._resolve=y,A._reject=E}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return v.prototype.navigate=function(A){if(A&&A.url){var y=A.silentRequestTimeout||1e4;m.Log.debug("IFrameWindow.navigate: Using timeout of:",y),this._timer=window.setTimeout(this._timeout.bind(this),y),this._frame.src=A.url}else this._error("No url provided");return this.promise},v.prototype._success=function(A){this._cleanup(),m.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(A)},v.prototype._error=function(A){this._cleanup(),m.Log.error(A),this._reject(new Error(A))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._frame&&(m.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},v.prototype._timeout=function(){m.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},v.prototype._message=function(A){if(m.Log.debug("IFrameWindow.message"),this._timer&&A.origin===this._origin&&A.source===this._frame.contentWindow&&"string"==typeof A.data&&(A.data.startsWith("http://")||A.data.startsWith("https://"))){var y=A.data;y?this._success({url:y}):this._error("Invalid response from frame")}},v.notifyParent=function(A){m.Log.debug("IFrameWindow.notifyParent"),(A=A||window.location.href)&&(m.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(A,location.protocol+"//"+location.host))},a(v,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),v}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerEvents=void 0;var a=I(0),m=I(16),v=I(17);b.UserManagerEvents=function(k){function A(y){!function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,A);var E=function(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,k.call(this,y));return E._userLoaded=new v.Event("User loaded"),E._userUnloaded=new v.Event("User unloaded"),E._silentRenewError=new v.Event("Silent renew error"),E._userSignedIn=new v.Event("User signed in"),E._userSignedOut=new v.Event("User signed out"),E._userSessionChanged=new v.Event("User session changed"),E}return function(E,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(E,L):E.__proto__=L)}(A,k),A.prototype.load=function(E){var L=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.Log.debug("UserManagerEvents.load"),k.prototype.load.call(this,E),L&&this._userLoaded.raise(E)},A.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),k.prototype.unload.call(this),this._userUnloaded.raise()},A.prototype.addUserLoaded=function(E){this._userLoaded.addHandler(E)},A.prototype.removeUserLoaded=function(E){this._userLoaded.removeHandler(E)},A.prototype.addUserUnloaded=function(E){this._userUnloaded.addHandler(E)},A.prototype.removeUserUnloaded=function(E){this._userUnloaded.removeHandler(E)},A.prototype.addSilentRenewError=function(E){this._silentRenewError.addHandler(E)},A.prototype.removeSilentRenewError=function(E){this._silentRenewError.removeHandler(E)},A.prototype._raiseSilentRenewError=function(E){a.Log.debug("UserManagerEvents._raiseSilentRenewError",E.message),this._silentRenewError.raise(E)},A.prototype.addUserSignedIn=function(E){this._userSignedIn.addHandler(E)},A.prototype.removeUserSignedIn=function(E){this._userSignedIn.removeHandler(E)},A.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},A.prototype.addUserSignedOut=function(E){this._userSignedOut.addHandler(E)},A.prototype.removeUserSignedOut=function(E){this._userSignedOut.removeHandler(E)},A.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},A.prototype.addUserSessionChanged=function(E){this._userSessionChanged.addHandler(E)},A.prototype.removeUserSessionChanged=function(E){this._userSessionChanged.removeHandler(E)},A.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},A}(m.AccessTokenEvents)},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Timer=void 0;var a=function(){function E(L,f){for(var g=0;g<f.length;g++){var V=f[g];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(L,V.key,V)}}return function(L,f,g){return f&&E(L.prototype,f),g&&E(L,g),L}}(),m=I(0),v=I(1),k=I(17);b.Timer=function(E){function L(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Global.timer,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function A(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L);var w=function y(E,L){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?E:L}(this,E.call(this,f));return w._timer=g,w._nowFunc=V||function(){return Date.now()/1e3},w}return function(g,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function, not "+typeof V);g.prototype=Object.create(V&&V.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(g,V):g.__proto__=V)}(L,E),L.prototype.init=function(g){g<=0&&(g=1),g=parseInt(g);var V=this.now+g;if(this.expiration===V&&this._timerHandle)m.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),m.Log.debug("Timer.init timer "+this._name+" for duration:",g),this._expiration=V;var w=5;g<w&&(w=g),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*w)}},L.prototype.cancel=function(){this._timerHandle&&(m.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},L.prototype._callback=function(){m.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),E.prototype.raise.call(this))},a(L,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),L}(k.Event)},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SilentRenewService=void 0;var a=I(0);b.SilentRenewService=function(){function m(v){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,m),this._userManager=v}return m.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(k){}).catch(function(k){a.Log.error("SilentRenewService.start: Error from getUser:",k.message)}))},m.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},m.prototype._tokenExpiring=function(){var k=this;this._userManager.signinSilent().then(function(A){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(A){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",A.message),k._userManager.events._raiseSilentRenewError(A)})},m}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupNavigator=void 0;var a=I(21);b.CordovaPopupNavigator=function(){function m(){!function(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m)}return m.prototype.prepare=function(k){var A=new a.CordovaPopupWindow(k);return Promise.resolve(A)},m}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaIFrameNavigator=void 0;var a=I(21);b.CordovaIFrameNavigator=function(){function m(){!function(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m)}return m.prototype.prepare=function(k){k.popupWindowFeatures="hidden=yes";var A=new a.CordovaPopupWindow(k);return Promise.resolve(A)},m}()},function(se,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Version="1.11.5"}])},79929:we=>{var se=String.prototype.replace,b=/%20/g;we.exports={default:"RFC3986",formatters:{RFC1738:function(m){return se.call(m,b,"+")},RFC3986:function(m){return String(m)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},40353:(we,se,b)=>{var I=b(21528),a=b(95094),m=b(79929);we.exports={formats:m,parse:a,stringify:I}},95094:(we,se,b)=>{var I=b(3884),a=Object.prototype.hasOwnProperty,m=Array.isArray,v={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:I.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},k=function(F){return F.replace(/&#(\d+);/g,function(N,M){return String.fromCharCode(parseInt(M,10))})},A=function(F,N,M){if(F&&"string"==typeof F&&N.comma&&F.indexOf(",")>-1)return F.split(",");if(N.throwOnLimitExceeded&&M>=N.arrayLimit)throw new RangeError("Array limit exceeded. Only "+N.arrayLimit+" element"+(1===N.arrayLimit?"":"s")+" allowed in an array.");return F},g=function(F,N,M,G){if(F){var R=M.allowDots?F.replace(/\.([^.[]+)/g,"[$1]"):F,U=/(\[[^[\]]*])/g,ee=M.depth>0&&/(\[[^[\]]*])/.exec(R),ne=ee?R.slice(0,ee.index):R,H=[];if(ne){if(!M.plainObjects&&a.call(Object.prototype,ne)&&!M.allowPrototypes)return;H.push(ne)}for(var j=0;M.depth>0&&null!==(ee=U.exec(R))&&j<M.depth;){if(j+=1,!M.plainObjects&&a.call(Object.prototype,ee[1].slice(1,-1))&&!M.allowPrototypes)return;H.push(ee[1])}if(ee){if(!0===M.strictDepth)throw new RangeError("Input depth exceeded depth option of "+M.depth+" and strictDepth is true");H.push("["+R.slice(ee.index)+"]")}return function(F,N,M,G){var R=0;if(F.length>0&&"[]"===F[F.length-1]){var T=F.slice(0,-1).join("");R=Array.isArray(N)&&N[T]?N[T].length:0}for(var U=G?N:A(N,M,R),ee=F.length-1;ee>=0;--ee){var ne,H=F[ee];if("[]"===H&&M.parseArrays)ne=M.allowEmptyArrays&&(""===U||M.strictNullHandling&&null===U)?[]:I.combine([],U);else{ne=M.plainObjects?{__proto__:null}:{};var j="["===H.charAt(0)&&"]"===H.charAt(H.length-1)?H.slice(1,-1):H,ae=M.decodeDotInKeys?j.replace(/%2E/g,"."):j,le=parseInt(ae,10);M.parseArrays||""!==ae?!isNaN(le)&&H!==ae&&String(le)===ae&&le>=0&&M.parseArrays&&le<=M.arrayLimit?(ne=[])[le]=U:"__proto__"!==ae&&(ne[ae]=U):ne={0:U}}U=ne}return U}(H,N,M,G)}};we.exports=function(w,F){var N=function(F){if(!F)return v;if(typeof F.allowEmptyArrays<"u"&&"boolean"!=typeof F.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof F.decodeDotInKeys<"u"&&"boolean"!=typeof F.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==F.decoder&&typeof F.decoder<"u"&&"function"!=typeof F.decoder)throw new TypeError("Decoder has to be a function.");if(typeof F.charset<"u"&&"utf-8"!==F.charset&&"iso-8859-1"!==F.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof F.throwOnLimitExceeded<"u"&&"boolean"!=typeof F.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var N=typeof F.charset>"u"?v.charset:F.charset,M=typeof F.duplicates>"u"?v.duplicates:F.duplicates;if("combine"!==M&&"first"!==M&&"last"!==M)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof F.allowDots>"u"?!0===F.decodeDotInKeys||v.allowDots:!!F.allowDots,allowEmptyArrays:"boolean"==typeof F.allowEmptyArrays?!!F.allowEmptyArrays:v.allowEmptyArrays,allowPrototypes:"boolean"==typeof F.allowPrototypes?F.allowPrototypes:v.allowPrototypes,allowSparse:"boolean"==typeof F.allowSparse?F.allowSparse:v.allowSparse,arrayLimit:"number"==typeof F.arrayLimit?F.arrayLimit:v.arrayLimit,charset:N,charsetSentinel:"boolean"==typeof F.charsetSentinel?F.charsetSentinel:v.charsetSentinel,comma:"boolean"==typeof F.comma?F.comma:v.comma,decodeDotInKeys:"boolean"==typeof F.decodeDotInKeys?F.decodeDotInKeys:v.decodeDotInKeys,decoder:"function"==typeof F.decoder?F.decoder:v.decoder,delimiter:"string"==typeof F.delimiter||I.isRegExp(F.delimiter)?F.delimiter:v.delimiter,depth:"number"==typeof F.depth||!1===F.depth?+F.depth:v.depth,duplicates:M,ignoreQueryPrefix:!0===F.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof F.interpretNumericEntities?F.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:"number"==typeof F.parameterLimit?F.parameterLimit:v.parameterLimit,parseArrays:!1!==F.parseArrays,plainObjects:"boolean"==typeof F.plainObjects?F.plainObjects:v.plainObjects,strictDepth:"boolean"==typeof F.strictDepth?!!F.strictDepth:v.strictDepth,strictNullHandling:"boolean"==typeof F.strictNullHandling?F.strictNullHandling:v.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof F.throwOnLimitExceeded&&F.throwOnLimitExceeded}}(F);if(""===w||null===w||typeof w>"u")return N.plainObjects?{__proto__:null}:{};for(var M="string"==typeof w?function(F,N){var M={__proto__:null},G=N.ignoreQueryPrefix?F.replace(/^\?/,""):F;G=G.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var R=N.parameterLimit===1/0?void 0:N.parameterLimit,T=G.split(N.delimiter,N.throwOnLimitExceeded?R+1:R);if(N.throwOnLimitExceeded&&T.length>R)throw new RangeError("Parameter limit exceeded. Only "+R+" parameter"+(1===R?"":"s")+" allowed.");var ee,U=-1,ne=N.charset;if(N.charsetSentinel)for(ee=0;ee<T.length;++ee)0===T[ee].indexOf("utf8=")&&("utf8=%E2%9C%93"===T[ee]?ne="utf-8":"utf8=%26%2310003%3B"===T[ee]&&(ne="iso-8859-1"),U=ee,ee=T.length);for(ee=0;ee<T.length;++ee)if(ee!==U){var le,re,H=T[ee],j=H.indexOf("]="),ae=-1===j?H.indexOf("="):j+1;-1===ae?(le=N.decoder(H,v.decoder,ne,"key"),re=N.strictNullHandling?null:""):(le=N.decoder(H.slice(0,ae),v.decoder,ne,"key"),re=I.maybeMap(A(H.slice(ae+1),N,m(M[le])?M[le].length:0),function(te){return N.decoder(te,v.decoder,ne,"value")})),re&&N.interpretNumericEntities&&"iso-8859-1"===ne&&(re=k(String(re))),H.indexOf("[]=")>-1&&(re=m(re)?[re]:re);var q=a.call(M,le);q&&"combine"===N.duplicates?M[le]=I.combine(M[le],re):(!q||"last"===N.duplicates)&&(M[le]=re)}return M}(w,N):w,G=N.plainObjects?{__proto__:null}:{},R=Object.keys(M),T=0;T<R.length;++T){var U=R[T],ee=g(U,M[U],N,"string"==typeof w);G=I.merge(G,ee,N)}return!0===N.allowSparse?G:I.compact(G)}},21528:(we,se,b)=>{var I=b(65492),a=b(3884),m=b(79929),v=Object.prototype.hasOwnProperty,k={brackets:function(G){return G+"[]"},comma:"comma",indices:function(G,R){return G+"["+R+"]"},repeat:function(G){return G}},A=Array.isArray,y=Array.prototype.push,E=function(G,R){y.apply(G,A(R)?R:[R])},L=Date.prototype.toISOString,f=m.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:m.formatters[f],indices:!1,serializeDate:function(G){return L.call(G)},skipNulls:!1,strictNullHandling:!1},w={},F=function M(G,R,T,U,ee,ne,H,j,ae,le,re,q,te,X,ye,De,Ie,Ge){for(var Ce=G,Be=Ge,Xe=0,Ye=!1;void 0!==(Be=Be.get(w))&&!Ye;){var it=Be.get(G);if(Xe+=1,typeof it<"u"){if(it===Xe)throw new RangeError("Cyclic object value");Ye=!0}typeof Be.get(w)>"u"&&(Xe=0)}if("function"==typeof le?Ce=le(R,Ce):Ce instanceof Date?Ce=te(Ce):"comma"===T&&A(Ce)&&(Ce=a.maybeMap(Ce,function(ue){return ue instanceof Date?te(ue):ue})),null===Ce){if(ne)return ae&&!De?ae(R,g.encoder,Ie,"key",X):R;Ce=""}if(function(G){return"string"==typeof G||"number"==typeof G||"boolean"==typeof G||"symbol"==typeof G||"bigint"==typeof G}(Ce)||a.isBuffer(Ce))return ae?[ye(De?R:ae(R,g.encoder,Ie,"key",X))+"="+ye(ae(Ce,g.encoder,Ie,"value",X))]:[ye(R)+"="+ye(String(Ce))];var Ze,Ke=[];if(typeof Ce>"u")return Ke;if("comma"===T&&A(Ce))De&&ae&&(Ce=a.maybeMap(Ce,ae)),Ze=[{value:Ce.length>0?Ce.join(",")||null:void 0}];else if(A(le))Ze=le;else{var ct=Object.keys(Ce);Ze=re?ct.sort(re):ct}var pe=j?String(R).replace(/\./g,"%2E"):String(R),K=U&&A(Ce)&&1===Ce.length?pe+"[]":pe;if(ee&&A(Ce)&&0===Ce.length)return K+"[]";for(var Q=0;Q<Ze.length;++Q){var xe=Ze[Q],ke="object"==typeof xe&&xe&&typeof xe.value<"u"?xe.value:Ce[xe];if(!H||null!==ke){var oe=q&&j?String(xe).replace(/\./g,"%2E"):String(xe),ie=A(Ce)?"function"==typeof T?T(K,oe):K:K+(q?"."+oe:"["+oe+"]");Ge.set(G,Xe);var Me=I();Me.set(w,Ge),E(Ke,M(ke,ie,T,U,ee,ne,H,j,"comma"===T&&De&&A(Ce)?null:ae,le,re,q,te,X,ye,De,Ie,Me))}}return Ke};we.exports=function(M,G){var U,R=M,T=function(G){if(!G)return g;if(typeof G.allowEmptyArrays<"u"&&"boolean"!=typeof G.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof G.encodeDotInKeys<"u"&&"boolean"!=typeof G.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==G.encoder&&typeof G.encoder<"u"&&"function"!=typeof G.encoder)throw new TypeError("Encoder has to be a function.");var R=G.charset||g.charset;if(typeof G.charset<"u"&&"utf-8"!==G.charset&&"iso-8859-1"!==G.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var T=m.default;if(typeof G.format<"u"){if(!v.call(m.formatters,G.format))throw new TypeError("Unknown format option provided.");T=G.format}var ne,U=m.formatters[T],ee=g.filter;if(("function"==typeof G.filter||A(G.filter))&&(ee=G.filter),ne=G.arrayFormat in k?G.arrayFormat:"indices"in G?G.indices?"indices":"repeat":g.arrayFormat,"commaRoundTrip"in G&&"boolean"!=typeof G.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof G.addQueryPrefix?G.addQueryPrefix:g.addQueryPrefix,allowDots:typeof G.allowDots>"u"?!0===G.encodeDotInKeys||g.allowDots:!!G.allowDots,allowEmptyArrays:"boolean"==typeof G.allowEmptyArrays?!!G.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:ne,charset:R,charsetSentinel:"boolean"==typeof G.charsetSentinel?G.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!G.commaRoundTrip,delimiter:typeof G.delimiter>"u"?g.delimiter:G.delimiter,encode:"boolean"==typeof G.encode?G.encode:g.encode,encodeDotInKeys:"boolean"==typeof G.encodeDotInKeys?G.encodeDotInKeys:g.encodeDotInKeys,encoder:"function"==typeof G.encoder?G.encoder:g.encoder,encodeValuesOnly:"boolean"==typeof G.encodeValuesOnly?G.encodeValuesOnly:g.encodeValuesOnly,filter:ee,format:T,formatter:U,serializeDate:"function"==typeof G.serializeDate?G.serializeDate:g.serializeDate,skipNulls:"boolean"==typeof G.skipNulls?G.skipNulls:g.skipNulls,sort:"function"==typeof G.sort?G.sort:null,strictNullHandling:"boolean"==typeof G.strictNullHandling?G.strictNullHandling:g.strictNullHandling}}(G);"function"==typeof T.filter?R=(0,T.filter)("",R):A(T.filter)&&(U=T.filter);var ne=[];if("object"!=typeof R||null===R)return"";var H=k[T.arrayFormat],j="comma"===H&&T.commaRoundTrip;U||(U=Object.keys(R)),T.sort&&U.sort(T.sort);for(var ae=I(),le=0;le<U.length;++le){var re=U[le],q=R[re];T.skipNulls&&null===q||E(ne,F(q,re,H,j,T.allowEmptyArrays,T.strictNullHandling,T.skipNulls,T.encodeDotInKeys,T.encode?T.encoder:null,T.filter,T.sort,T.allowDots,T.serializeDate,T.format,T.formatter,T.encodeValuesOnly,T.charset,ae))}var te=ne.join(T.delimiter),X=!0===T.addQueryPrefix?"?":"";return T.charsetSentinel&&(X+="iso-8859-1"===T.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),te.length>0?X+te:""}},3884:(we,se,b)=>{var I=b(79929),a=Object.prototype.hasOwnProperty,m=Array.isArray,v=function(){for(var G=[],R=0;R<256;++R)G.push("%"+((R<16?"0":"")+R.toString(16)).toUpperCase());return G}(),A=function(R,T){for(var U=T&&T.plainObjects?{__proto__:null}:{},ee=0;ee<R.length;++ee)typeof R[ee]<"u"&&(U[ee]=R[ee]);return U},f=1024;we.exports={arrayToObject:A,assign:function(R,T){return Object.keys(T).reduce(function(U,ee){return U[ee]=T[ee],U},R)},combine:function(R,T){return[].concat(R,T)},compact:function(R){for(var T=[{obj:{o:R},prop:"o"}],U=[],ee=0;ee<T.length;++ee)for(var ne=T[ee],H=ne.obj[ne.prop],j=Object.keys(H),ae=0;ae<j.length;++ae){var le=j[ae],re=H[le];"object"==typeof re&&null!==re&&-1===U.indexOf(re)&&(T.push({obj:H,prop:le}),U.push(re))}return function(R){for(;R.length>1;){var T=R.pop(),U=T.obj[T.prop];if(m(U)){for(var ee=[],ne=0;ne<U.length;++ne)typeof U[ne]<"u"&&ee.push(U[ne]);T.obj[T.prop]=ee}}}(T),R},decode:function(R,T,U){var ee=R.replace(/\+/g," ");if("iso-8859-1"===U)return ee.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ee)}catch{return ee}},encode:function(R,T,U,ee,ne){if(0===R.length)return R;var H=R;if("symbol"==typeof R?H=Symbol.prototype.toString.call(R):"string"!=typeof R&&(H=String(R)),"iso-8859-1"===U)return escape(H).replace(/%u[0-9a-f]{4}/gi,function(X){return"%26%23"+parseInt(X.slice(2),16)+"%3B"});for(var j="",ae=0;ae<H.length;ae+=f){for(var le=H.length>=f?H.slice(ae,ae+f):H,re=[],q=0;q<le.length;++q){var te=le.charCodeAt(q);45===te||46===te||95===te||126===te||te>=48&&te<=57||te>=65&&te<=90||te>=97&&te<=122||ne===I.RFC1738&&(40===te||41===te)?re[re.length]=le.charAt(q):te<128?re[re.length]=v[te]:te<2048?re[re.length]=v[192|te>>6]+v[128|63&te]:te<55296||te>=57344?re[re.length]=v[224|te>>12]+v[128|te>>6&63]+v[128|63&te]:(te=65536+((1023&te)<<10|1023&le.charCodeAt(q+=1)),re[re.length]=v[240|te>>18]+v[128|te>>12&63]+v[128|te>>6&63]+v[128|63&te])}j+=re.join("")}return j},isBuffer:function(R){return!(!R||"object"!=typeof R||!(R.constructor&&R.constructor.isBuffer&&R.constructor.isBuffer(R)))},isRegExp:function(R){return"[object RegExp]"===Object.prototype.toString.call(R)},maybeMap:function(R,T){if(m(R)){for(var U=[],ee=0;ee<R.length;ee+=1)U.push(T(R[ee]));return U}return T(R)},merge:function G(R,T,U){if(!T)return R;if("object"!=typeof T&&"function"!=typeof T){if(m(R))R.push(T);else{if(!R||"object"!=typeof R)return[R,T];(U&&(U.plainObjects||U.allowPrototypes)||!a.call(Object.prototype,T))&&(R[T]=!0)}return R}if(!R||"object"!=typeof R)return[R].concat(T);var ee=R;return m(R)&&!m(T)&&(ee=A(R,U)),m(R)&&m(T)?(T.forEach(function(ne,H){if(a.call(R,H)){var j=R[H];j&&"object"==typeof j&&ne&&"object"==typeof ne?R[H]=G(j,ne,U):R.push(ne)}else R[H]=ne}),R):Object.keys(T).reduce(function(ne,H){var j=T[H];return ne[H]=a.call(ne,H)?G(ne[H],j,U):j,ne},ee)}}},50270:function(we,se,b){var a,m,I=b(40).default;typeof self<"u"&&self,we.exports=(a={182:function(k){var A={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};k.exports={types:A,iterableTypes:[A.ITERABLE_OBJECT,A.MAP,A.ARRAY,A.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},688:function(k,A,y){var E=y(182),L=E.types,f=E.iterableTypes,g=E.errors,V=y(555),w=I(I(I(I(I(I(I(I(I(I({},L.NUMBER,V.isNumber),L.BOOLEAN,V.isBoolean),L.STRING,V.isString),L.DATE,V.isDate),L.UNDEFINED,V.isUndefined),L.NULL,V.isNull),L.ARRAY,V.isArray),L.MAP,V.isMap),L.SET,V.isSet),L.ITERABLE_OBJECT,V.isIterableObject),F=I({},L.DATE,V.areDatesEqual);function N(T){for(var U=Object.keys(w),ee=L.DEFAULT,ne=0;ne<U.length;ne+=1)if(w[U[ne]](T)){ee=U[ne];break}return ee}function M(T,U,ee,ne,H){var j={op:ee,path:ne};return"add"!==ee&&"update"!==ee||(j.val=U),H&&"add"!==ee&&(j.oldVal=T),j}function G(T,U,ee,ne,H){var Ge,j=N(T),ae=N(U),le=ne||[],re=H||[];if((Ge=j)===ae&&f.indexOf(Ge)>=0)for(var q=function(Ge,Ce,Be){if(Be===L.ARRAY){var Xe=new Array(Ge.length>Ce.length?Ge.length:Ce.length);return Xe.fill(0),new Set(Xe.map(function(Ye,it){return it}))}return new Set(Object.keys(Ge).concat(Object.keys(Ce)))}(T,U,j).values(),te=q.next(),X=te.value,ye=te.done;!ye;){Object.prototype.hasOwnProperty.call(T,X)?Object.prototype.hasOwnProperty.call(U,X)?G(T[X],U[X],ee,le.concat(X),re):re.push(M(T[X],U[X],"delete",le.concat(X),ee)):re.push(M(T[X],U[X],"add",le.concat(X),ee));var De=q.next();X=De.value,ye=De.done}else{var Ie=function(Ge,Ce,Be,Xe){var Ye,it,vt,Ke;return Be===L.UNDEFINED&&Xe!==L.UNDEFINED?Ye="add":Be!==L.UNDEFINED&&Xe===L.UNDEFINED?Ye="delete":(it=Ge,vt=Ce,(Ke=Be)===Xe&&(F[Ke]?F[Ke](it,vt):it===vt)?V.noop():Ye="update"),Ye}(T,U,j,ae);null!=Ie&&re.push(M(T,U,Ie,ne,ee))}return re}var R={add:V.setValueByPath,update:V.setValueByPath,delete:V.deleteValueByPath};k.exports={getDiff:function(U,ee){return G(U,ee,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},applyDiff:function(U,ee,ne){return function(H,j,ae){if(!(j instanceof Array))throw new Error(g.INVALID_DIFF_FORMAT);var le=H;return j.forEach(function(re){var q=re.op,te=re.val,X=re.path;if(!R[q])throw new Error(g.INVALID_DIFF_OP);le=R[q](le,X,te,ae)}),le}(U,ee,ne)}}},555:function(k){var A=function(w){return function(F){return F instanceof w}},y=A(Date),E=A(Array),L=A(Map),f=A(Set),g=function(w){return"[object Object]"===Object.prototype.toString.call(w)};k.exports={isNumber:function(w){return"number"==typeof w},isBoolean:function(w){return"boolean"==typeof w},isString:function(w){return"string"==typeof w},isDate:y,isUndefined:function(w){return void 0===w},isNull:function(w){return null===w},isArray:E,isMap:L,isSet:f,isIterableObject:g,noop:function(){},areDatesEqual:function(w,F){return w.getTime()===F.getTime()},setValueByPath:function(w){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],N=arguments.length>2?arguments[2]:void 0,M=arguments.length>3?arguments[3]:void 0;if(!E(F))throw new Error('Diff path: "'.concat(F,'" is not valid'));var G=F.length;if(0===G)return N;for(var R=w,T=0;T<G;T+=1){var U=F[T];if(!R)throw new Error('Invalid path: "'.concat(F,'" for object: ').concat(JSON.stringify(w,null,2)));if(null==U)throw new Error('Invalid path: "'.concat(F,'" for object: ').concat(JSON.stringify(w,null,2)));T!==G-1?(R=R[U],M&&M(R)):R[U]=N}return w},deleteValueByPath:function(w,F){var N=F||[];if(0!==N.length){for(var M=w,G=N.length,R=0;R<G;R+=1)if(R!==G-1){if(!M[N[R]])throw new Error('Invalid path: "'.concat(F,'" for object: ').concat(JSON.stringify(w,null,2)));M=M[N[R]]}else if(g(M))delete M[N[R]];else for(var T=parseInt(N[R],10);M.length>T;)M.pop();return w}}}}},m={},function v(k){var A=m[k];if(void 0!==A)return A.exports;var y=m[k]={exports:{}};return a[k](y,y.exports,v),y.exports}(688))},56042:(we,se,b)=>{b.d(se,{m:()=>E});var I=b(43288),a=b(63398),m=b(82297),v=b(792),k=b(13544),A=b(84205),y=b(35152),E=function(L){function f(){var g,V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.U;return(0,I.A)(this,f),(g=(0,m.A)(this,f))._bufferSize=V,g._windowTime=w,g._timestampProvider=F,g._buffer=[],g._infiniteTimeWindow=!0,g._infiniteTimeWindow=w===1/0,g._bufferSize=Math.max(1,V),g._windowTime=Math.max(1,w),g}return(0,k.A)(f,L),(0,a.A)(f,[{key:"next",value:function(V){var F=this._buffer,N=this._infiniteTimeWindow,M=this._timestampProvider,G=this._windowTime;this.isStopped||(F.push(V),!N&&F.push(M.now()+G)),this._trimBuffer(),(0,v.A)(f,"next",this,3)([V])}},{key:"_subscribe",value:function(V){this._throwIfClosed(),this._trimBuffer();for(var w=this._innerSubscribe(V),F=this._infiniteTimeWindow,M=this._buffer.slice(),G=0;G<M.length&&!V.closed;G+=F?1:2)V.next(M[G]);return this._checkFinalizedStatuses(V),w}},{key:"_trimBuffer",value:function(){var V=this._bufferSize,w=this._timestampProvider,F=this._buffer,N=this._infiniteTimeWindow,M=(N?1:2)*V;if(V<1/0&&M<F.length&&F.splice(0,F.length-M),!N){for(var G=w.now(),R=0,T=1;T<F.length&&F[T]<=G;T+=2)R=T;R&&F.splice(0,R+1)}}}])}(A.B)},61873:(we,se,b)=>{b.d(se,{p:()=>E});var I=b(43942),a=b(57808),m=b(82645),v=b(4083),k=b(91687),A=b(38067),y=b(96813);function E(){for(var L=arguments.length,f=new Array(L),g=0;g<L;g++)f[g]=arguments[g];var V=(0,v.ms)(f),w=(0,a.D)(f),F=w.args,N=w.keys,M=new I.c(function(G){var R=F.length;if(R)for(var T=new Array(R),U=R,ee=R,ne=function(ae){var le=!1;(0,m.Tg)(F[ae]).subscribe((0,k._)(G,function(re){le||(le=!0,ee--),T[ae]=re},function(){return U--},void 0,function(){(!U||!le)&&(ee||G.next(N?(0,y.e)(N,T):T),G.complete())}))},H=0;H<R;H++)ne(H);else G.complete()});return V?M.pipe((0,A.I)(V)):M}},14876:(we,se,b)=>{b.d(se,{O:()=>k});var I=b(43942),a=b(18473),m=b(89397),v=b(15602);function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1?arguments[1]:void 0,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.b,L=-1;return null!=y&&((0,m.m)(y)?E=y:L=y),new I.c(function(f){var g=(0,v.v)(A)?+A-E.now():A;g<0&&(g=0);var V=0;return E.schedule(function(){f.closed||(f.next(V++),0<=L?this.schedule(void 0,L):f.complete())},g)})}},52575:(we,se,b)=>{b.d(se,{B:()=>v});var I=b(18473),a=b(50819),m=b(91687);function v(k){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.E;return(0,a.N)(function(y,E){var L=null,f=null,g=null,V=function(){if(L){L.unsubscribe(),L=null;var N=f;f=null,E.next(N)}};function w(){var F=g+k,N=A.now();if(N<F)return L=this.schedule(void 0,F-N),void E.add(L);V()}y.subscribe((0,m._)(E,function(F){f=F,g=A.now(),L||(L=A.schedule(w,k),E.add(L))},function(){V(),E.complete()},void 0,function(){f=L=null}))})}},81692:(we,se,b)=>{b.d(se,{c:()=>L});var I=b(18473),a=b(23513),m=b(64334),v=b(7242),k=b(87378),A=b(1365);function y(f,g){return g?function(V){return(0,a.x)(g.pipe((0,m.s)(1),(0,v.w)()),V.pipe(y(f)))}:(0,A.Z)(function(V,w){return f(V,w).pipe((0,m.s)(1),(0,k.u)(V))})}var E=b(14876);function L(f){var V=(0,E.O)(f,arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.E);return y(function(){return V})}},91817:(we,se,b)=>{b.d(se,{F:()=>v});var I=b(1440),a=b(50819),m=b(91687);function v(A){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.D;return A=A??k,(0,a.N)(function(E,L){var f,g=!0;E.subscribe((0,m._)(L,function(V){var w=y(V);(g||!A(f,w))&&(g=!1,f=w,L.next(V))}))})}function k(A,y){return A===y}},7242:(we,se,b)=>{b.d(se,{w:()=>v});var I=b(50819),a=b(91687),m=b(54318);function v(){return(0,I.N)(function(k,A){k.subscribe((0,a._)(A,m.l))})}},87378:(we,se,b)=>{b.d(se,{u:()=>a});var I=b(70271);function a(m){return(0,I.T)(function(){return m})}},49923:(we,se,b)=>{b.d(se,{T:()=>m});var I=b(75392),a=b(50819);function m(v,k){return(0,a.N)((0,I.S)(v,k,arguments.length>=2,!1,!0))}},71870:(we,se,b)=>{b.d(se,{u:()=>k});var I=b(82645),a=b(84205),m=b(49931),v=b(50819);function k(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.connector,L=void 0===E?function(){return new a.B}:E,f=y.resetOnError,g=void 0===f||f,V=y.resetOnComplete,w=void 0===V||V,F=y.resetOnRefCountZero,N=void 0===F||F;return function(M){var G,R,T,U=0,ee=!1,ne=!1,H=function(){R?.unsubscribe(),R=void 0},j=function(){H(),G=T=void 0,ee=ne=!1},ae=function(){var re=G;j(),re?.unsubscribe()};return(0,v.N)(function(le,re){U++,!ne&&!ee&&H();var q=T=T??L();re.add(function(){0===--U&&!ne&&!ee&&(R=A(ae,N))}),q.subscribe(re),!G&&U>0&&(G=new m.Ms({next:function(X){return q.next(X)},error:function(X){ne=!0,H(),R=A(j,g,X),q.error(X)},complete:function(){ee=!0,H(),R=A(j,w),q.complete()}}),(0,I.Tg)(le).subscribe(G))})(M)}}function A(y,E){if(!0!==E){if(!1!==E){for(var L=new m.Ms({next:function(){L.unsubscribe(),y()}}),f=arguments.length,g=new Array(f>2?f-2:0),V=2;V<f;V++)g[V-2]=arguments[V];return E.apply(void 0,g).subscribe(L)}}else y()}},86301:(we,se,b)=>{b.d(se,{t:()=>m});var I=b(56042),a=b(71870);function m(v,k,A){var y,E=!1;if(v&&"object"==typeof v){var L=v.bufferSize;y=void 0===L?1/0:L;var f=v.windowTime;k=void 0===f?1/0:f;var g=v.refCount;E=void 0!==g&&g,A=v.scheduler}else y=v??1/0;return(0,a.u)({connector:function(){return new I.m(y,k,A)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:E})}},47470:(we,se,b)=>{b.d(se,{i:()=>a});var I=b(51567);function a(m){return(0,I.p)(function(v,k){return m<=k})}},90428:(we,se,b)=>{b.d(se,{R:()=>f});var I=b(43288),a=b(63398),m=b(82297),v=b(792),k=b(13544),y=function(g){function V(w,F){return(0,I.A)(this,V),(0,m.A)(this,V)}return(0,k.A)(V,g),(0,a.A)(V,[{key:"schedule",value:function(F){return this}}])}(b(27092).yU),E={setInterval:function(g){function V(w,F){return g.apply(this,arguments)}return V.toString=function(){return g.toString()},V}(function(g,V){for(var w=E.delegate,F=arguments.length,N=new Array(F>2?F-2:0),M=2;M<F;M++)N[M-2]=arguments[M];return w?.setInterval?w.setInterval.apply(w,[g,V].concat(N)):setInterval.apply(void 0,[g,V].concat(N))}),clearInterval:function(g){function V(w){return g.apply(this,arguments)}return V.toString=function(){return g.toString()},V}(function(g){var V=E.delegate;return(V?.clearInterval||clearInterval)(g)}),delegate:void 0},L=b(80967),f=function(g){function V(w,F){var N;return(0,I.A)(this,V),(N=(0,m.A)(this,V,[w,F])).scheduler=w,N.work=F,N.pending=!1,N}return(0,k.A)(V,g),(0,a.A)(V,[{key:"schedule",value:function(F){var M,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=F;var G=this.id,R=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(R,G,N)),this.pending=!0,this.delay=N,this.id=null!==(M=this.id)&&void 0!==M?M:this.requestAsyncId(R,this.id,N),this}},{key:"requestAsyncId",value:function(F,N){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return E.setInterval(F.flush.bind(F,this),M)}},{key:"recycleAsyncId",value:function(F,N){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=M&&this.delay===M&&!1===this.pending)return N;null!=N&&E.clearInterval(N)}},{key:"execute",value:function(F,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var M=this._execute(F,N);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(F,N){var G,M=!1;try{this.work(F)}catch(R){M=!0,G=R||new Error("Scheduled action threw falsy error")}if(M)return this.unsubscribe(),G}},{key:"unsubscribe",value:function(){if(!this.closed){var F=this.id,N=this.scheduler,M=N.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,L.o)(M,this),null!=F&&(this.id=this.recycleAsyncId(N,F,null)),this.delay=null,(0,v.A)(V,"unsubscribe",this,3)([])}}}])}(y)},9576:(we,se,b)=>{b.d(se,{q:()=>y});var I=b(43288),a=b(63398),m=b(82297),v=b(13544),k=b(35152),A=function(){return(0,a.A)(function E(L){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.now;(0,I.A)(this,E),this.schedulerActionCtor=L,this.now=f},[{key:"schedule",value:function(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,f).schedule(V,g)}}])}();A.now=k.U.now;var y=function(E){function L(f){var g,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.now;return(0,I.A)(this,L),(g=(0,m.A)(this,L,[f,V])).actions=[],g._active=!1,g}return(0,v.A)(L,E),(0,a.A)(L,[{key:"flush",value:function(g){var V=this.actions;if(this._active)V.push(g);else{var w;this._active=!0;do{if(w=g.execute(g.state,g.delay))break}while(g=V.shift());if(this._active=!1,w){for(;g=V.shift();)g.unsubscribe();throw w}}}}])}(A)},18473:(we,se,b)=>{b.d(se,{E:()=>m,b:()=>v});var I=b(90428),m=new(b(9576).q)(I.R),v=m},35152:(we,se,b)=>{b.d(se,{U:()=>I});var I={now:function(){return(I.delegate||Date).now()},delegate:void 0}},15602:(we,se,b)=>{function I(a){return a instanceof Date&&!isNaN(a)}b.d(se,{v:()=>I})},34365:(we,se,b)=>{var I=b(22954),a=b(25346),m=b(46413),v=Object.prototype.toString;we.exports=I(function k(A,y){for(var E=-1,L="[object Array]"===v.call(A)?A:m(a(A)),f=L.length,g=f?y:void 0;++E<f;){if(Object(g)!==g)return;g=g[L[E]]}return"function"==typeof g?g():g})},50863:(we,se,b)=>{var I=b(73687),a=b(28519),m=function(L,f,g){for(var w,V=L;null!=(w=V.next);V=w)if(w.key===f)return V.next=w.next,g||(w.next=L.next,L.next=w),w};we.exports=function(){var L,f={assert:function(V){if(!f.has(V))throw new a("Side channel does not contain "+I(V))},delete:function(V){var w=L&&L.next,F=function(L,f){if(L)return m(L,f,!0)}(L,V);return F&&w&&w===F&&(L=void 0),!!F},get:function(V){return function(L,f){if(L){var g=m(L,f);return g&&g.value}}(L,V)},has:function(V){return function(L,f){return!!L&&!!m(L,f)}(L,V)},set:function(V,w){L||(L={next:void 0}),function(L,f,g){var V=m(L,f);V?V.value=g:L.next={key:f,next:L.next,value:g}}(L,V,w)}};return f}},42375:(we,se,b)=>{var I=b(12521),a=b(30840),m=b(73687),v=b(28519),k=I("%Map%",!0),A=a("Map.prototype.get",!0),y=a("Map.prototype.set",!0),E=a("Map.prototype.has",!0),L=a("Map.prototype.delete",!0),f=a("Map.prototype.size",!0);we.exports=!!k&&function(){var V,w={assert:function(N){if(!w.has(N))throw new v("Side channel does not contain "+m(N))},delete:function(N){if(V){var M=L(V,N);return 0===f(V)&&(V=void 0),M}return!1},get:function(N){if(V)return A(V,N)},has:function(N){return!!V&&E(V,N)},set:function(N,M){V||(V=new k),y(V,N,M)}};return w}},20603:(we,se,b)=>{var I=b(12521),a=b(30840),m=b(73687),v=b(42375),k=b(28519),A=I("%WeakMap%",!0),y=a("WeakMap.prototype.get",!0),E=a("WeakMap.prototype.set",!0),L=a("WeakMap.prototype.has",!0),f=a("WeakMap.prototype.delete",!0);we.exports=A?function(){var V,w,F={assert:function(M){if(!F.has(M))throw new k("Side channel does not contain "+m(M))},delete:function(M){if(A&&M&&("object"==typeof M||"function"==typeof M)){if(V)return f(V,M)}else if(v&&w)return w.delete(M);return!1},get:function(M){return A&&M&&("object"==typeof M||"function"==typeof M)&&V?y(V,M):w&&w.get(M)},has:function(M){return A&&M&&("object"==typeof M||"function"==typeof M)&&V?L(V,M):!!w&&w.has(M)},set:function(M,G){A&&M&&("object"==typeof M||"function"==typeof M)?(V||(V=new A),E(V,M,G)):v&&(w||(w=v()),w.set(M,G))}};return F}:v},65492:(we,se,b)=>{var I=b(28519),a=b(73687),m=b(50863),v=b(42375),A=b(20603)||v||m;we.exports=function(){var E,L={assert:function(g){if(!L.has(g))throw new I("Side channel does not contain "+a(g))},delete:function(g){return!!E&&E.delete(g)},get:function(g){return E&&E.get(g)},has:function(g){return!!E&&E.has(g)},set:function(g,V){E||(E=A()),E.set(g,V)}};return L}},44834:(we,se,b)=>{we.exports=m;var I=b(44339).EventEmitter;function m(){I.call(this)}b(19822)(m,I),m.Readable=b(1551),m.Writable=b(55299),m.Duplex=b(13049),m.Transform=b(8463),m.PassThrough=b(12781),m.finished=b(85629),m.pipeline=b(67607),m.Stream=m,m.prototype.pipe=function(v,k){var A=this;function y(F){v.writable&&!1===v.write(F)&&A.pause&&A.pause()}function E(){A.readable&&A.resume&&A.resume()}A.on("data",y),v.on("drain",E),!v._isStdio&&(!k||!1!==k.end)&&(A.on("end",f),A.on("close",g));var L=!1;function f(){L||(L=!0,v.end())}function g(){L||(L=!0,"function"==typeof v.destroy&&v.destroy())}function V(F){if(w(),0===I.listenerCount(this,"error"))throw F}function w(){A.removeListener("data",y),v.removeListener("drain",E),A.removeListener("end",f),A.removeListener("close",g),A.removeListener("error",V),v.removeListener("error",V),A.removeListener("end",w),A.removeListener("close",w),v.removeListener("close",w)}return A.on("error",V),v.on("error",V),A.on("end",w),A.on("close",w),v.on("close",w),v.emit("pipe",A),v}},58379:we=>{var b={};function I(A,y,E){E||(E=Error);var f=function(g){function V(w,F,N){return g.call(this,function L(g,V,w){return"string"==typeof y?y:y(g,V,w)}(w,F,N))||this}return function se(A,y){A.prototype=Object.create(y.prototype),A.prototype.constructor=A,A.__proto__=y}(V,g),V}(E);f.prototype.name=E.name,f.prototype.code=A,b[A]=f}function a(A,y){if(Array.isArray(A)){var E=A.length;return A=A.map(function(L){return String(L)}),E>2?"one of ".concat(y," ").concat(A.slice(0,E-1).join(", "),", or ")+A[E-1]:2===E?"one of ".concat(y," ").concat(A[0]," or ").concat(A[1]):"of ".concat(y," ").concat(A[0])}return"of ".concat(y," ").concat(String(A))}I("ERR_INVALID_OPT_VALUE",function(A,y){return'The value "'+y+'" is invalid for option "'+A+'"'},TypeError),I("ERR_INVALID_ARG_TYPE",function(A,y,E){var L,f;if("string"==typeof y&&function m(A,y,E){return A.substr(!E||E<0?0:+E,y.length)===y}(y,"not ")?(L="must not be",y=y.replace(/^not /,"")):L="must be",function v(A,y,E){return(void 0===E||E>A.length)&&(E=A.length),A.substring(E-y.length,E)===y}(A," argument"))f="The ".concat(A," ").concat(L," ").concat(a(y,"type"));else{var g=function k(A,y,E){return"number"!=typeof E&&(E=0),!(E+y.length>A.length)&&-1!==A.indexOf(y,E)}(A,".")?"property":"argument";f='The "'.concat(A,'" ').concat(g," ").concat(L," ").concat(a(y,"type"))}return f+". Received type ".concat(typeof E)},TypeError),I("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),I("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),I("ERR_STREAM_PREMATURE_CLOSE","Premature close"),I("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),I("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),I("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),I("ERR_STREAM_WRITE_AFTER_END","write after end"),I("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),I("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),I("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),we.exports.F=b},13049:(we,se,b)=>{var I=Object.keys||function(f){var g=[];for(var V in f)g.push(V);return g};we.exports=y;var a=b(1551),m=b(55299);b(19822)(y,a);for(var v=I(m.prototype),k=0;k<v.length;k++){var A=v[k];y.prototype[A]||(y.prototype[A]=m.prototype[A])}function y(f){if(!(this instanceof y))return new y(f);a.call(this,f),m.call(this,f),this.allowHalfOpen=!0,f&&(!1===f.readable&&(this.readable=!1),!1===f.writable&&(this.writable=!1),!1===f.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",E)))}function E(){this._writableState.ended||process.nextTick(L,this)}function L(f){f.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=g,this._writableState.destroyed=g)}})},12781:(we,se,b)=>{we.exports=a;var I=b(8463);function a(m){if(!(this instanceof a))return new a(m);I.call(this,m)}b(19822)(a,I),a.prototype._transform=function(m,v,k){k(null,m)}},1551:(we,se,b)=>{var I;we.exports=re,re.ReadableState=le,b(44339);var f,m=function(ie,Me){return ie.listeners(Me).length},v=b(66832),k=b(163).Buffer,A=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},L=b(77199);f=L&&L.debuglog?L.debuglog("stream"):function(){};var U,ee,ne,g=b(22650),V=b(79719),F=b(87288).getHighWaterMark,N=b(58379).F,M=N.ERR_INVALID_ARG_TYPE,G=N.ERR_STREAM_PUSH_AFTER_EOF,R=N.ERR_METHOD_NOT_IMPLEMENTED,T=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;b(19822)(re,v);var H=V.errorOrDestroy,j=["error","close","destroy","pause","resume"];function le(oe,ie,Me){I=I||b(13049),"boolean"!=typeof Me&&(Me=ie instanceof I),this.objectMode=!!(oe=oe||{}).objectMode,Me&&(this.objectMode=this.objectMode||!!oe.readableObjectMode),this.highWaterMark=F(this,oe,"readableHighWaterMark",Me),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==oe.emitClose,this.autoDestroy=!!oe.autoDestroy,this.destroyed=!1,this.defaultEncoding=oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,oe.encoding&&(U||(U=b(70281).I),this.decoder=new U(oe.encoding),this.encoding=oe.encoding)}function re(oe){if(I=I||b(13049),!(this instanceof re))return new re(oe);this._readableState=new le(oe,this,this instanceof I),this.readable=!0,oe&&("function"==typeof oe.read&&(this._read=oe.read),"function"==typeof oe.destroy&&(this._destroy=oe.destroy)),v.call(this)}function q(oe,ie,Me,ue,Z){f("readableAddChunk",ie);var ve,W=oe._readableState;if(null===ie)W.reading=!1,function Ge(oe,ie){if(f("onEofChunk"),!ie.ended){if(ie.decoder){var Me=ie.decoder.end();Me&&Me.length&&(ie.buffer.push(Me),ie.length+=ie.objectMode?1:Me.length)}ie.ended=!0,ie.sync?Ce(oe):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,Be(oe)))}}(oe,W);else if(Z||(ve=function X(oe,ie){var Me;return!function E(oe){return k.isBuffer(oe)||oe instanceof A}(ie)&&"string"!=typeof ie&&void 0!==ie&&!oe.objectMode&&(Me=new M("chunk",["string","Buffer","Uint8Array"],ie)),Me}(W,ie)),ve)H(oe,ve);else if(W.objectMode||ie&&ie.length>0)if("string"!=typeof ie&&!W.objectMode&&Object.getPrototypeOf(ie)!==k.prototype&&(ie=function y(oe){return k.from(oe)}(ie)),ue)W.endEmitted?H(oe,new T):te(oe,W,ie,!0);else if(W.ended)H(oe,new G);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!Me?(ie=W.decoder.write(ie),W.objectMode||0!==ie.length?te(oe,W,ie,!1):Xe(oe,W)):te(oe,W,ie,!1)}else ue||(W.reading=!1,Xe(oe,W));return!W.ended&&(W.length<W.highWaterMark||0===W.length)}function te(oe,ie,Me,ue){ie.flowing&&0===ie.length&&!ie.sync?(ie.awaitDrain=0,oe.emit("data",Me)):(ie.length+=ie.objectMode?1:Me.length,ue?ie.buffer.unshift(Me):ie.buffer.push(Me),ie.needReadable&&Ce(oe)),Xe(oe,ie)}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ie){this._readableState&&(this._readableState.destroyed=ie)}}),re.prototype.destroy=V.destroy,re.prototype._undestroy=V.undestroy,re.prototype._destroy=function(oe,ie){ie(oe)},re.prototype.push=function(oe,ie){var ue,Me=this._readableState;return Me.objectMode?ue=!0:"string"==typeof oe&&((ie=ie||Me.defaultEncoding)!==Me.encoding&&(oe=k.from(oe,ie),ie=""),ue=!0),q(this,oe,ie,!1,ue)},re.prototype.unshift=function(oe){return q(this,oe,null,!0,!1)},re.prototype.isPaused=function(){return!1===this._readableState.flowing},re.prototype.setEncoding=function(oe){U||(U=b(70281).I);var ie=new U(oe);this._readableState.decoder=ie,this._readableState.encoding=this._readableState.decoder.encoding;for(var Me=this._readableState.buffer.head,ue="";null!==Me;)ue+=ie.write(Me.data),Me=Me.next;return this._readableState.buffer.clear(),""!==ue&&this._readableState.buffer.push(ue),this._readableState.length=ue.length,this};var ye=1073741824;function Ie(oe,ie){return oe<=0||0===ie.length&&ie.ended?0:ie.objectMode?1:oe!=oe?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(oe>ie.highWaterMark&&(ie.highWaterMark=function De(oe){return oe>=ye?oe=ye:(oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++),oe}(oe)),oe<=ie.length?oe:ie.ended?ie.length:(ie.needReadable=!0,0))}function Ce(oe){var ie=oe._readableState;f("emitReadable",ie.needReadable,ie.emittedReadable),ie.needReadable=!1,ie.emittedReadable||(f("emitReadable",ie.flowing),ie.emittedReadable=!0,process.nextTick(Be,oe))}function Be(oe){var ie=oe._readableState;f("emitReadable_",ie.destroyed,ie.length,ie.ended),!ie.destroyed&&(ie.length||ie.ended)&&(oe.emit("readable"),ie.emittedReadable=!1),ie.needReadable=!ie.flowing&&!ie.ended&&ie.length<=ie.highWaterMark,pe(oe)}function Xe(oe,ie){ie.readingMore||(ie.readingMore=!0,process.nextTick(Ye,oe,ie))}function Ye(oe,ie){for(;!ie.reading&&!ie.ended&&(ie.length<ie.highWaterMark||ie.flowing&&0===ie.length);){var Me=ie.length;if(f("maybeReadMore read 0"),oe.read(0),Me===ie.length)break}ie.readingMore=!1}function vt(oe){var ie=oe._readableState;ie.readableListening=oe.listenerCount("readable")>0,ie.resumeScheduled&&!ie.paused?ie.flowing=!0:oe.listenerCount("data")>0&&oe.resume()}function Ke(oe){f("readable nexttick read 0"),oe.read(0)}function ct(oe,ie){f("resume",ie.reading),ie.reading||oe.read(0),ie.resumeScheduled=!1,oe.emit("resume"),pe(oe),ie.flowing&&!ie.reading&&oe.read(0)}function pe(oe){var ie=oe._readableState;for(f("flow",ie.flowing);ie.flowing&&null!==oe.read(););}function K(oe,ie){return 0===ie.length?null:(ie.objectMode?Me=ie.buffer.shift():!oe||oe>=ie.length?(Me=ie.decoder?ie.buffer.join(""):1===ie.buffer.length?ie.buffer.first():ie.buffer.concat(ie.length),ie.buffer.clear()):Me=ie.buffer.consume(oe,ie.decoder),Me);var Me}function Q(oe){var ie=oe._readableState;f("endReadable",ie.endEmitted),ie.endEmitted||(ie.ended=!0,process.nextTick(xe,ie,oe))}function xe(oe,ie){if(f("endReadableNT",oe.endEmitted,oe.length),!oe.endEmitted&&0===oe.length&&(oe.endEmitted=!0,ie.readable=!1,ie.emit("end"),oe.autoDestroy)){var Me=ie._writableState;(!Me||Me.autoDestroy&&Me.finished)&&ie.destroy()}}function ke(oe,ie){for(var Me=0,ue=oe.length;Me<ue;Me++)if(oe[Me]===ie)return Me;return-1}re.prototype.read=function(oe){f("read",oe),oe=parseInt(oe,10);var ie=this._readableState,Me=oe;if(0!==oe&&(ie.emittedReadable=!1),0===oe&&ie.needReadable&&((0!==ie.highWaterMark?ie.length>=ie.highWaterMark:ie.length>0)||ie.ended))return f("read: emitReadable",ie.length,ie.ended),0===ie.length&&ie.ended?Q(this):Ce(this),null;if(0===(oe=Ie(oe,ie))&&ie.ended)return 0===ie.length&&Q(this),null;var Z,ue=ie.needReadable;return f("need readable",ue),(0===ie.length||ie.length-oe<ie.highWaterMark)&&f("length less than watermark",ue=!0),ie.ended||ie.reading?f("reading or ended",ue=!1):ue&&(f("do read"),ie.reading=!0,ie.sync=!0,0===ie.length&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(oe=Ie(Me,ie))),null===(Z=oe>0?K(oe,ie):null)?(ie.needReadable=ie.length<=ie.highWaterMark,oe=0):(ie.length-=oe,ie.awaitDrain=0),0===ie.length&&(ie.ended||(ie.needReadable=!0),Me!==oe&&ie.ended&&Q(this)),null!==Z&&this.emit("data",Z),Z},re.prototype._read=function(oe){H(this,new R("_read()"))},re.prototype.pipe=function(oe,ie){var Me=this,ue=this._readableState;switch(ue.pipesCount){case 0:ue.pipes=oe;break;case 1:ue.pipes=[ue.pipes,oe];break;default:ue.pipes.push(oe)}ue.pipesCount+=1,f("pipe count=%d opts=%j",ue.pipesCount,ie);var W=ie&&!1===ie.end||oe===process.stdout||oe===process.stderr?Se:je;function je(){f("onend"),oe.end()}ue.endEmitted?process.nextTick(W):Me.once("end",W),oe.on("unpipe",function ve(Jn,En){f("onunpipe"),Jn===Me&&En&&!1===En.hasUnpiped&&(En.hasUnpiped=!0,function bt(){f("cleanup"),oe.removeListener("close",nn),oe.removeListener("finish",fn),oe.removeListener("drain",nt),oe.removeListener("error",Nt),oe.removeListener("unpipe",ve),Me.removeListener("end",je),Me.removeListener("end",Se),Me.removeListener("data",Ot),at=!0,ue.awaitDrain&&(!oe._writableState||oe._writableState.needDrain)&&nt()}())});var nt=function it(oe){return function(){var Me=oe._readableState;f("pipeOnDrain",Me.awaitDrain),Me.awaitDrain&&Me.awaitDrain--,0===Me.awaitDrain&&m(oe,"data")&&(Me.flowing=!0,pe(oe))}}(Me);oe.on("drain",nt);var at=!1;function Ot(Jn){f("ondata");var En=oe.write(Jn);f("dest.write",En),!1===En&&((1===ue.pipesCount&&ue.pipes===oe||ue.pipesCount>1&&-1!==ke(ue.pipes,oe))&&!at&&(f("false write response, pause",ue.awaitDrain),ue.awaitDrain++),Me.pause())}function Nt(Jn){f("onerror",Jn),Se(),oe.removeListener("error",Nt),0===m(oe,"error")&&H(oe,Jn)}function nn(){oe.removeListener("finish",fn),Se()}function fn(){f("onfinish"),oe.removeListener("close",nn),Se()}function Se(){f("unpipe"),Me.unpipe(oe)}return Me.on("data",Ot),function ae(oe,ie,Me){if("function"==typeof oe.prependListener)return oe.prependListener(ie,Me);oe._events&&oe._events[ie]?Array.isArray(oe._events[ie])?oe._events[ie].unshift(Me):oe._events[ie]=[Me,oe._events[ie]]:oe.on(ie,Me)}(oe,"error",Nt),oe.once("close",nn),oe.once("finish",fn),oe.emit("pipe",Me),ue.flowing||(f("pipe resume"),Me.resume()),oe},re.prototype.unpipe=function(oe){var ie=this._readableState,Me={hasUnpiped:!1};if(0===ie.pipesCount)return this;if(1===ie.pipesCount)return oe&&oe!==ie.pipes||(oe||(oe=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,oe&&oe.emit("unpipe",this,Me)),this;if(!oe){var ue=ie.pipes,Z=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var W=0;W<Z;W++)ue[W].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=ke(ie.pipes,oe);return-1===ve||(ie.pipes.splice(ve,1),ie.pipesCount-=1,1===ie.pipesCount&&(ie.pipes=ie.pipes[0]),oe.emit("unpipe",this,Me)),this},re.prototype.addListener=re.prototype.on=function(oe,ie){var Me=v.prototype.on.call(this,oe,ie),ue=this._readableState;return"data"===oe?(ue.readableListening=this.listenerCount("readable")>0,!1!==ue.flowing&&this.resume()):"readable"===oe&&!ue.endEmitted&&!ue.readableListening&&(ue.readableListening=ue.needReadable=!0,ue.flowing=!1,ue.emittedReadable=!1,f("on readable",ue.length,ue.reading),ue.length?Ce(this):ue.reading||process.nextTick(Ke,this)),Me},re.prototype.removeListener=function(oe,ie){var Me=v.prototype.removeListener.call(this,oe,ie);return"readable"===oe&&process.nextTick(vt,this),Me},re.prototype.removeAllListeners=function(oe){var ie=v.prototype.removeAllListeners.apply(this,arguments);return("readable"===oe||void 0===oe)&&process.nextTick(vt,this),ie},re.prototype.resume=function(){var oe=this._readableState;return oe.flowing||(f("resume"),oe.flowing=!oe.readableListening,function Ze(oe,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,process.nextTick(ct,oe,ie))}(this,oe)),oe.paused=!1,this},re.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},re.prototype.wrap=function(oe){var ie=this,Me=this._readableState,ue=!1;for(var Z in oe.on("end",function(){if(f("wrapped end"),Me.decoder&&!Me.ended){var ve=Me.decoder.end();ve&&ve.length&&ie.push(ve)}ie.push(null)}),oe.on("data",function(ve){f("wrapped data"),Me.decoder&&(ve=Me.decoder.write(ve)),Me.objectMode&&null==ve||!(Me.objectMode||ve&&ve.length)||ie.push(ve)||(ue=!0,oe.pause())}),oe)void 0===this[Z]&&"function"==typeof oe[Z]&&(this[Z]=function(je){return function(){return oe[je].apply(oe,arguments)}}(Z));for(var W=0;W<j.length;W++)oe.on(j[W],this.emit.bind(this,j[W]));return this._read=function(ve){f("wrapped _read",ve),ue&&(ue=!1,oe.resume())},this},"function"==typeof Symbol&&(re.prototype[Symbol.asyncIterator]=function(){return void 0===ee&&(ee=b(45486)),ee(this)}),Object.defineProperty(re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(re.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(re.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ie){this._readableState&&(this._readableState.flowing=ie)}}),re._fromList=K,Object.defineProperty(re.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(re.from=function(oe,ie){return void 0===ne&&(ne=b(65252)),ne(re,oe,ie)})},8463:(we,se,b)=>{we.exports=E;var I=b(58379).F,a=I.ERR_METHOD_NOT_IMPLEMENTED,m=I.ERR_MULTIPLE_CALLBACK,v=I.ERR_TRANSFORM_ALREADY_TRANSFORMING,k=I.ERR_TRANSFORM_WITH_LENGTH_0,A=b(13049);function y(g,V){var w=this._transformState;w.transforming=!1;var F=w.writecb;if(null===F)return this.emit("error",new m);w.writechunk=null,w.writecb=null,null!=V&&this.push(V),F(g);var N=this._readableState;N.reading=!1,(N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}function E(g){if(!(this instanceof E))return new E(g);A.call(this,g),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&("function"==typeof g.transform&&(this._transform=g.transform),"function"==typeof g.flush&&(this._flush=g.flush)),this.on("prefinish",L)}function L(){var g=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(V,w){f(g,V,w)})}function f(g,V,w){if(V)return g.emit("error",V);if(null!=w&&g.push(w),g._writableState.length)throw new k;if(g._transformState.transforming)throw new v;return g.push(null)}b(19822)(E,A),E.prototype.push=function(g,V){return this._transformState.needTransform=!1,A.prototype.push.call(this,g,V)},E.prototype._transform=function(g,V,w){w(new a("_transform()"))},E.prototype._write=function(g,V,w){var F=this._transformState;if(F.writecb=w,F.writechunk=g,F.writeencoding=V,!F.transforming){var N=this._readableState;(F.needTransform||N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}},E.prototype._read=function(g){var V=this._transformState;null===V.writechunk||V.transforming?V.needTransform=!0:(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform))},E.prototype._destroy=function(g,V){A.prototype._destroy.call(this,g,function(w){V(w)})}},55299:(we,se,b)=>{function a(pe){var K=this;this.next=null,this.entry=null,this.finish=function(){!function ct(pe,K,Q){var xe=pe.entry;for(pe.entry=null;xe;){var ke=xe.callback;K.pendingcb--,ke(Q),xe=xe.next}K.corkedRequestsFree.next=pe}(K,pe)}}var m;we.exports=le,le.WritableState=j;var ae,v={deprecate:b(53935)},k=b(66832),A=b(163).Buffer,y=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=b(79719),V=b(87288).getHighWaterMark,w=b(58379).F,F=w.ERR_INVALID_ARG_TYPE,N=w.ERR_METHOD_NOT_IMPLEMENTED,M=w.ERR_MULTIPLE_CALLBACK,G=w.ERR_STREAM_CANNOT_PIPE,R=w.ERR_STREAM_DESTROYED,T=w.ERR_STREAM_NULL_VALUES,U=w.ERR_STREAM_WRITE_AFTER_END,ee=w.ERR_UNKNOWN_ENCODING,ne=f.errorOrDestroy;function H(){}function j(pe,K,Q){m=m||b(13049),"boolean"!=typeof Q&&(Q=K instanceof m),this.objectMode=!!(pe=pe||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!pe.writableObjectMode),this.highWaterMark=V(this,pe,"writableHighWaterMark",Q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===pe.decodeStrings),this.defaultEncoding=pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){!function Ge(pe,K){var Q=pe._writableState,xe=Q.sync,ke=Q.writecb;if("function"!=typeof ke)throw new M;if(function Ie(pe){pe.writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0}(Q),K)!function De(pe,K,Q,xe,ke){--K.pendingcb,Q?(process.nextTick(ke,xe),process.nextTick(Ke,pe,K),pe._writableState.errorEmitted=!0,ne(pe,xe)):(ke(xe),pe._writableState.errorEmitted=!0,ne(pe,xe),Ke(pe,K))}(pe,Q,xe,K,ke);else{var oe=Ye(Q)||pe.destroyed;!oe&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&Xe(pe,Q),xe?process.nextTick(Ce,pe,Q,oe,ke):Ce(pe,Q,oe,ke)}}(K,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function le(pe){var K=this instanceof(m=m||b(13049));if(!K&&!ae.call(le,this))return new le(pe);this._writableState=new j(pe,this,K),this.writable=!0,pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final)),k.call(this)}function ye(pe,K,Q,xe,ke,oe,ie){K.writelen=xe,K.writecb=ie,K.writing=!0,K.sync=!0,K.destroyed?K.onwrite(new R("write")):Q?pe._writev(ke,K.onwrite):pe._write(ke,oe,K.onwrite),K.sync=!1}function Ce(pe,K,Q,xe){Q||function Be(pe,K){0===K.length&&K.needDrain&&(K.needDrain=!1,pe.emit("drain"))}(pe,K),K.pendingcb--,xe(),Ke(pe,K)}function Xe(pe,K){K.bufferProcessing=!0;var Q=K.bufferedRequest;if(pe._writev&&Q&&Q.next){var ke=new Array(K.bufferedRequestCount),oe=K.corkedRequestsFree;oe.entry=Q;for(var ie=0,Me=!0;Q;)ke[ie]=Q,Q.isBuf||(Me=!1),Q=Q.next,ie+=1;ke.allBuffers=Me,ye(pe,K,!0,K.length,ke,"",oe.finish),K.pendingcb++,K.lastBufferedRequest=null,oe.next?(K.corkedRequestsFree=oe.next,oe.next=null):K.corkedRequestsFree=new a(K),K.bufferedRequestCount=0}else{for(;Q;){var ue=Q.chunk;if(ye(pe,K,!1,K.objectMode?1:ue.length,ue,Q.encoding,Q.callback),Q=Q.next,K.bufferedRequestCount--,K.writing)break}null===Q&&(K.lastBufferedRequest=null)}K.bufferedRequest=Q,K.bufferProcessing=!1}function Ye(pe){return pe.ending&&0===pe.length&&null===pe.bufferedRequest&&!pe.finished&&!pe.writing}function it(pe,K){pe._final(function(Q){K.pendingcb--,Q&&ne(pe,Q),K.prefinished=!0,pe.emit("prefinish"),Ke(pe,K)})}function Ke(pe,K){var Q=Ye(K);if(Q&&(function vt(pe,K){!K.prefinished&&!K.finalCalled&&("function"!=typeof pe._final||K.destroyed?(K.prefinished=!0,pe.emit("prefinish")):(K.pendingcb++,K.finalCalled=!0,process.nextTick(it,pe,K)))}(pe,K),0===K.pendingcb&&(K.finished=!0,pe.emit("finish"),K.autoDestroy))){var xe=pe._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&pe.destroy()}return Q}b(19822)(le,k),j.prototype.getBuffer=function(){for(var K=this.bufferedRequest,Q=[];K;)Q.push(K),K=K.next;return Q},function(){try{Object.defineProperty(j.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(K){return!!ae.call(this,K)||this===le&&K&&K._writableState instanceof j}})):ae=function(K){return K instanceof this},le.prototype.pipe=function(){ne(this,new G)},le.prototype.write=function(pe,K,Q){var xe=this._writableState,ke=!1,oe=!xe.objectMode&&function L(pe){return A.isBuffer(pe)||pe instanceof y}(pe);return oe&&!A.isBuffer(pe)&&(pe=function E(pe){return A.from(pe)}(pe)),"function"==typeof K&&(Q=K,K=null),oe?K="buffer":K||(K=xe.defaultEncoding),"function"!=typeof Q&&(Q=H),xe.ending?function re(pe,K){var Q=new U;ne(pe,Q),process.nextTick(K,Q)}(this,Q):(oe||function q(pe,K,Q,xe){var ke;return null===Q?ke=new T:"string"!=typeof Q&&!K.objectMode&&(ke=new F("chunk",["string","Buffer"],Q)),!ke||(ne(pe,ke),process.nextTick(xe,ke),!1)}(this,xe,pe,Q))&&(xe.pendingcb++,ke=function X(pe,K,Q,xe,ke,oe){if(!Q){var ie=function te(pe,K,Q){return!pe.objectMode&&!1!==pe.decodeStrings&&"string"==typeof K&&(K=A.from(K,Q)),K}(K,xe,ke);xe!==ie&&(Q=!0,ke="buffer",xe=ie)}var Me=K.objectMode?1:xe.length;K.length+=Me;var ue=K.length<K.highWaterMark;if(ue||(K.needDrain=!0),K.writing||K.corked){var Z=K.lastBufferedRequest;K.lastBufferedRequest={chunk:xe,encoding:ke,isBuf:Q,callback:oe,next:null},Z?Z.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else ye(pe,K,!1,Me,xe,ke,oe);return ue}(this,xe,oe,pe,K,Q)),ke},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&Xe(this,pe))},le.prototype.setDefaultEncoding=function(K){if("string"==typeof K&&(K=K.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((K+"").toLowerCase())>-1))throw new ee(K);return this._writableState.defaultEncoding=K,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),le.prototype._write=function(pe,K,Q){Q(new N("_write()"))},le.prototype._writev=null,le.prototype.end=function(pe,K,Q){var xe=this._writableState;return"function"==typeof pe?(Q=pe,pe=null,K=null):"function"==typeof K&&(Q=K,K=null),null!=pe&&this.write(pe,K),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||function Ze(pe,K,Q){K.ending=!0,Ke(pe,K),Q&&(K.finished?process.nextTick(Q):pe.once("finish",Q)),K.ended=!0,pe.writable=!1}(this,xe,Q),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),le.prototype.destroy=f.destroy,le.prototype._undestroy=f.undestroy,le.prototype._destroy=function(pe,K){K(pe)}},45486:(we,se,b)=>{var I;function a(U,ee,ne){return ee=function m(U){var ee=function v(U,ee){if("object"!=typeof U||null===U)return U;var ne=U[Symbol.toPrimitive];if(void 0!==ne){var H=ne.call(U,ee||"default");if("object"!=typeof H)return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(U)}(U,"string");return"symbol"==typeof ee?ee:String(ee)}(ee),ee in U?Object.defineProperty(U,ee,{value:ne,enumerable:!0,configurable:!0,writable:!0}):U[ee]=ne,U}var k=b(85629),A=Symbol("lastResolve"),y=Symbol("lastReject"),E=Symbol("error"),L=Symbol("ended"),f=Symbol("lastPromise"),g=Symbol("handlePromise"),V=Symbol("stream");function w(U,ee){return{value:U,done:ee}}function F(U){var ee=U[A];if(null!==ee){var ne=U[V].read();null!==ne&&(U[f]=null,U[A]=null,U[y]=null,ee(w(ne,!1)))}}function N(U){process.nextTick(F,U)}var G=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((a(I={get stream(){return this[V]},next:function(){var ee=this,ne=this[E];if(null!==ne)return Promise.reject(ne);if(this[L])return Promise.resolve(w(void 0,!0));if(this[V].destroyed)return new Promise(function(le,re){process.nextTick(function(){ee[E]?re(ee[E]):le(w(void 0,!0))})});var j,H=this[f];if(H)j=new Promise(function M(U,ee){return function(ne,H){U.then(function(){ee[L]?ne(w(void 0,!0)):ee[g](ne,H)},H)}}(H,this));else{var ae=this[V].read();if(null!==ae)return Promise.resolve(w(ae,!1));j=new Promise(this[g])}return this[f]=j,j}},Symbol.asyncIterator,function(){return this}),a(I,"return",function(){var ee=this;return new Promise(function(ne,H){ee[V].destroy(null,function(j){j?H(j):ne(w(void 0,!0))})})}),I),G);we.exports=function(ee){var ne,H=Object.create(R,(a(ne={},V,{value:ee,writable:!0}),a(ne,A,{value:null,writable:!0}),a(ne,y,{value:null,writable:!0}),a(ne,E,{value:null,writable:!0}),a(ne,L,{value:ee._readableState.endEmitted,writable:!0}),a(ne,g,{value:function(ae,le){var re=H[V].read();re?(H[f]=null,H[A]=null,H[y]=null,ae(w(re,!1))):(H[A]=ae,H[y]=le)},writable:!0}),ne));return H[f]=null,k(ee,function(j){if(j&&"ERR_STREAM_PREMATURE_CLOSE"!==j.code){var ae=H[y];return null!==ae&&(H[f]=null,H[A]=null,H[y]=null,ae(j)),void(H[E]=j)}var le=H[A];null!==le&&(H[f]=null,H[A]=null,H[y]=null,le(w(void 0,!0))),H[L]=!0}),ee.on("readable",N.bind(null,H)),H}},22650:(we,se,b)=>{function I(N,M){var G=Object.keys(N);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(N);M&&(R=R.filter(function(T){return Object.getOwnPropertyDescriptor(N,T).enumerable})),G.push.apply(G,R)}return G}function a(N){for(var M=1;M<arguments.length;M++){var G=null!=arguments[M]?arguments[M]:{};M%2?I(Object(G),!0).forEach(function(R){m(N,R,G[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(G)):I(Object(G)).forEach(function(R){Object.defineProperty(N,R,Object.getOwnPropertyDescriptor(G,R))})}return N}function m(N,M,G){return(M=y(M))in N?Object.defineProperty(N,M,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[M]=G,N}function k(N,M){for(var G=0;G<M.length;G++){var R=M[G];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,y(R.key),R)}}function y(N){var M=function E(N,M){if("object"!=typeof N||null===N)return N;var G=N[Symbol.toPrimitive];if(void 0!==G){var R=G.call(N,M||"default");if("object"!=typeof R)return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(N)}(N,"string");return"symbol"==typeof M?M:String(M)}var f=b(163).Buffer,V=b(63779).inspect,w=V&&V.custom||"inspect";function F(N,M,G){f.prototype.copy.call(N,M,G)}we.exports=function(){function N(){(function v(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")})(this,N),this.head=null,this.tail=null,this.length=0}return function A(N,M,G){M&&k(N.prototype,M),G&&k(N,G),Object.defineProperty(N,"prototype",{writable:!1})}(N,[{key:"push",value:function(G){var R={data:G,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(G){var R={data:G,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(0!==this.length){var G=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,G}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(G){if(0===this.length)return"";for(var R=this.head,T=""+R.data;R=R.next;)T+=G+R.data;return T}},{key:"concat",value:function(G){if(0===this.length)return f.alloc(0);for(var R=f.allocUnsafe(G>>>0),T=this.head,U=0;T;)F(T.data,R,U),U+=T.data.length,T=T.next;return R}},{key:"consume",value:function(G,R){var T;return G<this.head.data.length?(T=this.head.data.slice(0,G),this.head.data=this.head.data.slice(G)):T=G===this.head.data.length?this.shift():R?this._getString(G):this._getBuffer(G),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(G){var R=this.head,T=1,U=R.data;for(G-=U.length;R=R.next;){var ee=R.data,ne=G>ee.length?ee.length:G;if(U+=ne===ee.length?ee:ee.slice(0,G),0===(G-=ne)){ne===ee.length?(++T,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=ee.slice(ne));break}++T}return this.length-=T,U}},{key:"_getBuffer",value:function(G){var R=f.allocUnsafe(G),T=this.head,U=1;for(T.data.copy(R),G-=T.data.length;T=T.next;){var ee=T.data,ne=G>ee.length?ee.length:G;if(ee.copy(R,R.length-G,0,ne),0===(G-=ne)){ne===ee.length?(++U,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=ee.slice(ne));break}++U}return this.length-=U,R}},{key:w,value:function(G,R){return V(this,a(a({},R),{},{depth:0,customInspect:!1}))}}]),N}()},79719:we=>{function b(k,A){m(k,A),I(k)}function I(k){k._writableState&&!k._writableState.emitClose||k._readableState&&!k._readableState.emitClose||k.emit("close")}function m(k,A){k.emit("error",A)}we.exports={destroy:function se(k,A){var y=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(A?A(k):k&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(m,this,k)):process.nextTick(m,this,k)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(k||null,function(f){!A&&f?y._writableState?y._writableState.errorEmitted?process.nextTick(I,y):(y._writableState.errorEmitted=!0,process.nextTick(b,y,f)):process.nextTick(b,y,f):A?(process.nextTick(I,y),A(f)):process.nextTick(I,y)}),this)},undestroy:function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function v(k,A){var y=k._readableState,E=k._writableState;y&&y.autoDestroy||E&&E.autoDestroy?k.destroy(A):k.emit("error",A)}}},85629:(we,se,b)=>{var I=b(58379).F.ERR_STREAM_PREMATURE_CLOSE;function m(){}we.exports=function k(A,y,E){if("function"==typeof y)return k(A,null,y);y||(y={}),E=function a(A){var y=!1;return function(){if(!y){y=!0;for(var E=arguments.length,L=new Array(E),f=0;f<E;f++)L[f]=arguments[f];A.apply(this,L)}}}(E||m);var L=y.readable||!1!==y.readable&&A.readable,f=y.writable||!1!==y.writable&&A.writable,g=function(){A.writable||w()},V=A._writableState&&A._writableState.finished,w=function(){f=!1,V=!0,L||E.call(A)},F=A._readableState&&A._readableState.endEmitted,N=function(){L=!1,F=!0,f||E.call(A)},M=function(U){E.call(A,U)},G=function(){var U;return L&&!F?((!A._readableState||!A._readableState.ended)&&(U=new I),E.call(A,U)):f&&!V?((!A._writableState||!A._writableState.ended)&&(U=new I),E.call(A,U)):void 0},R=function(){A.req.on("finish",w)};return function v(A){return A.setHeader&&"function"==typeof A.abort}(A)?(A.on("complete",w),A.on("abort",G),A.req?R():A.on("request",R)):f&&!A._writableState&&(A.on("end",g),A.on("close",g)),A.on("end",N),A.on("finish",w),!1!==y.error&&A.on("error",M),A.on("close",G),function(){A.removeListener("complete",w),A.removeListener("abort",G),A.removeListener("request",R),A.req&&A.req.removeListener("finish",w),A.removeListener("end",g),A.removeListener("close",g),A.removeListener("finish",w),A.removeListener("end",N),A.removeListener("error",M),A.removeListener("close",G)}}},65252:we=>{we.exports=function(){throw new Error("Readable.from is not available in the browser")}},67607:(we,se,b)=>{var I,m=b(58379).F,v=m.ERR_MISSING_ARGS,k=m.ERR_STREAM_DESTROYED;function A(w){if(w)throw w}function L(w){w()}function f(w,F){return w.pipe(F)}we.exports=function V(){for(var w=arguments.length,F=new Array(w),N=0;N<w;N++)F[N]=arguments[N];var M=function g(w){return w.length&&"function"==typeof w[w.length-1]?w.pop():A}(F);if(Array.isArray(F[0])&&(F=F[0]),F.length<2)throw new v("streams");var G,R=F.map(function(T,U){var ee=U<F.length-1;return function E(w,F,N,M){M=function a(w){var F=!1;return function(){F||(F=!0,w.apply(void 0,arguments))}}(M);var G=!1;w.on("close",function(){G=!0}),void 0===I&&(I=b(85629)),I(w,{readable:F,writable:N},function(T){if(T)return M(T);G=!0,M()});var R=!1;return function(T){if(!G&&!R){if(R=!0,function y(w){return w.setHeader&&"function"==typeof w.abort}(w))return w.abort();if("function"==typeof w.destroy)return w.destroy();M(T||new k("pipe"))}}}(T,ee,U>0,function(H){G||(G=H),H&&R.forEach(L),!ee&&(R.forEach(L),M(G))})});return F.reduce(f)}},87288:(we,se,b)=>{var I=b(58379).F.ERR_INVALID_OPT_VALUE;we.exports={getHighWaterMark:function m(v,k,A,y){var E=function a(v,k,A){return null!=v.highWaterMark?v.highWaterMark:k?v[A]:null}(k,y,A);if(null!=E){if(!isFinite(E)||Math.floor(E)!==E||E<0)throw new I(y?A:"highWaterMark",E);return Math.floor(E)}return v.objectMode?16:16384}}},66832:(we,se,b)=>{we.exports=b(44339).EventEmitter},70281:(we,se,b)=>{var I=b(66175).Buffer,a=I.isEncoding||function(R){switch((R=""+R)&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function k(R){var T;switch(this.encoding=function v(R){var T=function m(R){if(!R)return"utf8";for(var T;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(T)return;R=(""+R).toLowerCase(),T=!0}}(R);if("string"!=typeof T&&(I.isEncoding===a||!a(R)))throw new Error("Unknown encoding: "+R);return T||R}(R),this.encoding){case"utf16le":this.text=V,this.end=w,T=4;break;case"utf8":this.fillLast=L,T=4;break;case"base64":this.text=F,this.end=N,T=3;break;default:return this.write=M,void(this.end=G)}this.lastNeed=0,this.lastTotal=0,this.lastChar=I.allocUnsafe(T)}function A(R){return R<=127?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function L(R){var T=this.lastTotal-this.lastNeed,U=function E(R,T){if(128!=(192&T[0]))return R.lastNeed=0,"\ufffd";if(R.lastNeed>1&&T.length>1){if(128!=(192&T[1]))return R.lastNeed=1,"\ufffd";if(R.lastNeed>2&&T.length>2&&128!=(192&T[2]))return R.lastNeed=2,"\ufffd"}}(this,R);return void 0!==U?U:this.lastNeed<=R.length?(R.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(R.copy(this.lastChar,T,0,R.length),void(this.lastNeed-=R.length))}function V(R,T){if((R.length-T)%2==0){var U=R.toString("utf16le",T);if(U){var ee=U.charCodeAt(U.length-1);if(ee>=55296&&ee<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",T,R.length-1)}function w(R){var T=R&&R.length?this.write(R):"";return this.lastNeed?T+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):T}function F(R,T){var U=(R.length-T)%3;return 0===U?R.toString("base64",T):(this.lastNeed=3-U,this.lastTotal=3,1===U?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",T,R.length-U))}function N(R){var T=R&&R.length?this.write(R):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function M(R){return R.toString(this.encoding)}function G(R){return R&&R.length?this.write(R):""}se.I=k,k.prototype.write=function(R){if(0===R.length)return"";var T,U;if(this.lastNeed){if(void 0===(T=this.fillLast(R)))return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<R.length?T?T+this.text(R,U):this.text(R,U):T||""},k.prototype.end=function g(R){var T=R&&R.length?this.write(R):"";return this.lastNeed?T+"\ufffd":T},k.prototype.text=function f(R,T){var U=function y(R,T,U){var ee=T.length-1;if(ee<U)return 0;var ne=A(T[ee]);return ne>=0?(ne>0&&(R.lastNeed=ne-1),ne):--ee<U||-2===ne?0:(ne=A(T[ee]))>=0?(ne>0&&(R.lastNeed=ne-2),ne):--ee<U||-2===ne?0:(ne=A(T[ee]))>=0?(ne>0&&(2===ne?ne=0:R.lastNeed=ne-3),ne):0}(this,R,T);if(!this.lastNeed)return R.toString("utf8",T);this.lastTotal=U;var ee=R.length-(U-this.lastNeed);return R.copy(this.lastChar,0,ee),R.toString("utf8",T,ee)},k.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length}},66175:(we,se,b)=>{var I=b(163),a=I.Buffer;function m(k,A){for(var y in k)A[y]=k[y]}function v(k,A,y){return a(k,A,y)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?we.exports=I:(m(I,se),se.Buffer=v),m(a,v),v.from=function(k,A,y){if("number"==typeof k)throw new TypeError("Argument must not be a number");return a(k,A,y)},v.alloc=function(k,A,y){if("number"!=typeof k)throw new TypeError("Argument must be a number");var E=a(k);return void 0!==A?"string"==typeof y?E.fill(A,y):E.fill(A):E.fill(0),E},v.allocUnsafe=function(k){if("number"!=typeof k)throw new TypeError("Argument must be a number");return a(k)},v.allocUnsafeSlow=function(k){if("number"!=typeof k)throw new TypeError("Argument must be a number");return I.SlowBuffer(k)}},53935:we=>{function b(I){try{if(!global.localStorage)return!1}catch{return!1}var a=global.localStorage[I];return null!=a&&"true"===String(a).toLowerCase()}we.exports=function se(I,a){if(b("noDeprecation"))return I;var m=!1;return function v(){if(!m){if(b("throwDeprecation"))throw new Error(a);b("traceDeprecation")?console.trace(a):console.warn(a),m=!0}return I.apply(this,arguments)}}},52249:()=>{},42634:()=>{},63779:()=>{},77199:()=>{},67081:(we,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),b(24398).__exportStar(b(23879),se)},40:(we,se,b)=>{var I=b(88455);we.exports=function a(m,v,k){return(v=I(v))in m?Object.defineProperty(m,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[v]=k,m},we.exports.__esModule=!0,we.exports.default=we.exports},74594:(we,se,b)=>{var I=b(94195).default;we.exports=function a(m,v){if("object"!=I(m)||!m)return m;var k=m[Symbol.toPrimitive];if(void 0!==k){var A=k.call(m,v||"default");if("object"!=I(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(m)},we.exports.__esModule=!0,we.exports.default=we.exports},88455:(we,se,b)=>{var I=b(94195).default,a=b(74594);we.exports=function m(v){var k=a(v,"string");return"symbol"==I(k)?k:k+""},we.exports.__esModule=!0,we.exports.default=we.exports},94195:we=>{function se(b){return we.exports=se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},we.exports.__esModule=!0,we.exports.default=we.exports,se(b)}we.exports=se,we.exports.__esModule=!0,we.exports.default=we.exports},23879:(we,se,b)=>{b.r(se),b.d(se,{getManifest:()=>ne,initFederation:()=>H,loadManifest:()=>ae,loadRemoteEntry:()=>V,loadRemoteModule:()=>R,setManifest:()=>U});var I=b(11),a=b(22292),m=b(81890),v={},k={},A={},y=!1;function E(X,ye){return L.apply(this,arguments)}function L(){return(L=(0,m.A)((0,I.A)().m(function X(ye,De){var Ie,Ce;return(0,I.A)().w(function(Be){for(;;)switch(Be.n){case 0:return Ie=k[ye],Be.n=1,Ie.get(De);case 1:return Ce=(0,Be.v)(),Be.a(2,Ce)}},X)}))).apply(this,arguments)}function f(X,ye){return g.apply(this,arguments)}function g(){return(g=(0,m.A)((0,I.A)().m(function X(ye,De){return(0,I.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:if(!A[De]){Ie.n=1;break}return Ie.a(2,ye);case 1:if(y){Ie.n=3;break}return Ie.n=2,b.I("default");case 2:y=!0;case 3:return Ie.n=4,ye.init(b.S.default);case 4:return A[De]=!0,Ie.a(2,ye)}},X)}))).apply(this,arguments)}function V(X,ye){return w.apply(this,arguments)}function w(){return(w=(0,m.A)((0,I.A)().m(function X(ye,De){var Ie,Ge,Ce;return(0,I.A)().w(function(Be){for(;;)switch(Be.n){case 0:if("string"!=typeof ye){Be.n=2;break}return Ie=ye,Be.n=1,M(Ie,De);case 1:case 3:return Be.a(2,Be.v);case 2:if("script"!==ye.type){Be.n=4;break}return Ge=ye,Be.n=3,M(Ge.remoteEntry,Ge.remoteName);case 4:if("module"!==ye.type){Be.n=5;break}return Ce=ye,Be.n=5,F(Ce.remoteEntry);case 5:return Be.a(2)}},X)}))).apply(this,arguments)}function F(X){return N.apply(this,arguments)}function N(){return(N=(0,m.A)((0,I.A)().m(function X(ye){return(0,I.A)().w(function(De){for(;;)switch(De.n){case 0:if(!k[ye]){De.n=1;break}return De.a(2,Promise.resolve());case 1:return De.n=2,import(ye).then(function(Ie){f(Ie,ye),k[ye]=Ie});case 2:return De.a(2,De.v)}},X)}))).apply(this,arguments)}function M(X,ye){return G.apply(this,arguments)}function G(){return(G=(0,m.A)((0,I.A)().m(function X(ye,De){return(0,I.A)().w(function(Ie){for(;;)if(0===Ie.n)return Ie.a(2,new Promise(function(Ge,Ce){if(k[De])Ge();else{var Be=document.createElement("script");Be.src=ye,Be.onerror=Ce,Be.onload=function(){var Xe=window[De];f(Xe,De),k[De]=Xe,Ge()},document.body.appendChild(Be)}}))},X)}))).apply(this,arguments)}function R(X,ye){return T.apply(this,arguments)}function T(){return(T=(0,m.A)((0,I.A)().m(function X(ye,De){var Ie,Ge,Ce,Be,Xe,Ye;return(0,I.A)().w(function(it){for(;;)switch(it.n){case 0:if((Be="string"==typeof ye?{type:"manifest",remoteName:ye,exposedModule:De}:ye).type||(Xe=Object.keys(v).length>0,Be.type=Xe?"manifest":"script"),"manifest"!==Be.type){it.n=2;break}if(Ye=v[Be.remoteName]){it.n=1;break}throw new Error("Manifest does not contain "+Be.remoteName);case 1:Be={type:Ye.type,exposedModule:Be.exposedModule,remoteEntry:Ye.remoteEntry,remoteName:"script"===Ye.type?Be.remoteName:void 0},Ce=Ye.remoteEntry,it.n=3;break;case 2:Ce=Be.remoteEntry;case 3:if("script"===Be.type?(Ie={type:"script",remoteEntry:Be.remoteEntry,remoteName:Be.remoteName},Ge=Be.remoteName):"module"===Be.type&&(Ie={type:"module",remoteEntry:Be.remoteEntry},Ge=Be.remoteEntry),!Ce){it.n=4;break}return it.n=4,V(Ie);case 4:return it.n=5,E(Ge,Be.exposedModule);case 5:return it.a(2,it.v)}},X)}))).apply(this,arguments)}function U(X){return ee.apply(this,arguments)}function ee(){return ee=(0,m.A)(function(X){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,I.A)().m(function De(){return(0,I.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:if(v=re(X),ye){Ie.n=1;break}return Ie.n=1,q();case 1:return Ie.a(2)}},De)})()}),ee.apply(this,arguments)}function ne(){return v}function H(X){return j.apply(this,arguments)}function j(){return j=(0,m.A)(function(X){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,I.A)().m(function De(){return(0,I.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:if("string"!=typeof X){Ie.n=1;break}return Ie.a(2,ae(X,ye));case 1:return Ie.a(2,U(X,ye));case 2:return Ie.a(2)}},De)})()}),j.apply(this,arguments)}function ae(X){return le.apply(this,arguments)}function le(){return le=(0,m.A)(function(X){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,I.A)().m(function De(){var Ie,Ge;return(0,I.A)().w(function(Ce){for(;;)switch(Ce.n){case 0:return Ce.n=1,fetch(X);case 1:if((Ie=Ce.v).ok){Ce.n=2;break}throw Error("could not load configFile: "+X);case 2:return Ge=re,Ce.n=3,Ie.json();case 3:if(v=Ge(Ce.v),ye){Ce.n=4;break}return Ce.n=4,q();case 4:return Ce.a(2)}},De)})()}),le.apply(this,arguments)}function re(X){var ye={};for(var De in X){var Ge,Ie=X[De];Ge="string"==typeof Ie?{remoteEntry:Ie,type:"module"}:(0,a.A)((0,a.A)({},Ie),{},{type:Ie.type||"module"}),ye[De]=Ge}return ye}function q(){return te.apply(this,arguments)}function te(){return(te=(0,m.A)((0,I.A)().m(function X(){var ye,De,Ie;return(0,I.A)().w(function(Ge){for(;;)switch(Ge.n){case 0:for(De in ye=[],v)ye.push(V("module"===(Ie=v[De]).type?{type:"module",remoteEntry:Ie.remoteEntry}:{type:"script",remoteEntry:Ie.remoteEntry,remoteName:De}));return Ge.n=1,Promise.all(ye);case 1:return Ge.a(2)}},X)}))).apply(this,arguments)}},88051:(we,se,b)=>{function a(m,v){if(null==m)return{};var k,A,y=function I(m,v){if(null==m)return{};var k={};for(var A in m)if({}.hasOwnProperty.call(m,A)){if(-1!==v.indexOf(A))continue;k[A]=m[A]}return k}(m,v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(m);for(A=0;A<E.length;A++)-1===v.indexOf(k=E[A])&&{}.propertyIsEnumerable.call(m,k)&&(y[k]=m[k])}return y}b.d(se,{A:()=>a})},82846:(we,se,b)=>{b.d(se,{A:()=>a});var I=b(80641);function a(m){if(null!=m){var v=m["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],k=0;if(v)return v.call(m);if("function"==typeof m.next)return m;if(!isNaN(m.length))return{next:function(){return m&&k>=m.length&&(m=void 0),{value:m&&m[k++],done:!m}}}}throw new TypeError((0,I.A)(m)+" is not iterable")}}}]);
//# sourceMappingURL=9506.c7c8cae90cc338ba.js.map