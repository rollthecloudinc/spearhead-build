{
  "version": 3,
  "sources": ["../../ua-parser-js/src/ua-parser.js", "../../shimmer/index.js", "../../aws-rum-web/node_modules/@aws-crypto/sha256-js/build/constants.js", "../../aws-rum-web/node_modules/@aws-crypto/sha256-js/build/RawSha256.js", "../../aws-rum-web/node_modules/@aws-crypto/sha256-js/build/jsSha256.js", "../../aws-rum-web/node_modules/@aws-crypto/sha256-js/build/index.js", "../../aws-rum-web/node_modules/@smithy/protocol-http/dist-es/httpRequest.js", "../../aws-rum-web/node_modules/@smithy/protocol-http/dist-es/httpResponse.js", "../../aws-rum-web/node_modules/@smithy/util-uri-escape/dist-es/escape-uri.js", "../../aws-rum-web/node_modules/@smithy/querystring-builder/dist-es/index.js", "../../aws-rum-web/node_modules/@smithy/fetch-http-handler/dist-es/create-request.js", "../../aws-rum-web/node_modules/@smithy/fetch-http-handler/dist-es/request-timeout.js", "../../aws-rum-web/node_modules/@smithy/fetch-http-handler/dist-es/fetch-http-handler.js", "../../aws-rum-web/node_modules/@smithy/util-base64/dist-es/constants.browser.js", "../../aws-rum-web/node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js", "../../aws-rum-web/node_modules/@smithy/util-utf8/dist-es/toUint8Array.js", "../../aws-rum-web/dist/es/dispatch/utils.js", "../../aws-rum-web/dist/es/dispatch/StsClient.js", "../../aws-rum-web/dist/es/utils/constants.js", "../../aws-rum-web/dist/es/dispatch/CognitoIdentityClient.js", "../../aws-rum-web/dist/es/dispatch/Authentication.js", "../../aws-rum-web/dist/es/dispatch/BasicAuthentication.js", "../../aws-rum-web/dist/es/dispatch/EnhancedAuthentication.js", "../../aws-rum-web/dist/es/plugins/utils/constant.js", "../../aws-rum-web/dist/es/plugins/InternalPlugin.js", "../../aws-rum-web/dist/es/plugins/PluginManager.js", "../../aws-rum-web/dist/es/plugins/event-plugins/DomEventPlugin.js", "../../aws-rum-web/dist/es/plugins/utils/js-error-utils.js", "../../aws-rum-web/dist/es/plugins/event-plugins/JsErrorPlugin.js", "../../aws-rum-web/dist/es/utils/cookies-utils.js", "../../aws-rum-web/dist/es/sessions/SessionManager.js", "../../aws-rum-web/dist/es/plugins/MonkeyPatched.js", "../../aws-rum-web/dist/es/sessions/VirtualPageLoadTimer.js", "../../aws-rum-web/dist/es/sessions/PageManager.js", "../../aws-rum-web/dist/es/event-bus/EventBus.js", "../../aws-rum-web/dist/es/event-cache/EventCache.js", "../../aws-rum-web/node_modules/@smithy/util-hex-encoding/dist-es/index.js", "../../aws-rum-web/node_modules/@smithy/util-middleware/dist-es/normalizeProvider.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/constants.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/credentialDerivation.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/getCanonicalHeaders.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/getCanonicalQuery.js", "../../aws-rum-web/node_modules/@smithy/is-array-buffer/dist-es/index.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/getPayloadHash.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/HeaderFormatter.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/headerUtil.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/moveHeadersToQuery.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/prepareRequest.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/utilDate.js", "../../aws-rum-web/node_modules/@smithy/signature-v4/dist-es/SignatureV4.js", "../../aws-rum-web/dist/es/dispatch/DataPlaneClient.js", "../../@aws-sdk/querystring-builder/dist-es/index.js", "../../aws-rum-web/dist/es/dispatch/BeaconHttpHandler.js", "../../aws-rum-web/dist/es/dispatch/request-timeout.js", "../../aws-rum-web/dist/es/dispatch/FetchHttpHandler.js", "../../aws-rum-web/dist/es/utils/random.js", "../../aws-rum-web/dist/es/plugins/utils/http-utils.js", "../../aws-rum-web/dist/es/dispatch/RetryHttpHandler.js", "../../aws-rum-web/dist/es/dispatch/Dispatch.js", "../../aws-rum-web/dist/es/utils/common-utils.js", "../../aws-rum-web/dist/es/plugins/utils/performance-utils.js", "../../aws-rum-web/dist/es/plugins/event-plugins/NavigationPlugin.js", "../../aws-rum-web/dist/es/plugins/event-plugins/ResourcePlugin.js", "../../web-vitals/dist/web-vitals.attribution.js", "../../aws-rum-web/dist/es/plugins/event-plugins/WebVitalsPlugin.js", "../../aws-rum-web/dist/es/errors/XhrError.js", "../../aws-rum-web/dist/es/plugins/event-plugins/XhrPlugin.js", "../../aws-rum-web/dist/es/plugins/event-plugins/FetchPlugin.js", "../../aws-rum-web/dist/es/plugins/event-plugins/PageViewPlugin.js", "../../aws-rum-web/dist/es/orchestration/Orchestration.js", "../../web-vitals/dist/web-vitals.js", "../../aws-rum-web/dist/es/time-to-interactive/VisuallyReadySearch.js", "../../aws-rum-web/dist/es/time-to-interactive/QuietWindowSearch.js", "../../aws-rum-web/dist/es/time-to-interactive/TimeToInteractive.js", "../../aws-rum-web/dist/es/plugins/event-plugins/TTIPlugin.js"],
  "sourcesContent": ["/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.41\n   Copyright \u00A9 2012-2025 Faisal Salman <f@faisalman.com>\n   MIT License */ /*\n                  Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n                  Supports browser & node.js environment. \n                  Demo   : https://faisalman.github.io/ua-parser-js\n                  Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n  'use strict';\n\n  //////////////\n  // Constants\n  /////////////\n  var LIBVERSION = '1.0.41',\n    EMPTY = '',\n    UNKNOWN = '?',\n    FUNC_TYPE = 'function',\n    UNDEF_TYPE = 'undefined',\n    OBJ_TYPE = 'object',\n    STR_TYPE = 'string',\n    MAJOR = 'major',\n    MODEL = 'model',\n    NAME = 'name',\n    TYPE = 'type',\n    VENDOR = 'vendor',\n    VERSION = 'version',\n    ARCHITECTURE = 'architecture',\n    CONSOLE = 'console',\n    MOBILE = 'mobile',\n    TABLET = 'tablet',\n    SMARTTV = 'smarttv',\n    WEARABLE = 'wearable',\n    EMBEDDED = 'embedded',\n    UA_MAX_LENGTH = 500;\n  var AMAZON = 'Amazon',\n    APPLE = 'Apple',\n    ASUS = 'ASUS',\n    BLACKBERRY = 'BlackBerry',\n    BROWSER = 'Browser',\n    CHROME = 'Chrome',\n    EDGE = 'Edge',\n    FIREFOX = 'Firefox',\n    GOOGLE = 'Google',\n    HONOR = 'Honor',\n    HUAWEI = 'Huawei',\n    LENOVO = 'Lenovo',\n    LG = 'LG',\n    MICROSOFT = 'Microsoft',\n    MOTOROLA = 'Motorola',\n    NVIDIA = 'Nvidia',\n    ONEPLUS = 'OnePlus',\n    OPERA = 'Opera',\n    OPPO = 'OPPO',\n    SAMSUNG = 'Samsung',\n    SHARP = 'Sharp',\n    SONY = 'Sony',\n    XIAOMI = 'Xiaomi',\n    ZEBRA = 'Zebra',\n    FACEBOOK = 'Facebook',\n    CHROMIUM_OS = 'Chromium OS',\n    MAC_OS = 'Mac OS',\n    SUFFIX_BROWSER = ' Browser';\n\n  ///////////\n  // Helper\n  //////////\n\n  var extend = function (regexes, extensions) {\n      var mergedRegexes = {};\n      for (var i in regexes) {\n        if (extensions[i] && extensions[i].length % 2 === 0) {\n          mergedRegexes[i] = extensions[i].concat(regexes[i]);\n        } else {\n          mergedRegexes[i] = regexes[i];\n        }\n      }\n      return mergedRegexes;\n    },\n    enumerize = function (arr) {\n      var enums = {};\n      for (var i = 0; i < arr.length; i++) {\n        enums[arr[i].toUpperCase()] = arr[i];\n      }\n      return enums;\n    },\n    has = function (str1, str2) {\n      return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n    },\n    lowerize = function (str) {\n      return str.toLowerCase();\n    },\n    majorize = function (version) {\n      return typeof version === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n    },\n    trim = function (str, len) {\n      if (typeof str === STR_TYPE) {\n        str = str.replace(/^\\s\\s*/, EMPTY);\n        return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n      }\n    };\n\n  ///////////////\n  // Map helper\n  //////////////\n\n  var rgxMapper = function (ua, arrays) {\n      var i = 0,\n        j,\n        k,\n        p,\n        q,\n        matches,\n        match;\n\n      // loop through all regexes maps\n      while (i < arrays.length && !matches) {\n        var regex = arrays[i],\n          // even sequence (0,2,4,..)\n          props = arrays[i + 1]; // odd sequence (1,3,5,..)\n        j = k = 0;\n\n        // try matching uastring with regexes\n        while (j < regex.length && !matches) {\n          if (!regex[j]) {\n            break;\n          }\n          matches = regex[j++].exec(ua);\n          if (!!matches) {\n            for (p = 0; p < props.length; p++) {\n              match = matches[++k];\n              q = props[p];\n              // check if given property is actually array\n              if (typeof q === OBJ_TYPE && q.length > 0) {\n                if (q.length === 2) {\n                  if (typeof q[1] == FUNC_TYPE) {\n                    // assign modified match\n                    this[q[0]] = q[1].call(this, match);\n                  } else {\n                    // assign given value, ignore regex match\n                    this[q[0]] = q[1];\n                  }\n                } else if (q.length === 3) {\n                  // check whether function or regex\n                  if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                    // call function (usually string mapper)\n                    this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                  } else {\n                    // sanitize match using given regex\n                    this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                  }\n                } else if (q.length === 4) {\n                  this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                }\n              } else {\n                this[q] = match ? match : undefined;\n              }\n            }\n          }\n        }\n        i += 2;\n      }\n    },\n    strMapper = function (str, map) {\n      for (var i in map) {\n        // check if current value is array\n        if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n          for (var j = 0; j < map[i].length; j++) {\n            if (has(map[i][j], str)) {\n              return i === UNKNOWN ? undefined : i;\n            }\n          }\n        } else if (has(map[i], str)) {\n          return i === UNKNOWN ? undefined : i;\n        }\n      }\n      return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n  ///////////////\n  // String map\n  //////////////\n\n  // Safari < 3.0\n  var oldSafariMap = {\n      '1.0': '/8',\n      '1.2': '/1',\n      '1.3': '/3',\n      '2.0': '/412',\n      '2.0.2': '/416',\n      '2.0.3': '/417',\n      '2.0.4': '/419',\n      '?': '/'\n    },\n    windowsVersionMap = {\n      'ME': '4.90',\n      'NT 3.11': 'NT3.51',\n      'NT 4.0': 'NT4.0',\n      '2000': 'NT 5.0',\n      'XP': ['NT 5.1', 'NT 5.2'],\n      'Vista': 'NT 6.0',\n      '7': 'NT 6.1',\n      '8': 'NT 6.2',\n      '8.1': 'NT 6.3',\n      '10': ['NT 6.4', 'NT 10.0'],\n      'RT': 'ARM'\n    };\n\n  //////////////\n  // Regex map\n  /////////////\n\n  var regexes = {\n    browser: [[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i // Chrome for Android/iOS\n    ], [VERSION, [NAME, 'Chrome']], [/edg(?:e|ios|a)?\\/([\\w\\.]+)/i // Microsoft Edge\n    ], [VERSION, [NAME, 'Edge']], [\n    // Presto based\n    /(opera mini)\\/([-\\w\\.]+)/i,\n    // Opera Mini\n    /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,\n    // Opera Mobi/Tablet\n    /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i // Opera\n    ], [NAME, VERSION], [/opios[\\/ ]+([\\w\\.]+)/i // Opera mini on iphone >= 8.0\n    ], [VERSION, [NAME, OPERA + ' Mini']], [/\\bop(?:rg)?x\\/([\\w\\.]+)/i // Opera GX\n    ], [VERSION, [NAME, OPERA + ' GX']], [/\\bopr\\/([\\w\\.]+)/i // Opera Webkit\n    ], [VERSION, [NAME, OPERA]], [\n    // Mixed\n    /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i // Baidu\n    ], [VERSION, [NAME, 'Baidu']], [/\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i // Maxthon\n    ], [VERSION, [NAME, 'Maxthon']], [/(kindle)\\/([\\w\\.]+)/i,\n    // Kindle\n    /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,\n    // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n    // Trident based\n    /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,\n    // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n    /(?:ms|\\()(ie) ([\\w\\.]+)/i,\n    // Internet Explorer\n\n    // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n    /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\/([-\\w\\.]+)/i,\n    // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n    /(heytap|ovi|115)browser\\/([\\d\\.]+)/i,\n    // HeyTap/Ovi/115\n    /(weibo)__([\\d\\.]+)/i // Weibo\n    ], [NAME, VERSION], [/quark(?:pc)?\\/([-\\w\\.]+)/i // Quark\n    ], [VERSION, [NAME, 'Quark']], [/\\bddg\\/([\\w\\.]+)/i // DuckDuckGo\n    ], [VERSION, [NAME, 'DuckDuckGo']], [/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i // UCBrowser\n    ], [VERSION, [NAME, 'UC' + BROWSER]], [/microm.+\\bqbcore\\/([\\w\\.]+)/i,\n    // WeChat Desktop for Windows Built-in Browser\n    /\\bqbcore\\/([\\w\\.]+).+microm/i, /micromessenger\\/([\\w\\.]+)/i // WeChat\n    ], [VERSION, [NAME, 'WeChat']], [/konqueror\\/([\\w\\.]+)/i // Konqueror\n    ], [VERSION, [NAME, 'Konqueror']], [/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i // IE11\n    ], [VERSION, [NAME, 'IE']], [/ya(?:search)?browser\\/([\\w\\.]+)/i // Yandex\n    ], [VERSION, [NAME, 'Yandex']], [/slbrowser\\/([\\w\\.]+)/i // Smart Lenovo Browser\n    ], [VERSION, [NAME, 'Smart Lenovo ' + BROWSER]], [/(avast|avg)\\/([\\w\\.]+)/i // Avast/AVG Secure Browser\n    ], [[NAME, /(.+)/, '$1 Secure ' + BROWSER], VERSION], [/\\bfocus\\/([\\w\\.]+)/i // Firefox Focus\n    ], [VERSION, [NAME, FIREFOX + ' Focus']], [/\\bopt\\/([\\w\\.]+)/i // Opera Touch\n    ], [VERSION, [NAME, OPERA + ' Touch']], [/coc_coc\\w+\\/([\\w\\.]+)/i // Coc Coc Browser\n    ], [VERSION, [NAME, 'Coc Coc']], [/dolfin\\/([\\w\\.]+)/i // Dolphin\n    ], [VERSION, [NAME, 'Dolphin']], [/coast\\/([\\w\\.]+)/i // Opera Coast\n    ], [VERSION, [NAME, OPERA + ' Coast']], [/miuibrowser\\/([\\w\\.]+)/i // MIUI Browser\n    ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [/fxios\\/([\\w\\.-]+)/i // Firefox for iOS\n    ], [VERSION, [NAME, FIREFOX]], [/\\bqihoobrowser\\/?([\\w\\.]*)/i // 360\n    ], [VERSION, [NAME, '360']], [/\\b(qq)\\/([\\w\\.]+)/i // QQ\n    ], [[NAME, /(.+)/, '$1Browser'], VERSION], [/(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [\n    // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n    /samsungbrowser\\/([\\w\\.]+)/i // Samsung Internet\n    ], [VERSION, [NAME, SAMSUNG + ' Internet']], [/metasr[\\/ ]?([\\d\\.]+)/i // Sogou Explorer\n    ], [VERSION, [NAME, 'Sogou Explorer']], [/(sogou)mo\\w+\\/([\\d\\.]+)/i // Sogou Mobile\n    ], [[NAME, 'Sogou Mobile'], VERSION], [/(electron)\\/([\\w\\.]+) safari/i,\n    // Electron-based App\n    /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,\n    // Tesla\n    /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i // QQ/2345\n    ], [NAME, VERSION], [/(lbbrowser|rekonq)/i,\n    // LieBao Browser/Rekonq\n    /\\[(linkedin)app\\]/i // LinkedIn App for iOS & Android\n    ], [NAME], [/ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,\n    // Iron\n    /ome\\/([\\w\\.]+).+qihu (360)[es]e/i // 360\n    ], [VERSION, NAME], [\n    // WebView\n    /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i // Facebook App for iOS & Android\n    ], [[NAME, FACEBOOK], VERSION], [/(Klarna)\\/([\\w\\.]+)/i,\n    // Klarna Shopping Browser for iOS & Android\n    /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,\n    // Kakao App\n    /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,\n    // Naver InApp\n    /(daum)apps[\\/ ]([\\w\\.]+)/i,\n    // Daum App\n    /safari (line)\\/([\\w\\.]+)/i,\n    // Line App for iOS\n    /\\b(line)\\/([\\w\\.]+)\\/iab/i,\n    // Line App for Android\n    /(alipay)client\\/([\\w\\.]+)/i,\n    // Alipay\n    /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,\n    // Twitter\n    /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i // Chromium/Instagram/Snapchat\n    ], [NAME, VERSION], [/\\bgsa\\/([\\w\\.]+) .*safari\\//i // Google Search Appliance on iOS\n    ], [VERSION, [NAME, 'GSA']], [/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i // TikTok\n    ], [VERSION, [NAME, 'TikTok']], [/headlesschrome(?:\\/([\\w\\.]+)| )/i // Chrome Headless\n    ], [VERSION, [NAME, CHROME + ' Headless']], [/ wv\\).+(chrome)\\/([\\w\\.]+)/i // Chrome WebView\n    ], [[NAME, CHROME + ' WebView'], VERSION], [/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i // Android Browser\n    ], [VERSION, [NAME, 'Android ' + BROWSER]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i // Chrome/OmniWeb/Arora/Tizen/Nokia\n    ], [NAME, VERSION], [/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i // Mobile Safari\n    ], [VERSION, [NAME, 'Mobile Safari']], [/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i // Safari & Safari Mobile\n    ], [VERSION, NAME], [/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i // Safari < 3.0\n    ], [NAME, [VERSION, strMapper, oldSafariMap]], [/(webkit|khtml)\\/([\\w\\.]+)/i], [NAME, VERSION], [\n    // Gecko based\n    /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i // Netscape\n    ], [[NAME, 'Netscape'], VERSION], [/(wolvic|librewolf)\\/([\\w\\.]+)/i // Wolvic/LibreWolf\n    ], [NAME, VERSION], [/mobile vr; rv:([\\w\\.]+)\\).+firefox/i // Firefox Reality\n    ], [VERSION, [NAME, FIREFOX + ' Reality']], [/ekiohf.+(flow)\\/([\\w\\.]+)/i,\n    // Flow\n    /(swiftfox)/i,\n    // Swiftfox\n    /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n    // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n    /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n    // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n    /(firefox)\\/([\\w\\.]+)/i,\n    // Other Firefox-based\n    /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,\n    // Mozilla\n\n    // Other\n    /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n    // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n    /\\b(links) \\(([\\w\\.]+)/i // Links\n    ], [NAME, [VERSION, /_/g, '.']], [/(cobalt)\\/([\\w\\.]+)/i // Cobalt\n    ], [NAME, [VERSION, /master.|lts./, \"\"]]],\n    cpu: [[/\\b((amd|x|x86[-_]?|wow|win)64)\\b/i // AMD64 (x64)\n    ], [[ARCHITECTURE, 'amd64']], [/(ia32(?=;))/i,\n    // IA32 (quicktime)\n    /\\b((i[346]|x)86)(pc)?\\b/i // IA32 (x86)\n    ], [[ARCHITECTURE, 'ia32']], [/\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i // ARM64\n    ], [[ARCHITECTURE, 'arm64']], [/\\b(arm(v[67])?ht?n?[fl]p?)\\b/i // ARMHF\n    ], [[ARCHITECTURE, 'armhf']], [\n    // PocketPC mistakenly identified as PowerPC\n    /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i], [[ARCHITECTURE, 'arm']], [/((ppc|powerpc)(64)?)( mac|;|\\))/i // PowerPC\n    ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [/ sun4\\w[;\\)]/i // SPARC\n    ], [[ARCHITECTURE, 'sparc']], [/\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i\n    // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n    ], [[ARCHITECTURE, lowerize]]],\n    device: [[\n    //////////////////////////\n    // MOBILES & TABLETS\n    /////////////////////////\n\n    // Samsung\n    /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [/\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i, /samsung[- ]((?!sm-[lr])[-\\w]+)/i, /sec-(sgh\\w+)/i], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n    // Apple\n    /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i // iPod/iPhone\n    ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [/\\((ipad);[-\\w\\),; ]+apple/i,\n    // iPad\n    /applecoremedia\\/[\\w\\.]+ \\((ipad)/i, /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [/(macintosh);/i], [MODEL, [VENDOR, APPLE]], [\n    // Sharp\n    /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n    // Honor\n    /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i], [MODEL, [VENDOR, HONOR], [TYPE, TABLET]], [/honor([-\\w ]+)[;\\)]/i], [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]], [\n    // Huawei\n    /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [/(?:huawei)([-\\w ]+)[;\\)]/i, /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n    // Xiaomi\n    /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i, /\\b((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i // Mi Pad tablets\n    ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [/\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,\n    // Xiaomi POCO\n    /\\b; (\\w+) build\\/hm\\1/i,\n    // Xiaomi Hongmi 'numeric' models\n    /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,\n    // Xiaomi Hongmi\n    /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,\n    // Xiaomi Redmi\n    /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,\n    // Xiaomi Redmi 'numeric' models\n    /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i,\n    // Xiaomi Mi\n    / ([\\w ]+) miui\\/v?\\d/i], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n    // OPPO\n    /; (\\w+) bui.+ oppo/i, /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i], [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]], [/\\b(opd2(\\d{3}a?))(?: bui|\\))/i], [MODEL, [VENDOR, strMapper, {\n      'OnePlus': ['304', '403', '203'],\n      '*': OPPO\n    }], [TYPE, TABLET]], [\n    // Vivo\n    /vivo (\\w+)(?: bui|\\))/i, /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n    // Realme\n    /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n    // Motorola\n    /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i, /\\bmot(?:orola)?[- ](\\w*)/i, /((?:moto(?! 360)[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n    // LG\n    /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i, /\\blg[-e;\\/ ]+((?!browser|netcast|android tv|watch)\\w+)/i, /\\blg-?([\\d\\w]+) bui/i], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n    // Lenovo\n    /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i, /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i], [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]], [\n    // Nokia\n    /(nokia) (t[12][01])/i], [VENDOR, MODEL, [TYPE, TABLET]], [/(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i, /nokia[-_ ]?(([-\\w\\. ]*))/i], [[MODEL, /_/g, ' '], [TYPE, MOBILE], [VENDOR, 'Nokia']], [\n    // Google\n    /(pixel (c|tablet))\\b/i // Google Pixel C/Tablet\n    ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i // Google Pixel\n    ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n    // Sony\n    /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [/sony tablet [ps]/i, /\\b(?:sony)?sgp\\w+(?: bui|\\))/i], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n    // OnePlus\n    / (kb2005|in20[12]5|be20[12][59])\\b/i, /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i], [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]], [\n    // Amazon\n    /(alexa)webm/i, /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,\n    // Kindle Fire without Silk / Echo Show\n    /(kf[a-z]+)( bui|\\)).+silk\\//i // Kindle Fire HD\n    ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i // Fire Phone\n    ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n    // BlackBerry\n    /(playbook);[-\\w\\),; ]+(rim)/i // BlackBerry PlayBook\n    ], [MODEL, VENDOR, [TYPE, TABLET]], [/\\b((?:bb[a-f]|st[hv])100-\\d)/i, /\\(bb10; (\\w+)/i // BlackBerry 10\n    ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n    // Asus\n    /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n    // HTC\n    /(nexus 9)/i // HTC Nexus 9\n    ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,\n    // HTC\n\n    // ZTE\n    /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n    ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n    // TCL\n    /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\\w*(\\)| bui)/i], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n    // itel\n    /(itel) ((\\w+))/i], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, {\n      'tablet': ['p10001l', 'w7001'],\n      '*': 'mobile'\n    }]], [\n    // Acer\n    /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n    // Meizu\n    /droid.+; (m[1-5] note) bui/i, /\\bmz-([-\\w]{2,})/i], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n    // Ulefone\n    /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n    // Energizer\n    /; (energy ?\\w+)(?: bui|\\))/i, /; energizer ([\\w ]+)(?: bui|\\))/i], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n    // Cat\n    /; cat (b35);/i, /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n    // Smartfren\n    /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n    // Nothing\n    /droid.+; (a(?:015|06[35]|142p?))/i], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n    // Archos\n    /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i, /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i], [MODEL, [VENDOR, 'Archos'], [TYPE, TABLET]], [/archos ([\\w ]+)( b|\\))/i, /; (ac[3-6]\\d\\w{2,8})( b|\\))/i], [MODEL, [VENDOR, 'Archos'], [TYPE, MOBILE]], [\n    // MIXED\n    /(imo) (tab \\w+)/i,\n    // IMO\n    /(infinix) (x1101b?)/i // Infinix XPad\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n    // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n    /; (hmd|imo) ([\\w ]+?)(?: bui|\\))/i,\n    // HMD/IMO\n    /(hp) ([\\w ]+\\w)/i,\n    // HP iPAQ\n    /(microsoft); (lumia[\\w ]+)/i,\n    // Microsoft Lumia\n    /(lenovo)[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i,\n    // Lenovo\n    /(oppo) ?([\\w ]+) bui/i // OPPO\n    ], [VENDOR, MODEL, [TYPE, MOBILE]], [/(kobo)\\s(ereader|touch)/i,\n    // Kobo\n    /(hp).+(touchpad(?!.+tablet)|tablet)/i,\n    // HP TouchPad\n    /(kindle)\\/([\\w\\.]+)/i,\n    // Kindle\n    /(nook)[\\w ]+build\\/(\\w+)/i,\n    // Nook\n    /(dell) (strea[kpr\\d ]*[\\dko])/i,\n    // Dell Streak\n    /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,\n    // Le Pan Tablets\n    /(trinity)[- ]*(t\\d{3}) bui/i,\n    // Trinity Tablets\n    /(gigaset)[- ]+(q\\w{1,9}) bui/i,\n    // Gigaset Tablets\n    /(vodafone) ([\\w ]+)(?:\\)| bui)/i // Vodafone\n    ], [VENDOR, MODEL, [TYPE, TABLET]], [/(surface duo)/i // Surface Duo\n    ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i // Fairphone\n    ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [/(u304aa)/i // AT&T\n    ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [/\\bsie-(\\w*)/i // Siemens\n    ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [/\\b(rct\\w+) b/i // RCA Tablets\n    ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [/\\b(venue[\\d ]{2,7}) b/i // Dell Venue Tablets\n    ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [/\\b(q(?:mv|ta)\\w+) b/i // Verizon Tablet\n    ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i // Barnes & Noble Tablet\n    ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [/\\b(tm\\d{3}\\w+) b/i], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [/\\b(k88) b/i // ZTE K Series Tablet\n    ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [/\\b(nx\\d{3}j) b/i // ZTE Nubia\n    ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [/\\b(gen\\d{3}) b.+49h/i // Swiss GEN Mobile\n    ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [/\\b(zur\\d{3}) b/i // Swiss ZUR Tablet\n    ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [/\\b((zeki)?tb.*\\b) b/i // Zeki Tablets\n    ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [/\\b([yr]\\d{2}) b/i, /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i // Dragon Touch Tablet\n    ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [/\\b(ns-?\\w{0,9}) b/i // Insignia Tablets\n    ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [/\\b((nxa|next)-?\\w{0,9}) b/i // NextBook Tablets\n    ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i // Voice Xtreme Phones\n    ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [/\\b(lvtel\\-)?(v1[12]) b/i // LvTel Phones\n    ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [/\\b(ph-1) /i // Essential PH-1\n    ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [/\\b(v(100md|700na|7011|917g).*\\b) b/i // Envizen Tablets\n    ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [/\\b(trio[-\\w\\. ]+) b/i // MachSpeed Tablets\n    ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [/\\btu_(1491) b/i // Rotor Tablets\n    ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [/((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i // Nvidia Tablets\n    ], [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]], [/(sprint) (\\w+)/i // Sprint Phones\n    ], [VENDOR, MODEL, [TYPE, MOBILE]], [/(kin\\.[onetw]{3})/i // Microsoft Kin\n    ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i // Zebra\n    ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n    ///////////////////\n    // SMARTTVS\n    ///////////////////\n\n    /smart-tv.+(samsung)/i // Samsung\n    ], [VENDOR, [TYPE, SMARTTV]], [/hbbtv.+maple;(\\d+)/i], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i // LG SmartTV\n    ], [[VENDOR, LG], [TYPE, SMARTTV]], [/(apple) ?tv/i // Apple TV\n    ], [VENDOR, [MODEL, APPLE + ' TV'], [TYPE, SMARTTV]], [/crkey/i // Google Chromecast\n    ], [[MODEL, CHROME + 'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [/droid.+aft(\\w+)( bui|\\))/i // Fire TV\n    ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [/(shield \\w+ tv)/i // Nvidia Shield TV\n    ], [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]], [/\\(dtv[\\);].+(aquos)/i, /(aquos-tv[\\w ]+)\\)/i // Sharp\n    ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]], [/(bravia[\\w ]+)( bui|\\))/i // Sony\n    ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [/(mi(tv|box)-?\\w+) bui/i // Xiaomi\n    ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [/Hbbtv.*(technisat) (.*);/i // TechniSAT\n    ], [VENDOR, MODEL, [TYPE, SMARTTV]], [/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,\n    // Roku\n    /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i // HbbTV devices\n    ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n    // SmartTV from Unidentified Vendors\n    /droid.+; ([\\w- ]+) (?:android tv|smart[- ]?tv)/i], [MODEL, [TYPE, SMARTTV]], [/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i], [[TYPE, SMARTTV]], [\n    ///////////////////\n    // CONSOLES\n    ///////////////////\n\n    /(ouya)/i,\n    // Ouya\n    /(nintendo) ([wids3utch]+)/i // Nintendo\n    ], [VENDOR, MODEL, [TYPE, CONSOLE]], [/droid.+; (shield)( bui|\\))/i // Nvidia Portable\n    ], [MODEL, [VENDOR, NVIDIA], [TYPE, CONSOLE]], [/(playstation \\w+)/i // Playstation\n    ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i // Microsoft Xbox\n    ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n    ///////////////////\n    // WEARABLES\n    ///////////////////\n\n    /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i // Samsung Galaxy Watch\n    ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [/((pebble))app/i,\n    // Pebble\n    /(asus|google|lg|oppo) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i // Asus ZenWatch / LG Watch / Pixel Watch\n    ], [VENDOR, MODEL, [TYPE, WEARABLE]], [/(ow(?:19|20)?we?[1-3]{1,3})/i // Oppo Watch\n    ], [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]], [/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i // Apple Watch\n    ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [/(opwwe\\d{3})/i // OnePlus Watch\n    ], [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]], [/(moto 360)/i // Motorola 360\n    ], [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]], [/(smartwatch 3)/i // Sony SmartWatch\n    ], [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]], [/(g watch r)/i // LG G Watch R\n    ], [MODEL, [VENDOR, LG], [TYPE, WEARABLE]], [/droid.+; (wt63?0{2,3})\\)/i], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n    ///////////////////\n    // XR\n    ///////////////////\n\n    /droid.+; (glass) \\d/i // Google Glass\n    ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [/(pico) (4|neo3(?: link|pro)?)/i // Pico\n    ], [VENDOR, MODEL, [TYPE, WEARABLE]], [/; (quest( \\d| pro)?)/i // Oculus Quest\n    ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n    ///////////////////\n    // EMBEDDED\n    ///////////////////\n\n    /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i // Tesla\n    ], [VENDOR, [TYPE, EMBEDDED]], [/(aeobc)\\b/i // Echo Dot\n    ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [/(homepod).+mac os/i // Apple HomePod\n    ], [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]], [/windows iot/i], [[TYPE, EMBEDDED]], [\n    ////////////////////\n    // MIXED (GENERIC)\n    ///////////////////\n\n    /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i // Android Phones from Unidentified Vendors\n    ], [MODEL, [TYPE, MOBILE]], [/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i // Android Tablets from Unidentified Vendors\n    ], [MODEL, [TYPE, TABLET]], [/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i // Unidentifiable Tablet\n    ], [[TYPE, TABLET]], [/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i // Unidentifiable Mobile\n    ], [[TYPE, MOBILE]], [/droid .+?; ([\\w\\. -]+)( bui|\\))/i // Generic Android Device\n    ], [MODEL, [VENDOR, 'Generic']]],\n    engine: [[/windows.+ edge\\/([\\w\\.]+)/i // EdgeHTML\n    ], [VERSION, [NAME, EDGE + 'HTML']], [/(arkweb)\\/([\\w\\.]+)/i // ArkWeb\n    ], [NAME, VERSION], [/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i // Blink\n    ], [VERSION, [NAME, 'Blink']], [/(presto)\\/([\\w\\.]+)/i,\n    // Presto\n    /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i,\n    // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n    /ekioh(flow)\\/([\\w\\.]+)/i,\n    // Flow\n    /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,\n    // KHTML/Tasman/Links\n    /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,\n    // iCab\n\n    /\\b(libweb)/i // LibWeb\n    ], [NAME, VERSION], [/ladybird\\//i], [[NAME, 'LibWeb']], [/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i // Gecko\n    ], [VERSION, NAME]],\n    os: [[\n    // Windows\n    /microsoft (windows) (vista|xp)/i // Windows (iTunes)\n    ], [NAME, VERSION], [/(windows (?:phone(?: os)?|mobile|iot))[\\/ ]?([\\d\\.\\w ]*)/i // Windows Phone\n    ], [NAME, [VERSION, strMapper, windowsVersionMap]], [/windows nt 6\\.2; (arm)/i,\n    // Windows RT\n    /windows[\\/ ]([ntce\\d\\. ]+\\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n    // iOS/macOS\n    /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,\n    // iOS\n    /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i, /cfnetwork\\/.+darwin/i], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [/(mac os x) ?([\\w\\. ]*)/i, /(macintosh|mac_powerpc\\b)(?!.+haiku)/i // Mac OS\n    ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n    // Mobile OSes\n    /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i // Android-x86/HarmonyOS\n    ], [VERSION, NAME], [/(ubuntu) ([\\w\\.]+) like android/i // Ubuntu Touch\n    ], [[NAME, /(.+)/, '$1 Touch'], VERSION], [\n    // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n    /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\\w*[-\\/; ]?([\\d\\.]*)/i], [NAME, VERSION], [/\\(bb(10);/i // BlackBerry 10\n    ], [VERSION, [NAME, BLACKBERRY]], [/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i // Symbian\n    ], [VERSION, [NAME, 'Symbian']], [/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n    ], [VERSION, [NAME, FIREFOX + ' OS']], [/web0s;.+rt(tv)/i, /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i // WebOS\n    ], [VERSION, [NAME, 'webOS']], [/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i // watchOS\n    ], [VERSION, [NAME, 'watchOS']], [\n    // Google Chromecast\n    /crkey\\/([\\d\\.]+)/i // Google Chromecast\n    ], [VERSION, [NAME, CHROME + 'cast']], [/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i // Chromium OS\n    ], [[NAME, CHROMIUM_OS], VERSION], [\n    // Smart TVs\n    /panasonic;(viera)/i,\n    // Panasonic Viera\n    /(netrange)mmh/i,\n    // Netrange\n    /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,\n    // NetTV\n\n    // Console\n    /(nintendo|playstation) ([wids345portablevuch]+)/i,\n    // Nintendo/Playstation\n    /(xbox); +xbox ([^\\);]+)/i,\n    // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n    // Other\n    /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,\n    // Joli/Palm\n    /(mint)[\\/\\(\\) ]?(\\w*)/i,\n    // Mint\n    /(mageia|vectorlinux)[; ]/i,\n    // Mageia/VectorLinux\n    /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n    // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n    /(hurd|linux)(?: arm\\w*| x86\\w*| ?)([\\w\\.]*)/i,\n    // Hurd/Linux\n    /(gnu) ?([\\w\\.]*)/i,\n    // GNU\n    /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,\n    // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n    /(haiku) (\\w+)/i // Haiku\n    ], [NAME, VERSION], [/(sunos) ?([\\w\\.\\d]*)/i // Solaris\n    ], [[NAME, 'Solaris'], VERSION], [/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,\n    // Solaris\n    /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,\n    // AIX\n    /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,\n    // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n    /(unix) ?([\\w\\.]*)/i // UNIX\n    ], [NAME, VERSION]]\n  };\n\n  /////////////////\n  // Constructor\n  ////////////////\n\n  var UAParser = function (ua, extensions) {\n    if (typeof ua === OBJ_TYPE) {\n      extensions = ua;\n      ua = undefined;\n    }\n    if (!(this instanceof UAParser)) {\n      return new UAParser(ua, extensions).getResult();\n    }\n    var _navigator = typeof window !== UNDEF_TYPE && window.navigator ? window.navigator : undefined;\n    var _ua = ua || (_navigator && _navigator.userAgent ? _navigator.userAgent : EMPTY);\n    var _uach = _navigator && _navigator.userAgentData ? _navigator.userAgentData : undefined;\n    var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n    var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n    this.getBrowser = function () {\n      var _browser = {};\n      _browser[NAME] = undefined;\n      _browser[VERSION] = undefined;\n      rgxMapper.call(_browser, _ua, _rgxmap.browser);\n      _browser[MAJOR] = majorize(_browser[VERSION]);\n      // Brave-specific detection\n      if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n        _browser[NAME] = 'Brave';\n      }\n      return _browser;\n    };\n    this.getCPU = function () {\n      var _cpu = {};\n      _cpu[ARCHITECTURE] = undefined;\n      rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n      return _cpu;\n    };\n    this.getDevice = function () {\n      var _device = {};\n      _device[VENDOR] = undefined;\n      _device[MODEL] = undefined;\n      _device[TYPE] = undefined;\n      rgxMapper.call(_device, _ua, _rgxmap.device);\n      if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n        _device[TYPE] = MOBILE;\n      }\n      // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n      if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n        _device[MODEL] = 'iPad';\n        _device[TYPE] = TABLET;\n      }\n      return _device;\n    };\n    this.getEngine = function () {\n      var _engine = {};\n      _engine[NAME] = undefined;\n      _engine[VERSION] = undefined;\n      rgxMapper.call(_engine, _ua, _rgxmap.engine);\n      return _engine;\n    };\n    this.getOS = function () {\n      var _os = {};\n      _os[NAME] = undefined;\n      _os[VERSION] = undefined;\n      rgxMapper.call(_os, _ua, _rgxmap.os);\n      if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {\n        _os[NAME] = _uach.platform.replace(/chrome os/i, CHROMIUM_OS).replace(/macos/i, MAC_OS); // backward compatibility\n      }\n      return _os;\n    };\n    this.getResult = function () {\n      return {\n        ua: this.getUA(),\n        browser: this.getBrowser(),\n        engine: this.getEngine(),\n        os: this.getOS(),\n        device: this.getDevice(),\n        cpu: this.getCPU()\n      };\n    };\n    this.getUA = function () {\n      return _ua;\n    };\n    this.setUA = function (ua) {\n      _ua = typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH ? trim(ua, UA_MAX_LENGTH) : ua;\n      return this;\n    };\n    this.setUA(_ua);\n    return this;\n  };\n  UAParser.VERSION = LIBVERSION;\n  UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR]);\n  UAParser.CPU = enumerize([ARCHITECTURE]);\n  UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n  UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n  ///////////\n  // Export\n  //////////\n\n  // check js environment\n  if (typeof exports !== UNDEF_TYPE) {\n    // nodejs env\n    if (typeof module !== UNDEF_TYPE && module.exports) {\n      exports = module.exports = UAParser;\n    }\n    exports.UAParser = UAParser;\n  } else {\n    // requirejs env (optional)\n    if (typeof define === FUNC_TYPE && define.amd) {\n      define(function () {\n        return UAParser;\n      });\n    } else if (typeof window !== UNDEF_TYPE) {\n      // browser env\n      window.UAParser = UAParser;\n    }\n  }\n\n  // jQuery/Zepto specific (optional)\n  // Note:\n  //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n  //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n  //   and we should catch that.\n  var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n  if ($ && !$.ua) {\n    var parser = new UAParser();\n    $.ua = parser.getResult();\n    $.ua.get = function () {\n      return parser.getUA();\n    };\n    $.ua.set = function (ua) {\n      parser.setUA(ua);\n      var result = parser.getResult();\n      for (var prop in result) {\n        $.ua[prop] = result[prop];\n      }\n    };\n  }\n})(typeof window === 'object' ? window : this);", "'use strict';\n\nfunction isFunction(funktion) {\n  return typeof funktion === 'function';\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console);\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\n// Keep initialization idempotent.\nfunction shimmer(options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\");else logger = options.logger;\n  }\n}\nfunction wrap(nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap');\n    return;\n  }\n  if (!wrapper) {\n    logger('no wrapper function');\n    logger(new Error().stack);\n    return;\n  }\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions');\n    return;\n  }\n  var original = nodule[name];\n  var wrapped = wrapper(original, name);\n  defineProperty(wrapped, '__original', original);\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original);\n  });\n  defineProperty(wrapped, '__wrapped', true);\n  defineProperty(nodule, name, wrapped);\n  return wrapped;\n}\nfunction massWrap(nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch');\n    logger(new Error().stack);\n    return;\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules];\n  }\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules');\n    return;\n  }\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper);\n    });\n  });\n}\nfunction unwrap(nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.');\n    logger(new Error().stack);\n    return;\n  }\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?');\n  } else {\n    return nodule[name].__unwrap();\n  }\n}\nfunction massUnwrap(nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch');\n    logger(new Error().stack);\n    return;\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules];\n  }\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules');\n    return;\n  }\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name);\n    });\n  });\n}\nshimmer.wrap = wrap;\nshimmer.massWrap = massWrap;\nshimmer.unwrap = unwrap;\nshimmer.massUnwrap = massUnwrap;\nmodule.exports = shimmer;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MAX_HASHABLE_LENGTH = exports.INIT = exports.KEY = exports.DIGEST_LENGTH = exports.BLOCK_SIZE = void 0;\n/**\n * @internal\n */\nexports.BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexports.DIGEST_LENGTH = 32;\n/**\n * @internal\n */\nexports.KEY = new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n/**\n * @internal\n */\nexports.INIT = [0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19];\n/**\n * @internal\n */\nexports.MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RawSha256 = void 0;\nvar constants_1 = require(\"./constants\");\n/**\n * @internal\n */\nvar RawSha256 = /** @class */function () {\n  function RawSha256() {\n    this.state = Int32Array.from(constants_1.INIT);\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @internal\n     */\n    this.finished = false;\n  }\n  RawSha256.prototype.update = function (data) {\n    if (this.finished) {\n      throw new Error(\"Attempted to update an already finished hash.\");\n    }\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > constants_1.MAX_HASHABLE_LENGTH) {\n      throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n    }\n    while (byteLength > 0) {\n      this.buffer[this.bufferLength++] = data[position++];\n      byteLength--;\n      if (this.bufferLength === constants_1.BLOCK_SIZE) {\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n    }\n  };\n  RawSha256.prototype.digest = function () {\n    if (!this.finished) {\n      var bitsHashed = this.bytesHashed * 8;\n      var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n      var undecoratedLength = this.bufferLength;\n      bufferView.setUint8(this.bufferLength++, 0x80);\n      // Ensure the final block has enough room for the hashed length\n      if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n        for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n          bufferView.setUint8(i, 0);\n        }\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n      for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n        bufferView.setUint8(i, 0);\n      }\n      bufferView.setUint32(constants_1.BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n      bufferView.setUint32(constants_1.BLOCK_SIZE - 4, bitsHashed);\n      this.hashBuffer();\n      this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Uint8Array(constants_1.DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n      out[i * 4] = this.state[i] >>> 24 & 0xff;\n      out[i * 4 + 1] = this.state[i] >>> 16 & 0xff;\n      out[i * 4 + 2] = this.state[i] >>> 8 & 0xff;\n      out[i * 4 + 3] = this.state[i] >>> 0 & 0xff;\n    }\n    return out;\n  };\n  RawSha256.prototype.hashBuffer = function () {\n    var _a = this,\n      buffer = _a.buffer,\n      state = _a.state;\n    var state0 = state[0],\n      state1 = state[1],\n      state2 = state[2],\n      state3 = state[3],\n      state4 = state[4],\n      state5 = state[5],\n      state6 = state[6],\n      state7 = state[7];\n    for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n      if (i < 16) {\n        this.temp[i] = (buffer[i * 4] & 0xff) << 24 | (buffer[i * 4 + 1] & 0xff) << 16 | (buffer[i * 4 + 2] & 0xff) << 8 | buffer[i * 4 + 3] & 0xff;\n      } else {\n        var u = this.temp[i - 2];\n        var t1_1 = (u >>> 17 | u << 15) ^ (u >>> 19 | u << 13) ^ u >>> 10;\n        u = this.temp[i - 15];\n        var t2_1 = (u >>> 7 | u << 25) ^ (u >>> 18 | u << 14) ^ u >>> 3;\n        this.temp[i] = (t1_1 + this.temp[i - 7] | 0) + (t2_1 + this.temp[i - 16] | 0);\n      }\n      var t1 = (((state4 >>> 6 | state4 << 26) ^ (state4 >>> 11 | state4 << 21) ^ (state4 >>> 25 | state4 << 7)) + (state4 & state5 ^ ~state4 & state6) | 0) + (state7 + (constants_1.KEY[i] + this.temp[i] | 0) | 0) | 0;\n      var t2 = ((state0 >>> 2 | state0 << 30) ^ (state0 >>> 13 | state0 << 19) ^ (state0 >>> 22 | state0 << 10)) + (state0 & state1 ^ state0 & state2 ^ state1 & state2) | 0;\n      state7 = state6;\n      state6 = state5;\n      state5 = state4;\n      state4 = state3 + t1 | 0;\n      state3 = state2;\n      state2 = state1;\n      state1 = state0;\n      state0 = t1 + t2 | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n  };\n  return RawSha256;\n}();\nexports.RawSha256 = RawSha256;\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Sha256 = void 0;\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar RawSha256_1 = require(\"./RawSha256\");\nvar util_1 = require(\"@aws-crypto/util\");\nvar Sha256 = /** @class */function () {\n  function Sha256(secret) {\n    this.secret = secret;\n    this.hash = new RawSha256_1.RawSha256();\n    this.reset();\n  }\n  Sha256.prototype.update = function (toHash) {\n    if ((0, util_1.isEmptyData)(toHash) || this.error) {\n      return;\n    }\n    try {\n      this.hash.update((0, util_1.convertToBuffer)(toHash));\n    } catch (e) {\n      this.error = e;\n    }\n  };\n  /* This synchronous method keeps compatibility\n   * with the v2 aws-sdk.\n   */\n  Sha256.prototype.digestSync = function () {\n    if (this.error) {\n      throw this.error;\n    }\n    if (this.outer) {\n      if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n      }\n      return this.outer.digest();\n    }\n    return this.hash.digest();\n  };\n  /* The underlying digest method here is synchronous.\n   * To keep the same interface with the other hash functions\n   * the default is to expose this as an async method.\n   * However, it can sometimes be useful to have a sync method.\n   */\n  Sha256.prototype.digest = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        return [2 /*return*/, this.digestSync()];\n      });\n    });\n  };\n  Sha256.prototype.reset = function () {\n    this.hash = new RawSha256_1.RawSha256();\n    if (this.secret) {\n      this.outer = new RawSha256_1.RawSha256();\n      var inner = bufferFromSecret(this.secret);\n      var outer = new Uint8Array(constants_1.BLOCK_SIZE);\n      outer.set(inner);\n      for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n      }\n      this.hash.update(inner);\n      this.outer.update(outer);\n      // overwrite the copied key in memory\n      for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n      }\n    }\n  };\n  return Sha256;\n}();\nexports.Sha256 = Sha256;\nfunction bufferFromSecret(secret) {\n  var input = (0, util_1.convertToBuffer)(secret);\n  if (input.byteLength > constants_1.BLOCK_SIZE) {\n    var bufferHash = new RawSha256_1.RawSha256();\n    bufferHash.update(input);\n    input = bufferHash.digest();\n  }\n  var buffer = new Uint8Array(constants_1.BLOCK_SIZE);\n  buffer.set(input);\n  return buffer;\n}\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./jsSha256\"), exports);\n", "export class HttpRequest {\n  constructor(options) {\n    this.method = options.method || \"GET\";\n    this.hostname = options.hostname || \"localhost\";\n    this.port = options.port;\n    this.query = options.query || {};\n    this.headers = options.headers || {};\n    this.body = options.body;\n    this.protocol = options.protocol ? options.protocol.slice(-1) !== \":\" ? `${options.protocol}:` : options.protocol : \"https:\";\n    this.path = options.path ? options.path.charAt(0) !== \"/\" ? `/${options.path}` : options.path : \"/\";\n    this.username = options.username;\n    this.password = options.password;\n    this.fragment = options.fragment;\n  }\n  static clone(request) {\n    const cloned = new HttpRequest({\n      ...request,\n      headers: {\n        ...request.headers\n      }\n    });\n    if (cloned.query) {\n      cloned.query = cloneQuery(cloned.query);\n    }\n    return cloned;\n  }\n  static isInstance(request) {\n    if (!request) {\n      return false;\n    }\n    const req = request;\n    return \"method\" in req && \"protocol\" in req && \"hostname\" in req && \"path\" in req && typeof req[\"query\"] === \"object\" && typeof req[\"headers\"] === \"object\";\n  }\n  clone() {\n    return HttpRequest.clone(this);\n  }\n}\nfunction cloneQuery(query) {\n  return Object.keys(query).reduce((carry, paramName) => {\n    const param = query[paramName];\n    return {\n      ...carry,\n      [paramName]: Array.isArray(param) ? [...param] : param\n    };\n  }, {});\n}", "export class HttpResponse {\n  constructor(options) {\n    this.statusCode = options.statusCode;\n    this.reason = options.reason;\n    this.headers = options.headers || {};\n    this.body = options.body;\n  }\n  static isInstance(response) {\n    if (!response) return false;\n    const resp = response;\n    return typeof resp.statusCode === \"number\" && typeof resp.headers === \"object\";\n  }\n}", "export const escapeUri = uri => encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\nconst hexEncode = c => `%${c.charCodeAt(0).toString(16).toUpperCase()}`;", "import { escapeUri } from \"@smithy/util-uri-escape\";\nexport function buildQueryString(query) {\n  const parts = [];\n  for (let key of Object.keys(query).sort()) {\n    const value = query[key];\n    key = escapeUri(key);\n    if (Array.isArray(value)) {\n      for (let i = 0, iLen = value.length; i < iLen; i++) {\n        parts.push(`${key}=${escapeUri(value[i])}`);\n      }\n    } else {\n      let qsEntry = key;\n      if (value || typeof value === \"string\") {\n        qsEntry += `=${escapeUri(value)}`;\n      }\n      parts.push(qsEntry);\n    }\n  }\n  return parts.join(\"&\");\n}", "export function createRequest(url, requestOptions) {\n  return new Request(url, requestOptions);\n}", "export function requestTimeout(timeoutInMs = 0) {\n  return new Promise((resolve, reject) => {\n    if (timeoutInMs) {\n      setTimeout(() => {\n        const timeoutError = new Error(`Request did not complete within ${timeoutInMs} ms`);\n        timeoutError.name = \"TimeoutError\";\n        reject(timeoutError);\n      }, timeoutInMs);\n    }\n  });\n}", "import { HttpResponse } from \"@smithy/protocol-http\";\nimport { buildQueryString } from \"@smithy/querystring-builder\";\nimport { createRequest } from \"./create-request\";\nimport { requestTimeout } from \"./request-timeout\";\nexport const keepAliveSupport = {\n  supported: undefined\n};\nexport class FetchHttpHandler {\n  static create(instanceOrOptions) {\n    if (typeof instanceOrOptions?.handle === \"function\") {\n      return instanceOrOptions;\n    }\n    return new FetchHttpHandler(instanceOrOptions);\n  }\n  constructor(options) {\n    if (typeof options === \"function\") {\n      this.configProvider = options().then(opts => opts || {});\n    } else {\n      this.config = options ?? {};\n      this.configProvider = Promise.resolve(this.config);\n    }\n    if (keepAliveSupport.supported === undefined) {\n      keepAliveSupport.supported = Boolean(typeof Request !== \"undefined\" && \"keepalive\" in createRequest(\"https://[::1]\"));\n    }\n  }\n  destroy() {}\n  async handle(request, {\n    abortSignal\n  } = {}) {\n    if (!this.config) {\n      this.config = await this.configProvider;\n    }\n    const requestTimeoutInMs = this.config.requestTimeout;\n    const keepAlive = this.config.keepAlive === true;\n    const credentials = this.config.credentials;\n    if (abortSignal?.aborted) {\n      const abortError = new Error(\"Request aborted\");\n      abortError.name = \"AbortError\";\n      return Promise.reject(abortError);\n    }\n    let path = request.path;\n    const queryString = buildQueryString(request.query || {});\n    if (queryString) {\n      path += `?${queryString}`;\n    }\n    if (request.fragment) {\n      path += `#${request.fragment}`;\n    }\n    let auth = \"\";\n    if (request.username != null || request.password != null) {\n      const username = request.username ?? \"\";\n      const password = request.password ?? \"\";\n      auth = `${username}:${password}@`;\n    }\n    const {\n      port,\n      method\n    } = request;\n    const url = `${request.protocol}//${auth}${request.hostname}${port ? `:${port}` : \"\"}${path}`;\n    const body = method === \"GET\" || method === \"HEAD\" ? undefined : request.body;\n    const requestOptions = {\n      body,\n      headers: new Headers(request.headers),\n      method: method,\n      credentials\n    };\n    if (this.config?.cache) {\n      requestOptions.cache = this.config.cache;\n    }\n    if (body) {\n      requestOptions.duplex = \"half\";\n    }\n    if (typeof AbortController !== \"undefined\") {\n      requestOptions.signal = abortSignal;\n    }\n    if (keepAliveSupport.supported) {\n      requestOptions.keepalive = keepAlive;\n    }\n    if (typeof this.config.requestInit === \"function\") {\n      Object.assign(requestOptions, this.config.requestInit(request));\n    }\n    let removeSignalEventListener = () => {};\n    const fetchRequest = createRequest(url, requestOptions);\n    const raceOfPromises = [fetch(fetchRequest).then(response => {\n      const fetchHeaders = response.headers;\n      const transformedHeaders = {};\n      for (const pair of fetchHeaders.entries()) {\n        transformedHeaders[pair[0]] = pair[1];\n      }\n      const hasReadableStream = response.body != undefined;\n      if (!hasReadableStream) {\n        return response.blob().then(body => ({\n          response: new HttpResponse({\n            headers: transformedHeaders,\n            reason: response.statusText,\n            statusCode: response.status,\n            body\n          })\n        }));\n      }\n      return {\n        response: new HttpResponse({\n          headers: transformedHeaders,\n          reason: response.statusText,\n          statusCode: response.status,\n          body: response.body\n        })\n      };\n    }), requestTimeout(requestTimeoutInMs)];\n    if (abortSignal) {\n      raceOfPromises.push(new Promise((resolve, reject) => {\n        const onAbort = () => {\n          const abortError = new Error(\"Request aborted\");\n          abortError.name = \"AbortError\";\n          reject(abortError);\n        };\n        if (typeof abortSignal.addEventListener === \"function\") {\n          const signal = abortSignal;\n          signal.addEventListener(\"abort\", onAbort, {\n            once: true\n          });\n          removeSignalEventListener = () => signal.removeEventListener(\"abort\", onAbort);\n        } else {\n          abortSignal.onabort = onAbort;\n        }\n      }));\n    }\n    return Promise.race(raceOfPromises).finally(removeSignalEventListener);\n  }\n  updateHttpClientConfig(key, value) {\n    this.config = undefined;\n    this.configProvider = this.configProvider.then(config => {\n      config[key] = value;\n      return config;\n    });\n  }\n  httpHandlerConfigs() {\n    return this.config ?? {};\n  }\n}", "const alphabetByEncoding = {};\nconst alphabetByValue = new Array(64);\nfor (let i = 0, start = \"A\".charCodeAt(0), limit = \"Z\".charCodeAt(0); i + start <= limit; i++) {\n  const char = String.fromCharCode(i + start);\n  alphabetByEncoding[char] = i;\n  alphabetByValue[i] = char;\n}\nfor (let i = 0, start = \"a\".charCodeAt(0), limit = \"z\".charCodeAt(0); i + start <= limit; i++) {\n  const char = String.fromCharCode(i + start);\n  const index = i + 26;\n  alphabetByEncoding[char] = index;\n  alphabetByValue[index] = char;\n}\nfor (let i = 0; i < 10; i++) {\n  alphabetByEncoding[i.toString(10)] = i + 52;\n  const char = i.toString(10);\n  const index = i + 52;\n  alphabetByEncoding[char] = index;\n  alphabetByValue[index] = char;\n}\nalphabetByEncoding[\"+\"] = 62;\nalphabetByValue[62] = \"+\";\nalphabetByEncoding[\"/\"] = 63;\nalphabetByValue[63] = \"/\";\nconst bitsPerLetter = 6;\nconst bitsPerByte = 8;\nconst maxLetterValue = 0b111111;\nexport { alphabetByEncoding, alphabetByValue, bitsPerLetter, bitsPerByte, maxLetterValue };", "export const fromUtf8 = input => new TextEncoder().encode(input);", "import { fromUtf8 } from \"./fromUtf8\";\nexport const toUint8Array = data => {\n  if (typeof data === \"string\") {\n    return fromUtf8(data);\n  }\n  if (ArrayBuffer.isView(data)) {\n    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n  }\n  return new Uint8Array(data);\n};", "var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nexport var responseToJson = function (response) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var value;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4 /*yield*/, response.body.getReader().read()];\n        case 1:\n          value = _a.sent().value;\n          return [2 /*return*/, JSON.parse(String.fromCharCode.apply(null, value))];\n      }\n    });\n  });\n};\nexport var responseToString = function (response) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var value;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4 /*yield*/, response.body.getReader().read()];\n        case 1:\n          value = _a.sent().value;\n          return [2 /*return*/, String.fromCharCode.apply(null, value)];\n      }\n    });\n  });\n};", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { HttpRequest } from '@smithy/protocol-http';\nimport { responseToString } from './utils';\nvar METHOD = 'POST';\nvar CONTENT_TYPE = 'application/x-www-form-urlencoded';\nvar PROTOCOL = 'https:';\nvar ACTION = 'AssumeRoleWithWebIdentity';\nvar VERSION = '2011-06-15';\nvar StsClient = /** @class */function () {\n  function StsClient(config) {\n    var _this = this;\n    this.assumeRoleWithWebIdentity = function (request) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var requestObject, encodedBody, STSRequest, response, xmlResponse, e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              _a.trys.push([0, 3,, 4]);\n              requestObject = __assign(__assign({}, request), {\n                Action: ACTION,\n                Version: VERSION\n              });\n              encodedBody = new URLSearchParams(Object.entries(requestObject)).toString();\n              STSRequest = new HttpRequest({\n                method: METHOD,\n                headers: {\n                  'content-type': CONTENT_TYPE,\n                  host: this.hostname\n                },\n                protocol: PROTOCOL,\n                hostname: this.hostname,\n                body: encodedBody\n              });\n              return [4 /*yield*/, this.fetchRequestHandler.handle(STSRequest)];\n            case 1:\n              response = _a.sent().response;\n              return [4 /*yield*/, responseToString(response)];\n            case 2:\n              xmlResponse = _a.sent();\n              return [2 /*return*/, {\n                accessKeyId: xmlResponse.split('<AccessKeyId>')[1].split('</AccessKeyId>')[0],\n                secretAccessKey: xmlResponse.split('<SecretAccessKey>')[1].split('</SecretAccessKey>')[0],\n                sessionToken: xmlResponse.split('<SessionToken>')[1].split('</SessionToken>')[0],\n                expiration: new Date(xmlResponse.split('<Expiration>')[1].split('</Expiration>')[0])\n              }];\n            case 3:\n              e_1 = _a.sent();\n              throw new Error(\"CWR: Failed to retrieve credentials from STS: \".concat(e_1));\n            case 4:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    this.hostname = \"sts.\".concat(config.region, \".amazonaws.com\");\n    this.fetchRequestHandler = config.fetchRequestHandler;\n  }\n  return StsClient;\n}();\nexport { StsClient };", "export var CRED_KEY = 'cwr_c';\nexport var IDENTITY_KEY = 'cwr_i';\nexport var SESSION_COOKIE_NAME = 'cwr_s';\nexport var USER_COOKIE_NAME = 'cwr_u';\nexport var CRED_RENEW_MS = 30000;\nexport var INSTALL_SCRIPT = 'arw-script';\nexport var INSTALL_MODULE = 'arw-module';\nexport var DEFAULT_PAGE_ATTRIBUTES = ['pageId', 'pageTags'];", "var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n/* eslint-disable no-underscore-dangle */\nimport { HttpRequest } from '@smithy/protocol-http';\nimport { responseToJson } from './utils';\nimport { IDENTITY_KEY } from '../utils/constants';\nvar METHOD = 'POST';\nvar CONTENT_TYPE = 'application/x-amz-json-1.1';\nvar PROTOCOL = 'https:';\n// Targets\nvar GET_ID_TARGET = 'AWSCognitoIdentityService.GetId';\nvar GET_TOKEN_TARGET = 'AWSCognitoIdentityService.GetOpenIdToken';\nvar GET_CREDENTIALS_TARGET = 'AWSCognitoIdentityService.GetCredentialsForIdentity';\nvar CognitoIdentityClient = /** @class */function () {\n  function CognitoIdentityClient(config) {\n    var _this = this;\n    var _a;\n    this.getId = function (request) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var getIdResponse, requestPayload, idRequest, getIdResponse_1, _a, e_1;\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              getIdResponse = null;\n              try {\n                getIdResponse = JSON.parse(localStorage.getItem(this.identityStorageKey));\n              } catch (e) {\n                // Ignore -- we will get a new identity Id from Cognito\n              }\n              if (getIdResponse && getIdResponse.IdentityId) {\n                return [2 /*return*/, Promise.resolve(getIdResponse)];\n              }\n              _b.label = 1;\n            case 1:\n              _b.trys.push([1, 4,, 5]);\n              requestPayload = JSON.stringify(request);\n              idRequest = this.getHttpRequest(GET_ID_TARGET, requestPayload);\n              _a = responseToJson;\n              return [4 /*yield*/, this.fetchRequestHandler.handle(idRequest)];\n            case 2:\n              return [4 /*yield*/, _a.apply(void 0, [_b.sent().response])];\n            case 3:\n              getIdResponse_1 = _b.sent();\n              try {\n                localStorage.setItem(this.identityStorageKey, JSON.stringify({\n                  IdentityId: getIdResponse_1.IdentityId\n                }));\n              } catch (e) {\n                // Ignore\n              }\n              return [2 /*return*/, getIdResponse_1];\n            case 4:\n              e_1 = _b.sent();\n              throw new Error(\"CWR: Failed to retrieve Cognito identity: \".concat(e_1));\n            case 5:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    this.getOpenIdToken = function (request) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var requestPayload, tokenRequest, response, _a, e_2;\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              _b.trys.push([0, 3,, 4]);\n              requestPayload = JSON.stringify(request);\n              tokenRequest = this.getHttpRequest(GET_TOKEN_TARGET, requestPayload);\n              return [4 /*yield*/, this.fetchRequestHandler.handle(tokenRequest)];\n            case 1:\n              response = _b.sent().response;\n              _a = this.validateOpenIdTokenResponse;\n              return [4 /*yield*/, responseToJson(response)];\n            case 2:\n              return [2 /*return*/, _a.apply(this, [_b.sent()])];\n            case 3:\n              e_2 = _b.sent();\n              localStorage.removeItem(this.identityStorageKey);\n              throw new Error(\"CWR: Failed to retrieve Cognito OpenId token: \".concat(e_2));\n            case 4:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    this.getCredentialsForIdentity = function (identityId) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var requestPayload, credentialRequest, response, _a, AccessKeyId, Expiration, SecretKey, SessionToken, _b, e_3;\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              _c.trys.push([0, 3,, 4]);\n              requestPayload = JSON.stringify({\n                IdentityId: identityId\n              });\n              credentialRequest = this.getHttpRequest(GET_CREDENTIALS_TARGET, requestPayload);\n              return [4 /*yield*/, this.fetchRequestHandler.handle(credentialRequest)];\n            case 1:\n              response = _c.sent().response;\n              _b = this.validateCredenentialsResponse;\n              return [4 /*yield*/, responseToJson(response)];\n            case 2:\n              _a = _b.apply(this, [_c.sent()]), AccessKeyId = _a.AccessKeyId, Expiration = _a.Expiration, SecretKey = _a.SecretKey, SessionToken = _a.SessionToken;\n              return [2 /*return*/, {\n                accessKeyId: AccessKeyId,\n                secretAccessKey: SecretKey,\n                sessionToken: SessionToken,\n                expiration: new Date(Expiration * 1000)\n              }];\n            case 3:\n              e_3 = _c.sent();\n              localStorage.removeItem(this.identityStorageKey);\n              throw new Error(\"CWR: Failed to retrieve credentials for Cognito identity: \".concat(e_3));\n            case 4:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    this.validateOpenIdTokenResponse = function (r) {\n      if ('IdentityId' in r && 'Token' in r) {\n        return r;\n      } else if (r && '__type' in r && 'message' in r) {\n        // The request may have failed because of ValidationException or\n        // ResourceNotFoundException, which means the identity Id is bad. In\n        // any case, we invalidate the identity Id so the entire process can\n        // be re-tried.\n        throw new Error(\"\".concat(r.__type, \": \").concat(r.message));\n      } else {\n        // We don't recognize ths response format.\n        throw new Error('Unknown OpenIdToken response');\n      }\n    };\n    this.validateCredenentialsResponse = function (r) {\n      if ('IdentityId' in r && 'Credentials' in r) {\n        return r.Credentials;\n      } else if (r && '__type' in r && 'message' in r) {\n        // The request may have failed because of ValidationException or\n        // ResourceNotFoundException, which means the identity Id is bad. In\n        // any case, we invalidate the identity Id so the entire process can\n        // be re-tried.\n        throw new Error(\"\".concat(r.__type, \": \").concat(r.message));\n      } else {\n        // We don't recognize ths response format.\n        throw new Error('Unknown Credentials response');\n      }\n    };\n    this.getHttpRequest = function (target, payload) {\n      return new HttpRequest({\n        method: METHOD,\n        headers: {\n          'content-type': CONTENT_TYPE,\n          'x-amz-target': target\n        },\n        protocol: PROTOCOL,\n        hostname: _this.hostname,\n        body: payload\n      });\n    };\n    this.hostname = \"cognito-identity.\".concat(config.region, \".amazonaws.com\");\n    this.fetchRequestHandler = config.fetchRequestHandler;\n    this.identityStorageKey = ((_a = config.clientConfig) === null || _a === void 0 ? void 0 : _a.cookieAttributes.unique) ? \"\".concat(IDENTITY_KEY, \"_\").concat(config.applicationId) : IDENTITY_KEY;\n  }\n  return CognitoIdentityClient;\n}();\nexport { CognitoIdentityClient };", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { CognitoIdentityClient } from './CognitoIdentityClient';\nimport { FetchHttpHandler } from '@smithy/fetch-http-handler';\nimport { CRED_KEY, CRED_RENEW_MS } from '../utils/constants';\nvar Authentication = /** @class */function () {\n  function Authentication(config, applicationId) {\n    var _this = this;\n    /**\n     * A credential provider which provides AWS credentials for an anonymous\n     * (guest) user. These credentials are retrieved from the first successful\n     * provider in a chain.\n     *\n     * Credentials are stored in and retrieved from localStorage. This prevents the client from having to\n     * re-authenticate every time the client loads, which (1) improves the performance of the RUM web client and (2)\n     * reduces the load on AWS services Cognito and STS.\n     *\n     * While storing credentials in localStorage puts the credential at greater risk of being leaked through an\n     * XSS attack, there is no impact if the credentials were to be leaked. This is because (1) the identity pool ID\n     * and role ARN are public and (2) the credentials are for an anonymous (guest) user.\n     *\n     * Regarding (1), the identity pool ID and role ARN are, by necessity, public. These identifiers are shipped with\n     * each application as part of Cognito's Basic (Classic) authentication flow. The identity pool ID and role ARN\n     * are not secret.\n     *\n     * Regarding (2), the authentication chain implemented in this file only supports anonymous (guest)\n     * authentication. When the Cognito authentication flow is executed, {@code AnonymousCognitoCredentialsProvider}\n     * does not communicate with a login provider such as Amazon, Facebook or Google. Instead, it relies on (a) the\n     * identity pool supporting unauthenticated identities and (b) the IAM role policy enabling login through the\n     * identity pool. If the identity pool does not support unauthenticated identities, this authentication chain\n     * will not succeed.\n     *\n     * Taken together, (1) and (2) mean that if these temporary credentials were to be leaked, the leaked credentials\n     * would not allow a bad actor to gain access to anything which they did not already have public access to.\n     *\n     * Implements AwsCredentialIdentityProvider = Provider<AwsCredentialIdentity>\n     */\n    this.ChainAnonymousCredentialsProvider = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2 /*return*/, this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)];\n        });\n      });\n    };\n    /**\n     * Provides credentials for an anonymous (guest) user. These credentials are read from a member variable.\n     *\n     * Implements AwsCredentialIdentityProvider = Provider<AwsCredentialIdentity>\n     */\n    this.AnonymousCredentialsProvider = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var _this = this;\n        return __generator(this, function (_a) {\n          return [2 /*return*/, new Promise(function (resolve, reject) {\n            if (_this.renewCredentials()) {\n              // The credentials have expired.\n              return reject();\n            }\n            resolve(_this.credentials);\n          })];\n        });\n      });\n    };\n    /**\n     * Provides credentials for an anonymous (guest) user. These credentials are read from localStorage.\n     *\n     * Implements AwsCredentialIdentityProvider = Provider<AwsCredentialIdentity>\n     */\n    this.AnonymousStorageCredentialsProvider = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var _this = this;\n        return __generator(this, function (_a) {\n          return [2 /*return*/, new Promise(function (resolve, reject) {\n            var credentials;\n            try {\n              credentials = JSON.parse(localStorage.getItem(_this.credentialStorageKey));\n            } catch (e) {\n              // Error retrieving, decoding or parsing the cred string -- abort\n              return reject();\n            }\n            // The expiration property of Credentials has a date type. Because the date was serialized as a string,\n            // we need to convert it back into a date, otherwise the AWS SDK signing middleware\n            // (@aws-sdk/middleware-signing) will throw an exception and no credentials will be returned.\n            _this.credentials = __assign(__assign({}, credentials), {\n              expiration: new Date(credentials.expiration)\n            });\n            if (_this.renewCredentials()) {\n              // The credentials have expired.\n              return reject();\n            }\n            resolve(_this.credentials);\n          })];\n        });\n      });\n    };\n    var region = config.identityPoolId.split(':')[0];\n    this.config = config;\n    this.cognitoIdentityClient = new CognitoIdentityClient({\n      fetchRequestHandler: new FetchHttpHandler(),\n      region: region,\n      clientConfig: config,\n      applicationId: applicationId\n    });\n    this.credentialStorageKey = this.config.cookieAttributes.unique ? \"\".concat(CRED_KEY, \"_\").concat(applicationId) : CRED_KEY;\n  }\n  /**\n   * Returns {@code true} when the credentials need to be renewed.\n   */\n  Authentication.prototype.renewCredentials = function () {\n    if (!this.credentials || !this.credentials.expiration) {\n      return true;\n    }\n    var renewalTime = new Date(this.credentials.expiration.getTime() - CRED_RENEW_MS);\n    return new Date() > renewalTime;\n  };\n  return Authentication;\n}();\nexport { Authentication };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { FetchHttpHandler } from '@smithy/fetch-http-handler';\nimport { StsClient } from './StsClient';\nimport { Authentication } from './Authentication';\nvar BasicAuthentication = /** @class */function (_super) {\n  __extends(BasicAuthentication, _super);\n  function BasicAuthentication(config, applicationId) {\n    var _this = _super.call(this, config, applicationId) || this;\n    /**\n     * Provides credentials for an anonymous (guest) user. These credentials are retrieved from Cognito's basic\n     * (classic) authflow.\n     *\n     * See https://docs.aws.amazon.com/cognito/latest/developerguide/authentication-flow.html\n     *\n     * Implements AwsCredentialIdentityProvider = Provider<AwsCredentialIdentity>\n     */\n    _this.AnonymousCognitoCredentialsProvider = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var retries, getIdResponse, getOpenIdTokenResponse, credentials, e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              retries = 1;\n              _a.label = 1;\n            case 1:\n              if (!true) return [3 /*break*/, 8];\n              _a.label = 2;\n            case 2:\n              _a.trys.push([2, 6,, 7]);\n              return [4 /*yield*/, this.cognitoIdentityClient.getId({\n                IdentityPoolId: this.config.identityPoolId\n              })];\n            case 3:\n              getIdResponse = _a.sent();\n              return [4 /*yield*/, this.cognitoIdentityClient.getOpenIdToken(getIdResponse)];\n            case 4:\n              getOpenIdTokenResponse = _a.sent();\n              return [4 /*yield*/, this.stsClient.assumeRoleWithWebIdentity({\n                RoleArn: this.config.guestRoleArn,\n                RoleSessionName: 'cwr',\n                WebIdentityToken: getOpenIdTokenResponse.Token\n              })];\n            case 5:\n              credentials = _a.sent();\n              this.credentials = credentials;\n              try {\n                localStorage.setItem(this.credentialStorageKey, JSON.stringify(credentials));\n              } catch (e) {\n                // Ignore\n              }\n              return [2 /*return*/, credentials];\n            case 6:\n              e_1 = _a.sent();\n              if (retries) {\n                retries--;\n              } else {\n                throw e_1;\n              }\n              return [3 /*break*/, 7];\n            case 7:\n              return [3 /*break*/, 1];\n            case 8:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    var region = config.identityPoolId.split(':')[0];\n    _this.stsClient = new StsClient({\n      fetchRequestHandler: new FetchHttpHandler(),\n      region: region\n    });\n    return _this;\n  }\n  return BasicAuthentication;\n}(Authentication);\nexport { BasicAuthentication };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { Authentication } from './Authentication';\nvar EnhancedAuthentication = /** @class */function (_super) {\n  __extends(EnhancedAuthentication, _super);\n  function EnhancedAuthentication(config, applicationId) {\n    var _this = _super.call(this, config, applicationId) || this;\n    /**\n     * Provides credentials for an anonymous (guest) user. These credentials are retrieved from Cognito's enhanced\n     * authflow.\n     *\n     * See https://docs.aws.amazon.com/cognito/latest/developerguide/authentication-flow.html\n     *\n     * Implements AwsCredentialIdentityProvider = Provider<AwsCredentialIdentity>\n     */\n    _this.AnonymousCognitoCredentialsProvider = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var retries, getIdResponse, credentials, e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              retries = 1;\n              _a.label = 1;\n            case 1:\n              if (!true) return [3 /*break*/, 7];\n              _a.label = 2;\n            case 2:\n              _a.trys.push([2, 5,, 6]);\n              return [4 /*yield*/, this.cognitoIdentityClient.getId({\n                IdentityPoolId: this.config.identityPoolId\n              })];\n            case 3:\n              getIdResponse = _a.sent();\n              return [4 /*yield*/, this.cognitoIdentityClient.getCredentialsForIdentity(getIdResponse.IdentityId)];\n            case 4:\n              credentials = _a.sent();\n              this.credentials = credentials;\n              try {\n                localStorage.setItem(this.credentialStorageKey, JSON.stringify(credentials));\n              } catch (e) {\n                // Ignore\n              }\n              return [2 /*return*/, credentials];\n            case 5:\n              e_1 = _a.sent();\n              if (retries) {\n                retries--;\n              } else {\n                throw e_1;\n              }\n              return [3 /*break*/, 6];\n            case 6:\n              return [3 /*break*/, 1];\n            case 7:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    return _this;\n  }\n  return EnhancedAuthentication;\n}(Authentication);\nexport { EnhancedAuthentication };", "export var UNKNOWN = 'unknown';\nexport var RUM_AMZ_PREFIX = 'com.amazon.rum';\nexport var RUM_AWS_PREFIX = 'com.amazonaws.rum';\n// Http request event schemas\nexport var HTTP_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".http_event\");\nexport var XRAY_TRACE_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".xray_trace_event\");\n// Web vitals event schemas\nexport var LCP_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".largest_contentful_paint_event\");\nexport var FID_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".first_input_delay_event\");\nexport var CLS_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".cumulative_layout_shift_event\");\nexport var INP_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".interaction_to_next_paint_event\");\n// Page load event schemas\nexport var PERFORMANCE_NAVIGATION_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".performance_navigation_event\");\nexport var PERFORMANCE_RESOURCE_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".performance_resource_event\");\n// DOM event schemas\nexport var DOM_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".dom_event\");\n// JS error event schemas\nexport var JS_ERROR_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".js_error_event\");\n// Page view event\nexport var PAGE_VIEW_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".page_view_event\");\n// Session start event\nexport var SESSION_START_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".session_start_event\");\n// Time to interactive event\nexport var TIME_TO_INTERACTIVE_EVENT_TYPE = \"\".concat(RUM_AMZ_PREFIX, \".time_to_interactive_event\");", "import { RUM_AWS_PREFIX } from './utils/constant';\nvar InternalPlugin = /** @class */function () {\n  function InternalPlugin(name) {\n    this.enabled = true;\n    this.pluginId = InternalPlugin.generatePluginId(name);\n  }\n  InternalPlugin.generatePluginId = function (name) {\n    return \"\".concat(InternalPlugin.idPrefix, \".\").concat(name);\n  };\n  InternalPlugin.prototype.load = function (context) {\n    var _a;\n    this.context = context;\n    (_a = this.onload) === null || _a === void 0 ? void 0 : _a.call(this);\n  };\n  InternalPlugin.prototype.getPluginId = function () {\n    return this.pluginId;\n  };\n  InternalPlugin.idPrefix = RUM_AWS_PREFIX;\n  return InternalPlugin;\n}();\nexport { InternalPlugin };", "import { InternalPlugin } from './InternalPlugin';\n/**\n * The plugin manager maintains a list of plugins\n * and notifies plugins of configuration or lifecycle changes.\n */\nvar PluginManager = /** @class */function () {\n  function PluginManager(context) {\n    this.context = context;\n    this.plugins = new Map();\n  }\n  /**\n   * Add an event plugin to PluginManager and initialize the plugin.\n   *\n   * @param plugin The plugin which adheres to the RUM web client's plugin interface.\n   */\n  PluginManager.prototype.addPlugin = function (plugin) {\n    var pluginId = plugin.getPluginId();\n    if (this.hasPlugin(pluginId)) {\n      throw new Error(\"Plugin \\\"\".concat(pluginId, \"\\\" already defined in the PluginManager\"));\n    }\n    this.plugins.set(pluginId, plugin);\n    // initialize plugin\n    plugin.load(this.context);\n  };\n  /**\n   * Update an event plugin\n   *\n   * @param pluginId\n   * @param updateWith The config to update the plugin with.\n   */\n  PluginManager.prototype.updatePlugin = function (pluginId, updateWith) {\n    var _a;\n    var plugin = this.getPlugin(pluginId);\n    (_a = plugin === null || plugin === void 0 ? void 0 : plugin.update) === null || _a === void 0 ? void 0 : _a.call(plugin, updateWith);\n  };\n  /**\n   * Enable all event plugins.\n   */\n  PluginManager.prototype.enable = function () {\n    this.plugins.forEach(function (p) {\n      return p.enable();\n    });\n  };\n  /**\n   * Disable all event plugins.\n   */\n  PluginManager.prototype.disable = function () {\n    this.plugins.forEach(function (p) {\n      return p.disable();\n    });\n  };\n  /**\n   * Return if a plugin exists.\n   *\n   * @param pluginId a unique identifier for the plugin\n   */\n  PluginManager.prototype.hasPlugin = function (pluginId) {\n    return Boolean(this.getPlugin(pluginId));\n  };\n  /**\n   * Manually record data using a plugin.\n   *\n   * @param pluginId The unique identifier for the plugin being configured.\n   * @param data The data to be recorded by the plugin.\n   */\n  PluginManager.prototype.record = function (pluginId, data) {\n    var plugin = this.getPlugin(pluginId);\n    if ((plugin === null || plugin === void 0 ? void 0 : plugin.record) instanceof Function) {\n      plugin.record(data);\n    } else {\n      throw new Error('AWS RUM Client record: Invalid plugin ID');\n    }\n  };\n  PluginManager.prototype.getPlugin = function (id) {\n    var _a;\n    return (_a = this.plugins.get(id)) !== null && _a !== void 0 ? _a : this.plugins.get(InternalPlugin.generatePluginId(id));\n  };\n  return PluginManager;\n}();\nexport { PluginManager };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { InternalPlugin } from '../InternalPlugin';\nimport { DOM_EVENT_TYPE } from '../utils/constant';\nexport var DOM_EVENT_PLUGIN_ID = 'dom-event';\nvar defaultConfig = {\n  interactionId: function () {\n    return '';\n  },\n  enableMutationObserver: false,\n  events: []\n};\nvar DomEventPlugin = /** @class */function (_super) {\n  __extends(DomEventPlugin, _super);\n  function DomEventPlugin(config) {\n    var _this = _super.call(this, DOM_EVENT_PLUGIN_ID) || this;\n    _this.enabled = false;\n    _this.eventListenerMap = new Map();\n    _this.config = __assign(__assign({}, defaultConfig), config);\n    return _this;\n  }\n  DomEventPlugin.getElementInfo = function (event) {\n    var elementInfo = {\n      name: 'UNKNOWN'\n    };\n    if (event.target instanceof Node) {\n      elementInfo.name = event.target.nodeName;\n    }\n    if (event.target instanceof Element && event.target.id) {\n      elementInfo.id = event.target.id;\n    }\n    return elementInfo;\n  };\n  DomEventPlugin.prototype.enable = function () {\n    var _this = this;\n    if (document.readyState !== 'complete') {\n      window.addEventListener('load', function () {\n        return _this.enable();\n      });\n      return;\n    }\n    if (this.enabled) {\n      return;\n    }\n    this.addListeners();\n    if (this.config.enableMutationObserver) {\n      this.observeDOMMutation();\n    }\n    this.enabled = true;\n  };\n  DomEventPlugin.prototype.disable = function () {\n    if (!this.enabled) {\n      return;\n    }\n    this.removeListeners();\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    this.enabled = false;\n  };\n  DomEventPlugin.prototype.update = function (events) {\n    var _this = this;\n    events.forEach(function (domEvent) {\n      _this.addEventHandler(domEvent);\n      _this.config.events.push(domEvent);\n    });\n  };\n  DomEventPlugin.prototype.onload = function () {\n    this.enable();\n  };\n  DomEventPlugin.prototype.removeListeners = function () {\n    var _this = this;\n    this.config.events.forEach(function (domEvent) {\n      return _this.removeEventHandler(domEvent);\n    });\n  };\n  DomEventPlugin.prototype.addListeners = function () {\n    var _this = this;\n    this.config.events.forEach(function (domEvent) {\n      return _this.addEventHandler(domEvent);\n    });\n  };\n  DomEventPlugin.prototype.getEventListener = function (cssLocator) {\n    var _this = this;\n    return function (event) {\n      var _a;\n      var elementInfo = DomEventPlugin.getElementInfo(event);\n      var interactionId = _this.config.interactionId(event);\n      var eventData = __assign(__assign(__assign({\n        version: '1.1.0',\n        event: event.type,\n        element: elementInfo.name\n      }, elementInfo.id ? {\n        elementId: elementInfo.id\n      } : {}), interactionId ? {\n        interactionId: interactionId\n      } : {}), cssLocator ? {\n        cssLocator: cssLocator\n      } : {});\n      if ((_a = _this.context) === null || _a === void 0 ? void 0 : _a.record) {\n        _this.context.record(DOM_EVENT_TYPE, eventData);\n      }\n    };\n  };\n  DomEventPlugin.prototype.addEventHandler = function (domEvent) {\n    var eventType = domEvent.event;\n    var eventListener = this.getEventListener(domEvent.cssLocator);\n    var identifiedElementList = [];\n    var elementEventListenerList = this.eventListenerMap.has(domEvent) ? this.eventListenerMap.get(domEvent) : [];\n    // first add event listener to all elements identified by the CSS locator\n    if (domEvent.cssLocator) {\n      var cssLocatedElements = document.querySelectorAll(domEvent.cssLocator);\n      cssLocatedElements.forEach(function (element) {\n        identifiedElementList.push(element);\n      });\n    } else if (domEvent.elementId) {\n      var identifiedElement = document.getElementById(domEvent.elementId);\n      if (identifiedElement) {\n        identifiedElementList.push(identifiedElement);\n      }\n    } else if (domEvent.element) {\n      identifiedElementList.push(domEvent.element);\n    }\n    identifiedElementList.forEach(function (element) {\n      element.addEventListener(eventType, eventListener);\n      elementEventListenerList.push({\n        element: element,\n        eventListener: eventListener\n      });\n    });\n    this.eventListenerMap.set(domEvent, elementEventListenerList);\n  };\n  DomEventPlugin.prototype.removeEventHandler = function (domEvent) {\n    var elementEventListenerList = this.eventListenerMap.get(domEvent);\n    if (elementEventListenerList) {\n      elementEventListenerList.forEach(function (elementEventListener) {\n        var element = elementEventListener.element;\n        var eventListener = elementEventListener.eventListener;\n        element.removeEventListener(domEvent.event, eventListener);\n      });\n      this.eventListenerMap.delete(domEvent);\n    }\n  };\n  DomEventPlugin.prototype.observeDOMMutation = function () {\n    var _this = this;\n    this.observer = new MutationObserver(function () {\n      _this.removeListeners();\n      _this.addListeners();\n    });\n    //  we track only changes to nodes/DOM elements, not attributes or characterData\n    this.observer.observe(document, {\n      childList: true,\n      subtree: true\n    });\n  };\n  return DomEventPlugin;\n}(InternalPlugin);\nexport { DomEventPlugin };", "var isObject = function (error) {\n  var type = typeof error;\n  return (type === 'object' || type === 'function') && !!error;\n};\nvar buildBaseJsErrorEvent = function (errorEvent) {\n  var rumEvent = {\n    version: '1.0.0',\n    type: 'undefined',\n    message: 'undefined'\n  };\n  if (errorEvent.type !== undefined) {\n    rumEvent.type = errorEvent.type;\n  }\n  if (errorEvent.message !== undefined) {\n    rumEvent.message = errorEvent.message;\n  }\n  if (errorEvent.filename !== undefined) {\n    rumEvent.filename = errorEvent.filename;\n  }\n  if (errorEvent.lineno !== undefined) {\n    rumEvent.lineno = errorEvent.lineno;\n  }\n  if (errorEvent.colno !== undefined) {\n    rumEvent.colno = errorEvent.colno;\n  }\n  return rumEvent;\n};\nvar appendErrorPrimitiveDetails = function (rumEvent, error) {\n  // Keep unhandledrejection as type as it will write to rumEvent.message\n  if (rumEvent.type !== 'unhandledrejection') {\n    rumEvent.type = error.toString();\n  }\n  rumEvent.message = error.toString();\n};\nvar appendErrorObjectDetails = function (rumEvent, error, stackTraceLength) {\n  // error may extend Error here, but it is not guaranteed (i.e., it could\n  // be any object)\n  if (error.name) {\n    rumEvent.type = error.name;\n  }\n  if (error.message) {\n    rumEvent.message = error.message;\n  }\n  if (error.fileName) {\n    rumEvent.filename = error.fileName;\n  }\n  if (error.lineNumber) {\n    rumEvent.lineno = error.lineNumber;\n  }\n  if (error.columnNumber) {\n    rumEvent.colno = error.columnNumber;\n  }\n  if (stackTraceLength && error.stack) {\n    rumEvent.stack = error.stack.length > stackTraceLength ? error.stack.substring(0, stackTraceLength) + '...' : error.stack;\n  }\n};\nexport var isErrorPrimitive = function (error) {\n  return error !== Object(error) && error !== undefined && error !== null;\n};\nexport var errorEventToJsErrorEvent = function (errorEvent, stackTraceLength) {\n  var rumEvent = buildBaseJsErrorEvent(errorEvent);\n  var error = errorEvent.error;\n  if (isObject(error)) {\n    appendErrorObjectDetails(rumEvent, error, stackTraceLength);\n  } else if (isErrorPrimitive(error)) {\n    appendErrorPrimitiveDetails(rumEvent, error);\n  }\n  return rumEvent;\n};", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { InternalPlugin } from '../InternalPlugin';\nimport { JS_ERROR_EVENT_TYPE } from '../utils/constant';\nimport { errorEventToJsErrorEvent } from '../utils/js-error-utils';\nexport var JS_ERROR_EVENT_PLUGIN_ID = 'js-error';\nvar defaultConfig = {\n  stackTraceLength: 1000,\n  ignore: function () {\n    return false;\n  }\n};\nvar JsErrorPlugin = /** @class */function (_super) {\n  __extends(JsErrorPlugin, _super);\n  function JsErrorPlugin(config) {\n    var _this = _super.call(this, JS_ERROR_EVENT_PLUGIN_ID) || this;\n    _this.eventHandler = function (errorEvent) {\n      if (!_this.config.ignore(errorEvent)) {\n        _this.recordJsErrorEvent(errorEvent);\n      }\n    };\n    _this.promiseRejectEventHandler = function (event) {\n      if (!_this.config.ignore(event)) {\n        _this.recordJsErrorEvent({\n          type: event.type,\n          error: event.reason\n        });\n      }\n    };\n    _this.config = __assign(__assign({}, defaultConfig), config);\n    return _this;\n  }\n  JsErrorPlugin.prototype.enable = function () {\n    if (this.enabled) {\n      return;\n    }\n    this.addEventHandler();\n    this.enabled = true;\n  };\n  JsErrorPlugin.prototype.disable = function () {\n    if (!this.enabled) {\n      return;\n    }\n    this.removeEventHandler();\n    this.enabled = false;\n  };\n  JsErrorPlugin.prototype.record = function (error) {\n    if (error instanceof ErrorEvent) {\n      this.recordJsErrorEvent(error);\n    } else {\n      this.recordJsErrorEvent({\n        type: 'error',\n        error: error\n      });\n    }\n  };\n  JsErrorPlugin.prototype.onload = function () {\n    this.addEventHandler();\n  };\n  JsErrorPlugin.prototype.recordJsErrorEvent = function (error) {\n    var _a;\n    (_a = this.context) === null || _a === void 0 ? void 0 : _a.record(JS_ERROR_EVENT_TYPE, errorEventToJsErrorEvent(error, this.config.stackTraceLength));\n  };\n  JsErrorPlugin.prototype.addEventHandler = function () {\n    window.addEventListener('error', this.eventHandler);\n    window.addEventListener('unhandledrejection', this.promiseRejectEventHandler);\n  };\n  JsErrorPlugin.prototype.removeEventHandler = function () {\n    window.removeEventListener('error', this.eventHandler);\n    window.removeEventListener('unhandledrejection', this.promiseRejectEventHandler);\n  };\n  return JsErrorPlugin;\n}(InternalPlugin);\nexport { JsErrorPlugin };", "/**\n * Stores a cookie.\n *\n * @param name The cookie's name.\n * @param value The cookie's value.\n * @param attributes The domain where the cookie will be stored.\n * @param ttl Time to live -- expiry date is current date + ttl (do not use with {@code expires}).\n * @param expires The expiry date for the cookie (do not use with {@code ttl})\n */\nexport var storeCookie = function (name, value, attributes, ttl, expires) {\n  var cookie = name + '=';\n  cookie += value || '';\n  if (expires !== undefined) {\n    cookie += \"; Expires=\".concat(expires.toUTCString());\n  } else if (ttl !== undefined) {\n    cookie += \"; Expires=\".concat(getExpiryDate(ttl).toUTCString());\n  }\n  cookie += \"; Domain=\".concat(attributes.domain);\n  cookie += \"; Path=\".concat(attributes.path);\n  cookie += \"; SameSite=\".concat(attributes.sameSite);\n  cookie += attributes.secure ? '; Secure' : '';\n  document.cookie = cookie;\n};\n/**\n * Returns the current date + TTL\n *\n * @param ttl seconds to live\n */\nexport var getExpiryDate = function (ttl) {\n  return new Date(new Date().getTime() + ttl * 1000);\n};\n/**\n * Removes a cookie by setting its expiry in the past.\n *\n * @param name The cookie's name.\n */\nexport var removeCookie = function (name, attributes) {\n  var cookie = name + '=';\n  cookie += \"; Expires=\".concat(new Date(0));\n  cookie += \"; Domain=\".concat(attributes.domain);\n  cookie += \"; Path=\".concat(attributes.path);\n  cookie += \"; SameSite=\".concat(attributes.sameSite);\n  cookie += attributes.secure ? 'Secure' : '';\n  document.cookie = cookie;\n};\n/**\n * Get a cookie with a given name\n *\n * @param name The cookie's name.\n */\nexport var getCookie = function (name) {\n  var cookies = document.cookie.split('; ');\n  for (var _i = 0, cookies_1 = cookies; _i < cookies_1.length; _i++) {\n    var cookie = cookies_1[_i];\n    var split = cookie.split('=');\n    if (split[0] === name) {\n      return split[1];\n    }\n  }\n  return '';\n};", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { storeCookie, getCookie } from '../utils/cookies-utils';\nimport { v4 } from 'uuid';\nimport { UAParser } from 'ua-parser-js';\nimport { SESSION_COOKIE_NAME, USER_COOKIE_NAME } from '../utils/constants';\nimport { SESSION_START_EVENT_TYPE } from '../plugins/utils/constant';\nexport var NIL_UUID = '00000000-0000-0000-0000-000000000000';\nexport var UNKNOWN = 'unknown';\nexport var DESKTOP_DEVICE_TYPE = 'desktop';\nexport var WEB_PLATFORM_TYPE = 'web';\nexport var RUM_SESSION_START = 'rum_session_start';\nexport var RUM_SESSION_EXPIRE = 'rum_session_expire';\n/**\n * The session handler handles user id and session id.\n *\n * A session is the {user id, session id} tuple which groups events that occur on a single browser over a continuous\n * period of time. A session begins when no session exists or the last session has expired. If user id does not exist,\n * session handler will assign a new one and store it in cookie. If session id does not exist or has expired, session\n * handler will assign a new one and store it in cookie. Session handler detects user interactions and updates session\n * id expiration time.\n */\nvar SessionManager = /** @class */function () {\n  function SessionManager(appMonitorDetails, config, recordEvent, pageManager) {\n    this.appMonitorDetails = appMonitorDetails;\n    this.config = config;\n    this.recordEvent = recordEvent;\n    this.pageManager = pageManager;\n    this.sessionCookieName = this.config.cookieAttributes.unique ? \"\".concat(SESSION_COOKIE_NAME, \"_\").concat(this.appMonitorDetails.id) : SESSION_COOKIE_NAME;\n    // Initialize the session to the nil session\n    this.session = {\n      sessionId: NIL_UUID,\n      record: this.sample(),\n      eventCount: 0\n    };\n    // Initialize or restore the user\n    this.initializeUser();\n    // Collect the user agent and domain\n    this.collectAttributes();\n    // Set custom session attributes\n    this.addSessionAttributes(this.config.sessionAttributes);\n    // Attempt to restore the previous session\n    this.getSessionFromCookie();\n  }\n  /**\n   * Returns true if the session is sampled, false otherwise.\n   */\n  SessionManager.prototype.isSampled = function () {\n    return this.session.record;\n  };\n  /**\n   * Returns the session ID. If no session ID exists, one will be created.\n   */\n  SessionManager.prototype.getSession = function () {\n    if (this.session.sessionId === NIL_UUID) {\n      // The session does not exist. Create a new one.\n      // If it is created before the page view is recorded, the session start event metadata will\n      // not have page attributes as the page does not exist yet.\n      this.createSession();\n    } else if (this.session.sessionId !== NIL_UUID && new Date() >= this.sessionExpiry) {\n      // The session has expired. Create a new one.\n      this.createSession();\n    }\n    return this.session;\n  };\n  SessionManager.prototype.getAttributes = function () {\n    return this.attributes;\n  };\n  /**\n   * Adds custom session attributes to the session's attributes\n   *\n   * @param sessionAttributes object containing custom attribute data in the form of key, value pairs\n   */\n  SessionManager.prototype.addSessionAttributes = function (sessionAttributes) {\n    this.attributes = __assign(__assign({}, this.attributes), sessionAttributes);\n  };\n  SessionManager.prototype.getUserId = function () {\n    if (this.useCookies()) {\n      return this.userId;\n    }\n    return NIL_UUID;\n  };\n  SessionManager.prototype.incrementSessionEventCount = function () {\n    this.session.eventCount++;\n    this.renewSession();\n  };\n  SessionManager.prototype.isLimitExceeded = function () {\n    return this.session.eventCount >= this.config.sessionEventLimit && this.config.sessionEventLimit > 0;\n  };\n  SessionManager.prototype.canRecord = function () {\n    return this.session.record && !this.isLimitExceeded();\n  };\n  SessionManager.prototype.initializeUser = function () {\n    var userId = '';\n    this.userExpiry = new Date();\n    this.userExpiry.setDate(this.userExpiry.getDate() + this.config.userIdRetentionDays);\n    if (this.config.userIdRetentionDays <= 0) {\n      // Use the 'nil' UUID when the user ID will not be retained\n      this.userId = '00000000-0000-0000-0000-000000000000';\n    } else if (this.useCookies()) {\n      userId = this.getUserIdCookie();\n      this.userId = userId ? userId : v4();\n      this.createOrRenewUserCookie(userId, this.userExpiry);\n    } else {\n      this.userId = v4();\n    }\n  };\n  SessionManager.prototype.createOrRenewSessionCookie = function (session, expires) {\n    if (btoa) {\n      storeCookie(this.sessionCookieName, btoa(JSON.stringify(session)), this.config.cookieAttributes, undefined, expires);\n    }\n  };\n  SessionManager.prototype.createOrRenewUserCookie = function (userId, expires) {\n    storeCookie(USER_COOKIE_NAME, userId, this.config.cookieAttributes, undefined, expires);\n  };\n  SessionManager.prototype.getUserIdCookie = function () {\n    return getCookie(USER_COOKIE_NAME);\n  };\n  SessionManager.prototype.getSessionFromCookie = function () {\n    if (this.useCookies()) {\n      var cookie = getCookie(this.sessionCookieName);\n      if (cookie && atob) {\n        try {\n          this.session = JSON.parse(atob(cookie));\n          this.pageManager.resumeSession(this.session.page);\n        } catch (e) {\n          // Error decoding or parsing the cookie -- ignore\n        }\n      }\n    }\n  };\n  SessionManager.prototype.storeSessionAsCookie = function () {\n    if (this.useCookies() && this.config.userIdRetentionDays > 0) {\n      this.createOrRenewUserCookie(this.userId, this.userExpiry);\n    }\n    if (this.useCookies()) {\n      // Set the user cookie in case useCookies() has changed from false to true.\n      this.createOrRenewSessionCookie(this.session, this.sessionExpiry);\n    }\n  };\n  SessionManager.prototype.createSession = function () {\n    // The semantics of the nil session (created during initialization) are that there is no session.\n    // We ensure the nil session and new session created right after initialization have the same sampling decision.\n    // Otherwise, we will always reevaluate the sample decision.\n    this.session = {\n      sessionId: v4(),\n      record: this.session.sessionId === NIL_UUID ? this.session.record : this.sample(),\n      eventCount: 0\n    };\n    this.session.page = this.pageManager.getPage();\n    this.sessionExpiry = new Date(new Date().getTime() + this.config.sessionLengthSeconds * 1000);\n    this.storeSessionAsCookie();\n    this.recordEvent(SESSION_START_EVENT_TYPE, {\n      version: '1.0.0'\n    });\n  };\n  SessionManager.prototype.renewSession = function () {\n    this.sessionExpiry = new Date(new Date().getTime() + this.config.sessionLengthSeconds * 1000);\n    this.session.page = this.pageManager.getPage();\n    this.storeSessionAsCookie();\n  };\n  SessionManager.prototype.collectAttributes = function () {\n    var ua = new UAParser(navigator.userAgent).getResult();\n    this.attributes = {\n      browserLanguage: navigator.language,\n      browserName: ua.browser.name ? ua.browser.name : UNKNOWN,\n      browserVersion: ua.browser.version ? ua.browser.version : UNKNOWN,\n      osName: ua.os.name ? ua.os.name : UNKNOWN,\n      osVersion: ua.os.version ? ua.os.version : UNKNOWN,\n      // Possible device types include {console, mobile, tablet, smarttv, wearable, embedded}. If the device\n      // type is undefined, there was no information indicating the device is anything other than a desktop,\n      // so we assume the device is a desktop.\n      deviceType: ua.device.type ? ua.device.type : DESKTOP_DEVICE_TYPE,\n      // This client is used exclusively in web applications.\n      platformType: WEB_PLATFORM_TYPE,\n      domain: window.location.hostname,\n      'aws:releaseId': this.config.releaseId\n    };\n  };\n  /**\n   * Returns true when cookies should be used to store user ID and session ID.\n   */\n  SessionManager.prototype.useCookies = function () {\n    return navigator.cookieEnabled && this.config.allowCookies;\n  };\n  /**\n   * Returns {@code true} when the session has been selected to be recorded.\n   */\n  SessionManager.prototype.sample = function () {\n    return Math.random() < this.config.sessionSampleRate;\n  };\n  return SessionManager;\n}();\nexport { SessionManager };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport * as shimmer from 'shimmer';\nimport { InternalPlugin } from './InternalPlugin';\nvar MonkeyPatched = /** @class */function (_super) {\n  __extends(MonkeyPatched, _super);\n  function MonkeyPatched() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.enable = _this.patch.bind(_this, true);\n    _this.disable = _this.patch.bind(_this, false);\n    _this.enabled = false;\n    return _this;\n  }\n  MonkeyPatched.prototype.patchAll = function () {\n    var wrap = shimmer.wrap.bind(shimmer);\n    for (var _i = 0, _a = this.patches; _i < _a.length; _i++) {\n      var patch = _a[_i];\n      wrap(patch.nodule, patch.name, patch.wrapper());\n    }\n  };\n  MonkeyPatched.prototype.unpatchAll = function () {\n    var unwrap = shimmer.unwrap.bind(shimmer);\n    for (var _i = 0, _a = this.patches; _i < _a.length; _i++) {\n      var patch = _a[_i];\n      unwrap(patch.nodule, patch.name);\n    }\n  };\n  MonkeyPatched.prototype.patch = function (shouldPatch) {\n    if (shouldPatch === void 0) {\n      shouldPatch = true;\n    }\n    if (this.enabled !== shouldPatch) {\n      this.enabled = shouldPatch;\n      if (shouldPatch) {\n        this.patchAll();\n      } else {\n        this.unpatchAll();\n      }\n    }\n  };\n  return MonkeyPatched;\n}(InternalPlugin);\nexport { MonkeyPatched };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { PERFORMANCE_NAVIGATION_EVENT_TYPE } from '../plugins/utils/constant';\nimport { MonkeyPatched } from '../plugins/MonkeyPatched';\n/**\n * Maintains the core logic for virtual page load timing functionality.\n * (1) Holds all virtual page load timing related resources\n * (2) Intercepts outgoing XMLHttpRequests and Fetch requests and listens for DOM changes\n * (3) Records virtual page load\n */\nvar VirtualPageLoadTimer = /** @class */function (_super) {\n  __extends(VirtualPageLoadTimer, _super);\n  function VirtualPageLoadTimer(pageManager, config, record) {\n    var _this = _super.call(this, 'virtual-page-load-timer') || this;\n    _this.sendWrapper = function () {\n      var self = _this;\n      return function (original) {\n        return function () {\n          self.recordXhr(this);\n          this.addEventListener('loadend', self.endTracking);\n          return original.apply(this, arguments);\n        };\n      };\n    };\n    /**\n     * Removes the current event from either requestBuffer or ongoingRequests set.\n     *\n     * @param event\n     */\n    _this.endTracking = function (e) {\n      var currTime = Date.now();\n      var xhr = e.target;\n      xhr.removeEventListener('loadend', _this.endTracking);\n      _this.removeXhr(xhr, currTime);\n    };\n    _this.fetch = function (original, thisArg, argsArray) {\n      return original.apply(thisArg, argsArray).catch(function (error) {\n        throw error;\n      }).finally(_this.decrementFetchCounter);\n    };\n    /**\n     * Increment the fetch counter in PageManager when fetch is beginning\n     */\n    _this.fetchWrapper = function () {\n      var self = _this;\n      return function (original) {\n        return function (input, init) {\n          self.fetchCounter += 1;\n          return self.fetch(original, this, arguments);\n        };\n      };\n    };\n    _this.decrementFetchCounter = function () {\n      if (!_this.isPageLoaded) {\n        _this.latestEndTime = Date.now();\n      }\n      _this.fetchCounter -= 1;\n    };\n    /**\n     * Checks whether the virtual page is still being loaded.\n     * If completed:\n     * (1) Clear the timers\n     * (2) Record data using NavigationEvent\n     * (3) Indicate current page has finished loading\n     */\n    _this.checkLoadStatus = function () {\n      if (_this.ongoingRequests.size === 0 && _this.fetchCounter === 0) {\n        clearInterval(_this.periodicCheckerId);\n        clearTimeout(_this.timeoutCheckerId);\n        _this.domMutationObserver.disconnect();\n        _this.recordRouteChangeNavigationEvent(_this.pageManager.getPage());\n        _this.periodicCheckerId = undefined;\n        _this.timeoutCheckerId = undefined;\n        _this.isPageLoaded = true;\n      }\n    };\n    /** Clears timers and disconnects observer to stop page timing. */\n    _this.declareTimeout = function () {\n      clearInterval(_this.periodicCheckerId);\n      _this.periodicCheckerId = undefined;\n      _this.timeoutCheckerId = undefined;\n      _this.domMutationObserver.disconnect();\n      _this.isPageLoaded = true;\n    };\n    _this.resetInterval = function () {\n      _this.latestEndTime = Date.now();\n      clearInterval(_this.periodicCheckerId);\n      _this.periodicCheckerId = setInterval(_this.checkLoadStatus, _this.config.routeChangeComplete);\n    };\n    _this.moveItemsFromBuffer = function (item) {\n      _this.ongoingRequests.add(item);\n    };\n    _this.updateLatestInteractionTime = function (e) {\n      _this.latestInteractionTime = Date.now();\n    };\n    _this.periodicCheckerId = undefined;\n    _this.timeoutCheckerId = undefined;\n    _this.domMutationObserver = new MutationObserver(_this.resetInterval);\n    _this.ongoingRequests = new Set();\n    _this.requestBuffer = new Set();\n    _this.fetchCounter = 0;\n    _this.isPageLoaded = true;\n    _this.latestEndTime = 0;\n    _this.latestInteractionTime = 0;\n    _this.config = config;\n    _this.pageManager = pageManager;\n    _this.record = record;\n    _this.enable();\n    // Start tracking the timestamps\n    document.addEventListener('mousedown', _this.updateLatestInteractionTime);\n    document.addEventListener('keydown', _this.updateLatestInteractionTime);\n    return _this;\n  }\n  Object.defineProperty(VirtualPageLoadTimer.prototype, \"patches\", {\n    get: function () {\n      return [{\n        nodule: XMLHttpRequest.prototype,\n        name: 'send',\n        wrapper: this.sendWrapper\n      }, {\n        nodule: window,\n        name: 'fetch',\n        wrapper: this.fetchWrapper\n      }];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /** Initializes timing related resources for current page. */\n  VirtualPageLoadTimer.prototype.startTiming = function () {\n    this.latestEndTime = Date.now();\n    // Clean up existing timer objects and mutationObserver\n    if (this.periodicCheckerId) {\n      clearInterval(this.periodicCheckerId);\n    }\n    if (this.timeoutCheckerId) {\n      clearTimeout(this.timeoutCheckerId);\n    }\n    this.domMutationObserver.disconnect();\n    // Initialize timer objects and start observing\n    this.periodicCheckerId = setInterval(this.checkLoadStatus, this.config.routeChangeComplete);\n    this.timeoutCheckerId = setTimeout(this.declareTimeout, this.config.routeChangeTimeout);\n    // observing the add/delete of nodes\n    this.domMutationObserver.observe(document, {\n      subtree: true,\n      childList: true,\n      attributes: false,\n      characterData: false\n    });\n    // Indicate page has not loaded, and carry over buffered requests.\n    this.isPageLoaded = false;\n    this.requestBuffer.forEach(this.moveItemsFromBuffer);\n    this.requestBuffer.clear();\n  };\n  VirtualPageLoadTimer.prototype.recordXhr = function (item) {\n    var page = this.pageManager.getPage();\n    if (page && this.isPageLoaded === false) {\n      this.ongoingRequests.add(item);\n    } else {\n      this.requestBuffer.add(item);\n    }\n  };\n  VirtualPageLoadTimer.prototype.removeXhr = function (item, currTime) {\n    var page = this.pageManager.getPage();\n    if (page && this.ongoingRequests.has(item)) {\n      this.ongoingRequests.delete(item);\n      this.latestEndTime = currTime;\n    } else if (this.requestBuffer.has(item)) {\n      this.requestBuffer.delete(item);\n    }\n  };\n  VirtualPageLoadTimer.prototype.recordRouteChangeNavigationEvent = function (page) {\n    var virtualPageNavigationEvent = {\n      version: '1.0.0',\n      initiatorType: 'route_change',\n      navigationType: 'navigate',\n      startTime: page.start,\n      duration: this.latestEndTime - page.start\n    };\n    if (this.record) {\n      this.record(PERFORMANCE_NAVIGATION_EVENT_TYPE, virtualPageNavigationEvent);\n    }\n  };\n  return VirtualPageLoadTimer;\n}(MonkeyPatched);\nexport { VirtualPageLoadTimer };", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { VirtualPageLoadTimer } from '../sessions/VirtualPageLoadTimer';\nimport { PAGE_VIEW_EVENT_TYPE } from '../plugins/utils/constant';\n/**\n * The page manager keeps the state of the current page and interaction level.\n *\n * A page is a unique view (user interface) of the application. For 'multi page' applications (i.e., 'classic' web\n * applications that have multiple html files), the page changes when the user navigates to a new web page. For\n * 'single page' applications (i.e., 'ajax' web applications that have a single html file), the page changes when (1)\n * the popstate event emitted, or (2) the application indicates a new page has loaded using the RUM agent API.\n *\n * The interaction level is the order of a page in the sequence of pages sorted by the time they were viewed.\n */\nvar PageManager = /** @class */function () {\n  function PageManager(config, record) {\n    this.TIMEOUT = 1000;\n    this.config = config;\n    this.record = record;\n    this.page = undefined;\n    this.resumed = false;\n    this.recordInteraction = false;\n    this.virtualPageLoadTimer = new VirtualPageLoadTimer(this, config, record);\n  }\n  PageManager.prototype.getPage = function () {\n    return this.page;\n  };\n  PageManager.prototype.getAttributes = function () {\n    return this.attributes;\n  };\n  PageManager.prototype.resumeSession = function (page) {\n    this.recordInteraction = true;\n    if (page) {\n      this.page = page;\n      this.resumed = true;\n    }\n  };\n  PageManager.prototype.recordPageView = function (payload) {\n    var pageId;\n    if (typeof payload === 'string') {\n      pageId = payload;\n    } else {\n      pageId = payload.pageId;\n    }\n    if (this.useCookies()) {\n      this.recordInteraction = true;\n    }\n    if (!this.page) {\n      this.createLandingPage(pageId);\n    } else if (this.page.pageId !== pageId) {\n      this.createNextPage(this.page, pageId);\n    } else if (this.resumed) {\n      // Update attributes state in PageManager for event metadata\n      this.collectAttributes(this.page, typeof payload === 'object' ? payload : undefined);\n      return;\n    } else {\n      // The view has not changed.\n      return;\n    }\n    // this.page is guaranteed to have been initialized\n    // Attributes will be added to all events as meta data\n    this.collectAttributes(this.page, typeof payload === 'object' ? payload : undefined);\n    // The SessionManager will update its cookie with the new page\n    this.recordPageViewEvent(this.page);\n  };\n  PageManager.prototype.createNextPage = function (currentPage, pageId) {\n    var startTime = Date.now();\n    var interactionTime = this.virtualPageLoadTimer.latestInteractionTime;\n    // The latest interaction time (latest) is not guaranteed to be the\n    // interaction that triggered the route change (actual). There are two\n    // cases to consider:\n    //\n    // 1. Latest is older than actual. This can happen if the user navigates\n    // with the browser back/forward button, or if the interaction is not a\n    // click/keyup event.\n    //\n    // 2. Latest is newer than actual. This can happen if the user clicks or\n    // types in the time between actual and when recordPageView is called.\n    //\n    // We believe that case (1) has a high risk of skewing route change\n    // timing metrics because (a) browser navigation is common and (b) there\n    // is no limit on when the latest interaction may have occurred. To\n    // help mitigate this, if the route change is already longer than 1000ms,\n    // then we do not bother timing the route change.\n    //\n    // We do not believe that case (2) has a high risk of skewing route\n    // change timing, and therefore ignore case (2).\n    if (!this.resumed && startTime - interactionTime <= this.TIMEOUT) {\n      startTime = interactionTime;\n      this.virtualPageLoadTimer.startTiming();\n    }\n    this.timeOnParentPage = startTime - currentPage.start;\n    this.resumed = false;\n    this.page = {\n      pageId: pageId,\n      parentPageId: currentPage.pageId,\n      interaction: currentPage.interaction + 1,\n      referrer: document.referrer,\n      referrerDomain: this.getDomainFromReferrer(),\n      start: startTime\n    };\n  };\n  PageManager.prototype.createLandingPage = function (pageId) {\n    this.page = {\n      pageId: pageId,\n      interaction: 0,\n      referrer: document.referrer,\n      referrerDomain: this.getDomainFromReferrer(),\n      start: Date.now()\n    };\n  };\n  PageManager.prototype.collectAttributes = function (page, customPageAttributes) {\n    var _a;\n    this.attributes = {\n      title: ((_a = customPageAttributes === null || customPageAttributes === void 0 ? void 0 : customPageAttributes.pageAttributes) === null || _a === void 0 ? void 0 : _a.title) ? customPageAttributes.pageAttributes.title : document.title,\n      pageId: page.pageId\n    };\n    if (this.recordInteraction) {\n      this.attributes.interaction = page.interaction;\n      if (page.parentPageId !== undefined) {\n        this.attributes.parentPageId = page.parentPageId;\n      }\n    }\n    if (customPageAttributes === null || customPageAttributes === void 0 ? void 0 : customPageAttributes.pageTags) {\n      this.attributes['pageTags'] = customPageAttributes['pageTags'];\n    }\n    if (customPageAttributes === null || customPageAttributes === void 0 ? void 0 : customPageAttributes.pageAttributes) {\n      this.attributes = __assign(__assign({}, customPageAttributes.pageAttributes), this.attributes);\n    }\n  };\n  PageManager.prototype.createPageViewEvent = function (page) {\n    var pageViewEvent = {\n      version: '1.0.0',\n      pageId: page.pageId\n    };\n    if (this.recordInteraction) {\n      pageViewEvent.interaction = page.interaction;\n      pageViewEvent.pageInteractionId = page.pageId + '-' + page.interaction;\n      if (page.parentPageId !== undefined) {\n        pageViewEvent.parentPageInteractionId = page.parentPageId + '-' + (page.interaction - 1);\n        pageViewEvent.timeOnParentPage = this.timeOnParentPage;\n      }\n      pageViewEvent.referrer = document.referrer;\n      pageViewEvent.referrerDomain = this.getDomainFromReferrer();\n    }\n    return pageViewEvent;\n  };\n  PageManager.prototype.recordPageViewEvent = function (page) {\n    this.record(PAGE_VIEW_EVENT_TYPE, this.createPageViewEvent(page));\n  };\n  /**\n   * Returns true when cookies should be used to store user ID and session ID.\n   */\n  PageManager.prototype.useCookies = function () {\n    return navigator.cookieEnabled && this.config.allowCookies;\n  };\n  /*\n  Parses the domain from the referrer, if it is available\n  */\n  PageManager.prototype.getDomainFromReferrer = function () {\n    try {\n      return new URL(document.referrer).hostname;\n    } catch (e) {\n      return document.referrer === 'localhost' ? document.referrer : '';\n    }\n  };\n  return PageManager;\n}();\nexport { PageManager };", "export var Topic = /*#__PURE__*/function (Topic) {\n  Topic[\"EVENT\"] = \"event\";\n  return Topic;\n}(Topic || {});\n/** A topic-based event bus to facilitate communication between plugins */\nvar EventBus = /** @class */function () {\n  function EventBus() {\n    // map<topic, subscriber>\n    this.subscribers = new Map();\n  }\n  EventBus.prototype.subscribe = function (topic, subscriber) {\n    var _a;\n    var list = (_a = this.subscribers.get(topic)) !== null && _a !== void 0 ? _a : [];\n    if (!list.length) {\n      this.subscribers.set(topic, list);\n    }\n    list.push(subscriber);\n  };\n  EventBus.prototype.unsubscribe = function (topic, subscriber) {\n    var list = this.subscribers.get(topic);\n    if (list) {\n      for (var i = 0; i < list.length; i++) {\n        if (list[i] === subscriber) {\n          list.splice(i, 1);\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  EventBus.prototype.dispatch = function (topic, message) {\n    var list = this.subscribers.get(topic);\n    if (list) {\n      for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n        var subscriber = list_1[_i];\n        subscriber(message);\n      }\n    }\n  };\n  return EventBus;\n}();\nexport default EventBus;", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { SessionManager } from '../sessions/SessionManager';\nimport { v4 } from 'uuid';\nimport { PageManager } from '../sessions/PageManager';\nimport EventBus, { Topic } from '../event-bus/EventBus';\nimport { SESSION_START_EVENT_TYPE } from '../plugins/utils/constant';\nvar webClientVersion = '1.25.0';\n/**\n * A cache which stores events generated by telemetry plugins.\n *\n * The event cache stores meta data and events until they are dispatched to the\n * data plane. The event cache removes the oldest event once the cache is full\n * and a new event is added.\n */\nvar EventCache = /** @class */function () {\n  /**\n   * @param applicationDetails Application identity and version.\n   * @param batchLimit The maximum number of events that will be returned in a batch.\n   * @param eventCacheSize  The maximum number of events the cache can contain before dropping events.\n   * @param sessionManager  The sessionManager returns user id, session id and handles session timeout.\n   * @param pageManager The pageManager returns page id.\n   */\n  function EventCache(applicationDetails, config, eventBus) {\n    if (eventBus === void 0) {\n      eventBus = new EventBus();\n    }\n    var _this = this;\n    this.eventBus = eventBus;\n    this.events = [];\n    this.candidates = new Map();\n    /**\n     * Update the current page interaction for the session.\n     */\n    this.recordPageView = function (payload) {\n      if (_this.isCurrentUrlAllowed()) {\n        _this.pageManager.recordPageView(payload);\n      }\n    };\n    /**\n     * Add an event to the cache and reset the session timer.\n     *\n     * If the session is being recorded, the event will be recorded.\n     * If the session is not being recorded, the event will not be recorded.\n     *\n     * @param type The event schema.\n     * @param eventData The event data.\n     */\n    this.recordEvent = function (type, eventData) {\n      if (!_this.enabled) {\n        return;\n      }\n      if (_this.isCurrentUrlAllowed()) {\n        if (type !== SESSION_START_EVENT_TYPE) {\n          // Only refresh session if not session start event\n          // to avoid recursive loop.\n          _this.sessionManager.getSession();\n        }\n        if (_this.sessionManager.canRecord()) {\n          _this.sessionManager.incrementSessionEventCount();\n          _this.addRecordToCache(type, eventData);\n        }\n      }\n    };\n    /**\n     * Adds a candidate to the cache and reset session timer\n     *\n     * @param eventType The event schema.\n     * @param eventData The event data.\n     */\n    this.recordCandidate = function (eventType, eventData) {\n      var session = _this.sessionManager.getSession();\n      if (!_this.enabled || !_this.isCurrentUrlAllowed() || !session.record) {\n        return;\n      }\n      var event = _this.createEvent(eventType, eventData)[0];\n      // Update candidate if exists\n      if (_this.candidates.has(eventType)) {\n        _this.candidates.set(eventType, event);\n        return;\n      }\n      // Record new candidate only if limits have not been reached\n      if (_this.candidates.size < _this.config.candidatesCacheSize && !_this.sessionManager.isLimitExceeded()) {\n        _this.candidates.set(eventType, event);\n        _this.sessionManager.incrementSessionEventCount();\n      }\n    };\n    /**\n     * Returns the current session (1) if a session exists and (2) if the\n     * current URL is allowed. Returns undefined otherwise.\n     */\n    this.getSession = function () {\n      if (_this.isCurrentUrlAllowed()) {\n        return _this.sessionManager.getSession();\n      }\n      return undefined;\n    };\n    /**\n     * Add an event to the cache.\n     *\n     * @param type The event schema.\n     */\n    this.addRecordToCache = function (type, eventData) {\n      if (!_this.enabled) {\n        return;\n      }\n      if (_this.events.length === _this.config.eventCacheSize) {\n        // Drop newest event and keep the older ones\n        // 1. Older events tend to be more relevant, such as session start\n        //    or performance entries that are attributed to web vitals\n        // 2. Dropping an old event requires linear time\n        return;\n      }\n      var _a = _this.createEvent(type, eventData),\n        event = _a[0],\n        parsedEvent = _a[1];\n      _this.eventBus.dispatch(Topic.EVENT, parsedEvent);\n      _this.events.push(event);\n    };\n    /** Creates a RumEvent and a ParsedRumEvent from a type and details. */\n    this.createEvent = function (type, details) {\n      // The data plane service model (i.e., LogEvents) does not adhere to the\n      // RUM agent data model, where sessions and pages are first class\n      // objects with their own attribute sets. Instead, we store session\n      // attributes and page attributes together as 'meta data'.\n      var metadata = __assign(__assign(__assign({}, _this.sessionManager.getAttributes()), _this.pageManager.getAttributes()), {\n        version: '1.0.0',\n        'aws:client': _this.installationMethod,\n        'aws:clientVersion': webClientVersion\n      });\n      var partialEvent = {\n        id: v4(),\n        timestamp: new Date(),\n        type: type\n      };\n      return [__assign(__assign({}, partialEvent), {\n        details: JSON.stringify(details),\n        metadata: JSON.stringify(metadata)\n      }), __assign(__assign({}, partialEvent), {\n        details: details,\n        metadata: metadata\n      })];\n    };\n    this.appMonitorDetails = applicationDetails;\n    this.config = config;\n    this.enabled = true;\n    this.pageManager = new PageManager(config, this.recordEvent);\n    this.sessionManager = new SessionManager(applicationDetails, config, this.recordEvent, this.pageManager);\n    this.installationMethod = config.client;\n  }\n  /**\n   * The event cache will record new events or new meta data.\n   */\n  EventCache.prototype.enable = function () {\n    this.enabled = true;\n  };\n  /**\n   * The event cache will not record new events or new meta data. Events and\n   * meta data which are already in the cache will still be accessible.\n   */\n  EventCache.prototype.disable = function () {\n    this.enabled = false;\n  };\n  /**\n   * Returns true if the session is sampled, false otherwise.\n   */\n  EventCache.prototype.isSessionSampled = function () {\n    return this.sessionManager.isSampled();\n  };\n  /**\n   * Returns true if there are one or more events in the cache.\n   */\n  EventCache.prototype.hasEvents = function () {\n    return this.events.length !== 0;\n  };\n  /**\n   * Returns true if there are one or more event candidates in the cache.\n   */\n  EventCache.prototype.hasCandidates = function () {\n    return this.candidates.size !== 0;\n  };\n  /**\n   * Removes and returns the next batch of events.\n   */\n  EventCache.prototype.getEventBatch = function (flushCandidates) {\n    if (flushCandidates === void 0) {\n      flushCandidates = false;\n    }\n    var batch = [];\n    // Prioritize candidates in the next event batch\n    if (flushCandidates && this.hasCandidates()) {\n      // Pull all candidates if they fit in the batch\n      if (this.candidates.size <= this.config.batchLimit) {\n        batch = Array.from(this.candidates.values());\n        this.candidates.clear();\n      } else {\n        // Pull candidates in FIFO order until batch limit is reached\n        var i = 0;\n        for (var _i = 0, _a = Array.from(this.candidates.keys()); _i < _a.length; _i++) {\n          var key = _a[_i];\n          if (i++ >= this.config.batchLimit) {\n            break;\n          }\n          var event_1 = this.candidates.get(key);\n          if (event_1) {\n            batch.push(event_1);\n            this.candidates.delete(key);\n          }\n        }\n      }\n    }\n    // Use remaining capacity for regular events.\n    if (this.events.length) {\n      if (this.events.length <= this.config.batchLimit - batch.length) {\n        batch.push.apply(batch, this.events);\n        this.events = [];\n      } else {\n        // Dispatch the front of the array and retain the back of the array.\n        batch.push.apply(batch, this.events.splice(0, this.config.batchLimit - batch.length));\n      }\n    }\n    return batch;\n  };\n  /**\n   * Returns an object containing the AppMonitor ID and application version.\n   */\n  EventCache.prototype.getAppMonitorDetails = function () {\n    return this.appMonitorDetails;\n  };\n  /**\n   * Returns an object containing the session ID and user ID.\n   */\n  EventCache.prototype.getUserDetails = function () {\n    return {\n      userId: this.sessionManager.getUserId(),\n      sessionId: this.sessionManager.getSession().sessionId\n    };\n  };\n  /**\n   * Set custom session attributes to add them to all event metadata.\n   *\n   * @param payload object containing custom attribute data in the form of key, value pairs\n   */\n  EventCache.prototype.addSessionAttributes = function (sessionAttributes) {\n    this.sessionManager.addSessionAttributes(sessionAttributes);\n  };\n  /**\n   * Returns {@code true} if the current url matches one of the allowedPages\n   * and does not match any of the deniedPages; returns {@code false}\n   * otherwise.\n   */\n  EventCache.prototype.isCurrentUrlAllowed = function () {\n    var location = document.location.toString();\n    var exclude = this.config.pagesToExclude.some(function (re) {\n      return re.test(location);\n    });\n    var include = this.config.pagesToInclude.some(function (re) {\n      return re.test(location);\n    });\n    return include && !exclude;\n  };\n  return EventCache;\n}();\nexport { EventCache };", "const SHORT_TO_HEX = {};\nconst HEX_TO_SHORT = {};\nfor (let i = 0; i < 256; i++) {\n  let encodedByte = i.toString(16).toLowerCase();\n  if (encodedByte.length === 1) {\n    encodedByte = `0${encodedByte}`;\n  }\n  SHORT_TO_HEX[i] = encodedByte;\n  HEX_TO_SHORT[encodedByte] = i;\n}\nexport function fromHex(encoded) {\n  if (encoded.length % 2 !== 0) {\n    throw new Error(\"Hex encoded strings must have an even number length\");\n  }\n  const out = new Uint8Array(encoded.length / 2);\n  for (let i = 0; i < encoded.length; i += 2) {\n    const encodedByte = encoded.slice(i, i + 2).toLowerCase();\n    if (encodedByte in HEX_TO_SHORT) {\n      out[i / 2] = HEX_TO_SHORT[encodedByte];\n    } else {\n      throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);\n    }\n  }\n  return out;\n}\nexport function toHex(bytes) {\n  let out = \"\";\n  for (let i = 0; i < bytes.byteLength; i++) {\n    out += SHORT_TO_HEX[bytes[i]];\n  }\n  return out;\n}", "export const normalizeProvider = input => {\n  if (typeof input === \"function\") return input;\n  const promisified = Promise.resolve(input);\n  return () => promisified;\n};", "export const ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport const CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport const AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport const SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport const EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport const SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport const TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport const REGION_SET_PARAM = \"X-Amz-Region-Set\";\nexport const AUTH_HEADER = \"authorization\";\nexport const AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport const DATE_HEADER = \"date\";\nexport const GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport const SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport const SHA256_HEADER = \"x-amz-content-sha256\";\nexport const TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport const HOST_HEADER = \"host\";\nexport const ALWAYS_UNSIGNABLE_HEADERS = {\n  authorization: true,\n  \"cache-control\": true,\n  connection: true,\n  expect: true,\n  from: true,\n  \"keep-alive\": true,\n  \"max-forwards\": true,\n  pragma: true,\n  referer: true,\n  te: true,\n  trailer: true,\n  \"transfer-encoding\": true,\n  upgrade: true,\n  \"user-agent\": true,\n  \"x-amzn-trace-id\": true\n};\nexport const PROXY_HEADER_PATTERN = /^proxy-/;\nexport const SEC_HEADER_PATTERN = /^sec-/;\nexport const UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport const ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport const ALGORITHM_IDENTIFIER_V4A = \"AWS4-ECDSA-P256-SHA256\";\nexport const EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport const UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport const MAX_CACHE_SIZE = 50;\nexport const KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport const MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;", "import { toHex } from \"@smithy/util-hex-encoding\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nconst signingKeyCache = {};\nconst cacheQueue = [];\nexport const createScope = (shortDate, region, service) => `${shortDate}/${region}/${service}/${KEY_TYPE_IDENTIFIER}`;\nexport const getSigningKey = async (sha256Constructor, credentials, shortDate, region, service) => {\n  const credsHash = await hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId);\n  const cacheKey = `${shortDate}:${region}:${service}:${toHex(credsHash)}:${credentials.sessionToken}`;\n  if (cacheKey in signingKeyCache) {\n    return signingKeyCache[cacheKey];\n  }\n  cacheQueue.push(cacheKey);\n  while (cacheQueue.length > MAX_CACHE_SIZE) {\n    delete signingKeyCache[cacheQueue.shift()];\n  }\n  let key = `AWS4${credentials.secretAccessKey}`;\n  for (const signable of [shortDate, region, service, KEY_TYPE_IDENTIFIER]) {\n    key = await hmac(sha256Constructor, key, signable);\n  }\n  return signingKeyCache[cacheKey] = key;\n};\nexport const clearCredentialCache = () => {\n  cacheQueue.length = 0;\n  Object.keys(signingKeyCache).forEach(cacheKey => {\n    delete signingKeyCache[cacheKey];\n  });\n};\nconst hmac = (ctor, secret, data) => {\n  const hash = new ctor(secret);\n  hash.update(toUint8Array(data));\n  return hash.digest();\n};", "import { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\nexport const getCanonicalHeaders = ({\n  headers\n}, unsignableHeaders, signableHeaders) => {\n  const canonical = {};\n  for (const headerName of Object.keys(headers).sort()) {\n    if (headers[headerName] == undefined) {\n      continue;\n    }\n    const canonicalHeaderName = headerName.toLowerCase();\n    if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || unsignableHeaders?.has(canonicalHeaderName) || PROXY_HEADER_PATTERN.test(canonicalHeaderName) || SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n      if (!signableHeaders || signableHeaders && !signableHeaders.has(canonicalHeaderName)) {\n        continue;\n      }\n    }\n    canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n  }\n  return canonical;\n};", "import { escapeUri } from \"@smithy/util-uri-escape\";\nimport { SIGNATURE_HEADER } from \"./constants\";\nexport const getCanonicalQuery = ({\n  query = {}\n}) => {\n  const keys = [];\n  const serialized = {};\n  for (const key of Object.keys(query)) {\n    if (key.toLowerCase() === SIGNATURE_HEADER) {\n      continue;\n    }\n    const encodedKey = escapeUri(key);\n    keys.push(encodedKey);\n    const value = query[key];\n    if (typeof value === \"string\") {\n      serialized[encodedKey] = `${encodedKey}=${escapeUri(value)}`;\n    } else if (Array.isArray(value)) {\n      serialized[encodedKey] = value.slice(0).reduce((encoded, value) => encoded.concat([`${encodedKey}=${escapeUri(value)}`]), []).sort().join(\"&\");\n    }\n  }\n  return keys.sort().map(key => serialized[key]).filter(serialized => serialized).join(\"&\");\n};", "export const isArrayBuffer = arg => typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer || Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";", "import { isArrayBuffer } from \"@smithy/is-array-buffer\";\nimport { toHex } from \"@smithy/util-hex-encoding\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport const getPayloadHash = async ({\n  headers,\n  body\n}, hashConstructor) => {\n  for (const headerName of Object.keys(headers)) {\n    if (headerName.toLowerCase() === SHA256_HEADER) {\n      return headers[headerName];\n    }\n  }\n  if (body == undefined) {\n    return \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\";\n  } else if (typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body)) {\n    const hashCtor = new hashConstructor();\n    hashCtor.update(toUint8Array(body));\n    return toHex(await hashCtor.digest());\n  }\n  return UNSIGNED_PAYLOAD;\n};", "import { fromHex, toHex } from \"@smithy/util-hex-encoding\";\nimport { fromUtf8 } from \"@smithy/util-utf8\";\nexport class HeaderFormatter {\n  format(headers) {\n    const chunks = [];\n    for (const headerName of Object.keys(headers)) {\n      const bytes = fromUtf8(headerName);\n      chunks.push(Uint8Array.from([bytes.byteLength]), bytes, this.formatHeaderValue(headers[headerName]));\n    }\n    const out = new Uint8Array(chunks.reduce((carry, bytes) => carry + bytes.byteLength, 0));\n    let position = 0;\n    for (const chunk of chunks) {\n      out.set(chunk, position);\n      position += chunk.byteLength;\n    }\n    return out;\n  }\n  formatHeaderValue(header) {\n    switch (header.type) {\n      case \"boolean\":\n        return Uint8Array.from([header.value ? 0 : 1]);\n      case \"byte\":\n        return Uint8Array.from([2, header.value]);\n      case \"short\":\n        const shortView = new DataView(new ArrayBuffer(3));\n        shortView.setUint8(0, 3);\n        shortView.setInt16(1, header.value, false);\n        return new Uint8Array(shortView.buffer);\n      case \"integer\":\n        const intView = new DataView(new ArrayBuffer(5));\n        intView.setUint8(0, 4);\n        intView.setInt32(1, header.value, false);\n        return new Uint8Array(intView.buffer);\n      case \"long\":\n        const longBytes = new Uint8Array(9);\n        longBytes[0] = 5;\n        longBytes.set(header.value.bytes, 1);\n        return longBytes;\n      case \"binary\":\n        const binView = new DataView(new ArrayBuffer(3 + header.value.byteLength));\n        binView.setUint8(0, 6);\n        binView.setUint16(1, header.value.byteLength, false);\n        const binBytes = new Uint8Array(binView.buffer);\n        binBytes.set(header.value, 3);\n        return binBytes;\n      case \"string\":\n        const utf8Bytes = fromUtf8(header.value);\n        const strView = new DataView(new ArrayBuffer(3 + utf8Bytes.byteLength));\n        strView.setUint8(0, 7);\n        strView.setUint16(1, utf8Bytes.byteLength, false);\n        const strBytes = new Uint8Array(strView.buffer);\n        strBytes.set(utf8Bytes, 3);\n        return strBytes;\n      case \"timestamp\":\n        const tsBytes = new Uint8Array(9);\n        tsBytes[0] = 8;\n        tsBytes.set(Int64.fromNumber(header.value.valueOf()).bytes, 1);\n        return tsBytes;\n      case \"uuid\":\n        if (!UUID_PATTERN.test(header.value)) {\n          throw new Error(`Invalid UUID received: ${header.value}`);\n        }\n        const uuidBytes = new Uint8Array(17);\n        uuidBytes[0] = 9;\n        uuidBytes.set(fromHex(header.value.replace(/\\-/g, \"\")), 1);\n        return uuidBytes;\n    }\n  }\n}\nvar HEADER_VALUE_TYPE = /*#__PURE__*/function (HEADER_VALUE_TYPE) {\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"boolTrue\"] = 0] = \"boolTrue\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"boolFalse\"] = 1] = \"boolFalse\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"byte\"] = 2] = \"byte\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"short\"] = 3] = \"short\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"integer\"] = 4] = \"integer\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"long\"] = 5] = \"long\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"byteArray\"] = 6] = \"byteArray\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"string\"] = 7] = \"string\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"timestamp\"] = 8] = \"timestamp\";\n  HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"uuid\"] = 9] = \"uuid\";\n  return HEADER_VALUE_TYPE;\n}(HEADER_VALUE_TYPE || {});\nconst UUID_PATTERN = /^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;\nexport class Int64 {\n  constructor(bytes) {\n    this.bytes = bytes;\n    if (bytes.byteLength !== 8) {\n      throw new Error(\"Int64 buffers must be exactly 8 bytes\");\n    }\n  }\n  static fromNumber(number) {\n    if (number > 9223372036854776000 || number < -9223372036854776000) {\n      throw new Error(`${number} is too large (or, if negative, too small) to represent as an Int64`);\n    }\n    const bytes = new Uint8Array(8);\n    for (let i = 7, remaining = Math.abs(Math.round(number)); i > -1 && remaining > 0; i--, remaining /= 256) {\n      bytes[i] = remaining;\n    }\n    if (number < 0) {\n      negate(bytes);\n    }\n    return new Int64(bytes);\n  }\n  valueOf() {\n    const bytes = this.bytes.slice(0);\n    const negative = bytes[0] & 0b10000000;\n    if (negative) {\n      negate(bytes);\n    }\n    return parseInt(toHex(bytes), 16) * (negative ? -1 : 1);\n  }\n  toString() {\n    return String(this.valueOf());\n  }\n}\nfunction negate(bytes) {\n  for (let i = 0; i < 8; i++) {\n    bytes[i] ^= 0xff;\n  }\n  for (let i = 7; i > -1; i--) {\n    bytes[i]++;\n    if (bytes[i] !== 0) break;\n  }\n}", "export const hasHeader = (soughtHeader, headers) => {\n  soughtHeader = soughtHeader.toLowerCase();\n  for (const headerName of Object.keys(headers)) {\n    if (soughtHeader === headerName.toLowerCase()) {\n      return true;\n    }\n  }\n  return false;\n};\nexport const getHeaderValue = (soughtHeader, headers) => {\n  soughtHeader = soughtHeader.toLowerCase();\n  for (const headerName of Object.keys(headers)) {\n    if (soughtHeader === headerName.toLowerCase()) {\n      return headers[headerName];\n    }\n  }\n  return undefined;\n};\nexport const deleteHeader = (soughtHeader, headers) => {\n  soughtHeader = soughtHeader.toLowerCase();\n  for (const headerName of Object.keys(headers)) {\n    if (soughtHeader === headerName.toLowerCase()) {\n      delete headers[headerName];\n    }\n  }\n};", "import { HttpRequest } from \"@smithy/protocol-http\";\nexport const moveHeadersToQuery = (request, options = {}) => {\n  const {\n    headers,\n    query = {}\n  } = HttpRequest.clone(request);\n  for (const name of Object.keys(headers)) {\n    const lname = name.toLowerCase();\n    if (lname.slice(0, 6) === \"x-amz-\" && !options.unhoistableHeaders?.has(lname) || options.hoistableHeaders?.has(lname)) {\n      query[name] = headers[name];\n      delete headers[name];\n    }\n  }\n  return {\n    ...request,\n    headers,\n    query\n  };\n};", "import { HttpRequest } from \"@smithy/protocol-http\";\nimport { GENERATED_HEADERS } from \"./constants\";\nexport const prepareRequest = request => {\n  request = HttpRequest.clone(request);\n  for (const headerName of Object.keys(request.headers)) {\n    if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n      delete request.headers[headerName];\n    }\n  }\n  return request;\n};", "export const iso8601 = time => toDate(time).toISOString().replace(/\\.\\d{3}Z$/, \"Z\");\nexport const toDate = time => {\n  if (typeof time === \"number\") {\n    return new Date(time * 1000);\n  }\n  if (typeof time === \"string\") {\n    if (Number(time)) {\n      return new Date(Number(time) * 1000);\n    }\n    return new Date(time);\n  }\n  return time;\n};", "import { toHex } from \"@smithy/util-hex-encoding\";\nimport { normalizeProvider } from \"@smithy/util-middleware\";\nimport { escapeUri } from \"@smithy/util-uri-escape\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM } from \"./constants\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { HeaderFormatter } from \"./HeaderFormatter\";\nimport { hasHeader } from \"./headerUtil\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { iso8601 } from \"./utilDate\";\nexport class SignatureV4 {\n  constructor({\n    applyChecksum,\n    credentials,\n    region,\n    service,\n    sha256,\n    uriEscapePath = true\n  }) {\n    this.headerFormatter = new HeaderFormatter();\n    this.service = service;\n    this.sha256 = sha256;\n    this.uriEscapePath = uriEscapePath;\n    this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n    this.regionProvider = normalizeProvider(region);\n    this.credentialProvider = normalizeProvider(credentials);\n  }\n  async presign(originalRequest, options = {}) {\n    const {\n      signingDate = new Date(),\n      expiresIn = 3600,\n      unsignableHeaders,\n      unhoistableHeaders,\n      signableHeaders,\n      hoistableHeaders,\n      signingRegion,\n      signingService\n    } = options;\n    const credentials = await this.credentialProvider();\n    this.validateResolvedCredentials(credentials);\n    const region = signingRegion ?? (await this.regionProvider());\n    const {\n      longDate,\n      shortDate\n    } = formatDate(signingDate);\n    if (expiresIn > MAX_PRESIGNED_TTL) {\n      return Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\");\n    }\n    const scope = createScope(shortDate, region, signingService ?? this.service);\n    const request = moveHeadersToQuery(prepareRequest(originalRequest), {\n      unhoistableHeaders,\n      hoistableHeaders\n    });\n    if (credentials.sessionToken) {\n      request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n    }\n    request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n    request.query[CREDENTIAL_QUERY_PARAM] = `${credentials.accessKeyId}/${scope}`;\n    request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n    request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n    const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n    request.query[SIGNED_HEADERS_QUERY_PARAM] = getCanonicalHeaderList(canonicalHeaders);\n    request.query[SIGNATURE_QUERY_PARAM] = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, await getPayloadHash(originalRequest, this.sha256)));\n    return request;\n  }\n  async sign(toSign, options) {\n    if (typeof toSign === \"string\") {\n      return this.signString(toSign, options);\n    } else if (toSign.headers && toSign.payload) {\n      return this.signEvent(toSign, options);\n    } else if (toSign.message) {\n      return this.signMessage(toSign, options);\n    } else {\n      return this.signRequest(toSign, options);\n    }\n  }\n  async signEvent({\n    headers,\n    payload\n  }, {\n    signingDate = new Date(),\n    priorSignature,\n    signingRegion,\n    signingService\n  }) {\n    const region = signingRegion ?? (await this.regionProvider());\n    const {\n      shortDate,\n      longDate\n    } = formatDate(signingDate);\n    const scope = createScope(shortDate, region, signingService ?? this.service);\n    const hashedPayload = await getPayloadHash({\n      headers: {},\n      body: payload\n    }, this.sha256);\n    const hash = new this.sha256();\n    hash.update(headers);\n    const hashedHeaders = toHex(await hash.digest());\n    const stringToSign = [EVENT_ALGORITHM_IDENTIFIER, longDate, scope, priorSignature, hashedHeaders, hashedPayload].join(\"\\n\");\n    return this.signString(stringToSign, {\n      signingDate,\n      signingRegion: region,\n      signingService\n    });\n  }\n  async signMessage(signableMessage, {\n    signingDate = new Date(),\n    signingRegion,\n    signingService\n  }) {\n    const promise = this.signEvent({\n      headers: this.headerFormatter.format(signableMessage.message.headers),\n      payload: signableMessage.message.body\n    }, {\n      signingDate,\n      signingRegion,\n      signingService,\n      priorSignature: signableMessage.priorSignature\n    });\n    return promise.then(signature => {\n      return {\n        message: signableMessage.message,\n        signature\n      };\n    });\n  }\n  async signString(stringToSign, {\n    signingDate = new Date(),\n    signingRegion,\n    signingService\n  } = {}) {\n    const credentials = await this.credentialProvider();\n    this.validateResolvedCredentials(credentials);\n    const region = signingRegion ?? (await this.regionProvider());\n    const {\n      shortDate\n    } = formatDate(signingDate);\n    const hash = new this.sha256(await this.getSigningKey(credentials, region, shortDate, signingService));\n    hash.update(toUint8Array(stringToSign));\n    return toHex(await hash.digest());\n  }\n  async signRequest(requestToSign, {\n    signingDate = new Date(),\n    signableHeaders,\n    unsignableHeaders,\n    signingRegion,\n    signingService\n  } = {}) {\n    const credentials = await this.credentialProvider();\n    this.validateResolvedCredentials(credentials);\n    const region = signingRegion ?? (await this.regionProvider());\n    const request = prepareRequest(requestToSign);\n    const {\n      longDate,\n      shortDate\n    } = formatDate(signingDate);\n    const scope = createScope(shortDate, region, signingService ?? this.service);\n    request.headers[AMZ_DATE_HEADER] = longDate;\n    if (credentials.sessionToken) {\n      request.headers[TOKEN_HEADER] = credentials.sessionToken;\n    }\n    const payloadHash = await getPayloadHash(request, this.sha256);\n    if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n      request.headers[SHA256_HEADER] = payloadHash;\n    }\n    const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n    const signature = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash));\n    request.headers[AUTH_HEADER] = `${ALGORITHM_IDENTIFIER} ` + `Credential=${credentials.accessKeyId}/${scope}, ` + `SignedHeaders=${getCanonicalHeaderList(canonicalHeaders)}, ` + `Signature=${signature}`;\n    return request;\n  }\n  createCanonicalRequest(request, canonicalHeaders, payloadHash) {\n    const sortedHeaders = Object.keys(canonicalHeaders).sort();\n    return `${request.method}\n${this.getCanonicalPath(request)}\n${getCanonicalQuery(request)}\n${sortedHeaders.map(name => `${name}:${canonicalHeaders[name]}`).join(\"\\n\")}\n\n${sortedHeaders.join(\";\")}\n${payloadHash}`;\n  }\n  async createStringToSign(longDate, credentialScope, canonicalRequest) {\n    const hash = new this.sha256();\n    hash.update(toUint8Array(canonicalRequest));\n    const hashedRequest = await hash.digest();\n    return `${ALGORITHM_IDENTIFIER}\n${longDate}\n${credentialScope}\n${toHex(hashedRequest)}`;\n  }\n  getCanonicalPath({\n    path\n  }) {\n    if (this.uriEscapePath) {\n      const normalizedPathSegments = [];\n      for (const pathSegment of path.split(\"/\")) {\n        if (pathSegment?.length === 0) continue;\n        if (pathSegment === \".\") continue;\n        if (pathSegment === \"..\") {\n          normalizedPathSegments.pop();\n        } else {\n          normalizedPathSegments.push(pathSegment);\n        }\n      }\n      const normalizedPath = `${path?.startsWith(\"/\") ? \"/\" : \"\"}${normalizedPathSegments.join(\"/\")}${normalizedPathSegments.length > 0 && path?.endsWith(\"/\") ? \"/\" : \"\"}`;\n      const doubleEncoded = escapeUri(normalizedPath);\n      return doubleEncoded.replace(/%2F/g, \"/\");\n    }\n    return path;\n  }\n  async getSignature(longDate, credentialScope, keyPromise, canonicalRequest) {\n    const stringToSign = await this.createStringToSign(longDate, credentialScope, canonicalRequest);\n    const hash = new this.sha256(await keyPromise);\n    hash.update(toUint8Array(stringToSign));\n    return toHex(await hash.digest());\n  }\n  getSigningKey(credentials, region, shortDate, service) {\n    return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n  }\n  validateResolvedCredentials(credentials) {\n    if (typeof credentials !== \"object\" || typeof credentials.accessKeyId !== \"string\" || typeof credentials.secretAccessKey !== \"string\") {\n      throw new Error(\"Resolved credential object is not valid\");\n    }\n  }\n}\nconst formatDate = now => {\n  const longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n  return {\n    longDate,\n    shortDate: longDate.slice(0, 8)\n  };\n};\nconst getCanonicalHeaderList = headers => Object.keys(headers).sort().join(\";\");", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { toHex } from '@smithy/util-hex-encoding';\nimport { SignatureV4 } from '@smithy/signature-v4';\nimport { Sha256 } from '@aws-crypto/sha256-js';\nimport { HttpRequest } from '@smithy/protocol-http';\nvar SERVICE = 'rum';\nvar METHOD = 'POST';\nvar CONTENT_TYPE_JSON = 'application/json';\nvar CONTENT_TYPE_TEXT = 'text/plain;charset=UTF-8';\nvar REQUEST_PRESIGN_ARGS = {\n  expiresIn: 60\n};\nvar DataPlaneClient = /** @class */function () {\n  function DataPlaneClient(config) {\n    var _this = this;\n    this.sendFetch = function (putRumEventsRequest) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var options, request, httpResponse;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4 /*yield*/, this.getHttpRequestOptions(putRumEventsRequest, CONTENT_TYPE_JSON)];\n            case 1:\n              options = _a.sent();\n              request = new HttpRequest(options);\n              if (!this.awsSigV4) return [3 /*break*/, 3];\n              return [4 /*yield*/, this.awsSigV4.sign(request)];\n            case 2:\n              request = _a.sent();\n              _a.label = 3;\n            case 3:\n              httpResponse = this.config.fetchRequestHandler.handle(request);\n              return [2 /*return*/, httpResponse];\n          }\n        });\n      });\n    };\n    this.sendBeacon = function (putRumEventsRequest) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var options, request, httpResponse;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4 /*yield*/, this.getHttpRequestOptions(putRumEventsRequest, CONTENT_TYPE_TEXT)];\n            case 1:\n              options = _a.sent();\n              request = new HttpRequest(options);\n              if (!this.awsSigV4) return [3 /*break*/, 3];\n              return [4 /*yield*/, this.awsSigV4.presign(request, REQUEST_PRESIGN_ARGS)];\n            case 2:\n              request = _a.sent();\n              _a.label = 3;\n            case 3:\n              httpResponse = this.config.beaconRequestHandler.handle(request);\n              return [2 /*return*/, httpResponse];\n          }\n        });\n      });\n    };\n    this.getHttpRequestOptions = function (putRumEventsRequest, contentType) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var serializedRequest, path, options, _a, _b, _c;\n        var _d, _e;\n        return __generator(this, function (_f) {\n          switch (_f.label) {\n            case 0:\n              serializedRequest = JSON.stringify(serializeRequest(putRumEventsRequest));\n              path = this.config.endpoint.pathname.replace(/\\/$/, '');\n              options = {\n                method: METHOD,\n                protocol: this.config.endpoint.protocol,\n                port: Number(this.config.endpoint.port) || undefined,\n                headers: __assign({\n                  'content-type': contentType,\n                  host: this.config.endpoint.host\n                }, this.config.headers),\n                hostname: this.config.endpoint.hostname,\n                path: \"\".concat(path, \"/appmonitors/\").concat(putRumEventsRequest.AppMonitorDetails.id),\n                body: serializedRequest\n              };\n              if (!this.awsSigV4) return [3 /*break*/, 2];\n              _a = [__assign({}, options)];\n              _d = {};\n              _b = [__assign({}, options.headers)];\n              _e = {};\n              _c = 'X-Amz-Content-Sha256';\n              return [4 /*yield*/, hashAndEncode(serializedRequest)];\n            case 1:\n              return [2 /*return*/, __assign.apply(void 0, _a.concat([(_d.headers = __assign.apply(void 0, _b.concat([(_e[_c] = _f.sent(), _e)])), _d)]))];\n            case 2:\n              return [2 /*return*/, options];\n          }\n        });\n      });\n    };\n    this.config = config;\n    if (config.credentials) {\n      this.awsSigV4 = new SignatureV4({\n        applyChecksum: true,\n        credentials: config.credentials,\n        region: config.region,\n        service: SERVICE,\n        uriEscapePath: true,\n        sha256: Sha256\n      });\n    }\n  }\n  return DataPlaneClient;\n}();\nexport { DataPlaneClient };\nvar serializeRequest = function (request) {\n  //  If we were using the AWS SDK client here then the serialization would be handled for us through a generated\n  //  serialization/deserialization library. However, since much of the generated code is unnecessary, we do the\n  //  serialization ourselves with this function.\n  var serializedRumEvents = [];\n  request.RumEvents.forEach(function (e) {\n    return serializedRumEvents.push(serializeEvent(e));\n  });\n  var serializedRequest = {\n    BatchId: request.BatchId,\n    AppMonitorDetails: request.AppMonitorDetails,\n    UserDetails: request.UserDetails,\n    RumEvents: serializedRumEvents\n  };\n  if (request.Alias) {\n    serializedRequest = __assign(__assign({}, serializedRequest), {\n      Alias: request.Alias\n    });\n  }\n  return serializedRequest;\n};\nvar serializeEvent = function (event) {\n  return {\n    id: event.id,\n    // Dates must be converted to timestamps before serialization.\n    timestamp: Math.round(event.timestamp.getTime() / 1000),\n    type: event.type,\n    metadata: event.metadata,\n    details: event.details\n  };\n};\nvar hashAndEncode = function (payload) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var sha256, _a;\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          sha256 = new Sha256();\n          sha256.update(payload);\n          _a = toHex;\n          return [4 /*yield*/, sha256.digest()];\n        case 1:\n          return [2 /*return*/, _a.apply(void 0, [_b.sent()]).toLowerCase()];\n      }\n    });\n  });\n};", "import { escapeUri } from \"@aws-sdk/util-uri-escape\";\nexport function buildQueryString(query) {\n  const parts = [];\n  for (let key of Object.keys(query).sort()) {\n    const value = query[key];\n    key = escapeUri(key);\n    if (Array.isArray(value)) {\n      for (let i = 0, iLen = value.length; i < iLen; i++) {\n        parts.push(`${key}=${escapeUri(value[i])}`);\n      }\n    } else {\n      let qsEntry = key;\n      if (value || typeof value === \"string\") {\n        qsEntry += `=${escapeUri(value)}`;\n      }\n      parts.push(qsEntry);\n    }\n  }\n  return parts.join(\"&\");\n}", "import { HttpResponse } from '@smithy/protocol-http';\nimport { buildQueryString } from '@aws-sdk/querystring-builder';\nvar BeaconHttpHandler = /** @class */function () {\n  function BeaconHttpHandler() {}\n  BeaconHttpHandler.prototype.handle = function (request) {\n    var queued = this.sendBeacon(request);\n    return new Promise(function (resolve, reject) {\n      if (queued) {\n        resolve({\n          response: new HttpResponse({\n            statusCode: 200\n          })\n        });\n      } else {\n        reject();\n      }\n    });\n  };\n  BeaconHttpHandler.prototype.updateHttpClientConfig = function (_key, _value) {\n    // No-op: Customize if needed\n  };\n  BeaconHttpHandler.prototype.httpHandlerConfigs = function () {\n    return {};\n  };\n  BeaconHttpHandler.prototype.sendBeacon = function (signedRequest) {\n    var path = signedRequest.path;\n    if (signedRequest.query) {\n      var queryString = buildQueryString(signedRequest.query);\n      if (queryString) {\n        path += \"?\".concat(queryString);\n      }\n    }\n    var port = signedRequest.port;\n    var url = \"\".concat(signedRequest.protocol, \"//\").concat(signedRequest.hostname).concat(port ? \":\".concat(port) : '').concat(path);\n    return navigator.sendBeacon(url, signedRequest.body);\n  };\n  return BeaconHttpHandler;\n}();\nexport { BeaconHttpHandler };", "export var requestTimeout = function (timeoutInMs) {\n  if (timeoutInMs === void 0) {\n    timeoutInMs = 0;\n  }\n  return new Promise(function (resolve, reject) {\n    if (timeoutInMs) {\n      setTimeout(function () {\n        var timeoutError = new Error(\"Request did not complete within \".concat(timeoutInMs, \" ms\"));\n        timeoutError.name = 'TimeoutError';\n        reject(timeoutError);\n      }, timeoutInMs);\n    }\n  });\n};", "import { HttpResponse } from '@smithy/protocol-http';\nimport { buildQueryString } from '@aws-sdk/querystring-builder';\nimport { requestTimeout } from './request-timeout';\nvar FetchHttpHandler = /** @class */function () {\n  function FetchHttpHandler(_a) {\n    var _b = _a === void 0 ? {} : _a,\n      fetchFunction = _b.fetchFunction,\n      requestTimeout = _b.requestTimeout;\n    this.requestTimeout = requestTimeout;\n    this.fetchFunction = fetchFunction;\n  }\n  FetchHttpHandler.prototype.destroy = function () {\n    // Do nothing. TLS and HTTP/2 connection pooling is handled by the browser.\n  };\n  FetchHttpHandler.prototype.handle = function (request, _a) {\n    var _b = _a === void 0 ? {} : _a,\n      abortSignal = _b.abortSignal;\n    var requestTimeoutInMs = this.requestTimeout;\n    // if the request was already aborted, prevent doing extra work\n    if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n      var abortError = new Error('Request aborted');\n      abortError.name = 'AbortError';\n      return Promise.reject(abortError);\n    }\n    var path = request.path;\n    if (request.query) {\n      var queryString = buildQueryString(request.query);\n      if (queryString) {\n        path += \"?\".concat(queryString);\n      }\n    }\n    var port = request.port,\n      method = request.method;\n    var url = \"\".concat(request.protocol, \"//\").concat(request.hostname).concat(port ? \":\".concat(port) : '').concat(path);\n    // Request constructor doesn't allow GET/HEAD request with body\n    // ref: https://github.com/whatwg/fetch/issues/551\n    var body = method === 'GET' || method === 'HEAD' ? undefined : request.body;\n    var requestOptions = {\n      body: body,\n      headers: new Headers(request.headers),\n      method: method\n    };\n    // some browsers support abort signal\n    if (typeof AbortController !== 'undefined') {\n      requestOptions.signal = abortSignal;\n    }\n    var fetchRequest = new Request(url, requestOptions);\n    var raceOfPromises = [this.fetchFunction.apply(window, [fetchRequest]).then(function (response) {\n      var fetchHeaders = response.headers;\n      var transformedHeaders = {};\n      for (var _i = 0, _a = fetchHeaders.entries(); _i < _a.length; _i++) {\n        var pair = _a[_i];\n        transformedHeaders[pair[0]] = pair[1];\n      }\n      var hasReadableStream = response.body !== undefined;\n      // Return the response with buffered body\n      if (!hasReadableStream) {\n        return response.blob().then(function (body) {\n          return {\n            response: new HttpResponse({\n              headers: transformedHeaders,\n              statusCode: response.status,\n              body: body\n            })\n          };\n        });\n      }\n      // Return the response with streaming body\n      return {\n        response: new HttpResponse({\n          headers: transformedHeaders,\n          statusCode: response.status,\n          body: response.body\n        })\n      };\n    }), requestTimeout(requestTimeoutInMs)];\n    if (abortSignal) {\n      raceOfPromises.push(new Promise(function (resolve, reject) {\n        abortSignal.onabort = function () {\n          var abortError = new Error('Request aborted');\n          abortError.name = 'AbortError';\n          reject(abortError);\n        };\n      }));\n    }\n    return Promise.race(raceOfPromises);\n  };\n  FetchHttpHandler.prototype.updateHttpClientConfig = function (_key, _value) {\n    // No-op: Customize if needed\n  };\n  FetchHttpHandler.prototype.httpHandlerConfigs = function () {\n    return {};\n  };\n  return FetchHttpHandler;\n}();\nexport { FetchHttpHandler };", "export var getRandomValues = function (holder) {\n  if (crypto) {\n    return crypto.getRandomValues(holder);\n  } else if (msCrypto) {\n    return msCrypto.getRandomValues(holder);\n  } else {\n    throw new Error('No crypto library found.');\n  }\n};", "import { getRandomValues } from '../../utils/random';\n// All one-byte hex strings from 0x00 to 0xff.\nexport var byteToHex = [];\nfor (var i = 0; i < 256; i++) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\nexport var X_AMZN_TRACE_ID = 'X-Amzn-Trace-Id';\nexport var W3C_TRACEPARENT_HEADER_NAME = 'traceparent';\nexport var TRACEPARENT_VERSION_LENGTH = 2;\nexport var TRACEPARENT_TRACE_ID_LENGTH = 32;\nexport var TRACEPARENT_PARENT_ID_LENGTH = 16;\nexport var TRACEPARENT_NUMBER_OF_FIELDS = 4;\nexport var isTraceIdHeaderEnabled = function (url, addXrayTraceIdHeader) {\n  if (Array.isArray(addXrayTraceIdHeader)) {\n    return addXrayTraceIdHeader.some(function (matcher) {\n      return matcher.test(url);\n    });\n  }\n  return addXrayTraceIdHeader;\n};\nexport var defaultConfig = {\n  logicalServiceName: 'rum.aws.amazon.com',\n  urlsToInclude: [/.*/],\n  urlsToExclude: [\n  // Cognito endpoints https://docs.aws.amazon.com/general/latest/gr/cognito_identity.html\n  /cognito\\-identity\\.([^\\.]*\\.)?amazonaws\\.com/,\n  // STS endpoints https://docs.aws.amazon.com/general/latest/gr/sts.html\n  /sts\\.([^\\.]*\\.)?amazonaws\\.com/],\n  stackTraceLength: 200,\n  recordAllRequests: false,\n  addXRayTraceIdHeader: false\n};\nexport var is2xx = function (status) {\n  return 200 <= status && status < 300;\n};\nexport var is4xx = function (status) {\n  return Math.floor(status / 100) === 4;\n};\nexport var is5xx = function (status) {\n  return Math.floor(status / 100) === 5;\n};\nexport var is429 = function (status) {\n  return status === 429;\n};\nexport var isUrlAllowed = function (url, config) {\n  var include = config.urlsToInclude.some(function (urlPattern) {\n    return urlPattern.test(url);\n  });\n  var exclude = config.urlsToExclude.some(function (urlPattern) {\n    return urlPattern.test(url);\n  });\n  return include && !exclude;\n};\n/**\n * Returns the current time, in floating point seconds in epoch time, accurate to milliseconds.\n */\nexport var epochTime = function () {\n  return Date.now() / 1000;\n};\nexport var createXRayTraceEventHttp = function (input, init, traced) {\n  var http = {\n    request: {}\n  };\n  http.request.method = (init === null || init === void 0 ? void 0 : init.method) ? init.method : 'GET';\n  http.request.traced = traced;\n  http.request.url = resourceToUrlString(input);\n  return http;\n};\nexport var createXRayTraceEvent = function (name, startTime, w3cTraceId, http) {\n  var traceEvent = {\n    version: '1.0.0',\n    name: name,\n    origin: 'AWS::RUM::AppMonitor',\n    id: generateSegmentId(),\n    start_time: startTime,\n    trace_id: w3cTraceId ? generateW3CTraceId() : generateTraceId(),\n    end_time: undefined,\n    subsegments: [],\n    in_progress: false\n  };\n  if (http) {\n    traceEvent.http = http;\n  }\n  return traceEvent;\n};\nexport var createXRaySubsegment = function (name, startTime, http) {\n  var subsegment = {\n    id: generateSegmentId(),\n    name: name,\n    start_time: startTime,\n    end_time: undefined,\n    in_progress: false,\n    namespace: name.endsWith('amazonaws.com') ? 'aws' : 'remote'\n  };\n  if (http) {\n    subsegment.http = http;\n  }\n  return subsegment;\n};\nexport var requestInfoToHostname = function (request) {\n  try {\n    if (request.hostname) {\n      return request.hostname;\n    } else if (request.url) {\n      return new URL(request.url).hostname;\n    } else {\n      return new URL(request.toString()).hostname;\n    }\n  } catch (e) {\n    // The URL could not be parsed. This library's convention is to fail\n    // silently to limit the risk of impacting the application being\n    // monitored.  We will use the hostname of the current page instead.\n    return window.location.hostname;\n  }\n};\nexport var addAmznTraceIdHeaderToInit = function (init, traceId, segmentId, w3cTraceIdEnabled) {\n  if (!init.headers) {\n    init.headers = {};\n  }\n  if (w3cTraceIdEnabled) {\n    init.headers[W3C_TRACEPARENT_HEADER_NAME] = getW3CTraceIdHeaderValue(traceId, segmentId);\n  } else {\n    init.headers[X_AMZN_TRACE_ID] = getAmznTraceIdHeaderValue(traceId, segmentId);\n  }\n};\nexport var addAmznTraceIdHeaderToHeaders = function (headers, traceId, segmentId, w3cTraceIdEnabled) {\n  if (w3cTraceIdEnabled) {\n    headers.set(W3C_TRACEPARENT_HEADER_NAME, getW3CTraceIdHeaderValue(traceId, segmentId));\n  } else {\n    headers.set(X_AMZN_TRACE_ID, getAmznTraceIdHeaderValue(traceId, segmentId));\n  }\n};\nexport var getAmznTraceIdHeaderValue = function (traceId, segmentId) {\n  return 'Root=' + traceId + ';Parent=' + segmentId + ';Sampled=1';\n};\nexport var getW3CTraceIdHeaderValue = function (traceId, segmentId) {\n  return '00-' + traceId + '-' + segmentId + '-01';\n};\n/**\n * Check if the header is a valid w3c traceparent header.\n *\n * See https://www.w3.org/TR/trace-context/#traceparent-header-field-values\n *\n * @returns true if the header is a valid w3c traceparent header\n */\nexport var isValidW3CHeader = function (headerComponents) {\n  return (headerComponents === null || headerComponents === void 0 ? void 0 : headerComponents.length) === TRACEPARENT_NUMBER_OF_FIELDS && headerComponents[0].length === TRACEPARENT_VERSION_LENGTH && headerComponents[1].length === TRACEPARENT_TRACE_ID_LENGTH && headerComponents[2].length === TRACEPARENT_PARENT_ID_LENGTH && (headerComponents[3] === '00' || headerComponents[3] === '01');\n};\nexport var getTraceHeader = function (headers, w3cTraceIdEnabled) {\n  var _a, _b;\n  var traceHeader = {};\n  if (headers) {\n    if (w3cTraceIdEnabled) {\n      var headerComponents = (_a = headers.get(W3C_TRACEPARENT_HEADER_NAME)) === null || _a === void 0 ? void 0 : _a.split('-');\n      if (headerComponents && isValidW3CHeader(headerComponents)) {\n        traceHeader.traceId = headerComponents[1];\n        traceHeader.segmentId = headerComponents[2];\n      }\n    } else {\n      var headerComponents = (_b = headers.get(X_AMZN_TRACE_ID)) === null || _b === void 0 ? void 0 : _b.split(';');\n      if ((headerComponents === null || headerComponents === void 0 ? void 0 : headerComponents.length) === 3) {\n        traceHeader.traceId = headerComponents[0].split('Root=')[1];\n        traceHeader.segmentId = headerComponents[1].split('Parent=')[1];\n      }\n    }\n  }\n  return traceHeader;\n};\n/**\n * Extracts an URL string from the fetch resource parameter.\n */\nexport var resourceToUrlString = function (resource) {\n  return resource.url ? resource.url : resource.toString();\n};\n/**\n * Generate a globally unique trace ID.\n *\n * See https://docs.aws.amazon.com/xray/latest/devguide/xray-api-sendingdata.html\n *\n * @returns a trace id with the form '1-[unix epoch time in 8 hex digits]-[random in 24 hex digits]'\n */\nvar generateTraceId = function () {\n  return \"1-\".concat(hexTime(), \"-\").concat(guid());\n};\n/**\n * Generate a globally unique trace ID in w3c format.\n *\n * See https://www.w3.org/TR/trace-context/#trace-id\n *\n * @returns a trace id with the form '[random in 32 hex digits]'\n */\nvar generateW3CTraceId = function () {\n  var randomBytes = new Uint8Array(16);\n  getRandomValues(randomBytes);\n  return \"\".concat(uint8ArrayToHexString(randomBytes));\n};\n/**\n * Generate a segment ID that is unique within a trace.\n *\n * See https://docs.aws.amazon.com/xray/latest/devguide/xray-api-sendingdata.html\n *\n * @returns a segment id, which is 16 random hex digits\n */\nvar generateSegmentId = function () {\n  var randomBytes = new Uint8Array(8);\n  getRandomValues(randomBytes);\n  return uint8ArrayToHexString(randomBytes);\n};\nvar hexTime = function () {\n  return Math.floor(Date.now() / 1000).toString(16);\n};\nvar guid = function () {\n  var randomBytes = new Uint8Array(12);\n  getRandomValues(randomBytes);\n  return uint8ArrayToHexString(randomBytes);\n};\nvar uint8ArrayToHexString = function (bytes) {\n  var hexString = '';\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (var i = 0; i < bytes.length; i++) {\n    hexString += byteToHex[bytes[i]];\n  }\n  return hexString;\n};", "var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { is2xx, is429, is5xx } from '../plugins/utils/http-utils';\n/**\n * An HttpHandler which wraps other HttpHandlers to retry requests.\n *\n * Requests will be retried if (1) there is an error (e.g., with the network or\n * credentials) and the promise rejects, or (2) the response status is not 2xx.\n */\nvar RetryHttpHandler = /** @class */function () {\n  function RetryHttpHandler(handler, retries, backoff) {\n    if (backoff === void 0) {\n      backoff = function (n) {\n        return 2000 * Math.pow(2, n - 1);\n      };\n    }\n    this.handler = handler;\n    this.retries = retries;\n    this.backoff = backoff;\n  }\n  RetryHttpHandler.prototype.handle = function (request) {\n    return __awaiter(this, void 0, void 0, function () {\n      var retriesLeft, response, e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            retriesLeft = this.retries;\n            _a.label = 1;\n          case 1:\n            if (!true) return [3 /*break*/, 7];\n            _a.label = 2;\n          case 2:\n            _a.trys.push([2, 4,, 6]);\n            return [4 /*yield*/, this.handler.handle(request)];\n          case 3:\n            response = _a.sent();\n            if (is2xx(response.response.statusCode)) {\n              return [2 /*return*/, response];\n            }\n            throw response.response.statusCode;\n          case 4:\n            e_1 = _a.sent();\n            if (typeof e_1 === 'number' && !is429(e_1) && !is5xx(e_1)) {\n              // Fail immediately on client errors because they will never succeed.\n              // Only retry when request is throttled (429) or received server error (5xx).\n              throw new Error(\"\".concat(e_1));\n            }\n            if (retriesLeft <= 0) {\n              throw e_1;\n            }\n            retriesLeft--;\n            return [4 /*yield*/, this.sleep(this.backoff(this.retries - retriesLeft))];\n          case 5:\n            _a.sent();\n            return [3 /*break*/, 6];\n          case 6:\n            return [3 /*break*/, 1];\n          case 7:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  RetryHttpHandler.prototype.sleep = function (milliseconds) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, new Promise(function (resolve) {\n          return setTimeout(resolve, milliseconds);\n        })];\n      });\n    });\n  };\n  RetryHttpHandler.prototype.updateHttpClientConfig = function (_key, _value) {\n    // No-op: Customize if needed\n  };\n  RetryHttpHandler.prototype.httpHandlerConfigs = function () {\n    return {};\n  };\n  return RetryHttpHandler;\n}();\nexport { RetryHttpHandler };", "var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { DataPlaneClient } from './DataPlaneClient';\nimport { BeaconHttpHandler } from './BeaconHttpHandler';\nimport { FetchHttpHandler } from './FetchHttpHandler';\nimport { v4 } from 'uuid';\nimport { RetryHttpHandler } from './RetryHttpHandler';\nvar NO_CRED_MSG = 'CWR: Cannot dispatch; no AWS credentials.';\nvar Dispatch = /** @class */function () {\n  function Dispatch(region, endpoint, eventCache, config) {\n    var _this = this;\n    this.disableCodes = ['403', '404'];\n    /**\n     * Send meta data and events to the AWS RUM data plane service via fetch.\n     */\n    this.dispatchFetch = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          if (this.doRequest()) {\n            return [2 /*return*/, this.rum.sendFetch(this.createRequest()).catch(this.handleReject)];\n          }\n          return [2 /*return*/];\n        });\n      });\n    };\n    /**\n     * Send meta data and events to the AWS RUM data plane service via beacon.\n     */\n    this.dispatchBeacon = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var request_1;\n        var _this = this;\n        return __generator(this, function (_a) {\n          if (this.doRequest()) {\n            request_1 = this.createRequest();\n            return [2 /*return*/, this.rum.sendBeacon(request_1).catch(function () {\n              return _this.rum.sendFetch(request_1);\n            })];\n          }\n          return [2 /*return*/];\n        });\n      });\n    };\n    /**\n     * Send meta data and events to the AWS RUM data plane service via fetch.\n     *\n     * Returns undefined on failure.\n     */\n    this.dispatchFetchFailSilent = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          return [2 /*return*/, this.dispatchFetch().catch(function () {})];\n        });\n      });\n    };\n    /**\n     * Send meta data and events to the AWS RUM data plane service via beacon.\n     *\n     * Returns undefined on failure.\n     */\n    this.dispatchBeaconFailSilent = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          return [2 /*return*/, this.dispatchBeacon().catch(function () {})];\n        });\n      });\n    };\n    this.flushSync = function () {\n      var _a;\n      if (document.visibilityState === 'hidden') {\n        if (_this.doRequest(true)) {\n          var flush = _this.rum.sendBeacon;\n          var backup_1 = _this.rum.sendFetch;\n          if (!_this.config.useBeacon) {\n            _a = [backup_1, flush], flush = _a[0], backup_1 = _a[1];\n          }\n          var req_1 = _this.createRequest(true);\n          flush(req_1).catch(function () {\n            return backup_1(req_1);\n          }).catch(function () {\n            // fail silent\n          });\n        }\n      }\n    };\n    this.handleReject = function (e) {\n      if (e instanceof Error && _this.disableCodes.includes(e.message)) {\n        // RUM disables only when dispatch fails and we are certain\n        // that subsequent attempts will not succeed, such as when\n        // credentials are invalid or the app monitor does not exist.\n        _this.disable();\n      }\n      throw e;\n    };\n    /**\n     * The default method for creating data plane service clients.\n     *\n     * @param endpoint Service endpoint.\n     * @param region  Service region.\n     * @param credentials AWS credentials.\n     */\n    this.defaultClientBuilder = function (endpoint, region, credentials) {\n      return new DataPlaneClient({\n        fetchRequestHandler: new RetryHttpHandler(new FetchHttpHandler({\n          fetchFunction: _this.config.fetchFunction\n        }), _this.config.retries),\n        beaconRequestHandler: new BeaconHttpHandler(),\n        endpoint: endpoint,\n        region: region,\n        credentials: credentials,\n        headers: _this.headers\n      });\n    };\n    this.region = region;\n    this.endpoint = endpoint;\n    this.eventCache = eventCache;\n    this.enabled = true;\n    this.buildClient = config.clientBuilder || this.defaultClientBuilder;\n    this.config = config;\n    this.headers = config.headers;\n    this.startDispatchTimer();\n    if (config.signing) {\n      this.rum = {\n        sendFetch: function () {\n          return Promise.reject(new Error(NO_CRED_MSG));\n        },\n        sendBeacon: function () {\n          return Promise.reject(new Error(NO_CRED_MSG));\n        }\n      };\n    } else {\n      this.rum = this.buildClient(this.endpoint, this.region, undefined);\n    }\n  }\n  /**\n   * Dispatch will send requests to data plane.\n   */\n  Dispatch.prototype.enable = function () {\n    this.enabled = true;\n    this.startDispatchTimer();\n  };\n  /**\n   * Dispatch will not send requests to data plane.\n   */\n  Dispatch.prototype.disable = function () {\n    this.stopDispatchTimer();\n    this.enabled = false;\n  };\n  /**\n   * Set the authentication token that will be used to authenticate with the\n   * data plane service (AWS auth).\n   *\n   * @param credentials A set of AWS credentials from the application's authflow.\n   */\n  Dispatch.prototype.setAwsCredentials = function (credentialProvider) {\n    this.rum = this.buildClient(this.endpoint, this.region, credentialProvider);\n    if (typeof credentialProvider === 'function') {\n      // In case a beacon in the first dispatch, we must pre-fetch credentials into a cookie so there is no delay\n      // to fetch credentials while the page is closing.\n      credentialProvider();\n    }\n  };\n  /**\n   * Automatically dispatch cached events.\n   */\n  Dispatch.prototype.startDispatchTimer = function () {\n    document.addEventListener('visibilitychange',\n    // The page is moving to the hidden state, which means it may be\n    // unloaded. The sendBeacon API would typically be used in this\n    // case. However, ad-blockers prevent sendBeacon from functioning.\n    // We therefore have two bad options:\n    //\n    // (1) Use sendBeacon. Data will be lost when ad blockers are\n    //     used and the page loses visibility\n    // (2) Use fetch. Data will be lost when the page is unloaded\n    //     before fetch completes\n    //\n    // A third option is to send both, however this would increase\n    // bandwitch and require deduping server side.\n    this.flushSync);\n    // Using 'pagehide' is redundant most of the time (visibilitychange is\n    // always fired before pagehide) but older browsers may support\n    // 'pagehide' but not 'visibilitychange'.\n    document.addEventListener('pagehide', this.flushSync);\n    if (this.config.dispatchInterval <= 0 || this.dispatchTimerId) {\n      return;\n    }\n    this.dispatchTimerId = window.setInterval(this.dispatchFetchFailSilent, this.config.dispatchInterval);\n  };\n  /**\n   * Stop automatically dispatching cached events.\n   */\n  Dispatch.prototype.stopDispatchTimer = function () {\n    document.removeEventListener('visibilitychange', this.flushSync);\n    document.removeEventListener('pagehide', this.flushSync);\n    if (this.dispatchTimerId) {\n      window.clearInterval(this.dispatchTimerId);\n      this.dispatchTimerId = undefined;\n    }\n  };\n  Dispatch.prototype.doRequest = function (flushCandidates) {\n    if (flushCandidates === void 0) {\n      flushCandidates = false;\n    }\n    if (!this.enabled) {\n      return false;\n    }\n    if (flushCandidates && this.eventCache.hasCandidates()) {\n      return true;\n    }\n    return this.eventCache.hasEvents();\n  };\n  Dispatch.prototype.createRequest = function (flushCandidates) {\n    if (flushCandidates === void 0) {\n      flushCandidates = false;\n    }\n    return {\n      BatchId: v4(),\n      AppMonitorDetails: this.eventCache.getAppMonitorDetails(),\n      UserDetails: this.eventCache.getUserDetails(),\n      RumEvents: this.eventCache.getEventBatch(flushCandidates),\n      Alias: this.config.alias\n    };\n  };\n  return Dispatch;\n}();\nexport { Dispatch };", "export var ResourceType = /*#__PURE__*/function (ResourceType) {\n  ResourceType[\"OTHER\"] = \"other\";\n  ResourceType[\"STYLESHEET\"] = \"stylesheet\";\n  ResourceType[\"DOCUMENT\"] = \"document\";\n  ResourceType[\"SCRIPT\"] = \"script\";\n  ResourceType[\"IMAGE\"] = \"image\";\n  ResourceType[\"FONT\"] = \"font\";\n  return ResourceType;\n}(ResourceType || {});\n/**\n * https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/initiatorType\n */\nexport var InitiatorType = /*#__PURE__*/function (InitiatorType) {\n  /**\n   * IMAGES\n   * PerformanceResourceTiming with initiatorType=Input must be an image\n   * Per MDN docs: \"if the request was initiated by an <input> element of type image.\"\"\n   */\n  InitiatorType[\"IMG\"] = \"img\";\n  InitiatorType[\"IMAGE\"] = \"image\";\n  InitiatorType[\"INPUT\"] = \"input\";\n  /**\n   * DOCUMENTS\n   */\n  InitiatorType[\"IFRAME\"] = \"iframe\";\n  InitiatorType[\"FRAME\"] = \"frame\";\n  /**\n   * SCRIPTS\n   */\n  InitiatorType[\"SCRIPT\"] = \"script\";\n  /**\n   * STYLESHEETS\n   */\n  InitiatorType[\"CSS\"] = \"css\";\n  return InitiatorType;\n}(InitiatorType || {});\n/**\n * Creates key to link a RumEvent to the PerformanceEntry that it is sourced from\n * e.g. performanceKey(ResourceEvent) === performanceKey(PerformanceResourceTiming).\n * There is some worry of collision when startTime or duration are zero, such as when\n * resources are cached. But timestamps have not been observed to be zero in these cases.\n */\nexport var performanceKey = function (details) {\n  return [details.startTime, details.duration].join('#');\n};\nvar extensions = [{\n  name: ResourceType.STYLESHEET,\n  list: ['css', 'less']\n}, {\n  name: ResourceType.DOCUMENT,\n  list: ['htm', 'html', 'ts', 'doc', 'docx', 'pdf', 'xls', 'xlsx']\n}, {\n  name: ResourceType.SCRIPT,\n  list: ['js']\n}, {\n  name: ResourceType.IMAGE,\n  list: ['ai', 'bmp', 'gif', 'ico', 'jpeg', 'jpg', 'png', 'ps', 'psd', 'svg', 'tif', 'tiff']\n}, {\n  name: ResourceType.FONT,\n  list: ['fnt', 'fon', 'otf', 'ttf', 'woff']\n}];\nexport var shuffle = function (a) {\n  for (var i = a.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var v = a[i];\n    a[i] = a[j];\n    a[j] = v;\n  }\n};\nexport var getResourceFileType = function (url, initiatorType) {\n  var ext = ResourceType.OTHER;\n  if (url) {\n    var filename = url.substring(url.lastIndexOf('/') + 1);\n    var extension_1 = filename.substring(filename.lastIndexOf('.') + 1).split(/[?#]/)[0];\n    extensions.forEach(function (type) {\n      if (type.list.indexOf(extension_1) > -1) {\n        ext = type.name;\n      }\n    });\n  }\n  /**\n   * Resource name sometimes does not have the correct file extension names due to redirects.\n   * In these cases, they are mislablled as \"other\". In these cases, we can infer the correct\n   * fileType from the initiator.\n   */\n  if (initiatorType && ext === ResourceType.OTHER) {\n    switch (initiatorType) {\n      case InitiatorType.IMAGE:\n      case InitiatorType.IMG:\n      case InitiatorType.INPUT:\n        ext = ResourceType.IMAGE;\n        break;\n      case InitiatorType.IFRAME:\n      case InitiatorType.FRAME:\n        ext = ResourceType.DOCUMENT;\n        break;\n      case InitiatorType.SCRIPT:\n        ext = ResourceType.SCRIPT;\n        break;\n      case InitiatorType.CSS:\n        ext = ResourceType.STYLESHEET;\n        break;\n    }\n  }\n  return ext;\n};\n/* Helpers */\nexport var httpStatusText = {\n  '0': 'Abort Request',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '306': 'Unused',\n  '307': 'Temporary Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Required',\n  '413': 'Request Entry Too Large',\n  '414': 'Request-URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Requested Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': 'I\"m a teapot',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported'\n};\n/** Checks at runtime if the web vitals package will record LCP\n * If PerformanceAPI ever changes this API, or if WebVitals package implements a polyfill,\n * then this needs to be updated\n *\n * Reference code from web vitals package:\n * https://github.com/GoogleChrome/web-vitals/blob/main/src/lib/observe.ts#L46\n * Discussion for context:\n * https://github.com/aws-observability/aws-rum-web/pull/448#issuecomment-1734314463\n */\nexport var isLCPSupported = function () {\n  return PerformanceObserver.supportedEntryTypes.includes('largest-contentful-paint');\n};\nexport var isFCPSupported = function () {\n  return PerformanceObserver.supportedEntryTypes.includes('paint');\n};\nexport var isLongTaskSupported = function () {\n  return PerformanceObserver.supportedEntryTypes.includes('longtask');\n};\n/** PutRumEvents regex pattern */\nvar putRumEventsPattern = /.*\\/application\\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\/events/;\nexport var isPutRumEventsCall = function (url, endpointHost) {\n  try {\n    return new URL(url).hostname === endpointHost && putRumEventsPattern.test(url);\n  } catch (_) {\n    // Ignore invalid URLs\n    return false;\n  }\n};", "import { ResourceType } from '../../utils/common-utils';\nexport var defaultIgnore = function (entry) {\n  return entry.entryType === 'resource' && (!/^https?:/.test(entry.name) || /^(fetch|xmlhttprequest)$/.test(entry.initiatorType));\n};\nexport var defaultPerformancePluginConfig = {\n  eventLimit: 10,\n  ignore: defaultIgnore,\n  recordAllTypes: [ResourceType.DOCUMENT, ResourceType.SCRIPT, ResourceType.STYLESHEET, ResourceType.FONT],\n  sampleTypes: [ResourceType.IMAGE, ResourceType.OTHER],\n  reportAllLCP: false,\n  reportAllCLS: false,\n  reportAllINP: false\n};", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { InternalPlugin } from '../InternalPlugin';\nimport { PERFORMANCE_NAVIGATION_EVENT_TYPE } from '../utils/constant';\nimport { defaultPerformancePluginConfig } from '../utils/performance-utils';\nexport var NAVIGATION_EVENT_PLUGIN_ID = 'navigation';\nvar NAVIGATION = 'navigation';\nvar LOAD = 'load';\n/**\n * This plugin records performance timing events generated during every page load/re-load activity.\n * Paint, resource and performance event types make sense only if all or none are included.\n * For RUM, these event types are inter-dependent. So they are recorded under one plugin.\n */\nvar NavigationPlugin = /** @class */function (_super) {\n  __extends(NavigationPlugin, _super);\n  function NavigationPlugin(config) {\n    var _this = _super.call(this, NAVIGATION_EVENT_PLUGIN_ID) || this;\n    /**\n     * Use Navigation timing Level 1 for all browsers by default -\n     * https://developer.mozilla.org/en-US/docs/Web/API/Performance/timing\n     *\n     * If browser provides support, use Navigation Timing Level 2 specification -\n     * https://developer.mozilla.org/en-US/docs/Web/API/PerformanceNavigationTiming\n     *\n     * Only the current document resource is included in the performance timeline;\n     * there is only one PerformanceNavigationTiming object in the performance timeline.\n     * https://www.w3.org/TR/navigation-timing-2/\n     */\n    _this.eventListener = function () {\n      if (performance.getEntriesByType(NAVIGATION).length === 0) {\n        _this.performanceNavigationEventHandlerTimingLevel1();\n      } else {\n        var navigationObserver = new PerformanceObserver(function (list) {\n          list.getEntries().filter(function (e) {\n            return e.entryType === NAVIGATION;\n          }).filter(function (e) {\n            return !_this.config.ignore(e);\n          }).forEach(function (event) {\n            _this.performanceNavigationEventHandlerTimingLevel2(event);\n          });\n        });\n        navigationObserver.observe({\n          entryTypes: [NAVIGATION]\n        });\n      }\n    };\n    /**\n     * W3C specification: https://www.w3.org/TR/navigation-timing/#sec-navigation-timing-interface\n     */\n    _this.performanceNavigationEventHandlerTimingLevel1 = function () {\n      var recordNavigation = function () {\n        var _a;\n        var entryData = performance.timing;\n        var origin = entryData.navigationStart;\n        var eventDataNavigationTimingLevel1 = {\n          version: '1.0.0',\n          initiatorType: 'navigation',\n          startTime: 0,\n          unloadEventStart: entryData.unloadEventStart > 0 ? entryData.unloadEventStart - origin : 0,\n          promptForUnload: entryData.unloadEventEnd - entryData.unloadEventStart,\n          redirectStart: entryData.redirectStart > 0 ? entryData.redirectStart - origin : 0,\n          redirectTime: entryData.redirectEnd - entryData.redirectStart,\n          fetchStart: entryData.fetchStart > 0 ? entryData.fetchStart - origin : 0,\n          domainLookupStart: entryData.domainLookupStart > 0 ? entryData.domainLookupStart - origin : 0,\n          dns: entryData.domainLookupEnd - entryData.domainLookupStart,\n          connectStart: entryData.connectStart > 0 ? entryData.connectStart - origin : 0,\n          connect: entryData.connectEnd - entryData.connectStart,\n          secureConnectionStart: entryData.secureConnectionStart > 0 ? entryData.secureConnectionStart - origin : 0,\n          tlsTime: entryData.secureConnectionStart > 0 ? entryData.connectEnd - entryData.secureConnectionStart : 0,\n          requestStart: entryData.requestStart > 0 ? entryData.requestStart - origin : 0,\n          timeToFirstByte: entryData.responseStart - entryData.requestStart,\n          responseStart: entryData.responseStart > 0 ? entryData.responseStart - origin : 0,\n          responseTime: entryData.responseStart > 0 ? entryData.responseEnd - entryData.responseStart : 0,\n          domInteractive: entryData.domInteractive > 0 ? entryData.domInteractive - origin : 0,\n          domContentLoadedEventStart: entryData.domContentLoadedEventStart > 0 ? entryData.domContentLoadedEventStart - origin : 0,\n          domContentLoaded: entryData.domContentLoadedEventEnd - entryData.domContentLoadedEventStart,\n          domComplete: entryData.domComplete > 0 ? entryData.domComplete - origin : 0,\n          domProcessingTime: entryData.loadEventStart - entryData.responseEnd,\n          loadEventStart: entryData.loadEventStart > 0 ? entryData.loadEventStart - origin : 0,\n          loadEventTime: entryData.loadEventEnd - entryData.loadEventStart,\n          duration: entryData.loadEventEnd - entryData.navigationStart,\n          navigationTimingLevel: 1\n        };\n        if ((_a = _this.context) === null || _a === void 0 ? void 0 : _a.record) {\n          _this.context.record(PERFORMANCE_NAVIGATION_EVENT_TYPE, eventDataNavigationTimingLevel1);\n        }\n      };\n      // Timeout is required for loadEventEnd to complete\n      setTimeout(recordNavigation, 0);\n    };\n    /**\n     * W3C specification: https://www.w3.org/TR/navigation-timing-2/#bib-navigation-timing\n     */\n    _this.performanceNavigationEventHandlerTimingLevel2 = function (entryData) {\n      var _a;\n      var eventDataNavigationTimingLevel2 = {\n        version: '1.0.0',\n        initiatorType: entryData.initiatorType,\n        navigationType: entryData.type,\n        startTime: entryData.startTime,\n        unloadEventStart: entryData.unloadEventStart,\n        promptForUnload: entryData.unloadEventEnd - entryData.unloadEventStart,\n        redirectCount: entryData.redirectCount,\n        redirectStart: entryData.redirectStart,\n        redirectTime: entryData.redirectEnd - entryData.redirectStart,\n        workerStart: entryData.workerStart,\n        workerTime: entryData.workerStart > 0 ? entryData.fetchStart - entryData.workerStart : 0,\n        fetchStart: entryData.fetchStart,\n        domainLookupStart: entryData.domainLookupStart,\n        dns: entryData.domainLookupEnd - entryData.domainLookupStart,\n        nextHopProtocol: entryData.nextHopProtocol,\n        connectStart: entryData.connectStart,\n        connect: entryData.connectEnd - entryData.connectStart,\n        secureConnectionStart: entryData.secureConnectionStart,\n        tlsTime: entryData.secureConnectionStart > 0 ? entryData.connectEnd - entryData.secureConnectionStart : 0,\n        requestStart: entryData.requestStart,\n        timeToFirstByte: entryData.responseStart - entryData.requestStart,\n        responseStart: entryData.responseStart,\n        responseTime: entryData.responseStart > 0 ? entryData.responseEnd - entryData.responseStart : 0,\n        domInteractive: entryData.domInteractive,\n        domContentLoadedEventStart: entryData.domContentLoadedEventStart,\n        domContentLoaded: entryData.domContentLoadedEventEnd - entryData.domContentLoadedEventStart,\n        domComplete: entryData.domComplete,\n        domProcessingTime: entryData.loadEventStart - entryData.responseEnd,\n        loadEventStart: entryData.loadEventStart,\n        loadEventTime: entryData.loadEventEnd - entryData.loadEventStart,\n        duration: entryData.duration,\n        headerSize: entryData.transferSize > 0 ? entryData.transferSize - entryData.encodedBodySize : 0,\n        transferSize: entryData.transferSize,\n        compressionRatio: entryData.encodedBodySize > 0 ? entryData.decodedBodySize / entryData.encodedBodySize : 0,\n        navigationTimingLevel: 2\n      };\n      if ((_a = _this.context) === null || _a === void 0 ? void 0 : _a.record) {\n        _this.context.record(PERFORMANCE_NAVIGATION_EVENT_TYPE, eventDataNavigationTimingLevel2);\n      }\n    };\n    _this.config = __assign(__assign({}, defaultPerformancePluginConfig), config);\n    return _this;\n  }\n  NavigationPlugin.prototype.enable = function () {\n    if (this.enabled) {\n      return;\n    }\n    this.enabled = true;\n    window.addEventListener(LOAD, this.eventListener);\n  };\n  NavigationPlugin.prototype.disable = function () {\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    if (this.eventListener) {\n      window.removeEventListener(LOAD, this.eventListener);\n    }\n  };\n  /**\n   * Use the loadEventEnd field from window.performance to check if the website\n   * has loaded already.\n   *\n   * @returns boolean\n   */\n  NavigationPlugin.prototype.hasTheWindowLoadEventFired = function () {\n    if (window.performance && window.performance.getEntriesByType(NAVIGATION).length) {\n      var navData = window.performance.getEntriesByType(NAVIGATION)[0];\n      return Boolean(navData.loadEventEnd);\n    }\n    return false;\n  };\n  /**\n   * loadEventEnd is populated as 0 if the web page has not loaded completely, even though LOAD has been fired.\n   * As a result, if loadEventEnd is populated, we can ignore eventListener and record the data directly.\n   * On the other hand, if not, we have to use eventListener to initializes PerformanceObserver.\n   * PerformanceObserver will act as a second check for the final load timings.\n   */\n  NavigationPlugin.prototype.onload = function () {\n    var _this = this;\n    if (this.enabled) {\n      if (this.hasTheWindowLoadEventFired()) {\n        window.performance.getEntriesByType(NAVIGATION).filter(function (e) {\n          return !_this.config.ignore(e);\n        }).forEach(function (event) {\n          return _this.performanceNavigationEventHandlerTimingLevel2(event);\n        });\n      } else {\n        window.addEventListener(LOAD, this.eventListener);\n      }\n    }\n  };\n  return NavigationPlugin;\n}(InternalPlugin);\nexport { NavigationPlugin };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { InternalPlugin } from '../InternalPlugin';\nimport { getResourceFileType, isPutRumEventsCall, shuffle } from '../../utils/common-utils';\nimport { PERFORMANCE_RESOURCE_EVENT_TYPE } from '../utils/constant';\nimport { defaultPerformancePluginConfig } from '../utils/performance-utils';\nexport var RESOURCE_EVENT_PLUGIN_ID = 'resource';\nvar RESOURCE = 'resource';\n/**\n * This plugin records resource performance timing events generated during every page load/re-load.\n */\nvar ResourcePlugin = /** @class */function (_super) {\n  __extends(ResourcePlugin, _super);\n  function ResourcePlugin(config) {\n    var _this = _super.call(this, RESOURCE_EVENT_PLUGIN_ID) || this;\n    _this.performanceEntryHandler = function (list) {\n      _this.recordPerformanceEntries(list.getEntries());\n    };\n    _this.recordPerformanceEntries = function (list) {\n      var recordAll = [];\n      var sample = [];\n      list.filter(function (e) {\n        return e.entryType === RESOURCE;\n      }).filter(function (e) {\n        return !_this.config.ignore(e);\n      }).forEach(function (event) {\n        var _a = event,\n          name = _a.name,\n          initiatorType = _a.initiatorType;\n        var type = getResourceFileType(name, initiatorType);\n        if (_this.config.recordAllTypes.includes(type)) {\n          recordAll.push(event);\n        } else if (_this.config.sampleTypes.includes(type)) {\n          sample.push(event);\n        }\n      });\n      // Record all events for resources in recordAllTypes\n      recordAll.forEach(function (r) {\n        return _this.recordResourceEvent(r);\n      });\n      // Record events from resources in sample until we hit the resource limit\n      shuffle(sample);\n      while (sample.length > 0 && _this.eventCount < _this.config.eventLimit) {\n        _this.recordResourceEvent(sample.pop());\n        _this.eventCount++;\n      }\n    };\n    _this.recordResourceEvent = function (_a) {\n      var _b;\n      var name = _a.name,\n        startTime = _a.startTime,\n        initiatorType = _a.initiatorType,\n        duration = _a.duration,\n        transferSize = _a.transferSize;\n      if (isPutRumEventsCall(name, _this.context.config.endpointUrl.hostname)) {\n        // Ignore calls to PutRumEvents (i.e., the CloudWatch RUM data\n        // plane), otherwise we end up in an infinite loop of recording\n        // PutRumEvents.\n        return;\n      }\n      if ((_b = _this.context) === null || _b === void 0 ? void 0 : _b.record) {\n        var eventData = {\n          version: '1.0.0',\n          initiatorType: initiatorType,\n          startTime: startTime,\n          duration: duration,\n          fileType: getResourceFileType(name, initiatorType),\n          transferSize: transferSize\n        };\n        if (_this.context.config.recordResourceUrl) {\n          eventData.targetUrl = name;\n        }\n        _this.context.record(PERFORMANCE_RESOURCE_EVENT_TYPE, eventData);\n      }\n    };\n    _this.config = __assign(__assign({}, defaultPerformancePluginConfig), config);\n    _this.eventCount = 0;\n    _this.resourceObserver = new PerformanceObserver(_this.performanceEntryHandler);\n    return _this;\n  }\n  ResourcePlugin.prototype.enable = function () {\n    if (this.enabled) {\n      return;\n    }\n    this.enabled = true;\n    this.resourceObserver.observe({\n      type: RESOURCE,\n      buffered: true\n    });\n  };\n  ResourcePlugin.prototype.disable = function () {\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    this.resourceObserver.disconnect();\n  };\n  ResourcePlugin.prototype.onload = function () {\n    // We need to set `buffered: true`, so the observer also records past\n    // resource entries. However, there is a limited buffer size, so we may\n    // not be able to collect all resource entries.\n    this.resourceObserver.observe({\n      type: RESOURCE,\n      buffered: true\n    });\n  };\n  return ResourcePlugin;\n}(InternalPlugin);\nexport { ResourcePlugin };", "var t,\n  e,\n  n = function () {\n    var t = self.performance && performance.getEntriesByType && performance.getEntriesByType(\"navigation\")[0];\n    if (t && t.responseStart > 0 && t.responseStart < performance.now()) return t;\n  },\n  r = function (t) {\n    if (\"loading\" === document.readyState) return \"loading\";\n    var e = n();\n    if (e) {\n      if (t < e.domInteractive) return \"loading\";\n      if (0 === e.domContentLoadedEventStart || t < e.domContentLoadedEventStart) return \"dom-interactive\";\n      if (0 === e.domComplete || t < e.domComplete) return \"dom-content-loaded\";\n    }\n    return \"complete\";\n  },\n  i = function (t) {\n    var e = t.nodeName;\n    return 1 === t.nodeType ? e.toLowerCase() : e.toUpperCase().replace(/^#/, \"\");\n  },\n  a = function (t, e) {\n    var n = \"\";\n    try {\n      for (; t && 9 !== t.nodeType;) {\n        var r = t,\n          a = r.id ? \"#\" + r.id : i(r) + (r.classList && r.classList.value && r.classList.value.trim() && r.classList.value.trim().length ? \".\" + r.classList.value.trim().replace(/\\s+/g, \".\") : \"\");\n        if (n.length + a.length > (e || 100) - 1) return n || a;\n        if (n = n ? a + \">\" + n : a, r.id) break;\n        t = r.parentNode;\n      }\n    } catch (t) {}\n    return n;\n  },\n  o = -1,\n  c = function () {\n    return o;\n  },\n  u = function (t) {\n    addEventListener(\"pageshow\", function (e) {\n      e.persisted && (o = e.timeStamp, t(e));\n    }, !0);\n  },\n  s = function () {\n    var t = n();\n    return t && t.activationStart || 0;\n  },\n  f = function (t, e) {\n    var r = n(),\n      i = \"navigate\";\n    c() >= 0 ? i = \"back-forward-cache\" : r && (document.prerendering || s() > 0 ? i = \"prerender\" : document.wasDiscarded ? i = \"restore\" : r.type && (i = r.type.replace(/_/g, \"-\")));\n    return {\n      name: t,\n      value: void 0 === e ? -1 : e,\n      rating: \"good\",\n      delta: 0,\n      entries: [],\n      id: \"v4-\".concat(Date.now(), \"-\").concat(Math.floor(8999999999999 * Math.random()) + 1e12),\n      navigationType: i\n    };\n  },\n  d = function (t, e, n) {\n    try {\n      if (PerformanceObserver.supportedEntryTypes.includes(t)) {\n        var r = new PerformanceObserver(function (t) {\n          Promise.resolve().then(function () {\n            e(t.getEntries());\n          });\n        });\n        return r.observe(Object.assign({\n          type: t,\n          buffered: !0\n        }, n || {})), r;\n      }\n    } catch (t) {}\n  },\n  l = function (t, e, n, r) {\n    var i, a;\n    return function (o) {\n      e.value >= 0 && (o || r) && ((a = e.value - (i || 0)) || void 0 === i) && (i = e.value, e.delta = a, e.rating = function (t, e) {\n        return t > e[1] ? \"poor\" : t > e[0] ? \"needs-improvement\" : \"good\";\n      }(e.value, n), t(e));\n    };\n  },\n  m = function (t) {\n    requestAnimationFrame(function () {\n      return requestAnimationFrame(function () {\n        return t();\n      });\n    });\n  },\n  p = function (t) {\n    document.addEventListener(\"visibilitychange\", function () {\n      \"hidden\" === document.visibilityState && t();\n    });\n  },\n  v = function (t) {\n    var e = !1;\n    return function () {\n      e || (t(), e = !0);\n    };\n  },\n  g = -1,\n  h = function () {\n    return \"hidden\" !== document.visibilityState || document.prerendering ? 1 / 0 : 0;\n  },\n  T = function (t) {\n    \"hidden\" === document.visibilityState && g > -1 && (g = \"visibilitychange\" === t.type ? t.timeStamp : 0, E());\n  },\n  y = function () {\n    addEventListener(\"visibilitychange\", T, !0), addEventListener(\"prerenderingchange\", T, !0);\n  },\n  E = function () {\n    removeEventListener(\"visibilitychange\", T, !0), removeEventListener(\"prerenderingchange\", T, !0);\n  },\n  S = function () {\n    return g < 0 && (g = h(), y(), u(function () {\n      setTimeout(function () {\n        g = h(), y();\n      }, 0);\n    })), {\n      get firstHiddenTime() {\n        return g;\n      }\n    };\n  },\n  b = function (t) {\n    document.prerendering ? addEventListener(\"prerenderingchange\", function () {\n      return t();\n    }, !0) : t();\n  },\n  L = [1800, 3e3],\n  C = function (t, e) {\n    e = e || {}, b(function () {\n      var n,\n        r = S(),\n        i = f(\"FCP\"),\n        a = d(\"paint\", function (t) {\n          t.forEach(function (t) {\n            \"first-contentful-paint\" === t.name && (a.disconnect(), t.startTime < r.firstHiddenTime && (i.value = Math.max(t.startTime - s(), 0), i.entries.push(t), n(!0)));\n          });\n        });\n      a && (n = l(t, i, L, e.reportAllChanges), u(function (r) {\n        i = f(\"FCP\"), n = l(t, i, L, e.reportAllChanges), m(function () {\n          i.value = performance.now() - r.timeStamp, n(!0);\n        });\n      }));\n    });\n  },\n  M = [.1, .25],\n  D = function (t, e) {\n    !function (t, e) {\n      e = e || {}, C(v(function () {\n        var n,\n          r = f(\"CLS\", 0),\n          i = 0,\n          a = [],\n          o = function (t) {\n            t.forEach(function (t) {\n              if (!t.hadRecentInput) {\n                var e = a[0],\n                  n = a[a.length - 1];\n                i && t.startTime - n.startTime < 1e3 && t.startTime - e.startTime < 5e3 ? (i += t.value, a.push(t)) : (i = t.value, a = [t]);\n              }\n            }), i > r.value && (r.value = i, r.entries = a, n());\n          },\n          c = d(\"layout-shift\", o);\n        c && (n = l(t, r, M, e.reportAllChanges), p(function () {\n          o(c.takeRecords()), n(!0);\n        }), u(function () {\n          i = 0, r = f(\"CLS\", 0), n = l(t, r, M, e.reportAllChanges), m(function () {\n            return n();\n          });\n        }), setTimeout(n, 0));\n      }));\n    }(function (e) {\n      var n = function (t) {\n        var e,\n          n = {};\n        if (t.entries.length) {\n          var i = t.entries.reduce(function (t, e) {\n            return t && t.value > e.value ? t : e;\n          });\n          if (i && i.sources && i.sources.length) {\n            var o = (e = i.sources).find(function (t) {\n              return t.node && 1 === t.node.nodeType;\n            }) || e[0];\n            o && (n = {\n              largestShiftTarget: a(o.node),\n              largestShiftTime: i.startTime,\n              largestShiftValue: i.value,\n              largestShiftSource: o,\n              largestShiftEntry: i,\n              loadState: r(i.startTime)\n            });\n          }\n        }\n        return Object.assign(t, {\n          attribution: n\n        });\n      }(e);\n      t(n);\n    }, e);\n  },\n  w = function (t, e) {\n    C(function (e) {\n      var i = function (t) {\n        var e = {\n          timeToFirstByte: 0,\n          firstByteToFCP: t.value,\n          loadState: r(c())\n        };\n        if (t.entries.length) {\n          var i = n(),\n            a = t.entries[t.entries.length - 1];\n          if (i) {\n            var o = i.activationStart || 0,\n              u = Math.max(0, i.responseStart - o);\n            e = {\n              timeToFirstByte: u,\n              firstByteToFCP: t.value - u,\n              loadState: r(t.entries[0].startTime),\n              navigationEntry: i,\n              fcpEntry: a\n            };\n          }\n        }\n        return Object.assign(t, {\n          attribution: e\n        });\n      }(e);\n      t(i);\n    }, e);\n  },\n  x = 0,\n  I = 1 / 0,\n  k = 0,\n  A = function (t) {\n    t.forEach(function (t) {\n      t.interactionId && (I = Math.min(I, t.interactionId), k = Math.max(k, t.interactionId), x = k ? (k - I) / 7 + 1 : 0);\n    });\n  },\n  F = function () {\n    return t ? x : performance.interactionCount || 0;\n  },\n  P = function () {\n    \"interactionCount\" in performance || t || (t = d(\"event\", A, {\n      type: \"event\",\n      buffered: !0,\n      durationThreshold: 0\n    }));\n  },\n  B = [],\n  O = new Map(),\n  R = 0,\n  j = function () {\n    var t = Math.min(B.length - 1, Math.floor((F() - R) / 50));\n    return B[t];\n  },\n  q = [],\n  H = function (t) {\n    if (q.forEach(function (e) {\n      return e(t);\n    }), t.interactionId || \"first-input\" === t.entryType) {\n      var e = B[B.length - 1],\n        n = O.get(t.interactionId);\n      if (n || B.length < 10 || t.duration > e.latency) {\n        if (n) t.duration > n.latency ? (n.entries = [t], n.latency = t.duration) : t.duration === n.latency && t.startTime === n.entries[0].startTime && n.entries.push(t);else {\n          var r = {\n            id: t.interactionId,\n            latency: t.duration,\n            entries: [t]\n          };\n          O.set(r.id, r), B.push(r);\n        }\n        B.sort(function (t, e) {\n          return e.latency - t.latency;\n        }), B.length > 10 && B.splice(10).forEach(function (t) {\n          return O.delete(t.id);\n        });\n      }\n    }\n  },\n  N = function (t) {\n    var e = self.requestIdleCallback || self.setTimeout,\n      n = -1;\n    return t = v(t), \"hidden\" === document.visibilityState ? t() : (n = e(t), p(t)), n;\n  },\n  W = [200, 500],\n  z = function (t, e) {\n    \"PerformanceEventTiming\" in self && \"interactionId\" in PerformanceEventTiming.prototype && (e = e || {}, b(function () {\n      var n;\n      P();\n      var r,\n        i = f(\"INP\"),\n        a = function (t) {\n          N(function () {\n            t.forEach(H);\n            var e = j();\n            e && e.latency !== i.value && (i.value = e.latency, i.entries = e.entries, r());\n          });\n        },\n        o = d(\"event\", a, {\n          durationThreshold: null !== (n = e.durationThreshold) && void 0 !== n ? n : 40\n        });\n      r = l(t, i, W, e.reportAllChanges), o && (o.observe({\n        type: \"first-input\",\n        buffered: !0\n      }), p(function () {\n        a(o.takeRecords()), r(!0);\n      }), u(function () {\n        R = F(), B.length = 0, O.clear(), i = f(\"INP\"), r = l(t, i, W, e.reportAllChanges);\n      }));\n    }));\n  },\n  U = [],\n  V = [],\n  _ = 0,\n  G = new WeakMap(),\n  J = new Map(),\n  K = -1,\n  Q = function (t) {\n    U = U.concat(t), X();\n  },\n  X = function () {\n    K < 0 && (K = N(Y));\n  },\n  Y = function () {\n    J.size > 10 && J.forEach(function (t, e) {\n      O.has(e) || J.delete(e);\n    });\n    var t = B.map(function (t) {\n        return G.get(t.entries[0]);\n      }),\n      e = V.length - 50;\n    V = V.filter(function (n, r) {\n      return r >= e || t.includes(n);\n    });\n    for (var n = new Set(), r = 0; r < V.length; r++) {\n      var i = V[r];\n      nt(i.startTime, i.processingEnd).forEach(function (t) {\n        n.add(t);\n      });\n    }\n    var a = U.length - 1 - 50;\n    U = U.filter(function (t, e) {\n      return t.startTime > _ && e > a || n.has(t);\n    }), K = -1;\n  };\nq.push(function (t) {\n  t.interactionId && t.target && !J.has(t.interactionId) && J.set(t.interactionId, t.target);\n}, function (t) {\n  var e,\n    n = t.startTime + t.duration;\n  _ = Math.max(_, t.processingEnd);\n  for (var r = V.length - 1; r >= 0; r--) {\n    var i = V[r];\n    if (Math.abs(n - i.renderTime) <= 8) {\n      (e = i).startTime = Math.min(t.startTime, e.startTime), e.processingStart = Math.min(t.processingStart, e.processingStart), e.processingEnd = Math.max(t.processingEnd, e.processingEnd), e.entries.push(t);\n      break;\n    }\n  }\n  e || (e = {\n    startTime: t.startTime,\n    processingStart: t.processingStart,\n    processingEnd: t.processingEnd,\n    renderTime: n,\n    entries: [t]\n  }, V.push(e)), (t.interactionId || \"first-input\" === t.entryType) && G.set(t, e), X();\n});\nvar Z,\n  $,\n  tt,\n  et,\n  nt = function (t, e) {\n    for (var n, r = [], i = 0; n = U[i]; i++) if (!(n.startTime + n.duration < t)) {\n      if (n.startTime > e) break;\n      r.push(n);\n    }\n    return r;\n  },\n  rt = function (t, n) {\n    e || (e = d(\"long-animation-frame\", Q)), z(function (e) {\n      var n = function (t) {\n        var e = t.entries[0],\n          n = G.get(e),\n          i = e.processingStart,\n          o = n.processingEnd,\n          c = n.entries.sort(function (t, e) {\n            return t.processingStart - e.processingStart;\n          }),\n          u = nt(e.startTime, o),\n          s = t.entries.find(function (t) {\n            return t.target;\n          }),\n          f = s && s.target || J.get(e.interactionId),\n          d = [e.startTime + e.duration, o].concat(u.map(function (t) {\n            return t.startTime + t.duration;\n          })),\n          l = Math.max.apply(Math, d),\n          m = {\n            interactionTarget: a(f),\n            interactionTargetElement: f,\n            interactionType: e.name.startsWith(\"key\") ? \"keyboard\" : \"pointer\",\n            interactionTime: e.startTime,\n            nextPaintTime: l,\n            processedEventEntries: c,\n            longAnimationFrameEntries: u,\n            inputDelay: i - e.startTime,\n            processingDuration: o - i,\n            presentationDelay: Math.max(l - o, 0),\n            loadState: r(e.startTime)\n          };\n        return Object.assign(t, {\n          attribution: m\n        });\n      }(e);\n      t(n);\n    }, n);\n  },\n  it = [2500, 4e3],\n  at = {},\n  ot = function (t, e) {\n    !function (t, e) {\n      e = e || {}, b(function () {\n        var n,\n          r = S(),\n          i = f(\"LCP\"),\n          a = function (t) {\n            e.reportAllChanges || (t = t.slice(-1)), t.forEach(function (t) {\n              t.startTime < r.firstHiddenTime && (i.value = Math.max(t.startTime - s(), 0), i.entries = [t], n());\n            });\n          },\n          o = d(\"largest-contentful-paint\", a);\n        if (o) {\n          n = l(t, i, it, e.reportAllChanges);\n          var c = v(function () {\n            at[i.id] || (a(o.takeRecords()), o.disconnect(), at[i.id] = !0, n(!0));\n          });\n          [\"keydown\", \"click\"].forEach(function (t) {\n            addEventListener(t, function () {\n              return N(c);\n            }, {\n              once: !0,\n              capture: !0\n            });\n          }), p(c), u(function (r) {\n            i = f(\"LCP\"), n = l(t, i, it, e.reportAllChanges), m(function () {\n              i.value = performance.now() - r.timeStamp, at[i.id] = !0, n(!0);\n            });\n          });\n        }\n      });\n    }(function (e) {\n      var r = function (t) {\n        var e = {\n          timeToFirstByte: 0,\n          resourceLoadDelay: 0,\n          resourceLoadDuration: 0,\n          elementRenderDelay: t.value\n        };\n        if (t.entries.length) {\n          var r = n();\n          if (r) {\n            var i = r.activationStart || 0,\n              o = t.entries[t.entries.length - 1],\n              c = o.url && performance.getEntriesByType(\"resource\").filter(function (t) {\n                return t.name === o.url;\n              })[0],\n              u = Math.max(0, r.responseStart - i),\n              s = Math.max(u, c ? (c.requestStart || c.startTime) - i : 0),\n              f = Math.max(s, c ? c.responseEnd - i : 0),\n              d = Math.max(f, o.startTime - i);\n            e = {\n              element: a(o.element),\n              timeToFirstByte: u,\n              resourceLoadDelay: s - u,\n              resourceLoadDuration: f - s,\n              elementRenderDelay: d - f,\n              navigationEntry: r,\n              lcpEntry: o\n            }, o.url && (e.url = o.url), c && (e.lcpResourceEntry = c);\n          }\n        }\n        return Object.assign(t, {\n          attribution: e\n        });\n      }(e);\n      t(r);\n    }, e);\n  },\n  ct = [800, 1800],\n  ut = function t(e) {\n    document.prerendering ? b(function () {\n      return t(e);\n    }) : \"complete\" !== document.readyState ? addEventListener(\"load\", function () {\n      return t(e);\n    }, !0) : setTimeout(e, 0);\n  },\n  st = function (t, e) {\n    e = e || {};\n    var r = f(\"TTFB\"),\n      i = l(t, r, ct, e.reportAllChanges);\n    ut(function () {\n      var a = n();\n      a && (r.value = Math.max(a.responseStart - s(), 0), r.entries = [a], i(!0), u(function () {\n        r = f(\"TTFB\", 0), (i = l(t, r, ct, e.reportAllChanges))(!0);\n      }));\n    });\n  },\n  ft = function (t, e) {\n    st(function (e) {\n      var n = function (t) {\n        var e = {\n          waitingDuration: 0,\n          cacheDuration: 0,\n          dnsDuration: 0,\n          connectionDuration: 0,\n          requestDuration: 0\n        };\n        if (t.entries.length) {\n          var n = t.entries[0],\n            r = n.activationStart || 0,\n            i = Math.max((n.workerStart || n.fetchStart) - r, 0),\n            a = Math.max(n.domainLookupStart - r, 0),\n            o = Math.max(n.connectStart - r, 0),\n            c = Math.max(n.connectEnd - r, 0);\n          e = {\n            waitingDuration: i,\n            cacheDuration: a - i,\n            dnsDuration: o - a,\n            connectionDuration: c - o,\n            requestDuration: t.value - c,\n            navigationEntry: n\n          };\n        }\n        return Object.assign(t, {\n          attribution: e\n        });\n      }(e);\n      t(n);\n    }, e);\n  },\n  dt = {\n    passive: !0,\n    capture: !0\n  },\n  lt = new Date(),\n  mt = function (t, e) {\n    Z || (Z = e, $ = t, tt = new Date(), gt(removeEventListener), pt());\n  },\n  pt = function () {\n    if ($ >= 0 && $ < tt - lt) {\n      var t = {\n        entryType: \"first-input\",\n        name: Z.type,\n        target: Z.target,\n        cancelable: Z.cancelable,\n        startTime: Z.timeStamp,\n        processingStart: Z.timeStamp + $\n      };\n      et.forEach(function (e) {\n        e(t);\n      }), et = [];\n    }\n  },\n  vt = function (t) {\n    if (t.cancelable) {\n      var e = (t.timeStamp > 1e12 ? new Date() : performance.now()) - t.timeStamp;\n      \"pointerdown\" == t.type ? function (t, e) {\n        var n = function () {\n            mt(t, e), i();\n          },\n          r = function () {\n            i();\n          },\n          i = function () {\n            removeEventListener(\"pointerup\", n, dt), removeEventListener(\"pointercancel\", r, dt);\n          };\n        addEventListener(\"pointerup\", n, dt), addEventListener(\"pointercancel\", r, dt);\n      }(e, t) : mt(e, t);\n    }\n  },\n  gt = function (t) {\n    [\"mousedown\", \"keydown\", \"touchstart\", \"pointerdown\"].forEach(function (e) {\n      return t(e, vt, dt);\n    });\n  },\n  ht = [100, 300],\n  Tt = function (t, e) {\n    e = e || {}, b(function () {\n      var n,\n        r = S(),\n        i = f(\"FID\"),\n        a = function (t) {\n          t.startTime < r.firstHiddenTime && (i.value = t.processingStart - t.startTime, i.entries.push(t), n(!0));\n        },\n        o = function (t) {\n          t.forEach(a);\n        },\n        c = d(\"first-input\", o);\n      n = l(t, i, ht, e.reportAllChanges), c && (p(v(function () {\n        o(c.takeRecords()), c.disconnect();\n      })), u(function () {\n        var r;\n        i = f(\"FID\"), n = l(t, i, ht, e.reportAllChanges), et = [], $ = -1, Z = null, gt(addEventListener), r = a, et.push(r), pt();\n      }));\n    });\n  },\n  yt = function (t, e) {\n    Tt(function (e) {\n      var n = function (t) {\n        var e = t.entries[0],\n          n = {\n            eventTarget: a(e.target),\n            eventType: e.name,\n            eventTime: e.startTime,\n            eventEntry: e,\n            loadState: r(e.startTime)\n          };\n        return Object.assign(t, {\n          attribution: n\n        });\n      }(e);\n      t(n);\n    }, e);\n  };\nexport { M as CLSThresholds, L as FCPThresholds, ht as FIDThresholds, W as INPThresholds, it as LCPThresholds, ct as TTFBThresholds, D as onCLS, w as onFCP, yt as onFID, rt as onINP, ot as onLCP, ft as onTTFB };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { InternalPlugin } from '../InternalPlugin';\nimport { onCLS, onFID, onLCP, onINP } from 'web-vitals/attribution';\nimport { CLS_EVENT_TYPE, FID_EVENT_TYPE, INP_EVENT_TYPE, LCP_EVENT_TYPE, PERFORMANCE_NAVIGATION_EVENT_TYPE, PERFORMANCE_RESOURCE_EVENT_TYPE } from '../utils/constant';\nimport { Topic } from '../../event-bus/EventBus';\nimport { ResourceType, performanceKey, isLCPSupported } from '../../utils/common-utils';\nimport { defaultPerformancePluginConfig } from '../../plugins/utils/performance-utils';\nexport var WEB_VITAL_EVENT_PLUGIN_ID = 'web-vitals';\nvar WebVitalsPlugin = /** @class */function (_super) {\n  __extends(WebVitalsPlugin, _super);\n  function WebVitalsPlugin(config) {\n    var _this = _super.call(this, WEB_VITAL_EVENT_PLUGIN_ID) || this;\n    _this.resourceEventIds = new Map();\n    _this.cacheLCPCandidates = isLCPSupported();\n    _this.handleEvent = function (event) {\n      switch (event.type) {\n        // lcp resource is either image or text\n        case PERFORMANCE_RESOURCE_EVENT_TYPE:\n          var details = event.details;\n          if (_this.cacheLCPCandidates && details.fileType === ResourceType.IMAGE) {\n            _this.resourceEventIds.set(performanceKey(event.details), event.id);\n          }\n          break;\n        case PERFORMANCE_NAVIGATION_EVENT_TYPE:\n          _this.navigationEventId = event.id;\n          break;\n      }\n    };\n    _this.config = __assign(__assign({}, defaultPerformancePluginConfig), config);\n    return _this;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  WebVitalsPlugin.prototype.enable = function () {};\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  WebVitalsPlugin.prototype.disable = function () {};\n  WebVitalsPlugin.prototype.onload = function () {\n    var _this = this;\n    this.context.eventBus.subscribe(Topic.EVENT, this.handleEvent); // eslint-disable-line @typescript-eslint/unbound-method\n    onLCP(function (metric) {\n      return _this.handleLCP(metric);\n    }, {\n      reportAllChanges: this.config.reportAllLCP\n    });\n    onFID(function (metric) {\n      return _this.handleFID(metric);\n    });\n    onCLS(function (metric) {\n      return _this.handleCLS(metric);\n    }, {\n      reportAllChanges: true\n    });\n    onINP(function (metric) {\n      return _this.handleINP(metric);\n    }, {\n      reportAllChanges: true\n    });\n  };\n  WebVitalsPlugin.prototype.handleLCP = function (metric) {\n    var _a, _b;\n    var a = metric.attribution;\n    var attribution = {\n      element: a.element,\n      url: a.url,\n      timeToFirstByte: a.timeToFirstByte,\n      resourceLoadDelay: a.resourceLoadDelay,\n      /**\n       * `resourceLoadTime` was renamed to `resourceLoadDuration` in web-vitals 4.x\n       * This is a cosmetic change, and does not affect the underlying value.\n       * We can update the name to `resourceLoadDuration` in RUM's next major version.\n       * (See https://github.com/GoogleChrome/web-vitals/pull/450)\n       */\n      resourceLoadTime: a.resourceLoadDuration,\n      // See https://github.com/GoogleChrome/web-vitals/pull/450\n      elementRenderDelay: a.elementRenderDelay\n    };\n    if (a.lcpResourceEntry) {\n      var key = performanceKey(a.lcpResourceEntry);\n      attribution.lcpResourceEntry = this.resourceEventIds.get(key);\n    }\n    if (this.navigationEventId) {\n      attribution.navigationEntry = this.navigationEventId;\n    }\n    (_a = this.context) === null || _a === void 0 ? void 0 : _a.record(LCP_EVENT_TYPE, {\n      version: '1.0.0',\n      value: metric.value,\n      attribution: attribution\n    });\n    // teardown\n    (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventBus.unsubscribe(Topic.EVENT, this.handleEvent); // eslint-disable-line\n    this.resourceEventIds.clear();\n    this.navigationEventId = undefined;\n  };\n  WebVitalsPlugin.prototype.handleCLS = function (metric) {\n    var a = metric.attribution;\n    var _a = this.context,\n      record = _a.record,\n      recordCandidate = _a.recordCandidate;\n    (this.config.reportAllCLS ? record : recordCandidate)(CLS_EVENT_TYPE, {\n      version: '1.0.0',\n      value: metric.value,\n      attribution: {\n        largestShiftTarget: a.largestShiftTarget,\n        largestShiftValue: a.largestShiftValue,\n        largestShiftTime: a.largestShiftTime,\n        loadState: a.loadState\n      }\n    });\n  };\n  WebVitalsPlugin.prototype.handleFID = function (metric) {\n    var _a;\n    var a = metric.attribution;\n    (_a = this.context) === null || _a === void 0 ? void 0 : _a.record(FID_EVENT_TYPE, {\n      version: '1.0.0',\n      value: metric.value,\n      attribution: {\n        eventTarget: a.eventTarget,\n        eventType: a.eventType,\n        eventTime: a.eventTime,\n        loadState: a.loadState\n      }\n    });\n  };\n  WebVitalsPlugin.prototype.handleINP = function (metric) {\n    var a = metric.attribution;\n    var _a = this.context,\n      record = _a.record,\n      recordCandidate = _a.recordCandidate;\n    (this.config.reportAllINP ? record : recordCandidate)(INP_EVENT_TYPE, {\n      version: '1.0.0',\n      value: metric.value,\n      attribution: {\n        interactionTarget: a.interactionTarget,\n        interactionTime: a.interactionTime,\n        nextPaintTime: a.nextPaintTime,\n        interactionType: a.interactionType,\n        inputDelay: a.inputDelay,\n        processingDuration: a.processingDuration,\n        presentationDelay: a.presentationDelay,\n        loadState: a.loadState\n      }\n    });\n  };\n  return WebVitalsPlugin;\n}(InternalPlugin);\nexport { WebVitalsPlugin };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar XhrError = /** @class */function (_super) {\n  __extends(XhrError, _super);\n  function XhrError(message) {\n    var _this = _super.call(this, message) || this;\n    _this.name = 'XMLHttpRequest error';\n    return _this;\n  }\n  return XhrError;\n}(Error);\nexport { XhrError };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { MonkeyPatched } from '../MonkeyPatched';\nimport { defaultConfig, epochTime, createXRayTraceEvent, getAmznTraceIdHeaderValue, X_AMZN_TRACE_ID, W3C_TRACEPARENT_HEADER_NAME, getW3CTraceIdHeaderValue, isUrlAllowed, createXRaySubsegment, requestInfoToHostname, is429, is4xx, is5xx, isTraceIdHeaderEnabled } from '../utils/http-utils';\nimport { XhrError } from '../../errors/XhrError';\nimport { HTTP_EVENT_TYPE, XRAY_TRACE_EVENT_TYPE } from '../utils/constant';\nimport { errorEventToJsErrorEvent } from '../utils/js-error-utils';\nexport var XHR_PLUGIN_ID = 'xhr';\n/**\n * A plugin which initiates and records AWS X-Ray traces for XML HTTP requests (XMLHttpRequest).\n *\n * The XMLHttpRequest API is monkey patched using shimmer so all calls to XMLHttpRequest are intercepted. Only calls\n * to URLs which are on the allowlist and are not on the denylist are traced and recorded.\n *\n * The XHR events we use (i.e., onload, onerror, onabort, ontimeout) are only\n * supported by newer browsers. If we want to support older browsers we will\n * need to detect older browsers and use the onreadystatechange event.\n *\n * For example, the following sequence events occur for each case:\n *\n * Case 1: Request succeeds events\n * -------------------------------\n * readystatechange (state = 1, status = 0)\n * loadstart\n * readystatechange (state = 2, status = 200)\n * readystatechange (state = 3, status = 200)\n * readystatechange (state = 4, status = 200)\n * load\n * loadend\n *\n * Case 2: Request fails because of invalid domain or CORS failure\n * -------------------------------\n * readystatechange (state = 1, status = 0)\n * loadstart\n * readystatechange (state = 4, status = 0)\n * error\n * loadend\n *\n * Case 3: Request fails because of timeout\n * -------------------------------\n * readystatechange (state = 1, status = 0)\n * loadstart\n * readystatechange (state = 4, status = 0)\n * timeout\n * loadend\n *\n * Case 4: Request is aborted\n * -------------------------------\n * readystatechange (state = 1, status = 0)\n * loadstart\n * readystatechange (state = 2, status = 200)\n * readystatechange (state = 3, status = 200)\n * readystatechange (state = 4, status = 0)\n * abort\n * loadend\n *\n * See\n * - https://xhr.spec.whatwg.org/#event-handlers.\n * - https://xhr.spec.whatwg.org/#events\n */\nvar XhrPlugin = /** @class */function (_super) {\n  __extends(XhrPlugin, _super);\n  function XhrPlugin(config) {\n    var _this = _super.call(this, XHR_PLUGIN_ID) || this;\n    _this.addXRayTraceIdHeader = function (url) {\n      return isTraceIdHeaderEnabled(url, _this.config.addXRayTraceIdHeader);\n    };\n    _this.isTracingEnabled = function () {\n      return _this.context.config.enableXRay;\n    };\n    _this.isSessionRecorded = function () {\n      var _a;\n      return ((_a = _this.context.getSession()) === null || _a === void 0 ? void 0 : _a.record) || false;\n    };\n    _this.handleXhrLoadEvent = function (e) {\n      var xhr = e.target;\n      var xhrDetails = _this.xhrMap.get(xhr);\n      if (xhrDetails) {\n        var endTime = epochTime();\n        xhrDetails.trace.end_time = endTime;\n        xhrDetails.trace.subsegments[0].end_time = endTime;\n        xhrDetails.trace.subsegments[0].http.response = {\n          status: xhr.status\n        };\n        if (is429(xhr.status)) {\n          xhrDetails.trace.subsegments[0].throttle = true;\n          xhrDetails.trace.throttle = true;\n        } else if (is4xx(xhr.status)) {\n          xhrDetails.trace.subsegments[0].error = true;\n          xhrDetails.trace.error = true;\n        } else if (is5xx(xhr.status)) {\n          xhrDetails.trace.subsegments[0].fault = true;\n          xhrDetails.trace.fault = true;\n        }\n        var clStr = xhr.getResponseHeader('Content-Length');\n        var cl = clStr ? parseInt(clStr, 10) : NaN;\n        if (!isNaN(cl)) {\n          xhrDetails.trace.subsegments[0].http.response.content_length = cl;\n        }\n        _this.recordTraceEvent(xhrDetails.trace);\n        _this.recordHttpEventWithResponse(xhrDetails, xhr);\n      }\n    };\n    _this.handleXhrErrorEvent = function (e) {\n      var xhr = e.target;\n      var xhrDetails = _this.xhrMap.get(xhr);\n      var errorName = 'XMLHttpRequest error';\n      var errorMessage = xhr.statusText ? xhr.status.toString() + ': ' + xhr.statusText : xhr.status.toString();\n      if (xhrDetails) {\n        var endTime = epochTime();\n        // Guidance from X-Ray documentation:\n        // > Record errors in segments when your application returns an\n        // > error to the user, and in subsegments when a downstream call\n        // > returns an error.\n        xhrDetails.trace.fault = true;\n        xhrDetails.trace.end_time = endTime;\n        xhrDetails.trace.subsegments[0].end_time = endTime;\n        xhrDetails.trace.subsegments[0].fault = true;\n        xhrDetails.trace.subsegments[0].cause = {\n          exceptions: [{\n            type: errorName,\n            message: errorMessage\n          }]\n        };\n        _this.recordTraceEvent(xhrDetails.trace);\n        _this.recordHttpEventWithError(xhrDetails, xhr, new XhrError(errorMessage));\n      }\n    };\n    _this.handleXhrAbortEvent = function (e) {\n      var xhr = e.target;\n      var xhrDetails = _this.xhrMap.get(xhr);\n      if (xhrDetails) {\n        _this.handleXhrDetailsOnError(xhrDetails, xhr, 'XMLHttpRequest abort');\n      }\n    };\n    _this.handleXhrTimeoutEvent = function (e) {\n      var xhr = e.target;\n      var xhrDetails = _this.xhrMap.get(xhr);\n      var errorName = 'XMLHttpRequest timeout';\n      _this.handleXhrDetailsOnError(xhrDetails, xhr, errorName);\n    };\n    _this.initializeTrace = function (xhrDetails) {\n      var startTime = epochTime();\n      xhrDetails.trace = createXRayTraceEvent(_this.config.logicalServiceName, startTime, _this.context.config.enableW3CTraceId);\n      xhrDetails.trace.subsegments.push(createXRaySubsegment(requestInfoToHostname(xhrDetails.url), startTime, {\n        request: {\n          method: xhrDetails.method,\n          url: xhrDetails.url,\n          traced: true\n        }\n      }));\n    };\n    _this.sendWrapper = function () {\n      var self = _this;\n      return function (original) {\n        return function () {\n          var xhrDetails = self.xhrMap.get(this);\n          if (xhrDetails) {\n            this.addEventListener('load', self.handleXhrLoadEvent);\n            this.addEventListener('error', self.handleXhrErrorEvent);\n            this.addEventListener('abort', self.handleXhrAbortEvent);\n            this.addEventListener('timeout', self.handleXhrTimeoutEvent);\n            self.initializeTrace(xhrDetails);\n            if (!self.isSyntheticsUA && self.isTracingEnabled() && self.addXRayTraceIdHeader(xhrDetails.url) && self.isSessionRecorded()) {\n              if (self.context.config.enableW3CTraceId) {\n                this.setRequestHeader(W3C_TRACEPARENT_HEADER_NAME, getW3CTraceIdHeaderValue(xhrDetails.trace.trace_id, xhrDetails.trace.subsegments[0].id));\n              } else {\n                this.setRequestHeader(X_AMZN_TRACE_ID, getAmznTraceIdHeaderValue(xhrDetails.trace.trace_id, xhrDetails.trace.subsegments[0].id));\n              }\n            }\n          }\n          return original.apply(this, arguments);\n        };\n      };\n    };\n    _this.openWrapper = function () {\n      var self = _this;\n      return function (original) {\n        return function (method, url, async) {\n          if (isUrlAllowed(url, self.config)) {\n            self.xhrMap.set(this, {\n              url: url,\n              method: method,\n              async: async\n            });\n          }\n          return original.apply(this, arguments);\n        };\n      };\n    };\n    _this.config = __assign(__assign({}, defaultConfig), config);\n    _this.xhrMap = new Map();\n    _this.isSyntheticsUA = navigator.userAgent.includes('CloudWatchSynthetics');\n    return _this;\n  }\n  XhrPlugin.prototype.onload = function () {\n    this.enable();\n  };\n  Object.defineProperty(XhrPlugin.prototype, \"patches\", {\n    get: function () {\n      return [{\n        nodule: XMLHttpRequest.prototype,\n        name: 'send',\n        wrapper: this.sendWrapper\n      }, {\n        nodule: XMLHttpRequest.prototype,\n        name: 'open',\n        wrapper: this.openWrapper\n      }];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  XhrPlugin.prototype.handleXhrDetailsOnError = function (xhrDetails, xhr, errorName) {\n    if (xhrDetails) {\n      var endTime = epochTime();\n      xhrDetails.trace.end_time = endTime;\n      xhrDetails.trace.subsegments[0].end_time = endTime;\n      xhrDetails.trace.subsegments[0].error = true;\n      xhrDetails.trace.subsegments[0].cause = {\n        exceptions: [{\n          type: errorName\n        }]\n      };\n      this.recordTraceEvent(xhrDetails.trace);\n      this.recordHttpEventWithError(xhrDetails, xhr, errorName);\n    }\n  };\n  XhrPlugin.prototype.statusOk = function (status) {\n    return status >= 200 && status < 300;\n  };\n  XhrPlugin.prototype.recordHttpEventWithResponse = function (xhrDetails, xhr) {\n    this.xhrMap.delete(xhr);\n    var httpEvent = {\n      version: '1.0.0',\n      request: {\n        method: xhrDetails.method,\n        url: xhrDetails.url\n      },\n      response: {\n        status: xhr.status,\n        statusText: xhr.statusText\n      }\n    };\n    if (this.isTracingEnabled()) {\n      httpEvent.trace_id = xhrDetails.trace.trace_id;\n      httpEvent.segment_id = xhrDetails.trace.subsegments[0].id;\n    }\n    if (this.config.recordAllRequests || !this.statusOk(xhr.status)) {\n      this.context.record(HTTP_EVENT_TYPE, httpEvent);\n    }\n  };\n  XhrPlugin.prototype.recordHttpEventWithError = function (xhrDetails, xhr, error) {\n    this.xhrMap.delete(xhr);\n    var httpEvent = {\n      version: '1.0.0',\n      request: {\n        method: xhrDetails.method,\n        url: xhrDetails.url\n      },\n      error: errorEventToJsErrorEvent({\n        type: 'error',\n        error: error\n      }, this.config.stackTraceLength)\n    };\n    if (this.isTracingEnabled()) {\n      httpEvent.trace_id = xhrDetails.trace.trace_id;\n      httpEvent.segment_id = xhrDetails.trace.subsegments[0].id;\n    }\n    this.context.record(HTTP_EVENT_TYPE, httpEvent);\n  };\n  XhrPlugin.prototype.recordTraceEvent = function (trace) {\n    if (!this.isSyntheticsUA && this.isTracingEnabled() && this.isSessionRecorded()) {\n      this.context.record(XRAY_TRACE_EVENT_TYPE, trace);\n    }\n  };\n  return XhrPlugin;\n}(MonkeyPatched);\nexport { XhrPlugin };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { MonkeyPatched } from '../MonkeyPatched';\nimport { defaultConfig, epochTime, createXRayTraceEvent, addAmznTraceIdHeaderToInit, createXRayTraceEventHttp, isUrlAllowed, createXRaySubsegment, requestInfoToHostname, addAmznTraceIdHeaderToHeaders, resourceToUrlString, is429, is4xx, is5xx, getTraceHeader, isTraceIdHeaderEnabled } from '../utils/http-utils';\nimport { HTTP_EVENT_TYPE, XRAY_TRACE_EVENT_TYPE } from '../utils/constant';\nimport { errorEventToJsErrorEvent, isErrorPrimitive } from '../utils/js-error-utils';\nexport var FETCH_PLUGIN_ID = 'fetch';\n/**\n * A plugin which initiates and records AWS X-Ray traces for fetch HTTP requests.\n *\n * The fetch API is monkey patched using shimmer so all calls to fetch are intercepted. Only calls to URLs which are\n * on the allowlist and are not on the denylist are traced and recorded.\n */\nvar FetchPlugin = /** @class */function (_super) {\n  __extends(FetchPlugin, _super);\n  function FetchPlugin(config) {\n    var _this = _super.call(this, FETCH_PLUGIN_ID) || this;\n    _this.isTracingEnabled = function () {\n      return _this.context.config.enableXRay;\n    };\n    _this.isSessionRecorded = function () {\n      var _a;\n      return ((_a = _this.context.getSession()) === null || _a === void 0 ? void 0 : _a.record) || false;\n    };\n    _this.beginTrace = function (input, init, argsArray) {\n      var startTime = epochTime();\n      var http = createXRayTraceEventHttp(input, init, true);\n      var xRayTraceEvent = createXRayTraceEvent(_this.config.logicalServiceName, startTime, _this.context.config.enableW3CTraceId);\n      var subsegment = createXRaySubsegment(requestInfoToHostname(input), startTime, http);\n      xRayTraceEvent.subsegments.push(subsegment);\n      if (_this.isTraceIdHeaderEnabled(input)) {\n        _this.addXRayTraceIdHeader(input, init, argsArray, xRayTraceEvent);\n      }\n      return xRayTraceEvent;\n    };\n    _this.addXRayTraceIdHeader = function (input, init, argsArray, xRayTraceEvent) {\n      if (input.headers) {\n        return addAmznTraceIdHeaderToHeaders(input.headers, xRayTraceEvent.trace_id, xRayTraceEvent.subsegments[0].id, _this.context.config.enableW3CTraceId);\n      }\n      if (!init) {\n        init = {};\n        [].push.call(argsArray, init);\n      }\n      addAmznTraceIdHeaderToInit(init, xRayTraceEvent.trace_id, xRayTraceEvent.subsegments[0].id, _this.context.config.enableW3CTraceId);\n    };\n    _this.endTrace = function (xRayTraceEvent, response, error) {\n      if (xRayTraceEvent) {\n        var endTime = epochTime();\n        xRayTraceEvent.subsegments[0].end_time = endTime;\n        xRayTraceEvent.end_time = endTime;\n        if (response) {\n          xRayTraceEvent.subsegments[0].http.response = {\n            status: response.status\n          };\n          if (is429(response.status)) {\n            xRayTraceEvent.subsegments[0].throttle = true;\n            xRayTraceEvent.throttle = true;\n          } else if (is4xx(response.status)) {\n            xRayTraceEvent.subsegments[0].error = true;\n            xRayTraceEvent.error = true;\n          } else if (is5xx(response.status)) {\n            xRayTraceEvent.subsegments[0].fault = true;\n            xRayTraceEvent.fault = true;\n          }\n          var clStr = response.headers.get('Content-Length');\n          var cl = clStr ? parseInt(clStr, 10) : NaN;\n          if (!isNaN(cl)) {\n            xRayTraceEvent.subsegments[0].http.response.content_length = cl;\n          }\n        }\n        if (error) {\n          // Guidance from X-Ray documentation:\n          // > Record errors in segments when your application returns an\n          // > error to the user, and in subsegments when a downstream call\n          // > returns an error.\n          xRayTraceEvent.fault = true;\n          xRayTraceEvent.subsegments[0].fault = true;\n          if (error instanceof Object) {\n            _this.appendErrorCauseFromObject(xRayTraceEvent.subsegments[0], error);\n          } else if (isErrorPrimitive(error)) {\n            _this.appendErrorCauseFromPrimitive(xRayTraceEvent.subsegments[0], error.toString());\n          }\n        }\n        _this.context.record(XRAY_TRACE_EVENT_TYPE, xRayTraceEvent);\n      }\n    };\n    _this.createHttpEvent = function (input, init) {\n      var request = input;\n      return {\n        version: '1.0.0',\n        request: {\n          url: resourceToUrlString(input),\n          method: (init === null || init === void 0 ? void 0 : init.method) ? init.method : request.method ? request.method : 'GET'\n        }\n      };\n    };\n    _this.recordHttpEventWithResponse = function (httpEvent, response) {\n      if (_this.config.recordAllRequests || !response.ok) {\n        httpEvent.response = {\n          status: response.status,\n          statusText: response.statusText\n        };\n        _this.context.record(HTTP_EVENT_TYPE, httpEvent);\n      }\n    };\n    _this.recordHttpEventWithError = function (httpEvent, error) {\n      httpEvent.error = errorEventToJsErrorEvent({\n        type: 'error',\n        error: error\n      }, _this.config.stackTraceLength);\n      _this.context.record(HTTP_EVENT_TYPE, httpEvent);\n    };\n    _this.fetch = function (original, thisArg, argsArray, input, init) {\n      var httpEvent = _this.createHttpEvent(input, init);\n      var trace;\n      if (!isUrlAllowed(resourceToUrlString(input), _this.config)) {\n        return original.apply(thisArg, argsArray);\n      }\n      var traceHeader = getTraceHeader(input.headers, _this.context.config.enableW3CTraceId);\n      if (traceHeader.traceId && traceHeader.segmentId) {\n        httpEvent.trace_id = traceHeader.traceId;\n        httpEvent.segment_id = traceHeader.segmentId;\n      } else if (_this.isTracingEnabled() && _this.isSessionRecorded()) {\n        trace = _this.beginTrace(input, init, argsArray);\n        httpEvent.trace_id = trace.trace_id;\n        httpEvent.segment_id = trace.subsegments[0].id;\n      }\n      return original.apply(thisArg, argsArray).then(function (response) {\n        _this.endTrace(trace, response, undefined);\n        _this.recordHttpEventWithResponse(httpEvent, response);\n        return response;\n      }).catch(function (error) {\n        _this.endTrace(trace, undefined, error);\n        _this.recordHttpEventWithError(httpEvent, error);\n        throw error;\n      });\n    };\n    _this.fetchWrapper = function () {\n      var self = _this;\n      return function (original) {\n        return function (input, init) {\n          return self.fetch(original, this, arguments, input, init);\n        };\n      };\n    };\n    _this.config = __assign(__assign({}, defaultConfig), config);\n    return _this;\n  }\n  Object.defineProperty(FetchPlugin.prototype, \"patches\", {\n    get: function () {\n      return [{\n        nodule: window,\n        name: 'fetch',\n        wrapper: this.fetchWrapper\n      }];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  FetchPlugin.prototype.onload = function () {\n    this.enable();\n  };\n  FetchPlugin.prototype.isTraceIdHeaderEnabled = function (input) {\n    var url = resourceToUrlString(input);\n    return isTraceIdHeaderEnabled(url, this.config.addXRayTraceIdHeader);\n  };\n  FetchPlugin.prototype.appendErrorCauseFromPrimitive = function (subsegment, error) {\n    subsegment.cause = {\n      exceptions: [{\n        type: error\n      }]\n    };\n  };\n  FetchPlugin.prototype.appendErrorCauseFromObject = function (subsegment, error) {\n    subsegment.cause = {\n      exceptions: [{\n        type: error.name,\n        message: error.message\n      }]\n    };\n  };\n  return FetchPlugin;\n}(MonkeyPatched);\nexport { FetchPlugin };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { PageIdFormatEnum } from '../../orchestration/Orchestration';\nimport { MonkeyPatched } from '../MonkeyPatched';\nexport var PAGE_EVENT_PLUGIN_ID = 'page-view';\n/**\n * A plugin which records page view transitions.\n *\n * When a session is initialized, the PageManager records the landing page. When\n * subsequent pages are viewed, this plugin updates the page.\n */\nvar PageViewPlugin = /** @class */function (_super) {\n  __extends(PageViewPlugin, _super);\n  function PageViewPlugin() {\n    var _this = _super.call(this, PAGE_EVENT_PLUGIN_ID) || this;\n    _this.pushState = function () {\n      var self = _this;\n      return function (original) {\n        return function (data, title, url) {\n          var retVal = original.apply(this, arguments);\n          self.recordPageView();\n          return retVal;\n        };\n      };\n    };\n    _this.replaceState = function () {\n      var self = _this;\n      return function (original) {\n        return function (data, title, url) {\n          var retVal = original.apply(this, arguments);\n          self.recordPageView();\n          return retVal;\n        };\n      };\n    };\n    _this.popstateListener = function (event) {\n      _this.recordPageView();\n    };\n    _this.recordPageView = function () {\n      _this.context.recordPageView(_this.createIdForCurrentPage());\n    };\n    _this.enable();\n    return _this;\n  }\n  PageViewPlugin.prototype.onload = function () {\n    this.addListener();\n    this.recordPageView();\n  };\n  Object.defineProperty(PageViewPlugin.prototype, \"patches\", {\n    get: function () {\n      return [{\n        nodule: History.prototype,\n        name: 'pushState',\n        wrapper: this.pushState\n      }, {\n        nodule: History.prototype,\n        name: 'replaceState',\n        wrapper: this.replaceState\n      }];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PageViewPlugin.prototype.addListener = function () {\n    // popstate will fire under the following conditions:\n    // (1) The history back, forward or go APIs are used\n    // (2) The URI's fragment (hash) changes\n    window.addEventListener('popstate', this.popstateListener);\n  };\n  PageViewPlugin.prototype.createIdForCurrentPage = function () {\n    var path = window.location.pathname;\n    var hash = window.location.hash;\n    switch (this.context.config.pageIdFormat) {\n      case PageIdFormatEnum.PathAndHash:\n        if (path && hash) {\n          return path + hash;\n        } else if (path) {\n          return path;\n        } else if (hash) {\n          return hash;\n        }\n        return '';\n      case PageIdFormatEnum.Hash:\n        return hash ? hash : '';\n      case PageIdFormatEnum.Path:\n      default:\n        return path ? path : '';\n    }\n  };\n  return PageViewPlugin;\n}(MonkeyPatched);\nexport { PageViewPlugin };", "var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { BasicAuthentication } from '../dispatch/BasicAuthentication';\nimport { EnhancedAuthentication } from '../dispatch/EnhancedAuthentication';\nimport { PluginManager } from '../plugins/PluginManager';\nimport { DomEventPlugin, DOM_EVENT_PLUGIN_ID } from '../plugins/event-plugins/DomEventPlugin';\nimport { JsErrorPlugin, JS_ERROR_EVENT_PLUGIN_ID } from '../plugins/event-plugins/JsErrorPlugin';\nimport { EventCache } from '../event-cache/EventCache';\nimport { Dispatch } from '../dispatch/Dispatch';\nimport { NavigationPlugin } from '../plugins/event-plugins/NavigationPlugin';\nimport { ResourcePlugin } from '../plugins/event-plugins/ResourcePlugin';\nimport { WebVitalsPlugin } from '../plugins/event-plugins/WebVitalsPlugin';\nimport { XhrPlugin } from '../plugins/event-plugins/XhrPlugin';\nimport { FetchPlugin } from '../plugins/event-plugins/FetchPlugin';\nimport { PageViewPlugin } from '../plugins/event-plugins/PageViewPlugin';\nimport { INSTALL_MODULE } from '../utils/constants';\nimport EventBus from '../event-bus/EventBus';\nvar DEFAULT_REGION = 'us-west-2';\nvar DEFAULT_ENDPOINT = \"https://dataplane.rum.\".concat(DEFAULT_REGION, \".amazonaws.com\");\nexport var TelemetryEnum = /*#__PURE__*/function (TelemetryEnum) {\n  TelemetryEnum[\"Errors\"] = \"errors\";\n  TelemetryEnum[\"Performance\"] = \"performance\";\n  TelemetryEnum[\"Interaction\"] = \"interaction\";\n  TelemetryEnum[\"Http\"] = \"http\";\n  return TelemetryEnum;\n}(TelemetryEnum || {});\nexport var PageIdFormatEnum = /*#__PURE__*/function (PageIdFormatEnum) {\n  PageIdFormatEnum[\"Path\"] = \"PATH\";\n  PageIdFormatEnum[\"Hash\"] = \"HASH\";\n  PageIdFormatEnum[\"PathAndHash\"] = \"PATH_AND_HASH\";\n  return PageIdFormatEnum;\n}(PageIdFormatEnum || {});\nexport var defaultCookieAttributes = function () {\n  return {\n    unique: false,\n    domain: window.location.hostname,\n    path: '/',\n    sameSite: 'Strict',\n    secure: true\n  };\n};\nexport var defaultConfig = function (cookieAttributes) {\n  return __assign({\n    allowCookies: false,\n    batchLimit: 100,\n    client: INSTALL_MODULE,\n    cookieAttributes: cookieAttributes,\n    disableAutoPageView: false,\n    dispatchInterval: 5 * 1000,\n    enableRumClient: true,\n    enableXRay: false,\n    endpoint: DEFAULT_ENDPOINT,\n    endpointUrl: new URL(DEFAULT_ENDPOINT),\n    eventCacheSize: 200,\n    eventPluginsToLoad: [],\n    pageIdFormat: PageIdFormatEnum.Path,\n    pagesToExclude: [],\n    pagesToInclude: [/.*/],\n    signing: true,\n    recordResourceUrl: true,\n    retries: 2,\n    routeChangeComplete: 100,\n    routeChangeTimeout: 10000,\n    sessionAttributes: {},\n    sessionEventLimit: 200,\n    sessionLengthSeconds: 60 * 30,\n    sessionSampleRate: 1,\n    telemetries: [],\n    useBeacon: true,\n    userIdRetentionDays: 30,\n    enableW3CTraceId: false\n  }, internalConfigOverrides);\n};\nvar internalConfigOverrides = {\n  candidatesCacheSize: 10\n};\n/**\n * An orchestrator which (1) initializes cwr components and (2) provides the API for the application to interact\n * with the RUM web client. Depending on how the RUM web client was loaded, this class may be called directly, or\n * indirectly through the CommandQueue:\n * - If the client was loaded by an HTML script tag, Orchestration is called indirectly through the CommandQueue.\n * - If the client was loaded as an NPM module, Orchestration is called directly by the application.\n */\nvar Orchestration = /** @class */function () {\n  /**\n   * Instantiate the CloudWatch RUM web client and begin monitoring the\n   * application.\n   *\n   * This constructor may throw a TypeError if not correctly configured. In\n   * production code, wrap calls to this constructor in a try/catch block so\n   * that this does not impact the application.\n   *\n   * @param applicationId A globally unique identifier for the CloudWatch RUM\n   * app monitor which monitors your application.\n   * @param applicationVersion Your application's semantic version. If you do\n   * not wish to use this field then add any placeholder, such as '0.0.0'.\n   * @param region The AWS region of the app monitor. For example, 'us-east-1'\n   * or 'eu-west-2'.\n   * @param configCookieAttributes\n   * @param partialConfig An application-specific configuration for the web\n   * client.\n   */\n  function Orchestration(applicationId, applicationVersion, region, _a) {\n    if (_a === void 0) {\n      _a = {};\n    }\n    var configCookieAttributes = _a.cookieAttributes,\n      partialConfig = __rest(_a, [\"cookieAttributes\"]);\n    this.eventBus = new EventBus();\n    if (typeof region === 'undefined') {\n      // Provide temporary backwards compatibility if the region was not provided by the loader. This will be\n      // removed when internal users have migrated to the new signature.\n      region = 'us-west-2';\n    }\n    var cookieAttributes = __assign(__assign({}, defaultCookieAttributes()), configCookieAttributes);\n    this.config = __assign(__assign(__assign({\n      fetchFunction: fetch\n    }, defaultConfig(cookieAttributes)), partialConfig), internalConfigOverrides);\n    this.config.endpoint = this.getDataPlaneEndpoint(region, partialConfig);\n    // If the URL is not formatted correctly, a TypeError will be thrown.\n    // This breaks our convention to fail-safe here for the sake of\n    // debugging. It is expected that the application has wrapped the call\n    // to the constructor in a try/catch block, as is done in the example\n    // code.\n    this.config.endpointUrl = new URL(this.config.endpoint);\n    this.eventCache = this.initEventCache(applicationId, applicationVersion);\n    this.dispatchManager = this.initDispatch(region, applicationId);\n    this.pluginManager = this.initPluginManager(applicationId, applicationVersion);\n    if (this.config.enableRumClient) {\n      this.enable();\n    } else {\n      this.disable();\n    }\n  }\n  /**\n   * Set the credential provider that will be used to authenticate with the\n   * data plane service (AWS auth).\n   *\n   * @param credentials A provider of AWS credentials.\n   */\n  Orchestration.prototype.setAwsCredentials = function (credentials) {\n    this.dispatchManager.setAwsCredentials(credentials);\n  };\n  /**\n   * Set custom session attributes to add them to all event metadata.\n   *\n   * @param payload object containing custom attribute data in the form of key, value pairs\n   */\n  Orchestration.prototype.addSessionAttributes = function (sessionAttributes) {\n    this.eventCache.addSessionAttributes(sessionAttributes);\n  };\n  /**\n   * Add a telemetry plugin.\n   *\n   * @param plugin A plugin which adheres to the RUM web client's plugin interface.\n   */\n  Orchestration.prototype.addPlugin = function (plugin) {\n    this.pluginManager.addPlugin(plugin);\n  };\n  /**\n   * Force the client to immediately dispatch events to the collector.\n   */\n  Orchestration.prototype.dispatch = function () {\n    this.dispatchManager.dispatchFetch();\n  };\n  /**\n   * Force the client to immediately dispatch events to the collector using a beacon.\n   */\n  Orchestration.prototype.dispatchBeacon = function () {\n    this.dispatchManager.dispatchBeacon();\n  };\n  /**\n   * When enabled, the client records and dispatches events.\n   */\n  Orchestration.prototype.enable = function () {\n    this.eventCache.enable();\n    this.pluginManager.enable();\n    this.dispatchManager.enable();\n  };\n  /**\n   * When disabled, the client does not record or dispatch events.\n   */\n  Orchestration.prototype.disable = function () {\n    this.dispatchManager.disable();\n    this.pluginManager.disable();\n    this.eventCache.disable();\n  };\n  /**\n   * @param allow when {@code false}, the RUM web client will not store cookies or use localstorage.\n   */\n  Orchestration.prototype.allowCookies = function (allow) {\n    this.config.allowCookies = allow;\n  };\n  /**\n   * Update the current page the user is interacting with.\n   *\n   * @param payload Can be string or PageAttributes object\n   * If string, payload is pageId (The unique ID for the page within the application).\n   * If PageAttributes, payload contains pageId as well as page attributes to include in events with pageId\n   */\n  Orchestration.prototype.recordPageView = function (payload) {\n    this.eventCache.recordPageView(payload);\n  };\n  /**\n   * Record an error using the JS error plugin.\n   *\n   * @param error An ErrorEvent, Error or primitive.\n   */\n  Orchestration.prototype.recordError = function (error) {\n    this.pluginManager.record(JS_ERROR_EVENT_PLUGIN_ID, error);\n  };\n  /**\n   * Update DOM plugin to record the (additional) provided DOM events.\n   *\n   * @param events\n   */\n  Orchestration.prototype.registerDomEvents = function (events) {\n    this.pluginManager.updatePlugin(DOM_EVENT_PLUGIN_ID, events);\n  };\n  /**\n   * Records a custom event, which is dispatched at the next interval.\n   *\n   * @param type A unique name for the type of event being recorded.\n   * @param eventData A JSON object containing the event's attributes.\n   */\n  Orchestration.prototype.recordEvent = function (eventType, eventData) {\n    this.eventCache.recordEvent(eventType, eventData);\n  };\n  Orchestration.prototype.initEventCache = function (applicationId, applicationVersion) {\n    return new EventCache({\n      id: applicationId,\n      version: applicationVersion\n    }, this.config, this.eventBus);\n  };\n  Orchestration.prototype.initDispatch = function (region, applicationId) {\n    var dispatch = new Dispatch(region, this.config.endpointUrl, this.eventCache, this.config);\n    // Only retrieves and sets credentials if the session is sampled.\n    // The nil session created during initialization will have the same sampling decision as\n    // the new session created when the first event is recorded.\n    if (!this.eventCache.isSessionSampled()) {\n      return dispatch;\n    }\n    if (this.config.identityPoolId && this.config.guestRoleArn) {\n      dispatch.setAwsCredentials(new BasicAuthentication(this.config, applicationId).ChainAnonymousCredentialsProvider);\n    } else if (this.config.identityPoolId) {\n      dispatch.setAwsCredentials(new EnhancedAuthentication(this.config, applicationId).ChainAnonymousCredentialsProvider);\n    }\n    return dispatch;\n  };\n  Orchestration.prototype.initPluginManager = function (applicationId, applicationVersion) {\n    var BUILTIN_PLUGINS = this.constructBuiltinPlugins();\n    var PLUGINS = __spreadArray(__spreadArray([], BUILTIN_PLUGINS, true), this.config.eventPluginsToLoad, true);\n    var pluginContext = {\n      applicationId: applicationId,\n      applicationVersion: applicationVersion,\n      config: this.config,\n      record: this.eventCache.recordEvent,\n      recordCandidate: this.eventCache.recordCandidate,\n      recordPageView: this.eventCache.recordPageView,\n      getSession: this.eventCache.getSession,\n      eventBus: this.eventBus\n    };\n    // Initialize PluginManager\n    var pluginManager = new PluginManager(pluginContext);\n    // Load page view plugin\n    if (!this.config.disableAutoPageView) {\n      pluginManager.addPlugin(new PageViewPlugin());\n    }\n    // Load plugins\n    PLUGINS.forEach(function (p) {\n      pluginManager.addPlugin(p);\n    });\n    return pluginManager;\n  };\n  Orchestration.prototype.constructBuiltinPlugins = function () {\n    var plugins = [];\n    var functor = this.telemetryFunctor();\n    this.config.telemetries.forEach(function (type) {\n      if (typeof type === 'string' && functor[type.toLowerCase()]) {\n        plugins = __spreadArray(__spreadArray([], plugins, true), functor[type.toLowerCase()]({}), true);\n      } else if (Array.isArray(type) && functor[type[0].toLowerCase()]) {\n        plugins = __spreadArray(__spreadArray([], plugins, true), functor[type[0].toLowerCase()](type[1]), true);\n      }\n    });\n    return plugins;\n  };\n  Orchestration.prototype.getDataPlaneEndpoint = function (region, partialConfig) {\n    return partialConfig.endpoint ? partialConfig.endpoint : DEFAULT_ENDPOINT.replace(DEFAULT_REGION, region);\n  };\n  /**\n   * Returns a functor which maps data collection categories to\n   * instantiated plugins.\n   */\n  Orchestration.prototype.telemetryFunctor = function () {\n    var _a;\n    return _a = {}, _a[TelemetryEnum.Errors] = function (config) {\n      return [new JsErrorPlugin(config)];\n    }, _a[TelemetryEnum.Performance] = function (config) {\n      return [new NavigationPlugin(config), new ResourcePlugin(config), new WebVitalsPlugin(config)];\n    }, _a[TelemetryEnum.Interaction] = function (config) {\n      return [new DomEventPlugin(config)];\n    }, _a[TelemetryEnum.Http] = function (config) {\n      return [new XhrPlugin(config), new FetchPlugin(config)];\n    }, _a;\n  };\n  return Orchestration;\n}();\nexport { Orchestration };", "var e,\n  n,\n  t,\n  r,\n  i,\n  o = -1,\n  a = function (e) {\n    addEventListener(\"pageshow\", function (n) {\n      n.persisted && (o = n.timeStamp, e(n));\n    }, !0);\n  },\n  c = function () {\n    var e = self.performance && performance.getEntriesByType && performance.getEntriesByType(\"navigation\")[0];\n    if (e && e.responseStart > 0 && e.responseStart < performance.now()) return e;\n  },\n  u = function () {\n    var e = c();\n    return e && e.activationStart || 0;\n  },\n  f = function (e, n) {\n    var t = c(),\n      r = \"navigate\";\n    o >= 0 ? r = \"back-forward-cache\" : t && (document.prerendering || u() > 0 ? r = \"prerender\" : document.wasDiscarded ? r = \"restore\" : t.type && (r = t.type.replace(/_/g, \"-\")));\n    return {\n      name: e,\n      value: void 0 === n ? -1 : n,\n      rating: \"good\",\n      delta: 0,\n      entries: [],\n      id: \"v4-\".concat(Date.now(), \"-\").concat(Math.floor(8999999999999 * Math.random()) + 1e12),\n      navigationType: r\n    };\n  },\n  s = function (e, n, t) {\n    try {\n      if (PerformanceObserver.supportedEntryTypes.includes(e)) {\n        var r = new PerformanceObserver(function (e) {\n          Promise.resolve().then(function () {\n            n(e.getEntries());\n          });\n        });\n        return r.observe(Object.assign({\n          type: e,\n          buffered: !0\n        }, t || {})), r;\n      }\n    } catch (e) {}\n  },\n  d = function (e, n, t, r) {\n    var i, o;\n    return function (a) {\n      n.value >= 0 && (a || r) && ((o = n.value - (i || 0)) || void 0 === i) && (i = n.value, n.delta = o, n.rating = function (e, n) {\n        return e > n[1] ? \"poor\" : e > n[0] ? \"needs-improvement\" : \"good\";\n      }(n.value, t), e(n));\n    };\n  },\n  l = function (e) {\n    requestAnimationFrame(function () {\n      return requestAnimationFrame(function () {\n        return e();\n      });\n    });\n  },\n  p = function (e) {\n    document.addEventListener(\"visibilitychange\", function () {\n      \"hidden\" === document.visibilityState && e();\n    });\n  },\n  v = function (e) {\n    var n = !1;\n    return function () {\n      n || (e(), n = !0);\n    };\n  },\n  m = -1,\n  h = function () {\n    return \"hidden\" !== document.visibilityState || document.prerendering ? 1 / 0 : 0;\n  },\n  g = function (e) {\n    \"hidden\" === document.visibilityState && m > -1 && (m = \"visibilitychange\" === e.type ? e.timeStamp : 0, T());\n  },\n  y = function () {\n    addEventListener(\"visibilitychange\", g, !0), addEventListener(\"prerenderingchange\", g, !0);\n  },\n  T = function () {\n    removeEventListener(\"visibilitychange\", g, !0), removeEventListener(\"prerenderingchange\", g, !0);\n  },\n  E = function () {\n    return m < 0 && (m = h(), y(), a(function () {\n      setTimeout(function () {\n        m = h(), y();\n      }, 0);\n    })), {\n      get firstHiddenTime() {\n        return m;\n      }\n    };\n  },\n  C = function (e) {\n    document.prerendering ? addEventListener(\"prerenderingchange\", function () {\n      return e();\n    }, !0) : e();\n  },\n  b = [1800, 3e3],\n  S = function (e, n) {\n    n = n || {}, C(function () {\n      var t,\n        r = E(),\n        i = f(\"FCP\"),\n        o = s(\"paint\", function (e) {\n          e.forEach(function (e) {\n            \"first-contentful-paint\" === e.name && (o.disconnect(), e.startTime < r.firstHiddenTime && (i.value = Math.max(e.startTime - u(), 0), i.entries.push(e), t(!0)));\n          });\n        });\n      o && (t = d(e, i, b, n.reportAllChanges), a(function (r) {\n        i = f(\"FCP\"), t = d(e, i, b, n.reportAllChanges), l(function () {\n          i.value = performance.now() - r.timeStamp, t(!0);\n        });\n      }));\n    });\n  },\n  L = [.1, .25],\n  w = function (e, n) {\n    n = n || {}, S(v(function () {\n      var t,\n        r = f(\"CLS\", 0),\n        i = 0,\n        o = [],\n        c = function (e) {\n          e.forEach(function (e) {\n            if (!e.hadRecentInput) {\n              var n = o[0],\n                t = o[o.length - 1];\n              i && e.startTime - t.startTime < 1e3 && e.startTime - n.startTime < 5e3 ? (i += e.value, o.push(e)) : (i = e.value, o = [e]);\n            }\n          }), i > r.value && (r.value = i, r.entries = o, t());\n        },\n        u = s(\"layout-shift\", c);\n      u && (t = d(e, r, L, n.reportAllChanges), p(function () {\n        c(u.takeRecords()), t(!0);\n      }), a(function () {\n        i = 0, r = f(\"CLS\", 0), t = d(e, r, L, n.reportAllChanges), l(function () {\n          return t();\n        });\n      }), setTimeout(t, 0));\n    }));\n  },\n  A = 0,\n  I = 1 / 0,\n  P = 0,\n  M = function (e) {\n    e.forEach(function (e) {\n      e.interactionId && (I = Math.min(I, e.interactionId), P = Math.max(P, e.interactionId), A = P ? (P - I) / 7 + 1 : 0);\n    });\n  },\n  k = function () {\n    return e ? A : performance.interactionCount || 0;\n  },\n  F = function () {\n    \"interactionCount\" in performance || e || (e = s(\"event\", M, {\n      type: \"event\",\n      buffered: !0,\n      durationThreshold: 0\n    }));\n  },\n  D = [],\n  x = new Map(),\n  R = 0,\n  B = function () {\n    var e = Math.min(D.length - 1, Math.floor((k() - R) / 50));\n    return D[e];\n  },\n  H = [],\n  q = function (e) {\n    if (H.forEach(function (n) {\n      return n(e);\n    }), e.interactionId || \"first-input\" === e.entryType) {\n      var n = D[D.length - 1],\n        t = x.get(e.interactionId);\n      if (t || D.length < 10 || e.duration > n.latency) {\n        if (t) e.duration > t.latency ? (t.entries = [e], t.latency = e.duration) : e.duration === t.latency && e.startTime === t.entries[0].startTime && t.entries.push(e);else {\n          var r = {\n            id: e.interactionId,\n            latency: e.duration,\n            entries: [e]\n          };\n          x.set(r.id, r), D.push(r);\n        }\n        D.sort(function (e, n) {\n          return n.latency - e.latency;\n        }), D.length > 10 && D.splice(10).forEach(function (e) {\n          return x.delete(e.id);\n        });\n      }\n    }\n  },\n  O = function (e) {\n    var n = self.requestIdleCallback || self.setTimeout,\n      t = -1;\n    return e = v(e), \"hidden\" === document.visibilityState ? e() : (t = n(e), p(e)), t;\n  },\n  N = [200, 500],\n  j = function (e, n) {\n    \"PerformanceEventTiming\" in self && \"interactionId\" in PerformanceEventTiming.prototype && (n = n || {}, C(function () {\n      var t;\n      F();\n      var r,\n        i = f(\"INP\"),\n        o = function (e) {\n          O(function () {\n            e.forEach(q);\n            var n = B();\n            n && n.latency !== i.value && (i.value = n.latency, i.entries = n.entries, r());\n          });\n        },\n        c = s(\"event\", o, {\n          durationThreshold: null !== (t = n.durationThreshold) && void 0 !== t ? t : 40\n        });\n      r = d(e, i, N, n.reportAllChanges), c && (c.observe({\n        type: \"first-input\",\n        buffered: !0\n      }), p(function () {\n        o(c.takeRecords()), r(!0);\n      }), a(function () {\n        R = k(), D.length = 0, x.clear(), i = f(\"INP\"), r = d(e, i, N, n.reportAllChanges);\n      }));\n    }));\n  },\n  _ = [2500, 4e3],\n  z = {},\n  G = function (e, n) {\n    n = n || {}, C(function () {\n      var t,\n        r = E(),\n        i = f(\"LCP\"),\n        o = function (e) {\n          n.reportAllChanges || (e = e.slice(-1)), e.forEach(function (e) {\n            e.startTime < r.firstHiddenTime && (i.value = Math.max(e.startTime - u(), 0), i.entries = [e], t());\n          });\n        },\n        c = s(\"largest-contentful-paint\", o);\n      if (c) {\n        t = d(e, i, _, n.reportAllChanges);\n        var m = v(function () {\n          z[i.id] || (o(c.takeRecords()), c.disconnect(), z[i.id] = !0, t(!0));\n        });\n        [\"keydown\", \"click\"].forEach(function (e) {\n          addEventListener(e, function () {\n            return O(m);\n          }, {\n            once: !0,\n            capture: !0\n          });\n        }), p(m), a(function (r) {\n          i = f(\"LCP\"), t = d(e, i, _, n.reportAllChanges), l(function () {\n            i.value = performance.now() - r.timeStamp, z[i.id] = !0, t(!0);\n          });\n        });\n      }\n    });\n  },\n  J = [800, 1800],\n  K = function e(n) {\n    document.prerendering ? C(function () {\n      return e(n);\n    }) : \"complete\" !== document.readyState ? addEventListener(\"load\", function () {\n      return e(n);\n    }, !0) : setTimeout(n, 0);\n  },\n  Q = function (e, n) {\n    n = n || {};\n    var t = f(\"TTFB\"),\n      r = d(e, t, J, n.reportAllChanges);\n    K(function () {\n      var i = c();\n      i && (t.value = Math.max(i.responseStart - u(), 0), t.entries = [i], r(!0), a(function () {\n        t = f(\"TTFB\", 0), (r = d(e, t, J, n.reportAllChanges))(!0);\n      }));\n    });\n  },\n  U = {\n    passive: !0,\n    capture: !0\n  },\n  V = new Date(),\n  W = function (e, i) {\n    n || (n = i, t = e, r = new Date(), Z(removeEventListener), X());\n  },\n  X = function () {\n    if (t >= 0 && t < r - V) {\n      var e = {\n        entryType: \"first-input\",\n        name: n.type,\n        target: n.target,\n        cancelable: n.cancelable,\n        startTime: n.timeStamp,\n        processingStart: n.timeStamp + t\n      };\n      i.forEach(function (n) {\n        n(e);\n      }), i = [];\n    }\n  },\n  Y = function (e) {\n    if (e.cancelable) {\n      var n = (e.timeStamp > 1e12 ? new Date() : performance.now()) - e.timeStamp;\n      \"pointerdown\" == e.type ? function (e, n) {\n        var t = function () {\n            W(e, n), i();\n          },\n          r = function () {\n            i();\n          },\n          i = function () {\n            removeEventListener(\"pointerup\", t, U), removeEventListener(\"pointercancel\", r, U);\n          };\n        addEventListener(\"pointerup\", t, U), addEventListener(\"pointercancel\", r, U);\n      }(n, e) : W(n, e);\n    }\n  },\n  Z = function (e) {\n    [\"mousedown\", \"keydown\", \"touchstart\", \"pointerdown\"].forEach(function (n) {\n      return e(n, Y, U);\n    });\n  },\n  $ = [100, 300],\n  ee = function (e, r) {\n    r = r || {}, C(function () {\n      var o,\n        c = E(),\n        u = f(\"FID\"),\n        l = function (e) {\n          e.startTime < c.firstHiddenTime && (u.value = e.processingStart - e.startTime, u.entries.push(e), o(!0));\n        },\n        m = function (e) {\n          e.forEach(l);\n        },\n        h = s(\"first-input\", m);\n      o = d(e, u, $, r.reportAllChanges), h && (p(v(function () {\n        m(h.takeRecords()), h.disconnect();\n      })), a(function () {\n        var a;\n        u = f(\"FID\"), o = d(e, u, $, r.reportAllChanges), i = [], t = -1, n = null, Z(addEventListener), a = l, i.push(a), X();\n      }));\n    });\n  };\nexport { L as CLSThresholds, b as FCPThresholds, $ as FIDThresholds, N as INPThresholds, _ as LCPThresholds, J as TTFBThresholds, w as onCLS, S as onFCP, ee as onFID, j as onINP, G as onLCP, Q as onTTFB };", "import { isFCPSupported, isLCPSupported } from '../utils/common-utils';\nimport { onFCP, onLCP } from 'web-vitals';\nvar NAVIGATION = 'navigation';\nvar FCP = 'FCP';\nvar LCP = 'LCP';\n// Keep state for visually ready\nvar VisuallyReadySearch = /** @class */function () {\n  function VisuallyReadySearch(quietWindow) {\n    var _this = this;\n    this.visuallyReadyTimestamp = 0;\n    this.timeIntervals = 0;\n    this.fcpSupported = false;\n    this.lcpSupported = false;\n    this.cleanupVisuallyReadySearch = false;\n    this.CHECK_PERIOD = 1000; // Perform another check for Visually ready after this time period\n    this.VISUALLY_READY_RESOLVE_TIMEOUT = 10000; // Declare a timeout for visually ready search after this time period\n    this.visualReadyIntervalHandler = function () {\n      var isCheckTimedOut = _this.timeIntervals * _this.CHECK_PERIOD > _this.VISUALLY_READY_RESOLVE_TIMEOUT;\n      if (_this.isOkToResolveVisuallyReady(isCheckTimedOut)) {\n        _this.visuallyReadyTimestamp = Math.max(_this.fcpTime ? _this.fcpTime : 0, _this.lcpTime ? _this.lcpTime : 0, _this.domContentLoadedEventEnd ? _this.domContentLoadedEventEnd : 0);\n        clearInterval(_this.visualReadyInterval);\n        _this.cleanupVisuallyReadySearch = true;\n        _this.quietWindowSearch.startTtiSearch(_this.visuallyReadyTimestamp);\n      } else {\n        // No VR timestamps and check timed out, therefore stop searching and cleanup everything\n        if (isCheckTimedOut) {\n          _this.cleanupVisuallyReadySearch = true;\n          _this.quietWindowSearch.cleanupQuietWindowSearch();\n        }\n      }\n      _this.timeIntervals += 1;\n    };\n    this.navEventListener = function () {\n      var eventObserver = new PerformanceObserver(function (list) {\n        if (_this.cleanupVisuallyReadySearch) {\n          eventObserver.disconnect();\n        }\n        list.getEntries().filter(function (e) {\n          return e.entryType === NAVIGATION;\n        }).map(function (e) {\n          return e;\n        }).forEach(function (event) {\n          if (event.domContentLoadedEventEnd) {\n            _this.domContentLoadedEventEnd = event.domContentLoadedEventEnd;\n          }\n        });\n      });\n      eventObserver.observe({\n        type: NAVIGATION,\n        buffered: true\n      });\n    };\n    this.initListeners();\n    this.quietWindowSearch = quietWindow;\n    this.visualReadyInterval = this.startVisualReadyInterval();\n  }\n  VisuallyReadySearch.prototype.startVisualReadyInterval = function () {\n    return setInterval(this.visualReadyIntervalHandler, this.CHECK_PERIOD);\n  };\n  VisuallyReadySearch.prototype.isOkToResolveVisuallyReady = function (isCheckTimedOut) {\n    /*\n    Visually ready can be resolved in the following conditions:\n    1) Pre timeout, all supported visually ready markers are ready\n    2) Post timeout, atleast one visually ready marker is ready\n     If (1) or (2) are not met visually ready can't be resolved yet\n    */\n    var isFullyVisuallyReady = this.lcpTime !== undefined && this.fcpTime !== undefined && this.domContentLoadedEventEnd !== undefined;\n    var isPartiallyVisually = this.lcpSupported && this.lcpTime !== undefined || this.fcpSupported && this.fcpTime !== undefined || this.domContentLoadedEventEnd !== undefined;\n    if (isFullyVisuallyReady) {\n      return true;\n    } else if (isCheckTimedOut && isPartiallyVisually) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  VisuallyReadySearch.prototype.handleWebVitals = function (metric) {\n    var _this = this;\n    if (metric.name === FCP) {\n      metric.entries.forEach(function (entry) {\n        return _this.fcpTime = entry.startTime + entry.duration;\n      });\n    }\n    if (metric.name === LCP) {\n      metric.entries.forEach(function (entry) {\n        return _this.lcpTime = entry.startTime + entry.duration;\n      });\n    }\n  };\n  VisuallyReadySearch.prototype.initListeners = function () {\n    var _this = this;\n    this.navEventListener();\n    // Record support for FCP and LCP\n    this.lcpSupported = isLCPSupported();\n    this.fcpSupported = isFCPSupported();\n    // Use web vitals library for LCP and FCP, if supported\n    if (this.fcpSupported) {\n      this.fcpTime = undefined;\n      onFCP(function (metric) {\n        return _this.handleWebVitals(metric);\n      });\n    }\n    if (this.lcpSupported) {\n      this.lcpTime = undefined;\n      onLCP(function (metric) {\n        return _this.handleWebVitals(metric);\n      });\n    }\n  };\n  return VisuallyReadySearch;\n}();\nexport { VisuallyReadySearch };", "// Keep state of quiet window\nvar LONG_TASK = 'longtask';\nvar FPS = 'fps';\nvar NAVIGATION = 'navigation';\nvar QuietWindowSearch = /** @class */function () {\n  function QuietWindowSearch(fpsEnabled, onReport) {\n    var _this = this;\n    this.ttiTracker = {};\n    this.ttiResolved = false;\n    this.startBucket = 0;\n    this.currBucket = 0;\n    this.acceptedIntervals = 0;\n    this.totalIntervals = 0;\n    this.visuallyReadyTimestamp = 0;\n    this.fpsEnabled = false;\n    this.COLLECTION_PERIOD = 100;\n    this.REQUIRED_ACCEPTED_INTERVALS = 5;\n    this.CHECK_PERIOD = 1000; // Perform another check for TTI after this time period\n    this.TTI_RESOLVE_TIMEOUT = 10000; // Declare a timeout for TTI after this time period\n    this.FPS_THRESHOLD = 20 / (1000 / this.COLLECTION_PERIOD);\n    this.LONG_TASK_THRESHOLD = 0;\n    // On finding quiet window, report the TTI. If timed out, report nothing and cleanup listeners\n    this.ttiIntervalHandler = function () {\n      var isTTITimedOut = _this.totalIntervals * _this.CHECK_PERIOD > _this.TTI_RESOLVE_TIMEOUT;\n      if (isTTITimedOut) {\n        // TTI computation timed out. Don't attempt any more calculations\n        _this.ttiResolved = true;\n        _this.ttiTracker = {};\n        clearInterval(_this.ttiInterval);\n      }\n      var endBucket = _this.computeTimeWindow();\n      for (var bucket = _this.currBucket; bucket <= endBucket; bucket++) {\n        _this.currBucket = bucket;\n        var allTTIConditionsFulfiled = true;\n        // Check long task fulfils criteria\n        if (_this.isTTIConditionNotFulfilied(LONG_TASK, bucket)) {\n          allTTIConditionsFulfiled = false;\n        }\n        // Check FPS fulfils criteria\n        if (_this.fpsEnabled && _this.isTTIConditionNotFulfilied(FPS, bucket)) {\n          allTTIConditionsFulfiled = false;\n        }\n        // If all conditions for a time window are not fulfiled, reset and move to next time window\n        if (!allTTIConditionsFulfiled) {\n          _this.acceptedIntervals = 0;\n          continue;\n        }\n        // All conditions were met so its an accepted interval towards quiet window quota\n        _this.acceptedIntervals += 1;\n        if (_this.isTTIResolved(_this.acceptedIntervals)) {\n          _this.ttiResolved = true;\n          clearInterval(_this.ttiInterval);\n          _this.onReport({\n            name: 'TTI',\n            value: _this.computeTTIValue()\n          });\n          break;\n        } else {\n          // TTI not yet resolvable, so continue trying\n          continue;\n        }\n      }\n      _this.totalIntervals += 1;\n    };\n    this.longTaskEventListener = function () {\n      var eventObserver = new PerformanceObserver(function (list) {\n        // If tti resolution is done, teardown\n        if (_this.ttiResolved) {\n          eventObserver.disconnect();\n        }\n        list.getEntries().filter(function (e) {\n          return e.entryType === LONG_TASK;\n        }).forEach(function (event) {\n          // Add to the time buckets where the long task spreads over\n          if (event.startTime && event.duration) {\n            var endTime = event.startTime + event.duration;\n            _this.addToTracker(LONG_TASK, _this.computeTimeWindow(event.startTime), 1);\n            _this.addToTracker(LONG_TASK, _this.computeTimeWindow(endTime), 1);\n          }\n        });\n      });\n      eventObserver.observe({\n        type: LONG_TASK\n      });\n    };\n    this.framesPerSecondListener = function () {\n      // The frames per second listener measures frames per second. It does so\n      // using requestAnimationFrame.  This works by increasing the frame for\n      // each call in a given time bucket. For most devices and application\n      // this will be 60.\n      var trackFrames = function () {\n        // increment FPS by 1 in tracker for time window\n        _this.addToTracker(FPS, _this.computeTimeWindow(), 1);\n        window.requestAnimationFrame(trackFrames);\n      };\n      if (!_this.ttiResolved) {\n        window.requestAnimationFrame(trackFrames);\n      }\n    };\n    this.fpsEnabled = fpsEnabled;\n    this.initListeners();\n    this.onReport = onReport;\n  }\n  // Begin search for Quiet window and TTI\n  QuietWindowSearch.prototype.startTtiSearch = function (visuallyReadyTimestamp) {\n    this.startBucket = Math.max(this.computeTimeWindow(visuallyReadyTimestamp), 0);\n    this.currBucket = this.startBucket;\n    this.acceptedIntervals = 0;\n    this.totalIntervals = 0;\n    this.visuallyReadyTimestamp = visuallyReadyTimestamp;\n    this.ttiInterval = setInterval(this.ttiIntervalHandler, this.CHECK_PERIOD);\n  };\n  QuietWindowSearch.prototype.isTTIResolved = function (acceptedIntervals) {\n    if (acceptedIntervals >= this.REQUIRED_ACCEPTED_INTERVALS) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  QuietWindowSearch.prototype.computeTTIValue = function () {\n    /*\n    TTI is the time to the start of the TTI quiet window.\n    Therefore, it is the sum of the time to visually ready + time from VR to the start of the quiet window\n    */\n    var timeToQuietPeriodFromVisuallyReady = (this.currBucket - this.REQUIRED_ACCEPTED_INTERVALS - this.startBucket + 1) * this.COLLECTION_PERIOD;\n    // Cleanup\n    this.ttiTracker = {};\n    return this.getPrerenderedOffset(this.visuallyReadyTimestamp + timeToQuietPeriodFromVisuallyReady);\n  };\n  QuietWindowSearch.prototype.getPrerenderedOffset = function (tti) {\n    var activationStart = this.getActivationStart();\n    if (activationStart === undefined) {\n      return tti;\n    } else {\n      var newTti = Math.floor(tti) - activationStart;\n      // return the offset (at least 1ms)\n      return newTti >= 0 ? Math.max(1, newTti) : tti;\n    }\n  };\n  QuietWindowSearch.prototype.getActivationStart = function () {\n    if (this.prerenderedOffset !== undefined) {\n      // we've previously calculated, return the value\n      return this.prerenderedOffset;\n    }\n    if (typeof document.prerendering !== 'boolean') {\n      return this.prerenderedOffset;\n    }\n    if (window.performance) {\n      var navEntry = window.performance.getEntriesByType(NAVIGATION)[0];\n      if (navEntry && navEntry.activationStart) {\n        this.prerenderedOffset = Math.floor(navEntry.activationStart);\n      }\n    }\n    return this.prerenderedOffset;\n  };\n  QuietWindowSearch.prototype.isTTIConditionNotFulfilied = function (ttiCondition, currrentBucket) {\n    /*\n    Determine if TTI condition does not meet the defined acceptance criteria.\n     */\n    if (ttiCondition === LONG_TASK) {\n      // Any intervals with no long tasks are undefined and should be marked as 0\n      return this.ttiTracker[LONG_TASK] !== undefined && this.ttiTracker[LONG_TASK][currrentBucket] !== undefined && this.ttiTracker[LONG_TASK][currrentBucket] > this.LONG_TASK_THRESHOLD;\n    }\n    if (ttiCondition === FPS) {\n      return this.fpsEnabled && this.ttiTracker[FPS] !== undefined && this.ttiTracker[FPS][currrentBucket] !== undefined && this.ttiTracker[FPS][currrentBucket] < this.FPS_THRESHOLD;\n    }\n  };\n  QuietWindowSearch.prototype.initListeners = function () {\n    // Use performance observer to record long tasks and domcontentloaded\n    this.longTaskEventListener();\n    // Init FPS listener if supported and enabled\n    if (this.fpsEnabled && window.requestAnimationFrame !== undefined) {\n      this.framesPerSecondListener();\n    }\n  };\n  QuietWindowSearch.prototype.computeTimeWindow = function (currTime) {\n    if (currTime === undefined) {\n      return Math.floor(performance.now() / this.COLLECTION_PERIOD);\n    } else {\n      return Math.floor(currTime / this.COLLECTION_PERIOD);\n    }\n  };\n  QuietWindowSearch.prototype.addToTracker = function (type, bucket, value) {\n    if (!this.ttiTracker[type]) {\n      this.ttiTracker[type] = [];\n    }\n    if (!this.ttiTracker[type][bucket]) {\n      this.ttiTracker[type][bucket] = 0;\n    }\n    this.ttiTracker[type][bucket] += value;\n  };\n  QuietWindowSearch.prototype.cleanupQuietWindowSearch = function () {\n    this.ttiResolved = true;\n    this.ttiTracker = {};\n  };\n  return QuietWindowSearch;\n}();\nexport { QuietWindowSearch };", "/* eslint-disable jsdoc/check-indentation */\nimport { isLongTaskSupported } from '../utils/common-utils';\nimport { VisuallyReadySearch } from './VisuallyReadySearch';\nimport { QuietWindowSearch } from './QuietWindowSearch';\nexport function onTTI(onReport, opts) {\n  if (isLongTaskSupported()) {\n    new TimeToInteractive(onReport, opts);\n  }\n}\n/**\n * This class measures the \"time to interactive\" web vital. Time to interactive\n * is a measure of how long it takes for a page to become interactive for the\n * user.\n * <p>\n * This class implements the TTI algorithm used by Boomerang, with modifications.\n * (Ref: https://akamai.github.io/boomerang/oss/BOOMR.plugins.Continuity.html)\n * <p>\n * Steps to TTI calculation:\n * 1) Find visually ready timestamp (highest of domcontentLoadedEnd, FCP or LCP).\n * 2) Starting from the visually ready timestamp, find a 500ms quiet window. A\n *    quiet window has the following characteristics:\n *      a) No Long Tasks\n *      b) FPS is above 20 (if enabled)\n * 3) TTI is recorded as visually ready timestamp + time from visually ready to the start of the quiet window.\n * <p>\n * This class measures TTI only when running in a browser that supports Long Tasks.\n */\nvar TimeToInteractive = /** @class */function () {\n  function TimeToInteractive(onReport, opts) {\n    this.onReport = onReport;\n    // Begin attempt for TTI resolution by looking for visually ready and then a quiet window\n    this.quietWindowSearch = new QuietWindowSearch(opts.fpsEnabled, this.onReport);\n    this.visuallyReadySearch = new VisuallyReadySearch(this.quietWindowSearch);\n  }\n  return TimeToInteractive;\n}();\nexport { TimeToInteractive };", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { onTTI } from '../../time-to-interactive/TimeToInteractive';\nimport { TIME_TO_INTERACTIVE_EVENT_TYPE } from '../utils/constant';\nimport { InternalPlugin } from '../InternalPlugin';\nexport var TTI_EVENT_PLUGIN_ID = 'time-to-interactive';\nvar TTIPlugin = /** @class */function (_super) {\n  __extends(TTIPlugin, _super);\n  function TTIPlugin(fpsMeasurementEnabled) {\n    if (fpsMeasurementEnabled === void 0) {\n      fpsMeasurementEnabled = false;\n    }\n    var _this = _super.call(this, TTI_EVENT_PLUGIN_ID) || this;\n    _this.recordTTIEvent = function () {\n      onTTI(_this.handleTTI, {\n        fpsEnabled: _this.fpsEnabled\n      });\n    };\n    _this.checkPrerenderingActivity = function () {\n      if (typeof document !== 'undefined' && typeof document.prerendering === 'boolean' && document.prerendering) {\n        _this.normalPageLoad = false;\n        document.addEventListener('prerenderingchange', function () {\n          _this.prerenderedPageLoad = true;\n          _this.recordTTIEvent();\n        });\n      }\n      if (typeof performance !== 'undefined' && typeof performance.getEntriesByType === 'function') {\n        try {\n          var entries = performance.getEntriesByType('navigation');\n          if (entries && entries.length > 0) {\n            var navigation = entries[0];\n            if (navigation && navigation.activationStart && navigation.activationStart > 0) {\n              _this.prerenderedPageLoad = true;\n              _this.normalPageLoad = false;\n            }\n          }\n        } catch (e) {\n          console.debug('Error accessing Performance API:', e);\n        }\n      }\n    };\n    _this.handleTTI = function (metric) {\n      var ttiEvent = {\n        version: '1.0.0',\n        value: Math.round(metric.value)\n      };\n      _this.context.record(TIME_TO_INTERACTIVE_EVENT_TYPE, ttiEvent);\n    };\n    _this.fpsEnabled = fpsMeasurementEnabled;\n    _this.prerenderedPageLoad = false;\n    _this.normalPageLoad = true;\n    _this.checkPrerenderingActivity();\n    return _this;\n  }\n  TTIPlugin.prototype.enable = function () {\n    /* Nothing to do. */\n  };\n  TTIPlugin.prototype.disable = function () {\n    /* Nothing to do. */\n  };\n  TTIPlugin.prototype.configure = function () {\n    /* Nothing to do. */\n  };\n  TTIPlugin.prototype.onload = function () {\n    if (this.normalPageLoad || this.prerenderedPageLoad) {\n      this.recordTTIEvent();\n    }\n  };\n  return TTIPlugin;\n}(InternalPlugin);\nexport { TTIPlugin };"],
  "mappings": "uRAAA,IAAAA,GAAAC,GAAA,CAAAC,GAAAC,KAAA,EAUC,SAAUC,EAAQC,EAAW,CAC5B,aAKA,IAAIC,EAAa,SACfC,EAAQ,GACRC,EAAU,IACVC,EAAY,WACZC,EAAa,YACbC,EAAW,SACXC,EAAW,SACXC,EAAQ,QACRC,EAAQ,QACRC,EAAO,OACPC,EAAO,OACPC,EAAS,SACTC,EAAU,UACVC,EAAe,eACfC,EAAU,UACVC,EAAS,SACTC,EAAS,SACTC,EAAU,UACVC,EAAW,WACXC,EAAW,WACXC,EAAgB,IACdC,GAAS,SACXC,GAAQ,QACRC,GAAO,OACPC,GAAa,aACbC,GAAU,UACVC,GAAS,SACTC,GAAO,OACPC,GAAU,UACVC,GAAS,SACTC,GAAQ,QACRC,GAAS,SACTC,GAAS,SACTC,GAAK,KACLC,GAAY,YACZC,GAAW,WACXC,GAAS,SACTC,GAAU,UACVC,GAAQ,QACRC,GAAO,OACPC,GAAU,UACVC,GAAQ,QACRC,GAAO,OACPC,GAAS,SACTC,GAAQ,QACRC,GAAW,WACXC,GAAc,cACdC,GAAS,SACTC,GAAiB,WAMfC,GAAS,SAAUC,EAASC,EAAY,CACxC,IAAIC,EAAgB,CAAC,EACrB,QAASC,KAAKH,EACRC,EAAWE,CAAC,GAAKF,EAAWE,CAAC,EAAE,OAAS,IAAM,EAChDD,EAAcC,CAAC,EAAIF,EAAWE,CAAC,EAAE,OAAOH,EAAQG,CAAC,CAAC,EAElDD,EAAcC,CAAC,EAAIH,EAAQG,CAAC,EAGhC,OAAOD,CACT,EACAE,GAAY,SAAUC,EAAK,CAEzB,QADIC,EAAQ,CAAC,EACJH,EAAI,EAAGA,EAAIE,EAAI,OAAQF,IAC9BG,EAAMD,EAAIF,CAAC,EAAE,YAAY,CAAC,EAAIE,EAAIF,CAAC,EAErC,OAAOG,CACT,EACAC,GAAM,SAAUC,EAAMC,EAAM,CAC1B,OAAO,OAAOD,IAASpD,EAAWsD,GAASD,CAAI,EAAE,QAAQC,GAASF,CAAI,CAAC,IAAM,GAAK,EACpF,EACAE,GAAW,SAAUC,EAAK,CACxB,OAAOA,EAAI,YAAY,CACzB,EACAC,GAAW,SAAUC,EAAS,CAC5B,OAAO,OAAOA,IAAYzD,EAAWyD,EAAQ,QAAQ,WAAY9D,CAAK,EAAE,MAAM,GAAG,EAAE,CAAC,EAAIF,CAC1F,EACAiE,GAAO,SAAUH,EAAKI,EAAK,CACzB,GAAI,OAAOJ,IAAQvD,EACjB,OAAAuD,EAAMA,EAAI,QAAQ,SAAU5D,CAAK,EAC1B,OAAOgE,IAAQ7D,EAAayD,EAAMA,EAAI,UAAU,EAAGzC,CAAa,CAE3E,EAME8C,GAAY,SAAUC,EAAIC,EAAQ,CAUlC,QATIf,EAAI,EACNgB,EACAC,EACAC,EACAC,EACAC,EACAC,EAGKrB,EAAIe,EAAO,QAAU,CAACK,GAAS,CACpC,IAAIE,GAAQP,EAAOf,CAAC,EAElBuB,GAAQR,EAAOf,EAAI,CAAC,EAItB,IAHAgB,EAAIC,EAAI,EAGDD,EAAIM,GAAM,QAAU,CAACF,GACrBE,GAAMN,CAAC,GAIZ,GADAI,EAAUE,GAAMN,GAAG,EAAE,KAAKF,CAAE,EACtBM,EACJ,IAAKF,EAAI,EAAGA,EAAIK,GAAM,OAAQL,IAC5BG,EAAQD,EAAQ,EAAEH,CAAC,EACnBE,EAAII,GAAML,CAAC,EAEP,OAAOC,IAAMnE,GAAYmE,EAAE,OAAS,EAClCA,EAAE,SAAW,EACX,OAAOA,EAAE,CAAC,GAAKrE,EAEjB,KAAKqE,EAAE,CAAC,CAAC,EAAIA,EAAE,CAAC,EAAE,KAAK,KAAME,CAAK,EAGlC,KAAKF,EAAE,CAAC,CAAC,EAAIA,EAAE,CAAC,EAETA,EAAE,SAAW,EAElB,OAAOA,EAAE,CAAC,IAAMrE,GAAa,EAAEqE,EAAE,CAAC,EAAE,MAAQA,EAAE,CAAC,EAAE,MAEnD,KAAKA,EAAE,CAAC,CAAC,EAAIE,EAAQF,EAAE,CAAC,EAAE,KAAK,KAAME,EAAOF,EAAE,CAAC,CAAC,EAAIzE,EAGpD,KAAKyE,EAAE,CAAC,CAAC,EAAIE,EAAQA,EAAM,QAAQF,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,EAAIzE,EAE1CyE,EAAE,SAAW,IACtB,KAAKA,EAAE,CAAC,CAAC,EAAIE,EAAQF,EAAE,CAAC,EAAE,KAAK,KAAME,EAAM,QAAQF,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,CAAC,EAAIzE,GAGpE,KAAKyE,CAAC,EAAIE,GAAgB3E,EAKlCsD,GAAK,CACP,CACF,EACAwB,GAAY,SAAUhB,EAAKiB,EAAK,CAC9B,QAASzB,KAAKyB,EAEZ,GAAI,OAAOA,EAAIzB,CAAC,IAAMhD,GAAYyE,EAAIzB,CAAC,EAAE,OAAS,GAChD,QAASgB,EAAI,EAAGA,EAAIS,EAAIzB,CAAC,EAAE,OAAQgB,IACjC,GAAIZ,GAAIqB,EAAIzB,CAAC,EAAEgB,CAAC,EAAGR,CAAG,EACpB,OAAOR,IAAMnD,EAAUH,EAAYsD,UAG9BI,GAAIqB,EAAIzB,CAAC,EAAGQ,CAAG,EACxB,OAAOR,IAAMnD,EAAUH,EAAYsD,EAGvC,OAAOyB,EAAI,eAAe,GAAG,EAAIA,EAAI,GAAG,EAAIjB,CAC9C,EAOEkB,GAAe,CACf,MAAO,KACP,MAAO,KACP,MAAO,KACP,MAAO,OACP,QAAS,OACT,QAAS,OACT,QAAS,OACT,IAAK,GACP,EACAC,GAAoB,CAClB,GAAM,OACN,UAAW,SACX,SAAU,QACV,IAAQ,SACR,GAAM,CAAC,SAAU,QAAQ,EACzB,MAAS,SACT,EAAK,SACL,EAAK,SACL,MAAO,SACP,GAAM,CAAC,SAAU,SAAS,EAC1B,GAAM,KACR,EAME9B,GAAU,CACZ,QAAS,CAAC,CAAC,8BACX,EAAG,CAACtC,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAAC,6BACjC,EAAG,CAACG,EAAS,CAACH,EAAM,MAAM,CAAC,EAAG,CAE9B,4BAEA,mDAEA,yCACA,EAAG,CAACA,EAAMG,CAAO,EAAG,CAAC,uBACrB,EAAG,CAACA,EAAS,CAACH,EAAM6B,GAAQ,OAAO,CAAC,EAAG,CAAC,0BACxC,EAAG,CAAC1B,EAAS,CAACH,EAAM6B,GAAQ,KAAK,CAAC,EAAG,CAAC,mBACtC,EAAG,CAAC1B,EAAS,CAACH,EAAM6B,EAAK,CAAC,EAAG,CAE7B,wDACA,EAAG,CAAC1B,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAAC,6CAChC,EAAG,CAACG,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CAAC,uBAElC,uEAGA,4DAEA,2BAIA,+NAEA,sCAEA,qBACA,EAAG,CAACA,EAAMG,CAAO,EAAG,CAAC,2BACrB,EAAG,CAACA,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAAC,mBAChC,EAAG,CAACG,EAAS,CAACH,EAAM,YAAY,CAAC,EAAG,CAAC,mDACrC,EAAG,CAACG,EAAS,CAACH,EAAM,KAAOgB,EAAO,CAAC,EAAG,CAAC,+BAEvC,+BAAgC,4BAChC,EAAG,CAACb,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAAC,uBACjC,EAAG,CAACG,EAAS,CAACH,EAAM,WAAW,CAAC,EAAG,CAAC,6CACpC,EAAG,CAACG,EAAS,CAACH,EAAM,IAAI,CAAC,EAAG,CAAC,kCAC7B,EAAG,CAACG,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAAC,uBACjC,EAAG,CAACG,EAAS,CAACH,EAAM,gBAAkBgB,EAAO,CAAC,EAAG,CAAC,yBAClD,EAAG,CAAC,CAAChB,EAAM,OAAQ,aAAegB,EAAO,EAAGb,CAAO,EAAG,CAAC,qBACvD,EAAG,CAACA,EAAS,CAACH,EAAMmB,GAAU,QAAQ,CAAC,EAAG,CAAC,mBAC3C,EAAG,CAAChB,EAAS,CAACH,EAAM6B,GAAQ,QAAQ,CAAC,EAAG,CAAC,wBACzC,EAAG,CAAC1B,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CAAC,oBAClC,EAAG,CAACG,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CAAC,mBAClC,EAAG,CAACG,EAAS,CAACH,EAAM6B,GAAQ,QAAQ,CAAC,EAAG,CAAC,yBACzC,EAAG,CAAC1B,EAAS,CAACH,EAAM,OAASuC,EAAc,CAAC,EAAG,CAAC,oBAChD,EAAG,CAACpC,EAAS,CAACH,EAAMmB,EAAO,CAAC,EAAG,CAAC,6BAChC,EAAG,CAAChB,EAAS,CAACH,EAAM,KAAK,CAAC,EAAG,CAAC,oBAC9B,EAAG,CAAC,CAACA,EAAM,OAAQ,WAAW,EAAGG,CAAO,EAAG,CAAC,uDAAuD,EAAG,CAAC,CAACH,EAAM,OAAQ,KAAOuC,EAAc,EAAGpC,CAAO,EAAG,CAExJ,4BACA,EAAG,CAACA,EAAS,CAACH,EAAM+B,GAAU,WAAW,CAAC,EAAG,CAAC,wBAC9C,EAAG,CAAC5B,EAAS,CAACH,EAAM,gBAAgB,CAAC,EAAG,CAAC,0BACzC,EAAG,CAAC,CAACA,EAAM,cAAc,EAAGG,CAAO,EAAG,CAAC,gCAEvC,iDAEA,oEACA,EAAG,CAACH,EAAMG,CAAO,EAAG,CAAC,sBAErB,oBACA,EAAG,CAACH,CAAI,EAAG,CAAC,kCAEZ,kCACA,EAAG,CAACG,EAASH,CAAI,EAAG,CAEpB,6DACA,EAAG,CAAC,CAACA,EAAMoC,EAAQ,EAAGjC,CAAO,EAAG,CAAC,uBAEjC,uCAEA,kCAEA,4BAEA,4BAEA,4BAEA,6BAEA,qCAEA,+CACA,EAAG,CAACH,EAAMG,CAAO,EAAG,CAAC,8BACrB,EAAG,CAACA,EAAS,CAACH,EAAM,KAAK,CAAC,EAAG,CAAC,4CAC9B,EAAG,CAACG,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAAC,kCACjC,EAAG,CAACG,EAAS,CAACH,EAAMiB,GAAS,WAAW,CAAC,EAAG,CAAC,6BAC7C,EAAG,CAAC,CAACjB,EAAMiB,GAAS,UAAU,EAAGd,CAAO,EAAG,CAAC,yDAC5C,EAAG,CAACA,EAAS,CAACH,EAAM,WAAagB,EAAO,CAAC,EAAG,CAAC,6DAC7C,EAAG,CAAChB,EAAMG,CAAO,EAAG,CAAC,8CACrB,EAAG,CAACA,EAAS,CAACH,EAAM,eAAe,CAAC,EAAG,CAAC,oDACxC,EAAG,CAACG,EAASH,CAAI,EAAG,CAAC,8CACrB,EAAG,CAACA,EAAM,CAACG,EAASiE,GAAWE,EAAY,CAAC,EAAG,CAAC,4BAA4B,EAAG,CAACtE,EAAMG,CAAO,EAAG,CAEhG,sCACA,EAAG,CAAC,CAACH,EAAM,UAAU,EAAGG,CAAO,EAAG,CAAC,gCACnC,EAAG,CAACH,EAAMG,CAAO,EAAG,CAAC,qCACrB,EAAG,CAACA,EAAS,CAACH,EAAMmB,GAAU,UAAU,CAAC,EAAG,CAAC,6BAE7C,cAEA,8FAEA,+FAEA,wBAEA,2CAIA,wHAEA,wBACA,EAAG,CAACnB,EAAM,CAACG,EAAS,KAAM,GAAG,CAAC,EAAG,CAAC,sBAClC,EAAG,CAACH,EAAM,CAACG,EAAS,eAAgB,EAAE,CAAC,CAAC,EACxC,IAAK,CAAC,CAAC,mCACP,EAAG,CAAC,CAACC,EAAc,OAAO,CAAC,EAAG,CAAC,eAE/B,0BACA,EAAG,CAAC,CAACA,EAAc,MAAM,CAAC,EAAG,CAAC,qCAC9B,EAAG,CAAC,CAACA,EAAc,OAAO,CAAC,EAAG,CAAC,+BAC/B,EAAG,CAAC,CAACA,EAAc,OAAO,CAAC,EAAG,CAE9B,sCAAsC,EAAG,CAAC,CAACA,EAAc,KAAK,CAAC,EAAG,CAAC,kCACnE,EAAG,CAAC,CAACA,EAAc,OAAQZ,EAAO2D,EAAQ,CAAC,EAAG,CAAC,eAC/C,EAAG,CAAC,CAAC/C,EAAc,OAAO,CAAC,EAAG,CAAC,mGAE/B,EAAG,CAAC,CAACA,EAAc+C,EAAQ,CAAC,CAAC,EAC7B,OAAQ,CAAC,CAMT,iFAAiF,EAAG,CAACpD,EAAO,CAACG,EAAQ6B,EAAO,EAAG,CAAC9B,EAAMM,CAAM,CAAC,EAAG,CAAC,iEAAkE,kCAAmC,eAAe,EAAG,CAACR,EAAO,CAACG,EAAQ6B,EAAO,EAAG,CAAC9B,EAAMK,CAAM,CAAC,EAAG,CAEpS,0CACA,EAAG,CAACP,EAAO,CAACG,EAAQW,EAAK,EAAG,CAACZ,EAAMK,CAAM,CAAC,EAAG,CAAC,6BAE9C,oCAAqC,gCAAgC,EAAG,CAACP,EAAO,CAACG,EAAQW,EAAK,EAAG,CAACZ,EAAMM,CAAM,CAAC,EAAG,CAAC,eAAe,EAAG,CAACR,EAAO,CAACG,EAAQW,EAAK,CAAC,EAAG,CAE/J,+BAA+B,EAAG,CAACd,EAAO,CAACG,EAAQ8B,EAAK,EAAG,CAAC/B,EAAMK,CAAM,CAAC,EAAG,CAE5E,4FAA4F,EAAG,CAACP,EAAO,CAACG,EAAQmB,EAAK,EAAG,CAACpB,EAAMM,CAAM,CAAC,EAAG,CAAC,sBAAsB,EAAG,CAACR,EAAO,CAACG,EAAQmB,EAAK,EAAG,CAACpB,EAAMK,CAAM,CAAC,EAAG,CAE7M,+OAA+O,EAAG,CAACP,EAAO,CAACG,EAAQoB,EAAM,EAAG,CAACrB,EAAMM,CAAM,CAAC,EAAG,CAAC,4BAA6B,oEAAoE,EAAG,CAACR,EAAO,CAACG,EAAQoB,EAAM,EAAG,CAACrB,EAAMK,CAAM,CAAC,EAAG,CAE7a,wEAAyE,4CACzE,EAAG,CAAC,CAACP,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQgC,EAAM,EAAG,CAACjC,EAAMM,CAAM,CAAC,EAAG,CAAC,kDAE5D,yBAEA,uCAEA,iDAEA,4DAEA,4GAEA,uBAAuB,EAAG,CAAC,CAACR,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQgC,EAAM,EAAG,CAACjC,EAAMK,CAAM,CAAC,EAAG,CAElF,sBAAuB,iEAAiE,EAAG,CAACP,EAAO,CAACG,EAAQ4B,EAAI,EAAG,CAAC7B,EAAMK,CAAM,CAAC,EAAG,CAAC,+BAA+B,EAAG,CAACP,EAAO,CAACG,EAAQkE,GAAW,CACjM,QAAW,CAAC,MAAO,MAAO,KAAK,EAC/B,IAAKtC,EACP,CAAC,EAAG,CAAC7B,EAAMM,CAAM,CAAC,EAAG,CAErB,yBAA0B,kCAAkC,EAAG,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAE1G,iCAAiC,EAAG,CAACP,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAEjF,iFAAkF,4BAA6B,4DAA4D,EAAG,CAACP,EAAO,CAACG,EAAQwB,EAAQ,EAAG,CAACzB,EAAMK,CAAM,CAAC,EAAG,CAAC,mCAAmC,EAAG,CAACP,EAAO,CAACG,EAAQwB,EAAQ,EAAG,CAACzB,EAAMM,CAAM,CAAC,EAAG,CAE/S,+DAA+D,EAAG,CAACR,EAAO,CAACG,EAAQsB,EAAE,EAAG,CAACvB,EAAMM,CAAM,CAAC,EAAG,CAAC,sDAAuD,0DAA2D,sBAAsB,EAAG,CAACR,EAAO,CAACG,EAAQsB,EAAE,EAAG,CAACvB,EAAMK,CAAM,CAAC,EAAG,CAE5R,8IAA+I,0EAA0E,EAAG,CAACP,EAAO,CAACG,EAAQqB,EAAM,EAAG,CAACtB,EAAMM,CAAM,CAAC,EAAG,CAEvQ,sBAAsB,EAAG,CAACL,EAAQH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAAC,4CAA6C,2BAA2B,EAAG,CAAC,CAACR,EAAO,KAAM,GAAG,EAAG,CAACE,EAAMK,CAAM,EAAG,CAACJ,EAAQ,OAAO,CAAC,EAAG,CAE/L,uBACA,EAAG,CAACH,EAAO,CAACG,EAAQkB,EAAM,EAAG,CAACnB,EAAMM,CAAM,CAAC,EAAG,CAAC,2CAC/C,EAAG,CAACR,EAAO,CAACG,EAAQkB,EAAM,EAAG,CAACnB,EAAMK,CAAM,CAAC,EAAG,CAE9C,yGAAyG,EAAG,CAACP,EAAO,CAACG,EAAQ+B,EAAI,EAAG,CAAChC,EAAMK,CAAM,CAAC,EAAG,CAAC,oBAAqB,+BAA+B,EAAG,CAAC,CAACP,EAAO,eAAe,EAAG,CAACG,EAAQ+B,EAAI,EAAG,CAAChC,EAAMM,CAAM,CAAC,EAAG,CAEzQ,sCAAuC,wCAAwC,EAAG,CAACR,EAAO,CAACG,EAAQ0B,EAAO,EAAG,CAAC3B,EAAMK,CAAM,CAAC,EAAG,CAE9H,eAAgB,yCAEhB,8BACA,EAAG,CAACP,EAAO,CAACG,EAAQU,EAAM,EAAG,CAACX,EAAMM,CAAM,CAAC,EAAG,CAAC,+CAC/C,EAAG,CAAC,CAACR,EAAO,QAAS,eAAe,EAAG,CAACG,EAAQU,EAAM,EAAG,CAACX,EAAMK,CAAM,CAAC,EAAG,CAE1E,8BACA,EAAG,CAACP,EAAOG,EAAQ,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,gCAAiC,gBACtE,EAAG,CAACR,EAAO,CAACG,EAAQa,EAAU,EAAG,CAACd,EAAMK,CAAM,CAAC,EAAG,CAElD,mFAAmF,EAAG,CAACP,EAAO,CAACG,EAAQY,EAAI,EAAG,CAACb,EAAMM,CAAM,CAAC,EAAG,CAAC,+CAA+C,EAAG,CAACR,EAAO,CAACG,EAAQY,EAAI,EAAG,CAACb,EAAMK,CAAM,CAAC,EAAG,CAE3N,YACA,EAAG,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,2CAI9C,oCAAqC,+EACrC,EAAG,CAACL,EAAQ,CAACH,EAAO,KAAM,GAAG,EAAG,CAACE,EAAMK,CAAM,CAAC,EAAG,CAEjD,8GAA8G,EAAG,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAE3J,iBAAiB,EAAG,CAAC,CAACL,EAAQiD,EAAQ,EAAGpD,EAAO,CAACE,EAAMmE,GAAW,CAChE,OAAU,CAAC,UAAW,OAAO,EAC7B,IAAK,QACP,CAAC,CAAC,EAAG,CAEL,qCAAqC,EAAG,CAACrE,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAEnF,8BAA+B,mBAAmB,EAAG,CAACR,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAEjG,gDAAgD,EAAG,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAEjG,8BAA+B,kCAAkC,EAAG,CAACP,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAEpH,gBAAiB,6CAA6C,EAAG,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAE3G,wCAAwC,EAAG,CAACP,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAE3F,mCAAmC,EAAG,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAEpF,+CAAgD,gEAAgE,EAAG,CAACP,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,0BAA2B,8BAA8B,EAAG,CAACR,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAE1Q,mBAEA,sBACA,EAAG,CAACJ,EAAQH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAAC,8IAErC,oCAEA,mBAEA,8BAEA,0CAEA,uBACA,EAAG,CAACL,EAAQH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAAC,2BAErC,uCAEA,uBAEA,4BAEA,iCAEA,kCAEA,8BAEA,gCAEA,iCACA,EAAG,CAACJ,EAAQH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAAC,gBACrC,EAAG,CAACR,EAAO,CAACG,EAAQuB,EAAS,EAAG,CAACxB,EAAMM,CAAM,CAAC,EAAG,CAAC,mCAClD,EAAG,CAACR,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAAC,WACpD,EAAG,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAAC,cAC/C,EAAG,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAAC,eAClD,EAAG,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,wBAC9C,EAAG,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,sBAC/C,EAAG,CAACR,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,6CAClD,EAAG,CAACR,EAAO,CAACG,EAAQ,gBAAgB,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,mBAAmB,EAAG,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,YAC/H,EAAG,CAACR,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,iBAC9C,EAAG,CAACR,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAAC,sBAC9C,EAAG,CAACP,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAAC,iBAChD,EAAG,CAACP,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,sBAChD,EAAG,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,mBAAoB,oCACnE,EAAG,CAAC,CAACL,EAAQ,cAAc,EAAGH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAAC,oBACvD,EAAG,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,4BACnD,EAAG,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,kDACnD,EAAG,CAAC,CAACL,EAAQ,OAAO,EAAGH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAAC,yBAChD,EAAG,CAAC,CAACJ,EAAQ,OAAO,EAAGH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAAC,YAChD,EAAG,CAACP,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAAC,qCACpD,EAAG,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,sBAClD,EAAG,CAACR,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,gBACpD,EAAG,CAACR,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAAC,sDAChD,EAAG,CAACR,EAAO,CAACG,EAAQyB,EAAM,EAAG,CAAC1B,EAAMM,CAAM,CAAC,EAAG,CAAC,iBAC/C,EAAG,CAACL,EAAQH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAAC,oBACrC,EAAG,CAAC,CAACP,EAAO,MAAO,GAAG,EAAG,CAACG,EAAQuB,EAAS,EAAG,CAACxB,EAAMK,CAAM,CAAC,EAAG,CAAC,uDAChE,EAAG,CAACP,EAAO,CAACG,EAAQiC,EAAK,EAAG,CAAClC,EAAMM,CAAM,CAAC,EAAG,CAAC,uCAAuC,EAAG,CAACR,EAAO,CAACG,EAAQiC,EAAK,EAAG,CAAClC,EAAMK,CAAM,CAAC,EAAG,CAKlI,sBACA,EAAG,CAACJ,EAAQ,CAACD,EAAMO,CAAO,CAAC,EAAG,CAAC,qBAAqB,EAAG,CAAC,CAACT,EAAO,IAAK,SAAS,EAAG,CAACG,EAAQ6B,EAAO,EAAG,CAAC9B,EAAMO,CAAO,CAAC,EAAG,CAAC,4DACvH,EAAG,CAAC,CAACN,EAAQsB,EAAE,EAAG,CAACvB,EAAMO,CAAO,CAAC,EAAG,CAAC,cACrC,EAAG,CAACN,EAAQ,CAACH,EAAOc,GAAQ,KAAK,EAAG,CAACZ,EAAMO,CAAO,CAAC,EAAG,CAAC,QACvD,EAAG,CAAC,CAACT,EAAOkB,GAAS,MAAM,EAAG,CAACf,EAAQkB,EAAM,EAAG,CAACnB,EAAMO,CAAO,CAAC,EAAG,CAAC,2BACnE,EAAG,CAACT,EAAO,CAACG,EAAQU,EAAM,EAAG,CAACX,EAAMO,CAAO,CAAC,EAAG,CAAC,kBAChD,EAAG,CAACT,EAAO,CAACG,EAAQyB,EAAM,EAAG,CAAC1B,EAAMO,CAAO,CAAC,EAAG,CAAC,uBAAwB,qBACxE,EAAG,CAACT,EAAO,CAACG,EAAQ8B,EAAK,EAAG,CAAC/B,EAAMO,CAAO,CAAC,EAAG,CAAC,0BAC/C,EAAG,CAACT,EAAO,CAACG,EAAQ+B,EAAI,EAAG,CAAChC,EAAMO,CAAO,CAAC,EAAG,CAAC,wBAC9C,EAAG,CAACT,EAAO,CAACG,EAAQgC,EAAM,EAAG,CAACjC,EAAMO,CAAO,CAAC,EAAG,CAAC,2BAChD,EAAG,CAACN,EAAQH,EAAO,CAACE,EAAMO,CAAO,CAAC,EAAG,CAAC,0CAEtC,2DACA,EAAG,CAAC,CAACN,EAAQqD,EAAI,EAAG,CAACxD,EAAOwD,EAAI,EAAG,CAACtD,EAAMO,CAAO,CAAC,EAAG,CAErD,iDAAiD,EAAG,CAACT,EAAO,CAACE,EAAMO,CAAO,CAAC,EAAG,CAAC,iDAAiD,EAAG,CAAC,CAACP,EAAMO,CAAO,CAAC,EAAG,CAKtJ,UAEA,4BACA,EAAG,CAACN,EAAQH,EAAO,CAACE,EAAMI,CAAO,CAAC,EAAG,CAAC,6BACtC,EAAG,CAACN,EAAO,CAACG,EAAQyB,EAAM,EAAG,CAAC1B,EAAMI,CAAO,CAAC,EAAG,CAAC,oBAChD,EAAG,CAACN,EAAO,CAACG,EAAQ+B,EAAI,EAAG,CAAChC,EAAMI,CAAO,CAAC,EAAG,CAAC,oCAC9C,EAAG,CAACN,EAAO,CAACG,EAAQuB,EAAS,EAAG,CAACxB,EAAMI,CAAO,CAAC,EAAG,CAKlD,6CACA,EAAG,CAACN,EAAO,CAACG,EAAQ6B,EAAO,EAAG,CAAC9B,EAAMQ,CAAQ,CAAC,EAAG,CAAC,iBAElD,4DACA,EAAG,CAACP,EAAQH,EAAO,CAACE,EAAMQ,CAAQ,CAAC,EAAG,CAAC,8BACvC,EAAG,CAACV,EAAO,CAACG,EAAQ4B,EAAI,EAAG,CAAC7B,EAAMQ,CAAQ,CAAC,EAAG,CAAC,sCAC/C,EAAG,CAACV,EAAO,CAACG,EAAQW,EAAK,EAAG,CAACZ,EAAMQ,CAAQ,CAAC,EAAG,CAAC,eAChD,EAAG,CAACV,EAAO,CAACG,EAAQ0B,EAAO,EAAG,CAAC3B,EAAMQ,CAAQ,CAAC,EAAG,CAAC,aAClD,EAAG,CAACV,EAAO,CAACG,EAAQwB,EAAQ,EAAG,CAACzB,EAAMQ,CAAQ,CAAC,EAAG,CAAC,iBACnD,EAAG,CAACV,EAAO,CAACG,EAAQ+B,EAAI,EAAG,CAAChC,EAAMQ,CAAQ,CAAC,EAAG,CAAC,cAC/C,EAAG,CAACV,EAAO,CAACG,EAAQsB,EAAE,EAAG,CAACvB,EAAMQ,CAAQ,CAAC,EAAG,CAAC,2BAA2B,EAAG,CAACV,EAAO,CAACG,EAAQiC,EAAK,EAAG,CAAClC,EAAMQ,CAAQ,CAAC,EAAG,CAKvH,sBACA,EAAG,CAACV,EAAO,CAACG,EAAQkB,EAAM,EAAG,CAACnB,EAAMQ,CAAQ,CAAC,EAAG,CAAC,gCACjD,EAAG,CAACP,EAAQH,EAAO,CAACE,EAAMQ,CAAQ,CAAC,EAAG,CAAC,uBACvC,EAAG,CAACV,EAAO,CAACG,EAAQkC,EAAQ,EAAG,CAACnC,EAAMQ,CAAQ,CAAC,EAAG,CAKlD,sCACA,EAAG,CAACP,EAAQ,CAACD,EAAMS,CAAQ,CAAC,EAAG,CAAC,YAChC,EAAG,CAACX,EAAO,CAACG,EAAQU,EAAM,EAAG,CAACX,EAAMS,CAAQ,CAAC,EAAG,CAAC,oBACjD,EAAG,CAACX,EAAO,CAACG,EAAQW,EAAK,EAAG,CAACZ,EAAMS,CAAQ,CAAC,EAAG,CAAC,cAAc,EAAG,CAAC,CAACT,EAAMS,CAAQ,CAAC,EAAG,CAKrF,gEACA,EAAG,CAACX,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAAC,6DAC7B,EAAG,CAACP,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAAC,8CAC7B,EAAG,CAAC,CAACN,EAAMM,CAAM,CAAC,EAAG,CAAC,gEACtB,EAAG,CAAC,CAACN,EAAMK,CAAM,CAAC,EAAG,CAAC,kCACtB,EAAG,CAACP,EAAO,CAACG,EAAQ,SAAS,CAAC,CAAC,EAC/B,OAAQ,CAAC,CAAC,4BACV,EAAG,CAACC,EAAS,CAACH,EAAMkB,GAAO,MAAM,CAAC,EAAG,CAAC,sBACtC,EAAG,CAAClB,EAAMG,CAAO,EAAG,CAAC,2CACrB,EAAG,CAACA,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAAC,uBAEhC,4EAEA,0BAEA,yCAEA,8BAGA,aACA,EAAG,CAACA,EAAMG,CAAO,EAAG,CAAC,aAAa,EAAG,CAAC,CAACH,EAAM,QAAQ,CAAC,EAAG,CAAC,+BAC1D,EAAG,CAACG,EAASH,CAAI,CAAC,EAClB,GAAI,CAAC,CAEL,iCACA,EAAG,CAACA,EAAMG,CAAO,EAAG,CAAC,2DACrB,EAAG,CAACH,EAAM,CAACG,EAASiE,GAAWG,EAAiB,CAAC,EAAG,CAAC,0BAErD,0CAA2C,sCAAsC,EAAG,CAAC,CAACpE,EAASiE,GAAWG,EAAiB,EAAG,CAACvE,EAAM,SAAS,CAAC,EAAG,CAElJ,uDAEA,4CAA6C,sBAAsB,EAAG,CAAC,CAACG,EAAS,KAAM,GAAG,EAAG,CAACH,EAAM,KAAK,CAAC,EAAG,CAAC,0BAA2B,uCACzI,EAAG,CAAC,CAACA,EAAMsC,EAAM,EAAG,CAACnC,EAAS,KAAM,GAAG,CAAC,EAAG,CAE3C,gDACA,EAAG,CAACA,EAASH,CAAI,EAAG,CAAC,kCACrB,EAAG,CAAC,CAACA,EAAM,OAAQ,UAAU,EAAGG,CAAO,EAAG,CAE1C,sIAAsI,EAAG,CAACH,EAAMG,CAAO,EAAG,CAAC,YAC3J,EAAG,CAACA,EAAS,CAACH,EAAMe,EAAU,CAAC,EAAG,CAAC,6DACnC,EAAG,CAACZ,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CAAC,iFAClC,EAAG,CAACG,EAAS,CAACH,EAAMmB,GAAU,KAAK,CAAC,EAAG,CAAC,kBAAmB,sCAC3D,EAAG,CAAChB,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAAC,sCAChC,EAAG,CAACG,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CAEjC,mBACA,EAAG,CAACG,EAAS,CAACH,EAAMiB,GAAS,MAAM,CAAC,EAAG,CAAC,kCACxC,EAAG,CAAC,CAACjB,EAAMqC,EAAW,EAAGlC,CAAO,EAAG,CAEnC,qBAEA,iBAEA,2BAIA,mDAEA,2BAIA,wCAEA,yBAEA,4BAEA,8SAEA,+CAEA,oBAEA,6EAEA,gBACA,EAAG,CAACH,EAAMG,CAAO,EAAG,CAAC,uBACrB,EAAG,CAAC,CAACH,EAAM,SAAS,EAAGG,CAAO,EAAG,CAAC,sCAElC,kCAEA,mEAEA,oBACA,EAAG,CAACH,EAAMG,CAAO,CAAC,CACpB,EAMIqE,EAAW,SAAUd,EAAIhB,EAAY,CAKvC,GAJI,OAAOgB,IAAO9D,IAChB8C,EAAagB,EACbA,EAAKpE,GAEH,EAAE,gBAAgBkF,GACpB,OAAO,IAAIA,EAASd,EAAIhB,CAAU,EAAE,UAAU,EAEhD,IAAI+B,EAAa,OAAOpF,IAAWM,GAAcN,EAAO,UAAYA,EAAO,UAAYC,EACnFoF,EAAMhB,IAAOe,GAAcA,EAAW,UAAYA,EAAW,UAAYjF,GACzEmF,EAAQF,GAAcA,EAAW,cAAgBA,EAAW,cAAgBnF,EAC5EsF,EAAUlC,EAAaF,GAAOC,GAASC,CAAU,EAAID,GACrDoC,EAAaJ,GAAcA,EAAW,WAAaC,EACvD,YAAK,WAAa,UAAY,CAC5B,IAAII,EAAW,CAAC,EAChB,OAAAA,EAAS9E,CAAI,EAAIV,EACjBwF,EAAS3E,CAAO,EAAIb,EACpBmE,GAAU,KAAKqB,EAAUJ,EAAKE,EAAQ,OAAO,EAC7CE,EAAShF,CAAK,EAAIuD,GAASyB,EAAS3E,CAAO,CAAC,EAExC0E,GAAcJ,GAAcA,EAAW,OAAS,OAAOA,EAAW,MAAM,SAAW/E,IACrFoF,EAAS9E,CAAI,EAAI,SAEZ8E,CACT,EACA,KAAK,OAAS,UAAY,CACxB,IAAIC,EAAO,CAAC,EACZ,OAAAA,EAAK3E,CAAY,EAAId,EACrBmE,GAAU,KAAKsB,EAAML,EAAKE,EAAQ,GAAG,EAC9BG,CACT,EACA,KAAK,UAAY,UAAY,CAC3B,IAAIC,EAAU,CAAC,EACf,OAAAA,EAAQ9E,CAAM,EAAIZ,EAClB0F,EAAQjF,CAAK,EAAIT,EACjB0F,EAAQ/E,CAAI,EAAIX,EAChBmE,GAAU,KAAKuB,EAASN,EAAKE,EAAQ,MAAM,EACvCC,GAAc,CAACG,EAAQ/E,CAAI,GAAK0E,GAASA,EAAM,SACjDK,EAAQ/E,CAAI,EAAIK,GAGduE,GAAcG,EAAQjF,CAAK,GAAK,aAAe0E,GAAc,OAAOA,EAAW,aAAe9E,GAAc8E,EAAW,gBAAkBA,EAAW,eAAiB,IACvKO,EAAQjF,CAAK,EAAI,OACjBiF,EAAQ/E,CAAI,EAAIM,GAEXyE,CACT,EACA,KAAK,UAAY,UAAY,CAC3B,IAAIC,EAAU,CAAC,EACf,OAAAA,EAAQjF,CAAI,EAAIV,EAChB2F,EAAQ9E,CAAO,EAAIb,EACnBmE,GAAU,KAAKwB,EAASP,EAAKE,EAAQ,MAAM,EACpCK,CACT,EACA,KAAK,MAAQ,UAAY,CACvB,IAAIC,EAAM,CAAC,EACX,OAAAA,EAAIlF,CAAI,EAAIV,EACZ4F,EAAI/E,CAAO,EAAIb,EACfmE,GAAU,KAAKyB,EAAKR,EAAKE,EAAQ,EAAE,EAC/BC,GAAc,CAACK,EAAIlF,CAAI,GAAK2E,GAASA,EAAM,UAAYA,EAAM,UAAY,YAC3EO,EAAIlF,CAAI,EAAI2E,EAAM,SAAS,QAAQ,aAActC,EAAW,EAAE,QAAQ,SAAUC,EAAM,GAEjF4C,CACT,EACA,KAAK,UAAY,UAAY,CAC3B,MAAO,CACL,GAAI,KAAK,MAAM,EACf,QAAS,KAAK,WAAW,EACzB,OAAQ,KAAK,UAAU,EACvB,GAAI,KAAK,MAAM,EACf,OAAQ,KAAK,UAAU,EACvB,IAAK,KAAK,OAAO,CACnB,CACF,EACA,KAAK,MAAQ,UAAY,CACvB,OAAOR,CACT,EACA,KAAK,MAAQ,SAAUhB,EAAI,CACzB,OAAAgB,EAAM,OAAOhB,IAAO7D,GAAY6D,EAAG,OAAS/C,EAAgB4C,GAAKG,EAAI/C,CAAa,EAAI+C,EAC/E,IACT,EACA,KAAK,MAAMgB,CAAG,EACP,IACT,EACAF,EAAS,QAAUjF,EACnBiF,EAAS,QAAU3B,GAAU,CAAC7C,EAAMG,EAASL,CAAK,CAAC,EACnD0E,EAAS,IAAM3B,GAAU,CAACzC,CAAY,CAAC,EACvCoE,EAAS,OAAS3B,GAAU,CAAC9C,EAAOG,EAAQD,EAAMI,EAASC,EAAQE,EAASD,EAAQE,EAAUC,CAAQ,CAAC,EACvG8D,EAAS,OAASA,EAAS,GAAK3B,GAAU,CAAC7C,EAAMG,CAAO,CAAC,EAOrD,OAAOhB,KAAYQ,GAEjB,OAAOP,KAAWO,GAAcP,GAAO,UACzCD,GAAUC,GAAO,QAAUoF,GAE7BrF,GAAQ,SAAWqF,GAGf,OAAO,SAAW9E,GAAa,OAAO,IACxC,OAAO,UAAY,CACjB,OAAO8E,CACT,CAAC,EACQ,OAAOnF,IAAWM,IAE3BN,EAAO,SAAWmF,GAStB,IAAIW,GAAI,OAAO9F,IAAWM,IAAeN,EAAO,QAAUA,EAAO,OACjE,GAAI8F,IAAK,CAACA,GAAE,GAAI,CACd,IAAIC,GAAS,IAAIZ,EACjBW,GAAE,GAAKC,GAAO,UAAU,EACxBD,GAAE,GAAG,IAAM,UAAY,CACrB,OAAOC,GAAO,MAAM,CACtB,EACAD,GAAE,GAAG,IAAM,SAAUzB,EAAI,CACvB0B,GAAO,MAAM1B,CAAE,EACf,IAAI2B,EAASD,GAAO,UAAU,EAC9B,QAASE,KAAQD,EACfF,GAAE,GAAGG,CAAI,EAAID,EAAOC,CAAI,CAE5B,CACF,CACF,GAAG,OAAO,QAAW,SAAW,OAASnG,EAAI,ICnyB7C,IAAAoG,GAAAC,GAAA,CAAAC,GAAAC,KAAA,cAEA,SAASC,GAAWC,EAAU,CAC5B,OAAO,OAAOA,GAAa,UAC7B,CAGA,IAAIC,EAAS,QAAQ,MAAM,KAAK,OAAO,EAIvC,SAASC,GAAeC,EAAKC,EAAMC,EAAO,CACxC,IAAIC,EAAa,CAAC,CAACH,EAAIC,CAAI,GAAKD,EAAI,qBAAqBC,CAAI,EAC7D,OAAO,eAAeD,EAAKC,EAAM,CAC/B,aAAc,GACd,WAAYE,EACZ,SAAU,GACV,MAAOD,CACT,CAAC,CACH,CAGA,SAASE,GAAQC,EAAS,CACpBA,GAAWA,EAAQ,SAChBT,GAAWS,EAAQ,MAAM,EAA6DP,EAASO,EAAQ,OAA3EP,EAAO,4CAA4C,EAExF,CACA,SAASQ,GAAKC,EAAQN,EAAMO,EAAS,CACnC,GAAI,CAACD,GAAU,CAACA,EAAON,CAAI,EAAG,CAC5BH,EAAO,wBAA0BG,EAAO,UAAU,EAClD,MACF,CACA,GAAI,CAACO,EAAS,CACZV,EAAO,qBAAqB,EAC5BA,EAAO,IAAI,MAAM,EAAE,KAAK,EACxB,MACF,CACA,GAAI,CAACF,GAAWW,EAAON,CAAI,CAAC,GAAK,CAACL,GAAWY,CAAO,EAAG,CACrDV,EAAO,+CAA+C,EACtD,MACF,CACA,IAAIW,EAAWF,EAAON,CAAI,EACtBS,EAAUF,EAAQC,EAAUR,CAAI,EACpC,OAAAF,GAAeW,EAAS,aAAcD,CAAQ,EAC9CV,GAAeW,EAAS,WAAY,UAAY,CAC1CH,EAAON,CAAI,IAAMS,GAASX,GAAeQ,EAAQN,EAAMQ,CAAQ,CACrE,CAAC,EACDV,GAAeW,EAAS,YAAa,EAAI,EACzCX,GAAeQ,EAAQN,EAAMS,CAAO,EAC7BA,CACT,CACA,SAASC,GAASC,EAASC,EAAOL,EAAS,CACzC,GAAKI,EAIO,MAAM,QAAQA,CAAO,IAC/BA,EAAU,CAACA,CAAO,OALN,CACZd,EAAO,2CAA2C,EAClDA,EAAO,IAAI,MAAM,EAAE,KAAK,EACxB,MACF,CAGA,GAAI,EAAEe,GAAS,MAAM,QAAQA,CAAK,GAAI,CACpCf,EAAO,uDAAuD,EAC9D,MACF,CACAc,EAAQ,QAAQ,SAAUL,EAAQ,CAChCM,EAAM,QAAQ,SAAUZ,EAAM,CAC5BK,GAAKC,EAAQN,EAAMO,CAAO,CAC5B,CAAC,CACH,CAAC,CACH,CACA,SAASM,GAAOP,EAAQN,EAAM,CAC5B,GAAI,CAACM,GAAU,CAACA,EAAON,CAAI,EAAG,CAC5BH,EAAO,wBAAwB,EAC/BA,EAAO,IAAI,MAAM,EAAE,KAAK,EACxB,MACF,CACA,GAAI,CAACS,EAAON,CAAI,EAAE,SAChBH,EAAO,mCAAqCG,EAAO,0BAA0B,MAE7E,QAAOM,EAAON,CAAI,EAAE,SAAS,CAEjC,CACA,SAASc,GAAWH,EAASC,EAAO,CAClC,GAAKD,EAIO,MAAM,QAAQA,CAAO,IAC/BA,EAAU,CAACA,CAAO,OALN,CACZd,EAAO,2CAA2C,EAClDA,EAAO,IAAI,MAAM,EAAE,KAAK,EACxB,MACF,CAGA,GAAI,EAAEe,GAAS,MAAM,QAAQA,CAAK,GAAI,CACpCf,EAAO,yDAAyD,EAChE,MACF,CACAc,EAAQ,QAAQ,SAAUL,EAAQ,CAChCM,EAAM,QAAQ,SAAUZ,EAAM,CAC5Ba,GAAOP,EAAQN,CAAI,CACrB,CAAC,CACH,CAAC,CACH,CACAG,GAAQ,KAAOE,GACfF,GAAQ,SAAWO,GACnBP,GAAQ,OAASU,GACjBV,GAAQ,WAAaW,GACrBpB,GAAO,QAAUS,KCvGjB,IAAAY,GAAAC,GAAAC,GAAA,cAEA,OAAO,eAAeA,EAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACDA,EAAQ,oBAAsBA,EAAQ,KAAOA,EAAQ,IAAMA,EAAQ,cAAgBA,EAAQ,WAAa,OAIxGA,EAAQ,WAAa,GAIrBA,EAAQ,cAAgB,GAIxBA,EAAQ,IAAM,IAAI,YAAY,CAAC,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAU,CAAC,EAI9xBA,EAAQ,KAAO,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAU,EAI9GA,EAAQ,oBAAsB,KAAK,IAAI,EAAG,EAAE,EAAI,ICzBhD,IAAAC,GAAAC,GAAAC,IAAA,cAEA,OAAO,eAAeA,GAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACDA,GAAQ,UAAY,OACpB,IAAIC,EAAc,KAIdC,IAAyB,UAAY,CACvC,SAASA,GAAY,CACnB,KAAK,MAAQ,WAAW,KAAKD,EAAY,IAAI,EAC7C,KAAK,KAAO,IAAI,WAAW,EAAE,EAC7B,KAAK,OAAS,IAAI,WAAW,EAAE,EAC/B,KAAK,aAAe,EACpB,KAAK,YAAc,EAInB,KAAK,SAAW,EAClB,CACA,OAAAC,EAAU,UAAU,OAAS,SAAUC,EAAM,CAC3C,GAAI,KAAK,SACP,MAAM,IAAI,MAAM,+CAA+C,EAEjE,IAAIC,EAAW,EACXC,EAAaF,EAAK,WAEtB,GADA,KAAK,aAAeE,EAChB,KAAK,YAAc,EAAIJ,EAAY,oBACrC,MAAM,IAAI,MAAM,qCAAqC,EAEvD,KAAOI,EAAa,GAClB,KAAK,OAAO,KAAK,cAAc,EAAIF,EAAKC,GAAU,EAClDC,IACI,KAAK,eAAiBJ,EAAY,aACpC,KAAK,WAAW,EAChB,KAAK,aAAe,EAG1B,EACAC,EAAU,UAAU,OAAS,UAAY,CACvC,GAAI,CAAC,KAAK,SAAU,CAClB,IAAII,EAAa,KAAK,YAAc,EAChCC,EAAa,IAAI,SAAS,KAAK,OAAO,OAAQ,KAAK,OAAO,WAAY,KAAK,OAAO,UAAU,EAC5FC,EAAoB,KAAK,aAG7B,GAFAD,EAAW,SAAS,KAAK,eAAgB,GAAI,EAEzCC,EAAoBP,EAAY,YAAcA,EAAY,WAAa,EAAG,CAC5E,QAASQ,EAAI,KAAK,aAAcA,EAAIR,EAAY,WAAYQ,IAC1DF,EAAW,SAASE,EAAG,CAAC,EAE1B,KAAK,WAAW,EAChB,KAAK,aAAe,CACtB,CACA,QAASA,EAAI,KAAK,aAAcA,EAAIR,EAAY,WAAa,EAAGQ,IAC9DF,EAAW,SAASE,EAAG,CAAC,EAE1BF,EAAW,UAAUN,EAAY,WAAa,EAAG,KAAK,MAAMK,EAAa,UAAW,EAAG,EAAI,EAC3FC,EAAW,UAAUN,EAAY,WAAa,EAAGK,CAAU,EAC3D,KAAK,WAAW,EAChB,KAAK,SAAW,EAClB,CAIA,QADII,EAAM,IAAI,WAAWT,EAAY,aAAa,EACzCQ,EAAI,EAAGA,EAAI,EAAGA,IACrBC,EAAID,EAAI,CAAC,EAAI,KAAK,MAAMA,CAAC,IAAM,GAAK,IACpCC,EAAID,EAAI,EAAI,CAAC,EAAI,KAAK,MAAMA,CAAC,IAAM,GAAK,IACxCC,EAAID,EAAI,EAAI,CAAC,EAAI,KAAK,MAAMA,CAAC,IAAM,EAAI,IACvCC,EAAID,EAAI,EAAI,CAAC,EAAI,KAAK,MAAMA,CAAC,IAAM,EAAI,IAEzC,OAAOC,CACT,EACAR,EAAU,UAAU,WAAa,UAAY,CAY3C,QAXIS,EAAK,KACPC,EAASD,EAAG,OACZE,EAAQF,EAAG,MACTG,EAASD,EAAM,CAAC,EAClBE,EAASF,EAAM,CAAC,EAChBG,EAASH,EAAM,CAAC,EAChBI,EAASJ,EAAM,CAAC,EAChBK,EAASL,EAAM,CAAC,EAChBM,EAASN,EAAM,CAAC,EAChBO,EAASP,EAAM,CAAC,EAChBQ,EAASR,EAAM,CAAC,EACTJ,EAAI,EAAGA,EAAIR,EAAY,WAAYQ,IAAK,CAC/C,GAAIA,EAAI,GACN,KAAK,KAAKA,CAAC,GAAKG,EAAOH,EAAI,CAAC,EAAI,MAAS,IAAMG,EAAOH,EAAI,EAAI,CAAC,EAAI,MAAS,IAAMG,EAAOH,EAAI,EAAI,CAAC,EAAI,MAAS,EAAIG,EAAOH,EAAI,EAAI,CAAC,EAAI,QAClI,CACL,IAAIa,EAAI,KAAK,KAAKb,EAAI,CAAC,EACnBc,GAAQD,IAAM,GAAKA,GAAK,KAAOA,IAAM,GAAKA,GAAK,IAAMA,IAAM,GAC/DA,EAAI,KAAK,KAAKb,EAAI,EAAE,EACpB,IAAIe,GAAQF,IAAM,EAAIA,GAAK,KAAOA,IAAM,GAAKA,GAAK,IAAMA,IAAM,EAC9D,KAAK,KAAKb,CAAC,GAAKc,EAAO,KAAK,KAAKd,EAAI,CAAC,EAAI,IAAMe,EAAO,KAAK,KAAKf,EAAI,EAAE,EAAI,EAC7E,CACA,IAAIgB,KAAQP,IAAW,EAAIA,GAAU,KAAOA,IAAW,GAAKA,GAAU,KAAOA,IAAW,GAAKA,GAAU,KAAOA,EAASC,EAAS,CAACD,EAASE,GAAU,IAAMC,GAAUpB,EAAY,IAAIQ,CAAC,EAAI,KAAK,KAAKA,CAAC,EAAI,GAAK,GAAK,EAC9MiB,IAAOZ,IAAW,EAAIA,GAAU,KAAOA,IAAW,GAAKA,GAAU,KAAOA,IAAW,GAAKA,GAAU,MAAQA,EAASC,EAASD,EAASE,EAASD,EAASC,GAAU,EACrKK,EAASD,EACTA,EAASD,EACTA,EAASD,EACTA,EAASD,EAASQ,EAAK,EACvBR,EAASD,EACTA,EAASD,EACTA,EAASD,EACTA,EAASW,EAAKC,EAAK,CACrB,CACAb,EAAM,CAAC,GAAKC,EACZD,EAAM,CAAC,GAAKE,EACZF,EAAM,CAAC,GAAKG,EACZH,EAAM,CAAC,GAAKI,EACZJ,EAAM,CAAC,GAAKK,EACZL,EAAM,CAAC,GAAKM,EACZN,EAAM,CAAC,GAAKO,EACZP,EAAM,CAAC,GAAKQ,CACd,EACOnB,CACT,GAAE,EACFF,GAAQ,UAAYE,KCtHpB,IAAAyB,GAAAC,GAAAC,IAAA,cAEA,OAAO,eAAeA,GAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACDA,GAAQ,OAAS,OACjB,IAAIC,GAAU,cACVC,GAAc,KACdC,GAAc,KACdC,GAAS,KACTC,IAAsB,UAAY,CACpC,SAASA,EAAOC,EAAQ,CACtB,KAAK,OAASA,EACd,KAAK,KAAO,IAAIH,GAAY,UAC5B,KAAK,MAAM,CACb,CACA,OAAAE,EAAO,UAAU,OAAS,SAAUE,EAAQ,CAC1C,GAAK,KAAGH,GAAO,aAAaG,CAAM,GAAK,KAAK,OAG5C,GAAI,CACF,KAAK,KAAK,UAAWH,GAAO,iBAAiBG,CAAM,CAAC,CACtD,OAAS,EAAG,CACV,KAAK,MAAQ,CACf,CACF,EAIAF,EAAO,UAAU,WAAa,UAAY,CACxC,GAAI,KAAK,MACP,MAAM,KAAK,MAEb,OAAI,KAAK,OACF,KAAK,MAAM,UACd,KAAK,MAAM,OAAO,KAAK,KAAK,OAAO,CAAC,EAE/B,KAAK,MAAM,OAAO,GAEpB,KAAK,KAAK,OAAO,CAC1B,EAMAA,EAAO,UAAU,OAAS,UAAY,CACpC,OAAOJ,GAAQ,UAAU,KAAM,OAAQ,OAAQ,UAAY,CACzD,OAAOA,GAAQ,YAAY,KAAM,SAAUO,EAAI,CAC7C,MAAO,CAAC,EAAc,KAAK,WAAW,CAAC,CACzC,CAAC,CACH,CAAC,CACH,EACAH,EAAO,UAAU,MAAQ,UAAY,CAEnC,GADA,KAAK,KAAO,IAAIF,GAAY,UACxB,KAAK,OAAQ,CACf,KAAK,MAAQ,IAAIA,GAAY,UAC7B,IAAIM,EAAQC,GAAiB,KAAK,MAAM,EACpCC,EAAQ,IAAI,WAAWT,GAAY,UAAU,EACjDS,EAAM,IAAIF,CAAK,EACf,QAASG,EAAI,EAAGA,EAAIV,GAAY,WAAYU,IAC1CH,EAAMG,CAAC,GAAK,GACZD,EAAMC,CAAC,GAAK,GAEd,KAAK,KAAK,OAAOH,CAAK,EACtB,KAAK,MAAM,OAAOE,CAAK,EAEvB,QAASC,EAAI,EAAGA,EAAIH,EAAM,WAAYG,IACpCH,EAAMG,CAAC,EAAI,CAEf,CACF,EACOP,CACT,GAAE,EACFL,GAAQ,OAASK,GACjB,SAASK,GAAiBJ,EAAQ,CAChC,IAAIO,KAAYT,GAAO,iBAAiBE,CAAM,EAC9C,GAAIO,EAAM,WAAaX,GAAY,WAAY,CAC7C,IAAIY,EAAa,IAAIX,GAAY,UACjCW,EAAW,OAAOD,CAAK,EACvBA,EAAQC,EAAW,OAAO,CAC5B,CACA,IAAIC,EAAS,IAAI,WAAWb,GAAY,UAAU,EAClD,OAAAa,EAAO,IAAIF,CAAK,EACTE,CACT,ICrFA,IAAAC,GAAAC,GAAAC,IAAA,cAEA,OAAO,eAAeA,GAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACD,IAAIC,GAAU,cACdA,GAAQ,aAAa,KAAuBD,EAAO,ICN5C,IAAME,EAAN,MAAMC,CAAY,CACvB,YAAYC,EAAS,CACnB,KAAK,OAASA,EAAQ,QAAU,MAChC,KAAK,SAAWA,EAAQ,UAAY,YACpC,KAAK,KAAOA,EAAQ,KACpB,KAAK,MAAQA,EAAQ,OAAS,CAAC,EAC/B,KAAK,QAAUA,EAAQ,SAAW,CAAC,EACnC,KAAK,KAAOA,EAAQ,KACpB,KAAK,SAAWA,EAAQ,SAAWA,EAAQ,SAAS,MAAM,EAAE,IAAM,IAAM,GAAGA,EAAQ,QAAQ,IAAMA,EAAQ,SAAW,SACpH,KAAK,KAAOA,EAAQ,KAAOA,EAAQ,KAAK,OAAO,CAAC,IAAM,IAAM,IAAIA,EAAQ,IAAI,GAAKA,EAAQ,KAAO,IAChG,KAAK,SAAWA,EAAQ,SACxB,KAAK,SAAWA,EAAQ,SACxB,KAAK,SAAWA,EAAQ,QAC1B,CACA,OAAO,MAAMC,EAAS,CACpB,IAAMC,EAAS,IAAIH,EAAYI,GAAAC,GAAA,GAC1BH,GAD0B,CAE7B,QAASG,GAAA,GACJH,EAAQ,QAEf,EAAC,EACD,OAAIC,EAAO,QACTA,EAAO,MAAQG,GAAWH,EAAO,KAAK,GAEjCA,CACT,CACA,OAAO,WAAWD,EAAS,CACzB,GAAI,CAACA,EACH,MAAO,GAET,IAAMK,EAAML,EACZ,MAAO,WAAYK,GAAO,aAAcA,GAAO,aAAcA,GAAO,SAAUA,GAAO,OAAOA,EAAI,OAAa,UAAY,OAAOA,EAAI,SAAe,QACrJ,CACA,OAAQ,CACN,OAAOP,EAAY,MAAM,IAAI,CAC/B,CACF,EACA,SAASM,GAAWE,EAAO,CACzB,OAAO,OAAO,KAAKA,CAAK,EAAE,OAAO,CAACC,EAAOC,IAAc,CACrD,IAAMC,EAAQH,EAAME,CAAS,EAC7B,OAAON,GAAAC,GAAA,GACFI,GADE,CAEL,CAACC,CAAS,EAAG,MAAM,QAAQC,CAAK,EAAI,CAAC,GAAGA,CAAK,EAAIA,CACnD,EACF,EAAG,CAAC,CAAC,CACP,CC7CO,IAAMC,EAAN,KAAmB,CACxB,YAAYC,EAAS,CACnB,KAAK,WAAaA,EAAQ,WAC1B,KAAK,OAASA,EAAQ,OACtB,KAAK,QAAUA,EAAQ,SAAW,CAAC,EACnC,KAAK,KAAOA,EAAQ,IACtB,CACA,OAAO,WAAWC,EAAU,CAC1B,GAAI,CAACA,EAAU,MAAO,GACtB,IAAMC,EAAOD,EACb,OAAO,OAAOC,EAAK,YAAe,UAAY,OAAOA,EAAK,SAAY,QACxE,CACF,ECZO,IAAMC,EAAYC,GAAO,mBAAmBA,CAAG,EAAE,QAAQ,WAAYC,EAAS,EAC/EA,GAAYC,GAAK,IAAIA,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAY,CAAC,GCA9D,SAASC,GAAiBC,EAAO,CACtC,IAAMC,EAAQ,CAAC,EACf,QAASC,KAAO,OAAO,KAAKF,CAAK,EAAE,KAAK,EAAG,CACzC,IAAMG,EAAQH,EAAME,CAAG,EAEvB,GADAA,EAAME,EAAUF,CAAG,EACf,MAAM,QAAQC,CAAK,EACrB,QAASE,EAAI,EAAGC,EAAOH,EAAM,OAAQE,EAAIC,EAAMD,IAC7CJ,EAAM,KAAK,GAAGC,CAAG,IAAIE,EAAUD,EAAME,CAAC,CAAC,CAAC,EAAE,MAEvC,CACL,IAAIE,EAAUL,GACVC,GAAS,OAAOA,GAAU,YAC5BI,GAAW,IAAIH,EAAUD,CAAK,CAAC,IAEjCF,EAAM,KAAKM,CAAO,CACpB,CACF,CACA,OAAON,EAAM,KAAK,GAAG,CACvB,CCnBO,SAASO,GAAcC,EAAKC,EAAgB,CACjD,OAAO,IAAI,QAAQD,EAAKC,CAAc,CACxC,CCFO,SAASC,GAAeC,EAAc,EAAG,CAC9C,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CAClCF,GACF,WAAW,IAAM,CACf,IAAMG,EAAe,IAAI,MAAM,mCAAmCH,CAAW,KAAK,EAClFG,EAAa,KAAO,eACpBD,EAAOC,CAAY,CACrB,EAAGH,CAAW,CAElB,CAAC,CACH,CCNO,IAAMI,GAAmB,CAC9B,UAAW,MACb,EACaC,GAAN,MAAMC,CAAiB,CAC5B,OAAO,OAAOC,EAAmB,CAC/B,OAAI,OAAOA,GAAmB,QAAW,WAChCA,EAEF,IAAID,EAAiBC,CAAiB,CAC/C,CACA,YAAYC,EAAS,CACf,OAAOA,GAAY,WACrB,KAAK,eAAiBA,EAAQ,EAAE,KAAKC,GAAQA,GAAQ,CAAC,CAAC,GAEvD,KAAK,OAASD,GAAW,CAAC,EAC1B,KAAK,eAAiB,QAAQ,QAAQ,KAAK,MAAM,GAE/CJ,GAAiB,YAAc,SACjCA,GAAiB,UAAoB,OAAO,QAAY,KAAe,cAAeM,GAAc,eAAe,EAEvH,CACA,SAAU,CAAC,CACL,OAAOC,EAEL,QAAAC,EAAA,yBAFKC,EAAS,CACpB,YAAAC,CACF,EAAI,CAAC,EAAG,CACD,KAAK,SACR,KAAK,OAAS,MAAM,KAAK,gBAE3B,IAAMC,EAAqB,KAAK,OAAO,eACjCC,EAAY,KAAK,OAAO,YAAc,GACtCC,EAAc,KAAK,OAAO,YAChC,GAAIH,GAAa,QAAS,CACxB,IAAMI,EAAa,IAAI,MAAM,iBAAiB,EAC9C,OAAAA,EAAW,KAAO,aACX,QAAQ,OAAOA,CAAU,CAClC,CACA,IAAIC,EAAON,EAAQ,KACbO,EAAcC,GAAiBR,EAAQ,OAAS,CAAC,CAAC,EACpDO,IACFD,GAAQ,IAAIC,CAAW,IAErBP,EAAQ,WACVM,GAAQ,IAAIN,EAAQ,QAAQ,IAE9B,IAAIS,EAAO,GACX,GAAIT,EAAQ,UAAY,MAAQA,EAAQ,UAAY,KAAM,CACxD,IAAMU,EAAWV,EAAQ,UAAY,GAC/BW,EAAWX,EAAQ,UAAY,GACrCS,EAAO,GAAGC,CAAQ,IAAIC,CAAQ,GAChC,CACA,GAAM,CACJ,KAAAC,EACA,OAAAC,CACF,EAAIb,EACEc,EAAM,GAAGd,EAAQ,QAAQ,KAAKS,CAAI,GAAGT,EAAQ,QAAQ,GAAGY,EAAO,IAAIA,CAAI,GAAK,EAAE,GAAGN,CAAI,GACrFS,EAAOF,IAAW,OAASA,IAAW,OAAS,OAAYb,EAAQ,KACnEgB,EAAiB,CACrB,KAAAD,EACA,QAAS,IAAI,QAAQf,EAAQ,OAAO,EACpC,OAAQa,EACR,YAAAT,CACF,EACI,KAAK,QAAQ,QACfY,EAAe,MAAQ,KAAK,OAAO,OAEjCD,IACFC,EAAe,OAAS,QAEtB,OAAO,gBAAoB,MAC7BA,EAAe,OAASf,GAEtBV,GAAiB,YACnByB,EAAe,UAAYb,GAEzB,OAAO,KAAK,OAAO,aAAgB,YACrC,OAAO,OAAOa,EAAgB,KAAK,OAAO,YAAYhB,CAAO,CAAC,EAEhE,IAAIiB,EAA4B,IAAM,CAAC,EACjCC,EAAerB,GAAciB,EAAKE,CAAc,EAChDG,EAAiB,CAAC,MAAMD,CAAY,EAAE,KAAKE,GAAY,CAC3D,IAAMC,EAAeD,EAAS,QACxBE,EAAqB,CAAC,EAC5B,QAAWC,KAAQF,EAAa,QAAQ,EACtCC,EAAmBC,EAAK,CAAC,CAAC,EAAIA,EAAK,CAAC,EAGtC,OAD0BH,EAAS,MAAQ,KAWpC,CACL,SAAU,IAAII,EAAa,CACzB,QAASF,EACT,OAAQF,EAAS,WACjB,WAAYA,EAAS,OACrB,KAAMA,EAAS,IACjB,CAAC,CACH,EAhBSA,EAAS,KAAK,EAAE,KAAKL,IAAS,CACnC,SAAU,IAAIS,EAAa,CACzB,QAASF,EACT,OAAQF,EAAS,WACjB,WAAYA,EAAS,OACrB,KAAAL,CACF,CAAC,CACH,EAAE,CAUN,CAAC,EAAGU,GAAevB,CAAkB,CAAC,EACtC,OAAID,GACFkB,EAAe,KAAK,IAAI,QAAQ,CAACO,EAASC,IAAW,CACnD,IAAMC,EAAU,IAAM,CACpB,IAAMvB,EAAa,IAAI,MAAM,iBAAiB,EAC9CA,EAAW,KAAO,aAClBsB,EAAOtB,CAAU,CACnB,EACA,GAAI,OAAOJ,EAAY,kBAAqB,WAAY,CACtD,IAAM4B,EAAS5B,EACf4B,EAAO,iBAAiB,QAASD,EAAS,CACxC,KAAM,EACR,CAAC,EACDX,EAA4B,IAAMY,EAAO,oBAAoB,QAASD,CAAO,CAC/E,MACE3B,EAAY,QAAU2B,CAE1B,CAAC,CAAC,EAEG,QAAQ,KAAKT,CAAc,EAAE,QAAQF,CAAyB,CACvE,GACA,uBAAuBa,EAAKC,EAAO,CACjC,KAAK,OAAS,OACd,KAAK,eAAiB,KAAK,eAAe,KAAKC,IAC7CA,EAAOF,CAAG,EAAIC,EACPC,EACR,CACH,CACA,oBAAqB,CACnB,OAAO,KAAK,QAAU,CAAC,CACzB,CACF,EC3IA,IAAMC,GAAqB,CAAC,EACtBC,GAAkB,IAAI,MAAM,EAAE,EACpC,QAAS,EAAI,EAAGC,EAAQ,GAAmBC,EAAQ,GAAmB,EAAID,GAASC,EAAO,IAAK,CAC7F,IAAMC,EAAO,OAAO,aAAa,EAAIF,CAAK,EAC1CF,GAAmBI,CAAI,EAAI,EAC3BH,GAAgB,CAAC,EAAIG,CACvB,CACA,QAAS,EAAI,EAAGF,EAAQ,GAAmBC,EAAQ,IAAmB,EAAID,GAASC,EAAO,IAAK,CAC7F,IAAMC,EAAO,OAAO,aAAa,EAAIF,CAAK,EACpCG,EAAQ,EAAI,GAClBL,GAAmBI,CAAI,EAAIC,EAC3BJ,GAAgBI,CAAK,EAAID,CAC3B,CACA,QAAS,EAAI,EAAG,EAAI,GAAI,IAAK,CAC3BJ,GAAmB,EAAE,SAAS,EAAE,CAAC,EAAI,EAAI,GACzC,IAAMI,EAAO,EAAE,SAAS,EAAE,EACpBC,EAAQ,EAAI,GAClBL,GAAmBI,CAAI,EAAIC,EAC3BJ,GAAgBI,CAAK,EAAID,CAC3B,CACAJ,GAAmB,GAAG,EAAI,GAC1BC,GAAgB,EAAE,EAAI,IACtBD,GAAmB,GAAG,EAAI,GAC1BC,GAAgB,EAAE,EAAI,ICvBf,IAAMK,GAAWC,GAAS,IAAI,YAAY,EAAE,OAAOA,CAAK,ECCxD,IAAMC,EAAeC,GACtB,OAAOA,GAAS,SACXC,GAASD,CAAI,EAElB,YAAY,OAAOA,CAAI,EAClB,IAAI,WAAWA,EAAK,OAAQA,EAAK,WAAYA,EAAK,WAAa,WAAW,iBAAiB,EAE7F,IAAI,WAAWA,CAAI,ECR5B,IAAIE,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAC,EACAC,EACAF,EACAG,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKC,EAAG,CACf,OAAO,SAAUC,EAAG,CAClB,OAAOb,EAAK,CAACY,EAAGC,CAAC,CAAC,CACpB,CACF,CACA,SAASb,EAAKc,EAAI,CAChB,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGI,EAAG,CAAC,IAAMR,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACHP,EAAIO,EACJ,MACF,IAAK,GACH,OAAAR,EAAE,QACK,CACL,MAAOQ,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHR,EAAE,QACFG,EAAIK,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKR,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFR,EAAI,EACJ,QACF,CACA,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAI,CACvDD,EAAE,MAAQQ,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CACjCD,EAAE,MAAQC,EAAE,CAAC,EACbA,EAAIO,EACJ,KACF,CACA,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CACvBD,EAAE,MAAQC,EAAE,CAAC,EACbD,EAAE,IAAI,KAAKQ,CAAE,EACb,KACF,CACIP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAQ,EAAKT,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVa,EAAK,CAAC,EAAGb,CAAC,EACVQ,EAAI,CACN,QAAE,CACAD,EAAID,EAAI,CACV,CACA,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EACWC,GAAiB,SAAUC,EAAU,CAC9C,OAAO1B,GAAU,OAAQ,OAAQ,OAAQ,UAAY,CACnD,IAAIM,EACJ,OAAOQ,GAAY,KAAM,SAAUa,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,MAAO,CAAC,EAAaD,EAAS,KAAK,UAAU,EAAE,KAAK,CAAC,EACvD,IAAK,GACH,OAAApB,EAAQqB,EAAG,KAAK,EAAE,MACX,CAAC,EAAc,KAAK,MAAM,OAAO,aAAa,MAAM,KAAMrB,CAAK,CAAC,CAAC,CAC5E,CACF,CAAC,CACH,CAAC,CACH,EACWsB,GAAmB,SAAUF,EAAU,CAChD,OAAO1B,GAAU,OAAQ,OAAQ,OAAQ,UAAY,CACnD,IAAIM,EACJ,OAAOQ,GAAY,KAAM,SAAUa,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,MAAO,CAAC,EAAaD,EAAS,KAAK,UAAU,EAAE,KAAK,CAAC,EACvD,IAAK,GACH,OAAApB,EAAQqB,EAAG,KAAK,EAAE,MACX,CAAC,EAAc,OAAO,aAAa,MAAM,KAAMrB,CAAK,CAAC,CAChE,CACF,CAAC,CACH,CAAC,CACH,EC9IA,IAAIuB,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EACIM,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIrB,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAsB,EACAC,EACAvB,EACAwB,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKtB,EAAG,CACf,OAAO,SAAUuB,EAAG,CAClB,OAAOX,EAAK,CAACZ,EAAGuB,CAAC,CAAC,CACpB,CACF,CACA,SAASX,EAAKY,EAAI,CAChB,GAAIL,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGG,EAAG,CAAC,IAAMN,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIC,EAAI,EAAGC,IAAMvB,EAAI2B,EAAG,CAAC,EAAI,EAAIJ,EAAE,OAAYI,EAAG,CAAC,EAAIJ,EAAE,SAAcvB,EAAIuB,EAAE,SAAcvB,EAAE,KAAKuB,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEvB,EAAIA,EAAE,KAAKuB,EAAGI,EAAG,CAAC,CAAC,GAAG,KAAM,OAAO3B,EAE3J,OADIuB,EAAI,EAAGvB,IAAG2B,EAAK,CAACA,EAAG,CAAC,EAAI,EAAG3B,EAAE,KAAK,GAC9B2B,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACH3B,EAAI2B,EACJ,MACF,IAAK,GACH,OAAAN,EAAE,QACK,CACL,MAAOM,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHN,EAAE,QACFE,EAAII,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKN,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMrB,EAAIqB,EAAE,KAAM,EAAArB,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAO2B,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFN,EAAI,EACJ,QACF,CACA,GAAIM,EAAG,CAAC,IAAM,IAAM,CAAC3B,GAAK2B,EAAG,CAAC,EAAI3B,EAAE,CAAC,GAAK2B,EAAG,CAAC,EAAI3B,EAAE,CAAC,GAAI,CACvDqB,EAAE,MAAQM,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKN,EAAE,MAAQrB,EAAE,CAAC,EAAG,CACjCqB,EAAE,MAAQrB,EAAE,CAAC,EACbA,EAAI2B,EACJ,KACF,CACA,GAAI3B,GAAKqB,EAAE,MAAQrB,EAAE,CAAC,EAAG,CACvBqB,EAAE,MAAQrB,EAAE,CAAC,EACbqB,EAAE,IAAI,KAAKM,CAAE,EACb,KACF,CACI3B,EAAE,CAAC,GAAGqB,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAM,EAAKP,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVW,EAAK,CAAC,EAAGX,CAAC,EACVO,EAAI,CACN,QAAE,CACAD,EAAItB,EAAI,CACV,CACA,GAAI2B,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAGIC,GAAS,OACTC,GAAe,oCACfC,GAAW,SACXC,GAAS,4BACTC,GAAU,aACVC,IAAyB,UAAY,CACvC,SAASA,EAAUC,EAAQ,CACzB,IAAIC,EAAQ,KACZ,KAAK,0BAA4B,SAAUC,EAAS,CAClD,OAAO/B,GAAU8B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIE,EAAeC,EAAaC,EAAYC,EAAUC,EAAaC,EACnE,OAAOvB,GAAY,KAAM,SAAUwB,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EACvBN,EAAgBtC,GAASA,GAAS,CAAC,EAAGqC,CAAO,EAAG,CAC9C,OAAQL,GACR,QAASC,EACX,CAAC,EACDM,EAAc,IAAI,gBAAgB,OAAO,QAAQD,CAAa,CAAC,EAAE,SAAS,EAC1EE,EAAa,IAAIK,EAAY,CAC3B,OAAQhB,GACR,QAAS,CACP,eAAgBC,GAChB,KAAM,KAAK,QACb,EACA,SAAUC,GACV,SAAU,KAAK,SACf,KAAMQ,CACR,CAAC,EACM,CAAC,EAAa,KAAK,oBAAoB,OAAOC,CAAU,CAAC,EAClE,IAAK,GACH,OAAAC,EAAWG,EAAG,KAAK,EAAE,SACd,CAAC,EAAaE,GAAiBL,CAAQ,CAAC,EACjD,IAAK,GACH,OAAAC,EAAcE,EAAG,KAAK,EACf,CAAC,EAAc,CACpB,YAAaF,EAAY,MAAM,eAAe,EAAE,CAAC,EAAE,MAAM,gBAAgB,EAAE,CAAC,EAC5E,gBAAiBA,EAAY,MAAM,mBAAmB,EAAE,CAAC,EAAE,MAAM,oBAAoB,EAAE,CAAC,EACxF,aAAcA,EAAY,MAAM,gBAAgB,EAAE,CAAC,EAAE,MAAM,iBAAiB,EAAE,CAAC,EAC/E,WAAY,IAAI,KAAKA,EAAY,MAAM,cAAc,EAAE,CAAC,EAAE,MAAM,eAAe,EAAE,CAAC,CAAC,CACrF,CAAC,EACH,IAAK,GACH,MAAAC,EAAMC,EAAG,KAAK,EACR,IAAI,MAAM,iDAAiD,OAAOD,CAAG,CAAC,EAC9E,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,SAAW,OAAO,OAAOR,EAAO,OAAQ,gBAAgB,EAC7D,KAAK,oBAAsBA,EAAO,mBACpC,CACA,OAAOD,CACT,GAAE,ECtLK,IAAIa,GAAW,QACXC,GAAe,QACfC,GAAsB,QACtBC,GAAmB,QACnBC,GAAgB,IAEpB,IAAIC,GAAiB,aCN5B,IAAIC,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAC,EACAC,EACAF,EACAG,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKC,EAAG,CACf,OAAO,SAAUC,EAAG,CAClB,OAAOb,EAAK,CAACY,EAAGC,CAAC,CAAC,CACpB,CACF,CACA,SAASb,EAAKc,EAAI,CAChB,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGI,EAAG,CAAC,IAAMR,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACHP,EAAIO,EACJ,MACF,IAAK,GACH,OAAAR,EAAE,QACK,CACL,MAAOQ,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHR,EAAE,QACFG,EAAIK,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKR,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFR,EAAI,EACJ,QACF,CACA,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAI,CACvDD,EAAE,MAAQQ,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CACjCD,EAAE,MAAQC,EAAE,CAAC,EACbA,EAAIO,EACJ,KACF,CACA,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CACvBD,EAAE,MAAQC,EAAE,CAAC,EACbD,EAAE,IAAI,KAAKQ,CAAE,EACb,KACF,CACIP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAQ,EAAKT,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVa,EAAK,CAAC,EAAGb,CAAC,EACVQ,EAAI,CACN,QAAE,CACAD,EAAID,EAAI,CACV,CACA,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAKIC,GAAS,OACTC,GAAe,6BACfC,GAAW,SAEXC,GAAgB,kCAChBC,GAAmB,2CACnBC,GAAyB,sDACzBC,IAAqC,UAAY,CACnD,SAASA,EAAsBC,EAAQ,CACrC,IAAIC,EAAQ,KACRC,EACJ,KAAK,MAAQ,SAAUC,EAAS,CAC9B,OAAOnC,GAAUiC,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIG,EAAeC,EAAgBC,EAAWC,EAAiBL,EAAIM,EACnE,OAAO1B,GAAY,KAAM,SAAU2B,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACHL,EAAgB,KAChB,GAAI,CACFA,EAAgB,KAAK,MAAM,aAAa,QAAQ,KAAK,kBAAkB,CAAC,CAC1E,MAAY,CAEZ,CACA,GAAIA,GAAiBA,EAAc,WACjC,MAAO,CAAC,EAAc,QAAQ,QAAQA,CAAa,CAAC,EAEtDK,EAAG,MAAQ,EACb,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EACvBJ,EAAiB,KAAK,UAAUF,CAAO,EACvCG,EAAY,KAAK,eAAeV,GAAeS,CAAc,EAC7DH,EAAKQ,GACE,CAAC,EAAa,KAAK,oBAAoB,OAAOJ,CAAS,CAAC,EACjE,IAAK,GACH,MAAO,CAAC,EAAaJ,EAAG,MAAM,OAAQ,CAACO,EAAG,KAAK,EAAE,QAAQ,CAAC,CAAC,EAC7D,IAAK,GACHF,EAAkBE,EAAG,KAAK,EAC1B,GAAI,CACF,aAAa,QAAQ,KAAK,mBAAoB,KAAK,UAAU,CAC3D,WAAYF,EAAgB,UAC9B,CAAC,CAAC,CACJ,MAAY,CAEZ,CACA,MAAO,CAAC,EAAcA,CAAe,EACvC,IAAK,GACH,MAAAC,EAAMC,EAAG,KAAK,EACR,IAAI,MAAM,6CAA6C,OAAOD,CAAG,CAAC,EAC1E,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,eAAiB,SAAUL,EAAS,CACvC,OAAOnC,GAAUiC,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAII,EAAgBM,EAAcC,EAAUV,EAAIW,EAChD,OAAO/B,GAAY,KAAM,SAAU2B,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EACvBJ,EAAiB,KAAK,UAAUF,CAAO,EACvCQ,EAAe,KAAK,eAAed,GAAkBQ,CAAc,EAC5D,CAAC,EAAa,KAAK,oBAAoB,OAAOM,CAAY,CAAC,EACpE,IAAK,GACH,OAAAC,EAAWH,EAAG,KAAK,EAAE,SACrBP,EAAK,KAAK,4BACH,CAAC,EAAaQ,GAAeE,CAAQ,CAAC,EAC/C,IAAK,GACH,MAAO,CAAC,EAAcV,EAAG,MAAM,KAAM,CAACO,EAAG,KAAK,CAAC,CAAC,CAAC,EACnD,IAAK,GACH,MAAAI,EAAMJ,EAAG,KAAK,EACd,aAAa,WAAW,KAAK,kBAAkB,EACzC,IAAI,MAAM,iDAAiD,OAAOI,CAAG,CAAC,EAC9E,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,0BAA4B,SAAUC,EAAY,CACrD,OAAO9C,GAAUiC,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAII,EAAgBU,EAAmBH,EAAUV,EAAIc,EAAaC,EAAYC,EAAWC,EAAcV,EAAIW,EAC3G,OAAOtC,GAAY,KAAM,SAAUuC,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EACvBhB,EAAiB,KAAK,UAAU,CAC9B,WAAYS,CACd,CAAC,EACDC,EAAoB,KAAK,eAAejB,GAAwBO,CAAc,EACvE,CAAC,EAAa,KAAK,oBAAoB,OAAOU,CAAiB,CAAC,EACzE,IAAK,GACH,OAAAH,EAAWS,EAAG,KAAK,EAAE,SACrBZ,EAAK,KAAK,8BACH,CAAC,EAAaC,GAAeE,CAAQ,CAAC,EAC/C,IAAK,GACH,OAAAV,EAAKO,EAAG,MAAM,KAAM,CAACY,EAAG,KAAK,CAAC,CAAC,EAAGL,EAAcd,EAAG,YAAae,EAAaf,EAAG,WAAYgB,EAAYhB,EAAG,UAAWiB,EAAejB,EAAG,aACjI,CAAC,EAAc,CACpB,YAAac,EACb,gBAAiBE,EACjB,aAAcC,EACd,WAAY,IAAI,KAAKF,EAAa,GAAI,CACxC,CAAC,EACH,IAAK,GACH,MAAAG,EAAMC,EAAG,KAAK,EACd,aAAa,WAAW,KAAK,kBAAkB,EACzC,IAAI,MAAM,6DAA6D,OAAOD,CAAG,CAAC,EAC1F,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,4BAA8B,SAAUE,EAAG,CAC9C,GAAI,eAAgBA,GAAK,UAAWA,EAClC,OAAOA,EACF,MAAIA,GAAK,WAAYA,GAAK,YAAaA,EAKtC,IAAI,MAAM,GAAG,OAAOA,EAAE,OAAQ,IAAI,EAAE,OAAOA,EAAE,OAAO,CAAC,EAGrD,IAAI,MAAM,8BAA8B,CAElD,EACA,KAAK,8BAAgC,SAAUA,EAAG,CAChD,GAAI,eAAgBA,GAAK,gBAAiBA,EACxC,OAAOA,EAAE,YACJ,MAAIA,GAAK,WAAYA,GAAK,YAAaA,EAKtC,IAAI,MAAM,GAAG,OAAOA,EAAE,OAAQ,IAAI,EAAE,OAAOA,EAAE,OAAO,CAAC,EAGrD,IAAI,MAAM,8BAA8B,CAElD,EACA,KAAK,eAAiB,SAAUC,EAAQC,EAAS,CAC/C,OAAO,IAAIC,EAAY,CACrB,OAAQhC,GACR,QAAS,CACP,eAAgBC,GAChB,eAAgB6B,CAClB,EACA,SAAU5B,GACV,SAAUM,EAAM,SAChB,KAAMuB,CACR,CAAC,CACH,EACA,KAAK,SAAW,oBAAoB,OAAOxB,EAAO,OAAQ,gBAAgB,EAC1E,KAAK,oBAAsBA,EAAO,oBAClC,KAAK,mBAAuB,GAAAE,EAAKF,EAAO,gBAAkB,MAAQE,IAAO,SAAkBA,EAAG,iBAAiB,OAAU,GAAG,OAAOwB,GAAc,GAAG,EAAE,OAAO1B,EAAO,aAAa,EAAI0B,EACvL,CACA,OAAO3B,CACT,GAAE,ECtRF,IAAI4B,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EACIM,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIrB,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAsB,EACAC,EACAvB,EACAwB,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKtB,EAAG,CACf,OAAO,SAAUuB,EAAG,CAClB,OAAOX,EAAK,CAACZ,EAAGuB,CAAC,CAAC,CACpB,CACF,CACA,SAASX,EAAKY,EAAI,CAChB,GAAIL,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGG,EAAG,CAAC,IAAMN,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIC,EAAI,EAAGC,IAAMvB,EAAI2B,EAAG,CAAC,EAAI,EAAIJ,EAAE,OAAYI,EAAG,CAAC,EAAIJ,EAAE,SAAcvB,EAAIuB,EAAE,SAAcvB,EAAE,KAAKuB,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEvB,EAAIA,EAAE,KAAKuB,EAAGI,EAAG,CAAC,CAAC,GAAG,KAAM,OAAO3B,EAE3J,OADIuB,EAAI,EAAGvB,IAAG2B,EAAK,CAACA,EAAG,CAAC,EAAI,EAAG3B,EAAE,KAAK,GAC9B2B,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACH3B,EAAI2B,EACJ,MACF,IAAK,GACH,OAAAN,EAAE,QACK,CACL,MAAOM,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHN,EAAE,QACFE,EAAII,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKN,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMrB,EAAIqB,EAAE,KAAM,EAAArB,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAO2B,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFN,EAAI,EACJ,QACF,CACA,GAAIM,EAAG,CAAC,IAAM,IAAM,CAAC3B,GAAK2B,EAAG,CAAC,EAAI3B,EAAE,CAAC,GAAK2B,EAAG,CAAC,EAAI3B,EAAE,CAAC,GAAI,CACvDqB,EAAE,MAAQM,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKN,EAAE,MAAQrB,EAAE,CAAC,EAAG,CACjCqB,EAAE,MAAQrB,EAAE,CAAC,EACbA,EAAI2B,EACJ,KACF,CACA,GAAI3B,GAAKqB,EAAE,MAAQrB,EAAE,CAAC,EAAG,CACvBqB,EAAE,MAAQrB,EAAE,CAAC,EACbqB,EAAE,IAAI,KAAKM,CAAE,EACb,KACF,CACI3B,EAAE,CAAC,GAAGqB,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAM,EAAKP,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVW,EAAK,CAAC,EAAGX,CAAC,EACVO,EAAI,CACN,QAAE,CACAD,EAAItB,EAAI,CACV,CACA,GAAI2B,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAIIC,IAA8B,UAAY,CAC5C,SAASA,EAAeC,EAAQC,EAAe,CAC7C,IAAIC,EAAQ,KA8BZ,KAAK,kCAAoC,UAAY,CACnD,OAAO1B,GAAU0B,EAAO,OAAQ,OAAQ,UAAY,CAClD,OAAOZ,GAAY,KAAM,SAAUa,EAAI,CACrC,MAAO,CAAC,EAAc,KAAK,6BAA6B,EAAE,MAAM,KAAK,mCAAmC,EAAE,MAAM,KAAK,mCAAmC,CAAC,CAC3J,CAAC,CACH,CAAC,CACH,EAMA,KAAK,6BAA+B,UAAY,CAC9C,OAAO3B,GAAU0B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIA,EAAQ,KACZ,OAAOZ,GAAY,KAAM,SAAUa,EAAI,CACrC,MAAO,CAAC,EAAc,IAAI,QAAQ,SAAUpB,EAASC,EAAQ,CAC3D,GAAIkB,EAAM,iBAAiB,EAEzB,OAAOlB,EAAO,EAEhBD,EAAQmB,EAAM,WAAW,CAC3B,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CACH,EAMA,KAAK,oCAAsC,UAAY,CACrD,OAAO1B,GAAU0B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIA,EAAQ,KACZ,OAAOZ,GAAY,KAAM,SAAUa,EAAI,CACrC,MAAO,CAAC,EAAc,IAAI,QAAQ,SAAUpB,EAASC,EAAQ,CAC3D,IAAIoB,EACJ,GAAI,CACFA,EAAc,KAAK,MAAM,aAAa,QAAQF,EAAM,oBAAoB,CAAC,CAC3E,MAAY,CAEV,OAAOlB,EAAO,CAChB,CAOA,GAHAkB,EAAM,YAAchC,GAASA,GAAS,CAAC,EAAGkC,CAAW,EAAG,CACtD,WAAY,IAAI,KAAKA,EAAY,UAAU,CAC7C,CAAC,EACGF,EAAM,iBAAiB,EAEzB,OAAOlB,EAAO,EAEhBD,EAAQmB,EAAM,WAAW,CAC3B,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CACH,EACA,IAAIG,EAASL,EAAO,eAAe,MAAM,GAAG,EAAE,CAAC,EAC/C,KAAK,OAASA,EACd,KAAK,sBAAwB,IAAIM,GAAsB,CACrD,oBAAqB,IAAIC,GACzB,OAAQF,EACR,aAAcL,EACd,cAAeC,CACjB,CAAC,EACD,KAAK,qBAAuB,KAAK,OAAO,iBAAiB,OAAS,GAAG,OAAOO,GAAU,GAAG,EAAE,OAAOP,CAAa,EAAIO,EACrH,CAIA,OAAAT,EAAe,UAAU,iBAAmB,UAAY,CACtD,GAAI,CAAC,KAAK,aAAe,CAAC,KAAK,YAAY,WACzC,MAAO,GAET,IAAIU,EAAc,IAAI,KAAK,KAAK,YAAY,WAAW,QAAQ,EAAIC,EAAa,EAChF,OAAO,IAAI,KAASD,CACtB,EACOV,CACT,GAAE,EC/OF,IAAIY,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAC,EACAC,EACAF,EACAG,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKC,EAAG,CACf,OAAO,SAAUC,EAAG,CAClB,OAAOb,EAAK,CAACY,EAAGC,CAAC,CAAC,CACpB,CACF,CACA,SAASb,EAAKc,EAAI,CAChB,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGI,EAAG,CAAC,IAAMR,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACHP,EAAIO,EACJ,MACF,IAAK,GACH,OAAAR,EAAE,QACK,CACL,MAAOQ,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHR,EAAE,QACFG,EAAIK,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKR,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFR,EAAI,EACJ,QACF,CACA,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAI,CACvDD,EAAE,MAAQQ,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CACjCD,EAAE,MAAQC,EAAE,CAAC,EACbA,EAAIO,EACJ,KACF,CACA,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CACvBD,EAAE,MAAQC,EAAE,CAAC,EACbD,EAAE,IAAI,KAAKQ,CAAE,EACb,KACF,CACIP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAQ,EAAKT,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVa,EAAK,CAAC,EAAGb,CAAC,EACVQ,EAAI,CACN,QAAE,CACAD,EAAID,EAAI,CACV,CACA,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAIIC,IAAmC,SAAUC,EAAQ,CACvDhC,GAAU+B,EAAqBC,CAAM,EACrC,SAASD,EAAoBE,EAAQC,EAAe,CAClD,IAAIC,EAAQH,EAAO,KAAK,KAAMC,EAAQC,CAAa,GAAK,KASxDC,EAAM,oCAAsC,UAAY,CACtD,OAAO7B,GAAU6B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIC,EAASC,EAAeC,EAAwBC,EAAaC,EACjE,OAAOpB,GAAY,KAAM,SAAUqB,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACHL,EAAU,EACVK,EAAG,MAAQ,EACb,IAAK,GAEHA,EAAG,MAAQ,EACb,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EAChB,CAAC,EAAa,KAAK,sBAAsB,MAAM,CACpD,eAAgB,KAAK,OAAO,cAC9B,CAAC,CAAC,EACJ,IAAK,GACH,OAAAJ,EAAgBI,EAAG,KAAK,EACjB,CAAC,EAAa,KAAK,sBAAsB,eAAeJ,CAAa,CAAC,EAC/E,IAAK,GACH,OAAAC,EAAyBG,EAAG,KAAK,EAC1B,CAAC,EAAa,KAAK,UAAU,0BAA0B,CAC5D,QAAS,KAAK,OAAO,aACrB,gBAAiB,MACjB,iBAAkBH,EAAuB,KAC3C,CAAC,CAAC,EACJ,IAAK,GACHC,EAAcE,EAAG,KAAK,EACtB,KAAK,YAAcF,EACnB,GAAI,CACF,aAAa,QAAQ,KAAK,qBAAsB,KAAK,UAAUA,CAAW,CAAC,CAC7E,MAAY,CAEZ,CACA,MAAO,CAAC,EAAcA,CAAW,EACnC,IAAK,GAEH,GADAC,EAAMC,EAAG,KAAK,EACVL,EACFA,QAEA,OAAMI,EAER,MAAO,CAAC,EAAa,CAAC,EACxB,IAAK,GACH,MAAO,CAAC,EAAa,CAAC,EACxB,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACA,IAAIE,EAAST,EAAO,eAAe,MAAM,GAAG,EAAE,CAAC,EAC/C,OAAAE,EAAM,UAAY,IAAIQ,GAAU,CAC9B,oBAAqB,IAAIC,GACzB,OAAQF,CACV,CAAC,EACMP,CACT,CACA,OAAOJ,CACT,GAAEc,EAAc,ECjNhB,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAC,EACAC,EACAF,EACAG,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKC,EAAG,CACf,OAAO,SAAUC,EAAG,CAClB,OAAOb,EAAK,CAACY,EAAGC,CAAC,CAAC,CACpB,CACF,CACA,SAASb,EAAKc,EAAI,CAChB,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGI,EAAG,CAAC,IAAMR,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACHP,EAAIO,EACJ,MACF,IAAK,GACH,OAAAR,EAAE,QACK,CACL,MAAOQ,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHR,EAAE,QACFG,EAAIK,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKR,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFR,EAAI,EACJ,QACF,CACA,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAI,CACvDD,EAAE,MAAQQ,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CACjCD,EAAE,MAAQC,EAAE,CAAC,EACbA,EAAIO,EACJ,KACF,CACA,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CACvBD,EAAE,MAAQC,EAAE,CAAC,EACbD,EAAE,IAAI,KAAKQ,CAAE,EACb,KACF,CACIP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAQ,EAAKT,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVa,EAAK,CAAC,EAAGb,CAAC,EACVQ,EAAI,CACN,QAAE,CACAD,EAAID,EAAI,CACV,CACA,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAEIC,IAAsC,SAAUC,EAAQ,CAC1DhC,GAAU+B,EAAwBC,CAAM,EACxC,SAASD,EAAuBE,EAAQC,EAAe,CACrD,IAAIC,EAAQH,EAAO,KAAK,KAAMC,EAAQC,CAAa,GAAK,KASxD,OAAAC,EAAM,oCAAsC,UAAY,CACtD,OAAO7B,GAAU6B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIC,EAASC,EAAeC,EAAaC,EACzC,OAAOnB,GAAY,KAAM,SAAUoB,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACHJ,EAAU,EACVI,EAAG,MAAQ,EACb,IAAK,GAEHA,EAAG,MAAQ,EACb,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EAChB,CAAC,EAAa,KAAK,sBAAsB,MAAM,CACpD,eAAgB,KAAK,OAAO,cAC9B,CAAC,CAAC,EACJ,IAAK,GACH,OAAAH,EAAgBG,EAAG,KAAK,EACjB,CAAC,EAAa,KAAK,sBAAsB,0BAA0BH,EAAc,UAAU,CAAC,EACrG,IAAK,GACHC,EAAcE,EAAG,KAAK,EACtB,KAAK,YAAcF,EACnB,GAAI,CACF,aAAa,QAAQ,KAAK,qBAAsB,KAAK,UAAUA,CAAW,CAAC,CAC7E,MAAY,CAEZ,CACA,MAAO,CAAC,EAAcA,CAAW,EACnC,IAAK,GAEH,GADAC,EAAMC,EAAG,KAAK,EACVJ,EACFA,QAEA,OAAMG,EAER,MAAO,CAAC,EAAa,CAAC,EACxB,IAAK,GACH,MAAO,CAAC,EAAa,CAAC,EACxB,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACOJ,CACT,CACA,OAAOJ,CACT,GAAEU,EAAc,EClMT,IAAIC,EAAiB,iBACjBC,GAAiB,oBAEjBC,GAAkB,GAAG,OAAOF,EAAgB,aAAa,EACzDG,GAAwB,GAAG,OAAOH,EAAgB,mBAAmB,EAErEI,GAAiB,GAAG,OAAOJ,EAAgB,iCAAiC,EAC5EK,GAAiB,GAAG,OAAOL,EAAgB,0BAA0B,EACrEM,GAAiB,GAAG,OAAON,EAAgB,gCAAgC,EAC3EO,GAAiB,GAAG,OAAOP,EAAgB,kCAAkC,EAE7EQ,GAAoC,GAAG,OAAOR,EAAgB,+BAA+B,EAC7FS,GAAkC,GAAG,OAAOT,EAAgB,6BAA6B,EAEzFU,GAAiB,GAAG,OAAOV,EAAgB,YAAY,EAEvDW,GAAsB,GAAG,OAAOX,EAAgB,iBAAiB,EAEjEY,GAAuB,GAAG,OAAOZ,EAAgB,kBAAkB,EAEnEa,GAA2B,GAAG,OAAOb,EAAgB,sBAAsB,EAE3Ec,GAAiC,GAAG,OAAOd,EAAgB,4BAA4B,ECtBlG,IAAIe,GAA8B,UAAY,CAC5C,SAASA,EAAeC,EAAM,CAC5B,KAAK,QAAU,GACf,KAAK,SAAWD,EAAe,iBAAiBC,CAAI,CACtD,CACA,OAAAD,EAAe,iBAAmB,SAAUC,EAAM,CAChD,MAAO,GAAG,OAAOD,EAAe,SAAU,GAAG,EAAE,OAAOC,CAAI,CAC5D,EACAD,EAAe,UAAU,KAAO,SAAUE,EAAS,CACjD,IAAIC,EACJ,KAAK,QAAUD,GACdC,EAAK,KAAK,UAAY,MAAQA,IAAO,QAAkBA,EAAG,KAAK,IAAI,CACtE,EACAH,EAAe,UAAU,YAAc,UAAY,CACjD,OAAO,KAAK,QACd,EACAA,EAAe,SAAWI,GACnBJ,CACT,GAAE,ECdF,IAAIK,IAA6B,UAAY,CAC3C,SAASA,EAAcC,EAAS,CAC9B,KAAK,QAAUA,EACf,KAAK,QAAU,IAAI,GACrB,CAMA,OAAAD,EAAc,UAAU,UAAY,SAAUE,EAAQ,CACpD,IAAIC,EAAWD,EAAO,YAAY,EAClC,GAAI,KAAK,UAAUC,CAAQ,EACzB,MAAM,IAAI,MAAM,WAAY,OAAOA,EAAU,wCAAyC,CAAC,EAEzF,KAAK,QAAQ,IAAIA,EAAUD,CAAM,EAEjCA,EAAO,KAAK,KAAK,OAAO,CAC1B,EAOAF,EAAc,UAAU,aAAe,SAAUG,EAAUC,EAAY,CACrE,IAAIC,EACAH,EAAS,KAAK,UAAUC,CAAQ,GACnCE,EAAqDH,GAAO,UAAY,MAAQG,IAAO,QAAkBA,EAAG,KAAKH,EAAQE,CAAU,CACtI,EAIAJ,EAAc,UAAU,OAAS,UAAY,CAC3C,KAAK,QAAQ,QAAQ,SAAUM,EAAG,CAChC,OAAOA,EAAE,OAAO,CAClB,CAAC,CACH,EAIAN,EAAc,UAAU,QAAU,UAAY,CAC5C,KAAK,QAAQ,QAAQ,SAAUM,EAAG,CAChC,OAAOA,EAAE,QAAQ,CACnB,CAAC,CACH,EAMAN,EAAc,UAAU,UAAY,SAAUG,EAAU,CACtD,MAAO,EAAQ,KAAK,UAAUA,CAAQ,CACxC,EAOAH,EAAc,UAAU,OAAS,SAAUG,EAAUI,EAAM,CACzD,IAAIL,EAAS,KAAK,UAAUC,CAAQ,EACpC,GAAqDD,GAAO,kBAAmB,SAC7EA,EAAO,OAAOK,CAAI,MAElB,OAAM,IAAI,MAAM,0CAA0C,CAE9D,EACAP,EAAc,UAAU,UAAY,SAAUQ,EAAI,CAChD,IAAIH,EACJ,OAAQA,EAAK,KAAK,QAAQ,IAAIG,CAAE,KAAO,MAAQH,IAAO,OAASA,EAAK,KAAK,QAAQ,IAAII,EAAe,iBAAiBD,CAAE,CAAC,CAC1H,EACOR,CACT,GAAE,EC9EF,IAAIU,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAGWK,GAAsB,YAC7BC,GAAgB,CAClB,cAAe,UAAY,CACzB,MAAO,EACT,EACA,uBAAwB,GACxB,OAAQ,CAAC,CACX,EACIC,IAA8B,SAAUC,EAAQ,CAClDd,GAAUa,EAAgBC,CAAM,EAChC,SAASD,EAAeE,EAAQ,CAC9B,IAAIC,EAAQF,EAAO,KAAK,KAAMH,EAAmB,GAAK,KACtD,OAAAK,EAAM,QAAU,GAChBA,EAAM,iBAAmB,IAAI,IAC7BA,EAAM,OAASV,GAASA,GAAS,CAAC,EAAGM,EAAa,EAAGG,CAAM,EACpDC,CACT,CACA,OAAAH,EAAe,eAAiB,SAAUI,EAAO,CAC/C,IAAIC,EAAc,CAChB,KAAM,SACR,EACA,OAAID,EAAM,kBAAkB,OAC1BC,EAAY,KAAOD,EAAM,OAAO,UAE9BA,EAAM,kBAAkB,SAAWA,EAAM,OAAO,KAClDC,EAAY,GAAKD,EAAM,OAAO,IAEzBC,CACT,EACAL,EAAe,UAAU,OAAS,UAAY,CAC5C,IAAIG,EAAQ,KACZ,GAAI,SAAS,aAAe,WAAY,CACtC,OAAO,iBAAiB,OAAQ,UAAY,CAC1C,OAAOA,EAAM,OAAO,CACtB,CAAC,EACD,MACF,CACI,KAAK,UAGT,KAAK,aAAa,EACd,KAAK,OAAO,wBACd,KAAK,mBAAmB,EAE1B,KAAK,QAAU,GACjB,EACAH,EAAe,UAAU,QAAU,UAAY,CACxC,KAAK,UAGV,KAAK,gBAAgB,EACjB,KAAK,UACP,KAAK,SAAS,WAAW,EAE3B,KAAK,QAAU,GACjB,EACAA,EAAe,UAAU,OAAS,SAAUM,EAAQ,CAClD,IAAIH,EAAQ,KACZG,EAAO,QAAQ,SAAUC,EAAU,CACjCJ,EAAM,gBAAgBI,CAAQ,EAC9BJ,EAAM,OAAO,OAAO,KAAKI,CAAQ,CACnC,CAAC,CACH,EACAP,EAAe,UAAU,OAAS,UAAY,CAC5C,KAAK,OAAO,CACd,EACAA,EAAe,UAAU,gBAAkB,UAAY,CACrD,IAAIG,EAAQ,KACZ,KAAK,OAAO,OAAO,QAAQ,SAAUI,EAAU,CAC7C,OAAOJ,EAAM,mBAAmBI,CAAQ,CAC1C,CAAC,CACH,EACAP,EAAe,UAAU,aAAe,UAAY,CAClD,IAAIG,EAAQ,KACZ,KAAK,OAAO,OAAO,QAAQ,SAAUI,EAAU,CAC7C,OAAOJ,EAAM,gBAAgBI,CAAQ,CACvC,CAAC,CACH,EACAP,EAAe,UAAU,iBAAmB,SAAUQ,EAAY,CAChE,IAAIL,EAAQ,KACZ,OAAO,SAAUC,EAAO,CACtB,IAAIK,EACAJ,EAAcL,EAAe,eAAeI,CAAK,EACjDM,EAAgBP,EAAM,OAAO,cAAcC,CAAK,EAChDO,EAAYlB,GAASA,GAASA,GAAS,CACzC,QAAS,QACT,MAAOW,EAAM,KACb,QAASC,EAAY,IACvB,EAAGA,EAAY,GAAK,CAClB,UAAWA,EAAY,EACzB,EAAI,CAAC,CAAC,EAAGK,EAAgB,CACvB,cAAeA,CACjB,EAAI,CAAC,CAAC,EAAGF,EAAa,CACpB,WAAYA,CACd,EAAI,CAAC,CAAC,EACD,GAAAC,EAAKN,EAAM,WAAa,MAAQM,IAAO,SAAkBA,EAAG,QAC/DN,EAAM,QAAQ,OAAOS,GAAgBD,CAAS,CAElD,CACF,EACAX,EAAe,UAAU,gBAAkB,SAAUO,EAAU,CAC7D,IAAIM,EAAYN,EAAS,MACrBO,EAAgB,KAAK,iBAAiBP,EAAS,UAAU,EACzDQ,EAAwB,CAAC,EACzBC,EAA2B,KAAK,iBAAiB,IAAIT,CAAQ,EAAI,KAAK,iBAAiB,IAAIA,CAAQ,EAAI,CAAC,EAE5G,GAAIA,EAAS,WAAY,CACvB,IAAIU,EAAqB,SAAS,iBAAiBV,EAAS,UAAU,EACtEU,EAAmB,QAAQ,SAAUC,EAAS,CAC5CH,EAAsB,KAAKG,CAAO,CACpC,CAAC,CACH,SAAWX,EAAS,UAAW,CAC7B,IAAIY,EAAoB,SAAS,eAAeZ,EAAS,SAAS,EAC9DY,GACFJ,EAAsB,KAAKI,CAAiB,CAEhD,MAAWZ,EAAS,SAClBQ,EAAsB,KAAKR,EAAS,OAAO,EAE7CQ,EAAsB,QAAQ,SAAUG,EAAS,CAC/CA,EAAQ,iBAAiBL,EAAWC,CAAa,EACjDE,EAAyB,KAAK,CAC5B,QAASE,EACT,cAAeJ,CACjB,CAAC,CACH,CAAC,EACD,KAAK,iBAAiB,IAAIP,EAAUS,CAAwB,CAC9D,EACAhB,EAAe,UAAU,mBAAqB,SAAUO,EAAU,CAChE,IAAIS,EAA2B,KAAK,iBAAiB,IAAIT,CAAQ,EAC7DS,IACFA,EAAyB,QAAQ,SAAUI,EAAsB,CAC/D,IAAIF,EAAUE,EAAqB,QAC/BN,EAAgBM,EAAqB,cACzCF,EAAQ,oBAAoBX,EAAS,MAAOO,CAAa,CAC3D,CAAC,EACD,KAAK,iBAAiB,OAAOP,CAAQ,EAEzC,EACAP,EAAe,UAAU,mBAAqB,UAAY,CACxD,IAAIG,EAAQ,KACZ,KAAK,SAAW,IAAI,iBAAiB,UAAY,CAC/CA,EAAM,gBAAgB,EACtBA,EAAM,aAAa,CACrB,CAAC,EAED,KAAK,SAAS,QAAQ,SAAU,CAC9B,UAAW,GACX,QAAS,EACX,CAAC,CACH,EACOH,CACT,GAAEqB,CAAc,ECxLhB,IAAIC,GAAW,SAAUC,EAAO,CAC9B,IAAIC,EAAO,OAAOD,EAClB,OAAQC,IAAS,UAAYA,IAAS,aAAe,CAAC,CAACD,CACzD,EACIE,GAAwB,SAAUC,EAAY,CAChD,IAAIC,EAAW,CACb,QAAS,QACT,KAAM,YACN,QAAS,WACX,EACA,OAAID,EAAW,OAAS,SACtBC,EAAS,KAAOD,EAAW,MAEzBA,EAAW,UAAY,SACzBC,EAAS,QAAUD,EAAW,SAE5BA,EAAW,WAAa,SAC1BC,EAAS,SAAWD,EAAW,UAE7BA,EAAW,SAAW,SACxBC,EAAS,OAASD,EAAW,QAE3BA,EAAW,QAAU,SACvBC,EAAS,MAAQD,EAAW,OAEvBC,CACT,EACIC,GAA8B,SAAUD,EAAUJ,EAAO,CAEvDI,EAAS,OAAS,uBACpBA,EAAS,KAAOJ,EAAM,SAAS,GAEjCI,EAAS,QAAUJ,EAAM,SAAS,CACpC,EACIM,GAA2B,SAAUF,EAAUJ,EAAOO,EAAkB,CAGtEP,EAAM,OACRI,EAAS,KAAOJ,EAAM,MAEpBA,EAAM,UACRI,EAAS,QAAUJ,EAAM,SAEvBA,EAAM,WACRI,EAAS,SAAWJ,EAAM,UAExBA,EAAM,aACRI,EAAS,OAASJ,EAAM,YAEtBA,EAAM,eACRI,EAAS,MAAQJ,EAAM,cAErBO,GAAoBP,EAAM,QAC5BI,EAAS,MAAQJ,EAAM,MAAM,OAASO,EAAmBP,EAAM,MAAM,UAAU,EAAGO,CAAgB,EAAI,MAAQP,EAAM,MAExH,EACWQ,GAAmB,SAAUR,EAAO,CAC7C,OAAOA,IAAU,OAAOA,CAAK,GAAKA,IAAU,QAAaA,IAAU,IACrE,EACWS,GAA2B,SAAUN,EAAYI,EAAkB,CAC5E,IAAIH,EAAWF,GAAsBC,CAAU,EAC3CH,EAAQG,EAAW,MACvB,OAAIJ,GAASC,CAAK,EAChBM,GAAyBF,EAAUJ,EAAOO,CAAgB,EACjDC,GAAiBR,CAAK,GAC/BK,GAA4BD,EAAUJ,CAAK,EAEtCI,CACT,ECpEA,IAAIM,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAIWK,GAA2B,WAClCC,GAAgB,CAClB,iBAAkB,IAClB,OAAQ,UAAY,CAClB,MAAO,EACT,CACF,EACIC,IAA6B,SAAUC,EAAQ,CACjDd,GAAUa,EAAeC,CAAM,EAC/B,SAASD,EAAcE,EAAQ,CAC7B,IAAIC,EAAQF,EAAO,KAAK,KAAMH,EAAwB,GAAK,KAC3D,OAAAK,EAAM,aAAe,SAAUC,EAAY,CACpCD,EAAM,OAAO,OAAOC,CAAU,GACjCD,EAAM,mBAAmBC,CAAU,CAEvC,EACAD,EAAM,0BAA4B,SAAUE,EAAO,CAC5CF,EAAM,OAAO,OAAOE,CAAK,GAC5BF,EAAM,mBAAmB,CACvB,KAAME,EAAM,KACZ,MAAOA,EAAM,MACf,CAAC,CAEL,EACAF,EAAM,OAASV,GAASA,GAAS,CAAC,EAAGM,EAAa,EAAGG,CAAM,EACpDC,CACT,CACA,OAAAH,EAAc,UAAU,OAAS,UAAY,CACvC,KAAK,UAGT,KAAK,gBAAgB,EACrB,KAAK,QAAU,GACjB,EACAA,EAAc,UAAU,QAAU,UAAY,CACvC,KAAK,UAGV,KAAK,mBAAmB,EACxB,KAAK,QAAU,GACjB,EACAA,EAAc,UAAU,OAAS,SAAUM,EAAO,CAC5CA,aAAiB,WACnB,KAAK,mBAAmBA,CAAK,EAE7B,KAAK,mBAAmB,CACtB,KAAM,QACN,MAAOA,CACT,CAAC,CAEL,EACAN,EAAc,UAAU,OAAS,UAAY,CAC3C,KAAK,gBAAgB,CACvB,EACAA,EAAc,UAAU,mBAAqB,SAAUM,EAAO,CAC5D,IAAIC,GACHA,EAAK,KAAK,WAAa,MAAQA,IAAO,QAAkBA,EAAG,OAAOC,GAAqBC,GAAyBH,EAAO,KAAK,OAAO,gBAAgB,CAAC,CACvJ,EACAN,EAAc,UAAU,gBAAkB,UAAY,CACpD,OAAO,iBAAiB,QAAS,KAAK,YAAY,EAClD,OAAO,iBAAiB,qBAAsB,KAAK,yBAAyB,CAC9E,EACAA,EAAc,UAAU,mBAAqB,UAAY,CACvD,OAAO,oBAAoB,QAAS,KAAK,YAAY,EACrD,OAAO,oBAAoB,qBAAsB,KAAK,yBAAyB,CACjF,EACOA,CACT,GAAEU,CAAc,EC3FT,IAAIC,GAAc,SAAUC,EAAMC,EAAOC,EAAYC,EAAKC,EAAS,CACxE,IAAIC,EAASL,EAAO,IACpBK,GAAUJ,GAAS,GACfG,IAAY,OACdC,GAAU,aAAa,OAAOD,EAAQ,YAAY,CAAC,EAC1CD,IAAQ,SACjBE,GAAU,aAAa,OAAOC,GAAcH,CAAG,EAAE,YAAY,CAAC,GAEhEE,GAAU,YAAY,OAAOH,EAAW,MAAM,EAC9CG,GAAU,UAAU,OAAOH,EAAW,IAAI,EAC1CG,GAAU,cAAc,OAAOH,EAAW,QAAQ,EAClDG,GAAUH,EAAW,OAAS,WAAa,GAC3C,SAAS,OAASG,CACpB,EAMWC,GAAgB,SAAUH,EAAK,CACxC,OAAO,IAAI,KAAK,IAAI,KAAK,EAAE,QAAQ,EAAIA,EAAM,GAAI,CACnD,EAoBO,IAAII,GAAY,SAAUC,EAAM,CAErC,QADIC,EAAU,SAAS,OAAO,MAAM,IAAI,EAC/BC,EAAK,EAAGC,EAAYF,EAASC,EAAKC,EAAU,OAAQD,IAAM,CACjE,IAAIE,EAASD,EAAUD,CAAE,EACrBG,EAAQD,EAAO,MAAM,GAAG,EAC5B,GAAIC,EAAM,CAAC,IAAML,EACf,OAAOK,EAAM,CAAC,CAElB,CACA,MAAO,EACT,EChDA,IAAAC,GAAyB,SAZzB,IAAIC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAMWM,GAAW,uCACXC,GAAU,UACVC,GAAsB,UACtBC,GAAoB,MAY/B,IAAIC,IAA8B,UAAY,CAC5C,SAASA,EAAeC,EAAmBC,EAAQC,EAAaC,EAAa,CAC3E,KAAK,kBAAoBH,EACzB,KAAK,OAASC,EACd,KAAK,YAAcC,EACnB,KAAK,YAAcC,EACnB,KAAK,kBAAoB,KAAK,OAAO,iBAAiB,OAAS,GAAG,OAAOC,GAAqB,GAAG,EAAE,OAAO,KAAK,kBAAkB,EAAE,EAAIA,GAEvI,KAAK,QAAU,CACb,UAAWC,GACX,OAAQ,KAAK,OAAO,EACpB,WAAY,CACd,EAEA,KAAK,eAAe,EAEpB,KAAK,kBAAkB,EAEvB,KAAK,qBAAqB,KAAK,OAAO,iBAAiB,EAEvD,KAAK,qBAAqB,CAC5B,CAIA,OAAAN,EAAe,UAAU,UAAY,UAAY,CAC/C,OAAO,KAAK,QAAQ,MACtB,EAIAA,EAAe,UAAU,WAAa,UAAY,CAChD,OAAI,KAAK,QAAQ,YAAcM,GAI7B,KAAK,cAAc,EACV,KAAK,QAAQ,YAAcA,IAAY,IAAI,MAAU,KAAK,eAEnE,KAAK,cAAc,EAEd,KAAK,OACd,EACAN,EAAe,UAAU,cAAgB,UAAY,CACnD,OAAO,KAAK,UACd,EAMAA,EAAe,UAAU,qBAAuB,SAAUO,EAAmB,CAC3E,KAAK,WAAaC,GAASA,GAAS,CAAC,EAAG,KAAK,UAAU,EAAGD,CAAiB,CAC7E,EACAP,EAAe,UAAU,UAAY,UAAY,CAC/C,OAAI,KAAK,WAAW,EACX,KAAK,OAEPM,EACT,EACAN,EAAe,UAAU,2BAA6B,UAAY,CAChE,KAAK,QAAQ,aACb,KAAK,aAAa,CACpB,EACAA,EAAe,UAAU,gBAAkB,UAAY,CACrD,OAAO,KAAK,QAAQ,YAAc,KAAK,OAAO,mBAAqB,KAAK,OAAO,kBAAoB,CACrG,EACAA,EAAe,UAAU,UAAY,UAAY,CAC/C,OAAO,KAAK,QAAQ,QAAU,CAAC,KAAK,gBAAgB,CACtD,EACAA,EAAe,UAAU,eAAiB,UAAY,CACpD,IAAIS,EAAS,GACb,KAAK,WAAa,IAAI,KACtB,KAAK,WAAW,QAAQ,KAAK,WAAW,QAAQ,EAAI,KAAK,OAAO,mBAAmB,EAC/E,KAAK,OAAO,qBAAuB,EAErC,KAAK,OAAS,uCACL,KAAK,WAAW,GACzBA,EAAS,KAAK,gBAAgB,EAC9B,KAAK,OAASA,GAAkBC,EAAG,EACnC,KAAK,wBAAwBD,EAAQ,KAAK,UAAU,GAEpD,KAAK,OAASC,EAAG,CAErB,EACAV,EAAe,UAAU,2BAA6B,SAAUW,EAASC,EAAS,CAC5E,MACFC,GAAY,KAAK,kBAAmB,KAAK,KAAK,UAAUF,CAAO,CAAC,EAAG,KAAK,OAAO,iBAAkB,OAAWC,CAAO,CAEvH,EACAZ,EAAe,UAAU,wBAA0B,SAAUS,EAAQG,EAAS,CAC5EC,GAAYC,GAAkBL,EAAQ,KAAK,OAAO,iBAAkB,OAAWG,CAAO,CACxF,EACAZ,EAAe,UAAU,gBAAkB,UAAY,CACrD,OAAOe,GAAUD,EAAgB,CACnC,EACAd,EAAe,UAAU,qBAAuB,UAAY,CAC1D,GAAI,KAAK,WAAW,EAAG,CACrB,IAAIgB,EAASD,GAAU,KAAK,iBAAiB,EAC7C,GAAIC,GAAU,KACZ,GAAI,CACF,KAAK,QAAU,KAAK,MAAM,KAAKA,CAAM,CAAC,EACtC,KAAK,YAAY,cAAc,KAAK,QAAQ,IAAI,CAClD,MAAY,CAEZ,CAEJ,CACF,EACAhB,EAAe,UAAU,qBAAuB,UAAY,CACtD,KAAK,WAAW,GAAK,KAAK,OAAO,oBAAsB,GACzD,KAAK,wBAAwB,KAAK,OAAQ,KAAK,UAAU,EAEvD,KAAK,WAAW,GAElB,KAAK,2BAA2B,KAAK,QAAS,KAAK,aAAa,CAEpE,EACAA,EAAe,UAAU,cAAgB,UAAY,CAInD,KAAK,QAAU,CACb,UAAWU,EAAG,EACd,OAAQ,KAAK,QAAQ,YAAcJ,GAAW,KAAK,QAAQ,OAAS,KAAK,OAAO,EAChF,WAAY,CACd,EACA,KAAK,QAAQ,KAAO,KAAK,YAAY,QAAQ,EAC7C,KAAK,cAAgB,IAAI,KAAK,IAAI,KAAK,EAAE,QAAQ,EAAI,KAAK,OAAO,qBAAuB,GAAI,EAC5F,KAAK,qBAAqB,EAC1B,KAAK,YAAYW,GAA0B,CACzC,QAAS,OACX,CAAC,CACH,EACAjB,EAAe,UAAU,aAAe,UAAY,CAClD,KAAK,cAAgB,IAAI,KAAK,IAAI,KAAK,EAAE,QAAQ,EAAI,KAAK,OAAO,qBAAuB,GAAI,EAC5F,KAAK,QAAQ,KAAO,KAAK,YAAY,QAAQ,EAC7C,KAAK,qBAAqB,CAC5B,EACAA,EAAe,UAAU,kBAAoB,UAAY,CACvD,IAAIkB,EAAK,IAAI,YAAS,UAAU,SAAS,EAAE,UAAU,EACrD,KAAK,WAAa,CAChB,gBAAiB,UAAU,SAC3B,YAAaA,EAAG,QAAQ,KAAOA,EAAG,QAAQ,KAAOC,GACjD,eAAgBD,EAAG,QAAQ,QAAUA,EAAG,QAAQ,QAAUC,GAC1D,OAAQD,EAAG,GAAG,KAAOA,EAAG,GAAG,KAAOC,GAClC,UAAWD,EAAG,GAAG,QAAUA,EAAG,GAAG,QAAUC,GAI3C,WAAYD,EAAG,OAAO,KAAOA,EAAG,OAAO,KAAOE,GAE9C,aAAcC,GACd,OAAQ,OAAO,SAAS,SACxB,gBAAiB,KAAK,OAAO,SAC/B,CACF,EAIArB,EAAe,UAAU,WAAa,UAAY,CAChD,OAAO,UAAU,eAAiB,KAAK,OAAO,YAChD,EAIAA,EAAe,UAAU,OAAS,UAAY,CAC5C,OAAO,KAAK,OAAO,EAAI,KAAK,OAAO,iBACrC,EACOA,CACT,GAAE,ECpLF,IAAAsB,GAAyB,SApBzB,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EAGEC,GAA6B,SAAUC,EAAQ,CACjDP,GAAUM,EAAeC,CAAM,EAC/B,SAASD,GAAgB,CACvB,IAAIE,EAAQD,IAAW,MAAQA,EAAO,MAAM,KAAM,SAAS,GAAK,KAChE,OAAAC,EAAM,OAASA,EAAM,MAAM,KAAKA,EAAO,EAAI,EAC3CA,EAAM,QAAUA,EAAM,MAAM,KAAKA,EAAO,EAAK,EAC7CA,EAAM,QAAU,GACTA,CACT,CACA,OAAAF,EAAc,UAAU,SAAW,UAAY,CAE7C,QADIG,EAAe,QAAK,KAAKC,EAAO,EAC3BC,EAAK,EAAGC,EAAK,KAAK,QAASD,EAAKC,EAAG,OAAQD,IAAM,CACxD,IAAIE,EAAQD,EAAGD,CAAE,EACjBF,EAAKI,EAAM,OAAQA,EAAM,KAAMA,EAAM,QAAQ,CAAC,CAChD,CACF,EACAP,EAAc,UAAU,WAAa,UAAY,CAE/C,QADIQ,EAAiB,UAAO,KAAKJ,EAAO,EAC/BC,EAAK,EAAGC,EAAK,KAAK,QAASD,EAAKC,EAAG,OAAQD,IAAM,CACxD,IAAIE,EAAQD,EAAGD,CAAE,EACjBG,EAAOD,EAAM,OAAQA,EAAM,IAAI,CACjC,CACF,EACAP,EAAc,UAAU,MAAQ,SAAUS,EAAa,CACjDA,IAAgB,SAClBA,EAAc,IAEZ,KAAK,UAAYA,IACnB,KAAK,QAAUA,EACXA,EACF,KAAK,SAAS,EAEd,KAAK,WAAW,EAGtB,EACOT,CACT,GAAEU,CAAc,EC3DhB,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EASEC,IAAoC,SAAUC,EAAQ,CACxDP,GAAUM,EAAsBC,CAAM,EACtC,SAASD,EAAqBE,EAAaC,EAAQC,EAAQ,CACzD,IAAIC,EAAQJ,EAAO,KAAK,KAAM,yBAAyB,GAAK,KAC5D,OAAAI,EAAM,YAAc,UAAY,CAC9B,IAAIC,EAAOD,EACX,OAAO,SAAUE,EAAU,CACzB,OAAO,UAAY,CACjB,OAAAD,EAAK,UAAU,IAAI,EACnB,KAAK,iBAAiB,UAAWA,EAAK,WAAW,EAC1CC,EAAS,MAAM,KAAM,SAAS,CACvC,CACF,CACF,EAMAF,EAAM,YAAc,SAAUG,EAAG,CAC/B,IAAIC,EAAW,KAAK,IAAI,EACpBC,EAAMF,EAAE,OACZE,EAAI,oBAAoB,UAAWL,EAAM,WAAW,EACpDA,EAAM,UAAUK,EAAKD,CAAQ,CAC/B,EACAJ,EAAM,MAAQ,SAAUE,EAAUI,EAASC,EAAW,CACpD,OAAOL,EAAS,MAAMI,EAASC,CAAS,EAAE,MAAM,SAAUC,EAAO,CAC/D,MAAMA,CACR,CAAC,EAAE,QAAQR,EAAM,qBAAqB,CACxC,EAIAA,EAAM,aAAe,UAAY,CAC/B,IAAIC,EAAOD,EACX,OAAO,SAAUE,EAAU,CACzB,OAAO,SAAUO,EAAOC,EAAM,CAC5B,OAAAT,EAAK,cAAgB,EACdA,EAAK,MAAMC,EAAU,KAAM,SAAS,CAC7C,CACF,CACF,EACAF,EAAM,sBAAwB,UAAY,CACnCA,EAAM,eACTA,EAAM,cAAgB,KAAK,IAAI,GAEjCA,EAAM,cAAgB,CACxB,EAQAA,EAAM,gBAAkB,UAAY,CAC9BA,EAAM,gBAAgB,OAAS,GAAKA,EAAM,eAAiB,IAC7D,cAAcA,EAAM,iBAAiB,EACrC,aAAaA,EAAM,gBAAgB,EACnCA,EAAM,oBAAoB,WAAW,EACrCA,EAAM,iCAAiCA,EAAM,YAAY,QAAQ,CAAC,EAClEA,EAAM,kBAAoB,OAC1BA,EAAM,iBAAmB,OACzBA,EAAM,aAAe,GAEzB,EAEAA,EAAM,eAAiB,UAAY,CACjC,cAAcA,EAAM,iBAAiB,EACrCA,EAAM,kBAAoB,OAC1BA,EAAM,iBAAmB,OACzBA,EAAM,oBAAoB,WAAW,EACrCA,EAAM,aAAe,EACvB,EACAA,EAAM,cAAgB,UAAY,CAChCA,EAAM,cAAgB,KAAK,IAAI,EAC/B,cAAcA,EAAM,iBAAiB,EACrCA,EAAM,kBAAoB,YAAYA,EAAM,gBAAiBA,EAAM,OAAO,mBAAmB,CAC/F,EACAA,EAAM,oBAAsB,SAAUW,EAAM,CAC1CX,EAAM,gBAAgB,IAAIW,CAAI,CAChC,EACAX,EAAM,4BAA8B,SAAUG,EAAG,CAC/CH,EAAM,sBAAwB,KAAK,IAAI,CACzC,EACAA,EAAM,kBAAoB,OAC1BA,EAAM,iBAAmB,OACzBA,EAAM,oBAAsB,IAAI,iBAAiBA,EAAM,aAAa,EACpEA,EAAM,gBAAkB,IAAI,IAC5BA,EAAM,cAAgB,IAAI,IAC1BA,EAAM,aAAe,EACrBA,EAAM,aAAe,GACrBA,EAAM,cAAgB,EACtBA,EAAM,sBAAwB,EAC9BA,EAAM,OAASF,EACfE,EAAM,YAAcH,EACpBG,EAAM,OAASD,EACfC,EAAM,OAAO,EAEb,SAAS,iBAAiB,YAAaA,EAAM,2BAA2B,EACxE,SAAS,iBAAiB,UAAWA,EAAM,2BAA2B,EAC/DA,CACT,CACA,cAAO,eAAeL,EAAqB,UAAW,UAAW,CAC/D,IAAK,UAAY,CACf,MAAO,CAAC,CACN,OAAQ,eAAe,UACvB,KAAM,OACN,QAAS,KAAK,WAChB,EAAG,CACD,OAAQ,OACR,KAAM,QACN,QAAS,KAAK,YAChB,CAAC,CACH,EACA,WAAY,GACZ,aAAc,EAChB,CAAC,EAEDA,EAAqB,UAAU,YAAc,UAAY,CACvD,KAAK,cAAgB,KAAK,IAAI,EAE1B,KAAK,mBACP,cAAc,KAAK,iBAAiB,EAElC,KAAK,kBACP,aAAa,KAAK,gBAAgB,EAEpC,KAAK,oBAAoB,WAAW,EAEpC,KAAK,kBAAoB,YAAY,KAAK,gBAAiB,KAAK,OAAO,mBAAmB,EAC1F,KAAK,iBAAmB,WAAW,KAAK,eAAgB,KAAK,OAAO,kBAAkB,EAEtF,KAAK,oBAAoB,QAAQ,SAAU,CACzC,QAAS,GACT,UAAW,GACX,WAAY,GACZ,cAAe,EACjB,CAAC,EAED,KAAK,aAAe,GACpB,KAAK,cAAc,QAAQ,KAAK,mBAAmB,EACnD,KAAK,cAAc,MAAM,CAC3B,EACAA,EAAqB,UAAU,UAAY,SAAUgB,EAAM,CACzD,IAAIC,EAAO,KAAK,YAAY,QAAQ,EAChCA,GAAQ,KAAK,eAAiB,GAChC,KAAK,gBAAgB,IAAID,CAAI,EAE7B,KAAK,cAAc,IAAIA,CAAI,CAE/B,EACAhB,EAAqB,UAAU,UAAY,SAAUgB,EAAMP,EAAU,CACnE,IAAIQ,EAAO,KAAK,YAAY,QAAQ,EAChCA,GAAQ,KAAK,gBAAgB,IAAID,CAAI,GACvC,KAAK,gBAAgB,OAAOA,CAAI,EAChC,KAAK,cAAgBP,GACZ,KAAK,cAAc,IAAIO,CAAI,GACpC,KAAK,cAAc,OAAOA,CAAI,CAElC,EACAhB,EAAqB,UAAU,iCAAmC,SAAUiB,EAAM,CAChF,IAAIC,EAA6B,CAC/B,QAAS,QACT,cAAe,eACf,eAAgB,WAChB,UAAWD,EAAK,MAChB,SAAU,KAAK,cAAgBA,EAAK,KACtC,EACI,KAAK,QACP,KAAK,OAAOE,GAAmCD,CAA0B,CAE7E,EACOlB,CACT,GAAEoB,CAAa,EC1Mf,IAAIC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAaIM,IAA2B,UAAY,CACzC,SAASA,EAAYC,EAAQC,EAAQ,CACnC,KAAK,QAAU,IACf,KAAK,OAASD,EACd,KAAK,OAASC,EACd,KAAK,KAAO,OACZ,KAAK,QAAU,GACf,KAAK,kBAAoB,GACzB,KAAK,qBAAuB,IAAIC,GAAqB,KAAMF,EAAQC,CAAM,CAC3E,CACA,OAAAF,EAAY,UAAU,QAAU,UAAY,CAC1C,OAAO,KAAK,IACd,EACAA,EAAY,UAAU,cAAgB,UAAY,CAChD,OAAO,KAAK,UACd,EACAA,EAAY,UAAU,cAAgB,SAAUI,EAAM,CACpD,KAAK,kBAAoB,GACrBA,IACF,KAAK,KAAOA,EACZ,KAAK,QAAU,GAEnB,EACAJ,EAAY,UAAU,eAAiB,SAAUK,EAAS,CACxD,IAAIC,EASJ,GARI,OAAOD,GAAY,SACrBC,EAASD,EAETC,EAASD,EAAQ,OAEf,KAAK,WAAW,IAClB,KAAK,kBAAoB,IAEvB,CAAC,KAAK,KACR,KAAK,kBAAkBC,CAAM,UACpB,KAAK,KAAK,SAAWA,EAC9B,KAAK,eAAe,KAAK,KAAMA,CAAM,UAC5B,KAAK,QAAS,CAEvB,KAAK,kBAAkB,KAAK,KAAM,OAAOD,GAAY,SAAWA,EAAU,MAAS,EACnF,MACF,KAEE,QAIF,KAAK,kBAAkB,KAAK,KAAM,OAAOA,GAAY,SAAWA,EAAU,MAAS,EAEnF,KAAK,oBAAoB,KAAK,IAAI,CACpC,EACAL,EAAY,UAAU,eAAiB,SAAUO,EAAaD,EAAQ,CACpE,IAAIE,EAAY,KAAK,IAAI,EACrBC,EAAkB,KAAK,qBAAqB,sBAoB5C,CAAC,KAAK,SAAWD,EAAYC,GAAmB,KAAK,UACvDD,EAAYC,EACZ,KAAK,qBAAqB,YAAY,GAExC,KAAK,iBAAmBD,EAAYD,EAAY,MAChD,KAAK,QAAU,GACf,KAAK,KAAO,CACV,OAAQD,EACR,aAAcC,EAAY,OAC1B,YAAaA,EAAY,YAAc,EACvC,SAAU,SAAS,SACnB,eAAgB,KAAK,sBAAsB,EAC3C,MAAOC,CACT,CACF,EACAR,EAAY,UAAU,kBAAoB,SAAUM,EAAQ,CAC1D,KAAK,KAAO,CACV,OAAQA,EACR,YAAa,EACb,SAAU,SAAS,SACnB,eAAgB,KAAK,sBAAsB,EAC3C,MAAO,KAAK,IAAI,CAClB,CACF,EACAN,EAAY,UAAU,kBAAoB,SAAUI,EAAMM,EAAsB,CAC9E,IAAIC,EACJ,KAAK,WAAa,CAChB,MAAS,GAAAA,EAAiFD,GAAqB,kBAAoB,MAAQC,IAAO,SAAkBA,EAAG,MAASD,EAAqB,eAAe,MAAQ,SAAS,MACrO,OAAQN,EAAK,MACf,EACI,KAAK,oBACP,KAAK,WAAW,YAAcA,EAAK,YAC/BA,EAAK,eAAiB,SACxB,KAAK,WAAW,aAAeA,EAAK,eAGwCM,GAAqB,WACnG,KAAK,WAAW,SAAcA,EAAqB,UAE2BA,GAAqB,iBACnG,KAAK,WAAahB,GAASA,GAAS,CAAC,EAAGgB,EAAqB,cAAc,EAAG,KAAK,UAAU,EAEjG,EACAV,EAAY,UAAU,oBAAsB,SAAUI,EAAM,CAC1D,IAAIQ,EAAgB,CAClB,QAAS,QACT,OAAQR,EAAK,MACf,EACA,OAAI,KAAK,oBACPQ,EAAc,YAAcR,EAAK,YACjCQ,EAAc,kBAAoBR,EAAK,OAAS,IAAMA,EAAK,YACvDA,EAAK,eAAiB,SACxBQ,EAAc,wBAA0BR,EAAK,aAAe,KAAOA,EAAK,YAAc,GACtFQ,EAAc,iBAAmB,KAAK,kBAExCA,EAAc,SAAW,SAAS,SAClCA,EAAc,eAAiB,KAAK,sBAAsB,GAErDA,CACT,EACAZ,EAAY,UAAU,oBAAsB,SAAUI,EAAM,CAC1D,KAAK,OAAOS,GAAsB,KAAK,oBAAoBT,CAAI,CAAC,CAClE,EAIAJ,EAAY,UAAU,WAAa,UAAY,CAC7C,OAAO,UAAU,eAAiB,KAAK,OAAO,YAChD,EAIAA,EAAY,UAAU,sBAAwB,UAAY,CACxD,GAAI,CACF,OAAO,IAAI,IAAI,SAAS,QAAQ,EAAE,QACpC,MAAY,CACV,OAAO,SAAS,WAAa,YAAc,SAAS,SAAW,EACjE,CACF,EACOA,CACT,GAAE,EC/KK,IAAIc,IAAqB,SAAUA,EAAO,CAC/C,OAAAA,EAAM,MAAW,QACVA,CACT,GAAEA,IAAS,CAAC,CAAC,EAETC,IAAwB,UAAY,CACtC,SAASA,GAAW,CAElB,KAAK,YAAc,IAAI,GACzB,CACA,OAAAA,EAAS,UAAU,UAAY,SAAUC,EAAOC,EAAY,CAC1D,IAAIC,EACAC,GAAQD,EAAK,KAAK,YAAY,IAAIF,CAAK,KAAO,MAAQE,IAAO,OAASA,EAAK,CAAC,EAC3EC,EAAK,QACR,KAAK,YAAY,IAAIH,EAAOG,CAAI,EAElCA,EAAK,KAAKF,CAAU,CACtB,EACAF,EAAS,UAAU,YAAc,SAAUC,EAAOC,EAAY,CAC5D,IAAIE,EAAO,KAAK,YAAY,IAAIH,CAAK,EACrC,GAAIG,GACF,QAASC,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAC/B,GAAID,EAAKC,CAAC,IAAMH,EACd,OAAAE,EAAK,OAAOC,EAAG,CAAC,EACT,GAIb,MAAO,EACT,EACAL,EAAS,UAAU,SAAW,SAAUC,EAAOK,EAAS,CACtD,IAAIF,EAAO,KAAK,YAAY,IAAIH,CAAK,EACrC,GAAIG,EACF,QAASG,EAAK,EAAGC,EAASJ,EAAMG,EAAKC,EAAO,OAAQD,IAAM,CACxD,IAAIL,EAAaM,EAAOD,CAAE,EAC1BL,EAAWI,CAAO,CACpB,CAEJ,EACON,CACT,GAAE,EACKS,GAAQT,GCzCf,IAAIU,EAAoC,UAAY,CAClD,OAAAA,EAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,EAAS,MAAM,KAAM,SAAS,CACvC,EAMIM,GAAmB,SAQnBC,IAA0B,UAAY,CAQxC,SAASA,EAAWC,EAAoBC,EAAQC,EAAU,CACpDA,IAAa,SACfA,EAAW,IAAIC,IAEjB,IAAIC,EAAQ,KACZ,KAAK,SAAWF,EAChB,KAAK,OAAS,CAAC,EACf,KAAK,WAAa,IAAI,IAItB,KAAK,eAAiB,SAAUG,EAAS,CACnCD,EAAM,oBAAoB,GAC5BA,EAAM,YAAY,eAAeC,CAAO,CAE5C,EAUA,KAAK,YAAc,SAAUC,EAAMC,EAAW,CACvCH,EAAM,SAGPA,EAAM,oBAAoB,IACxBE,IAASE,IAGXJ,EAAM,eAAe,WAAW,EAE9BA,EAAM,eAAe,UAAU,IACjCA,EAAM,eAAe,2BAA2B,EAChDA,EAAM,iBAAiBE,EAAMC,CAAS,GAG5C,EAOA,KAAK,gBAAkB,SAAUE,EAAWF,EAAW,CACrD,IAAIG,EAAUN,EAAM,eAAe,WAAW,EAC9C,GAAI,GAACA,EAAM,SAAW,CAACA,EAAM,oBAAoB,GAAK,CAACM,EAAQ,QAG/D,KAAIC,EAAQP,EAAM,YAAYK,EAAWF,CAAS,EAAE,CAAC,EAErD,GAAIH,EAAM,WAAW,IAAIK,CAAS,EAAG,CACnCL,EAAM,WAAW,IAAIK,EAAWE,CAAK,EACrC,MACF,CAEIP,EAAM,WAAW,KAAOA,EAAM,OAAO,qBAAuB,CAACA,EAAM,eAAe,gBAAgB,IACpGA,EAAM,WAAW,IAAIK,EAAWE,CAAK,EACrCP,EAAM,eAAe,2BAA2B,GAEpD,EAKA,KAAK,WAAa,UAAY,CAC5B,GAAIA,EAAM,oBAAoB,EAC5B,OAAOA,EAAM,eAAe,WAAW,CAG3C,EAMA,KAAK,iBAAmB,SAAUE,EAAMC,EAAW,CACjD,GAAKH,EAAM,SAGPA,EAAM,OAAO,SAAWA,EAAM,OAAO,eAOzC,KAAIQ,EAAKR,EAAM,YAAYE,EAAMC,CAAS,EACxCI,EAAQC,EAAG,CAAC,EACZC,EAAcD,EAAG,CAAC,EACpBR,EAAM,SAAS,SAASU,GAAM,MAAOD,CAAW,EAChDT,EAAM,OAAO,KAAKO,CAAK,EACzB,EAEA,KAAK,YAAc,SAAUL,EAAMS,EAAS,CAK1C,IAAIC,EAAWxB,EAASA,EAASA,EAAS,CAAC,EAAGY,EAAM,eAAe,cAAc,CAAC,EAAGA,EAAM,YAAY,cAAc,CAAC,EAAG,CACvH,QAAS,QACT,aAAcA,EAAM,mBACpB,oBAAqBN,EACvB,CAAC,EACGmB,EAAe,CACjB,GAAIC,EAAG,EACP,UAAW,IAAI,KACf,KAAMZ,CACR,EACA,MAAO,CAACd,EAASA,EAAS,CAAC,EAAGyB,CAAY,EAAG,CAC3C,QAAS,KAAK,UAAUF,CAAO,EAC/B,SAAU,KAAK,UAAUC,CAAQ,CACnC,CAAC,EAAGxB,EAASA,EAAS,CAAC,EAAGyB,CAAY,EAAG,CACvC,QAASF,EACT,SAAUC,CACZ,CAAC,CAAC,CACJ,EACA,KAAK,kBAAoBhB,EACzB,KAAK,OAASC,EACd,KAAK,QAAU,GACf,KAAK,YAAc,IAAIkB,GAAYlB,EAAQ,KAAK,WAAW,EAC3D,KAAK,eAAiB,IAAImB,GAAepB,EAAoBC,EAAQ,KAAK,YAAa,KAAK,WAAW,EACvG,KAAK,mBAAqBA,EAAO,MACnC,CAIA,OAAAF,EAAW,UAAU,OAAS,UAAY,CACxC,KAAK,QAAU,EACjB,EAKAA,EAAW,UAAU,QAAU,UAAY,CACzC,KAAK,QAAU,EACjB,EAIAA,EAAW,UAAU,iBAAmB,UAAY,CAClD,OAAO,KAAK,eAAe,UAAU,CACvC,EAIAA,EAAW,UAAU,UAAY,UAAY,CAC3C,OAAO,KAAK,OAAO,SAAW,CAChC,EAIAA,EAAW,UAAU,cAAgB,UAAY,CAC/C,OAAO,KAAK,WAAW,OAAS,CAClC,EAIAA,EAAW,UAAU,cAAgB,SAAUsB,EAAiB,CAC1DA,IAAoB,SACtBA,EAAkB,IAEpB,IAAIC,EAAQ,CAAC,EAEb,GAAID,GAAmB,KAAK,cAAc,EAExC,GAAI,KAAK,WAAW,MAAQ,KAAK,OAAO,WACtCC,EAAQ,MAAM,KAAK,KAAK,WAAW,OAAO,CAAC,EAC3C,KAAK,WAAW,MAAM,MAItB,SADI3B,EAAI,EACC4B,EAAK,EAAGX,EAAK,MAAM,KAAK,KAAK,WAAW,KAAK,CAAC,EAAGW,EAAKX,EAAG,OAAQW,IAAM,CAC9E,IAAIC,EAAMZ,EAAGW,CAAE,EACf,GAAI5B,KAAO,KAAK,OAAO,WACrB,MAEF,IAAI8B,EAAU,KAAK,WAAW,IAAID,CAAG,EACjCC,IACFH,EAAM,KAAKG,CAAO,EAClB,KAAK,WAAW,OAAOD,CAAG,EAE9B,CAIJ,OAAI,KAAK,OAAO,SACV,KAAK,OAAO,QAAU,KAAK,OAAO,WAAaF,EAAM,QACvDA,EAAM,KAAK,MAAMA,EAAO,KAAK,MAAM,EACnC,KAAK,OAAS,CAAC,GAGfA,EAAM,KAAK,MAAMA,EAAO,KAAK,OAAO,OAAO,EAAG,KAAK,OAAO,WAAaA,EAAM,MAAM,CAAC,GAGjFA,CACT,EAIAvB,EAAW,UAAU,qBAAuB,UAAY,CACtD,OAAO,KAAK,iBACd,EAIAA,EAAW,UAAU,eAAiB,UAAY,CAChD,MAAO,CACL,OAAQ,KAAK,eAAe,UAAU,EACtC,UAAW,KAAK,eAAe,WAAW,EAAE,SAC9C,CACF,EAMAA,EAAW,UAAU,qBAAuB,SAAU2B,EAAmB,CACvE,KAAK,eAAe,qBAAqBA,CAAiB,CAC5D,EAMA3B,EAAW,UAAU,oBAAsB,UAAY,CACrD,IAAI4B,EAAW,SAAS,SAAS,SAAS,EACtCC,EAAU,KAAK,OAAO,eAAe,KAAK,SAAUC,EAAI,CAC1D,OAAOA,EAAG,KAAKF,CAAQ,CACzB,CAAC,EACGG,EAAU,KAAK,OAAO,eAAe,KAAK,SAAUD,EAAI,CAC1D,OAAOA,EAAG,KAAKF,CAAQ,CACzB,CAAC,EACD,OAAOG,GAAW,CAACF,CACrB,EACO7B,CACT,GAAE,EC9QF,IAAMgC,GAAe,CAAC,EAChBC,GAAe,CAAC,EACtB,QAAS,EAAI,EAAG,EAAI,IAAK,IAAK,CAC5B,IAAIC,EAAc,EAAE,SAAS,EAAE,EAAE,YAAY,EACzCA,EAAY,SAAW,IACzBA,EAAc,IAAIA,CAAW,IAE/BF,GAAa,CAAC,EAAIE,EAClBD,GAAaC,CAAW,EAAI,CAC9B,CACO,SAASC,GAAQC,EAAS,CAC/B,GAAIA,EAAQ,OAAS,IAAM,EACzB,MAAM,IAAI,MAAM,qDAAqD,EAEvE,IAAMC,EAAM,IAAI,WAAWD,EAAQ,OAAS,CAAC,EAC7C,QAASE,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,GAAK,EAAG,CAC1C,IAAMJ,EAAcE,EAAQ,MAAME,EAAGA,EAAI,CAAC,EAAE,YAAY,EACxD,GAAIJ,KAAeD,GACjBI,EAAIC,EAAI,CAAC,EAAIL,GAAaC,CAAW,MAErC,OAAM,IAAI,MAAM,uCAAuCA,CAAW,iBAAiB,CAEvF,CACA,OAAOG,CACT,CACO,SAASE,EAAMC,EAAO,CAC3B,IAAIH,EAAM,GACV,QAASC,EAAI,EAAGA,EAAIE,EAAM,WAAYF,IACpCD,GAAOL,GAAaQ,EAAMF,CAAC,CAAC,EAE9B,OAAOD,CACT,CC/BO,IAAMI,GAAoBC,GAAS,CACxC,GAAI,OAAOA,GAAU,WAAY,OAAOA,EACxC,IAAMC,EAAc,QAAQ,QAAQD,CAAK,EACzC,MAAO,IAAMC,CACf,ECJO,IAAMC,GAAwB,kBACxBC,GAAyB,mBACzBC,GAAuB,aACvBC,GAA6B,sBAC7BC,GAAsB,gBACtBC,GAAwB,kBACxBC,GAAoB,uBAE1B,IAAMC,GAAc,gBACdC,GAAkBC,GAAqB,YAAY,EACnDC,GAAc,OACdC,GAAoB,CAACJ,GAAaC,GAAiBE,EAAW,EAC9DE,GAAmBC,GAAsB,YAAY,EACrDC,GAAgB,uBAChBC,GAAeC,GAAkB,YAAY,EAEnD,IAAMC,GAA4B,CACvC,cAAe,GACf,gBAAiB,GACjB,WAAY,GACZ,OAAQ,GACR,KAAM,GACN,aAAc,GACd,eAAgB,GAChB,OAAQ,GACR,QAAS,GACT,GAAI,GACJ,QAAS,GACT,oBAAqB,GACrB,QAAS,GACT,aAAc,GACd,kBAAmB,EACrB,EACaC,GAAuB,UACvBC,GAAqB,QAE3B,IAAMC,GAAuB,mBAE7B,IAAMC,GAA6B,2BAC7BC,GAAmB,mBACnBC,GAAiB,GACjBC,GAAsB,eACtBC,GAAoB,KAAU,GAAK,ECvChD,IAAMC,GAAkB,CAAC,EACnBC,GAAa,CAAC,EACPC,GAAc,CAACC,EAAWC,EAAQC,IAAY,GAAGF,CAAS,IAAIC,CAAM,IAAIC,CAAO,IAAIC,EAAmB,GACtGC,GAAgB,CAAOC,EAAmBC,EAAaN,EAAWC,EAAQC,IAAYK,EAAA,sBACjG,IAAMC,EAAY,MAAMC,GAAKJ,EAAmBC,EAAY,gBAAiBA,EAAY,WAAW,EAC9FI,EAAW,GAAGV,CAAS,IAAIC,CAAM,IAAIC,CAAO,IAAIS,EAAMH,CAAS,CAAC,IAAIF,EAAY,YAAY,GAClG,GAAII,KAAYb,GACd,OAAOA,GAAgBa,CAAQ,EAGjC,IADAZ,GAAW,KAAKY,CAAQ,EACjBZ,GAAW,OAASc,IACzB,OAAOf,GAAgBC,GAAW,MAAM,CAAC,EAE3C,IAAIe,EAAM,OAAOP,EAAY,eAAe,GAC5C,QAAWQ,IAAY,CAACd,EAAWC,EAAQC,EAASC,EAAmB,EACrEU,EAAM,MAAMJ,GAAKJ,EAAmBQ,EAAKC,CAAQ,EAEnD,OAAOjB,GAAgBa,CAAQ,EAAIG,CACrC,GAOA,IAAME,GAAO,CAACC,EAAMC,EAAQC,IAAS,CACnC,IAAMC,EAAO,IAAIH,EAAKC,CAAM,EAC5B,OAAAE,EAAK,OAAOC,EAAaF,CAAI,CAAC,EACvBC,EAAK,OAAO,CACrB,EC/BO,IAAME,GAAsB,CAAC,CAClC,QAAAC,CACF,EAAGC,EAAmBC,IAAoB,CACxC,IAAMC,EAAY,CAAC,EACnB,QAAWC,KAAc,OAAO,KAAKJ,CAAO,EAAE,KAAK,EAAG,CACpD,GAAIA,EAAQI,CAAU,GAAK,KACzB,SAEF,IAAMC,EAAsBD,EAAW,YAAY,GAC/CC,KAAuBC,IAA6BL,GAAmB,IAAII,CAAmB,GAAKE,GAAqB,KAAKF,CAAmB,GAAKG,GAAmB,KAAKH,CAAmB,KAC9L,CAACH,GAAmBA,GAAmB,CAACA,EAAgB,IAAIG,CAAmB,KAIrFF,EAAUE,CAAmB,EAAIL,EAAQI,CAAU,EAAE,KAAK,EAAE,QAAQ,OAAQ,GAAG,EACjF,CACA,OAAOD,CACT,EChBO,IAAMM,GAAoB,CAAC,CAChC,MAAAC,EAAQ,CAAC,CACX,IAAM,CACJ,IAAMC,EAAO,CAAC,EACRC,EAAa,CAAC,EACpB,QAAWC,KAAO,OAAO,KAAKH,CAAK,EAAG,CACpC,GAAIG,EAAI,YAAY,IAAMC,GACxB,SAEF,IAAMC,EAAaC,EAAUH,CAAG,EAChCF,EAAK,KAAKI,CAAU,EACpB,IAAME,EAAQP,EAAMG,CAAG,EACnB,OAAOI,GAAU,SACnBL,EAAWG,CAAU,EAAI,GAAGA,CAAU,IAAIC,EAAUC,CAAK,CAAC,GACjD,MAAM,QAAQA,CAAK,IAC5BL,EAAWG,CAAU,EAAIE,EAAM,MAAM,CAAC,EAAE,OAAO,CAACC,EAASD,IAAUC,EAAQ,OAAO,CAAC,GAAGH,CAAU,IAAIC,EAAUC,CAAK,CAAC,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,EAEjJ,CACA,OAAON,EAAK,KAAK,EAAE,IAAIE,GAAOD,EAAWC,CAAG,CAAC,EAAE,OAAOD,GAAcA,CAAU,EAAE,KAAK,GAAG,CAC1F,ECrBO,IAAMO,GAAgBC,GAAO,OAAO,aAAgB,YAAcA,aAAe,aAAe,OAAO,UAAU,SAAS,KAAKA,CAAG,IAAM,uBCIxI,IAAMC,GAAiB,CAAOC,EAGlCC,IAAoBC,EAAA,MAHcF,EAGlCC,GAAoB,UAHc,CACnC,QAAAE,EACA,KAAAC,CACF,EAAGC,EAAoB,CACrB,QAAWC,KAAc,OAAO,KAAKH,CAAO,EAC1C,GAAIG,EAAW,YAAY,IAAMC,GAC/B,OAAOJ,EAAQG,CAAU,EAG7B,GAAIF,GAAQ,KACV,MAAO,mEACF,GAAI,OAAOA,GAAS,UAAY,YAAY,OAAOA,CAAI,GAAKI,GAAcJ,CAAI,EAAG,CACtF,IAAMK,EAAW,IAAIJ,EACrB,OAAAI,EAAS,OAAOC,EAAaN,CAAI,CAAC,EAC3BO,EAAM,MAAMF,EAAS,OAAO,CAAC,CACtC,CACA,OAAOG,EACT,GCnBO,IAAMC,GAAN,KAAsB,CAC3B,OAAOC,EAAS,CACd,IAAMC,EAAS,CAAC,EAChB,QAAWC,KAAc,OAAO,KAAKF,CAAO,EAAG,CAC7C,IAAMG,EAAQC,GAASF,CAAU,EACjCD,EAAO,KAAK,WAAW,KAAK,CAACE,EAAM,UAAU,CAAC,EAAGA,EAAO,KAAK,kBAAkBH,EAAQE,CAAU,CAAC,CAAC,CACrG,CACA,IAAMG,EAAM,IAAI,WAAWJ,EAAO,OAAO,CAACK,EAAOH,IAAUG,EAAQH,EAAM,WAAY,CAAC,CAAC,EACnFI,EAAW,EACf,QAAWC,KAASP,EAClBI,EAAI,IAAIG,EAAOD,CAAQ,EACvBA,GAAYC,EAAM,WAEpB,OAAOH,CACT,CACA,kBAAkBI,EAAQ,CACxB,OAAQA,EAAO,KAAM,CACnB,IAAK,UACH,OAAO,WAAW,KAAK,CAACA,EAAO,MAAQ,EAAI,CAAC,CAAC,EAC/C,IAAK,OACH,OAAO,WAAW,KAAK,CAAC,EAAGA,EAAO,KAAK,CAAC,EAC1C,IAAK,QACH,IAAMC,EAAY,IAAI,SAAS,IAAI,YAAY,CAAC,CAAC,EACjD,OAAAA,EAAU,SAAS,EAAG,CAAC,EACvBA,EAAU,SAAS,EAAGD,EAAO,MAAO,EAAK,EAClC,IAAI,WAAWC,EAAU,MAAM,EACxC,IAAK,UACH,IAAMC,EAAU,IAAI,SAAS,IAAI,YAAY,CAAC,CAAC,EAC/C,OAAAA,EAAQ,SAAS,EAAG,CAAC,EACrBA,EAAQ,SAAS,EAAGF,EAAO,MAAO,EAAK,EAChC,IAAI,WAAWE,EAAQ,MAAM,EACtC,IAAK,OACH,IAAMC,EAAY,IAAI,WAAW,CAAC,EAClC,OAAAA,EAAU,CAAC,EAAI,EACfA,EAAU,IAAIH,EAAO,MAAM,MAAO,CAAC,EAC5BG,EACT,IAAK,SACH,IAAMC,EAAU,IAAI,SAAS,IAAI,YAAY,EAAIJ,EAAO,MAAM,UAAU,CAAC,EACzEI,EAAQ,SAAS,EAAG,CAAC,EACrBA,EAAQ,UAAU,EAAGJ,EAAO,MAAM,WAAY,EAAK,EACnD,IAAMK,EAAW,IAAI,WAAWD,EAAQ,MAAM,EAC9C,OAAAC,EAAS,IAAIL,EAAO,MAAO,CAAC,EACrBK,EACT,IAAK,SACH,IAAMC,EAAYX,GAASK,EAAO,KAAK,EACjCO,EAAU,IAAI,SAAS,IAAI,YAAY,EAAID,EAAU,UAAU,CAAC,EACtEC,EAAQ,SAAS,EAAG,CAAC,EACrBA,EAAQ,UAAU,EAAGD,EAAU,WAAY,EAAK,EAChD,IAAME,EAAW,IAAI,WAAWD,EAAQ,MAAM,EAC9C,OAAAC,EAAS,IAAIF,EAAW,CAAC,EAClBE,EACT,IAAK,YACH,IAAMC,EAAU,IAAI,WAAW,CAAC,EAChC,OAAAA,EAAQ,CAAC,EAAI,EACbA,EAAQ,IAAIC,GAAM,WAAWV,EAAO,MAAM,QAAQ,CAAC,EAAE,MAAO,CAAC,EACtDS,EACT,IAAK,OACH,GAAI,CAACE,GAAa,KAAKX,EAAO,KAAK,EACjC,MAAM,IAAI,MAAM,0BAA0BA,EAAO,KAAK,EAAE,EAE1D,IAAMY,EAAY,IAAI,WAAW,EAAE,EACnC,OAAAA,EAAU,CAAC,EAAI,EACfA,EAAU,IAAIC,GAAQb,EAAO,MAAM,QAAQ,MAAO,EAAE,CAAC,EAAG,CAAC,EAClDY,CACX,CACF,CACF,EAcA,IAAME,GAAe,iEACRC,GAAN,MAAMC,CAAM,CACjB,YAAYC,EAAO,CAEjB,GADA,KAAK,MAAQA,EACTA,EAAM,aAAe,EACvB,MAAM,IAAI,MAAM,uCAAuC,CAE3D,CACA,OAAO,WAAWC,EAAQ,CACxB,GAAIA,EAAS,oBAAuBA,EAAS,oBAC3C,MAAM,IAAI,MAAM,GAAGA,CAAM,qEAAqE,EAEhG,IAAMD,EAAQ,IAAI,WAAW,CAAC,EAC9B,QAASE,EAAI,EAAGC,EAAY,KAAK,IAAI,KAAK,MAAMF,CAAM,CAAC,EAAGC,EAAI,IAAMC,EAAY,EAAGD,IAAKC,GAAa,IACnGH,EAAME,CAAC,EAAIC,EAEb,OAAIF,EAAS,GACXG,GAAOJ,CAAK,EAEP,IAAID,EAAMC,CAAK,CACxB,CACA,SAAU,CACR,IAAMA,EAAQ,KAAK,MAAM,MAAM,CAAC,EAC1BK,EAAWL,EAAM,CAAC,EAAI,IAC5B,OAAIK,GACFD,GAAOJ,CAAK,EAEP,SAASM,EAAMN,CAAK,EAAG,EAAE,GAAKK,EAAW,GAAK,EACvD,CACA,UAAW,CACT,OAAO,OAAO,KAAK,QAAQ,CAAC,CAC9B,CACF,EACA,SAASD,GAAOJ,EAAO,CACrB,QAASE,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAME,CAAC,GAAK,IAEd,QAASA,EAAI,EAAGA,EAAI,KAClBF,EAAME,CAAC,IACHF,EAAME,CAAC,IAAM,GAFKA,IAEtB,CAEJ,CC3HO,IAAMK,GAAY,CAACC,EAAcC,IAAY,CAClDD,EAAeA,EAAa,YAAY,EACxC,QAAWE,KAAc,OAAO,KAAKD,CAAO,EAC1C,GAAID,IAAiBE,EAAW,YAAY,EAC1C,MAAO,GAGX,MAAO,EACT,ECPO,IAAMC,GAAqB,CAACC,EAASC,EAAU,CAAC,IAAM,CAC3D,GAAM,CACJ,QAAAC,EACA,MAAAC,EAAQ,CAAC,CACX,EAAIC,EAAY,MAAMJ,CAAO,EAC7B,QAAWK,KAAQ,OAAO,KAAKH,CAAO,EAAG,CACvC,IAAMI,EAAQD,EAAK,YAAY,GAC3BC,EAAM,MAAM,EAAG,CAAC,IAAM,UAAY,CAACL,EAAQ,oBAAoB,IAAIK,CAAK,GAAKL,EAAQ,kBAAkB,IAAIK,CAAK,KAClHH,EAAME,CAAI,EAAIH,EAAQG,CAAI,EAC1B,OAAOH,EAAQG,CAAI,EAEvB,CACA,OAAOE,GAAAC,GAAA,GACFR,GADE,CAEL,QAAAE,EACA,MAAAC,CACF,EACF,EChBO,IAAMM,GAAiBC,GAAW,CACvCA,EAAUC,EAAY,MAAMD,CAAO,EACnC,QAAWE,KAAc,OAAO,KAAKF,EAAQ,OAAO,EAC9CG,GAAkB,QAAQD,EAAW,YAAY,CAAC,EAAI,IACxD,OAAOF,EAAQ,QAAQE,CAAU,EAGrC,OAAOF,CACT,ECVO,IAAMI,GAAUC,GAAQC,GAAOD,CAAI,EAAE,YAAY,EAAE,QAAQ,YAAa,GAAG,EACrEC,GAASD,GAChB,OAAOA,GAAS,SACX,IAAI,KAAKA,EAAO,GAAI,EAEzB,OAAOA,GAAS,SACd,OAAOA,CAAI,EACN,IAAI,KAAK,OAAOA,CAAI,EAAI,GAAI,EAE9B,IAAI,KAAKA,CAAI,EAEfA,ECGF,IAAME,GAAN,KAAkB,CACvB,YAAY,CACV,cAAAC,EACA,YAAAC,EACA,OAAAC,EACA,QAAAC,EACA,OAAAC,EACA,cAAAC,EAAgB,EAClB,EAAG,CACD,KAAK,gBAAkB,IAAIC,GAC3B,KAAK,QAAUH,EACf,KAAK,OAASC,EACd,KAAK,cAAgBC,EACrB,KAAK,cAAgB,OAAOL,GAAkB,UAAYA,EAAgB,GAC1E,KAAK,eAAiBO,GAAkBL,CAAM,EAC9C,KAAK,mBAAqBK,GAAkBN,CAAW,CACzD,CACM,QAAQO,EAA+B,QAAAC,EAAA,yBAA/BC,EAAiBC,EAAU,CAAC,EAAG,CAC3C,GAAM,CACJ,YAAAC,EAAc,IAAI,KAClB,UAAAC,EAAY,KACZ,kBAAAC,EACA,mBAAAC,EACA,gBAAAC,EACA,iBAAAC,EACA,cAAAC,EACA,eAAAC,CACF,EAAIR,EACEV,EAAc,MAAM,KAAK,mBAAmB,EAClD,KAAK,4BAA4BA,CAAW,EAC5C,IAAMC,EAASgB,IAAkB,MAAM,KAAK,eAAe,GACrD,CACJ,SAAAE,EACA,UAAAC,CACF,EAAIC,GAAWV,CAAW,EAC1B,GAAIC,EAAYU,GACd,OAAO,QAAQ,OAAO,kGAA4G,EAEpI,IAAMC,EAAQC,GAAYJ,EAAWnB,EAAQiB,GAAkB,KAAK,OAAO,EACrEO,EAAUC,GAAmBC,GAAelB,CAAe,EAAG,CAClE,mBAAAK,EACA,iBAAAE,CACF,CAAC,EACGhB,EAAY,eACdyB,EAAQ,MAAMG,EAAiB,EAAI5B,EAAY,cAEjDyB,EAAQ,MAAMI,EAAqB,EAAIC,GACvCL,EAAQ,MAAMM,EAAsB,EAAI,GAAG/B,EAAY,WAAW,IAAIuB,CAAK,GAC3EE,EAAQ,MAAMO,EAAoB,EAAIb,EACtCM,EAAQ,MAAMQ,EAAmB,EAAIrB,EAAU,SAAS,EAAE,EAC1D,IAAMsB,EAAmBC,GAAoBV,EAASZ,EAAmBE,CAAe,EACxF,OAAAU,EAAQ,MAAMW,EAA0B,EAAIC,GAAuBH,CAAgB,EACnFT,EAAQ,MAAMa,EAAqB,EAAI,MAAM,KAAK,aAAanB,EAAUI,EAAO,KAAK,cAAcvB,EAAaC,EAAQmB,EAAWF,CAAc,EAAG,KAAK,uBAAuBO,EAASS,EAAkB,MAAMK,GAAe9B,EAAiB,KAAK,MAAM,CAAC,CAAC,EACvPgB,CACT,GACM,KAAKe,EAAQ9B,EAAS,QAAAF,EAAA,sBAC1B,OAAI,OAAOgC,GAAW,SACb,KAAK,WAAWA,EAAQ9B,CAAO,EAC7B8B,EAAO,SAAWA,EAAO,QAC3B,KAAK,UAAUA,EAAQ9B,CAAO,EAC5B8B,EAAO,QACT,KAAK,YAAYA,EAAQ9B,CAAO,EAEhC,KAAK,YAAY8B,EAAQ9B,CAAO,CAE3C,GACM,UAAUH,EAGbkC,EAKA,QAAAjC,EAAA,yBARa,CACd,QAAAkC,EACA,QAAAC,CACF,EAAG,CACD,YAAAhC,EAAc,IAAI,KAClB,eAAAiC,EACA,cAAA3B,EACA,eAAAC,CACF,EAAG,CACD,IAAMjB,EAASgB,IAAkB,MAAM,KAAK,eAAe,GACrD,CACJ,UAAAG,EACA,SAAAD,CACF,EAAIE,GAAWV,CAAW,EACpBY,EAAQC,GAAYJ,EAAWnB,EAAQiB,GAAkB,KAAK,OAAO,EACrE2B,EAAgB,MAAMN,GAAe,CACzC,QAAS,CAAC,EACV,KAAMI,CACR,EAAG,KAAK,MAAM,EACRG,EAAO,IAAI,KAAK,OACtBA,EAAK,OAAOJ,CAAO,EACnB,IAAMK,EAAgBC,EAAM,MAAMF,EAAK,OAAO,CAAC,EACzCG,EAAe,CAACC,GAA4B/B,EAAUI,EAAOqB,EAAgBG,EAAeF,CAAa,EAAE,KAAK;AAAA,CAAI,EAC1H,OAAO,KAAK,WAAWI,EAAc,CACnC,YAAAtC,EACA,cAAeV,EACf,eAAAiB,CACF,CAAC,CACH,GACM,YAAYX,EAAiBkC,EAIhC,QAAAjC,EAAA,yBAJe2C,EAAiB,CACjC,YAAAxC,EAAc,IAAI,KAClB,cAAAM,EACA,eAAAC,CACF,EAAG,CAUD,OATgB,KAAK,UAAU,CAC7B,QAAS,KAAK,gBAAgB,OAAOiC,EAAgB,QAAQ,OAAO,EACpE,QAASA,EAAgB,QAAQ,IACnC,EAAG,CACD,YAAAxC,EACA,cAAAM,EACA,eAAAC,EACA,eAAgBiC,EAAgB,cAClC,CAAC,EACc,KAAKC,IACX,CACL,QAASD,EAAgB,QACzB,UAAAC,CACF,EACD,CACH,GACM,WAAW7C,EAIT,QAAAC,EAAA,yBAJSyC,EAAc,CAC7B,YAAAtC,EAAc,IAAI,KAClB,cAAAM,EACA,eAAAC,CACF,EAAI,CAAC,EAAG,CACN,IAAMlB,EAAc,MAAM,KAAK,mBAAmB,EAClD,KAAK,4BAA4BA,CAAW,EAC5C,IAAMC,EAASgB,IAAkB,MAAM,KAAK,eAAe,GACrD,CACJ,UAAAG,CACF,EAAIC,GAAWV,CAAW,EACpBmC,EAAO,IAAI,KAAK,OAAO,MAAM,KAAK,cAAc9C,EAAaC,EAAQmB,EAAWF,CAAc,CAAC,EACrG,OAAA4B,EAAK,OAAOO,EAAaJ,CAAY,CAAC,EAC/BD,EAAM,MAAMF,EAAK,OAAO,CAAC,CAClC,GACM,YAAYvC,EAMV,QAAAC,EAAA,yBANU8C,EAAe,CAC/B,YAAA3C,EAAc,IAAI,KAClB,gBAAAI,EACA,kBAAAF,EACA,cAAAI,EACA,eAAAC,CACF,EAAI,CAAC,EAAG,CACN,IAAMlB,EAAc,MAAM,KAAK,mBAAmB,EAClD,KAAK,4BAA4BA,CAAW,EAC5C,IAAMC,EAASgB,IAAkB,MAAM,KAAK,eAAe,GACrDQ,EAAUE,GAAe2B,CAAa,EACtC,CACJ,SAAAnC,EACA,UAAAC,CACF,EAAIC,GAAWV,CAAW,EACpBY,EAAQC,GAAYJ,EAAWnB,EAAQiB,GAAkB,KAAK,OAAO,EAC3EO,EAAQ,QAAQ8B,EAAe,EAAIpC,EAC/BnB,EAAY,eACdyB,EAAQ,QAAQ+B,EAAY,EAAIxD,EAAY,cAE9C,IAAMyD,EAAc,MAAMlB,GAAed,EAAS,KAAK,MAAM,EACzD,CAACiC,GAAUC,GAAelC,EAAQ,OAAO,GAAK,KAAK,gBACrDA,EAAQ,QAAQkC,EAAa,EAAIF,GAEnC,IAAMvB,EAAmBC,GAAoBV,EAASZ,EAAmBE,CAAe,EAClFqC,EAAY,MAAM,KAAK,aAAajC,EAAUI,EAAO,KAAK,cAAcvB,EAAaC,EAAQmB,EAAWF,CAAc,EAAG,KAAK,uBAAuBO,EAASS,EAAkBuB,CAAW,CAAC,EAClM,OAAAhC,EAAQ,QAAQmC,EAAW,EAAI,GAAG9B,EAAoB,eAAoB9B,EAAY,WAAW,IAAIuB,CAAK,mBAAwBc,GAAuBH,CAAgB,CAAC,eAAoBkB,CAAS,GAChM3B,CACT,GACA,uBAAuBA,EAASS,EAAkBuB,EAAa,CAC7D,IAAMI,EAAgB,OAAO,KAAK3B,CAAgB,EAAE,KAAK,EACzD,MAAO,GAAGT,EAAQ,MAAM;AAAA,EAC1B,KAAK,iBAAiBA,CAAO,CAAC;AAAA,EAC9BqC,GAAkBrC,CAAO,CAAC;AAAA,EAC1BoC,EAAc,IAAIE,GAAQ,GAAGA,CAAI,IAAI7B,EAAiB6B,CAAI,CAAC,EAAE,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA,EAEzEF,EAAc,KAAK,GAAG,CAAC;AAAA,EACvBJ,CAAW,EACX,CACM,mBAAmBtC,EAAU6C,EAAiBC,EAAkB,QAAAzD,EAAA,sBACpE,IAAMsC,EAAO,IAAI,KAAK,OACtBA,EAAK,OAAOO,EAAaY,CAAgB,CAAC,EAC1C,IAAMC,EAAgB,MAAMpB,EAAK,OAAO,EACxC,MAAO,GAAGhB,EAAoB;AAAA,EAChCX,CAAQ;AAAA,EACR6C,CAAe;AAAA,EACfhB,EAAMkB,CAAa,CAAC,EACpB,GACA,iBAAiB,CACf,KAAAC,CACF,EAAG,CACD,GAAI,KAAK,cAAe,CACtB,IAAMC,EAAyB,CAAC,EAChC,QAAWC,KAAeF,EAAK,MAAM,GAAG,EAClCE,GAAa,SAAW,GACxBA,IAAgB,MAChBA,IAAgB,KAClBD,EAAuB,IAAI,EAE3BA,EAAuB,KAAKC,CAAW,GAG3C,IAAMC,EAAiB,GAAGH,GAAM,WAAW,GAAG,EAAI,IAAM,EAAE,GAAGC,EAAuB,KAAK,GAAG,CAAC,GAAGA,EAAuB,OAAS,GAAKD,GAAM,SAAS,GAAG,EAAI,IAAM,EAAE,GAEnK,OADsBI,EAAUD,CAAc,EACzB,QAAQ,OAAQ,GAAG,CAC1C,CACA,OAAOH,CACT,CACM,aAAahD,EAAU6C,EAAiBQ,EAAYP,EAAkB,QAAAzD,EAAA,sBAC1E,IAAMyC,EAAe,MAAM,KAAK,mBAAmB9B,EAAU6C,EAAiBC,CAAgB,EACxFnB,EAAO,IAAI,KAAK,OAAO,MAAM0B,CAAU,EAC7C,OAAA1B,EAAK,OAAOO,EAAaJ,CAAY,CAAC,EAC/BD,EAAM,MAAMF,EAAK,OAAO,CAAC,CAClC,GACA,cAAc9C,EAAaC,EAAQmB,EAAWlB,EAAS,CACrD,OAAOuE,GAAc,KAAK,OAAQzE,EAAaoB,EAAWnB,EAAQC,GAAW,KAAK,OAAO,CAC3F,CACA,4BAA4BF,EAAa,CACvC,GAAI,OAAOA,GAAgB,UAAY,OAAOA,EAAY,aAAgB,UAAY,OAAOA,EAAY,iBAAoB,SAC3H,MAAM,IAAI,MAAM,yCAAyC,CAE7D,CACF,EACMqB,GAAaqD,GAAO,CACxB,IAAMvD,EAAWwD,GAAQD,CAAG,EAAE,QAAQ,SAAU,EAAE,EAClD,MAAO,CACL,SAAAvD,EACA,UAAWA,EAAS,MAAM,EAAG,CAAC,CAChC,CACF,EACMkB,GAAyBK,GAAW,OAAO,KAAKA,CAAO,EAAE,KAAK,EAAE,KAAK,GAAG,EC5G9E,IAAAkC,GAAuB,SA/HvB,IAAIC,EAAoC,UAAY,CAClD,OAAAA,EAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,EAAS,MAAM,KAAM,SAAS,CACvC,EACIM,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIrB,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAsB,EACAC,EACAvB,EACAwB,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKtB,EAAG,CACf,OAAO,SAAUuB,EAAG,CAClB,OAAOX,EAAK,CAACZ,EAAGuB,CAAC,CAAC,CACpB,CACF,CACA,SAASX,EAAKY,EAAI,CAChB,GAAIL,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGG,EAAG,CAAC,IAAMN,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIC,EAAI,EAAGC,IAAMvB,EAAI2B,EAAG,CAAC,EAAI,EAAIJ,EAAE,OAAYI,EAAG,CAAC,EAAIJ,EAAE,SAAcvB,EAAIuB,EAAE,SAAcvB,EAAE,KAAKuB,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEvB,EAAIA,EAAE,KAAKuB,EAAGI,EAAG,CAAC,CAAC,GAAG,KAAM,OAAO3B,EAE3J,OADIuB,EAAI,EAAGvB,IAAG2B,EAAK,CAACA,EAAG,CAAC,EAAI,EAAG3B,EAAE,KAAK,GAC9B2B,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACH3B,EAAI2B,EACJ,MACF,IAAK,GACH,OAAAN,EAAE,QACK,CACL,MAAOM,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHN,EAAE,QACFE,EAAII,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKN,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMrB,EAAIqB,EAAE,KAAM,EAAArB,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAO2B,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFN,EAAI,EACJ,QACF,CACA,GAAIM,EAAG,CAAC,IAAM,IAAM,CAAC3B,GAAK2B,EAAG,CAAC,EAAI3B,EAAE,CAAC,GAAK2B,EAAG,CAAC,EAAI3B,EAAE,CAAC,GAAI,CACvDqB,EAAE,MAAQM,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKN,EAAE,MAAQrB,EAAE,CAAC,EAAG,CACjCqB,EAAE,MAAQrB,EAAE,CAAC,EACbA,EAAI2B,EACJ,KACF,CACA,GAAI3B,GAAKqB,EAAE,MAAQrB,EAAE,CAAC,EAAG,CACvBqB,EAAE,MAAQrB,EAAE,CAAC,EACbqB,EAAE,IAAI,KAAKM,CAAE,EACb,KACF,CACI3B,EAAE,CAAC,GAAGqB,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAM,EAAKP,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVW,EAAK,CAAC,EAAGX,CAAC,EACVO,EAAI,CACN,QAAE,CACAD,EAAItB,EAAI,CACV,CACA,GAAI2B,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAKIC,GAAU,MACVC,GAAS,OACTC,GAAoB,mBACpBC,GAAoB,2BACpBC,GAAuB,CACzB,UAAW,EACb,EACIC,IAA+B,UAAY,CAC7C,SAASA,EAAgBC,EAAQ,CAC/B,IAAIC,EAAQ,KACZ,KAAK,UAAY,SAAUC,EAAqB,CAC9C,OAAO/B,GAAU8B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIE,EAASC,EAASC,EACtB,OAAOpB,GAAY,KAAM,SAAUqB,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,MAAO,CAAC,EAAa,KAAK,sBAAsBJ,EAAqBN,EAAiB,CAAC,EACzF,IAAK,GAGH,OAFAO,EAAUG,EAAG,KAAK,EAClBF,EAAU,IAAIG,EAAYJ,CAAO,EAC5B,KAAK,SACH,CAAC,EAAa,KAAK,SAAS,KAAKC,CAAO,CAAC,EADrB,CAAC,EAAa,CAAC,EAE5C,IAAK,GACHA,EAAUE,EAAG,KAAK,EAClBA,EAAG,MAAQ,EACb,IAAK,GACH,OAAAD,EAAe,KAAK,OAAO,oBAAoB,OAAOD,CAAO,EACtD,CAAC,EAAcC,CAAY,CACtC,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,WAAa,SAAUH,EAAqB,CAC/C,OAAO/B,GAAU8B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIE,EAASC,EAASC,EACtB,OAAOpB,GAAY,KAAM,SAAUqB,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,MAAO,CAAC,EAAa,KAAK,sBAAsBJ,EAAqBL,EAAiB,CAAC,EACzF,IAAK,GAGH,OAFAM,EAAUG,EAAG,KAAK,EAClBF,EAAU,IAAIG,EAAYJ,CAAO,EAC5B,KAAK,SACH,CAAC,EAAa,KAAK,SAAS,QAAQC,EAASN,EAAoB,CAAC,EAD9C,CAAC,EAAa,CAAC,EAE5C,IAAK,GACHM,EAAUE,EAAG,KAAK,EAClBA,EAAG,MAAQ,EACb,IAAK,GACH,OAAAD,EAAe,KAAK,OAAO,qBAAqB,OAAOD,CAAO,EACvD,CAAC,EAAcC,CAAY,CACtC,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,sBAAwB,SAAUH,EAAqBM,EAAa,CACvE,OAAOrC,GAAU8B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIQ,EAAmBC,EAAMP,EAASG,EAAIK,EAAIC,EAC1CC,EAAIC,EACR,OAAO7B,GAAY,KAAM,SAAU8B,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GAeH,OAdAN,EAAoB,KAAK,UAAUO,GAAiBd,CAAmB,CAAC,EACxEQ,EAAO,KAAK,OAAO,SAAS,SAAS,QAAQ,MAAO,EAAE,EACtDP,EAAU,CACR,OAAQR,GACR,SAAU,KAAK,OAAO,SAAS,SAC/B,KAAM,OAAO,KAAK,OAAO,SAAS,IAAI,GAAK,OAC3C,QAAS9B,EAAS,CAChB,eAAgB2C,EAChB,KAAM,KAAK,OAAO,SAAS,IAC7B,EAAG,KAAK,OAAO,OAAO,EACtB,SAAU,KAAK,OAAO,SAAS,SAC/B,KAAM,GAAG,OAAOE,EAAM,eAAe,EAAE,OAAOR,EAAoB,kBAAkB,EAAE,EACtF,KAAMO,CACR,EACK,KAAK,UACVH,EAAK,CAACzC,EAAS,CAAC,EAAGsC,CAAO,CAAC,EAC3BU,EAAK,CAAC,EACNF,EAAK,CAAC9C,EAAS,CAAC,EAAGsC,EAAQ,OAAO,CAAC,EACnCW,EAAK,CAAC,EACNF,EAAK,uBACE,CAAC,EAAaK,GAAcR,CAAiB,CAAC,GAN1B,CAAC,EAAa,CAAC,EAO5C,IAAK,GACH,MAAO,CAAC,EAAc5C,EAAS,MAAM,OAAQyC,EAAG,OAAO,EAAEO,EAAG,QAAUhD,EAAS,MAAM,OAAQ8C,EAAG,OAAO,EAAEG,EAAGF,CAAE,EAAIG,EAAG,KAAK,EAAGD,EAAG,CAAC,CAAC,EAAGD,EAAG,CAAC,CAAC,CAAC,EAC7I,IAAK,GACH,MAAO,CAAC,EAAcV,CAAO,CACjC,CACF,CAAC,CACH,CAAC,CACH,EACA,KAAK,OAASH,EACVA,EAAO,cACT,KAAK,SAAW,IAAIkB,GAAY,CAC9B,cAAe,GACf,YAAalB,EAAO,YACpB,OAAQA,EAAO,OACf,QAASN,GACT,cAAe,GACf,OAAQ,SACV,CAAC,EAEL,CACA,OAAOK,CACT,GAAE,EAEF,IAAIoB,GAAmB,SAAUC,EAAS,CAIxC,IAAIC,EAAsB,CAAC,EAC3BD,EAAQ,UAAU,QAAQ,SAAUE,EAAG,CACrC,OAAOD,EAAoB,KAAKE,GAAeD,CAAC,CAAC,CACnD,CAAC,EACD,IAAIE,EAAoB,CACtB,QAASJ,EAAQ,QACjB,kBAAmBA,EAAQ,kBAC3B,YAAaA,EAAQ,YACrB,UAAWC,CACb,EACA,OAAID,EAAQ,QACVI,EAAoBC,EAASA,EAAS,CAAC,EAAGD,CAAiB,EAAG,CAC5D,MAAOJ,EAAQ,KACjB,CAAC,GAEII,CACT,EACID,GAAiB,SAAUG,EAAO,CACpC,MAAO,CACL,GAAIA,EAAM,GAEV,UAAW,KAAK,MAAMA,EAAM,UAAU,QAAQ,EAAI,GAAI,EACtD,KAAMA,EAAM,KACZ,SAAUA,EAAM,SAChB,QAASA,EAAM,OACjB,CACF,EACIC,GAAgB,SAAUC,EAAS,CACrC,OAAOC,GAAU,OAAQ,OAAQ,OAAQ,UAAY,CACnD,IAAIC,EAAQC,EACZ,OAAOC,GAAY,KAAM,SAAUC,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACH,OAAAH,EAAS,IAAI,UACbA,EAAO,OAAOF,CAAO,EACrBG,EAAKG,EACE,CAAC,EAAaJ,EAAO,OAAO,CAAC,EACtC,IAAK,GACH,MAAO,CAAC,EAAcC,EAAG,MAAM,OAAQ,CAACE,EAAG,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,CACrE,CACF,CAAC,CACH,CAAC,CACH,ECvRO,SAASE,GAAiBC,EAAO,CACtC,IAAMC,EAAQ,CAAC,EACf,QAASC,KAAO,OAAO,KAAKF,CAAK,EAAE,KAAK,EAAG,CACzC,IAAMG,EAAQH,EAAME,CAAG,EAEvB,GADAA,EAAME,GAAUF,CAAG,EACf,MAAM,QAAQC,CAAK,EACrB,QAASE,EAAI,EAAGC,EAAOH,EAAM,OAAQE,EAAIC,EAAMD,IAC7CJ,EAAM,KAAK,GAAGC,CAAG,IAAIE,GAAUD,EAAME,CAAC,CAAC,CAAC,EAAE,MAEvC,CACL,IAAIE,EAAUL,GACVC,GAAS,OAAOA,GAAU,YAC5BI,GAAW,IAAIH,GAAUD,CAAK,CAAC,IAEjCF,EAAM,KAAKM,CAAO,CACpB,CACF,CACA,OAAON,EAAM,KAAK,GAAG,CACvB,CCjBA,IAAIO,IAAiC,UAAY,CAC/C,SAASA,GAAoB,CAAC,CAC9B,OAAAA,EAAkB,UAAU,OAAS,SAAUC,EAAS,CACtD,IAAIC,EAAS,KAAK,WAAWD,CAAO,EACpC,OAAO,IAAI,QAAQ,SAAUE,EAASC,EAAQ,CACxCF,EACFC,EAAQ,CACN,SAAU,IAAIE,EAAa,CACzB,WAAY,GACd,CAAC,CACH,CAAC,EAEDD,EAAO,CAEX,CAAC,CACH,EACAJ,EAAkB,UAAU,uBAAyB,SAAUM,EAAMC,EAAQ,CAE7E,EACAP,EAAkB,UAAU,mBAAqB,UAAY,CAC3D,MAAO,CAAC,CACV,EACAA,EAAkB,UAAU,WAAa,SAAUQ,EAAe,CAChE,IAAIC,EAAOD,EAAc,KACzB,GAAIA,EAAc,MAAO,CACvB,IAAIE,EAAcC,GAAiBH,EAAc,KAAK,EAClDE,IACFD,GAAQ,IAAI,OAAOC,CAAW,EAElC,CACA,IAAIE,EAAOJ,EAAc,KACrBK,EAAM,GAAG,OAAOL,EAAc,SAAU,IAAI,EAAE,OAAOA,EAAc,QAAQ,EAAE,OAAOI,EAAO,IAAI,OAAOA,CAAI,EAAI,EAAE,EAAE,OAAOH,CAAI,EACjI,OAAO,UAAU,WAAWI,EAAKL,EAAc,IAAI,CACrD,EACOR,CACT,GAAE,ECrCK,IAAIc,GAAiB,SAAUC,EAAa,CACjD,OAAIA,IAAgB,SAClBA,EAAc,GAET,IAAI,QAAQ,SAAUC,EAASC,EAAQ,CACxCF,GACF,WAAW,UAAY,CACrB,IAAIG,EAAe,IAAI,MAAM,mCAAmC,OAAOH,EAAa,KAAK,CAAC,EAC1FG,EAAa,KAAO,eACpBD,EAAOC,CAAY,CACrB,EAAGH,CAAW,CAElB,CAAC,CACH,ECVA,IAAII,IAAgC,UAAY,CAC9C,SAASA,EAAiBC,EAAI,CAC5B,IAAIC,EAAKD,IAAO,OAAS,CAAC,EAAIA,EAC5BE,EAAgBD,EAAG,cACnBE,EAAiBF,EAAG,eACtB,KAAK,eAAiBE,EACtB,KAAK,cAAgBD,CACvB,CACA,OAAAH,EAAiB,UAAU,QAAU,UAAY,CAEjD,EACAA,EAAiB,UAAU,OAAS,SAAUK,EAASJ,EAAI,CACzD,IAAIC,EAAKD,IAAO,OAAS,CAAC,EAAIA,EAC5BK,EAAcJ,EAAG,YACfK,EAAqB,KAAK,eAE9B,GAA8DD,GAAY,QAAS,CACjF,IAAIE,EAAa,IAAI,MAAM,iBAAiB,EAC5C,OAAAA,EAAW,KAAO,aACX,QAAQ,OAAOA,CAAU,CAClC,CACA,IAAIC,EAAOJ,EAAQ,KACnB,GAAIA,EAAQ,MAAO,CACjB,IAAIK,EAAcC,GAAiBN,EAAQ,KAAK,EAC5CK,IACFD,GAAQ,IAAI,OAAOC,CAAW,EAElC,CACA,IAAIE,EAAOP,EAAQ,KACjBQ,EAASR,EAAQ,OACfS,EAAM,GAAG,OAAOT,EAAQ,SAAU,IAAI,EAAE,OAAOA,EAAQ,QAAQ,EAAE,OAAOO,EAAO,IAAI,OAAOA,CAAI,EAAI,EAAE,EAAE,OAAOH,CAAI,EAGjHM,EAAOF,IAAW,OAASA,IAAW,OAAS,OAAYR,EAAQ,KACnEW,EAAiB,CACnB,KAAMD,EACN,QAAS,IAAI,QAAQV,EAAQ,OAAO,EACpC,OAAQQ,CACV,EAEI,OAAO,gBAAoB,MAC7BG,EAAe,OAASV,GAE1B,IAAIW,EAAe,IAAI,QAAQH,EAAKE,CAAc,EAC9CE,EAAiB,CAAC,KAAK,cAAc,MAAM,OAAQ,CAACD,CAAY,CAAC,EAAE,KAAK,SAAUE,EAAU,CAG9F,QAFIC,EAAeD,EAAS,QACxBE,EAAqB,CAAC,EACjBC,EAAK,EAAGrB,EAAKmB,EAAa,QAAQ,EAAGE,EAAKrB,EAAG,OAAQqB,IAAM,CAClE,IAAIC,EAAOtB,EAAGqB,CAAE,EAChBD,EAAmBE,EAAK,CAAC,CAAC,EAAIA,EAAK,CAAC,CACtC,CACA,IAAIC,EAAoBL,EAAS,OAAS,OAE1C,OAAKK,EAYE,CACL,SAAU,IAAIC,EAAa,CACzB,QAASJ,EACT,WAAYF,EAAS,OACrB,KAAMA,EAAS,IACjB,CAAC,CACH,EAjBSA,EAAS,KAAK,EAAE,KAAK,SAAUJ,GAAM,CAC1C,MAAO,CACL,SAAU,IAAIU,EAAa,CACzB,QAASJ,EACT,WAAYF,EAAS,OACrB,KAAMJ,EACR,CAAC,CACH,CACF,CAAC,CAUL,CAAC,EAAGX,GAAeG,CAAkB,CAAC,EACtC,OAAID,GACFY,EAAe,KAAK,IAAI,QAAQ,SAAUQ,EAASC,EAAQ,CACzDrB,EAAY,QAAU,UAAY,CAChC,IAAIE,EAAa,IAAI,MAAM,iBAAiB,EAC5CA,EAAW,KAAO,aAClBmB,EAAOnB,CAAU,CACnB,CACF,CAAC,CAAC,EAEG,QAAQ,KAAKU,CAAc,CACpC,EACAlB,EAAiB,UAAU,uBAAyB,SAAU4B,EAAMC,EAAQ,CAE5E,EACA7B,EAAiB,UAAU,mBAAqB,UAAY,CAC1D,MAAO,CAAC,CACV,EACOA,CACT,GAAE,EC9FK,IAAI8B,GAAkB,SAAUC,EAAQ,CAC7C,GAAI,OACF,OAAO,OAAO,gBAAgBA,CAAM,EAC/B,GAAI,SACT,OAAO,SAAS,gBAAgBA,CAAM,EAEtC,MAAM,IAAI,MAAM,0BAA0B,CAE9C,ECNO,IAAIC,GAAY,CAAC,EACxB,IAASC,GAAI,EAAGA,GAAI,IAAKA,KACvBD,GAAUC,EAAC,GAAKA,GAAI,KAAO,SAAS,EAAE,EAAE,OAAO,CAAC,EADzC,IAAAA,GAGEC,GAAkB,kBAClBC,GAA8B,cAC9BC,GAA6B,EAC7BC,GAA8B,GAC9BC,GAA+B,GAC/BC,GAA+B,EAC/BC,GAAyB,SAAUC,EAAKC,EAAsB,CACvE,OAAI,MAAM,QAAQA,CAAoB,EAC7BA,EAAqB,KAAK,SAAUC,EAAS,CAClD,OAAOA,EAAQ,KAAKF,CAAG,CACzB,CAAC,EAEIC,CACT,EACWE,GAAgB,CACzB,mBAAoB,qBACpB,cAAe,CAAC,IAAI,EACpB,cAAe,CAEf,+CAEA,gCAAgC,EAChC,iBAAkB,IAClB,kBAAmB,GACnB,qBAAsB,EACxB,EACWC,GAAQ,SAAUC,EAAQ,CACnC,MAAO,MAAOA,GAAUA,EAAS,GACnC,EACWC,GAAQ,SAAUD,EAAQ,CACnC,OAAO,KAAK,MAAMA,EAAS,GAAG,IAAM,CACtC,EACWE,GAAQ,SAAUF,EAAQ,CACnC,OAAO,KAAK,MAAMA,EAAS,GAAG,IAAM,CACtC,EACWG,GAAQ,SAAUH,EAAQ,CACnC,OAAOA,IAAW,GACpB,EACWI,GAAe,SAAUT,EAAKU,EAAQ,CAC/C,IAAIC,EAAUD,EAAO,cAAc,KAAK,SAAUE,EAAY,CAC5D,OAAOA,EAAW,KAAKZ,CAAG,CAC5B,CAAC,EACGa,EAAUH,EAAO,cAAc,KAAK,SAAUE,EAAY,CAC5D,OAAOA,EAAW,KAAKZ,CAAG,CAC5B,CAAC,EACD,OAAOW,GAAW,CAACE,CACrB,EAIWC,EAAY,UAAY,CACjC,OAAO,KAAK,IAAI,EAAI,GACtB,EACWC,GAA2B,SAAUC,EAAOC,EAAMC,EAAQ,CACnE,IAAIC,EAAO,CACT,QAAS,CAAC,CACZ,EACA,OAAAA,EAAK,QAAQ,OAAsDF,GAAK,OAAUA,EAAK,OAAS,MAChGE,EAAK,QAAQ,OAASD,EACtBC,EAAK,QAAQ,IAAMC,GAAoBJ,CAAK,EACrCG,CACT,EACWE,GAAuB,SAAUC,EAAMC,EAAWC,EAAYL,EAAM,CAC7E,IAAIM,EAAa,CACf,QAAS,QACT,KAAMH,EACN,OAAQ,uBACR,GAAII,GAAkB,EACtB,WAAYH,EACZ,SAAUC,EAAaG,GAAmB,EAAIC,GAAgB,EAC9D,SAAU,OACV,YAAa,CAAC,EACd,YAAa,EACf,EACA,OAAIT,IACFM,EAAW,KAAON,GAEbM,CACT,EACWI,GAAuB,SAAUP,EAAMC,EAAWJ,EAAM,CACjE,IAAIW,EAAa,CACf,GAAIJ,GAAkB,EACtB,KAAMJ,EACN,WAAYC,EACZ,SAAU,OACV,YAAa,GACb,UAAWD,EAAK,SAAS,eAAe,EAAI,MAAQ,QACtD,EACA,OAAIH,IACFW,EAAW,KAAOX,GAEbW,CACT,EACWC,GAAwB,SAAUC,EAAS,CACpD,GAAI,CACF,OAAIA,EAAQ,SACHA,EAAQ,SACNA,EAAQ,IACV,IAAI,IAAIA,EAAQ,GAAG,EAAE,SAErB,IAAI,IAAIA,EAAQ,SAAS,CAAC,EAAE,QAEvC,MAAY,CAIV,OAAO,OAAO,SAAS,QACzB,CACF,EACWC,GAA6B,SAAUhB,EAAMiB,EAASC,EAAWC,EAAmB,CACxFnB,EAAK,UACRA,EAAK,QAAU,CAAC,GAEdmB,EACFnB,EAAK,QAAQvB,EAA2B,EAAI2C,GAAyBH,EAASC,CAAS,EAEvFlB,EAAK,QAAQxB,EAAe,EAAI6C,GAA0BJ,EAASC,CAAS,CAEhF,EACWI,GAAgC,SAAUC,EAASN,EAASC,EAAWC,EAAmB,CAC/FA,EACFI,EAAQ,IAAI9C,GAA6B2C,GAAyBH,EAASC,CAAS,CAAC,EAErFK,EAAQ,IAAI/C,GAAiB6C,GAA0BJ,EAASC,CAAS,CAAC,CAE9E,EACWG,GAA4B,SAAUJ,EAASC,EAAW,CACnE,MAAO,QAAUD,EAAU,WAAaC,EAAY,YACtD,EACWE,GAA2B,SAAUH,EAASC,EAAW,CAClE,MAAO,MAAQD,EAAU,IAAMC,EAAY,KAC7C,EAQWM,GAAmB,SAAUC,EAAkB,CACxD,OAA4EA,GAAiB,SAAY5C,IAAgC4C,EAAiB,CAAC,EAAE,SAAW/C,IAA8B+C,EAAiB,CAAC,EAAE,SAAW9C,IAA+B8C,EAAiB,CAAC,EAAE,SAAW7C,KAAiC6C,EAAiB,CAAC,IAAM,MAAQA,EAAiB,CAAC,IAAM,KAC9X,EACWC,GAAiB,SAAUH,EAASJ,EAAmB,CAChE,IAAIQ,EAAIC,EACJC,EAAc,CAAC,EACnB,GAAIN,EACF,GAAIJ,EAAmB,CACrB,IAAIM,GAAoBE,EAAKJ,EAAQ,IAAI9C,EAA2B,KAAO,MAAQkD,IAAO,OAAS,OAASA,EAAG,MAAM,GAAG,EACpHF,GAAoBD,GAAiBC,CAAgB,IACvDI,EAAY,QAAUJ,EAAiB,CAAC,EACxCI,EAAY,UAAYJ,EAAiB,CAAC,EAE9C,KAAO,CACL,IAAIA,GAAoBG,EAAKL,EAAQ,IAAI/C,EAAe,KAAO,MAAQoD,IAAO,OAAS,OAASA,EAAG,MAAM,GAAG,EACnCH,GAAiB,SAAY,IACpGI,EAAY,QAAUJ,EAAiB,CAAC,EAAE,MAAM,OAAO,EAAE,CAAC,EAC1DI,EAAY,UAAYJ,EAAiB,CAAC,EAAE,MAAM,SAAS,EAAE,CAAC,EAElE,CAEF,OAAOI,CACT,EAIW1B,GAAsB,SAAU2B,EAAU,CACnD,OAAOA,EAAS,IAAMA,EAAS,IAAMA,EAAS,SAAS,CACzD,EAQInB,GAAkB,UAAY,CAChC,MAAO,KAAK,OAAOoB,GAAQ,EAAG,GAAG,EAAE,OAAOC,GAAK,CAAC,CAClD,EAQItB,GAAqB,UAAY,CACnC,IAAIuB,EAAc,IAAI,WAAW,EAAE,EACnC,OAAAC,GAAgBD,CAAW,EACpB,GAAG,OAAOE,GAAsBF,CAAW,CAAC,CACrD,EAQIxB,GAAoB,UAAY,CAClC,IAAIwB,EAAc,IAAI,WAAW,CAAC,EAClC,OAAAC,GAAgBD,CAAW,EACpBE,GAAsBF,CAAW,CAC1C,EACIF,GAAU,UAAY,CACxB,OAAO,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,EAAE,SAAS,EAAE,CAClD,EACIC,GAAO,UAAY,CACrB,IAAIC,EAAc,IAAI,WAAW,EAAE,EACnC,OAAAC,GAAgBD,CAAW,EACpBE,GAAsBF,CAAW,CAC1C,EACIE,GAAwB,SAAUC,EAAO,CAG3C,QAFIC,EAAY,GAEP9D,EAAI,EAAGA,EAAI6D,EAAM,OAAQ7D,IAChC8D,GAAa/D,GAAU8D,EAAM7D,CAAC,CAAC,EAEjC,OAAO8D,CACT,EC/NA,IAAIC,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAC,EACAC,EACAF,EACAG,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKC,EAAG,CACf,OAAO,SAAUC,EAAG,CAClB,OAAOb,EAAK,CAACY,EAAGC,CAAC,CAAC,CACpB,CACF,CACA,SAASb,EAAKc,EAAI,CAChB,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGI,EAAG,CAAC,IAAMR,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACHP,EAAIO,EACJ,MACF,IAAK,GACH,OAAAR,EAAE,QACK,CACL,MAAOQ,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHR,EAAE,QACFG,EAAIK,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKR,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFR,EAAI,EACJ,QACF,CACA,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAI,CACvDD,EAAE,MAAQQ,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CACjCD,EAAE,MAAQC,EAAE,CAAC,EACbA,EAAIO,EACJ,KACF,CACA,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CACvBD,EAAE,MAAQC,EAAE,CAAC,EACbD,EAAE,IAAI,KAAKQ,CAAE,EACb,KACF,CACIP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAQ,EAAKT,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVa,EAAK,CAAC,EAAGb,CAAC,EACVQ,EAAI,CACN,QAAE,CACAD,EAAID,EAAI,CACV,CACA,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAQIC,IAAgC,UAAY,CAC9C,SAASA,EAAiBC,EAASC,EAASC,EAAS,CAC/CA,IAAY,SACdA,EAAU,SAAU,EAAG,CACrB,MAAO,KAAO,KAAK,IAAI,EAAG,EAAI,CAAC,CACjC,GAEF,KAAK,QAAUF,EACf,KAAK,QAAUC,EACf,KAAK,QAAUC,CACjB,CACA,OAAAH,EAAiB,UAAU,OAAS,SAAUI,EAAS,CACrD,OAAO7B,GAAU,KAAM,OAAQ,OAAQ,UAAY,CACjD,IAAI8B,EAAaC,EAAUC,EAC3B,OAAOlB,GAAY,KAAM,SAAUmB,EAAI,CACrC,OAAQA,EAAG,MAAO,CAChB,IAAK,GACHH,EAAc,KAAK,QACnBG,EAAG,MAAQ,EACb,IAAK,GAEHA,EAAG,MAAQ,EACb,IAAK,GACH,OAAAA,EAAG,KAAK,KAAK,CAAC,EAAG,EAAE,CAAE,CAAC,CAAC,EAChB,CAAC,EAAa,KAAK,QAAQ,OAAOJ,CAAO,CAAC,EACnD,IAAK,GAEH,GADAE,EAAWE,EAAG,KAAK,EACfC,GAAMH,EAAS,SAAS,UAAU,EACpC,MAAO,CAAC,EAAcA,CAAQ,EAEhC,MAAMA,EAAS,SAAS,WAC1B,IAAK,GAEH,GADAC,EAAMC,EAAG,KAAK,EACV,OAAOD,GAAQ,UAAY,CAACG,GAAMH,CAAG,GAAK,CAACI,GAAMJ,CAAG,EAGtD,MAAM,IAAI,MAAM,GAAG,OAAOA,CAAG,CAAC,EAEhC,GAAIF,GAAe,EACjB,MAAME,EAER,OAAAF,IACO,CAAC,EAAa,KAAK,MAAM,KAAK,QAAQ,KAAK,QAAUA,CAAW,CAAC,CAAC,EAC3E,IAAK,GACH,OAAAG,EAAG,KAAK,EACD,CAAC,EAAa,CAAC,EACxB,IAAK,GACH,MAAO,CAAC,EAAa,CAAC,EACxB,IAAK,GACH,MAAO,CAAC,CAAY,CACxB,CACF,CAAC,CACH,CAAC,CACH,EACAR,EAAiB,UAAU,MAAQ,SAAUY,EAAc,CACzD,OAAOrC,GAAU,KAAM,OAAQ,OAAQ,UAAY,CACjD,OAAOc,GAAY,KAAM,SAAUmB,EAAI,CACrC,MAAO,CAAC,EAAc,IAAI,QAAQ,SAAU1B,EAAS,CACnD,OAAO,WAAWA,EAAS8B,CAAY,CACzC,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CACH,EACAZ,EAAiB,UAAU,uBAAyB,SAAUa,EAAMC,EAAQ,CAE5E,EACAd,EAAiB,UAAU,mBAAqB,UAAY,CAC1D,MAAO,CAAC,CACV,EACOA,CACT,GAAE,EChMF,IAAIe,GAAsC,SAAUC,EAASC,EAAYC,EAAGC,EAAW,CACrF,SAASC,EAAMC,EAAO,CACpB,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,EAAE,SAAUI,EAAS,CAC3DA,EAAQD,CAAK,CACf,CAAC,CACH,CACA,OAAO,IAAKH,IAAMA,EAAI,UAAU,SAAUI,EAASC,EAAQ,CACzD,SAASC,EAAUH,EAAO,CACxB,GAAI,CACFI,EAAKN,EAAU,KAAKE,CAAK,CAAC,CAC5B,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASC,EAASN,EAAO,CACvB,GAAI,CACFI,EAAKN,EAAU,MAASE,CAAK,CAAC,CAChC,OAASK,EAAG,CACVH,EAAOG,CAAC,CACV,CACF,CACA,SAASD,EAAKG,EAAQ,CACpBA,EAAO,KAAON,EAAQM,EAAO,KAAK,EAAIR,EAAMQ,EAAO,KAAK,EAAE,KAAKJ,EAAWG,CAAQ,CACpF,CACAF,GAAMN,EAAYA,EAAU,MAAMH,EAASC,GAAc,CAAC,CAAC,GAAG,KAAK,CAAC,CACtE,CAAC,CACH,EACIY,GAA0C,SAAUb,EAASc,EAAM,CACrE,IAAIC,EAAI,CACJ,MAAO,EACP,KAAM,UAAY,CAChB,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EACvB,OAAOA,EAAE,CAAC,CACZ,EACA,KAAM,CAAC,EACP,IAAK,CAAC,CACR,EACAC,EACAC,EACAF,EACAG,EACF,OAAOA,EAAI,CACT,KAAMC,EAAK,CAAC,EACZ,MAASA,EAAK,CAAC,EACf,OAAUA,EAAK,CAAC,CAClB,EAAG,OAAO,QAAW,aAAeD,EAAE,OAAO,QAAQ,EAAI,UAAY,CACnE,OAAO,IACT,GAAIA,EACJ,SAASC,EAAKC,EAAG,CACf,OAAO,SAAUC,EAAG,CAClB,OAAOb,EAAK,CAACY,EAAGC,CAAC,CAAC,CACpB,CACF,CACA,SAASb,EAAKc,EAAI,CAChB,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOE,IAAMA,EAAI,EAAGI,EAAG,CAAC,IAAMR,EAAI,IAAKA,GAAG,GAAI,CAC5C,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAG,CACb,IAAK,GACL,IAAK,GACHP,EAAIO,EACJ,MACF,IAAK,GACH,OAAAR,EAAE,QACK,CACL,MAAOQ,EAAG,CAAC,EACX,KAAM,EACR,EACF,IAAK,GACHR,EAAE,QACFG,EAAIK,EAAG,CAAC,EACRA,EAAK,CAAC,CAAC,EACP,SACF,IAAK,GACHA,EAAKR,EAAE,IAAI,IAAI,EACfA,EAAE,KAAK,IAAI,EACX,SACF,QACE,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CACtFR,EAAI,EACJ,QACF,CACA,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAI,CACvDD,EAAE,MAAQQ,EAAG,CAAC,EACd,KACF,CACA,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CACjCD,EAAE,MAAQC,EAAE,CAAC,EACbA,EAAIO,EACJ,KACF,CACA,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CACvBD,EAAE,MAAQC,EAAE,CAAC,EACbD,EAAE,IAAI,KAAKQ,CAAE,EACb,KACF,CACIP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAI,EACpBA,EAAE,KAAK,IAAI,EACX,QACJ,CACAQ,EAAKT,EAAK,KAAKd,EAASe,CAAC,CAC3B,OAASL,EAAG,CACVa,EAAK,CAAC,EAAGb,CAAC,EACVQ,EAAI,CACN,QAAE,CACAD,EAAID,EAAI,CACV,CACA,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EACzB,MAAO,CACL,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OACvB,KAAM,EACR,CACF,CACF,EAMIC,GAAc,4CACdC,IAAwB,UAAY,CACtC,SAASA,EAASC,EAAQC,EAAUC,EAAYC,EAAQ,CACtD,IAAIC,EAAQ,KACZ,KAAK,aAAe,CAAC,MAAO,KAAK,EAIjC,KAAK,cAAgB,UAAY,CAC/B,OAAO/B,GAAU+B,EAAO,OAAQ,OAAQ,UAAY,CAClD,OAAOjB,GAAY,KAAM,SAAUkB,EAAI,CACrC,OAAI,KAAK,UAAU,EACV,CAAC,EAAc,KAAK,IAAI,UAAU,KAAK,cAAc,CAAC,EAAE,MAAM,KAAK,YAAY,CAAC,EAElF,CAAC,CAAY,CACtB,CAAC,CACH,CAAC,CACH,EAIA,KAAK,eAAiB,UAAY,CAChC,OAAOhC,GAAU+B,EAAO,OAAQ,OAAQ,UAAY,CAClD,IAAIE,EACAF,EAAQ,KACZ,OAAOjB,GAAY,KAAM,SAAUkB,EAAI,CACrC,OAAI,KAAK,UAAU,GACjBC,EAAY,KAAK,cAAc,EACxB,CAAC,EAAc,KAAK,IAAI,WAAWA,CAAS,EAAE,MAAM,UAAY,CACrE,OAAOF,EAAM,IAAI,UAAUE,CAAS,CACtC,CAAC,CAAC,GAEG,CAAC,CAAY,CACtB,CAAC,CACH,CAAC,CACH,EAMA,KAAK,wBAA0B,UAAY,CACzC,OAAOjC,GAAU+B,EAAO,OAAQ,OAAQ,UAAY,CAClD,OAAOjB,GAAY,KAAM,SAAUkB,EAAI,CAErC,MAAO,CAAC,EAAc,KAAK,cAAc,EAAE,MAAM,UAAY,CAAC,CAAC,CAAC,CAClE,CAAC,CACH,CAAC,CACH,EAMA,KAAK,yBAA2B,UAAY,CAC1C,OAAOhC,GAAU+B,EAAO,OAAQ,OAAQ,UAAY,CAClD,OAAOjB,GAAY,KAAM,SAAUkB,EAAI,CAErC,MAAO,CAAC,EAAc,KAAK,eAAe,EAAE,MAAM,UAAY,CAAC,CAAC,CAAC,CACnE,CAAC,CACH,CAAC,CACH,EACA,KAAK,UAAY,UAAY,CAC3B,IAAIA,EACJ,GAAI,SAAS,kBAAoB,UAC3BD,EAAM,UAAU,EAAI,EAAG,CACzB,IAAIG,EAAQH,EAAM,IAAI,WAClBI,EAAWJ,EAAM,IAAI,UACpBA,EAAM,OAAO,YAChBC,EAAK,CAACG,EAAUD,CAAK,EAAGA,EAAQF,EAAG,CAAC,EAAGG,EAAWH,EAAG,CAAC,GAExD,IAAII,EAAQL,EAAM,cAAc,EAAI,EACpCG,EAAME,CAAK,EAAE,MAAM,UAAY,CAC7B,OAAOD,EAASC,CAAK,CACvB,CAAC,EAAE,MAAM,UAAY,CAErB,CAAC,CACH,CAEJ,EACA,KAAK,aAAe,SAAUzB,EAAG,CAC/B,MAAIA,aAAa,OAASoB,EAAM,aAAa,SAASpB,EAAE,OAAO,GAI7DoB,EAAM,QAAQ,EAEVpB,CACR,EAQA,KAAK,qBAAuB,SAAUiB,EAAUD,EAAQU,EAAa,CACnE,OAAO,IAAIC,GAAgB,CACzB,oBAAqB,IAAIC,GAAiB,IAAIC,GAAiB,CAC7D,cAAeT,EAAM,OAAO,aAC9B,CAAC,EAAGA,EAAM,OAAO,OAAO,EACxB,qBAAsB,IAAIU,GAC1B,SAAUb,EACV,OAAQD,EACR,YAAaU,EACb,QAASN,EAAM,OACjB,CAAC,CACH,EACA,KAAK,OAASJ,EACd,KAAK,SAAWC,EAChB,KAAK,WAAaC,EAClB,KAAK,QAAU,GACf,KAAK,YAAcC,EAAO,eAAiB,KAAK,qBAChD,KAAK,OAASA,EACd,KAAK,QAAUA,EAAO,QACtB,KAAK,mBAAmB,EACpBA,EAAO,QACT,KAAK,IAAM,CACT,UAAW,UAAY,CACrB,OAAO,QAAQ,OAAO,IAAI,MAAML,EAAW,CAAC,CAC9C,EACA,WAAY,UAAY,CACtB,OAAO,QAAQ,OAAO,IAAI,MAAMA,EAAW,CAAC,CAC9C,CACF,EAEA,KAAK,IAAM,KAAK,YAAY,KAAK,SAAU,KAAK,OAAQ,MAAS,CAErE,CAIA,OAAAC,EAAS,UAAU,OAAS,UAAY,CACtC,KAAK,QAAU,GACf,KAAK,mBAAmB,CAC1B,EAIAA,EAAS,UAAU,QAAU,UAAY,CACvC,KAAK,kBAAkB,EACvB,KAAK,QAAU,EACjB,EAOAA,EAAS,UAAU,kBAAoB,SAAUgB,EAAoB,CACnE,KAAK,IAAM,KAAK,YAAY,KAAK,SAAU,KAAK,OAAQA,CAAkB,EACtE,OAAOA,GAAuB,YAGhCA,EAAmB,CAEvB,EAIAhB,EAAS,UAAU,mBAAqB,UAAY,CAClD,SAAS,iBAAiB,mBAa1B,KAAK,SAAS,EAId,SAAS,iBAAiB,WAAY,KAAK,SAAS,EAChD,OAAK,OAAO,kBAAoB,GAAK,KAAK,mBAG9C,KAAK,gBAAkB,OAAO,YAAY,KAAK,wBAAyB,KAAK,OAAO,gBAAgB,EACtG,EAIAA,EAAS,UAAU,kBAAoB,UAAY,CACjD,SAAS,oBAAoB,mBAAoB,KAAK,SAAS,EAC/D,SAAS,oBAAoB,WAAY,KAAK,SAAS,EACnD,KAAK,kBACP,OAAO,cAAc,KAAK,eAAe,EACzC,KAAK,gBAAkB,OAE3B,EACAA,EAAS,UAAU,UAAY,SAAUiB,EAAiB,CAIxD,OAHIA,IAAoB,SACtBA,EAAkB,IAEf,KAAK,QAGNA,GAAmB,KAAK,WAAW,cAAc,EAC5C,GAEF,KAAK,WAAW,UAAU,EALxB,EAMX,EACAjB,EAAS,UAAU,cAAgB,SAAUiB,EAAiB,CAC5D,OAAIA,IAAoB,SACtBA,EAAkB,IAEb,CACL,QAASC,EAAG,EACZ,kBAAmB,KAAK,WAAW,qBAAqB,EACxD,YAAa,KAAK,WAAW,eAAe,EAC5C,UAAW,KAAK,WAAW,cAAcD,CAAe,EACxD,MAAO,KAAK,OAAO,KACrB,CACF,EACOjB,CACT,GAAE,ECpVK,IAAImB,GAA4B,SAAUA,EAAc,CAC7D,OAAAA,EAAa,MAAW,QACxBA,EAAa,WAAgB,aAC7BA,EAAa,SAAc,WAC3BA,EAAa,OAAY,SACzBA,EAAa,MAAW,QACxBA,EAAa,KAAU,OAChBA,CACT,GAAEA,GAAgB,CAAC,CAAC,EAITC,IAA6B,SAAUA,EAAe,CAM/D,OAAAA,EAAc,IAAS,MACvBA,EAAc,MAAW,QACzBA,EAAc,MAAW,QAIzBA,EAAc,OAAY,SAC1BA,EAAc,MAAW,QAIzBA,EAAc,OAAY,SAI1BA,EAAc,IAAS,MAChBA,CACT,GAAEA,IAAiB,CAAC,CAAC,EAOVC,GAAiB,SAAUC,EAAS,CAC7C,MAAO,CAACA,EAAQ,UAAWA,EAAQ,QAAQ,EAAE,KAAK,GAAG,CACvD,EACIC,GAAa,CAAC,CAChB,KAAMJ,EAAa,WACnB,KAAM,CAAC,MAAO,MAAM,CACtB,EAAG,CACD,KAAMA,EAAa,SACnB,KAAM,CAAC,MAAO,OAAQ,KAAM,MAAO,OAAQ,MAAO,MAAO,MAAM,CACjE,EAAG,CACD,KAAMA,EAAa,OACnB,KAAM,CAAC,IAAI,CACb,EAAG,CACD,KAAMA,EAAa,MACnB,KAAM,CAAC,KAAM,MAAO,MAAO,MAAO,OAAQ,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,MAAM,CAC3F,EAAG,CACD,KAAMA,EAAa,KACnB,KAAM,CAAC,MAAO,MAAO,MAAO,MAAO,MAAM,CAC3C,CAAC,EACUK,GAAU,SAAUC,EAAG,CAChC,QAASC,EAAID,EAAE,OAAS,EAAGC,EAAI,EAAGA,IAAK,CACrC,IAAIC,EAAI,KAAK,MAAM,KAAK,OAAO,GAAKD,EAAI,EAAE,EACtCE,EAAIH,EAAEC,CAAC,EACXD,EAAEC,CAAC,EAAID,EAAEE,CAAC,EACVF,EAAEE,CAAC,EAAIC,CACT,CACF,EACWC,GAAsB,SAAUC,EAAKC,EAAe,CAC7D,IAAIC,EAAMb,EAAa,MACvB,GAAIW,EAAK,CACP,IAAIG,EAAWH,EAAI,UAAUA,EAAI,YAAY,GAAG,EAAI,CAAC,EACjDI,EAAcD,EAAS,UAAUA,EAAS,YAAY,GAAG,EAAI,CAAC,EAAE,MAAM,MAAM,EAAE,CAAC,EACnFV,GAAW,QAAQ,SAAUY,EAAM,CAC7BA,EAAK,KAAK,QAAQD,CAAW,EAAI,KACnCF,EAAMG,EAAK,KAEf,CAAC,CACH,CAMA,GAAIJ,GAAiBC,IAAQb,EAAa,MACxC,OAAQY,EAAe,CACrB,KAAKX,GAAc,MACnB,KAAKA,GAAc,IACnB,KAAKA,GAAc,MACjBY,EAAMb,EAAa,MACnB,MACF,KAAKC,GAAc,OACnB,KAAKA,GAAc,MACjBY,EAAMb,EAAa,SACnB,MACF,KAAKC,GAAc,OACjBY,EAAMb,EAAa,OACnB,MACF,KAAKC,GAAc,IACjBY,EAAMb,EAAa,WACnB,KACJ,CAEF,OAAOa,CACT,EAsDO,IAAII,GAAiB,UAAY,CACtC,OAAO,oBAAoB,oBAAoB,SAAS,0BAA0B,CACpF,EACWC,GAAiB,UAAY,CACtC,OAAO,oBAAoB,oBAAoB,SAAS,OAAO,CACjE,EACWC,GAAsB,UAAY,CAC3C,OAAO,oBAAoB,oBAAoB,SAAS,UAAU,CACpE,EAEIC,GAAsB,wFACfC,GAAqB,SAAUC,EAAKC,EAAc,CAC3D,GAAI,CACF,OAAO,IAAI,IAAID,CAAG,EAAE,WAAaC,GAAgBH,GAAoB,KAAKE,CAAG,CAC/E,MAAY,CAEV,MAAO,EACT,CACF,EChLO,IAAIE,GAAgB,SAAUC,EAAO,CAC1C,OAAOA,EAAM,YAAc,aAAe,CAAC,WAAW,KAAKA,EAAM,IAAI,GAAK,2BAA2B,KAAKA,EAAM,aAAa,EAC/H,EACWC,GAAiC,CAC1C,WAAY,GACZ,OAAQF,GACR,eAAgB,CAACG,EAAa,SAAUA,EAAa,OAAQA,EAAa,WAAYA,EAAa,IAAI,EACvG,YAAa,CAACA,EAAa,MAAOA,EAAa,KAAK,EACpD,aAAc,GACd,aAAc,GACd,aAAc,EAChB,ECZA,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAIWK,GAA6B,aACpCC,GAAa,aACbC,GAAO,OAMPC,IAAgC,SAAUC,EAAQ,CACpDf,GAAUc,EAAkBC,CAAM,EAClC,SAASD,EAAiBE,EAAQ,CAChC,IAAIC,EAAQF,EAAO,KAAK,KAAMJ,EAA0B,GAAK,KAY7D,OAAAM,EAAM,cAAgB,UAAY,CAChC,GAAI,YAAY,iBAAiBL,EAAU,EAAE,SAAW,EACtDK,EAAM,8CAA8C,MAC/C,CACL,IAAIC,EAAqB,IAAI,oBAAoB,SAAUC,EAAM,CAC/DA,EAAK,WAAW,EAAE,OAAO,SAAUC,EAAG,CACpC,OAAOA,EAAE,YAAcR,EACzB,CAAC,EAAE,OAAO,SAAUQ,EAAG,CACrB,MAAO,CAACH,EAAM,OAAO,OAAOG,CAAC,CAC/B,CAAC,EAAE,QAAQ,SAAUC,EAAO,CAC1BJ,EAAM,8CAA8CI,CAAK,CAC3D,CAAC,CACH,CAAC,EACDH,EAAmB,QAAQ,CACzB,WAAY,CAACN,EAAU,CACzB,CAAC,CACH,CACF,EAIAK,EAAM,8CAAgD,UAAY,CAChE,IAAIK,EAAmB,UAAY,CACjC,IAAIC,EACAC,EAAY,YAAY,OACxBC,EAASD,EAAU,gBACnBE,EAAkC,CACpC,QAAS,QACT,cAAe,aACf,UAAW,EACX,iBAAkBF,EAAU,iBAAmB,EAAIA,EAAU,iBAAmBC,EAAS,EACzF,gBAAiBD,EAAU,eAAiBA,EAAU,iBACtD,cAAeA,EAAU,cAAgB,EAAIA,EAAU,cAAgBC,EAAS,EAChF,aAAcD,EAAU,YAAcA,EAAU,cAChD,WAAYA,EAAU,WAAa,EAAIA,EAAU,WAAaC,EAAS,EACvE,kBAAmBD,EAAU,kBAAoB,EAAIA,EAAU,kBAAoBC,EAAS,EAC5F,IAAKD,EAAU,gBAAkBA,EAAU,kBAC3C,aAAcA,EAAU,aAAe,EAAIA,EAAU,aAAeC,EAAS,EAC7E,QAASD,EAAU,WAAaA,EAAU,aAC1C,sBAAuBA,EAAU,sBAAwB,EAAIA,EAAU,sBAAwBC,EAAS,EACxG,QAASD,EAAU,sBAAwB,EAAIA,EAAU,WAAaA,EAAU,sBAAwB,EACxG,aAAcA,EAAU,aAAe,EAAIA,EAAU,aAAeC,EAAS,EAC7E,gBAAiBD,EAAU,cAAgBA,EAAU,aACrD,cAAeA,EAAU,cAAgB,EAAIA,EAAU,cAAgBC,EAAS,EAChF,aAAcD,EAAU,cAAgB,EAAIA,EAAU,YAAcA,EAAU,cAAgB,EAC9F,eAAgBA,EAAU,eAAiB,EAAIA,EAAU,eAAiBC,EAAS,EACnF,2BAA4BD,EAAU,2BAA6B,EAAIA,EAAU,2BAA6BC,EAAS,EACvH,iBAAkBD,EAAU,yBAA2BA,EAAU,2BACjE,YAAaA,EAAU,YAAc,EAAIA,EAAU,YAAcC,EAAS,EAC1E,kBAAmBD,EAAU,eAAiBA,EAAU,YACxD,eAAgBA,EAAU,eAAiB,EAAIA,EAAU,eAAiBC,EAAS,EACnF,cAAeD,EAAU,aAAeA,EAAU,eAClD,SAAUA,EAAU,aAAeA,EAAU,gBAC7C,sBAAuB,CACzB,EACK,GAAAD,EAAKN,EAAM,WAAa,MAAQM,IAAO,SAAkBA,EAAG,QAC/DN,EAAM,QAAQ,OAAOU,GAAmCD,CAA+B,CAE3F,EAEA,WAAWJ,EAAkB,CAAC,CAChC,EAIAL,EAAM,8CAAgD,SAAUO,EAAW,CACzE,IAAID,EACAK,EAAkC,CACpC,QAAS,QACT,cAAeJ,EAAU,cACzB,eAAgBA,EAAU,KAC1B,UAAWA,EAAU,UACrB,iBAAkBA,EAAU,iBAC5B,gBAAiBA,EAAU,eAAiBA,EAAU,iBACtD,cAAeA,EAAU,cACzB,cAAeA,EAAU,cACzB,aAAcA,EAAU,YAAcA,EAAU,cAChD,YAAaA,EAAU,YACvB,WAAYA,EAAU,YAAc,EAAIA,EAAU,WAAaA,EAAU,YAAc,EACvF,WAAYA,EAAU,WACtB,kBAAmBA,EAAU,kBAC7B,IAAKA,EAAU,gBAAkBA,EAAU,kBAC3C,gBAAiBA,EAAU,gBAC3B,aAAcA,EAAU,aACxB,QAASA,EAAU,WAAaA,EAAU,aAC1C,sBAAuBA,EAAU,sBACjC,QAASA,EAAU,sBAAwB,EAAIA,EAAU,WAAaA,EAAU,sBAAwB,EACxG,aAAcA,EAAU,aACxB,gBAAiBA,EAAU,cAAgBA,EAAU,aACrD,cAAeA,EAAU,cACzB,aAAcA,EAAU,cAAgB,EAAIA,EAAU,YAAcA,EAAU,cAAgB,EAC9F,eAAgBA,EAAU,eAC1B,2BAA4BA,EAAU,2BACtC,iBAAkBA,EAAU,yBAA2BA,EAAU,2BACjE,YAAaA,EAAU,YACvB,kBAAmBA,EAAU,eAAiBA,EAAU,YACxD,eAAgBA,EAAU,eAC1B,cAAeA,EAAU,aAAeA,EAAU,eAClD,SAAUA,EAAU,SACpB,WAAYA,EAAU,aAAe,EAAIA,EAAU,aAAeA,EAAU,gBAAkB,EAC9F,aAAcA,EAAU,aACxB,iBAAkBA,EAAU,gBAAkB,EAAIA,EAAU,gBAAkBA,EAAU,gBAAkB,EAC1G,sBAAuB,CACzB,EACK,GAAAD,EAAKN,EAAM,WAAa,MAAQM,IAAO,SAAkBA,EAAG,QAC/DN,EAAM,QAAQ,OAAOU,GAAmCC,CAA+B,CAE3F,EACAX,EAAM,OAASX,GAASA,GAAS,CAAC,EAAGuB,EAA8B,EAAGb,CAAM,EACrEC,CACT,CACA,OAAAH,EAAiB,UAAU,OAAS,UAAY,CAC1C,KAAK,UAGT,KAAK,QAAU,GACf,OAAO,iBAAiBD,GAAM,KAAK,aAAa,EAClD,EACAC,EAAiB,UAAU,QAAU,UAAY,CAC1C,KAAK,UAGV,KAAK,QAAU,GACX,KAAK,eACP,OAAO,oBAAoBD,GAAM,KAAK,aAAa,EAEvD,EAOAC,EAAiB,UAAU,2BAA6B,UAAY,CAClE,GAAI,OAAO,aAAe,OAAO,YAAY,iBAAiBF,EAAU,EAAE,OAAQ,CAChF,IAAIkB,EAAU,OAAO,YAAY,iBAAiBlB,EAAU,EAAE,CAAC,EAC/D,MAAO,EAAQkB,EAAQ,YACzB,CACA,MAAO,EACT,EAOAhB,EAAiB,UAAU,OAAS,UAAY,CAC9C,IAAIG,EAAQ,KACR,KAAK,UACH,KAAK,2BAA2B,EAClC,OAAO,YAAY,iBAAiBL,EAAU,EAAE,OAAO,SAAUQ,EAAG,CAClE,MAAO,CAACH,EAAM,OAAO,OAAOG,CAAC,CAC/B,CAAC,EAAE,QAAQ,SAAUC,EAAO,CAC1B,OAAOJ,EAAM,8CAA8CI,CAAK,CAClE,CAAC,EAED,OAAO,iBAAiBR,GAAM,KAAK,aAAa,EAGtD,EACOC,CACT,GAAEiB,CAAc,ECzNhB,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAKWK,GAA2B,WAClCC,GAAW,WAIXC,IAA8B,SAAUC,EAAQ,CAClDd,GAAUa,EAAgBC,CAAM,EAChC,SAASD,EAAeE,EAAQ,CAC9B,IAAIC,EAAQF,EAAO,KAAK,KAAMH,EAAwB,GAAK,KAC3D,OAAAK,EAAM,wBAA0B,SAAUC,EAAM,CAC9CD,EAAM,yBAAyBC,EAAK,WAAW,CAAC,CAClD,EACAD,EAAM,yBAA2B,SAAUC,EAAM,CAC/C,IAAIC,EAAY,CAAC,EACbC,EAAS,CAAC,EAsBd,IArBAF,EAAK,OAAO,SAAUG,EAAG,CACvB,OAAOA,EAAE,YAAcR,EACzB,CAAC,EAAE,OAAO,SAAUQ,EAAG,CACrB,MAAO,CAACJ,EAAM,OAAO,OAAOI,CAAC,CAC/B,CAAC,EAAE,QAAQ,SAAUC,EAAO,CAC1B,IAAIC,EAAKD,EACPE,EAAOD,EAAG,KACVE,EAAgBF,EAAG,cACjBG,EAAOC,GAAoBH,EAAMC,CAAa,EAC9CR,EAAM,OAAO,eAAe,SAASS,CAAI,EAC3CP,EAAU,KAAKG,CAAK,EACXL,EAAM,OAAO,YAAY,SAASS,CAAI,GAC/CN,EAAO,KAAKE,CAAK,CAErB,CAAC,EAEDH,EAAU,QAAQ,SAAUS,EAAG,CAC7B,OAAOX,EAAM,oBAAoBW,CAAC,CACpC,CAAC,EAEDC,GAAQT,CAAM,EACPA,EAAO,OAAS,GAAKH,EAAM,WAAaA,EAAM,OAAO,YAC1DA,EAAM,oBAAoBG,EAAO,IAAI,CAAC,EACtCH,EAAM,YAEV,EACAA,EAAM,oBAAsB,SAAUM,EAAI,CACxC,IAAIO,EACAN,EAAOD,EAAG,KACZQ,EAAYR,EAAG,UACfE,EAAgBF,EAAG,cACnBS,EAAWT,EAAG,SACdU,EAAeV,EAAG,aACpB,GAAI,CAAAW,GAAmBV,EAAMP,EAAM,QAAQ,OAAO,YAAY,QAAQ,GAMjE,GAAAa,EAAKb,EAAM,WAAa,MAAQa,IAAO,SAAkBA,EAAG,OAAQ,CACvE,IAAIK,EAAY,CACd,QAAS,QACT,cAAeV,EACf,UAAWM,EACX,SAAUC,EACV,SAAUL,GAAoBH,EAAMC,CAAa,EACjD,aAAcQ,CAChB,EACIhB,EAAM,QAAQ,OAAO,oBACvBkB,EAAU,UAAYX,GAExBP,EAAM,QAAQ,OAAOmB,GAAiCD,CAAS,CACjE,CACF,EACAlB,EAAM,OAASV,GAASA,GAAS,CAAC,EAAG8B,EAA8B,EAAGrB,CAAM,EAC5EC,EAAM,WAAa,EACnBA,EAAM,iBAAmB,IAAI,oBAAoBA,EAAM,uBAAuB,EACvEA,CACT,CACA,OAAAH,EAAe,UAAU,OAAS,UAAY,CACxC,KAAK,UAGT,KAAK,QAAU,GACf,KAAK,iBAAiB,QAAQ,CAC5B,KAAMD,GACN,SAAU,EACZ,CAAC,EACH,EACAC,EAAe,UAAU,QAAU,UAAY,CACxC,KAAK,UAGV,KAAK,QAAU,GACf,KAAK,iBAAiB,WAAW,EACnC,EACAA,EAAe,UAAU,OAAS,UAAY,CAI5C,KAAK,iBAAiB,QAAQ,CAC5B,KAAMD,GACN,SAAU,EACZ,CAAC,CACH,EACOC,CACT,GAAEwB,CAAc,ECvIhB,IAAIC,GACFC,GACAC,GAAI,UAAY,CACd,IAAIF,EAAI,KAAK,aAAe,YAAY,kBAAoB,YAAY,iBAAiB,YAAY,EAAE,CAAC,EACxG,GAAIA,GAAKA,EAAE,cAAgB,GAAKA,EAAE,cAAgB,YAAY,IAAI,EAAG,OAAOA,CAC9E,EACAG,GAAI,SAAUH,EAAG,CACf,GAAkB,SAAS,aAAvB,UAAmC,MAAO,UAC9C,IAAIC,EAAIC,GAAE,EACV,GAAID,EAAG,CACL,GAAID,EAAIC,EAAE,eAAgB,MAAO,UACjC,GAAUA,EAAE,6BAAR,GAAsCD,EAAIC,EAAE,2BAA4B,MAAO,kBACnF,GAAUA,EAAE,cAAR,GAAuBD,EAAIC,EAAE,YAAa,MAAO,oBACvD,CACA,MAAO,UACT,EACAG,GAAI,SAAUJ,EAAG,CACf,IAAIC,EAAID,EAAE,SACV,OAAaA,EAAE,WAAR,EAAmBC,EAAE,YAAY,EAAIA,EAAE,YAAY,EAAE,QAAQ,KAAM,EAAE,CAC9E,EACAI,GAAI,SAAUL,EAAGC,EAAG,CAClB,IAAIC,EAAI,GACR,GAAI,CACF,KAAOF,GAAWA,EAAE,WAAR,GAAmB,CAC7B,IAAI,EAAIA,EACNK,EAAI,EAAE,GAAK,IAAM,EAAE,GAAKD,GAAE,CAAC,GAAK,EAAE,WAAa,EAAE,UAAU,OAAS,EAAE,UAAU,MAAM,KAAK,GAAK,EAAE,UAAU,MAAM,KAAK,EAAE,OAAS,IAAM,EAAE,UAAU,MAAM,KAAK,EAAE,QAAQ,OAAQ,GAAG,EAAI,IAC1L,GAAIF,EAAE,OAASG,EAAE,QAAUJ,GAAK,KAAO,EAAG,OAAOC,GAAKG,EACtD,GAAIH,EAAIA,EAAIG,EAAI,IAAMH,EAAIG,EAAG,EAAE,GAAI,MACnCL,EAAI,EAAE,UACR,CACF,MAAY,CAAC,CACb,OAAOE,CACT,EACAI,GAAI,GACJC,GAAI,UAAY,CACd,OAAOD,EACT,EACAE,GAAI,SAAUR,EAAG,CACf,iBAAiB,WAAY,SAAUC,EAAG,CACxCA,EAAE,YAAcK,GAAIL,EAAE,UAAWD,EAAEC,CAAC,EACtC,EAAG,EAAE,CACP,EACAQ,GAAI,UAAY,CACd,IAAIT,EAAIE,GAAE,EACV,OAAOF,GAAKA,EAAE,iBAAmB,CACnC,EACAU,EAAI,SAAUV,EAAGC,EAAG,CAClB,IAAIE,EAAID,GAAE,EACRE,EAAI,WACN,OAAAG,GAAE,GAAK,EAAIH,EAAI,qBAAuBD,IAAM,SAAS,cAAgBM,GAAE,EAAI,EAAIL,EAAI,YAAc,SAAS,aAAeA,EAAI,UAAYD,EAAE,OAASC,EAAID,EAAE,KAAK,QAAQ,KAAM,GAAG,IACzK,CACL,KAAMH,EACN,MAAkBC,IAAX,OAAe,GAAKA,EAC3B,OAAQ,OACR,MAAO,EACP,QAAS,CAAC,EACV,GAAI,MAAM,OAAO,KAAK,IAAI,EAAG,GAAG,EAAE,OAAO,KAAK,MAAM,cAAgB,KAAK,OAAO,CAAC,EAAI,IAAI,EACzF,eAAgBG,CAClB,CACF,EACAO,GAAI,SAAUX,EAAGC,EAAGC,EAAG,CACrB,GAAI,CACF,GAAI,oBAAoB,oBAAoB,SAASF,CAAC,EAAG,CACvD,IAAI,EAAI,IAAI,oBAAoB,SAAUA,EAAG,CAC3C,QAAQ,QAAQ,EAAE,KAAK,UAAY,CACjCC,EAAED,EAAE,WAAW,CAAC,CAClB,CAAC,CACH,CAAC,EACD,OAAO,EAAE,QAAQ,OAAO,OAAO,CAC7B,KAAMA,EACN,SAAU,EACZ,EAAGE,GAAK,CAAC,CAAC,CAAC,EAAG,CAChB,CACF,MAAY,CAAC,CACf,EACAU,EAAI,SAAUZ,EAAGC,EAAGC,EAAG,EAAG,CACxB,IAAIE,EAAGC,EACP,OAAO,SAAUC,EAAG,CAClBL,EAAE,OAAS,IAAMK,GAAK,MAAQD,EAAIJ,EAAE,OAASG,GAAK,KAAkBA,IAAX,UAAkBA,EAAIH,EAAE,MAAOA,EAAE,MAAQI,EAAGJ,EAAE,QAAS,SAAUD,EAAGC,EAAG,CAC9H,OAAOD,EAAIC,EAAE,CAAC,EAAI,OAASD,EAAIC,EAAE,CAAC,EAAI,oBAAsB,MAC9D,GAAEA,EAAE,MAAOC,CAAC,EAAGF,EAAEC,CAAC,EACpB,CACF,EACAY,GAAI,SAAUb,EAAG,CACf,sBAAsB,UAAY,CAChC,OAAO,sBAAsB,UAAY,CACvC,OAAOA,EAAE,CACX,CAAC,CACH,CAAC,CACH,EACAc,GAAI,SAAUd,EAAG,CACf,SAAS,iBAAiB,mBAAoB,UAAY,CAC3C,SAAS,kBAAtB,UAAyCA,EAAE,CAC7C,CAAC,CACH,EACAe,GAAI,SAAUf,EAAG,CACf,IAAIC,EAAI,GACR,OAAO,UAAY,CACjBA,IAAMD,EAAE,EAAGC,EAAI,GACjB,CACF,EACAe,GAAI,GACJC,GAAI,UAAY,CACd,OAAoB,SAAS,kBAAtB,UAAyC,SAAS,aAAe,IAAQ,CAClF,EACAC,GAAI,SAAUlB,EAAG,CACF,SAAS,kBAAtB,UAAyCgB,GAAI,KAAOA,GAA2BhB,EAAE,OAAzB,mBAAgCA,EAAE,UAAY,EAAGmB,GAAE,EAC7G,EACAC,GAAI,UAAY,CACd,iBAAiB,mBAAoBF,GAAG,EAAE,EAAG,iBAAiB,qBAAsBA,GAAG,EAAE,CAC3F,EACAC,GAAI,UAAY,CACd,oBAAoB,mBAAoBD,GAAG,EAAE,EAAG,oBAAoB,qBAAsBA,GAAG,EAAE,CACjG,EACAG,GAAI,UAAY,CACd,OAAOL,GAAI,IAAMA,GAAIC,GAAE,EAAGG,GAAE,EAAGZ,GAAE,UAAY,CAC3C,WAAW,UAAY,CACrBQ,GAAIC,GAAE,EAAGG,GAAE,CACb,EAAG,CAAC,CACN,CAAC,GAAI,CACH,IAAI,iBAAkB,CACpB,OAAOJ,EACT,CACF,CACF,EACAM,GAAI,SAAUtB,EAAG,CACf,SAAS,aAAe,iBAAiB,qBAAsB,UAAY,CACzE,OAAOA,EAAE,CACX,EAAG,EAAE,EAAIA,EAAE,CACb,EACAuB,GAAI,CAAC,KAAM,GAAG,EACdC,GAAI,SAAUxB,EAAGC,EAAG,CAClBA,EAAIA,GAAK,CAAC,EAAGqB,GAAE,UAAY,CACzB,IAAIpB,EACF,EAAImB,GAAE,EACNjB,EAAIM,EAAE,KAAK,EACXL,EAAIM,GAAE,QAAS,SAAUX,EAAG,CAC1BA,EAAE,QAAQ,SAAUA,EAAG,CACQA,EAAE,OAA/B,2BAAwCK,EAAE,WAAW,EAAGL,EAAE,UAAY,EAAE,kBAAoBI,EAAE,MAAQ,KAAK,IAAIJ,EAAE,UAAYS,GAAE,EAAG,CAAC,EAAGL,EAAE,QAAQ,KAAKJ,CAAC,EAAGE,EAAE,EAAE,GAC/J,CAAC,CACH,CAAC,EACHG,IAAMH,EAAIU,EAAEZ,EAAGI,EAAGmB,GAAGtB,EAAE,gBAAgB,EAAGO,GAAE,SAAUL,EAAG,CACvDC,EAAIM,EAAE,KAAK,EAAGR,EAAIU,EAAEZ,EAAGI,EAAGmB,GAAGtB,EAAE,gBAAgB,EAAGY,GAAE,UAAY,CAC9DT,EAAE,MAAQ,YAAY,IAAI,EAAID,EAAE,UAAWD,EAAE,EAAE,CACjD,CAAC,CACH,CAAC,EACH,CAAC,CACH,EACAuB,GAAI,CAAC,GAAI,GAAG,EACZC,GAAI,SAAU1B,EAAGC,EAAG,EACjB,SAAUD,EAAGC,EAAG,CACfA,EAAIA,GAAK,CAAC,EAAGuB,GAAET,GAAE,UAAY,CAC3B,IAAI,EACFZ,EAAIO,EAAE,MAAO,CAAC,EACdN,EAAI,EACJC,EAAI,CAAC,EACLC,EAAI,SAAUN,EAAG,CACfA,EAAE,QAAQ,SAAUA,EAAG,CACrB,GAAI,CAACA,EAAE,eAAgB,CACrB,IAAIC,EAAII,EAAE,CAAC,EACTH,EAAIG,EAAEA,EAAE,OAAS,CAAC,EACpBD,GAAKJ,EAAE,UAAYE,EAAE,UAAY,KAAOF,EAAE,UAAYC,EAAE,UAAY,KAAOG,GAAKJ,EAAE,MAAOK,EAAE,KAAKL,CAAC,IAAMI,EAAIJ,EAAE,MAAOK,EAAI,CAACL,CAAC,EAC5H,CACF,CAAC,EAAGI,EAAID,EAAE,QAAUA,EAAE,MAAQC,EAAGD,EAAE,QAAUE,EAAG,EAAE,EACpD,EACAE,EAAII,GAAE,eAAgBL,CAAC,EACzBC,IAAM,EAAIK,EAAEZ,EAAGG,EAAGsB,GAAGxB,EAAE,gBAAgB,EAAGa,GAAE,UAAY,CACtDR,EAAEC,EAAE,YAAY,CAAC,EAAG,EAAE,EAAE,CAC1B,CAAC,EAAGC,GAAE,UAAY,CAChBJ,EAAI,EAAGD,EAAIO,EAAE,MAAO,CAAC,EAAG,EAAIE,EAAEZ,EAAGG,EAAGsB,GAAGxB,EAAE,gBAAgB,EAAGY,GAAE,UAAY,CACxE,OAAO,EAAE,CACX,CAAC,CACH,CAAC,EAAG,WAAW,EAAG,CAAC,EACrB,CAAC,CAAC,CACJ,GAAE,SAAU,EAAG,CACb,IAAIX,GAAI,SAAUF,EAAG,CACnB,IAAIC,EACFC,EAAI,CAAC,EACP,GAAIF,EAAE,QAAQ,OAAQ,CACpB,IAAII,EAAIJ,EAAE,QAAQ,OAAO,SAAUA,EAAGC,EAAG,CACvC,OAAOD,GAAKA,EAAE,MAAQC,EAAE,MAAQD,EAAIC,CACtC,CAAC,EACD,GAAIG,GAAKA,EAAE,SAAWA,EAAE,QAAQ,OAAQ,CACtC,IAAIE,GAAKL,EAAIG,EAAE,SAAS,KAAK,SAAUJ,EAAG,CACxC,OAAOA,EAAE,MAAcA,EAAE,KAAK,WAAb,CACnB,CAAC,GAAKC,EAAE,CAAC,EACTK,IAAMJ,EAAI,CACR,mBAAoBG,GAAEC,EAAE,IAAI,EAC5B,iBAAkBF,EAAE,UACpB,kBAAmBA,EAAE,MACrB,mBAAoBE,EACpB,kBAAmBF,EACnB,UAAWD,GAAEC,EAAE,SAAS,CAC1B,EACF,CACF,CACA,OAAO,OAAO,OAAOJ,EAAG,CACtB,YAAaE,CACf,CAAC,CACH,GAAE,CAAC,EACHF,EAAEE,CAAC,CACL,EAAGD,CAAC,CACN,EA1MF,IAyOE0B,GAAI,EACJC,GAAI,IACJC,GAAI,EACJC,GAAI,SAAUC,EAAG,CACfA,EAAE,QAAQ,SAAU,EAAG,CACrB,EAAE,gBAAkBH,GAAI,KAAK,IAAIA,GAAG,EAAE,aAAa,EAAGC,GAAI,KAAK,IAAIA,GAAG,EAAE,aAAa,EAAGF,GAAIE,IAAKA,GAAID,IAAK,EAAI,EAAI,EACpH,CAAC,CACH,EACAI,GAAI,UAAY,CACd,OAAOD,GAAIJ,GAAI,YAAY,kBAAoB,CACjD,EACAM,GAAI,UAAY,CACd,qBAAsB,aAAeF,KAAMA,GAAIG,GAAE,QAASJ,GAAG,CAC3D,KAAM,QACN,SAAU,GACV,kBAAmB,CACrB,CAAC,EACH,EACA,EAAI,CAAC,EACLK,GAAI,IAAI,IACRC,GAAI,EACJC,GAAI,UAAY,CACd,IAAIN,EAAI,KAAK,IAAI,EAAE,OAAS,EAAG,KAAK,OAAOC,GAAE,EAAII,IAAK,EAAE,CAAC,EACzD,OAAO,EAAEL,CAAC,CACZ,EACAO,GAAI,CAAC,EACLC,GAAI,SAAUR,EAAG,CACf,GAAIO,GAAE,QAAQ,SAAUE,EAAG,CACzB,OAAOA,EAAET,CAAC,CACZ,CAAC,EAAGA,EAAE,eAAmCA,EAAE,YAApB,cAA+B,CACpD,IAAIS,EAAI,EAAE,EAAE,OAAS,CAAC,EACpBC,EAAIN,GAAE,IAAIJ,EAAE,aAAa,EAC3B,GAAIU,GAAK,EAAE,OAAS,IAAMV,EAAE,SAAWS,EAAE,QAAS,CAChD,GAAIC,EAAGV,EAAE,SAAWU,EAAE,SAAWA,EAAE,QAAU,CAACV,CAAC,EAAGU,EAAE,QAAUV,EAAE,UAAYA,EAAE,WAAaU,EAAE,SAAWV,EAAE,YAAcU,EAAE,QAAQ,CAAC,EAAE,WAAaA,EAAE,QAAQ,KAAKV,CAAC,MAAO,CACvK,IAAI,EAAI,CACN,GAAIA,EAAE,cACN,QAASA,EAAE,SACX,QAAS,CAACA,CAAC,CACb,EACAI,GAAE,IAAI,EAAE,GAAI,CAAC,EAAG,EAAE,KAAK,CAAC,CAC1B,CACA,EAAE,KAAK,SAAUJ,EAAGS,EAAG,CACrB,OAAOA,EAAE,QAAUT,EAAE,OACvB,CAAC,EAAG,EAAE,OAAS,IAAM,EAAE,OAAO,EAAE,EAAE,QAAQ,SAAUA,EAAG,CACrD,OAAOI,GAAE,OAAOJ,EAAE,EAAE,CACtB,CAAC,CACH,CACF,CACF,EACAW,GAAI,SAAUX,EAAG,CACf,IAAIS,EAAI,KAAK,qBAAuB,KAAK,WACvCC,EAAI,GACN,OAAOV,EAAIY,GAAEZ,CAAC,EAAgB,SAAS,kBAAtB,SAAwCA,EAAE,GAAKU,EAAID,EAAET,CAAC,EAAGa,GAAEb,CAAC,GAAIU,CACnF,EACAI,GAAI,CAAC,IAAK,GAAG,EACbC,GAAI,SAAUf,EAAGS,EAAG,CAClB,2BAA4B,MAAQ,kBAAmB,uBAAuB,YAAcA,EAAIA,GAAK,CAAC,EAAGO,GAAE,UAAY,CACrH,IAAIN,EACJR,GAAE,EACF,IAAI,EACFe,EAAIC,EAAE,KAAK,EACXC,EAAI,SAAUnB,EAAG,CACfW,GAAE,UAAY,CACZX,EAAE,QAAQQ,EAAC,EACX,IAAIC,EAAIH,GAAE,EACVG,GAAKA,EAAE,UAAYQ,EAAE,QAAUA,EAAE,MAAQR,EAAE,QAASQ,EAAE,QAAUR,EAAE,QAAS,EAAE,EAC/E,CAAC,CACH,EACAW,EAAIjB,GAAE,QAASgB,EAAG,CAChB,mBAA6BT,EAAID,EAAE,qBAAhB,MAAiDC,IAAX,OAAeA,EAAI,EAC9E,CAAC,EACH,EAAIW,EAAErB,EAAGiB,EAAGH,GAAGL,EAAE,gBAAgB,EAAGW,IAAMA,EAAE,QAAQ,CAClD,KAAM,cACN,SAAU,EACZ,CAAC,EAAGP,GAAE,UAAY,CAChBM,EAAEC,EAAE,YAAY,CAAC,EAAG,EAAE,EAAE,CAC1B,CAAC,EAAGE,GAAE,UAAY,CAChBjB,GAAIJ,GAAE,EAAG,EAAE,OAAS,EAAGG,GAAE,MAAM,EAAGa,EAAIC,EAAE,KAAK,EAAG,EAAIG,EAAErB,EAAGiB,EAAGH,GAAGL,EAAE,gBAAgB,CACnF,CAAC,EACH,CAAC,EACH,EACAc,GAAI,CAAC,EACLC,GAAI,CAAC,EACLC,GAAI,EACJC,GAAI,IAAI,QACRC,GAAI,IAAI,IACRC,GAAI,GACJC,GAAI,SAAU7B,EAAG,CACfuB,GAAIA,GAAE,OAAOvB,CAAC,EAAG8B,GAAE,CACrB,EACAA,GAAI,UAAY,CACdF,GAAI,IAAMA,GAAIjB,GAAEoB,EAAC,EACnB,EACAA,GAAI,UAAY,CACdJ,GAAE,KAAO,IAAMA,GAAE,QAAQ,SAAU3B,EAAGS,EAAG,CACvCL,GAAE,IAAIK,CAAC,GAAKkB,GAAE,OAAOlB,CAAC,CACxB,CAAC,EACD,IAAIT,EAAI,EAAE,IAAI,SAAUA,EAAG,CACvB,OAAO0B,GAAE,IAAI1B,EAAE,QAAQ,CAAC,CAAC,CAC3B,CAAC,EACDS,EAAIe,GAAE,OAAS,GACjBA,GAAIA,GAAE,OAAO,SAAUd,EAAGsB,EAAG,CAC3B,OAAOA,GAAKvB,GAAKT,EAAE,SAASU,CAAC,CAC/B,CAAC,EACD,QAASA,EAAI,IAAI,IAAO,EAAI,EAAG,EAAIc,GAAE,OAAQ,IAAK,CAChD,IAAIP,EAAIO,GAAE,CAAC,EACXS,GAAGhB,EAAE,UAAWA,EAAE,aAAa,EAAE,QAAQ,SAAUjB,EAAG,CACpDU,EAAE,IAAIV,CAAC,CACT,CAAC,CACH,CACA,IAAImB,EAAII,GAAE,OAAS,EAAI,GACvBA,GAAIA,GAAE,OAAO,SAAUvB,EAAGS,EAAG,CAC3B,OAAOT,EAAE,UAAYyB,IAAKhB,EAAIU,GAAKT,EAAE,IAAIV,CAAC,CAC5C,CAAC,EAAG4B,GAAI,EACV,EACFrB,GAAE,KAAK,SAAUP,EAAG,CAClBA,EAAE,eAAiBA,EAAE,QAAU,CAAC2B,GAAE,IAAI3B,EAAE,aAAa,GAAK2B,GAAE,IAAI3B,EAAE,cAAeA,EAAE,MAAM,CAC3F,EAAG,SAAUA,EAAG,CACd,IAAIS,EACFC,EAAIV,EAAE,UAAYA,EAAE,SACtByB,GAAI,KAAK,IAAIA,GAAGzB,EAAE,aAAa,EAC/B,QAAS,EAAIwB,GAAE,OAAS,EAAG,GAAK,EAAG,IAAK,CACtC,IAAIP,EAAIO,GAAE,CAAC,EACX,GAAI,KAAK,IAAId,EAAIO,EAAE,UAAU,GAAK,EAAG,EAClCR,EAAIQ,GAAG,UAAY,KAAK,IAAIjB,EAAE,UAAWS,EAAE,SAAS,EAAGA,EAAE,gBAAkB,KAAK,IAAIT,EAAE,gBAAiBS,EAAE,eAAe,EAAGA,EAAE,cAAgB,KAAK,IAAIT,EAAE,cAAeS,EAAE,aAAa,EAAGA,EAAE,QAAQ,KAAKT,CAAC,EAC1M,KACF,CACF,CACAS,IAAMA,EAAI,CACR,UAAWT,EAAE,UACb,gBAAiBA,EAAE,gBACnB,cAAeA,EAAE,cACjB,WAAYU,EACZ,QAAS,CAACV,CAAC,CACb,EAAGwB,GAAE,KAAKf,CAAC,IAAKT,EAAE,eAAmCA,EAAE,YAApB,gBAAkC0B,GAAE,IAAI1B,EAAGS,CAAC,EAAGqB,GAAE,CACtF,CAAC,EACD,IAAII,GACFC,GACAC,GACAC,GACAJ,GAAK,SAAUjC,EAAGS,EAAG,CACnB,QAASC,EAAG,EAAI,CAAC,EAAGO,EAAI,EAAGP,EAAIa,GAAEN,CAAC,EAAGA,IAAK,GAAI,EAAEP,EAAE,UAAYA,EAAE,SAAWV,GAAI,CAC7E,GAAIU,EAAE,UAAYD,EAAG,MACrB,EAAE,KAAKC,CAAC,CACV,CACA,OAAO,CACT,EACA4B,GAAK,SAAUtC,EAAGU,EAAG,CACnBD,KAAMA,GAAIN,GAAE,uBAAwB0B,EAAC,GAAId,GAAE,SAAU,EAAG,CACtD,IAAIL,GAAI,SAAUV,EAAG,CACnB,IAAIS,EAAIT,EAAE,QAAQ,CAAC,EACjBU,EAAIgB,GAAE,IAAIjB,CAAC,EACXQ,EAAIR,EAAE,gBACNW,EAAIV,EAAE,cACN6B,EAAI7B,EAAE,QAAQ,KAAK,SAAUV,EAAGS,EAAG,CACjC,OAAOT,EAAE,gBAAkBS,EAAE,eAC/B,CAAC,EACDa,EAAIW,GAAGxB,EAAE,UAAWW,CAAC,EACrBoB,EAAIxC,EAAE,QAAQ,KAAK,SAAUA,EAAG,CAC9B,OAAOA,EAAE,MACX,CAAC,EACDkB,EAAIsB,GAAKA,EAAE,QAAUb,GAAE,IAAIlB,EAAE,aAAa,EAC1CN,EAAI,CAACM,EAAE,UAAYA,EAAE,SAAUW,CAAC,EAAE,OAAOE,EAAE,IAAI,SAAUtB,EAAG,CAC1D,OAAOA,EAAE,UAAYA,EAAE,QACzB,CAAC,CAAC,EACFqB,EAAI,KAAK,IAAI,MAAM,KAAMlB,CAAC,EAC1BsC,EAAI,CACF,kBAAmBtB,GAAED,CAAC,EACtB,yBAA0BA,EAC1B,gBAAiBT,EAAE,KAAK,WAAW,KAAK,EAAI,WAAa,UACzD,gBAAiBA,EAAE,UACnB,cAAeY,EACf,sBAAuBkB,EACvB,0BAA2BjB,EAC3B,WAAYL,EAAIR,EAAE,UAClB,mBAAoBW,EAAIH,EACxB,kBAAmB,KAAK,IAAII,EAAID,EAAG,CAAC,EACpC,UAAWY,GAAEvB,EAAE,SAAS,CAC1B,EACF,OAAO,OAAO,OAAOT,EAAG,CACtB,YAAayC,CACf,CAAC,CACH,GAAE,CAAC,EACHzC,EAAEU,CAAC,CACL,EAAGA,CAAC,CACN,EACAgC,GAAK,CAAC,KAAM,GAAG,EACfC,GAAK,CAAC,EACNC,GAAK,SAAU5C,EAAGS,EAAG,EAClB,SAAUT,EAAGS,EAAG,CACfA,EAAIA,GAAK,CAAC,EAAGO,GAAE,UAAY,CACzB,IAAI,EACFgB,EAAIa,GAAE,EACN5B,EAAIC,EAAE,KAAK,EACXC,EAAI,SAAUnB,EAAG,CACfS,EAAE,mBAAqBT,EAAIA,EAAE,MAAM,EAAE,GAAIA,EAAE,QAAQ,SAAUA,EAAG,CAC9DA,EAAE,UAAYgC,EAAE,kBAAoBf,EAAE,MAAQ,KAAK,IAAIjB,EAAE,UAAYwC,GAAE,EAAG,CAAC,EAAGvB,EAAE,QAAU,CAACjB,CAAC,EAAG,EAAE,EACnG,CAAC,CACH,EACAoB,EAAIjB,GAAE,2BAA4BgB,CAAC,EACrC,GAAIC,EAAG,CACL,EAAIC,EAAErB,EAAGiB,EAAGyB,GAAIjC,EAAE,gBAAgB,EAClC,IAAI8B,EAAI3B,GAAE,UAAY,CACpB+B,GAAG1B,EAAE,EAAE,IAAME,EAAEC,EAAE,YAAY,CAAC,EAAGA,EAAE,WAAW,EAAGuB,GAAG1B,EAAE,EAAE,EAAI,GAAI,EAAE,EAAE,EACtE,CAAC,EACD,CAAC,UAAW,OAAO,EAAE,QAAQ,SAAUjB,EAAG,CACxC,iBAAiBA,EAAG,UAAY,CAC9B,OAAOW,GAAE4B,CAAC,CACZ,EAAG,CACD,KAAM,GACN,QAAS,EACX,CAAC,CACH,CAAC,EAAG1B,GAAE0B,CAAC,EAAGjB,GAAE,SAAUU,EAAG,CACvBf,EAAIC,EAAE,KAAK,EAAG,EAAIG,EAAErB,EAAGiB,EAAGyB,GAAIjC,EAAE,gBAAgB,EAAGgC,GAAE,UAAY,CAC/DxB,EAAE,MAAQ,YAAY,IAAI,EAAIe,EAAE,UAAWW,GAAG1B,EAAE,EAAE,EAAI,GAAI,EAAE,EAAE,CAChE,CAAC,CACH,CAAC,CACH,CACF,CAAC,CACH,GAAE,SAAU,EAAG,CACb,IAAI,GAAI,SAAUjB,EAAG,CACnB,IAAIS,EAAI,CACN,gBAAiB,EACjB,kBAAmB,EACnB,qBAAsB,EACtB,mBAAoBT,EAAE,KACxB,EACA,GAAIA,EAAE,QAAQ,OAAQ,CACpB,IAAIgC,EAAItB,GAAE,EACV,GAAIsB,EAAG,CACL,IAAIf,EAAIe,EAAE,iBAAmB,EAC3BZ,EAAIpB,EAAE,QAAQA,EAAE,QAAQ,OAAS,CAAC,EAClCuC,EAAInB,EAAE,KAAO,YAAY,iBAAiB,UAAU,EAAE,OAAO,SAAUpB,EAAG,CACxE,OAAOA,EAAE,OAASoB,EAAE,GACtB,CAAC,EAAE,CAAC,EACJE,EAAI,KAAK,IAAI,EAAGU,EAAE,cAAgBf,CAAC,EACnCuB,EAAI,KAAK,IAAIlB,EAAGiB,GAAKA,EAAE,cAAgBA,EAAE,WAAatB,EAAI,CAAC,EAC3DC,EAAI,KAAK,IAAIsB,EAAGD,EAAIA,EAAE,YAActB,EAAI,CAAC,EACzCd,EAAI,KAAK,IAAIe,EAAGE,EAAE,UAAYH,CAAC,EACjCR,EAAI,CACF,QAASU,GAAEC,EAAE,OAAO,EACpB,gBAAiBE,EACjB,kBAAmBkB,EAAIlB,EACvB,qBAAsBJ,EAAIsB,EAC1B,mBAAoBrC,EAAIe,EACxB,gBAAiBc,EACjB,SAAUZ,CACZ,EAAGA,EAAE,MAAQX,EAAE,IAAMW,EAAE,KAAMmB,IAAM9B,EAAE,iBAAmB8B,EAC1D,CACF,CACA,OAAO,OAAO,OAAOvC,EAAG,CACtB,YAAaS,CACf,CAAC,CACH,GAAE,CAAC,EACHT,EAAE,CAAC,CACL,EAAGS,CAAC,CACN,EAxHF,IA6KEqC,GAAK,CACH,QAAS,GACT,QAAS,EACX,EACAC,GAAK,IAAI,KACTC,GAAK,SAAUC,EAAGC,EAAG,CACnBC,KAAMA,GAAID,EAAGE,GAAIH,EAAGI,GAAK,IAAI,KAAQC,GAAG,mBAAmB,EAAGC,GAAG,EACnE,EACAA,GAAK,UAAY,CACf,GAAIH,IAAK,GAAKA,GAAIC,GAAKN,GAAI,CACzB,IAAIE,EAAI,CACN,UAAW,cACX,KAAME,GAAE,KACR,OAAQA,GAAE,OACV,WAAYA,GAAE,WACd,UAAWA,GAAE,UACb,gBAAiBA,GAAE,UAAYC,EACjC,EACAI,GAAG,QAAQ,SAAUN,EAAG,CACtBA,EAAED,CAAC,CACL,CAAC,EAAGO,GAAK,CAAC,CACZ,CACF,EACAC,GAAK,SAAUR,EAAG,CAChB,GAAIA,EAAE,WAAY,CAChB,IAAIC,GAAKD,EAAE,UAAY,KAAO,IAAI,KAAS,YAAY,IAAI,GAAKA,EAAE,UACjDA,EAAE,MAAnB,eAA0B,SAAUA,EAAGC,EAAG,CACxC,IAAI,EAAI,UAAY,CAChBF,GAAGC,EAAGC,CAAC,EAAGQ,EAAE,CACd,EACAC,EAAI,UAAY,CACdD,EAAE,CACJ,EACAA,EAAI,UAAY,CACd,oBAAoB,YAAa,EAAGZ,EAAE,EAAG,oBAAoB,gBAAiBa,EAAGb,EAAE,CACrF,EACF,iBAAiB,YAAa,EAAGA,EAAE,EAAG,iBAAiB,gBAAiBa,EAAGb,EAAE,CAC/E,GAAEI,EAAGD,CAAC,EAAID,GAAGE,EAAGD,CAAC,CACnB,CACF,EACAK,GAAK,SAAUL,EAAG,CAChB,CAAC,YAAa,UAAW,aAAc,aAAa,EAAE,QAAQ,SAAUC,EAAG,CACzE,OAAOD,EAAEC,EAAGO,GAAIX,EAAE,CACpB,CAAC,CACH,EACAc,GAAK,CAAC,IAAK,GAAG,EACdC,GAAK,SAAUZ,EAAGC,EAAG,CACnBA,EAAIA,GAAK,CAAC,EAAGY,GAAE,UAAY,CACzB,IAAIC,EACF,EAAIC,GAAE,EACNN,EAAIO,EAAE,KAAK,EACXC,EAAI,SAAUjB,EAAG,CACfA,EAAE,UAAY,EAAE,kBAAoBS,EAAE,MAAQT,EAAE,gBAAkBA,EAAE,UAAWS,EAAE,QAAQ,KAAKT,CAAC,EAAGc,EAAE,EAAE,EACxG,EACAI,EAAI,SAAUlB,EAAG,CACfA,EAAE,QAAQiB,CAAC,CACb,EACAE,EAAIC,GAAE,cAAeF,CAAC,EACxBJ,EAAIO,EAAErB,EAAGS,EAAGE,GAAIV,EAAE,gBAAgB,EAAGkB,IAAMG,GAAEC,GAAE,UAAY,CACzDL,EAAEC,EAAE,YAAY,CAAC,EAAGA,EAAE,WAAW,CACnC,CAAC,CAAC,EAAGK,GAAE,UAAY,CACjB,IAAId,EACJD,EAAIO,EAAE,KAAK,EAAGF,EAAIO,EAAErB,EAAGS,EAAGE,GAAIV,EAAE,gBAAgB,EAAGM,GAAK,CAAC,EAAGJ,GAAI,GAAID,GAAI,KAAMG,GAAG,gBAAgB,EAAGK,EAAIO,EAAGV,GAAG,KAAKG,CAAC,EAAGJ,GAAG,CAC5H,CAAC,EACH,CAAC,CACH,EACAmB,GAAK,SAAUzB,EAAGC,EAAG,CACnBW,GAAG,SAAU,EAAG,CACd,IAAIE,GAAI,SAAUd,EAAG,CACnB,IAAIC,EAAID,EAAE,QAAQ,CAAC,EACjBc,EAAI,CACF,YAAaG,GAAEhB,EAAE,MAAM,EACvB,UAAWA,EAAE,KACb,UAAWA,EAAE,UACb,WAAYA,EACZ,UAAWS,GAAET,EAAE,SAAS,CAC1B,EACF,OAAO,OAAO,OAAOD,EAAG,CACtB,YAAac,CACf,CAAC,CACH,GAAE,CAAC,EACHd,EAAEc,CAAC,CACL,EAAGb,CAAC,CACN,ECjnBF,IAAIyB,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAOWK,GAA4B,aACnCC,IAA+B,SAAUC,EAAQ,CACnDb,GAAUY,EAAiBC,CAAM,EACjC,SAASD,EAAgBE,EAAQ,CAC/B,IAAIC,EAAQF,EAAO,KAAK,KAAMF,EAAyB,GAAK,KAC5D,OAAAI,EAAM,iBAAmB,IAAI,IAC7BA,EAAM,mBAAqBC,GAAe,EAC1CD,EAAM,YAAc,SAAUE,EAAO,CACnC,OAAQA,EAAM,KAAM,CAElB,KAAKC,GACH,IAAIC,EAAUF,EAAM,QAChBF,EAAM,oBAAsBI,EAAQ,WAAaC,EAAa,OAChEL,EAAM,iBAAiB,IAAIM,GAAeJ,EAAM,OAAO,EAAGA,EAAM,EAAE,EAEpE,MACF,KAAKK,GACHP,EAAM,kBAAoBE,EAAM,GAChC,KACJ,CACF,EACAF,EAAM,OAAST,GAASA,GAAS,CAAC,EAAGiB,EAA8B,EAAGT,CAAM,EACrEC,CACT,CAEA,OAAAH,EAAgB,UAAU,OAAS,UAAY,CAAC,EAEhDA,EAAgB,UAAU,QAAU,UAAY,CAAC,EACjDA,EAAgB,UAAU,OAAS,UAAY,CAC7C,IAAIG,EAAQ,KACZ,KAAK,QAAQ,SAAS,UAAUS,GAAM,MAAO,KAAK,WAAW,EAC7DC,GAAM,SAAUC,EAAQ,CACtB,OAAOX,EAAM,UAAUW,CAAM,CAC/B,EAAG,CACD,iBAAkB,KAAK,OAAO,YAChC,CAAC,EACDC,GAAM,SAAUD,EAAQ,CACtB,OAAOX,EAAM,UAAUW,CAAM,CAC/B,CAAC,EACDE,GAAM,SAAUF,EAAQ,CACtB,OAAOX,EAAM,UAAUW,CAAM,CAC/B,EAAG,CACD,iBAAkB,EACpB,CAAC,EACDG,GAAM,SAAUH,EAAQ,CACtB,OAAOX,EAAM,UAAUW,CAAM,CAC/B,EAAG,CACD,iBAAkB,EACpB,CAAC,CACH,EACAd,EAAgB,UAAU,UAAY,SAAUc,EAAQ,CACtD,IAAII,EAAIC,EACJC,EAAIN,EAAO,YACXO,EAAc,CAChB,QAASD,EAAE,QACX,IAAKA,EAAE,IACP,gBAAiBA,EAAE,gBACnB,kBAAmBA,EAAE,kBAOrB,iBAAkBA,EAAE,qBAEpB,mBAAoBA,EAAE,kBACxB,EACA,GAAIA,EAAE,iBAAkB,CACtB,IAAIE,EAAMb,GAAeW,EAAE,gBAAgB,EAC3CC,EAAY,iBAAmB,KAAK,iBAAiB,IAAIC,CAAG,CAC9D,CACI,KAAK,oBACPD,EAAY,gBAAkB,KAAK,oBAEpCH,EAAK,KAAK,WAAa,MAAQA,IAAO,QAAkBA,EAAG,OAAOK,GAAgB,CACjF,QAAS,QACT,MAAOT,EAAO,MACd,YAAaO,CACf,CAAC,GAEAF,EAAK,KAAK,WAAa,MAAQA,IAAO,QAAkBA,EAAG,SAAS,YAAYP,GAAM,MAAO,KAAK,WAAW,EAC9G,KAAK,iBAAiB,MAAM,EAC5B,KAAK,kBAAoB,MAC3B,EACAZ,EAAgB,UAAU,UAAY,SAAUc,EAAQ,CACtD,IAAIM,EAAIN,EAAO,YACXI,EAAK,KAAK,QACZM,EAASN,EAAG,OACZO,EAAkBP,EAAG,iBACtB,KAAK,OAAO,aAAeM,EAASC,GAAiBC,GAAgB,CACpE,QAAS,QACT,MAAOZ,EAAO,MACd,YAAa,CACX,mBAAoBM,EAAE,mBACtB,kBAAmBA,EAAE,kBACrB,iBAAkBA,EAAE,iBACpB,UAAWA,EAAE,SACf,CACF,CAAC,CACH,EACApB,EAAgB,UAAU,UAAY,SAAUc,EAAQ,CACtD,IAAII,EACAE,EAAIN,EAAO,aACdI,EAAK,KAAK,WAAa,MAAQA,IAAO,QAAkBA,EAAG,OAAOS,GAAgB,CACjF,QAAS,QACT,MAAOb,EAAO,MACd,YAAa,CACX,YAAaM,EAAE,YACf,UAAWA,EAAE,UACb,UAAWA,EAAE,UACb,UAAWA,EAAE,SACf,CACF,CAAC,CACH,EACApB,EAAgB,UAAU,UAAY,SAAUc,EAAQ,CACtD,IAAIM,EAAIN,EAAO,YACXI,EAAK,KAAK,QACZM,EAASN,EAAG,OACZO,EAAkBP,EAAG,iBACtB,KAAK,OAAO,aAAeM,EAASC,GAAiBG,GAAgB,CACpE,QAAS,QACT,MAAOd,EAAO,MACd,YAAa,CACX,kBAAmBM,EAAE,kBACrB,gBAAiBA,EAAE,gBACnB,cAAeA,EAAE,cACjB,gBAAiBA,EAAE,gBACnB,WAAYA,EAAE,WACd,mBAAoBA,EAAE,mBACtB,kBAAmBA,EAAE,kBACrB,UAAWA,EAAE,SACf,CACF,CAAC,CACH,EACOpB,CACT,GAAE6B,CAAc,EC5KhB,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,IAAwB,SAAUC,EAAQ,CAC5CP,GAAUM,EAAUC,CAAM,EAC1B,SAASD,EAASE,EAAS,CACzB,IAAIC,EAAQF,EAAO,KAAK,KAAMC,CAAO,GAAK,KAC1C,OAAAC,EAAM,KAAO,uBACNA,CACT,CACA,OAAOH,CACT,GAAE,KAAK,EC5BP,IAAII,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAMWK,GAAgB,MAqDvBC,IAAyB,SAAUC,EAAQ,CAC7Cb,GAAUY,EAAWC,CAAM,EAC3B,SAASD,EAAUE,EAAQ,CACzB,IAAIC,EAAQF,EAAO,KAAK,KAAMF,EAAa,GAAK,KAChD,OAAAI,EAAM,qBAAuB,SAAUC,EAAK,CAC1C,OAAOC,GAAuBD,EAAKD,EAAM,OAAO,oBAAoB,CACtE,EACAA,EAAM,iBAAmB,UAAY,CACnC,OAAOA,EAAM,QAAQ,OAAO,UAC9B,EACAA,EAAM,kBAAoB,UAAY,CACpC,IAAIG,EACJ,QAASA,EAAKH,EAAM,QAAQ,WAAW,KAAO,MAAQG,IAAO,OAAS,OAASA,EAAG,SAAW,EAC/F,EACAH,EAAM,mBAAqB,SAAUI,EAAG,CACtC,IAAIC,EAAMD,EAAE,OACRE,EAAaN,EAAM,OAAO,IAAIK,CAAG,EACrC,GAAIC,EAAY,CACd,IAAIC,EAAUC,EAAU,EACxBF,EAAW,MAAM,SAAWC,EAC5BD,EAAW,MAAM,YAAY,CAAC,EAAE,SAAWC,EAC3CD,EAAW,MAAM,YAAY,CAAC,EAAE,KAAK,SAAW,CAC9C,OAAQD,EAAI,MACd,EACII,GAAMJ,EAAI,MAAM,GAClBC,EAAW,MAAM,YAAY,CAAC,EAAE,SAAW,GAC3CA,EAAW,MAAM,SAAW,IACnBI,GAAML,EAAI,MAAM,GACzBC,EAAW,MAAM,YAAY,CAAC,EAAE,MAAQ,GACxCA,EAAW,MAAM,MAAQ,IAChBK,GAAMN,EAAI,MAAM,IACzBC,EAAW,MAAM,YAAY,CAAC,EAAE,MAAQ,GACxCA,EAAW,MAAM,MAAQ,IAE3B,IAAIM,EAAQP,EAAI,kBAAkB,gBAAgB,EAC9CQ,EAAKD,EAAQ,SAASA,EAAO,EAAE,EAAI,IAClC,MAAMC,CAAE,IACXP,EAAW,MAAM,YAAY,CAAC,EAAE,KAAK,SAAS,eAAiBO,GAEjEb,EAAM,iBAAiBM,EAAW,KAAK,EACvCN,EAAM,4BAA4BM,EAAYD,CAAG,CACnD,CACF,EACAL,EAAM,oBAAsB,SAAUI,EAAG,CACvC,IAAIC,EAAMD,EAAE,OACRE,EAAaN,EAAM,OAAO,IAAIK,CAAG,EACjCS,EAAY,uBACZC,EAAeV,EAAI,WAAaA,EAAI,OAAO,SAAS,EAAI,KAAOA,EAAI,WAAaA,EAAI,OAAO,SAAS,EACxG,GAAIC,EAAY,CACd,IAAIC,EAAUC,EAAU,EAKxBF,EAAW,MAAM,MAAQ,GACzBA,EAAW,MAAM,SAAWC,EAC5BD,EAAW,MAAM,YAAY,CAAC,EAAE,SAAWC,EAC3CD,EAAW,MAAM,YAAY,CAAC,EAAE,MAAQ,GACxCA,EAAW,MAAM,YAAY,CAAC,EAAE,MAAQ,CACtC,WAAY,CAAC,CACX,KAAMQ,EACN,QAASC,CACX,CAAC,CACH,EACAf,EAAM,iBAAiBM,EAAW,KAAK,EACvCN,EAAM,yBAAyBM,EAAYD,EAAK,IAAIW,GAASD,CAAY,CAAC,CAC5E,CACF,EACAf,EAAM,oBAAsB,SAAUI,EAAG,CACvC,IAAIC,EAAMD,EAAE,OACRE,EAAaN,EAAM,OAAO,IAAIK,CAAG,EACjCC,GACFN,EAAM,wBAAwBM,EAAYD,EAAK,sBAAsB,CAEzE,EACAL,EAAM,sBAAwB,SAAUI,EAAG,CACzC,IAAIC,EAAMD,EAAE,OACRE,EAAaN,EAAM,OAAO,IAAIK,CAAG,EACjCS,EAAY,yBAChBd,EAAM,wBAAwBM,EAAYD,EAAKS,CAAS,CAC1D,EACAd,EAAM,gBAAkB,SAAUM,EAAY,CAC5C,IAAIW,EAAYT,EAAU,EAC1BF,EAAW,MAAQY,GAAqBlB,EAAM,OAAO,mBAAoBiB,EAAWjB,EAAM,QAAQ,OAAO,gBAAgB,EACzHM,EAAW,MAAM,YAAY,KAAKa,GAAqBC,GAAsBd,EAAW,GAAG,EAAGW,EAAW,CACvG,QAAS,CACP,OAAQX,EAAW,OACnB,IAAKA,EAAW,IAChB,OAAQ,EACV,CACF,CAAC,CAAC,CACJ,EACAN,EAAM,YAAc,UAAY,CAC9B,IAAIqB,EAAOrB,EACX,OAAO,SAAUsB,EAAU,CACzB,OAAO,UAAY,CACjB,IAAIhB,EAAae,EAAK,OAAO,IAAI,IAAI,EACrC,OAAIf,IACF,KAAK,iBAAiB,OAAQe,EAAK,kBAAkB,EACrD,KAAK,iBAAiB,QAASA,EAAK,mBAAmB,EACvD,KAAK,iBAAiB,QAASA,EAAK,mBAAmB,EACvD,KAAK,iBAAiB,UAAWA,EAAK,qBAAqB,EAC3DA,EAAK,gBAAgBf,CAAU,EAC3B,CAACe,EAAK,gBAAkBA,EAAK,iBAAiB,GAAKA,EAAK,qBAAqBf,EAAW,GAAG,GAAKe,EAAK,kBAAkB,IACrHA,EAAK,QAAQ,OAAO,iBACtB,KAAK,iBAAiBE,GAA6BC,GAAyBlB,EAAW,MAAM,SAAUA,EAAW,MAAM,YAAY,CAAC,EAAE,EAAE,CAAC,EAE1I,KAAK,iBAAiBmB,GAAiBC,GAA0BpB,EAAW,MAAM,SAAUA,EAAW,MAAM,YAAY,CAAC,EAAE,EAAE,CAAC,IAI9HgB,EAAS,MAAM,KAAM,SAAS,CACvC,CACF,CACF,EACAtB,EAAM,YAAc,UAAY,CAC9B,IAAIqB,EAAOrB,EACX,OAAO,SAAUsB,EAAU,CACzB,OAAO,SAAUK,EAAQ1B,EAAK2B,EAAO,CACnC,OAAIC,GAAa5B,EAAKoB,EAAK,MAAM,GAC/BA,EAAK,OAAO,IAAI,KAAM,CACpB,IAAKpB,EACL,OAAQ0B,EACR,MAAOC,CACT,CAAC,EAEIN,EAAS,MAAM,KAAM,SAAS,CACvC,CACF,CACF,EACAtB,EAAM,OAAST,GAASA,GAAS,CAAC,EAAGuC,EAAa,EAAG/B,CAAM,EAC3DC,EAAM,OAAS,IAAI,IACnBA,EAAM,eAAiB,UAAU,UAAU,SAAS,sBAAsB,EACnEA,CACT,CACA,OAAAH,EAAU,UAAU,OAAS,UAAY,CACvC,KAAK,OAAO,CACd,EACA,OAAO,eAAeA,EAAU,UAAW,UAAW,CACpD,IAAK,UAAY,CACf,MAAO,CAAC,CACN,OAAQ,eAAe,UACvB,KAAM,OACN,QAAS,KAAK,WAChB,EAAG,CACD,OAAQ,eAAe,UACvB,KAAM,OACN,QAAS,KAAK,WAChB,CAAC,CACH,EACA,WAAY,GACZ,aAAc,EAChB,CAAC,EACDA,EAAU,UAAU,wBAA0B,SAAUS,EAAYD,EAAKS,EAAW,CAClF,GAAIR,EAAY,CACd,IAAIC,EAAUC,EAAU,EACxBF,EAAW,MAAM,SAAWC,EAC5BD,EAAW,MAAM,YAAY,CAAC,EAAE,SAAWC,EAC3CD,EAAW,MAAM,YAAY,CAAC,EAAE,MAAQ,GACxCA,EAAW,MAAM,YAAY,CAAC,EAAE,MAAQ,CACtC,WAAY,CAAC,CACX,KAAMQ,CACR,CAAC,CACH,EACA,KAAK,iBAAiBR,EAAW,KAAK,EACtC,KAAK,yBAAyBA,EAAYD,EAAKS,CAAS,CAC1D,CACF,EACAjB,EAAU,UAAU,SAAW,SAAUkC,EAAQ,CAC/C,OAAOA,GAAU,KAAOA,EAAS,GACnC,EACAlC,EAAU,UAAU,4BAA8B,SAAUS,EAAYD,EAAK,CAC3E,KAAK,OAAO,OAAOA,CAAG,EACtB,IAAI2B,EAAY,CACd,QAAS,QACT,QAAS,CACP,OAAQ1B,EAAW,OACnB,IAAKA,EAAW,GAClB,EACA,SAAU,CACR,OAAQD,EAAI,OACZ,WAAYA,EAAI,UAClB,CACF,EACI,KAAK,iBAAiB,IACxB2B,EAAU,SAAW1B,EAAW,MAAM,SACtC0B,EAAU,WAAa1B,EAAW,MAAM,YAAY,CAAC,EAAE,KAErD,KAAK,OAAO,mBAAqB,CAAC,KAAK,SAASD,EAAI,MAAM,IAC5D,KAAK,QAAQ,OAAO4B,GAAiBD,CAAS,CAElD,EACAnC,EAAU,UAAU,yBAA2B,SAAUS,EAAYD,EAAK6B,EAAO,CAC/E,KAAK,OAAO,OAAO7B,CAAG,EACtB,IAAI2B,EAAY,CACd,QAAS,QACT,QAAS,CACP,OAAQ1B,EAAW,OACnB,IAAKA,EAAW,GAClB,EACA,MAAO6B,GAAyB,CAC9B,KAAM,QACN,MAAOD,CACT,EAAG,KAAK,OAAO,gBAAgB,CACjC,EACI,KAAK,iBAAiB,IACxBF,EAAU,SAAW1B,EAAW,MAAM,SACtC0B,EAAU,WAAa1B,EAAW,MAAM,YAAY,CAAC,EAAE,IAEzD,KAAK,QAAQ,OAAO2B,GAAiBD,CAAS,CAChD,EACAnC,EAAU,UAAU,iBAAmB,SAAUuC,EAAO,CAClD,CAAC,KAAK,gBAAkB,KAAK,iBAAiB,GAAK,KAAK,kBAAkB,GAC5E,KAAK,QAAQ,OAAOC,GAAuBD,CAAK,CAEpD,EACOvC,CACT,GAAEyC,CAAa,ECjTf,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EACEC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASL,KAAKI,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGJ,CAAC,IAAGG,EAAEH,CAAC,EAAII,EAAEJ,CAAC,EAC7E,CACA,OAAOG,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EAKWK,GAAkB,QAOzBC,IAA2B,SAAUC,EAAQ,CAC/Cb,GAAUY,EAAaC,CAAM,EAC7B,SAASD,EAAYE,EAAQ,CAC3B,IAAIC,EAAQF,EAAO,KAAK,KAAMF,EAAe,GAAK,KAClD,OAAAI,EAAM,iBAAmB,UAAY,CACnC,OAAOA,EAAM,QAAQ,OAAO,UAC9B,EACAA,EAAM,kBAAoB,UAAY,CACpC,IAAIC,EACJ,QAASA,EAAKD,EAAM,QAAQ,WAAW,KAAO,MAAQC,IAAO,OAAS,OAASA,EAAG,SAAW,EAC/F,EACAD,EAAM,WAAa,SAAUE,EAAOC,EAAMC,EAAW,CACnD,IAAIC,EAAYC,EAAU,EACtBC,EAAOC,GAAyBN,EAAOC,EAAM,EAAI,EACjDM,EAAiBC,GAAqBV,EAAM,OAAO,mBAAoBK,EAAWL,EAAM,QAAQ,OAAO,gBAAgB,EACvHW,EAAaC,GAAqBC,GAAsBX,CAAK,EAAGG,EAAWE,CAAI,EACnF,OAAAE,EAAe,YAAY,KAAKE,CAAU,EACtCX,EAAM,uBAAuBE,CAAK,GACpCF,EAAM,qBAAqBE,EAAOC,EAAMC,EAAWK,CAAc,EAE5DA,CACT,EACAT,EAAM,qBAAuB,SAAUE,EAAOC,EAAMC,EAAWK,EAAgB,CAC7E,GAAIP,EAAM,QACR,OAAOY,GAA8BZ,EAAM,QAASO,EAAe,SAAUA,EAAe,YAAY,CAAC,EAAE,GAAIT,EAAM,QAAQ,OAAO,gBAAgB,EAEjJG,IACHA,EAAO,CAAC,EACR,CAAC,EAAE,KAAK,KAAKC,EAAWD,CAAI,GAE9BY,GAA2BZ,EAAMM,EAAe,SAAUA,EAAe,YAAY,CAAC,EAAE,GAAIT,EAAM,QAAQ,OAAO,gBAAgB,CACnI,EACAA,EAAM,SAAW,SAAUS,EAAgBO,EAAUC,EAAO,CAC1D,GAAIR,EAAgB,CAClB,IAAIS,EAAUZ,EAAU,EAGxB,GAFAG,EAAe,YAAY,CAAC,EAAE,SAAWS,EACzCT,EAAe,SAAWS,EACtBF,EAAU,CACZP,EAAe,YAAY,CAAC,EAAE,KAAK,SAAW,CAC5C,OAAQO,EAAS,MACnB,EACIG,GAAMH,EAAS,MAAM,GACvBP,EAAe,YAAY,CAAC,EAAE,SAAW,GACzCA,EAAe,SAAW,IACjBW,GAAMJ,EAAS,MAAM,GAC9BP,EAAe,YAAY,CAAC,EAAE,MAAQ,GACtCA,EAAe,MAAQ,IACdY,GAAML,EAAS,MAAM,IAC9BP,EAAe,YAAY,CAAC,EAAE,MAAQ,GACtCA,EAAe,MAAQ,IAEzB,IAAIa,EAAQN,EAAS,QAAQ,IAAI,gBAAgB,EAC7CO,EAAKD,EAAQ,SAASA,EAAO,EAAE,EAAI,IAClC,MAAMC,CAAE,IACXd,EAAe,YAAY,CAAC,EAAE,KAAK,SAAS,eAAiBc,EAEjE,CACIN,IAKFR,EAAe,MAAQ,GACvBA,EAAe,YAAY,CAAC,EAAE,MAAQ,GAClCQ,aAAiB,OACnBjB,EAAM,2BAA2BS,EAAe,YAAY,CAAC,EAAGQ,CAAK,EAC5DO,GAAiBP,CAAK,GAC/BjB,EAAM,8BAA8BS,EAAe,YAAY,CAAC,EAAGQ,EAAM,SAAS,CAAC,GAGvFjB,EAAM,QAAQ,OAAOyB,GAAuBhB,CAAc,CAC5D,CACF,EACAT,EAAM,gBAAkB,SAAUE,EAAOC,EAAM,CAC7C,IAAIuB,EAAUxB,EACd,MAAO,CACL,QAAS,QACT,QAAS,CACP,IAAKyB,GAAoBzB,CAAK,EAC9B,OAAqDC,GAAK,OAAUA,EAAK,OAASuB,EAAQ,OAASA,EAAQ,OAAS,KACtH,CACF,CACF,EACA1B,EAAM,4BAA8B,SAAU4B,EAAWZ,EAAU,EAC7DhB,EAAM,OAAO,mBAAqB,CAACgB,EAAS,MAC9CY,EAAU,SAAW,CACnB,OAAQZ,EAAS,OACjB,WAAYA,EAAS,UACvB,EACAhB,EAAM,QAAQ,OAAO6B,GAAiBD,CAAS,EAEnD,EACA5B,EAAM,yBAA2B,SAAU4B,EAAWX,EAAO,CAC3DW,EAAU,MAAQE,GAAyB,CACzC,KAAM,QACN,MAAOb,CACT,EAAGjB,EAAM,OAAO,gBAAgB,EAChCA,EAAM,QAAQ,OAAO6B,GAAiBD,CAAS,CACjD,EACA5B,EAAM,MAAQ,SAAU+B,EAAUC,EAAS5B,EAAWF,EAAOC,EAAM,CACjE,IAAIyB,EAAY5B,EAAM,gBAAgBE,EAAOC,CAAI,EAC7C8B,EACJ,GAAI,CAACC,GAAaP,GAAoBzB,CAAK,EAAGF,EAAM,MAAM,EACxD,OAAO+B,EAAS,MAAMC,EAAS5B,CAAS,EAE1C,IAAI+B,EAAcC,GAAelC,EAAM,QAASF,EAAM,QAAQ,OAAO,gBAAgB,EACrF,OAAImC,EAAY,SAAWA,EAAY,WACrCP,EAAU,SAAWO,EAAY,QACjCP,EAAU,WAAaO,EAAY,WAC1BnC,EAAM,iBAAiB,GAAKA,EAAM,kBAAkB,IAC7DiC,EAAQjC,EAAM,WAAWE,EAAOC,EAAMC,CAAS,EAC/CwB,EAAU,SAAWK,EAAM,SAC3BL,EAAU,WAAaK,EAAM,YAAY,CAAC,EAAE,IAEvCF,EAAS,MAAMC,EAAS5B,CAAS,EAAE,KAAK,SAAUY,EAAU,CACjE,OAAAhB,EAAM,SAASiC,EAAOjB,EAAU,MAAS,EACzChB,EAAM,4BAA4B4B,EAAWZ,CAAQ,EAC9CA,CACT,CAAC,EAAE,MAAM,SAAUC,EAAO,CACxB,MAAAjB,EAAM,SAASiC,EAAO,OAAWhB,CAAK,EACtCjB,EAAM,yBAAyB4B,EAAWX,CAAK,EACzCA,CACR,CAAC,CACH,EACAjB,EAAM,aAAe,UAAY,CAC/B,IAAIqC,EAAOrC,EACX,OAAO,SAAU+B,EAAU,CACzB,OAAO,SAAU7B,EAAOC,EAAM,CAC5B,OAAOkC,EAAK,MAAMN,EAAU,KAAM,UAAW7B,EAAOC,CAAI,CAC1D,CACF,CACF,EACAH,EAAM,OAAST,GAASA,GAAS,CAAC,EAAG+C,EAAa,EAAGvC,CAAM,EACpDC,CACT,CACA,cAAO,eAAeH,EAAY,UAAW,UAAW,CACtD,IAAK,UAAY,CACf,MAAO,CAAC,CACN,OAAQ,OACR,KAAM,QACN,QAAS,KAAK,YAChB,CAAC,CACH,EACA,WAAY,GACZ,aAAc,EAChB,CAAC,EACDA,EAAY,UAAU,OAAS,UAAY,CACzC,KAAK,OAAO,CACd,EACAA,EAAY,UAAU,uBAAyB,SAAUK,EAAO,CAC9D,IAAIqC,EAAMZ,GAAoBzB,CAAK,EACnC,OAAOsC,GAAuBD,EAAK,KAAK,OAAO,oBAAoB,CACrE,EACA1C,EAAY,UAAU,8BAAgC,SAAUc,EAAYM,EAAO,CACjFN,EAAW,MAAQ,CACjB,WAAY,CAAC,CACX,KAAMM,CACR,CAAC,CACH,CACF,EACApB,EAAY,UAAU,2BAA6B,SAAUc,EAAYM,EAAO,CAC9EN,EAAW,MAAQ,CACjB,WAAY,CAAC,CACX,KAAMM,EAAM,KACZ,QAASA,EAAM,OACjB,CAAC,CACH,CACF,EACOpB,CACT,GAAE4C,CAAa,EClNf,IAAIC,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EAGSC,GAAuB,YAO9BC,IAA8B,SAAUC,EAAQ,CAClDR,GAAUO,EAAgBC,CAAM,EAChC,SAASD,GAAiB,CACxB,IAAIE,EAAQD,EAAO,KAAK,KAAMF,EAAoB,GAAK,KACvD,OAAAG,EAAM,UAAY,UAAY,CAC5B,IAAIC,EAAOD,EACX,OAAO,SAAUE,EAAU,CACzB,OAAO,SAAUC,EAAMC,EAAOC,EAAK,CACjC,IAAIC,EAASJ,EAAS,MAAM,KAAM,SAAS,EAC3C,OAAAD,EAAK,eAAe,EACbK,CACT,CACF,CACF,EACAN,EAAM,aAAe,UAAY,CAC/B,IAAIC,EAAOD,EACX,OAAO,SAAUE,EAAU,CACzB,OAAO,SAAUC,EAAMC,EAAOC,EAAK,CACjC,IAAIC,EAASJ,EAAS,MAAM,KAAM,SAAS,EAC3C,OAAAD,EAAK,eAAe,EACbK,CACT,CACF,CACF,EACAN,EAAM,iBAAmB,SAAUO,EAAO,CACxCP,EAAM,eAAe,CACvB,EACAA,EAAM,eAAiB,UAAY,CACjCA,EAAM,QAAQ,eAAeA,EAAM,uBAAuB,CAAC,CAC7D,EACAA,EAAM,OAAO,EACNA,CACT,CACA,OAAAF,EAAe,UAAU,OAAS,UAAY,CAC5C,KAAK,YAAY,EACjB,KAAK,eAAe,CACtB,EACA,OAAO,eAAeA,EAAe,UAAW,UAAW,CACzD,IAAK,UAAY,CACf,MAAO,CAAC,CACN,OAAQ,QAAQ,UAChB,KAAM,YACN,QAAS,KAAK,SAChB,EAAG,CACD,OAAQ,QAAQ,UAChB,KAAM,eACN,QAAS,KAAK,YAChB,CAAC,CACH,EACA,WAAY,GACZ,aAAc,EAChB,CAAC,EACDA,EAAe,UAAU,YAAc,UAAY,CAIjD,OAAO,iBAAiB,WAAY,KAAK,gBAAgB,CAC3D,EACAA,EAAe,UAAU,uBAAyB,UAAY,CAC5D,IAAIU,EAAO,OAAO,SAAS,SACvBC,EAAO,OAAO,SAAS,KAC3B,OAAQ,KAAK,QAAQ,OAAO,aAAc,CACxC,KAAKC,GAAiB,YACpB,OAAIF,GAAQC,EACHD,EAAOC,EACLD,GAEAC,GAGJ,GACT,KAAKC,GAAiB,KACpB,OAAOD,GAAc,GACvB,KAAKC,GAAiB,KACtB,QACE,OAAOF,GAAc,EACzB,CACF,EACOV,CACT,GAAEa,CAAa,EC5Gf,IAAIC,GAAoC,UAAY,CAClD,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAG,CACvC,QAASC,EAAGC,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IAAK,CACnDD,EAAI,UAAUC,CAAC,EACf,QAASE,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,EAC7E,CACA,OAAOJ,CACT,EACOD,GAAS,MAAM,KAAM,SAAS,CACvC,EACIM,GAAgC,SAAUJ,EAAGK,EAAG,CAClD,IAAIN,EAAI,CAAC,EACT,QAASI,KAAKH,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGG,CAAC,GAAKE,EAAE,QAAQF,CAAC,EAAI,IAAGJ,EAAEI,CAAC,EAAIH,EAAEG,CAAC,GAC/F,GAAIH,GAAK,MAAQ,OAAO,OAAO,uBAA0B,WAAY,QAASC,EAAI,EAAGE,EAAI,OAAO,sBAAsBH,CAAC,EAAGC,EAAIE,EAAE,OAAQF,IAClII,EAAE,QAAQF,EAAEF,CAAC,CAAC,EAAI,GAAK,OAAO,UAAU,qBAAqB,KAAKD,EAAGG,EAAEF,CAAC,CAAC,IAAGF,EAAEI,EAAEF,CAAC,CAAC,EAAID,EAAEG,EAAEF,CAAC,CAAC,GAElG,OAAOF,CACT,EACIO,GAA8C,SAAUC,EAAIC,EAAMC,EAAM,CAC1E,GAAIA,GAAQ,UAAU,SAAW,EAAG,QAASR,EAAI,EAAGS,EAAIF,EAAK,OAAQG,EAAIV,EAAIS,EAAGT,KAC1EU,GAAM,EAAEV,KAAKO,MACVG,IAAIA,EAAK,MAAM,UAAU,MAAM,KAAKH,EAAM,EAAGP,CAAC,GACnDU,EAAGV,CAAC,EAAIO,EAAKP,CAAC,GAGlB,OAAOM,EAAG,OAAOI,GAAM,MAAM,UAAU,MAAM,KAAKH,CAAI,CAAC,CACzD,EAgBII,GAAiB,YACjBC,GAAmB,yBAAyB,OAAOD,GAAgB,gBAAgB,EAC5EE,IAA6B,SAAUA,EAAe,CAC/D,OAAAA,EAAc,OAAY,SAC1BA,EAAc,YAAiB,cAC/BA,EAAc,YAAiB,cAC/BA,EAAc,KAAU,OACjBA,CACT,GAAEA,IAAiB,CAAC,CAAC,EACVC,IAAgC,SAAUA,EAAkB,CACrE,OAAAA,EAAiB,KAAU,OAC3BA,EAAiB,KAAU,OAC3BA,EAAiB,YAAiB,gBAC3BA,CACT,GAAEA,IAAoB,CAAC,CAAC,EACbC,GAA0B,UAAY,CAC/C,MAAO,CACL,OAAQ,GACR,OAAQ,OAAO,SAAS,SACxB,KAAM,IACN,SAAU,SACV,OAAQ,EACV,CACF,EACWC,GAAgB,SAAUC,EAAkB,CACrD,OAAOpB,GAAS,CACd,aAAc,GACd,WAAY,IACZ,OAAQqB,GACR,iBAAkBD,EAClB,oBAAqB,GACrB,iBAAkB,EAAI,IACtB,gBAAiB,GACjB,WAAY,GACZ,SAAUL,GACV,YAAa,IAAI,IAAIA,EAAgB,EACrC,eAAgB,IAChB,mBAAoB,CAAC,EACrB,aAAcE,GAAiB,KAC/B,eAAgB,CAAC,EACjB,eAAgB,CAAC,IAAI,EACrB,QAAS,GACT,kBAAmB,GACnB,QAAS,EACT,oBAAqB,IACrB,mBAAoB,IACpB,kBAAmB,CAAC,EACpB,kBAAmB,IACnB,qBAAsB,KACtB,kBAAmB,EACnB,YAAa,CAAC,EACd,UAAW,GACX,oBAAqB,GACrB,iBAAkB,EACpB,EAAGK,EAAuB,CAC5B,EACIA,GAA0B,CAC5B,oBAAqB,EACvB,EAQIC,IAA6B,UAAY,CAmB3C,SAASA,EAAcC,EAAeC,EAAoBC,EAAQC,EAAI,CAChEA,IAAO,SACTA,EAAK,CAAC,GAER,IAAIC,EAAyBD,EAAG,iBAC9BE,EAAgBvB,GAAOqB,EAAI,CAAC,kBAAkB,CAAC,EACjD,KAAK,SAAW,IAAIG,GAChB,OAAOJ,EAAW,MAGpBA,EAAS,aAEX,IAAIN,EAAmBpB,GAASA,GAAS,CAAC,EAAGkB,GAAwB,CAAC,EAAGU,CAAsB,EAC/F,KAAK,OAAS5B,GAASA,GAASA,GAAS,CACvC,cAAe,KACjB,EAAGmB,GAAcC,CAAgB,CAAC,EAAGS,CAAa,EAAGP,EAAuB,EAC5E,KAAK,OAAO,SAAW,KAAK,qBAAqBI,EAAQG,CAAa,EAMtE,KAAK,OAAO,YAAc,IAAI,IAAI,KAAK,OAAO,QAAQ,EACtD,KAAK,WAAa,KAAK,eAAeL,EAAeC,CAAkB,EACvE,KAAK,gBAAkB,KAAK,aAAaC,EAAQF,CAAa,EAC9D,KAAK,cAAgB,KAAK,kBAAkBA,EAAeC,CAAkB,EACzE,KAAK,OAAO,gBACd,KAAK,OAAO,EAEZ,KAAK,QAAQ,CAEjB,CAOA,OAAAF,EAAc,UAAU,kBAAoB,SAAUQ,EAAa,CACjE,KAAK,gBAAgB,kBAAkBA,CAAW,CACpD,EAMAR,EAAc,UAAU,qBAAuB,SAAUS,EAAmB,CAC1E,KAAK,WAAW,qBAAqBA,CAAiB,CACxD,EAMAT,EAAc,UAAU,UAAY,SAAUU,EAAQ,CACpD,KAAK,cAAc,UAAUA,CAAM,CACrC,EAIAV,EAAc,UAAU,SAAW,UAAY,CAC7C,KAAK,gBAAgB,cAAc,CACrC,EAIAA,EAAc,UAAU,eAAiB,UAAY,CACnD,KAAK,gBAAgB,eAAe,CACtC,EAIAA,EAAc,UAAU,OAAS,UAAY,CAC3C,KAAK,WAAW,OAAO,EACvB,KAAK,cAAc,OAAO,EAC1B,KAAK,gBAAgB,OAAO,CAC9B,EAIAA,EAAc,UAAU,QAAU,UAAY,CAC5C,KAAK,gBAAgB,QAAQ,EAC7B,KAAK,cAAc,QAAQ,EAC3B,KAAK,WAAW,QAAQ,CAC1B,EAIAA,EAAc,UAAU,aAAe,SAAUW,EAAO,CACtD,KAAK,OAAO,aAAeA,CAC7B,EAQAX,EAAc,UAAU,eAAiB,SAAUY,EAAS,CAC1D,KAAK,WAAW,eAAeA,CAAO,CACxC,EAMAZ,EAAc,UAAU,YAAc,SAAUa,EAAO,CACrD,KAAK,cAAc,OAAOC,GAA0BD,CAAK,CAC3D,EAMAb,EAAc,UAAU,kBAAoB,SAAUe,EAAQ,CAC5D,KAAK,cAAc,aAAaC,GAAqBD,CAAM,CAC7D,EAOAf,EAAc,UAAU,YAAc,SAAUiB,EAAWC,EAAW,CACpE,KAAK,WAAW,YAAYD,EAAWC,CAAS,CAClD,EACAlB,EAAc,UAAU,eAAiB,SAAUC,EAAeC,EAAoB,CACpF,OAAO,IAAIiB,GAAW,CACpB,GAAIlB,EACJ,QAASC,CACX,EAAG,KAAK,OAAQ,KAAK,QAAQ,CAC/B,EACAF,EAAc,UAAU,aAAe,SAAUG,EAAQF,EAAe,CACtE,IAAImB,EAAW,IAAIC,GAASlB,EAAQ,KAAK,OAAO,YAAa,KAAK,WAAY,KAAK,MAAM,EAIzF,OAAK,KAAK,WAAW,iBAAiB,IAGlC,KAAK,OAAO,gBAAkB,KAAK,OAAO,aAC5CiB,EAAS,kBAAkB,IAAIE,GAAoB,KAAK,OAAQrB,CAAa,EAAE,iCAAiC,EACvG,KAAK,OAAO,gBACrBmB,EAAS,kBAAkB,IAAIG,GAAuB,KAAK,OAAQtB,CAAa,EAAE,iCAAiC,GAE9GmB,CACT,EACApB,EAAc,UAAU,kBAAoB,SAAUC,EAAeC,EAAoB,CACvF,IAAIsB,EAAkB,KAAK,wBAAwB,EAC/CC,EAAUxC,GAAcA,GAAc,CAAC,EAAGuC,EAAiB,EAAI,EAAG,KAAK,OAAO,mBAAoB,EAAI,EACtGE,EAAgB,CAClB,cAAezB,EACf,mBAAoBC,EACpB,OAAQ,KAAK,OACb,OAAQ,KAAK,WAAW,YACxB,gBAAiB,KAAK,WAAW,gBACjC,eAAgB,KAAK,WAAW,eAChC,WAAY,KAAK,WAAW,WAC5B,SAAU,KAAK,QACjB,EAEIyB,EAAgB,IAAIC,GAAcF,CAAa,EAEnD,OAAK,KAAK,OAAO,qBACfC,EAAc,UAAU,IAAIE,EAAgB,EAG9CJ,EAAQ,QAAQ,SAAU3C,EAAG,CAC3B6C,EAAc,UAAU7C,CAAC,CAC3B,CAAC,EACM6C,CACT,EACA3B,EAAc,UAAU,wBAA0B,UAAY,CAC5D,IAAI8B,EAAU,CAAC,EACXC,EAAU,KAAK,iBAAiB,EACpC,YAAK,OAAO,YAAY,QAAQ,SAAUC,EAAM,CAC1C,OAAOA,GAAS,UAAYD,EAAQC,EAAK,YAAY,CAAC,EACxDF,EAAU7C,GAAcA,GAAc,CAAC,EAAG6C,EAAS,EAAI,EAAGC,EAAQC,EAAK,YAAY,CAAC,EAAE,CAAC,CAAC,EAAG,EAAI,EACtF,MAAM,QAAQA,CAAI,GAAKD,EAAQC,EAAK,CAAC,EAAE,YAAY,CAAC,IAC7DF,EAAU7C,GAAcA,GAAc,CAAC,EAAG6C,EAAS,EAAI,EAAGC,EAAQC,EAAK,CAAC,EAAE,YAAY,CAAC,EAAEA,EAAK,CAAC,CAAC,EAAG,EAAI,EAE3G,CAAC,EACMF,CACT,EACA9B,EAAc,UAAU,qBAAuB,SAAUG,EAAQG,EAAe,CAC9E,OAAOA,EAAc,SAAWA,EAAc,SAAWd,GAAiB,QAAQD,GAAgBY,CAAM,CAC1G,EAKAH,EAAc,UAAU,iBAAmB,UAAY,CACrD,IAAII,EACJ,OAAOA,EAAK,CAAC,EAAGA,EAAGX,GAAc,MAAM,EAAI,SAAUwC,EAAQ,CAC3D,MAAO,CAAC,IAAIC,GAAcD,CAAM,CAAC,CACnC,EAAG7B,EAAGX,GAAc,WAAW,EAAI,SAAUwC,EAAQ,CACnD,MAAO,CAAC,IAAIE,GAAiBF,CAAM,EAAG,IAAIG,GAAeH,CAAM,EAAG,IAAII,GAAgBJ,CAAM,CAAC,CAC/F,EAAG7B,EAAGX,GAAc,WAAW,EAAI,SAAUwC,EAAQ,CACnD,MAAO,CAAC,IAAIK,GAAeL,CAAM,CAAC,CACpC,EAAG7B,EAAGX,GAAc,IAAI,EAAI,SAAUwC,EAAQ,CAC5C,MAAO,CAAC,IAAIM,GAAUN,CAAM,EAAG,IAAIO,GAAYP,CAAM,CAAC,CACxD,EAAG7B,CACL,EACOJ,CACT,GAAE,EC3UF,IAKEyC,GAAI,GACJC,GAAI,SAAUC,EAAG,CACf,iBAAiB,WAAY,SAAUC,EAAG,CACxCA,EAAE,YAAcH,GAAIG,EAAE,UAAWD,EAAEC,CAAC,EACtC,EAAG,EAAE,CACP,EACAC,GAAI,UAAY,CACd,IAAIF,EAAI,KAAK,aAAe,YAAY,kBAAoB,YAAY,iBAAiB,YAAY,EAAE,CAAC,EACxG,GAAIA,GAAKA,EAAE,cAAgB,GAAKA,EAAE,cAAgB,YAAY,IAAI,EAAG,OAAOA,CAC9E,EACAG,GAAI,UAAY,CACd,IAAIH,EAAIE,GAAE,EACV,OAAOF,GAAKA,EAAE,iBAAmB,CACnC,EACAI,GAAI,SAAUJ,EAAGC,EAAG,CAClB,IAAII,EAAIH,GAAE,EACR,EAAI,WACN,OAAAJ,IAAK,EAAI,EAAI,qBAAuBO,IAAM,SAAS,cAAgBF,GAAE,EAAI,EAAI,EAAI,YAAc,SAAS,aAAe,EAAI,UAAYE,EAAE,OAAS,EAAIA,EAAE,KAAK,QAAQ,KAAM,GAAG,IACvK,CACL,KAAML,EACN,MAAkBC,IAAX,OAAe,GAAKA,EAC3B,OAAQ,OACR,MAAO,EACP,QAAS,CAAC,EACV,GAAI,MAAM,OAAO,KAAK,IAAI,EAAG,GAAG,EAAE,OAAO,KAAK,MAAM,cAAgB,KAAK,OAAO,CAAC,EAAI,IAAI,EACzF,eAAgB,CAClB,CACF,EACAK,GAAI,SAAUN,EAAGC,EAAGI,EAAG,CACrB,GAAI,CACF,GAAI,oBAAoB,oBAAoB,SAASL,CAAC,EAAG,CACvD,IAAI,EAAI,IAAI,oBAAoB,SAAUA,EAAG,CAC3C,QAAQ,QAAQ,EAAE,KAAK,UAAY,CACjCC,EAAED,EAAE,WAAW,CAAC,CAClB,CAAC,CACH,CAAC,EACD,OAAO,EAAE,QAAQ,OAAO,OAAO,CAC7B,KAAMA,EACN,SAAU,EACZ,EAAGK,GAAK,CAAC,CAAC,CAAC,EAAG,CAChB,CACF,MAAY,CAAC,CACf,EACAE,GAAI,SAAUP,EAAGC,EAAGI,EAAG,EAAG,CACxB,IAAIG,EAAG,EACP,OAAO,SAAU,EAAG,CAClBP,EAAE,OAAS,IAAM,GAAK,MAAQ,EAAIA,EAAE,OAASO,GAAK,KAAkBA,IAAX,UAAkBA,EAAIP,EAAE,MAAOA,EAAE,MAAQ,EAAGA,EAAE,QAAS,SAAUD,EAAGC,EAAG,CAC9H,OAAOD,EAAIC,EAAE,CAAC,EAAI,OAASD,EAAIC,EAAE,CAAC,EAAI,oBAAsB,MAC9D,GAAEA,EAAE,MAAOI,CAAC,EAAGL,EAAEC,CAAC,EACpB,CACF,EACAQ,GAAI,SAAUT,EAAG,CACf,sBAAsB,UAAY,CAChC,OAAO,sBAAsB,UAAY,CACvC,OAAOA,EAAE,CACX,CAAC,CACH,CAAC,CACH,EACAU,GAAI,SAAUV,EAAG,CACf,SAAS,iBAAiB,mBAAoB,UAAY,CAC3C,SAAS,kBAAtB,UAAyCA,EAAE,CAC7C,CAAC,CACH,EACAW,GAAI,SAAUX,EAAG,CACf,IAAIC,EAAI,GACR,OAAO,UAAY,CACjBA,IAAMD,EAAE,EAAGC,EAAI,GACjB,CACF,EACAW,GAAI,GACJC,GAAI,UAAY,CACd,OAAoB,SAAS,kBAAtB,UAAyC,SAAS,aAAe,IAAQ,CAClF,EACAC,GAAI,SAAUd,EAAG,CACF,SAAS,kBAAtB,UAAyCY,GAAI,KAAOA,GAA2BZ,EAAE,OAAzB,mBAAgCA,EAAE,UAAY,EAAGe,GAAE,EAC7G,EACAC,GAAI,UAAY,CACd,iBAAiB,mBAAoBF,GAAG,EAAE,EAAG,iBAAiB,qBAAsBA,GAAG,EAAE,CAC3F,EACAC,GAAI,UAAY,CACd,oBAAoB,mBAAoBD,GAAG,EAAE,EAAG,oBAAoB,qBAAsBA,GAAG,EAAE,CACjG,EACAG,GAAI,UAAY,CACd,OAAOL,GAAI,IAAMA,GAAIC,GAAE,EAAGG,GAAE,EAAGjB,GAAE,UAAY,CAC3C,WAAW,UAAY,CACrBa,GAAIC,GAAE,EAAGG,GAAE,CACb,EAAG,CAAC,CACN,CAAC,GAAI,CACH,IAAI,iBAAkB,CACpB,OAAOJ,EACT,CACF,CACF,EACAM,GAAI,SAAUlB,EAAG,CACf,SAAS,aAAe,iBAAiB,qBAAsB,UAAY,CACzE,OAAOA,EAAE,CACX,EAAG,EAAE,EAAIA,EAAE,CACb,EACAmB,GAAI,CAAC,KAAM,GAAG,EACdC,GAAI,SAAUpB,EAAGC,EAAG,CAClBA,EAAIA,GAAK,CAAC,EAAGiB,GAAE,UAAY,CACzB,IAAIb,EACF,EAAIY,GAAE,EACNT,EAAIJ,GAAE,KAAK,EACX,EAAIE,GAAE,QAAS,SAAUN,EAAG,CAC1BA,EAAE,QAAQ,SAAUA,EAAG,CACQA,EAAE,OAA/B,2BAAwC,EAAE,WAAW,EAAGA,EAAE,UAAY,EAAE,kBAAoBQ,EAAE,MAAQ,KAAK,IAAIR,EAAE,UAAYG,GAAE,EAAG,CAAC,EAAGK,EAAE,QAAQ,KAAKR,CAAC,EAAGK,EAAE,EAAE,GAC/J,CAAC,CACH,CAAC,EACH,IAAMA,EAAIE,GAAEP,EAAGQ,EAAGW,GAAGlB,EAAE,gBAAgB,EAAGF,GAAE,SAAUsB,EAAG,CACvDb,EAAIJ,GAAE,KAAK,EAAGC,EAAIE,GAAEP,EAAGQ,EAAGW,GAAGlB,EAAE,gBAAgB,EAAGQ,GAAE,UAAY,CAC9DD,EAAE,MAAQ,YAAY,IAAI,EAAIa,EAAE,UAAWhB,EAAE,EAAE,CACjD,CAAC,CACH,CAAC,EACH,CAAC,CACH,EAxHF,IAoMEiB,GAAI,SAAUC,EAAG,CACf,IAAIC,EAAI,KAAK,qBAAuB,KAAK,WACvCC,EAAI,GACN,OAAOF,EAAIG,GAAEH,CAAC,EAAgB,SAAS,kBAAtB,SAAwCA,EAAE,GAAKE,EAAID,EAAED,CAAC,EAAGI,GAAEJ,CAAC,GAAIE,CACnF,EAxMF,IAoOEG,GAAI,CAAC,KAAM,GAAG,EACdC,GAAI,CAAC,EACLC,GAAI,SAAUC,EAAGC,EAAG,CAClBA,EAAIA,GAAK,CAAC,EAAGC,GAAE,UAAY,CACzB,IAAIC,EACF,EAAIC,GAAE,EACNC,EAAIC,GAAE,KAAK,EACX,EAAI,SAAUN,EAAG,CACfC,EAAE,mBAAqBD,EAAIA,EAAE,MAAM,EAAE,GAAIA,EAAE,QAAQ,SAAUA,EAAG,CAC9DA,EAAE,UAAY,EAAE,kBAAoBK,EAAE,MAAQ,KAAK,IAAIL,EAAE,UAAYO,GAAE,EAAG,CAAC,EAAGF,EAAE,QAAU,CAACL,CAAC,EAAGG,EAAE,EACnG,CAAC,CACH,EACAK,EAAIC,GAAE,2BAA4B,CAAC,EACrC,GAAID,EAAG,CACLL,EAAIO,GAAEV,EAAGK,EAAGR,GAAGI,EAAE,gBAAgB,EACjC,IAAIU,EAAIC,GAAE,UAAY,CACpBd,GAAEO,EAAE,EAAE,IAAM,EAAEG,EAAE,YAAY,CAAC,EAAGA,EAAE,WAAW,EAAGV,GAAEO,EAAE,EAAE,EAAI,GAAIF,EAAE,EAAE,EACpE,CAAC,EACD,CAAC,UAAW,OAAO,EAAE,QAAQ,SAAUH,EAAG,CACxC,iBAAiBA,EAAG,UAAY,CAC9B,OAAOa,GAAEF,CAAC,CACZ,EAAG,CACD,KAAM,GACN,QAAS,EACX,CAAC,CACH,CAAC,EAAGG,GAAEH,CAAC,EAAGI,GAAE,SAAUC,EAAG,CACvBX,EAAIC,GAAE,KAAK,EAAGH,EAAIO,GAAEV,EAAGK,EAAGR,GAAGI,EAAE,gBAAgB,EAAGgB,GAAE,UAAY,CAC9DZ,EAAE,MAAQ,YAAY,IAAI,EAAIW,EAAE,UAAWlB,GAAEO,EAAE,EAAE,EAAI,GAAIF,EAAE,EAAE,CAC/D,CAAC,CACH,CAAC,CACH,CACF,CAAC,CACH,EClQF,IAAIe,GAAa,aACbC,GAAM,MACNC,GAAM,MAENC,IAAmC,UAAY,CACjD,SAASA,EAAoBC,EAAa,CACxC,IAAIC,EAAQ,KACZ,KAAK,uBAAyB,EAC9B,KAAK,cAAgB,EACrB,KAAK,aAAe,GACpB,KAAK,aAAe,GACpB,KAAK,2BAA6B,GAClC,KAAK,aAAe,IACpB,KAAK,+BAAiC,IACtC,KAAK,2BAA6B,UAAY,CAC5C,IAAIC,EAAkBD,EAAM,cAAgBA,EAAM,aAAeA,EAAM,+BACnEA,EAAM,2BAA2BC,CAAe,GAClDD,EAAM,uBAAyB,KAAK,IAAIA,EAAM,QAAUA,EAAM,QAAU,EAAGA,EAAM,QAAUA,EAAM,QAAU,EAAGA,EAAM,yBAA2BA,EAAM,yBAA2B,CAAC,EACjL,cAAcA,EAAM,mBAAmB,EACvCA,EAAM,2BAA6B,GACnCA,EAAM,kBAAkB,eAAeA,EAAM,sBAAsB,GAG/DC,IACFD,EAAM,2BAA6B,GACnCA,EAAM,kBAAkB,yBAAyB,GAGrDA,EAAM,eAAiB,CACzB,EACA,KAAK,iBAAmB,UAAY,CAClC,IAAIE,EAAgB,IAAI,oBAAoB,SAAUC,EAAM,CACtDH,EAAM,4BACRE,EAAc,WAAW,EAE3BC,EAAK,WAAW,EAAE,OAAO,SAAUC,EAAG,CACpC,OAAOA,EAAE,YAAcT,EACzB,CAAC,EAAE,IAAI,SAAUS,EAAG,CAClB,OAAOA,CACT,CAAC,EAAE,QAAQ,SAAUC,EAAO,CACtBA,EAAM,2BACRL,EAAM,yBAA2BK,EAAM,yBAE3C,CAAC,CACH,CAAC,EACDH,EAAc,QAAQ,CACpB,KAAMP,GACN,SAAU,EACZ,CAAC,CACH,EACA,KAAK,cAAc,EACnB,KAAK,kBAAoBI,EACzB,KAAK,oBAAsB,KAAK,yBAAyB,CAC3D,CACA,OAAAD,EAAoB,UAAU,yBAA2B,UAAY,CACnE,OAAO,YAAY,KAAK,2BAA4B,KAAK,YAAY,CACvE,EACAA,EAAoB,UAAU,2BAA6B,SAAUG,EAAiB,CAOpF,IAAIK,EAAuB,KAAK,UAAY,QAAa,KAAK,UAAY,QAAa,KAAK,2BAA6B,OACrHC,EAAsB,KAAK,cAAgB,KAAK,UAAY,QAAa,KAAK,cAAgB,KAAK,UAAY,QAAa,KAAK,2BAA6B,OAClK,OAAID,EACK,GACE,GAAAL,GAAmBM,EAKhC,EACAT,EAAoB,UAAU,gBAAkB,SAAUU,EAAQ,CAChE,IAAIR,EAAQ,KACRQ,EAAO,OAASZ,IAClBY,EAAO,QAAQ,QAAQ,SAAUC,EAAO,CACtC,OAAOT,EAAM,QAAUS,EAAM,UAAYA,EAAM,QACjD,CAAC,EAECD,EAAO,OAASX,IAClBW,EAAO,QAAQ,QAAQ,SAAUC,EAAO,CACtC,OAAOT,EAAM,QAAUS,EAAM,UAAYA,EAAM,QACjD,CAAC,CAEL,EACAX,EAAoB,UAAU,cAAgB,UAAY,CACxD,IAAIE,EAAQ,KACZ,KAAK,iBAAiB,EAEtB,KAAK,aAAeU,GAAe,EACnC,KAAK,aAAeC,GAAe,EAE/B,KAAK,eACP,KAAK,QAAU,OACfC,GAAM,SAAUJ,EAAQ,CACtB,OAAOR,EAAM,gBAAgBQ,CAAM,CACrC,CAAC,GAEC,KAAK,eACP,KAAK,QAAU,OACfK,GAAM,SAAUL,EAAQ,CACtB,OAAOR,EAAM,gBAAgBQ,CAAM,CACrC,CAAC,EAEL,EACOV,CACT,GAAE,EC7GF,IAAIgB,EAAY,WACZC,GAAM,MACNC,GAAa,aACbC,IAAiC,UAAY,CAC/C,SAASA,EAAkBC,EAAYC,EAAU,CAC/C,IAAIC,EAAQ,KACZ,KAAK,WAAa,CAAC,EACnB,KAAK,YAAc,GACnB,KAAK,YAAc,EACnB,KAAK,WAAa,EAClB,KAAK,kBAAoB,EACzB,KAAK,eAAiB,EACtB,KAAK,uBAAyB,EAC9B,KAAK,WAAa,GAClB,KAAK,kBAAoB,IACzB,KAAK,4BAA8B,EACnC,KAAK,aAAe,IACpB,KAAK,oBAAsB,IAC3B,KAAK,cAAgB,IAAM,IAAO,KAAK,mBACvC,KAAK,oBAAsB,EAE3B,KAAK,mBAAqB,UAAY,CACpC,IAAIC,EAAgBD,EAAM,eAAiBA,EAAM,aAAeA,EAAM,oBAClEC,IAEFD,EAAM,YAAc,GACpBA,EAAM,WAAa,CAAC,EACpB,cAAcA,EAAM,WAAW,GAGjC,QADIE,EAAYF,EAAM,kBAAkB,EAC/BG,EAASH,EAAM,WAAYG,GAAUD,EAAWC,IAAU,CACjEH,EAAM,WAAaG,EACnB,IAAIC,EAA2B,GAU/B,GARIJ,EAAM,2BAA2BN,EAAWS,CAAM,IACpDC,EAA2B,IAGzBJ,EAAM,YAAcA,EAAM,2BAA2BL,GAAKQ,CAAM,IAClEC,EAA2B,IAGzB,CAACA,EAA0B,CAC7BJ,EAAM,kBAAoB,EAC1B,QACF,CAGA,GADAA,EAAM,mBAAqB,EACvBA,EAAM,cAAcA,EAAM,iBAAiB,EAAG,CAChDA,EAAM,YAAc,GACpB,cAAcA,EAAM,WAAW,EAC/BA,EAAM,SAAS,CACb,KAAM,MACN,MAAOA,EAAM,gBAAgB,CAC/B,CAAC,EACD,KACF,KAEE,SAEJ,CACAA,EAAM,gBAAkB,CAC1B,EACA,KAAK,sBAAwB,UAAY,CACvC,IAAIK,EAAgB,IAAI,oBAAoB,SAAUC,EAAM,CAEtDN,EAAM,aACRK,EAAc,WAAW,EAE3BC,EAAK,WAAW,EAAE,OAAO,SAAUC,EAAG,CACpC,OAAOA,EAAE,YAAcb,CACzB,CAAC,EAAE,QAAQ,SAAUc,EAAO,CAE1B,GAAIA,EAAM,WAAaA,EAAM,SAAU,CACrC,IAAIC,EAAUD,EAAM,UAAYA,EAAM,SACtCR,EAAM,aAAaN,EAAWM,EAAM,kBAAkBQ,EAAM,SAAS,EAAG,CAAC,EACzER,EAAM,aAAaN,EAAWM,EAAM,kBAAkBS,CAAO,EAAG,CAAC,CACnE,CACF,CAAC,CACH,CAAC,EACDJ,EAAc,QAAQ,CACpB,KAAMX,CACR,CAAC,CACH,EACA,KAAK,wBAA0B,UAAY,CAKzC,IAAIgB,EAAc,UAAY,CAE5BV,EAAM,aAAaL,GAAKK,EAAM,kBAAkB,EAAG,CAAC,EACpD,OAAO,sBAAsBU,CAAW,CAC1C,EACKV,EAAM,aACT,OAAO,sBAAsBU,CAAW,CAE5C,EACA,KAAK,WAAaZ,EAClB,KAAK,cAAc,EACnB,KAAK,SAAWC,CAClB,CAEA,OAAAF,EAAkB,UAAU,eAAiB,SAAUc,EAAwB,CAC7E,KAAK,YAAc,KAAK,IAAI,KAAK,kBAAkBA,CAAsB,EAAG,CAAC,EAC7E,KAAK,WAAa,KAAK,YACvB,KAAK,kBAAoB,EACzB,KAAK,eAAiB,EACtB,KAAK,uBAAyBA,EAC9B,KAAK,YAAc,YAAY,KAAK,mBAAoB,KAAK,YAAY,CAC3E,EACAd,EAAkB,UAAU,cAAgB,SAAUe,EAAmB,CACvE,OAAIA,GAAqB,KAAK,2BAKhC,EACAf,EAAkB,UAAU,gBAAkB,UAAY,CAKxD,IAAIgB,GAAsC,KAAK,WAAa,KAAK,4BAA8B,KAAK,YAAc,GAAK,KAAK,kBAE5H,YAAK,WAAa,CAAC,EACZ,KAAK,qBAAqB,KAAK,uBAAyBA,CAAkC,CACnG,EACAhB,EAAkB,UAAU,qBAAuB,SAAUiB,EAAK,CAChE,IAAIC,EAAkB,KAAK,mBAAmB,EAC9C,GAAIA,IAAoB,OACtB,OAAOD,EAEP,IAAIE,EAAS,KAAK,MAAMF,CAAG,EAAIC,EAE/B,OAAOC,GAAU,EAAI,KAAK,IAAI,EAAGA,CAAM,EAAIF,CAE/C,EACAjB,EAAkB,UAAU,mBAAqB,UAAY,CAC3D,GAAI,KAAK,oBAAsB,OAE7B,OAAO,KAAK,kBAEd,GAAI,OAAO,SAAS,cAAiB,UACnC,OAAO,KAAK,kBAEd,GAAI,OAAO,YAAa,CACtB,IAAIoB,EAAW,OAAO,YAAY,iBAAiBrB,EAAU,EAAE,CAAC,EAC5DqB,GAAYA,EAAS,kBACvB,KAAK,kBAAoB,KAAK,MAAMA,EAAS,eAAe,EAEhE,CACA,OAAO,KAAK,iBACd,EACApB,EAAkB,UAAU,2BAA6B,SAAUqB,EAAcC,EAAgB,CAI/F,GAAID,IAAiBxB,EAEnB,OAAO,KAAK,WAAWA,CAAS,IAAM,QAAa,KAAK,WAAWA,CAAS,EAAEyB,CAAc,IAAM,QAAa,KAAK,WAAWzB,CAAS,EAAEyB,CAAc,EAAI,KAAK,oBAEnK,GAAID,IAAiBvB,GACnB,OAAO,KAAK,YAAc,KAAK,WAAWA,EAAG,IAAM,QAAa,KAAK,WAAWA,EAAG,EAAEwB,CAAc,IAAM,QAAa,KAAK,WAAWxB,EAAG,EAAEwB,CAAc,EAAI,KAAK,aAEtK,EACAtB,EAAkB,UAAU,cAAgB,UAAY,CAEtD,KAAK,sBAAsB,EAEvB,KAAK,YAAc,OAAO,wBAA0B,QACtD,KAAK,wBAAwB,CAEjC,EACAA,EAAkB,UAAU,kBAAoB,SAAUuB,EAAU,CAClE,OACS,KAAK,MADVA,IAAa,OACG,YAAY,IAAI,EAAI,KAAK,kBAEzBA,EAAW,KAAK,iBAF0B,CAIhE,EACAvB,EAAkB,UAAU,aAAe,SAAUwB,EAAMlB,EAAQmB,EAAO,CACnE,KAAK,WAAWD,CAAI,IACvB,KAAK,WAAWA,CAAI,EAAI,CAAC,GAEtB,KAAK,WAAWA,CAAI,EAAElB,CAAM,IAC/B,KAAK,WAAWkB,CAAI,EAAElB,CAAM,EAAI,GAElC,KAAK,WAAWkB,CAAI,EAAElB,CAAM,GAAKmB,CACnC,EACAzB,EAAkB,UAAU,yBAA2B,UAAY,CACjE,KAAK,YAAc,GACnB,KAAK,WAAa,CAAC,CACrB,EACOA,CACT,GAAE,EChMK,SAAS0B,GAAMC,EAAUC,EAAM,CAChCC,GAAoB,GACtB,IAAIC,GAAkBH,EAAUC,CAAI,CAExC,CAmBA,IAAIE,IAAiC,UAAY,CAC/C,SAASA,EAAkBH,EAAUC,EAAM,CACzC,KAAK,SAAWD,EAEhB,KAAK,kBAAoB,IAAII,GAAkBH,EAAK,WAAY,KAAK,QAAQ,EAC7E,KAAK,oBAAsB,IAAII,GAAoB,KAAK,iBAAiB,CAC3E,CACA,OAAOF,CACT,GAAE,ECnCF,IAAIG,IAAsC,UAAY,CACpD,IAAIC,EAAgB,SAAUC,EAAGC,EAAG,CAClC,OAAAF,EAAgB,OAAO,gBAAkB,CACvC,UAAW,CAAC,CACd,YAAa,OAAS,SAAUC,EAAGC,EAAG,CACpCD,EAAE,UAAYC,CAChB,GAAK,SAAUD,EAAGC,EAAG,CACnB,QAASC,KAAKD,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGC,CAAC,IAAGF,EAAEE,CAAC,EAAID,EAAEC,CAAC,EAC7E,EACOH,EAAcC,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,EAAG,CACrB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KAAM,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EACnIF,EAAcC,EAAGC,CAAC,EAClB,SAASE,GAAK,CACZ,KAAK,YAAcH,CACrB,CACAA,EAAE,UAAYC,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKE,EAAG,UAAYF,EAAE,UAAW,IAAIE,EACjF,CACF,GAAE,EAISC,GAAsB,sBAC7BC,IAAyB,SAAUC,EAAQ,CAC7CR,GAAUO,EAAWC,CAAM,EAC3B,SAASD,EAAUE,EAAuB,CACpCA,IAA0B,SAC5BA,EAAwB,IAE1B,IAAIC,EAAQF,EAAO,KAAK,KAAMF,EAAmB,GAAK,KACtD,OAAAI,EAAM,eAAiB,UAAY,CACjCC,GAAMD,EAAM,UAAW,CACrB,WAAYA,EAAM,UACpB,CAAC,CACH,EACAA,EAAM,0BAA4B,UAAY,CAQ5C,GAPI,OAAO,SAAa,KAAe,OAAO,SAAS,cAAiB,WAAa,SAAS,eAC5FA,EAAM,eAAiB,GACvB,SAAS,iBAAiB,qBAAsB,UAAY,CAC1DA,EAAM,oBAAsB,GAC5BA,EAAM,eAAe,CACvB,CAAC,GAEC,OAAO,YAAgB,KAAe,OAAO,YAAY,kBAAqB,WAChF,GAAI,CACF,IAAIE,EAAU,YAAY,iBAAiB,YAAY,EACvD,GAAIA,GAAWA,EAAQ,OAAS,EAAG,CACjC,IAAIC,EAAaD,EAAQ,CAAC,EACtBC,GAAcA,EAAW,iBAAmBA,EAAW,gBAAkB,IAC3EH,EAAM,oBAAsB,GAC5BA,EAAM,eAAiB,GAE3B,CACF,OAASI,EAAG,CACV,QAAQ,MAAM,mCAAoCA,CAAC,CACrD,CAEJ,EACAJ,EAAM,UAAY,SAAUK,EAAQ,CAClC,IAAIC,EAAW,CACb,QAAS,QACT,MAAO,KAAK,MAAMD,EAAO,KAAK,CAChC,EACAL,EAAM,QAAQ,OAAOO,GAAgCD,CAAQ,CAC/D,EACAN,EAAM,WAAaD,EACnBC,EAAM,oBAAsB,GAC5BA,EAAM,eAAiB,GACvBA,EAAM,0BAA0B,EACzBA,CACT,CACA,OAAAH,EAAU,UAAU,OAAS,UAAY,CAEzC,EACAA,EAAU,UAAU,QAAU,UAAY,CAE1C,EACAA,EAAU,UAAU,UAAY,UAAY,CAE5C,EACAA,EAAU,UAAU,OAAS,UAAY,EACnC,KAAK,gBAAkB,KAAK,sBAC9B,KAAK,eAAe,CAExB,EACOA,CACT,GAAEW,CAAc",
  "names": ["require_ua_parser", "__commonJSMin", "exports", "module", "window", "undefined", "LIBVERSION", "EMPTY", "UNKNOWN", "FUNC_TYPE", "UNDEF_TYPE", "OBJ_TYPE", "STR_TYPE", "MAJOR", "MODEL", "NAME", "TYPE", "VENDOR", "VERSION", "ARCHITECTURE", "CONSOLE", "MOBILE", "TABLET", "SMARTTV", "WEARABLE", "EMBEDDED", "UA_MAX_LENGTH", "AMAZON", "APPLE", "ASUS", "BLACKBERRY", "BROWSER", "CHROME", "EDGE", "FIREFOX", "GOOGLE", "HONOR", "HUAWEI", "LENOVO", "LG", "MICROSOFT", "MOTOROLA", "NVIDIA", "ONEPLUS", "OPERA", "OPPO", "SAMSUNG", "SHARP", "SONY", "XIAOMI", "ZEBRA", "FACEBOOK", "CHROMIUM_OS", "MAC_OS", "SUFFIX_BROWSER", "extend", "regexes", "extensions", "mergedRegexes", "i", "enumerize", "arr", "enums", "has", "str1", "str2", "lowerize", "str", "majorize", "version", "trim", "len", "rgxMapper", "ua", "arrays", "j", "k", "p", "q", "matches", "match", "regex", "props", "strMapper", "map", "oldSafariMap", "windowsVersionMap", "UAParser", "_navigator", "_ua", "_uach", "_rgxmap", "_isSelfNav", "_browser", "_cpu", "_device", "_engine", "_os", "$", "parser", "result", "prop", "require_shimmer", "__commonJSMin", "exports", "module", "isFunction", "funktion", "logger", "defineProperty", "obj", "name", "value", "enumerable", "shimmer", "options", "wrap", "nodule", "wrapper", "original", "wrapped", "massWrap", "nodules", "names", "unwrap", "massUnwrap", "require_constants", "__commonJSMin", "exports", "require_RawSha256", "__commonJSMin", "exports", "constants_1", "RawSha256", "data", "position", "byteLength", "bitsHashed", "bufferView", "undecoratedLength", "i", "out", "_a", "buffer", "state", "state0", "state1", "state2", "state3", "state4", "state5", "state6", "state7", "u", "t1_1", "t2_1", "t1", "t2", "require_jsSha256", "__commonJSMin", "exports", "tslib_1", "constants_1", "RawSha256_1", "util_1", "Sha256", "secret", "toHash", "_a", "inner", "bufferFromSecret", "outer", "i", "input", "bufferHash", "buffer", "require_build", "__commonJSMin", "exports", "tslib_1", "HttpRequest", "_HttpRequest", "options", "request", "cloned", "__spreadProps", "__spreadValues", "cloneQuery", "req", "query", "carry", "paramName", "param", "HttpResponse", "options", "response", "resp", "escapeUri", "uri", "hexEncode", "c", "buildQueryString", "query", "parts", "key", "value", "escapeUri", "i", "iLen", "qsEntry", "createRequest", "url", "requestOptions", "requestTimeout", "timeoutInMs", "resolve", "reject", "timeoutError", "keepAliveSupport", "FetchHttpHandler", "_FetchHttpHandler", "instanceOrOptions", "options", "opts", "createRequest", "_0", "__async", "request", "abortSignal", "requestTimeoutInMs", "keepAlive", "credentials", "abortError", "path", "queryString", "buildQueryString", "auth", "username", "password", "port", "method", "url", "body", "requestOptions", "removeSignalEventListener", "fetchRequest", "raceOfPromises", "response", "fetchHeaders", "transformedHeaders", "pair", "HttpResponse", "requestTimeout", "resolve", "reject", "onAbort", "signal", "key", "value", "config", "alphabetByEncoding", "alphabetByValue", "start", "limit", "char", "index", "fromUtf8", "input", "toUint8Array", "data", "fromUtf8", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "responseToJson", "response", "_a", "responseToString", "__assign", "t", "s", "i", "n", "p", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "f", "y", "g", "verb", "v", "op", "METHOD", "CONTENT_TYPE", "PROTOCOL", "ACTION", "VERSION", "StsClient", "config", "_this", "request", "requestObject", "encodedBody", "STSRequest", "response", "xmlResponse", "e_1", "_a", "HttpRequest", "responseToString", "CRED_KEY", "IDENTITY_KEY", "SESSION_COOKIE_NAME", "USER_COOKIE_NAME", "CRED_RENEW_MS", "INSTALL_MODULE", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "METHOD", "CONTENT_TYPE", "PROTOCOL", "GET_ID_TARGET", "GET_TOKEN_TARGET", "GET_CREDENTIALS_TARGET", "CognitoIdentityClient", "config", "_this", "_a", "request", "getIdResponse", "requestPayload", "idRequest", "getIdResponse_1", "e_1", "_b", "responseToJson", "tokenRequest", "response", "e_2", "identityId", "credentialRequest", "AccessKeyId", "Expiration", "SecretKey", "SessionToken", "e_3", "_c", "r", "target", "payload", "HttpRequest", "IDENTITY_KEY", "__assign", "t", "s", "i", "n", "p", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "f", "y", "g", "verb", "v", "op", "Authentication", "config", "applicationId", "_this", "_a", "credentials", "region", "CognitoIdentityClient", "FetchHttpHandler", "CRED_KEY", "renewalTime", "CRED_RENEW_MS", "__extends", "extendStatics", "d", "b", "p", "__", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "BasicAuthentication", "_super", "config", "applicationId", "_this", "retries", "getIdResponse", "getOpenIdTokenResponse", "credentials", "e_1", "_a", "region", "StsClient", "FetchHttpHandler", "Authentication", "__extends", "extendStatics", "d", "b", "p", "__", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "EnhancedAuthentication", "_super", "config", "applicationId", "_this", "retries", "getIdResponse", "credentials", "e_1", "_a", "Authentication", "RUM_AMZ_PREFIX", "RUM_AWS_PREFIX", "HTTP_EVENT_TYPE", "XRAY_TRACE_EVENT_TYPE", "LCP_EVENT_TYPE", "FID_EVENT_TYPE", "CLS_EVENT_TYPE", "INP_EVENT_TYPE", "PERFORMANCE_NAVIGATION_EVENT_TYPE", "PERFORMANCE_RESOURCE_EVENT_TYPE", "DOM_EVENT_TYPE", "JS_ERROR_EVENT_TYPE", "PAGE_VIEW_EVENT_TYPE", "SESSION_START_EVENT_TYPE", "TIME_TO_INTERACTIVE_EVENT_TYPE", "InternalPlugin", "name", "context", "_a", "RUM_AWS_PREFIX", "PluginManager", "context", "plugin", "pluginId", "updateWith", "_a", "p", "data", "id", "InternalPlugin", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "DOM_EVENT_PLUGIN_ID", "defaultConfig", "DomEventPlugin", "_super", "config", "_this", "event", "elementInfo", "events", "domEvent", "cssLocator", "_a", "interactionId", "eventData", "DOM_EVENT_TYPE", "eventType", "eventListener", "identifiedElementList", "elementEventListenerList", "cssLocatedElements", "element", "identifiedElement", "elementEventListener", "InternalPlugin", "isObject", "error", "type", "buildBaseJsErrorEvent", "errorEvent", "rumEvent", "appendErrorPrimitiveDetails", "appendErrorObjectDetails", "stackTraceLength", "isErrorPrimitive", "errorEventToJsErrorEvent", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "JS_ERROR_EVENT_PLUGIN_ID", "defaultConfig", "JsErrorPlugin", "_super", "config", "_this", "errorEvent", "event", "error", "_a", "JS_ERROR_EVENT_TYPE", "errorEventToJsErrorEvent", "InternalPlugin", "storeCookie", "name", "value", "attributes", "ttl", "expires", "cookie", "getExpiryDate", "getCookie", "name", "cookies", "_i", "cookies_1", "cookie", "split", "import_ua_parser_js", "__assign", "t", "s", "i", "n", "p", "NIL_UUID", "UNKNOWN", "DESKTOP_DEVICE_TYPE", "WEB_PLATFORM_TYPE", "SessionManager", "appMonitorDetails", "config", "recordEvent", "pageManager", "SESSION_COOKIE_NAME", "NIL_UUID", "sessionAttributes", "__assign", "userId", "v4_default", "session", "expires", "storeCookie", "USER_COOKIE_NAME", "getCookie", "cookie", "SESSION_START_EVENT_TYPE", "ua", "UNKNOWN", "DESKTOP_DEVICE_TYPE", "WEB_PLATFORM_TYPE", "shimmer", "__extends", "extendStatics", "d", "b", "p", "__", "MonkeyPatched", "_super", "_this", "wrap", "shimmer", "_i", "_a", "patch", "unwrap", "shouldPatch", "InternalPlugin", "__extends", "extendStatics", "d", "b", "p", "__", "VirtualPageLoadTimer", "_super", "pageManager", "config", "record", "_this", "self", "original", "e", "currTime", "xhr", "thisArg", "argsArray", "error", "input", "init", "item", "page", "virtualPageNavigationEvent", "PERFORMANCE_NAVIGATION_EVENT_TYPE", "MonkeyPatched", "__assign", "t", "s", "i", "n", "p", "PageManager", "config", "record", "VirtualPageLoadTimer", "page", "payload", "pageId", "currentPage", "startTime", "interactionTime", "customPageAttributes", "_a", "pageViewEvent", "PAGE_VIEW_EVENT_TYPE", "Topic", "EventBus", "topic", "subscriber", "_a", "list", "i", "message", "_i", "list_1", "EventBus_default", "__assign", "t", "s", "i", "n", "p", "webClientVersion", "EventCache", "applicationDetails", "config", "eventBus", "EventBus_default", "_this", "payload", "type", "eventData", "SESSION_START_EVENT_TYPE", "eventType", "session", "event", "_a", "parsedEvent", "Topic", "details", "metadata", "partialEvent", "v4_default", "PageManager", "SessionManager", "flushCandidates", "batch", "_i", "key", "event_1", "sessionAttributes", "location", "exclude", "re", "include", "SHORT_TO_HEX", "HEX_TO_SHORT", "encodedByte", "fromHex", "encoded", "out", "i", "toHex", "bytes", "normalizeProvider", "input", "promisified", "ALGORITHM_QUERY_PARAM", "CREDENTIAL_QUERY_PARAM", "AMZ_DATE_QUERY_PARAM", "SIGNED_HEADERS_QUERY_PARAM", "EXPIRES_QUERY_PARAM", "SIGNATURE_QUERY_PARAM", "TOKEN_QUERY_PARAM", "AUTH_HEADER", "AMZ_DATE_HEADER", "AMZ_DATE_QUERY_PARAM", "DATE_HEADER", "GENERATED_HEADERS", "SIGNATURE_HEADER", "SIGNATURE_QUERY_PARAM", "SHA256_HEADER", "TOKEN_HEADER", "TOKEN_QUERY_PARAM", "ALWAYS_UNSIGNABLE_HEADERS", "PROXY_HEADER_PATTERN", "SEC_HEADER_PATTERN", "ALGORITHM_IDENTIFIER", "EVENT_ALGORITHM_IDENTIFIER", "UNSIGNED_PAYLOAD", "MAX_CACHE_SIZE", "KEY_TYPE_IDENTIFIER", "MAX_PRESIGNED_TTL", "signingKeyCache", "cacheQueue", "createScope", "shortDate", "region", "service", "KEY_TYPE_IDENTIFIER", "getSigningKey", "sha256Constructor", "credentials", "__async", "credsHash", "hmac", "cacheKey", "toHex", "MAX_CACHE_SIZE", "key", "signable", "hmac", "ctor", "secret", "data", "hash", "toUint8Array", "getCanonicalHeaders", "headers", "unsignableHeaders", "signableHeaders", "canonical", "headerName", "canonicalHeaderName", "ALWAYS_UNSIGNABLE_HEADERS", "PROXY_HEADER_PATTERN", "SEC_HEADER_PATTERN", "getCanonicalQuery", "query", "keys", "serialized", "key", "SIGNATURE_HEADER", "encodedKey", "escapeUri", "value", "encoded", "isArrayBuffer", "arg", "getPayloadHash", "_0", "_1", "__async", "headers", "body", "hashConstructor", "headerName", "SHA256_HEADER", "isArrayBuffer", "hashCtor", "toUint8Array", "toHex", "UNSIGNED_PAYLOAD", "HeaderFormatter", "headers", "chunks", "headerName", "bytes", "fromUtf8", "out", "carry", "position", "chunk", "header", "shortView", "intView", "longBytes", "binView", "binBytes", "utf8Bytes", "strView", "strBytes", "tsBytes", "Int64", "UUID_PATTERN", "uuidBytes", "fromHex", "UUID_PATTERN", "Int64", "_Int64", "bytes", "number", "i", "remaining", "negate", "negative", "toHex", "hasHeader", "soughtHeader", "headers", "headerName", "moveHeadersToQuery", "request", "options", "headers", "query", "HttpRequest", "name", "lname", "__spreadProps", "__spreadValues", "prepareRequest", "request", "HttpRequest", "headerName", "GENERATED_HEADERS", "iso8601", "time", "toDate", "SignatureV4", "applyChecksum", "credentials", "region", "service", "sha256", "uriEscapePath", "HeaderFormatter", "normalizeProvider", "_0", "__async", "originalRequest", "options", "signingDate", "expiresIn", "unsignableHeaders", "unhoistableHeaders", "signableHeaders", "hoistableHeaders", "signingRegion", "signingService", "longDate", "shortDate", "formatDate", "MAX_PRESIGNED_TTL", "scope", "createScope", "request", "moveHeadersToQuery", "prepareRequest", "TOKEN_QUERY_PARAM", "ALGORITHM_QUERY_PARAM", "ALGORITHM_IDENTIFIER", "CREDENTIAL_QUERY_PARAM", "AMZ_DATE_QUERY_PARAM", "EXPIRES_QUERY_PARAM", "canonicalHeaders", "getCanonicalHeaders", "SIGNED_HEADERS_QUERY_PARAM", "getCanonicalHeaderList", "SIGNATURE_QUERY_PARAM", "getPayloadHash", "toSign", "_1", "headers", "payload", "priorSignature", "hashedPayload", "hash", "hashedHeaders", "toHex", "stringToSign", "EVENT_ALGORITHM_IDENTIFIER", "signableMessage", "signature", "toUint8Array", "requestToSign", "AMZ_DATE_HEADER", "TOKEN_HEADER", "payloadHash", "hasHeader", "SHA256_HEADER", "AUTH_HEADER", "sortedHeaders", "getCanonicalQuery", "name", "credentialScope", "canonicalRequest", "hashedRequest", "path", "normalizedPathSegments", "pathSegment", "normalizedPath", "escapeUri", "keyPromise", "getSigningKey", "now", "iso8601", "import_sha256_js", "__assign", "t", "s", "i", "n", "p", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "f", "y", "g", "verb", "v", "op", "SERVICE", "METHOD", "CONTENT_TYPE_JSON", "CONTENT_TYPE_TEXT", "REQUEST_PRESIGN_ARGS", "DataPlaneClient", "config", "_this", "putRumEventsRequest", "options", "request", "httpResponse", "_a", "HttpRequest", "contentType", "serializedRequest", "path", "_b", "_c", "_d", "_e", "_f", "serializeRequest", "hashAndEncode", "SignatureV4", "serializeRequest", "request", "serializedRumEvents", "e", "serializeEvent", "serializedRequest", "__assign", "event", "hashAndEncode", "payload", "__awaiter", "sha256", "_a", "__generator", "_b", "toHex", "buildQueryString", "query", "parts", "key", "value", "escapeUri", "i", "iLen", "qsEntry", "BeaconHttpHandler", "request", "queued", "resolve", "reject", "HttpResponse", "_key", "_value", "signedRequest", "path", "queryString", "buildQueryString", "port", "url", "requestTimeout", "timeoutInMs", "resolve", "reject", "timeoutError", "FetchHttpHandler", "_a", "_b", "fetchFunction", "requestTimeout", "request", "abortSignal", "requestTimeoutInMs", "abortError", "path", "queryString", "buildQueryString", "port", "method", "url", "body", "requestOptions", "fetchRequest", "raceOfPromises", "response", "fetchHeaders", "transformedHeaders", "_i", "pair", "hasReadableStream", "HttpResponse", "resolve", "reject", "_key", "_value", "getRandomValues", "holder", "byteToHex", "i", "X_AMZN_TRACE_ID", "W3C_TRACEPARENT_HEADER_NAME", "TRACEPARENT_VERSION_LENGTH", "TRACEPARENT_TRACE_ID_LENGTH", "TRACEPARENT_PARENT_ID_LENGTH", "TRACEPARENT_NUMBER_OF_FIELDS", "isTraceIdHeaderEnabled", "url", "addXrayTraceIdHeader", "matcher", "defaultConfig", "is2xx", "status", "is4xx", "is5xx", "is429", "isUrlAllowed", "config", "include", "urlPattern", "exclude", "epochTime", "createXRayTraceEventHttp", "input", "init", "traced", "http", "resourceToUrlString", "createXRayTraceEvent", "name", "startTime", "w3cTraceId", "traceEvent", "generateSegmentId", "generateW3CTraceId", "generateTraceId", "createXRaySubsegment", "subsegment", "requestInfoToHostname", "request", "addAmznTraceIdHeaderToInit", "traceId", "segmentId", "w3cTraceIdEnabled", "getW3CTraceIdHeaderValue", "getAmznTraceIdHeaderValue", "addAmznTraceIdHeaderToHeaders", "headers", "isValidW3CHeader", "headerComponents", "getTraceHeader", "_a", "_b", "traceHeader", "resource", "hexTime", "guid", "randomBytes", "getRandomValues", "uint8ArrayToHexString", "bytes", "hexString", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "RetryHttpHandler", "handler", "retries", "backoff", "request", "retriesLeft", "response", "e_1", "_a", "is2xx", "is429", "is5xx", "milliseconds", "_key", "_value", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "NO_CRED_MSG", "Dispatch", "region", "endpoint", "eventCache", "config", "_this", "_a", "request_1", "flush", "backup_1", "req_1", "credentials", "DataPlaneClient", "RetryHttpHandler", "FetchHttpHandler", "BeaconHttpHandler", "credentialProvider", "flushCandidates", "v4_default", "ResourceType", "InitiatorType", "performanceKey", "details", "extensions", "shuffle", "a", "i", "j", "v", "getResourceFileType", "url", "initiatorType", "ext", "filename", "extension_1", "type", "isLCPSupported", "isFCPSupported", "isLongTaskSupported", "putRumEventsPattern", "isPutRumEventsCall", "url", "endpointHost", "defaultIgnore", "entry", "defaultPerformancePluginConfig", "ResourceType", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "NAVIGATION_EVENT_PLUGIN_ID", "NAVIGATION", "LOAD", "NavigationPlugin", "_super", "config", "_this", "navigationObserver", "list", "e", "event", "recordNavigation", "_a", "entryData", "origin", "eventDataNavigationTimingLevel1", "PERFORMANCE_NAVIGATION_EVENT_TYPE", "eventDataNavigationTimingLevel2", "defaultPerformancePluginConfig", "navData", "InternalPlugin", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "RESOURCE_EVENT_PLUGIN_ID", "RESOURCE", "ResourcePlugin", "_super", "config", "_this", "list", "recordAll", "sample", "e", "event", "_a", "name", "initiatorType", "type", "getResourceFileType", "r", "shuffle", "_b", "startTime", "duration", "transferSize", "isPutRumEventsCall", "eventData", "PERFORMANCE_RESOURCE_EVENT_TYPE", "defaultPerformancePluginConfig", "InternalPlugin", "t", "e", "n", "r", "i", "a", "o", "c", "u", "s", "f", "d", "l", "m", "p", "v", "g", "h", "T", "E", "y", "S", "b", "L", "C", "M", "D", "x", "I", "k", "A", "t", "F", "P", "d", "O", "R", "j", "q", "H", "e", "n", "N", "v", "p", "W", "z", "b", "i", "f", "a", "o", "l", "u", "U", "V", "_", "G", "J", "K", "Q", "X", "Y", "r", "nt", "Z", "$", "tt", "et", "rt", "c", "s", "m", "it", "at", "ot", "S", "dt", "lt", "mt", "t", "e", "Z", "$", "tt", "gt", "pt", "et", "vt", "i", "r", "ht", "Tt", "b", "n", "S", "f", "a", "o", "c", "d", "l", "p", "v", "u", "yt", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "WEB_VITAL_EVENT_PLUGIN_ID", "WebVitalsPlugin", "_super", "config", "_this", "isLCPSupported", "event", "PERFORMANCE_RESOURCE_EVENT_TYPE", "details", "ResourceType", "performanceKey", "PERFORMANCE_NAVIGATION_EVENT_TYPE", "defaultPerformancePluginConfig", "Topic", "ot", "metric", "yt", "D", "rt", "_a", "_b", "a", "attribution", "key", "LCP_EVENT_TYPE", "record", "recordCandidate", "CLS_EVENT_TYPE", "FID_EVENT_TYPE", "INP_EVENT_TYPE", "InternalPlugin", "__extends", "extendStatics", "d", "b", "p", "__", "XhrError", "_super", "message", "_this", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "XHR_PLUGIN_ID", "XhrPlugin", "_super", "config", "_this", "url", "isTraceIdHeaderEnabled", "_a", "e", "xhr", "xhrDetails", "endTime", "epochTime", "is429", "is4xx", "is5xx", "clStr", "cl", "errorName", "errorMessage", "XhrError", "startTime", "createXRayTraceEvent", "createXRaySubsegment", "requestInfoToHostname", "self", "original", "W3C_TRACEPARENT_HEADER_NAME", "getW3CTraceIdHeaderValue", "X_AMZN_TRACE_ID", "getAmznTraceIdHeaderValue", "method", "async", "isUrlAllowed", "defaultConfig", "status", "httpEvent", "HTTP_EVENT_TYPE", "error", "errorEventToJsErrorEvent", "trace", "XRAY_TRACE_EVENT_TYPE", "MonkeyPatched", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "FETCH_PLUGIN_ID", "FetchPlugin", "_super", "config", "_this", "_a", "input", "init", "argsArray", "startTime", "epochTime", "http", "createXRayTraceEventHttp", "xRayTraceEvent", "createXRayTraceEvent", "subsegment", "createXRaySubsegment", "requestInfoToHostname", "addAmznTraceIdHeaderToHeaders", "addAmznTraceIdHeaderToInit", "response", "error", "endTime", "is429", "is4xx", "is5xx", "clStr", "cl", "isErrorPrimitive", "XRAY_TRACE_EVENT_TYPE", "request", "resourceToUrlString", "httpEvent", "HTTP_EVENT_TYPE", "errorEventToJsErrorEvent", "original", "thisArg", "trace", "isUrlAllowed", "traceHeader", "getTraceHeader", "self", "defaultConfig", "url", "isTraceIdHeaderEnabled", "MonkeyPatched", "__extends", "extendStatics", "d", "b", "p", "__", "PAGE_EVENT_PLUGIN_ID", "PageViewPlugin", "_super", "_this", "self", "original", "data", "title", "url", "retVal", "event", "path", "hash", "PageIdFormatEnum", "MonkeyPatched", "__assign", "t", "s", "i", "n", "p", "__rest", "e", "__spreadArray", "to", "from", "pack", "l", "ar", "DEFAULT_REGION", "DEFAULT_ENDPOINT", "TelemetryEnum", "PageIdFormatEnum", "defaultCookieAttributes", "defaultConfig", "cookieAttributes", "INSTALL_MODULE", "internalConfigOverrides", "Orchestration", "applicationId", "applicationVersion", "region", "_a", "configCookieAttributes", "partialConfig", "EventBus_default", "credentials", "sessionAttributes", "plugin", "allow", "payload", "error", "JS_ERROR_EVENT_PLUGIN_ID", "events", "DOM_EVENT_PLUGIN_ID", "eventType", "eventData", "EventCache", "dispatch", "Dispatch", "BasicAuthentication", "EnhancedAuthentication", "BUILTIN_PLUGINS", "PLUGINS", "pluginContext", "pluginManager", "PluginManager", "PageViewPlugin", "plugins", "functor", "type", "config", "JsErrorPlugin", "NavigationPlugin", "ResourcePlugin", "WebVitalsPlugin", "DomEventPlugin", "XhrPlugin", "FetchPlugin", "o", "a", "e", "n", "c", "u", "f", "t", "s", "d", "i", "l", "p", "v", "m", "h", "g", "T", "y", "E", "C", "b", "S", "r", "O", "e", "n", "t", "v", "p", "_", "z", "G", "e", "n", "C", "t", "E", "i", "f", "u", "c", "s", "d", "m", "v", "O", "p", "a", "r", "l", "NAVIGATION", "FCP", "LCP", "VisuallyReadySearch", "quietWindow", "_this", "isCheckTimedOut", "eventObserver", "list", "e", "event", "isFullyVisuallyReady", "isPartiallyVisually", "metric", "entry", "isLCPSupported", "isFCPSupported", "S", "G", "LONG_TASK", "FPS", "NAVIGATION", "QuietWindowSearch", "fpsEnabled", "onReport", "_this", "isTTITimedOut", "endBucket", "bucket", "allTTIConditionsFulfiled", "eventObserver", "list", "e", "event", "endTime", "trackFrames", "visuallyReadyTimestamp", "acceptedIntervals", "timeToQuietPeriodFromVisuallyReady", "tti", "activationStart", "newTti", "navEntry", "ttiCondition", "currrentBucket", "currTime", "type", "value", "onTTI", "onReport", "opts", "isLongTaskSupported", "TimeToInteractive", "QuietWindowSearch", "VisuallyReadySearch", "__extends", "extendStatics", "d", "b", "p", "__", "TTI_EVENT_PLUGIN_ID", "TTIPlugin", "_super", "fpsMeasurementEnabled", "_this", "onTTI", "entries", "navigation", "e", "metric", "ttiEvent", "TIME_TO_INTERACTIVE_EVENT_TYPE", "InternalPlugin"]
}
