{
  "version": 3,
  "sources": ["../../@rollthecloudinc/dparam/fesm2022/rollthecloudinc-dparam.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { Injectable, forwardRef, Input, Component, NgModule } from '@angular/core';\nimport * as i1 from '@rollthecloudinc/plugin';\nimport { Plugin, BasePluginManager, PluginDef } from '@rollthecloudinc/plugin';\nimport { of, iif, BehaviorSubject, Subject, combineLatest, filter as filter$1, tap as tap$1, forkJoin } from 'rxjs';\nimport { map, switchMap, tap, debounceTime, filter, delay, defaultIfEmpty } from 'rxjs/operators';\nimport * as i1$1 from '@angular/forms';\nimport { Validators, NG_VALUE_ACCESSOR, NG_VALIDATORS, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i2 from '@rollthecloudinc/utils';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@angular/material/autocomplete';\nimport * as i5 from '@angular/material/checkbox';\nimport * as i6 from '@angular/material/input';\nimport * as i7 from '@angular/material/select';\nimport { MaterialModule } from '@rollthecloudinc/material';\nimport * as qs from 'qs';\nimport * as i2$1 from '@rollthecloudinc/token';\nfunction ParamsFormComponent_div_0_mat_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 10);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", p_r1.value.id);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(p_r1.value.title);\n  }\n}\nfunction ParamsFormComponent_div_0_mat_form_field_10_mat_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 10);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", c_r2);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(c_r2);\n  }\n}\nfunction ParamsFormComponent_div_0_mat_form_field_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-form-field\", 2)(1, \"mat-label\");\n    i0.\u0275\u0275text(2, \"Context\");\n    i0.\u0275\u0275elementEnd();\n    i0.\u0275\u0275elementStart(3, \"mat-select\", 11);\n    i0.\u0275\u0275template(4, ParamsFormComponent_div_0_mat_form_field_10_mat_option_4_Template, 2, 2, \"mat-option\", 4);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.\u0275\u0275nextContext(2);\n    i0.\u0275\u0275advance(4);\n    i0.\u0275\u0275property(\"ngForOf\", ctx_r2.contexts);\n  }\n}\nfunction ParamsFormComponent_div_0_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"div\", 12)(1, \"mat-checkbox\", 13);\n    i0.\u0275\u0275text(2);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const j_r4 = ctx.index;\n    const ctx_r2 = i0.\u0275\u0275nextContext(2);\n    i0.\u0275\u0275property(\"formGroupName\", j_r4);\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275textInterpolate(ctx_r2.flagsAsArray[j_r4]);\n  }\n}\nfunction ParamsFormComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"div\", 1)(1, \"div\");\n    i0.\u0275\u0275text(2);\n    i0.\u0275\u0275elementEnd();\n    i0.\u0275\u0275elementStart(3, \"mat-form-field\", 2)(4, \"mat-label\");\n    i0.\u0275\u0275text(5, \"Type\");\n    i0.\u0275\u0275elementEnd();\n    i0.\u0275\u0275elementStart(6, \"mat-select\", 3);\n    i0.\u0275\u0275template(7, ParamsFormComponent_div_0_mat_option_7_Template, 2, 2, \"mat-option\", 4);\n    i0.\u0275\u0275pipe(8, \"async\");\n    i0.\u0275\u0275pipe(9, \"keyvalue\");\n    i0.\u0275\u0275elementEnd()();\n    i0.\u0275\u0275template(10, ParamsFormComponent_div_0_mat_form_field_10_Template, 5, 1, \"mat-form-field\", 5);\n    i0.\u0275\u0275elementStart(11, \"mat-form-field\", 2);\n    i0.\u0275\u0275element(12, \"input\", 6);\n    i0.\u0275\u0275elementEnd();\n    i0.\u0275\u0275elementStart(13, \"mat-form-field\", 2);\n    i0.\u0275\u0275element(14, \"input\", 7);\n    i0.\u0275\u0275elementEnd();\n    i0.\u0275\u0275elementStart(15, \"div\", 8);\n    i0.\u0275\u0275template(16, ParamsFormComponent_div_0_div_16_Template, 3, 2, \"div\", 9);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const param_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const ctx_r2 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275property(\"formGroup\", param_r5);\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275textInterpolate(ctx_r2.paramName(i_r6));\n    i0.\u0275\u0275advance(5);\n    i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(9, 7, i0.\u0275\u0275pipeBind1(8, 5, ctx_r2.paramPlugins$)));\n    i0.\u0275\u0275advance(3);\n    i0.\u0275\u0275property(\"ngIf\", param_r5.get(\"mapping\").get(\"type\").value == \"context\");\n    i0.\u0275\u0275advance(6);\n    i0.\u0275\u0275property(\"ngForOf\", param_r5.get(\"flags\").controls);\n  }\n}\nfunction PluginInstanceComponent_mat_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 4);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", p_r1.value.id);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(p_r1.value.title);\n  }\n}\nclass ParamPlugin extends Plugin {\n  constructor(data) {\n    super(data);\n    if (data) {\n      this.evalParam = data.evalParam;\n      if (data.condition) {\n        this.condition = data.condition;\n      }\n      if (data.usedContexts) {\n        this.usedContexts = data.usedContexts;\n      }\n    }\n  }\n}\n\n// This needs to be able to resolve dynamic flagged values. -- I forgot what this means...\nconst staticParamFactory = () => {\n  return new ParamPlugin({\n    id: 'static',\n    title: 'Static',\n    evalParam: ({\n      param,\n      metadata\n    }) => of(param.mapping.value)\n  });\n};\nconst inputParamFactory = paramEvaluatorService => {\n  return new ParamPlugin({\n    id: 'inputparam',\n    title: 'Input Param',\n    evalParam: ({\n      param,\n      metadata\n    }) => of(param.mapping.value).pipe(map(name => metadata.has('inputparams') && metadata.get('inputparams').has(name) ? metadata.get('inputparams').get(name) : undefined), switchMap(paramMatch => iif(() => paramMatch !== undefined, paramMatch !== undefined ? paramEvaluatorService.paramValue(paramMatch, metadata) : of(param.mapping.testValue), of(param.mapping.testValue))))\n  });\n};\nclass Param {\n  constructor(data) {\n    if (data) {\n      this.mapping = new Mapping(data.mapping);\n      if (data.flags !== undefined) {\n        this.flags = data.flags.map(f => new Flag(f));\n      }\n    }\n  }\n}\nclass Mapping {\n  constructor(data) {\n    if (data) {\n      this.type = data.type;\n      this.value = data.value;\n      this.testValue = data.testValue;\n      this.context = data.context;\n    }\n  }\n}\nclass Flag {\n  constructor(data) {\n    if (data) {\n      this.name = data.name;\n      this.enabled = data.enabled;\n    }\n  }\n}\nclass ParamPluginInstance {\n  constructor(data) {\n    if (data) {\n      this.plugin = data.plugin;\n      this.settings = data.settings ? new ParamSettings(data.settings) : new ParamSettings();\n    }\n  }\n}\nclass ParamSettings {\n  constructor(data) {\n    if (data) {\n      this.paramsString = data.paramsString;\n      if (data.params && Array.isArray(data.params)) {\n        this.params = data.params.map(p => new Param(p));\n      }\n    }\n  }\n}\nlet ParamPluginManager = /*#__PURE__*/(() => {\n  class ParamPluginManager extends BasePluginManager {\n    constructor(pcm, moduleLoader) {\n      super(pcm, moduleLoader);\n    }\n    pluginDef() {\n      return of(new PluginDef({\n        name: 'param'\n      }));\n    }\n    static {\n      this.\u0275fac = function ParamPluginManager_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ParamPluginManager)(i0.\u0275\u0275inject(i1.PluginConfigurationManager), i0.\u0275\u0275inject(i2.ModuleLoaderService));\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: ParamPluginManager,\n        factory: ParamPluginManager.\u0275fac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ParamPluginManager;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ParamsFormComponent = /*#__PURE__*/(() => {\n  class ParamsFormComponent {\n    set params(params) {\n      this.params$.next(params);\n    }\n    set paramValues(paramValues) {\n      this.paramValues$.next(paramValues);\n    }\n    get flagsAsArray() {\n      const flags = [];\n      this.flags.forEach((f, k) => {\n        flags.push(k);\n      });\n      return flags;\n    }\n    constructor(fb, ppm) {\n      this.fb = fb;\n      this.ppm = ppm;\n      this.contexts = [];\n      this.params$ = new BehaviorSubject({});\n      this.paramValues$ = new BehaviorSubject([]);\n      this.init$ = new Subject();\n      this.formArray = this.fb.array([]);\n      this.paramPlugins$ = this.ppm.getPlugins();\n      this.flags = new Map();\n      this.savedParams = new Map();\n      this.paramIndexes = new Map();\n      this.paramsSub = this.params$.pipe(tap(params => {\n        const previousIndexes = new Map([...this.paramIndexes]);\n        this.formArray.clear();\n        this.paramIndexes.clear();\n        let index = 0;\n        for (const param in params) {\n          if (Array.isArray(params[param])) {\n            params[param].forEach(p => this.buildParams(p, index, previousIndexes));\n            index++;\n          } else if (params[param].indexOf(':') === 0) {\n            this.buildParams(params[param], index, previousIndexes);\n            index++;\n          }\n        }\n      })).subscribe();\n      this.savedParamsSub = this.formArray.valueChanges.pipe(debounceTime(1000), tap(values => {\n        const len = values.length;\n        for (let i = 0; i < len; i++) {\n          this.savedParams.set(this.paramName(i), new Param(values[i]));\n        }\n      })).subscribe();\n      this.paramValuesSub = combineLatest([this.paramValues$, this.params$, this.init$]).pipe(tap(([paramValues]) => {\n        const len = paramValues ? paramValues.length : 0;\n        for (let i = 0; i < len; i++) {\n          const paramItem = Array.from(this.paramIndexes).find(([_, v]) => v === i);\n          if (paramItem !== undefined) {\n            this.savedParams.set(paramItem[0], paramValues[i]);\n          }\n        }\n      })).subscribe();\n      this.onTouched = () => {};\n      this.flags.set('page', 'Page');\n      this.flags.set('limit', 'Limit');\n      this.flags.set('offset', 'Offset');\n      this.flags.set('searchString', 'Search String');\n    }\n    ngOnInit() {\n      this.init$.next(undefined);\n    }\n    writeValue(val) {\n      if (val) {\n        this.formArray.setValue(val, {\n          emitEvent: false\n        });\n      }\n    }\n    registerOnChange(fn) {\n      this.formArray.valueChanges.subscribe(fn);\n    }\n    registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n      if (isDisabled) {\n        this.formArray.disable();\n      } else {\n        this.formArray.enable();\n      }\n    }\n    validate(c) {\n      return this.formArray.valid ? null : this.formArray.errors;\n    }\n    buildParams(param, index, previousIndexes) {\n      console.log(`build param ${param}`);\n      this.paramIndexes.set(param, index);\n      this.formArray.push(this.fb.group({\n        mapping: this.fb.group({\n          type: this.fb.control('', Validators.required),\n          value: this.fb.control('', Validators.required),\n          testValue: this.fb.control(''),\n          context: this.fb.control('')\n        }),\n        flags: this.fb.array(this.flagsAsArray.map(k => this.fb.group({\n          name: k,\n          enabled: this.fb.control(false)\n        })))\n      }));\n      if (this.savedParams.has(param)) {\n        this.formArray.at(index).setValue(this.savedParams.get(param));\n      } else if (index < this.paramValues$.value.length && Array.from(previousIndexes).findIndex(([_, v]) => v === index) === -1) {\n        this.formArray.at(index).setValue(this.paramValues$.value[index]);\n      }\n    }\n    paramName(index) {\n      let i = 0;\n      for (const param in this.params$.value) {\n        if (Array.isArray(this.params$.value[param])) {\n          for (let j = 0; j < this.params$.value[param].length; j++) {\n            if (index === i) {\n              return this.params$.value[param][j];\n            }\n            i++;\n          }\n        } else if (this.params$.value[param].indexOf(':') === 0) {\n          if (i === index) {\n            return this.params$.value[param];\n          }\n          i++;\n        }\n      }\n    }\n    static {\n      this.\u0275fac = function ParamsFormComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ParamsFormComponent)(i0.\u0275\u0275directiveInject(i1$1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(ParamPluginManager));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: ParamsFormComponent,\n        selectors: [[\"classifieds-ui-params-form\"]],\n        inputs: {\n          contexts: \"contexts\",\n          params: \"params\",\n          paramValues: \"paramValues\"\n        },\n        standalone: false,\n        features: [i0.\u0275\u0275ProvidersFeature([{\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => ParamsFormComponent),\n          multi: true\n        }, {\n          provide: NG_VALIDATORS,\n          useExisting: forwardRef(() => ParamsFormComponent),\n          multi: true\n        }])],\n        decls: 1,\n        vars: 1,\n        consts: [[3, \"formGroup\", 4, \"ngFor\", \"ngForOf\"], [3, \"formGroup\"], [\"formGroupName\", \"mapping\"], [\"required\", \"\", \"formControlName\", \"type\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formGroupName\", \"mapping\", 4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"value\", \"placeholder\", \"value\", \"required\", \"\"], [\"matInput\", \"\", \"formControlName\", \"testValue\", \"placeholder\", \"Test Value\", \"required\", \"\"], [\"formArrayName\", \"flags\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"formControlName\", \"context\"], [3, \"formGroupName\"], [\"formControlName\", \"enabled\"]],\n        template: function ParamsFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275template(0, ParamsFormComponent_div_0_Template, 17, 9, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"ngForOf\", ctx.formArray.controls);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i1$1.DefaultValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.RequiredValidator, i1$1.FormGroupDirective, i1$1.FormControlName, i1$1.FormGroupName, i1$1.FormArrayName, i4.MatOption, i5.MatCheckbox, i6.MatInput, i6.MatFormField, i6.MatLabel, i7.MatSelect, i3.AsyncPipe, i3.KeyValuePipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return ParamsFormComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// import { ValidationValidatorSettings } from \"../../models/validation.models\";\nlet ParamsQuerystringComponent = /*#__PURE__*/(() => {\n  class ParamsQuerystringComponent {\n    set settings(settings) {\n      this.settings$.next(settings);\n    }\n    constructor(fb) {\n      this.fb = fb;\n      this.contexts = [];\n      this.settings$ = new BehaviorSubject(undefined);\n      this.afterViewInit$ = new Subject();\n      this.paramValues$ = new BehaviorSubject([]);\n      this.formGroup = this.fb.group({\n        paramsString: this.fb.control(''),\n        params: this.fb.control([])\n      });\n      this.paramsStringChangeSub = this.formGroup.get('paramsString').valueChanges.pipe(debounceTime(500)).subscribe(paramsString => {\n        const parsed = qs.parse('?' + paramsString);\n        this.paramsParsed = parsed;\n      });\n      this.settingsSub = this.settings$.pipe(tap(s => {\n        if (s) {\n          this.formGroup.get('paramsString').setValue(s.paramsString ? s.paramsString : '');\n        }\n      })).subscribe();\n      this.settingsParamsSub = combineLatest([this.settings$, this.formGroup.get('paramsString').valueChanges]).pipe(filter(([s]) => s !== undefined), delay(1), tap(([s]) => this.paramValues$.next(s.params))).subscribe();\n      this.onTouched = () => {};\n    }\n    writeValue(val) {\n      if (val) {\n        this.formGroup.setValue(val, {\n          emitEvent: false\n        });\n      }\n    }\n    registerOnChange(fn) {\n      this.formGroup.valueChanges.subscribe(fn);\n    }\n    registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n      if (isDisabled) {\n        this.formGroup.disable();\n      } else {\n        this.formGroup.enable();\n      }\n    }\n    validate(c) {\n      return this.formGroup.valid ? null : this.formGroup.errors;\n    }\n    static {\n      this.\u0275fac = function ParamsQuerystringComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ParamsQuerystringComponent)(i0.\u0275\u0275directiveInject(i1$1.UntypedFormBuilder));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: ParamsQuerystringComponent,\n        selectors: [[\"druid-params-querystring\"]],\n        inputs: {\n          contexts: \"contexts\",\n          settings: \"settings\"\n        },\n        standalone: false,\n        features: [i0.\u0275\u0275ProvidersFeature([{\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => ParamsQuerystringComponent),\n          multi: true\n        }, {\n          provide: NG_VALIDATORS,\n          useExisting: forwardRef(() => ParamsQuerystringComponent),\n          multi: true\n        }])],\n        decls: 6,\n        vars: 4,\n        consts: [[3, \"formGroup\"], [1, \"params-container\"], [\"matInput\", \"\", \"placeholder\", \"Params\", \"formControlName\", \"paramsString\"], [\"formControlName\", \"params\", 3, \"params\", \"paramValues\", \"contexts\"]],\n        template: function ParamsQuerystringComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"mat-form-field\");\n            i0.\u0275\u0275element(4, \"input\", 2);\n            i0.\u0275\u0275elementEnd()();\n            i0.\u0275\u0275element(5, \"classifieds-ui-params-form\", 3);\n            i0.\u0275\u0275elementEnd()();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.formGroup);\n            i0.\u0275\u0275advance(5);\n            i0.\u0275\u0275property(\"params\", ctx.paramsParsed)(\"paramValues\", ctx.paramValues$.value)(\"contexts\", ctx.contexts);\n          }\n        },\n        dependencies: [i1$1.DefaultValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.FormGroupDirective, i1$1.FormControlName, i6.MatInput, i6.MatFormField, ParamsFormComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return ParamsQuerystringComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PluginInstanceComponent = /*#__PURE__*/(() => {\n  class PluginInstanceComponent {\n    set title(title) {\n      this.title$.next(title);\n    }\n    set plugins(plugins) {\n      this.plugins$.next(plugins);\n    }\n    set instance(instance) {\n      this.instance$.next(instance);\n    }\n    constructor(fb) {\n      this.fb = fb;\n      this.plugins$ = new BehaviorSubject([]);\n      this.title$ = new BehaviorSubject('Plugin');\n      this.instance$ = new BehaviorSubject(new ParamPluginInstance());\n      this.instanceForm = this.fb.group({\n        plugin: this.fb.control(''),\n        settings: this.fb.control('')\n      });\n      this.instanceSub = this.instance$.pipe(filter$1(i => !!i), tap$1(i => {\n        this.instanceForm.get('plugin').setValue(i.plugin);\n      })).subscribe();\n      this.onTouched = () => {};\n    }\n    writeValue(val) {\n      if (val) {\n        this.instanceForm.setValue(val, {\n          emitEvent: false\n        });\n      }\n    }\n    registerOnChange(fn) {\n      this.instanceForm.valueChanges.subscribe(fn);\n    }\n    registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n      if (isDisabled) {\n        this.instanceForm.disable();\n      } else {\n        this.instanceForm.enable();\n      }\n    }\n    validate(c) {\n      return this.instanceForm.valid ? null : this.instanceForm.errors;\n    }\n    static {\n      this.\u0275fac = function PluginInstanceComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PluginInstanceComponent)(i0.\u0275\u0275directiveInject(i1$1.UntypedFormBuilder));\n      };\n    }\n    static {\n      this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n        type: PluginInstanceComponent,\n        selectors: [[\"druid-params-plugin-instance\"]],\n        inputs: {\n          title: \"title\",\n          plugins: \"plugins\",\n          instance: \"instance\"\n        },\n        standalone: false,\n        features: [i0.\u0275\u0275ProvidersFeature([{\n          provide: NG_VALUE_ACCESSOR,\n          useExisting: forwardRef(() => PluginInstanceComponent),\n          multi: true\n        }, {\n          provide: NG_VALIDATORS,\n          useExisting: forwardRef(() => PluginInstanceComponent),\n          multi: true\n        }])],\n        decls: 10,\n        vars: 10,\n        consts: [[3, \"formGroup\"], [\"required\", \"\", \"formControlName\", \"plugin\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"settings\", 3, \"settings\"], [3, \"value\"]],\n        template: function PluginInstanceComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.\u0275\u0275elementStart(0, \"div\", 0)(1, \"mat-form-field\")(2, \"mat-label\");\n            i0.\u0275\u0275text(3);\n            i0.\u0275\u0275pipe(4, \"async\");\n            i0.\u0275\u0275elementEnd();\n            i0.\u0275\u0275elementStart(5, \"mat-select\", 1);\n            i0.\u0275\u0275template(6, PluginInstanceComponent_mat_option_6_Template, 2, 2, \"mat-option\", 2);\n            i0.\u0275\u0275pipe(7, \"async\");\n            i0.\u0275\u0275pipe(8, \"keyvalue\");\n            i0.\u0275\u0275elementEnd()();\n            i0.\u0275\u0275element(9, \"druid-params-querystring\", 3);\n            i0.\u0275\u0275elementEnd();\n          }\n          if (rf & 2) {\n            i0.\u0275\u0275property(\"formGroup\", ctx.instanceForm);\n            i0.\u0275\u0275advance(3);\n            i0.\u0275\u0275textInterpolate(i0.\u0275\u0275pipeBind1(4, 4, ctx.title$));\n            i0.\u0275\u0275advance(3);\n            i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(8, 8, i0.\u0275\u0275pipeBind1(7, 6, ctx.plugins$)));\n            i0.\u0275\u0275advance(3);\n            i0.\u0275\u0275property(\"settings\", ctx.instance$.value.settings);\n          }\n        },\n        dependencies: [i3.NgForOf, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.RequiredValidator, i1$1.FormGroupDirective, i1$1.FormControlName, i4.MatOption, i6.MatFormField, i6.MatLabel, i7.MatSelect, ParamsQuerystringComponent, i3.AsyncPipe, i3.KeyValuePipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return PluginInstanceComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ParamEvaluatorService = /*#__PURE__*/(() => {\n  class ParamEvaluatorService {\n    constructor(paramPluginManager, tokenizerService) {\n      this.paramPluginManager = paramPluginManager;\n      this.tokenizerService = tokenizerService;\n    }\n    paramValue(param, metadata) {\n      return this.paramPluginManager.getPlugins().pipe(map(plugins => Array.from(plugins).map(([_, p]) => p)), map(plugins => plugins.find(p => p.condition && p.condition({\n        param,\n        metadata\n      }) || !p.condition && p.id === param.mapping.type)), switchMap(p => iif(() => !!p, p ? p.evalParam({\n        param,\n        metadata\n      }) : of(/*param.mapping.value*/), of(param.mapping.value))), map(v => param.mapping.value && typeof v === 'string' && this.tokenizerService.discoverTokens(v).length === 0 ? v : param.mapping.testValue));\n    }\n    paramValues(params) {\n      return forkJoin(Array.from(params.keys()).map(name => this.paramValue(params.get(name), new Map()).pipe(map(v => [name, v])))).pipe(map(groups => groups.reduce((p, c) => new Map([...p, c]), new Map())), defaultIfEmpty(new Map()));\n    }\n    resolveParams({\n      params\n    }) {\n      return switchMap(() => iif(() => Object.keys(params).length > 1, forkJoin(Object.keys(params).map(name => this.paramValue(params[name], new Map()).pipe(map(v => ({\n        [name]: v\n      }))))).pipe(map(groups => groups.reduce((p, c) => ({\n        ...p,\n        ...c\n      }), {})),\n      // default options go here instead of empty object.\n      map(options => ({\n        options\n      }))), iif(() => Object.keys(params).length !== 0, this.paramValue(Object.keys(params).length !== 0 ? params[Object.keys(params)[0]] : new Param(), new Map()).pipe(map(optionValue => ({\n        options: {\n          [Object.keys(params)[0]]: optionValue\n        }\n      }))), of({\n        options: {}\n      }))));\n    }\n    static {\n      this.\u0275fac = function ParamEvaluatorService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ParamEvaluatorService)(i0.\u0275\u0275inject(ParamPluginManager), i0.\u0275\u0275inject(i2$1.TokenizerService));\n      };\n    }\n    static {\n      this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n        token: ParamEvaluatorService,\n        factory: ParamEvaluatorService.\u0275fac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ParamEvaluatorService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DparamModule = /*#__PURE__*/(() => {\n  class DparamModule {\n    constructor(ppm, paramEvaluatorService) {\n      // For now kill this.\n      ppm.register(staticParamFactory());\n      ppm.register(inputParamFactory(paramEvaluatorService));\n    }\n    static {\n      this.\u0275fac = function DparamModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || DparamModule)(i0.\u0275\u0275inject(ParamPluginManager), i0.\u0275\u0275inject(ParamEvaluatorService));\n      };\n    }\n    static {\n      this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n        type: DparamModule\n      });\n    }\n    static {\n      this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n        imports: [CommonModule, FormsModule, ReactiveFormsModule, MaterialModule]\n      });\n    }\n  }\n  return DparamModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of dparam\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DparamModule, Flag, Mapping, Param, ParamEvaluatorService, ParamPlugin, ParamPluginInstance, ParamPluginManager, ParamSettings, ParamsFormComponent, ParamsQuerystringComponent, PluginInstanceComponent };\n"],
  "mappings": "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",
  "names": ["i0", "forwardRef", "i1", "Plugin", "BasePluginManager", "PluginDef", "of", "iif", "BehaviorSubject", "Subject", "combineLatest", "filter$1", "tap$1", "forkJoin", "map", "switchMap", "tap", "debounceTime", "filter", "delay", "defaultIfEmpty", "i1$1", "Validators", "NG_VALUE_ACCESSOR", "NG_VALIDATORS", "FormsModule", "ReactiveFormsModule", "i2", "i3", "CommonModule", "i4", "i5", "i6", "i7", "MaterialModule", "qs", "i2$1", "ParamsFormComponent_div_0_mat_option_7_Template", "rf", "ctx", "p_r1", "ParamsFormComponent_div_0_mat_form_field_10_mat_option_4_Template", "c_r2", "ParamsFormComponent_div_0_mat_form_field_10_Template", "ctx_r2", "ParamsFormComponent_div_0_div_16_Template", "j_r4", "ParamsFormComponent_div_0_Template", "param_r5", "i_r6", "PluginInstanceComponent_mat_option_6_Template", "ParamPlugin", "Plugin", "data", "staticParamFactory", "param", "metadata", "of", "inputParamFactory", "paramEvaluatorService", "map", "name", "switchMap", "paramMatch", "iif", "Param", "Mapping", "f", "Flag", "ParamPluginInstance", "ParamSettings", "p", "ParamPluginManager", "BasePluginManager", "pcm", "moduleLoader", "PluginDef", "__ngFactoryType__", "ParamsFormComponent", "params", "paramValues", "flags", "k", "fb", "ppm", "BehaviorSubject", "Subject", "tap", "previousIndexes", "index", "debounceTime", "values", "len", "i", "combineLatest", "paramItem", "_", "v", "val", "fn", "isDisabled", "c", "Validators", "j", "NG_VALUE_ACCESSOR", "forwardRef", "NG_VALIDATORS", "ParamsQuerystringComponent", "settings", "paramsString", "parsed", "s", "filter", "delay", "PluginInstanceComponent", "title", "plugins", "instance", "filter$1", "tap$1", "ParamEvaluatorService", "paramPluginManager", "tokenizerService", "forkJoin", "groups", "defaultIfEmpty", "__spreadValues", "options", "optionValue", "DparamModule", "CommonModule", "FormsModule", "ReactiveFormsModule", "MaterialModule"]
}
