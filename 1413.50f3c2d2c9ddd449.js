(self.webpackChunkspear=self.webpackChunkspear||[]).push([[1413],{75797:(B,w,_)=>{_.d(w,{t:()=>h});var E=_(43288),A=_(63398),D=_(82297),v=_(792),m=_(13544),h=function(f){function p(R){var P;return(0,E.A)(this,p),(P=(0,D.A)(this,p))._value=R,P}return(0,m.A)(p,f),(0,A.A)(p,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(P){var I=(0,v.A)(p,"_subscribe",this,3)([P]);return!I.closed&&P.next(this._value),I}},{key:"getValue",value:function(){var x=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),x}},{key:"next",value:function(P){(0,v.A)(p,"next",this,3)([this._value=P])}}])}(_(84205).B)},51567:(B,w,_)=>{_.d(w,{p:()=>D});var E=_(50819),A=_(91687);function D(v,m){return(0,E.N)(function(s,h){var f=0;s.subscribe((0,A._)(h,function(p){return v.call(m,p,f++)&&h.next(p)}))})}},64334:(B,w,_)=>{_.d(w,{s:()=>v});var E=_(59400),A=_(50819),D=_(91687);function v(m){return m<=0?function(){return E.w}:(0,A.N)(function(s,h){var f=0;s.subscribe((0,D._)(h,function(p){++f<=m&&(h.next(p),m<=f&&h.complete())}))})}},98764:(B,w,_)=>{_.d(w,{M:()=>m});var E=_(81530),A=_(50819),D=_(91687),v=_(1440);function m(s,h,f){var p=(0,E.T)(s)||h||f?{next:s,error:h,complete:f}:s;return p?(0,A.N)(function(R,P){var I;null===(I=p.subscribe)||void 0===I||I.call(p);var x=!0;R.subscribe((0,D._)(P,function(S){var b;null===(b=p.next)||void 0===b||b.call(p,S),P.next(S)},function(){var S;x=!1,null===(S=p.complete)||void 0===S||S.call(p),P.complete()},function(S){var b;x=!1,null===(b=p.error)||void 0===b||b.call(p,S),P.error(S)},function(){var S,b;x&&(null===(S=p.unsubscribe)||void 0===S||S.call(p)),null===(b=p.finalize)||void 0===b||b.call(p)}))}):v.D}},77245:(B,w,_)=>{function E(A){return Array.isArray(A)?A:[A]}_.d(w,{F:()=>E})},86571:(B,w,_)=>{_.r(w),_.d(w,{CDK_DRAG_CONFIG:()=>le,CDK_DRAG_HANDLE:()=>ae,CDK_DRAG_PARENT:()=>G,CDK_DRAG_PLACEHOLDER:()=>Ge,CDK_DRAG_PREVIEW:()=>je,CDK_DROP_LIST:()=>de,CDK_DROP_LIST_GROUP:()=>q,CdkDrag:()=>Ne,CdkDragHandle:()=>Me,CdkDragPlaceholder:()=>Ve,CdkDragPreview:()=>He,CdkDropList:()=>Be,CdkDropListGroup:()=>Fe,DragDrop:()=>X,DragDropModule:()=>gt,DragDropRegistry:()=>J,DragRef:()=>ke,DropListRef:()=>xe,copyArrayItem:()=>ht,moveItemInArray:()=>oe,transferArrayItem:()=>dt,\u0275\u0275CdkScrollable:()=>Q.CdkScrollable}),_(50438);var A=_(98824),D=_(63730),v=_(43288),m=_(63398),s=_(40642),h=_(49431),f=_(84205),p=_(27092),R=_(18473),P=_(14876),x=_(23762),S=_(43942),b=_(63617),Ke=_(75797),j=_(70297),ce=_(61780),N=_(26338),$=_(33900),Ze=_(70271),$e=_(64334),Qe=_(98764),Ye=_(36647),ue=_(63037),Je=_(86739),Q=_(31812),_e=_(17170),Xe=_(54149),qe=_(77245);function ee(a){var o=a.cloneNode(!0),e=o.querySelectorAll("[id]"),i=a.nodeName.toLowerCase();o.removeAttribute("id");for(var t=0;t<e.length;t++)e[t].removeAttribute("id");return"canvas"===i?fe(a,o):("input"===i||"select"===i||"textarea"===i)&&ge(a,o),ve("canvas",a,o,fe),ve("input, textarea, select",a,o,ge),o}function ve(a,o,e,i){var t=o.querySelectorAll(a);if(t.length)for(var n=e.querySelectorAll(a),r=0;r<t.length;r++)i(t[r],n[r])}_(25965);var et=0;function ge(a,o){"file"!==o.type&&(o.value=a.value),"radio"===o.type&&o.name&&(o.name="mat-clone-".concat(o.name,"-").concat(et++))}function fe(a,o){var e=o.getContext("2d");if(e)try{e.drawImage(a,0,0)}catch{}}function te(a){var o=a.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function ie(a,o,e){return e>=a.top&&e<=a.bottom&&o>=a.left&&o<=a.right}function U(a,o,e){a.top+=o,a.bottom=a.top+a.height,a.left+=e,a.right=a.left+a.width}function pe(a,o,e,i){var u=a.width*o,g=a.height*o;return i>a.top-g&&i<a.bottom+g&&e>a.left-u&&e<a.right+u}var me=function(){return(0,m.A)(function a(o){(0,v.A)(this,a),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"positions",new Map),this._document=o},[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var i=this;this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(function(t){i.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:te(t)})})}},{key:"handleScroll",value:function(e){var i=(0,j.Fb)(e),t=this.positions.get(i);if(!t)return null;var r,l,n=t.scrollPosition;if(i===this._document){var d=this.getViewportScrollPosition();r=d.top,l=d.left}else r=i.scrollTop,l=i.scrollLeft;var c=n.top-r,u=n.left-l;return this.positions.forEach(function(g,y){g.clientRect&&i!==y&&i.contains(y)&&U(g.clientRect,c,u)}),n.top=r,n.left=l,{top:c,left:u}}},{key:"getViewportScrollPosition",value:function(){return{top:window.scrollY,left:window.scrollX}}}])}();function De(a,o){var e=a.rootNodes;if(1===e.length&&e[0].nodeType===o.ELEMENT_NODE)return e[0];var i=o.createElement("div");return e.forEach(function(t){return i.appendChild(t)}),i}function ne(a,o,e){for(var i in o)if(o.hasOwnProperty(i)){var t=o[i];t?a.setProperty(i,t,null!=e&&e.has(i)?"important":""):a.removeProperty(i)}return a}function H(a,o){var e=o?"":"none";ne(a.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function ye(a,o,e){ne(a.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},e)}function Y(a,o){return o&&"none"!=o?a+" "+o:a}function Pe(a,o){a.style.width="".concat(o.width,"px"),a.style.height="".concat(o.height,"px"),a.style.transform=z(o.left,o.top)}function z(a,o){return"translate3d(".concat(Math.round(a),"px, ").concat(Math.round(o),"px, 0)")}function Ae(a){var o=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*o}function re(a,o){return a.getPropertyValue(o).split(",").map(function(i){return i.trim()})}var nt=new Set(["position"]),rt=function(){return(0,m.A)(function a(o,e,i,t,n,r,l,d,c,u){(0,v.A)(this,a),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_rootElement",void 0),(0,s.A)(this,"_direction",void 0),(0,s.A)(this,"_initialDomRect",void 0),(0,s.A)(this,"_previewTemplate",void 0),(0,s.A)(this,"_previewClass",void 0),(0,s.A)(this,"_pickupPositionOnPage",void 0),(0,s.A)(this,"_initialTransform",void 0),(0,s.A)(this,"_zIndex",void 0),(0,s.A)(this,"_renderer",void 0),(0,s.A)(this,"_previewEmbeddedView",void 0),(0,s.A)(this,"_preview",void 0),this._document=o,this._rootElement=e,this._direction=i,this._initialDomRect=t,this._previewTemplate=n,this._previewClass=r,this._pickupPositionOnPage=l,this._initialTransform=d,this._zIndex=c,this._renderer=u},[{key:"element",get:function(){return this._preview}},{key:"attach",value:function(e){this._preview=this._createPreview(),e.appendChild(this._preview),we(this._preview)&&this._preview.showPopover()}},{key:"destroy",value:function(){var e;this._preview.remove(),null===(e=this._previewEmbeddedView)||void 0===e||e.destroy(),this._preview=this._previewEmbeddedView=null}},{key:"setTransform",value:function(e){this._preview.style.transform=e}},{key:"getBoundingClientRect",value:function(){return this._preview.getBoundingClientRect()}},{key:"addClass",value:function(e){this._preview.classList.add(e)}},{key:"getTransitionDuration",value:function(){return function it(a){var o=getComputedStyle(a),e=re(o,"transition-property"),i=e.find(function(l){return"transform"===l||"all"===l});if(!i)return 0;var t=e.indexOf(i),n=re(o,"transition-duration"),r=re(o,"transition-delay");return Ae(n[t])+Ae(r[t])}(this._preview)}},{key:"addEventListener",value:function(e,i){return this._renderer.listen(this._preview,e,i)}},{key:"_createPreview",value:function(){var n,e=this._previewTemplate,i=this._previewClass,t=e?e.template:null;if(t&&e){var r=e.matchSize?this._initialDomRect:null,l=e.viewContainer.createEmbeddedView(t,e.context);l.detectChanges(),n=De(l,this._document),this._previewEmbeddedView=l,e.matchSize?Pe(n,r):n.style.transform=z(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Pe(n=ee(this._rootElement),this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return ne(n.style,{"pointer-events":"none",margin:we(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},nt),H(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(function(d){return n.classList.add(d)}):n.classList.add(i)),n}}])}();function we(a){return"showPopover"in a}var ot={passive:!0},Ee={passive:!1},st={passive:!1,capture:!0},Se="cdk-drag-placeholder",be=new Set(["position"]),ke=function(){return(0,m.A)(function a(o,e,i,t,n,r,l){var d=this;(0,v.A)(this,a),(0,s.A)(this,"_config",void 0),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_ngZone",void 0),(0,s.A)(this,"_viewportRuler",void 0),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_renderer",void 0),(0,s.A)(this,"_rootElementCleanups",void 0),(0,s.A)(this,"_cleanupShadowRootSelectStart",void 0),(0,s.A)(this,"_preview",void 0),(0,s.A)(this,"_previewContainer",void 0),(0,s.A)(this,"_placeholderRef",void 0),(0,s.A)(this,"_placeholder",void 0),(0,s.A)(this,"_pickupPositionInElement",void 0),(0,s.A)(this,"_pickupPositionOnPage",void 0),(0,s.A)(this,"_marker",void 0),(0,s.A)(this,"_anchor",null),(0,s.A)(this,"_passiveTransform",{x:0,y:0}),(0,s.A)(this,"_activeTransform",{x:0,y:0}),(0,s.A)(this,"_initialTransform",void 0),(0,s.A)(this,"_hasStartedDragging",h.signal.apply(void 0,[!1].concat((0,D.A)([])))),(0,s.A)(this,"_hasMoved",void 0),(0,s.A)(this,"_initialContainer",void 0),(0,s.A)(this,"_initialIndex",void 0),(0,s.A)(this,"_parentPositions",void 0),(0,s.A)(this,"_moveEvents",new f.B),(0,s.A)(this,"_pointerDirectionDelta",void 0),(0,s.A)(this,"_pointerPositionAtLastDirectionChange",void 0),(0,s.A)(this,"_lastKnownPointerPosition",void 0),(0,s.A)(this,"_rootElement",void 0),(0,s.A)(this,"_ownerSVGElement",void 0),(0,s.A)(this,"_rootElementTapHighlight",void 0),(0,s.A)(this,"_pointerMoveSubscription",p.yU.EMPTY),(0,s.A)(this,"_pointerUpSubscription",p.yU.EMPTY),(0,s.A)(this,"_scrollSubscription",p.yU.EMPTY),(0,s.A)(this,"_resizeSubscription",p.yU.EMPTY),(0,s.A)(this,"_lastTouchEventTime",void 0),(0,s.A)(this,"_dragStartTime",void 0),(0,s.A)(this,"_boundaryElement",null),(0,s.A)(this,"_nativeInteractionsEnabled",!0),(0,s.A)(this,"_initialDomRect",void 0),(0,s.A)(this,"_previewRect",void 0),(0,s.A)(this,"_boundaryRect",void 0),(0,s.A)(this,"_previewTemplate",void 0),(0,s.A)(this,"_placeholderTemplate",void 0),(0,s.A)(this,"_handles",[]),(0,s.A)(this,"_disabledHandles",new Set),(0,s.A)(this,"_dropContainer",void 0),(0,s.A)(this,"_direction","ltr"),(0,s.A)(this,"_parentDragRef",void 0),(0,s.A)(this,"_cachedShadowRoot",void 0),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"dragStartDelay",0),(0,s.A)(this,"previewClass",void 0),(0,s.A)(this,"scale",1),(0,s.A)(this,"_disabled",!1),(0,s.A)(this,"beforeStarted",new f.B),(0,s.A)(this,"started",new f.B),(0,s.A)(this,"released",new f.B),(0,s.A)(this,"ended",new f.B),(0,s.A)(this,"entered",new f.B),(0,s.A)(this,"exited",new f.B),(0,s.A)(this,"dropped",new f.B),(0,s.A)(this,"moved",this._moveEvents),(0,s.A)(this,"data",void 0),(0,s.A)(this,"constrainPosition",void 0),(0,s.A)(this,"_pointerDown",function(c){if(d.beforeStarted.next(),d._handles.length){var u=d._getTargetHandle(c);u&&!d._disabledHandles.has(u)&&!d.disabled&&d._initializeDragSequence(u,c)}else d.disabled||d._initializeDragSequence(d._rootElement,c)}),(0,s.A)(this,"_pointerMove",function(c){var u=d._getPointerPositionOnPage(c);if(d._hasStartedDragging()){c.cancelable&&c.preventDefault();var F=d._getConstrainedPointerPosition(u);if(d._hasMoved=!0,d._lastKnownPointerPosition=u,d._updatePointerDirectionDelta(F),d._dropContainer)d._updateActiveDropContainer(F,u);else{var k=d.constrainPosition?d._initialDomRect:d._pickupPositionOnPage,V=d._activeTransform;V.x=F.x-k.x+d._passiveTransform.x,V.y=F.y-k.y+d._passiveTransform.y,d._applyRootElementTransform(V.x,V.y)}d._moveEvents.observers.length&&d._ngZone.run(function(){d._moveEvents.next({source:d,pointerPosition:F,event:c,distance:d._getDragDistance(F),delta:d._pointerDirectionDelta})})}else if(Math.abs(u.x-d._pickupPositionOnPage.x)+Math.abs(u.y-d._pickupPositionOnPage.y)>=d._config.dragStartThreshold){var L=Date.now()>=d._dragStartTime+d._getDragStartDelay(c),M=d._dropContainer;if(!L)return void d._endDragSequence(c);(!M||!M.isDragging()&&!M.isReceiving())&&(c.cancelable&&c.preventDefault(),d._hasStartedDragging.set(!0),d._ngZone.run(function(){return d._startDragSequence(c)}))}}),(0,s.A)(this,"_pointerUp",function(c){d._endDragSequence(c)}),(0,s.A)(this,"_nativeDragStart",function(c){if(d._handles.length){var u=d._getTargetHandle(c);u&&!d._disabledHandles.has(u)&&!d.disabled&&c.preventDefault()}else d.disabled||c.preventDefault()}),this._config=e,this._document=i,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=r,this._renderer=l,this.withRootElement(o).withParent(e.parentDragRef||null),this._parentPositions=new me(i),r.registerDragItem(this)},[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(i){return H(i,e)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var i=this;this._handles=e.map(function(n){return(0,N.i8)(n)}),this._handles.forEach(function(n){return H(n,i.disabled)}),this._toggleNativeDragInteractions();var t=new Set;return this._disabledHandles.forEach(function(n){i._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var i=this,t=(0,N.i8)(e);if(t!==this._rootElement){this._removeRootElementListeners();var n=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(function(){return[n.listen(t,"mousedown",i._pointerDown,Ee),n.listen(t,"touchstart",i._pointerDown,ot),n.listen(t,"dragstart",i._nativeDragStart,Ee)]}),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var i=this;return this._boundaryElement=e?(0,N.i8)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return i._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){var e,i;this._removeRootElementListeners(),this.isDragging()&&(null===(i=this._rootElement)||void 0===i||i.remove()),null===(e=this._marker)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"resetToBoundary",value:function(){if(this._boundaryElement&&this._rootElement&&function tt(a,o){return o.left<a.left||o.left+o.width>a.right||o.top<a.top||o.top+o.height>a.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){var e=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),t=0,n=0;i.left<e.left?t=e.left-i.left:i.right>e.right&&(t=e.right-i.right),i.top<e.top?n=e.top-i.top:i.bottom>e.bottom&&(n=e.bottom-i.bottom);var d=this._activeTransform.x+t,c=this._activeTransform.y+n;this._rootElement.style.transform=z(d,c),this._activeTransform={x:d,y:c},this._passiveTransform={x:d,y:c}}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),H(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),H(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"withPreviewContainer",value:function(e){return this._previewContainer=e,this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeListeners",value:function(){var e;this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),null===(e=this._cleanupShadowRootSelectStart)||void 0===e||e.call(this),this._cleanupShadowRootSelectStart=void 0}},{key:"_destroyPreview",value:function(){var e;null===(e=this._preview)||void 0===e||e.destroy(),this._preview=null}},{key:"_destroyPlaceholder",value:function(){var e,i,t;null===(e=this._anchor)||void 0===e||e.remove(),null===(i=this._placeholder)||void 0===i||i.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var i=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){i._cleanupDragArtifacts(e),i._cleanupCachedDimensions(),i._dragDropRegistry.stopDragging(i)});else{this._passiveTransform.x=this._activeTransform.x;var t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){i.ended.next({source:i,distance:i._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(e){var i=this;W(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._getShadowRoot(),n=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(function(){i._cleanupShadowRootSelectStart=i._renderer.listen(t,"selectstart",lt,st)}),n){var r=this._rootElement,l=r.parentNode,d=this._placeholder=this._createPlaceholderElement(),c=this._marker=this._marker||this._document.createComment("");l.insertBefore(c,r),this._initialTransform=r.style.transform||"",this._preview=new rt(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(l,t)),ye(r,!1,be),this._document.body.appendChild(l.replaceChild(d,r)),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,i){var t=this;this._parentDragRef&&i.stopPropagation();var n=this.isDragging(),r=W(i),l=!r&&0!==i.button,d=this._rootElement,c=(0,j.Fb)(i),u=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=r?(0,ce.w)(i):(0,ce._)(i);if(c&&c.draggable&&"mousedown"===i.type&&i.preventDefault(),!(n||l||u||g)){if(this._handles.length){var y=d.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(M){return t._updateOnScroll(M)}),this._boundaryElement&&(this._boundaryRect=te(this._boundaryElement));var C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,i);var L=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:L.x,y:L.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}}},{key:"_cleanupDragArtifacts",value:function(e){var i=this;ye(this._rootElement,!0,be),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var t=i._dropContainer,n=t.getItemIndex(i),r=i._getPointerPositionOnPage(e),l=i._getDragDistance(r),d=t._isOverContainer(r.x,r.y);i.ended.next({source:i,distance:l,dropPoint:r,event:e}),i.dropped.next({item:i,currentIndex:n,previousIndex:i._initialIndex,container:t,previousContainer:i._initialContainer,isPointerOverContainer:d,distance:l,dropPoint:r,event:e}),t.drop(i,n,i._initialIndex,i._initialContainer,d,l,r,e),i._dropContainer=i._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,i){var t=this,n=e.x,r=e.y,l=i.x,d=i.y,c=this._initialContainer._getSiblingContainerFromPosition(this,n,r);!c&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,r)&&(c=this._initialContainer),c&&c!==this._dropContainer&&this._ngZone.run(function(){var u,g=t._dropContainer.getItemIndex(t),y=(null===(u=t._dropContainer.getItemAtIndex(g+1))||void 0===u?void 0:u.getVisibleElement())||null;t.exited.next({item:t,container:t._dropContainer}),t._dropContainer.exit(t),t._conditionallyInsertAnchor(c,t._dropContainer,y),t._dropContainer=c,t._dropContainer.enter(t,n,r,c===t._initialContainer&&c.sortingDisabled?t._initialIndex:void 0),t.entered.next({item:t,container:c,currentIndex:c.getItemIndex(t)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(l,d),this._dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,r):this._applyPreviewTransform(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);var t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(n){var r=function(u){(!u||e._preview&&(0,j.Fb)(u)===e._preview.element&&"transform"===u.propertyName)&&(d(),n(),clearTimeout(l))},l=setTimeout(r,1.5*t),d=e._preview.addEventListener("transitionend",r)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),this._placeholderRef.detectChanges(),t=De(this._placeholderRef,this._document)):t=ee(this._rootElement),t.style.pointerEvents="none",t.classList.add(Se),t}},{key:"_getPointerPositionInElement",value:function(e,i,t){var n=i===this._rootElement?null:i,r=n?n.getBoundingClientRect():e,l=W(t)?t.targetTouches[0]:t,d=this._getViewportScrollPosition();return{x:r.left-e.left+(l.pageX-r.left-d.left),y:r.top-e.top+(l.pageY-r.top-d.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var i=this._getViewportScrollPosition(),t=W(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=t.pageX-i.left,r=t.pageY-i.top;if(this._ownerSVGElement){var l=this._ownerSVGElement.getScreenCTM();if(l){var d=this._ownerSVGElement.createSVGPoint();return d.x=n,d.y=r,d.matrixTransform(l.inverse())}}return{x:n,y:r}}},{key:"_getConstrainedPointerPosition",value:function(e){var i=this._dropContainer?this._dropContainer.lockAxis:null,t=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e,n=t.x,r=t.y;if("x"===this.lockAxis||"x"===i?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===i)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){var l=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,d=l.x,c=l.y,u=this._boundaryRect,g=this._getPreviewRect(),L=u.top+c,M=u.bottom-(g.height-c);n=Ie(n,u.left+d,u.right-(g.width-d)),r=Ie(r,L,M)}return{x:n,y:r}}},{key:"_updatePointerDirectionDelta",value:function(e){var i=e.x,t=e.y,n=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,l=Math.abs(i-r.x),d=Math.abs(t-r.y);return l>this._config.pointerDirectionChangeThreshold&&(n.x=i>r.x?1:-1,r.x=i),d>this._config.pointerDirectionChangeThreshold&&(n.y=t>r.y?1:-1,r.y=t),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,H(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(){var e;null===(e=this._rootElementCleanups)||void 0===e||e.forEach(function(i){return i()}),this._rootElementCleanups=void 0}},{key:"_applyRootElementTransform",value:function(e,i){var t=1/this.scale,n=z(e*t,i*t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Y(n,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(e,i){var t,n=null!==(t=this._previewTemplate)&&void 0!==t&&t.template?void 0:this._initialTransform,r=z(e,i);this._preview.setTransform(Y(r,n))}},{key:"_getDragDistance",value:function(e){var i=this._pickupPositionOnPage;return i?{x:e.x-i.x,y:e.y-i.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,i=e.x,t=e.y;if(!(0===i&&0===t||this.isDragging())&&this._boundaryElement){var n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===n.width&&0===n.height)){var l=r.left-n.left,d=n.right-r.right,c=r.top-n.top,u=n.bottom-r.bottom;r.width>n.width?(l>0&&(i+=l),d>0&&(i-=d)):i=0,r.height>n.height?(c>0&&(t+=c),u>0&&(t-=u)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}}}},{key:"_getDragStartDelay",value:function(e){var i=this.dragStartDelay;return"number"==typeof i?i:W(e)?i.touch:i?i.mouse:0}},{key:"_updateOnScroll",value:function(e){var i=this._parentPositions.handleScroll(e);if(i){var t=(0,j.Fb)(e);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&U(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,j.KT)(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(e,i){var t=this._previewContainer||"global";if("parent"===t)return e;if("global"===t){var n=this._document;return i||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return(0,N.i8)(t)}},{key:"_getPreviewRect",value:function(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}},{key:"_getTargetHandle",value:function(e){return this._handles.find(function(i){return e.target&&(e.target===i||i.contains(e.target))})}},{key:"_conditionallyInsertAnchor",value:function(e,i,t){var n;if(e===this._initialContainer)null===(n=this._anchor)||void 0===n||n.remove(),this._anchor=null;else if(i===this._initialContainer&&i.hasAnchor){var r,l=null!==(r=this._anchor)&&void 0!==r?r:this._anchor=ee(this._placeholder);l.classList.remove(Se),l.classList.add("cdk-drag-anchor"),l.style.transform="",t?t.before(l):(0,N.i8)(i.element).appendChild(l)}}}])}();function Ie(a,o,e){return Math.max(o,Math.min(e,a))}function W(a){return"t"===a.type[0]}function lt(a){a.preventDefault()}function oe(a,o,e){var i=K(o,a.length-1),t=K(e,a.length-1);if(i!==t){for(var n=a[i],r=t<i?-1:1,l=i;l!==t;l+=r)a[l]=a[l+r];a[t]=n}}function dt(a,o,e,i){var t=K(e,a.length-1),n=K(i,o.length);a.length&&o.splice(n,0,a.splice(t,1)[0])}function ht(a,o,e,i){var t=K(i,o.length);a.length&&o.splice(t,0,a[e])}function K(a,o){return Math.max(0,Math.min(o,a))}var Ce=function(){return(0,m.A)(function a(o){(0,v.A)(this,a),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_element",void 0),(0,s.A)(this,"_sortPredicate",void 0),(0,s.A)(this,"_itemPositions",[]),(0,s.A)(this,"_activeDraggables",void 0),(0,s.A)(this,"orientation","vertical"),(0,s.A)(this,"direction",void 0),(0,s.A)(this,"_previousSwap",{drag:null,delta:0,overlaps:!1}),this._dragDropRegistry=o},[{key:"start",value:function(e){this.withItems(e)}},{key:"sort",value:function(e,i,t,n){var r=this._itemPositions,l=this._getItemIndexFromPointerPosition(e,i,t,n);if(-1===l&&r.length>0)return null;var d="horizontal"===this.orientation,c=r.findIndex(function(k){return k.drag===e}),u=r[l],y=u.clientRect,C=c>l?1:-1,L=this._getItemOffsetPx(r[c].clientRect,y,C),M=this._getSiblingOffsetPx(c,r,C),F=r.slice();return oe(r,c,l),r.forEach(function(k,V){if(F[V]!==k){var Ue=k.drag===e,he=Ue?L:M,ze=Ue?e.getPlaceholderElement():k.drag.getRootElement();k.offset+=he;var We=Math.round(k.offset*(1/k.drag.scale));d?(ze.style.transform=Y("translate3d(".concat(We,"px, 0, 0)"),k.initialTransform),U(k.clientRect,0,he)):(ze.style.transform=Y("translate3d(0, ".concat(We,"px, 0)"),k.initialTransform),U(k.clientRect,he,0))}}),this._previousSwap.overlaps=ie(y,i,t),this._previousSwap.drag=u.drag,this._previousSwap.delta=d?n.x:n.y,{previousIndex:c,currentIndex:l}}},{key:"enter",value:function(e,i,t,n){var r=null==n||n<0?this._getItemIndexFromPointerPosition(e,i,t):n,l=this._activeDraggables,d=l.indexOf(e),c=e.getPlaceholderElement(),u=l[r];if(u===e&&(u=l[r+1]),!u&&(null==r||-1===r||r<l.length-1)&&this._shouldEnterAsFirstChild(i,t)&&(u=l[0]),d>-1&&l.splice(d,1),u&&!this._dragDropRegistry.isDragging(u)){var g=u.getRootElement();g.parentElement.insertBefore(c,g),l.splice(r,0,e)}else this._element.appendChild(c),l.push(e);c.style.transform="",this._cacheItemPositions()}},{key:"withItems",value:function(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}},{key:"withSortPredicate",value:function(e){this._sortPredicate=e}},{key:"reset",value:function(){var e,i=this;null===(e=this._activeDraggables)||void 0===e||e.forEach(function(t){var n=t.getRootElement();if(n){var r,l=null===(r=i._itemPositions.find(function(d){return d.drag===t}))||void 0===r?void 0:r.initialTransform;n.style.transform=l||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}},{key:"getActiveItemsSnapshot",value:function(){return this._activeDraggables}},{key:"getItemIndex",value:function(e){return this._getVisualItemPositions().findIndex(function(i){return i.drag===e})}},{key:"getItemAtIndex",value:function(e){var i;return(null===(i=this._getVisualItemPositions()[e])||void 0===i?void 0:i.drag)||null}},{key:"updateOnScroll",value:function(e,i){var t=this;this._itemPositions.forEach(function(n){U(n.clientRect,e,i)}),this._itemPositions.forEach(function(n){var r=n.drag;t._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}},{key:"withElementContainer",value:function(e){this._element=e}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(function(i){var t=i.getVisibleElement();return{drag:i,offset:0,initialTransform:t.style.transform||"",clientRect:te(t)}}).sort(function(i,t){return e?i.clientRect.left-t.clientRect.left:i.clientRect.top-t.clientRect.top})}},{key:"_getVisualItemPositions",value:function(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}},{key:"_getItemOffsetPx",value:function(e,i,t){var n="horizontal"===this.orientation,r=n?i.left-e.left:i.top-e.top;return-1===t&&(r+=n?i.width-e.width:i.height-e.height),r}},{key:"_getSiblingOffsetPx",value:function(e,i,t){var n="horizontal"===this.orientation,r=i[e].clientRect,l=i[e+-1*t],d=r[n?"width":"height"]*t;if(l){var c=n?"left":"top",u=n?"right":"bottom";-1===t?d-=l.clientRect[c]-r[u]:d+=r[c]-l.clientRect[u]}return d}},{key:"_shouldEnterAsFirstChild",value:function(e,i){if(!this._activeDraggables.length)return!1;var t=this._itemPositions,n="horizontal"===this.orientation;if(t[0].drag!==this._activeDraggables[0]){var l=t[t.length-1].clientRect;return n?e>=l.right:i>=l.bottom}var d=t[0].clientRect;return n?e<=d.left:i<=d.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,i,t,n){var r=this,l="horizontal"===this.orientation,d=this._itemPositions.findIndex(function(c){var u=c.drag,g=c.clientRect;return u!==e&&((!n||u!==r._previousSwap.drag||!r._previousSwap.overlaps||(l?n.x:n.y)!==r._previousSwap.delta)&&(l?i>=Math.floor(g.left)&&i<Math.floor(g.right):t>=Math.floor(g.top)&&t<Math.floor(g.bottom)))});return-1!==d&&this._sortPredicate(d,e)?d:-1}}])}(),ct=function(){return(0,m.A)(function a(o,e){(0,v.A)(this,a),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_element",void 0),(0,s.A)(this,"_sortPredicate",void 0),(0,s.A)(this,"_rootNode",void 0),(0,s.A)(this,"_activeItems",void 0),(0,s.A)(this,"_previousSwap",{drag:null,deltaX:0,deltaY:0,overlaps:!1}),(0,s.A)(this,"_relatedNodes",[]),this._document=o,this._dragDropRegistry=e},[{key:"start",value:function(e){var i=this._element.childNodes;this._relatedNodes=[];for(var t=0;t<i.length;t++){var n=i[t];this._relatedNodes.push([n,n.nextSibling])}this.withItems(e)}},{key:"sort",value:function(e,i,t,n){var r=this._getItemIndexFromPointerPosition(e,i,t),l=this._previousSwap;if(-1===r||this._activeItems[r]===e)return null;var d=this._activeItems[r];if(l.drag===d&&l.overlaps&&l.deltaX===n.x&&l.deltaY===n.y)return null;var c=this.getItemIndex(e),u=e.getPlaceholderElement(),g=d.getRootElement();r>c?g.after(u):g.before(u),oe(this._activeItems,c,r);var y=this._getRootNode().elementFromPoint(i,t);return l.deltaX=n.x,l.deltaY=n.y,l.drag=d,l.overlaps=g===y||g.contains(y),{previousIndex:c,currentIndex:r}}},{key:"enter",value:function(e,i,t,n){var r=this._activeItems.indexOf(e);r>-1&&this._activeItems.splice(r,1);var l=null==n||n<0?this._getItemIndexFromPointerPosition(e,i,t):n;-1===l&&(l=this._getClosestItemIndexToPointer(e,i,t));var d=this._activeItems[l];d&&!this._dragDropRegistry.isDragging(d)?(this._activeItems.splice(l,0,e),d.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}},{key:"withItems",value:function(e){this._activeItems=e.slice()}},{key:"withSortPredicate",value:function(e){this._sortPredicate=e}},{key:"reset",value:function(){for(var e=this._element,i=this._previousSwap,t=this._relatedNodes.length-1;t>-1;t--){var n=(0,A.A)(this._relatedNodes[t],2),r=n[0],l=n[1];r.parentNode===e&&r.nextSibling!==l&&(null===l?e.appendChild(r):l.parentNode===e&&e.insertBefore(r,l))}this._relatedNodes=[],this._activeItems=[],i.drag=null,i.deltaX=i.deltaY=0,i.overlaps=!1}},{key:"getActiveItemsSnapshot",value:function(){return this._activeItems}},{key:"getItemIndex",value:function(e){return this._activeItems.indexOf(e)}},{key:"getItemAtIndex",value:function(e){return this._activeItems[e]||null}},{key:"updateOnScroll",value:function(){var e=this;this._activeItems.forEach(function(i){e._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}},{key:"withElementContainer",value:function(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}},{key:"_getItemIndexFromPointerPosition",value:function(e,i,t){var n=this._getRootNode().elementFromPoint(Math.floor(i),Math.floor(t)),r=n?this._activeItems.findIndex(function(l){var d=l.getRootElement();return n===d||d.contains(n)}):-1;return-1!==r&&this._sortPredicate(r,e)?r:-1}},{key:"_getRootNode",value:function(){return this._rootNode||(this._rootNode=(0,j.KT)(this._element)||this._document),this._rootNode}},{key:"_getClosestItemIndexToPointer",value:function(e,i,t){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;for(var n=1/0,r=-1,l=0;l<this._activeItems.length;l++){var d=this._activeItems[l];if(d!==e){var c=d.getRootElement().getBoundingClientRect(),y=Math.hypot(i-c.x,t-c.y);y<n&&(n=y,r=l)}}return r}}])}(),O=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(O||{}),T=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(T||{}),xe=function(){return(0,m.A)(function a(o,e,i,t,n){var r=this;(0,v.A)(this,a),(0,s.A)(this,"_dragDropRegistry",void 0),(0,s.A)(this,"_ngZone",void 0),(0,s.A)(this,"_viewportRuler",void 0),(0,s.A)(this,"element",void 0),(0,s.A)(this,"disabled",!1),(0,s.A)(this,"sortingDisabled",!1),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"autoScrollDisabled",!1),(0,s.A)(this,"autoScrollStep",2),(0,s.A)(this,"hasAnchor",!1),(0,s.A)(this,"enterPredicate",function(){return!0}),(0,s.A)(this,"sortPredicate",function(){return!0}),(0,s.A)(this,"beforeStarted",new f.B),(0,s.A)(this,"entered",new f.B),(0,s.A)(this,"exited",new f.B),(0,s.A)(this,"dropped",new f.B),(0,s.A)(this,"sorted",new f.B),(0,s.A)(this,"receivingStarted",new f.B),(0,s.A)(this,"receivingStopped",new f.B),(0,s.A)(this,"data",void 0),(0,s.A)(this,"_container",void 0),(0,s.A)(this,"_isDragging",!1),(0,s.A)(this,"_parentPositions",void 0),(0,s.A)(this,"_sortStrategy",void 0),(0,s.A)(this,"_domRect",void 0),(0,s.A)(this,"_draggables",[]),(0,s.A)(this,"_siblings",[]),(0,s.A)(this,"_activeSiblings",new Set),(0,s.A)(this,"_viewportScrollSubscription",p.yU.EMPTY),(0,s.A)(this,"_verticalScrollDirection",O.NONE),(0,s.A)(this,"_horizontalScrollDirection",T.NONE),(0,s.A)(this,"_scrollNode",void 0),(0,s.A)(this,"_stopScrollTimers",new f.B),(0,s.A)(this,"_cachedShadowRoot",null),(0,s.A)(this,"_document",void 0),(0,s.A)(this,"_scrollableElements",[]),(0,s.A)(this,"_initialScrollSnap",void 0),(0,s.A)(this,"_direction","ltr"),(0,s.A)(this,"_startScrollInterval",function(){r._stopScrolling(),function I(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a<0&&(a=0),(0,P.O)(a,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.E)}(0,x.X).pipe((0,$.Q)(r._stopScrollTimers)).subscribe(function(){var d=r._scrollNode,c=r.autoScrollStep;r._verticalScrollDirection===O.UP?d.scrollBy(0,-c):r._verticalScrollDirection===O.DOWN&&d.scrollBy(0,c),r._horizontalScrollDirection===T.LEFT?d.scrollBy(-c,0):r._horizontalScrollDirection===T.RIGHT&&d.scrollBy(c,0)})}),this._dragDropRegistry=e,this._ngZone=t,this._viewportRuler=n;var l=this.element=(0,N.i8)(o);this._document=i,this.withOrientation("vertical").withElementContainer(l),e.registerDropContainer(this),this._parentPositions=new me(i)},[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,i,t,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(e)),this._sortStrategy.enter(e,i,t,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,i,t,n,r,l,d){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};this._reset(),this.dropped.next({item:e,currentIndex:i,previousIndex:t,container:this,previousContainer:n,isPointerOverContainer:r,distance:l,dropPoint:d,event:c})}},{key:"withItems",value:function(e){var i=this,t=this._draggables;return this._draggables=e,e.forEach(function(r){return r._withDropContainer(i)}),this.isDragging()&&(t.filter(function(r){return r.isDragging()}).every(function(r){return-1===e.indexOf(r)})?this._reset():this._sortStrategy.withItems(this._draggables)),this}},{key:"withDirection",value:function(e){return this._direction=e,this._sortStrategy instanceof Ce&&(this._sortStrategy.direction=e),this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){var i=this;if("mixed"===e)this._sortStrategy=new ct(this._document,this._dragDropRegistry);else{var t=new Ce(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate(function(n,r){return i.sortPredicate(n,r,i)}),this}},{key:"withScrollableParents",value:function(e){var i=this._container;return this._scrollableElements=-1===e.indexOf(i)?[i].concat((0,D.A)(e)):e.slice(),this}},{key:"withElementContainer",value:function(e){if(e===this._container)return this;(0,N.i8)(this.element);var t=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(e);return t>-1&&this._scrollableElements.splice(t,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}},{key:"getItemAtIndex",value:function(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,i,t,n){if(!this.sortingDisabled&&this._domRect&&pe(this._domRect,.05,i,t)){var r=this._sortStrategy.sort(e,i,t,n);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:e})}}},{key:"_startScrollingIfNecessary",value:function(e,i){var t=this;if(!this.autoScrollDisabled){var n,r=O.NONE,l=T.NONE;if(this._parentPositions.positions.forEach(function(y,C){if(C!==t._document&&y.clientRect&&!n&&pe(y.clientRect,.05,e,i)){var L=function ut(a,o,e,i,t){var n=Oe(o,t),r=Le(o,i),l=O.NONE,d=T.NONE;if(n){var c=a.scrollTop;n===O.UP?c>0&&(l=O.UP):a.scrollHeight-c>a.clientHeight&&(l=O.DOWN)}if(r){var u=a.scrollLeft;"rtl"===e?r===T.RIGHT?u<0&&(d=T.RIGHT):a.scrollWidth+u>a.clientWidth&&(d=T.LEFT):r===T.LEFT?u>0&&(d=T.LEFT):a.scrollWidth-u>a.clientWidth&&(d=T.RIGHT)}return[l,d]}(C,y.clientRect,t._direction,e,i),M=(0,A.A)(L,2);l=M[1],((r=M[0])||l)&&(n=C)}}),!r&&!l){var d=this._viewportRuler.getViewportSize(),c=d.width,u=d.height,g={width:c,height:u,top:0,right:c,bottom:u,left:0};r=Oe(g,i),l=Le(g,e),n=window}n&&(r!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=l,this._scrollNode=n,(r||l)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_isOverContainer",value:function(e,i){return null!=this._domRect&&ie(this._domRect,e,i)}},{key:"_getSiblingContainerFromPosition",value:function(e,i,t){return this._siblings.find(function(n){return n._canReceive(e,i,t)})}},{key:"_canReceive",value:function(e,i,t){if(!this._domRect||!ie(this._domRect,i,t)||!this.enterPredicate(e,this))return!1;var n=this._getShadowRoot().elementFromPoint(i,t);return!!n&&(n===this._container||this._container.contains(n))}},{key:"_startReceiving",value:function(e,i){var t=this,n=this._activeSiblings;!n.has(e)&&i.every(function(r){return t.enterPredicate(r,t)||t._draggables.indexOf(r)>-1})&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:i}))}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(i){if(e.isDragging()){var t=e._parentPositions.handleScroll(i);t&&e._sortStrategy.updateOnScroll(t.top,t.left)}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=(0,j.KT)(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,i=this._sortStrategy.getActiveItemsSnapshot().filter(function(t){return t.isDragging()});this._siblings.forEach(function(t){return t._startReceiving(e,i)})}}])}();function Oe(a,o){var e=a.top,i=a.bottom,n=.05*a.height;return o>=e-n&&o<=e+n?O.UP:o>=i-n&&o<=i+n?O.DOWN:O.NONE}function Le(a,o){var e=a.left,i=a.right,n=.05*a.width;return o>=e-n&&o<=e+n?T.LEFT:o>=i-n&&o<=i+n?T.RIGHT:T.NONE}var Z={capture:!0},se={passive:!1,capture:!0},_t=function(){var a,o=(0,m.A)(function e(){(0,v.A)(this,e)});return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275cmp",h.\u0275\u0275defineComponent({type:a,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,t){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})),o}(),J=function(){var a,o=function(){return(0,m.A)(function e(){var i=this;(0,v.A)(this,e),(0,s.A)(this,"_ngZone",(0,h.inject)(h.NgZone)),(0,s.A)(this,"_document",(0,h.inject)(h.DOCUMENT)),(0,s.A)(this,"_styleLoader",(0,h.inject)(Je.l)),(0,s.A)(this,"_renderer",(0,h.inject)(h.RendererFactory2).createRenderer(null,null)),(0,s.A)(this,"_cleanupDocumentTouchmove",void 0),(0,s.A)(this,"_scroll",new f.B),(0,s.A)(this,"_dropInstances",new Set),(0,s.A)(this,"_dragInstances",new Set),(0,s.A)(this,"_activeDragInstances",h.signal.apply(void 0,[[]].concat((0,D.A)([])))),(0,s.A)(this,"_globalListeners",void 0),(0,s.A)(this,"_draggingPredicate",function(t){return t.isDragging()}),(0,s.A)(this,"_domNodesToDirectives",null),(0,s.A)(this,"pointerMove",new f.B),(0,s.A)(this,"pointerUp",new f.B),(0,s.A)(this,"_preventDefaultWhileDragging",function(t){i._activeDragInstances().length>0&&t.preventDefault()}),(0,s.A)(this,"_persistentTouchmoveListener",function(t){i._activeDragInstances().length>0&&(i._activeDragInstances().some(i._draggingPredicate)&&t.preventDefault(),i.pointerMove.next(t))})},[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var n=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){var r;null===(r=n._cleanupDocumentTouchmove)||void 0===r||r.call(n),n._cleanupDocumentTouchmove=n._renderer.listen(n._document,"touchmove",n._persistentTouchmoveListener,se)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){var n;this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&(null===(n=this._cleanupDocumentTouchmove)||void 0===n||n.call(this))}},{key:"startDragging",value:function(t,n){var r=this;if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(_t),this._activeDragInstances.update(function(u){return[].concat((0,D.A)(u),[t])}),1===this._activeDragInstances().length)){var l=n.type.startsWith("touch"),d=function(g){return r.pointerUp.next(g)},c=[["scroll",function(u){return r._scroll.next(u)},Z],["selectstart",this._preventDefaultWhileDragging,se]];l?c.push(["touchend",d,Z],["touchcancel",d,Z]):c.push(["mouseup",d,Z]),l||c.push(["mousemove",function(u){return r.pointerMove.next(u)},se]),this._ngZone.runOutsideAngular(function(){r._globalListeners=c.map(function(u){var g=(0,A.A)(u,3);return r._renderer.listen(r._document,g[0],g[1],g[2])})})}}},{key:"stopDragging",value:function(t){this._activeDragInstances.update(function(n){var r=n.indexOf(t);return r>-1?(n.splice(r,1),(0,D.A)(n)):n}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances().indexOf(t)>-1}},{key:"scrolled",value:function(t){var n=this,r=[this._scroll];return t&&t!==this._document&&r.push(new S.c(function(l){return n._ngZone.runOutsideAngular(function(){var d=n._renderer.listen(t,"scroll",function(c){n._activeDragInstances().length&&l.next(c)},Z);return function(){d()}})})),b.h.apply(void 0,r)}},{key:"registerDirectiveNode",value:function(t,n){var r;null!==(r=this._domNodesToDirectives)&&void 0!==r||(this._domNodesToDirectives=new WeakMap),this._domNodesToDirectives.set(t,n)}},{key:"removeDirectiveNode",value:function(t){var n;null===(n=this._domNodesToDirectives)||void 0===n||n.delete(t)}},{key:"getDragDirectiveForNode",value:function(t){var n;return(null===(n=this._domNodesToDirectives)||void 0===n?void 0:n.get(t))||null}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(n){return t.removeDragItem(n)}),this._dropInstances.forEach(function(n){return t.removeDropContainer(n)}),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t;null===(t=this._globalListeners)||void 0===t||t.forEach(function(n){return n()}),this._globalListeners=void 0}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275prov",h.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})),o}(),vt={dragStartThreshold:5,pointerDirectionChangeThreshold:5},X=function(){var a,o=function(){return(0,m.A)(function e(){(0,v.A)(this,e),(0,s.A)(this,"_document",(0,h.inject)(h.DOCUMENT)),(0,s.A)(this,"_ngZone",(0,h.inject)(h.NgZone)),(0,s.A)(this,"_viewportRuler",(0,h.inject)(Q.ViewportRuler)),(0,s.A)(this,"_dragDropRegistry",(0,h.inject)(J)),(0,s.A)(this,"_renderer",(0,h.inject)(h.RendererFactory2).createRenderer(null,null))},[{key:"createDrag",value:function(t){return new ke(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}},{key:"createDropList",value:function(t){return new xe(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275prov",h.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})),o}(),G=new h.InjectionToken("CDK_DRAG_PARENT"),ae=new h.InjectionToken("CdkDragHandle"),Me=function(){var a,o=function(){return(0,m.A)(function e(){var i;(0,v.A)(this,e),(0,s.A)(this,"element",(0,h.inject)(h.ElementRef)),(0,s.A)(this,"_parentDrag",(0,h.inject)(G,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_dragDropRegistry",(0,h.inject)(J)),(0,s.A)(this,"_stateChanges",new f.B),(0,s.A)(this,"_disabled",!1),null===(i=this._parentDrag)||void 0===i||i._addHandle(this)},[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._stateChanges.next(this)}},{key:"ngAfterViewInit",value:function(){if(!this._parentDrag)for(var t=this.element.nativeElement.parentElement;t;){var n=this._dragDropRegistry.getDragDirectiveForNode(t);if(n){this._parentDrag=n,n._addHandle(this);break}t=t.parentElement}}},{key:"ngOnDestroy",value:function(){var t;null===(t=this._parentDrag)||void 0===t||t._removeHandle(this),this._stateChanges.complete()}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",h.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",h.booleanAttribute]},features:[h.\u0275\u0275ProvidersFeature([{provide:ae,useExisting:a}])]})),o}(),le=new h.InjectionToken("CDK_DRAG_CONFIG"),de=new h.InjectionToken("CdkDropList"),Ne=function(){var a,o=function(){return(0,m.A)(function e(){var i=this;(0,v.A)(this,e),(0,s.A)(this,"element",(0,h.inject)(h.ElementRef)),(0,s.A)(this,"dropContainer",(0,h.inject)(de,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_ngZone",(0,h.inject)(h.NgZone)),(0,s.A)(this,"_viewContainerRef",(0,h.inject)(h.ViewContainerRef)),(0,s.A)(this,"_dir",(0,h.inject)(_e.dS,{optional:!0})),(0,s.A)(this,"_changeDetectorRef",(0,h.inject)(h.ChangeDetectorRef)),(0,s.A)(this,"_selfHandle",(0,h.inject)(ae,{optional:!0,self:!0})),(0,s.A)(this,"_parentDrag",(0,h.inject)(G,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_dragDropRegistry",(0,h.inject)(J)),(0,s.A)(this,"_destroyed",new f.B),(0,s.A)(this,"_handles",new Ke.t([])),(0,s.A)(this,"_previewTemplate",void 0),(0,s.A)(this,"_placeholderTemplate",void 0),(0,s.A)(this,"_dragRef",void 0),(0,s.A)(this,"data",void 0),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"rootElementSelector",void 0),(0,s.A)(this,"boundaryElement",void 0),(0,s.A)(this,"dragStartDelay",void 0),(0,s.A)(this,"freeDragPosition",void 0),(0,s.A)(this,"_disabled",void 0),(0,s.A)(this,"constrainPosition",void 0),(0,s.A)(this,"previewClass",void 0),(0,s.A)(this,"previewContainer",void 0),(0,s.A)(this,"scale",1),(0,s.A)(this,"started",new h.EventEmitter),(0,s.A)(this,"released",new h.EventEmitter),(0,s.A)(this,"ended",new h.EventEmitter),(0,s.A)(this,"entered",new h.EventEmitter),(0,s.A)(this,"exited",new h.EventEmitter),(0,s.A)(this,"dropped",new h.EventEmitter),(0,s.A)(this,"moved",new S.c(function(l){var d=i._dragRef.moved.pipe((0,Ze.T)(function(c){return{source:i,pointerPosition:c.pointerPosition,event:c.event,delta:c.delta,distance:c.distance}})).subscribe(l);return function(){d.unsubscribe()}})),(0,s.A)(this,"_injector",(0,h.inject)(h.Injector));var t=this.dropContainer,n=(0,h.inject)(le,{optional:!0}),r=(0,h.inject)(X);this._dragRef=r.createDrag(this.element,{dragStartThreshold:n&&null!=n.dragStartThreshold?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&null!=n.pointerDirectionChangeThreshold?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe((0,$.Q)(this._destroyed)).subscribe(function(){i._dragRef.scale=i.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)},[{key:"disabled",get:function(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)},set:function(t){this._disabled=t,this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"resetToBoundary",value:function(){this._dragRef.resetToBoundary()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"setFreeDragPosition",value:function(t){this._dragRef.setFreeDragPosition(t)}},{key:"ngAfterViewInit",value:function(){var t=this;(0,h.afterNextRender)(function(){t._updateRootElement(),t._setupHandlesListener(),t._dragRef.scale=t.scale,t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)},{injector:this._injector})}},{key:"ngOnChanges",value:function(t){var n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){var t=this;this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(function(){t._handles.complete(),t._destroyed.next(),t._destroyed.complete(),t._dragRef.dispose()})}},{key:"_addHandle",value:function(t){var n=this._handles.getValue();n.push(t),this._handles.next(n)}},{key:"_removeHandle",value:function(t){var n=this._handles.getValue(),r=n.indexOf(t);r>-1&&(n.splice(r,1),this._handles.next(n))}},{key:"_setPreviewTemplate",value:function(t){this._previewTemplate=t}},{key:"_resetPreviewTemplate",value:function(t){t===this._previewTemplate&&(this._previewTemplate=null)}},{key:"_setPlaceholderTemplate",value:function(t){this._placeholderTemplate=t}},{key:"_resetPlaceholderTemplate",value:function(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}},{key:"_updateRootElement",value:function(){var r,t=this.element.nativeElement,n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):null===(r=t.parentElement)||void 0===r?void 0:r.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,N.i8)(t):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var r=n._dir,l=n.dragStartDelay,d=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,c=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.scale=n.scale,t.dragStartDelay="object"==typeof l&&l?l:(0,N.OE)(l),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(c).withPreviewContainer(n.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe((0,$e.s)(1)).subscribe(function(){if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var r=n.element.nativeElement.parentElement;r;){var l=n._dragDropRegistry.getDragDirectiveForNode(r);if(l){t.withParent(l._dragRef);break}r=r.parentElement}})}},{key:"_handleEvents",value:function(t){var n=this;t.started.subscribe(function(r){n.started.emit({source:n,event:r.event}),n._changeDetectorRef.markForCheck()}),t.released.subscribe(function(r){n.released.emit({source:n,event:r.event})}),t.ended.subscribe(function(r){n.ended.emit({source:n,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),n._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(r){n.entered.emit({container:r.container.data,item:n,currentIndex:r.currentIndex})}),t.exited.subscribe(function(r){n.exited.emit({container:r.container.data,item:n})}),t.dropped.subscribe(function(r){n.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:n,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}},{key:"_assignDefaults",value:function(t){var n=t.lockAxis,r=t.dragStartDelay,l=t.constrainPosition,d=t.previewClass,c=t.boundaryElement,g=t.rootElementSelector,y=t.previewContainer;this.disabled=t.draggingDisabled??!1,this.dragStartDelay=r||0,this.lockAxis=n||null,l&&(this.constrainPosition=l),d&&(this.previewClass=d),c&&(this.boundaryElement=c),g&&(this.rootElementSelector=g),y&&(this.previewContainer=y)}},{key:"_setupHandlesListener",value:function(){var t=this;this._handles.pipe((0,Qe.M)(function(n){var r=n.map(function(l){return l.element});t._selfHandle&&t.rootElementSelector&&r.push(t.element),t._dragRef.withHandles(r)}),(0,Ye.n)(function(n){return b.h.apply(void 0,(0,D.A)(n.map(function(r){return r._stateChanges.pipe((0,ue.Z)(r))})))}),(0,$.Q)(this._destroyed)).subscribe(function(n){var r=t._dragRef,l=n.element.nativeElement;n.disabled?r.disableHandle(l):r.enableHandle(l)})}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",h.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,t){2&i&&h.\u0275\u0275classProp("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",h.booleanAttribute],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",h.numberAttribute]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[h.\u0275\u0275ProvidersFeature([{provide:G,useExisting:a}]),h.\u0275\u0275NgOnChangesFeature]})),o}(),q=new h.InjectionToken("CdkDropListGroup"),Fe=function(){var a,o=function(){return(0,m.A)(function e(){(0,v.A)(this,e),(0,s.A)(this,"_items",new Set),(0,s.A)(this,"disabled",!1)},[{key:"ngOnDestroy",value:function(){this._items.clear()}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",h.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",h.booleanAttribute]},exportAs:["cdkDropListGroup"],features:[h.\u0275\u0275ProvidersFeature([{provide:q,useExisting:a}])]})),o}(),Be=function(){var a,o=function(){function e(){var i=this;(0,v.A)(this,e),(0,s.A)(this,"element",(0,h.inject)(h.ElementRef)),(0,s.A)(this,"_changeDetectorRef",(0,h.inject)(h.ChangeDetectorRef)),(0,s.A)(this,"_scrollDispatcher",(0,h.inject)(Q.ScrollDispatcher)),(0,s.A)(this,"_dir",(0,h.inject)(_e.dS,{optional:!0})),(0,s.A)(this,"_group",(0,h.inject)(q,{optional:!0,skipSelf:!0})),(0,s.A)(this,"_latestSortedRefs",void 0),(0,s.A)(this,"_destroyed",new f.B),(0,s.A)(this,"_scrollableParentsResolved",void 0),(0,s.A)(this,"_dropListRef",void 0),(0,s.A)(this,"connectedTo",[]),(0,s.A)(this,"data",void 0),(0,s.A)(this,"orientation",void 0),(0,s.A)(this,"id",(0,h.inject)(Xe.g).getId("cdk-drop-list-")),(0,s.A)(this,"lockAxis",null),(0,s.A)(this,"_disabled",void 0),(0,s.A)(this,"sortingDisabled",void 0),(0,s.A)(this,"enterPredicate",function(){return!0}),(0,s.A)(this,"sortPredicate",function(){return!0}),(0,s.A)(this,"autoScrollDisabled",void 0),(0,s.A)(this,"autoScrollStep",void 0),(0,s.A)(this,"elementContainerSelector",void 0),(0,s.A)(this,"hasAnchor",void 0),(0,s.A)(this,"dropped",new h.EventEmitter),(0,s.A)(this,"entered",new h.EventEmitter),(0,s.A)(this,"exited",new h.EventEmitter),(0,s.A)(this,"sorted",new h.EventEmitter),(0,s.A)(this,"_unsortedItems",new Set);var t=(0,h.inject)(X),n=(0,h.inject)(le,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,n&&this._assignDefaults(n),this._dropListRef.enterPredicate=function(r,l){return i.enterPredicate(r.data,l.data)},this._dropListRef.sortPredicate=function(r,l,d){return i.sortPredicate(r,l.data,d.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),this._group&&this._group._items.add(this)}return(0,m.A)(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=t}},{key:"addItem",value:function(t){this._unsortedItems.add(t),t._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(function(n){return n._dragRef}))}},{key:"removeItem",value:function(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){var n=this._latestSortedRefs.indexOf(t._dragRef);n>-1&&(this._latestSortedRefs.splice(n,1),this._syncItemsWithRef(this._latestSortedRefs))}}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(t,n){return t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe((0,ue.Z)(this._dir.value),(0,$.Q)(this._destroyed)).subscribe(function(r){return t.withDirection(r)}),t.beforeStarted.subscribe(function(){var r=(0,qe.F)(n.connectedTo).map(function(c){return"string"==typeof c?e._dropLists.find(function(g){return g.id===c}):c});if(n._group&&n._group._items.forEach(function(c){-1===r.indexOf(c)&&r.push(c)}),!n._scrollableParentsResolved){var l=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(c){return c.getElementRef().nativeElement});n._dropListRef.withScrollableParents(l),n._scrollableParentsResolved=!0}if(n.elementContainerSelector){var d=n.element.nativeElement.querySelector(n.elementContainerSelector);t.withElementContainer(d)}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=n.sortingDisabled,t.autoScrollDisabled=n.autoScrollDisabled,t.autoScrollStep=(0,N.OE)(n.autoScrollStep,2),t.hasAnchor=n.hasAnchor,t.connectedTo(r.filter(function(c){return c&&c!==n}).map(function(c){return c._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(t){var n=this;t.beforeStarted.subscribe(function(){n._syncItemsWithRef(n.getSortedItems().map(function(r){return r._dragRef})),n._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(r){n.entered.emit({container:n,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(function(r){n.exited.emit({container:n,item:r.item.data}),n._changeDetectorRef.markForCheck()}),t.sorted.subscribe(function(r){n.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:n,item:r.item.data})}),t.dropped.subscribe(function(r){n.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),n._changeDetectorRef.markForCheck()}),(0,b.h)(t.receivingStarted,t.receivingStopped).subscribe(function(){return n._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(t){var n=t.lockAxis,l=t.sortingDisabled,d=t.listAutoScrollDisabled,c=t.listOrientation;this.disabled=t.draggingDisabled??!1,this.sortingDisabled=l??!1,this.autoScrollDisabled=d??!1,this.orientation=c||"vertical",this.lockAxis=n||null}},{key:"_syncItemsWithRef",value:function(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}}])}();return a=o,(0,s.A)(o,"_dropLists",[]),(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",h.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,t){2&i&&(h.\u0275\u0275attribute("id",t.id),h.\u0275\u0275classProp("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",h.booleanAttribute],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",h.booleanAttribute],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",h.booleanAttribute],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",h.booleanAttribute]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[h.\u0275\u0275ProvidersFeature([{provide:q,useValue:void 0},{provide:de,useExisting:a}])]})),o}(),je=new h.InjectionToken("CdkDragPreview"),He=function(){var a,o=function(){return(0,m.A)(function e(){var i;(0,v.A)(this,e),(0,s.A)(this,"templateRef",(0,h.inject)(h.TemplateRef)),(0,s.A)(this,"_drag",(0,h.inject)(G,{optional:!0})),(0,s.A)(this,"data",void 0),(0,s.A)(this,"matchSize",!1),null===(i=this._drag)||void 0===i||i._setPreviewTemplate(this)},[{key:"ngOnDestroy",value:function(){var t;null===(t=this._drag)||void 0===t||t._resetPreviewTemplate(this)}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",h.\u0275\u0275defineDirective({type:a,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:[2,"matchSize","matchSize",h.booleanAttribute]},features:[h.\u0275\u0275ProvidersFeature([{provide:je,useExisting:a}])]})),o}(),Ge=new h.InjectionToken("CdkDragPlaceholder"),Ve=function(){var a,o=function(){return(0,m.A)(function e(){var i;(0,v.A)(this,e),(0,s.A)(this,"templateRef",(0,h.inject)(h.TemplateRef)),(0,s.A)(this,"_drag",(0,h.inject)(G,{optional:!0})),(0,s.A)(this,"data",void 0),null===(i=this._drag)||void 0===i||i._setPlaceholderTemplate(this)},[{key:"ngOnDestroy",value:function(){var t;null===(t=this._drag)||void 0===t||t._resetPlaceholderTemplate(this)}}])}();return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275dir",h.\u0275\u0275defineDirective({type:a,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[h.\u0275\u0275ProvidersFeature([{provide:Ge,useExisting:a}])]})),o}(),gt=function(){var a,o=(0,m.A)(function e(){(0,v.A)(this,e)});return a=o,(0,s.A)(o,"\u0275fac",function(i){return new(i||a)}),(0,s.A)(o,"\u0275mod",h.\u0275\u0275defineNgModule({type:a})),(0,s.A)(o,"\u0275inj",h.\u0275\u0275defineInjector({providers:[X],imports:[Q.CdkScrollableModule]})),o}()},61780:(B,w,_)=>{function E(D){return 0===D.buttons||0===D.detail}function A(D){var v=D.touches&&D.touches[0]||D.changedTouches&&D.changedTouches[0];return!(!v||-1!==v.identifier||null!=v.radiusX&&1!==v.radiusX||null!=v.radiusY&&1!==v.radiusY)}_.d(w,{_:()=>E,w:()=>A})},54149:(B,w,_)=>{_.d(w,{g:()=>s});var E=_(43288),A=_(63398),D=_(40642),v=_(49431),m={},s=function(){var h,f=function(){return(0,A.A)(function p(){(0,E.A)(this,p),(0,D.A)(this,"_appId",(0,v.inject)(v.APP_ID))},[{key:"getId",value:function(P){return"ng"!==this._appId&&(P+=this._appId),m.hasOwnProperty(P)||(m[P]=0),"".concat(P).concat(m[P]++)}}])}();return h=f,(0,D.A)(f,"\u0275fac",function(R){return new(R||h)}),(0,D.A)(f,"\u0275prov",v.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})),f}()},70297:(B,w,_)=>{var E;function A(){if(null==E){var s=typeof document<"u"?document.head:null;E=!(!s||!s.createShadowRoot&&!s.attachShadow)}return E}function D(s){if(A()){var h=s.getRootNode?s.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&h instanceof ShadowRoot)return h}return null}function v(){for(var s=typeof document<"u"&&document?document.activeElement:null;s&&s.shadowRoot;){var h=s.shadowRoot.activeElement;if(h===s)break;s=h}return s}function m(s){return s.composedPath?s.composedPath()[0]:s.target}_.d(w,{Fb:()=>m,KT:()=>D,cm:()=>A,vc:()=>v})},86739:(B,w,_)=>{_.d(w,{l:()=>s});var E=_(43288),A=_(63398),D=_(40642),v=_(49431),m=new WeakMap,s=function(){var h,f=function(){return(0,A.A)(function p(){(0,E.A)(this,p),(0,D.A)(this,"_appRef",void 0),(0,D.A)(this,"_injector",(0,v.inject)(v.Injector)),(0,D.A)(this,"_environmentInjector",(0,v.inject)(v.EnvironmentInjector))},[{key:"load",value:function(P){var I=this._appRef=this._appRef||this._injector.get(v.ApplicationRef),x=m.get(I);x||(m.set(I,x={loaders:new Set,refs:[]}),I.onDestroy(function(){var S;null===(S=m.get(I))||void 0===S||S.refs.forEach(function(b){return b.destroy()}),m.delete(I)})),x.loaders.has(P)||(x.loaders.add(P),x.refs.push((0,v.createComponent)(P,{environmentInjector:this._environmentInjector})))}}])}();return h=f,(0,D.A)(f,"\u0275fac",function(R){return new(R||h)}),(0,D.A)(f,"\u0275prov",v.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})),f}()}}]);
//# sourceMappingURL=1413.50f3c2d2c9ddd449.js.map