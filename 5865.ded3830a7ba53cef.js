(self.webpackChunkspear=self.webpackChunkspear||[]).push([[5865,7330],{2575:(k,T,e)=>{e.d(T,{B:()=>s});var D=e(8473),p=e(819),c=e(1687);function s(I){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.E;return(0,p.N)(function(M,f){var o=null,v=null,u=null,d=function(){if(o){o.unsubscribe(),o=null;var i=v;v=null,f.next(i)}};function E(){var _=u+I,i=a.now();if(i<_)return o=this.schedule(void 0,_-i),void f.add(o);d()}M.subscribe((0,c._)(f,function(_){v=_,u=a.now(),o||(o=a.schedule(E,I),f.add(o))},function(){d(),f.complete()},void 0,function(){v=o=null}))})}},1817:(k,T,e)=>{e.d(T,{F:()=>s});var D=e(1440),p=e(819),c=e(1687);function s(a){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.D;return a=a??I,(0,p.N)(function(f,o){var v,u=!0;f.subscribe((0,c._)(o,function(d){var E=M(d);(u||!a(v,E))&&(u=!1,v=E,o.next(d))}))})}function I(a,M){return a===M}},7470:(k,T,e)=>{e.d(T,{i:()=>p});var D=e(1567);function p(c){return(0,D.p)(function(s,I){return c<=I})}},1953:(k,T,e)=>{e.d(T,{s:()=>s});var D=e(9400),p=e(819),c=e(1687);function s(I){return I<=0?function(){return D.w}:(0,p.N)(function(a,M){var f=0;a.subscribe((0,c._)(M,function(o){++f<=I&&(M.next(o),I<=f&&M.complete())}))})}},8764:(k,T,e)=>{e.d(T,{M:()=>I});var D=e(1530),p=e(819),c=e(1687),s=e(1440);function I(a,M,f){var o=(0,D.T)(a)||M||f?{next:a,error:M,complete:f}:a;return o?(0,p.N)(function(v,u){var d;null===(d=o.subscribe)||void 0===d||d.call(o);var E=!0;v.subscribe((0,c._)(u,function(_){var i;null===(i=o.next)||void 0===i||i.call(o,_),u.next(_)},function(){var _;E=!1,null===(_=o.complete)||void 0===_||_.call(o),u.complete()},function(_){var i;E=!1,null===(i=o.error)||void 0===i||i.call(o,_),u.error(_)},function(){var _,i;E&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(i=o.finalize)||void 0===i||i.call(o)}))}):s.D}},428:(k,T,e)=>{e.d(T,{R:()=>v});var D=e(3288),p=e(3398),c=e(2297),s=e(792),I=e(3544),M=function(u){function d(E,_){return(0,D.A)(this,d),(0,c.A)(this,d)}return(0,I.A)(d,u),(0,p.A)(d,[{key:"schedule",value:function(_){return this}}])}(e(7092).yU),f={setInterval:function(u){function d(E,_){return u.apply(this,arguments)}return d.toString=function(){return u.toString()},d}(function(u,d){for(var E=f.delegate,_=arguments.length,i=new Array(_>2?_-2:0),R=2;R<_;R++)i[R-2]=arguments[R];return E?.setInterval?E.setInterval.apply(E,[u,d].concat(i)):setInterval.apply(void 0,[u,d].concat(i))}),clearInterval:function(u){function d(E){return u.apply(this,arguments)}return d.toString=function(){return u.toString()},d}(function(u){var d=f.delegate;return(d?.clearInterval||clearInterval)(u)}),delegate:void 0},o=e(967),v=function(u){function d(E,_){var i;return(0,D.A)(this,d),(i=(0,c.A)(this,d,[E,_])).scheduler=E,i.work=_,i.pending=!1,i}return(0,I.A)(d,u),(0,p.A)(d,[{key:"schedule",value:function(_){var R,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=_;var K=this.id,B=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(B,K,i)),this.pending=!0,this.delay=i,this.id=null!==(R=this.id)&&void 0!==R?R:this.requestAsyncId(B,this.id,i),this}},{key:"requestAsyncId",value:function(_,i){var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f.setInterval(_.flush.bind(_,this),R)}},{key:"recycleAsyncId",value:function(_,i){var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=R&&this.delay===R&&!1===this.pending)return i;null!=i&&f.clearInterval(i)}},{key:"execute",value:function(_,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var R=this._execute(_,i);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(_,i){var K,R=!1;try{this.work(_)}catch(B){R=!0,K=B||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),K}},{key:"unsubscribe",value:function(){if(!this.closed){var _=this.id,i=this.scheduler,R=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.o)(R,this),null!=_&&(this.id=this.recycleAsyncId(i,_,null)),this.delay=null,(0,s.A)(d,"unsubscribe",this,3)([])}}}])}(M)},9576:(k,T,e)=>{e.d(T,{q:()=>M});var D=e(3288),p=e(3398),c=e(2297),s=e(3544),I=e(5152),a=function(){return(0,p.A)(function f(o){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.now;(0,D.A)(this,f),this.schedulerActionCtor=o,this.now=v},[{key:"schedule",value:function(v){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,v).schedule(d,u)}}])}();a.now=I.U.now;var M=function(f){function o(v){var u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.now;return(0,D.A)(this,o),(u=(0,c.A)(this,o,[v,d])).actions=[],u._active=!1,u}return(0,s.A)(o,f),(0,p.A)(o,[{key:"flush",value:function(u){var d=this.actions;if(this._active)d.push(u);else{var E;this._active=!0;do{if(E=u.execute(u.state,u.delay))break}while(u=d.shift());if(this._active=!1,E){for(;u=d.shift();)u.unsubscribe();throw E}}}}])}(a)},8473:(k,T,e)=>{e.d(T,{E:()=>c,b:()=>s});var D=e(428),c=new(e(9576).q)(D.R),s=c},5152:(k,T,e)=>{e.d(T,{U:()=>D});var D={now:function(){return(D.delegate||Date).now()},delegate:void 0}},2551:(k,T,e)=>{e.d(T,{A:()=>c});var D=e(3942),p=e(1530);function c(s){return!!s&&(s instanceof D.c||(0,p.T)(s.lift)&&(0,p.T)(s.subscribe))}},113:(k,T,e)=>{e.r(T),e.d(T,{A11yModule:()=>f.Pd,ActiveDescendantKeyManager:()=>R,AriaDescriber:()=>w,CDK_DESCRIBEDBY_HOST_ATTRIBUTE:()=>S,CDK_DESCRIBEDBY_ID_PREFIX:()=>L,CdkAriaLive:()=>f.e2,CdkMonitorFocus:()=>M.vR,CdkTrapFocus:()=>f.kB,ConfigurableFocusTrap:()=>V,ConfigurableFocusTrapFactory:()=>J,EventListenerFocusTrapInertStrategy:()=>z,FOCUS_MONITOR_DEFAULT_OPTIONS:()=>M.jH,FOCUS_TRAP_INERT_STRATEGY:()=>H,FocusKeyManager:()=>K.B,FocusMonitor:()=>M.FN,FocusMonitorDetectionMode:()=>M.TD,FocusTrap:()=>f.sp,FocusTrapFactory:()=>f.GX,HighContrastMode:()=>f.QJ,HighContrastModeDetector:()=>f.Q_,INPUT_MODALITY_DETECTOR_DEFAULT_OPTIONS:()=>M.xe,INPUT_MODALITY_DETECTOR_OPTIONS:()=>M.$Y,InputModalityDetector:()=>M.Uc,InteractivityChecker:()=>f.Z7,IsFocusableConfig:()=>f.DV,LIVE_ANNOUNCER_DEFAULT_OPTIONS:()=>f.WM,LIVE_ANNOUNCER_ELEMENT_TOKEN:()=>f.Qy,LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY:()=>f.Nz,ListKeyManager:()=>i.l,LiveAnnouncer:()=>f.Ai,MESSAGES_CONTAINER_ID:()=>x,NOOP_TREE_KEY_MANAGER_FACTORY:()=>Q,NOOP_TREE_KEY_MANAGER_FACTORY_PROVIDER:()=>Z,NoopTreeKeyManager:()=>X,TREE_KEY_MANAGER:()=>O.Z2,TREE_KEY_MANAGER_FACTORY:()=>O.SI,TREE_KEY_MANAGER_FACTORY_PROVIDER:()=>O.CC,TreeKeyManager:()=>O.ZX,_IdGenerator:()=>o.g,addAriaReferencedId:()=>C,getAriaReferenceIds:()=>F,isFakeMousedownFromScreenReader:()=>n._,isFakeTouchstartFromScreenReader:()=>n.w,removeAriaReferencedId:()=>P});var D=e(2297),p=e(792),c=e(3544),s=e(3288),I=e(3398),a=e(642),M=e(6423),f=e(9935),o=e(4149),v=e(5240),u=e(2481),d=e(7579),E=e(6739),_=e(9227),i=e(7314),R=function(y){function h(){return(0,s.A)(this,h),(0,D.A)(this,h,arguments)}return(0,c.A)(h,y),(0,I.A)(h,[{key:"setActiveItem",value:function(A){this.activeItem&&this.activeItem.setInactiveStyles(),(0,p.A)(h,"setActiveItem",this,3)([A]),this.activeItem&&this.activeItem.setActiveStyles()}}])}(i.l),K=e(9122),B=e(4205),O=e(7338),n=e(1780),l=" ";function C(y,h,g){var A=F(y,h);g=g.trim(),!A.some(function(r){return r.trim()===g})&&(A.push(g),y.setAttribute(h,A.join(l)))}function P(y,h,g){var A=F(y,h);g=g.trim();var r=A.filter(function(t){return t!==g});r.length?y.setAttribute(h,r.join(l)):y.removeAttribute(h)}function F(y,h){var g,A=y.getAttribute(h);return null!==(g=A?.match(/\S+/g))&&void 0!==g?g:[]}var x="cdk-describedby-message-container",L="cdk-describedby-message",S="cdk-describedby-host",W=0,w=function(){var y,h=function(){return(0,I.A)(function g(){(0,s.A)(this,g),(0,a.A)(this,"_platform",(0,v.WQX)(d.O)),(0,a.A)(this,"_document",(0,v.WQX)(v.qQL)),(0,a.A)(this,"_messageRegistry",new Map),(0,a.A)(this,"_messagesContainer",null),(0,a.A)(this,"_id","".concat(W++)),(0,v.WQX)(E.l).load(_._VisuallyHiddenLoader),this._id=(0,v.WQX)(u.sZ2)+"-"+W++},[{key:"describe",value:function(r,t,m){if(this._canBeDescribed(r,t)){var b=Y(t,m);"string"!=typeof t?(G(t,this._id),this._messageRegistry.set(b,{messageElement:t,referenceCount:0})):this._messageRegistry.has(b)||this._createMessageElement(t,m),this._isElementDescribedByMessage(r,b)||this._addMessageReference(r,b)}}},{key:"removeDescription",value:function(r,t,m){var b;if(t&&this._isElementNode(r)){var N=Y(t,m);if(this._isElementDescribedByMessage(r,N)&&this._removeMessageReference(r,N),"string"==typeof t){var j=this._messageRegistry.get(N);j&&0===j.referenceCount&&this._deleteMessageElement(N)}0===(null===(b=this._messagesContainer)||void 0===b?void 0:b.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}}},{key:"ngOnDestroy",value:function(){for(var r,t=this._document.querySelectorAll("[".concat(S,'="').concat(this._id,'"]')),m=0;m<t.length;m++)this._removeCdkDescribedByReferenceIds(t[m]),t[m].removeAttribute(S);null===(r=this._messagesContainer)||void 0===r||r.remove(),this._messagesContainer=null,this._messageRegistry.clear()}},{key:"_createMessageElement",value:function(r,t){var m=this._document.createElement("div");G(m,this._id),m.textContent=r,t&&m.setAttribute("role",t),this._createMessagesContainer(),this._messagesContainer.appendChild(m),this._messageRegistry.set(Y(r,t),{messageElement:m,referenceCount:0})}},{key:"_deleteMessageElement",value:function(r){var t;null===(t=this._messageRegistry.get(r))||void 0===t||null===(t=t.messageElement)||void 0===t||t.remove(),this._messageRegistry.delete(r)}},{key:"_createMessagesContainer",value:function(){if(!this._messagesContainer){for(var r="cdk-describedby-message-container",t=this._document.querySelectorAll(".".concat(r,'[platform="server"]')),m=0;m<t.length;m++)t[m].remove();var b=this._document.createElement("div");b.style.visibility="hidden",b.classList.add(r),b.classList.add("cdk-visually-hidden"),this._platform.isBrowser||b.setAttribute("platform","server"),this._document.body.appendChild(b),this._messagesContainer=b}}},{key:"_removeCdkDescribedByReferenceIds",value:function(r){var t=F(r,"aria-describedby").filter(function(m){return 0!=m.indexOf(L)});r.setAttribute("aria-describedby",t.join(" "))}},{key:"_addMessageReference",value:function(r,t){var m=this._messageRegistry.get(t);C(r,"aria-describedby",m.messageElement.id),r.setAttribute(S,this._id),m.referenceCount++}},{key:"_removeMessageReference",value:function(r,t){var m=this._messageRegistry.get(t);m.referenceCount--,P(r,"aria-describedby",m.messageElement.id),r.removeAttribute(S)}},{key:"_isElementDescribedByMessage",value:function(r,t){var m=F(r,"aria-describedby"),b=this._messageRegistry.get(t),N=b&&b.messageElement.id;return!!N&&-1!=m.indexOf(N)}},{key:"_canBeDescribed",value:function(r,t){if(!this._isElementNode(r))return!1;if(t&&"object"==typeof t)return!0;var m=null==t?"":"".concat(t).trim(),b=r.getAttribute("aria-label");return!(!m||b&&b.trim()===m)}},{key:"_isElementNode",value:function(r){return r.nodeType===this._document.ELEMENT_NODE}}])}();return y=h,(0,a.A)(h,"\u0275fac",function(A){return new(A||y)}),(0,a.A)(h,"\u0275prov",v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})),h}();function Y(y,h){return"string"==typeof y?"".concat(h||"","/").concat(y):y}function G(y,h){y.id||(y.id="".concat(L,"-").concat(h,"-").concat(W++))}var X=function(){return(0,I.A)(function y(){(0,s.A)(this,y),(0,a.A)(this,"_isNoopTreeKeyManager",!0),(0,a.A)(this,"change",new B.B)},[{key:"destroy",value:function(){this.change.complete()}},{key:"onKeydown",value:function(){}},{key:"getActiveItemIndex",value:function(){return null}},{key:"getActiveItem",value:function(){return null}},{key:"focusItem",value:function(){}}])}();function Q(){return function(){return new X}}var Z={provide:O.Z2,useFactory:Q},V=function(y){function h(g,A,r,t,m,b,N,j){var U;return(0,s.A)(this,h),U=(0,D.A)(this,h,[g,A,r,t,N.defer,j]),(0,a.A)(U,"_focusTrapManager",void 0),(0,a.A)(U,"_inertStrategy",void 0),U._focusTrapManager=m,U._inertStrategy=b,U._focusTrapManager.register(U),U}return(0,c.A)(h,y),(0,I.A)(h,[{key:"enabled",get:function(){return this._enabled},set:function(A){this._enabled=A,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}},{key:"destroy",value:function(){this._focusTrapManager.deregister(this),(0,p.A)(h,"destroy",this,3)([])}},{key:"_enable",value:function(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}},{key:"_disable",value:function(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}])}(f.sp),z=function(){return(0,I.A)(function y(){(0,s.A)(this,y),(0,a.A)(this,"_listener",null)},[{key:"preventFocus",value:function(g){var A=this;this._listener&&g._document.removeEventListener("focus",this._listener,!0),this._listener=function(r){return A._trapFocus(g,r)},g._ngZone.runOutsideAngular(function(){g._document.addEventListener("focus",A._listener,!0)})}},{key:"allowFocus",value:function(g){this._listener&&(g._document.removeEventListener("focus",this._listener,!0),this._listener=null)}},{key:"_trapFocus",value:function(g,A){var r,t=A.target,m=g._element;t&&!m.contains(t)&&(null===(r=t.closest)||void 0===r||!r.call(t,"div.cdk-overlay-pane"))&&setTimeout(function(){g.enabled&&!m.contains(g._document.activeElement)&&g.focusFirstTabbableElement()})}}])}(),H=new v.nKC("FOCUS_TRAP_INERT_STRATEGY"),$=function(){var y,h=function(){return(0,I.A)(function g(){(0,s.A)(this,g),(0,a.A)(this,"_focusTrapStack",[])},[{key:"register",value:function(r){this._focusTrapStack=this._focusTrapStack.filter(function(m){return m!==r});var t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(r),r._enable()}},{key:"deregister",value:function(r){r._disable();var t=this._focusTrapStack,m=t.indexOf(r);-1!==m&&(t.splice(m,1),t.length&&t[t.length-1]._enable())}}])}();return y=h,(0,a.A)(h,"\u0275fac",function(A){return new(A||y)}),(0,a.A)(h,"\u0275prov",v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})),h}(),J=function(){var y,h=function(){return(0,I.A)(function g(){(0,s.A)(this,g),(0,a.A)(this,"_checker",(0,v.WQX)(f.Z7)),(0,a.A)(this,"_ngZone",(0,v.WQX)(u.SKi)),(0,a.A)(this,"_focusTrapManager",(0,v.WQX)($)),(0,a.A)(this,"_document",(0,v.WQX)(v.qQL)),(0,a.A)(this,"_inertStrategy",void 0),(0,a.A)(this,"_injector",(0,v.WQX)(v.zZn));var A=(0,v.WQX)(H,{optional:!0});this._inertStrategy=A||new z},[{key:"create",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defer:!1};return new V(r,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,"boolean"==typeof t?{defer:t}:t,this._injector)}}])}();return y=h,(0,a.A)(h,"\u0275fac",function(A){return new(A||y)}),(0,a.A)(h,"\u0275prov",v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})),h}()},9626:(k,T,e)=>{function D(p){return Array.isArray(p)?p:[p]}e.d(T,{F:()=>D})},2810:(k,T,e)=>{e.d(T,{x:()=>c});var D=e(2551),p=e(9452);function c(s){return(0,D.A)(s)?s:(0,p.of)(s)}},6338:(k,T,e)=>{e.d(T,{OE:()=>p,i8:()=>s,o1:()=>c});var D=e(2481);function p(I){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c(I)?Number(I):2===arguments.length?a:0}function c(I){return!isNaN(parseFloat(I))&&!isNaN(Number(I))}function s(I){return I instanceof D.aKT?I.nativeElement:I}},7579:(k,T,e)=>{e.d(T,{O:()=>f});var M,D=e(3398),p=e(3288),c=e(642),s=e(5240),I=e(2481),a=e(316);try{M=typeof Intl<"u"&&Intl.v8BreakIterator}catch{M=!1}var f=function(){var o,v=(0,D.A)(function u(){(0,p.A)(this,u),(0,c.A)(this,"_platformId",(0,s.WQX)(I.Agw)),(0,c.A)(this,"isBrowser",this._platformId?(0,a.UE)(this._platformId):"object"==typeof document&&!!document),(0,c.A)(this,"EDGE",this.isBrowser&&/(edge)/i.test(navigator.userAgent)),(0,c.A)(this,"TRIDENT",this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent)),(0,c.A)(this,"BLINK",this.isBrowser&&!(!window.chrome&&!M)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT),(0,c.A)(this,"WEBKIT",this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT),(0,c.A)(this,"IOS",this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)),(0,c.A)(this,"FIREFOX",this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent)),(0,c.A)(this,"ANDROID",this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT),(0,c.A)(this,"SAFARI",this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT)});return o=v,(0,c.A)(v,"\u0275fac",function(d){return new(d||o)}),(0,c.A)(v,"\u0275prov",s.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})),v}()},6739:(k,T,e)=>{e.d(T,{l:()=>f});var D=e(3288),p=e(3398),c=e(642),s=e(5240),I=e(2481),a=e(9148),M=new WeakMap,f=function(){var o,v=function(){return(0,p.A)(function u(){(0,D.A)(this,u),(0,c.A)(this,"_appRef",void 0),(0,c.A)(this,"_injector",(0,s.WQX)(s.zZn)),(0,c.A)(this,"_environmentInjector",(0,s.WQX)(s.uvJ))},[{key:"load",value:function(E){var _=this._appRef=this._appRef||this._injector.get(I.o8S),i=M.get(_);i||(M.set(_,i={loaders:new Set,refs:[]}),_.onDestroy(function(){var R;null===(R=M.get(_))||void 0===R||R.refs.forEach(function(K){return K.destroy()}),M.delete(_)})),i.loaders.has(E)||(i.loaders.add(E),i.refs.push((0,a.a0P)(E,{environmentInjector:this._environmentInjector})))}}])}();return o=v,(0,c.A)(v,"\u0275fac",function(d){return new(d||o)}),(0,c.A)(v,"\u0275prov",s.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})),v}()},7338:(k,T,e)=>{e.d(T,{CC:()=>K,SI:()=>i,Z2:()=>R,ZX:()=>_});var D=e(438),p=e(3288),c=e(3398),s=e(642),I=e(2481),a=e(5240),M=e(7092),f=e(4205),o=e(2551),v=e(9452),u=e(1953),d=e(729),E=e(2810),_=function(){return(0,c.A)(function B(O,n){var l=this;(0,p.A)(this,B),(0,s.A)(this,"_activeItemIndex",-1),(0,s.A)(this,"_activeItem",null),(0,s.A)(this,"_shouldActivationFollowFocus",!1),(0,s.A)(this,"_horizontalOrientation","ltr"),(0,s.A)(this,"_skipPredicateFn",function(C){return!1}),(0,s.A)(this,"_trackByFn",function(C){return C}),(0,s.A)(this,"_items",[]),(0,s.A)(this,"_typeahead",void 0),(0,s.A)(this,"_typeaheadSubscription",M.yU.EMPTY),(0,s.A)(this,"_hasInitialFocused",!1),(0,s.A)(this,"change",new f.B),O instanceof I.rOR?(this._items=O.toArray(),O.changes.subscribe(function(C){var P;l._items=C.toArray(),null===(P=l._typeahead)||void 0===P||P.setItems(l._items),l._updateActiveItemIndex(l._items),l._initializeFocus()})):(0,o.A)(O)?O.subscribe(function(C){var P;l._items=C,null===(P=l._typeahead)||void 0===P||P.setItems(C),l._updateActiveItemIndex(C),l._initializeFocus()}):(this._items=O,this._initializeFocus()),"boolean"==typeof n.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=n.shouldActivationFollowFocus),n.horizontalOrientation&&(this._horizontalOrientation=n.horizontalOrientation),n.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),n.trackBy&&(this._trackByFn=n.trackBy),typeof n.typeAheadDebounceInterval<"u"&&this._setTypeAhead(n.typeAheadDebounceInterval)},[{key:"_initializeFocus",value:function(){if(!this._hasInitialFocused&&0!==this._items.length){for(var n=0,l=0;l<this._items.length;l++)if(!this._skipPredicateFn(this._items[l])&&!this._isItemDisabled(this._items[l])){n=l;break}var P,F,C=this._items[n];C.makeFocusable?(null===(P=this._activeItem)||void 0===P||P.unfocus(),this._activeItemIndex=n,this._activeItem=C,null===(F=this._typeahead)||void 0===F||F.setCurrentSelectedItemIndex(n),C.makeFocusable()):this.focusItem(n),this._hasInitialFocused=!0}}},{key:"destroy",value:function(){var n;this._typeaheadSubscription.unsubscribe(),null===(n=this._typeahead)||void 0===n||n.destroy(),this.change.complete()}},{key:"onKeydown",value:function(n){var l,C;switch(n.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===n.key){this._expandAllItemsAtCurrentItemLevel();break}return void(null===(l=this._typeahead)||void 0===l||l.handleKey(n))}null===(C=this._typeahead)||void 0===C||C.reset(),n.preventDefault()}},{key:"getActiveItemIndex",value:function(){return this._activeItemIndex}},{key:"getActiveItem",value:function(){return this._activeItem}},{key:"_focusFirstItem",value:function(){this.focusItem(this._findNextAvailableItemIndex(-1))}},{key:"_focusLastItem",value:function(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}},{key:"_focusNextItem",value:function(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}},{key:"_focusPreviousItem",value:function(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}},{key:"focusItem",value:function(n){var l,P,F,C=this,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!==(l=x.emitChangeEvent)&&void 0!==l||(x.emitChangeEvent=!0);var L="number"==typeof n?n:this._items.findIndex(function(w){return C._trackByFn(w)===C._trackByFn(n)});if(!(L<0||L>=this._items.length)){var S=this._items[L];if(null===this._activeItem||this._trackByFn(S)!==this._trackByFn(this._activeItem)){var W=this._activeItem;this._activeItem=S??null,this._activeItemIndex=L,null===(P=this._typeahead)||void 0===P||P.setCurrentSelectedItemIndex(L),null===(F=this._activeItem)||void 0===F||F.focus(),W?.unfocus(),x.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}}}},{key:"_updateActiveItemIndex",value:function(n){var l=this,C=this._activeItem;if(C){var F,P=n.findIndex(function(x){return l._trackByFn(x)===l._trackByFn(C)});P>-1&&P!==this._activeItemIndex&&(this._activeItemIndex=P,null===(F=this._typeahead)||void 0===F||F.setCurrentSelectedItemIndex(P))}}},{key:"_setTypeAhead",value:function(n){var l=this;this._typeahead=new d.i(this._items,{debounceInterval:"number"==typeof n?n:void 0,skipPredicate:function(P){return l._skipPredicateFn(P)}}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(function(C){l.focusItem(C)})}},{key:"_findNextAvailableItemIndex",value:function(n){for(var l=n+1;l<this._items.length;l++)if(!this._skipPredicateFn(this._items[l]))return l;return n}},{key:"_findPreviousAvailableItemIndex",value:function(n){for(var l=n-1;l>=0;l--)if(!this._skipPredicateFn(this._items[l]))return l;return n}},{key:"_collapseCurrentItem",value:function(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{var n=this._activeItem.getParent();if(!n||this._skipPredicateFn(n))return;this.focusItem(n)}}},{key:"_expandCurrentItem",value:function(){var n=this;this._activeItem&&(this._isCurrentItemExpanded()?(0,E.x)(this._activeItem.getChildren()).pipe((0,u.s)(1)).subscribe(function(l){var C=l.find(function(P){return!n._skipPredicateFn(P)});C&&n.focusItem(C)}):this._activeItem.expand())}},{key:"_isCurrentItemExpanded",value:function(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}},{key:"_isItemDisabled",value:function(n){var l;return"boolean"==typeof n.isDisabled?n.isDisabled:null===(l=n.isDisabled)||void 0===l?void 0:l.call(n)}},{key:"_expandAllItemsAtCurrentItemLevel",value:function(){if(this._activeItem){var n=this._activeItem.getParent();(n?(0,E.x)(n.getChildren()):(0,v.of)(this._items.filter(function(C){return null===C.getParent()}))).pipe((0,u.s)(1)).subscribe(function(C){var F,P=(0,D.A)(C);try{for(P.s();!(F=P.n()).done;)F.value.expand()}catch(L){P.e(L)}finally{P.f()}})}}},{key:"_activateCurrentItem",value:function(){var n;null===(n=this._activeItem)||void 0===n||n.activate()}}])}();function i(){return function(B,O){return new _(B,O)}}var R=new a.nKC("tree-key-manager",{providedIn:"root",factory:i}),K={provide:R,useFactory:i}}}]);
//# sourceMappingURL=5865.ded3830a7ba53cef.js.map