{
  "version": 3,
  "sources": ["../../@rollthecloudinc/aws3/fesm2022/rollthecloudinc-aws3.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { PLATFORM_ID, Inject, NgModule } from '@angular/core';\nimport * as i1 from '@rollthecloudinc/crud';\nimport { CrudAdaptorPlugin, CrudModule } from '@rollthecloudinc/crud';\nimport * as i2 from '@rollthecloudinc/auth';\nimport { AuthModule } from '@rollthecloudinc/auth';\nimport * as i6 from '@rollthecloudinc/awcog';\nimport { COGNITO_SETTINGS } from '@rollthecloudinc/awcog';\nimport { CognitoIdentityClient } from '@aws-sdk/client-cognito-identity';\nimport { S3Client } from '@aws-sdk/client-s3';\nimport { fromCognitoIdentityPool } from '@aws-sdk/credential-provider-cognito-identity';\nimport { of, iif, firstValueFrom, from } from 'rxjs';\nimport { map, switchMap, tap, take } from 'rxjs/operators';\nimport { SignatureV4 } from '@aws-sdk/signature-v4';\nimport { HttpRequest } from '@aws-sdk/protocol-http';\nimport * as sha256 from '@aws-crypto/sha256-js';\nimport * as i5 from '@rollthecloudinc/utils';\nimport { UtilsModule } from '@rollthecloudinc/utils';\nimport * as i3 from '@rollthecloudinc/dparam';\nimport * as i4 from '@angular/common/http';\nconst s3EntityCrudAdaptorPluginFactory = (platformId, authFacade, cognitoSettings, paramsEvaluatorService, http, asyncApiCallHelperSvc) => {\n  return new CrudAdaptorPlugin({\n    id: 'aws_s3_entity',\n    title: 'AWS S3 Entity',\n    create: ({\n      object,\n      identity,\n      params,\n      parentObject\n    }) => of({\n      success: false\n    }).pipe(paramsEvaluatorService.resolveParams({\n      params\n    }), switchMap(({\n      options\n    }) => identity({\n      object,\n      parentObject\n    }).pipe(map(({\n      identity\n    }) => ({\n      identity,\n      options\n    })))), switchMap(({\n      options,\n      identity\n    }) => createS3SignedHttpRequest({\n      method: \"PUT\",\n      body: JSON.stringify(object),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        host: `${options.bucket}.s3.amazonaws.com`\n      },\n      hostname: `${options.bucket}.s3.amazonaws.com`,\n      path: `${options.prefix}${identity}.json`,\n      protocol: 'https:',\n      service: \"s3\",\n      cognitoSettings: cognitoSettings,\n      authFacade: authFacade\n    }).pipe(map(signedHttpRequest => ({\n      signedHttpRequest,\n      options\n    })))), tap(({\n      signedHttpRequest\n    }) => delete signedHttpRequest.headers.host), map(({\n      signedHttpRequest,\n      options\n    }) => ({\n      signedHttpRequest,\n      options,\n      url: `https://${options.bucket}.s3.amazonaws.com${signedHttpRequest.path}`\n    })), switchMap(({\n      signedHttpRequest,\n      url\n    }) => http.put(url, JSON.stringify(object), {\n      headers: signedHttpRequest.headers,\n      withCredentials: false\n    })), map(() => ({\n      success: true\n    }))),\n    read: ({}) => of({\n      success: false\n    }),\n    update: ({\n      object,\n      identity,\n      params\n    }) => of({\n      success: false\n    }).pipe(paramsEvaluatorService.resolveParams({\n      params\n    }), switchMap(({\n      options\n    }) => identity({\n      object\n    }).pipe(map(({\n      identity\n    }) => ({\n      identity,\n      options\n    })))), switchMap(({\n      options,\n      identity\n    }) => createS3SignedHttpRequest({\n      method: \"PUT\",\n      body: JSON.stringify(object),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        host: `${options.bucket}.s3.amazonaws.com`\n      },\n      hostname: `${options.bucket}.s3.amazonaws.com`,\n      path: `${options.prefix}${identity}.json`,\n      protocol: 'https:',\n      service: \"s3\",\n      cognitoSettings: cognitoSettings,\n      authFacade: authFacade\n    }).pipe(map(signedHttpRequest => ({\n      signedHttpRequest,\n      options\n    })))), tap(({\n      signedHttpRequest\n    }) => delete signedHttpRequest.headers.host), map(({\n      signedHttpRequest,\n      options\n    }) => ({\n      signedHttpRequest,\n      options,\n      url: `https://${options.bucket}.s3.amazonaws.com${signedHttpRequest.path}`\n    })), switchMap(({\n      signedHttpRequest,\n      url\n    }) => http.put(url, JSON.stringify(object), {\n      headers: signedHttpRequest.headers,\n      withCredentials: false\n    })), map(() => ({\n      success: true\n    }))),\n    delete: ({}) => of({\n      success: false\n    }),\n    query: ({\n      rule,\n      params\n    }) => of({\n      entities: [],\n      success: false\n    }).pipe(paramsEvaluatorService.resolveParams({\n      params\n    }),\n    // This can be moved into crud adaptor and passed as argument.\n    map(({\n      options\n    }) => ({\n      options,\n      identityCondition: rule.conditions.all.map(c => c.any.find(c2 => c2.fact === 'identity')).find(c => !!c)\n    })), switchMap(({\n      identityCondition,\n      options\n    }) => iif(() => identityCondition !== undefined && identityCondition && identityCondition.fact === 'identity' && options && options.bucket,\n    // This could probably be moved into an aw util module to easily build rest queries for any aw service efficently.\n    createS3SignedHttpRequest({\n      method: \"GET\",\n      body: undefined,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        host: `${options ? options.bucket : ''}.s3.amazonaws.com`\n      },\n      hostname: `${options ? options.bucket : ''}.s3.amazonaws.com`,\n      path: `${options && options.prefix ? options.prefix : ''}${identityCondition ? identityCondition.value : ''}.json`,\n      protocol: 'https:',\n      service: \"s3\",\n      cognitoSettings: cognitoSettings,\n      authFacade: authFacade\n    }).pipe(tap(() => console.log('.marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })')), tap(signedHttpRequest => delete signedHttpRequest.headers.host),\n    // map(signedHttpRequest => ({ signedHttpRequest, options, url: `${ isPlatformServer(platformId) ? /*'http://localhost:4000'*/ `${protocol}://${hostName}` /*`https://${options.bucket}.s3.amazonaws.com`*/ : `${protocol}://${hostName}` }${ `/awproxy/s3/${(options as any).bucket}` }${signedHttpRequest.path}` })),\n    map(signedHttpRequest => ({\n      signedHttpRequest,\n      options,\n      url: `https://${options.bucket}.s3.amazonaws.com${signedHttpRequest.path}`\n    })), tap(() => console.log('.marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })')), switchMap(({\n      signedHttpRequest,\n      url\n    }) => http.get(url, {\n      headers: signedHttpRequest.headers,\n      withCredentials: false\n    })), tap(() => console.log('.marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })')), map(res => ({\n      entities: res ? [res] : [],\n      success: res ? true : false\n    }))), of({\n      entities: [],\n      success: false\n    }))))\n  });\n};\n// This will no longer be needed once write op sdk usage is replaced by signed url\nconst buildClient = (authFacade, cognitoSettings) => new S3Client({\n  region: cognitoSettings.region,\n  credentials: fromCognitoIdentityPool({\n    client: new CognitoIdentityClient({\n      region: cognitoSettings.region\n    }),\n    identityPoolId: cognitoSettings.identityPoolId,\n    logins: {\n      [`cognito-idp.${cognitoSettings.region}.amazonaws.com/${cognitoSettings.userPoolId}`]: () => firstValueFrom(authFacade.getUser$.pipe(map(u => u ? u.id_token : undefined)))\n    }\n  })\n});\nconst createS3SignedHttpRequest = ({\n  body,\n  headers,\n  hostname,\n  method = \"GET\",\n  path = \"/\",\n  port = 443,\n  protocol = \"https:\",\n  query,\n  service,\n  cognitoSettings,\n  authFacade\n}) => of(new HttpRequest({\n  body,\n  headers,\n  hostname,\n  method,\n  path,\n  port,\n  protocol,\n  query\n})).pipe(tap(() => console.log('.marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })')), switchMap(req => from(new SignatureV4({\n  credentials: fromCognitoIdentityPool({\n    client: new CognitoIdentityClient({\n      region: cognitoSettings.region\n    }),\n    identityPoolId: cognitoSettings.identityPoolId,\n    logins: {\n      [`cognito-idp.${cognitoSettings.region}.amazonaws.com/${cognitoSettings.userPoolId}`]: () => firstValueFrom(authFacade.getUser$.pipe(map(u => u ? u.id_token : undefined)))\n    }\n  }),\n  region: cognitoSettings.region,\n  service,\n  sha256: sha256.Sha256\n}).sign(req).then(signedReq => {\n  console.log('.marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })');\n  return signedReq;\n})).pipe(tap(() => console.log('.marker({ /s3/sign/after/sig })')), take(1))), map(req => req), tap(() => console.log('.marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })')));\nlet Aws3Module = /*#__PURE__*/(() => {\n  class Aws3Module {\n    constructor(cognitoSettings, platformId, cpm, authFacade, paramsEvaluatorService, http, asyncApiCallHelperSvc) {\n      cpm.register(s3EntityCrudAdaptorPluginFactory(platformId, authFacade, cognitoSettings, paramsEvaluatorService, http, asyncApiCallHelperSvc));\n    }\n    static {\n      this.\u0275fac = function Aws3Module_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || Aws3Module)(i0.\u0275\u0275inject(COGNITO_SETTINGS), i0.\u0275\u0275inject(PLATFORM_ID), i0.\u0275\u0275inject(i1.CrudAdaptorPluginManager), i0.\u0275\u0275inject(i2.AuthFacade), i0.\u0275\u0275inject(i3.ParamEvaluatorService), i0.\u0275\u0275inject(i4.HttpClient), i0.\u0275\u0275inject(i5.AsyncApiCallHelperService));\n      };\n    }\n    static {\n      this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n        type: Aws3Module\n      });\n    }\n    static {\n      this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n        imports: [UtilsModule, AuthModule, CrudModule]\n      });\n    }\n  }\n  return Aws3Module;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of aws3\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Aws3Module };\n"],
  "mappings": "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",
  "names": ["sha256", "i0", "PLATFORM_ID", "i1", "CrudAdaptorPlugin", "CrudModule", "i2", "AuthModule", "COGNITO_SETTINGS", "CognitoIdentityClient", "S3Client", "fromCognitoIdentityPool", "of", "iif", "firstValueFrom", "from", "map", "switchMap", "tap", "take", "SignatureV4", "HttpRequest", "i5", "UtilsModule", "i3", "i4", "s3EntityCrudAdaptorPluginFactory", "platformId", "authFacade", "cognitoSettings", "paramsEvaluatorService", "http", "asyncApiCallHelperSvc", "object", "identity", "params", "parentObject", "options", "createS3SignedHttpRequest", "signedHttpRequest", "url", "rule", "c", "c2", "identityCondition", "res", "createS3SignedHttpRequest", "body", "headers", "hostname", "method", "path", "port", "protocol", "query", "service", "cognitoSettings", "authFacade", "of", "HttpRequest", "tap", "switchMap", "req", "from", "SignatureV4", "fromCognitoIdentityPool", "CognitoIdentityClient", "firstValueFrom", "map", "u", "signedReq", "take", "Aws3Module", "platformId", "cpm", "paramsEvaluatorService", "http", "asyncApiCallHelperSvc", "s3EntityCrudAdaptorPluginFactory", "__ngFactoryType__", "COGNITO_SETTINGS", "PLATFORM_ID", "UtilsModule", "AuthModule", "CrudModule"]
}
