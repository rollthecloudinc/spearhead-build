(self.webpackChunkspear=self.webpackChunkspear||[]).push([[7360,6362],{137:(b,g,t)=>{t.d(g,{v:()=>h});var f=t(43942),A=t(82645);function h(O){return new f.c(function(n){(0,A.Tg)(O()).subscribe(n)})}},59452:(b,g,t)=>{t.d(g,{of:()=>h});var f=t(4083),A=t(89835);function h(){for(var O=arguments.length,n=new Array(O),_=0;_<O;_++)n[_]=arguments[_];var i=(0,f.lI)(n);return(0,A.H)(n,i)}},14876:(b,g,t)=>{t.d(g,{O:()=>n});var f=t(43942),A=t(18473),h=t(89397),O=t(15602);function n(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.b,u=-1;return null!=i&&((0,h.m)(i)?v=i:u=i),new f.c(function(y){var r=(0,O.v)(_)?+_-v.now():_;r<0&&(r=0);var s=0;return v.schedule(function(){y.closed||(y.next(s++),0<=u?this.schedule(void 0,u):y.complete())},r)})}},81692:(b,g,t)=>{t.d(g,{c:()=>u});var f=t(18473),A=t(23513),h=t(64334),O=t(7242),n=t(87378),_=t(1365);function i(y,r){return r?function(s){return(0,A.x)(r.pipe((0,h.s)(1),(0,O.w)()),s.pipe(i(y)))}:(0,_.Z)(function(s,p){return y(s,p).pipe((0,h.s)(1),(0,n.u)(s))})}var v=t(14876);function u(y){var s=(0,v.O)(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.E);return i(function(){return s})}},7242:(b,g,t)=>{t.d(g,{w:()=>O});var f=t(50819),A=t(91687),h=t(54318);function O(){return(0,f.N)(function(n,_){n.subscribe((0,A._)(_,h.l))})}},87378:(b,g,t)=>{t.d(g,{u:()=>A});var f=t(70271);function A(h){return(0,f.T)(function(){return h})}},36647:(b,g,t)=>{t.d(g,{n:()=>O});var f=t(82645),A=t(50819),h=t(91687);function O(n,_){return(0,A.N)(function(i,v){var u=null,y=0,r=!1,s=function(){return r&&!u&&v.complete()};i.subscribe((0,h._)(v,function(p){u?.unsubscribe();var d=0,c=y++;(0,f.Tg)(n(p,c)).subscribe(u=(0,h._)(v,function(M){return v.next(_?_(p,M,c,d++):M)},function(){u=null,s()}))},function(){r=!0,s()}))})}},64334:(b,g,t)=>{t.d(g,{s:()=>O});var f=t(59400),A=t(50819),h=t(91687);function O(n){return n<=0?function(){return f.w}:(0,A.N)(function(_,i){var v=0;_.subscribe((0,h._)(i,function(u){++v<=n&&(i.next(u),n<=v&&i.complete())}))})}},98764:(b,g,t)=>{t.d(g,{M:()=>n});var f=t(81530),A=t(50819),h=t(91687),O=t(1440);function n(_,i,v){var u=(0,f.T)(_)||i||v?{next:_,error:i,complete:v}:_;return u?(0,A.N)(function(y,r){var s;null===(s=u.subscribe)||void 0===s||s.call(u);var p=!0;y.subscribe((0,h._)(r,function(d){var c;null===(c=u.next)||void 0===c||c.call(u,d),r.next(d)},function(){var d;p=!1,null===(d=u.complete)||void 0===d||d.call(u),r.complete()},function(d){var c;p=!1,null===(c=u.error)||void 0===c||c.call(u,d),r.error(d)},function(){var d,c;p&&(null===(d=u.unsubscribe)||void 0===d||d.call(u)),null===(c=u.finalize)||void 0===c||c.call(u)}))}):O.D}},90428:(b,g,t)=>{t.d(g,{R:()=>y});var f=t(43288),A=t(63398),h=t(82297),O=t(792),n=t(13544),i=function(r){function s(p,d){return(0,f.A)(this,s),(0,h.A)(this,s)}return(0,n.A)(s,r),(0,A.A)(s,[{key:"schedule",value:function(d){return this}}])}(t(27092).yU),v={setInterval:function(r){function s(p,d){return r.apply(this,arguments)}return s.toString=function(){return r.toString()},s}(function(r,s){for(var p=v.delegate,d=arguments.length,c=new Array(d>2?d-2:0),M=2;M<d;M++)c[M-2]=arguments[M];return p?.setInterval?p.setInterval.apply(p,[r,s].concat(c)):setInterval.apply(void 0,[r,s].concat(c))}),clearInterval:function(r){function s(p){return r.apply(this,arguments)}return s.toString=function(){return r.toString()},s}(function(r){var s=v.delegate;return(s?.clearInterval||clearInterval)(r)}),delegate:void 0},u=t(80967),y=function(r){function s(p,d){var c;return(0,f.A)(this,s),(c=(0,h.A)(this,s,[p,d])).scheduler=p,c.work=d,c.pending=!1,c}return(0,n.A)(s,r),(0,A.A)(s,[{key:"schedule",value:function(d){var M,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=d;var I=this.id,L=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(L,I,c)),this.pending=!0,this.delay=c,this.id=null!==(M=this.id)&&void 0!==M?M:this.requestAsyncId(L,this.id,c),this}},{key:"requestAsyncId",value:function(d,c){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v.setInterval(d.flush.bind(d,this),M)}},{key:"recycleAsyncId",value:function(d,c){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=M&&this.delay===M&&!1===this.pending)return c;null!=c&&v.clearInterval(c)}},{key:"execute",value:function(d,c){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var M=this._execute(d,c);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(d,c){var I,M=!1;try{this.work(d)}catch(L){M=!0,I=L||new Error("Scheduled action threw falsy error")}if(M)return this.unsubscribe(),I}},{key:"unsubscribe",value:function(){if(!this.closed){var d=this.id,c=this.scheduler,M=c.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,u.o)(M,this),null!=d&&(this.id=this.recycleAsyncId(c,d,null)),this.delay=null,(0,O.A)(s,"unsubscribe",this,3)([])}}}])}(i)},9576:(b,g,t)=>{t.d(g,{q:()=>i});var f=t(43288),A=t(63398),h=t(82297),O=t(13544),n=t(35152),_=function(){return(0,A.A)(function v(u){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.now;(0,f.A)(this,v),this.schedulerActionCtor=u,this.now=y},[{key:"schedule",value:function(y){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,y).schedule(s,r)}}])}();_.now=n.U.now;var i=function(v){function u(y){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.now;return(0,f.A)(this,u),(r=(0,h.A)(this,u,[y,s])).actions=[],r._active=!1,r}return(0,O.A)(u,v),(0,A.A)(u,[{key:"flush",value:function(r){var s=this.actions;if(this._active)s.push(r);else{var p;this._active=!0;do{if(p=r.execute(r.state,r.delay))break}while(r=s.shift());if(this._active=!1,p){for(;r=s.shift();)r.unsubscribe();throw p}}}}])}(_)},18473:(b,g,t)=>{t.d(g,{E:()=>h,b:()=>O});var f=t(90428),h=new(t(9576).q)(f.R),O=h},35152:(b,g,t)=>{t.d(g,{U:()=>f});var f={now:function(){return(f.delegate||Date).now()},delegate:void 0}},15602:(b,g,t)=>{function f(A){return A instanceof Date&&!isNaN(A)}t.d(g,{v:()=>f})},79771:(b,g,t)=>{t.r(g),t.d(g,{MAT_AUTOCOMPLETE_DEFAULT_OPTIONS:()=>B,MAT_AUTOCOMPLETE_DEFAULT_OPTIONS_FACTORY:()=>N,MAT_AUTOCOMPLETE_SCROLL_STRATEGY:()=>K,MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY:()=>H,MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER:()=>G,MAT_AUTOCOMPLETE_VALUE_ACCESSOR:()=>Y,MatAutocomplete:()=>se,MatAutocompleteModule:()=>ce,MatAutocompleteOrigin:()=>re,MatAutocompleteSelectedEvent:()=>V,MatAutocompleteTrigger:()=>Q,MatOptgroup:()=>_.D7,MatOption:()=>_.wT,getMatAutocompleteMissingPanelError:()=>ue});var f=t(63730),A=t(50438),h=t(63398),O=t(43288),n=t(40642),_=t(8724),i=t(49431),v=t(56079),u=t(23631),y=t(89641),r=t(53751),s=t(27092),p=t(84205),d=t(137),c=t(63617),M=t(59452),I=t(43942),L=t(51935),z=t(69009),S=t(13791),w=t(68885),X=t(12749),Z=t(33253),$=t(81011),J=t(63037),W=t(36647),F=t(51567),q=t(70271),ee=t(98764),te=t(81692),ne=t(64334),ie=t(88388),j=t(34277),x=t(80097),oe=(t(14247),t(25965),t(49799),["panel"]),ae=["*"];function le(P,E){if(1&P&&(i.\u0275\u0275domElementStart(0,"div",1,0),i.\u0275\u0275projection(2),i.\u0275\u0275domElementEnd()),2&P){var C=E.id,a=i.\u0275\u0275nextContext();i.\u0275\u0275classMap(a._classList),i.\u0275\u0275classProp("mat-mdc-autocomplete-visible",a.showPanel)("mat-mdc-autocomplete-hidden",!a.showPanel)("mat-autocomplete-panel-animations-enabled",!a._animationsDisabled)("mat-primary","primary"===a._color)("mat-accent","accent"===a._color)("mat-warn","warn"===a._color),i.\u0275\u0275domProperty("id",a.id),i.\u0275\u0275attribute("aria-label",a.ariaLabel||null)("aria-labelledby",a._getPanelAriaLabelledby(C))}}var V=(0,h.A)(function P(E,C){(0,O.A)(this,P),(0,n.A)(this,"source",void 0),(0,n.A)(this,"option",void 0),this.source=E,this.option=C}),B=new i.InjectionToken("mat-autocomplete-default-options",{providedIn:"root",factory:N});function N(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var se=function(){var P,E=function(){return(0,h.A)(function C(){var a;(0,O.A)(this,C),(0,n.A)(this,"_changeDetectorRef",(0,i.inject)(i.ChangeDetectorRef)),(0,n.A)(this,"_elementRef",(0,i.inject)(i.ElementRef)),(0,n.A)(this,"_defaults",(0,i.inject)(B)),(0,n.A)(this,"_animationsDisabled",(0,L.Rc)()),(0,n.A)(this,"_activeOptionChanges",s.yU.EMPTY),(0,n.A)(this,"_keyManager",void 0),(0,n.A)(this,"showPanel",!1),(0,n.A)(this,"_isOpen",!1),(0,n.A)(this,"_latestOpeningTrigger",void 0),(0,n.A)(this,"_color",void 0),(0,n.A)(this,"template",void 0),(0,n.A)(this,"panel",void 0),(0,n.A)(this,"options",void 0),(0,n.A)(this,"optionGroups",void 0),(0,n.A)(this,"ariaLabel",void 0),(0,n.A)(this,"ariaLabelledby",void 0),(0,n.A)(this,"displayWith",null),(0,n.A)(this,"autoActiveFirstOption",void 0),(0,n.A)(this,"autoSelectActiveOption",void 0),(0,n.A)(this,"requireSelection",void 0),(0,n.A)(this,"panelWidth",void 0),(0,n.A)(this,"disableRipple",void 0),(0,n.A)(this,"optionSelected",new i.EventEmitter),(0,n.A)(this,"opened",new i.EventEmitter),(0,n.A)(this,"closed",new i.EventEmitter),(0,n.A)(this,"optionActivated",new i.EventEmitter),(0,n.A)(this,"_classList",void 0),(0,n.A)(this,"_hideSingleSelectionIndicator",void 0),(0,n.A)(this,"id",(0,i.inject)(y._IdGenerator).getId("mat-autocomplete-")),(0,n.A)(this,"inertGroups",void 0);var e=(0,i.inject)(r.Platform);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=null!==(a=this._defaults.hideSingleSelectionIndicator)&&void 0!==a&&a},[{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"_setColor",value:function(e){this._color=e,this._changeDetectorRef.markForCheck()}},{key:"classList",set:function(e){this._classList=e,this._elementRef.nativeElement.className=""}},{key:"hideSingleSelectionIndicator",get:function(){return this._hideSingleSelectionIndicator},set:function(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}},{key:"_syncParentProperties",value:function(){if(this.options){var o,e=(0,A.A)(this.options);try{for(e.s();!(o=e.n()).done;)o.value._changeDetectorRef.markForCheck()}catch(m){e.e(m)}finally{e.f()}}}},{key:"ngAfterContentInit",value:function(){var e=this;this._keyManager=new y.ActiveDescendantKeyManager(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(function(o){e.isOpen&&e.optionActivated.emit({source:e,option:e.options.toArray()[o]||null})}),this._setVisibility()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this._keyManager)||void 0===e||e.destroy(),this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){var e;this.showPanel=!(null===(e=this.options)||void 0===e||!e.length),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(e){var o=new V(this,e);this.optionSelected.emit(o)}},{key:"_getPanelAriaLabelledby",value:function(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}},{key:"_skipPredicate",value:function(){return!1}}])}();return P=E,(0,n.A)(E,"\u0275fac",function(a){return new(a||P)}),(0,n.A)(E,"\u0275cmp",i.\u0275\u0275defineComponent({type:P,selectors:[["mat-autocomplete"]],contentQueries:function(a,e,o){var l;1&a&&(i.\u0275\u0275contentQuery(o,_.wT,5),i.\u0275\u0275contentQuery(o,_.QC,5)),2&a&&(i.\u0275\u0275queryRefresh(l=i.\u0275\u0275loadQuery())&&(e.options=l),i.\u0275\u0275queryRefresh(l=i.\u0275\u0275loadQuery())&&(e.optionGroups=l))},viewQuery:function(a,e){var o;1&a&&(i.\u0275\u0275viewQuery(i.TemplateRef,7),i.\u0275\u0275viewQuery(oe,5)),2&a&&(i.\u0275\u0275queryRefresh(o=i.\u0275\u0275loadQuery())&&(e.template=o.first),i.\u0275\u0275queryRefresh(o=i.\u0275\u0275loadQuery())&&(e.panel=o.first))},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",i.booleanAttribute],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",i.booleanAttribute],requireSelection:[2,"requireSelection","requireSelection",i.booleanAttribute],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",i.booleanAttribute],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",i.booleanAttribute]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[i.\u0275\u0275ProvidersFeature([{provide:_.is,useExisting:P}])],ngContentSelectors:ae,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(a,e){1&a&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275domTemplate(0,le,3,17,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0})),E}(),re=function(){var P,E=(0,h.A)(function C(){(0,O.A)(this,C),(0,n.A)(this,"elementRef",(0,i.inject)(i.ElementRef))});return P=E,(0,n.A)(E,"\u0275fac",function(a){return new(a||P)}),(0,n.A)(E,"\u0275dir",i.\u0275\u0275defineDirective({type:P,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]})),E}(),Y={provide:$.NG_VALUE_ACCESSOR,useExisting:(0,i.forwardRef)(function(){return Q}),multi:!0};function ue(){return Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}var K=new i.InjectionToken("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:function(){var E=(0,i.inject)(i.Injector);return function(){return(0,u.createRepositionScrollStrategy)(E)}}});function H(P){var E=(0,i.inject)(i.Injector);return function(){return(0,u.createRepositionScrollStrategy)(E)}}var G={provide:K,deps:[],useFactory:H},Q=function(){var P,E=function(){return(0,h.A)(function C(){var a,e=this;(0,O.A)(this,C),(0,n.A)(this,"_environmentInjector",(0,i.inject)(i.EnvironmentInjector)),(0,n.A)(this,"_element",(0,i.inject)(i.ElementRef)),(0,n.A)(this,"_injector",(0,i.inject)(i.Injector)),(0,n.A)(this,"_viewContainerRef",(0,i.inject)(i.ViewContainerRef)),(0,n.A)(this,"_zone",(0,i.inject)(i.NgZone)),(0,n.A)(this,"_changeDetectorRef",(0,i.inject)(i.ChangeDetectorRef)),(0,n.A)(this,"_dir",(0,i.inject)(z.Directionality,{optional:!0})),(0,n.A)(this,"_formField",(0,i.inject)(ie.xb,{optional:!0,host:!0})),(0,n.A)(this,"_viewportRuler",(0,i.inject)(v.ViewportRuler)),(0,n.A)(this,"_scrollStrategy",(0,i.inject)(K)),(0,n.A)(this,"_renderer",(0,i.inject)(i.Renderer2)),(0,n.A)(this,"_animationsDisabled",(0,L.Rc)()),(0,n.A)(this,"_defaults",(0,i.inject)(B,{optional:!0})),(0,n.A)(this,"_overlayRef",void 0),(0,n.A)(this,"_portal",void 0),(0,n.A)(this,"_componentDestroyed",!1),(0,n.A)(this,"_initialized",new p.B),(0,n.A)(this,"_keydownSubscription",void 0),(0,n.A)(this,"_outsideClickSubscription",void 0),(0,n.A)(this,"_cleanupWindowBlur",void 0),(0,n.A)(this,"_previousValue",void 0),(0,n.A)(this,"_valueOnAttach",void 0),(0,n.A)(this,"_valueOnLastKeydown",void 0),(0,n.A)(this,"_positionStrategy",void 0),(0,n.A)(this,"_manuallyFloatingLabel",!1),(0,n.A)(this,"_closingActionsSubscription",void 0),(0,n.A)(this,"_viewportSubscription",s.yU.EMPTY),(0,n.A)(this,"_breakpointObserver",(0,i.inject)(w.BreakpointObserver)),(0,n.A)(this,"_handsetLandscapeSubscription",s.yU.EMPTY),(0,n.A)(this,"_canOpenOnNextFocus",!0),(0,n.A)(this,"_valueBeforeAutoSelection",void 0),(0,n.A)(this,"_pendingAutoselectedOption",void 0),(0,n.A)(this,"_closeKeyEventStream",new p.B),(0,n.A)(this,"_overlayPanelClass",(0,Z.coerceArray)((null===(a=this._defaults)||void 0===a?void 0:a.overlayPanelClass)||[])),(0,n.A)(this,"_windowBlurHandler",function(){e._canOpenOnNextFocus=e.panelOpen||!e._hasFocus()}),(0,n.A)(this,"_onChange",function(){}),(0,n.A)(this,"_onTouched",function(){}),(0,n.A)(this,"autocomplete",void 0),(0,n.A)(this,"position","auto"),(0,n.A)(this,"connectedTo",void 0),(0,n.A)(this,"autocompleteAttribute","off"),(0,n.A)(this,"autocompleteDisabled",void 0),(0,n.A)(this,"_aboveClass","mat-mdc-autocomplete-panel-above"),(0,n.A)(this,"_overlayAttached",!1),(0,n.A)(this,"optionSelections",(0,d.v)(function(){var o=e.autocomplete?e.autocomplete.options:null;return o?o.changes.pipe((0,J.Z)(o),(0,W.n)(function(){return c.h.apply(void 0,(0,f.A)(o.map(function(l){return l.onSelectionChange})))})):e._initialized.pipe((0,W.n)(function(){return e.optionSelections}))})),(0,n.A)(this,"_handlePanelKeydown",function(o){var l;(o.keyCode===S.ESCAPE&&!(0,S.hasModifierKey)(o)||o.keyCode===S.UP_ARROW&&(0,S.hasModifierKey)(o,"altKey"))&&(e._pendingAutoselectedOption&&(e._updateNativeInputValue(null!==(l=e._valueBeforeAutoSelection)&&void 0!==l?l:""),e._pendingAutoselectedOption=null),e._closeKeyEventStream.next(),e._resetActiveItem(),o.stopPropagation(),o.preventDefault())}),(0,n.A)(this,"_trackedModal",null)},[{key:"ngAfterViewInit",value:function(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}},{key:"ngOnChanges",value:function(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var e;null===(e=this._cleanupWindowBlur)||void 0===e||e.call(this),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"openPanel",value:function(){this._openPanelInternal()}},{key:"closePanel",value:function(){var e=this;this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(function(){e.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,y.removeAriaReferencedId)(this._trackedModal,"aria-owns",this.autocomplete.id))}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"panelClosingActions",get:function(){var e=this;return(0,c.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,F.p)(function(){return e._overlayAttached})),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,F.p)(function(){return e._overlayAttached})):(0,M.of)()).pipe((0,q.T)(function(o){return o instanceof _.MI?o:null}))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}},{key:"_getOutsideClickStream",value:function(){var e=this;return new I.c(function(o){var l=function(T){var R=(0,r._getEventTarget)(T),k=e._formField?e._formField.getConnectedOverlayOrigin().nativeElement:null,U=e.connectedTo?e.connectedTo.elementRef.nativeElement:null;e._overlayAttached&&R!==e._element.nativeElement&&!e._hasFocus()&&(!k||!k.contains(R))&&(!U||!U.contains(R))&&e._overlayRef&&!e._overlayRef.overlayElement.contains(R)&&o.next(T)},m=[e._renderer.listen("document","click",l),e._renderer.listen("document","auxclick",l),e._renderer.listen("document","touchend",l)];return function(){m.forEach(function(D){return D()})}})}},{key:"writeValue",value:function(e){var o=this;Promise.resolve(null).then(function(){return o._assignOptionValue(e)})}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._element.nativeElement.disabled=e}},{key:"_handleKeydown",value:function(e){var o=e,l=o.keyCode,m=(0,S.hasModifierKey)(o);if(l===S.ESCAPE&&!m&&o.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&l===S.ENTER&&this.panelOpen&&!m)this.activeOption._selectViaInteraction(),this._resetActiveItem(),o.preventDefault();else if(this.autocomplete){var D=this.autocomplete._keyManager.activeItem,T=l===S.UP_ARROW||l===S.DOWN_ARROW;l===S.TAB||T&&!m&&this.panelOpen?this.autocomplete._keyManager.onKeydown(o):T&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(T||this.autocomplete._keyManager.activeItem!==D)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}},{key:"_handleInput",value:function(e){var o=e.target,l=o.value;if("number"===o.type&&(l=""==l?null:parseFloat(l)),this._previousValue!==l){if(this._previousValue=l,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(l),l){if(this.panelOpen&&!this.autocomplete.requireSelection){var m,D=null===(m=this.autocomplete.options)||void 0===m?void 0:m.find(function(U){return U.selected});D&&l!==this._getDisplayValue(D.value)&&D.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._hasFocus()){var R,k=null!==(R=this._valueOnLastKeydown)&&void 0!==R?R:this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(k)}}}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_handleClick",value:function(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}},{key:"_hasFocus",value:function(){return(0,r._getFocusedElementPierceShadowDom)()===this._element.nativeElement}},{key:"_floatLabel",value:function(){this._formField&&"auto"===this._formField.floatLabel&&(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}},{key:"_subscribeToClosingActions",value:function(){var o,l,e=this,m=new I.c(function(T){(0,i.afterNextRender)(function(){T.next()},{injector:e._environmentInjector})}),D=null!==(o=null===(l=this.autocomplete.options)||void 0===l?void 0:l.changes.pipe((0,ee.M)(function(){return e._positionStrategy.reapplyLastPosition()}),(0,te.c)(0)))&&void 0!==o?o:(0,M.of)();return(0,c.h)(m,D).pipe((0,W.n)(function(){return e._zone.run(function(){var T=e.panelOpen;return e._resetActiveItem(),e._updatePanelState(),e._changeDetectorRef.detectChanges(),e.panelOpen&&e._overlayRef.updatePosition(),T!==e.panelOpen&&(e.panelOpen?e._emitOpened():e.autocomplete.closed.emit()),e.panelClosingActions})}),(0,ne.s)(1)).subscribe(function(T){return e._setValueAndClose(T)})}},{key:"_emitOpened",value:function(){this.autocomplete.opened.emit()}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_getDisplayValue",value:function(e){var o=this.autocomplete;return o&&o.displayWith?o.displayWith(e):e}},{key:"_assignOptionValue",value:function(e){var o=this._getDisplayValue(e);null==e&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(o??"")}},{key:"_updateNativeInputValue",value:function(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}},{key:"_setValueAndClose",value:function(e){var o=this.autocomplete,l=e?e.source:this._pendingAutoselectedOption;l?(this._clearPreviousSelectedOption(l),this._assignOptionValue(l.value),this._onChange(l.value),o._emitSelectEvent(l),this._element.nativeElement.focus()):o.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(e,o){var l;null===(l=this.autocomplete)||void 0===l||null===(l=l.options)||void 0===l||l.forEach(function(m){m!==e&&m.selected&&m.deselect(o)})}},{key:"_openPanelInternal",value:function(){this._attachOverlay(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element.nativeElement.value),this._floatLabel(),this._trackedModal&&(0,y.addAriaReferencedId)(this._trackedModal,"aria-owns",this.autocomplete.id)}},{key:"_attachOverlay",value:function(e){var l,D,o=this,m=this._overlayRef;m?(this._positionStrategy.setOrigin(this._getConnectedElement()),m.updateSize({width:this._getPanelWidth()})):(this._portal=new X.TemplatePortal(this.autocomplete.template,this._viewContainerRef,{id:null===(D=this._formField)||void 0===D?void 0:D.getLabelId()}),m=(0,u.createOverlayRef)(this._injector,this._getOverlayConfig()),this._overlayRef=m,this._viewportSubscription=this._viewportRuler.change().subscribe(function(){o.panelOpen&&m&&m.updateSize({width:o._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(w.Breakpoints.HandsetLandscape).subscribe(function(R){R.matches?o._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):o._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),m&&!m.hasAttached()&&(m.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());var T=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(null===(l=this._formField)||void 0===l?void 0:l.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&T!==this.panelOpen&&this._emitOpened()}},{key:"_updatePanelState",value:function(){if(this.autocomplete._setVisibility(),this.panelOpen){var e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else{var o,l;null===(o=this._keydownSubscription)||void 0===o||o.unsubscribe(),null===(l=this._outsideClickSubscription)||void 0===l||l.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}}},{key:"_getOverlayConfig",value:function(){var e,o,l;return new u.OverlayConfig({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:null!==(e=this._dir)&&void 0!==e?e:void 0,hasBackdrop:null===(o=this._defaults)||void 0===o?void 0:o.hasBackdrop,backdropClass:(null===(l=this._defaults)||void 0===l?void 0:l.backdropClass)||"cdk-overlay-transparent-backdrop",panelClass:this._overlayPanelClass,disableAnimations:this._animationsDisabled})}},{key:"_getOverlayPosition",value:function(){var e=(0,u.createFlexibleConnectedPositionStrategy)(this._injector,this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}},{key:"_setStrategyPositions",value:function(e){var D,o=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],l=this._aboveClass,m=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:l},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:l}];D="above"===this.position?m:"below"===this.position?o:[].concat(o,m),e.withPositions(D)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){var e=this.autocomplete;if(e.autoActiveFirstOption){for(var o=-1,l=0;l<e.options.length;l++)if(!e.options.get(l).disabled){o=l;break}e._keyManager.setActiveItem(o)}else e._keyManager.setActiveItem(-1)}},{key:"_canOpen",value:function(){var e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}},{key:"_scrollToOption",value:function(e){var o=this.autocomplete,l=(0,_.jb)(e,o.options,o.optionGroups);if(0===e&&1===l)o._setScrollTop(0);else if(o.panel){var m=o.options.toArray()[e];if(m){var D=m._getHostElement(),T=(0,_.TL)(D.offsetTop,D.offsetHeight,o._getScrollTop(),o.panel.nativeElement.offsetHeight);o._setScrollTop(T)}}}},{key:"_applyModalPanelOwnership",value:function(){var e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(e){var o=this.autocomplete.id;this._trackedModal&&(0,y.removeAriaReferencedId)(this._trackedModal,"aria-owns",o),(0,y.addAriaReferencedId)(e,"aria-owns",o),this._trackedModal=e}}},{key:"_clearFromModal",value:function(){this._trackedModal&&((0,y.removeAriaReferencedId)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}}])}();return P=E,(0,n.A)(E,"\u0275fac",function(a){return new(a||P)}),(0,n.A)(E,"\u0275dir",i.\u0275\u0275defineDirective({type:P,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(a,e){1&a&&i.\u0275\u0275listener("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(l){return e._handleInput(l)})("keydown",function(l){return e._handleKeydown(l)})("click",function(){return e._handleClick()}),2&a&&i.\u0275\u0275attribute("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-controls",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",e.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",i.booleanAttribute]},exportAs:["matAutocompleteTrigger"],features:[i.\u0275\u0275ProvidersFeature([Y]),i.\u0275\u0275NgOnChangesFeature]})),E}(),ce=function(){var P,E=(0,h.A)(function C(){(0,O.A)(this,C)});return P=E,(0,n.A)(E,"\u0275fac",function(a){return new(a||P)}),(0,n.A)(E,"\u0275mod",i.\u0275\u0275defineNgModule({type:P})),(0,n.A)(E,"\u0275inj",i.\u0275\u0275defineInjector({providers:[G],imports:[u.OverlayModule,j.S,x.y,v.CdkScrollableModule,j.S,x.y]})),E}()},86362:(b,g,t)=>{t.d(g,{p:()=>_});var f=t(63398),A=t(43288),h=t(40642),O=t(49431),n=t(80097),_=function(){var i,v=(0,f.A)(function u(){(0,A.A)(this,u)});return i=v,(0,h.A)(v,"\u0275fac",function(y){return new(y||i)}),(0,h.A)(v,"\u0275mod",O.\u0275\u0275defineNgModule({type:i})),(0,h.A)(v,"\u0275inj",O.\u0275\u0275defineInjector({imports:[n.y,n.y]})),v}()}}]);
//# sourceMappingURL=7360.84d88c8470c4656a.js.map