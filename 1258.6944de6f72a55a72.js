(self.webpackChunkspear=self.webpackChunkspear||[]).push([[1258],{1258:(Re,se,b)=>{b.r(se);var M=b(2494),G=b(9148),g=b(3398),v=b(3288),F=b(8824),A=b(3730),o=b(2481),f=b(5240),k=b(3683),V=b(3855),T=b(9465),h=b(4456),_=b(2292),O=b(4334),w=b(2297),P=b(3544),j=b(438),I=b(316),R=b(5797),L=b(3942),ee=b(3617),W=b(4205);function X(a){for(var r in a){var n,e=null!==(n=a[r])&&void 0!==n?n:"";switch(r){case"display":a.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":a["-webkit-"+r]=e;break;case"flex-direction":a["-webkit-flex-direction"]=e,a["flex-direction"]=e;break;case"order":a.order=a["-webkit-"+r]=isNaN(+e)?"0":e}}return a}var U="inline",ne=["row","column","row-reverse","column-reverse"];function ce(a){var r=te(a),n=(0,F.A)(r,3);return function pe(a){return{display:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"inline-flex":"flex","box-sizing":"border-box","flex-direction":a,"flex-wrap":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||null}}(n[0],n[1],n[2])}function te(a){var r,n,e=(a=null!==(r=null===(n=a)||void 0===n?void 0:n.toLowerCase())&&void 0!==r?r:"").split(" "),t=(0,F.A)(e,3),s=t[0],u=t[1],l=t[2];return ne.find(function(c){return c===s})||(s=ne[0]),u===U&&(u=l!==U?l:"",l=U),[s,ie(u),!!l]}function Y(a){var r=te(a);return(0,F.A)(r,1)[0].indexOf("row")>-1}function ie(a){if(a)switch(a.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":a="wrap-reverse";break;case"no":case"none":case"nowrap":a="nowrap";break;default:a="wrap"}return a}function _e(a){if(null==a)throw TypeError("Cannot convert undefined or null to object");for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];for(var t=0,s=n;t<s.length;t++){var u=s[t];if(null!=u)for(var l in u)u.hasOwnProperty(l)&&(a[l]=u[l])}return a}var he=b(1567),ue=b(8764),Ee={provide:o.iLQ,useFactory:function $e(a,r){return function(){if((0,I.UE)(r)){var n=Array.from(a.querySelectorAll("[class*=".concat(Be,"]"))),e=/\bflex-layout-.+?\b/g;n.forEach(function(t){t.classList.contains("".concat(Be,"ssr"))&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}}},deps:[f.qQL,o.Agw],multi:!0},Be="flex-layout-",Qe=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[Ee]}),a}(),Ze=function(){function a(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,v.A)(this,a),this.matches=r,this.mediaQuery=n,this.mqAlias=e,this.suffix=t,this.priority=s,this.property=""}return(0,g.A)(a,[{key:"clone",value:function(){return new a(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}])}(),st=function(){var a=function(){return(0,g.A)(function r(){(0,v.A)(this,r),this.stylesheet=new Map},[{key:"addStyleToElement",value:function(e,t,s){var u=this.stylesheet.get(e);u?u.set(t,s):this.stylesheet.set(e,new Map([[t,s]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(e,t){var s=this.stylesheet.get(e),u="";if(s){var l=s.get(t);("number"==typeof l||"string"==typeof l)&&(u=l+"")}return u}}])}();return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),gt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},qe=new f.nKC("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return gt}}),rt=new f.nKC("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),ht=new f.nKC("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function fe(a,r){var n,e;return a=null!==(n=null===(e=a)||void 0===e?void 0:e.clone())&&void 0!==n?n:new Ze,r&&(a.mqAlias=r.alias,a.mediaQuery=r.mediaQuery,a.suffix=r.suffix,a.priority=r.priority),a}var H=function(){return(0,g.A)(function a(){(0,v.A)(this,a),this.shouldCache=!0},[{key:"sideEffect",value:function(n,e,t){}}])}(),K=function(){var a=function(){return(0,g.A)(function r(n,e,t,s){(0,v.A)(this,r),this._serverStylesheet=n,this._serverModuleLoaded=e,this._platformId=t,this.layoutConfig=s},[{key:"applyStyleToElement",value:function(e,t){var u={};"string"==typeof t&&(u[t]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=u),u=this.layoutConfig.disableVendorPrefixes?t:X(t),this._applyMultiValueStyleToElement(u,e)}},{key:"applyStyleToElements",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.layoutConfig.disableVendorPrefixes?e:X(e);s.forEach(function(l){t._applyMultiValueStyleToElement(u,l)})}},{key:"getFlowDirection",value:function(e){var t="flex-direction",s=this.lookupStyle(e,t);return[s||"row",this.lookupInlineStyle(e,t)||(0,I.Vy)(this._platformId)&&this._serverModuleLoaded?s:""]}},{key:"hasWrap",value:function(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}},{key:"lookupAttributeValue",value:function(e,t){var s;return null!==(s=e.getAttribute(t))&&void 0!==s?s:""}},{key:"lookupInlineStyle",value:function(e,t){return(0,I.UE)(this._platformId)?e.style.getPropertyValue(t):function xe(a,r){var n;return null!==(n=re(a)[r])&&void 0!==n?n:""}(e,t)}},{key:"lookupStyle",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="";return e&&((u=this.lookupInlineStyle(e,t))||((0,I.UE)(this._platformId)?s||(u=getComputedStyle(e).getPropertyValue(t)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(e,t)))),u?u.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(e,t){var s=this;Object.keys(e).sort().forEach(function(u){var l=e[u],c=Array.isArray(l)?l:[l];c.sort();var m,p=(0,j.A)(c);try{for(p.s();!(m=p.n()).done;){var y=m.value;y=y?y+"":"",(0,I.UE)(s._platformId)||!s._serverModuleLoaded?(0,I.UE)(s._platformId)?t.style.setProperty(u,y):Te(t,u,y):s._serverStylesheet.addStyleToElement(t,u,y)}}catch(x){p.e(x)}finally{p.f()}})}}])}();return a.\u0275fac=function(n){return new(n||a)(f.KVO(st),f.KVO(rt),f.KVO(o.Agw),f.KVO(qe))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function Te(a,r,n){r=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=re(a);e[r]=n??"",function ae(a,r){var n="";for(var e in r)r[e]&&(n+="".concat(e,":").concat(r[e],";"));a.setAttribute("style",n)}(a,e)}function re(a){var r={},n=a.getAttribute("style");if(n)for(var e=n.split(/;+/g),t=0;t<e.length;t++){var s=e[t].trim();if(s.length>0){var u=s.indexOf(":");if(-1===u)throw new Error("Invalid CSS style: ".concat(s));r[s.substr(0,u).trim()]=s.substr(u+1).trim()}}return r}function Me(a,r){return(r&&r.priority||0)-(a&&a.priority||0)}function oe(a,r){return(a.priority||0)-(r.priority||0)}var J=function(){var a=function(){return(0,g.A)(function r(n,e,t){(0,v.A)(this,r),this._zone=n,this._platformId=e,this._document=t,this.source=new R.t(new Ze(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()},[{key:"activations",get:function(){var e=[];return this.registry.forEach(function(t,s){t.matches&&e.push(s)}),e}},{key:"isActive",value:function(e){var t,s=this.registry.get(e);return null!==(t=s?.matches)&&void 0!==t?t:this.registerQuery(e).some(function(u){return u.matches})}},{key:"observe",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.length){var u=this._observable$.pipe((0,he.p)(function(c){return!s||e.indexOf(c.mediaQuery)>-1})),l=new L.c(function(c){var p=t.registerQuery(e);if(p.length){var m=p.pop();p.forEach(function(y){c.next(y)}),t.source.next(m)}c.complete()});return(0,ee.h)(l,u)}return this._observable$}},{key:"registerQuery",value:function(e){var t=this,s=Array.isArray(e)?e:[e],u=[];return function be(a,r){var n=a.filter(function(u){return!Q[u]});if(n.length>0){var e=n.join(", ");try{var t=r.createElement("style");if(t.setAttribute("type","text/css"),!t.styleSheet){var s="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(e," {.fx-query-test{ }}\n");t.appendChild(r.createTextNode(s))}r.head.appendChild(t),n.forEach(function(u){return Q[u]=t})}catch(u){console.error(u)}}}(s,this._document),s.forEach(function(l){var c=function(y){t._zone.run(function(){return t.source.next(new Ze(y.matches,l))})},p=t.registry.get(l);p||((p=t.buildMQL(l)).addListener(c),t.pendingRemoveListenerFns.push(function(){return p.removeListener(c)}),t.registry.set(l,p)),p.matches&&u.push(new Ze(!0,l))}),u}},{key:"ngOnDestroy",value:function(){for(var e;e=this.pendingRemoveListenerFns.pop();)e()}},{key:"buildMQL",value:function(e){return function tt(a,r){return r&&!!window.matchMedia("all").addListener?window.matchMedia(a):function je(a){var r=new EventTarget;return r.matches="all"===a||""===a,r.media=a,r.addListener=function(){},r.removeListener=function(){},r.addEventListener=function(){},r.dispatchEvent=function(){return!1},r.onchange=null,r}(a)}(e,(0,I.UE)(this._platformId))}}])}();return a.\u0275fac=function(n){return new(n||a)(f.KVO(o.SKi),f.KVO(o.Agw),f.KVO(f.qQL))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Q={},it=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],_t="(orientation: portrait) and (max-width: 599.98px)",Bt="(orientation: landscape) and (max-width: 959.98px)",Vt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",cn="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",fn="(orientation: portrait) and (min-width: 840px)",we="(orientation: landscape) and (min-width: 1280px)",Rn={HANDSET:"".concat(_t,", ").concat(Bt),TABLET:"".concat(Vt," , ").concat(cn),WEB:"".concat(fn,", ").concat(we," "),HANDSET_PORTRAIT:"".concat(_t),TABLET_PORTRAIT:"".concat(Vt," "),WEB_PORTRAIT:"".concat(fn),HANDSET_LANDSCAPE:"".concat(Bt),TABLET_LANDSCAPE:"".concat(cn),WEB_LANDSCAPE:"".concat(we)},Dn=[{alias:"handset",priority:2e3,mediaQuery:Rn.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Rn.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Rn.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Rn.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Rn.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Rn.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Rn.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Rn.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Rn.WEB_PORTRAIT,overlapping:!0}],ft=/(\.|-|_)/g;function Nt(a){var r=a.length>0?a.charAt(0):"",n=a.length>1?a.slice(1):"";return r.toUpperCase()+n}var mt=new f.nKC("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var r=(0,f.WQX)(ht),n=(0,f.WQX)(qe),e=[].concat.apply([],(r||[]).map(function(s){return Array.isArray(s)?s:[s]}));return function Dt(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return a.forEach(function(e){n[e.alias]=e}),r.forEach(function(e){n[e.alias]?_e(n[e.alias],e):n[e.alias]=e}),function kt(a){return a.forEach(function(r){r.suffix||(r.suffix=function Ct(a){return a.replace(ft,"|").split("|").map(Nt).join("")}(r.alias),r.overlapping=!!r.overlapping)}),a}(Object.keys(n).map(function(e){return n[e]}))}((n.disableDefaultBps?[]:it).concat(n.addOrientationBps?Dn:[]),e)}}),Ge=function(){var a=function(){return(0,g.A)(function r(n){(0,v.A)(this,r),this.findByMap=new Map,this.items=(0,A.A)(n).sort(oe)},[{key:"findByAlias",value:function(e){return e?this.findWithPredicate(e,function(t){return t.alias===e}):null}},{key:"findByQuery",value:function(e){return this.findWithPredicate(e,function(t){return t.mediaQuery===e})}},{key:"overlappings",get:function(){return this.items.filter(function(e){return e.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(e){return e.alias})}},{key:"suffixes",get:function(){return this.items.map(function(e){var t;return null!==(t=e?.suffix)&&void 0!==t?t:""})}},{key:"findWithPredicate",value:function(e,t){var u,s=this.findByMap.get(e);return s||(s=null!==(u=this.items.find(t))&&void 0!==u?u:null,this.findByMap.set(e,s)),s??null}}])}();return a.\u0275fac=function(n){return new(n||a)(f.KVO(mt))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),ze="print",Et={alias:ze,mediaQuery:ze,priority:1e3},Tt=function(){var a=function(){return(0,g.A)(function r(n,e,t){(0,v.A)(this,r),this.breakpoints=n,this.layoutConfig=e,this._document=t,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Ft,this.deactivations=[]},[{key:"withPrintQuery",value:function(e){return[].concat((0,A.A)(e),[ze])}},{key:"isPrintEvent",value:function(e){return e.mediaQuery.startsWith(ze)}},{key:"printAlias",get:function(){var e;return(0,A.A)(null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[])}},{key:"printBreakPoints",get:function(){var e=this;return this.printAlias.map(function(t){return e.breakpoints.findByAlias(t)}).filter(function(t){return null!==t})}},{key:"getEventBreakpoints",value:function(e){var s=this.breakpoints.findByQuery(e.mediaQuery);return(s?[].concat((0,A.A)(this.printBreakPoints),[s]):this.printBreakPoints).sort(Me)}},{key:"updateEvent",value:function(e){var s,u,t=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(t=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(s=null===(u=t)||void 0===u?void 0:u.mediaQuery)&&void 0!==s?s:""),fe(e,t)}},{key:"registerBeforeAfterPrintHooks",value:function(e){var t=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var s=function(){t.isPrinting||(t.isPrintingBeforeAfterEvent=!0,t.startPrinting(e,t.getEventBreakpoints(new Ze(!0,ze))),e.updateStyles())},u=function(){t.isPrintingBeforeAfterEvent=!1,t.isPrinting&&(t.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",u),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(u)}}},{key:"interceptEvents",value:function(e){var t=this;return function(s){t.isPrintEvent(s)?s.matches&&!t.isPrinting?(t.startPrinting(e,t.getEventBreakpoints(s)),e.updateStyles()):!s.matches&&t.isPrinting&&!t.isPrintingBeforeAfterEvent&&(t.stopPrinting(e),e.updateStyles()):t.collectActivations(e,s)}}},{key:"blockPropagation",value:function(){var e=this;return function(t){return!(e.isPrinting||e.isPrintEvent(t))}}},{key:"startPrinting",value:function(e,t){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(t)}},{key:"stopPrinting",value:function(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(e,t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!t.matches){var s=this.breakpoints.findByQuery(t.mediaQuery);if(s){var u=this.formerActivations&&this.formerActivations.includes(s),l=!this.formerActivations&&e.activatedBreakpoints.includes(s);(u||l)&&(this.deactivations.push(s),this.deactivations.sort(Me))}}}}},{key:"ngOnDestroy",value:function(){var e=this;this._document.defaultView&&(this.beforePrintEventListeners.forEach(function(t){return e._document.defaultView.removeEventListener("beforeprint",t)}),this.afterPrintEventListeners.forEach(function(t){return e._document.defaultView.removeEventListener("afterprint",t)}))}}])}();return a.\u0275fac=function(n){return new(n||a)(f.KVO(Ge),f.KVO(qe),f.KVO(f.qQL))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Ft=function(){return(0,g.A)(function a(){(0,v.A)(this,a),this.printBreakpoints=[]},[{key:"addPrintBreakpoints",value:function(n){var e=this;return n.push(Et),n.sort(Me),n.forEach(function(t){return e.addBreakpoint(t)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(n){n&&void 0===this.printBreakpoints.find(function(t){return t.mediaQuery===n.mediaQuery})&&(this.printBreakpoints=function wt(a){var r;return null!==(r=a?.mediaQuery.startsWith(ze))&&void 0!==r&&r}(n)?[n].concat((0,A.A)(this.printBreakpoints)):[].concat((0,A.A)(this.printBreakpoints),[n]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}])}(),Lt=function(){var a=function(){return(0,g.A)(function r(n,e,t){(0,v.A)(this,r),this.matchMedia=n,this.breakpoints=e,this.hook=t,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new W.B,this.observeActivations()},[{key:"activatedAlias",get:function(){var e,t;return null!==(e=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==e?e:""}},{key:"activatedBreakpoints",get:function(){return(0,A.A)(this._activatedBreakpoints)},set:function(e){this._activatedBreakpoints=(0,A.A)(e)}},{key:"useFallbacks",set:function(e){this._useFallbacks=e}},{key:"onMediaChange",value:function(e){var t=this.findByQuery(e.mediaQuery);if(t){e=fe(e,t);var s=this.activatedBreakpoints.indexOf(t);e.matches&&-1===s?(this._activatedBreakpoints.push(t),this._activatedBreakpoints.sort(Me),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Me),this.updateStyles())}}},{key:"init",value:function(e,t,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];sn(this.updateMap,e,t,s),sn(this.clearMap,e,t,u),this.buildElementKeyMap(e,t),this.watchExtraTriggers(e,t,l)}},{key:"getValue",value:function(e,t,s){var u=this.elementMap.get(e);if(u){var l=void 0!==s?u.get(s):this.getActivatedValues(u,t);if(l)return l.get(t)}}},{key:"hasValue",value:function(e,t){var s=this.elementMap.get(e);if(s){var u=this.getActivatedValues(s,t);if(u)return void 0!==u.get(t)||!1}return!1}},{key:"setValue",value:function(e,t,s,u){var l=this.elementMap.get(e);if(l){var c,p=(null!==(c=l.get(u))&&void 0!==c?c:new Map).set(t,s);l.set(u,p),this.elementMap.set(e,l)}else l=(new Map).set(u,(new Map).set(t,s)),this.elementMap.set(e,l);var m=this.getValue(e,t);void 0!==m&&this.updateElement(e,t,m)}},{key:"trackValue",value:function(e,t){return this.subject.asObservable().pipe((0,he.p)(function(s){return s.element===e&&s.key===t}))}},{key:"updateStyles",value:function(){var e=this;this.elementMap.forEach(function(t,s){var u=new Set(e.elementKeyMap.get(s)),l=e.getActivatedValues(t);l&&l.forEach(function(c,p){e.updateElement(s,p,c),u.delete(p)}),u.forEach(function(c){if(l=e.getActivatedValues(t,c)){var p=l.get(c);e.updateElement(s,c,p)}else e.clearElement(s,c)})})}},{key:"clearElement",value:function(e,t){var s=this.clearMap.get(e);if(s){var u=s.get(t);u&&(u(),this.subject.next({element:e,key:t,value:""}))}}},{key:"updateElement",value:function(e,t,s){var u=this.updateMap.get(e);if(u){var l=u.get(t);l&&(l(s),this.subject.next({element:e,key:t,value:s}))}}},{key:"releaseElement",value:function(e){var t=this.watcherMap.get(e);t&&(t.forEach(function(u){return u.unsubscribe()}),this.watcherMap.delete(e));var s=this.elementMap.get(e);s&&(s.forEach(function(u,l){return s.delete(l)}),this.elementMap.delete(e))}},{key:"triggerUpdate",value:function(e,t){var s=this,u=this.elementMap.get(e);if(u){var l=this.getActivatedValues(u,t);l&&(t?this.updateElement(e,t,l.get(t)):l.forEach(function(c,p){return s.updateElement(e,p,c)}))}}},{key:"buildElementKeyMap",value:function(e,t){var s=this.elementKeyMap.get(e);s||this.elementKeyMap.set(e,s=new Set),s.add(t)}},{key:"watchExtraTriggers",value:function(e,t,s){var u=this;if(s&&s.length){var l=this.watcherMap.get(e);if(l||this.watcherMap.set(e,l=new Map),!l.get(t)){var p=ee.h.apply(void 0,(0,A.A)(s)).subscribe(function(){var m=u.getValue(e,t);u.updateElement(e,t,m)});l.set(t,p)}}}},{key:"findByQuery",value:function(e){return this.breakpoints.findByQuery(e)}},{key:"getActivatedValues",value:function(e,t){for(var s=0;s<this.activatedBreakpoints.length;s++){var l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===t||l.has(t)&&null!=l.get(t)))return l}if(this._useFallbacks){var c=e.get("");return void 0===t||c&&c.has(t)?c:void 0}}},{key:"observeActivations",value:function(){var e=this.breakpoints.items.map(function(t){return t.mediaQuery});this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,ue.M)(this.hook.interceptEvents(this)),(0,he.p)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}])}();return a.\u0275fac=function(n){return new(n||a)(f.KVO(J),f.KVO(Ge),f.KVO(Tt))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function sn(a,r,n,e){if(void 0!==e){var t,s=null!==(t=a.get(r))&&void 0!==t?t:new Map;s.set(n,e),a.set(r,s)}}var jt=function(){var a=function(){return(0,g.A)(function r(n,e,t,s){(0,v.A)(this,r),this.elementRef=n,this.styleBuilder=e,this.styler=t,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new W.B,this.styleCache=new Map},[{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}},{key:"ngOnChanges",value:function(e){var t=this;Object.keys(e).forEach(function(s){if(-1!==t.inputs.indexOf(s)){var u=s.split(".").slice(1).join(".");t.setValue(e[s].currentValue,u)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}},{key:"addStyles",value:function(e,t){var s=this.styleBuilder,u=s.shouldCache,l=this.styleCache.get(e);(!l||!u)&&(l=s.buildStyles(e,t),u&&this.styleCache.set(e,l)),this.mru=(0,_.A)({},l),this.applyStyleToElement(l),s.sideEffect(e,l,t)}},{key:"clearStyles",value:function(){var e=this;Object.keys(this.mru).forEach(function(t){e.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var s=this.styler.getFlowDirection(e),u=(0,F.A)(s,2),l=u[0];if(!u[1]&&t){var p=ce(l);this.styler.applyStyleToElements(p,[e])}return l.trim()}return"row"}},{key:"hasWrap",value:function(e){return this.styler.hasWrap(e)}},{key:"applyStyleToElement",value:function(e,t){this.styler.applyStyleToElement(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement,e,t)}},{key:"setValue",value:function(e,t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,t)}},{key:"updateWithValue",value:function(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}])}();return a.\u0275fac=function(n){return new(n||a)(o.rXU(o.aKT),o.rXU(H),o.rXU(K),o.rXU(Lt))},a.\u0275dir=o.FsC({type:a,standalone:!1,features:[o.OA$]}),a}();function Nr(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",e=[r,n,a],t=a.indexOf("calc");if(t>0){e[2]=Gn(a.substring(t).trim());var s=a.substr(0,t).trim().split(" ");2==s.length&&(e[0]=s[0],e[1]=s[1])}else if(0==t)e[2]=Gn(a.trim());else{var u=a.split(" ");e=3===u.length?u:[r,n,a]}return e}function Gn(a){return a.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;var Gr=b(1172),Fa=b(6724),rr=(b(3253),b(3900)),js=function(){var a=function(r){function n(e,t,s,u,l,c,p){var m;return(0,v.A)(this,n),(m=(0,w.A)(this,n,[e,null,t,s])).ngClassInstance=p,m.DIRECTIVE_KEY="ngClass",m.ngClassInstance||(m.ngClassInstance=new k.YU(u,l,e,c)),m.init(),m.setValue("",""),m}return(0,P.A)(n,r),(0,g.A)(n,[{key:"klass",set:function(t){this.ngClassInstance.klass=t,this.setValue(t,"")}},{key:"updateWithValue",value:function(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}}])}(jt);return a.\u0275fac=function(n){return new(n||a)(o.rXU(o.aKT),o.rXU(K),o.rXU(Lt),o.rXU(G._q3),o.rXU(G.MKu),o.rXU(o.sFG),o.rXU(k.YU,10))},a.\u0275dir=o.FsC({type:a,inputs:{klass:[0,"class","klass"]},standalone:!1,features:[o.Vt3]}),a}(),cs=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],$s=function(){var a=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=cs,e}return(0,P.A)(n,r),(0,g.A)(n)}(js);return a.\u0275fac=function(){var r;return function(e){return(r||(r=o.xGo(a)))(e||a)}}(),a.\u0275dir=o.FsC({type:a,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},standalone:!1,features:[o.Vt3]}),a}(),E=(0,g.A)(function a(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,v.A)(this,a),this.key=r,this.value=n,this.key=e?r.replace(/['"]/g,"").trim():r.trim(),this.value=e?n.replace(/['"]/g,"").trim():n.trim(),this.value=this.value.replace(/;/,"")});function B(a){var r=typeof a;return"object"===r?a.constructor===Array?"array":a.constructor===Set?"set":"object":r}function Se(a){var r=a.split(":"),n=(0,Fa.A)(r),e=n[0],t=(0,Gr.A)(n).slice(1);return new E(e,t.join(":"))}function Ce(a,r){return r.key&&(a[r.key]=r.value),a}var Fe=function(){var a=function(r){function n(e,t,s,u,l,c,p,m,y){var x,D;(0,v.A)(this,n),(D=(0,w.A)(this,n,[e,null,t,s])).sanitizer=u,D.ngStyleInstance=p,D.DIRECTIVE_KEY="ngStyle",D.ngStyleInstance||(D.ngStyleInstance=new k.B3(e,l,c)),D.init();var N=null!==(x=D.nativeElement.getAttribute("style"))&&void 0!==x?x:"";return D.fallbackStyles=D.buildStyleMap(N),D.isServer=m&&(0,I.Vy)(y),D}return(0,P.A)(n,r),(0,g.A)(n,[{key:"updateWithValue",value:function(t){var s=this.buildStyleMap(t);this.ngStyleInstance.ngStyle=(0,_.A)((0,_.A)({},this.fallbackStyles),s),this.isServer&&this.applyStyleToElement(s),this.ngStyleInstance.ngDoCheck()}},{key:"clearStyles",value:function(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}},{key:"buildStyleMap",value:function(t){var s=this,u=function(c){var p;return null!==(p=s.sanitizer.sanitize(o.WPN.STYLE,c))&&void 0!==p?p:""};if(t)switch(B(t)){case"string":return Xe(function z(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";return String(a).trim().split(r).map(function(n){return n.trim()}).filter(function(n){return""!==n})}(t),u);case"array":return Xe(t,u);default:return function de(a,r){var n=[];return"set"===B(a)?a.forEach(function(e){return n.push(e)}):Object.keys(a).forEach(function(e){n.push("".concat(e,":").concat(a[e]))}),function Z(a,r){return a.map(Se).filter(function(e){return!!e}).map(function(t){return r&&(t.value=r(t.value)),t}).reduce(Ce,{})}(n,r)}(t,u)}return{}}},{key:"ngDoCheck",value:function(){this.ngStyleInstance.ngDoCheck()}}])}(jt);return a.\u0275fac=function(n){return new(n||a)(o.rXU(o.aKT),o.rXU(K),o.rXU(Lt),o.rXU(M.DomSanitizer),o.rXU(G.MKu),o.rXU(o.sFG),o.rXU(k.B3,10),o.rXU(rt),o.rXU(o.Agw))},a.\u0275dir=o.FsC({type:a,standalone:!1,features:[o.Vt3]}),a}(),Pe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"],Ne=function(){var a=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=Pe,e}return(0,P.A)(n,r),(0,g.A)(n)}(Fe);return a.\u0275fac=function(){var r;return function(e){return(r||(r=o.xGo(a)))(e||a)}}(),a.\u0275dir=o.FsC({type:a,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},standalone:!1,features:[o.Vt3]}),a}();function Xe(a,r){return a.map(Se).filter(function(e){return!!e}).map(function(t){return r&&(t.value=r(t.value)),t}).reduce(Ce,{})}var nt=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[Qe]}),a}(),d=b(642),ye=b(792),Ve=b(9009),Le=function(){var a=function(r){function n(){return(0,v.A)(this,n),(0,w.A)(this,n,arguments)}return(0,P.A)(n,r),(0,g.A)(n,[{key:"buildStyles",value:function(t,s){var u=s.display,l=ce(t);return(0,_.A)((0,_.A)({},l),{},{display:"none"===u?u:l.display})}}])}(H);return a.\u0275fac=function(){var r;return function(e){return(r||(r=o.xGo(a)))(e||a)}}(),a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Ue=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],ut=function(){var a=function(r){function n(e,t,s,u,l){var c;return(0,v.A)(this,n),(c=(0,w.A)(this,n,[e,s,t,u]))._config=l,c.DIRECTIVE_KEY="layout",c.init(),c}return(0,P.A)(n,r),(0,g.A)(n,[{key:"updateWithValue",value:function(t){var s,l=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(s=Pt.get(l))&&void 0!==s?s:new Map,Pt.set(l,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:l}),this.currentValue=t)}}])}(jt);return a.\u0275fac=function(n){return new(n||a)(o.rXU(o.aKT),o.rXU(K),o.rXU(Le),o.rXU(Lt),o.rXU(qe))},a.\u0275dir=o.FsC({type:a,standalone:!1,features:[o.Vt3]}),a}(),Gt=function(){var a=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=Ue,e}return(0,P.A)(n,r),(0,g.A)(n)}(ut);return a.\u0275fac=function(){var r;return function(e){return(r||(r=o.xGo(a)))(e||a)}}(),a.\u0275dir=o.FsC({type:a,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},standalone:!1,features:[o.Vt3]}),a}(),Pt=new Map,zs=function(){var a=function(r){function n(e){var t;return(0,v.A)(this,n),(t=(0,w.A)(this,n)).layoutConfig=e,t}return(0,P.A)(n,r),(0,g.A)(n,[{key:"buildStyles",value:function(t,s){var u=t.split(" "),l=(0,Fa.A)(u),c=l[0],p=l[1],y=(0,Gr.A)(l).slice(2).join(" "),x=s.direction.indexOf("column")>-1?"column":"row",D=Y(x)?"max-width":"max-height",N=Y(x)?"min-width":"min-height",$=String(y).indexOf("calc")>-1,q=$||"auto"===y,le=String(y).indexOf("%")>-1&&!$,ve=String(y).indexOf("px")>-1||String(y).indexOf("rem")>-1||String(y).indexOf("em")>-1||String(y).indexOf("vw")>-1||String(y).indexOf("vh")>-1,Ae=$||ve;p="0"==p?0:p;var ge=!(c="0"==c?0:c)&&!p,ke={},He={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(y||""){case"":y="row"===x?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":c=0,y="auto";break;case"grow":y="100%";break;case"noshrink":p=0,y="auto";break;case"auto":break;case"none":c=0,p=0,y="auto";break;default:!Ae&&!le&&!isNaN(y)&&(y+="%"),"0%"===y&&(Ae=!0),"0px"===y&&(y="0%"),ke=_e(He,$?{"flex-grow":c,"flex-shrink":p,"flex-basis":Ae?y:"100%"}:{flex:"".concat(c," ").concat(p," ").concat(Ae?y:"100%")})}return ke.flex||ke["flex-grow"]||(ke=_e(He,$?{"flex-grow":c,"flex-shrink":p,"flex-basis":y}:{flex:"".concat(c," ").concat(p," ").concat(y)})),"0%"!==y&&"0px"!==y&&"0.000000001px"!==y&&"auto"!==y&&(ke[N]=ge||Ae&&c?y:null,ke[D]=ge||!q&&p?y:null),ke[N]||ke[D]?s.hasWrap&&(ke[$?"flex-basis":"flex"]=ke[D]?$?ke[D]:"".concat(c," ").concat(p," ").concat(ke[D]):$?ke[N]:"".concat(c," ").concat(p," ").concat(ke[N])):ke=_e(He,$?{"flex-grow":c,"flex-shrink":p,"flex-basis":y}:{flex:"".concat(c," ").concat(p," ").concat(y)}),_e(ke,{"box-sizing":"border-box"})}}])}(H);return a.\u0275fac=function(n){return new(n||a)(f.KVO(qe))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),ms=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],Hs=function(){var a=function(r){function n(e,t,s,u,l){var c;return(0,v.A)(this,n),(c=(0,w.A)(this,n,[e,u,t,l])).layoutConfig=s,c.marshal=l,c.DIRECTIVE_KEY="flex",c.direction=void 0,c.wrap=void 0,c.flexGrow="1",c.flexShrink="1",c.init(),c}return(0,P.A)(n,r),(0,g.A)(n,[{key:"shrink",get:function(){return this.flexShrink},set:function(t){this.flexShrink=t||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(t){this.flexGrow=t||"1",this.triggerReflow()}},{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,rr.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,rr.Q)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(t){var u=t.value.split(" ");this.direction=u[0],this.wrap=void 0!==u[1]&&"wrap"===u[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var u=this.direction,l=u.startsWith("row"),c=this.wrap;l&&c?this.styleCache=Ks:l&&!c?this.styleCache=Ja:!l&&c?this.styleCache=ll:!l&&!c&&(this.styleCache=ul);var m=Nr(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(m.join(" "),{direction:u,hasWrap:c})}},{key:"triggerReflow",value:function(){var t=this.activatedValue;if(void 0!==t){var s=Nr(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}])}(jt);return a.\u0275fac=function(n){return new(n||a)(o.rXU(o.aKT),o.rXU(K),o.rXU(qe),o.rXU(zs),o.rXU(Lt))},a.\u0275dir=o.FsC({type:a,inputs:{shrink:[0,"fxShrink","shrink"],grow:[0,"fxGrow","grow"]},standalone:!1,features:[o.Vt3]}),a}(),la=function(){var a=function(r){function n(){var e;return(0,v.A)(this,n),(e=(0,w.A)(this,n,arguments)).inputs=ms,e}return(0,P.A)(n,r),(0,g.A)(n)}(Hs);return a.\u0275fac=function(){var r;return function(e){return(r||(r=o.xGo(a)))(e||a)}}(),a.\u0275dir=o.FsC({type:a,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},standalone:!1,features:[o.Vt3]}),a}(),Ja=new Map,ul=new Map,Ks=new Map,ll=new Map,O2={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},B2=function(){var a=function(r){function n(){return(0,v.A)(this,n),(0,w.A)(this,n,arguments)}return(0,P.A)(n,r),(0,g.A)(n,[{key:"buildStyles",value:function(t){return O2}}])}(H);return a.\u0275fac=function(){var r;return function(e){return(r||(r=o.xGo(a)))(e||a)}}(),a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),dl=function(){var a=function(r){function n(e,t,s,u){var l;return(0,v.A)(this,n),(l=(0,w.A)(this,n,[e,s,t,u])).styleCache=L2,l.addStyles(""),l}return(0,P.A)(n,r),(0,g.A)(n)}(jt);return a.\u0275fac=function(n){return new(n||a)(o.rXU(o.aKT),o.rXU(K),o.rXU(B2),o.rXU(Lt))},a.\u0275dir=o.FsC({type:a,selectors:[["","fxFill",""],["","fxFlexFill",""]],standalone:!1,features:[o.Vt3]}),a}(),L2=new Map,L_=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[Qe,Ve.BidiModule]}),a}(),X_=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[Qe]}),a}(),jc=function(){var a=function(){function r(n,e){(0,v.A)(this,r),(0,I.Vy)(e)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return(0,g.A)(r,null,[{key:"withConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:r,providers:e.serverLoaded?[{provide:qe,useValue:(0,_.A)((0,_.A)({},gt),e)},{provide:ht,useValue:t,multi:!0},{provide:rt,useValue:!0}]:[{provide:qe,useValue:(0,_.A)((0,_.A)({},gt),e)},{provide:ht,useValue:t,multi:!0}]}}}])}();return a.\u0275fac=function(n){return new(n||a)(f.KVO(rt),f.KVO(o.Agw))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[L_,nt,X_,L_,nt,X_]}),a}(),_k=function(r){return["segment",r]},bk=function(r,n){return{"segment-main":!0,expandable:r,expanded:n}};function Ak(a,r){1&a&&o.nrm(0,"div",9)}function Ck(a,r){if(1&a&&(o.j41(0,"span",10),o.EFF(1),o.k0s()),2&a){var n=o.XpG().$implicit;o.R7$(),o.JRh(n.description)}}function Sk(a,r){if(1&a&&(o.j41(0,"section",11),o.nrm(1,"ngx-json-viewer",12),o.k0s()),2&a){var n=o.XpG().$implicit,e=o.XpG();o.R7$(),o.Y8G("json",n.value)("expanded",e.expanded)("depth",e.depth)("_currentDepth",e._currentDepth+1)}}function xk(a,r){if(1&a){var n=o.RV6();o.j41(0,"section",2)(1,"section",3),o.bIt("click",function(){var u=f.eBV(n).$implicit,l=o.XpG();return f.Njj(l.toggle(u))}),o.DNE(2,Ak,1,0,"div",4),o.j41(3,"span",5),o.EFF(4),o.k0s(),o.j41(5,"span",6),o.EFF(6,": "),o.k0s(),o.DNE(7,Ck,2,1,"span",7),o.k0s(),o.DNE(8,Sk,2,4,"section",8),o.k0s()}if(2&a){var e=r.$implicit,t=o.XpG();o.Y8G("ngClass",o.eq3(6,_k,"segment-type-"+e.type)),o.R7$(),o.Y8G("ngClass",o.l_i(8,bk,t.isExpandable(e),e.expanded)),o.R7$(),o.Y8G("ngIf",t.isExpandable(e)),o.R7$(2),o.JRh(e.key),o.R7$(3),o.Y8G("ngIf",!e.expanded||!t.isExpandable(e)),o.R7$(),o.Y8G("ngIf",e.expanded&&t.isExpandable(e))}}var Ek=function(){var a=function(){return(0,g.A)(function r(){(0,v.A)(this,r),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]},[{key:"ngOnChanges",value:function(){var e=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(t){e.segments.push(e.parseKeyValue(t,e.json[t]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(e){return"object"===e.type||"array"===e.type}},{key:"toggle",value:function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}},{key:"parseKeyValue",value:function(e,t){var s={key:e,value:t,type:void 0,description:""+t,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(e){var t=new WeakMap;return function s(u,l){var c,p;return"object"!=typeof u||null===u||u instanceof Boolean||u instanceof Date||u instanceof Number||u instanceof RegExp||u instanceof String?u:void 0!==(c=t.get(u))?{$ref:c}:(t.set(u,l),Array.isArray(u)?(p=[],u.forEach(function(m,y){p[y]=s(m,l+"["+y+"]")})):(p={},Object.keys(u).forEach(function(m){p[m]=s(u[m],l+"["+JSON.stringify(m)+"]")})),p)}(e,"$")}}])}();return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},standalone:!1,features:[o.OA$],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click","ngClass"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(n,e){1&n&&(o.j41(0,"section",0),o.DNE(1,xk,9,11,"section",1),o.k0s()),2&n&&(o.R7$(),o.Y8G("ngForOf",e.segments))},dependencies:[k.YU,k.Sq,k.bT,a],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),a}(),Cf=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD]}),a}(),Ke=b(11),Mt=b(1890),Wi=b(6763),wk=function(a){function r(n,e){var t;return(0,v.A)(this,r),(t=(0,w.A)(this,r,[n,e])).scheduler=n,t.work=e,t}return(0,P.A)(r,a),(0,g.A)(r,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?(0,ye.A)(r,"schedule",this,3)([e,t]):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?(0,ye.A)(r,"execute",this,3)([e,t]):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=s&&s>0||null==s&&this.delay>0?(0,ye.A)(r,"requestAsyncId",this,3)([e,t,s]):(e.flush(this),0)}}])}(b(428).R),kk=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(b(9576).q),q_=new kk(wk),W_=b(4304),Yi=b(819),Za=b(1687),Ys=b(2645),yh=b(1440),Pk=b(4318),Y_=b(4083);function hi(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var e=(0,Y_.ms)(r);return(0,Yi.N)(function(t,s){for(var u=r.length,l=new Array(u),c=r.map(function(){return!1}),p=!1,m=function(D){(0,Ys.Tg)(r[D]).subscribe((0,Za._)(s,function(N){l[D]=N,!p&&!c[D]&&(c[D]=!0,(p=c.every(yh.D))&&(c=null))},Pk.l))},y=0;y<u;y++)m(y);t.subscribe((0,Za._)(s,function(x){if(p){var D=[x].concat(l);s.next(e?e.apply(void 0,(0,A.A)(D)):D)}}))})}var Rk=b(5392);function $c(a,r){return(0,Yi.N)((0,Rk.S)(a,r,arguments.length>=2,!0))}var me=b(271);function Tk(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var e=r.length;if(0===e)throw new Error("list of properties cannot be empty.");return(0,me.T)(function(t){for(var s=t,u=0;u<e;u++){var l=s?.[r[u]];if(!(typeof l<"u"))return;s=l}return s})}var Bo=b(1817);function _h(a,r){var n,e,l,s=null!=r&&r.manualCleanup?null:null!==(n=null==r||null===(e=r.injector)||void 0===e?void 0:e.get(f.abz))&&void 0!==n?n:(0,f.WQX)(f.abz),u=function Ik(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.is;return function(r,n){return 1===r.kind&&1===n.kind&&a(r.value,n.value)}}(r?.equal);l=(0,f.vPA)(null!=r&&r.requireSync?{kind:0}:{kind:1,value:r?.initialValue},{equal:u});var c,p=a.subscribe({next:function(y){return l.set({kind:1,value:y})},error:function(y){var x;l.set({kind:2,error:y}),null===(x=c)||void 0===x||x()},complete:function(){var y;null===(y=c)||void 0===y||y()}});if(null!=r&&r.requireSync&&0===l().kind)throw new f.buA(601,!1);return c=s?.onDestroy(p.unsubscribe.bind(p)),(0,Wi.EW)(function(){var m=l();switch(m.kind){case 1:return m.value;case 2:throw m.error;case 0:throw new f.buA(601,!1)}},{equal:r?.equal})}var zc={};function ei(a,r){if(zc[a]=(zc[a]||0)+1,"function"==typeof r)return bh(a,function(){return(0,_.A)((0,_.A)({},r.apply(void 0,arguments)),{},{type:a})});switch(r?r._as:"empty"){case"empty":return bh(a,function(){return{type:a}});case"props":return bh(a,function(e){return(0,_.A)((0,_.A)({},e),{},{type:a})});default:throw new Error("Unexpected config.")}}function bh(a,r){return Object.defineProperty(r,"type",{value:a,writable:!1})}var Sf="@ngrx/store/init",Lo=function(){var a,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,[{type:Sf}])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"next",value:function(s){if("function"==typeof s)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof s>"u")throw new TypeError("Actions must be objects");if(typeof s.type>"u")throw new TypeError("Actions must have a type property");(0,ye.A)(e,"next",this,3)([s])}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){(0,ye.A)(e,"complete",this,3)([])}}])}(R.t);return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Lk=[Lo],Ch=new f.nKC("@ngrx/store Internal Root Guard"),Q_=new f.nKC("@ngrx/store Internal Initial State"),xf=new f.nKC("@ngrx/store Initial State"),J_=new f.nKC("@ngrx/store Reducer Factory"),Z_=new f.nKC("@ngrx/store Internal Reducer Factory Provider"),eb=new f.nKC("@ngrx/store Initial Reducers"),Sh=new f.nKC("@ngrx/store Internal Initial Reducers"),tb=new f.nKC("@ngrx/store Store Features"),nb=new f.nKC("@ngrx/store Internal Store Reducers"),xh=new f.nKC("@ngrx/store Internal Feature Reducers"),ab=new f.nKC("@ngrx/store Internal Feature Configs"),Eh=new f.nKC("@ngrx/store Internal Store Features"),ib=new f.nKC("@ngrx/store Internal Feature Reducers Token"),Dh=new f.nKC("@ngrx/store Feature Reducers"),ob=new f.nKC("@ngrx/store User Provided Meta Reducers"),Ef=new f.nKC("@ngrx/store Meta Reducers"),sb=new f.nKC("@ngrx/store Internal Resolved Meta Reducers"),ub=new f.nKC("@ngrx/store User Runtime Checks Config"),lb=new f.nKC("@ngrx/store Internal User Runtime Checks Config"),fl=new f.nKC("@ngrx/store Internal Runtime Checks"),Hc=new f.nKC("@ngrx/store Check if Action types are unique"),wh=new f.nKC("@ngrx/store Root Store Provider"),cb=new f.nKC("@ngrx/store Feature State Provider");function Df(a){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(a),e={},t=0;t<n.length;t++){var s=n[t];"function"==typeof a[s]&&(e[s]=a[s])}var u=Object.keys(e);return function(c,p){c=void 0===c?r:c;for(var m=!1,y={},x=0;x<u.length;x++){var D=u[x],$=c[D],q=(0,e[D])($,p);y[D]=q,m=m||q!==$}return m?y:c}}function Fh(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return function(e){if(0===r.length)return e;var t=r[r.length-1];return r.slice(0,-1).reduceRight(function(u,l){return l(u)},t(e))}}function db(a,r){return Array.isArray(r)&&r.length>0&&(a=Fh.apply(null,[].concat((0,A.A)(r),[a]))),function(n,e){var t=a(n);return function(s,u){return t(s=void 0===s?e:s,u)}}}var Kc=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(L.c),kh=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(Lo),Ph="@ngrx/store/update-reducers",pl=function(){var a,r=function(n){function e(t,s,u,l){var c;return(0,v.A)(this,e),(c=(0,w.A)(this,e,[l(u,s)])).dispatcher=t,c.initialState=s,c.reducers=u,c.reducerFactory=l,c}return(0,P.A)(e,n),(0,g.A)(e,[{key:"currentReducers",get:function(){return this.reducers}},{key:"addFeature",value:function(s){this.addFeatures([s])}},{key:"addFeatures",value:function(s){var u=s.reduce(function(l,c){var p=c.reducers,m=c.reducerFactory,y=c.metaReducers,x=c.initialState,D=c.key,N="function"==typeof p?function Gk(a){var r=Array.isArray(a)&&a.length>0?Fh.apply(void 0,(0,A.A)(a)):function(n){return n};return function(n,e){return n=r(n),function(t,s){return n(t=void 0===t?e:t,s)}}}(y)(p,x):db(m,y)(p,x);return l[D]=N,l},{});this.addReducers(u)}},{key:"removeFeature",value:function(s){this.removeFeatures([s])}},{key:"removeFeatures",value:function(s){this.removeReducers(s.map(function(u){return u.key}))}},{key:"addReducer",value:function(s,u){this.addReducers((0,d.A)({},s,u))}},{key:"addReducers",value:function(s){this.reducers=(0,_.A)((0,_.A)({},this.reducers),s),this.updateReducers(Object.keys(s))}},{key:"removeReducer",value:function(s){this.removeReducers([s])}},{key:"removeReducers",value:function(s){var u=this;s.forEach(function(l){u.reducers=function Uk(a,r){return Object.keys(a).filter(function(n){return n!==r}).reduce(function(n,e){return Object.assign(n,(0,d.A)({},e,a[e]))},{})}(u.reducers,l)}),this.updateReducers(s)}},{key:"updateReducers",value:function(s){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ph,features:s})}},{key:"ngOnDestroy",value:function(){this.complete()}}])}(R.t);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(kh),f.KVO(xf),f.KVO(eb),f.KVO(J_))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),jk=[pl,{provide:Kc,useExisting:pl},{provide:kh,useExisting:Lo}],hs=function(){var a,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,P.A)(e,n),(0,g.A)(e,[{key:"ngOnDestroy",value:function(){this.complete()}}])}(W.B);return(a=r).\u0275fac=function(){var n;return function(t){return(n||(n=o.xGo(a)))(t||a)}}(),a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),$k=[hs],Rh=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(L.c),fb=function(){var a,r=function(n){function e(t,s,u,l){var c;(0,v.A)(this,e),c=(0,w.A)(this,e,[l]);var x=t.pipe((0,W_.Q)(q_)).pipe(hi(s)).pipe($c(zk,{state:l}));return c.stateSubscription=x.subscribe(function(D){var $=D.action;c.next(D.state),u.next($)}),c.state=_h(c,{manualCleanup:!0,requireSync:!0}),c}return(0,P.A)(e,n),(0,g.A)(e,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}])}(R.t);return(a=r).INIT=Sf,a.\u0275fac=function(e){return new(e||a)(f.KVO(Lo),f.KVO(Kc),f.KVO(hs),f.KVO(xf))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}();function zk(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},n=(0,F.A)(arguments.length>1?arguments[1]:void 0,2),e=n[0];return{state:(0,n[1])(a.state,e),action:e}}var Hk=[fb,{provide:Rh,useExisting:fb}],Or=function(){var a,r=function(n){function e(t,s,u,l){var c;return(0,v.A)(this,e),(c=(0,w.A)(this,e)).actionsObserver=s,c.reducerManager=u,c.injector=l,c.source=t,c.state=t.state,c}return(0,P.A)(e,n),(0,g.A)(e,[{key:"select",value:function(s){for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];return Rr.call.apply(Rr,[null,s].concat(l))(this)}},{key:"selectSignal",value:function(s,u){var l=this;return(0,Wi.EW)(function(){return s(l.state())},u)}},{key:"lift",value:function(s){var u=new e(this,this.actionsObserver,this.reducerManager);return u.operator=s,u}},{key:"dispatch",value:function(s,u){if("function"==typeof s)return this.processDispatchFn(s,u);this.actionsObserver.next(s)}},{key:"next",value:function(s){this.actionsObserver.next(s)}},{key:"error",value:function(s){this.actionsObserver.error(s)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(s,u){this.reducerManager.addReducer(s,u)}},{key:"removeReducer",value:function(s){this.reducerManager.removeReducer(s)}},{key:"processDispatchFn",value:function(s,u){var l,c,p=this;!function Nk(a,r){if(null==a)throw new Error("".concat(r," must be defined."))}(this.injector,"Store Injector");var m=null!==(l=null!==(c=u?.injector)&&void 0!==c?c:function Xk(){try{return(0,f.WQX)(f.zZn)}catch{return}}())&&void 0!==l?l:this.injector;return(0,Wi.QZ)(function(){var y=s();(0,Wi.O8)(function(){return p.dispatch(y)})},{injector:m})}}])}(L.c);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Rh),f.KVO(Lo),f.KVO(pl),f.KVO(f.zZn))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Kk=[Or];function Rr(a,r){for(var n=arguments.length,e=new Array(n>2?n-2:0),t=2;t<n;t++)e[t-2]=arguments[t];return function(u){var l;if("string"==typeof a){var c=[r].concat(e).filter(Boolean);l=u.pipe(Tk.apply(void 0,[a].concat((0,A.A)(c))))}else{if("function"!=typeof a)throw new TypeError("Unexpected type '".concat(typeof a,"' in select operator,")+" expected 'string' or 'function'");l=u.pipe((0,me.T)(function(p){return a(p,r)}))}return l.pipe((0,Bo.F)())}}var Th="https://ngrx.io/guide/store/configuration/runtime-checks";function pb(a){return void 0===a}function mb(a){return null===a}function hb(a){return Array.isArray(a)}function gb(a){return"object"==typeof a&&null!==a}function Mh(a){return"function"==typeof a}function Ih(a,r){return a===r}function Vh(a){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ih,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ih,e=null,t=null;return{memoized:function p(){if(void 0!==s)return s.result;if(!e)return t=a.apply(null,arguments),e=arguments,t;if(!function eP(a,r,n){for(var e=0;e<a.length;e++)if(!n(a[e],r[e]))return!0;return!1}(arguments,e,r))return t;var m=a.apply(null,arguments);return e=arguments,n(t,m)?t:(t=m,m)},reset:function u(){e=null,t=null},setResult:function l(){s={result:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},clearResult:function c(){s=void 0}}}function wn(){return function nP(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:tP};return function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var s=e;if(Array.isArray(s[0])){var l=(0,Fa.A)(s),c=l[0],p=(0,Gr.A)(l).slice(1);s=[].concat((0,A.A)(c),(0,A.A)(p))}else 1===s.length&&function rP(a){return!!a&&"object"==typeof a&&Object.values(a).every(function(r){return"function"==typeof r})}(s[0])&&(s=function aP(a){var r=Object.values(a),n=Object.keys(a);return[].concat(r,[function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return n.reduce(function(c,p,m){return(0,_.A)((0,_.A)({},c),{},(0,d.A)({},p,u[m]))},{})}])}(s[0]));var m=s.slice(0,s.length-1),y=s[s.length-1],x=m.filter(function(q){return q.release&&"function"==typeof q.release}),D=a(function(){for(var q=arguments.length,le=new Array(q),ve=0;ve<q;ve++)le[ve]=arguments[ve];return y.apply(null,le)}),N=Vh(function(q,le){return r.stateFn.apply(null,[q,m,le,D])});return Object.assign(N.memoized,{release:function $(){N.reset(),D.reset(),x.forEach(function(q){return q.release()})},projector:D.memoized,setResult:N.setResult,clearResult:N.clearResult})}}(Vh).apply(void 0,arguments)}function tP(a,r,n,e){if(void 0===n){var t=r.map(function(u){return u(a)});return e.memoized.apply(null,t)}var s=r.map(function(u){return u(a,n)});return e.memoized.apply(null,[].concat((0,A.A)(s),[n]))}function Xc(a){return wn(function(r){var n=r[a];return(0,G.naY)()&&!(a in r)&&console.warn('@ngrx/store: The feature name "'.concat(a,'" does ')+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+"using StoreModule.forRoot('".concat(a,"', ...) or ")+"StoreModule.forFeature('".concat(a,"', ...).  If the default ")+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),n},function(r){return r})}function sP(a){return a instanceof f.nKC?(0,f.WQX)(a):a}function uP(a,r){return r.map(function(n,e){if(a[e]instanceof f.nKC){var t=(0,f.WQX)(a[e]);return{key:n.key,reducerFactory:t.reducerFactory?t.reducerFactory:Df,metaReducers:t.metaReducers?t.metaReducers:[],initialState:t.initialState}}return n})}function lP(a){return a.map(function(r){return r instanceof f.nKC?(0,f.WQX)(r):r})}function Nh(a){return"function"==typeof a?a():a}function cP(a,r){return a.concat(r)}function dP(){if((0,f.WQX)(Or,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Oh(a){Object.freeze(a);var r=Mh(a);return Object.getOwnPropertyNames(a).forEach(function(n){if(!n.startsWith("\u0275")&&function Zk(a,r){return Object.prototype.hasOwnProperty.call(a,r)}(a,n)&&(!r||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var e=a[n];(gb(e)||Mh(e))&&!Object.isFrozen(e)&&Oh(e)}}),a}function Bh(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(pb(a)||mb(a))&&0===r.length?{path:["root"],value:a}:Object.keys(a).reduce(function(e,t){if(e)return e;var s=a[t];return function Jk(a){return Mh(a)&&a.hasOwnProperty("\u0275cmp")}(s)?e:!(pb(s)||mb(s)||function Yk(a){return"number"==typeof a}(s)||function Wk(a){return"boolean"==typeof a}(s)||function qk(a){return"string"==typeof a}(s)||hb(s))&&(function vb(a){if(!function Qk(a){return gb(a)&&!hb(a)}(a))return!1;var r=Object.getPrototypeOf(a);return r===Object.prototype||null===r}(s)?Bh(s,[].concat((0,A.A)(r),[t])):{path:[].concat((0,A.A)(r),[t]),value:s})},!1)}function bb(a,r){if(!1!==a){var n=a.path.join("."),e=new Error("Detected unserializable ".concat(r,' at "').concat(n,'". ').concat(Th,"#strict").concat(r,"serializability"));throw e.value=a.value,e.unserializablePath=n,e}}function hP(a){return(0,G.naY)()?(0,_.A)({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},a):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function gP(a){var r=a.strictActionSerializability,n=a.strictStateSerializability;return function(e){return r||n?function pP(a,r){return function(n,e){r.action(e)&&bb(Bh(e),"action");var s=a(n,e);return r.state()&&bb(Bh(s),"state"),s}}(e,{action:function(s){return r&&!Lh(s)},state:function(){return n}}):e}}function vP(a){var r=a.strictActionImmutability,n=a.strictStateImmutability;return function(e){return r||n?function fP(a,r){return function(n,e){var t=r.action(e)?Oh(e):e,s=a(n,t);return r.state()?Oh(s):s}}(e,{action:function(s){return r&&!Lh(s)},state:function(){return n}}):e}}function Lh(a){return a.type.startsWith("@ngrx")}function yP(a){var r=a.strictActionWithinNgZone;return function(n){return r?function mP(a,r){return function(n,e){if(r.action(e)&&!o.SKi.isInAngularZone())throw new Error("Action '".concat(e.type,"' running outside NgZone. ").concat(Th,"#strictactionwithinngzone"));return a(n,e)}}(n,{action:function(t){return r&&!Lh(t)}}):n}}function _P(a){return[{provide:lb,useValue:a},{provide:ub,useFactory:bP,deps:[lb]},{provide:fl,deps:[ub],useFactory:hP},{provide:Ef,multi:!0,deps:[fl],useFactory:vP},{provide:Ef,multi:!0,deps:[fl],useFactory:gP},{provide:Ef,multi:!0,deps:[fl],useFactory:yP}]}function Ab(){return[{provide:Hc,multi:!0,deps:[fl],useFactory:AP}]}function bP(a){return a}function AP(a){if(a.strictActionTypeUniqueness){var r=Object.entries(zc).filter(function(n){return(0,F.A)(n,2)[1]>1}).map(function(n){return(0,F.A)(n,1)[0]});if(r.length)throw new Error("Action types are registered more than once, ".concat(r.map(function(n){return'"'.concat(n,'"')}).join(", "),". ").concat(Th,"#strictactiontypeuniqueness"))}}function Cb(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{provide:Ch,useFactory:dP},{provide:Q_,useValue:r.initialState},{provide:xf,useFactory:Nh,deps:[Q_]},{provide:Sh,useValue:a},{provide:nb,useExisting:a instanceof f.nKC?a:Sh},{provide:eb,deps:[Sh,[new o.y_5(nb)]],useFactory:sP},{provide:ob,useValue:r.metaReducers?r.metaReducers:[]},{provide:sb,deps:[Ef,ob],useFactory:cP},{provide:Z_,useValue:r.reducerFactory?r.reducerFactory:Df},{provide:J_,deps:[Z_,sb],useFactory:db},Lk,jk,$k,Hk,Kk,_P(r.runtimeChecks),Ab()]}function Sb(a,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[{provide:ab,multi:!0,useValue:a instanceof Object?{}:n},{provide:tb,multi:!0,useValue:{key:a instanceof Object?a.name:a,reducerFactory:n instanceof f.nKC||!n.reducerFactory?Df:n.reducerFactory,metaReducers:n instanceof f.nKC||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof f.nKC||!n.initialState?void 0:n.initialState}},{provide:Eh,deps:[ab,tb],useFactory:uP},{provide:xh,multi:!0,useValue:a instanceof Object?a.reducer:r},{provide:ib,multi:!0,useExisting:r instanceof f.nKC?r:xh},{provide:Dh,multi:!0,deps:[xh,[new o.y_5(ib)]],useFactory:lP},Ab()]}(0,f.BCV)(function(){return(0,f.WQX)(wh)}),(0,f.BCV)(function(){return(0,f.WQX)(cb)});var wf=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Lo),f.KVO(Kc),f.KVO(hs),f.KVO(Or),f.KVO(Ch,8),f.KVO(Hc,8))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),Uh=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.features=e,this.featureReducers=t,this.reducerManager=s;var c=e.map(function(p,m){var x=t.shift()[m];return(0,_.A)((0,_.A)({},p),{},{reducers:x,initialState:Nh(p.initialState)})});s.addFeatures(c)},[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Eh),f.KVO(Dh),f.KVO(pl),f.KVO(wf),f.KVO(Hc,8))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),Gh=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},null,[{key:"forRoot",value:function(t,s){return{ngModule:wf,providers:(0,A.A)(Cb(t,s))}}},{key:"forFeature",value:function(t,s){return{ngModule:Uh,providers:(0,A.A)(Sb(t,s,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}();function qc(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return{reducer:r.pop(),types:r.map(function(s){return s.type})}}const xb={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var Ff,FP=new Uint8Array(16);function kP(){if(!Ff&&!(Ff=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ff(FP)}for(var Sa=[],jh=0;jh<256;++jh)Sa.push((jh+256).toString(16).slice(1));const dr=function PP(a,r,n){if(xb.randomUUID&&!r&&!a)return xb.randomUUID();var e=(a=a||{}).random||(a.rng||kP)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,r){n=n||0;for(var t=0;t<16;++t)r[n+t]=e[t];return r}return function Eb(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Sa[a[r+0]]+Sa[a[r+1]]+Sa[a[r+2]]+Sa[a[r+3]]+"-"+Sa[a[r+4]]+Sa[a[r+5]]+"-"+Sa[a[r+6]]+Sa[a[r+7]]+"-"+Sa[a[r+8]]+Sa[a[r+9]]+"-"+Sa[a[r+10]]+Sa[a[r+11]]+Sa[a[r+12]]+Sa[a[r+13]]+Sa[a[r+14]]+Sa[a[r+15]]}(e)};var Uo=b(5430),RP=b(2551),Pa=b(9835),De=b(9452),Vn=b(9999),Db=b(2384),Wc=(0,Db.L)(function(a){return function(){a(this),this.name="EmptyError",this.message="no elements in sequence"}}),TP=b(3513),kf=b(137),MP=b(5682),ti=b(7919),Qi=b(9400),wb=b(4982),$h=b(7092),We=b(6647),on=b(1953),Pf=b(3037),na=b(1365);function br(a){return(0,Yi.N)(function(r,n){var e=!1;r.subscribe((0,Za._)(n,function(t){e=!0,n.next(t)},function(){e||n.next(a),n.complete()}))})}function Fb(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IP;return(0,Yi.N)(function(r,n){var e=!1;r.subscribe((0,Za._)(n,function(t){e=!0,n.next(t)},function(){return e?n.complete():n.error(a())}))})}function IP(){return new Wc}function gs(a,r){var n=arguments.length>=2;return function(e){return e.pipe(a?(0,he.p)(function(t,s){return a(t,s,e)}):yh.D,(0,on.s)(1),n?br(r):Fb(function(){return new Wc}))}}var wi=b(1903),Tr=b(1318);function zh(a){return a<=0?function(){return Qi.w}:(0,Yi.N)(function(r,n){var e=[];r.subscribe((0,Za._)(n,function(t){e.push(t),a<e.length&&e.shift()},function(){var s,t=(0,j.A)(e);try{for(t.s();!(s=t.n()).done;)n.next(s.value)}catch(l){t.e(l)}finally{t.f()}n.complete()},void 0,function(){e=null}))})}var Hh=b(9475),kb=b(3481),vn="primary",Yc=Symbol("RouteTitle"),NP=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"params",void 0),this.params=r||{}},[{key:"has",value:function(n){return Object.prototype.hasOwnProperty.call(this.params,n)}},{key:"get",value:function(n){if(this.has(n)){var e=this.params[n];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(n){if(this.has(n)){var e=this.params[n];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}])}();function ml(a){return new NP(a)}function OP(a,r,n){var e=n.path.split("/");if(e.length>a.length||"full"===n.pathMatch&&(r.hasChildren()||e.length<a.length))return null;for(var t={},s=0;s<e.length;s++){var u=e[s],l=a[s];if(":"===u[0])t[u.substring(1)]=l;else if(u!==l.path)return null}return{consumed:a.slice(0,e.length),posParams:t}}function co(a,r){var n=a?Kh(a):void 0,e=r?Kh(r):void 0;if(!n||!e||n.length!=e.length)return!1;for(var t,s=0;s<n.length;s++)if(!Pb(a[t=n[s]],r[t]))return!1;return!0}function Kh(a){return[].concat((0,A.A)(Object.keys(a)),(0,A.A)(Object.getOwnPropertySymbols(a)))}function Pb(a,r){if(Array.isArray(a)&&Array.isArray(r)){if(a.length!==r.length)return!1;var n=(0,A.A)(a).sort(),e=(0,A.A)(r).sort();return n.every(function(t,s){return e[s]===t})}return a===r}function Rb(a){return a.length>0?a[a.length-1]:null}function Go(a){return(0,RP.A)(a)?a:(0,o.yLl)(a)?(0,Pa.H)(Promise.resolve(a)):(0,De.of)(a)}var LP={exact:function Ib(a,r,n){if(!Js(a.segments,r.segments)||!Rf(a.segments,r.segments,n)||a.numberOfChildren!==r.numberOfChildren)return!1;for(var e in r.children)if(!a.children[e]||!Ib(a.children[e],r.children[e],n))return!1;return!0},subset:Vb},Tb={exact:function UP(a,r){return co(a,r)},subset:function GP(a,r){return Object.keys(r).length<=Object.keys(a).length&&Object.keys(r).every(function(n){return Pb(a[n],r[n])})},ignored:function(){return!0}};function Mb(a,r,n){return LP[n.paths](a.root,r.root,n.matrixParams)&&Tb[n.queryParams](a.queryParams,r.queryParams)&&!("exact"===n.fragment&&a.fragment!==r.fragment)}function Vb(a,r,n){return Nb(a,r,r.segments,n)}function Nb(a,r,n,e){if(a.segments.length>n.length){var t=a.segments.slice(0,n.length);return!(!Js(t,n)||r.hasChildren()||!Rf(t,n,e))}if(a.segments.length===n.length){if(!Js(a.segments,n)||!Rf(a.segments,n,e))return!1;for(var s in r.children)if(!a.children[s]||!Vb(a.children[s],r.children[s],e))return!1;return!0}var u=n.slice(0,a.segments.length),l=n.slice(a.segments.length);return!!(Js(a.segments,u)&&Rf(a.segments,u,e)&&a.children[vn])&&Nb(a.children[vn],r,l,e)}function Rf(a,r,n){return r.every(function(e,t){return Tb[n](a[t].parameters,e.parameters)})}var Qs=function(){return(0,g.A)(function a(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er([],{}),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,v.A)(this,a),(0,d.A)(this,"root",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"_queryParamMap",void 0),this.root=r,this.queryParams=n,this.fragment=e},[{key:"queryParamMap",get:function(){var n;return null!==(n=this._queryParamMap)&&void 0!==n||(this._queryParamMap=ml(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return zP.serialize(this)}}])}(),er=function(){return(0,g.A)(function a(r,n){var e=this;(0,v.A)(this,a),(0,d.A)(this,"segments",void 0),(0,d.A)(this,"children",void 0),(0,d.A)(this,"parent",null),this.segments=r,this.children=n,Object.values(n).forEach(function(t){return t.parent=e})},[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Mf(this)}}])}(),vs=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"path",void 0),(0,d.A)(this,"parameters",void 0),(0,d.A)(this,"_parameterMap",void 0),this.path=r,this.parameters=n},[{key:"parameterMap",get:function(){var n;return null!==(n=this._parameterMap)&&void 0!==n||(this._parameterMap=ml(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Lb(this)}}])}();function Js(a,r){return a.length===r.length&&a.every(function(n,e){return n.path===r[e].path})}var Qc=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:function(){return new Tf},providedIn:"root"})),r}(),Tf=function(){return(0,g.A)(function a(){(0,v.A)(this,a)},[{key:"parse",value:function(n){var e=new tR(n);return new Qs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(n){var e="/".concat(Jc(n.root,!0)),t=function XP(a){var r=Object.entries(a).map(function(n){var e=(0,F.A)(n,2),t=e[0],s=e[1];return Array.isArray(s)?s.map(function(u){return"".concat(If(t),"=").concat(If(u))}).join("&"):"".concat(If(t),"=").concat(If(s))}).filter(function(n){return n});return r.length?"?".concat(r.join("&")):""}(n.queryParams),s="string"==typeof n.fragment?"#".concat(function HP(a){return encodeURI(a)}(n.fragment)):"";return"".concat(e).concat(t).concat(s)}}])}(),zP=new Tf;function Mf(a){return a.segments.map(function(r){return Lb(r)}).join("/")}function Jc(a,r){if(!a.hasChildren())return Mf(a);if(r){var n=a.children[vn]?Jc(a.children[vn],!1):"",e=[];return Object.entries(a.children).forEach(function(s){var u=(0,F.A)(s,2),l=u[0],c=u[1];l!==vn&&e.push("".concat(l,":").concat(Jc(c,!1)))}),e.length>0?"".concat(n,"(").concat(e.join("//"),")"):n}var t=function $P(a,r){var n=[];return Object.entries(a.children).forEach(function(e){var t=(0,F.A)(e,2),s=t[0];s===vn&&(n=n.concat(r(t[1],s)))}),Object.entries(a.children).forEach(function(e){var t=(0,F.A)(e,2),s=t[0];s!==vn&&(n=n.concat(r(t[1],s)))}),n}(a,function(s,u){return u===vn?[Jc(a.children[vn],!1)]:["".concat(u,":").concat(Jc(s,!1))]});return 1===Object.keys(a.children).length&&null!=a.children[vn]?"".concat(Mf(a),"/").concat(t[0]):"".concat(Mf(a),"/(").concat(t.join("//"),")")}function Ob(a){return encodeURIComponent(a).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function If(a){return Ob(a).replace(/%3B/gi,";")}function Xh(a){return Ob(a).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vf(a){return decodeURIComponent(a)}function Bb(a){return Vf(a.replace(/\+/g,"%20"))}function Lb(a){return"".concat(Xh(a.path)).concat(function KP(a){return Object.entries(a).map(function(r){var n=(0,F.A)(r,2),t=n[1];return";".concat(Xh(n[0]),"=").concat(Xh(t))}).join("")}(a.parameters))}var qP=/^[^\/()?;#]+/;function qh(a){var r=a.match(qP);return r?r[0]:""}var WP=/^[^\/()?;=#]+/,QP=/^[^=?&#]+/,ZP=/^[^&#]+/,tR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"url",void 0),(0,d.A)(this,"remaining",void 0),this.url=r,this.remaining=r},[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new er([],{}):new er([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[vn]=new er(n,e)),t}},{key:"parseSegment",value:function(){var n=qh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new f.buA(4009,!1);return this.capture(n),new vs(Vf(n),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var n={};this.consumeOptional(";");)this.parseParam(n);return n}},{key:"parseParam",value:function(n){var e=function YP(a){var r=a.match(WP);return r?r[0]:""}(this.remaining);if(e){this.capture(e);var t="";if(this.consumeOptional("=")){var s=qh(this.remaining);s&&this.capture(t=s)}n[Vf(e)]=Vf(t)}}},{key:"parseQueryParam",value:function(n){var e=function JP(a){var r=a.match(QP);return r?r[0]:""}(this.remaining);if(e){this.capture(e);var t="";if(this.consumeOptional("=")){var s=function eR(a){var r=a.match(ZP);return r?r[0]:""}(this.remaining);s&&this.capture(t=s)}var u=Bb(e),l=Bb(t);if(n.hasOwnProperty(u)){var c=n[u];Array.isArray(c)||(n[u]=c=[c]),c.push(l)}else n[u]=l}}},{key:"parseParens",value:function(n){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var t=qh(this.remaining),s=this.remaining[t.length];if("/"!==s&&")"!==s&&";"!==s)throw new f.buA(4010,!1);var u=void 0;t.indexOf(":")>-1?(u=t.slice(0,t.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=vn);var l=this.parseChildren();e[u]=1===Object.keys(l).length&&l[vn]?l[vn]:new er([],l),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(n){return this.remaining.startsWith(n)}},{key:"consumeOptional",value:function(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}},{key:"capture",value:function(n){if(!this.consumeOptional(n))throw new f.buA(4011,!1)}}])}();function Ub(a){return a.segments.length>0?new er([],(0,d.A)({},vn,a)):a}function Gb(a){for(var r={},n=0,e=Object.entries(a.children);n<e.length;n++){var t=(0,F.A)(e[n],2),s=t[0],l=Gb(t[1]);if(s===vn&&0===l.segments.length&&l.hasChildren())for(var c=0,p=Object.entries(l.children);c<p.length;c++){var m=(0,F.A)(p[c],2);r[m[0]]=m[1]}else(l.segments.length>0||l.hasChildren())&&(r[s]=l)}return function nR(a){if(1===a.numberOfChildren&&a.children[vn]){var r=a.children[vn];return new er(a.segments.concat(r.segments),r.children)}return a}(new er(a.segments,r))}function Zs(a){return a instanceof Qs}function jb(a){var r,t=Ub(function n(s){var c,u={},l=(0,j.A)(s.children);try{for(l.s();!(c=l.n()).done;){var p=c.value,m=n(p);u[p.outlet]=m}}catch(x){l.e(x)}finally{l.f()}var y=new er(s.url,u);return s===a&&(r=y),y}(a.root));return r??t}function $b(a,r,n,e){for(var t=a;t.parent;)t=t.parent;if(0===r.length)return Wh(t,t,t,n,e);var s=function aR(a){if("string"==typeof a[0]&&1===a.length&&"/"===a[0])return new Hb(!0,0,a);var r=0,n=!1,e=a.reduce(function(t,s,u){if("object"==typeof s&&null!=s){if(s.outlets){var l={};return Object.entries(s.outlets).forEach(function(c){var p=(0,F.A)(c,2),y=p[1];l[p[0]]="string"==typeof y?y.split("/"):y}),[].concat((0,A.A)(t),[{outlets:l}])}if(s.segmentPath)return[].concat((0,A.A)(t),[s.segmentPath])}return"string"!=typeof s?[].concat((0,A.A)(t),[s]):0===u?(s.split("/").forEach(function(c,p){0==p&&"."===c||(0==p&&""===c?n=!0:".."===c?r++:""!=c&&t.push(c))}),t):[].concat((0,A.A)(t),[s])},[]);return new Hb(n,r,e)}(r);if(s.toRoot())return Wh(t,t,new er([],{}),n,e);var u=function iR(a,r,n){if(a.isAbsolute)return new Of(r,!0,0);if(!n)return new Of(r,!1,NaN);if(null===n.parent)return new Of(n,!0,0);var e=Nf(a.commands[0])?0:1;return function oR(a,r,n){for(var e=a,t=r,s=n;s>t;){if(s-=t,!(e=e.parent))throw new f.buA(4005,!1);t=e.segments.length}return new Of(e,!1,t-s)}(n,n.segments.length-1+e,a.numberOfDoubleDots)}(s,t,a),l=u.processChildren?ed(u.segmentGroup,u.index,s.commands):Kb(u.segmentGroup,u.index,s.commands);return Wh(t,u.segmentGroup,l,n,e)}function Nf(a){return"object"==typeof a&&null!=a&&!a.outlets&&!a.segmentPath}function Zc(a){return"object"==typeof a&&null!=a&&a.outlets}function Wh(a,r,n,e,t){var s={};e&&Object.entries(e).forEach(function(c){var p=(0,F.A)(c,2),y=p[1];s[p[0]]=Array.isArray(y)?y.map(function(x){return"".concat(x)}):"".concat(y)});var l=Ub(Gb(a===r?n:zb(a,r,n)));return new Qs(l,s,t)}function zb(a,r,n){var e={};return Object.entries(a.children).forEach(function(t){var s=(0,F.A)(t,2),l=s[1];e[s[0]]=l===r?n:zb(l,r,n)}),new er(a.segments,e)}var Hb=function(){return(0,g.A)(function a(r,n,e){if((0,v.A)(this,a),(0,d.A)(this,"isAbsolute",void 0),(0,d.A)(this,"numberOfDoubleDots",void 0),(0,d.A)(this,"commands",void 0),this.isAbsolute=r,this.numberOfDoubleDots=n,this.commands=e,r&&e.length>0&&Nf(e[0]))throw new f.buA(4003,!1);var t=e.find(Zc);if(t&&t!==Rb(e))throw new f.buA(4004,!1)},[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}])}(),Of=(0,g.A)(function a(r,n,e){(0,v.A)(this,a),(0,d.A)(this,"segmentGroup",void 0),(0,d.A)(this,"processChildren",void 0),(0,d.A)(this,"index",void 0),this.segmentGroup=r,this.processChildren=n,this.index=e});function Kb(a,r,n){if(a??(a=new er([],{})),0===a.segments.length&&a.hasChildren())return ed(a,r,n);var e=function uR(a,r,n){for(var e=0,t=r,s={match:!1,pathIndex:0,commandIndex:0};t<a.segments.length;){if(e>=n.length)return s;var u=a.segments[t],l=n[e];if(Zc(l))break;var c="".concat(l),p=e<n.length-1?n[e+1]:null;if(t>0&&void 0===c)break;if(c&&p&&"object"==typeof p&&void 0===p.outlets){if(!qb(c,p,u))return s;e+=2}else{if(!qb(c,{},u))return s;e++}t++}return{match:!0,pathIndex:t,commandIndex:e}}(a,r,n),t=n.slice(e.commandIndex);if(e.match&&e.pathIndex<a.segments.length){var s=new er(a.segments.slice(0,e.pathIndex),{});return s.children[vn]=new er(a.segments.slice(e.pathIndex),a.children),ed(s,0,t)}return e.match&&0===t.length?new er(a.segments,{}):e.match&&!a.hasChildren()?Yh(a,r,n):e.match?ed(a,0,t):Yh(a,r,n)}function ed(a,r,n){if(0===n.length)return new er(a.segments,{});var e=function sR(a){return Zc(a[0])?a[0].outlets:(0,d.A)({},vn,a)}(n),t={};if(Object.keys(e).some(function(u){return u!==vn})&&a.children[vn]&&1===a.numberOfChildren&&0===a.children[vn].segments.length){var s=ed(a.children[vn],r,n);return new er(a.segments,s.children)}return Object.entries(e).forEach(function(u){var l=(0,F.A)(u,2),c=l[0],p=l[1];"string"==typeof p&&(p=[p]),null!==p&&(t[c]=Kb(a.children[c],r,p))}),Object.entries(a.children).forEach(function(u){var l=(0,F.A)(u,2),c=l[0];void 0===e[c]&&(t[c]=l[1])}),new er(a.segments,t)}function Yh(a,r,n){for(var e=a.segments.slice(0,r),t=0;t<n.length;){var s=n[t];if(Zc(s)){var u=lR(s.outlets);return new er(e,u)}if(0===t&&Nf(n[0]))e.push(new vs(a.segments[r].path,Xb(n[0]))),t++;else{var c=Zc(s)?s.outlets[vn]:"".concat(s),p=t<n.length-1?n[t+1]:null;c&&p&&Nf(p)?(e.push(new vs(c,Xb(p))),t+=2):(e.push(new vs(c,{})),t++)}}return new er(e,{})}function lR(a){var r={};return Object.entries(a).forEach(function(n){var e=(0,F.A)(n,2),s=e[1];"string"==typeof s&&(s=[s]),null!==s&&(r[e[0]]=Yh(new er([],{}),0,s))}),r}function Xb(a){var r={};return Object.entries(a).forEach(function(n){var e=(0,F.A)(n,2);return r[e[0]]="".concat(e[1])}),r}function qb(a,r,n){return a==n.path&&co(r,n.parameters)}var td="imperative",Nn=function(a){return a[a.NavigationStart=0]="NavigationStart",a[a.NavigationEnd=1]="NavigationEnd",a[a.NavigationCancel=2]="NavigationCancel",a[a.NavigationError=3]="NavigationError",a[a.RoutesRecognized=4]="RoutesRecognized",a[a.ResolveStart=5]="ResolveStart",a[a.ResolveEnd=6]="ResolveEnd",a[a.GuardsCheckStart=7]="GuardsCheckStart",a[a.GuardsCheckEnd=8]="GuardsCheckEnd",a[a.RouteConfigLoadStart=9]="RouteConfigLoadStart",a[a.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",a[a.ChildActivationStart=11]="ChildActivationStart",a[a.ChildActivationEnd=12]="ChildActivationEnd",a[a.ActivationStart=13]="ActivationStart",a[a.ActivationEnd=14]="ActivationEnd",a[a.Scroll=15]="Scroll",a[a.NavigationSkipped=16]="NavigationSkipped",a}(Nn||{}),fo=(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"id",void 0),(0,d.A)(this,"url",void 0),this.id=r,this.url=n}),hl=function(a){function r(n,e){var t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,v.A)(this,r),t=(0,w.A)(this,r,[n,e]),(0,d.A)(t,"type",Nn.NavigationStart),(0,d.A)(t,"navigationTrigger",void 0),(0,d.A)(t,"restoredState",void 0),t.navigationTrigger=s,t.restoredState=u,t}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}])}(fo),po=function(a){function r(n,e,t){var s;return(0,v.A)(this,r),s=(0,w.A)(this,r,[n,e]),(0,d.A)(s,"urlAfterRedirects",void 0),(0,d.A)(s,"type",Nn.NavigationEnd),s.urlAfterRedirects=t,s}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}])}(fo),ni=function(a){return a[a.Redirect=0]="Redirect",a[a.SupersededByNewNavigation=1]="SupersededByNewNavigation",a[a.NoDataFromResolver=2]="NoDataFromResolver",a[a.GuardRejected=3]="GuardRejected",a[a.Aborted=4]="Aborted",a}(ni||{}),Bf=function(a){return a[a.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",a[a.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",a}(Bf||{}),ys=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"reason",void 0),(0,d.A)(u,"code",void 0),(0,d.A)(u,"type",Nn.NavigationCancel),u.reason=t,u.code=s,u}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}])}(fo),gl=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"reason",void 0),(0,d.A)(u,"code",void 0),(0,d.A)(u,"type",Nn.NavigationSkipped),u.reason=t,u.code=s,u}return(0,P.A)(r,a),(0,g.A)(r)}(fo),nd=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"error",void 0),(0,d.A)(u,"target",void 0),(0,d.A)(u,"type",Nn.NavigationError),u.error=t,u.target=s,u}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}])}(fo),Lf=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"urlAfterRedirects",void 0),(0,d.A)(u,"state",void 0),(0,d.A)(u,"type",Nn.RoutesRecognized),u.urlAfterRedirects=t,u.state=s,u}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}])}(fo),cR=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"urlAfterRedirects",void 0),(0,d.A)(u,"state",void 0),(0,d.A)(u,"type",Nn.GuardsCheckStart),u.urlAfterRedirects=t,u.state=s,u}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}])}(fo),dR=function(a){function r(n,e,t,s,u){var l;return(0,v.A)(this,r),l=(0,w.A)(this,r,[n,e]),(0,d.A)(l,"urlAfterRedirects",void 0),(0,d.A)(l,"state",void 0),(0,d.A)(l,"shouldActivate",void 0),(0,d.A)(l,"type",Nn.GuardsCheckEnd),l.urlAfterRedirects=t,l.state=s,l.shouldActivate=u,l}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}])}(fo),fR=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"urlAfterRedirects",void 0),(0,d.A)(u,"state",void 0),(0,d.A)(u,"type",Nn.ResolveStart),u.urlAfterRedirects=t,u.state=s,u}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}])}(fo),pR=function(a){function r(n,e,t,s){var u;return(0,v.A)(this,r),u=(0,w.A)(this,r,[n,e]),(0,d.A)(u,"urlAfterRedirects",void 0),(0,d.A)(u,"state",void 0),(0,d.A)(u,"type",Nn.ResolveEnd),u.urlAfterRedirects=t,u.state=s,u}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}])}(fo),mR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"route",void 0),(0,d.A)(this,"type",Nn.RouteConfigLoadStart),this.route=r},[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}])}(),hR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"route",void 0),(0,d.A)(this,"type",Nn.RouteConfigLoadEnd),this.route=r},[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}])}(),gR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Nn.ChildActivationStart),this.snapshot=r},[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}])}(),vR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Nn.ChildActivationEnd),this.snapshot=r},[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}])}(),yR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Nn.ActivationStart),this.snapshot=r},[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}])}(),_R=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Nn.ActivationEnd),this.snapshot=r},[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}])}(),Wb=function(){return(0,g.A)(function a(r,n,e){(0,v.A)(this,a),(0,d.A)(this,"routerEvent",void 0),(0,d.A)(this,"position",void 0),(0,d.A)(this,"anchor",void 0),(0,d.A)(this,"type",Nn.Scroll),this.routerEvent=r,this.position=n,this.anchor=e},[{key:"toString",value:function(){var n=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(n,"')")}}])}(),Qh=(0,g.A)(function a(){(0,v.A)(this,a)}),Uf=(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"url",void 0),(0,d.A)(this,"navigationBehaviorOptions",void 0),this.url=r,this.navigationBehaviorOptions=n});function Ji(a){return a.outlet||vn}function vl(a){var r;if(!a)return null;if(null!==(r=a.routeConfig)&&void 0!==r&&r._injector)return a.routeConfig._injector;for(var n=a.parent;n;n=n.parent){var e=n.routeConfig;if(null!=e&&e._loadedInjector)return e._loadedInjector;if(null!=e&&e._injector)return e._injector}return null}var DR=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"rootInjector",void 0),(0,d.A)(this,"outlet",null),(0,d.A)(this,"route",null),(0,d.A)(this,"children",void 0),(0,d.A)(this,"attachRef",null),this.rootInjector=r,this.children=new rd(this.rootInjector)},[{key:"injector",get:function(){var n,e;return null!==(n=vl(null===(e=this.route)||void 0===e?void 0:e.snapshot))&&void 0!==n?n:this.rootInjector}}])}(),rd=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),(0,d.A)(this,"rootInjector",void 0),(0,d.A)(this,"contexts",new Map),this.rootInjector=e},[{key:"onChildOutletCreated",value:function(t,s){var u=this.getOrCreateContext(t);u.outlet=s,this.contexts.set(t,u)}},{key:"onChildOutletDestroyed",value:function(t){var s=this.getContext(t);s&&(s.outlet=null,s.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var s=this.getContext(t);return s||(s=new DR(this.rootInjector),this.contexts.set(t,s)),s}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(f.KVO(f.uvJ))}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}(),Yb=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"_root",void 0),this._root=r},[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(n){var e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(n){var e=Jh(n,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(n){var e=Jh(n,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(n){var e=Zh(n,this._root);return e.length<2?[]:e[e.length-2].children.map(function(s){return s.value}).filter(function(s){return s!==n})}},{key:"pathFromRoot",value:function(n){return Zh(n,this._root).map(function(e){return e.value})}}])}();function Jh(a,r){if(a===r.value)return r;var e,n=(0,j.A)(r.children);try{for(n.s();!(e=n.n()).done;){var s=Jh(a,e.value);if(s)return s}}catch(u){n.e(u)}finally{n.f()}return null}function Zh(a,r){if(a===r.value)return[r];var e,n=(0,j.A)(r.children);try{for(n.s();!(e=n.n()).done;){var s=Zh(a,e.value);if(s.length)return s.unshift(r),s}}catch(u){n.e(u)}finally{n.f()}return[]}var Zi=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"value",void 0),(0,d.A)(this,"children",void 0),this.value=r,this.children=n},[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}])}();function yl(a){var r={};return a&&a.children.forEach(function(n){return r[n.value.outlet]=n}),r}var Qb=function(a){function r(n,e){var t;return(0,v.A)(this,r),t=(0,w.A)(this,r,[n]),(0,d.A)(t,"snapshot",void 0),t.snapshot=e,eg(t,n),t}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return this.snapshot.toString()}}])}(Yb);function Jb(a){var r=function wR(a){var s=new jf([],{},{},"",{},vn,a,null,{});return new Zb("",new Zi(s,[]))}(a),n=new R.t([new vs("",{})]),e=new R.t({}),t=new R.t({}),s=new R.t({}),u=new R.t(""),l=new _s(n,e,s,u,t,vn,a,r.root);return l.snapshot=r.root,new Qb(new Zi(l,[]),r)}var _s=function(){return(0,g.A)(function a(r,n,e,t,s,u,l,c){var p,m;(0,v.A)(this,a),(0,d.A)(this,"urlSubject",void 0),(0,d.A)(this,"paramsSubject",void 0),(0,d.A)(this,"queryParamsSubject",void 0),(0,d.A)(this,"fragmentSubject",void 0),(0,d.A)(this,"dataSubject",void 0),(0,d.A)(this,"outlet",void 0),(0,d.A)(this,"component",void 0),(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"_futureSnapshot",void 0),(0,d.A)(this,"_routerState",void 0),(0,d.A)(this,"_paramMap",void 0),(0,d.A)(this,"_queryParamMap",void 0),(0,d.A)(this,"title",void 0),(0,d.A)(this,"url",void 0),(0,d.A)(this,"params",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"data",void 0),this.urlSubject=r,this.paramsSubject=n,this.queryParamsSubject=e,this.fragmentSubject=t,this.dataSubject=s,this.outlet=u,this.component=l,this._futureSnapshot=c,this.title=null!==(p=null===(m=this.dataSubject)||void 0===m?void 0:m.pipe((0,me.T)(function(y){return y[Yc]})))&&void 0!==p?p:(0,De.of)(void 0),this.url=r,this.params=n,this.queryParams=e,this.fragment=t,this.data=s},[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){var n;return null!==(n=this._paramMap)&&void 0!==n||(this._paramMap=this.params.pipe((0,me.T)(function(e){return ml(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){var n;return null!==(n=this._queryParamMap)&&void 0!==n||(this._queryParamMap=this.queryParams.pipe((0,me.T)(function(e){return ml(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}])}();function Gf(a,r){var n,t,u,s=a.routeConfig;return t=null===r||"always"!==(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"emptyOnly")&&""!==s?.path&&(r.component||null!==(n=r.routeConfig)&&void 0!==n&&n.loadComponent)?{params:(0,_.A)({},a.params),data:(0,_.A)({},a.data),resolve:(0,_.A)((0,_.A)({},a.data),null!==(u=a._resolvedData)&&void 0!==u?u:{})}:{params:(0,_.A)((0,_.A)({},r.params),a.params),data:(0,_.A)((0,_.A)({},r.data),a.data),resolve:(0,_.A)((0,_.A)((0,_.A)((0,_.A)({},a.data),r.data),s?.data),a._resolvedData)},s&&tA(s)&&(t.resolve[Yc]=s.title),t}var jf=function(){return(0,g.A)(function a(r,n,e,t,s,u,l,c,p){(0,v.A)(this,a),(0,d.A)(this,"url",void 0),(0,d.A)(this,"params",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"data",void 0),(0,d.A)(this,"outlet",void 0),(0,d.A)(this,"component",void 0),(0,d.A)(this,"routeConfig",void 0),(0,d.A)(this,"_resolve",void 0),(0,d.A)(this,"_resolvedData",void 0),(0,d.A)(this,"_routerState",void 0),(0,d.A)(this,"_paramMap",void 0),(0,d.A)(this,"_queryParamMap",void 0),this.url=r,this.params=n,this.queryParams=e,this.fragment=t,this.data=s,this.outlet=u,this.component=l,this.routeConfig=c,this._resolve=p},[{key:"title",get:function(){var n;return null===(n=this.data)||void 0===n?void 0:n[Yc]}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){var n;return null!==(n=this._paramMap)&&void 0!==n||(this._paramMap=ml(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){var n;return null!==(n=this._queryParamMap)&&void 0!==n||(this._queryParamMap=ml(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var n=this.url.map(function(t){return t.toString()}).join("/"),e=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(n,"', path:'").concat(e,"')")}}])}(),Zb=function(a){function r(n,e){var t;return(0,v.A)(this,r),t=(0,w.A)(this,r,[e]),(0,d.A)(t,"url",void 0),t.url=n,eg(t,e),t}return(0,P.A)(r,a),(0,g.A)(r,[{key:"toString",value:function(){return eA(this._root)}}])}(Yb);function eg(a,r){r.value._routerState=a,r.children.forEach(function(n){return eg(a,n)})}function eA(a){var r=a.children.length>0?" { ".concat(a.children.map(eA).join(", ")," } "):"";return"".concat(a.value).concat(r)}function tg(a){if(a.snapshot){var r=a.snapshot,n=a._futureSnapshot;a.snapshot=n,co(r.queryParams,n.queryParams)||a.queryParamsSubject.next(n.queryParams),r.fragment!==n.fragment&&a.fragmentSubject.next(n.fragment),co(r.params,n.params)||a.paramsSubject.next(n.params),function BP(a,r){if(a.length!==r.length)return!1;for(var n=0;n<a.length;++n)if(!co(a[n],r[n]))return!1;return!0}(r.url,n.url)||a.urlSubject.next(n.url),co(r.data,n.data)||a.dataSubject.next(n.data)}else a.snapshot=a._futureSnapshot,a.dataSubject.next(a._futureSnapshot.data)}function ng(a,r){var n=co(a.params,r.params)&&function jP(a,r){return Js(a,r)&&a.every(function(n,e){return co(n.parameters,r[e].parameters)})}(a.url,r.url);return n&&!(!a.parent!=!r.parent)&&(!a.parent||ng(a.parent,r.parent))}function tA(a){return"string"==typeof a.title||null===a.title}var FR=new f.nKC(""),rg=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),(0,d.A)(this,"activated",null),(0,d.A)(this,"_activatedRoute",null),(0,d.A)(this,"name",vn),(0,d.A)(this,"activateEvents",new o.bkB),(0,d.A)(this,"deactivateEvents",new o.bkB),(0,d.A)(this,"attachEvents",new o.bkB),(0,d.A)(this,"detachEvents",new o.bkB),(0,d.A)(this,"routerOutletData",G.hFB.apply(void 0,[void 0].concat((0,A.A)([])))),(0,d.A)(this,"parentContexts",(0,f.WQX)(rd)),(0,d.A)(this,"location",(0,f.WQX)(o.c1b)),(0,d.A)(this,"changeDetector",(0,f.WQX)(G.gRc)),(0,d.A)(this,"inputBinder",(0,f.WQX)($f,{optional:!0})),(0,d.A)(this,"supportsBindingToComponentInputs",!0)},[{key:"activatedComponentRef",get:function(){return this.activated}},{key:"ngOnChanges",value:function(t){if(t.name){var s=t.name,l=s.previousValue;if(s.firstChange)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}},{key:"ngOnDestroy",value:function(){var t;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(t=this.inputBinder)||void 0===t||t.unsubscribeFromRouteData(this)}},{key:"isTrackedInParentContexts",value:function(t){var s;return(null===(s=this.parentContexts.getContext(t))||void 0===s?void 0:s.outlet)===this}},{key:"ngOnInit",value:function(){this.initializeOutletWithName()}},{key:"initializeOutletWithName",value:function(){if(this.parentContexts.onChildOutletCreated(this.name,this),!this.activated){var t=this.parentContexts.getContext(this.name);null!=t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new f.buA(4012,!1);return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new f.buA(4012,!1);return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new f.buA(4012,!1);this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}},{key:"attach",value:function(t,s){var u;this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView),null===(u=this.inputBinder)||void 0===u||u.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,s){var u;if(this.isActivated)throw new f.buA(4013,!1);this._activatedRoute=t;var l=this.location,p=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,y=new kR(t,m,l.injector,this.routerOutletData);this.activated=l.createComponent(p,{index:l.length,injector:y,environmentInjector:s}),this.changeDetector.markForCheck(),null===(u=this.inputBinder)||void 0===u||u.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275dir",o.FsC({type:a,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[o.OA$]})),r}(),kR=function(){return(0,g.A)(function a(r,n,e,t){(0,v.A)(this,a),(0,d.A)(this,"route",void 0),(0,d.A)(this,"childContexts",void 0),(0,d.A)(this,"parent",void 0),(0,d.A)(this,"outletData",void 0),this.route=r,this.childContexts=n,this.parent=e,this.outletData=t},[{key:"get",value:function(n,e){return n===_s?this.route:n===rd?this.childContexts:n===FR?this.outletData:this.parent.get(n,e)}}])}(),$f=new f.nKC(""),nA=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),(0,d.A)(this,"outletDataSubscriptions",new Map)},[{key:"bindActivatedRouteToOutletComponent",value:function(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}},{key:"unsubscribeFromRouteData",value:function(t){var s;null===(s=this.outletDataSubscriptions.get(t))||void 0===s||s.unsubscribe(),this.outletDataSubscriptions.delete(t)}},{key:"subscribeToRouteData",value:function(t){var s=this,u=t.activatedRoute,l=(0,Vn.z)([u.queryParams,u.params,u.data]).pipe((0,We.n)(function(c,p){var m=(0,F.A)(c,3),x=m[1],D=m[2];return D=(0,_.A)((0,_.A)((0,_.A)({},m[0]),x),D),0===p?(0,De.of)(D):Promise.resolve(D)})).subscribe(function(c){if(t.isActivated&&t.activatedComponentRef&&t.activatedRoute===u&&null!==u.component){var p=(0,G.HJs)(u.component);if(p){var y,m=(0,j.A)(p.inputs);try{for(m.s();!(y=m.n()).done;){var x=y.value.templateName;t.activatedComponentRef.setInput(x,c[x])}}catch(D){m.e(D)}finally{m.f()}}else s.unsubscribeFromRouteData(t)}else s.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,l)}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac})),r}(),rA=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275cmp",o.VBU({type:a,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(e,t){1&e&&o.nrm(0,"router-outlet")},dependencies:[rg],encapsulation:2})),r}();function ag(a){var r=a.children&&a.children.map(ag),n=r?(0,_.A)((0,_.A)({},a),{},{children:r}):(0,_.A)({},a);return!n.component&&!n.loadComponent&&(r||n.loadChildren)&&n.outlet&&n.outlet!==vn&&(n.component=rA),n}function ad(a,r,n){if(n&&a.shouldReuseRoute(r.value,n.value.snapshot)){var e=n.value;e._futureSnapshot=r.value;var t=function RR(a,r,n){return r.children.map(function(e){var s,t=(0,j.A)(n.children);try{for(t.s();!(s=t.n()).done;){var u=s.value;if(a.shouldReuseRoute(e.value,u.value.snapshot))return ad(a,e,u)}}catch(l){t.e(l)}finally{t.f()}return ad(a,e)})}(a,r,n);return new Zi(e,t)}if(a.shouldAttach(r.value)){var s=a.retrieve(r.value);if(null!==s){var u=s.route;return u.value._futureSnapshot=r.value,u.children=r.children.map(function(p){return ad(a,p)}),u}}var l=function TR(a){return new _s(new R.t(a.url),new R.t(a.params),new R.t(a.queryParams),new R.t(a.fragment),new R.t(a.data),a.outlet,a.component,a)}(r.value),c=r.children.map(function(p){return ad(a,p)});return new Zi(l,c)}var ig=(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"redirectTo",void 0),(0,d.A)(this,"navigationBehaviorOptions",void 0),this.redirectTo=r,this.navigationBehaviorOptions=n}),aA="ngNavigationCancelingError";function zf(a,r){var n=Zs(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,e=n.redirectTo,t=n.navigationBehaviorOptions,s=iA(!1,ni.Redirect);return s.url=e,s.navigationBehaviorOptions=t,s}function iA(a,r){var n=new Error("NavigationCancelingError: ".concat(a||""));return n[aA]=!0,n.cancellationCode=r,n}function oA(a){return!!a&&a[aA]}var VR=function(){return(0,g.A)(function a(r,n,e,t,s){(0,v.A)(this,a),(0,d.A)(this,"routeReuseStrategy",void 0),(0,d.A)(this,"futureState",void 0),(0,d.A)(this,"currState",void 0),(0,d.A)(this,"forwardEvent",void 0),(0,d.A)(this,"inputBindingEnabled",void 0),this.routeReuseStrategy=r,this.futureState=n,this.currState=e,this.forwardEvent=t,this.inputBindingEnabled=s},[{key:"activate",value:function(n){var e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),tg(this.futureState.root),this.activateChildRoutes(e,t,n)}},{key:"deactivateChildRoutes",value:function(n,e,t){var s=this,u=yl(e);n.children.forEach(function(l){var c=l.value.outlet;s.deactivateRoutes(l,u[c],t),delete u[c]}),Object.values(u).forEach(function(l){s.deactivateRouteAndItsChildren(l,t)})}},{key:"deactivateRoutes",value:function(n,e,t){var s=n.value,u=e?e.value:null;if(s===u)if(s.component){var l=t.getContext(s.outlet);l&&this.deactivateChildRoutes(n,e,l.children)}else this.deactivateChildRoutes(n,e,t);else u&&this.deactivateRouteAndItsChildren(e,t)}},{key:"deactivateRouteAndItsChildren",value:function(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}},{key:"detachAndStoreRouteSubtree",value:function(n,e){for(var t=e.getContext(n.value.outlet),s=t&&n.value.component?t.children:e,u=yl(n),l=0,c=Object.values(u);l<c.length;l++)this.deactivateRouteAndItsChildren(c[l],s);if(t&&t.outlet){var m=t.outlet.detach(),y=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:m,route:n,contexts:y})}}},{key:"deactivateRouteAndOutlet",value:function(n,e){for(var t=e.getContext(n.value.outlet),s=t&&n.value.component?t.children:e,u=yl(n),l=0,c=Object.values(u);l<c.length;l++)this.deactivateRouteAndItsChildren(c[l],s);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}},{key:"activateChildRoutes",value:function(n,e,t){var s=this,u=yl(e);n.children.forEach(function(l){s.activateRoutes(l,u[l.value.outlet],t),s.forwardEvent(new _R(l.value.snapshot))}),n.children.length&&this.forwardEvent(new vR(n.value.snapshot))}},{key:"activateRoutes",value:function(n,e,t){var s=n.value,u=e?e.value:null;if(tg(s),s===u)if(s.component){var l=t.getOrCreateContext(s.outlet);this.activateChildRoutes(n,e,l.children)}else this.activateChildRoutes(n,e,t);else if(s.component){var c=t.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){var p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),tg(p.route.value),this.activateChildRoutes(n,null,c.children)}else c.attachRef=null,c.route=s,c.outlet&&c.outlet.activateWith(s,c.injector),this.activateChildRoutes(n,null,c.children)}else this.activateChildRoutes(n,null,t)}}])}(),sA=(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"path",void 0),(0,d.A)(this,"route",void 0),this.path=r,this.route=this.path[this.path.length-1]}),Hf=(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"component",void 0),(0,d.A)(this,"route",void 0),this.component=r,this.route=n});function NR(a,r,n){var e=a._root;return id(e,r?r._root:null,n,[e.value])}function _l(a,r){var n=Symbol(),e=r.get(a,n);return e===n?"function"!=typeof a||(0,f.muV)(a)?r.get(a):a:e}function id(a,r,n,e){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=yl(r);return a.children.forEach(function(u){(function BR(a,r,n,e){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=a.value,u=r?r.value:null,l=n?n.getContext(a.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){var c=function LR(a,r,n){if("function"==typeof n)return n(a,r);switch(n){case"pathParamsChange":return!Js(a.url,r.url);case"pathParamsOrQueryParamsChange":return!Js(a.url,r.url)||!co(a.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ng(a,r)||!co(a.queryParams,r.queryParams);default:return!ng(a,r)}}(u,s,s.routeConfig.runGuardsAndResolvers);c?t.canActivateChecks.push(new sA(e)):(s.data=u.data,s._resolvedData=u._resolvedData),id(a,r,s.component?l?l.children:null:n,e,t),c&&l&&l.outlet&&l.outlet.isActivated&&t.canDeactivateChecks.push(new Hf(l.outlet.component,u))}else u&&od(r,l,t),t.canActivateChecks.push(new sA(e)),id(a,null,s.component?l?l.children:null:n,e,t)})(u,s[u.value.outlet],n,e.concat([u.value]),t),delete s[u.value.outlet]}),Object.entries(s).forEach(function(u){var l=(0,F.A)(u,2);return od(l[1],n.getContext(l[0]),t)}),t}function od(a,r,n){var e=yl(a),t=a.value;Object.entries(e).forEach(function(s){var u=(0,F.A)(s,2);od(u[1],t.component?r?r.children.getContext(u[0]):null:r,n)}),n.canDeactivateChecks.push(new Hf(t.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,t))}function sd(a){return"function"==typeof a}function uA(a){return a instanceof Wc||"EmptyError"===a?.name}var Kf=Symbol("INITIAL_VALUE");function bl(){return(0,We.n)(function(a){return(0,Vn.z)(a.map(function(r){return r.pipe((0,on.s)(1),(0,Pf.Z)(Kf))})).pipe((0,me.T)(function(r){var e,n=(0,j.A)(r);try{for(n.s();!(e=n.n()).done;){var t=e.value;if(!0!==t){if(t===Kf)return Kf;if(!1===t||KR(t))return t}}}catch(s){n.e(s)}finally{n.f()}return!0}),(0,he.p)(function(r){return r!==Kf}),(0,on.s)(1))})}function KR(a){return Zs(a)||a instanceof ig}function lA(a){return(0,MP.F)((0,ue.M)(function(r){if("boolean"!=typeof r)throw zf(0,r)}),(0,me.T)(function(r){return!0===r}))}var og=(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"segmentGroup",void 0),this.segmentGroup=r||null}),sg=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r),(0,d.A)(e,"urlTree",void 0),e.urlTree=n,e}return(0,P.A)(r,a),(0,g.A)(r)}((0,O.A)(Error));function Al(a){return(0,ti.$)(new og(a))}function rT(a){return(0,ti.$)(new f.buA(4e3,!1))}var iT=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"urlSerializer",void 0),(0,d.A)(this,"urlTree",void 0),this.urlSerializer=r,this.urlTree=n},[{key:"lineralizeSegments",value:function(n,e){for(var t=[],s=e.root;;){if(t=t.concat(s.segments),0===s.numberOfChildren)return(0,De.of)(t);if(s.numberOfChildren>1||!s.children[vn])return rT("".concat(n.redirectTo));s=s.children[vn]}}},{key:"applyRedirectCommands",value:function(n,e,t,s,u){var l=this;return function oT(a,r,n){if("string"==typeof a)return(0,De.of)(a);var e=a,t=r.queryParams,s=r.fragment,u=r.routeConfig,l=r.url,c=r.outlet,p=r.params,m=r.data,y=r.title;return Go((0,f.N4e)(n,function(){return e({params:p,data:m,queryParams:t,fragment:s,routeConfig:u,url:l,outlet:c,title:y})}))}(e,s,u).pipe((0,me.T)(function(c){if(c instanceof Qs)throw new sg(c);var p=l.applyRedirectCreateUrlTree(c,l.urlSerializer.parse(c),n,t);if("/"===c[0])throw new sg(p);return p}))}},{key:"applyRedirectCreateUrlTree",value:function(n,e,t,s){var u=this.createSegmentGroup(n,e.root,t,s);return new Qs(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(n,e){var t={};return Object.entries(n).forEach(function(s){var u=(0,F.A)(s,2),l=u[0],c=u[1];if("string"==typeof c&&":"===c[0]){var m=c.substring(1);t[l]=e[m]}else t[l]=c}),t}},{key:"createSegmentGroup",value:function(n,e,t,s){var u=this,l=this.createSegments(n,e.segments,t,s),c={};return Object.entries(e.children).forEach(function(p){var m=(0,F.A)(p,2);c[m[0]]=u.createSegmentGroup(n,m[1],t,s)}),new er(l,c)}},{key:"createSegments",value:function(n,e,t,s){var u=this;return e.map(function(l){return":"===l.path[0]?u.findPosParam(n,l,s):u.findOrReturn(l,t)})}},{key:"findPosParam",value:function(n,e,t){var s=t[e.path.substring(1)];if(!s)throw new f.buA(4001,!1);return s}},{key:"findOrReturn",value:function(n,e){var u,t=0,s=(0,j.A)(e);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l.path===n.path)return e.splice(t),l;t++}}catch(c){s.e(c)}finally{s.f()}return n}}])}(),ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sT(a,r,n,e,t){var s=cA(a,r,n);return s.matched?(e=function AR(a,r){var n;return a.providers&&!a._injector&&(a._injector=(0,o.Ol2)(a.providers,r,"Route: ".concat(a.path))),null!==(n=a._injector)&&void 0!==n?n:r}(r,e),function nT(a,r,n,e){var t=r.canMatch;if(!t||0===t.length)return(0,De.of)(!0);var s=t.map(function(u){var l=_l(u,a);return Go(function HR(a){return a&&sd(a.canMatch)}(l)?l.canMatch(r,n):(0,f.N4e)(a,function(){return l(r,n)}))});return(0,De.of)(s).pipe(bl(),lA())}(e,r,n).pipe((0,me.T)(function(u){return!0===u?s:(0,_.A)({},ug)}))):(0,De.of)(s)}function cA(a,r,n){var e,t;if("**"===r.path)return function uT(a){return{matched:!0,parameters:a.length>0?Rb(a).parameters:{},consumedSegments:a,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===r.path)return"full"===r.pathMatch&&(a.hasChildren()||n.length>0)?(0,_.A)({},ug):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};var u=(r.matcher||OP)(n,a,r);if(!u)return(0,_.A)({},ug);var l={};Object.entries(null!==(e=u.posParams)&&void 0!==e?e:{}).forEach(function(p){var m=(0,F.A)(p,2);l[m[0]]=m[1].path});var c=u.consumed.length>0?(0,_.A)((0,_.A)({},l),u.consumed[u.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:u.consumed,remainingSegments:n.slice(u.consumed.length),parameters:c,positionalParamSegments:null!==(t=u.posParams)&&void 0!==t?t:{}}}function dA(a,r,n,e){if(n.length>0&&function dT(a,r,n){return n.some(function(e){return Xf(a,r,e)&&Ji(e)!==vn})}(a,n,e)){var t=new er(r,function cT(a,r){var n={};n[vn]=r;var t,e=(0,j.A)(a);try{for(e.s();!(t=e.n()).done;){var s=t.value;if(""===s.path&&Ji(s)!==vn){var u=new er([],{});n[Ji(s)]=u}}}catch(l){e.e(l)}finally{e.f()}return n}(e,new er(n,a.children)));return{segmentGroup:t,slicedSegments:[]}}if(0===n.length&&function fT(a,r,n){return n.some(function(e){return Xf(a,r,e)})}(a,n,e)){var s=new er(a.segments,function lT(a,r,n,e){var u,t={},s=(0,j.A)(n);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(Xf(a,r,l)&&!e[Ji(l)]){var c=new er([],{});t[Ji(l)]=c}}}catch(p){s.e(p)}finally{s.f()}return(0,_.A)((0,_.A)({},e),t)}(a,n,e,a.children));return{segmentGroup:s,slicedSegments:n}}return{segmentGroup:new er(a.segments,a.children),slicedSegments:n}}function Xf(a,r,n){return(!(a.hasChildren()||r.length>0)||"full"!==n.pathMatch)&&""===n.path}var mT=(0,g.A)(function a(){(0,v.A)(this,a)}),vT=function(){return(0,g.A)(function a(r,n,e,t,s,u,l){(0,v.A)(this,a),(0,d.A)(this,"injector",void 0),(0,d.A)(this,"configLoader",void 0),(0,d.A)(this,"rootComponentType",void 0),(0,d.A)(this,"config",void 0),(0,d.A)(this,"urlTree",void 0),(0,d.A)(this,"paramsInheritanceStrategy",void 0),(0,d.A)(this,"urlSerializer",void 0),(0,d.A)(this,"applyRedirects",void 0),(0,d.A)(this,"absoluteRedirectCount",0),(0,d.A)(this,"allowRedirects",!0),this.injector=r,this.configLoader=n,this.rootComponentType=e,this.config=t,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=l,this.applyRedirects=new iT(this.urlSerializer,this.urlTree)},[{key:"noMatchError",value:function(n){return new f.buA(4002,"'".concat(n.segmentGroup,"'"))}},{key:"recognize",value:function(){var n=this,e=dA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,me.T)(function(t){var u=t.rootSnapshot,l=new Zi(u,t.children),c=new Zb("",l),p=function rR(a,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return $b(jb(a),r,n,e)}(u,[],n.urlTree.queryParams,n.urlTree.fragment);return p.queryParams=n.urlTree.queryParams,c.url=n.urlSerializer.serialize(p),{state:c,tree:p}}))}},{key:"match",value:function(n){var e=this,t=new jf([],Object.freeze({}),Object.freeze((0,_.A)({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),vn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,vn,t).pipe((0,me.T)(function(s){return{children:s,rootSnapshot:t}}),(0,Tr.W)(function(s){if(s instanceof sg)return e.urlTree=s.urlTree,e.match(s.urlTree.root);throw s instanceof og?e.noMatchError(s):s}))}},{key:"processSegmentGroup",value:function(n,e,t,s,u){return 0===t.segments.length&&t.hasChildren()?this.processChildren(n,e,t,u):this.processSegment(n,e,t,t.segments,s,!0,u).pipe((0,me.T)(function(l){return l instanceof Zi?[l]:[]}))}},{key:"processChildren",value:function(n,e,t,s){for(var u=this,l=[],c=0,p=Object.keys(t.children);c<p.length;c++){var m=p[c];"primary"===m?l.unshift(m):l.push(m)}return(0,Pa.H)(l).pipe((0,wi.H)(function(y){var x=t.children[y],D=function ER(a,r){var n=a.filter(function(e){return Ji(e)===r});return n.push.apply(n,(0,A.A)(a.filter(function(e){return Ji(e)!==r}))),n}(e,y);return u.processSegmentGroup(n,D,x,y,s)}),$c(function(y,x){return y.push.apply(y,(0,A.A)(x)),y}),br(null),function VP(a,r){var n=arguments.length>=2;return function(e){return e.pipe(a?(0,he.p)(function(t,s){return a(t,s,e)}):yh.D,zh(1),n?br(r):Fb(function(){return new Wc}))}}(),(0,na.Z)(function(y){if(null===y)return Al(t);var x=fA(y);return function yT(a){a.sort(function(r,n){return r.value.outlet===vn?-1:n.value.outlet===vn?1:r.value.outlet.localeCompare(n.value.outlet)})}(x),(0,De.of)(x)}))}},{key:"processSegment",value:function(n,e,t,s,u,l,c){var p=this;return(0,Pa.H)(e).pipe((0,wi.H)(function(m){var y;return p.processSegmentAgainstRoute(null!==(y=m._injector)&&void 0!==y?y:n,e,m,t,s,u,l,c).pipe((0,Tr.W)(function(x){if(x instanceof og)return(0,De.of)(null);throw x}))}),gs(function(m){return!!m}),(0,Tr.W)(function(m){if(uA(m))return function pT(a,r,n){return 0===r.length&&!a.children[n]}(t,s,u)?(0,De.of)(new mT):Al(t);throw m}))}},{key:"processSegmentAgainstRoute",value:function(n,e,t,s,u,l,c,p){return Ji(t)===l||l!==vn&&Xf(s,u,t)?void 0===t.redirectTo?this.matchSegmentAgainstRoute(n,s,t,u,l,p):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(n,s,e,t,u,l,p):Al(s):Al(s)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(n,e,t,s,u,l,c){var p,m,y=this,x=cA(e,s,u),N=x.parameters,$=x.consumedSegments,q=x.positionalParamSegments,le=x.remainingSegments;if(!x.matched)return Al(e);"string"==typeof s.redirectTo&&"/"===s.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));var ve=new jf(u,N,Object.freeze((0,_.A)({},this.urlTree.queryParams)),this.urlTree.fragment,pA(s),Ji(s),null!==(p=null!==(m=s.component)&&void 0!==m?m:s._loadedComponent)&&void 0!==p?p:null,s,mA(s)),Ae=Gf(ve,c,this.paramsInheritanceStrategy);return ve.params=Object.freeze(Ae.params),ve.data=Object.freeze(Ae.data),this.applyRedirects.applyRedirectCommands($,s.redirectTo,q,ve,n).pipe((0,We.n)(function(ke){return y.applyRedirects.lineralizeSegments(s,ke)}),(0,na.Z)(function(ke){return y.processSegment(n,t,e,ke.concat(le),l,!1,c)}))}},{key:"matchSegmentAgainstRoute",value:function(n,e,t,s,u,l){var c=this,p=sT(e,t,s,n);return"**"===t.path&&(e.children={}),p.pipe((0,We.n)(function(m){var y;return m.matched?(n=null!==(y=t._injector)&&void 0!==y?y:n,c.getChildConfig(n,t,s).pipe((0,We.n)(function(x){var D,N,$,q=x.routes,le=null!==(D=t._loadedInjector)&&void 0!==D?D:n,Ae=m.consumedSegments,ge=m.remainingSegments,ke=new jf(Ae,m.parameters,Object.freeze((0,_.A)({},c.urlTree.queryParams)),c.urlTree.fragment,pA(t),Ji(t),null!==(N=null!==($=t.component)&&void 0!==$?$:t._loadedComponent)&&void 0!==N?N:null,t,mA(t)),He=Gf(ke,l,c.paramsInheritanceStrategy);ke.params=Object.freeze(He.params),ke.data=Object.freeze(He.data);var ot=dA(e,Ae,ge,q),at=ot.segmentGroup,dt=ot.slicedSegments;if(0===dt.length&&at.hasChildren())return c.processChildren(le,q,at,ke).pipe((0,me.T)(function(Ot){return new Zi(ke,Ot)}));if(0===q.length&&0===dt.length)return(0,De.of)(new Zi(ke,[]));var Rt=Ji(t)===u;return c.processSegment(le,q,at,dt,Rt?vn:u,!0,ke).pipe((0,me.T)(function(Ot){return new Zi(ke,Ot instanceof Zi?[Ot]:[])}))}))):Al(e)}))}},{key:"getChildConfig",value:function(n,e,t){var s=this;return e.children?(0,De.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,De.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function tT(a,r,n,e){var t=r.canLoad;if(void 0===t||0===t.length)return(0,De.of)(!0);var s=t.map(function(u){var l=_l(u,a);return Go(function GR(a){return a&&sd(a.canLoad)}(l)?l.canLoad(r,n):(0,f.N4e)(a,function(){return l(r,n)}))});return(0,De.of)(s).pipe(bl(),lA())}(n,e,t).pipe((0,na.Z)(function(u){return u?s.configLoader.loadChildren(n,e).pipe((0,ue.M)(function(l){e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function aT(){return(0,ti.$)(iA(!1,ni.GuardRejected))}()})):(0,De.of)({routes:[],injector:n})}}])}();function fA(a){var t,r=[],n=new Set,e=(0,j.A)(a);try{var s=function(){var y=t.value;if(!function _T(a){var r=a.value.routeConfig;return r&&""===r.path}(y))return r.push(y),1;var D,x=r.find(function(N){return y.value.routeConfig===N.value.routeConfig});void 0!==x?((D=x.children).push.apply(D,(0,A.A)(y.children)),n.add(x)):r.push(y)};for(e.s();!(t=e.n()).done;)s()}catch(m){e.e(m)}finally{e.f()}var l,u=(0,j.A)(n);try{for(u.s();!(l=u.n()).done;){var c=l.value,p=fA(c.children);r.push(new Zi(c.value,p))}}catch(m){u.e(m)}finally{u.f()}return r.filter(function(m){return!n.has(m)})}function pA(a){return a.data||{}}function mA(a){return a.resolve||{}}function hA(a){var r=a.children.map(function(n){return hA(n)}).flat();return[a].concat((0,A.A)(r))}function lg(a){return(0,We.n)(function(r){var n=a(r);return n?(0,Pa.H)(n).pipe((0,me.T)(function(){return r})):(0,De.of)(r)})}var gA=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"buildTitle",value:function(t){for(var s,u=t.root;void 0!==u;){var l;s=null!==(l=this.getResolvedTitleForRoute(u))&&void 0!==l?l:s,u=u.children.find(function(c){return c.outlet===vn})}return s}},{key:"getResolvedTitleForRoute",value:function(t){return t.data[Yc]}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:function(){return(0,f.WQX)(ET)},providedIn:"root"})),r}(),ET=function(){var a,r=function(n){function e(t){var s;return(0,v.A)(this,e),s=(0,w.A)(this,e),(0,d.A)(s,"title",void 0),s.title=t,s}return(0,P.A)(e,n),(0,g.A)(e,[{key:"updateTitle",value:function(s){var u=this.buildTitle(s);void 0!==u&&this.title.setTitle(u)}}])}(gA);return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(f.KVO(M.Title))}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}(),Cl=new f.nKC("",{providedIn:"root",factory:function(){return{}}}),qf=new f.nKC(""),cg=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),(0,d.A)(this,"componentLoaders",new WeakMap),(0,d.A)(this,"childrenLoaders",new WeakMap),(0,d.A)(this,"onLoadStartListener",void 0),(0,d.A)(this,"onLoadEndListener",void 0),(0,d.A)(this,"compiler",(0,f.WQX)(o.Ql9))},[{key:"loadComponent",value:function(t,s){var u=this;if(this.componentLoaders.get(s))return this.componentLoaders.get(s);if(s._loadedComponent)return(0,De.of)(s._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(s);var l=Go((0,f.N4e)(t,function(){return s.loadComponent()})).pipe((0,me.T)(vA),(0,We.n)(yA),(0,ue.M)(function(p){u.onLoadEndListener&&u.onLoadEndListener(s),s._loadedComponent=p}),(0,Hh.j)(function(){u.componentLoaders.delete(s)})),c=new wb.G(l,function(){return new W.B}).pipe((0,kb.B)());return this.componentLoaders.set(s,c),c}},{key:"loadChildren",value:function(t,s){var u=this;if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,De.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);var l=function DT(a,r,n,e){return Go((0,f.N4e)(n,function(){return a.loadChildren()})).pipe((0,me.T)(vA),(0,We.n)(yA),(0,na.Z)(function(t){return t instanceof o.PYt||Array.isArray(t)?(0,De.of)(t):(0,Pa.H)(r.compileModuleAsync(t))}),(0,me.T)(function(t){var s;return e&&e(a),{routes:(Array.isArray(t)?t:(s=t.create(n).injector).get(qf,[],{optional:!0,self:!0}).flat()).map(ag),injector:s}}))}(s,this.compiler,t,this.onLoadEndListener),c=l.pipe((0,Hh.j)(function(){u.childrenLoaders.delete(s)})),p=new wb.G(c,function(){return new W.B}).pipe((0,kb.B)());return this.childrenLoaders.set(s,p),p}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}();function vA(a){return function wT(a){return a&&"object"==typeof a&&"default"in a}(a)?a.default:a}function yA(a){return(0,De.of)(a)}var dg=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:function(){return(0,f.WQX)(FT)},providedIn:"root"})),r}(),FT=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,s){return t}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}(),_A=new f.nKC(""),bA=new f.nKC("");function kT(a,r,n){var e=a.get(bA),t=a.get(f.qQL);if(!t.startViewTransition||e.skipNextTransition)return e.skipNextTransition=!1,new Promise(function(p){return setTimeout(p)});var s,u=new Promise(function(p){s=p}),l=t.startViewTransition(function(){return s(),function PT(a){return new Promise(function(r){(0,o.mal)({read:function(){return setTimeout(r)}},{injector:a})})}(a)});l.ready.catch(function(p){});var c=e.onViewTransitionCreated;return c&&(0,f.N4e)(a,function(){return c({transition:l,from:r,to:n})}),u}var AA=new f.nKC(""),fg=function(){var a,r=function(){return(0,g.A)(function n(){var e=this;(0,v.A)(this,n),(0,d.A)(this,"currentNavigation",f.vPA.apply(void 0,[null].concat((0,A.A)([{equal:function(){return!1}}])))),(0,d.A)(this,"currentTransition",null),(0,d.A)(this,"lastSuccessfulNavigation",null),(0,d.A)(this,"events",new W.B),(0,d.A)(this,"transitionAbortWithErrorSubject",new W.B),(0,d.A)(this,"configLoader",(0,f.WQX)(cg)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ)),(0,d.A)(this,"destroyRef",(0,f.WQX)(f.abz)),(0,d.A)(this,"urlSerializer",(0,f.WQX)(Qc)),(0,d.A)(this,"rootContexts",(0,f.WQX)(rd)),(0,d.A)(this,"location",(0,f.WQX)(Uo.aZ)),(0,d.A)(this,"inputBindingEnabled",null!==(0,f.WQX)($f,{optional:!0})),(0,d.A)(this,"titleStrategy",(0,f.WQX)(gA)),(0,d.A)(this,"options",(0,f.WQX)(Cl,{optional:!0})||{}),(0,d.A)(this,"paramsInheritanceStrategy",this.options.paramsInheritanceStrategy||"emptyOnly"),(0,d.A)(this,"urlHandlingStrategy",(0,f.WQX)(dg)),(0,d.A)(this,"createViewTransition",(0,f.WQX)(_A,{optional:!0})),(0,d.A)(this,"navigationErrorHandler",(0,f.WQX)(AA,{optional:!0})),(0,d.A)(this,"navigationId",0),(0,d.A)(this,"transitions",void 0),(0,d.A)(this,"afterPreactivation",function(){return(0,De.of)(void 0)}),(0,d.A)(this,"rootComponentType",null),(0,d.A)(this,"destroyed",!1),this.configLoader.onLoadEndListener=function(l){return e.events.next(new hR(l))},this.configLoader.onLoadStartListener=function(l){return e.events.next(new mR(l))},this.destroyRef.onDestroy(function(){e.destroyed=!0})},[{key:"hasRequestedNavigation",get:function(){return 0!==this.navigationId}},{key:"complete",value:function(){var t;null===(t=this.transitions)||void 0===t||t.complete()}},{key:"handleNavigationRequest",value:function(t){var s=this,u=++this.navigationId;(0,Wi.O8)(function(){var l;null===(l=s.transitions)||void 0===l||l.next((0,_.A)((0,_.A)({},t),{},{extractedUrl:s.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:u}))})}},{key:"setupNavigations",value:function(t){var s=this;return this.transitions=new R.t(null),this.transitions.pipe((0,he.p)(function(u){return null!==u}),(0,We.n)(function(u){var l=!1;return(0,De.of)(u).pipe((0,We.n)(function(c){var p;if(s.navigationId>u.id)return s.cancelNavigationTransition(u,"",ni.SupersededByNewNavigation),Qi.w;s.currentTransition=u,s.currentNavigation.set({id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?s.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:s.lastSuccessfulNavigation?(0,_.A)((0,_.A)({},s.lastSuccessfulNavigation),{},{previousNavigation:null}):null,abort:function(){return c.abortController.abort()}});var y=!t.navigated||s.isUpdatingInternalState()||s.isUpdatedBrowserUrl(),x=null!==(p=c.extras.onSameUrlNavigation)&&void 0!==p?p:t.onSameUrlNavigation;if(!y&&"reload"!==x)return s.events.next(new gl(c.id,s.urlSerializer.serialize(c.rawUrl),"",Bf.IgnoredSameUrlNavigation)),c.resolve(!1),Qi.w;if(s.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return(0,De.of)(c).pipe((0,We.n)(function(He){return s.events.next(new hl(He.id,s.urlSerializer.serialize(He.extractedUrl),He.source,He.restoredState)),He.id!==s.navigationId?Qi.w:Promise.resolve(He)}),function bT(a,r,n,e,t,s){return(0,na.Z)(function(u){return function hT(a,r,n,e,t,s){return new vT(a,r,n,e,t,arguments.length>6&&void 0!==arguments[6]?arguments[6]:"emptyOnly",s).recognize()}(a,r,n,e,u.extractedUrl,t,s).pipe((0,me.T)(function(l){var c=l.state,p=l.tree;return(0,_.A)((0,_.A)({},u),{},{targetSnapshot:c,urlAfterRedirects:p})}))})}(s.environmentInjector,s.configLoader,s.rootComponentType,t.config,s.urlSerializer,s.paramsInheritanceStrategy),(0,ue.M)(function(He){u.targetSnapshot=He.targetSnapshot,u.urlAfterRedirects=He.urlAfterRedirects,s.currentNavigation.update(function(at){return at.finalUrl=He.urlAfterRedirects,at});var ot=new Lf(He.id,s.urlSerializer.serialize(He.extractedUrl),s.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);s.events.next(ot)}));if(y&&s.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){var $=c.extractedUrl,q=c.source,le=c.restoredState,ve=c.extras,Ae=new hl(c.id,s.urlSerializer.serialize($),q,le);s.events.next(Ae);var ge=Jb(s.rootComponentType).snapshot;return s.currentTransition=u=(0,_.A)((0,_.A)({},c),{},{targetSnapshot:ge,urlAfterRedirects:$,extras:(0,_.A)((0,_.A)({},ve),{},{skipLocationChange:!1,replaceUrl:!1})}),s.currentNavigation.update(function(He){return He.finalUrl=$,He}),(0,De.of)(u)}return s.events.next(new gl(c.id,s.urlSerializer.serialize(c.extractedUrl),"",Bf.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Qi.w}),(0,ue.M)(function(c){var p=new cR(c.id,s.urlSerializer.serialize(c.extractedUrl),s.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);s.events.next(p)}),(0,me.T)(function(c){return s.currentTransition=u=(0,_.A)((0,_.A)({},c),{},{guards:NR(c.targetSnapshot,c.currentSnapshot,s.rootContexts)}),u}),function XR(a,r){return(0,na.Z)(function(n){var e=n.targetSnapshot,t=n.currentSnapshot,s=n.guards,u=s.canActivateChecks,l=s.canDeactivateChecks;return 0===l.length&&0===u.length?(0,De.of)((0,_.A)((0,_.A)({},n),{},{guardsResult:!0})):function qR(a,r,n,e){return(0,Pa.H)(a).pipe((0,na.Z)(function(t){return function eT(a,r,n,e,t){var s=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,De.of)(!0);var u=s.map(function(l){var c,p=null!==(c=vl(r))&&void 0!==c?c:t,m=_l(l,p);return Go(function zR(a){return a&&sd(a.canDeactivate)}(m)?m.canDeactivate(a,r,n,e):(0,f.N4e)(p,function(){return m(a,r,n,e)})).pipe(gs())});return(0,De.of)(u).pipe(bl())}(t.component,t.route,n,r,e)}),gs(function(t){return!0!==t},!0))}(l,e,t,a).pipe((0,na.Z)(function(c){return c&&function UR(a){return"boolean"==typeof a}(c)?function WR(a,r,n,e){return(0,Pa.H)(r).pipe((0,wi.H)(function(t){return(0,TP.x)(function QR(a,r){return null!==a&&r&&r(new gR(a)),(0,De.of)(!0)}(t.route.parent,e),function YR(a,r){return null!==a&&r&&r(new yR(a)),(0,De.of)(!0)}(t.route,e),function ZR(a,r,n){var e=r[r.length-1],t=r.slice(0,r.length-1).reverse().map(function(u){return function OR(a){var r=a.routeConfig?a.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:a,guards:r}:null}(u)}).filter(function(u){return null!==u}),s=t.map(function(u){return(0,kf.v)(function(){var l=u.guards.map(function(c){var p,m=null!==(p=vl(u.node))&&void 0!==p?p:n,y=_l(c,m);return Go(function $R(a){return a&&sd(a.canActivateChild)}(y)?y.canActivateChild(e,a):(0,f.N4e)(m,function(){return y(e,a)})).pipe(gs())});return(0,De.of)(l).pipe(bl())})});return(0,De.of)(s).pipe(bl())}(a,t.path,n),function JR(a,r,n){var e=r.routeConfig?r.routeConfig.canActivate:null;if(!e||0===e.length)return(0,De.of)(!0);var t=e.map(function(s){return(0,kf.v)(function(){var u,l=null!==(u=vl(r))&&void 0!==u?u:n,c=_l(s,l);return Go(function jR(a){return a&&sd(a.canActivate)}(c)?c.canActivate(r,a):(0,f.N4e)(l,function(){return c(r,a)})).pipe(gs())})});return(0,De.of)(t).pipe(bl())}(a,t.route,n))}),gs(function(t){return!0!==t},!0))}(e,u,a,r):(0,De.of)(c)}),(0,me.T)(function(c){return(0,_.A)((0,_.A)({},n),{},{guardsResult:c})}))})}(s.environmentInjector,function(c){return s.events.next(c)}),(0,ue.M)(function(c){if(u.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw zf(0,c.guardsResult);var p=new dR(c.id,s.urlSerializer.serialize(c.extractedUrl),s.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);s.events.next(p)}),(0,he.p)(function(c){return!!c.guardsResult||(s.cancelNavigationTransition(c,"",ni.GuardRejected),!1)}),lg(function(c){if(0!==c.guards.canActivateChecks.length)return(0,De.of)(c).pipe((0,ue.M)(function(p){var m=new fR(p.id,s.urlSerializer.serialize(p.extractedUrl),s.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);s.events.next(m)}),(0,We.n)(function(p){var m=!1;return(0,De.of)(p).pipe(function AT(a,r){return(0,na.Z)(function(n){var e=n.targetSnapshot,t=n.guards.canActivateChecks;if(!t.length)return(0,De.of)(n);var c,s=new Set(t.map(function(N){return N.route})),u=new Set,l=(0,j.A)(s);try{for(l.s();!(c=l.n()).done;){var p=c.value;if(!u.has(p)){var y,m=(0,j.A)(hA(p));try{for(m.s();!(y=m.n()).done;)u.add(y.value)}catch(N){m.e(N)}finally{m.f()}}}}catch(N){l.e(N)}finally{l.f()}var D=0;return(0,Pa.H)(u).pipe((0,wi.H)(function(N){return s.has(N)?function CT(a,r,n,e){var t=a.routeConfig,s=a._resolve;return void 0!==t?.title&&!tA(t)&&(s[Yc]=t.title),(0,kf.v)(function(){return a.data=Gf(a,a.parent,n).resolve,function ST(a,r,n,e){var t=Kh(a);if(0===t.length)return(0,De.of)({});var s={};return(0,Pa.H)(t).pipe((0,na.Z)(function(u){return function xT(a,r,n,e){var t,s=null!==(t=vl(r))&&void 0!==t?t:e,u=_l(a,s);return Go(u.resolve?u.resolve(r,n):(0,f.N4e)(s,function(){return u(r,n)}))}(a[u],r,n,e).pipe(gs(),(0,ue.M)(function(l){if(l instanceof ig)throw zf(new Tf,l);s[u]=l}))}),zh(1),(0,me.T)(function(){return s}),(0,Tr.W)(function(u){return uA(u)?Qi.w:(0,ti.$)(u)}))}(s,a,r,e).pipe((0,me.T)(function(u){return a._resolvedData=u,a.data=(0,_.A)((0,_.A)({},a.data),u),null}))})}(N,e,a,r):(N.data=Gf(N,N.parent,a).resolve,(0,De.of)(void 0))}),(0,ue.M)(function(){return D++}),zh(1),(0,na.Z)(function(N){return D===u.size?(0,De.of)(n):Qi.w}))})}(s.paramsInheritanceStrategy,s.environmentInjector),(0,ue.M)({next:function(){return m=!0},complete:function(){m||s.cancelNavigationTransition(p,"",ni.NoDataFromResolver)}}))}),(0,ue.M)(function(p){var m=new pR(p.id,s.urlSerializer.serialize(p.extractedUrl),s.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);s.events.next(m)}))}),lg(function(c){var p=function(y){var x,D=[];if(null!==(x=y.routeConfig)&&void 0!==x&&x.loadComponent){var N,$=null!==(N=vl(y))&&void 0!==N?N:s.environmentInjector;D.push(s.configLoader.loadComponent($,y.routeConfig).pipe((0,ue.M)(function(Ae){y.component=Ae}),(0,me.T)(function(){})))}var le,q=(0,j.A)(y.children);try{for(q.s();!(le=q.n()).done;)D.push.apply(D,(0,A.A)(p(le.value)))}catch(Ae){q.e(Ae)}finally{q.f()}return D};return(0,Vn.z)(p(c.targetSnapshot.root)).pipe(br(null),(0,on.s)(1))}),lg(function(){return s.afterPreactivation()}),(0,We.n)(function(){var c,x=null===(c=s.createViewTransition)||void 0===c?void 0:c.call(s,s.environmentInjector,u.currentSnapshot.root,u.targetSnapshot.root);return x?(0,Pa.H)(x).pipe((0,me.T)(function(){return u})):(0,De.of)(u)}),(0,me.T)(function(c){var p=function PR(a,r,n){var e=ad(a,r._root,n?n._root:void 0);return new Qb(e,r)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return s.currentTransition=u=(0,_.A)((0,_.A)({},c),{},{targetRouterState:p}),s.currentNavigation.update(function(m){return m.targetRouterState=p,m}),u}),(0,ue.M)(function(){s.events.next(new Qh)}),function(r,n,e,t){return(0,me.T)(function(s){return new VR(n,s.targetRouterState,s.currentRouterState,e,t).activate(r),s})}(s.rootContexts,t.routeReuseStrategy,function(c){return s.events.next(c)},s.inputBindingEnabled),(0,on.s)(1),(0,rr.Q)(new L.c(function(c){var p=u.abortController.signal,m=function(){return c.next()};return p.addEventListener("abort",m),function(){return p.removeEventListener("abort",m)}}).pipe((0,he.p)(function(){return!l&&!u.targetRouterState}),(0,ue.M)(function(){s.cancelNavigationTransition(u,u.abortController.signal.reason+"",ni.Aborted)}))),(0,ue.M)({next:function(p){var m;l=!0,s.lastSuccessfulNavigation=(0,Wi.O8)(s.currentNavigation),s.events.next(new po(p.id,s.urlSerializer.serialize(p.extractedUrl),s.urlSerializer.serialize(p.urlAfterRedirects))),null===(m=s.titleStrategy)||void 0===m||m.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:function(){l=!0}}),(0,rr.Q)(s.transitionAbortWithErrorSubject.pipe((0,ue.M)(function(c){throw c}))),(0,Hh.j)(function(){var c;l||s.cancelNavigationTransition(u,"",ni.SupersededByNewNavigation),(null===(c=s.currentTransition)||void 0===c?void 0:c.id)===u.id&&(s.currentNavigation.set(null),s.currentTransition=null)}),(0,Tr.W)(function(c){if(s.destroyed)return u.resolve(!1),Qi.w;if(l=!0,oA(c))s.events.next(new ys(u.id,s.urlSerializer.serialize(u.extractedUrl),c.message,c.cancellationCode)),function MR(a){return oA(a)&&Zs(a.url)}(c)?s.events.next(new Uf(c.url,c.navigationBehaviorOptions)):u.resolve(!1);else{var p,m=new nd(u.id,s.urlSerializer.serialize(u.extractedUrl),c,null!==(p=u.targetSnapshot)&&void 0!==p?p:void 0);try{var y=(0,f.N4e)(s.environmentInjector,function(){var $;return null===($=s.navigationErrorHandler)||void 0===$?void 0:$.call(s,m)});if(!(y instanceof ig))throw s.events.next(m),c;var x=zf(0,y),D=x.message,N=x.cancellationCode;s.events.next(new ys(u.id,s.urlSerializer.serialize(u.extractedUrl),D,N)),s.events.next(new Uf(y.redirectTo,y.navigationBehaviorOptions))}catch($){s.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject($)}}return Qi.w}))}))}},{key:"cancelNavigationTransition",value:function(t,s,u){var l=new ys(t.id,this.urlSerializer.serialize(t.extractedUrl),s,u);this.events.next(l),t.resolve(!1)}},{key:"isUpdatingInternalState",value:function(){var t,s;return(null===(t=this.currentTransition)||void 0===t?void 0:t.extractedUrl.toString())!==(null===(s=this.currentTransition)||void 0===s?void 0:s.currentUrlTree.toString())}},{key:"isUpdatedBrowserUrl",value:function(){var t,s=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),u=(0,Wi.O8)(this.currentNavigation),l=null!==(t=u?.targetBrowserUrl)&&void 0!==t?t:u?.extractedUrl;return s.toString()!==l?.toString()&&!(null!=u&&u.extras.skipLocationChange)}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}();function RT(a){return a!==td}var TT=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:function(){return(0,f.WQX)(IT)},providedIn:"root"})),r}(),MT=function(){return(0,g.A)(function a(){(0,v.A)(this,a)},[{key:"shouldDetach",value:function(n){return!1}},{key:"store",value:function(n,e){}},{key:"shouldAttach",value:function(n){return!1}},{key:"retrieve",value:function(n){return null}},{key:"shouldReuseRoute",value:function(n,e){return n.routeConfig===e.routeConfig}}])}(),IT=function(){var a,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,P.A)(e,n),(0,g.A)(e)}(MT);return a=r,(0,d.A)(r,"\u0275fac",function(){var n;return function(t){return(n||(n=o.xGo(a)))(t||a)}}()),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}(),CA=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),(0,d.A)(this,"urlSerializer",(0,f.WQX)(Qc)),(0,d.A)(this,"options",(0,f.WQX)(Cl,{optional:!0})||{}),(0,d.A)(this,"canceledNavigationResolution",this.options.canceledNavigationResolution||"replace"),(0,d.A)(this,"location",(0,f.WQX)(Uo.aZ)),(0,d.A)(this,"urlHandlingStrategy",(0,f.WQX)(dg)),(0,d.A)(this,"urlUpdateStrategy",this.options.urlUpdateStrategy||"deferred"),(0,d.A)(this,"currentUrlTree",new Qs),(0,d.A)(this,"rawUrlTree",this.currentUrlTree),(0,d.A)(this,"routerState",Jb(null)),(0,d.A)(this,"stateMemento",this.createStateMemento())},[{key:"getCurrentUrlTree",value:function(){return this.currentUrlTree}},{key:"getRawUrlTree",value:function(){return this.rawUrlTree}},{key:"createBrowserPath",value:function(t){var s=t.finalUrl,u=t.initialUrl,l=t.targetBrowserUrl,c=void 0!==s?this.urlHandlingStrategy.merge(s,u):u,p=l??c;return p instanceof Qs?this.urlSerializer.serialize(p):p}},{key:"commitTransition",value:function(t){var s=t.targetRouterState,u=t.finalUrl,l=t.initialUrl;u&&s?(this.currentUrlTree=u,this.rawUrlTree=this.urlHandlingStrategy.merge(u,l),this.routerState=s):this.rawUrlTree=l}},{key:"getRouterState",value:function(){return this.routerState}},{key:"updateStateMemento",value:function(){this.stateMemento=this.createStateMemento()}},{key:"createStateMemento",value:function(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}},{key:"resetInternalState",value:function(t){var s=t.finalUrl;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s??this.rawUrlTree)}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:function(){return(0,f.WQX)(VT)},providedIn:"root"})),r}(),VT=function(){var a,r=function(n){function e(){var t;(0,v.A)(this,e);for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return t=(0,w.A)(this,e,[].concat(u)),(0,d.A)(t,"currentPageId",0),(0,d.A)(t,"lastSuccessfulId",-1),t}return(0,P.A)(e,n),(0,g.A)(e,[{key:"restoredState",value:function(){return this.location.getState()}},{key:"browserPageId",get:function(){var s,u;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(s=null===(u=this.restoredState())||void 0===u?void 0:u.\u0275routerPageId)&&void 0!==s?s:this.currentPageId}},{key:"registerNonRouterCurrentEntryChangeListener",value:function(s){return this.location.subscribe(function(u){"popstate"===u.type&&setTimeout(function(){s(u.url,u.state,"popstate")})})}},{key:"handleRouterEvent",value:function(s,u){s instanceof hl?this.updateStateMemento():s instanceof gl?this.commitTransition(u):s instanceof Lf?"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(u),u)):s instanceof Qh?(this.commitTransition(u),"deferred"===this.urlUpdateStrategy&&!u.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(u),u)):s instanceof ys&&s.code!==ni.SupersededByNewNavigation&&s.code!==ni.Redirect?this.restoreHistory(u):s instanceof nd?this.restoreHistory(u,!0):s instanceof po&&(this.lastSuccessfulId=s.id,this.currentPageId=this.browserPageId)}},{key:"setBrowserUrl",value:function(s,u){var l=u.extras,c=u.id,p=l.replaceUrl,m=l.state;if(this.location.isCurrentPathEqualTo(s)||p){var y=this.browserPageId,x=(0,_.A)((0,_.A)({},m),this.generateNgRouterState(c,y));this.location.replaceState(s,"",x)}else{var D=(0,_.A)((0,_.A)({},m),this.generateNgRouterState(c,this.browserPageId+1));this.location.go(s,"",D)}}},{key:"restoreHistory",value:function(s){var u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.getCurrentUrlTree()===s.finalUrl&&0===c&&(this.resetInternalState(s),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(u&&this.resetInternalState(s),this.resetUrlToCurrentUrlTree())}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"generateNgRouterState",value:function(s,u){return"computed"===this.canceledNavigationResolution?{navigationId:s,\u0275routerPageId:u}:{navigationId:s}}}])}(CA);return a=r,(0,d.A)(r,"\u0275fac",function(){var n;return function(t){return(n||(n=o.xGo(a)))(t||a)}}()),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}();function SA(a,r){a.events.pipe((0,he.p)(function(n){return n instanceof po||n instanceof ys||n instanceof nd||n instanceof gl}),(0,me.T)(function(n){return n instanceof po||n instanceof gl?0:n instanceof ys&&(n.code===ni.Redirect||n.code===ni.SupersededByNewNavigation)?2:1}),(0,he.p)(function(n){return 2!==n}),(0,on.s)(1)).subscribe(function(){r()})}var NT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xa=function(){var a,r=function(){return(0,g.A)(function n(){var e,t,s=this;(0,v.A)(this,n),(0,d.A)(this,"disposed",!1),(0,d.A)(this,"nonRouterCurrentEntryChangeSubscription",void 0),(0,d.A)(this,"console",(0,f.WQX)(o.C7A)),(0,d.A)(this,"stateManager",(0,f.WQX)(CA)),(0,d.A)(this,"options",(0,f.WQX)(Cl,{optional:!0})||{}),(0,d.A)(this,"pendingTasks",(0,f.WQX)(f.rev)),(0,d.A)(this,"urlUpdateStrategy",this.options.urlUpdateStrategy||"deferred"),(0,d.A)(this,"navigationTransitions",(0,f.WQX)(fg)),(0,d.A)(this,"urlSerializer",(0,f.WQX)(Qc)),(0,d.A)(this,"location",(0,f.WQX)(Uo.aZ)),(0,d.A)(this,"urlHandlingStrategy",(0,f.WQX)(dg)),(0,d.A)(this,"injector",(0,f.WQX)(f.uvJ)),(0,d.A)(this,"_events",new W.B),(0,d.A)(this,"navigated",!1),(0,d.A)(this,"routeReuseStrategy",(0,f.WQX)(TT)),(0,d.A)(this,"onSameUrlNavigation",this.options.onSameUrlNavigation||"ignore"),(0,d.A)(this,"config",null!==(e=null===(t=(0,f.WQX)(qf,{optional:!0}))||void 0===t?void 0:t.flat())&&void 0!==e?e:[]),(0,d.A)(this,"componentInputBindingEnabled",!!(0,f.WQX)($f,{optional:!0})),(0,d.A)(this,"currentNavigation",this.navigationTransitions.currentNavigation.asReadonly()),(0,d.A)(this,"eventsSubscription",new $h.yU),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:function(l){s.console.warn(l)}}),this.subscribeToNavigationEvents()},[{key:"currentUrlTree",get:function(){return this.stateManager.getCurrentUrlTree()}},{key:"rawUrlTree",get:function(){return this.stateManager.getRawUrlTree()}},{key:"events",get:function(){return this._events}},{key:"routerState",get:function(){return this.stateManager.getRouterState()}},{key:"subscribeToNavigationEvents",value:function(){var t=this,s=this.navigationTransitions.events.subscribe(function(u){try{var l=t.navigationTransitions.currentTransition,c=(0,Wi.O8)(t.navigationTransitions.currentNavigation);if(null!==l&&null!==c)if(t.stateManager.handleRouterEvent(u,c),u instanceof ys&&u.code!==ni.Redirect&&u.code!==ni.SupersededByNewNavigation)t.navigated=!0;else if(u instanceof po)t.navigated=!0;else if(u instanceof Uf){var p=u.navigationBehaviorOptions,m=t.urlHandlingStrategy.merge(u.url,l.currentRawUrl),y=(0,_.A)({browserUrl:l.extras.browserUrl,info:l.extras.info,skipLocationChange:l.extras.skipLocationChange,replaceUrl:l.extras.replaceUrl||"eager"===t.urlUpdateStrategy||RT(l.source)},p);t.scheduleNavigation(m,td,null,y,{resolve:l.resolve,reject:l.reject,promise:l.promise})}(function bR(a){return!(a instanceof Qh||a instanceof Uf)})(u)&&t._events.next(u)}catch(x){t.navigationTransitions.transitionAbortWithErrorSubject.next(x)}});this.eventsSubscription.add(s)}},{key:"resetRootComponentType",value:function(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),td,this.stateManager.restoredState())}},{key:"setUpLocationChangeListener",value:function(){var t,s=this;null!==(t=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==t||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener(function(u,l,c){s.navigateToSyncWithBrowser(u,c,l)}))}},{key:"navigateToSyncWithBrowser",value:function(t,s,u){var l=this,c={replaceUrl:!0},p=null!=u&&u.navigationId?u:null;if(u){var m=(0,_.A)({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}var y=this.parseUrl(t);this.scheduleNavigation(y,s,p,c).catch(function(x){l.disposed||l.injector.get(f.ZTf)(x)})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return(0,Wi.O8)(this.navigationTransitions.currentNavigation)}},{key:"lastSuccessfulNavigation",get:function(){return this.navigationTransitions.lastSuccessfulNavigation}},{key:"resetConfig",value:function(t){this.config=t.map(ag),this.navigated=!1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}},{key:"createUrlTree",value:function(t){var D,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.relativeTo,l=s.queryParams,y=s.preserveFragment?this.currentUrlTree.fragment:s.fragment,x=null;switch(s.queryParamsHandling??this.options.defaultQueryParamsHandling){case"merge":x=(0,_.A)((0,_.A)({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}null!==x&&(x=this.removeEmptyProps(x));try{D=jb(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),D=this.currentUrlTree.root}return $b(D,t,x,y??null)}},{key:"navigateByUrl",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},u=Zs(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(l,td,null,s)}},{key:"navigate",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function BT(a){for(var r=0;r<a.length;r++)if(null==a[r])throw new f.buA(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn((0,f.OsK)(4018,!1)),this.urlSerializer.parse("/")}}},{key:"isActive",value:function(t,s){var u;if(u=!0===s?(0,_.A)({},NT):!1===s?(0,_.A)({},OT):s,Zs(t))return Mb(this.currentUrlTree,t,u);var l=this.parseUrl(t);return Mb(this.currentUrlTree,l,u)}},{key:"removeEmptyProps",value:function(t){return Object.entries(t).reduce(function(s,u){var l=(0,F.A)(u,2),p=l[1];return null!=p&&(s[l[0]]=p),s},{})}},{key:"scheduleNavigation",value:function(t,s,u,l,c){var m,y,x,p=this;if(this.disposed)return Promise.resolve(!1);c?(m=c.resolve,y=c.reject,x=c.promise):x=new Promise(function(N,$){m=N,y=$});var D=this.pendingTasks.add();return SA(this,function(){queueMicrotask(function(){return p.pendingTasks.remove(D)})}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:m,reject:y,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(function(N){return Promise.reject(N)})}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}(),fr=b(1692),ud=b(8473),LT=b(5602),pg=b(310),UT=(0,Db.L)(function(a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Wf(a,r){var n=(0,LT.v)(a)?{first:a}:"number"==typeof a?{each:a}:a,e=n.first,t=n.each,s=n.with,u=void 0===s?GT:s,l=n.scheduler,c=void 0===l?r??ud.E:l,p=n.meta,m=void 0===p?null:p;if(null==e&&null==t)throw new TypeError("No timeout provided.");return(0,Yi.N)(function(y,x){var D,N,$=null,q=0,le=function(Ae){N=(0,pg.N)(x,c,function(){try{D.unsubscribe(),(0,Ys.Tg)(u({meta:m,lastValue:$,seen:q})).subscribe(x)}catch(ge){x.error(ge)}},Ae)};D=y.subscribe((0,Za._)(x,function(ve){N?.unsubscribe(),q++,x.next($=ve),t>0&&le(t)},void 0,void 0,function(){N?.closed||N?.unsubscribe(),$=null})),!q&&le(null!=e?"number"==typeof e?e:+e-c.now():t)})}function GT(a){throw new UT(a)}var ri=b(6301),jT=Array.isArray;function xA(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return r=function $T(a){return 1===a.length&&jT(a[0])?a[0]:a}(r),1===r.length?(0,Ys.Tg)(r[0]):new L.c(function zT(a){return function(r){for(var n=[],e=function(u){n.push((0,Ys.Tg)(a[u]).subscribe((0,Za._)(r,function(l){if(n){for(var c=0;c<n.length;c++)c!==u&&n[c].unsubscribe();n=null}r.next(l)})))},t=0;n&&!r.closed&&t<a.length;t++)e(t)}}(r))}var un=function(a){return a[a.EntitiesOnly=0]="EntitiesOnly",a[a.Both=1]="Both",a[a.None=2]="None",a}(un||{});function Ar(a){return function(n,e){var t={ids:(0,A.A)(e.ids),entities:(0,_.A)({},e.entities)},s=a(n,t);return s===un.Both?Object.assign({},e,t):s===un.EntitiesOnly?(0,_.A)((0,_.A)({},e),{},{entities:t.entities}):e}}function jo(a,r){var n=r(a);return(0,G.naY)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",a,"The `selectId` implementation:",r.toString()),n}function EA(a){function r(q,le){var ve=jo(q,a);return ve in le.entities?un.None:(le.ids.push(ve),le.entities[ve]=q,un.Both)}function n(q,le){var ge,ve=!1,Ae=(0,j.A)(q);try{for(Ae.s();!(ge=Ae.n()).done;)ve=r(ge.value,le)!==un.None||ve}catch(He){Ae.e(He)}finally{Ae.f()}return ve?un.Both:un.None}function t(q,le){var ve=jo(q,a);return ve in le.entities?(le.entities[ve]=q,un.EntitiesOnly):(le.ids.push(ve),le.entities[ve]=q,un.Both)}function l(q,le){var Ae=(q instanceof Array?q:le.ids.filter(function(ge){return q(le.entities[ge])})).filter(function(ge){return ge in le.entities}).map(function(ge){return delete le.entities[ge]}).length>0;return Ae&&(le.ids=le.ids.filter(function(ge){return ge in le.entities})),Ae?un.Both:un.None}function m(q,le){return y([q],le)}function y(q,le){var ve={};if((q=q.filter(function(ke){return ke.id in le.entities})).length>0){var ge=q.filter(function(ke){return function p(q,le,ve){var ge=Object.assign({},ve.entities[le.id],le.changes),ke=jo(ge,a),He=ke!==le.id;return He&&(q[le.id]=ke,delete ve.entities[le.id]),ve.entities[ke]=ge,He}(ve,ke,le)}).length>0;return ge?(le.ids=le.ids.map(function(ke){return ve[ke]||ke}),un.Both):un.EntitiesOnly}return un.None}function $(q,le){var ke,ve=[],Ae=[],ge=(0,j.A)(q);try{for(ge.s();!(ke=ge.n()).done;){var He=ke.value,ot=jo(He,a);ot in le.entities?Ae.push({id:ot,changes:He}):ve.push(He)}}catch(Rt){ge.e(Rt)}finally{ge.f()}var at=y(Ae,le),dt=n(ve,le);switch(!0){case dt===un.None&&at===un.None:return un.None;case dt===un.Both||at===un.Both:return un.Both;default:return un.EntitiesOnly}}return{removeAll:function c(q){return Object.assign({},q,{ids:[],entities:{}})},addOne:Ar(r),addMany:Ar(n),setAll:Ar(function e(q,le){return le.ids=[],le.entities={},n(q,le),un.Both}),setOne:Ar(t),setMany:Ar(function s(q,le){var ve=q.map(function(Ae){return t(Ae,le)});switch(!0){case ve.some(function(Ae){return Ae===un.Both}):return un.Both;case ve.some(function(Ae){return Ae===un.EntitiesOnly}):return un.EntitiesOnly;default:return un.None}}),updateOne:Ar(m),updateMany:Ar(y),upsertOne:Ar(function N(q,le){return $([q],le)}),upsertMany:Ar($),removeOne:Ar(function u(q,le){return l([q],le)}),removeMany:Ar(l),map:Ar(function x(q,le){return y(le.ids.reduce(function(ge,ke){var He=q(le.entities[ke]);return He!==le.entities[ke]&&ge.push({id:ke,changes:He}),ge},[]).filter(function(ge){return ge.id in le.entities}),le)}),mapOne:Ar(function D(q,le){var Ae=q.id,ge=le.entities[Ae];return ge?m({id:Ae,changes:(0,q.map)(ge)},le):un.None})}}function WT(){var a,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={selectId:null!==(a=n.selectId)&&void 0!==a?a:function(p){return p.id},sortComparer:null!==(r=n.sortComparer)&&void 0!==r&&r},t=e.selectId,s=e.sortComparer,u=function KT(){return{getInitialState:function a(){return Object.assign({ids:[],entities:{}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}}(),l=function XT(){return{getSelectors:function a(r){var n=function(l){return l.ids},e=function(l){return l.entities},t=wn(n,e,function(u,l){return u.map(function(c){return l[c]})}),s=wn(n,function(u){return u.length});return r?{selectIds:wn(r,n),selectEntities:wn(r,e),selectAll:wn(r,t),selectTotal:wn(r,s)}:{selectIds:n,selectEntities:e,selectAll:t,selectTotal:s}}}}(),c=s?function qT(a,r){var n=EA(a);function u(Ae,ge){return l([Ae],ge)}function l(Ae,ge){var ke=Ae.filter(function(He){return!(jo(He,a)in ge.entities)});return 0===ke.length?un.None:(ve(ke,ge),un.Both)}function p(Ae,ge){var ke=jo(Ae,a);return ke in ge.entities?(ge.ids=ge.ids.filter(function(He){return He!==ke}),ve([Ae],ge),un.Both):u(Ae,ge)}function y(Ae,ge){return D([Ae],ge)}function D(Ae,ge){var ke=[],He=Ae.filter(function(dt){return function x(Ae,ge,ke){if(!(ge.id in ke.entities))return!1;var ot=Object.assign({},ke.entities[ge.id],ge.changes),at=jo(ot,a);return delete ke.entities[ge.id],Ae.push(ot),at!==ge.id}(ke,dt,ge)}).length>0;if(0===ke.length)return un.None;var ot=ge.ids,at=[];return ge.ids=ge.ids.filter(function(dt,Rt){return dt in ge.entities||(at.push(Rt),!1)}),ve(ke,ge),!He&&at.every(function(dt){return ge.ids[dt]===ot[dt]})?un.EntitiesOnly:un.Both}function le(Ae,ge){var at,ke=[],He=[],ot=(0,j.A)(Ae);try{for(ot.s();!(at=ot.n()).done;){var dt=at.value,Rt=jo(dt,a);Rt in ge.entities?He.push({id:Rt,changes:dt}):ke.push(dt)}}catch(vt){ot.e(vt)}finally{ot.f()}var Ot=D(He,ge),pt=l(ke,ge);switch(!0){case pt===un.None&&Ot===un.None:return un.None;case pt===un.Both||Ot===un.Both:return un.Both;default:return un.EntitiesOnly}}function ve(Ae,ge){Ae.sort(r);for(var ke=[],He=0,ot=0;He<Ae.length&&ot<ge.ids.length;){var at=Ae[He],dt=jo(at,a),Rt=ge.ids[ot];r(at,ge.entities[Rt])<=0?(ke.push(dt),He++):(ke.push(Rt),ot++)}ge.ids=ke.concat(He<Ae.length?Ae.slice(He).map(a):ge.ids.slice(ot)),Ae.forEach(function(pt,vt){ge.entities[a(pt)]=pt})}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Ar(u),updateOne:Ar(y),upsertOne:Ar(function q(Ae,ge){return le([Ae],ge)}),setAll:Ar(function c(Ae,ge){return ge.entities={},ge.ids=[],l(Ae,ge),un.Both}),setOne:Ar(p),setMany:Ar(function m(Ae,ge){var ke=Ae.map(function(He){return p(He,ge)});switch(!0){case ke.some(function(He){return He===un.Both}):return un.Both;case ke.some(function(He){return He===un.EntitiesOnly}):return un.EntitiesOnly;default:return un.None}}),addMany:Ar(l),updateMany:Ar(D),upsertMany:Ar(le),map:Ar(function N(Ae,ge){return D(ge.ids.reduce(function(He,ot){var at=Ae(ge.entities[ot]);return at!==ge.entities[ot]&&He.push({id:ot,changes:at}),He},[]),ge)}),mapOne:Ar(function $(Ae,ge){var He=Ae.id,ot=ge.entities[He];return ot?y({id:He,changes:(0,Ae.map)(ot)},ge):un.None})}}(t,s):EA(t);return(0,_.A)((0,_.A)((0,_.A)({selectId:t,sortComparer:s},u),l),c)}var YT=b(7242),QT=b(1530),ld=function(){function a(r,n,e){(0,v.A)(this,a),this.kind=r,this.value=n,this.error=e,this.hasValue="N"===r}return(0,g.A)(a,[{key:"observe",value:function(n){return DA(this,n)}},{key:"do",value:function(n,e,t){var s=this.kind,u=this.value,l=this.error;return"N"===s?n?.(u):"E"===s?e?.(l):t?.()}},{key:"accept",value:function(n,e,t){var s;return(0,QT.T)(null===(s=n)||void 0===s?void 0:s.next)?this.observe(n):this.do(n,e,t)}},{key:"toObservable",value:function(){var n=this.kind,t=this.error,s="N"===n?(0,De.of)(this.value):"E"===n?(0,ti.$)(function(){return t}):"C"===n?Qi.w:0;if(!s)throw new TypeError("Unexpected notification kind ".concat(n));return s}}],[{key:"createNext",value:function(n){return new a("N",n)}},{key:"createError",value:function(n){return new a("E",void 0,n)}},{key:"createComplete",value:function(){return a.completeNotification}}])}();function DA(a,r){var n,e,t,s=a.kind,u=a.value,l=a.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=r.next)||void 0===n||n.call(r,u):"E"===s?null===(e=r.error)||void 0===e||e.call(r,l):null===(t=r.complete)||void 0===t||t.call(r)}function wA(a,r,n,e){return(0,Yi.N)(function(t,s){var u;r&&"function"!=typeof r?(n=r.duration,u=r.element,e=r.connector):u=r;var l=new Map,c=function($){l.forEach($),$(s)},p=function($){return c(function(q){return q.error($)})},m=0,y=!1,x=new Za.H(s,function(N){try{var $=a(N),q=l.get($);if(!q){l.set($,q=e?e():new W.B);var le=function D(N,$){var q=new L.c(function(le){m++;var ve=$.subscribe(le);return function(){ve.unsubscribe(),0===--m&&y&&x.unsubscribe()}});return q.key=N,q}($,q);if(s.next(le),n){var ve=(0,Za._)(q,function(){q.complete(),ve?.unsubscribe()},void 0,void 0,function(){return l.delete($)});x.add((0,Ys.Tg)(n(le)).subscribe(ve))}}q.next(u?u(N):N)}catch(Ae){p(Ae)}},function(){return c(function(N){return N.complete()})},p,function(){return l.clear()},function(){return y=!0,0===m});t.subscribe(x)})}function FA(a,r){return r?function(n){return n.pipe(FA(function(e,t){return(0,Ys.Tg)(a(e,t)).pipe((0,me.T)(function(s,u){return r(e,s,t,u)}))}))}:(0,Yi.N)(function(n,e){var t=0,s=null,u=!1;n.subscribe((0,Za._)(e,function(l){s||(s=(0,Za._)(e,void 0,function(){s=null,u&&e.complete()}),(0,Ys.Tg)(a(l,t++)).subscribe(s))},function(){u=!0,!s&&e.complete()}))})}ld.completeNotification=new ld("C");var t3={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Yf="__@ngrx/effects_create__";function vi(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.functional?a:a(),e=(0,_.A)((0,_.A)({},t3),r);return Object.defineProperty(n,Yf,{value:e}),n}function PA(a){return Object.getPrototypeOf(a)}function mg(a){return"function"==typeof a}function hg(a){return a.filter(mg)}function o3(a,r,n){var e=PA(a),s=e&&"Object"!==e.constructor.name?e.constructor.name:null,u=function kA(a){return function n3(a){return Object.getOwnPropertyNames(a).filter(function(e){return!(!a[e]||!a[e].hasOwnProperty(Yf))&&a[e][Yf].hasOwnProperty("dispatch")}).map(function(e){return(0,_.A)({propertyName:e},a[e][Yf])})}(a)}(a).map(function(l){var c=l.propertyName,p=l.dispatch,m=l.useEffectsErrorHandler,y="function"==typeof a[c]?a[c]():a[c],x=m?n(y,r):y;if(!1===p)return x.pipe((0,YT.w)());var D=x.pipe(function ZT(){return(0,Yi.N)(function(a,r){a.subscribe((0,Za._)(r,function(n){r.next(ld.createNext(n))},function(){r.next(ld.createComplete()),r.complete()},function(n){r.next(ld.createError(n)),r.complete()}))})}());return D.pipe((0,me.T)(function(N){return{effect:a[c],notification:N,propertyName:c,sourceName:s,sourceInstance:a}}))});return ee.h.apply(void 0,(0,A.A)(u))}function RA(a,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return a.pipe((0,Tr.W)(function(e){return r&&r.handleError(e),n<=1?a:RA(a,r,n-1)}))}var eu=function(){var a,r=function(n){function e(t){var s;return(0,v.A)(this,e),s=(0,w.A)(this,e),t&&(s.source=t),s}return(0,P.A)(e,n),(0,g.A)(e,[{key:"lift",value:function(s){var u=new e;return u.source=this,u.operator=s,u}}])}(L.c);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(hs))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}();function $o(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(0,he.p)(function(e){return r.some(function(t){return"string"==typeof t?t===e.type:t.type===e.type})})}var TA=new f.nKC("@ngrx/effects Internal Root Guard"),Qf=new f.nKC("@ngrx/effects User Provided Effects"),gg=new f.nKC("@ngrx/effects Internal Root Effects"),MA=new f.nKC("@ngrx/effects Internal Root Effects Instances"),IA=new f.nKC("@ngrx/effects Internal Feature Effects"),VA=new f.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),u3=new f.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:function(){return RA}}),NA="@ngrx/effects/init";function _3(a){return vg(a,"ngrxOnInitEffects")}function vg(a,r){return a&&r in a&&"function"==typeof a[r]}ei(NA);var Jf=function(){var a,r=function(n){function e(t,s){var u;return(0,v.A)(this,e),(u=(0,w.A)(this,e)).errorHandler=t,u.effectsErrorHandler=s,u}return(0,P.A)(e,n),(0,g.A)(e,[{key:"addEffects",value:function(s){this.next(s)}},{key:"toActions",value:function(){var s=this;return this.pipe(wA(function(u){return function r3(a){return!!a.constructor&&"Object"!==a.constructor.name&&"Function"!==a.constructor.name}(u)?PA(u):u}),(0,na.Z)(function(u){return u.pipe(wA(b3))}),(0,na.Z)(function(u){var l=u.pipe(FA(function(p){return function A3(a,r){return function(n){var e=o3(n,a,r);return function v3(a){return vg(a,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(e):e}}(s.errorHandler,s.effectsErrorHandler)(p)}),(0,me.T)(function(p){return function c3(a,r){if("N"===a.notification.kind){var n=a.notification.value,e=!function d3(a){return"function"!=typeof a&&a&&a.type&&"string"==typeof a.type}(n);e&&r.handleError(new Error("Effect ".concat(function f3(a){var r=a.propertyName,e=a.sourceName,t="function"==typeof a.sourceInstance[r];return e?'"'.concat(e,".").concat(String(r)).concat(t?"()":"",'"'):'"'.concat(String(r),'()"')}(a)," dispatched an invalid action: ").concat(function p3(a){try{return JSON.stringify(a)}catch{return a}}(n))))}}(p,s.errorHandler),p.notification}),(0,he.p)(function(p){return"N"===p.kind&&null!=p.value}),function e3(){return(0,Yi.N)(function(a,r){a.subscribe((0,Za._)(r,function(n){return DA(n,r)}))})}()),c=u.pipe((0,on.s)(1),(0,he.p)(_3),(0,me.T)(function(p){return p.ngrxOnInitEffects()}));return(0,ee.h)(l,c)}))}}])}(W.B);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(f.zcH),f.KVO(u3))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}();function b3(a){return function h3(a){return vg(a,"ngrxOnIdentifyEffects")}(a)?a.ngrxOnIdentifyEffects():""}var yg=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.effectSources=e,this.store=t,this.effectsSubscription=null},[{key:"isStarted",get:function(){return!!this.effectsSubscription}},{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Jf),f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),OA=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p){(0,v.A)(this,n),this.sources=e,t.start();var y,m=(0,j.A)(u);try{for(m.s();!(y=m.n()).done;)e.addEffects(y.value)}catch(D){m.e(D)}finally{m.f()}s.dispatch({type:NA})},[{key:"addEffects",value:function(t){this.sources.addEffects(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Jf),f.KVO(yg),f.KVO(Or),f.KVO(MA),f.KVO(wf,8),f.KVO(Uh,8),f.KVO(TA,8))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),C3=function(){var a,r=(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n);var p,l=t.flat(),c=(0,j.A)(l);try{for(c.s();!(p=c.n()).done;)e.addEffects(p.value)}catch(y){c.e(y)}finally{c.f()}});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(OA),f.KVO(VA),f.KVO(wf,8),f.KVO(Uh,8))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),cd=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},null,[{key:"forFeature",value:function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];var l=s.flat(),c=hg(l);return{ngModule:C3,providers:[c,{provide:IA,multi:!0,useValue:l},{provide:Qf,multi:!0,useValue:[]},{provide:VA,multi:!0,useFactory:BA,deps:[IA,Qf]}]}}},{key:"forRoot",value:function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];var l=s.flat(),c=hg(l);return{ngModule:OA,providers:[c,{provide:gg,useValue:[l]},{provide:TA,useFactory:S3},{provide:Qf,multi:!0,useValue:[]},{provide:MA,useFactory:BA,deps:[gg,Qf]}]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}();function BA(a,r){var t,n=[],e=(0,j.A)(a);try{for(e.s();!(t=e.n()).done;)n.push.apply(n,(0,A.A)(t.value))}catch(p){e.e(p)}finally{e.f()}var l,u=(0,j.A)(r);try{for(u.s();!(l=u.n()).done;)n.push.apply(n,(0,A.A)(l.value))}catch(p){u.e(p)}finally{u.f()}return n.map(function(p){return function a3(a){return a instanceof f.nKC||mg(a)}(p)?(0,f.WQX)(p):p})}function S3(){var a=(0,f.WQX)(yg,{optional:!0,skipSelf:!0}),r=(0,f.WQX)(gg,{self:!0});if((1!==r.length||0!==r[0].length)&&a)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var tu=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"create",value:function(t,s,u,l){var c="string"==typeof t?(0,_.A)((0,_.A)({},l||{}),{},{entityName:t,entityOp:s,data:u}):t;return this.createCore(c)}},{key:"createCore",value:function(t){var s=t.entityName,u=t.entityOp,l=t.tag;if(!s)throw new Error("Missing entity name for new action");if(null==u)throw new Error("Missing EntityOp for new action");return{type:this.formatActionType(u,l||s),payload:t}}},{key:"createFromAction",value:function(t,s){return this.create((0,_.A)((0,_.A)({},t.payload),s))}},{key:"formatActionType",value:function(t,s){return"[".concat(s,"] ").concat(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),LA=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),this.entityName=r,this.selectId=n},[{key:"mustBeEntity",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should have a single entity.");var t=this.selectId(e);return this.isNotKeyType(t)&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeEntities",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=e.selectId(s);if(e.isNotKeyType(l)){var c=", item ".concat(u+1,", does not have a valid entity key (id)");e.throwError(n,c)}}),t):this.throwError(n,"should be an array of entities")}},{key:"mustBeKey",value:function(n){var e=this.extractData(n);if(void 0===e)throw new Error("should be a single entity key");if(this.isNotKeyType(e))throw new Error("is not a valid key (id)");return e}},{key:"mustBeKeys",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){if(e.isNotKeyType(s)){var l="".concat(e.entityName," ', item ").concat(u+1,", is not a valid entity key (id)");e.throwError(n,l)}}),t):this.throwError(n,"should be an array of entity keys (id)")}},{key:"mustBeUpdate",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");var t=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(t)||this.isNotKeyType(u))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdates",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(n,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),t):this.throwError(n,"should be an array of entity updates")}},{key:"mustBeUpdateResponse",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");var t=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(t)||this.isNotKeyType(u))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdateResponses",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(n,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),t):this.throwError(n,"should be an array of entity updates")}},{key:"extractData",value:function(n){return n.payload&&n.payload.data}},{key:"isNotKeyType",value:function(n){return"string"!=typeof n&&"number"!=typeof n}},{key:"throwError",value:function(n,e){throw new Error("".concat(this.entityName,' EntityAction guard for "').concat(n.type,'": payload ').concat(e))}}])}();function dd(a){return a?.id}function UA(a){if(null==a)return[];if(Array.isArray(a[0])){var n=(0,Fa.A)(a),e=n[0],t=(0,Gr.A)(n).slice(1);a=[].concat((0,A.A)(e),(0,A.A)(t))}return a}function GA(a){return a=a||dd,function(n){var e=a(n);if(null==e)throw new Error("Primary key may not be null/undefined.");return n&&{id:e,changes:n}}}function Zf(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var e=UA(r);switch(e.length){case 0:return(0,he.p)(function(s){return s.payload&&null!=s.payload.entityOp});case 1:var t=e[0];return(0,he.p)(function(s){return s.payload&&t===s.payload.entityOp});default:return(0,he.p)(function(s){var u=s.payload&&s.payload.entityOp;return u&&e.some(function(l){return l===u})})}}function ep(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var e=UA(r);switch(e.length){case 0:return(0,he.p)(function(s){return s.payload&&null!=s.payload.entityName});case 1:var t=e[0];return(0,he.p)(function(s){return s.payload&&t===s.payload.entityName});default:return(0,he.p)(function(s){var u=s.payload&&s.payload.entityName;return!!u&&e.some(function(l){return l===u})})}}var ai=function(a){return a.Add="Add",a.Delete="Delete",a.Update="Update",a.Upsert="Upsert",a}(ai||{});function jA(a){var r=(a=a&&a.changes?a:{changes:[]}).changes.filter(function(n){return null!=n&&n.entities&&n.entities.length>0});return(0,_.A)((0,_.A)({},a),{},{changes:r})}new(function(){return(0,g.A)(function a(){(0,v.A)(this,a)},[{key:"add",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:ai.Add,entities:e}}},{key:"delete",value:function(n,e){var t=Array.isArray(e)?e:e?[e]:[];return{entityName:n,op:ai.Delete,entities:t}}},{key:"update",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:ai.Update,entities:e}}},{key:"upsert",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:ai.Upsert,entities:e}}}])}());var Wr=function(a){return a[a.IgnoreChanges=0]="IgnoreChanges",a[a.PreserveChanges=1]="PreserveChanges",a[a.OverwriteChanges=2]="OverwriteChanges",a}(Wr||{}),gr=function(a){return a.CLEAR_COLLECTIONS="@ngrx/data/entity-cache/clear-collections",a.LOAD_COLLECTIONS="@ngrx/data/entity-cache/load-collections",a.MERGE_QUERY_SET="@ngrx/data/entity-cache/merge-query-set",a.SET_ENTITY_CACHE="@ngrx/data/entity-cache/set-cache",a.SAVE_ENTITIES="@ngrx/data/entity-cache/save-entities",a.SAVE_ENTITIES_CANCEL="@ngrx/data/entity-cache/save-entities-cancel",a.SAVE_ENTITIES_CANCELED="@ngrx/data/entity-cache/save-entities-canceled",a.SAVE_ENTITIES_ERROR="@ngrx/data/entity-cache/save-entities-error",a.SAVE_ENTITIES_SUCCESS="@ngrx/data/entity-cache/save-entities-success",a}(gr||{}),E3=(0,g.A)(function a(r,n){(0,v.A)(this,a),this.type=gr.CLEAR_COLLECTIONS,this.payload={collections:r,tag:n}}),D3=(0,g.A)(function a(r,n){(0,v.A)(this,a),this.type=gr.LOAD_COLLECTIONS,this.payload={collections:r,tag:n}}),w3=(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.type=gr.MERGE_QUERY_SET,this.payload={querySet:r,mergeStrategy:null===n?Wr.PreserveChanges:n,tag:e}}),F3=(0,g.A)(function a(r,n){(0,v.A)(this,a),this.cache=r,this.type=gr.SET_ENTITY_CACHE,this.payload={cache:r,tag:n}}),k3=(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.type=gr.SAVE_ENTITIES,e=e||{},r&&(r.tag=r.tag||e.tag),this.payload=(0,_.A)((0,_.A)({changeSet:r,url:n},e),{},{tag:r.tag})}),P3=(0,g.A)(function a(r,n,e,t){(0,v.A)(this,a),this.type=gr.SAVE_ENTITIES_CANCEL,this.payload={correlationId:r,reason:n,entityNames:e,tag:t}}),R3=(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.type=gr.SAVE_ENTITIES_CANCELED,this.payload={correlationId:r,reason:n,tag:e}}),T3=(0,g.A)(function a(r,n){(0,v.A)(this,a),this.type=gr.SAVE_ENTITIES_ERROR,this.payload={error:r,originalAction:n,correlationId:n.payload.correlationId}}),_g=(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.type=gr.SAVE_ENTITIES_SUCCESS,e=e||{},r&&(r.tag=r.tag||e.tag),this.payload=(0,_.A)((0,_.A)({changeSet:r,url:n},e),{},{tag:r.tag})}),St=function(a){return a.CANCEL_PERSIST="@ngrx/data/cancel-persist",a.CANCELED_PERSIST="@ngrx/data/canceled-persist",a.QUERY_ALL="@ngrx/data/query-all",a.QUERY_ALL_SUCCESS="@ngrx/data/query-all/success",a.QUERY_ALL_ERROR="@ngrx/data/query-all/error",a.QUERY_LOAD="@ngrx/data/query-load",a.QUERY_LOAD_SUCCESS="@ngrx/data/query-load/success",a.QUERY_LOAD_ERROR="@ngrx/data/query-load/error",a.QUERY_MANY="@ngrx/data/query-many",a.QUERY_MANY_SUCCESS="@ngrx/data/query-many/success",a.QUERY_MANY_ERROR="@ngrx/data/query-many/error",a.QUERY_BY_KEY="@ngrx/data/query-by-key",a.QUERY_BY_KEY_SUCCESS="@ngrx/data/query-by-key/success",a.QUERY_BY_KEY_ERROR="@ngrx/data/query-by-key/error",a.SAVE_ADD_MANY="@ngrx/data/save/add-many",a.SAVE_ADD_MANY_ERROR="@ngrx/data/save/add-many/error",a.SAVE_ADD_MANY_SUCCESS="@ngrx/data/save/add-many/success",a.SAVE_ADD_ONE="@ngrx/data/save/add-one",a.SAVE_ADD_ONE_ERROR="@ngrx/data/save/add-one/error",a.SAVE_ADD_ONE_SUCCESS="@ngrx/data/save/add-one/success",a.SAVE_DELETE_MANY="@ngrx/data/save/delete-many",a.SAVE_DELETE_MANY_SUCCESS="@ngrx/data/save/delete-many/success",a.SAVE_DELETE_MANY_ERROR="@ngrx/data/save/delete-many/error",a.SAVE_DELETE_ONE="@ngrx/data/save/delete-one",a.SAVE_DELETE_ONE_SUCCESS="@ngrx/data/save/delete-one/success",a.SAVE_DELETE_ONE_ERROR="@ngrx/data/save/delete-one/error",a.SAVE_UPDATE_MANY="@ngrx/data/save/update-many",a.SAVE_UPDATE_MANY_SUCCESS="@ngrx/data/save/update-many/success",a.SAVE_UPDATE_MANY_ERROR="@ngrx/data/save/update-many/error",a.SAVE_UPDATE_ONE="@ngrx/data/save/update-one",a.SAVE_UPDATE_ONE_SUCCESS="@ngrx/data/save/update-one/success",a.SAVE_UPDATE_ONE_ERROR="@ngrx/data/save/update-one/error",a.SAVE_UPSERT_MANY="@ngrx/data/save/upsert-many",a.SAVE_UPSERT_MANY_SUCCESS="@ngrx/data/save/upsert-many/success",a.SAVE_UPSERT_MANY_ERROR="@ngrx/data/save/upsert-many/error",a.SAVE_UPSERT_ONE="@ngrx/data/save/upsert-one",a.SAVE_UPSERT_ONE_SUCCESS="@ngrx/data/save/upsert-one/success",a.SAVE_UPSERT_ONE_ERROR="@ngrx/data/save/upsert-one/error",a.ADD_ALL="@ngrx/data/add-all",a.ADD_MANY="@ngrx/data/add-many",a.ADD_ONE="@ngrx/data/add-one",a.REMOVE_ALL="@ngrx/data/remove-all",a.REMOVE_MANY="@ngrx/data/remove-many",a.REMOVE_ONE="@ngrx/data/remove-one",a.UPDATE_MANY="@ngrx/data/update-many",a.UPDATE_ONE="@ngrx/data/update-one",a.UPSERT_MANY="@ngrx/data/upsert-many",a.UPSERT_ONE="@ngrx/data/upsert-one",a.COMMIT_ALL="@ngrx/data/commit-all",a.COMMIT_MANY="@ngrx/data/commit-many",a.COMMIT_ONE="@ngrx/data/commit-one",a.UNDO_ALL="@ngrx/data/undo-all",a.UNDO_MANY="@ngrx/data/undo-many",a.UNDO_ONE="@ngrx/data/undo-one",a.SET_CHANGE_STATE="@ngrx/data/set-change-state",a.SET_COLLECTION="@ngrx/data/set-collection",a.SET_FILTER="@ngrx/data/set-filter",a.SET_LOADED="@ngrx/data/set-loaded",a.SET_LOADING="@ngrx/data/set-loading",a}(St||{}),bg="/success",Ag="/error";function $A(a){return a+bg}var Sl=function(a){function r(n,e){var t,s;return(0,v.A)(this,r),(s=(0,w.A)(this,r,["string"==typeof n?n:null!==(t=I3(n))&&void 0!==t?t:void 0])).error=n,s.requestData=e,s.name=s.constructor.name,s}return(0,P.A)(r,a),(0,g.A)(r)}((0,O.A)(Error));function I3(a){var r=a.error,n=a.body,e=a.message,t=null;return r?t="string"==typeof r?r:r.message:e?t=e:n&&(t="string"==typeof n?n:n.error),"string"==typeof t?t:t?JSON.stringify(t):null}var xl=(0,g.A)(function a(){(0,v.A)(this,a)}),tp=(0,g.A)(function a(){(0,v.A)(this,a)}),zA=new f.nKC("@ngrx/data Plural Names"),fd=(0,g.A)(function a(){(0,v.A)(this,a)}),HA=(0,g.A)(function a(){(0,v.A)(this,a)}),KA=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.pluralizer=e,this.knownHttpResourceUrls={}},[{key:"getResourceUrls",value:function(t,s){var l=this.knownHttpResourceUrls[t];if(!l){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?s:XA(s);l={entityResourceUrl:"".concat(c,"/").concat(t,"/").toLowerCase(),collectionResourceUrl:"".concat(c,"/").concat(this.pluralizer.pluralize(t),"/").toLowerCase()},this.registerHttpResourceUrls((0,d.A)({},t,l))}return l}},{key:"entityResource",value:function(t,s,u){return this.getResourceUrls(t,s,u).entityResourceUrl}},{key:"collectionResource",value:function(t,s){return this.getResourceUrls(t,s).collectionResourceUrl}},{key:"registerHttpResourceUrls",value:function(t){this.knownHttpResourceUrls=(0,_.A)((0,_.A)({},this.knownHttpResourceUrls),t||{})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(fd))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}();function XA(a){return a.replace(/^[/\s]+|[/\s]+$/g,"")}var V3=function(){return(0,g.A)(function a(r,n,e,t){(0,v.A)(this,a),this.http=n,this.httpUrlGenerator=e,this.getDelay=0,this.saveDelay=0,this.timeout=0,this.trailingSlashEndpoints=!1,this._name="".concat(r," DefaultDataService"),this.entityName=r;var s=t||{},u=s.root,l=void 0===u?"api":u,c=s.delete404OK,m=s.getDelay,y=void 0===m?0:m,x=s.saveDelay,D=void 0===x?0:x,N=s.timeout,$=void 0===N?0:N,q=s.trailingSlashEndpoints,le=void 0!==q&&q;this.delete404OK=void 0===c||c,this.entityUrl=e.entityResource(r,l,le),this.entitiesUrl=e.collectionResource(r,l),this.getDelay=y,this.saveDelay=D,this.timeout=$},[{key:"name",get:function(){return this._name}},{key:"add",value:function(n,e){var t=n||new Error('No "'.concat(this.entityName,'" entity to add'));return this.execute("POST",this.entityUrl,t,null,e)}},{key:"delete",value:function(n,e){var t;return null==n&&(t=new Error('No "'.concat(this.entityName,'" key to delete'))),this.execute("DELETE",this.entityUrl+n,t,null,e).pipe((0,me.T)(function(s){return n}))}},{key:"getAll",value:function(n){return this.execute("GET",this.entitiesUrl,null,null,n)}},{key:"getById",value:function(n,e){var t;return null==n&&(t=new Error('No "'.concat(this.entityName,'" key to get'))),this.execute("GET",this.entityUrl+n,t,null,e)}},{key:"getWithQuery",value:function(n,e){var s=new V.Nl("string"==typeof n?{fromString:n}:{fromObject:n});return this.execute("GET",this.entitiesUrl,void 0,{params:s},e)}},{key:"update",value:function(n,e){var t=n&&n.id,s=null==t?new Error('No "'.concat(this.entityName,'" update data or id')):n.changes;return this.execute("PUT",this.entityUrl+t,s,null,e)}},{key:"upsert",value:function(n,e){var t=n||new Error('No "'.concat(this.entityName,'" entity to upsert'));return this.execute("POST",this.entityUrl,t,null,e)}},{key:"execute",value:function(n,e,t,s,u){var l=void 0;u&&(l={headers:null!=u&&u.httpHeaders?new V.Lr(u?.httpHeaders):void 0,params:null!=u&&u.httpParams?new V.Nl(u?.httpParams):void 0});var p,m,y,x,c=void 0;(s||l)&&((0,G.naY)()&&s&&l&&console.warn("@ngrx/data: options.httpParams will be merged with queryParams when both are are provided to getWithQuery(). In the event of a conflict HttpOptions.httpParams will override queryParams`. The queryParams parameter of getWithQuery() will be removed in next major release."),c=(0,_.A)((0,_.A)({},s),{},{headers:null!==(p=null===(m=l)||void 0===m?void 0:m.headers)&&void 0!==p?p:s?.headers,params:null!==(y=null===(x=l)||void 0===x?void 0:x.params)&&void 0!==y?y:s?.params}));var N,D={method:n,url:e,data:t,options:c};if(t instanceof Error)return this.handleError(D)(t);switch(n){case"DELETE":N=this.http.delete(e,c),this.saveDelay&&(N=N.pipe((0,fr.c)(this.saveDelay)));break;case"GET":N=this.http.get(e,c),this.getDelay&&(N=N.pipe((0,fr.c)(this.getDelay)));break;case"POST":N=this.http.post(e,t,c),this.saveDelay&&(N=N.pipe((0,fr.c)(this.saveDelay)));break;case"PUT":N=this.http.put(e,t,c),this.saveDelay&&(N=N.pipe((0,fr.c)(this.saveDelay)));break;default:var $=new Error("Unimplemented HTTP method, "+n);N=(0,ti.$)($)}return this.timeout&&(N=N.pipe(Wf(this.timeout+this.saveDelay))),N.pipe((0,Tr.W)(this.handleError(D)))}},{key:"handleError",value:function(n){var e=this;return function(t){var s=e.handleDelete404(t,n);if(s)return s;var u=new Sl(t,n);return(0,ti.$)(u)}}},{key:"handleDelete404",value:function(n,e){if(404===n.status&&"DELETE"===e.method&&this.delete404OK)return(0,De.of)({})}}])}(),qA=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.http=e,this.httpUrlGenerator=t,this.config=s,t.registerHttpResourceUrls((s=s||{}).entityHttpResourceUrls)},[{key:"create",value:function(t){return new V3(t,this.http,this.httpUrlGenerator,this.config)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(V.Qq),f.KVO(HA),f.KVO(xl,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),WA=new f.nKC("@ngrx/data Entity Metadata"),ii=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.definitions={},e&&e.forEach(function(s){return t.registerMetadataMap(s)})},[{key:"getDefinition",value:function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=t.trim();var u=this.definitions[t];if(!u&&s)throw new Error('No EntityDefinition for entity type "'.concat(t,'".'));return u}},{key:"registerMetadata",value:function(t){if(t){var s=function N3(a){var r=a.entityName;if(!r)throw new Error("Missing required entityName");a.entityName=r=r.trim();var n=a.selectId||dd,e=a.sortComparer=a.sortComparer||!1,t=WT({selectId:n,sortComparer:e}),s=a.entityDispatcherOptions||{},u=t.getInitialState((0,_.A)({entityName:r,filter:"",loaded:!1,loading:!1,changeState:{}},a.additionalCollectionState||{}));return{entityName:r,entityAdapter:t,entityDispatcherOptions:s,initialState:u,metadata:a,noChangeTracking:!0===a.noChangeTracking,selectId:n,sortComparer:e}}(t);this.registerDefinition(s)}}},{key:"registerMetadataMap",value:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(s||{}).forEach(function(u){return t.registerMetadata((0,_.A)({entityName:u},s[u]))})}},{key:"registerDefinition",value:function(t){this.definitions[t.entityName]=t}},{key:"registerDefinitions",value:function(t){Object.assign(this.definitions,t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(WA,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),YA=ai.Update,QA=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.entityDefinitionService=e,this.http=t,this.idSelectors={},this.saveDelay=0,this.timeout=0;var u=s||{},l=u.saveDelay,p=u.timeout,m=void 0===p?0:p;this.saveDelay=void 0===l?0:l,this.timeout=m},[{key:"saveEntities",value:function(t,s){var u=this;t=this.filterChangeSet(t),t=this.flattenUpdates(t);var l=this.http.post(s,t).pipe((0,me.T)(function(c){return u.restoreUpdates(c)}),(0,Tr.W)(this.handleError({method:"POST",url:s,data:t})));return this.timeout&&(l=l.pipe(Wf(this.timeout))),this.saveDelay&&(l=l.pipe((0,fr.c)(this.saveDelay))),l}},{key:"handleError",value:function(t){return function(s){var u=new Sl(s,t);return(0,ti.$)(u)}}},{key:"filterChangeSet",value:function(t){return jA(t)}},{key:"flattenUpdates",value:function(t){var s=t.changes;if(0===s.length)return t;var u=!1;return s=s.map(function(l){return l.op===YA&&l.entities.length>0?(u=!0,(0,_.A)((0,_.A)({},l),{},{entities:l.entities.map(function(c){return c.changes})})):l}),u?(0,_.A)((0,_.A)({},t),{},{changes:s}):t}},{key:"restoreUpdates",value:function(t){var s=this;if(null==t)return t;var u=t.changes;if(0===u.length)return t;var l=!1;return u=u.map(function(c){if(c.op===YA){l=!0;var p=s.getIdSelector(c.entityName);return(0,_.A)((0,_.A)({},c),{},{entities:c.entities.map(function(m){return{id:p(m),changes:m}})})}return c}),l?(0,_.A)((0,_.A)({},t),{},{changes:u}):t}},{key:"getIdSelector",value:function(t){var s=this.idSelectors[t];return s||(s=this.entityDefinitionService.getDefinition(t).selectId,this.idSelectors[t]=s),s}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ii),f.KVO(V.Qq),f.KVO(xl,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),pd=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.defaultDataServiceFactory=e,this.services={}},[{key:"getService",value:function(t){t=t.trim();var s=this.services[t];return s||(s=this.defaultDataServiceFactory.create(t),this.services[t]=s),s}},{key:"registerService",value:function(t,s){this.services[t.trim()]=s}},{key:"registerServices",value:function(t){this.services=(0,_.A)((0,_.A)({},this.services),t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(qA))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),JA=(0,g.A)(function a(){(0,v.A)(this,a)}),O3=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.logger=e,this.entityActionFactory=t},[{key:"handleSuccess",value:function(t){var s=this,u=$A(t.payload.entityOp);return function(l){return s.entityActionFactory.createFromAction(t,{entityOp:u,data:l})}}},{key:"handleError",value:function(t){var s=this,u=function M3(a){return a+Ag}(t.payload.entityOp);return function(l){var p={error:l instanceof Sl?l:new Sl(l,null),originalAction:t};return s.logger.error(p),s.entityActionFactory.createFromAction(t,{entityOp:u,data:p})}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(tp),f.KVO(tu))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),ZA=(0,g.A)(function a(r){(0,v.A)(this,a),this.message=r,this.message=r||"Canceled by user"}),Cg=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),this.seed=0,this.prefix="CRID"},[{key:"next",value:function(){return this.seed+=1,this.prefix+this.seed}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Sg=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n),this.optimisticAdd=!1,this.optimisticDelete=!0,this.optimisticUpdate=!1,this.optimisticUpsert=!1,this.optimisticSaveEntities=!1});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),B3=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.correlationIdGenerator=e,this.defaultDispatcherOptions=t,this.store=u,this.reducedActions$=s.pipe((0,ri.t)(1)),this.raSubscription=this.reducedActions$.subscribe()},[{key:"dispatch",value:function(t){return this.store.dispatch(t),t}},{key:"cancelSaveEntities",value:function(t,s,u,l){if(!t)throw new Error("Missing correlationId");var c=new P3(t,s,u,l);this.dispatch(c)}},{key:"clearCollections",value:function(t,s){this.dispatch(new E3(t,s))}},{key:"loadCollections",value:function(t,s){this.dispatch(new D3(t,s))}},{key:"mergeQuerySet",value:function(t,s,u){this.dispatch(new w3(t,s,u))}},{key:"setEntityCache",value:function(t,s){this.dispatch(new F3(t,s))}},{key:"saveEntities",value:function(t,s,u){var l=Array.isArray(t)?{changes:t}:t,c=null==(u=u||{}).correlationId?this.correlationIdGenerator.next():u.correlationId,p=null==u.isOptimistic?this.defaultDispatcherOptions.optimisticSaveEntities||!1:!0===u.isOptimistic,m=u.tag||"Save Entities";u=(0,_.A)((0,_.A)({},u),{},{correlationId:c,isOptimistic:p,tag:m});var y=new k3(l,s,u);return this.dispatch(y),this.getSaveEntitiesResponseData$(u.correlationId).pipe((0,ri.t)(1))}},{key:"getSaveEntitiesResponseData$",value:function(t){return this.reducedActions$.pipe((0,he.p)(function(s){return s.type===gr.SAVE_ENTITIES_SUCCESS||s.type===gr.SAVE_ENTITIES_ERROR||s.type===gr.SAVE_ENTITIES_CANCEL}),(0,he.p)(function(s){return t===s.payload.correlationId}),(0,on.s)(1),(0,na.Z)(function(s){return s.type===gr.SAVE_ENTITIES_CANCEL?(0,ti.$)(new ZA(s.payload.reason)):s.type===gr.SAVE_ENTITIES_SUCCESS?(0,De.of)(s.payload.changeSet):(0,ti.$)(s.payload)}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Cg),f.KVO(Sg),f.KVO(hs),f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),L3=function(){return(0,g.A)(function a(r,n,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dd,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;(0,v.A)(this,a),this.entityName=r,this.entityActionFactory=n,this.store=e,this.selectId=t,this.defaultDispatcherOptions=s,this.reducedActions$=u,this.correlationIdGenerator=c,this.guard=new LA(r,t),this.toUpdate=GA(t);var p=wn(l,function(m){return m[r]});this.entityCollection$=e.select(p)},[{key:"createEntityAction",value:function(n,e,t){return this.entityActionFactory.create((0,_.A)({entityName:this.entityName,entityOp:n,data:e},t))}},{key:"createAndDispatch",value:function(n,e,t){var s=this.createEntityAction(n,e,t);return this.dispatch(s),s}},{key:"dispatch",value:function(n){return this.store.dispatch(n),n}},{key:"add",value:function(n,e){var t=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticAdd);var s=this.createEntityAction(St.SAVE_ADD_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe(hi(this.entityCollection$),(0,me.T)(function(u){var l=(0,F.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,ri.t)(1))}},{key:"cancel",value:function(n,e,t){if(!n)throw new Error("Missing correlationId");this.createAndDispatch(St.CANCEL_PERSIST,e,{correlationId:n})}},{key:"delete",value:function(n,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticDelete);var t=this.getKey(n),s=this.createEntityAction(St.SAVE_DELETE_ONE,t,e);return this.guard.mustBeKey(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,me.T)(function(){return t}),(0,ri.t)(1))}},{key:"getAll",value:function(n){var e=this;n=this.setQueryEntityActionOptions(n);var t=this.createEntityAction(St.QUERY_ALL,null,n);return this.dispatch(t),this.getResponseData$(n.correlationId).pipe(hi(this.entityCollection$),(0,me.T)(function(s){var u=(0,F.A)(s,2),c=u[1];return u[0].reduce(function(p,m){var y=c.entities[e.selectId(m)];return y&&p.push(y),p},[])}),(0,ri.t)(1))}},{key:"getByKey",value:function(n,e){var t=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(St.QUERY_BY_KEY,n,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe(hi(this.entityCollection$),(0,me.T)(function(u){var l=(0,F.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,ri.t)(1))}},{key:"getWithQuery",value:function(n,e){var t=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(St.QUERY_MANY,n,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe(hi(this.entityCollection$),(0,me.T)(function(u){var l=(0,F.A)(u,2),p=l[1];return l[0].reduce(function(m,y){var x=p.entities[t.selectId(y)];return x&&m.push(x),m},[])}),(0,ri.t)(1))}},{key:"load",value:function(n){n=this.setQueryEntityActionOptions(n);var e=this.createEntityAction(St.QUERY_LOAD,null,n);return this.dispatch(e),this.getResponseData$(n.correlationId).pipe((0,ri.t)(1))}},{key:"loadWithQuery",value:function(n,e){e=this.setQueryEntityActionOptions(e);var t=this.createEntityAction(St.QUERY_MANY,n,e);return this.dispatch(t),this.getResponseData$(e.correlationId).pipe((0,ri.t)(1))}},{key:"update",value:function(n,e){var t=this,s=this.toUpdate(n);e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpdate);var u=this.createEntityAction(St.SAVE_UPDATE_ONE,s,e);return e.isOptimistic&&this.guard.mustBeUpdate(u),this.dispatch(u),this.getResponseData$(e.correlationId).pipe((0,me.T)(function(l){return l.changes}),hi(this.entityCollection$),(0,me.T)(function(l){var c=(0,F.A)(l,2);return c[1].entities[t.selectId(c[0])]}),(0,ri.t)(1))}},{key:"upsert",value:function(n,e){var t=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpsert);var s=this.createEntityAction(St.SAVE_UPSERT_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe(hi(this.entityCollection$),(0,me.T)(function(u){var l=(0,F.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,ri.t)(1))}},{key:"addAllToCache",value:function(n,e){this.createAndDispatch(St.ADD_ALL,n,e)}},{key:"addOneToCache",value:function(n,e){this.createAndDispatch(St.ADD_ONE,n,e)}},{key:"addManyToCache",value:function(n,e){this.createAndDispatch(St.ADD_MANY,n,e)}},{key:"clearCache",value:function(n){this.createAndDispatch(St.REMOVE_ALL,void 0,n)}},{key:"removeOneFromCache",value:function(n,e){this.createAndDispatch(St.REMOVE_ONE,this.getKey(n),e)}},{key:"removeManyFromCache",value:function(n,e){var t=this;if(n&&0!==n.length){var s="object"==typeof n[0]?n.map(function(u){return t.getKey(u)}):n;this.createAndDispatch(St.REMOVE_MANY,s,e)}}},{key:"updateOneInCache",value:function(n,e){var t=this.toUpdate(n);this.createAndDispatch(St.UPDATE_ONE,t,e)}},{key:"updateManyInCache",value:function(n,e){var t=this;if(n&&0!==n.length){var s=n.map(function(u){return t.toUpdate(u)});this.createAndDispatch(St.UPDATE_MANY,s,e)}}},{key:"upsertOneInCache",value:function(n,e){this.createAndDispatch(St.UPSERT_ONE,n,e)}},{key:"upsertManyInCache",value:function(n,e){!n||0===n.length||this.createAndDispatch(St.UPSERT_MANY,n,e)}},{key:"setFilter",value:function(n){this.createAndDispatch(St.SET_FILTER,n)}},{key:"setLoaded",value:function(n){this.createAndDispatch(St.SET_LOADED,!!n)}},{key:"setLoading",value:function(n){this.createAndDispatch(St.SET_LOADING,!!n)}},{key:"getKey",value:function(n){return"object"==typeof n?this.selectId(n):n}},{key:"getResponseData$",value:function(n){var e=this;return this.reducedActions$.pipe((0,he.p)(function(t){return!!t.payload}),(0,he.p)(function(t){var s=t.payload,c=s.entityOp;return s.entityName===e.entityName&&s.correlationId===n&&(c.endsWith(bg)||c.endsWith(Ag)||c===St.CANCEL_PERSIST)}),(0,on.s)(1),(0,na.Z)(function(t){var s=t.payload.entityOp;return s===St.CANCEL_PERSIST?(0,ti.$)(new ZA(t.payload.data)):s.endsWith(bg)?(0,De.of)(t.payload.data):(0,ti.$)(t.payload.data.error)}))}},{key:"setQueryEntityActionOptions",value:function(n){var e=null==(n=n||{}).correlationId?this.correlationIdGenerator.next():n.correlationId;return(0,_.A)((0,_.A)({},n),{},{correlationId:e})}},{key:"setSaveEntityActionOptions",value:function(n,e){var t=null==(n=n||{}).correlationId?this.correlationIdGenerator.next():n.correlationId,s=null==n.isOptimistic?e||!1:!0===n.isOptimistic;return(0,_.A)((0,_.A)({},n),{},{correlationId:t,isOptimistic:s})}}])}(),np="entityCache",xg=new f.nKC("@ngrx/data Entity Cache Name"),e1=new f.nKC("@ngrx/data Entity Cache Meta Reducers"),t1=new f.nKC("@ngrx/data Entity Collection Meta Reducers"),U3=new f.nKC("@ngrx/data Initial Entity Cache State"),rp=new f.nKC("@ngrx/data Entity Cache Selector"),G3={provide:rp,useFactory:n1,deps:[[new o.Xx1,xg]]};function n1(a){return Xc(a=a||np)}var Eg=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.entityActionFactory=e,this.store=t,this.entityDispatcherDefaultOptions=s,this.entityCacheSelector=l,this.correlationIdGenerator=c,this.reducedActions$=u.pipe((0,ri.t)(1)),this.raSubscription=this.reducedActions$.subscribe()},[{key:"create",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dd,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(0,_.A)((0,_.A)({},this.entityDispatcherDefaultOptions),u);return new L3(t,this.entityActionFactory,this.store,s,l,this.reducedActions$,this.entityCacheSelector,this.correlationIdGenerator)}},{key:"ngOnDestroy",value:function(){this.raSubscription.unsubscribe()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(tu),f.KVO(Or),f.KVO(Sg),f.KVO(hs),f.KVO(rp),f.KVO(Cg))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),r1=new f.nKC("@ngrx/data Entity Effects Scheduler"),a1=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){var c=this;(0,v.A)(this,n),this.actions=e,this.dataService=t,this.entityActionFactory=s,this.logger=u,this.scheduler=l,this.responseDelay=10,this.saveEntitiesCancel$=vi(function(){return c.actions.pipe($o(gr.SAVE_ENTITIES_CANCEL),(0,he.p)(function(p){return null!=p.payload.correlationId}))},{dispatch:!1}),this.saveEntities$=vi(function(){return c.actions.pipe($o(gr.SAVE_ENTITIES),(0,na.Z)(function(p){return c.saveEntities(p)}))})},[{key:"saveEntities",value:function(t){var s=this,u=t.payload.error;if(u)return this.handleSaveEntitiesError$(t)(u);try{var l=jA(t.payload.changeSet),c=t.payload,p=c.correlationId,x=c.url;return 0===l.changes.length?(0,De.of)(new _g(l,x,{correlationId:p,mergeStrategy:c.mergeStrategy,tag:c.tag})):xA(this.saveEntitiesCancel$.pipe((0,he.p)(function(q){return p===q.payload.correlationId}),(0,me.T)(function(q){return new R3(p,q.payload.reason,q.payload.tag)})),this.dataService.saveEntities(l,x).pipe((0,wi.H)(function(q){return s.handleSaveEntitiesSuccess$(t,s.entityActionFactory)(q)}),(0,Tr.W)(this.handleSaveEntitiesError$(t))))}catch(q){return this.handleSaveEntitiesError$(t)(q)}}},{key:"handleSaveEntitiesError$",value:function(t){var s=this;return function(u){var l=u instanceof Sl?u:new Sl(u,null);return(0,De.of)(new T3(l,t)).pipe((0,fr.c)(s.responseDelay,s.scheduler||ud.E))}}},{key:"handleSaveEntitiesSuccess$",value:function(t,s){var u=t.payload,l=u.url,y={correlationId:u.correlationId,mergeStrategy:u.mergeStrategy,tag:u.tag};return function(x){if(x)return(0,De.of)(new _g(x,l,y));if(x=t.payload.changeSet,!t.payload.isOptimistic)return(0,De.of)(new _g(x,l,y));var D=x.changes.reduce(function(N,$){return-1===N.indexOf($.entityName)?N.concat($.entityName):N},[]);return(0,ee.h)(D.map(function(N){return s.create(N,St.SET_LOADING,!1)}))}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(eu),f.KVO(QA),f.KVO(tu),f.KVO(tp),f.KVO(r1,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),j3=[St.QUERY_ALL,St.QUERY_LOAD,St.QUERY_BY_KEY,St.QUERY_MANY,St.SAVE_ADD_ONE,St.SAVE_DELETE_ONE,St.SAVE_UPDATE_ONE,St.SAVE_UPSERT_ONE],o1=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){var c=this;(0,v.A)(this,n),this.actions=e,this.dataService=t,this.entityActionFactory=s,this.resultHandler=u,this.scheduler=l,this.responseDelay=10,this.cancel$=vi(function(){return c.actions.pipe(Zf(St.CANCEL_PERSIST),(0,me.T)(function(p){return p.payload.correlationId}),(0,he.p)(function(p){return null!=p}))},{dispatch:!1}),this.persist$=vi(function(){return c.actions.pipe(Zf(j3),(0,na.Z)(function(p){return c.persist(p)}))})},[{key:"persist",value:function(t){var s=this;if(t.payload.skip)return this.handleSkipSuccess$(t);if(t.payload.error)return this.handleError$(t)(t.payload.error);try{return xA(this.cancel$.pipe((0,he.p)(function(c){return t.payload.correlationId===c}),(0,me.T)(function(c){return s.entityActionFactory.createFromAction(t,{entityOp:St.CANCELED_PERSIST})})),this.callDataService(t).pipe((0,me.T)(this.resultHandler.handleSuccess(t)),(0,Tr.W)(this.handleError$(t))))}catch(c){return this.handleError$(t)(c)}}},{key:"callDataService",value:function(t){var s=t.payload,l=s.entityOp,c=s.data,p=s.httpOptions,m=this.dataService.getService(s.entityName);switch(l){case St.QUERY_ALL:case St.QUERY_LOAD:return m.getAll(p);case St.QUERY_BY_KEY:return m.getById(c,p);case St.QUERY_MANY:return m.getWithQuery(c,p);case St.SAVE_ADD_ONE:return m.add(c,p);case St.SAVE_DELETE_ONE:return m.delete(c,p);case St.SAVE_UPDATE_ONE:var y=c.id,x=c.changes;return m.update(c,p).pipe((0,me.T)(function(D){return D&&Object.keys(D).length>0?{id:y,changes:(0,_.A)((0,_.A)({},x),D),changed:!0}:{id:y,changes:x,changed:!1}}));case St.SAVE_UPSERT_ONE:return m.upsert(c,p).pipe((0,me.T)(function(D){return D&&Object.keys(D).length>0?D:c}));default:throw new Error('Persistence action "'.concat(l,'" is not implemented.'))}}},{key:"handleError$",value:function(t){var s=this;return function(u){return(0,De.of)(s.resultHandler.handleError(t)(u)).pipe((0,fr.c)(s.responseDelay,s.scheduler||ud.E))}}},{key:"handleSkipSuccess$",value:function(t){var s=$A(t.payload.entityOp),u=this.entityActionFactory.createFromAction(t,{entityOp:s});return(0,De.of)(u).pipe((0,fr.c)(this.responseDelay,this.scheduler||ud.E))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(eu),f.KVO(pd),f.KVO(tu),f.KVO(JA),f.KVO(r1,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),$3=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),this.entityName=r,r=r.trim();var e=n.create(r),t=e.dispatcher,s=e.selectors,u=e.selectors$;this.entityName=r,this.dispatcher=t,this.guard=t.guard,this.selectId=t.selectId,this.toUpdate=t.toUpdate,this.selectors=s,this.selectors$=u,this.collection$=u.collection$,this.count$=u.count$,this.entities$=u.entities$,this.entityActions$=u.entityActions$,this.entityMap$=u.entityMap$,this.errors$=u.errors$,this.filter$=u.filter$,this.filteredEntities$=u.filteredEntities$,this.keys$=u.keys$,this.loaded$=u.loaded$,this.loading$=u.loading$,this.changeState$=u.changeState$},[{key:"createEntityAction",value:function(n,e,t){return this.dispatcher.createEntityAction(n,e,t)}},{key:"createAndDispatch",value:function(n,e,t){return this.dispatcher.createAndDispatch(n,e,t)}},{key:"dispatch",value:function(n){return this.dispatcher.dispatch(n)}},{key:"store",get:function(){return this.dispatcher.store}},{key:"add",value:function(n,e){return this.dispatcher.add(n,e)}},{key:"cancel",value:function(n,e,t){this.dispatcher.cancel(n,e,t)}},{key:"delete",value:function(n,e){return this.dispatcher.delete(n,e)}},{key:"getAll",value:function(n){return this.dispatcher.getAll(n)}},{key:"getByKey",value:function(n,e){return this.dispatcher.getByKey(n,e)}},{key:"getWithQuery",value:function(n,e){return this.dispatcher.getWithQuery(n,e)}},{key:"load",value:function(n){return this.dispatcher.load(n)}},{key:"loadWithQuery",value:function(n,e){return this.dispatcher.loadWithQuery(n,e)}},{key:"update",value:function(n,e){return this.dispatcher.update(n,e)}},{key:"upsert",value:function(n,e){return this.dispatcher.upsert(n,e)}},{key:"addAllToCache",value:function(n,e){this.dispatcher.addAllToCache(n,e)}},{key:"addOneToCache",value:function(n,e){this.dispatcher.addOneToCache(n,e)}},{key:"addManyToCache",value:function(n,e){this.dispatcher.addManyToCache(n,e)}},{key:"clearCache",value:function(){this.dispatcher.clearCache()}},{key:"removeOneFromCache",value:function(n,e){this.dispatcher.removeOneFromCache(n,e)}},{key:"removeManyFromCache",value:function(n,e){this.dispatcher.removeManyFromCache(n,e)}},{key:"updateOneInCache",value:function(n,e){this.dispatcher.updateOneInCache(n,e)}},{key:"updateManyInCache",value:function(n,e){this.dispatcher.updateManyInCache(n,e)}},{key:"upsertOneInCache",value:function(n,e){this.dispatcher.upsertOneInCache(n,e)}},{key:"upsertManyInCache",value:function(n,e){this.dispatcher.upsertManyInCache(n,e)}},{key:"setFilter",value:function(n){this.dispatcher.setFilter(n)}},{key:"setLoaded",value:function(n){this.dispatcher.setLoaded(!!n)}},{key:"setLoading",value:function(n){this.dispatcher.setLoading(!!n)}}])}(),ap=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.entityDefinitionService=e},[{key:"create",value:function(t){var s=this.entityDefinitionService&&this.entityDefinitionService.getDefinition(t,!1);return s&&s.initialState||function z3(a){return{entityName:a,ids:[],entities:{},filter:void 0,loaded:!1,loading:!1,changeState:{}}}(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ii,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),s1=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.entityCollectionCreator=e||new ap,this.selectEntityCache=t||n1(np)},[{key:"createCollectionSelector",value:function(t){var s=this;return wn(this.selectEntityCache,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[t]||s.entityCollectionCreator.create(t)})}},{key:"createCollectionSelectors",value:function(t){var s="string"==typeof t?{entityName:t}:t,u=function(Ae){return Ae.ids},l=function(Ae){return Ae.entities},c=wn(u,l,function(ve,Ae){return ve.map(function(ge){return Ae[ge]})}),p=wn(u,function(ve){return ve.length}),m=function(Ae){return Ae.filter},y=s.filterFn,x=y?wn(c,m,function(ve,Ae){return y(ve,Ae)}):c,le={};return Object.keys(s.additionalCollectionState||{}).forEach(function(ve){le["select"+ve[0].toUpperCase()+ve.slice(1)]=function(Ae){return Ae[ve]}}),(0,_.A)({selectCount:p,selectEntities:c,selectEntityMap:l,selectFilter:m,selectFilteredEntities:x,selectKeys:u,selectLoaded:function(Ae){return Ae.loaded},selectLoading:function(Ae){return Ae.loading},selectChangeState:function(Ae){return Ae.changeState}},le)}},{key:"create",value:function(t){var s="string"==typeof t?{entityName:t}:t,u=s.entityName,l=this.createCollectionSelector(u),c=this.createCollectionSelectors(s),p={};return Object.keys(c).forEach(function(m){p[m]=wn(l,c[m])}),(0,_.A)({entityName:u,selectCollection:l,selectEntityCache:this.selectEntityCache},p)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ap,8),f.KVO(rp,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Dg=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.store=e,this.actions=t,this.selectEntityCache=s,this.entityCache$=this.store.select(this.selectEntityCache),this.entityActionErrors$=t.pipe((0,he.p)(function(u){return u.payload&&u.payload.entityOp&&u.payload.entityOp.endsWith(Ag)}),(0,ri.t)(1))},[{key:"create",value:function(t,s){var u=this,l={entityName:t};return Object.keys(s).forEach(function(c){if(c.startsWith("select")){var p=c[6].toLowerCase()+c.substring(7)+"$";l[p]=u.store.select(s[c])}}),l.entityActions$=this.actions.pipe(ep(t)),l.errors$=this.entityActionErrors$.pipe(ep(t)),l}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Or),f.KVO(eu),f.KVO(rp))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),u1=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.entityDispatcherFactory=e,this.entityDefinitionService=t,this.entitySelectorsFactory=s,this.entitySelectors$Factory=u},[{key:"create",value:function(t){t=t.trim();var s=this.entityDefinitionService.getDefinition(t),u=this.entityDispatcherFactory.create(t,s.selectId,s.entityDispatcherOptions),l=this.entitySelectorsFactory.create(s.metadata);return{dispatcher:u,entityName:t,selectors:l,selectors$:this.entitySelectors$Factory.create(t,l)}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Eg),f.KVO(ii),f.KVO(s1),f.KVO(Dg))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),l1=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.entityCollectionServiceElementsFactory=e},[{key:"create",value:function(t){return new $3(t,this.entityCollectionServiceElementsFactory)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(u1))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),c1=function(){var a,r=(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.entityCollectionServiceFactory=e,this.store=u,this.entityActionErrors$=s.entityActionErrors$,this.entityCache$=s.entityCache$,this.reducedActions$=t.reducedActions$});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(l1),f.KVO(Eg),f.KVO(Dg),f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),H3=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.entityServicesElements=e,this.EntityCollectionServices={}},[{key:"entityActionErrors$",get:function(){return this.entityServicesElements.entityActionErrors$}},{key:"entityCache$",get:function(){return this.entityServicesElements.entityCache$}},{key:"entityCollectionServiceFactory",get:function(){return this.entityServicesElements.entityCollectionServiceFactory}},{key:"reducedActions$",get:function(){return this.entityServicesElements.reducedActions$}},{key:"store",get:function(){return this.entityServicesElements.store}},{key:"dispatch",value:function(t){this.store.dispatch(t)}},{key:"createEntityCollectionService",value:function(t){return this.entityCollectionServiceFactory.create(t)}},{key:"getEntityCollectionService",value:function(t){var s=this.EntityCollectionServices[t];return s||(s=this.createEntityCollectionService(t),this.EntityCollectionServices[t]=s),s}},{key:"registerEntityCollectionService",value:function(t,s){this.EntityCollectionServices[s||t.entityName]=t}},{key:"registerEntityCollectionServices",value:function(t){var s=this;Array.isArray(t)?t.forEach(function(u){return s.registerEntityCollectionService(u)}):Object.keys(t||{}).forEach(function(u){s.registerEntityCollectionService(t[u],u)})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(c1))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Cr=(0,g.A)(function a(){(0,v.A)(this,a)}),Ea=function(a){return a[a.Unchanged=0]="Unchanged",a[a.Added=1]="Added",a[a.Deleted=2]="Deleted",a[a.Updated=3]="Updated",a}(Ea||{}),K3=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),this.adapter=r,this.selectId=n,this.selectId=n||dd},[{key:"commitAll",value:function(n){return 0===Object.keys(n.changeState).length?n:(0,_.A)((0,_.A)({},n),{},{changeState:{}})}},{key:"commitMany",value:function(n,e){var t=this;if(null==n||0===n.length)return e;var s=!1,u=n.reduce(function(l,c){var p="object"==typeof c?t.selectId(c):c;return l[p]&&(s||(l=(0,_.A)({},l),s=!0),delete l[p]),l},e.changeState);return s?(0,_.A)((0,_.A)({},e),{},{changeState:u}):e}},{key:"commitOne",value:function(n,e){return null==n?e:this.commitMany([n],e)}},{key:"mergeQueryResults",value:function(n,e,t){return this.mergeServerUpserts(n,e,Wr.PreserveChanges,t)}},{key:"mergeSaveAdds",value:function(n,e,t){return this.mergeServerUpserts(n,e,Wr.OverwriteChanges,t)}},{key:"mergeSaveDeletes",value:function(n,e,t){var s=n;return e=(t=t??Wr.OverwriteChanges)===Wr.IgnoreChanges?e:this.commitMany(s,e),this.adapter.removeMany(s,e)}},{key:"mergeSaveUpdates",value:function(n,e,t){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==n||0===n.length)return e;var p,l=!1,c=e.changeState;switch(t=t??Wr.OverwriteChanges){case Wr.IgnoreChanges:return p=y(n),this.adapter.updateMany(p,e);case Wr.OverwriteChanges:return c=n.reduce(function(x,D){var N=D.id;return x[N]&&(l||(x=(0,_.A)({},x),l=!0),delete x[N]),x},e.changeState),e=l?(0,_.A)((0,_.A)({},e),{},{changeState:c}):e,p=y(n),this.adapter.updateMany(p,e);case Wr.PreserveChanges:var m=[];return c=n.reduce(function(x,D){var N=D.id,$=x[N];if($){l||(x=(0,_.A)({},x),l=!0);var q=s.selectId(D.changes),le=$;q!==N&&delete x[N];var ve=(0,_.A)((0,_.A)({},le.originalValue),D.changes);x[q]=(0,_.A)((0,_.A)({},le),{},{originalValue:ve})}else m.push(D);return x},e.changeState),e=l?(0,_.A)((0,_.A)({},e),{},{changeState:c}):e,p=y(m),this.adapter.updateMany(p,e)}function y(x){return!0===u&&(x=x.filter(function(D){return!0===D.changed})),x.map(function(D){return{id:D.id,changes:D.changes}})}}},{key:"mergeSaveUpserts",value:function(n,e,t){return this.mergeServerUpserts(n,e,Wr.OverwriteChanges,t)}},{key:"mergeServerUpserts",value:function(n,e,t,s){var u=this;if(null==n||0===n.length)return e;var l=!1,c=e.changeState;switch(s=s??t){case Wr.IgnoreChanges:return this.adapter.upsertMany(n,e);case Wr.OverwriteChanges:return e=this.adapter.upsertMany(n,e),c=n.reduce(function(m,y){var x=u.selectId(y);return m[x]&&(l||(m=(0,_.A)({},m),l=!0),delete m[x]),m},e.changeState),l?(0,_.A)((0,_.A)({},e),{},{changeState:c}):e;case Wr.PreserveChanges:var p=[];return c=n.reduce(function(m,y){var x=u.selectId(y);return m[x]?l||(m=(0,_.A)((0,_.A)({},m),{},(0,d.A)({},x,(0,_.A)((0,_.A)({},m[x]),{},{originalValue:y}))),l=!0):p.push(y),m},e.changeState),e=this.adapter.upsertMany(p,e),l?(0,_.A)((0,_.A)({},e),{},{changeState:c}):e}}},{key:"trackAddMany",value:function(n,e,t){var s=this;if(t===Wr.IgnoreChanges||null==n||0===n.length)return e;var u=!1,l=n.reduce(function(c,p){var m=s.selectId(p);if(null==m||""===m)throw new Error("".concat(e.entityName," entity add requires a key to be tracked"));return c[m]||(u||(u=!0,c=(0,_.A)({},c)),c[m]={changeType:Ea.Added}),c},e.changeState);return u?(0,_.A)((0,_.A)({},e),{},{changeState:l}):e}},{key:"trackAddOne",value:function(n,e,t){return null==n?e:this.trackAddMany([n],e,t)}},{key:"trackDeleteMany",value:function(n,e,t){if(t===Wr.IgnoreChanges||null==n||0===n.length)return e;var s=!1,u=e.entities,l=n.reduce(function(c,p){var m=u[p];if(m){var y=c[p];y?y.changeType===Ea.Added?(x(),delete c[p]):y.changeType===Ea.Updated&&(x(),c[p]=(0,_.A)((0,_.A)({},c[p]),{},{changeType:Ea.Deleted})):(x(),c[p]={changeType:Ea.Deleted,originalValue:m})}return c;function x(){s||(s=!0,c=(0,_.A)({},c))}},e.changeState);return s?(0,_.A)((0,_.A)({},e),{},{changeState:l}):e}},{key:"trackDeleteOne",value:function(n,e,t){return null==n?e:this.trackDeleteMany([n],e,t)}},{key:"trackUpdateMany",value:function(n,e,t){if(t===Wr.IgnoreChanges||null==n||0===n.length)return e;var s=!1,u=e.entities,l=n.reduce(function(c,p){var m=p.id;if(null==m||""===m)throw new Error("".concat(e.entityName," entity update requires a key to be tracked"));var x=u[m];return x&&(c[m]||(s||(s=!0,c=(0,_.A)({},c)),c[m]={changeType:Ea.Updated,originalValue:x})),c},e.changeState);return s?(0,_.A)((0,_.A)({},e),{},{changeState:l}):e}},{key:"trackUpdateOne",value:function(n,e,t){return null==n?e:this.trackUpdateMany([n],e,t)}},{key:"trackUpsertMany",value:function(n,e,t){var s=this;if(t===Wr.IgnoreChanges||null==n||0===n.length)return e;var u=!1,l=e.entities,c=n.reduce(function(p,m){var y=s.selectId(m);if(null==y||""===y)throw new Error("".concat(e.entityName," entity upsert requires a key to be tracked"));if(!p[y]){u||(u=!0,p=(0,_.A)({},p));var D=l[y];p[y]=null==D?{changeType:Ea.Added}:{changeType:Ea.Updated,originalValue:D}}return p},e.changeState);return u?(0,_.A)((0,_.A)({},e),{},{changeState:c}):e}},{key:"trackUpsertOne",value:function(n,e,t){return null==n?e:this.trackUpsertMany([n],e,t)}},{key:"undoAll",value:function(n){var t=Object.keys(n.changeState).reduce(function(l,c){var p=l.chgState[c];switch(p.changeType){case Ea.Added:l.remove.push(c);break;case Ea.Deleted:var m=p.originalValue;m&&l.upsert.push(m);break;case Ea.Updated:l.upsert.push(p.originalValue)}return l},{remove:[],upsert:[],chgState:n.changeState}),u=t.upsert;return n=this.adapter.removeMany(t.remove,n),n=this.adapter.upsertMany(u,n),(0,_.A)((0,_.A)({},n),{},{changeState:{}})}},{key:"undoMany",value:function(n,e){var t=this;if(null==n||0===n.length)return e;var s=!1,u=n.reduce(function(m,y){var x=m.changeState,D="object"==typeof y?t.selectId(y):y,N=x[D];if(N)switch(s||(x=(0,_.A)({},x),s=!0),delete x[D],m.changeState=x,N.changeType){case Ea.Added:m.remove.push(D);break;case Ea.Deleted:var $=N.originalValue;$&&m.upsert.push($);break;case Ea.Updated:m.upsert.push(N.originalValue)}return m},{remove:[],upsert:[],changeState:e.changeState}),l=u.changeState,p=u.upsert;return e=this.adapter.removeMany(u.remove,e),e=this.adapter.upsertMany(p,e),s?(0,_.A)((0,_.A)({},e),{},{changeState:l}):e}},{key:"undoOne",value:function(n,e){return null==n?e:this.undoMany([n],e)}}])}(),X3=function(){return(0,g.A)(function a(r,n,e){var t;(0,v.A)(this,a),this.entityName=r,this.definition=n,this.methods=((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t={},St.CANCEL_PERSIST,this.cancelPersist.bind(this)),St.QUERY_ALL,this.queryAll.bind(this)),St.QUERY_ALL_ERROR,this.queryAllError.bind(this)),St.QUERY_ALL_SUCCESS,this.queryAllSuccess.bind(this)),St.QUERY_BY_KEY,this.queryByKey.bind(this)),St.QUERY_BY_KEY_ERROR,this.queryByKeyError.bind(this)),St.QUERY_BY_KEY_SUCCESS,this.queryByKeySuccess.bind(this)),St.QUERY_LOAD,this.queryLoad.bind(this)),St.QUERY_LOAD_ERROR,this.queryLoadError.bind(this)),St.QUERY_LOAD_SUCCESS,this.queryLoadSuccess.bind(this)),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,St.QUERY_MANY,this.queryMany.bind(this)),St.QUERY_MANY_ERROR,this.queryManyError.bind(this)),St.QUERY_MANY_SUCCESS,this.queryManySuccess.bind(this)),St.SAVE_ADD_MANY,this.saveAddMany.bind(this)),St.SAVE_ADD_MANY_ERROR,this.saveAddManyError.bind(this)),St.SAVE_ADD_MANY_SUCCESS,this.saveAddManySuccess.bind(this)),St.SAVE_ADD_ONE,this.saveAddOne.bind(this)),St.SAVE_ADD_ONE_ERROR,this.saveAddOneError.bind(this)),St.SAVE_ADD_ONE_SUCCESS,this.saveAddOneSuccess.bind(this)),St.SAVE_DELETE_MANY,this.saveDeleteMany.bind(this)),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,St.SAVE_DELETE_MANY_ERROR,this.saveDeleteManyError.bind(this)),St.SAVE_DELETE_MANY_SUCCESS,this.saveDeleteManySuccess.bind(this)),St.SAVE_DELETE_ONE,this.saveDeleteOne.bind(this)),St.SAVE_DELETE_ONE_ERROR,this.saveDeleteOneError.bind(this)),St.SAVE_DELETE_ONE_SUCCESS,this.saveDeleteOneSuccess.bind(this)),St.SAVE_UPDATE_MANY,this.saveUpdateMany.bind(this)),St.SAVE_UPDATE_MANY_ERROR,this.saveUpdateManyError.bind(this)),St.SAVE_UPDATE_MANY_SUCCESS,this.saveUpdateManySuccess.bind(this)),St.SAVE_UPDATE_ONE,this.saveUpdateOne.bind(this)),St.SAVE_UPDATE_ONE_ERROR,this.saveUpdateOneError.bind(this)),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,St.SAVE_UPDATE_ONE_SUCCESS,this.saveUpdateOneSuccess.bind(this)),St.SAVE_UPSERT_MANY,this.saveUpsertMany.bind(this)),St.SAVE_UPSERT_MANY_ERROR,this.saveUpsertManyError.bind(this)),St.SAVE_UPSERT_MANY_SUCCESS,this.saveUpsertManySuccess.bind(this)),St.SAVE_UPSERT_ONE,this.saveUpsertOne.bind(this)),St.SAVE_UPSERT_ONE_ERROR,this.saveUpsertOneError.bind(this)),St.SAVE_UPSERT_ONE_SUCCESS,this.saveUpsertOneSuccess.bind(this)),St.ADD_ALL,this.addAll.bind(this)),St.ADD_MANY,this.addMany.bind(this)),St.ADD_ONE,this.addOne.bind(this)),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,St.REMOVE_ALL,this.removeAll.bind(this)),St.REMOVE_MANY,this.removeMany.bind(this)),St.REMOVE_ONE,this.removeOne.bind(this)),St.UPDATE_MANY,this.updateMany.bind(this)),St.UPDATE_ONE,this.updateOne.bind(this)),St.UPSERT_MANY,this.upsertMany.bind(this)),St.UPSERT_ONE,this.upsertOne.bind(this)),St.COMMIT_ALL,this.commitAll.bind(this)),St.COMMIT_MANY,this.commitMany.bind(this)),St.COMMIT_ONE,this.commitOne.bind(this)),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,St.UNDO_ALL,this.undoAll.bind(this)),St.UNDO_MANY,this.undoMany.bind(this)),St.UNDO_ONE,this.undoOne.bind(this)),St.SET_CHANGE_STATE,this.setChangeState.bind(this)),St.SET_COLLECTION,this.setCollection.bind(this)),St.SET_FILTER,this.setFilter.bind(this)),St.SET_LOADED,this.setLoaded.bind(this)),St.SET_LOADING,this.setLoading.bind(this))),this.adapter=n.entityAdapter,this.isChangeTracking=!0!==n.noChangeTracking,this.selectId=n.selectId,this.guard=new LA(r,this.selectId),this.toUpdate=GA(this.selectId),this.entityChangeTracker=e||new K3(this.adapter,this.selectId)},[{key:"cancelPersist",value:function(n){return this.setLoadingFalse(n)}},{key:"queryAll",value:function(n){return this.setLoadingTrue(n)}},{key:"queryAllError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryAllSuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return(0,_.A)((0,_.A)({},this.entityChangeTracker.mergeQueryResults(t,n,s)),{},{loaded:!0,loading:!1})}},{key:"queryByKey",value:function(n,e){return this.setLoadingTrue(n)}},{key:"queryByKeyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryByKeySuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return n=null==t?n:this.entityChangeTracker.mergeQueryResults([t],n,s),this.setLoadingFalse(n)}},{key:"queryLoad",value:function(n){return this.setLoadingTrue(n)}},{key:"queryLoadError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryLoadSuccess",value:function(n,e){var t=this.extractData(e);return(0,_.A)((0,_.A)({},this.adapter.setAll(t,n)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"queryMany",value:function(n,e){return this.setLoadingTrue(n)}},{key:"queryManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryManySuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return(0,_.A)((0,_.A)({},this.entityChangeTracker.mergeQueryResults(t,n,s)),{},{loaded:!0,loading:!1})}},{key:"saveAddMany",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddMany(t,n,s),n=this.adapter.addMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveAddManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveAddManySuccess",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.isOptimistic(e)?this.entityChangeTracker.mergeSaveUpserts(t,n,s):this.entityChangeTracker.mergeSaveAdds(t,n,s),this.setLoadingFalse(n)}},{key:"saveAddOne",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddOne(t,n,s),n=this.adapter.addOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveAddOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveAddOneSuccess",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);if(this.isOptimistic(e)){var u=this.toUpdate(t);n=this.entityChangeTracker.mergeSaveUpdates([u],n,s,!1)}else n=this.entityChangeTracker.mergeSaveAdds([t],n,s);return this.setLoadingFalse(n)}},{key:"saveDeleteOne",value:function(n,e){var t=this.extractData(e),s="object"==typeof t?this.selectId(t):t,u=n.changeState[s];if(u&&(u.changeType===Ea.Added?(n=this.adapter.removeOne(s,n),n=this.entityChangeTracker.commitOne(s,n),e.payload.skip=!0):n=this.entityChangeTracker.trackDeleteOne(s,n)),this.isOptimistic(e)){var l=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteOne(s,n,l),n=this.adapter.removeOne(s,n)}return this.setLoadingTrue(n)}},{key:"saveDeleteOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveDeleteOneSuccess",value:function(n,e){var t=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes([t],n,s)}else n=this.adapter.removeOne(t,n),n=this.entityChangeTracker.commitOne(t,n);return this.setLoadingFalse(n)}},{key:"saveDeleteMany",value:function(n,e){var t=this,s=this.extractData(e).map(function(l){return"object"==typeof l?t.selectId(l):l});if(s.forEach(function(l){var c=n.changeState[l];c&&(c.changeType===Ea.Added?(n=t.adapter.removeOne(l,n),n=t.entityChangeTracker.commitOne(l,n),e.payload.skip=!0):n=t.entityChangeTracker.trackDeleteOne(l,n))}),this.isOptimistic(e)){var u=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteMany(s,n,u),n=this.adapter.removeMany(s,n)}return this.setLoadingTrue(n)}},{key:"saveDeleteManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveDeleteManySuccess",value:function(n,e){var t=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes(t,n,s)}else n=this.adapter.removeMany(t,n),n=this.entityChangeTracker.commitMany(t,n);return this.setLoadingFalse(n)}},{key:"saveUpdateOne",value:function(n,e){var t=this.guard.mustBeUpdate(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateOne(t,n,s),n=this.adapter.updateOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpdateOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpdateOneSuccess",value:function(n,e){var t=this.guard.mustBeUpdateResponse(e),s=this.isOptimistic(e),u=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpdates([t],n,u,s),this.setLoadingFalse(n)}},{key:"saveUpdateMany",value:function(n,e){var t=this.guard.mustBeUpdates(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateMany(t,n,s),n=this.adapter.updateMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpdateManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpdateManySuccess",value:function(n,e){var t=this.guard.mustBeUpdateResponses(e),u=(this.isOptimistic(e),this.extractMergeStrategy(e));return n=this.entityChangeTracker.mergeSaveUpdates(t,n,u,!1),this.setLoadingFalse(n)}},{key:"saveUpsertOne",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertOne(t,n,s),n=this.adapter.upsertOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpsertOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpsertOneSuccess",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts([t],n,s),this.setLoadingFalse(n)}},{key:"saveUpsertMany",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertMany(t,n,s),n=this.adapter.upsertMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpsertManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpsertManySuccess",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts(t,n,s),this.setLoadingFalse(n)}},{key:"addAll",value:function(n,e){var t=this.guard.mustBeEntities(e);return(0,_.A)((0,_.A)({},this.adapter.setAll(t,n)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"addMany",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddMany(t,n,s),this.adapter.addMany(t,n)}},{key:"addOne",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddOne(t,n,s),this.adapter.addOne(t,n)}},{key:"removeMany",value:function(n,e){var t=this.guard.mustBeKeys(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteMany(t,n,s),this.adapter.removeMany(t,n)}},{key:"removeOne",value:function(n,e){var t=this.guard.mustBeKey(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteOne(t,n,s),this.adapter.removeOne(t,n)}},{key:"removeAll",value:function(n,e){return(0,_.A)((0,_.A)({},this.adapter.removeAll(n)),{},{loaded:!1,loading:!1,changeState:{}})}},{key:"updateMany",value:function(n,e){var t=this.guard.mustBeUpdates(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateMany(t,n,s),this.adapter.updateMany(t,n)}},{key:"updateOne",value:function(n,e){var t=this.guard.mustBeUpdate(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateOne(t,n,s),this.adapter.updateOne(t,n)}},{key:"upsertMany",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertMany(t,n,s),this.adapter.upsertMany(t,n)}},{key:"upsertOne",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertOne(t,n,s),this.adapter.upsertOne(t,n)}},{key:"commitAll",value:function(n){return this.entityChangeTracker.commitAll(n)}},{key:"commitMany",value:function(n,e){return this.entityChangeTracker.commitMany(this.extractData(e),n)}},{key:"commitOne",value:function(n,e){return this.entityChangeTracker.commitOne(this.extractData(e),n)}},{key:"undoAll",value:function(n){return this.entityChangeTracker.undoAll(n)}},{key:"undoMany",value:function(n,e){return this.entityChangeTracker.undoMany(this.extractData(e),n)}},{key:"undoOne",value:function(n,e){return this.entityChangeTracker.undoOne(this.extractData(e),n)}},{key:"setChangeState",value:function(n,e){var t=this.extractData(e);return n.changeState===t?n:(0,_.A)((0,_.A)({},n),{},{changeState:t})}},{key:"setCollection",value:function(n,e){var t=this.extractData(e);return n===t?n:t}},{key:"setFilter",value:function(n,e){var t=this.extractData(e);return n.filter===t?n:(0,_.A)((0,_.A)({},n),{},{filter:t})}},{key:"setLoaded",value:function(n,e){var t=!0===this.extractData(e)||!1;return n.loaded===t?n:(0,_.A)((0,_.A)({},n),{},{loaded:t})}},{key:"setLoading",value:function(n,e){return this.setLoadingFlag(n,this.extractData(e))}},{key:"setLoadingFalse",value:function(n){return this.setLoadingFlag(n,!1)}},{key:"setLoadingTrue",value:function(n){return this.setLoadingFlag(n,!0)}},{key:"setLoadingFlag",value:function(n,e){return n.loading===(e=!0===e)?n:(0,_.A)((0,_.A)({},n),{},{loading:e})}},{key:"extractData",value:function(n){return n.payload&&n.payload.data}},{key:"extractMergeStrategy",value:function(n){return this.isChangeTracking?n.payload&&n.payload.mergeStrategy:Wr.IgnoreChanges}},{key:"isOptimistic",value:function(n){return n.payload&&!0===n.payload.isOptimistic}}])}(),d1=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.entityDefinitionService=e},[{key:"create",value:function(t){var s=this.entityDefinitionService.getDefinition(t);return new X3(t,s).methods}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ii))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),f1=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.methodsFactory=e},[{key:"create",value:function(t){var s=this.methodsFactory.create(t);return function(l,c){var p=s[c.payload.entityOp];return p?p(l,c):l}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(d1))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),p1=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.entityCollectionReducerFactory=e,this.entityCollectionReducers={},this.entityCollectionMetaReducer=Fh.apply(null,t||[])},[{key:"getOrCreateReducer",value:function(t){var s=this.entityCollectionReducers[t];return s||(s=this.entityCollectionReducerFactory.create(t),s=this.registerReducer(t,s),this.entityCollectionReducers[t]=s),s}},{key:"registerReducer",value:function(t,s){return s=this.entityCollectionMetaReducer(s),this.entityCollectionReducers[t.trim()]=s}},{key:"registerReducers",value:function(t){var s=this;(t?Object.keys(t):[]).forEach(function(l){return s.registerReducer(l,t[l])})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(f1),f.KVO(t1,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),m1=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.entityCollectionCreator=e,this.entityCollectionReducerRegistry=t,this.logger=s},[{key:"create",value:function(){return function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;switch(u.type){case gr.CLEAR_COLLECTIONS:return this.clearCollectionsReducer(s,u);case gr.LOAD_COLLECTIONS:return this.loadCollectionsReducer(s,u);case gr.MERGE_QUERY_SET:return this.mergeQuerySetReducer(s,u);case gr.SAVE_ENTITIES:return this.saveEntitiesReducer(s,u);case gr.SAVE_ENTITIES_CANCEL:return this.saveEntitiesCancelReducer(s,u);case gr.SAVE_ENTITIES_ERROR:return this.saveEntitiesErrorReducer(s,u);case gr.SAVE_ENTITIES_SUCCESS:return this.saveEntitiesSuccessReducer(s,u);case gr.SET_ENTITY_CACHE:return u.payload.cache}var l=u.payload;return l&&l.entityName&&l.entityOp&&!l.error?this.applyCollectionReducer(s,u):s}.bind(this)}},{key:"clearCollectionsReducer",value:function(t,s){var u=this,c=s.payload.collections,m=St.REMOVE_ALL;return c||(c=Object.keys(t)),c.reduce(function(y,x){var D={entityName:x,entityOp:m},N={type:"[".concat(x,"] ").concat(s.type),payload:D};return u.applyCollectionReducer(y,N)},t)}},{key:"loadCollectionsReducer",value:function(t,s){var u=this,c=s.payload.collections,m=St.ADD_ALL;return Object.keys(c).reduce(function(x,D){var N={entityName:D,entityOp:m,data:c[D]},$={type:"[".concat(D,"] ").concat(s.type),payload:N};return u.applyCollectionReducer(x,$)},t)}},{key:"mergeQuerySetReducer",value:function(t,s){var u=this,l=s.payload,c=l.mergeStrategy,p=l.querySet;c=null===c?Wr.PreserveChanges:c;var y=St.QUERY_MANY_SUCCESS;return Object.keys(p).reduce(function(D,N){var $={entityName:N,entityOp:y,data:p[N],mergeStrategy:c},q={type:"[".concat(N,"] ").concat(s.type),payload:$};return u.applyCollectionReducer(D,q)},t)}},{key:"saveEntitiesReducer",value:function(t,s){var u=this,l=s.payload,c=l.changeSet,p=l.correlationId,m=l.isOptimistic,y=l.mergeStrategy,x=l.tag;try{c.changes.forEach(function(N){var $=N.entityName,q={entityName:$,entityOp:D(N),data:N.entities,correlationId:p,isOptimistic:m,mergeStrategy:y,tag:x},le={type:"[".concat($,"] ").concat(s.type),payload:q};if(t=u.applyCollectionReducer(t,le),le.payload.error)throw le.payload.error})}catch(N){s.payload.error=N}return t;function D(N){switch(N.op){case ai.Add:return St.SAVE_ADD_MANY;case ai.Delete:return St.SAVE_DELETE_MANY;case ai.Update:return St.SAVE_UPDATE_MANY;case ai.Upsert:return St.SAVE_UPSERT_MANY}}}},{key:"saveEntitiesCancelReducer",value:function(t,s){return this.clearLoadingFlags(t,s.payload.entityNames||[])}},{key:"saveEntitiesErrorReducer",value:function(t,s){var c=s.payload.originalAction.payload.changeSet.changes.map(function(p){return p.entityName});return this.clearLoadingFlags(t,c)}},{key:"saveEntitiesSuccessReducer",value:function(t,s){var u=this,l=s.payload,p=l.correlationId,m=l.isOptimistic,y=l.mergeStrategy,x=l.tag;return l.changeSet.changes.forEach(function(N){var $=N.entityName,q={entityName:$,entityOp:D(N),data:N.entities,correlationId:p,isOptimistic:m,mergeStrategy:y,tag:x},le={type:"[".concat($,"] ").concat(s.type),payload:q};t=u.applyCollectionReducer(t,le)}),t;function D(N){switch(N.op){case ai.Add:return St.SAVE_ADD_MANY_SUCCESS;case ai.Delete:return St.SAVE_DELETE_MANY_SUCCESS;case ai.Update:return St.SAVE_UPDATE_MANY_SUCCESS;case ai.Upsert:return St.SAVE_UPSERT_MANY_SUCCESS}}}},{key:"applyCollectionReducer",value:function(){var p,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,u=s.payload.entityName,l=t[u],c=this.entityCollectionReducerRegistry.getOrCreateReducer(u);try{p=c(l||this.entityCollectionCreator.create(u),s)}catch(m){this.logger.error(m),s.payload.error=m}return s.payload.error||l===p?t:(0,_.A)((0,_.A)({},t),{},(0,d.A)({},u,p))}},{key:"clearLoadingFlags",value:function(t,s){var u=!1;return s.forEach(function(l){var c=t[l];c.loading&&(u||(t=(0,_.A)({},t),u=!0),t[l]=(0,_.A)((0,_.A)({},c),{},{loading:!1}))}),t}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ap),f.KVO(p1),f.KVO(tp))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),q3=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"error",value:function(t,s){t&&(s?console.error(t,s):console.error(t))}},{key:"log",value:function(t,s){t&&(s?console.log(t,s):console.log(t))}},{key:"warn",value:function(t,s){t&&(s?console.warn(t,s):console.warn(t))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),W3=["equipment","information","money","series"],h1=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.pluralNames={},e&&e.forEach(function(s){return t.registerPluralNames(s)})},[{key:"pluralize",value:function(t){return this.pluralNames[t]||(W3.indexOf(t.toLowerCase())>=0?t:/[aeiou]y$/.test(t)?t+"s":t.endsWith("y")?t.substring(0,t.length-1)+"ies":/[s|ss|sh|ch|x|z]$/.test(t)?t+"es":t+"s")}},{key:"registerPluralNames",value:function(t){this.pluralNames=(0,_.A)((0,_.A)({},this.pluralNames),t||{})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(zA,8))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),g1=[Cg,Sg,tu,B3,m1,G3,ap,f1,d1,p1,u1,l1,ii,Eg,s1,Dg,c1,{provide:xg,useValue:np},{provide:Cr,useClass:H3},{provide:tp,useClass:q3},(0,f.BCV)(function(){return function Q3(){var a=(0,f.WQX)(pl),r=(0,f.WQX)(m1),n=(0,f.WQX)(xg,{optional:!0}),e=(0,f.WQX)(U3,{optional:!0}),t=(0,f.WQX)(e1,{optional:!0}),s=n||np,u=(t||[]).map(function(p){return p instanceof f.nKC?(0,f.WQX)(p):p}),l="function"==typeof e?e():e,c={key:s,reducers:r.create(),reducerFactory:Df,initialState:l||{},metaReducers:u};a.addFeature(c)}()})],v1=[qA,QA,pd,a1,o1,{provide:HA,useClass:KA},{provide:JA,useClass:O3},{provide:fd,useClass:h1},(0,f.BCV)(function(){return function J3(){var a=(0,f.WQX)(Jf),r=(0,f.WQX)(a1),n=(0,f.WQX)(o1);a.addEffects(r),a.addEffects(n)}()})];function wg(a){return[{provide:e1,useValue:a.entityCacheMetaReducers?a.entityCacheMetaReducers:[]},{provide:t1,useValue:a.entityCollectionMetaReducers?a.entityCollectionMetaReducers:[]},{provide:zA,multi:!0,useValue:a.pluralNames?a.pluralNames:{}},{provide:WA,multi:!0,useValue:a.entityMetadata?a.entityMetadata:[]}]}var Z3=function(){var a,r=function(){function n(){(0,v.A)(this,n)}return(0,g.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[wg(t)]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[g1]}),r}(),eM=function(){var a,r=function(){function n(){(0,v.A)(this,n)}return(0,g.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[wg(t)]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[v1],imports:[Z3]}),r}(),bs=function(a){return a.Login="[Auth] Login",a.Logout="[Auth] Logout",a.CompleteAuthentication="[Auth] CompleteAuthentication",a.SetUser="[Auth] SetUser",a}(bs||{}),Fg=(0,g.A)(function a(){(0,v.A)(this,a),this.type=bs.Login}),kg=(0,g.A)(function a(){(0,v.A)(this,a),this.type=bs.Logout}),Pg=(0,g.A)(function a(){(0,v.A)(this,a),this.type=bs.CompleteAuthentication}),Rg=(0,g.A)(function a(r){(0,v.A)(this,a),this.payload=r,this.type=bs.SetUser}),tM={Login:Fg,Logout:kg,CompleteAuthentication:Pg,SetUser:Rg},md=Object.freeze({__proto__:null,get AuthActionTypes(){return bs},CompleteAuthentication:Pg,Login:Fg,Logout:kg,SetUser:Rg,fromAuthActions:tM}),_1={user:void 0,cookies:new Map};function b1(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_1,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case bs.SetUser:a=(0,_.A)((0,_.A)({},a),{},{user:r.payload});break;case bs.Logout:a=(0,_.A)((0,_.A)({},a),{},{user:void 0})}return a}var ip={getUser:wn(Xc("auth"),function(a){return a.user})},Fi=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.store=e,this.getUser$=this.store.pipe(Rr(ip.getUser)),this.token$=this.store.pipe(Rr(ip.getUser),(0,me.T)(function(t){return t?"".concat(t.token_type," ").concat(t.access_token):void 0})),this.idToken$=this.store.pipe(Rr(ip.getUser),(0,me.T)(function(t){return t?"".concat(t.token_type," ").concat(t.id_token):void 0}))},[{key:"login",value:function(){this.store.dispatch(new Fg)}},{key:"logout",value:function(){this.store.dispatch(new kg)}},{key:"setUser",value:function(t){this.store.dispatch(new Rg(t))}},{key:"completeAuthentication",value:function(){this.store.dispatch(new Pg)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),aM={PublicUserProfile:{entityName:"PublicUserProfile"}},iM=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.authFacade=e,this.router=t,this.route=s,this.platformId=u},[{key:"ngOnInit",value:(e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:this.authFacade.completeAuthentication(),this.router.navigate(["/pages/create-panel-page"],{queryParams:{cacheBuster:dr()}});case 1:return u.a(2)}},s,this)})),function t(){return e.apply(this,arguments)})}]);var e}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Fi),o.rXU(xa),o.rXU(_s),o.rXU(o.Agw))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-auth-callback"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(o.j41(0,"p"),o.EFF(1,"auth-callback works!"),o.k0s())},encapsulation:2}),r}(),hd=function(){var a,r=function(){function n(e){(0,v.A)(this,n),e.registerMetadataMap(aM)}return(0,g.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[Fi]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ii))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,Gh.forFeature("auth",b1)]}),r}(),oM=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.authFacade=e,this.router=t},[{key:"intercept",value:function(t,s){return s.handle(t).pipe((0,ue.M)({error:function(l){}}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Fi),f.KVO(xa))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),op=b(8195),sM=b(2100),El=b(7473),Mg=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.authority=r.authority,this.client_id=r.client_id,this.redirect_uri=r.redirect_uri,this.silent_redirect_uri=r.silent_redirect_uri,this.response_type=r.response_type,this.scope=r.scope,this.filterProtocolClaims=r.filterProtocolClaims,this.loadUserInfo=r.loadUserInfo,this.automaticSilentRenew=r.automaticSilentRenew,this.metadata=(0,_.A)({},r.metadata),this.userStore=r.userStore?r.userStore:void 0,this.stateStore=r.userStore?r.stateStore:void 0)}),Ig=(0,o.zw6)("auth"),Vg=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.clientSettings=e,this.platformId=t,this.transferState=s,this.data={},this.isBrowser=(0,I.UE)(this.platformId),this.cookieMap={oa:"access_token",oi:"id_token",or:"refresh_token",os:"scope",oe:"expires_at",op:"profile"},this.tokenKey="oidc.user:".concat(this.clientSettings.authority,":").concat(this.clientSettings.client_id)},[{key:"request",set:function(t){this.req=t}},{key:"init",value:function(){var t=this;if(this.isBrowser)if(sessionStorage.getItem(this.tokenKey))this.setItem(this.tokenKey,sessionStorage.getItem(this.tokenKey));else if(this.transferState.hasKey(Ig)){var s=this.transferState.get(Ig,void 0);s&&this.setItem(this.tokenKey,s)}else for(var u=0;u<sessionStorage.length;u++){var l=sessionStorage.key(u);this.setItem(l,sessionStorage.getItem(l))}else{var p,c={token_type:"Bearer"};Object.getOwnPropertyNames(this.cookieMap).forEach(function(m){var y=t.getCookie(m);y&&""!==y&&(y=t.translateFromCookieValue(m,y),"oe"===m?p=y:c[t.cookieMap[m]]=y)}),c.access_token&&(this.data[this.tokenKey]=JSON.stringify(c),this.transferState.set(Ig,JSON.stringify((0,_.A)((0,_.A)({},c),{},{expires_at:p}))))}}},{key:"getItem",value:function(t){return this.data[t]}},{key:"setItem",value:function(t,s){var u=this;if(t===this.tokenKey){var l=JSON.parse(s);Object.getOwnPropertyNames(this.cookieMap).forEach(function(c){u.setCookie(c,u.translateCookieValue(c,l[u.cookieMap[c]]))})}this.isBrowser&&sessionStorage.setItem(t,s),this.data[t]=s}},{key:"removeItem",value:function(t){this.removeCookie(t),this.isBrowser&&sessionStorage.removeItem(t),delete this.data[t]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this.data).length}},{key:"key",value:function(t){return console.log("index()"),Object.getOwnPropertyNames(this.data)[t]}},{key:"getCookie",value:function(t){return this.isBrowser?op.get(t):this.req?null!==(s=this.req.cookies[t])&&void 0!==s?s:"":void 0;var s}},{key:"setCookie",value:function(t,s){this.isBrowser&&op.set(t,s)}},{key:"removeCookie",value:function(t){this.isBrowser&&op.remove(t)}},{key:"translateCookieValue",value:function(t,s){switch(t){case"os":return s.split(" ").join("|");case"oe":return"".concat(s);case"op":return JSON.stringify(s);default:return s}}},{key:"translateFromCookieValue",value:function(t,s){switch(t){case"os":return s.split("|").join(" ");case"oe":return(0,sM.Ro)(s);case"op":return JSON.parse(s);default:return s}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Mg),f.KVO(Object),f.KVO(o.pJN))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),uM=function(r,n){return new El.UserManager(new Mg((0,_.A)((0,_.A)({},r),{},{stateStore:new El.WebStorageStateStore({store:n}),userStore:new El.WebStorageStateStore({store:n})})))},cM=function(r,n,e,t){var s=new Vg(r,n,t);return(0,I.Vy)(n),s.init(),s},dM=function(){var a,r=(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.actions$=e,this.userManager=t,this.entityActionFactory=s,this.login$=vi(function(){return u.actions$.pipe($o(md.AuthActionTypes.Login),(0,ue.M)(function(){u.userManager.signinRedirect()}))},{dispatch:!1}),this.logout$=vi(function(){return u.actions$.pipe($o(md.AuthActionTypes.Logout),(0,ue.M)(function(){u.userManager.signoutRedirect()}))},{dispatch:!1}),this.completeAuthentication$=vi(function(){return u.actions$.pipe($o(md.AuthActionTypes.CompleteAuthentication),(0,We.n)(function(){return new L.c(function(l){u.userManager.signinRedirectCallback().then(function(c){l.next(new md.SetUser(c)),l.complete()})})}))}),this.loadCookies$=vi(function(){return u.actions$.pipe(ep("Cookie"),Zf([St.QUERY_ALL_SUCCESS]),(0,ue.M)(function(l){return console.log(l.payload.data)}),(0,ue.M)(function(l){}))},{dispatch:!1})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(eu),f.KVO(El.UserManager),f.KVO(tu))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),fM={Cookie:{entityName:"Cookie"}},Ng=new f.nKC("ClientSettings"),pM=function(){var a,r=function(){function n(e){(0,v.A)(this,n),e.registerMetadataMap(fM)}return(0,g.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[{provide:Vg,useFactory:cM,deps:[Ng,o.Agw,f.zZn,o.pJN]},{provide:El.UserManager,useFactory:uM,deps:[Ng,Vg]},(0,o.phd)(function(){var t=function(r,n){return function(){return new Promise(function(t){r.getUser().then(function(s){s?(n.setUser(s),setTimeout(function(){return t()})):t()})})}}((0,f.WQX)(El.UserManager),(0,f.WQX)(Fi),(0,f.WQX)(o.Agw));return t()})]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ii))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[hd,cd.forFeature([dM])]}),r}(),mM=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.authFacade=e},[{key:"intercept",value:function(t,s){return this.authFacade.idToken$.pipe((0,on.s)(1),(0,wi.H)(function(u){var l=t.headers;if(t.url.indexOf("/awproxy"),u&&-1===t.url.indexOf("github")&&-1===t.url.indexOf("cloudfront")&&-1===t.url.indexOf("cloudinary")&&-1===t.url.indexOf("carquery")&&-1===t.url.indexOf("gateway.marvel.com")&&-1===t.url.indexOf("hereapi.com")&&-1===t.url.indexOf(".es.")&&-1===t.url.indexOf(".s3.")&&-1===t.url.indexOf("/awproxy")){l=l.set("Authorization",u);var c=t.clone({headers:l});return s.handle(c)}var p=t.clone({headers:l});return s.handle(p)}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Fi))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Yt=b(5429),Cn=b(1873),hM=b(9931);function Og(a,r){var n="object"==typeof r;return new Promise(function(e,t){var s=new hM.Ms({next:function(l){e(l),s.unsubscribe()},error:t,complete:function(){n?e(r.defaultValue):t(new Wc)}});a.subscribe(s)})}var gM=function(){var a,r=(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.actions$=e,this.entityActionFactory=t,this.setUser=vi(function(){return s.actions$.pipe($o(md.AuthActionTypes.SetUser),(0,me.T)(function(){return s.entityActionFactory.create("Cookie",St.QUERY_ALL)}))}),this.loadCookies$=vi(function(){return s.actions$.pipe(ep("Cookie"),Zf([St.QUERY_ALL_SUCCESS]),(0,ue.M)(function(u){return console.log(u.payload.data)}),(0,ue.M)(function(u){u.payload.data.forEach(function(l){return op.set(l.name,l.value,{expires:new Date((new Date).getTime()+36e5)})})}))},{dispatch:!1})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(eu),f.KVO(tu))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),vM=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[cd.forFeature([gM])]}),r}(),yM=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.identityPoolId=r.identityPoolId,this.region=r.region,this.userPoolId=r.userPoolId)}),sp=new f.nKC("CognitoSettings"),_M=b(2846);function nu(a){var r,n,e,t=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,e=Symbol.iterator);t--;){if(n&&null!=(r=a[n]))return r.call(a);if(e&&null!=(r=a[e]))return new up(r.call(a));n="@@asyncIterator",e="@@iterator"}throw new TypeError("Object is not async iterable")}function up(a){function r(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var e=n.done;return Promise.resolve(n.value).then(function(t){return{value:t,done:e}})}return(up=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new up(a)}var mo=b(7931),pr=function(a){return a.MD5="MD5",a.CRC32="CRC32",a.CRC32C="CRC32C",a.CRC64NVME="CRC64NVME",a.SHA1="SHA1",a.SHA256="SHA256",a}(pr||{}),Lg=pr.CRC32,SM={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},As=b(3776),EM=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"allocByteArray",void 0),(0,d.A)(this,"byteLength",0),(0,d.A)(this,"byteArrays",[]),this.allocByteArray=r},[{key:"push",value:function(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}},{key:"flush",value:function(){if(1===this.byteArrays.length){var n=this.byteArrays[0];return this.reset(),n}for(var e=this.allocByteArray(this.byteLength),t=0,s=0;s<this.byteArrays.length;++s){var u=this.byteArrays[s];e.set(u,t),t+=u.byteLength}return this.reset(),e}},{key:"reset",value:function(){this.byteArrays=[],this.byteLength=0}}])}(),wM=function DM(a,r,n){var e=a.getReader(),t=!1,s=0,u=["",new EM(function(p){return new Uint8Array(p)})],l=-1,c=function(){var p=(0,Mt.A)((0,Ke.A)().m(function m(y){var x,$,q,le,ve,Ae,ge;return(0,Ke.A)().w(function(ke){for(;;)switch(ke.n){case 0:return ke.n=1,e.read();case 1:if($=(x=ke.v).value,!x.done){ke.n=2;break}-1!==l&&gd(q=Ug(u,l))>0&&y.enqueue(q),y.close(),ke.n=6;break;case 2:if(le=kM($,!1),l!==le&&(l>=0&&y.enqueue(Ug(u,l)),l=le),-1!==l){ke.n=3;break}return y.enqueue($),ke.a(2);case 3:if(ve=gd($),s+=ve,Ae=gd(u[l]),!(ve>=r&&0===Ae)){ke.n=4;break}y.enqueue($),ke.n=6;break;case 4:if(ge=FM(u,l,$),!t&&s>2*r&&(t=!0,n?.warn("@smithy/util-stream - stream chunk size ".concat(ve," is below threshold of ").concat(r,", automatically buffering."))),!(ge>=r)){ke.n=5;break}y.enqueue(Ug(u,l)),ke.n=6;break;case 5:return ke.n=6,c(y);case 6:return ke.a(2)}},m)}));return function(y){return p.apply(this,arguments)}}();return new ReadableStream({pull:c})};function FM(a,r,n){switch(r){case 0:return a[0]+=n,gd(a[0]);case 1:case 2:return a[r].push(n),gd(a[r])}}function Ug(a,r){switch(r){case 0:var n=a[0];return a[0]="",n;case 1:case 2:return a[r].flush()}throw new Error("@smithy/util-stream - invalid index ".concat(r," given to flush()"))}function gd(a){var r,n;return null!==(r=null!==(n=a?.byteLength)&&void 0!==n?n:a?.length)&&void 0!==r?r:0}function kM(a){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&typeof Buffer<"u"&&a instanceof Buffer?2:a instanceof Uint8Array?1:"string"==typeof a?0:-1}var Gg=[pr.CRC32,pr.CRC32C,pr.CRC64NVME,pr.SHA1,pr.SHA256],PM=[pr.SHA256,pr.SHA1,pr.CRC32,pr.CRC32C,pr.CRC64NVME],RM=function(r,n){var t=n.requestAlgorithmMember;if(!t)return"WHEN_SUPPORTED"===n.requestChecksumCalculation||n.requestChecksumRequired?Lg:void 0;if(r[t]){var u=r[t];if(!Gg.includes(u))throw new Error('The checksum algorithm "'.concat(u,'" is not supported by the client.')+" Select one of ".concat(Gg,"."));return u}},jg=function(r){return r===pr.MD5?"content-md5":"x-amz-checksum-".concat(r.toLowerCase())},TM=function(r,n){for(var e=r.toLowerCase(),t=0,s=Object.keys(n);t<s.length;t++)if(e===s[t].toLowerCase())return!0;return!1},MM=function(r,n){for(var e=r.toLowerCase(),t=0,s=Object.keys(n);t<s.length;t++)if(s[t].toLowerCase().startsWith(e))return!0;return!1},IM=b(9099),A1=function(r){return void 0!==r&&"string"!=typeof r&&!ArrayBuffer.isView(r)&&!(0,IM.m)(r)},eo=b(4398),$r=b(5312),VM=function(){function a(){this.crc32c=new $g}return a.prototype.update=function(r){(0,$r.isEmptyData)(r)||this.crc32c.update((0,$r.convertToBuffer)(r))},a.prototype.digest=function(){return(0,eo.__awaiter)(this,void 0,void 0,function(){return(0,eo.__generator)(this,function(r){return[2,(0,$r.numToUint8)(this.crc32c.digest())]})})},a.prototype.reset=function(){this.crc32c=new $g},a}(),$g=function(){function a(){this.checksum=4294967295}return a.prototype.update=function(r){var n,e;try{for(var t=(0,eo.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^OM[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},a.prototype.digest=function(){return(4294967295^this.checksum)>>>0},a}(),OM=(0,$r.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),BM=function(){function a(){this.crc32=new zg}return a.prototype.update=function(r){(0,$r.isEmptyData)(r)||this.crc32.update((0,$r.convertToBuffer)(r))},a.prototype.digest=function(){return(0,eo.__awaiter)(this,void 0,void 0,function(){return(0,eo.__generator)(this,function(r){return[2,(0,$r.numToUint8)(this.crc32.digest())]})})},a.prototype.reset=function(){this.crc32=new zg},a}(),zg=function(){function a(){this.checksum=4294967295}return a.prototype.update=function(r){var n,e;try{for(var t=(0,eo.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^UM[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},a.prototype.digest=function(){return(4294967295^this.checksum)>>>0},a}(),UM=(0,$r.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),S1=function(r,n){switch(r){case pr.MD5:return n.md5;case pr.CRC32:return BM;case pr.CRC32C:return VM;case pr.CRC64NVME:throw new Error('Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. \nYou must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case pr.SHA1:return n.sha1;case pr.SHA256:return n.sha256;default:throw new Error("Unsupported checksum algorithm: ".concat(r))}},jM=b(3060),x1=function(r,n){var e=new r;return e.update((0,jM.F)(n||"")),e.digest()},$M={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},E1=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],e=(0,j.A)(PM);try{for(e.s();!(t=e.n()).done;){var s=t.value;!r.includes(s)||!Gg.includes(s)||n.push(s)}}catch(u){e.e(u)}finally{e.f()}return n},HM=function(r){var n=r.lastIndexOf("-");if(-1!==n){var e=r.slice(n+1);if(!e.startsWith("0")){var t=parseInt(e,10);if(!isNaN(t)&&t>=1&&t<=1e4)return!0}}return!1},Hg=b(7436),Kg=function(r){var n;return"function"==typeof ReadableStream&&((null==r||null===(n=r.constructor)||void 0===n?void 0:n.name)===ReadableStream.name||r instanceof ReadableStream)},XM=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}("function"==typeof ReadableStream?ReadableStream:function(){}),qM=function(r){var l,c,n=r.expectedChecksum,e=r.checksum,t=r.source,s=r.checksumSourceLocation,u=r.base64Encoder;if(!Kg(t))throw new Error("@smithy/util-stream: unsupported source type ".concat(null!==(l=null==t||null===(c=t.constructor)||void 0===c?void 0:c.name)&&void 0!==l?l:t," in ChecksumStream."));var p=u??Hg.n;if("function"!=typeof TransformStream)throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");var m=new TransformStream({start:function(){},transform:function(D,N){return(0,Mt.A)((0,Ke.A)().m(function $(){return(0,Ke.A)().w(function(q){for(;;)switch(q.n){case 0:e.update(D),N.enqueue(D);case 1:return q.a(2)}},$)}))()},flush:function(D){return(0,Mt.A)((0,Ke.A)().m(function N(){var q,le;return(0,Ke.A)().w(function(ve){for(;;)switch(ve.n){case 0:return ve.n=1,e.digest();case 1:q=p(ve.v),n!==q?(le=new Error('Checksum mismatch: expected "'.concat(n,'" but received "').concat(q,'"')+' in response header "'.concat(s,'".')),D.error(le)):D.terminate();case 2:return ve.a(2)}},N)}))()}});t.pipeThrough(m);var y=m.readable;return Object.setPrototypeOf(y,XM.prototype),y},WM=function(){var a=(0,Mt.A)(function(r,n){var e=n.checksumAlgorithmFn,t=n.base64Encoder;return(0,Ke.A)().m(function s(){var u;return(0,Ke.A)().w(function(l){for(;;)switch(l.n){case 0:return u=t,l.n=1,x1(e,r);case 1:return l.a(2,u(l.v))}},s)})()});return function(n,e){return a.apply(this,arguments)}}(),YM=function(){var a=(0,Mt.A)(function(r,n){var e=n.config,t=n.responseAlgorithms,s=n.logger;return(0,Ke.A)().m(function u(){var l,c,p,m,y,x,D,N,$,q,le,ve;return(0,Ke.A)().w(function(ge){for(;;)switch(ge.p=ge.n){case 0:l=E1(t),c=r.body,p=r.headers,m=(0,j.A)(l),ge.p=1,m.s();case 2:if((y=m.n()).done){ge.n=11;break}if(D=jg(x=y.value),!(N=p[D])){ge.n=10;break}$=void 0,ge.p=3,$=S1(x,e),ge.n=6;break;case 4:if(ge.p=4,ve=ge.v,x!==pr.CRC64NVME){ge.n=5;break}return s?.warn("Skipping ".concat(pr.CRC64NVME," checksum validation: ").concat(ve.message)),ge.a(3,10);case 5:throw ve;case 6:if(q=e.base64Encoder,!A1(c)){ge.n=7;break}return r.body=qM({expectedChecksum:N,checksumSourceLocation:D,checksum:new $,source:c,base64Encoder:q}),ge.a(2);case 7:return ge.n=8,WM(c,{checksumAlgorithmFn:$,base64Encoder:q});case 8:if((le=ge.v)!==N){ge.n=9;break}return ge.a(3,11);case 9:throw new Error('Checksum mismatch: expected "'.concat(le,'" but received "').concat(N,'"')+' in response header "'.concat(D,'".'));case 10:ge.n=2;break;case 11:ge.n=13;break;case 12:ge.p=12,m.e(ge.v);case 13:return ge.p=13,m.f(),ge.f(13);case 14:return ge.a(2)}},u,null,[[3,4],[1,12,13,14]])})()});return function(n,e){return a.apply(this,arguments)}}(),QM={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Xg=function(r,n){return{applyToStack:function(t){t.add(function(r,n){return function(e,t){return function(){var s=(0,Mt.A)((0,Ke.A)().m(function u(l){var c,p,m,y,x,D,N,$,q,le,ve,Ae,ge,ke,He,ot,dt,Rt,pt;return(0,Ke.A)().w(function(vt){for(;;)switch(vt.n){case 0:if(As.K.isInstance(l.request)){vt.n=1;break}return vt.a(2,e(l));case 1:if(!MM("x-amz-checksum-",l.request.headers)){vt.n=2;break}return vt.a(2,e(l));case 2:return p=l.input,m=(c=l.request).body,y=c.headers,x=r.base64Encoder,D=r.streamHasher,N=n.requestChecksumRequired,$=n.requestAlgorithmMember,vt.n=3,r.requestChecksumCalculation();case 3:if(q=vt.v,le=$?.name,ve=$?.httpHeader,le&&!p[le]&&("WHEN_SUPPORTED"===q||N)&&(p[le]=Lg,ve&&(y[ve]=Lg)),Ae=RM(p,{requestChecksumRequired:N,requestAlgorithmMember:$?.name,requestChecksumCalculation:q}),ge=m,ke=y,!Ae){vt.n=12;break}vt.n=(pt=Ae)===pr.CRC32?4:pt===pr.CRC32C?5:pt===pr.CRC64NVME?6:pt===pr.SHA1?7:pt===pr.SHA256?8:9;break;case 4:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U"),vt.a(3,9);case 5:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V"),vt.a(3,9);case 6:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W"),vt.a(3,9);case 7:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X"),vt.a(3,9);case 8:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y"),vt.a(3,9);case 9:if(He=jg(Ae),ot=S1(Ae,r),!A1(m)){vt.n=10;break}dt=r.bodyLengthChecker,ge=(0,r.getAwsChunkedEncodingStream)("number"==typeof r.requestStreamBufferSize&&r.requestStreamBufferSize>=8192?wM(m,r.requestStreamBufferSize,t.logger):m,{base64Encoder:x,bodyLengthChecker:dt,checksumLocationName:He,checksumAlgorithmFn:ot,streamHasher:D}),delete(ke=(0,_.A)((0,_.A)({},y),{},{"content-encoding":y["content-encoding"]?"".concat(y["content-encoding"],",aws-chunked"):"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":y["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":He}))["content-length"],vt.n=12;break;case 10:if(TM(He,y)){vt.n=12;break}return vt.n=11,x1(ot,m);case 11:Rt=vt.v,ke=(0,_.A)((0,_.A)({},y),{},(0,d.A)({},He,x(Rt)));case 12:return vt.n=13,e((0,_.A)((0,_.A)({},l),{},{request:(0,_.A)((0,_.A)({},c),{},{headers:ke,body:ge})}));case 13:return vt.a(2,vt.v)}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),$M),t.addRelativeTo(function(r,n){return function(e,t){return function(){var s=(0,Mt.A)((0,Ke.A)().m(function u(l){var c,p,m,y,x,D;return(0,Ke.A)().w(function(N){for(;;)switch(N.n){case 0:return c=l.input,p=n.requestValidationModeMember,N.n=1,r.requestChecksumCalculation();case 1:return m=N.v,N.n=2,r.responseChecksumValidation();case 2:y=N.v,N.n="WHEN_REQUIRED"===(x=m)?3:"WHEN_SUPPORTED"===x?4:5;break;case 3:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a"),N.a(3,5);case 4:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z"),N.a(3,5);case 5:N.n="WHEN_REQUIRED"===(D=y)?6:"WHEN_SUPPORTED"===D?7:8;break;case 6:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c"),N.a(3,8);case 7:return(0,mo.J)(t,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b"),N.a(3,8);case 8:return p&&!c[p]&&"WHEN_SUPPORTED"===y&&(c[p]="ENABLED"),N.a(2,e(l))}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),SM),t.addRelativeTo(function(r,n){return function(e,t){return function(){var s=(0,Mt.A)((0,Ke.A)().m(function u(l){var c,p,m,y,x,N;return(0,Ke.A)().w(function(q){for(;;)switch(q.n){case 0:if(As.K.isInstance(l.request)){q.n=1;break}return q.a(2,e(l));case 1:return c=l.input,q.n=2,e(l);case 2:if(m=(p=q.v).response,x=n.responseAlgorithms,!(y=n.requestValidationModeMember)||"ENABLED"!==c[y]){q.n=4;break}if(N=t.commandName,"S3Client"!==t.clientName||"GetObjectCommand"!==N||!E1(x).every(function(le){var ve=jg(le),Ae=m.headers[ve];return!Ae||HM(Ae)})){q.n=3;break}return q.a(2,p);case 3:return q.n=4,YM(m,{config:r,responseAlgorithms:x,logger:t.logger});case 4:return q.a(2,p)}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),QM)}}},D1=b(8310),nI={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},aI=b(1386);function iI(a){return qg.apply(this,arguments)}function qg(){return(qg=(0,Mt.A)((0,Ke.A)().m(function a(r){return(0,Ke.A)().w(function(e){for(;;)if(0===e.n)return"function"==typeof r.stream&&(r=r.stream()),e.a(2,r.tee())},a)}))).apply(this,arguments)}function oI(a,r){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,Mt.A)((0,Ke.A)().m(function a(r,n){var e,t,s,u,l,c,p,m,y,x,D,N,$;return(0,Ke.A)().w(function(q){for(;;)switch(q.n){case 0:e=0,t=[],s=r.getReader(),u=!1;case 1:if(u){q.n=4;break}return q.n=2,s.read();case 2:if(c=(l=q.v).done,(p=l.value)&&(t.push(p),e+=null!==(m=p?.byteLength)&&void 0!==m?m:0),!(e>=n)){q.n=3;break}return q.a(3,4);case 3:u=c,q.n=1;break;case 4:s.releaseLock(),y=new Uint8Array(Math.min(n,e)),x=0,D=0,N=t;case 5:if(!(D<N.length)){q.n=9;break}if(!(($=N[D]).byteLength>y.byteLength-x)){q.n=6;break}return y.set($.subarray(0,y.byteLength-x),x),q.a(3,9);case 6:y.set($,x);case 7:x+=$.length;case 8:D++,q.n=5;break;case 9:return q.a(2,y)}},a)}))).apply(this,arguments)}var sI={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},cI=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,n=arguments.length>1?arguments[1]:void 0;return r instanceof Uint8Array?Promise.resolve(r):n.streamCollector(r)||Promise.resolve(new Uint8Array)},dI={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},ru=function(r){return{applyToStack:function(e){e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,c,p,m,y,D,N,q,le,ve,Ae;return(0,Ke.A)().w(function(ge){for(;;)switch(ge.n){case 0:return ge.n=1,n(u);case 1:if(aI.c.isInstance(p=(c=ge.v).response)){ge.n=2;break}return ge.a(2,c);case 2:if(y=p.body,!((m=p.statusCode)<200||m>=300)){ge.n=3;break}return ge.a(2,c);case 3:if("function"==typeof y?.stream||"function"==typeof y?.pipe||"function"==typeof y?.tee){ge.n=4;break}return ge.a(2,c);case 4:if(D=y,N=y,!y||"object"!=typeof y||y instanceof Uint8Array){ge.n=6;break}return ge.n=5,iI(y);case 5:q=(0,F.A)(ge.v,2),D=q[0],N=q[1];case 6:return p.body=N,ge.n=7,cI(D,{streamCollector:function(){var ke=(0,Mt.A)((0,Ke.A)().m(function ot(at){return(0,Ke.A)().w(function(dt){for(;;)if(0===dt.n)return dt.a(2,oI(at,3e3))},ot)}));return function He(ot){return ke.apply(this,arguments)}}()});case 7:if(le=ge.v,"function"==typeof(null===(l=D)||void 0===l?void 0:l.destroy)&&D.destroy(),ve=r.utf8Encoder(le.subarray(le.length-16)),0!==le.length||!sI[e.commandName]){ge.n=8;break}throw(Ae=new Error("S3 aborted request")).name="InternalError",Ae;case 8:return ve&&ve.endsWith("</Error>")&&(p.statusCode=400),ge.a(2,c)}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),dI)}}},pI={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},lp=function(r){return{applyToStack:function(e){e.add(function fI(a){return function(r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,l,c,p,m,y,x,D;return(0,Ke.A)().w(function(N){for(;;)switch(N.n){case 0:s=(0,_.A)({},t.input),l=0,c=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];case 1:if(!(l<c.length)){N.n=4;break}if(!(m=s[(p=c[l]).target])){N.n=3;break}return y=void 0,"string"==typeof m?mI(m,a)?y=a.base64Decoder(m):(y=a.utf8Decoder(m),s[p.target]=a.base64Encoder(y)):(y=ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m),s[p.target]=a.base64Encoder(y)),(x=new a.md5).update(y),D=a,N.n=2,x.digest();case 2:s[p.hash]=D.base64Encoder.call(D,N.v);case 3:l++,N.n=1;break;case 4:return N.a(2,r((0,_.A)((0,_.A)({},t),{},{input:s})))}},e)}));return function(e){return n.apply(this,arguments)}}()}}(r),pI)}}};function mI(a,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a))return!1;try{return 32===r.base64Decoder(a).length}catch{return!1}}var Yg,au=b(9119),iu=b(7964),ou=b(1852),su={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Yr=b(3181),ja=b(3628),$a=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}(ja.T),gI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"EncryptionTypeMismatch",$fault:"client"},n)]),(0,d.A)(e,"name","EncryptionTypeMismatch"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),vI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"InvalidRequest",$fault:"client"},n)]),(0,d.A)(e,"name","InvalidRequest"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),yI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"InvalidWriteOffset",$fault:"client"},n)]),(0,d.A)(e,"name","InvalidWriteOffset"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),_I=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"TooManyParts",$fault:"client"},n)]),(0,d.A)(e,"name","TooManyParts"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),bI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"IdempotencyParameterMismatch",$fault:"client"},n)]),(0,d.A)(e,"name","IdempotencyParameterMismatch"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),AI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"ObjectAlreadyInActiveTierError",$fault:"client"},n)]),(0,d.A)(e,"name","ObjectAlreadyInActiveTierError"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),w1=function(r){var n="#text";for(var e in r)r.hasOwnProperty(e)&&void 0!==r[e][n]?r[e]=r[e][n]:"object"==typeof r[e]&&null!==r[e]&&(r[e]=w1(r[e]));return r},TI=b(6446),cp=function(r,n){return(0,TI.w)(r,n).then(function(e){if(e.length){var t;try{t=function RI(a){Yg||(Yg=new DOMParser);var r=Yg.parseFromString(a,"application/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");var n=function(t){var s;if(t.nodeType===Node.TEXT_NODE&&null!==(s=t.textContent)&&void 0!==s&&s.trim())return t.textContent;if(t.nodeType===Node.ELEMENT_NODE){var u=t;if(0===u.attributes.length&&0===u.childNodes.length)return"";for(var l={},c=Array.from(u.attributes),p=0,m=c;p<m.length;p++){var y=m[p];l["".concat(y.name)]=y.value}for(var x=Array.from(u.childNodes),D=0,N=x;D<N.length;D++){var $=N[D],q=n($);if(null!=q){var le=$.nodeName;if(1===x.length&&0===c.length&&"#text"===le)return q;l[le]?Array.isArray(l[le])?l[le].push(q):l[le]=[l[le],q]:l[le]=q}else if(1===x.length&&0===c.length)return u.textContent}return l}return null};return(0,d.A)({},r.documentElement.nodeName,n(r.documentElement))}(e)}catch(c){throw c&&"object"==typeof c&&Object.defineProperty(c,"$responseBodyText",{value:e}),c}var s="#text",u=Object.keys(t)[0],l=t[u];return l[s]&&(l[u]=l[s],delete l[s]),w1(l)}return{}})},MI=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:return u.n=1,cp(n,e);case 1:return(t=u.v).Error&&(t.Error.message=null!==(s=t.Error.message)&&void 0!==s?s:t.Error.Message),u.a(2,t)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),II=function(r,n){var e;return void 0!==(null==n||null===(e=n.Error)||void 0===e?void 0:e.Code)?n.Error.Code:void 0!==n?.Code?n.Code:404==r.statusCode?"NotFound":void 0};function VI(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var OI=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"value",void 0),this.value=r},[{key:"toString",value:function(){return function NI(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}(""+this.value)}}])}(),wl=function(){function a(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,v.A)(this,a),(0,d.A)(this,"name",void 0),(0,d.A)(this,"children",void 0),(0,d.A)(this,"attributes",{}),this.name=r,this.children=n}return(0,g.A)(a,[{key:"withName",value:function(n){return this.name=n,this}},{key:"addAttribute",value:function(n,e){return this.attributes[n]=e,this}},{key:"addChildNode",value:function(n){return this.children.push(n),this}},{key:"removeAttribute",value:function(n){return delete this.attributes[n],this}},{key:"n",value:function(n){return this.name=n,this}},{key:"c",value:function(n){return this.children.push(n),this}},{key:"a",value:function(n,e){return null!=e&&(this.attributes[n]=e),this}},{key:"cc",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null!=n[e]){var s=a.of(e,n[e]).withName(t);this.c(s)}}},{key:"l",value:function(n,e,t,s){var u=this;null!=n[e]&&s().map(function(c){c.withName(t),u.c(c)})}},{key:"lc",value:function(n,e,t,s){if(null!=n[e]){var u=s(),l=new a(t);u.map(function(c){l.c(c)}),this.c(l)}}},{key:"toString",value:function(){for(var n=!!this.children.length,e="<".concat(this.name),t=this.attributes,s=0,u=Object.keys(t);s<u.length;s++){var l=u[s],c=t[l];null!=c&&(e+=" ".concat(l,'="').concat(VI(""+c),'"'))}return e+(n?">".concat(this.children.map(function(p){return p.toString()}).join(""),"</").concat(this.name,">"):"/>")}}],[{key:"of",value:function(n,e,t){var s=new a(n);return void 0!==e&&s.addChildNode(new OI(e)),void 0!==t&&s.withName(t),s}}])}();function dp(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}function uu(a,r){return new LI(a,r)}var LI=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"input",void 0),(0,d.A)(this,"context",void 0),(0,d.A)(this,"query",{}),(0,d.A)(this,"method",""),(0,d.A)(this,"headers",{}),(0,d.A)(this,"path",""),(0,d.A)(this,"body",null),(0,d.A)(this,"hostname",""),(0,d.A)(this,"resolvePathStack",[]),this.input=r,this.context=n},[{key:"build",value:(r=(0,Mt.A)((0,Ke.A)().m(function e(){var t,s,u,l,c,m,y;return(0,Ke.A)().w(function(D){for(;;)switch(D.n){case 0:return D.n=1,this.context.endpoint();case 1:s=(t=D.v).hostname,l=void 0===(u=t.protocol)?"https":u,c=t.port,this.path=t.path,m=(0,j.A)(this.resolvePathStack);try{for(m.s();!(y=m.n()).done;)(0,y.value)(this.path)}catch(N){m.e(N)}finally{m.f()}return D.a(2,new As.K({protocol:l,hostname:this.hostname||s,port:c,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers}))}},e,this)})),function n(){return r.apply(this,arguments)})},{key:"hn",value:function(n){return this.hostname=n,this}},{key:"bp",value:function(n){var e=this;return this.resolvePathStack.push(function(t){e.path="".concat(null!=t&&t.endsWith("/")?t.slice(0,-1):t||"")+n}),this}},{key:"p",value:function(n,e,t,s){var u=this;return this.resolvePathStack.push(function(l){u.path=function(r,n,e,t,s,u){if(null==n||void 0===n[e])throw new Error("No value provided for input HTTP label: "+e+".");var l=t();if(l.length<=0)throw new Error("Empty value provided for input HTTP label: "+e+".");return r.replace(s,u?l.split("/").map(function(c){return dp(c)}).join("/"):dp(l))}(l,u.input,n,e,t,s)}),this}},{key:"h",value:function(n){return this.headers=n,this}},{key:"q",value:function(n){return this.query=n,this}},{key:"b",value:function(n){return this.body=n,this}},{key:"m",value:function(n){return this.method=n,this}}]);var r}(),On=b(9286),ra=function(r){return null!=r},vd=b(2723),Mn=b(9176),F1=function(r){return r.toISOString().replace(".000Z","Z")},fp=b(7622),UI=b(1987),GI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"NoSuchUpload",$fault:"client"},n)]),(0,d.A)(e,"name","NoSuchUpload"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),$I=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"ObjectNotInActiveTierError",$fault:"client"},n)]),(0,d.A)(e,"name","ObjectNotInActiveTierError"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),zI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"BucketAlreadyExists",$fault:"client"},n)]),(0,d.A)(e,"name","BucketAlreadyExists"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),HI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"BucketAlreadyOwnedByYou",$fault:"client"},n)]),(0,d.A)(e,"name","BucketAlreadyOwnedByYou"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),KI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"NoSuchBucket",$fault:"client"},n)]),(0,d.A)(e,"name","NoSuchBucket"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),WI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"InvalidObjectState",$fault:"client"},n)]),(0,d.A)(e,"name","InvalidObjectState"),(0,d.A)(e,"$fault","client"),(0,d.A)(e,"StorageClass",void 0),(0,d.A)(e,"AccessTier",void 0),Object.setPrototypeOf(e,r.prototype),e.StorageClass=n.StorageClass,e.AccessTier=n.AccessTier,e}return(0,P.A)(r,a),(0,g.A)(r)}($a),YI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"NoSuchKey",$fault:"client"},n)]),(0,d.A)(e,"name","NoSuchKey"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),QI=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[(0,_.A)({name:"NotFound",$fault:"client"},n)]),(0,d.A)(e,"name","NotFound"),(0,d.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}($a),nV=function(r){return(0,_.A)((0,_.A)((0,_.A)({},r),r.SecretAccessKey&&{SecretAccessKey:Yr.$}),r.SessionToken&&{SessionToken:Yr.$})},fV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u;return(0,Ke.A)().w(function(c){for(;;)if(0===c.n)return t=uu(n,e),s=(0,On.Tj)({},ra,(0,d.A)((0,d.A)((0,d.A)({},fc,n[Zl]),dc,n[Gl]),S5,[function(){return ra(n[J1])},function(){return(0,vd.JV)(n[J1]).toString()}])),t.bp("/{Key+}"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),t.p("Key",function(){return n.Key},"{Key+}",!0),u=(0,On.Tj)((0,d.A)((0,d.A)({},A0,[,"AbortMultipartUpload"]),y0,[,(0,Mn.Y0)(n[Qo],"UploadId")])),t.m("DELETE").h(s).q(u).b(void 0),c.a(2,t.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),pV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,c,p;return(0,Ke.A)().w(function(m){for(;;)if(0===m.n)return s=uu(n,e),u=(0,On.Tj)({},ra,((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t={"content-type":"application/xml"},Ad,n[Sr]),Cd,n[xr]),Sd,n[Er]),xd,n[Dr]),Ed,n[wr]),am,n[Br]),x5,[function(){return ra(n[tC])},function(){return n[tC].toString()}]),fc,n[Zl]),dc,n[Gl]),xC,n[Q1]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,EC,n[Z1]),Bu,n[Iu]),im,n[Wp]),Lu,n[Vu]))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,On.Tj)((0,d.A)({},y0,[,(0,Mn.Y0)(n[Qo],"UploadId")])),void 0!==n.MultipartUpload&&(p=(p=nN(n.MultipartUpload,e)).n("CompleteMultipartUpload"),c=DC,p.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=p.toString()),s.m("POST").h(u).q(l).b(c),m.a(2,s.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),mV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l;return(0,Ke.A)().w(function(p){for(;;)if(0===p.n)return s=uu(n,e),u=(0,On.Tj)({},ra,(0,_.A)((0,_.A)({},void 0!==n.Metadata&&Object.keys(n.Metadata).reduce(function(m,y){return m["x-amz-meta-".concat(y.toLowerCase())]=n.Metadata[y],m},{})),{},((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t={},FC,n[L1]),gC,n[U1]),vC,n[G1]),yC,n[j1]),_C,n[$1]),AC,n[z1]),CC,[function(){return ra(n[vp])},function(){return(0,vd.JV)(n[vp]).toString()}]),TC,n[K1]),MC,n[X1]),IC,n[q1]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,VC,n[W1]),xs,n[_o]),UC,n[Wn]),jC,n[hC]),Bu,n[Iu]),im,n[Wp]),Lu,n[Vu]),Es,n[ro]),pc,n[ac]),bi,[function(){return ra(n[ca])},function(){return n[ca].toString()}]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,fc,n[Zl]),GC,n[oc]),OC,n[nC]),BC,[function(){return ra(n[Vp])},function(){return F1(n[Vp]).toString()}]),NC,n[Wv]),dc,n[Gl]),PC,n[Ra]),am,n[Br])))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,On.Tj)((0,d.A)({},_5,[,""])),s.m("POST").h(u).q(l).b(void 0),p.a(2,s.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),hV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u;return(0,Ke.A)().w(function(c){for(;;)if(0===c.n)return t=uu(n,e),s=(0,On.Tj)({},ra,(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)({},C5,n[e5]),xs,n[_o]),Es,n[ro]),pc,n[ac]),bi,[function(){return ra(n[ca])},function(){return n[ca].toString()}])),t.bp("/"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),u=(0,On.Tj)((0,d.A)({},v5,[,""])),t.m("GET").h(s).q(u).b(void 0),c.a(2,t.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),gV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,c;return(0,Ke.A)().w(function(m){for(;;)if(0===m.n)return s=uu(n,e),u=(0,On.Tj)({},ra,(0,_.A)((0,_.A)({},void 0!==n.Metadata&&Object.keys(n.Metadata).reduce(function(y,x){return y["x-amz-meta-".concat(x.toLowerCase())]=n.Metadata[x],y},{})),{},((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t={},AC,n[z1]||"application/octet-stream"),FC,n[L1]),gC,n[U1]),vC,n[G1]),yC,n[j1]),_C,n[$1]),bC,[function(){return ra(n[gp])},function(){return n[gp].toString()}]),v0,n[gv]),_0,n[Ra]),Ad,n[Sr]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,Cd,n[xr]),Sd,n[Er]),xd,n[Dr]),Ed,n[wr]),CC,[function(){return ra(n[vp])},function(){return(0,vd.JV)(n[vp]).toString()}]),xC,n[Q1]),EC,n[Z1]),TC,n[K1]),MC,n[X1]),IC,n[q1]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,VC,n[W1]),E5,[function(){return ra(n[mC])},function(){return n[mC].toString()}]),xs,n[_o]),UC,n[Wn]),jC,n[hC]),Bu,n[Iu]),im,n[Wp]),Lu,n[Vu]),Es,n[ro]),pc,n[ac]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,bi,[function(){return ra(n[ca])},function(){return n[ca].toString()}]),fc,n[Zl]),GC,n[oc]),OC,n[nC]),BC,[function(){return ra(n[Vp])},function(){return F1(n[Vp]).toString()}]),NC,n[Wv]),dc,n[Gl])))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,On.Tj)((0,d.A)({},A0,[,"PutObject"])),void 0!==n.Body&&(c=n.Body),s.m("PUT").h(u).q(l).b(c),m.a(2,s.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),vV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,c;return(0,Ke.A)().w(function(p){for(;;)if(0===p.n)return t=uu(n,e),s=(0,On.Tj)({},ra,(0,d.A)((0,d.A)((0,d.A)((0,d.A)({"content-type":"application/xml"},v0,n[gv]),_0,n[Ra]),dc,n[Gl]),fc,n[Zl])),t.bp("/{Key+}"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),t.p("Key",function(){return n.Key},"{Key+}",!0),u=(0,On.Tj)((0,d.A)((0,d.A)({},y5,[,""]),b5,[,n[ia]])),void 0!==n.Tagging&&(c=I1(n.Tagging,e),l=DC,c.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),l+=c.toString()),t.m("PUT").h(s).q(u).b(l),p.a(2,t.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),yV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,c;return(0,Ke.A)().w(function(m){for(;;)if(0===m.n)return s=uu(n,e),u=(0,On.Tj)({},ra,((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t={"content-type":"application/octet-stream"},bC,[function(){return ra(n[gp])},function(){return n[gp].toString()}]),v0,n[gv]),_0,n[Ra]),Ad,n[Sr]),Cd,n[xr]),Sd,n[Er]),xd,n[Dr]),Ed,n[wr]),Bu,n[Iu]),im,n[Wp]),(0,d.A)((0,d.A)((0,d.A)(t,Lu,n[Vu]),fc,n[Zl]),dc,n[Gl]))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,On.Tj)((0,d.A)((0,d.A)((0,d.A)({},A0,[,"UploadPart"]),g5,[null!=(0,Mn.Y0)(n.PartNumber,"PartNumber"),function(){return n[no].toString()}]),y0,[,(0,Mn.Y0)(n[Qo],"UploadId")])),void 0!==n.Body&&(c=n.Body),s.m("PUT").h(u).q(l).b(c),m.a(2,s.build())},r)}));return function(n,e){return a.apply(this,arguments)}}(),_V=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t;return(0,Ke.A)().w(function(s){for(;;)switch(s.n){case 0:if(!(204!==n.statusCode&&n.statusCode>=300)){s.n=1;break}return s.a(2,lu(n,e));case 1:return t=(0,On.Tj)((0,d.A)({$metadata:zr(n)},bd,[,n.headers[Dd]])),s.n=2,(0,fp.P)(n.body,e);case 2:return s.a(2,t)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),bV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l;return(0,Ke.A)().w(function(c){for(;;)switch(c.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){c.n=1;break}return c.a(2,lu(n,e));case 1:return t=(0,On.Tj)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)({$metadata:zr(n)},Da,[,n.headers[RC]]),_o,[,n.headers[xs]]),ia,[,n.headers[b0]]),ro,[,n.headers[Es]]),ca,[function(){return void 0!==n.headers[bi]},function(){return(0,Mn.yG)(n.headers[bi])}]),bd,[,n.headers[Dd]])),u=Mn.Y0,l=Mn.Xk,c.n=2,cp(n.body,e);case 2:return null!=(s=u(l(c.v),"body"))[or]&&(t[or]=(0,Mn.lK)(s[or])),null!=s[Sr]&&(t[Sr]=(0,Mn.lK)(s[Sr])),null!=s[xr]&&(t[xr]=(0,Mn.lK)(s[xr])),null!=s[Er]&&(t[Er]=(0,Mn.lK)(s[Er])),null!=s[Dr]&&(t[Dr]=(0,Mn.lK)(s[Dr])),null!=s[wr]&&(t[wr]=(0,Mn.lK)(s[wr])),null!=s[Br]&&(t[Br]=(0,Mn.lK)(s[Br])),null!=s[Lr]&&(t[Lr]=(0,Mn.lK)(s[Lr])),null!=s[_n]&&(t[_n]=(0,Mn.lK)(s[_n])),null!=s[Yl]&&(t[Yl]=(0,Mn.lK)(s[Yl])),c.a(2,t)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),AV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,c;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){p.n=1;break}return p.a(2,lu(n,e));case 1:return s=(0,On.Tj)((t={$metadata:zr(n)},(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,BB,[function(){return void 0!==n.headers[kC]},function(){return(0,Mn.Y0)((0,vd.xE)(n.headers[kC]))}]),jB,[,n.headers[A5]]),_o,[,n.headers[xs]]),Iu,[,n.headers[Bu]]),Vu,[,n.headers[Lu]]),ro,[,n.headers[Es]]),ac,[,n.headers[pc]]),ca,[function(){return void 0!==n.headers[bi]},function(){return(0,Mn.yG)(n.headers[bi])}]),bd,[,n.headers[Dd]]),Ra,[,n.headers[PC]]),(0,d.A)(t,Br,[,n.headers[am]]))),l=Mn.Y0,c=Mn.Xk,p.n=2,cp(n.body,e);case 2:return null!=(u=l(c(p.v),"body"))[or]&&(s[or]=(0,Mn.lK)(u[or])),null!=u[_n]&&(s[_n]=(0,Mn.lK)(u[_n])),null!=u[Qo]&&(s[Qo]=(0,Mn.lK)(u[Qo])),p.a(2,s)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),CV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l;return(0,Ke.A)().w(function(c){for(;;)switch(c.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){c.n=1;break}return c.a(2,lu(n,e));case 1:return t=(0,On.Tj)((0,d.A)((0,d.A)((0,d.A)((0,d.A)({$metadata:zr(n)},_o,[,n.headers[xs]]),ro,[,n.headers[Es]]),ac,[,n.headers[pc]]),ca,[function(){return void 0!==n.headers[bi]},function(){return(0,Mn.yG)(n.headers[bi])}])),u=Mn.Y0,l=Mn.Xk,c.n=2,cp(n.body,e);case 2:return null!=(s=u(l(c.v),"body"))[fv]&&(t[fv]=vB(s[fv],e)),c.a(2,t)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),SV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){u.n=1;break}return u.a(2,lu(n,e));case 1:return s=(0,On.Tj)((t={$metadata:zr(n)},(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,Da,[,n.headers[RC]]),Lr,[,n.headers[SC]]),Sr,[,n.headers[Ad]]),xr,[,n.headers[Cd]]),Er,[,n.headers[Sd]]),Dr,[,n.headers[xd]]),wr,[,n.headers[Ed]]),Br,[,n.headers[am]]),_o,[,n.headers[xs]]),ia,[,n.headers[b0]]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,Iu,[,n.headers[Bu]]),Vu,[,n.headers[Lu]]),ro,[,n.headers[Es]]),ac,[,n.headers[pc]]),ca,[function(){return void 0!==n.headers[bi]},function(){return(0,Mn.yG)(n.headers[bi])}]),wa,[function(){return void 0!==n.headers[LC]},function(){return(0,Mn.V0)(n.headers[LC])}]),bd,[,n.headers[Dd]]))),u.n=2,(0,fp.P)(n.body,e);case 2:return u.a(2,s)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),xV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t;return(0,Ke.A)().w(function(s){for(;;)switch(s.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){s.n=1;break}return s.a(2,lu(n,e));case 1:return t=(0,On.Tj)((0,d.A)({$metadata:zr(n)},ia,[,n.headers[b0]])),s.n=2,(0,fp.P)(n.body,e);case 2:return s.a(2,t)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),EV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){u.n=1;break}return u.a(2,lu(n,e));case 1:return s=(0,On.Tj)((t={$metadata:zr(n)},(0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)((0,d.A)(t,_o,[,n.headers[xs]]),Lr,[,n.headers[SC]]),Sr,[,n.headers[Ad]]),xr,[,n.headers[Cd]]),Er,[,n.headers[Sd]]),Dr,[,n.headers[xd]]),wr,[,n.headers[Ed]]),Iu,[,n.headers[Bu]]),Vu,[,n.headers[Lu]]),ro,[,n.headers[Es]]),(0,d.A)((0,d.A)(t,ca,[function(){return void 0!==n.headers[bi]},function(){return(0,Mn.yG)(n.headers[bi])}]),bd,[,n.headers[Dd]]))),u.n=2,(0,fp.P)(n.body,e);case 2:return u.a(2,s)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),lu=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,l,c,p,y;return(0,Ke.A)().w(function(x){for(;;)switch(x.n){case 0:return l=_.A,c=(0,_.A)({},n),p={},x.n=1,MI(n.body,e);case 1:t=l(c,p,{body:x.v}),s=II(n,t.body),x.n="NoSuchUpload"===(y=s)||"com.amazonaws.s3#NoSuchUpload"===y?2:"ObjectNotInActiveTierError"===y||"com.amazonaws.s3#ObjectNotInActiveTierError"===y?4:"BucketAlreadyExists"===y||"com.amazonaws.s3#BucketAlreadyExists"===y?6:"BucketAlreadyOwnedByYou"===y||"com.amazonaws.s3#BucketAlreadyOwnedByYou"===y?8:"NoSuchBucket"===y||"com.amazonaws.s3#NoSuchBucket"===y?10:"InvalidObjectState"===y||"com.amazonaws.s3#InvalidObjectState"===y?12:"NoSuchKey"===y||"com.amazonaws.s3#NoSuchKey"===y?14:"NotFound"===y||"com.amazonaws.s3#NotFound"===y?16:"EncryptionTypeMismatch"===y||"com.amazonaws.s3#EncryptionTypeMismatch"===y?18:"InvalidRequest"===y||"com.amazonaws.s3#InvalidRequest"===y?20:"InvalidWriteOffset"===y||"com.amazonaws.s3#InvalidWriteOffset"===y?22:"TooManyParts"===y||"com.amazonaws.s3#TooManyParts"===y?24:"IdempotencyParameterMismatch"===y||"com.amazonaws.s3#IdempotencyParameterMismatch"===y?26:"ObjectAlreadyInActiveTierError"===y||"com.amazonaws.s3#ObjectAlreadyInActiveTierError"===y?28:30;break;case 2:return x.n=3,NV(t,e);case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 29:throw x.v;case 4:return x.n=5,LV(t,e);case 6:return x.n=7,wV(t,e);case 8:return x.n=9,FV(t,e);case 10:return x.n=11,IV(t,e);case 12:return x.n=13,RV(t,e);case 14:return x.n=15,VV(t,e);case 16:return x.n=17,OV(t,e);case 18:return x.n=19,kV(t,e);case 20:return x.n=21,TV(t,e);case 22:return x.n=23,MV(t,e);case 24:return x.n=25,UV(t,e);case 26:return x.n=27,PV(t,e);case 28:return x.n=29,BV(t,e);case 30:return x.a(2,DV({output:n,parsedBody:t.body,errorCode:s}));case 31:return x.a(2)}},r)}));return function(n,e){return a.apply(this,arguments)}}(),DV=(0,UI.j)($a),wV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new zI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),FV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new HI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),kV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new gI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),PV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new bI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),RV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),null!=(s=n.body)[Ho]&&(t[Ho]=(0,Mn.lK)(s[Ho])),null!=s[Wn]&&(t[Wn]=(0,Mn.lK)(s[Wn])),u=new WI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),TV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new vI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),MV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new yI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),IV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new KI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),VV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new YI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),NV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new GI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),OV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new QI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),BV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new AI((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),LV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new $I((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),UV=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,On.Tj)({}),u=new _I((0,_.A)({$metadata:zr(n)},t)),l.a(2,(0,ja.M)(u,n.body))},r)}));return function(n,e){return a.apply(this,arguments)}}(),nN=function(r,n){var e=new wl(e8);return e.l(r,"Parts","Part",function(){return aN(r[Jv],n)}),e},aN=function(r,n){return r.filter(function(e){return null!=e}).map(function(e){var t=function(r){var e=new wl(a8);return e.cc(r,Lr),e.cc(r,Sr),e.cc(r,xr),e.cc(r,Er),e.cc(r,Dr),e.cc(r,wr),null!=r[no]&&e.c(wl.of(no,String(r[no])).n(no)),e}(e);return t.n(oa)})},I1=function(r,n){var e=new wl(oc);return e.lc(r,"TagSet","TagSet",function(){return cu(r[d5],n)}),e},cu=function(r,n){return r.filter(function(e){return null!=e}).map(function(e){return function(r){var e=new wl(Fn);return null!=r[_n]&&e.c(wl.of(qv,r[_n]).n(_n)),e.cc(r,_i),e}(e).n(Fn)})},vB=function(r,n){var e={};return null!=r[iv]&&(e[iv]=(0,Mn.lK)(r[iv])),null!=r[n0]&&(e[n0]=(0,Mn.lK)(r[n0])),null!=r[u0]&&(e[u0]=(0,Mn.lK)(r[u0])),null!=r[Da]&&(e[Da]=(0,Mn.Y0)((0,vd.t_)(r[Da]))),e},zr=function(r){var n,e;return{httpStatusCode:r.statusCode,requestId:null!==(n=null!==(e=r.headers["x-amzn-requestid"])&&void 0!==e?e:r.headers["x-amzn-request-id"])&&void 0!==n?n:r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}},L1="ACL",BB="AbortDate",iv="AccessKeyId",jB="AbortRuleId",Ho="AccessTier",or="Bucket",ca="BucketKeyEnabled",fv="Credentials",Ra="ChecksumAlgorithm",U1="CacheControl",Sr="ChecksumCRC32",xr="ChecksumCRC32C",Er="ChecksumCRC64NVME",G1="ContentDisposition",j1="ContentEncoding",$1="ContentLanguage",gp="ContentLength",gv="ContentMD5",e8="CompletedMultipartUpload",a8="CompletedPart",Dr="ChecksumSHA1",wr="ChecksumSHA256",Br="ChecksumType",z1="ContentType",vp="Expires",Gl="ExpectedBucketOwner",Lr="ETag",Da="Expiration",K1="GrantFullControl",X1="GrantRead",q1="GrantReadACP",W1="GrantWriteACP",Q1="IfMatch",J1="IfMatchInitiatedTime",Z1="IfNoneMatch",_n="Key",Yl="Location",tC="MpuObjectSize",qv="ObjectKey",Wv="ObjectLockLegalHoldStatus",nC="ObjectLockMode",Vp="ObjectLockRetainUntilDate",no="PartNumber",Jv="Parts",bd="RequestCharged",Zl="RequestPayer",n0="SecretAccessKey",Wn="StorageClass",e5="SessionMode",_o="ServerSideEncryption",Iu="SSECustomerAlgorithm",Wp="SSECustomerKey",Vu="SSECustomerKeyMD5",ac="SSEKMSEncryptionContext",ro="SSEKMSKeyId",u0="SessionToken",wa="Size",oc="Tagging",d5="TagSet",Fn="Tag",Qo="UploadId",ia="VersionId",_i="Value",mC="WriteOffsetBytes",hC="WebsiteRedirectLocation",gC="cache-control",vC="content-disposition",yC="content-encoding",_C="content-language",bC="content-length",v0="content-md5",AC="content-type",CC="expires",SC="etag",xC="if-match",EC="if-none-match",oa="member",g5="partNumber",v5="session",y5="tagging",_5="uploads",y0="uploadId",b5="versionId",DC='<?xml version="1.0" encoding="UTF-8"?>',FC="x-amz-acl",kC="x-amz-abort-date",A5="x-amz-abort-rule-id",PC="x-amz-checksum-algorithm",Ad="x-amz-checksum-crc32",Cd="x-amz-checksum-crc32c",Sd="x-amz-checksum-crc64nvme",xd="x-amz-checksum-sha1",Ed="x-amz-checksum-sha256",C5="x-amz-create-session-mode",am="x-amz-checksum-type",RC="x-amz-expiration",dc="x-amz-expected-bucket-owner",TC="x-amz-grant-full-control",MC="x-amz-grant-read",IC="x-amz-grant-read-acp",VC="x-amz-grant-write-acp",S5="x-amz-if-match-initiated-time",x5="x-amz-mp-object-size",NC="x-amz-object-lock-legal-hold",OC="x-amz-object-lock-mode",BC="x-amz-object-lock-retain-until-date",LC="x-amz-object-size",Dd="x-amz-request-charged",fc="x-amz-request-payer",UC="x-amz-storage-class",_0="x-amz-sdk-checksum-algorithm",xs="x-amz-server-side-encryption",Es="x-amz-server-side-encryption-aws-kms-key-id",bi="x-amz-server-side-encryption-bucket-key-enabled",pc="x-amz-server-side-encryption-context",Bu="x-amz-server-side-encryption-customer-algorithm",im="x-amz-server-side-encryption-customer-key",Lu="x-amz-server-side-encryption-customer-key-md5",GC="x-amz-tagging",b0="x-amz-version-id",E5="x-amz-write-offset-bytes",jC="x-amz-website-redirect-location",A0="x-id",$C=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),Xg(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),{applyToStack:function(e){e.add(function tI(){return function(a,r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,u,l;return(0,Ke.A)().w(function(c){for(;;)if(0===c.n)return As.K.isInstance(s=t.request)&&!("content-length"in s.headers)&&!("x-amz-decoded-content-length"in s.headers)&&(l="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.","function"!=typeof(null==r||null===(u=r.logger)||void 0===u?void 0:u.warn)||r.logger instanceof D1.N?console.warn(l):r.logger.warn(l)),c.a(2,a((0,_.A)({},t)))},e)}));return function(e){return n.apply(this,arguments)}}()}}(),nI)}},ru(n),lp(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(function(r){return(0,_.A)((0,_.A)((0,_.A)((0,_.A)({},r),r.SSECustomerKey&&{SSECustomerKey:Yr.$}),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yr.$})},function(r){return(0,_.A)((0,_.A)((0,_.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yr.$})}).ser(gV).de(SV).build()),D5=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),ru(n),lp(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(function(r){return(0,_.A)((0,_.A)((0,_.A)((0,_.A)({},r),r.SSECustomerKey&&{SSECustomerKey:Yr.$}),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yr.$})},function(r){return(0,_.A)((0,_.A)((0,_.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yr.$})}).ser(mV).de(AV).build()),w5=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),ru(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(fV).de(_V).build()),F5=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),Xg(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ru(n),lp(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(function(r){return(0,_.A)((0,_.A)({},r),r.SSECustomerKey&&{SSECustomerKey:Yr.$})},function(r){return(0,_.A)((0,_.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$})}).ser(yV).de(EV).build()),k5=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),ru(n),lp(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(function(r){return(0,_.A)((0,_.A)({},r),r.SSECustomerKey&&{SSECustomerKey:Yr.$})},function(r){return(0,_.A)((0,_.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$})}).ser(pV).de(bV).build()),P5=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{Bucket:{type:"contextParams",name:"Bucket"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),Xg(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ru(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(vV).de(xV).build()),R5=function(){return(0,g.A)(function a(){(0,v.A)(this,a),(0,d.A)(this,"onabort",null),(0,d.A)(this,"_aborted",!1),Object.defineProperty(this,"_aborted",{value:!1,writable:!0})},[{key:"aborted",get:function(){return this._aborted}},{key:"abort",value:function(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}])}(),T5=function(){return(0,g.A)(function a(){(0,v.A)(this,a),(0,d.A)(this,"signal",new R5)},[{key:"abort",value:function(){this.signal.abort()}}])}(),M5=b(4266),zC=b(1522),C0=b(4339),Ds=b(163),om=(0,_.A)((0,_.A)({},{lstatSync:function(){},isFileReadStream:function(r){return!1}}),{},{runtime:"browser"}),sm=function(r){if(null==r)return 0;if("string"==typeof r)return Ds.Buffer.byteLength(r);if("number"==typeof r.byteLength)return r.byteLength;if("number"==typeof r.length)return r.length;if("number"==typeof r.size)return r.size;if("number"==typeof r.start&&"number"==typeof r.end)return r.end+1-r.start;if(om.isFileReadStream(r))try{return om.lstatSync(r.path).size}catch{return}},Jo=function(a){return a.EMPTY_INPUT="a null or undefined Body",a.CONTENT_LENGTH="the ContentLength property of the params set by the caller",a.STRING_LENGTH="the encoded byte length of the Body string",a.TYPED_ARRAY="the byteLength of a typed byte array such as Uint8Array",a.LENGTH="the value of Body.length",a.SIZE="the value of Body.size",a.START_END_DIFF="the numeric difference between Body.start and Body.end",a.LSTAT="the size of the file given by Body.path on disk as reported by lstatSync",a}(Jo||{}),N5=b(4834);function HC(a,r){this.v=a,this.k=r}function Ia(a){return new HC(a,0)}function bo(a){return function(){return new wd(a.apply(this,arguments))}}function wd(a){var r,n;function e(s,u){try{var l=a[s](u),c=l.value,p=c instanceof HC;Promise.resolve(p?c.v:c).then(function(m){if(p){var y="return"===s?"return":"next";if(!c.k||m.done)return e(y,m);m=a[y](m).value}t(l.done?"return":"normal",m)},function(m){e("throw",m)})}catch(m){t("throw",m)}}function t(s,u){switch(s){case"return":r.resolve({value:u,done:!0});break;case"throw":r.reject(u);break;default:r.resolve({value:u,done:!1})}(r=r.next)?e(r.key,r.arg):n=null}this._invoke=function(s,u){return new Promise(function(l,c){var p={key:s,arg:u,resolve:l,reject:c,next:null};n?n=n.next=p:(r=n=p,e(s,u))})},"function"!=typeof a.return&&(this.return=void 0)}function S0(a,r,n){return x0.apply(this,arguments)}function x0(){return(x0=bo((0,Ke.A)().m(function a(r,n,e){var t,s,u,l,c,p,m,y,x;return(0,Ke.A)().w(function(N){for(;;)switch(N.p=N.n){case 0:t=1,s={chunks:[],length:0},u=!1,l=!1,N.p=1,p=nu(e(r));case 2:return N.n=3,Ia(p.next());case 3:if(!(u=!(m=N.v).done)){N.n=7;break}s.chunks.push(y=m.value),s.length+=y.byteLength;case 4:if(!(s.length>n)){N.n=6;break}return x=s.chunks.length>1?Ds.Buffer.concat(s.chunks):s.chunks[0],N.n=5,{partNumber:t,data:x.subarray(0,n)};case 5:s.chunks=[x.subarray(n)],s.length=s.chunks[0].byteLength,t+=1,N.n=4;break;case 6:u=!1,N.n=2;break;case 7:N.n=9;break;case 8:N.p=8,l=!0,c=N.v;case 9:if(N.p=9,N.p=10,!u||null==p.return){N.n=11;break}return N.n=11,Ia(p.return());case 11:if(N.p=11,!l){N.n=12;break}throw c;case 12:return N.f(11);case 13:return N.f(9);case 14:return N.n=15,{partNumber:t,data:1!==s.chunks.length?Ds.Buffer.concat(s.chunks):s.chunks[0],lastPart:!0};case 15:return N.a(2)}},a,null,[[10,,11,13],[1,8,9,14]])}))).apply(this,arguments)}function KC(a,r){return E0.apply(this,arguments)}function E0(){return(E0=bo((0,Ke.A)().m(function a(r,n){var e,t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:e=1,t=0,s=n;case 1:if(!(s<r.byteLength)){u.n=3;break}return u.n=2,{partNumber:e,data:r.subarray(t,s)};case 2:e+=1,s=(t=s)+n,u.n=1;break;case 3:return u.n=4,{partNumber:e,data:r.subarray(t),lastPart:!0};case 4:return u.a(2)}},a)}))).apply(this,arguments)}function O5(a){return D0.apply(this,arguments)}function D0(){return(D0=bo((0,Ke.A)().m(function a(r){var n,e,t,s,u,l;return(0,Ke.A)().w(function(p){for(;;)switch(p.p=p.n){case 0:n=!1,e=!1,p.p=1,s=nu(r);case 2:return p.n=3,Ia(s.next());case 3:if(!(n=!(u=p.v).done)){p.n=7;break}if(!(Ds.Buffer.isBuffer(l=u.value)||l instanceof Uint8Array)){p.n=5;break}return p.n=4,l;case 4:p.n=6;break;case 5:return p.n=6,Ds.Buffer.from(l);case 6:n=!1,p.n=2;break;case 7:p.n=9;break;case 8:p.p=8,e=!0,t=p.v;case 9:if(p.p=9,p.p=10,!n||null==s.return){p.n=11;break}return p.n=11,Ia(s.return());case 11:if(p.p=11,!e){p.n=12;break}throw t;case 12:return p.f(11);case 13:return p.f(9);case 14:return p.a(2)}},a,null,[[10,,11,13],[1,8,9,14]])}))).apply(this,arguments)}function XC(a){return w0.apply(this,arguments)}function w0(){return(w0=bo((0,Ke.A)().m(function a(r){var n,e,s;return(0,Ke.A)().w(function(l){for(;;)switch(l.p=l.n){case 0:n=r.getReader(),l.p=1;case 2:return l.n=3,Ia(n.read());case 3:if(s=(e=l.v).value,!e.done){l.n=4;break}return l.a(2);case 4:if(!(Ds.Buffer.isBuffer(s)||s instanceof Uint8Array)){l.n=6;break}return l.n=5,s;case 5:l.n=7;break;case 6:return l.n=7,Ds.Buffer.from(s);case 7:l.n=2;break;case 8:l.n=10;break;case 9:throw l.p=9,l.v;case 10:return l.p=10,n.releaseLock(),l.f(10);case 11:return l.a(2)}},a,null,[[1,9,10,11]])}))).apply(this,arguments)}wd.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},wd.prototype.next=function(a){return this._invoke("next",a)},wd.prototype.throw=function(a){return this._invoke("throw",a)},wd.prototype.return=function(a){return this._invoke("return",a)};var B5=function(r,n){if(r instanceof Uint8Array)return KC(r,n);if(r instanceof N5.Readable)return S0(r,n,O5);if(r instanceof String||"string"==typeof r)return KC(Ds.Buffer.from(r),n);if("function"==typeof r.stream)return S0(r.stream(),n,XC);if(r instanceof ReadableStream)return S0(r,n,XC);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},L5=function(){var a=function(r){function n(e){var t,s,u;if((0,v.A)(this,n),u=(0,w.A)(this,n),(0,d.A)(u,"MAX_PARTS",1e4),(0,d.A)(u,"queueSize",4),(0,d.A)(u,"partSize",void 0),(0,d.A)(u,"leavePartsOnError",!1),(0,d.A)(u,"tags",[]),(0,d.A)(u,"client",void 0),(0,d.A)(u,"params",void 0),(0,d.A)(u,"totalBytes",void 0),(0,d.A)(u,"totalBytesSource",void 0),(0,d.A)(u,"bytesUploadedSoFar",void 0),(0,d.A)(u,"abortController",void 0),(0,d.A)(u,"concurrentUploaders",[]),(0,d.A)(u,"createMultiPartPromise",void 0),(0,d.A)(u,"abortMultipartUploadCommand",null),(0,d.A)(u,"uploadedParts",[]),(0,d.A)(u,"uploadEnqueuedPartsCount",0),(0,d.A)(u,"expectedPartsCount",void 0),(0,d.A)(u,"uploadId",void 0),(0,d.A)(u,"uploadEvent",void 0),(0,d.A)(u,"isMultiPart",!0),(0,d.A)(u,"singleUploadResult",void 0),(0,d.A)(u,"sent",!1),u.queueSize=e.queueSize||u.queueSize,u.leavePartsOnError=e.leavePartsOnError||u.leavePartsOnError,u.tags=e.tags||u.tags,u.client=e.client,u.params=e.params,!u.params)throw new Error("InputError: Upload requires params to be passed to upload.");return u.totalBytes=null!==(t=u.params.ContentLength)&&void 0!==t?t:sm(u.params.Body),u.totalBytesSource=function(r,n){if(null!=n)return Jo.CONTENT_LENGTH;if(null==r)return Jo.EMPTY_INPUT;if("string"==typeof r)return Jo.STRING_LENGTH;if("number"==typeof r.byteLength)return Jo.TYPED_ARRAY;if("number"==typeof r.length)return Jo.LENGTH;if("number"==typeof r.size)return Jo.SIZE;if("number"==typeof r.start&&"number"==typeof r.end)return Jo.START_END_DIFF;if(om.isFileReadStream(r))try{return om.lstatSync(r.path),Jo.LSTAT}catch{return}}(u.params.Body,u.params.ContentLength),u.bytesUploadedSoFar=0,u.abortController=null!==(s=e.abortController)&&void 0!==s?s:new T5,u.partSize=e.partSize||Math.max(n.MIN_PART_SIZE,Math.floor((u.totalBytes||0)/u.MAX_PARTS)),void 0!==u.totalBytes&&(u.expectedPartsCount=Math.ceil(u.totalBytes/u.partSize)),u.__validateInput(),u}return(0,P.A)(n,r),(0,g.A)(n,[{key:"abort",value:(e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:this.abortController.abort();case 1:return u.a(2)}},s,this)})),function t(){return e.apply(this,arguments)})},{key:"done",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!this.sent){u.n=1;break}throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");case 1:return this.sent=!0,u.n=2,Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)]);case 2:return u.a(2,u.v)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"on",value:function(t,s){return this.uploadEvent=t,(0,ye.A)(n,"on",this,3)([t,s])}},{key:"__uploadUsingPut",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(u){var c,p,m,y,x,D,N,$,q,le,ve,Ae,ge,ke,l=this;return(0,Ke.A)().w(function(He){for(;;)switch(He.n){case 0:return this.isMultiPart=!1,p=(0,_.A)((0,_.A)({},this.params),{},{Body:u.data}),D=function(at){l.bytesUploadedSoFar=at.loaded,l.totalBytes=at.total,l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:u.partNumber,Key:l.params.Key,Bucket:l.params.Bucket})},null!==(x=(y=(m=this.client.config).requestHandler)instanceof C0.EventEmitter?y:null)&&x.on("xhr.upload.progress",D),He.n=1,Promise.all([this.client.send(new $C(p)),null==m||null===(c=m.endpoint)||void 0===c?void 0:c.call(m)]);case 1:if($=(N=He.v)[0],q=N[1]){He.n=3;break}return ke=M5.a,He.n=2,(0,zC.r)(p,$C,(0,_.A)({},m));case 2:q=ke(He.v);case 3:if(q){He.n=4;break}throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');case 4:null!==x&&x.off("xhr.upload.progress",D),le=this.params.Key.split("/").map(function(ot){return dp(ot)}).join("/"),ve=dp(this.params.Bucket),Ae=function(){var ot=q.hostname.startsWith("".concat(ve,".")),at=l.client.config.forcePathStyle,dt=q.port?":".concat(q.port):"";return at?"".concat(q.protocol,"//").concat(q.hostname).concat(dt,"/").concat(ve,"/").concat(le):ot?"".concat(q.protocol,"//").concat(q.hostname).concat(dt,"/").concat(le):"".concat(q.protocol,"//").concat(ve,".").concat(q.hostname).concat(dt,"/").concat(le)}(),this.singleUploadResult=(0,_.A)((0,_.A)({},$),{},{Bucket:this.params.Bucket,Key:this.params.Key,Location:Ae}),ge=sm(u.data),this.__notifyProgress({loaded:ge,total:ge,part:1,Key:this.params.Key,Bucket:this.params.Bucket});case 5:return He.a(2)}},s,this)}));return function t(s){return e.apply(this,arguments)}}()},{key:"__createMultipartUpload",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){var l,c,u=this;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:return p.n=1,this.client.config.requestChecksumCalculation();case 1:return l=p.v,this.createMultiPartPromise||(c=(0,_.A)((0,_.A)({},this.params),{},{Body:void 0}),"WHEN_SUPPORTED"===l&&(c.ChecksumAlgorithm=this.params.ChecksumAlgorithm||"CRC32"),this.createMultiPartPromise=this.client.send(new D5(c)).then(function(m){return u.abortMultipartUploadCommand=new w5({Bucket:u.params.Bucket,Key:u.params.Key,UploadId:m.UploadId}),m})),p.a(2,this.createMultiPartPromise)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"__doConcurrentUpload",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(u){var c,p,m,y,x,D,N,l=this;return(0,Ke.A)().w(function(q){for(;;)switch(q.p=q.n){case 0:c=!1,p=!1,q.p=1,y=(0,Ke.A)().m(function le(){var ve,ke,He,ot,at,dt,Rt;return(0,Ke.A)().w(function(pt){for(;;)switch(pt.n){case 0:if(ve=N.value,!(l.uploadEnqueuedPartsCount>l.MAX_PARTS)){pt.n=1;break}throw new Error("Exceeded ".concat(l.MAX_PARTS," parts in multipart upload to Bucket: ").concat(l.params.Bucket," Key: ").concat(l.params.Key,"."));case 1:if(!l.abortController.signal.aborted){pt.n=2;break}return pt.a(2,{v:void 0});case 2:if(1!==ve.partNumber||!ve.lastPart){pt.n=4;break}return pt.n=3,l.__uploadUsingPut(ve);case 3:return pt.a(2,{v:pt.v});case 4:if(l.uploadId){pt.n=6;break}return pt.n=5,l.__createMultipartUpload();case 5:if(l.uploadId=pt.v.UploadId,!l.abortController.signal.aborted){pt.n=6;break}return pt.a(2,{v:void 0});case 6:return ke=sm(ve.data)||0,at=0,dt=function(xt,Jt){(Number(Jt.query.partNumber)||-1)===ve.partNumber&&(xt.total&&ke&&(l.bytesUploadedSoFar+=xt.loaded-at,at=xt.loaded),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:ve.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}))},null!==(ot=(He=l.client.config.requestHandler)instanceof C0.EventEmitter?He:null)&&ot.on("xhr.upload.progress",dt),l.uploadEnqueuedPartsCount+=1,l.__validateUploadPart(ve),pt.n=7,l.client.send(new F5((0,_.A)((0,_.A)({},l.params),{},{ContentLength:void 0,UploadId:l.uploadId,Body:ve.data,PartNumber:ve.partNumber})));case 7:if(Rt=pt.v,null!==ot&&ot.off("xhr.upload.progress",dt),!l.abortController.signal.aborted){pt.n=8;break}return pt.a(2,{v:void 0});case 8:if(Rt.ETag){pt.n=9;break}throw new Error("Part ".concat(ve.partNumber," is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?"));case 9:l.uploadedParts.push((0,_.A)((0,_.A)((0,_.A)((0,_.A)({PartNumber:ve.partNumber,ETag:Rt.ETag},Rt.ChecksumCRC32&&{ChecksumCRC32:Rt.ChecksumCRC32}),Rt.ChecksumCRC32C&&{ChecksumCRC32C:Rt.ChecksumCRC32C}),Rt.ChecksumSHA1&&{ChecksumSHA1:Rt.ChecksumSHA1}),Rt.ChecksumSHA256&&{ChecksumSHA256:Rt.ChecksumSHA256})),null===ot&&(l.bytesUploadedSoFar+=ke),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:ve.partNumber,Key:l.params.Key,Bucket:l.params.Bucket});case 10:return pt.a(2)}},le)}),D=nu(u);case 2:return q.n=3,D.next();case 3:if(!(c=!(N=q.v).done)){q.n=6;break}return q.d((0,_M.A)(y()),4);case 4:if(!(x=q.v)){q.n=5;break}return q.a(2,x.v);case 5:c=!1,q.n=2;break;case 6:q.n=8;break;case 7:q.p=7,p=!0,m=q.v;case 8:if(q.p=8,q.p=9,!c||null==D.return){q.n=10;break}return q.n=10,D.return();case 10:if(q.p=10,!p){q.n=11;break}throw m;case 11:return q.f(10);case 12:return q.f(8);case 13:return q.a(2)}},s,null,[[9,,10,12],[1,7,8,13]])}));return function t(s){return e.apply(this,arguments)}}()},{key:"__doMultipartUpload",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){var u,l,c,p,m,y,x,D,N,$,q;return(0,Ke.A)().w(function(le){for(;;)switch(le.n){case 0:for(u=B5(this.params.Body,this.partSize),l=[],c=0;c<this.queueSize;c++)p=this.__doConcurrentUpload(u).catch(function(ve){l.push(ve)}),this.concurrentUploaders.push(p);return le.n=1,Promise.all(this.concurrentUploaders);case 1:if(!(l.length>=1)){le.n=3;break}return le.n=2,this.markUploadAsAborted();case 2:throw l[0];case 3:if(!this.abortController.signal.aborted){le.n=5;break}return le.n=4,this.markUploadAsAborted();case 4:throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});case 5:if(!this.isMultiPart){le.n=8;break}if(x=this.expectedPartsCount,D=this.uploadedParts,$=this.totalBytesSource,void 0===(N=this.totalBytes)||void 0===x||D.length===x){le.n=6;break}throw new Error("Expected ".concat(x," part(s) but uploaded ").concat(D.length," part(s).\nThe expected part count is based on the byte-count of the input.params.Body,\nwhich was read from ").concat($," and is ").concat(N,".\nIf this is not correct, provide an override value by setting a number\nto input.params.ContentLength in bytes.\n"));case 6:return this.uploadedParts.sort(function(ve,Ae){return ve.PartNumber-Ae.PartNumber}),q=(0,_.A)((0,_.A)({},this.params),{},{Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}}),le.n=7,this.client.send(new k5(q));case 7:"string"==typeof(null===(y=m=le.v)||void 0===y?void 0:y.Location)&&m.Location.includes("%2F")&&(m.Location=m.Location.replace(/%2F/g,"/")),le.n=9;break;case 8:m=this.singleUploadResult;case 9:if(this.abortMultipartUploadCommand=null,!this.tags.length){le.n=10;break}return le.n=10,this.client.send(new P5((0,_.A)((0,_.A)({},this.params),{},{Tagging:{TagSet:this.tags}})));case 10:return le.a(2,m)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"markUploadAsAborted",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!this.uploadId||this.leavePartsOnError||null===this.abortMultipartUploadCommand){u.n=2;break}return u.n=1,this.client.send(this.abortMultipartUploadCommand);case 1:this.abortMultipartUploadCommand=null;case 2:return u.a(2)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"__notifyProgress",value:function(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}},{key:"__abortTimeout",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(u){return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return l.a(2,new Promise(function(c,p){u.onabort=function(){var m=new Error("Upload aborted.");m.name="AbortError",p(m)}}))},s)}));return function t(s){return e.apply(this,arguments)}}()},{key:"__validateUploadPart",value:function(t){var s=sm(t.data);if(void 0===s)throw new Error("A dataPart was generated without a measurable data chunk size for part number ".concat(t.partNumber));if(!(1===t.partNumber&&t.lastPart||t.lastPart||s===this.partSize))throw new Error("The byte size for part number ".concat(t.partNumber,", size ").concat(s," does not match expected size ").concat(this.partSize))}},{key:"__validateInput",value:function(){if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<n.MIN_PART_SIZE)throw new Error("EntityTooSmall: Your proposed upload part size [".concat(this.partSize,"] is smaller than the minimum allowed size [").concat(n.MIN_PART_SIZE,"] (5MB)"));if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}}]);var e}(C0.EventEmitter);return(0,d.A)(a,"MIN_PART_SIZE",5242880),a}(),F0=function(a){function r(n){var e,t,s,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,v.A)(this,r);var l,c=!0;if("boolean"==typeof u)l=void 0,c=u;else if(null!=u&&"object"==typeof u){var p;l=u.logger,c=null===(p=u.tryNextLink)||void 0===p||p}return s=(0,w.A)(this,r,[n]),(0,d.A)(s,"name","ProviderError"),(0,d.A)(s,"tryNextLink",void 0),s.tryNextLink=c,Object.setPrototypeOf(s,r.prototype),null===(e=l)||void 0===e||null===(t=e.debug)||void 0===t||t.call(e,"@smithy/property-provider ".concat(c?"->":"(!)"," ").concat(n)),s}return(0,P.A)(r,a),(0,g.A)(r,null,[{key:"from",value:function(e){return Object.assign(new this(e.message,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e)}}])}((0,O.A)(Error)),um=function(a){function r(n){var e,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,v.A)(this,r),e=(0,w.A)(this,r,[n,t]),(0,d.A)(e,"name","CredentialsProviderError"),Object.setPrototypeOf(e,r.prototype),e}return(0,P.A)(r,a),(0,g.A)(r)}(F0);function qC(a){return Promise.all(Object.keys(a).reduce(function(r,n){var e=a[n];return r.push("string"==typeof e?[n,e]:e().then(function(t){return[n,t]})),r},[])).then(function(r){return r.reduce(function(n,e){var t=(0,F.A)(e,2);return n[t[0]]=t[1],n},{})})}function U5(a){return function(){var r=(0,Mt.A)((0,Ke.A)().m(function n(e){var t,s,u,l,c,p,m,x,D,N,$,q,le,ve,ge,ke,He,ot,at,Rt;return(0,Ke.A)().w(function(Ot){for(;;)switch(Ot.n){case 0:return null===(t=a.logger)||void 0===t||t.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity"),Ot.n=1,b.e(4143).then(b.bind(b,4143));case 1:if(c=(l=Ot.v).GetCredentialsForIdentityCommand,p=l.CognitoIdentityClient,m=function(vt){var xt,Jt,en,Jn,ea;return null!==(xt=null!==(Jt=null===(en=a.clientConfig)||void 0===en?void 0:en[vt])&&void 0!==Jt?Jt:null===(Jn=a.parentClientConfig)||void 0===Jn?void 0:Jn[vt])&&void 0!==xt?xt:null==e||null===(ea=e.callerClientConfig)||void 0===ea?void 0:ea[vt]},ge=null!==(s=a.client)&&void 0!==s?s:new p(Object.assign({},null!==(u=a.clientConfig)&&void 0!==u?u:{},{region:m("region"),profile:m("profile")})),ke=c,He=a.customRoleArn,ot=a.identityId,!a.logins){Ot.n=3;break}return Ot.n=2,qC(a.logins);case 2:at=Ot.v,Ot.n=4;break;case 3:at=void 0;case 4:return Rt={CustomRoleArn:He,IdentityId:ot,Logins:at},Ot.n=5,ge.send.call(ge,new ke(Rt));case 5:return D=void 0===(x=Ot.v.Credentials)?j5(a.logger):x,$=void 0===(N=D.AccessKeyId)?G5(a.logger):N,q=D.Expiration,ve=void 0===(le=D.SecretKey)?$5(a.logger):le,Ot.a(2,{identityId:a.identityId,accessKeyId:$,secretAccessKey:ve,sessionToken:D.SessionToken,expiration:q})}},n)}));return function(n){return r.apply(this,arguments)}}()}function G5(a){throw new um("Response from Amazon Cognito contained no access key ID",{logger:a})}function j5(a){throw new um("Response from Amazon Cognito contained no credentials",{logger:a})}function $5(a){throw new um("Response from Amazon Cognito contained no secret key",{logger:a})}var k0="IdentityIds",z5=function(){return(0,g.A)(function a(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws:cognito-identity-ids";(0,v.A)(this,a),(0,d.A)(this,"dbName",void 0),this.dbName=r},[{key:"getItem",value:function(n){return this.withObjectStore("readonly",function(e){var t=e.get(n);return new Promise(function(s){t.onerror=function(){return s(null)},t.onsuccess=function(){return s(t.result?t.result.value:null)}})}).catch(function(){return null})}},{key:"removeItem",value:function(n){return this.withObjectStore("readwrite",function(e){var t=e.delete(n);return new Promise(function(s,u){t.onerror=function(){return u(t.error)},t.onsuccess=function(){return s()}})})}},{key:"setItem",value:function(n,e){return this.withObjectStore("readwrite",function(t){var s=t.put({id:n,value:e});return new Promise(function(u,l){s.onerror=function(){return l(s.error)},s.onsuccess=function(){return u()}})})}},{key:"getDb",value:function(){var n=self.indexedDB.open(this.dbName,1);return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)},n.onblocked=function(){t(new Error("Unable to access DB"))},n.onupgradeneeded=function(){var s=n.result;s.onerror=function(){t(new Error("Failed to create object store"))},s.createObjectStore(k0,{keyPath:"id"})}})}},{key:"withObjectStore",value:function(n,e){return this.getDb().then(function(t){var s=t.transaction(k0,n);return s.oncomplete=function(){return t.close()},new Promise(function(u,l){s.onerror=function(){return l(s.error)},u(e(s.objectStore(k0)))}).catch(function(u){throw t.close(),u})})}}])}(),H5=function(){return(0,g.A)(function a(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,v.A)(this,a),(0,d.A)(this,"store",void 0),this.store=r},[{key:"getItem",value:function(n){return n in this.store?this.store[n]:null}},{key:"removeItem",value:function(n){delete this.store[n]}},{key:"setItem",value:function(n,e){this.store[n]=e}}])}(),K5=new H5;function P0(a){var r=a.accountId,n=a.cache,e=void 0===n?function X5(){return"object"==typeof self&&self.indexedDB?new z5:"object"==typeof window&&window.localStorage?window.localStorage:K5}():n,t=a.client,s=a.clientConfig,u=a.customRoleArn,l=a.identityPoolId,c=a.logins,p=a.userIdentifier,m=void 0===p?c&&0!==Object.keys(c).length?void 0:"ANONYMOUS":p,y=a.logger,x=a.parentClientConfig;y?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");var D=m?"aws:cognito-identity-credentials:".concat(l,":").concat(m):void 0,N=function(){var $=(0,Mt.A)((0,Ke.A)().m(function q(le){var ve,Ae,ge,ke,He,ot,dt,Rt,Ot,pt,vt,xt,Jt,en,ea;return(0,Ke.A)().w(function(qn){for(;;)switch(qn.n){case 0:return qn.n=1,b.e(4143).then(b.bind(b,4143));case 1:if(Ae=(ve=qn.v).GetIdCommand,ge=ve.CognitoIdentityClient,ke=function(Hi){var Qa,Io,Bc;return null!==(Qa=null!==(Io=s?.[Hi])&&void 0!==Io?Io:x?.[Hi])&&void 0!==Qa?Qa:null==le||null===(Bc=le.callerClientConfig)||void 0===Bc?void 0:Bc[Hi]},He=t??new ge(Object.assign({},s??{},{region:ke("region"),profile:ke("profile")})),!(Ot=D)){qn.n=3;break}return qn.n=2,e.getItem(D);case 2:Ot=qn.v;case 3:if(ot=Ot){qn.n=8;break}if(pt=He,vt=Ae,xt=r,Jt=l,!c){qn.n=5;break}return qn.n=4,qC(c);case 4:en=qn.v,qn.n=6;break;case 5:en=void 0;case 6:return ea={AccountId:xt,IdentityPoolId:Jt,Logins:en},qn.n=7,pt.send.call(pt,new vt(ea));case 7:Rt=void 0===(dt=qn.v.IdentityId)?q5(y):dt,ot=Rt,D&&Promise.resolve(e.setItem(D,ot)).catch(function(){});case 8:return N=U5({client:He,customRoleArn:u,logins:c,identityId:ot}),qn.a(2,N(le))}},q)}));return function(le){return $.apply(this,arguments)}}();return function($){return N($).catch(function(){var q=(0,Mt.A)((0,Ke.A)().m(function le(ve){return(0,Ke.A)().w(function(Ae){for(;;)switch(Ae.n){case 0:throw D&&Promise.resolve(e.removeItem(D)).catch(function(){}),ve;case 1:return Ae.a(2)}},le)}));return function(le){return q.apply(this,arguments)}}())}}function q5(a){throw new um("Response from Amazon Cognito contained no identity ID",{logger:a})}var R0=b(9554),Y5={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},lm=b(6887),WC=b(6539),Z5=b(5337),eL=b(4931);function tL(a){var r=Object(a),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}}var nL=function(){var a=function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,v.A)(this,r),(0,d.A)(this,"data",void 0),(0,d.A)(this,"lastPurgeTime",Date.now()),this.data=n}return(0,g.A)(r,[{key:"get",value:function(e){var t=this.data[e];if(t)return t}},{key:"set",value:function(e,t){return this.data[e]=t,t}},{key:"delete",value:function(e){delete this.data[e]}},{key:"purgeExpired",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(){var s,u,l,c,p,m;return(0,Ke.A)().w(function(y){for(;;)switch(y.n){case 0:if(s=Date.now(),!(this.lastPurgeTime+r.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>s)){y.n=1;break}return y.a(2);case 1:p=tL(this.data);case 2:if((m=p()).done){y.n=5;break}if((l=this.data[u=m.value]).isRefreshing){y.n=4;break}return y.n=3,l.identity;case 3:(c=y.v).expiration&&c.expiration.getTime()<s&&delete this.data[u];case 4:y.n=2;break;case 5:return y.a(2)}},t,this)})),function e(){return n.apply(this,arguments)})}]);var n}();return(0,d.A)(a,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4),a}(),T0=function(){return(0,g.A)(function a(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();(0,v.A)(this,a),(0,d.A)(this,"_identity",void 0),(0,d.A)(this,"isRefreshing",void 0),(0,d.A)(this,"accessed",void 0),this._identity=r,this.isRefreshing=n,this.accessed=e},[{key:"identity",get:function(){return this.accessed=Date.now(),this._identity}}])}(),rL=function(){var a=function(){function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new nL;(0,v.A)(this,r),(0,d.A)(this,"createSessionFn",void 0),(0,d.A)(this,"cache",void 0),this.createSessionFn=n,this.cache=e}return(0,g.A)(r,[{key:"getS3ExpressIdentity",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(s,u){var c,p,m,l=this;return(0,Ke.A)().w(function(y){for(;;)switch(y.n){case 0:if(!(m=(p=this.cache).get(c=u.Bucket))){y.n=1;break}return y.a(2,m.identity.then(function(x){var D,N,$,q;return(null!==(D=null===(N=x.expiration)||void 0===N?void 0:N.getTime())&&void 0!==D?D:0)<Date.now()?p.set(c,new T0(l.getIdentity(c))).identity:((null!==($=null===(q=x.expiration)||void 0===q?void 0:q.getTime())&&void 0!==$?$:0)<Date.now()+r.REFRESH_WINDOW_MS&&!m.isRefreshing&&(m.isRefreshing=!0,l.getIdentity(c).then(function(Ae){p.set(c,new T0(Promise.resolve(Ae)))})),x)}));case 1:return y.a(2,p.set(c,new T0(this.getIdentity(c))).identity)}},t,this)})),function e(t,s){return n.apply(this,arguments)})},{key:"getIdentity",value:function(){var n=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l,c,p;return(0,Ke.A)().w(function(m){for(;;)switch(m.n){case 0:return m.n=1,this.cache.purgeExpired().catch(function(y){console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+y)});case 1:return m.n=2,this.createSessionFn(s);case 2:if(null!==(u=(c=m.v).Credentials)&&void 0!==u&&u.AccessKeyId&&null!==(l=c.Credentials)&&void 0!==l&&l.SecretAccessKey){m.n=3;break}throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");case 3:return p={accessKeyId:c.Credentials.AccessKeyId,secretAccessKey:c.Credentials.SecretAccessKey,sessionToken:c.Credentials.SessionToken,expiration:c.Credentials.Expiration?new Date(c.Credentials.Expiration):void 0},m.a(2,p)}},t,this)}));return function e(t){return n.apply(this,arguments)}}()}]);var n}();return(0,d.A)(a,"REFRESH_WINDOW_MS",6e4),a}(),iL=function(r){return"string"==typeof r&&0===r.indexOf("arn:")&&r.split(":").length>=6},sL={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},lL={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},fL={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},mL={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},M0=(b(694),b(2734),"X-Amz-S3session-Token"),I0=M0.toLowerCase(),CL={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},JC=b(7957),V0=b(3928),xL=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e,t,s){var u;return(0,Ke.A)().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,s.signWithCredentials(t,n,{});case 1:if(!(u=l.v).headers["X-Amz-Security-Token"]&&!u.headers["x-amz-security-token"]){l.n=2;break}throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");case 2:return l.a(2,u)}},r)}));return function(n,e,t,s){return a.apply(this,arguments)}}(),EL=function(r){return function(n){throw n}},DL=function(r,n){},kL=b(8027),PL=b(5997),RL=b(4308),TL=b(7111),ML=b(8944),VL=b(3909),NL=b(2855),OL=b(1795),BL=b(6811),LL=b(6977),ZC=b(8051),UL=b(7763),GL=b(3971),zL=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r,[{key:"signWithCredentials",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(s,u,l){var c,p;return(0,Ke.A)().w(function(m){for(;;)if(0===m.n)return c=eS(u),s.headers[I0]=u.sessionToken,tS(p=this,c),m.a(2,p.signRequest(s,l??{}))},t,this)})),function e(t,s,u){return n.apply(this,arguments)})},{key:"presignWithCredentials",value:function(){var n=(0,Mt.A)((0,Ke.A)().m(function t(s,u,l){var c,p;return(0,Ke.A)().w(function(y){for(;;)if(0===y.n)return p=eS(u),delete s.headers[I0],s.headers[M0]=u.sessionToken,s.query=null!==(c=s.query)&&void 0!==c?c:{},s.query[M0]=u.sessionToken,tS(this,p),y.a(2,this.presign(s,l))},t,this)}));return function e(t,s,u){return n.apply(this,arguments)}}()}]);var n}(b(324).B);function eS(a){return{accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,expiration:a.expiration}}function tS(a,r){var n=setTimeout(function(){throw new Error("SignatureV4S3Express credential override was created but not called.")},10),e=a.credentialProvider;a.credentialProvider=function(){return clearTimeout(n),a.credentialProvider=e,Promise.resolve(r)}}var rS=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"sigv4aSigner",void 0),(0,d.A)(this,"sigv4Signer",void 0),(0,d.A)(this,"signerOptions",void 0),this.sigv4Signer=new zL(r),this.signerOptions=r},[{key:"sign",value:(r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ke.A)().m(function u(){return(0,Ke.A)().w(function(l){for(;;)switch(l.n){case 0:if("*"!==s.signingRegion){l.n=1;break}return l.a(2,t.getSigv4aSigner().sign(e,s));case 1:return l.a(2,t.sigv4Signer.sign(e,s))}},u)})()}),function n(e){return r.apply(this,arguments)})},{key:"signWithCredentials",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,Ke.A)().m(function l(){var c;return(0,Ke.A)().w(function(m){for(;;)switch(m.n){case 0:if("*"!==u.signingRegion){m.n=2;break}if(c=s.getSigv4aSigner(),!(null&&c instanceof null)){m.n=1;break}return m.a(2,c.signWithCredentials(e,t,u));case 1:throw new Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case 2:return m.a(2,s.sigv4Signer.signWithCredentials(e,t,u))}},l)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"presign",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ke.A)().m(function u(){var l;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:if("*"!==s.signingRegion){p.n=2;break}if(l=t.getSigv4aSigner(),!(null&&l instanceof null)){p.n=1;break}return p.a(2,l.presign(e,s));case 1:throw new Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case 2:return p.a(2,t.sigv4Signer.presign(e,s))}},u)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"presignWithCredentials",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,Ke.A)().m(function l(){return(0,Ke.A)().w(function(c){for(;;)switch(c.n){case 0:if("*"!==u.signingRegion){c.n=1;break}throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");case 1:return c.a(2,s.sigv4Signer.presignWithCredentials(e,t,u))}},l)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"getSigv4aSigner",value:function(){if(!this.sigv4aSigner){var n=null,e=null;if("node"===this.signerOptions.runtime){if(!n&&!e)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(n&&"function"==typeof n)this.sigv4aSigner=new n((0,_.A)((0,_.A)({},this.signerOptions),{},{signingAlgorithm:1}));else{if(!e||"function"!=typeof e)throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");this.sigv4aSigner=new e((0,_.A)({},this.signerOptions))}}else{if(!e||"function"!=typeof e)throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new e((0,_.A)({},this.signerOptions))}}return this.sigv4aSigner}}],[{key:"sigv4aDependency",value:function(){return"none"}}]);var r}(),HL=b(2553),KL=b(4585),XL=b(7227),qL=b(9059),N0="required",Oe="type",bt="rules",Ye="conditions",lt="fn",ct="argv",Qt="ref",bn="assign",Ht="url",Kt="properties",Uu="backend",Va="authSchemes",fa="disableDoubleEncoding",pa="signingName",Ka="signingRegion",Xt="headers",O0="signingRegionSet",Ao=!0,Ai="isSet",Hr="booleanEquals",zt="error",dm="aws.partition",$n="stringEquals",Ir="getAttr",Kr="name",sr="substring",aS="bucketSuffix",B0="parseURL",It="endpoint",At="tree",fm="aws.isVirtualHostableS3Bucket",pm="{url#scheme}://{Bucket}.{url#authority}{url#path}",Co="not",iS="accessPointSuffix",mm="{url#scheme}://{url#authority}{url#path}",oS="hardwareType",sS="regionPrefix",uS="bucketAliasSuffix",L0="outpostId",Gu="isValidHostLabel",U0="sigv4a",Fd="s3-outposts",mc="s3",lS="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",cS="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",dS="https://{Bucket}.s3.{partitionResult#dnsSuffix}",fS="aws.parseArn",pS="bucketArn",mS="arnType",G0="s3-object-lambda",hS="accesspoint",j0="accessPointName",gS="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",vS="mrapPartition",yS="outpostType",_S="arnPrefix",bS="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",AS="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",CS="https://s3.{partitionResult#dnsSuffix}",hc=(0,d.A)((0,d.A)({},N0,!1),Oe,"string"),gc=(0,d.A)((0,d.A)((0,d.A)({},N0,!0),"default",!1),Oe,"boolean"),kd=(0,d.A)((0,d.A)({},N0,!1),Oe,"boolean"),Bi=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"Accelerate"),!0]),hr=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseFIPS"),!0]),ur=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseDualStack"),!0]),Xr=(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"Endpoint")]),SS=(0,d.A)((0,d.A)((0,d.A)({},lt,dm),ct,[(0,d.A)({},Qt,"Region")]),bn,"partitionResult"),xS=(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,"partitionResult"),Kr]),"aws-cn"]),Pd=(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"Bucket")]),Bn=(0,d.A)({},Qt,"Bucket"),ES=(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur]),zt,"S3Express does not support Dual-stack."),Oe,zt),DS=(0,d.A)((0,d.A)((0,d.A)({},Ye,[Bi]),zt,"S3Express does not support S3 Accelerate."),Oe,zt),wS=(0,d.A)((0,d.A)((0,d.A)({},Ye,[Xr,(0,d.A)((0,d.A)((0,d.A)({},lt,B0),ct,[(0,d.A)({},Qt,"Endpoint")]),bn,"url")]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"DisableS3ExpressSessionAuth")]),(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"DisableS3ExpressSessionAuth"),!0])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,"url"),"isIp"]),!0])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,"uriEncode"),ct,[Bn]),bn,"uri_encoded_bucket")]),bt,[(0,d.A)((0,d.A)({},It,(0,d.A)((0,d.A)((0,d.A)({},Ht,"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}"),Kt,(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,"s3express"),Ka,"{Region}")])),Xt,{})),Oe,It)]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,fm),ct,[Bn,!1])]),bt,[(0,d.A)((0,d.A)({},It,(0,d.A)((0,d.A)((0,d.A)({},Ht,pm),Kt,(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,"s3express"),Ka,"{Region}")])),Xt,{})),Oe,It)]),Oe,At),(0,d.A)((0,d.A)({},zt,"S3Express bucket name is not a valid virtual hostable name."),Oe,zt)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,"url"),"isIp"]),!0])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,"uriEncode"),ct,[Bn]),bn,"uri_encoded_bucket")]),bt,[(0,d.A)((0,d.A)({},It,(0,d.A)((0,d.A)((0,d.A)({},Ht,"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}"),Kt,(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4-s3express"),pa,"s3express"),Ka,"{Region}")])),Xt,{})),Oe,It)]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,fm),ct,[Bn,!1])]),bt,[(0,d.A)((0,d.A)({},It,(0,d.A)((0,d.A)((0,d.A)({},Ht,pm),Kt,(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4-s3express"),pa,"s3express"),Ka,"{Region}")])),Xt,{})),Oe,It)]),Oe,At),(0,d.A)((0,d.A)({},zt,"S3Express bucket name is not a valid virtual hostable name."),Oe,zt)]),Oe,At),Xa=(0,d.A)((0,d.A)((0,d.A)({},lt,B0),ct,[(0,d.A)({},Qt,"Endpoint")]),bn,"url"),$0=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,"url"),"isIp"]),!0]),FS=(0,d.A)({},Qt,"url"),kS=(0,d.A)((0,d.A)((0,d.A)({},lt,"uriEncode"),ct,[Bn]),bn,"uri_encoded_bucket"),ju=(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,"s3express"),Ka,"{Region}")]),mn={},PS=(0,d.A)((0,d.A)({},lt,fm),ct,[Bn,!1]),RS=(0,d.A)((0,d.A)({},zt,"S3Express bucket name is not a valid virtual hostable name."),Oe,zt),TS=(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"UseS3ExpressControlEndpoint")]),MS=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseS3ExpressControlEndpoint"),!0]),hn=(0,d.A)((0,d.A)({},lt,Co),ct,[Xr]),gm=(0,d.A)((0,d.A)({},zt,"Unrecognized S3Express bucket name format."),Oe,zt),IS=(0,d.A)((0,d.A)({},lt,Co),ct,[Pd]),VS=(0,d.A)({},Qt,oS),NS=(0,d.A)((0,d.A)((0,d.A)({},Ye,[hn]),zt,"Expected a endpoint to be specified but no endpoint was found"),Oe,zt),vm=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,U0),pa,Fd),O0,["*"]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,Fd),Ka,"{Region}")]),z0=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"ForcePathStyle"),!1]),QL=(0,d.A)({},Qt,"ForcePathStyle"),Qr=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"Accelerate"),!1]),sa=(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"Region"),"aws-global"]),ma=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,mc),Ka,"us-east-1")]),In=(0,d.A)((0,d.A)({},lt,Co),ct,[sa]),ha=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseGlobalEndpoint"),!0]),OS=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),Kt,(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,mc),Ka,"{Region}")])),Xt,{}),Jr=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,mc),Ka,"{Region}")]),ga=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseGlobalEndpoint"),!1]),Pn=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseDualStack"),!1]),BS=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),Sn=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseFIPS"),!1]),LS=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),US=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),H0=(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[FS,"isIp"]),!1]),K0=(0,d.A)((0,d.A)((0,d.A)({},Ht,lS),Kt,Jr),Xt,{}),X0=(0,d.A)((0,d.A)((0,d.A)({},Ht,pm),Kt,Jr),Xt,{}),GS=(0,d.A)((0,d.A)({},It,X0),Oe,It),q0=(0,d.A)((0,d.A)((0,d.A)({},Ht,cS),Kt,Jr),Xt,{}),jS=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),ym=(0,d.A)((0,d.A)({},zt,"Invalid region: region was not a valid DNS name."),Oe,zt),si=(0,d.A)({},Qt,pS),$S=(0,d.A)({},Qt,mS),W0=(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"service"]),Y0=(0,d.A)({},Qt,j0),zS=(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur]),zt,"S3 Object Lambda does not support Dual-stack"),Oe,zt),HS=(0,d.A)((0,d.A)((0,d.A)({},Ye,[Bi]),zt,"S3 Object Lambda does not support S3 Accelerate"),Oe,zt),KS=(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"DisableAccessPoints")]),(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"DisableAccessPoints"),!0])]),zt,"Access points are not supported for this operation"),Oe,zt),Q0=(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"UseArnRegion")]),(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"UseArnRegion"),!1]),(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"region"]),"{Region}"])])]),zt,"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`"),Oe,zt),XS=(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,"bucketPartition"),Kr]),qS=(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"accountId"]),J0=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,G0),Ka,"{bucketArn#region}")]),WS=(0,d.A)((0,d.A)({},zt,"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`"),Oe,zt),Z0=(0,d.A)((0,d.A)({},zt,"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`"),Oe,zt),ey=(0,d.A)((0,d.A)({},zt,"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)"),Oe,zt),ty=(0,d.A)((0,d.A)({},zt,"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`"),Oe,zt),YS=(0,d.A)((0,d.A)({},zt,"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`."),Oe,zt),QS=(0,d.A)((0,d.A)({},zt,"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided"),Oe,zt),Rd=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,mc),Ka,"{bucketArn#region}")]),JS=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,U0),pa,Fd),O0,["*"]),(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,Fd),Ka,"{bucketArn#region}")]),ZS=(0,d.A)((0,d.A)({},lt,fS),ct,[Bn]),ex=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,Jr),Xt,{}),tx=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,Jr),Xt,{}),nx=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,Jr),Xt,{}),ny=(0,d.A)((0,d.A)((0,d.A)({},Ht,bS),Kt,Jr),Xt,{}),rx=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,Jr),Xt,{}),ax=(0,d.A)({},Qt,"UseObjectLambdaEndpoint"),ry=(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4"),pa,G0),Ka,"{Region}")]),ix=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),ox=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),sx=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),ay=(0,d.A)((0,d.A)((0,d.A)({},Ht,mm),Kt,Jr),Xt,{}),ux=(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3.{Region}.{partitionResult#dnsSuffix}"),Kt,Jr),Xt,{}),iy=[(0,d.A)({},Qt,"Region")],JL=[(0,d.A)({},Qt,"Endpoint")],ZL=[Bn],lx=[ur],oy=[Bi],vc=[Xr,Xa],cx=[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)({},Qt,"DisableS3ExpressSessionAuth")]),(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"DisableS3ExpressSessionAuth"),!0])],eU=[kS],dx=[PS],Li=[SS],yc=[hr],fx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,6,14,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,14,16,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],So=[(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr]),It,(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Kt,ju),Xt,{})),Oe,It),(0,d.A)((0,d.A)({},It,(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Kt,ju),Xt,{})),Oe,It)],px=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,6,15,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,15,17,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],mx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,6,19,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,19,21,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],hx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,6,20,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,20,22,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],gx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,6,26,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,26,28,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],xo=[(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr]),It,(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Kt,(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4-s3express"),pa,"s3express"),Ka,"{Region}")])),Xt,{})),Oe,It),(0,d.A)((0,d.A)({},It,(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),Kt,(0,d.A)((0,d.A)({},Uu,"S3Express"),Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,!0),Kr,"sigv4-s3express"),pa,"s3express"),Ka,"{Region}")])),Xt,{})),Oe,It)],vx=[Bn,0,7,!0],yx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,7,15,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,15,17,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],_x=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,7,16,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,16,18,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],bx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,7,20,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,20,22,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],Ax=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,7,21,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,21,23,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],Cx=[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,7,27,!0]),bn,"s3expressAvailabilityZoneId"),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,27,29,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"s3expressAvailabilityZoneDelim"),"--"])],tU=[Pd],Sx=[(0,d.A)((0,d.A)({},lt,Gu),ct,[(0,d.A)({},Qt,L0),!1])],xx=[(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,sS),"beta"])],Ex=[(0,d.A)((0,d.A)({},lt,Gu),ct,[(0,d.A)({},Qt,"Region"),!1])],ws=[(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,"Region"),"us-east-1"])],sy=[(0,d.A)((0,d.A)({},lt,$n),ct,[$S,hS])],Dx=[(0,d.A)((0,d.A)((0,d.A)({},lt,Ir),ct,[si,"resourceId[1]"]),bn,j0),(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,$n),ct,[Y0,""])])],rU=[si,"resourceId[1]"],uy=[(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"region"]),""])])],wx=[(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"resourceId[2]"])])])],aU=[si,"resourceId[2]"],ly=[(0,d.A)((0,d.A)((0,d.A)({},lt,dm),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"region"])]),bn,"bucketPartition")],Fx=[(0,d.A)((0,d.A)({},lt,$n),ct,[XS,(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,"partitionResult"),Kr])])],cy=[(0,d.A)((0,d.A)({},lt,Gu),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"region"]),!0])],dy=[(0,d.A)((0,d.A)({},lt,Gu),ct,[qS,!1])],kx=[(0,d.A)((0,d.A)({},lt,Gu),ct,[Y0,!1])],Px=[(0,d.A)((0,d.A)({},lt,Gu),ct,[(0,d.A)({},Qt,"Region"),!0])],oU=(0,d.A)({version:"1.0",parameters:{Bucket:hc,Region:hc,UseFIPS:gc,UseDualStack:gc,Endpoint:hc,ForcePathStyle:gc,Accelerate:gc,UseGlobalEndpoint:gc,UseObjectLambdaEndpoint:kd,Key:hc,Prefix:hc,CopySource:hc,DisableAccessPoints:kd,DisableMultiRegionAccessPoints:gc,UseArnRegion:kd,UseS3ExpressControlEndpoint:kd,DisableS3ExpressSessionAuth:kd}},bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Ai),ct,iy)]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[Bi,hr]),"error","Accelerate cannot be used with FIPS"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Xr]),"error","Cannot set dual-stack in combination with a custom endpoint."),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Xr,hr]),"error","A custom endpoint cannot be combined with FIPS"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Xr,Bi]),"error","A custom endpoint cannot be combined with S3 Accelerate"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,SS,xS]),"error","Partition does not support FIPS"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pd,(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,0,6,Ao]),bn,aS),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,aS),"--x-s3"])]),bt,[ES,DS,wS,(0,d.A)((0,d.A)((0,d.A)({},Ye,[TS,MS]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[kS,hn]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,yc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,ju),Xt,mn)),Oe,It),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,ju),Xt,mn)},Oe,It)]),Oe,At)]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,dx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,cx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,fx),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,px),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,mx),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,hx),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,gx),bt,So),Oe,At),gm]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,fx),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,px),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,mx),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,hx),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,gx),bt,xo),Oe,At),gm]),Oe,At)]),Oe,At),RS]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pd,(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,vx),bn,iS),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,iS),"--xa-s3"])]),bt,[ES,DS,wS,(0,d.A)((0,d.A)((0,d.A)({},Ye,dx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,cx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,yx),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,_x),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,bx),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,Ax),bt,So),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,Cx),bt,So),Oe,At),gm]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,yx),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,_x),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,bx),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,Ax),bt,xo),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,Cx),bt,xo),Oe,At),gm]),Oe,At)]),Oe,At),RS]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[IS,TS,MS]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,vc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,mm),Kt,ju),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,yc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}"),Kt,ju),Xt,mn)),Oe,It),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3express-control.{Region}.{partitionResult#dnsSuffix}"),Kt,ju),Xt,mn)},Oe,It)]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pd,(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,49,50,Ao]),bn,oS),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,8,12,Ao]),bn,sS),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,vx),bn,uS),(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,32,49,Ao]),bn,L0),(0,d.A)((0,d.A)((0,d.A)({},lt,dm),ct,iy),bn,"regionPartition"),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,uS),"--op-s3"])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Sx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[VS,"e"])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,xx),bt,[NS,(0,d.A)((0,d.A)((0,d.A)({},Ye,vc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.ec2.{url#authority}"),Kt,vm),Xt,mn)),Oe,It)]),Oe,At),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),Kt,vm),Xt,mn)},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[VS,"o"])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,xx),bt,[NS,(0,d.A)((0,d.A)((0,d.A)({},Ye,vc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.op-{outpostId}.{url#authority}"),Kt,vm),Xt,mn)),Oe,It)]),Oe,At),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),Kt,vm),Xt,mn)},Oe,It)]),Oe,At),(0,d.A)({error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"'},Oe,zt)]),Oe,At),(0,d.A)({error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`."},Oe,zt)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,tU),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[Xr,(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)((0,d.A)({},lt,B0),ct,JL)])])]),"error","Custom endpoint `{Endpoint}` was not a valid URI"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[z0,PS]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Ex),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[Bi,xS]),"error","S3 Accelerate cannot be used in this region"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hr,Qr,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hr,Qr,hn,In,ha]),bt,[(0,d.A)({endpoint:OS},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hr,Qr,hn,In,ga]),"endpoint",OS),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hr,Qr,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hr,Qr,hn,In,ha]),bt,[(0,d.A)({endpoint:BS},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hr,Qr,hn,In,ga]),"endpoint",BS),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Sn,Bi,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Sn,Bi,hn,In,ha]),bt,[(0,d.A)({endpoint:LS},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Sn,Bi,hn,In,ga]),"endpoint",LS),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Sn,Qr,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Sn,Qr,hn,In,ha]),bt,[(0,d.A)({endpoint:US},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,Sn,Qr,hn,In,ga]),"endpoint",US),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,Xr,Xa,$0,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,lS),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,Xr,Xa,H0,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,pm),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,Xr,Xa,$0,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",K0),Oe,It),(0,d.A)({endpoint:K0},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,Xr,Xa,H0,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",X0),Oe,It),GS]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,Xr,Xa,$0,In,ga]),"endpoint",K0),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,Xr,Xa,H0,In,ga]),"endpoint",X0),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Bi,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,cS),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Bi,hn,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",q0),Oe,It),(0,d.A)({endpoint:q0},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Bi,hn,In,ga]),"endpoint",q0),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,dS),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,hn,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,dS),Kt,Jr),Xt,mn)),Oe,It),(0,d.A)({endpoint:jS},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Sn,Qr,hn,In,ga]),"endpoint",jS),Oe,It)]),Oe,At),ym]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Xr,Xa,(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[FS,"scheme"]),"http"]),(0,d.A)((0,d.A)({},lt,fm),ct,[Bn,Ao]),z0,Sn,Pn,Qr]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Ex),bt,[GS]),Oe,At),ym]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[z0,(0,d.A)((0,d.A)((0,d.A)({},lt,fS),ct,ZL),bn,pS)]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,Ir),ct,[si,"resourceId[0]"]),bn,mS),(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,$n),ct,[$S,""])])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[W0,G0])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,sy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Dx),bt,[zS,HS,(0,d.A)((0,d.A)((0,d.A)({},Ye,uy),bt,[KS,(0,d.A)((0,d.A)((0,d.A)({},Ye,wx),bt,[Q0,(0,d.A)((0,d.A)((0,d.A)({},Ye,ly),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Fx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,cy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[qS,""])]),"error","Invalid ARN: Missing account id"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,dy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,kx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,vc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,gS),Kt,J0),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,yc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,J0),Xt,mn)),Oe,It),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,J0),Xt,mn)},Oe,It)]),Oe,At),WS]),Oe,At),Z0]),Oe,At),ey]),Oe,At),ty]),Oe,At)]),Oe,At)]),Oe,At),YS]),Oe,At),(0,d.A)({error:"Invalid ARN: bucket ARN is missing a region"},Oe,zt)]),Oe,At),QS]),Oe,At),(0,d.A)({error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`"},Oe,zt)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,sy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Dx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,uy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,sy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,uy),bt,[KS,(0,d.A)((0,d.A)((0,d.A)({},Ye,wx),bt,[Q0,(0,d.A)((0,d.A)((0,d.A)({},Ye,ly),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[XS,"{partitionResult#name}"])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,cy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[W0,mc])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,dy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,kx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,oy),"error","Access Points do not support S3 Accelerate"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,ur]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,Rd),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,Pn]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,Rd),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,ur]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,Rd),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,Xr,Xa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,gS),Kt,Rd),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,Rd),Xt,mn)),Oe,It)]),Oe,At),WS]),Oe,At),Z0]),Oe,At),(0,d.A)({error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}"},Oe,zt)]),Oe,At),ey]),Oe,At),ty]),Oe,At)]),Oe,At)]),Oe,At),YS]),Oe,At)]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Gu),ct,[Y0,Ao])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,lx),"error","S3 MRAP does not support dual-stack"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,yc),"error","S3 MRAP does not support FIPS"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,oy),"error","S3 MRAP does not support S3 Accelerate"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Hr),ct,[(0,d.A)({},Qt,"DisableMultiRegionAccessPoints"),Ao])]),"error","Invalid configuration: Multi-Region Access Point ARNs are disabled."),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,dm),ct,iy),bn,vS)]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[(0,d.A)({},Qt,vS),Kr]),(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"partition"])])]),bt,[(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}"),Kt,(0,d.A)({},Va,[(0,d.A)((0,d.A)((0,d.A)((0,d.A)({},fa,Ao),"name",U0),pa,mc),O0,["*"])])),Xt,mn)},Oe,It)]),Oe,At),(0,d.A)({error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`"},Oe,zt)]),Oe,At)]),Oe,At),(0,d.A)({error:"Invalid Access Point Name"},Oe,zt)]),Oe,At),QS]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[W0,Fd])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,lx),"error","S3 Outposts does not support Dual-stack"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,yc),"error","S3 Outposts does not support FIPS"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,oy),"error","S3 Outposts does not support S3 Accelerate"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Ai),ct,[(0,d.A)((0,d.A)({},lt,Ir),ct,[si,"resourceId[4]"])])]),"error","Invalid Arn: Outpost Access Point ARN contains sub resources"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,Ir),ct,rU),bn,L0)]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Sx),bt,[Q0,(0,d.A)((0,d.A)((0,d.A)({},Ye,ly),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Fx),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,cy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,dy),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,Ir),ct,aU),bn,yS)]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,Ir),ct,[si,"resourceId[3]"]),bn,j0)]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,yS),hS])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,vc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}"),Kt,JS),Xt,mn)),Oe,It),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}"),Kt,JS),Xt,mn)},Oe,It)]),Oe,At),(0,d.A)({error:"Expected an outpost type `accesspoint`, found {outpostType}"},Oe,zt)]),Oe,At),(0,d.A)({error:"Invalid ARN: expected an access point name"},Oe,zt)]),Oe,At),(0,d.A)({error:"Invalid ARN: Expected a 4-component resource"},Oe,zt)]),Oe,At),Z0]),Oe,At),ey]),Oe,At),ty]),Oe,At)]),Oe,At)]),Oe,At),(0,d.A)({error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`"},Oe,zt)]),Oe,At),(0,d.A)({error:"Invalid ARN: The Outpost Id was not set"},Oe,zt)]),Oe,At),(0,d.A)({error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})"},Oe,zt)]),Oe,At),(0,d.A)({error:"Invalid ARN: No ARN type specified"},Oe,zt)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)((0,d.A)({},lt,sr),ct,[Bn,0,4,!1]),bn,_S),(0,d.A)((0,d.A)({},lt,$n),ct,[(0,d.A)({},Qt,_S),"arn:"]),(0,d.A)((0,d.A)({},lt,Co),ct,[(0,d.A)((0,d.A)({},lt,Ai),ct,[ZS])])]),"error","Invalid ARN: `{Bucket}` was not a valid ARN"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Hr),ct,[QL,Ao]),ZS]),"error","Path-style addressing cannot be used with ARN buckets"),Oe,zt),(0,d.A)((0,d.A)((0,d.A)({},Ye,eU),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[Qr]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hn,hr,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hn,hr,In,ha]),bt,[(0,d.A)({endpoint:ex},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hn,hr,In,ga]),"endpoint",ex),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hn,hr,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hn,hr,In,ha]),bt,[(0,d.A)({endpoint:tx},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hn,hr,In,ga]),"endpoint",tx),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hn,Sn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hn,Sn,In,ha]),bt,[(0,d.A)({endpoint:nx},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[ur,hn,Sn,In,ga]),"endpoint",nx),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Xr,Xa,Sn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,bS),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Xr,Xa,Sn,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",ny),Oe,It),(0,d.A)({endpoint:ny},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,Xr,Xa,Sn,In,ga]),"endpoint",ny),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hn,Sn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,AS),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hn,Sn,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,AS),Kt,Jr),Xt,mn)),Oe,It),(0,d.A)({endpoint:rx},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Pn,hn,Sn,In,ga]),"endpoint",rx),Oe,It)]),Oe,At),(0,d.A)({error:"Path-style addressing cannot be used with S3 Accelerate"},Oe,zt)]),Oe,At)]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[(0,d.A)((0,d.A)({},lt,Ai),ct,[ax]),(0,d.A)((0,d.A)({},lt,Hr),ct,[ax,Ao])]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Px),bt,[zS,HS,(0,d.A)((0,d.A)((0,d.A)({},Ye,vc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,mm),Kt,ry),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,yc),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}"),Kt,ry),Xt,mn)),Oe,It),(0,d.A)({endpoint:(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}"),Kt,ry),Xt,mn)},Oe,It)]),Oe,At),ym]),Oe,At)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[IS]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Li),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,Px),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,ur,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,ur,hn,In,ha]),bt,[(0,d.A)({endpoint:ix},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,ur,hn,In,ga]),"endpoint",ix),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,Pn,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,Pn,hn,In,ha]),bt,[(0,d.A)({endpoint:ox},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[hr,Pn,hn,In,ga]),"endpoint",ox),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,ur,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,ur,hn,In,ha]),bt,[(0,d.A)({endpoint:sx},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,ur,hn,In,ga]),"endpoint",sx),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,Xr,Xa,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,mm),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,Xr,Xa,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",ay),Oe,It),(0,d.A)({endpoint:ay},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,Xr,Xa,In,ga]),"endpoint",ay),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,hn,sa]),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,CS),Kt,ma),Xt,mn)),Oe,It),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,hn,In,ha]),bt,[(0,d.A)((0,d.A)((0,d.A)({},Ye,ws),"endpoint",(0,d.A)((0,d.A)((0,d.A)({},Ht,CS),Kt,Jr),Xt,mn)),Oe,It),(0,d.A)({endpoint:ux},Oe,It)]),Oe,At),(0,d.A)((0,d.A)((0,d.A)({},Ye,[Sn,Pn,hn,In,ga]),"endpoint",ux),Oe,It)]),Oe,At),ym]),Oe,At)]),Oe,At)]),Oe,At),(0,d.A)({error:"A region must be set when sending requests to S3."},Oe,zt)]),sU=new KL.k({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Rx=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return sU.get(r,function(){return(0,XL.s)(oU,{endpointParams:r,logger:n.logger})})};qL.m.aws=HL.UF;var r,uU=["name","properties"],cU=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e,t){var s,u;return(0,Ke.A)().w(function(c){for(;;)switch(c.n){case 0:return s=(0,V0.u)(e).operation,c.n=1,(0,lm.t)(n.region)();case 1:if(u=c.v){c.n=2;break}u=function(){throw new Error("expected `region` to be configured for `aws.auth#sigv4`")}();case 2:return c.a(2,{operation:s,region:u})}},r)}));return function(n,e,t){return a.apply(this,arguments)}}(),dU=(r=cU,function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t,s,u){var l,c,p;return(0,Ke.A)().w(function(y){for(;;)switch(y.n){case 0:if(u){y.n=1;break}throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");case 1:return y.n=2,r(t,s,u);case 2:if(c=y.v,p=null===(l=(0,V0.u)(s))||void 0===l||null===(l=l.commandInstance)||void 0===l||null===(l=l.constructor)||void 0===l?void 0:l.getEndpointParameterInstructions){y.n=3;break}throw new Error("getEndpointParameterInstructions() is not defined on `".concat(s.commandName,"`"));case 3:return y.n=4,(0,zC.x)(u,{getEndpointParameterInstructions:p},t);case 4:return y.a(2,Object.assign(c,y.v))}},e)}));return function(e,t,s){return n.apply(this,arguments)}}());function Tx(a){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:a.region},propertiesExtractor:function(n,e){return{signingProperties:{config:n,context:e}}}}}function Mx(a){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:a.region},propertiesExtractor:function(n,e){return{signingProperties:{config:n,context:e}}}}}var mU=function(r,n,e){return function(u){var l,p=null===(l=r(u).properties)||void 0===l?void 0:l.authSchemes;if(!p)return function(r){var n=[];return n.push(Tx(r)),n.push(Mx(r)),n}(u);var x,m=[],y=(0,j.A)(p);try{for(y.s();!(x=y.n()).done;){var D=x.value,N=D.name,$=D.properties,q=void 0===$?{}:$,le=(0,ZC.A)(D,uU),ve=N.toLowerCase();N!==ve&&console.warn("HttpAuthScheme has been normalized with lowercasing: `".concat(N,"` to `").concat(ve,"`"));var Ae=void 0;if("sigv4a"===ve){Ae="aws.auth#sigv4a";var ge=p.find(function(ot){var at=ot.name.toLowerCase();return"sigv4a"!==at&&at.startsWith("sigv4")});if("none"===rS.sigv4aDependency()&&ge)continue}else{if(!ve.startsWith("sigv4"))throw new Error("Unknown HttpAuthScheme found in `@smithy.rules#endpointRuleSet`: `".concat(ve,"`"));Ae="aws.auth#sigv4"}var ke=e[Ae];if(!ke)throw new Error("Could not find HttpAuthOption create function for `".concat(Ae,"`"));var He=ke(u);He.schemeId=Ae,He.signingProperties=(0,_.A)((0,_.A)((0,_.A)({},He.signingProperties||{}),le),q),m.push(He)}}catch(ot){y.e(ot)}finally{y.f()}return m}}(Rx,0,{"aws.auth#sigv4":Tx,"aws.auth#sigv4a":Mx}),gU=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(ou.u.classBuilder().ep((0,_.A)((0,_.A)({},su),{},{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(a,r,n,e){return[(0,iu.TM)(n,this.serialize,this.deserialize),(0,au.r)(n,a.getEndpointParameterInstructions()),ru(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(function(r){return(0,_.A)((0,_.A)((0,_.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yr.$})},function(r){return(0,_.A)((0,_.A)((0,_.A)((0,_.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:Yr.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Yr.$}),r.Credentials&&{Credentials:nV(r.Credentials)})}).ser(hV).de(CV).build());function Ix(a){return"string"==typeof a?0===a.length:0===a.byteLength}var Vx={name:"SHA-1"},Nx={name:"HMAC",hash:Vx},_U=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]),Fs=b(3342),bU=function(){function a(r){this.toHash=new Uint8Array(0),void 0!==r&&(this.key=new Promise(function(n,e){(0,Fs.R)().crypto.subtle.importKey("raw",Ox(r),Nx,!1,["sign"]).then(n,e)}),this.key.catch(function(){}))}return a.prototype.update=function(r){if(!Ix(r)){var n=Ox(r),e=new Uint8Array(this.toHash.byteLength+n.byteLength);e.set(this.toHash,0),e.set(n,this.toHash.byteLength),this.toHash=e}},a.prototype.digest=function(){var r=this;return this.key?this.key.then(function(n){return(0,Fs.R)().crypto.subtle.sign(Nx,n,r.toHash).then(function(e){return new Uint8Array(e)})}):Ix(this.toHash)?Promise.resolve(_U):Promise.resolve().then(function(){return(0,Fs.R)().crypto.subtle.digest(Vx,r.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},a.prototype.reset=function(){this.toHash=new Uint8Array(0)},a}();function Ox(a){return"string"==typeof a?function(r){return(new TextEncoder).encode(r)}(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}var AU=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var xU=function(){function a(r){if(!function CU(a){return!(!function SU(a){return"object"==typeof a&&"object"==typeof a.crypto&&"function"==typeof a.crypto.getRandomValues}(a)||"object"!=typeof a.crypto.subtle)&&function Bx(a){return a&&AU.every(function(r){return"function"==typeof a[r]})}(a.crypto.subtle)}((0,Fs.R)()))throw new Error("SHA1 not supported");this.hash=new bU(r)}return a.prototype.update=function(r,n){this.hash.update((0,$r.convertToBuffer)(r))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}(),Lx={name:"SHA-256"},Ux={name:"HMAC",hash:Lx},EU=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),DU=function(){function a(r){this.toHash=new Uint8Array(0),this.secret=r,this.reset()}return a.prototype.update=function(r){if(!(0,$r.isEmptyData)(r)){var n=(0,$r.convertToBuffer)(r),e=new Uint8Array(this.toHash.byteLength+n.byteLength);e.set(this.toHash,0),e.set(n,this.toHash.byteLength),this.toHash=e}},a.prototype.digest=function(){var r=this;return this.key?this.key.then(function(n){return(0,Fs.R)().crypto.subtle.sign(Ux,n,r.toHash).then(function(e){return new Uint8Array(e)})}):(0,$r.isEmptyData)(this.toHash)?Promise.resolve(EU):Promise.resolve().then(function(){return(0,Fs.R)().crypto.subtle.digest(Lx,r.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},a.prototype.reset=function(){var r=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(n,e){(0,Fs.R)().crypto.subtle.importKey("raw",(0,$r.convertToBuffer)(r.secret),Ux,!1,["sign"]).then(n,e)}),this.key.catch(function(){}))},a}(),FU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],PU=Math.pow(2,53)-1,_m=function(){function a(){this.state=Int32Array.from(kU),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return a.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,e=r.byteLength;if(this.bytesHashed+=e,8*this.bytesHashed>PU)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;e>0;)this.buffer[this.bufferLength++]=r[n++],e--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},a.prototype.digest=function(){if(!this.finished){var r=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),e=this.bufferLength;if(n.setUint8(this.bufferLength++,128),e%64>=56){for(var t=this.bufferLength;t<64;t++)n.setUint8(t,0);this.hashBuffer(),this.bufferLength=0}for(t=this.bufferLength;t<56;t++)n.setUint8(t,0);n.setUint32(56,Math.floor(r/4294967296),!0),n.setUint32(60,r),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(32);for(t=0;t<8;t++)s[4*t]=this.state[t]>>>24&255,s[4*t+1]=this.state[t]>>>16&255,s[4*t+2]=this.state[t]>>>8&255,s[4*t+3]=this.state[t]>>>0&255;return s},a.prototype.hashBuffer=function(){for(var n=this.buffer,e=this.state,t=e[0],s=e[1],u=e[2],l=e[3],c=e[4],p=e[5],m=e[6],y=e[7],x=0;x<64;x++){if(x<16)this.temp[x]=(255&n[4*x])<<24|(255&n[4*x+1])<<16|(255&n[4*x+2])<<8|255&n[4*x+3];else{var D=this.temp[x-2];this.temp[x]=(((D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10)+this.temp[x-7]|0)+((((D=this.temp[x-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)+this.temp[x-16]|0)}var q=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&p^~c&m)|0)+(y+(FU[x]+this.temp[x]|0)|0)|0,le=((t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10))+(t&s^t&u^s&u)|0;y=m,m=p,p=c,c=l+q|0,l=u,u=s,s=t,t=q+le|0}e[0]+=t,e[1]+=s,e[2]+=u,e[3]+=l,e[4]+=c,e[5]+=p,e[6]+=m,e[7]+=y},a}(),RU=function(){function a(r){this.secret=r,this.hash=new _m,this.reset()}return a.prototype.update=function(r){if(!(0,$r.isEmptyData)(r)&&!this.error)try{this.hash.update((0,$r.convertToBuffer)(r))}catch(n){this.error=n}},a.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},a.prototype.digest=function(){return(0,eo.__awaiter)(this,void 0,void 0,function(){return(0,eo.__generator)(this,function(r){return[2,this.digestSync()]})})},a.prototype.reset=function(){if(this.hash=new _m,this.secret){this.outer=new _m;var r=function TU(a){var r=(0,$r.convertToBuffer)(a);if(r.byteLength>64){var n=new _m;n.update(r),r=n.digest()}var e=new Uint8Array(64);return e.set(r),e}(this.secret),n=new Uint8Array(64);n.set(r);for(var e=0;e<64;e++)r[e]^=54,n[e]^=92;for(this.hash.update(r),this.outer.update(n),e=0;e<r.byteLength;e++)r[e]=0}},a}(),MU=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var NU=function(){function a(r){this.hash=function IU(a){return!(!function VU(a){return"object"==typeof a&&"object"==typeof a.crypto&&"function"==typeof a.crypto.getRandomValues}(a)||"object"!=typeof a.crypto.subtle)&&function Gx(a){return a&&MU.every(function(r){return"function"==typeof a[r]})}(a.crypto.subtle)}((0,Fs.R)())?new DU(r):new RU(r)}return a.prototype.update=function(r,n){this.hash.update((0,$r.convertToBuffer)(r))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}(),OU=b(1587),BU=b(3668),LU=b(2502);!function(){function a(){this.crc32=new Td}a.prototype.update=function(r){(0,$r.isEmptyData)(r)||this.crc32.update((0,$r.convertToBuffer)(r))},a.prototype.digest=function(){return(0,eo.__awaiter)(this,void 0,void 0,function(){return(0,eo.__generator)(this,function(r){return[2,(0,$r.numToUint8)(this.crc32.digest())]})})},a.prototype.reset=function(){this.crc32=new Td}}();var Td=function(){function a(){this.checksum=4294967295}return a.prototype.update=function(r){var n,e;try{for(var t=(0,eo.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^GU[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},a.prototype.digest=function(){return(4294967295^this.checksum)>>>0},a}(),GU=(0,$r.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ks=b(4576),fy=function(){function a(r){if((0,v.A)(this,a),(0,d.A)(this,"bytes",void 0),this.bytes=r,8!==r.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,g.A)(a,[{key:"valueOf",value:function(){var n=this.bytes.slice(0),e=128&n[0];return e&&jx(n),parseInt((0,ks.n)(n),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error("".concat(n," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),t=7,s=Math.abs(Math.round(n));t>-1&&s>0;t--,s/=256)e[t]=s;return n<0&&jx(e),new a(e)}}])}();function jx(a){for(var r=0;r<8;r++)a[r]^=255;for(var n=7;n>-1&&(a[n]++,0===a[n]);n--);}var jU=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"toUtf8",void 0),(0,d.A)(this,"fromUtf8",void 0),this.toUtf8=r,this.fromUtf8=n},[{key:"format",value:function(n){for(var e=[],t=0,s=Object.keys(n);t<s.length;t++){var u=s[t],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[u]))}for(var c=new Uint8Array(e.reduce(function(D,N){return D+N.byteLength},0)),p=0,m=0,y=e;m<y.length;m++){var x=y[m];c.set(x,p),p+=x.byteLength}return c}},{key:"formatHeaderValue",value:function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+n.value.byteLength));u.setUint8(0,6),u.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(n.value,3),l;case"string":var c=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+c.byteLength));p.setUint8(0,7),p.setUint16(1,c.byteLength,!1);var m=new Uint8Array(p.buffer);return m.set(c,3),m;case"timestamp":var y=new Uint8Array(9);return y[0]=8,y.set(fy.fromNumber(n.value.valueOf()).bytes,1),y;case"uuid":if(!JU.test(n.value))throw new Error("Invalid UUID received: ".concat(n.value));var x=new Uint8Array(17);return x[0]=9,x.set((0,ks.a)(n.value.replace(/\-/g,"")),1),x}}},{key:"parse",value:function(n){for(var e={},t=0;t<n.byteLength;){var s=n.getUint8(t++),u=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,s));switch(t+=s,n.getUint8(t++)){case 0:e[u]={type:$x,value:!0};break;case 1:e[u]={type:$x,value:!1};break;case 2:e[u]={type:zU,value:n.getInt8(t++)};break;case 3:e[u]={type:HU,value:n.getInt16(t,!1)},t+=2;break;case 4:e[u]={type:KU,value:n.getInt32(t,!1)},t+=4;break;case 5:e[u]={type:XU,value:new fy(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var l=n.getUint16(t,!1);t+=2,e[u]={type:qU,value:new Uint8Array(n.buffer,n.byteOffset+t,l)},t+=l;break;case 7:var c=n.getUint16(t,!1);t+=2,e[u]={type:WU,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,c))},t+=c;break;case 8:e[u]={type:YU,value:new Date(new fy(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,e[u]={type:QU,value:"".concat((0,ks.n)(p.subarray(0,4)),"-").concat((0,ks.n)(p.subarray(4,6)),"-").concat((0,ks.n)(p.subarray(6,8)),"-").concat((0,ks.n)(p.subarray(8,10)),"-").concat((0,ks.n)(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}])}(),$x="boolean",zU="byte",HU="short",KU="integer",XU="long",qU="binary",WU="string",YU="timestamp",QU="uuid",JU=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,t7=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),(0,d.A)(this,"headerMarshaller",void 0),(0,d.A)(this,"messageBuffer",void 0),(0,d.A)(this,"isEndOfStream",void 0),this.headerMarshaller=new jU(r,n),this.messageBuffer=[],this.isEndOfStream=!1},[{key:"feed",value:function(n){this.messageBuffer.push(this.decode(n))}},{key:"endOfStream",value:function(){this.isEndOfStream=!0}},{key:"getMessage",value:function(){var n=this.messageBuffer.pop(),e=this.isEndOfStream;return{getMessage:function(){return n},isEndOfStream:function(){return e}}}},{key:"getAvailableMessages",value:function(){var n=this.messageBuffer;this.messageBuffer=[];var e=this.isEndOfStream;return{getMessages:function(){return n},isEndOfStream:function(){return e}}}},{key:"encode",value:function(n){var t=n.body,s=this.headerMarshaller.format(n.headers),u=s.byteLength+t.byteLength+16,l=new Uint8Array(u),c=new DataView(l.buffer,l.byteOffset,l.byteLength),p=new Td;return c.setUint32(0,u,!1),c.setUint32(4,s.byteLength,!1),c.setUint32(8,p.update(l.subarray(0,8)).digest(),!1),l.set(s,12),l.set(t,s.byteLength+12),c.setUint32(u-4,p.update(l.subarray(8,u-4)).digest(),!1),l}},{key:"decode",value:function(n){var e=function e7(a){var r=a.byteLength,n=a.byteOffset,e=a.buffer;if(r<16)throw new Error("Provided message too short to accommodate event stream message overhead");var t=new DataView(e,n,r),s=t.getUint32(0,!1);if(r!==s)throw new Error("Reported message length does not match received message length");var u=t.getUint32(4,!1),l=t.getUint32(8,!1),c=t.getUint32(r-4,!1),p=(new Td).update(new Uint8Array(e,n,8));if(l!==p.digest())throw new Error("The prelude checksum specified in the message (".concat(l,") does not match the calculated CRC32 checksum (").concat(p.digest(),")"));if(p.update(new Uint8Array(e,n+8,r-12)),c!==p.digest())throw new Error("The message checksum (".concat(p.digest(),") did not match the expected value of ").concat(c));return{headers:new DataView(e,n+8+4,u),body:new Uint8Array(e,n+8+4+u,s-u-16)}}(n),s=e.body;return{headers:this.headerMarshaller.parse(e.headers),body:s}}},{key:"formatHeaders",value:function(n){return this.headerMarshaller.format(n)}}])}(),n7=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return bo((0,Ke.A)().m(function e(){var t,s,u,l,c,p,m;return(0,Ke.A)().w(function(x){for(;;)switch(x.p=x.n){case 0:t=!1,s=!1,x.p=1,l=nu(n.options.messageStream);case 2:return x.n=3,Ia(l.next());case 3:if(!(t=!(c=x.v).done)){x.n=7;break}return p=c.value,x.n=4,Ia(n.options.deserializer(p));case 4:if(void 0!==(m=x.v)){x.n=5;break}return x.a(3,6);case 5:return x.n=6,m;case 6:t=!1,x.n=2;break;case 7:x.n=9;break;case 8:x.p=8,s=!0,u=x.v;case 9:if(x.p=9,x.p=10,!t||null==l.return){x.n=11;break}return x.n=11,Ia(l.return());case 11:if(x.p=11,!s){x.n=12;break}throw u;case 12:return x.f(11);case 13:return x.f(9);case 14:return x.a(2)}},e,null,[[10,,11,13],[1,8,9,14]])}))()}}])}(),r7=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return bo((0,Ke.A)().m(function e(){var t,s,u,l,c,m;return(0,Ke.A)().w(function(x){for(;;)switch(x.p=x.n){case 0:t=!1,s=!1,x.p=1,l=nu(n.options.inputStream);case 2:return x.n=3,Ia(l.next());case 3:if(!(t=!(c=x.v).done)){x.n=5;break}return m=n.options.decoder.decode(c.value),x.n=4,m;case 4:t=!1,x.n=2;break;case 5:x.n=7;break;case 6:x.p=6,s=!0,u=x.v;case 7:if(x.p=7,x.p=8,!t||null==l.return){x.n=9;break}return x.n=9,Ia(l.return());case 9:if(x.p=9,!s){x.n=10;break}throw u;case 10:return x.f(9);case 11:return x.f(7);case 12:return x.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}(),a7=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return bo((0,Ke.A)().m(function e(){var t,s,u,l,c,m;return(0,Ke.A)().w(function(x){for(;;)switch(x.p=x.n){case 0:t=!1,s=!1,x.p=1,l=nu(n.options.messageStream);case 2:return x.n=3,Ia(l.next());case 3:if(!(t=!(c=x.v).done)){x.n=5;break}return m=n.options.encoder.encode(c.value),x.n=4,m;case 4:t=!1,x.n=2;break;case 5:x.n=7;break;case 6:x.p=6,s=!0,u=x.v;case 7:if(x.p=7,x.p=8,!t||null==l.return){x.n=9;break}return x.n=9,Ia(l.return());case 9:if(x.p=9,!s){x.n=10;break}throw u;case 10:return x.f(9);case 11:return x.f(7);case 12:if(!n.options.includeEndFrame){x.n=13;break}return x.n=13,new Uint8Array(0);case 13:return x.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}(),o7=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return bo((0,Ke.A)().m(function e(){var t,s,u,l,c,m;return(0,Ke.A)().w(function(x){for(;;)switch(x.p=x.n){case 0:t=!1,s=!1,x.p=1,l=nu(n.options.inputStream);case 2:return x.n=3,Ia(l.next());case 3:if(!(t=!(c=x.v).done)){x.n=5;break}return m=n.options.serializer(c.value),x.n=4,m;case 4:t=!1,x.n=2;break;case 5:x.n=7;break;case 6:x.p=6,s=!0,u=x.v;case 7:if(x.p=7,x.p=8,!t||null==l.return){x.n=9;break}return x.n=9,Ia(l.return());case 9:if(x.p=9,!s){x.n=10;break}throw u;case 10:return x.f(9);case 11:return x.f(7);case 12:return x.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}();function Hx(a,r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,u,l,c,p,m,y,x;return(0,Ke.A)().w(function(D){for(;;)switch(D.n){case 0:if("error"!==(s=t.headers[":message-type"].value)){D.n=1;break}throw(u=new Error(t.headers[":error-message"].value||"UnknownError")).name=t.headers[":error-code"].value,u;case 1:if("exception"!==s){D.n=4;break}return c=(0,d.A)({},l=t.headers[":exception-type"].value,t),D.n=2,a(c);case 2:if(!(p=D.v).$unknown){D.n=3;break}throw(m=new Error(r(t.body))).name=l,m;case 3:throw p[l];case 4:if("event"!==s){D.n=7;break}return y=(0,d.A)({},t.headers[":event-type"].value,t),D.n=5,a(y);case 5:if(!(x=D.v).$unknown){D.n=6;break}return D.a(2);case 6:return D.a(2,x);case 7:throw Error("Unrecognizable event type: ".concat(t.headers[":event-type"].value));case 8:return D.a(2)}},e)}));return function(e){return n.apply(this,arguments)}}()}var u7=function(){return(0,g.A)(function a(r){var n=r.utf8Encoder,e=r.utf8Decoder;(0,v.A)(this,a),(0,d.A)(this,"eventStreamCodec",void 0),(0,d.A)(this,"utfEncoder",void 0),this.eventStreamCodec=new t7(n,e),this.utfEncoder=n},[{key:"deserialize",value:function(n,e){var t=function s7(a){var r=0,n=0,e=null,t=null,s=function(c){if("number"!=typeof c)throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,n=4,e=new Uint8Array(c),new DataView(e.buffer).setUint32(0,c,!1)},u=function(){var l=bo((0,Ke.A)().m(function c(){var p,m,y,D,N,$,q,le;return(0,Ke.A)().w(function(ve){for(;;)switch(ve.n){case 0:p=a[Symbol.asyncIterator]();case 1:return ve.n=2,Ia(p.next());case 2:if(y=(m=ve.v).value,!m.done){ve.n=7;break}if(r){ve.n=3;break}return ve.a(2);case 3:if(r!==n){ve.n=5;break}return ve.n=4,e;case 4:ve.n=6;break;case 5:throw new Error("Truncated event message received.");case 6:return ve.a(2);case 7:D=y.length,N=0;case 8:if(!(N<D)){ve.n=13;break}if(e){ve.n=10;break}if($=D-N,t||(t=new Uint8Array(4)),q=Math.min(4-n,$),t.set(y.slice(N,N+q),n),N+=q,!((n+=q)<4)){ve.n=9;break}return ve.a(3,13);case 9:s(new DataView(t.buffer).getUint32(0,!1)),t=null;case 10:if(le=Math.min(r-n,D-N),e.set(y.slice(N,N+le),n),n+=le,N+=le,!r||r!==n){ve.n=12;break}return ve.n=11,e;case 11:e=null,r=0,n=0;case 12:ve.n=8;break;case 13:ve.n=1;break;case 14:return ve.a(2)}},c)}));return function(){return l.apply(this,arguments)}}();return(0,d.A)({},Symbol.asyncIterator,u)}(n);return new n7({messageStream:new r7({inputStream:t,decoder:this.eventStreamCodec}),deserializer:Hx(e,this.utfEncoder)})}},{key:"serialize",value:function(n,e){return new a7({messageStream:new o7({inputStream:n,serializer:e}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}])}(),d7=function(){return(0,g.A)(function a(r){var n=r.utf8Encoder,e=r.utf8Decoder;(0,v.A)(this,a),(0,d.A)(this,"universalMarshaller",void 0),this.universalMarshaller=new u7({utf8Decoder:e,utf8Encoder:n})},[{key:"deserialize",value:function(n,e){var t=f7(n)?function(r){return(0,d.A)({},Symbol.asyncIterator,bo((0,Ke.A)().m(function n(){var e,t,u;return(0,Ke.A)().w(function(l){for(;;)switch(l.p=l.n){case 0:e=r.getReader(),l.p=1;case 2:return l.n=3,Ia(e.read());case 3:if(u=(t=l.v).value,!t.done){l.n=4;break}return l.a(2);case 4:return l.n=5,u;case 5:l.n=2;break;case 6:return l.p=6,e.releaseLock(),l.f(6);case 7:return l.a(2)}},n,null,[[1,,6,7]])})))}(n):n;return this.universalMarshaller.deserialize(t,e)}},{key:"serialize",value:function(n,e){var t=this.universalMarshaller.serialize(n,e);return"function"==typeof ReadableStream?function(r){var n=r[Symbol.asyncIterator]();return new ReadableStream({pull:function(t){return(0,Mt.A)((0,Ke.A)().m(function s(){var u,c;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:return p.n=1,n.next();case 1:if(c=(u=p.v).value,!u.done){p.n=2;break}return p.a(2,t.close());case 2:t.enqueue(c);case 3:return p.a(2)}},s)}))()}})}(t):t}}])}(),f7=function(r){return"function"==typeof ReadableStream&&r instanceof ReadableStream},p7=function(r){return new d7(r)},m7=b(7011),Kx=b(6992);function h7(a,r){return py.apply(this,arguments)}function py(){return py=(0,Mt.A)(function(a,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1048576;return(0,Ke.A)().m(function e(){var t,s,u,l,c;return(0,Ke.A)().w(function(m){for(;;)switch(m.n){case 0:t=a.size,s=0;case 1:if(!(s<t)){m.n=3;break}return u=a.slice(s,Math.min(t,s+n)),l=r,c=Uint8Array,m.n=2,u.arrayBuffer();case 2:l(new c(m.v)),s+=u.size,m.n=1;break;case 3:return m.a(2)}},e)})()}),py.apply(this,arguments)}var g7=function(){var a=(0,Mt.A)((0,Ke.A)().m(function n(e,t){var s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:return s=new e,u.n=1,h7(t,function(l){s.update(l)});case 1:return u.a(2,s.digest())}},n)}));return function r(n,e){return a.apply(this,arguments)}}(),v7=b(2499),Xx=b(7521),_7=[1732584193,4023233417,2562383102,271733878],b7=function(){return(0,g.A)(function a(){(0,v.A)(this,a),(0,d.A)(this,"state",void 0),(0,d.A)(this,"buffer",void 0),(0,d.A)(this,"bufferLength",void 0),(0,d.A)(this,"bytesHashed",void 0),(0,d.A)(this,"finished",void 0),this.reset()},[{key:"update",value:function(n){if(!function A7(a){return"string"==typeof a?0===a.length:0===a.byteLength}(n)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=function C7(a){return"string"==typeof a?(0,Xx.a)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}(n),t=0,s=e.byteLength;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,e[t++]),s--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}}},{key:"digest",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(){var t,s,l,c,p,m,y;return(0,Ke.A)().w(function(x){for(;;)if(0===x.n){if(!this.finished){if(s=this.bufferLength,l=8*this.bytesHashed,(t=this.buffer).setUint8(this.bufferLength++,128),s%64>=56){for(c=this.bufferLength;c<64;c++)t.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(p=this.bufferLength;p<56;p++)t.setUint8(p,0);t.setUint32(56,l>>>0,!0),t.setUint32(60,Math.floor(l/4294967296),!0),this.hashBuffer(),this.finished=!0}for(m=new DataView(new ArrayBuffer(16)),y=0;y<4;y++)m.setUint32(4*y,this.state[y],!0);return x.a(2,new Uint8Array(m.buffer,m.byteOffset,m.byteLength))}},e,this)}));return function n(){return r.apply(this,arguments)}}()},{key:"hashBuffer",value:function(){var n=this.buffer,e=this.state,t=e[0],s=e[1],u=e[2],l=e[3];t=Na(t,s,u,l,n.getUint32(0,!0),7,3614090360),l=Na(l,t,s,u,n.getUint32(4,!0),12,3905402710),u=Na(u,l,t,s,n.getUint32(8,!0),17,606105819),s=Na(s,u,l,t,n.getUint32(12,!0),22,3250441966),t=Na(t,s,u,l,n.getUint32(16,!0),7,4118548399),l=Na(l,t,s,u,n.getUint32(20,!0),12,1200080426),u=Na(u,l,t,s,n.getUint32(24,!0),17,2821735955),s=Na(s,u,l,t,n.getUint32(28,!0),22,4249261313),t=Na(t,s,u,l,n.getUint32(32,!0),7,1770035416),l=Na(l,t,s,u,n.getUint32(36,!0),12,2336552879),u=Na(u,l,t,s,n.getUint32(40,!0),17,4294925233),s=Na(s,u,l,t,n.getUint32(44,!0),22,2304563134),t=Na(t,s,u,l,n.getUint32(48,!0),7,1804603682),l=Na(l,t,s,u,n.getUint32(52,!0),12,4254626195),u=Na(u,l,t,s,n.getUint32(56,!0),17,2792965006),t=Oa(t,s=Na(s,u,l,t,n.getUint32(60,!0),22,1236535329),u,l,n.getUint32(4,!0),5,4129170786),l=Oa(l,t,s,u,n.getUint32(24,!0),9,3225465664),u=Oa(u,l,t,s,n.getUint32(44,!0),14,643717713),s=Oa(s,u,l,t,n.getUint32(0,!0),20,3921069994),t=Oa(t,s,u,l,n.getUint32(20,!0),5,3593408605),l=Oa(l,t,s,u,n.getUint32(40,!0),9,38016083),u=Oa(u,l,t,s,n.getUint32(60,!0),14,3634488961),s=Oa(s,u,l,t,n.getUint32(16,!0),20,3889429448),t=Oa(t,s,u,l,n.getUint32(36,!0),5,568446438),l=Oa(l,t,s,u,n.getUint32(56,!0),9,3275163606),u=Oa(u,l,t,s,n.getUint32(12,!0),14,4107603335),s=Oa(s,u,l,t,n.getUint32(32,!0),20,1163531501),t=Oa(t,s,u,l,n.getUint32(52,!0),5,2850285829),l=Oa(l,t,s,u,n.getUint32(8,!0),9,4243563512),u=Oa(u,l,t,s,n.getUint32(28,!0),14,1735328473),t=Ba(t,s=Oa(s,u,l,t,n.getUint32(48,!0),20,2368359562),u,l,n.getUint32(20,!0),4,4294588738),l=Ba(l,t,s,u,n.getUint32(32,!0),11,2272392833),u=Ba(u,l,t,s,n.getUint32(44,!0),16,1839030562),s=Ba(s,u,l,t,n.getUint32(56,!0),23,4259657740),t=Ba(t,s,u,l,n.getUint32(4,!0),4,2763975236),l=Ba(l,t,s,u,n.getUint32(16,!0),11,1272893353),u=Ba(u,l,t,s,n.getUint32(28,!0),16,4139469664),s=Ba(s,u,l,t,n.getUint32(40,!0),23,3200236656),t=Ba(t,s,u,l,n.getUint32(52,!0),4,681279174),l=Ba(l,t,s,u,n.getUint32(0,!0),11,3936430074),u=Ba(u,l,t,s,n.getUint32(12,!0),16,3572445317),s=Ba(s,u,l,t,n.getUint32(24,!0),23,76029189),t=Ba(t,s,u,l,n.getUint32(36,!0),4,3654602809),l=Ba(l,t,s,u,n.getUint32(48,!0),11,3873151461),u=Ba(u,l,t,s,n.getUint32(60,!0),16,530742520),t=La(t,s=Ba(s,u,l,t,n.getUint32(8,!0),23,3299628645),u,l,n.getUint32(0,!0),6,4096336452),l=La(l,t,s,u,n.getUint32(28,!0),10,1126891415),u=La(u,l,t,s,n.getUint32(56,!0),15,2878612391),s=La(s,u,l,t,n.getUint32(20,!0),21,4237533241),t=La(t,s,u,l,n.getUint32(48,!0),6,1700485571),l=La(l,t,s,u,n.getUint32(12,!0),10,2399980690),u=La(u,l,t,s,n.getUint32(40,!0),15,4293915773),s=La(s,u,l,t,n.getUint32(4,!0),21,2240044497),t=La(t,s,u,l,n.getUint32(32,!0),6,1873313359),l=La(l,t,s,u,n.getUint32(60,!0),10,4264355552),u=La(u,l,t,s,n.getUint32(24,!0),15,2734768916),s=La(s,u,l,t,n.getUint32(52,!0),21,1309151649),t=La(t,s,u,l,n.getUint32(16,!0),6,4149444226),l=La(l,t,s,u,n.getUint32(44,!0),10,3174756917),u=La(u,l,t,s,n.getUint32(8,!0),15,718787259),s=La(s,u,l,t,n.getUint32(36,!0),21,3951481745),e[0]=t+e[0]&4294967295,e[1]=s+e[1]&4294967295,e[2]=u+e[2]&4294967295,e[3]=l+e[3]&4294967295}},{key:"reset",value:function(){this.state=Uint32Array.from(_7),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}])}();function bm(a,r,n,e,t,s){return((r=(r+a&4294967295)+(e+s&4294967295)&4294967295)<<t|r>>>32-t)+n&4294967295}function Na(a,r,n,e,t,s,u){return bm(r&n|~r&e,a,r,t,s,u)}function Oa(a,r,n,e,t,s,u){return bm(r&e|n&~e,a,r,t,s,u)}function Ba(a,r,n,e,t,s,u){return bm(r^n^e,a,r,t,s,u)}function La(a,r,n,e,t,s,u){return bm(n^(r|~e),a,r,t,s,u)}var S7=b(9153),qx=b(7439),my=b(7404),x7=b(8178),E7=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r,[{key:"sign",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(s,u,l){var c,p,m,y,x,D,N,$,le;return(0,Ke.A)().w(function(Ae){for(;;)switch(Ae.n){case 0:if(As.K.isInstance(s)){Ae.n=1;break}throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");case 1:return Ae.n=2,(0,my.pz)(l);case 2:return y=(m=Ae.v).config,x=m.signer,D=m.signingRegion,N=m.signingRegionSet,$=m.signingName,Ae.n=3,null===(c=y.sigv4aSigningRegionSet)||void 0===c?void 0:c.call(y);case 3:return le=(null!==(p=Ae.v??N)&&void 0!==p?p:[D]).join(","),Ae.n=4,x.sign(s,{signingDate:(0,x7.C)(y.systemClockOffset),signingRegion:le,signingService:$});case 4:return Ae.a(2,Ae.v)}},t)})),function e(t,s,u){return n.apply(this,arguments)})}]);var n}(my.f2),D7=b(993),w7=b(8833),F7=function(r,n){var e=n.base64Encoder,t=n.bodyLengthChecker,s=n.checksumAlgorithmFn,u=n.checksumLocationName,l=n.streamHasher,c=void 0!==e&&void 0!==t&&void 0!==s&&void 0!==u&&void 0!==l,p=c?l(s,r):void 0,m=r.getReader();return new ReadableStream({pull:function(x){return(0,Mt.A)((0,Ke.A)().m(function D(){var N,$,le,ve;return(0,Ke.A)().w(function(Ae){for(;;)switch(Ae.n){case 0:return Ae.n=1,m.read();case 1:if($=(N=Ae.v).value,!N.done){Ae.n=4;break}if(x.enqueue("0\r\n"),!c){Ae.n=3;break}return ve=e,Ae.n=2,p;case 2:le=ve(Ae.v),x.enqueue("".concat(u,":").concat(le,"\r\n")),x.enqueue("\r\n");case 3:x.close(),Ae.n=5;break;case 4:x.enqueue("".concat((t($)||0).toString(16),"\r\n").concat($,"\r\n"));case 5:return Ae.a(2)}},D)}))()}})},Wx=b(6044),Yx="The stream has already been transformed.",k7=function(r){if(!Qx(r)&&!Kg(r)){var n,e=(null==r||null===(n=r.__proto__)||void 0===n||null===(n=n.constructor)||void 0===n?void 0:n.name)||r;throw new Error("Unexpected stream implementation, expect Blob or ReadableStream, got ".concat(e))}var l,t=!1,s=function(){var l=(0,Mt.A)((0,Ke.A)().m(function c(){return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:if(!t){p.n=1;break}throw new Error(Yx);case 1:return t=!0,p.n=2,(0,Kx.k)(r);case 2:return p.a(2,p.v)}},c)}));return function(){return l.apply(this,arguments)}}();return Object.assign(r,{transformToByteArray:s,transformToString:(l=(0,Mt.A)((0,Ke.A)().m(function p(m){var y;return(0,Ke.A)().w(function(x){for(;;)switch(x.n){case 0:return x.n=1,s();case 1:if(y=x.v,"base64"!==m){x.n=2;break}return x.a(2,(0,Hg.n)(y));case 2:if("hex"!==m){x.n=3;break}return x.a(2,(0,ks.n)(y));case 3:if(void 0!==m&&"utf8"!==m&&"utf-8"!==m){x.n=4;break}return x.a(2,(0,Wx.P)(y));case 4:if("function"!=typeof TextDecoder){x.n=5;break}return x.a(2,new TextDecoder(m).decode(y));case 5:throw new Error("TextDecoder is not available, please make sure polyfill is provided.");case 6:return x.a(2)}},p)})),function c(p){return l.apply(this,arguments)}),transformToWebStream:function(){if(t)throw new Error(Yx);if(t=!0,Qx(r))return function(c){if("function"!=typeof c.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return c.stream()}(r);if(Kg(r))return r;throw new Error("Cannot transform payload to web stream, got ".concat(r))}})},Qx=function(r){return"function"==typeof Blob&&r instanceof Blob},R7=b(8526),T7=b(5208),Jx=b(5647),Zx=b(4811),eE=b(6747),O7=function(a){function r(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var u=t[0];(0,v.A)(this,r);var l=function(r){var n,e,t,s,u,l,c,p,m,y,x,D,N,$,q,le=(0,T7.I)(r),ve=function(){return le().then(R7.l)},Ae=function(r){var n,e,t,s,u,l,c,p,m,y,x,D,N,$,q,le,ve;return{apiVersion:"2006-03-01",base64Decoder:null!==(n=r?.base64Decoder)&&void 0!==n?n:w7.E,base64Encoder:null!==(e=r?.base64Encoder)&&void 0!==e?e:Hg.n,disableHostPrefix:null!==(t=r?.disableHostPrefix)&&void 0!==t&&t,endpointProvider:null!==(s=r?.endpointProvider)&&void 0!==s?s:Rx,extensions:null!==(u=r?.extensions)&&void 0!==u?u:[],getAwsChunkedEncodingStream:null!==(l=r?.getAwsChunkedEncodingStream)&&void 0!==l?l:F7,httpAuthSchemeProvider:null!==(c=r?.httpAuthSchemeProvider)&&void 0!==c?c:mU,httpAuthSchemes:null!==(p=r?.httpAuthSchemes)&&void 0!==p?p:[{schemeId:"aws.auth#sigv4",identityProvider:function(ge){return ge.getIdentityProvider("aws.auth#sigv4")},signer:new my.f2},{schemeId:"aws.auth#sigv4a",identityProvider:function(ge){return ge.getIdentityProvider("aws.auth#sigv4a")},signer:new E7}],logger:null!==(m=r?.logger)&&void 0!==m?m:new D1.N,sdkStreamMixin:null!==(y=r?.sdkStreamMixin)&&void 0!==y?y:k7,serviceId:null!==(x=r?.serviceId)&&void 0!==x?x:"S3",signerConstructor:null!==(D=r?.signerConstructor)&&void 0!==D?D:rS,signingEscapePath:null!==(N=r?.signingEscapePath)&&void 0!==N&&N,urlParser:null!==($=r?.urlParser)&&void 0!==$?$:D7.D,useArnRegion:null!==(q=r?.useArnRegion)&&void 0!==q?q:void 0,utf8Decoder:null!==(le=r?.utf8Decoder)&&void 0!==le?le:Xx.a,utf8Encoder:null!==(ve=r?.utf8Encoder)&&void 0!==ve?ve:Wx.P}}(r);return(0,_.A)((0,_.A)((0,_.A)({},Ae),r),{},{runtime:"browser",defaultsMode:le,bodyLengthChecker:null!==(n=r?.bodyLengthChecker)&&void 0!==n?n:S7.n,credentialDefaultProvider:null!==(e=r?.credentialDefaultProvider)&&void 0!==e?e:function(ge){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(t=r?.defaultUserAgentProvider)&&void 0!==t?t:(0,OU.pf)({serviceId:Ae.serviceId,clientVersion:"3.919.0"}),eventStreamSerdeProvider:null!==(s=r?.eventStreamSerdeProvider)&&void 0!==s?s:p7,maxAttempts:null!==(u=r?.maxAttempts)&&void 0!==u?u:qx.Gz,md5:null!==(l=r?.md5)&&void 0!==l?l:b7,region:null!==(c=r?.region)&&void 0!==c?c:(0,v7.B)("Region is missing"),requestHandler:m7.N.create(null!==(p=r?.requestHandler)&&void 0!==p?p:ve),retryMode:null!==(m=r?.retryMode)&&void 0!==m?m:(0,Mt.A)((0,Ke.A)().m(function ge(){var ke;return(0,Ke.A)().w(function(He){for(;;)switch(He.n){case 0:return He.n=1,ve();case 1:if(ke=He.v.retryMode){He.n=2;break}ke=qx.L0;case 2:return He.a(2,ke)}},ge)})),sha1:null!==(y=r?.sha1)&&void 0!==y?y:xU,sha256:null!==(x=r?.sha256)&&void 0!==x?x:NU,streamCollector:null!==(D=r?.streamCollector)&&void 0!==D?D:Kx.k,streamHasher:null!==(N=r?.streamHasher)&&void 0!==N?N:g7,useDualstackEndpoint:null!==($=r?.useDualstackEndpoint)&&void 0!==$?$:function(){return Promise.resolve(BU.VW)},useFipsEndpoint:null!==(q=r?.useFipsEndpoint)&&void 0!==q?q:function(){return Promise.resolve(LU.Hj)}})}(u||{});n=(0,w.A)(this,r,[l]),(0,d.A)(n,"config",void 0),n.initConfig=l;var Ae,c=function(r){var n,e,t,s,u,l;return Object.assign(r,{useFipsEndpoint:null!==(n=r.useFipsEndpoint)&&void 0!==n&&n,useDualstackEndpoint:null!==(e=r.useDualstackEndpoint)&&void 0!==e&&e,forcePathStyle:null!==(t=r.forcePathStyle)&&void 0!==t&&t,useAccelerateEndpoint:null!==(s=r.useAccelerateEndpoint)&&void 0!==s&&s,useGlobalEndpoint:null!==(u=r.useGlobalEndpoint)&&void 0!==u&&u,disableMultiregionAccessPoints:null!==(l=r.disableMultiregionAccessPoints)&&void 0!==l&&l,defaultSigningName:"s3"})}(l),m=function(r){var e=r.responseChecksumValidation,t=r.requestStreamBufferSize;return Object.assign(r,{requestChecksumCalculation:(0,lm.t)(r.requestChecksumCalculation??"WHEN_SUPPORTED"),responseChecksumValidation:(0,lm.t)(e??"WHEN_SUPPORTED"),requestStreamBufferSize:Number(t??0)})}((0,kL.D)(c)),y=(0,OL.$z)(m),x=(0,RL.T)(y),D=(0,WC.OV)(x),$=function(r){return Object.assign(r,{eventStreamMarshaller:r.eventStreamSerdeProvider(r)})}((0,NL.C)(D)),le=function(r,n){var t=(0,F.A)(n.session,2),s=t[0],u=t[1],x=r.bucketEndpoint,D=r.expectContinueHeader;return Object.assign(r,{forcePathStyle:r.forcePathStyle??!1,useAccelerateEndpoint:r.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:r.disableMultiregionAccessPoints??!1,followRegionRedirects:r.followRegionRedirects??!1,s3ExpressIdentityProvider:r.s3ExpressIdentityProvider??new rL(function(){var N=(0,Mt.A)((0,Ke.A)().m(function $(q){return(0,Ke.A)().w(function(le){for(;;)if(0===le.n)return le.a(2,s().send(new u({Bucket:q})))},$)}));return function($){return N.apply(this,arguments)}}()),bucketEndpoint:x??!1,expectContinueHeader:D??2097152})}(function(r){var n,t=function(r){return r.sigv4aSigningRegionSet=(0,GL.t)(r.sigv4aSigningRegionSet),r}((0,UL.h)(r));return Object.assign(t,{authSchemePreference:(0,lm.t)(null!==(n=r.authSchemePreference)&&void 0!==n?n:[])})}($),{session:[function(){return n},gU]}),ve=function(r,n){var e=Object.assign((0,Jx.R)(r),(0,eE.xA)(r),(0,Zx.e)(r),function(r){var n=r.httpAuthSchemes,e=r.httpAuthSchemeProvider,t=r.credentials;return{setHttpAuthScheme:function(u){var l=n.findIndex(function(c){return c.schemeId===u.schemeId});-1===l?n.push(u):n.splice(l,1,u)},httpAuthSchemes:function(){return n},setHttpAuthSchemeProvider:function(u){e=u},httpAuthSchemeProvider:function(){return e},setCredentials:function(u){t=u},credentials:function(){return t}}}(r));return n.forEach(function(t){return t.configure(e)}),Object.assign(r,(0,Jx.$)(e),(0,eE.uv)(e),(0,Zx.j)(e),function(r){return{httpAuthSchemes:r.httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()}}(e))}(le,u?.extensions||[]);return n.config=ve,n.middlewareStack.use((0,PL.sM)(n.config)),n.middlewareStack.use((0,BL.ey)(n.config)),n.middlewareStack.use((0,VL.vK)(n.config)),n.middlewareStack.use((0,WC.TC)(n.config)),n.middlewareStack.use((0,Z5.Y7)(n.config)),n.middlewareStack.use((0,eL.n)(n.config)),n.middlewareStack.use((0,TL.w)(n.config,{httpAuthSchemeParametersProvider:dU,identityProviderConfigProvider:(Ae=(0,Mt.A)((0,Ke.A)().m(function ke(He){return(0,Ke.A)().w(function(ot){for(;;)if(0===ot.n)return ot.a(2,new ML.h({"aws.auth#sigv4":He.credentials,"aws.auth#sigv4a":He.credentials}))},ke)})),function ge(ke){return Ae.apply(this,arguments)})})),n.middlewareStack.use((0,JC.l)(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function uL(a){var r=a.bucketEndpoint;return function(n){return function(){var e=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l;return(0,Ke.A)().w(function(c){for(;;)switch(c.n){case 0:if(u=s.input.Bucket,r||"string"!=typeof u||iL(u)||!(u.indexOf("/")>=0)){c.n=1;break}throw(l=new Error("Bucket name shouldn't contain '/', received '".concat(u,"'"))).name="InvalidBucketName",l;case 1:return c.a(2,n((0,_.A)({},s)))}},t)}));return function(t){return e.apply(this,arguments)}}()}}(r),lL),e.addRelativeTo(function oL(a){return function(r,n){return function(){var e=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l,c,p,m,y,x,D;return(0,Ke.A)().w(function(N){for(;;)switch(N.p=N.n){case 0:if(!a.bucketEndpoint){N.n=3;break}if(!(u=n.endpointV2)){N.n=3;break}if("string"!=typeof(l=s.input.Bucket)){N.n=3;break}N.p=1,c=new URL(l),n.endpointV2=(0,_.A)((0,_.A)({},u),{},{url:c}),N.n=3;break;case 2:throw N.p=2,D=N.v,m="@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=".concat(l," could not be parsed as URL."),"NoOpLogger"===(null===(p=n.logger)||void 0===p||null===(p=p.constructor)||void 0===p?void 0:p.name)?console.warn(m):null===(y=n.logger)||void 0===y||null===(x=y.warn)||void 0===x||x.call(y,m),D;case 3:return N.a(2,r(s))}},t,null,[[1,2]])}));return function(t){return e.apply(this,arguments)}}()}}(r),sL)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function W5(a){return function(r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,u,l,c,p,m,y,x;return(0,Ke.A)().w(function(D){for(;;)if(0===D.n){if(u=t.request,!1!==a.expectContinueHeader&&As.K.isInstance(u)&&u.body&&"node"===a.runtime&&"FetchHttpHandler"!==(null===(s=a.requestHandler)||void 0===s||null===(s=s.constructor)||void 0===s?void 0:s.name)){if(l=!0,"number"==typeof a.expectContinueHeader)try{x=null!==(c=null!==(p=Number(null===(m=u.headers)||void 0===m?void 0:m["content-length"]))&&void 0!==p?p:null===(y=a.bodyLengthChecker)||void 0===y?void 0:y.call(a,u.body))&&void 0!==c?c:1/0,l=x>=a.expectContinueHeader}catch{}else l=!!a.expectContinueHeader;l&&(u.headers.Expect="100-continue")}return D.a(2,r((0,_.A)((0,_.A)({},t),{},{request:u})))}},e)}));return function(e){return n.apply(this,arguments)}}()}}(r),Y5)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function pL(a){return function(r,n){return function(){var e=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l,c,p,m,y,x,D,$,q;return(0,Ke.A)().w(function(ve){for(;;)switch(ve.p=ve.n){case 0:return ve.p=0,ve.n=1,r(s);case 1:return ve.a(2,ve.v);case 2:if(ve.p=2,D=ve.v,!a.followRegionRedirects){ve.n=8;break}if(c=null==D||null===(u=D.$metadata)||void 0===u?void 0:u.httpStatusCode,p="HeadBucketCommand"===n.commandName,!(m=null==D||null===(l=D.$response)||void 0===l||null===(l=l.headers)||void 0===l?void 0:l["x-amz-bucket-region"])){ve.n=8;break}if(301!==c&&(400!==c||"IllegalLocationConstraintException"!==D?.name&&!p)){ve.n=8;break}if(ve.p=3,x=m,null===(y=n.logger)||void 0===y){ve.n=5;break}return $=y,q="Redirecting from ",ve.n=4,a.region();case 4:$.debug.call($,q.concat.call(q,ve.v," to ").concat(x));case 5:n.__s3RegionRedirect=x,ve.n=7;break;case 6:throw ve.p=6,new Error("Region redirect failed: "+ve.v);case 7:return ve.a(2,r(s));case 8:throw D;case 9:return ve.a(2)}},t,null,[[3,6],[0,2]])}));return function(t){return e.apply(this,arguments)}}()}}(r),mL),e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,c,p,m,x;return(0,Ke.A)().w(function(D){for(;;)switch(D.p=D.n){case 0:return D.n=1,r.region();case 1:return l=D.v,c=r.region,p=function(){},e.__s3RegionRedirect&&(Object.defineProperty(r,"region",{writable:!1,value:function(){var N=(0,Mt.A)((0,Ke.A)().m(function q(){return(0,Ke.A)().w(function(le){for(;;)if(0===le.n)return le.a(2,e.__s3RegionRedirect)},q)}));return function $(){return N.apply(this,arguments)}}()}),p=function(){return Object.defineProperty(r,"region",{writable:!0,value:c})}),D.p=2,D.n=3,n(u);case 3:if(m=D.v,!e.__s3RegionRedirect){D.n=5;break}return p(),D.n=4,r.region();case 4:if(l===D.v){D.n=5;break}throw new Error("Region was not restored following S3 region redirect.");case 5:return D.a(2,m);case 6:throw D.p=6,x=D.v,p(),x;case 7:return D.a(2)}},s,null,[[2,6]])}));return function(s){return t.apply(this,arguments)}}()}}(r),fL)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,c,p,m,y,D,N,$;return(0,Ke.A)().w(function(q){for(;;)switch(q.n){case 0:if(!e.endpointV2){q.n=3;break}if(y="sigv4-s3express"===(null===(l=(m=e.endpointV2).properties)||void 0===l||null===(l=l.authSchemes)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.name),("S3Express"===(null===(c=m.properties)||void 0===c?void 0:c.backend)||"Directory"===(null===(p=m.properties)||void 0===p?void 0:p.bucketType))&&((0,mo.J)(e,"S3_EXPRESS_BUCKET","J"),e.isS3ExpressBucket=!0),!y){q.n=3;break}if(!(D=u.input.Bucket)){q.n=3;break}return $=r.s3ExpressIdentityProvider,q.n=1,r.credentials();case 1:return q.n=2,$.getS3ExpressIdentity.call($,q.v,{Bucket:D});case 2:e.s3ExpressIdentity=N=q.v,As.K.isInstance(u.request)&&N.sessionToken&&(u.request.headers[I0]=N.sessionToken);case 3:return q.a(2,n(u))}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),CL)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,c,p,m,y,x,D,N,$,q,le,ve;return(0,Ke.A)().w(function(Ae){for(;;)switch(Ae.n){case 0:if(As.K.isInstance(u.request)){Ae.n=1;break}return Ae.a(2,n(u));case 1:if(l=(0,V0.u)(e),c=l.selectedHttpAuthScheme){Ae.n=2;break}throw new Error("No HttpAuthScheme was selected: unable to sign request");case 2:if(m=void 0===(p=c.httpAuthOption.signingProperties)?{}:p,y=c.identity,x=c.signer,!e.s3ExpressIdentity){Ae.n=5;break}return $=xL,q=e.s3ExpressIdentity,le=m,ve=u.request,Ae.n=3,r.signer();case 3:return Ae.n=4,$(q,le,ve,Ae.v);case 4:D=Ae.v,Ae.n=7;break;case 5:return Ae.n=6,x.sign(u.request,y,m);case 6:D=Ae.v;case 7:return Ae.n=8,n((0,_.A)((0,_.A)({},u),{},{request:D})).catch((x.errorHandler||EL)(m));case 8:return(x.successHandler||DL)((N=Ae.v).response,m),Ae.a(2,N)}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),JC.Q)}}}(n.config)),n}return(0,P.A)(r,a),(0,g.A)(r,[{key:"destroy",value:function(){(0,ye.A)(r,"destroy",this,3)([])}}])}(LL.K),B7=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-mediafile-pane-renderer"]],standalone:!1,decls:1,vars:0,template:function(e,t){1&e&&o.EFF(0,"Media File")},encapsulation:2}),r}(),tE=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),e.register(new Yt.ContentPlugin({id:"media_file",title:"Media File",selectionComponent:void 0,editorComponent:void 0,renderComponent:B7,handler:void 0}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Yt.ContentPluginManager))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD]}),r}(),Am=new f.nKC("Media Settings"),U7=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.endpointUrl=r.endpointUrl,this.cloudinaryUrl=r.cloudinaryUrl,this.uploadPreset=r.uploadPreset,this.imageUrl=r.imageUrl,this.bucket=r.bucket,this.prefix=r.prefix)}),hy=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.id=r.id,this.contentType=r.contentType,this.contentDisposition=r.contentDisposition,this.path=r.path,this.fileName=r.fileName,this.length=r.length,this.extension=r.extension?r.extension:void 0,this.realPath=r.realPath&&""!==r.realPath?r.realPath:void 0)}),Cm=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.settings=e,this.cognitoSettings=t,this.http=s,this.authFacade=u},[{key:"bulkUpload",value:function(t){var s=this,l=t.fileNameOverride,p=[];return t.files.forEach(function(m){if(m){var y=new FormData;y.append("File",m,l||m.name),p.push(s.http.post(s.settings.endpointUrl,y).pipe((0,Tr.W)(function(x){return(0,ti.$)(new Error("Error uploading images."))})))}}),p.length>0?(0,Cn.p)(p):(0,De.of)([])}},{key:"bulkUploadS3",value:function(t){var s=this,l=t.fileNameOverride,c=t.nocache,p=[];return t.files.forEach(function(m){m&&p.push(new L.c(function(y){var x=l||dr(),D=m.name.split(".",2),q=(0,F.A)(D,2)[1],le=x+(q?"."+q:"");new L5({client:s.buildClient(),params:(0,_.A)({Bucket:s.settings.bucket,Key:s.settings.prefix+le,Body:m,ContentType:m.type},c?{CacheControl:"no-cache"}:{})}).done().then(function(){y.next(new hy({id:x,contentType:m.type,contentDisposition:"",path:le,realPath:s.settings.prefix+le,length:m.size,fileName:m.name,extension:q&&""!==q?q:void 0})),y.complete()})}))}),p.length>0?(0,Cn.p)(p):(0,De.of)([])}},{key:"convertToFiles",value:function(t){var s=this,u=t.map(function(l){return new L.c(function(c){fetch("".concat(s.settings.imageUrl,"/").concat(l.path)).then(function(p){p.blob().then(function(m){new Promise(function(y){var x=new FileReader;x.onload=function(){return y(x.result)},x.readAsDataURL(m)}).then(function(y){var x=s.convertDataURIToBinary(y),D=new File([x],l.fileName,{type:l.contentType});c.next(D),c.complete()})})})})});return(0,Cn.p)(u)}},{key:"convertDataURIToBinary",value:function(t){for(var u=t.indexOf(";base64,")+8,l=t.substring(u),c=window.atob(l),p=c.length,m=new Uint8Array(new ArrayBuffer(p)),y=0;y<p;y++)m[y]=c.charCodeAt(y);return m}},{key:"buildClient",value:function(){var t=this;return new O7({region:this.cognitoSettings.region,credentials:P0({client:new R0.D({region:this.cognitoSettings.region}),identityPoolId:this.cognitoSettings.identityPoolId,logins:(0,d.A)({},"cognito-idp.".concat(this.cognitoSettings.region,".amazonaws.com/").concat(this.cognitoSettings.userPoolId),function(){return Og(t.authFacade.getUser$.pipe((0,me.T)(function(u){return u?u.id_token:void 0})))})})})}},{key:"isImage",value:function(t){var s=t.file;return s.type&&0===s.type.indexOf("image/")}},{key:"isVideo",value:function(t){var s=t.file;return s.type&&0===s.type.indexOf("video/")}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Am),f.KVO(sp),f.KVO(V.Qq),f.KVO(Fi))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),ln=b(2909),yt=b(1395),Md=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD]}),r}(),Yn=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"generateTokens",value:function(t){var s=new Map;return this.attributeTokens(t,s,"",0),s}},{key:"generateGenericTokens",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=new Map;return this.genericTokens(t,u,s,0),u}},{key:"attributeTokens",value:function(t,s,u,l){var c=this;t.forEach(function(p,m){if("widget"!==p.name)for(var y in p)p.type===yt.AttributeTypes.Complex||"attributes"===y&&p.attributes&&p.attributes.length>0?c.attributeTokens(p.attributes,s,p.type===yt.AttributeTypes.Complex?"".concat(u):"".concat(u,".").concat(p.name),l+1):"attributes"!==y&&s.set(y===p.name?"".concat(u,".").concat(y):"".concat(u,".").concat(p.name,".").concat(y),p[y])})}},{key:"genericTokens",value:function(t,s,u,l){for(var c in t)if("object"!=typeof t[c])s.set("".concat(u,".").concat(c),t[c]);else if(Array.isArray(t[c])&&"attributes"===c)this.attributeTokens(t[c],s,"".concat(u,".").concat(c),l+1);else if(Array.isArray(t[c]))for(var m=t[c].length,y=0;y<m;y++)this.genericTokens(t[c][y],s,"".concat(u,".").concat(c,".").concat(y),l+1);else this.genericTokens(t[c],s,"".concat(u,".").concat(c),l+1)}},{key:"replaceTokens",value:function(t,s){return s&&s.forEach(function(u,l){t=t.replace("[".concat(l,"]"),"".concat(u))}),t}},{key:"matchTokens",value:function(t,s){for(var u=[],l=s.length,c=0;c<l;c++)t.indexOf("[".concat(s[c],"]"))>-1&&u.push(s[c]);return u}},{key:"discoverTokens",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=t.match(/(\[(?:\[??[^\[]*?\]))/g);return null===u?[]:u.reduce(function(c,p){if(-1!==p.indexOf(" ")||-1===p.indexOf("."))return c;var m=1===p.indexOf(".")?["."]:p.substr(1,p.length-2).split("."),x=(0,F.A)(m,1)[0];return-1!==c.findIndex(function(D){return D===x})?c:[].concat((0,A.A)(c),[s?p.substr(1,p.length-2):x])},[])}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),va=b(8951),zn=b(2575),G7=["gutterEls"],j7=["*"],$7=function(r,n,e,t,s,u){return{areaBefore:r,areaAfter:n,gutterNum:e,first:t,last:s,isDragged:u}};function z7(a,r){1&a&&o.eu8(0)}function H7(a,r){if(1&a&&(o.qex(0),o.DNE(1,z7,1,0,"ng-container",7),o.bVm()),2&a){var n=r.$implicit,e=o.XpG(3),t=e.$implicit,s=e.index,u=e.first,l=o.XpG();o.R7$(),o.Y8G("ngTemplateOutlet",l.customGutter.template)("ngTemplateOutletContext",o.l4e(3,$7,t,l.displayedAreas[s+1],s+1,u,s===l.displayedAreas.length-2,l.draggedGutterNum===s+1))("ngTemplateOutletInjector",n)}}function K7(a,r){if(1&a&&(o.qex(0),o.DNE(1,H7,2,10,"ng-container",6),o.bVm()),2&a){var n=o.XpG(2).index;o.R7$(),o.Y8G("asSplitGutterDynamicInjector",n+1)}}function X7(a,r){1&a&&o.nrm(0,"div",8)}function q7(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",4,0),o.bIt("keydown",function(p){f.eBV(n);var m=o.XpG().index,y=o.XpG();return f.Njj(y.startKeyboardDrag(p,2*m+1,m+1))})("mousedown",function(p){f.eBV(n);var m=o.XpG().index,y=o.XpG();return f.Njj(y.startMouseDrag(p,2*m+1,m+1))})("touchstart",function(p){f.eBV(n);var m=o.XpG().index,y=o.XpG();return f.Njj(y.startMouseDrag(p,2*m+1,m+1))})("mouseup",function(p){f.eBV(n);var m=o.XpG().index,y=o.XpG();return f.Njj(y.clickGutter(p,m+1))})("touchend",function(p){f.eBV(n);var m=o.XpG().index,y=o.XpG();return f.Njj(y.clickGutter(p,m+1))}),o.DNE(2,K7,2,1,"ng-container",5)(3,X7,1,0,"ng-template",null,1,o.C5r),o.k0s()}if(2&a){var e=o.sdS(4),t=o.XpG(),s=t.$implicit,u=t.index,l=o.XpG();o.xc7("flex-basis",l.gutterSize,"px")("order",2*u+1),o.AVh("as-dragged",l.draggedGutterNum===u+1),o.BMQ("aria-label",l.gutterAriaLabel)("aria-orientation",l.direction)("aria-valuemin",s.minSize)("aria-valuemax",s.maxSize)("aria-valuenow","*"===s.size?null:s.size)("aria-valuetext",l.getAriaAreaSizeText(s.size)),o.R7$(2),o.Y8G("ngIf",null==l.customGutter?null:l.customGutter.template)("ngIfElse",e)}}function W7(a,r){1&a&&o.DNE(0,q7,5,14,"div",3),2&a&&o.Y8G("ngIf",!1===r.last)}function Id(a){if(void 0!==a.changedTouches&&a.changedTouches.length>0)return{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(void 0!==a.clientX&&void 0!==a.clientY)return{x:a.clientX,y:a.clientY};if(void 0!==a.currentTarget){var r=a.currentTarget;return{x:r.offsetLeft,y:r.offsetTop}}return null}function nE(a,r,n){return Math.abs(a.x-r.x)<=n&&Math.abs(a.y-r.y)<=n}function rE(a,r){var n=a.nativeElement.getBoundingClientRect();return"horizontal"===r?n.width:n.height}function Vd(a){return"boolean"==typeof a?a:"false"!==a}function Ts(a,r){return null==a?r:(a=Number(a),!isNaN(a)&&a>=0?a:r)}function aE(a,r){if("percent"===a){var n=r.reduce(function(t,s){return"*"!==s?t+s:t},0),e=r.filter(function(t){return"*"===t});return!(e.length>1)&&(1===e.length||n>99.9)&&n<100.1}if("pixel"===a)return 1===r.filter(function(t){return"*"===t}).length}function Sm(a){return"*"===a.size?null:!0===a.component.lockSize?a.size:null===a.component.minSize?null:a.component.minSize}function xm(a){return"*"===a.size?null:!0===a.component.lockSize?a.size:null===a.component.maxSize?null:a.component.maxSize<a.size?a.size:a.component.maxSize}function _c(a,r,n,e){return r.reduce(function(t,s){var u=function Q7(a,r,n,e){return 0===n?{areaSnapshot:r,pixelAbsorb:0,percentAfterAbsorption:r.sizePercentAtStart,pixelRemain:0}:0===r.sizePixelAtStart&&n<0?{areaSnapshot:r,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===a?function J7(a,r,n){var t=(a.sizePixelAtStart+r)/n*100;if(r>0){if(null!==a.area.maxSize&&t>a.area.maxSize){var s=a.area.maxSize/100*n;return{areaSnapshot:a,pixelAbsorb:s,percentAfterAbsorption:a.area.maxSize,pixelRemain:a.sizePixelAtStart+r-s}}return{areaSnapshot:a,pixelAbsorb:r,percentAfterAbsorption:t>100?100:t,pixelRemain:0}}if(r<0){if(null!==a.area.minSize&&t<a.area.minSize){var u=a.area.minSize/100*n;return{areaSnapshot:a,pixelAbsorb:u,percentAfterAbsorption:a.area.minSize,pixelRemain:a.sizePixelAtStart+r-u}}return t<0?{areaSnapshot:a,pixelAbsorb:-a.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:r+a.sizePixelAtStart}:{areaSnapshot:a,pixelAbsorb:r,percentAfterAbsorption:t,pixelRemain:0}}}(r,n,e):"pixel"===a?function Z7(a,r){var n=a.sizePixelAtStart+r;return r>0?null!==a.area.maxSize&&n>a.area.maxSize?{areaSnapshot:a,pixelAbsorb:a.area.maxSize-a.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n-a.area.maxSize}:{areaSnapshot:a,pixelAbsorb:r,percentAfterAbsorption:-1,pixelRemain:0}:r<0?null!==a.area.minSize&&n<a.area.minSize?{areaSnapshot:a,pixelAbsorb:a.area.minSize+r-n,percentAfterAbsorption:-1,pixelRemain:n-a.area.minSize}:n<0?{areaSnapshot:a,pixelAbsorb:-a.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r+a.sizePixelAtStart}:{areaSnapshot:a,pixelAbsorb:r,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(r,n):void 0}(a,s,t.remain,e);return t.list.push(u),t.remain=u.pixelRemain,t},{remain:n,list:[]})}function iE(a,r){"*"!==r.areaSnapshot.area.size&&("percent"===a?r.areaSnapshot.area.size=r.percentAfterAbsorption:"pixel"===a&&(r.areaSnapshot.area.size=r.areaSnapshot.sizePixelAtStart+r.pixelAbsorb))}var eG=new f.nKC("angular-split-global-config"),tG=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e,this.gutterToHandleElementMap=new Map,this.gutterToExcludeDragElementMap=new Map},[{key:"canStartDragging",value:function(t,s){return(!this.gutterToExcludeDragElementMap.has(s)||!this.gutterToExcludeDragElementMap.get(s).some(function(l){return l.nativeElement.contains(t)}))&&(!this.gutterToHandleElementMap.has(s)||this.gutterToHandleElementMap.get(s).some(function(l){return l.nativeElement.contains(t)}))}},{key:"addToMap",value:function(t,s,u){t.has(s)?t.get(s).push(u):t.set(s,[u])}},{key:"removedFromMap",value:function(t,s,u){var l=t.get(s);l.splice(l.indexOf(u),1),0===l.length&&t.delete(s)}}],[{key:"ngTemplateContextGuard",value:function(t,s){return!0}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","asSplitGutter",""]],standalone:!1}),r}(),nG=new f.nKC("Gutter num"),rG=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.vcr=e,this.templateRef=t},[{key:"gutterNum",set:function(t){this.vcr.clear();var s=f.zZn.create({providers:[{provide:nG,useValue:t}],parent:this.vcr.injector});this.vcr.createEmbeddedView(this.templateRef,{$implicit:s})}}],[{key:"ngTemplateContextGuard",value:function(t,s){return!0}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b),o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","asSplitGutterDynamicInjector",""]],inputs:{gutterNum:[0,"asSplitGutterDynamicInjector","gutterNum"]},standalone:!1}),r}(),Nd=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){var c=this;(0,v.A)(this,n),this.ngZone=e,this.elRef=t,this.cdRef=s,this.renderer=u,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new o.bkB(!1),this.dragEnd=new o.bkB(!1),this.gutterClick=new o.bkB(!1),this.gutterDblClick=new o.bkB(!1),this.dragProgressSubject=new W.B,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.draggedGutterNum=void 0,this.direction=this._direction,this._config=l?Object.assign(this._config,l):this._config,Object.keys(this._config).forEach(function(p){c[p]=c._config[p]})},[{key:"direction",get:function(){return this._direction},set:function(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}},{key:"unit",get:function(){return this._unit},set:function(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}},{key:"gutterSize",get:function(){return this._gutterSize},set:function(t){this._gutterSize=Ts(t,11),this.build(!1,!1)}},{key:"gutterStep",get:function(){return this._gutterStep},set:function(t){this._gutterStep=Ts(t,1)}},{key:"restrictMove",get:function(){return this._restrictMove},set:function(t){this._restrictMove=Vd(t)}},{key:"useTransition",get:function(){return this._useTransition},set:function(t){this._useTransition=Vd(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Vd(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}},{key:"dir",get:function(){return this._dir},set:function(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}},{key:"gutterDblClickDuration",get:function(){return this._gutterDblClickDuration},set:function(t){this._gutterDblClickDuration=Ts(t,0)}},{key:"transitionEnd",get:function(){var t=this;return new L.c(function(s){return t.transitionEndSubscriber=s}).pipe((0,zn.B)(20))}},{key:"ngAfterViewInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){setTimeout(function(){return t.renderer.addClass(t.elRef.nativeElement,"as-init")})})}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(t){var s={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(s),this.build(!0,!0)):this.hiddenAreas.push(s)}},{key:"removeArea",value:function(t){if(this.displayedAreas.some(function(l){return l.component===t})){var s=this.displayedAreas.find(function(l){return l.component===t});this.displayedAreas.splice(this.displayedAreas.indexOf(s),1),this.build(!0,!0)}else if(this.hiddenAreas.some(function(l){return l.component===t})){var u=this.hiddenAreas.find(function(l){return l.component===t});this.hiddenAreas.splice(this.hiddenAreas.indexOf(u),1)}}},{key:"updateArea",value:function(t,s,u){!0===t.visible&&this.build(s,u)}},{key:"showArea",value:function(t){var s,u=this.hiddenAreas.find(function(c){return c.component===t});if(void 0!==u){var l=this.hiddenAreas.splice(this.hiddenAreas.indexOf(u),1);(s=this.displayedAreas).push.apply(s,(0,A.A)(l)),this.build(!0,!0)}}},{key:"hideArea",value:function(t){var s,u=this.displayedAreas.find(function(c){return c.component===t});if(void 0!==u){var l=this.displayedAreas.splice(this.displayedAreas.indexOf(u),1);l.forEach(function(c){c.order=0,c.size=0}),(s=this.hiddenAreas).push.apply(s,(0,A.A)(l)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map(function(t){return t.size})}},{key:"setVisibleAreaSizes",value:function(t){if(t.length!==this.displayedAreas.length)return!1;var s=t.map(function(l){return Ts(l,"*")});return!1!==aE(this.unit,s)&&(this.displayedAreas.forEach(function(l,c){return l.component.size=s[c]}),this.build(!1,!0),!0)}},{key:"build",value:function(t,s){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(function(m){return null!==m.component.order})&&this.displayedAreas.sort(function(m,y){return m.component.order-y.component.order}),this.displayedAreas.forEach(function(m,y){m.order=2*y,m.component.setStyleOrder(m.order)})),!0===s){var u=aE(this.unit,this.displayedAreas.map(function(m){return m.component.size}));switch(this.unit){case"percent":var l=100/this.displayedAreas.length;this.displayedAreas.forEach(function(m){m.size=u?m.component.size:l,m.minSize=Sm(m),m.maxSize=xm(m)});break;case"pixel":if(u)this.displayedAreas.forEach(function(m){m.size=m.component.size,m.minSize=Sm(m),m.maxSize=xm(m)});else{var c=this.displayedAreas.filter(function(m){return"*"===m.component.size});if(0===c.length&&this.displayedAreas.length>0)this.displayedAreas.forEach(function(m,y){m.size=0===y?"*":m.component.size,m.minSize=0===y?m.component.minSize:Sm(m),m.maxSize=0===y?null:xm(m)});else if(c.length>1){var p=!1;this.displayedAreas.forEach(function(m){"*"===m.component.size?!1===p?(m.size="*",m.minSize=null,m.maxSize=null,p=!0):(m.size=100,m.minSize=null,m.maxSize=null):(m.size=m.component.size,m.minSize=Sm(m),m.maxSize=xm(m))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var t=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var s=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(function(u){"*"===u.size?u.component.setStyleFlex(1,1,1===t.displayedAreas.length?"100%":"auto",!1,!1):u.component.setStyleFlex(0,0,"calc( ".concat(u.size,"% - ").concat(u.size/100*s,"px )"),null!==u.minSize&&u.minSize===u.size,null!==u.maxSize&&u.maxSize===u.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(function(u){"*"===u.size?u.component.setStyleFlex(1,1,1===t.displayedAreas.length?"100%":"auto",!1,!1):1===t.displayedAreas.length?u.component.setStyleFlex(0,0,"100%",!1,!1):u.component.setStyleFlex(0,0,"".concat(u.size,"px"),null!==u.minSize&&u.minSize===u.size,null!==u.maxSize&&u.maxSize===u.size)})}},{key:"clickGutter",value:function(t,s){var u=this,l=Id(t);this.startPoint&&nE(this.startPoint,l,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",s),this.stopDragging()):this._clickTimeout=window.setTimeout(function(){u._clickTimeout=null,u.notify("click",s),u.stopDragging()},this.gutterDblClickDuration))}},{key:"startKeyboardDrag",value:function(t,s,u){if(!0!==this.disabled&&!0!==this.isWaitingClear){var l=function Y7(a,r){if("horizontal"===r)switch(a.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===r)switch(a.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}var n=a.currentTarget,e="PageUp"===a.key||"PageDown"===a.key?500:50,t=n.offsetLeft,s=n.offsetTop;switch(a.key){case"ArrowLeft":t-=e;break;case"ArrowRight":t+=e;break;case"ArrowUp":s-=e;break;case"ArrowDown":s+=e;break;case"PageUp":"vertical"===r?s-=e:t+=e;break;case"PageDown":"vertical"===r?s+=e:t-=e;break;default:return null}return{x:t,y:s}}(t,this.direction);null!==l&&(this.endPoint=l,this.startPoint=Id(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(s,u),this.startDragging(),this.drag(),this.stopDragging())}}},{key:"startMouseDrag",value:function(t,s,u){var l=this;this.customGutter&&!this.customGutter.canStartDragging(t.target,u)||(t.preventDefault(),t.stopPropagation(),this.startPoint=Id(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(s,u),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(function(){l.dragListeners.push(l.renderer.listen("document","mousemove",l.mouseDragEvent.bind(l))),l.dragListeners.push(l.renderer.listen("document","touchmove",l.mouseDragEvent.bind(l)))}),this.startDragging()))}},{key:"setupForDragEvent",value:function(t,s){var u=this;if(this.snapshot={gutterNum:s,lastSteppedOffset:0,allAreasSizePixel:rE(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(function(m){var y={area:m,sizePixelAtStart:rE(m.component.elRef,u.direction),sizePercentAtStart:"percent"===u.unit?m.size:-1};m.order<t?!0===u.restrictMove?u.snapshot.areasBeforeGutter=[y]:u.snapshot.areasBeforeGutter.unshift(y):m.order>t&&(!0===u.restrictMove?0===u.snapshot.areasAfterGutter.length&&(u.snapshot.areasAfterGutter=[y]):u.snapshot.areasAfterGutter.push(y))}),this.restrictMove&&"percent"===this.unit){var l=this.snapshot.areasBeforeGutter[0],c=this.snapshot.areasAfterGutter[0];if("*"===l.area.size||"*"===c.area.size){var p=this.displayedAreas.reduce(function(m,y){return l.area!==y&&c.area!==y?m+y.size:m},0);this.snapshot.allInvolvedAreasSizePercent=100-p}else this.snapshot.allInvolvedAreasSizePercent=[].concat((0,A.A)(this.snapshot.areasBeforeGutter),(0,A.A)(this.snapshot.areasAfterGutter)).reduce(function(m,y){return m+y.sizePercentAtStart},0)}}},{key:"startDragging",value:function(){this.displayedAreas.forEach(function(t){return t.component.lockEvents()}),this.isDragging=!0,this.isWaitingInitialMove=!0}},{key:"mouseDragEvent",value:function(t){t.preventDefault(),t.stopPropagation();var s=Id(t);null!==this._clickTimeout&&!nE(this.startPoint,s,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=Id(t),null!==this.endPoint&&this.drag())}},{key:"drag",value:function(){var t=this;if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(function(){t.isWaitingInitialMove=!1,t.renderer.addClass(t.elRef.nativeElement,"as-dragging"),t.draggedGutterNum=t.snapshot.gutterNum,t.cdRef.markForCheck(),t.notify("start",t.snapshot.gutterNum)})}var s="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(s=-s);var u=Math.round(s/this.gutterStep)*this.gutterStep;if(u!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=u;var l=_c(this.unit,this.snapshot.areasBeforeGutter,-u,this.snapshot.allAreasSizePixel),c=_c(this.unit,this.snapshot.areasAfterGutter,u,this.snapshot.allAreasSizePixel);if(0!==l.remain&&0!==c.remain?Math.abs(l.remain)===Math.abs(c.remain)||(Math.abs(l.remain)>Math.abs(c.remain)?c=_c(this.unit,this.snapshot.areasAfterGutter,u+l.remain,this.snapshot.allAreasSizePixel):l=_c(this.unit,this.snapshot.areasBeforeGutter,-(u-c.remain),this.snapshot.allAreasSizePixel)):0!==l.remain?c=_c(this.unit,this.snapshot.areasAfterGutter,u+l.remain,this.snapshot.allAreasSizePixel):0!==c.remain&&(l=_c(this.unit,this.snapshot.areasBeforeGutter,-(u-c.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var p=[].concat((0,A.A)(l.list),(0,A.A)(c.list)),y=p.find(function(x){return"*"===x.percentAfterAbsorption})??p.find(function(x){return 0!==x.percentAfterAbsorption&&x.percentAfterAbsorption!==x.areaSnapshot.area.minSize&&x.percentAfterAbsorption!==x.areaSnapshot.area.maxSize});y&&(y.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-p.filter(function(x){return x!==y}).reduce(function(x,D){return x+D.percentAfterAbsorption},0))}l.list.forEach(function(x){return iE(t.unit,x)}),c.list.forEach(function(x){return iE(t.unit,x)}),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}},{key:"stopDragging",value:function(t){var s=this;if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(function(l){return l.component.unlockEvents()});this.dragListeners.length>0;){var u=this.dragListeners.pop();u&&u()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.draggedGutterNum=void 0,this.cdRef.markForCheck(),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(function(){setTimeout(function(){s.startPoint=null,s.endPoint=null,s.isWaitingClear=!1})})}}},{key:"notify",value:function(t,s){var u=this,l=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:s,sizes:l}):"end"===t?this.dragEnd.emit({gutterNum:s,sizes:l}):"click"===t?this.gutterClick.emit({gutterNum:s,sizes:l}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:s,sizes:l}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(function(){return u.transitionEndSubscriber.next(l)}):"progress"===t&&this.dragProgressSubject.next({gutterNum:s,sizes:l})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"collapseArea",value:function(t,s,u){var l=this.displayedAreas.find(function(m){return m.component===t});if(void 0!==l){var c="right"===u?1:-1;l.sizeBeforeCollapse||(l.sizeBeforeCollapse=l.size,l.gutterBeforeCollapse=c),l.size=s;var p=this.gutterEls.find(function(m){return m.nativeElement.style.order==="".concat(l.order+c)});p&&this.renderer.addClass(p.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}}},{key:"expandArea",value:function(t){var s=this.displayedAreas.find(function(l){return l.component===t});if(void 0!==s&&s.sizeBeforeCollapse){s.size=s.sizeBeforeCollapse,s.sizeBeforeCollapse=null;var u=this.gutterEls.find(function(l){return l.nativeElement.style.order==="".concat(s.order+s.gutterBeforeCollapse)});u&&this.renderer.removeClass(u.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}}},{key:"getAriaAreaSizeText",value:function(t){return"*"===t?null:t.toFixed(0)+" "+this.unit}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.SKi),o.rXU(o.aKT),o.rXU(G.gRc),o.rXU(o.sFG),o.rXU(eG,8))},a.\u0275cmp=o.VBU({type:a,selectors:[["as-split"]],contentQueries:function(e,t,s){var u;1&e&&o.wni(s,tG,5),2&e&&o.mGM(u=o.lsd())&&(t.customGutter=u.first)},viewQuery:function(e,t){var s;1&e&&o.GBs(G7,5),2&e&&o.mGM(s=o.lsd())&&(t.gutterEls=s)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],standalone:!1,ngContentSelectors:j7,decls:2,vars:1,consts:[["gutterEls",""],["defaultGutterTpl",""],["ngFor","",3,"ngForOf"],["role","separator","tabindex","0","class","as-split-gutter",3,"as-dragged","flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","separator","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],[4,"ngIf","ngIfElse"],[4,"asSplitGutterDynamicInjector"],[4,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(o.NAR(),o.SdG(0),o.DNE(1,W7,1,1,"ng-template",2)),2&e&&(o.R7$(),o.Y8G("ngForOf",t.displayedAreas))},dependencies:[k.Sq,k.bT,k.T3,rG],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]    >.as-split-area .iframe-fix{position:absolute;top:0;left:0;width:100%;height:100%}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),r}(),Od=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.ngZone=e,this.renderer=t,this.split=s,this.elRef=u,this._order=null,this._size="*",this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")},[{key:"order",get:function(){return this._order},set:function(t){this._order=Ts(t,null),this.split.updateArea(this,!0,!1)}},{key:"size",get:function(){return this._size},set:function(t){this._size=Ts(t,"*"),this.split.updateArea(this,!1,!0)}},{key:"minSize",get:function(){return this._minSize},set:function(t){this._minSize=Ts(t,null),this.split.updateArea(this,!1,!0)}},{key:"maxSize",get:function(){return this._maxSize},set:function(t){this._maxSize=Ts(t,null),this.split.updateArea(this,!1,!0)}},{key:"lockSize",get:function(){return this._lockSize},set:function(t){this._lockSize=Vd(t),this.split.updateArea(this,!1,!0)}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible=Vd(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}},{key:"ngOnInit",value:function(){var t=this;this.split.addArea(this),this.ngZone.runOutsideAngular(function(){t.transitionListener=t.renderer.listen(t.elRef.nativeElement,"transitionend",function(u){"flex-basis"===u.propertyName&&t.split.notify("transitionEnd",-1)})});var s=this.renderer.createElement("div");this.renderer.addClass(s,"iframe-fix"),this.dragStartSubscription=this.split.dragStart.subscribe(function(){t.renderer.setStyle(t.elRef.nativeElement,"position","relative"),t.renderer.appendChild(t.elRef.nativeElement,s)}),this.dragEndSubscription=this.split.dragEnd.subscribe(function(){t.renderer.removeStyle(t.elRef.nativeElement,"position"),t.renderer.removeChild(t.elRef.nativeElement,s)})}},{key:"setStyleOrder",value:function(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}},{key:"setStyleFlex",value:function(t,s,u,l,c){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",s),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",u),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===c?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.lockListeners.push(t.renderer.listen(t.elRef.nativeElement,"selectstart",function(){return!1})),t.lockListeners.push(t.renderer.listen(t.elRef.nativeElement,"dragstart",function(){return!1}))})}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var t=this.lockListeners.pop();t&&t()}}},{key:"ngOnDestroy",value:function(){var t,s;this.unlockEvents(),this.transitionListener&&this.transitionListener(),null===(t=this.dragStartSubscription)||void 0===t||t.unsubscribe(),null===(s=this.dragEndSubscription)||void 0===s||s.unsubscribe(),this.split.removeArea(this)}},{key:"collapse",value:function(){this.split.collapseArea(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right")}},{key:"expand",value:function(){this.split.expandArea(this)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.SKi),o.rXU(o.sFG),o.rXU(Nd),o.rXU(o.aKT))},a.\u0275dir=o.FsC({type:a,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"],standalone:!1}),r}(),Em=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD]}),r}(),oE=b(4876),aG=b(7378);var zu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function sE(a){zu=a}var Bd={exec:function(){return null}};function Qn(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="string"==typeof a?a:a.source,e={replace:function(s,u){var l="string"==typeof u?u:u.source;return l=l.replace(qa.caret,"$1"),n=n.replace(s,l),e},getRegex:function(){return new RegExp(n,r)}};return e}var qa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:function(r){return new RegExp("^( {0,3}".concat(r,")((?:[\t ][^\\n]*)?(?:\\n|$))"))},nextBulletRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"))},hrRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"))},fencesBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}(?:```|~~~)"))},headingBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}#"))},htmlBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}<(?:[a-z].*>|!--)"),"i")}},Ld=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,vy=/(?:[*+-]|\d{1,9}[.)])/,uE=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,lE=Qn(uE).replace(/bull/g,vy).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lG=Qn(uE).replace(/bull/g,vy).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),yy=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_y=/(?!\s*\])(?:\\.|[^\[\]\\])+/,dG=Qn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_y).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),fG=Qn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,vy).getRegex(),Dm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",by=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,pG=Qn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",by).replace("tag",Dm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cE=Qn(yy).replace("hr",Ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dm).getRegex(),Ay={blockquote:Qn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",cE).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:dG,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Ld,html:pG,lheading:lE,list:fG,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:cE,table:Bd,text:/^[^\n]+/},dE=Qn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dm).getRegex(),hG=(0,_.A)((0,_.A)({},Ay),{},{lheading:lG,table:dE,paragraph:Qn(yy).replace("hr",Ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",dE).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dm).getRegex()}),gG=(0,_.A)((0,_.A)({},Ay),{},{html:Qn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",by).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Qn(yy).replace("hr",Ld).replace("heading"," *#{1,6} *[^\n]").replace("lheading",lE).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),fE=/^( {2,}|\\)\n(?!\s*$)/,wm=/(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,Cy=/(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,pE=/(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,bG=Qn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Cy).getRegex(),mE=/(?!~)(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,hE=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xG=Qn(hE,"u").replace(/punct/g,wm).getRegex(),EG=Qn(hE,"u").replace(/punct/g,mE).getRegex(),gE="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",DG=Qn(gE,"gu").replace(/notPunctSpace/g,pE).replace(/punctSpace/g,Cy).replace(/punct/g,wm).getRegex(),wG=Qn(gE,"gu").replace(/notPunctSpace/g,/(?:(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|~)/).replace(/punctSpace/g,/(?!~)(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/).replace(/punct/g,mE).getRegex(),FG=Qn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,pE).replace(/punctSpace/g,Cy).replace(/punct/g,wm).getRegex(),kG=Qn(/\\(punct)/,"gu").replace(/punct/g,wm).getRegex(),PG=Qn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),RG=Qn(by).replace("(?:--\x3e|$)","--\x3e").getRegex(),TG=Qn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",RG).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Fm=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,MG=Qn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Fm).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),vE=Qn(/^!?\[(label)\]\[(ref)\]/).replace("label",Fm).replace("ref",_y).getRegex(),yE=Qn(/^!?\[(ref)\](?:\[\])?/).replace("ref",_y).getRegex(),Sy={_backpedal:Bd,anyPunctuation:kG,autolink:PG,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:fE,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Bd,emStrongLDelim:xG,emStrongRDelimAst:DG,emStrongRDelimUnd:FG,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:MG,nolink:yE,punctuation:bG,reflink:vE,reflinkSearch:Qn("reflink|nolink(?!\\()","g").replace("reflink",vE).replace("nolink",yE).getRegex(),tag:TG,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Bd},VG=(0,_.A)((0,_.A)({},Sy),{},{link:Qn(/^!?\[(label)\]\((.*?)\)/).replace("label",Fm).getRegex(),reflink:Qn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Fm).getRegex()}),xy=(0,_.A)((0,_.A)({},Sy),{},{emStrongRDelimAst:wG,emStrongLDelim:EG,url:Qn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),NG=(0,_.A)((0,_.A)({},xy),{},{br:Qn(fE).replace("{2,}","*").getRegex(),text:Qn(xy.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),km={normal:Ay,gfm:hG,pedantic:gG},Ud={normal:Sy,gfm:xy,breaks:NG,pedantic:VG},OG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_E=function(r){return OG[r]};function Eo(a,r){if(r){if(qa.escapeTest.test(a))return a.replace(qa.escapeReplace,_E)}else if(qa.escapeTestNoEncode.test(a))return a.replace(qa.escapeReplaceNoEncode,_E);return a}function bE(a){try{a=encodeURI(a).replace(qa.percentDecode,"%")}catch{return null}return a}function AE(a,r){var n,t=a.replace(qa.findPipe,function(u,l,c){for(var p=!1,m=l;--m>=0&&"\\"===c[m];)p=!p;return p?"|":" |"}).split(qa.splitPipe),s=0;if(t[0].trim()||t.shift(),t.length>0&&!(null!==(n=t.at(-1))&&void 0!==n&&n.trim())&&t.pop(),r)if(t.length>r)t.splice(r);else for(;t.length<r;)t.push("");for(;s<t.length;s++)t[s]=t[s].trim().replace(qa.slashPipe,"|");return t}function Gd(a,r,n){var e=a.length;if(0===e)return"";for(var t=0;t<e;){var s=a.charAt(e-t-1);if(s!==r||n){if(s===r||!n)break;t++}else t++}return a.slice(0,e-t)}function CE(a,r,n,e,t){var s=r.href,u=r.title||null,l=a[1].replace(t.other.outputLinkReplace,"$1");e.state.inLink=!0;var c={type:"!"===a[0].charAt(0)?"image":"link",raw:n,href:s,title:u,text:l,tokens:e.inlineTokens(l)};return e.state.inLink=!1,c}var Pm=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),(0,d.A)(this,"rules",void 0),(0,d.A)(this,"lexer",void 0),this.options=r||zu},[{key:"space",value:function(n){var e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}},{key:"code",value:function(n){var e=this.rules.block.code.exec(n);if(e){var t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Gd(t,"\n")}}}},{key:"fences",value:function(n){var e=this.rules.block.fences.exec(n);if(e){var t=e[0],s=function LG(a,r,n){var e=a.match(n.other.indentCodeCompensation);if(null===e)return r;var t=e[1];return r.split("\n").map(function(s){var u=s.match(n.other.beginningSpace);return null===u?s:(0,F.A)(u,1)[0].length>=t.length?s.slice(t.length):s}).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}},{key:"heading",value:function(n){var e=this.rules.block.heading.exec(n);if(e){var t=e[2].trim();if(this.rules.other.endingHash.test(t)){var s=Gd(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}},{key:"hr",value:function(n){var e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Gd(e[0],"\n")}}},{key:"blockquote",value:function(n){var e=this.rules.block.blockquote.exec(n);if(e){for(var t=Gd(e[0],"\n").split("\n"),s="",u="",l=[];t.length>0;){var c=!1,p=[],m=void 0;for(m=0;m<t.length;m++)if(this.rules.other.blockquoteStart.test(t[m]))p.push(t[m]),c=!0;else{if(c)break;p.push(t[m])}t=t.slice(m);var y=p.join("\n"),x=y.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");s=s?"".concat(s,"\n").concat(y):y,u=u?"".concat(u,"\n").concat(x):x;var D=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(x,l,!0),this.lexer.state.top=D,0===t.length)break;var N=l.at(-1);if("code"===N?.type)break;if("blockquote"===N?.type){var $=N,q=$.raw+"\n"+t.join("\n"),le=this.blockquote(q);l[l.length-1]=le,s=s.substring(0,s.length-$.raw.length)+le.raw,u=u.substring(0,u.length-$.text.length)+le.text;break}if("list"!==N?.type);else{var ve=N,Ae=ve.raw+"\n"+t.join("\n"),ge=this.list(Ae);l[l.length-1]=ge,s=s.substring(0,s.length-N.raw.length)+ge.raw,u=u.substring(0,u.length-ve.raw.length)+ge.raw,t=Ae.substring(l.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:s,tokens:l,text:u}}}},{key:"list",value:function(n){var e=this,t=this.rules.block.list.exec(n);if(t){var s=t[1].trim(),u=s.length>1,l={type:"list",raw:"",ordered:u,start:u?+s.slice(0,-1):"",loose:!1,items:[]};s=u?"\\d{1,9}\\".concat(s.slice(-1)):"\\".concat(s),this.options.pedantic&&(s=u?s:"[*+-]");for(var c=this.rules.other.listItemRegex(s),p=!1;n;){var m=!1,y="",x="";if(!(t=c.exec(n))||this.rules.block.hr.test(n))break;n=n.substring((y=t[0]).length);var D=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,function(Jt){return" ".repeat(3*Jt.length)}),N=n.split("\n",1)[0],$=!D.trim(),q=0;if(this.options.pedantic?(q=2,x=D.trimStart()):$?q=t[1].length+1:(q=t[2].search(this.rules.other.nonSpaceChar),x=D.slice(q=q>4?1:q),q+=t[1].length),$&&this.rules.other.blankLine.test(N)&&(y+=N+"\n",n=n.substring(N.length+1),m=!0),!m)for(var le=this.rules.other.nextBulletRegex(q),ve=this.rules.other.hrRegex(q),Ae=this.rules.other.fencesBeginRegex(q),ge=this.rules.other.headingBeginRegex(q),ke=this.rules.other.htmlBeginRegex(q);n;){var He=n.split("\n",1)[0],ot=void 0;if(N=He,ot=this.options.pedantic?N=N.replace(this.rules.other.listReplaceNesting,"  "):N.replace(this.rules.other.tabCharGlobal,"    "),Ae.test(N)||ge.test(N)||ke.test(N)||le.test(N)||ve.test(N))break;if(ot.search(this.rules.other.nonSpaceChar)>=q||!N.trim())x+="\n"+ot.slice(q);else{if($||D.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Ae.test(D)||ge.test(D)||ve.test(D))break;x+="\n"+N}!$&&!N.trim()&&($=!0),y+=He+"\n",n=n.substring(He.length+1),D=ot.slice(q)}l.loose||(p?l.loose=!0:this.rules.other.doubleBlankLine.test(y)&&(p=!0));var at=null,dt=void 0;this.options.gfm&&(at=this.rules.other.listIsTask.exec(x))&&(dt="[ ] "!==at[0],x=x.replace(this.rules.other.listReplaceTask,"")),l.items.push({type:"list_item",raw:y,task:!!at,checked:dt,loose:!1,text:x,tokens:[]}),l.raw+=y}var Rt=l.items.at(-1);if(!Rt)return;Rt.raw=Rt.raw.trimEnd(),Rt.text=Rt.text.trimEnd(),l.raw=l.raw.trimEnd();for(var Ot=0;Ot<l.items.length;Ot++)if(this.lexer.state.top=!1,l.items[Ot].tokens=this.lexer.blockTokens(l.items[Ot].text,[]),!l.loose){var pt=l.items[Ot].tokens.filter(function(Jt){return"space"===Jt.type}),vt=pt.length>0&&pt.some(function(Jt){return e.rules.other.anyLine.test(Jt.raw)});l.loose=vt}if(l.loose)for(var xt=0;xt<l.items.length;xt++)l.items[xt].loose=!0;return l}}},{key:"html",value:function(n){var e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}},{key:"def",value:function(n){var e=this.rules.block.def.exec(n);if(e){var t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:u}}}},{key:"table",value:function(n){var e,t=this,s=this.rules.block.table.exec(n);if(s&&this.rules.other.tableDelimiter.test(s[2])){var u=AE(s[1]),l=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=null!==(e=s[3])&&void 0!==e&&e.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],p={type:"table",raw:s[0],header:[],align:[],rows:[]};if(u.length===l.length){var y,m=(0,j.A)(l);try{for(m.s();!(y=m.n()).done;){var x=y.value;this.rules.other.tableAlignRight.test(x)?p.align.push("right"):this.rules.other.tableAlignCenter.test(x)?p.align.push("center"):this.rules.other.tableAlignLeft.test(x)?p.align.push("left"):p.align.push(null)}}catch(le){m.e(le)}finally{m.f()}for(var D=0;D<u.length;D++)p.header.push({text:u[D],tokens:this.lexer.inline(u[D]),header:!0,align:p.align[D]});var $,N=(0,j.A)(c);try{for(N.s();!($=N.n()).done;)p.rows.push(AE($.value,p.header.length).map(function(le,ve){return{text:le,tokens:t.lexer.inline(le),header:!1,align:p.align[ve]}}))}catch(le){N.e(le)}finally{N.f()}return p}}}},{key:"lheading",value:function(n){var e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}},{key:"paragraph",value:function(n){var e=this.rules.block.paragraph.exec(n);if(e){var t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}},{key:"text",value:function(n){var e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}},{key:"escape",value:function(n){var e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}},{key:"tag",value:function(n){var e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}},{key:"link",value:function(n){var e=this.rules.inline.link.exec(n);if(e){var t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;var s=Gd(t.slice(0,-1),"\\");if((t.length-s.length)%2==0)return}else{var u=function BG(a,r){if(-1===a.indexOf(r[1]))return-1;for(var n=0,e=0;e<a.length;e++)if("\\"===a[e])e++;else if(a[e]===r[0])n++;else if(a[e]===r[1]&&--n<0)return e;return n>0?-2:-1}(e[2],"()");if(-2===u)return;if(u>-1){var c=(0===e[0].indexOf("!")?5:4)+e[1].length+u;e[2]=e[2].substring(0,u),e[0]=e[0].substring(0,c).trim(),e[3]=""}}var p=e[2],m="";if(this.options.pedantic){var y=this.rules.other.pedanticHrefTitle.exec(p);y&&(p=y[1],m=y[3])}else m=e[3]?e[3].slice(1,-1):"";return p=p.trim(),this.rules.other.startAngleBracket.test(p)&&(p=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?p.slice(1):p.slice(1,-1)),CE(e,{href:p&&p.replace(this.rules.inline.anyPunctuation,"$1"),title:m&&m.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}},{key:"reflink",value:function(n,e){var t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){var u=e[(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!u){var l=t[0].charAt(0);return{type:"text",raw:l,text:l}}return CE(t,u,t[0],this.lexer,this.rules)}}},{key:"emStrong",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.rules.inline.emStrongLDelim.exec(n);if(s&&(!s[3]||!t.match(this.rules.other.unicodeAlphaNumeric))&&(!s[1]&&!s[2]||!t||this.rules.inline.punctuation.exec(t))){var c,p,l=(0,A.A)(s[0]).length-1,m=l,y=0,x="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(x.lastIndex=0,e=e.slice(-1*n.length+l);null!=(s=x.exec(e));)if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6]){if(p=(0,A.A)(c).length,s[3]||s[4]){m+=p;continue}if((s[5]||s[6])&&l%3&&!((l+p)%3)){y+=p;continue}if(!((m-=p)>0)){p=Math.min(p,p+m+y);var D=(0,A.A)(s[0])[0].length,N=n.slice(0,l+s.index+D+p);if(Math.min(l,p)%2){var $=N.slice(1,-1);return{type:"em",raw:N,text:$,tokens:this.lexer.inlineTokens($)}}var q=N.slice(2,-2);return{type:"strong",raw:N,text:q,tokens:this.lexer.inlineTokens(q)}}}}}},{key:"codespan",value:function(n){var e=this.rules.inline.code.exec(n);if(e){var t=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(t),u=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&u&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}},{key:"br",value:function(n){var e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}},{key:"del",value:function(n){var e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}},{key:"autolink",value:function(n){var t,s,e=this.rules.inline.autolink.exec(n);if(e)return s="@"===e[2]?"mailto:"+(t=e[1]):t=e[1],{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}},{key:"url",value:function(n){var e;if(e=this.rules.inline.url.exec(n)){var t,s;if("@"===e[2])s="mailto:"+(t=e[0]);else{var u;do{var l,c;u=e[0],e[0]=null!==(l=null===(c=this.rules.inline._backpedal.exec(e[0]))||void 0===c?void 0:c[0])&&void 0!==l?l:""}while(u!==e[0]);t=e[0],s="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}},{key:"inlineText",value:function(n){var e=this.rules.inline.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],escaped:this.lexer.state.inRawBlock}}}])}(),Zo=function(){function a(r){(0,v.A)(this,a),(0,d.A)(this,"tokens",void 0),(0,d.A)(this,"options",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"tokenizer",void 0),(0,d.A)(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=r||zu,this.options.tokenizer=this.options.tokenizer||new Pm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={other:qa,block:km.normal,inline:Ud.normal};this.options.pedantic?(n.block=km.pedantic,n.inline=Ud.pedantic):this.options.gfm&&(n.block=km.gfm,n.inline=this.options.breaks?Ud.breaks:Ud.gfm),this.tokenizer.rules=n}return(0,g.A)(a,[{key:"lex",value:function(n){n=n.replace(qa.carriageReturn,"\n"),this.blockTokens(n,this.tokens);for(var e=0;e<this.inlineQueue.length;e++){var t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}},{key:"blockTokens",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.options.pedantic&&(n=n.replace(qa.tabCharGlobal,"    ").replace(qa.spaceLine,""));for(var l,u=function(){var p,m,y;if(null!==(p=e.options.extensions)&&void 0!==p&&null!==(p=p.block)&&void 0!==p&&p.some(function(He){return!!(y=He.call({lexer:e},n,t))&&(n=n.substring(y.raw.length),t.push(y),!0)}))return 0;if(y=e.tokenizer.space(n)){n=n.substring(y.raw.length);var x=t.at(-1);return 1===y.raw.length&&void 0!==x?x.raw+="\n":t.push(y),0}if(y=e.tokenizer.code(n)){n=n.substring(y.raw.length);var D=t.at(-1);return"paragraph"===D?.type||"text"===D?.type?(D.raw+="\n"+y.raw,D.text+="\n"+y.text,e.inlineQueue.at(-1).src=D.text):t.push(y),0}if((y=e.tokenizer.fences(n))||(y=e.tokenizer.heading(n))||(y=e.tokenizer.hr(n))||(y=e.tokenizer.blockquote(n))||(y=e.tokenizer.list(n))||(y=e.tokenizer.html(n)))return n=n.substring(y.raw.length),t.push(y),0;if(y=e.tokenizer.def(n)){n=n.substring(y.raw.length);var N=t.at(-1);return"paragraph"===N?.type||"text"===N?.type?(N.raw+="\n"+y.raw,N.text+="\n"+y.raw,e.inlineQueue.at(-1).src=N.text):e.tokens.links[y.tag]||(e.tokens.links[y.tag]={href:y.href,title:y.title}),0}if((y=e.tokenizer.table(n))||(y=e.tokenizer.lheading(n)))return n=n.substring(y.raw.length),t.push(y),0;var $=n;if(null!==(m=e.options.extensions)&&void 0!==m&&m.startBlock){var ve,q=1/0,le=n.slice(1);e.options.extensions.startBlock.forEach(function(He){"number"==typeof(ve=He.call({lexer:e},le))&&ve>=0&&(q=Math.min(q,ve))}),q<1/0&&q>=0&&($=n.substring(0,q+1))}if(e.state.top&&(y=e.tokenizer.paragraph($))){var Ae=t.at(-1);return s&&"paragraph"===Ae?.type?(Ae.raw+="\n"+y.raw,Ae.text+="\n"+y.text,e.inlineQueue.pop(),e.inlineQueue.at(-1).src=Ae.text):t.push(y),s=$.length!==n.length,n=n.substring(y.raw.length),0}if(y=e.tokenizer.text(n)){n=n.substring(y.raw.length);var ge=t.at(-1);return"text"===ge?.type?(ge.raw+="\n"+y.raw,ge.text+="\n"+y.text,e.inlineQueue.pop(),e.inlineQueue.at(-1).src=ge.text):t.push(y),0}if(n){var ke="Infinite loop on byte: "+n.charCodeAt(0);if(e.options.silent)return console.error(ke),1;throw new Error(ke)}};n&&(0===(l=u())||1!==l););return this.state.top=!0,t}},{key:"inline",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:n,tokens:e}),e}},{key:"inlineTokens",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=n,u=null;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(s));)l.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(var y,c=!1,p="",m=function(){var D,N,$;if(c||(p=""),c=!1,null!==(D=e.options.extensions)&&void 0!==D&&null!==(D=D.inline)&&void 0!==D&&D.some(function(ot){return!!($=ot.call({lexer:e},n,t))&&(n=n.substring($.raw.length),t.push($),!0)}))return 0;if(($=e.tokenizer.escape(n))||($=e.tokenizer.tag(n))||($=e.tokenizer.link(n)))return n=n.substring($.raw.length),t.push($),0;if($=e.tokenizer.reflink(n,e.tokens.links)){n=n.substring($.raw.length);var q=t.at(-1);return"text"===$.type&&"text"===q?.type?(q.raw+=$.raw,q.text+=$.text):t.push($),0}if(($=e.tokenizer.emStrong(n,s,p))||($=e.tokenizer.codespan(n))||($=e.tokenizer.br(n))||($=e.tokenizer.del(n))||($=e.tokenizer.autolink(n))||!e.state.inLink&&($=e.tokenizer.url(n)))return n=n.substring($.raw.length),t.push($),0;var le=n;if(null!==(N=e.options.extensions)&&void 0!==N&&N.startInline){var ge,ve=1/0,Ae=n.slice(1);e.options.extensions.startInline.forEach(function(ot){"number"==typeof(ge=ot.call({lexer:e},Ae))&&ge>=0&&(ve=Math.min(ve,ge))}),ve<1/0&&ve>=0&&(le=n.substring(0,ve+1))}if($=e.tokenizer.inlineText(le)){n=n.substring($.raw.length),"_"!==$.raw.slice(-1)&&(p=$.raw.slice(-1)),c=!0;var ke=t.at(-1);return"text"===ke?.type?(ke.raw+=$.raw,ke.text+=$.text):t.push($),0}if(n){var He="Infinite loop on byte: "+n.charCodeAt(0);if(e.options.silent)return console.error(He),1;throw new Error(He)}};n&&(0===(y=m())||1!==y););return t}}],[{key:"rules",get:function(){return{block:km,inline:Ud}}},{key:"lex",value:function(n,e){return new a(e).lex(n)}},{key:"lexInline",value:function(n,e){return new a(e).inlineTokens(n)}}])}(),Hu=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),(0,d.A)(this,"parser",void 0),this.options=r||zu},[{key:"space",value:function(n){return""}},{key:"code",value:function(n){var e,t=n.text,u=n.escaped,l=null===(e=(n.lang||"").match(qa.notSpaceStart))||void 0===e?void 0:e[0],c=t.replace(qa.endingNewline,"")+"\n";return l?'<pre><code class="language-'+Eo(l)+'">'+(u?c:Eo(c,!0))+"</code></pre>\n":"<pre><code>"+(u?c:Eo(c,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(n){var t=this.parser.parse(n.tokens);return"<blockquote>\n".concat(t,"</blockquote>\n")}},{key:"html",value:function(n){return n.text}},{key:"heading",value:function(n){var e=n.tokens,t=n.depth;return"<h".concat(t,">").concat(this.parser.parseInline(e),"</h").concat(t,">\n")}},{key:"hr",value:function(n){return"<hr>\n"}},{key:"list",value:function(n){for(var e=n.ordered,t=n.start,s="",u=0;u<n.items.length;u++)s+=this.listitem(n.items[u]);var c=e?"ol":"ul";return"<"+c+(e&&1!==t?' start="'+t+'"':"")+">\n"+s+"</"+c+">\n"}},{key:"listitem",value:function(n){var e="";if(n.task){var s,t=this.checkbox({checked:!!n.checked});n.loose?"paragraph"===(null===(s=n.tokens[0])||void 0===s?void 0:s.type)?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=t+" "+Eo(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),"<li>".concat(e,"</li>\n")}},{key:"checkbox",value:function(n){return"<input "+(n.checked?'checked="" ':"")+'disabled="" type="checkbox">'}},{key:"paragraph",value:function(n){return"<p>".concat(this.parser.parseInline(n.tokens),"</p>\n")}},{key:"table",value:function(n){for(var e="",t="",s=0;s<n.header.length;s++)t+=this.tablecell(n.header[s]);e+=this.tablerow({text:t});for(var u="",l=0;l<n.rows.length;l++){var c=n.rows[l];t="";for(var p=0;p<c.length;p++)t+=this.tablecell(c[p]);u+=this.tablerow({text:t})}return u&&(u="<tbody>".concat(u,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+u+"</table>\n"}},{key:"tablerow",value:function(n){return"<tr>\n".concat(n.text,"</tr>\n")}},{key:"tablecell",value:function(n){var e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?"<".concat(t,' align="').concat(n.align,'">'):"<".concat(t,">"))+e+"</".concat(t,">\n")}},{key:"strong",value:function(n){return"<strong>".concat(this.parser.parseInline(n.tokens),"</strong>")}},{key:"em",value:function(n){return"<em>".concat(this.parser.parseInline(n.tokens),"</em>")}},{key:"codespan",value:function(n){return"<code>".concat(Eo(n.text,!0),"</code>")}},{key:"br",value:function(n){return"<br>"}},{key:"del",value:function(n){return"<del>".concat(this.parser.parseInline(n.tokens),"</del>")}},{key:"link",value:function(n){var e=n.href,t=n.title,u=this.parser.parseInline(n.tokens),l=bE(e);if(null===l)return u;var c='<a href="'+(e=l)+'"';return t&&(c+=' title="'+Eo(t)+'"'),c+">"+u+"</a>"}},{key:"image",value:function(n){var e=n.href,t=n.title,s=n.text,u=n.tokens;u&&(s=this.parser.parseInline(u,this.parser.textRenderer));var l=bE(e);if(null===l)return Eo(s);var c='<img src="'.concat(e=l,'" alt="').concat(s,'"');return t&&(c+=' title="'.concat(Eo(t),'"')),c+">"}},{key:"text",value:function(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:Eo(n.text)}}])}(),Ey=function(){return(0,g.A)(function a(){(0,v.A)(this,a)},[{key:"strong",value:function(n){return n.text}},{key:"em",value:function(n){return n.text}},{key:"codespan",value:function(n){return n.text}},{key:"del",value:function(n){return n.text}},{key:"html",value:function(n){return n.text}},{key:"text",value:function(n){return n.text}},{key:"link",value:function(n){return""+n.text}},{key:"image",value:function(n){return""+n.text}},{key:"br",value:function(){return""}}])}(),es=function(){function a(r){(0,v.A)(this,a),(0,d.A)(this,"options",void 0),(0,d.A)(this,"renderer",void 0),(0,d.A)(this,"textRenderer",void 0),this.options=r||zu,this.options.renderer=this.options.renderer||new Hu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ey}return(0,g.A)(a,[{key:"parse",value:function(n){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="",s=0;s<n.length;s++){var u,l=n[s];if(null!==(u=this.options.extensions)&&void 0!==u&&null!==(u=u.renderers)&&void 0!==u&&u[l.type]){var c=l,p=this.options.extensions.renderers[c.type].call({parser:this},c);if(!1!==p||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){t+=p||"";continue}}var m=l;switch(m.type){case"space":t+=this.renderer.space(m);continue;case"hr":t+=this.renderer.hr(m);continue;case"heading":t+=this.renderer.heading(m);continue;case"code":t+=this.renderer.code(m);continue;case"table":t+=this.renderer.table(m);continue;case"blockquote":t+=this.renderer.blockquote(m);continue;case"list":t+=this.renderer.list(m);continue;case"html":t+=this.renderer.html(m);continue;case"paragraph":t+=this.renderer.paragraph(m);continue;case"text":for(var y=m,x=this.renderer.text(y);s+1<n.length&&"text"===n[s+1].type;)y=n[++s],x+="\n"+this.renderer.text(y);t+=e?this.renderer.paragraph({type:"paragraph",raw:x,text:x,tokens:[{type:"text",raw:x,text:x,escaped:!0}]}):x;continue;default:var D='Token with "'+m.type+'" type was not found.';if(this.options.silent)return console.error(D),"";throw new Error(D)}}return t}},{key:"parseInline",value:function(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderer,t="",s=0;s<n.length;s++){var u,l=n[s];if(null!==(u=this.options.extensions)&&void 0!==u&&null!==(u=u.renderers)&&void 0!==u&&u[l.type]){var c=this.options.extensions.renderers[l.type].call({parser:this},l);if(!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){t+=c||"";continue}}var p=l;switch(p.type){case"escape":case"text":t+=e.text(p);break;case"html":t+=e.html(p);break;case"link":t+=e.link(p);break;case"image":t+=e.image(p);break;case"strong":t+=e.strong(p);break;case"em":t+=e.em(p);break;case"codespan":t+=e.codespan(p);break;case"br":t+=e.br(p);break;case"del":t+=e.del(p);break;default:var m='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}return t}}],[{key:"parse",value:function(n,e){return new a(e).parse(n)}},{key:"parseInline",value:function(n,e){return new a(e).parseInline(n)}}])}(),Rm=function(){var a;return(0,d.A)(a=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),(0,d.A)(this,"options",void 0),(0,d.A)(this,"block",void 0),this.options=e||zu},[{key:"preprocess",value:function(t){return t}},{key:"postprocess",value:function(t){return t}},{key:"processAllTokens",value:function(t){return t}},{key:"provideLexer",value:function(){return this.block?Zo.lex:Zo.lexInline}},{key:"provideParser",value:function(){return this.block?es.parse:es.parseInline}}])}(),"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),a}(),Ms=new(function(){return(0,g.A)(function a(){(0,v.A)(this,a),(0,d.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,d.A)(this,"options",this.setOptions),(0,d.A)(this,"parse",this.parseMarkdown(!0)),(0,d.A)(this,"parseInline",this.parseMarkdown(!1)),(0,d.A)(this,"Parser",es),(0,d.A)(this,"Renderer",Hu),(0,d.A)(this,"TextRenderer",Ey),(0,d.A)(this,"Lexer",Zo),(0,d.A)(this,"Tokenizer",Pm),(0,d.A)(this,"Hooks",Rm),this.use.apply(this,arguments)},[{key:"walkTokens",value:function(n,e){var l,t=this,s=[],u=(0,j.A)(n);try{var c=function(){var m=l.value;switch(s=s.concat(e.call(t,m)),m.type){case"table":var D,y=m,x=(0,j.A)(y.header);try{for(x.s();!(D=x.n()).done;)s=s.concat(t.walkTokens(D.value.tokens,e))}catch(at){x.e(at)}finally{x.f()}var q,$=(0,j.A)(y.rows);try{for($.s();!(q=$.n()).done;){var Ae,ve=(0,j.A)(q.value);try{for(ve.s();!(Ae=ve.n()).done;)s=s.concat(t.walkTokens(Ae.value.tokens,e))}catch(at){ve.e(at)}finally{ve.f()}}}catch(at){$.e(at)}finally{$.f()}break;case"list":s=s.concat(t.walkTokens(m.items,e));break;default:var He,ot=m;null!==(He=t.defaults.extensions)&&void 0!==He&&null!==(He=He.childTokens)&&void 0!==He&&He[ot.type]?t.defaults.extensions.childTokens[ot.type].forEach(function(at){var dt=ot[at].flat(1/0);s=s.concat(t.walkTokens(dt,e))}):ot.tokens&&(s=s.concat(t.walkTokens(ot.tokens,e)))}};for(u.s();!(l=u.n()).done;)c()}catch(p){u.e(p)}finally{u.f()}return s}},{key:"use",value:function(){for(var n=this,e=this.defaults.extensions||{renderers:{},childTokens:{}},t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return s.forEach(function(l){var c=(0,_.A)({},l);if(c.async=n.defaults.async||c.async||!1,l.extensions&&(l.extensions.forEach(function(ge){if(!ge.name)throw new Error("extension name required");if("renderer"in ge){var ke=e.renderers[ge.name];e.renderers[ge.name]=ke?function(){for(var ot=arguments.length,at=new Array(ot),dt=0;dt<ot;dt++)at[dt]=arguments[dt];var Rt=ge.renderer.apply(this,at);return!1===Rt&&(Rt=ke.apply(this,at)),Rt}:ge.renderer}if("tokenizer"in ge){if(!ge.level||"block"!==ge.level&&"inline"!==ge.level)throw new Error("extension level must be 'block' or 'inline'");var He=e[ge.level];He?He.unshift(ge.tokenizer):e[ge.level]=[ge.tokenizer],ge.start&&("block"===ge.level?e.startBlock?e.startBlock.push(ge.start):e.startBlock=[ge.start]:"inline"===ge.level&&(e.startInline?e.startInline.push(ge.start):e.startInline=[ge.start]))}"childTokens"in ge&&ge.childTokens&&(e.childTokens[ge.name]=ge.childTokens)}),c.extensions=e),l.renderer){var p=n.defaults.renderer||new Hu(n.defaults),m=function(){if(!(y in p))throw new Error("renderer '".concat(y,"' does not exist"));if(["options","parser"].includes(y))return 1;var He=l.renderer[y],ot=p[y];p[y]=function(){for(var at=arguments.length,dt=new Array(at),Rt=0;Rt<at;Rt++)dt[Rt]=arguments[Rt];var Ot=He.apply(p,dt);return!1===Ot&&(Ot=ot.apply(p,dt)),Ot||""}};for(var y in l.renderer)m();c.renderer=p}if(l.tokenizer){var x=n.defaults.tokenizer||new Pm(n.defaults),D=function(){if(!(N in x))throw new Error("tokenizer '".concat(N,"' does not exist"));if(["options","rules","lexer"].includes(N))return 1;var He=l.tokenizer[N],ot=x[N];x[N]=function(){for(var at=arguments.length,dt=new Array(at),Rt=0;Rt<at;Rt++)dt[Rt]=arguments[Rt];var Ot=He.apply(x,dt);return!1===Ot&&(Ot=ot.apply(x,dt)),Ot}};for(var N in l.tokenizer)D();c.tokenizer=x}if(l.hooks){var $=n.defaults.hooks||new Rm,q=function(){if(!(le in $))throw new Error("hook '".concat(le,"' does not exist"));if(["options","block"].includes(le))return 1;var He=l.hooks[le],ot=$[le];$[le]=Rm.passThroughHooks.has(le)?function(at){if(n.defaults.async)return Promise.resolve(He.call($,at)).then(function(Rt){return ot.call($,Rt)});var dt=He.call($,at);return ot.call($,dt)}:function(){for(var at=arguments.length,dt=new Array(at),Rt=0;Rt<at;Rt++)dt[Rt]=arguments[Rt];var Ot=He.apply($,dt);return!1===Ot&&(Ot=ot.apply($,dt)),Ot}};for(var le in l.hooks)q();c.hooks=$}if(l.walkTokens){var ve=n.defaults.walkTokens,Ae=l.walkTokens;c.walkTokens=function(ge){var ke=[];return ke.push(Ae.call(this,ge)),ve&&(ke=ke.concat(ve.call(this,ge))),ke}}n.defaults=(0,_.A)((0,_.A)({},n.defaults),c)}),this}},{key:"setOptions",value:function(n){return this.defaults=(0,_.A)((0,_.A)({},this.defaults),n),this}},{key:"lexer",value:function(n,e){return Zo.lex(n,e??this.defaults)}},{key:"parser",value:function(n,e){return es.parse(n,e??this.defaults)}},{key:"parseMarkdown",value:function(n){var e=this;return function(u,l){var c=(0,_.A)({},l),p=(0,_.A)((0,_.A)({},e.defaults),c),m=e.onError(!!p.silent,!!p.async);if(!0===e.defaults.async&&!1===c.async)return m(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof u>"u"||null===u)return m(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof u)return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(u)+", string expected"));p.hooks&&(p.hooks.options=p,p.hooks.block=n);var y=p.hooks?p.hooks.provideLexer():n?Zo.lex:Zo.lexInline,x=p.hooks?p.hooks.provideParser():n?es.parse:es.parseInline;if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(u):u).then(function($){return y($,p)}).then(function($){return p.hooks?p.hooks.processAllTokens($):$}).then(function($){return p.walkTokens?Promise.all(e.walkTokens($,p.walkTokens)).then(function(){return $}):$}).then(function($){return x($,p)}).then(function($){return p.hooks?p.hooks.postprocess($):$}).catch(m);try{p.hooks&&(u=p.hooks.preprocess(u));var D=y(u,p);p.hooks&&(D=p.hooks.processAllTokens(D)),p.walkTokens&&e.walkTokens(D,p.walkTokens);var N=x(D,p);return p.hooks&&(N=p.hooks.postprocess(N)),N}catch($){return m($)}}}},{key:"onError",value:function(n,e){return function(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",n){var s="<p>An error occurred:</p><pre>"+Eo(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}}])}());function Hn(a,r){return Ms.parse(a,r)}Hn.options=Hn.setOptions=function(a){return Ms.setOptions(a),sE(Hn.defaults=Ms.defaults),Hn},Hn.getDefaults=function gy(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Hn.defaults=zu,Hn.use=function(){return Ms.use.apply(Ms,arguments),sE(Hn.defaults=Ms.defaults),Hn},Hn.walkTokens=function(a,r){return Ms.walkTokens(a,r)},Hn.parseInline=Ms.parseInline,Hn.Parser=es,Hn.parser=es.parse,Hn.Renderer=Hu,Hn.TextRenderer=Ey,Hn.Lexer=Zo,Hn.lexer=Zo.lex,Hn.Tokenizer=Pm,Hn.Hooks=Rm,Hn.parse=Hn;var GG=["*"],SE=function(){var a,r=function(){return(0,g.A)(function n(){var e=this;(0,v.A)(this,n),this._buttonClick$=new W.B,this.copied=_h(this._buttonClick$.pipe((0,We.n)(function(){return(0,ee.h)((0,De.of)(!0),(0,oE.O)(3e3).pipe((0,aG.u)(!1)))}),(0,Bo.F)(),(0,ri.t)(1))),this.copiedText=(0,Wi.EW)(function(){return e.copied()?"Copied":"Copy"})},[{key:"onCopyToClipboardClick",value:function(){this._buttonClick$.next()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,t){1&e&&(o.rj2(0,"button",0),o.VwU("click",function(){return t.onCopyToClipboardClick()}),o.EFF(1),o.eux()),2&e&&(o.AVh("copied",t.copied()),o.R7$(),o.JRh(t.copiedText()))},encapsulation:2,changeDetection:0}),r}(),zG=new f.nKC("CLIPBOARD_OPTIONS"),Dy=function(a){return a.CommandLine="command-line",a.LineHighlight="line-highlight",a.LineNumbers="line-numbers",a}(Dy||{}),KG=new f.nKC("MARKED_EXTENSIONS"),xE=new f.nKC("MARKED_OPTIONS"),XG=new f.nKC("MERMAID_OPTIONS"),EE=new f.nKC("SECURITY_CONTEXT"),Tm=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p,m){(0,v.A)(this,n),this.clipboardOptions=e,this.extensions=t,this.mermaidOptions=u,this.platform=l,this.securityContext=c,this.http=p,this.sanitizer=m,this.DEFAULT_MARKED_OPTIONS={renderer:new Hu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new W.B,this.reload$=this._reload$.asObservable(),this.options=s},[{key:"options",get:function(){return this._options},set:function(t){this._options=(0,_.A)((0,_.A)({},this.DEFAULT_MARKED_OPTIONS),t)}},{key:"renderer",get:function(){return this.options.renderer},set:function(t){this.options.renderer=t}},{key:"parse",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_PARSE_OPTIONS,u=s.decodeHtml,l=s.inline,c=s.emoji,p=s.mermaid,m=s.disableSanitizer,y=(0,_.A)((0,_.A)({},this.options),s.markedOptions),x=y.renderer||this.renderer||new Hu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(x)),p&&(this.renderer=this.extendsRendererForMermaid(x));var D=this.trimIndentation(t),N=u?this.decodeHtml(D):D,$=c?this.parseEmoji(N):N,q=this.parseMarked($,y,l);return(m?q:this.sanitizer.sanitize(this.securityContext,q))||""}},{key:"render",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_RENDER_OPTIONS,u=arguments.length>2?arguments[2]:void 0,l=s.clipboard,c=s.clipboardOptions,m=s.katexOptions,y=s.mermaid,x=s.mermaidOptions;s.katex&&this.renderKatex(t,(0,_.A)((0,_.A)({},this.DEFAULT_KATEX_OPTIONS),m)),y&&this.renderMermaid(t,(0,_.A)((0,_.A)((0,_.A)({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),x)),l&&this.renderClipboard(t,u,(0,_.A)((0,_.A)((0,_.A)({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),c)),this.highlight(t)}},{key:"reload",value:function(){this._reload$.next()}},{key:"getSource",value:function(t){var s=this;if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,me.T)(function(u){return s.handleExtension(t,u)}))}},{key:"highlight",value:function(t){if((0,I.UE)(this.platform)&&!(typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")){t||(t=document);var s=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,function(u){return u.classList.add("language-none")}),Prism.highlightAllUnder(t)}}},{key:"decodeHtml",value:function(t){if(!(0,I.UE)(this.platform))return t;var s=document.createElement("textarea");return s.innerHTML=t,s.value}},{key:"extendsRendererForExtensions",value:function(t){var s,u=t;return!0===u.\u0275NgxMarkdownRendererExtendedForExtensions||((null===(s=this.extensions)||void 0===s?void 0:s.length)>0&&Hn.use.apply(Hn,(0,A.A)(this.extensions)),u.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}},{key:"extendsRendererForMermaid",value:function(t){var s=t;if(!0===s.\u0275NgxMarkdownRendererExtendedForMermaid)return t;var u=t.code;return t.code=function(l){return"mermaid"===l.lang?'<div class="mermaid">'.concat(l.text,"</div>"):u(l)},s.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}},{key:"handleExtension",value:function(t,s){var u=t.lastIndexOf("://"),l=u>-1?t.substring(u+4):t,c=l.lastIndexOf("/"),p=c>-1?l.substring(c+1).split("?")[0]:"",m=p.lastIndexOf("."),y=m>-1?p.substring(m+1):"";return y&&"md"!==y?"```"+y+"\n"+s+"\n```":s}},{key:"parseMarked",value:function(t,s){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.renderer){var l=(0,_.A)({},s.renderer);delete l.\u0275NgxMarkdownRendererExtendedForExtensions,delete l.\u0275NgxMarkdownRendererExtendedForMermaid,delete s.renderer,Hn.use({renderer:l})}return u?Hn.parseInline(t,s):Hn.parse(t,s)}},{key:"parseEmoji",value:function(t){if(!(0,I.UE)(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}},{key:"renderKatex",value:function(t,s){if((0,I.UE)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,s)}}},{key:"renderClipboard",value:function(t,s,u){if((0,I.UE)(this.platform)){if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!s)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");for(var l=u.buttonComponent,c=u.buttonTemplate,p=t.querySelectorAll("pre"),m=function(){var D=p.item(y),N=document.createElement("div");N.style.position="relative",D.parentNode.insertBefore(N,D),N.appendChild(D);var q,Ae,$=document.createElement("div");if($.classList.add("markdown-clipboard-toolbar"),$.style.position="absolute",$.style.top=".5em",$.style.right=".5em",$.style.zIndex="1",N.insertAdjacentElement("beforeend",$),N.onmouseenter=function(){return $.classList.add("hover")},N.onmouseleave=function(){return $.classList.remove("hover")},l){var le=s.createComponent(l);q=le.hostView,le.changeDetectorRef.markForCheck()}else if(c)q=s.createEmbeddedView(c);else{var ve=s.createComponent(SE);q=ve.hostView,ve.changeDetectorRef.markForCheck()}q.rootNodes.forEach(function(ge){$.appendChild(ge),Ae=new ClipboardJS(ge,{text:function(){return D.innerText}})}),q.onDestroy(function(){return Ae.destroy()})},y=0;y<p.length;y++)m()}}},{key:"renderMermaid",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_MERMAID_OPTIONS;if((0,I.UE)(this.platform)){if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");var u=t.querySelectorAll(".mermaid");0!==u.length&&(mermaid.initialize(s),mermaid.run({nodes:u}))}}},{key:"trimIndentation",value:function(t){return t?t.split("\n").map(function(u){var l=s;return u.length>0&&(l=isNaN(l)?u.search(/\S|$/):Math.min(u.search(/\S|$/),l)),isNaN(s)&&(s=l),l?u.substring(l):u}).join("\n"):"";var s}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(zG,8),f.KVO(KG,8),f.KVO(xE,8),f.KVO(XG,8),f.KVO(o.Agw),f.KVO(EE),f.KVO(V.Qq,8),f.KVO(M.DomSanitizer))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),DE=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.element=e,this.markdownService=t,this.viewContainerRef=s,this.error=new o.bkB,this.load=new o.bkB,this.ready=new o.bkB,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new W.B},[{key:"disableSanitizer",get:function(){return this._disableSanitizer},set:function(t){this._disableSanitizer=this.coerceBooleanProperty(t)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=this.coerceBooleanProperty(t)}},{key:"clipboard",get:function(){return this._clipboard},set:function(t){this._clipboard=this.coerceBooleanProperty(t)}},{key:"emoji",get:function(){return this._emoji},set:function(t){this._emoji=this.coerceBooleanProperty(t)}},{key:"katex",get:function(){return this._katex},set:function(t){this._katex=this.coerceBooleanProperty(t)}},{key:"mermaid",get:function(){return this._mermaid},set:function(t){this._mermaid=this.coerceBooleanProperty(t)}},{key:"lineHighlight",get:function(){return this._lineHighlight},set:function(t){this._lineHighlight=this.coerceBooleanProperty(t)}},{key:"lineNumbers",get:function(){return this._lineNumbers},set:function(t){this._lineNumbers=this.coerceBooleanProperty(t)}},{key:"commandLine",get:function(){return this._commandLine},set:function(t){this._commandLine=this.coerceBooleanProperty(t)}},{key:"ngOnChanges",value:function(){this.loadContent()}},{key:"loadContent",value:function(){null==this.data?null==this.src||this.handleSrc():this.handleData()}},{key:"ngAfterViewInit",value:function(){var t=this;!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,rr.Q)(this.destroyed$)).subscribe(function(){return t.loadContent()})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"render",value:(e=(0,Mt.A)(function(s){var u=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Ke.A)().m(function c(){var p,m;return(0,Ke.A)().w(function(x){for(;;)switch(x.n){case 0:return p={decodeHtml:l,inline:u.inline,emoji:u.emoji,mermaid:u.mermaid,disableSanitizer:u.disableSanitizer},m={clipboard:u.clipboard,clipboardOptions:u.getClipboardOptions(),katex:u.katex,katexOptions:u.katexOptions,mermaid:u.mermaid,mermaidOptions:u.mermaidOptions},x.n=1,u.markdownService.parse(s,p);case 1:u.element.nativeElement.innerHTML=x.v,u.handlePlugins(),u.markdownService.render(u.element.nativeElement,m,u.viewContainerRef),u.ready.emit();case 2:return x.a(2)}},c)})()}),function t(s){return e.apply(this,arguments)})},{key:"coerceBooleanProperty",value:function(t){return null!=t&&"false"!=="".concat(String(t))}},{key:"getClipboardOptions",value:function(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}},{key:"handleData",value:function(){this.render(this.data)}},{key:"handleSrc",value:function(){var t=this;this.markdownService.getSource(this.src).subscribe({next:function(u){t.render(u).then(function(){t.load.emit(u)})},error:function(u){return t.error.emit(u)}})}},{key:"handleTransclusion",value:function(){this.render(this.element.nativeElement.innerHTML,!0)}},{key:"handlePlugins",value:function(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Dy.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Dy.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}},{key:"setPluginClass",value:function(t,s){for(var u=t.querySelectorAll("pre"),l=0;l<u.length;l++){var c,p=s instanceof Array?s:[s];(c=u.item(l).classList).add.apply(c,(0,A.A)(p))}}},{key:"setPluginOptions",value:function(t,s){for(var u=this,l=t.querySelectorAll("pre"),c=function(y){Object.keys(s).forEach(function(x){var D=s[x];if(D){var N=u.toLispCase(x);l.item(y).setAttribute(N,D.toString())}})},p=0;p<l.length;p++)c(p)}},{key:"toLispCase",value:function(t){var s=t.match(/([A-Z])/g);if(!s)return t;for(var u=t.toString(),l=0,c=s.length;l<c;l++)u=u.replace(new RegExp(s[l]),"-"+s[l].toLowerCase());return"-"===u.slice(0,1)&&(u=u.slice(1)),u}}]);var e}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.aKT),o.rXU(Tm),o.rXU(o.c1b))},a.\u0275cmp=o.VBU({type:a,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[o.OA$],ngContentSelectors:GG,decls:1,vars:0,template:function(e,t){1&e&&(o.NAR(),o.SdG(0))},encapsulation:2}),r}(),wE=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.domSanitizer=e,this.elementRef=t,this.markdownService=s,this.viewContainerRef=u,this.zone=l},[{key:"transform",value:(e=(0,Mt.A)((0,Ke.A)().m(function s(u,l){var p,c=this;return(0,Ke.A)().w(function(m){for(;;)switch(m.n){case 0:if(null!=u){m.n=1;break}return m.a(2,"");case 1:if("string"==typeof u){m.n=2;break}return console.error("MarkdownPipe has been invoked with an invalid value type [".concat(typeof u,"]")),m.a(2,u);case 2:return m.n=3,this.markdownService.parse(u,l);case 3:return p=m.v,this.zone.onStable.pipe(gs()).subscribe(function(){return c.markdownService.render(c.elementRef.nativeElement,l,c.viewContainerRef)}),m.a(2,this.domSanitizer.bypassSecurityTrustHtml(p))}},s,this)})),function t(s,u){return e.apply(this,arguments)})}]);var e}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(M.DomSanitizer,16),o.rXU(o.aKT,16),o.rXU(Tm,16),o.rXU(o.c1b,16),o.rXU(o.SKi,16))},a.\u0275pipe=o.EJ8({name:"markdown",type:a,pure:!0}),r}();function e9(a){var r,n,e,t,s,u;return[Tm,null!==(r=a?.loader)&&void 0!==r?r:[],null!==(n=a?.clipboardOptions)&&void 0!==n?n:[],null!==(e=a?.markedOptions)&&void 0!==e?e:[],null!==(t=a?.mermaidOptions)&&void 0!==t?t:[],null!==(s=a?.markedExtensions)&&void 0!==s?s:[],{provide:EE,useValue:null!==(u=a?.sanitize)&&void 0!==u?u:o.WPN.HTML}]}var wy=function(){var a,r=function(){function n(){(0,v.A)(this,n)}return(0,g.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[e9(t)]}}},{key:"forChild",value:function(){return{ngModule:n}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),Zr=b(8724),qr=b(4175),Ut=b(7760),nn=b(8388),ya=b(6060);function t9(a,r){1&a&&o.eu8(0)}function n9(a,r){if(1&a){var n=o.RV6();o.j41(0,"form",3),o.bIt("ngSubmit",function(){f.eBV(n);var u=o.XpG();return f.Njj(u.submit())}),o.j41(1,"mat-dialog-content")(2,"div",4),o.DNE(3,t9,1,0,"ng-container",5),o.k0s()(),o.j41(4,"mat-dialog-actions")(5,"button",6),o.EFF(6,"Save"),o.k0s()()()}if(2&a){var e=o.XpG(),t=o.sdS(3);o.Y8G("formGroup",e.contentForm),o.R7$(3),o.Y8G("ngTemplateOutlet",t),o.R7$(2),o.Y8G("disabled",!e.contentForm.valid)}}function r9(a,r){1&a&&o.eu8(0)}function a9(a,r){if(1&a&&(o.j41(0,"div",4),o.DNE(1,r9,1,0,"ng-container",5),o.k0s()),2&a){o.XpG();var n=o.sdS(3);o.R7$(),o.Y8G("ngTemplateOutlet",n)}}function i9(a,r){if(1&a&&(o.j41(0,"li"),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.R7$(),o.JRh(n.key)}}function o9(a,r){if(1&a&&(o.j41(0,"ul",18),o.DNE(1,i9,2,1,"li",19),o.nI1(2,"keyvalue"),o.k0s()),2&a){var n=o.XpG(2);o.Y8G("hidden",!0),o.R7$(),o.Y8G("ngForOf",o.bMT(2,2,n.tokens))}}function s9(a,r){if(1&a&&(o.nrm(0,"classifieds-ui-dynamic-content-viewer",20),o.nI1(1,"markdown")),2&a){var n=o.XpG(2);o.Y8G("content",o.bMT(1,1,n.preview))}}function u9(a,r){if(1&a&&o.nrm(0,"classifieds-ui-dynamic-content-viewer",20),2&a){var n=o.XpG(2);o.Y8G("content",n.preview)}}function l9(a,r){if(1&a&&(o.j41(0,"as-split",7)(1,"as-split-area",8)(2,"div"),o.DNE(3,o9,3,4,"ul",9),o.j41(4,"mat-form-field")(5,"mat-label"),o.EFF(6,"Content Type"),o.k0s(),o.j41(7,"mat-select",10)(8,"mat-option",11),o.EFF(9,"Markdown"),o.k0s(),o.j41(10,"mat-option",12),o.EFF(11,"HTML"),o.k0s(),o.j41(12,"mat-option",13),o.EFF(13,"JSON"),o.k0s()()()(),o.j41(14,"as-split",14)(15,"as-split-area",8)(16,"div"),o.nrm(17,"textarea",15),o.k0s()(),o.j41(18,"as-split-area",8)(19,"div"),o.nrm(20,"textarea",16),o.k0s()()()(),o.j41(21,"as-split-area",8),o.DNE(22,s9,2,3,"classifieds-ui-dynamic-content-viewer",17)(23,u9,1,1,"classifieds-ui-dynamic-content-viewer",17),o.k0s()()),2&a){var n=o.XpG();o.Y8G("direction",n.splitDirection)("formGroup",n.contentForm),o.R7$(3),o.Y8G("ngIf",n.tokens),o.R7$(14),o.Y8G("cols",n.cols)("rows",n.rows),o.R7$(3),o.Y8G("cols",n.cols)("rows",n.rows),o.R7$(2),o.Y8G("ngIf",n.isMarkdown),o.R7$(),o.Y8G("ngIf",!n.isMarkdown)}}var Ku=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.content=r.content,this.contentType=r.contentType,r.jsFile&&""!==r.jsFile&&(this.jsFile=r.jsFile),r.jsScript&&""!==r.jsScript&&(this.jsScript=r.jsScript))}),Mm=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.submitted=new o.bkB,this.splitDirection="vertical",this.rows=40,this.cols=100,this.rootForm=!0,this.onTouched=function(){},this.contentForm=this.fb.group({content:this.fb.control("",h.k0.required),contentType:this.fb.control("",h.k0.required),jsScript:this.fb.control("")}),this.isMarkdown=!1,this.contentEditorOptions={theme:"vs-dark",language:"text/html"}},[{key:"snippet",set:function(t){void 0!==t&&this.contentForm.setValue((0,_.A)((0,_.A)({},t),{},{jsScript:t.jsScript&&""!==t.jsScript?t.jsScript:""}))}},{key:"ngOnInit",value:function(){var t=this;this.contentForm.get("content").valueChanges.pipe((0,Bo.F)(),(0,zn.B)(500),(0,me.T)(function(s){return void 0!==t.tokens?t.replaceTokens(s):s})).subscribe(function(s){t.preview=s}),this.contentForm.get("contentType").valueChanges.subscribe(function(s){t.isMarkdown="text/markdown"===s})}},{key:"writeValue",value:function(t){t&&(console.log("write value: ".concat(t)),this.contentForm.setValue(t,{emitEvent:!1}))}},{key:"registerOnChange",value:function(t){this.contentForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(t){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"snippet is invalid"}}}},{key:"submit",value:function(){this.submitted.emit(new Ku({content:this.contentForm.get("content").value,contentType:this.contentForm.get("contentType").value,jsScript:this.contentForm.get("jsScript").value}))}},{key:"replaceTokens",value:function(t){return this.tokens&&this.tokens.forEach(function(s,u){t=t.replace("[".concat(u,"]"),"".concat(s," [token = '").concat(u,"']"))}),t}},{key:"addScript",value:function(){var t=document.createElement("script");t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-snippet-form"]],inputs:{tokens:"tokens",splitDirection:"splitDirection",rows:"rows",cols:"cols",rootForm:"rootForm",snippet:"snippet"},outputs:{submitted:"submitted"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:4,vars:2,consts:[["formBodyTpl",""],[3,"formGroup","ngSubmit",4,"ngIf"],["class","content-inner",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"content-inner"],[4,"ngTemplateOutlet"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"direction","formGroup"],["size","50"],[3,"hidden",4,"ngIf"],["required","","formControlName","contentType"],["value","text/markdown"],["value","text/html"],["value","application/json"],["direction","horizontal"],["formControlName","content",3,"cols","rows"],["formControlName","jsScript",3,"cols","rows"],[3,"content",4,"ngIf"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"content"]],template:function(e,t){1&e&&o.DNE(0,n9,7,3,"form",1)(1,a9,2,1,"div",2)(2,l9,24,9,"ng-template",null,0,o.C5r),2&e&&(o.Y8G("ngIf",t.rootForm),o.R7$(),o.Y8G("ngIf",!t.rootForm))},dependencies:[k.Sq,k.bT,k.T3,h.qT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,Nd,Od,Zr.wT,qr.$z,Ut.tx,Ut.E7,Ut.Yi,nn.rl,nn.nJ,ya.VO,ln.DynamicContentViewer,k.lG,wE],encapsulation:2}),r}(),Fy=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.X1,h.YN,jc,Em,va.MaterialModule,Cf,wy,ln.UtilsModule]}),r}(),FE=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"parseSnippet",value:function(t){return(0,De.of)(t.snippet.content)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),an=b(1265);function tr(a,r,n){return(0,kf.v)(function(){return a()?r:n})}var jd=b(7024),vr=b(5541),ui=b(353);function c9(a,r){if(1&a&&(o.j41(0,"mat-option",10),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value.id),o.R7$(),o.JRh(n.value.title)}}function d9(a,r){if(1&a&&(o.j41(0,"mat-option",10),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n)}}function f9(a,r){if(1&a&&(o.j41(0,"mat-form-field",2)(1,"mat-label"),o.EFF(2,"Context"),o.k0s(),o.j41(3,"mat-select",11),o.DNE(4,d9,2,2,"mat-option",4),o.k0s()()),2&a){var n=o.XpG(2);o.R7$(4),o.Y8G("ngForOf",n.contexts)}}function p9(a,r){if(1&a&&(o.j41(0,"div",12)(1,"mat-checkbox",13),o.EFF(2),o.k0s()()),2&a){var n=r.index,e=o.XpG(2);o.Y8G("formGroupName",n),o.R7$(2),o.JRh(e.flagsAsArray[n])}}function m9(a,r){if(1&a&&(o.j41(0,"div",1)(1,"div"),o.EFF(2),o.k0s(),o.j41(3,"mat-form-field",2)(4,"mat-label"),o.EFF(5,"Type"),o.k0s(),o.j41(6,"mat-select",3),o.DNE(7,c9,2,2,"mat-option",4),o.nI1(8,"async"),o.nI1(9,"keyvalue"),o.k0s()(),o.DNE(10,f9,5,1,"mat-form-field",5),o.j41(11,"mat-form-field",2),o.nrm(12,"input",6),o.k0s(),o.j41(13,"mat-form-field",2),o.nrm(14,"input",7),o.k0s(),o.j41(15,"div",8),o.DNE(16,p9,3,2,"div",9),o.k0s()()),2&a){var n=r.$implicit,e=r.index,t=o.XpG();o.Y8G("formGroup",n),o.R7$(2),o.JRh(t.paramName(e)),o.R7$(5),o.Y8G("ngForOf",o.bMT(9,7,o.bMT(8,5,t.paramPlugins$))),o.R7$(3),o.Y8G("ngIf","context"==n.get("mapping").get("type").value),o.R7$(6),o.Y8G("ngForOf",n.get("flags").controls)}}function h9(a,r){if(1&a&&(o.j41(0,"mat-option",4),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value.id),o.R7$(),o.JRh(n.value.title)}}var ts=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.evalParam=n.evalParam,n.condition&&(e.condition=n.condition),n.usedContexts&&(e.usedContexts=n.usedContexts)),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),_a=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.mapping=new kE(r.mapping),void 0!==r.flags&&(this.flags=r.flags.map(function(n){return new y9(n)})))}),kE=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.type=r.type,this.value=r.value,this.testValue=r.testValue,this.context=r.context)}),y9=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.name=r.name,this.enabled=r.enabled)}),ns=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.plugin=r.plugin,this.settings=r.settings?new PE(r.settings):new PE)}),PE=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.paramsString=r.paramsString,r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new _a(n)})))}),Is=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"param"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),$d=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.ppm=t,this.contexts=[],this.params$=new R.t({}),this.paramValues$=new R.t([]),this.init$=new W.B,this.formArray=this.fb.array([]),this.paramPlugins$=this.ppm.getPlugins(),this.flags=new Map,this.savedParams=new Map,this.paramIndexes=new Map,this.paramsSub=this.params$.pipe((0,ue.M)(function(u){var l=new Map((0,A.A)(s.paramIndexes));s.formArray.clear(),s.paramIndexes.clear();var c=0;for(var p in u)Array.isArray(u[p])?(u[p].forEach(function(m){return s.buildParams(m,c,l)}),c++):0===u[p].indexOf(":")&&(s.buildParams(u[p],c,l),c++)})).subscribe(),this.savedParamsSub=this.formArray.valueChanges.pipe((0,zn.B)(1e3),(0,ue.M)(function(u){for(var l=u.length,c=0;c<l;c++)s.savedParams.set(s.paramName(c),new _a(u[c]))})).subscribe(),this.paramValuesSub=(0,Vn.z)([this.paramValues$,this.params$,this.init$]).pipe((0,ue.M)(function(u){for(var c=(0,F.A)(u,1)[0],p=c?c.length:0,m=function(D){var N=Array.from(s.paramIndexes).find(function($){return(0,F.A)($,2)[1]===D});void 0!==N&&s.savedParams.set(N[0],c[D])},y=0;y<p;y++)m(y)})).subscribe(),this.onTouched=function(){},this.flags.set("page","Page"),this.flags.set("limit","Limit"),this.flags.set("offset","Offset"),this.flags.set("searchString","Search String")},[{key:"params",set:function(t){this.params$.next(t)}},{key:"paramValues",set:function(t){this.paramValues$.next(t)}},{key:"flagsAsArray",get:function(){var t=[];return this.flags.forEach(function(s,u){t.push(u)}),t}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.formArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formArray.disable():this.formArray.enable()}},{key:"validate",value:function(t){return this.formArray.valid?null:this.formArray.errors}},{key:"buildParams",value:function(t,s,u){var l=this;console.log("build param ".concat(t)),this.paramIndexes.set(t,s),this.formArray.push(this.fb.group({mapping:this.fb.group({type:this.fb.control("",h.k0.required),value:this.fb.control("",h.k0.required),testValue:this.fb.control(""),context:this.fb.control("")}),flags:this.fb.array(this.flagsAsArray.map(function(c){return l.fb.group({name:c,enabled:l.fb.control(!1)})}))})),this.savedParams.has(t)?this.formArray.at(s).setValue(this.savedParams.get(t)):s<this.paramValues$.value.length&&-1===Array.from(u).findIndex(function(c){return(0,F.A)(c,2)[1]===s})&&this.formArray.at(s).setValue(this.paramValues$.value[s])}},{key:"paramName",value:function(t){var s=0;for(var u in this.params$.value)if(Array.isArray(this.params$.value[u]))for(var l=0;l<this.params$.value[u].length;l++){if(t===s)return this.params$.value[u][l];s++}else if(0===this.params$.value[u].indexOf(":")){if(s===t)return this.params$.value[u];s++}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(Is))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-params-form"]],inputs:{contexts:"contexts",params:"params",paramValues:"paramValues"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","mapping"],["required","","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","mapping",4,"ngIf"],["matInput","","formControlName","value","placeholder","value","required",""],["matInput","","formControlName","testValue","placeholder","Test Value","required",""],["formArrayName","flags"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","context"],[3,"formGroupName"],["formControlName","enabled"]],template:function(e,t){1&e&&o.DNE(0,m9,17,9,"div",0),2&e&&o.Y8G("ngForOf",t.formArray.controls)},dependencies:[k.Sq,k.bT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,h.$R,h.v8,Zr.wT,jd.So,vr.fg,nn.rl,nn.nJ,ya.VO,k.Jj,k.lG],encapsulation:2}),r}(),_9=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new R.t(void 0),this.afterViewInit$=new W.B,this.paramValues$=new R.t([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,zn.B)(500)).subscribe(function(s){var u=ui.parse("?"+s);t.paramsParsed=u}),this.settingsSub=this.settings$.pipe((0,ue.M)(function(s){s&&t.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,Vn.z)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,he.p)(function(s){return void 0!==(0,F.A)(s,1)[0]}),(0,fr.c)(1),(0,ue.M)(function(s){var u=(0,F.A)(s,1);return t.paramValues$.next(u[0].params)})).subscribe(),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-params-querystring"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),o.nrm(4,"input",2),o.k0s()(),o.nrm(5,"classifieds-ui-params-form",3),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(5),o.Y8G("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[h.me,h.BC,h.cb,h.j4,h.JD,vr.fg,nn.rl,$d],encapsulation:2}),r}(),b9=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.plugins$=new R.t([]),this.title$=new R.t("Plugin"),this.instance$=new R.t(new ns),this.instanceForm=this.fb.group({plugin:this.fb.control(""),settings:this.fb.control("")}),this.instanceSub=this.instance$.pipe((0,he.p)(function(s){return!!s}),(0,ue.M)(function(s){t.instanceForm.get("plugin").setValue(s.plugin)})).subscribe(),this.onTouched=function(){}},[{key:"title",set:function(t){this.title$.next(t)}},{key:"plugins",set:function(t){this.plugins$.next(t)}},{key:"instance",set:function(t){this.instance$.next(t)}},{key:"writeValue",value:function(t){t&&this.instanceForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.instanceForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.instanceForm.disable():this.instanceForm.enable()}},{key:"validate",value:function(t){return this.instanceForm.valid?null:this.instanceForm.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-params-plugin-instance"]],inputs:{title:"title",plugins:"plugins",instance:"instance"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:10,vars:10,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["formControlName","settings",3,"settings"],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.EFF(3),o.nI1(4,"async"),o.k0s(),o.j41(5,"mat-select",1),o.DNE(6,h9,2,2,"mat-option",2),o.nI1(7,"async"),o.nI1(8,"keyvalue"),o.k0s()(),o.nrm(9,"druid-params-querystring",3),o.k0s()),2&e&&(o.Y8G("formGroup",t.instanceForm),o.R7$(3),o.JRh(o.bMT(4,4,t.title$)),o.R7$(3),o.Y8G("ngForOf",o.bMT(8,8,o.bMT(7,6,t.plugins$))),o.R7$(3),o.Y8G("settings",t.instance$.value.settings))},dependencies:[k.Sq,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,nn.rl,nn.nJ,ya.VO,_9,k.Jj,k.lG],encapsulation:2}),r}(),Do=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.paramPluginManager=e,this.tokenizerService=t},[{key:"paramValue",value:function(t,s){var u=this;return this.paramPluginManager.getPlugins().pipe((0,me.T)(function(l){return Array.from(l).map(function(c){return(0,F.A)(c,2)[1]})}),(0,me.T)(function(l){return l.find(function(c){return c.condition&&c.condition({param:t,metadata:s})||!c.condition&&c.id===t.mapping.type})}),(0,We.n)(function(l){return tr(function(){return!!l},l?l.evalParam({param:t,metadata:s}):(0,De.of)(),(0,De.of)(t.mapping.value))}),(0,me.T)(function(l){return t.mapping.value&&"string"==typeof l&&0===u.tokenizerService.discoverTokens(l).length?l:t.mapping.testValue}))}},{key:"paramValues",value:function(t){var s=this;return(0,Cn.p)(Array.from(t.keys()).map(function(u){return s.paramValue(t.get(u),new Map).pipe((0,me.T)(function(l){return[u,l]}))})).pipe((0,me.T)(function(u){return u.reduce(function(l,c){return new Map([].concat((0,A.A)(l),[c]))},new Map)}),br(new Map))}},{key:"resolveParams",value:function(t){var s=this,u=t.params;return(0,We.n)(function(){return tr(function(){return Object.keys(u).length>1},(0,Cn.p)(Object.keys(u).map(function(l){return s.paramValue(u[l],new Map).pipe((0,me.T)(function(c){return(0,d.A)({},l,c)}))})).pipe((0,me.T)(function(l){return l.reduce(function(c,p){return(0,_.A)((0,_.A)({},c),p)},{})}),(0,me.T)(function(l){return{options:l}})),tr(function(){return 0!==Object.keys(u).length},s.paramValue(0!==Object.keys(u).length?u[Object.keys(u)[0]]:new _a,new Map).pipe((0,me.T)(function(l){return{options:(0,d.A)({},Object.keys(u)[0],l)}})),(0,De.of)({options:{}})))})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Is),f.KVO(Yn))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Vs=function(){var a,r=(0,g.A)(function n(e,t){(0,v.A)(this,n),e.register(new ts({id:"static",title:"Static",evalParam:function(n){return(0,De.of)(n.param.mapping.value)}})),e.register(function(r){return new ts({id:"inputparam",title:"Input Param",evalParam:function(e){var t=e.param,s=e.metadata;return(0,De.of)(t.mapping.value).pipe((0,me.T)(function(u){return s.has("inputparams")&&s.get("inputparams").has(u)?s.get("inputparams").get(u):void 0}),(0,We.n)(function(u){return tr(function(){return void 0!==u},void 0!==u?r.paramValue(u,s):(0,De.of)(t.mapping.testValue),(0,De.of)(t.mapping.testValue))}))}})}(t))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Is),f.KVO(Do))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,h.X1,va.MaterialModule]}),r}(),RE="@ngrx/router-store/request",ky=(ei(RE,{_as:"props",_p:void 0}),"@ngrx/router-store/navigation"),Py=(ei(ky,{_as:"props",_p:void 0}),"@ngrx/router-store/cancel"),Ry=(ei(Py,{_as:"props",_p:void 0}),"@ngrx/router-store/error"),TE=(ei(Ry,{_as:"props",_p:void 0}),"@ngrx/router-store/navigated");ei(TE,{_as:"props",_p:void 0});var Ty=function(){return(0,g.A)(function a(){(0,v.A)(this,a)},[{key:"serialize",value:function(n){return{root:this.serializeRoute(n.root),url:n.url}}},{key:"serializeRoute",value:function(n){var e=this,t=n.children.map(function(s){return e.serializeRoute(s)});return{params:n.params,data:n.data,url:n.url,outlet:n.outlet,title:n.title,routeConfig:n.routeConfig?{path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet,title:"string"==typeof n.routeConfig.title?n.routeConfig.title:void 0}:null,queryParams:n.queryParams,fragment:n.fragment,firstChild:t[0],children:t}}}])}(),My=function(a){return a[a.PreActivation=1]="PreActivation",a[a.PostActivation=2]="PostActivation",a}(My||{}),IE=new f.nKC("@ngrx/router-store Internal Configuration"),VE=new f.nKC("@ngrx/router-store Configuration"),Iy=function(a){return a[a.Full=0]="Full",a[a.Minimal=1]="Minimal",a}(Iy||{});function C9(a){return(0,_.A)({stateKey:"router",serializer:Ty,navigationActionTiming:My.PreActivation},a)}var NE=function(){return(0,g.A)(function a(){(0,v.A)(this,a)},[{key:"serialize",value:function(n){return{root:this.serializeRoute(n.root),url:n.url}}},{key:"serializeRoute",value:function(n){var e=this,t=n.children.map(function(s){return e.serializeRoute(s)});return{params:n.params,paramMap:n.paramMap,data:n.data,url:n.url,outlet:n.outlet,title:n.title,routeConfig:n.routeConfig?{component:n.routeConfig.component,path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet,title:n.routeConfig.title}:null,queryParams:n.queryParams,queryParamMap:n.queryParamMap,fragment:n.fragment,component:n.routeConfig?n.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}}])}(),OE=(0,g.A)(function a(){(0,v.A)(this,a)}),wo=function(a){return a[a.NONE=1]="NONE",a[a.ROUTER=2]="ROUTER",a[a.STORE=3]="STORE",a}(wo||{}),BE=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.store=e,this.router=t,this.serializer=s,this.errorHandler=u,this.config=l,this.activeRuntimeChecks=c,this.lastEvent=null,this.routerState=null,this.trigger=wo.NONE,this.stateKey=this.config.stateKey,(0,G.naY)()&&(null!=c&&c.strictActionSerializability||null!=c&&c.strictStateSerializability)&&this.serializer instanceof NE&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()},[{key:"setUpStoreStateListener",value:function(){var t=this;this.store.pipe(Rr(this.stateKey),hi(this.store)).subscribe(function(s){var u=(0,F.A)(s,2);t.navigateIfNeeded(u[0],u[1])})}},{key:"navigateIfNeeded",value:function(t,s){var u=this;if(t&&t.state&&this.trigger!==wo.ROUTER&&!(this.lastEvent instanceof hl)){var l=t.state.url;(function S9(a,r){return LE(a)===LE(r)})(this.router.url,l)||(this.storeState=s,this.trigger=wo.STORE,this.router.navigateByUrl(l).catch(function(c){u.errorHandler.handleError(c)}))}}},{key:"setUpRouterEventsListener",value:function(){var u,t=this,s=this.config.navigationActionTiming===My.PostActivation;this.router.events.pipe(hi(this.store)).subscribe(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];t.lastEvent=p,p instanceof hl?(t.routerState=t.serializer.serialize(t.router.routerState.snapshot),t.trigger!==wo.STORE&&(t.storeState=m,t.dispatchRouterRequest(p))):p instanceof Lf?(u=p,!s&&t.trigger!==wo.STORE&&t.dispatchRouterNavigation(p)):p instanceof ys?(t.dispatchRouterCancel(p),t.reset()):p instanceof nd?(t.dispatchRouterError(p),t.reset()):p instanceof po&&(t.trigger!==wo.STORE&&(s&&t.dispatchRouterNavigation(u),t.dispatchRouterNavigated(p)),t.reset())})}},{key:"dispatchRouterRequest",value:function(t){this.dispatchRouterAction(RE,{event:t})}},{key:"dispatchRouterNavigation",value:function(t){var s=this.serializer.serialize(t.state);this.dispatchRouterAction(ky,{routerState:s,event:new Lf(t.id,t.url,t.urlAfterRedirects,s)})}},{key:"dispatchRouterCancel",value:function(t){this.dispatchRouterAction(Py,{storeState:this.storeState,event:t})}},{key:"dispatchRouterError",value:function(t){this.dispatchRouterAction(Ry,{storeState:this.storeState,event:new nd(t.id,t.url,"".concat(t))})}},{key:"dispatchRouterNavigated",value:function(t){var s=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(TE,{event:t,routerState:s})}},{key:"dispatchRouterAction",value:function(t,s){this.trigger=wo.ROUTER;try{this.store.dispatch({type:t,payload:(0,_.A)((0,_.A)({routerState:this.routerState},s),{},{event:this.config.routerState===Iy.Full?s.event:{id:s.event.id,url:s.event.url,urlAfterRedirects:s.event.urlAfterRedirects}})})}finally{this.trigger=wo.NONE}}},{key:"reset",value:function(){this.trigger=wo.NONE,this.storeState=null,this.routerState=null}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Or),f.KVO(xa),f.KVO(OE),f.KVO(f.zcH),f.KVO(VE),f.KVO(fl))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}();function LE(a){return a?.length>0&&"/"===a[a.length-1]?a.substring(0,a.length-1):a}function x9(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.EmA)([{provide:IE,useValue:a},{provide:VE,useFactory:C9,deps:[IE]},{provide:OE,useClass:a.serializer?a.serializer:a.routerState===Iy.Full?NE:Ty},(0,f.BCV)(function(){return(0,f.WQX)(BE)}),BE])}var E9=function(){var a,r=function(){function n(){(0,v.A)(this,n)}return(0,g.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[x9(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}();function zd(){var r=wn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function D9(){return Xc("router")}(),function(D){return D&&D.state}),n=wn(r,function(D){return D&&D.root}),e=wn(n,function(D){if(D){for(var N=D;N.firstChild;)N=N.firstChild;return N}}),t=wn(n,function(D){return D&&D.fragment}),s=wn(n,function(D){return D&&D.queryParams}),l=wn(e,function(D){return D&&D.params}),p=wn(e,function(D){return D&&D.data}),y=wn(r,function(D){return D&&D.url}),x=wn(e,function(D){if(null!=D&&D.routeConfig)return"string"==typeof D.routeConfig.title?D.routeConfig.title:D.title});return{selectCurrentRoute:e,selectFragment:t,selectQueryParams:s,selectQueryParam:function(N){return wn(s,function($){return $&&$[N]})},selectRouteParams:l,selectRouteParam:function(N){return wn(l,function($){return $&&$[N]})},selectRouteData:p,selectRouteDataParam:function(N){return wn(p,function($){return $&&$[N]})},selectUrl:y,selectTitle:x}}var T9=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),[new ts({id:"page",title:"Page",usedContexts:function(){return(0,De.of)(["_page"])},condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled&&"page"===s.name})>-1&&t.has("page")},evalParam:function(n){return(0,De.of)("".concat(n.metadata.get("page")))}}),new ts({id:"searchstring",title:"Searchstring",condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled})>-1&&t.has("searchString")},evalParam:function(n){return(0,De.of)("".concat(n.metadata.get("searchString")))}}),new ts({id:"route",title:"Route",usedContexts:function(){return(0,De.of)(["_route"])},evalParam:function(n){var e=n.param,s=n.metadata.get("_route");return(0,De.of)(s.params[e.mapping.value])}}),new ts({id:"querystring",title:"Querystring",usedContexts:function(){return(0,De.of)(["_page"])},evalParam:function(n){var e=n.param,s=n.metadata.get("_route");return(0,De.of)(s.queryParams[e.mapping.value])}}),new ts({id:"standardpagination",title:"Standard Pagination",usedContexts:function(){return(0,De.of)(["_page"])},condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled&&"offset"===s.name})>-1&&t.has("limit")&&t.has("page")},evalParam:function(n){var t=n.metadata;return(0,De.of)("".concat(+t.get("limit")*(+t.get("page")-1)))}})].forEach(function(t){return e.register(t)})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Is))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[Vs]}),r}(),Hd=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.routerStore=e,this.paramPluginManager=t,this.paramEvaluatorService=s},[{key:"getUrl",value:function(t,s,u){var l=this,c=zd();return this.routerStore.pipe(Rr(c.selectCurrentRoute),(0,me.T)(function(m){return[m,t,t?t.indexOf("?"):-1]}),(0,me.T)(function(m){var y=(0,F.A)(m,3),D=y[1],N=y[2];return[y[0],N>-1?D.substring(0,N):D,N>-1?D.substring(N+1):""]}),(0,We.n)(function(m){var y=(0,F.A)(m,3),x=y[0],D=y[1],N=y[2],$=ui.parse(N),q=D?D.split("/"):[],le=new Map([].concat((0,A.A)(u),[["_route",x]])),ve=l.paramNames(t),Ae=s.reduce(function(at,dt,Rt){return new Map([].concat((0,A.A)(at),[[ve[Rt],dt]]))},new Map),ge=q.reduce(function(at,dt,Rt){return 0===dt.indexOf(":")?[].concat((0,A.A)(at),[l.paramEvaluatorService.paramValue(Ae.get(dt),le)]):[].concat((0,A.A)(at),[(0,De.of)(q[Rt])])},[]),ke=[],He=function(dt){Array.isArray($[dt])?$[dt].forEach(function(Rt){return ke.push(l.paramEvaluatorService.paramValue(Ae.get(Rt),le).pipe((0,me.T)(function(Ot){return[dt,Ot,!0]})))}):"string"==typeof $[dt]&&$[dt].indexOf(":")>-1?ke.push(l.paramEvaluatorService.paramValue(Ae.get($[dt]),le).pipe((0,me.T)(function(Rt){return[dt,Rt,!1]}))):ke.push((0,De.of)([dt,$[dt],Array.isArray($[dt])]))};for(var ot in $)He(ot);return(0,Cn.p)([(0,Cn.p)(ge).pipe((0,me.T)(function(at){return at.filter(function(dt){return null!=dt&&""!==dt&&"undefined"!==dt}).map(function(dt,Rt){return 0===Rt&&0===dt.indexOf("http")?"".concat(dt,"/"):dt}).join("/")}),br(D)),(0,Cn.p)(ke).pipe((0,ue.M)(function(at){return console.log(at)}),(0,me.T)(function(at){return at.reduce(function(dt,Rt){var Ot=(0,F.A)(Rt,3),pt=Ot[0],vt=Ot[1],xt=Ot[2];if(null==vt||""===vt||"undefined"===vt){var Jt=(0,_.A)({},dt);return delete Jt[pt],Jt}return(0,_.A)((0,_.A)({},dt),{},(0,d.A)({},pt,xt?[].concat((0,A.A)(void 0!==dt[pt]?dt[pt]:[]),[vt]):vt))},l.rebuildQueryString($))}),(0,ue.M)(function(at){return console.log(at)}),(0,me.T)(function(at){return ui.stringify(at,{arrayFormat:"repeat",indices:!1})}),br(N))]).pipe((0,me.T)(function(at){return at.join("?")}))}))}},{key:"paramNames",value:function(t){var s=t?t.indexOf("?"):-1,u=(s>-1?t.substring(0,s):t||"").split("/").reduce(function(m,y,x){return 0===y.indexOf(":")?(0,_.A)((0,_.A)({},m),{},(0,d.A)({},y.substr(1),y)):m},{}),l=(0,_.A)((0,_.A)({},u),ui.parse(t?t.substring(t.indexOf("?")+1):"")),c=[];for(var p in l)Array.isArray(l[p])?l[p].forEach(function(m){return c.push(m)}):0===l[p].indexOf(":")&&c.push(l[p]);return c}},{key:"rebuildQueryString",value:function(t){var s={};for(var u in t)Array.isArray(t[u])?s[u]=[]:null!=u[t]&&""!==u[t]&&"undefined"!==u[t]&&(s[u]=u[t]);return ui.parse(s)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Or),f.KVO(Is),f.KVO(Do))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}();function M9(a,r){if(1&a&&(o.j41(0,"mat-option",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value.id),o.R7$(),o.JRh(n.value.title)}}function I9(a,r){}function V9(a,r){if(1&a&&(o.j41(0,"mat-option",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n)}}function N9(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",9)(1,"mat-form-field")(2,"mat-label"),o.EFF(3,"Binding"),o.k0s(),o.j41(4,"mat-select",10),o.DNE(5,V9,2,2,"mat-option",2),o.k0s()(),o.j41(6,"button",6),o.bIt("click",function(){var u=f.eBV(n).index,l=o.XpG();return f.Njj(l.removeBinding(u))}),o.EFF(7,"Remove"),o.k0s()()}if(2&a){var e=r.index,t=o.XpG();o.Y8G("formGroupName",e),o.R7$(5),o.Y8G("ngForOf",t.bindableOptions)}}var O9=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.onChange=function(){},this.onTouched=function(){},this.formGroup=this.fb.group({query:[""],trackBy:[""],valueMapping:[""],labelMapping:[""],idMapping:[""],multiple:[""],limit:[""]}),this.formGroup.valueChanges.subscribe(function(s){t.onChange(s)})},[{key:"ngOnChanges",value:function(t){t.datasourceOptions&&t.datasourceOptions.currentValue&&this.formGroup.patchValue(this.datasourceOptions,{emitEvent:!1})}},{key:"writeValue",value:function(t){console.log("Datasource Options Write Value",t),t&&this.formGroup.patchValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-datasource-options"]],inputs:{datasourceOptions:"datasourceOptions"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}]),o.OA$],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["matInput","","formControlName","idMapping","placeholder","Id"],["matInput","","formControlName","valueMapping","placeholder","Value"],["matInput","","formControlName","labelMapping","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field"),o.nrm(2,"input",1),o.k0s(),o.j41(3,"mat-form-field"),o.nrm(4,"input",2),o.k0s(),o.j41(5,"mat-form-field"),o.nrm(6,"input",3),o.k0s(),o.j41(7,"mat-form-field"),o.nrm(8,"input",4),o.k0s(),o.j41(9,"mat-form-field"),o.nrm(10,"input",5),o.k0s(),o.j41(11,"div")(12,"mat-checkbox",6),o.EFF(13,"Multiple"),o.k0s()(),o.j41(14,"mat-form-field"),o.nrm(15,"input",7),o.k0s()()),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[h.me,h.BC,h.cb,h.j4,h.JD,jd.So,vr.fg,nn.rl],encapsulation:2}),r}(),UE=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiDatasourceRendererHost",""]],standalone:!1}),r}(),Gi=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"datasource"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Vy=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.componentFactoryResolver=t,this.dpm=s,this.datasources$=this.dpm.getPlugins(),this.formGroup=this.fb.group({plugin:this.fb.control("",[h.k0.required]),settings:this.fb.control(""),renderer:this.fb.group({type:this.fb.control("pane"),bindings:this.fb.array([])})}),this.bindableOptions=[],this.contexts=[],this.settings$=new R.t([]),this.componentRef$=new R.t(void 0),this.datasource$=new R.t(void 0),this.afterViewInit$=new W.B,this.contextForwardingSub=this.componentRef$.pipe((0,he.p)(function(l){return!!l})).subscribe(function(l){l.instance.contexts=u.contexts,l.instance.settings=u.settings$.value}),this.rendererSub=(0,Vn.z)([this.formGroup.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,We.n)(function(l){var p=(0,F.A)(l,2)[0];return p&&""!==p?u.dpm.getPlugin(p):(0,De.of)(void 0)})).subscribe(function(l){l&&u.renderPlugin(l)}),this.settingsSub=(0,Vn.z)([this.componentRef$,this.settings$]).pipe((0,he.p)(function(l){return!!(0,F.A)(l,2)[0]})).subscribe(function(l){var c=(0,F.A)(l,2);c[0].instance.settings=c[1]}),this.datasourceSub=this.datasource$.pipe((0,ue.M)(function(l){setTimeout(function(){return u.settings$.next(l?l.settings:[])})})).subscribe(function(l){u.formGroup.get("renderer").get("bindings").clear(),l?(u.formGroup.get("plugin").setValue(l.plugin),u.formGroup.get("renderer").get("type").setValue("pane"),l.renderer&&l.renderer.bindings&&l.renderer.bindings.forEach(function(c){u.addBinding(c)})):(u.formGroup.get("plugin").setValue(""),u.formGroup.get("renderer").get("type").setValue("pane"))}),this.onTouched=function(){}},[{key:"datasource",set:function(t){this.datasource$.next(t)}},{key:"bindings",get:function(){return this.formGroup.get("renderer").get("bindings")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"renderPlugin",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editor),u=this.datasourceHost.viewContainerRef;u.clear(),this.componentRef$.next(u.createComponent(s))}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"addBinding",value:function(t){this.bindings.push(this.fb.group({type:this.fb.control("pane",h.k0.required),id:this.fb.control(t?t.id:"",h.k0.required)}))}},{key:"removeBinding",value:function(t){this.bindings.removeAt(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(o.OM3),o.rXU(Gi))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-datasource-form"]],viewQuery:function(e,t){var s;1&e&&o.GBs(UE,7),2&e&&o.mGM(s=o.lsd())&&(t.datasourceHost=s.first)},inputs:{bindableOptions:"bindableOptions",contexts:"contexts",datasource:"datasource"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDatasourceRendererHost",""],["formGroupName","renderer"],["formArrayName","bindings"],["type","button",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],["required","","formControlName","id"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.EFF(3,"Datasource"),o.k0s(),o.j41(4,"mat-select",1),o.DNE(5,M9,2,2,"mat-option",2),o.nI1(6,"async"),o.nI1(7,"keyvalue"),o.k0s()(),o.qex(8),o.DNE(9,I9,0,0,"ng-template",3),o.bVm(),o.j41(10,"div",4)(11,"div",5)(12,"button",6),o.bIt("click",function(){return t.addBinding()}),o.EFF(13,"Add Binding"),o.k0s(),o.j41(14,"div"),o.DNE(15,N9,8,2,"div",7),o.k0s()()()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(5),o.Y8G("ngForOf",o.bMT(7,5,o.bMT(6,3,t.datasources$))),o.R7$(10),o.Y8G("ngForOf",t.bindings.controls))},dependencies:[k.Sq,h.BC,h.cb,h.YS,h.j4,h.JD,h.$R,h.v8,Zr.wT,nn.rl,nn.nJ,ya.VO,UE,k.Jj,k.lG],encapsulation:2}),r}(),B9=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){u&&u.data?s.formGroup.get("data").setValue(u.data):s.formGroup.get("data").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-data-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","data","cols","60","rows","20"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"textarea",1),o.k0s()),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[h.me,h.BC,h.cb,h.j4,h.JD],encapsulation:2}),r}(),L9=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-data-datasource"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-data-source-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings))},dependencies:[h.BC,h.cb,h.j4,h.JD,B9],encapsulation:2}),r}(),Fo=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.editor=n.editor,e.fetch=n.fetch,e.getBindings=n.getBindings?n.getBindings:function(){return(0,De.of)([])},e.editorOptions=n.editorOptions?n.editorOptions:function(){return(0,De.of)(new Im)}),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),rs=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.url=r.url,this.method=r.method?r.method:void 0,void 0!==r.renderer&&(this.renderer=new Ny(r.renderer)),void 0!==r.params&&(this.params=r.params.map(function(n){return new _a(n)})),r.body&&(this.body=new Ku(r.body)))}),Ny=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.type=r.type,this.query=r.query,this.trackBy=r.trackBy,void 0!==r.data&&(this.data=new Ku(r.data)),void 0!==r.bindings&&(this.bindings=r.bindings.map(function(n){return new Yt.ContentBinding(n)})))}),Kn=(0,g.A)(function a(r){(0,v.A)(this,a),this.results=[],r&&(this.results=r.results)}),GE=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.query=r.query,this.trackBy=r.trackBy,this.idMapping=r.idMapping,this.labelMapping=r.labelMapping,this.valueMapping=r.valueMapping,this.multiple=r.multiple,this.limit=r.limit)}),Xu=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],this.params=[],r&&(this.plugin=r.plugin,r.renderer&&(this.renderer=new Ny(r.renderer)),r.settings&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)})),r.params&&(this.params=r.params.map(function(n){return new _a(n)})))}),Im=(0,g.A)(function a(r){(0,v.A)(this,a),this.fullscreen=!1,r&&(this.fullscreen=r.fullscreen)}),U9=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-datasource-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:2,vars:0,template:function(e,t){1&e&&(o.j41(0,"p"),o.EFF(1,"Datasource"),o.k0s())},encapsulation:2}),r}(),G9=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-datasource-source"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-datasource-source-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings))},dependencies:[h.BC,h.cb,h.j4,h.JD,U9],encapsulation:2}),r}(),j9=function(r){return new Fo({id:"data",title:"Data",editor:L9,fetch:function(e){var t=e.settings;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return r.deserializeAsObject(t)}),(0,me.T)(function(s){return new Kn({results:JSON.parse(s.data)})}))}})},qu=function(){var a,r=(0,g.A)(function n(e,t){(0,v.A)(this,n),[j9(t),new Fo({id:"datasource_datasource",title:"Datasource",editor:G9,fetch:function(e){return(0,De.of)(new Kn)}})].forEach(function(s){return e.register(s)})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(yt.AttributeSerializerService))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.X1,va.MaterialModule,T9]}),r}(),jE=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.config=e,this.http=t,this.cache=new Map},[{key:"getData",value:function(t){var s=this;return this.cache.has(t)?(0,De.of)(this.cache.get(t)).pipe((0,fr.c)(0)):this.http.get("".concat(t)).pipe((0,Tr.W)(function(){return(0,De.of)([])}),(0,me.T)(function(u){return Array.isArray(u)?u:[u]}),(0,ue.M)(function(u){return s.cache.set(t,u)}))}},{key:"postData",value:function(t){var u=t.body,l=void 0===u?"":u;return this.http.post("".concat(t.url),l).pipe((0,me.T)(function(c){return Array.isArray(c)?c:[c]}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(xl),f.KVO(V.Qq))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Oy=new GE({query:"",trackBy:"",idMapping:"",labelMapping:"",valueMapping:"",multiple:!1,limit:0}),$E=(new rs({url:"",renderer:{type:"",data:{content:"",contentType:""},query:"",trackBy:"",bindings:[]},params:[]}),(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.label=r.label,this.dataItem=r.dataItem,void 0!==r.value&&(this.value=r.value))})),zE=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.value=r.value,this.label=r.label,this.id=r.id,this.multiple=r.multiple,this.limit=r.limit)}),HE=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.dpm=e,this.attributeSerializer=t},[{key:"evalDatasource",value:function(t){var s=this,l=t.metadata,c=t.datasources;return(0,De.of)(t.datasource).pipe((0,We.n)(function(p){return s.dpm.getPlugin(p.plugin).pipe((0,me.T)(function(m){return[p,m]}))}),(0,We.n)(function(p){var m=(0,F.A)(p,2),y=m[0];return m[1].fetch({settings:y.settings,metadata:l,datasource:y,datasources:c}).pipe((0,me.T)(function(D){return[y,D]}))}),(0,We.n)(function(p){var m=(0,F.A)(p,2),x=m[1];return(0,Cn.p)(m[0].renderer.bindings.reduce(function(D,N){return[].concat((0,A.A)(D),(0,A.A)(c&&c.has(N.id)?[(0,De.of)(c.get(N.id))]:[]))},[])).pipe((0,We.n)(function(D){return D.reduce(function(N,$){return N.pipe((0,We.n)(function(q){return s.dpm.getPlugin($.plugin).pipe((0,me.T)(function(le){return[le,q,$]}))}),(0,We.n)(function(q){var le=(0,F.A)(q,3);return le[0].fetch({settings:$.settings,dataset:le[1],metadata:l,datasource:le[2],datasources:c})}))},(0,De.of)(x))}),(0,me.T)(function(D){return D}),br(x))}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Wu=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Kd=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.build=n.build),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),bc=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"bridgebuilder"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),K9=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.bpm=e},[{key:"build",value:function(){try{console.log("build bridge..."),this.bpm.getPlugins().subscribe(function(t){Array.from(t).forEach(function(s){var u=(0,F.A)(s,2),l=u[0];u[1].build(),console.log("bridge build: "+l)})}),console.log("bridge built.")}catch{}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(bc))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),KE=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),console.log("bridge constructor"),e.register(new Kd({id:"test",title:"Test",build:function(){Wu.prototype.sayHello2=function(){alert("say hello 2")}}}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(bc))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[(0,o.phd)(function(){var n=function(r){return function(){return new Promise(function(n){r.build(),n()})}}((0,f.WQX)(K9));return n()})]}),r}(),Vm=b(6042);function X9(a,r){if(1&a&&(o.j41(0,"mat-option",3),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n)}}function q9(a,r){if(1&a&&(o.j41(0,"mat-option",5),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value.name),o.R7$(),o.JRh(n.value.title)}}function W9(a,r){}var By=new f.nKC("ContextPlugin"),as=function(a){function r(n){var e;return(0,v.A)(this,r),(e=(0,w.A)(this,r,[n])).global=!1,n&&(e.name=e.id,e.baseObject=n.baseObject,e.resolver=n.resolver,e.global=void 0!==n.global&&n.global,e.internal=void 0!==n.internal&&n.internal,e.group=void 0!==n.group?n.group:void 0,n.editorComponent&&(e.editorComponent=n.editorComponent)),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),Ua=(0,g.A)(function a(r){(0,v.A)(this,a),this.name=r.name,this.adaptor=r.adaptor,r.plugin&&(this.plugin=r.plugin),"rest"===this.adaptor?this.rest=new rs(r.rest):"snippet"===this.adaptor||"json"===this.adaptor?this.snippet=new Ku(r.snippet):"data"===this.adaptor?this.data=r.data:"token"===this.adaptor?this.tokens=new Map((0,A.A)(r.tokens)):"datasource"===this.adaptor&&(this.datasource=new Xu(r.datasource))}),Ly=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.name=r.name)}),Y9=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new R.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[h.k0.required])}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?new Ly(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?s.formGroup.get("name").setValue(u.name):s.formGroup.get("name").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["required","","formControlName","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.EFF(3,"Context"),o.k0s(),o.j41(4,"mat-select",1),o.DNE(5,X9,2,2,"mat-option",2),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(5),o.Y8G("ngForOf",t.contexts))},dependencies:[k.Sq,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,nn.rl,nn.nJ,ya.VO],encapsulation:2}),r}(),Q9=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.contexts=[],this.settings=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-datasource"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"contexts","settings"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-context-datasource-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("contexts",t.contexts)("settings",t.settings))},dependencies:[h.BC,h.cb,h.j4,h.JD,Y9],encapsulation:2}),r}(),J9=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.attributeSerializer=s},[{key:"ngOnInit",value:function(){var t=this;this.controlContainer.control.addControl("adaptor",this.fb.control("datasource",h.k0.required)),this.controlContainer.control.addControl("datasource",this.fb.control("")),this.controlContainer.control.addControl("_proxy",this.fb.control("")),this.proxyControlSub=this.controlContainer.control.get("_proxy").valueChanges.pipe((0,me.T)(function(s){return s?new Xu((0,_.A)((0,_.A)({},s),{},{settings:t.attributeSerializer.serialize(s.settings,"settings").attributes})):new Xu}),(0,ue.M)(function(s){return t.controlContainer.control.get("datasource").setValue(s)})).subscribe()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-datasource-context-editor"]],viewQuery:function(e,t){var s;1&e&&o.GBs(Vy,7),2&e&&o.mGM(s=o.lsd())&&(t.datasourceFormComp=s.first)},standalone:!1,decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","_proxy"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-datasource-form",1),o.bVm()),2&e&&o.Y8G("formGroup",t.controlContainer.control)},dependencies:[h.BC,h.cb,h.j4,h.JD,Vy],encapsulation:2}),r}(),Z9=function(r){return new as({id:"route",name:"route",title:"Route",global:!0,baseObject:{path:"",arg0:"",arg2:"",arg3:"",arg4:"",arg5:""},resolver:r})},Uy=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.routerStore=e},[{key:"resolve",value:function(t,s){var u=zd();return this.routerStore.pipe(Rr(u.selectCurrentRoute),(0,me.T)(function(c){return{path:"/pages/panelpage/".concat(c.params.panelPageId)}}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),XE=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiContextEditorHost",""]],standalone:!1}),r}(),Ns=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"context"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),qE=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.fb=e,this.componentFactoryResolver=t,this.cpm=s,this.contextForm=this.fb.group({name:this.fb.control("",h.k0.required),plugin:this.fb.control("",h.k0.required)}),this.context$=new R.t(void 0),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.contextPlugins=this.cpm.getPlugins().pipe((0,me.T)(function(s){return new Map(Array.from(s).filter(function(u,l){return!(0,F.A)(u,2)[1].internal}).map(function(u,l){var m=(0,F.A)(u,2)[1];return[m.name,m]}))})),this.contextForm.get("plugin").valueChanges.pipe((0,We.n)(function(s){return t.cpm.getPlugin(s)})).subscribe(function(s){s.editorComponent?t.renderEditor(s):t.editorHost.viewContainerRef.clear()}),this.context$.pipe((0,he.p)(function(){return!!t.componentRef})).subscribe(function(s){t.componentRef.instance.context=s})}},{key:"writeValue",value:function(t){t&&this.contextForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.contextForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contextForm.disable():this.contextForm.enable()}},{key:"validate",value:function(t){return this.contextForm.valid?null:{invalidForm:{valid:!1,message:"context is invalid"}}}},{key:"renderEditor",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editorComponent),u=this.editorHost.viewContainerRef;u.clear(),this.componentRef=u.createComponent(s),this.componentRef.instance.context=this.context$.value}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(o.OM3),o.rXU(Ns))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-form"]],viewQuery:function(e,t){var s;1&e&&o.GBs(XE,7),2&e&&o.mGM(s=o.lsd())&&(t.editorHost=s.first)},inputs:{context:"context"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:12,vars:6,consts:[["fxLayout","column",3,"formGroup"],["matInput","","formControlName","name","placeholder","Name","required",""],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiContextEditorHost",""],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field"),o.nrm(2,"input",1),o.k0s(),o.j41(3,"mat-form-field")(4,"mat-label"),o.EFF(5,"Type"),o.k0s(),o.j41(6,"mat-select",2),o.DNE(7,q9,2,2,"mat-option",3),o.nI1(8,"async"),o.nI1(9,"keyvalue"),o.k0s()(),o.qex(10),o.DNE(11,W9,0,0,"ng-template",4),o.bVm(),o.k0s()),2&e&&(o.Y8G("formGroup",t.contextForm),o.R7$(7),o.Y8G("ngForOf",o.bMT(9,4,o.bMT(8,2,t.contextPlugins))))},dependencies:[k.Sq,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,vr.fg,nn.rl,nn.nJ,ya.VO,Gt,XE,k.Jj,k.lG],encapsulation:2}),r}(),Gy=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.dpm=e},[{key:"resolve",value:function(t,s,u){var l=this;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return new Xu(s)}),(0,We.n)(function(c){return l.dpm.getPlugin(c.plugin).pipe((0,me.T)(function(p){return{ds:c,p}}))}),(0,We.n)(function(c){return c.p.fetch({settings:c.ds.settings,metadata:u})}),(0,me.T)(function(c){return c}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),aj=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),this.cpm=r,this.rcm=n},[{key:"resolveGlobals",value:function(){return arguments.length>0&&void 0!==arguments[0]||dr(),this.cpm.getPlugins().pipe((0,me.T)(function(e){return Array.from(e.values()).filter(function(t){return!0===t.global})}),(0,We.n)(function(e){return ee.h.apply(void 0,(0,A.A)(e.map(function(t){return t.resolver.resolve(t,{}).pipe((0,me.T)(function(s){return[t.name,s,e.length]}))}))).pipe($c(function(t,s){var u=(0,F.A)(s,3),l=u[0],c=u[1],p=u[2];return new Map([].concat((0,A.A)(t),[["_".concat(l),c],["__len",p]]))},new Map([])),(0,he.p)(function(t){return t.size-1===+t.get("__len")}),(0,me.T)(function(t){return Object.assign.apply(Object,[{}].concat((0,A.A)((0,A.A)(t.entries()).filter(function(s){return"__len"!==(0,F.A)(s,2)[0]}).map(function(s){var u=(0,F.A)(s,2);return(0,d.A)({},u[0],u[1])}))))}))}))}},{key:"resolveGlobalsSingle",value:function(){return arguments.length>0&&void 0!==arguments[0]||dr(),this.cpm.getPlugins().pipe((0,me.T)(function(e){return Array.from(e.values()).filter(function(t){return!0===t.global})}),(0,We.n)(function(e){return ee.h.apply(void 0,(0,A.A)(e.map(function(t){return t.resolver.resolve(t,{}).pipe((0,me.T)(function(s){return[t.name,s]}))})))}))}},{key:"resolveAll",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr();return ee.h.apply(void 0,(0,A.A)(n.map(function(s){return e.resolve(s,t).pipe((0,me.T)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe($c(function(s,u){var l=(0,F.A)(u,2),c=l[0],p=l[1];return new Map([].concat((0,A.A)(s),[[c,p]]))},new Map),(0,he.p)(function(s){return s.size===n.length}),(0,me.T)(function(s){return Object.assign.apply(Object,[{}].concat((0,A.A)((0,A.A)(s.entries()).map(function(u){var l=(0,F.A)(u,2);return(0,d.A)({},l[0],l[1])}))))}))}},{key:"resolveAllSingle",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr();return ee.h.apply(void 0,(0,A.A)(n.map(function(s){return e.resolve(s,t).pipe((0,me.T)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,me.T)(function(s){var u=(0,F.A)(s,2);return[u[0],u[1]]}))}},{key:"resolveMerged",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr();return this.rcm.getPlugins().pipe((0,We.n)(function(){return e.rcm.add$.pipe(br(void 0))}),(0,We.n)(function(){return e.rcm.getPlugins()}),(0,We.n)(function(s){return(0,Vn.z)([].concat((0,A.A)(Array.from(s).map(function(u){return(0,F.A)(u,2)[1].resolve()})),[e.resolveGlobals(t),0===n.length?(0,De.of)({}):e.resolveAll(n,t)])).pipe((0,zn.B)(0),(0,me.T)(function(u){return u.reduce(function(l,c){return(0,_.A)((0,_.A)({},l),c)},{})}))}))}},{key:"resolveMergedSingle",value:function(n){var e=this;return arguments.length>1&&void 0!==arguments[1]||dr(),0!==n.length?this.rcm.getPlugins().pipe((0,We.n)(function(s){return ee.h.apply(void 0,(0,A.A)(Array.from(s).map(function(u){return(0,F.A)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle(),e.resolveAllSingle(n)]))})):this.rcm.getPlugins().pipe((0,We.n)(function(s){return ee.h.apply(void 0,(0,A.A)(Array.from(s).map(function(u){return(0,F.A)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle()]))}))}},{key:"resolve",value:function(n){var e=this;return arguments.length>1&&void 0!==arguments[1]||dr(),n.plugin?this.cpm.getPlugin(n.plugin).pipe((0,We.n)(function(s){return s.resolver.resolve(s,e.getDataObject(n),new Map([["name",n.name]]))})):(0,De.of)(this.getDataObject(n))}},{key:"getDataObject",value:function(n){switch(n.adaptor){case"rest":return n.rest;case"snippet":return n.snippet;case"json":return JSON.parse(n.snippet.content);case"data":return n.data;case"token":return n.tokens;case"datasource":return n.datasource;default:return}}}])}(),WE=function(){var a,r=function(n){function e(t,s){var u;return(0,v.A)(this,e),(u=(0,w.A)(this,e,[t,s])).add$=new Vm.m(1),u}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"resolved_context"}))}},{key:"register",value:function(s){var u=this.pluginInstances.has(s.id);(0,ye.A)(e,"register",this,3)([s]),u||this.add$.next(void 0)}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Ac=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e)}(aj);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Ns),f.KVO(WE))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Cc=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p,m,y){(0,v.A)(this,n),e.forEach(function(x){return u.register(x)}),l.register(function(r,n){return new Kd({id:"context",title:"Context",build:function(){Wu.prototype.resolveContext=function(t,s){return new Promise(function(u){r.getPlugin(t).pipe((0,We.n)(function(l){return l.resolver.resolve(l,s).pipe((0,on.s)(1))})).subscribe(function(l){u(l)})})},Wu.prototype.resolveMergedContext=function(t){return new Promise(function(s){n.resolveMerged(t).pipe((0,ue.M)(function(u){return s(u)}),(0,on.s)(1)).subscribe()})}}})}(u,t)),p.register(function(r,n){return new ts({id:"context",title:"Context",evalParam:function(t){var s=t.param,l=s.mapping.context&&""!==s.mapping.context?new Ua(t.metadata.get("contexts").find(function(c){return c.name===s.mapping.context})):void 0;return l?r.resolve(l).pipe((0,on.s)(1),(0,We.n)(function(c){return tr(function(){return s.mapping.value&&""!==s.mapping.value},(0,De.of)(c).pipe((0,me.T)(function(p){return n.generateGenericTokens(Array.isArray(p)?p[0]:p)}),(0,me.T)(function(p){return n.replaceTokens("[".concat(s.mapping.value,"]"),p)}),(0,on.s)(1)),(0,De.of)(Array.isArray(c)?c[0]:c)).pipe((0,on.s)(1))})):(0,De.of)()},usedContexts:function(t){return(0,De.of)([t.param.mapping.context])}})}(t,s)),c.register(function(r,n){return new Fo({id:"context",title:"Context",editor:Q9,fetch:function(t){var s=t.settings,u=t.metadata;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return new Ly(n.deserializeAsObject(s))}),(0,me.T)(function(l){return u.get("contexts").find(function(c){return c.name===l.name})}),(0,We.n)(function(l){return r.resolve(l).pipe((0,me.T)(function(c){return c instanceof Kn?c:new Kn({results:Array.isArray(c)?c:[c]})}),(0,on.s)(1))}))},getBindings:function(t){var s=t.settings;return(0,De.of)([]).pipe((0,me.T)(function(){return new Ly(n.deserializeAsObject(s))}),(0,me.T)(function(l){return[new Yt.ContentBinding({id:l.name,type:"context"})]}))}})}(t,m)),u.register(function(r){var n={dataset:new Kn};return new as({id:"datasource",name:"datasource",title:"Datasource",baseObject:n,resolver:r,editorComponent:J9})}(y))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(By),f.KVO(Ac),f.KVO(Yn),f.KVO(Ns),f.KVO(bc),f.KVO(Gi),f.KVO(Is),f.KVO(yt.AttributeSerializerService),f.KVO(Gy))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[{provide:Uy,useClass:Uy},{provide:Gy,useClass:Gy},{provide:By,useFactory:Z9,multi:!0,deps:[Uy]}],imports:[k.MD,h.X1,h.YN,va.MaterialModule,jc,Md,Fy,qu]}),r}(),ij=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.contextPlugins=e},[{key:"getAll",value:function(t){return typeof t>"u"?this.contextPlugins:this.contextPlugins.filter(t?function(s){return s.global}:function(s){return!s.global})}},{key:"getAllObjects",value:function(){return this.contextPlugins.map(function(t){return t.baseObject})}},{key:"lookupContext",value:function(t){return this.contextPlugins.find(function(s){return s.name===t})}},{key:"register",value:function(t){this.contextPlugins.push(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(By))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),oj=function(a){function r(n){var e;return(0,v.A)(this,r),(e=(0,w.A)(this,r,[n])).resolve=n.resolve,e.resolveSingle=n.resolveSingle,e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),jy=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.ppm=e},[{key:"extractContexts",value:function(t){var s=this;return(0,Cn.p)(t.map(function(u){return s.ppm.getPlugin(u.mapping.type).pipe((0,We.n)(function(l){return tr(function(){return!!l&&!!l.usedContexts},l&&l.usedContexts?l.usedContexts({param:u,metadata:new Map([])}):(0,De.of)([]),(0,De.of)([]))}))})).pipe((0,me.T)(function(u){return u.reduce(function(l,c){return[].concat((0,A.A)(l),(0,A.A)(c.filter(function(p){return!l.includes(p)})))},[])}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Is))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Nm=b(3222),Om=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){var p,m,y;(0,v.A)(this,n),(0,d.A)(this,"router",void 0),(0,d.A)(this,"route",void 0),(0,d.A)(this,"tabIndexAttribute",void 0),(0,d.A)(this,"renderer",void 0),(0,d.A)(this,"el",void 0),(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"reactiveHref",f.vPA.apply(void 0,[null].concat((0,A.A)([])))),(0,d.A)(this,"target",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"queryParamsHandling",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"info",void 0),(0,d.A)(this,"relativeTo",void 0),(0,d.A)(this,"isAnchorElement",void 0),(0,d.A)(this,"subscription",void 0),(0,d.A)(this,"onChanges",new W.B),(0,d.A)(this,"applicationErrorHandler",(0,f.WQX)(f.ZTf)),(0,d.A)(this,"options",(0,f.WQX)(Cl,{optional:!0})),(0,d.A)(this,"preserveFragment",!1),(0,d.A)(this,"skipLocationChange",!1),(0,d.A)(this,"replaceUrl",!1),(0,d.A)(this,"routerLinkInput",null),this.router=e,this.route=t,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=c,this.reactiveHref.set((0,f.WQX)(new G.ES_("href"),{optional:!0}));var x=null===(p=l.nativeElement.tagName)||void 0===p?void 0:p.toLowerCase();this.isAnchorElement="a"===x||"area"===x||!("object"!=typeof customElements||null===(m=customElements.get(x))||void 0===m||null===(m=m.observedAttributes)||void 0===m||null===(y=m.includes)||void 0===y||!y.call(m,"href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()},[{key:"href",get:function(){return(0,Wi.O8)(this.reactiveHref)},set:function(t){this.reactiveHref.set(t)}},{key:"subscribeToNavigationEventsIfNecessary",value:function(){var t,s=this;if(void 0===this.subscription&&this.isAnchorElement){var u=this.preserveFragment,l=function(p){return"merge"===p||"preserve"===p};u||(u=l(this.queryParamsHandling)),u||(u=!this.queryParamsHandling&&!l(null===(t=this.options)||void 0===t?void 0:t.defaultQueryParamsHandling)),u&&(this.subscription=this.router.events.subscribe(function(c){c instanceof po&&s.updateHref()}))}}},{key:"setTabIndexIfNotOnNativeEl",value:function(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}},{key:"ngOnChanges",value:function(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}},{key:"routerLink",set:function(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Zs(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}},{key:"onClick",value:function(t,s,u,l,c){var p,m=this,y=this.urlTree;return!!(null===y||this.isAnchorElement&&(0!==t||s||u||l||c||"string"==typeof this.target&&"_self"!=this.target))||(null===(p=this.router.navigateByUrl(y,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}))||void 0===p||p.catch(function(D){m.applicationErrorHandler(D)}),!this.isAnchorElement)}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}},{key:"updateHref",value:function(){var t,s,u=this.urlTree;this.reactiveHref.set(null!==u&&this.locationStrategy?null!==(t=null===(s=this.locationStrategy)||void 0===s?void 0:s.prepareExternalUrl(this.router.serializeUrl(u)))&&void 0!==t?t:"":null)}},{key:"applyAttributeValue",value:function(t,s){var u=this.renderer,l=this.el.nativeElement;null!==s?u.setAttribute(l,t,s):u.removeAttribute(l,t)}},{key:"urlTree",get:function(){return null===this.routerLinkInput?null:Zs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(o.rXU(xa),o.rXU(_s),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Uo.hb))}),(0,d.A)(r,"\u0275dir",o.FsC({type:a,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&o.bIt("click",function(u){return t.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&o.BMQ("href",t.reactiveHref(),o.n$t)("target",t.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",G.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",G.L39],replaceUrl:[2,"replaceUrl","replaceUrl",G.L39],routerLink:"routerLink"},features:[o.OA$]})),r}(),YE=(0,g.A)(function a(){(0,v.A)(this,a)}),lj=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),(0,d.A)(this,"router",void 0),(0,d.A)(this,"injector",void 0),(0,d.A)(this,"preloadingStrategy",void 0),(0,d.A)(this,"loader",void 0),(0,d.A)(this,"subscription",void 0),this.router=e,this.injector=t,this.preloadingStrategy=s,this.loader=u},[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe((0,he.p)(function(s){return s instanceof po}),(0,wi.H)(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){return this.processRoutes(this.injector,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,s){var c,u=[],l=(0,j.A)(s);try{for(l.s();!(c=l.n()).done;){var p,m,y=c.value;y.providers&&!y._injector&&(y._injector=(0,o.Ol2)(y.providers,t,"Route: ".concat(y.path)));var N,x=null!==(p=y._injector)&&void 0!==p?p:t,D=null!==(m=y._loadedInjector)&&void 0!==m?m:x;(y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent)&&u.push(this.preloadConfig(x,y)),(y.children||y._loadedRoutes)&&u.push(this.processRoutes(D,null!==(N=y.children)&&void 0!==N?N:y._loadedRoutes))}}catch($){l.e($)}finally{l.f()}return(0,Pa.H)(u).pipe((0,Nm.U)())}},{key:"preloadConfig",value:function(t,s){var u=this;return this.preloadingStrategy.preload(s,function(){var c=(s.loadChildren&&void 0===s.canLoad?u.loader.loadChildren(t,s):(0,De.of)(null)).pipe((0,na.Z)(function(m){var y;return null===m?(0,De.of)(void 0):(s._loadedRoutes=m.routes,s._loadedInjector=m.injector,u.processRoutes(null!==(y=m.injector)&&void 0!==y?y:t,m.routes))}));if(s.loadComponent&&!s._loadedComponent){var p=u.loader.loadComponent(t,s);return(0,Pa.H)([c,p]).pipe((0,Nm.U)())}return c})}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(f.KVO(xa),f.KVO(f.uvJ),f.KVO(YE),f.KVO(cg))}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),r}(),$y=new f.nKC(""),QE=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,v.A)(this,n),(0,d.A)(this,"urlSerializer",void 0),(0,d.A)(this,"transitions",void 0),(0,d.A)(this,"viewportScroller",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"options",void 0),(0,d.A)(this,"routerEventsSubscription",void 0),(0,d.A)(this,"scrollEventsSubscription",void 0),(0,d.A)(this,"lastId",0),(0,d.A)(this,"lastSource",td),(0,d.A)(this,"restoredId",0),(0,d.A)(this,"store",{}),this.urlSerializer=e,this.transitions=t,this.viewportScroller=s,this.zone=u,this.options=l,l.scrollPositionRestoration||(l.scrollPositionRestoration="disabled"),l.anchorScrolling||(l.anchorScrolling="disabled")},[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.transitions.events.subscribe(function(s){s instanceof hl?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=s.navigationTrigger,t.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof po?(t.lastId=s.id,t.scheduleScrollEvent(s,t.urlSerializer.parse(s.urlAfterRedirects).fragment)):s instanceof gl&&s.code===Bf.IgnoredSameUrlNavigation&&(t.lastSource=void 0,t.restoredId=0,t.scheduleScrollEvent(s,t.urlSerializer.parse(s.url).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.transitions.events.subscribe(function(s){if(s instanceof Wb){var u={behavior:"instant"};s.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0],u):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(s.position,u):s.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(s.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0])}})}},{key:"scheduleScrollEvent",value:function(t,s){var u=this;this.zone.runOutsideAngular((0,Mt.A)((0,Ke.A)().m(function l(){return(0,Ke.A)().w(function(c){for(;;)switch(c.n){case 0:return c.n=1,new Promise(function(p){setTimeout(p),typeof requestAnimationFrame<"u"&&requestAnimationFrame(p)});case 1:u.zone.run(function(){u.transitions.events.next(new Wb(t,"popstate"===u.lastSource?u.store[u.restoredId]:null,s))});case 2:return c.a(2)}},l)})))}},{key:"ngOnDestroy",value:function(){var t,s;null===(t=this.routerEventsSubscription)||void 0===t||t.unsubscribe(),null===(s=this.scrollEventsSubscription)||void 0===s||s.unsubscribe()}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){o.QTQ()}),(0,d.A)(r,"\u0275prov",f.jDH({token:a,factory:a.\u0275fac})),r}();function ko(a,r){return{\u0275kind:a,\u0275providers:r}}function ZE(){var a=(0,f.WQX)(f.zZn);return function(r){var n,e,t=a.get(o.o8S);if(r===t.components[0]){var s=a.get(xa),u=a.get(eD);1===a.get(zy)&&s.initialNavigation(),null===(n=a.get(tD,null,{optional:!0}))||void 0===n||n.setUpPreloading(),null===(e=a.get($y,null,{optional:!0}))||void 0===e||e.init(),s.resetRootComponentType(t.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}}var eD=new f.nKC("",{factory:function(){return new W.B}}),zy=new f.nKC("",{providedIn:"root",factory:function(){return 1}});function dj(){var a=[{provide:o.tvf,useValue:!0},{provide:zy,useValue:0},(0,o.phd)(function(){var r=(0,f.WQX)(f.zZn);return r.get(Uo.hj,Promise.resolve()).then(function(){return new Promise(function(e){var t=r.get(xa),s=r.get(eD);SA(t,function(){e(!0)}),r.get(fg).afterPreactivation=function(){return e(!0),s.closed?(0,De.of)(void 0):s},t.initialNavigation()})})})];return ko(2,a)}var tD=new f.nKC("");function pj(a){return ko(0,[{provide:tD,useExisting:lj},{provide:YE,useExisting:a}])}function hj(a){return(0,o._jY)("NgRouterViewTransitions"),ko(9,[{provide:_A,useValue:kT},{provide:bA,useValue:(0,_.A)({skipNextTransition:!(null==a||!a.skipInitialTransition)},a)}])}var gj=[Uo.aZ,{provide:Qc,useClass:Tf},xa,rd,{provide:_s,useFactory:function JE(a){return a.routerState.root},deps:[xa]},cg,[]],Bm=function(){var a,r=function(){function n(){(0,v.A)(this,n)}return(0,g.A)(n,null,[{key:"forRoot",value:function(t,s){return{ngModule:n,providers:[gj,[],{provide:qf,multi:!0,useValue:t},[],null!=s&&s.errorHandler?{provide:AA,useValue:s.errorHandler}:[],{provide:Cl,useValue:s||{}},null!=s&&s.useHash?{provide:Uo.hb,useClass:k.fw}:{provide:Uo.hb,useClass:Uo.Sm},{provide:$y,useFactory:function(){var r=(0,f.WQX)(I.Xr),n=(0,f.WQX)(o.SKi),e=(0,f.WQX)(Cl),t=(0,f.WQX)(fg),s=(0,f.WQX)(Qc);return e.scrollOffset&&r.setOffset(e.scrollOffset),new QE(s,t,r,n,e)}},null!=s&&s.preloadingStrategy?pj(s.preloadingStrategy).\u0275providers:[],null!=s&&s.initialNavigation?bj(s):[],null!=s&&s.bindToComponentInputs?ko(8,[nA,{provide:$f,useExisting:nA}]).\u0275providers:[],null!=s&&s.enableViewTransitions?hj().\u0275providers:[],[{provide:nD,useFactory:ZE},{provide:o.iLQ,multi:!0,useExisting:nD}]]}}},{key:"forChild",value:function(t){return{ngModule:n,providers:[{provide:qf,multi:!0,useValue:t}]}}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275mod",o.$C({type:a})),(0,d.A)(r,"\u0275inj",f.G2t({})),r}();function bj(a){return["disabled"===a.initialNavigation?ko(3,[(0,o.phd)(function(){(0,f.WQX)(xa).setUpLocationChangeListener()}),{provide:zy,useValue:2}]).\u0275providers:[],"enabledBlocking"===a.initialNavigation?dj().\u0275providers:[]]}var nD=new f.nKC(""),Cj=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.routerStore=e,this.router=t},[{key:"ngOnInit",value:function(){}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Or),o.rXU(xa),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-alias-catch-all-router"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(o.j41(0,"p"),o.EFF(1,"Page Not Found"),o.k0s())},encapsulation:2}),r}(),Sj=[],xj=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[ln.UtilsModule,Bm.forChild(Sj)]}),r}(),Ej=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.loadingStrategy=n.loadingStrategy,e.matchingStrategy=n.matchingStrategy,e.redirectHandler=n.redirectHandler),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),rD=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"alias"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),aD=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.siteName=e,this.router=t,this.apm=s,this.routesLoaded=!1},[{key:"canActivate",value:function(t,s){var u=this;return console.log("catch all alias hit"),new Promise(function(l){u.apm.getPlugins().pipe((0,We.n)(function(c){return(0,Cn.p)(u.routesLoaded?[]:Array.from(c).map(function(p){return(0,F.A)(p,2)[1].loadingStrategy.load()})).pipe(br(void 0))}),(0,ue.M)(function(){return u.routesLoaded=!0}),(0,We.n)(function(){return u.apm.getPlugins()}),(0,We.n)(function(c){return(0,Cn.p)(Array.from(c).map(function(p){var x=(0,F.A)(p,2)[1];return x.matchingStrategy.match(s).pipe((0,me.T)(function(D){return[x,D]}))}))})).subscribe(function(c){if(console.log("routes loaded: ".concat(u.routesLoaded?"y":"n")),void 0!==c.map(function(y,x){var D=(0,F.A)(y,2);return D[1]?D[0]:void 0}).find(function(y){return void 0!==y})){console.log("alias gaurd state: ".concat(s.url));var m=u.router.parseUrl(s.url);l(m)}else l(!0)})})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.SITE_NAME),f.KVO(xa),f.KVO(rD),f.KVO(Cr))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}();function Dj(a,r){if(1&a&&(o.j41(0,"mat-option",4),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value.id),o.R7$(),o.JRh(n.value.title)}}function wj(a,r){}var iD=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.editor=n.editor,e.send=n.send),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),Fj=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],r&&(this.data=r.data,r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)})))}),Hy=(0,g.A)(function a(r){(0,v.A)(this,a)}),Sc=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.dataduct=new kj(r.dataduct))}),kj=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],r&&(this.plugin=r.plugin,r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)})))}),oD=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiDataductRendererHost",""]],standalone:!1}),r}(),Lm=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"dataduct"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Pj=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.dpm=e,this.fb=t,this.contexts=[],this.ductForm=this.fb.group({plugin:this.fb.control("",[h.k0.required]),settings:this.fb.control("")}),this.ducts$=this.dpm.getPlugins(),this.componentRef$=new R.t(void 0),this.persistence$=new R.t(void 0),this.afterViewInit$=new W.B,this.contextForwardingSub=this.componentRef$.pipe((0,he.p)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.persistence$.value&&s.persistence$.value.dataduct?s.persistence$.value.dataduct.settings:[]}),this.persistenceSub=(0,Vn.z)([this.persistence$,this.afterViewInit$]).pipe((0,me.T)(function(u){return(0,F.A)(u,1)[0]}),(0,ue.M)(function(u){s.ductForm.get("plugin").setValue(u&&u.dataduct?u.dataduct.plugin:"")}),(0,fr.c)(1),(0,ue.M)(function(u){s.componentRef$.value&&s.componentRef$.value.instance&&u&&(s.componentRef$.value.instance.settings=u.dataduct?u.dataduct.settings:[])})).subscribe(),this.rendererSub=(0,Vn.z)([this.ductForm.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,We.n)(function(u){var c=(0,F.A)(u,2)[0];return c&&""!==c?s.dpm.getPlugin(c):(0,De.of)(void 0)})).subscribe(function(u){u&&s.renderPlugin(u)}),this.onTouched=function(){}},[{key:"persistence",set:function(t){this.persistence$.next(t)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.ductForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.ductForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.ductForm.disable():this.ductForm.enable()}},{key:"validate",value:function(t){return this.ductForm.valid?null:this.ductForm.errors}},{key:"renderPlugin",value:function(t){var s=this.datasourceHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(t.editor))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Lm),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-persistence-form"]],viewQuery:function(e,t){var s;1&e&&o.GBs(oD,7),2&e&&o.mGM(s=o.lsd())&&(t.datasourceHost=s.first)},inputs:{contexts:"contexts",persistence:"persistence"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:10,vars:6,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDataductRendererHost",""],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.EFF(3,"Plugin"),o.k0s(),o.j41(4,"mat-select",1),o.DNE(5,Dj,2,2,"mat-option",2),o.nI1(6,"async"),o.nI1(7,"keyvalue"),o.k0s()(),o.qex(8),o.DNE(9,wj,0,0,"ng-template",3),o.bVm(),o.k0s()),2&e&&(o.Y8G("formGroup",t.ductForm),o.R7$(5),o.Y8G("ngForOf",o.bMT(7,4,o.bMT(6,2,t.ducts$))))},dependencies:[k.Sq,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,nn.rl,nn.nJ,ya.VO,oD,k.Jj,k.lG],encapsulation:2}),r}(),Rj=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.persistenceForm=this.fb.group({dataduct:this.fb.control("")}),this.contexts=[],this.persistence=new Sc,this.contexts=e.contexts,this.persistence=e.persistence},[{key:"submit",value:function(){var t=this.persistenceForm.value;console.log("persistence form",t);var s=this.attributeSerializer.serialize(t.dataduct.settings,"settings");console.log("persistence settings",s),this.dialogRef.close(new Sc((0,_.A)((0,_.A)({},this.persistenceForm.value),{},{dataduct:(0,_.A)((0,_.A)({},t.dataduct),{},{settings:s.attributes})})))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-persistence-dialog"]],standalone:!1,decls:8,vars:4,consts:[[1,"persistence-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["formControlName","dataduct",3,"contexts","persistence"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"div",1)(3,"div",2),o.nrm(4,"classifieds-ui-persistence-form",3),o.k0s()()(),o.j41(5,"mat-dialog-actions")(6,"button",4),o.EFF(7,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.persistenceForm),o.R7$(4),o.Y8G("contexts",t.contexts)("persistence",t.persistence),o.R7$(2),o.Y8G("disabled",!t.persistenceForm.valid))},dependencies:[h.qT,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,Pj],encapsulation:2}),r}(),Tj=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,h.X1,va.MaterialModule]}),r}(),Mj=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.dpm=e},[{key:"persist",value:function(t){var s=t.data,u=t.persistence;return this.dpm.getPlugin(u.dataduct.plugin).pipe((0,We.n)(function(l){return l.send(new Fj({data:s,settings:u.dataduct.settings}))}),(0,me.T)(function(){}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Lm))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}();function Ij(a,r){if(1&a){var n=o.RV6();o.j41(0,"div"),o.nrm(1,"druid-detour-interaction-listener",4),o.j41(2,"button",3),o.bIt("click",function(){var u=f.eBV(n).index,l=o.XpG();return f.Njj(l.deleteListener$.next(u))}),o.EFF(3,"Delete"),o.k0s()()}if(2&a){var e=r.index,t=o.XpG();o.R7$(),o.Y8G("formControlName",e)("listener",t.interactions$.value.interactions.listeners[e])}}var Yu=(0,g.A)(function a(r){(0,v.A)(this,a),this.interactions=r&&r.interactions?new sD(r.interactions):new sD}),sD=(0,g.A)(function a(r){(0,v.A)(this,a),this.listeners=[],r&&r.listeners&&Array.isArray(r.listeners)&&(this.listeners=r.listeners.map(function(n){return new uD(n)}))}),uD=(0,g.A)(function a(r){(0,v.A)(this,a),this.handler=r&&r.handler?new ns(r.handler):new ns,this.event=r&&r.event?new ns(r.event):new ns}),lD=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"interaction_event"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),cD=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"interaction_handler"}))}},{key:"discovery",value:function(){(0,ye.A)(e,"discovery",this,3)([])}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Vj=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.iepm=t,this.ihpm=s,this.eventPlugins$=this.iepm.getPlugins(),this.handlerPlugins$=this.ihpm.getPlugins(),this.listenerForm=this.fb.group({event:this.fb.control(""),handler:this.fb.control("")}),this.contexts=[],this.listener$=new R.t(new uD),this.event$=new R.t(new ns),this.handler$=new R.t(new ns),this.listenerSub=this.listener$.pipe((0,ue.M)(function(l){u.event$.next(l&&l.event?l.event:new ns),u.handler$.next(l&&l.handler?l.handler:new ns)})).subscribe(),this.onTouched=function(){}},[{key:"listener",set:function(t){this.listener$.next(t)}},{key:"writeValue",value:function(t){t&&this.listenerForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.listenerForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.listenerForm.disable():this.listenerForm.enable()}},{key:"validate",value:function(t){return this.listenerForm.valid?null:this.listenerForm.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(lD),o.rXU(cD))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-detour-interaction-listener"]],inputs:{contexts:"contexts",listener:"listener"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:5,vars:9,consts:[[3,"formGroup"],["formControlName","event","title","Event",3,"plugins","instance"],["formControlName","handler","title","Handler",3,"plugins","instance"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"druid-params-plugin-instance",1),o.nI1(2,"async"),o.nrm(3,"druid-params-plugin-instance",2),o.nI1(4,"async"),o.k0s()),2&e&&(o.Y8G("formGroup",t.listenerForm),o.R7$(),o.Y8G("plugins",o.bMT(2,5,t.eventPlugins$))("instance",t.event$.value),o.R7$(2),o.Y8G("plugins",o.bMT(4,7,t.handlerPlugins$))("instance",t.handler$.value))},dependencies:[h.BC,h.cb,h.j4,h.JD,b9,k.Jj],encapsulation:2}),r}(),Nj=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.interactions$=new R.t(new Yu({interactions:{listeners:[]}})),this.contexts$=new R.t([]),this.afterViewInit$=new W.B,this.interactionsForm=this.fb.group({listeners:this.fb.array([])}),this.addListener$=new W.B,this.deleteListener$=new W.B,this.addListenerSub=this.addListener$.pipe((0,ue.M)(function(){return t.listeners.push(t.fb.control(""))})).subscribe(),this.deleteListenerSub=this.deleteListener$.pipe((0,ue.M)(function(s){t.interactions$.value.interactions.listeners.splice(s,1),t.listeners.removeAt(s)})).subscribe(),this.interactionsSub=(0,Vn.z)([this.interactions$,this.afterViewInit$]).pipe((0,me.T)(function(s){return(0,F.A)(s,1)[0]}),(0,he.p)(function(s){return 0!==s.interactions.listeners.length}),(0,ue.M)(function(s){t.listeners.clear(),s.interactions.listeners.forEach(function(u,l){t.listeners.push(t.fb.control(""))})})).subscribe(),this.onTouched=function(){}},[{key:"interactions",set:function(t){this.interactions$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"listeners",get:function(){return this.interactionsForm.get("listeners")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.interactionsForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.interactionsForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.interactionsForm.disable():this.interactionsForm.enable()}},{key:"validate",value:function(t){return this.interactionsForm.valid?null:this.interactionsForm.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-detour-interactions-form"]],inputs:{interactions:"interactions",contexts:"contexts"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","listeners"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","listener"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,Ij,4,2,"div",2),o.k0s()(),o.j41(3,"button",3),o.bIt("click",function(){return t.addListener$.next(void 0)}),o.EFF(4,"Add Listener"),o.k0s()),2&e&&(o.Y8G("formGroup",t.interactionsForm),o.R7$(2),o.Y8G("ngForOf",t.listeners.controls))},dependencies:[k.Sq,h.BC,h.cb,h.j4,h.JD,h.v8,Vj],encapsulation:2}),r}(),Oj=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.interactionsForm=this.fb.group({interactions:this.fb.control("")}),this.contexts=[],this.interactions=new Yu,this.contexts=e.contexts,this.interactions=e.interactions},[{key:"submit",value:function(){var t=new Yu(this.interactionsForm.value);console.log("interactions payload",t),this.dialogRef.close(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-detour-interactions-dialog"]],standalone:!1,decls:8,vars:4,consts:[[1,"interactions-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["formControlName","interactions",3,"contexts","interactions"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"div",1)(3,"div",2),o.nrm(4,"druid-detour-interactions-form",3),o.k0s()()(),o.j41(5,"mat-dialog-actions")(6,"button",4),o.EFF(7,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.interactionsForm),o.R7$(4),o.Y8G("contexts",t.contexts)("interactions",t.interactions),o.R7$(2),o.Y8G("disabled",!t.interactionsForm.valid))},dependencies:[h.qT,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,Nj],encapsulation:2}),r}(),Bj=function(a){function r(n){return(0,v.A)(this,r),(0,w.A)(this,r,[n])}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),Uj=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),e.register(new Bj({title:"DOM",id:"dom"}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(lD))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,h.X1,va.MaterialModule,Vs]}),r}(),dD=function(a){function r(n){return(0,v.A)(this,r),(0,w.A)(this,r,[n])}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),Qu=b(5244),Um=b(3613),Os=b(943),Po=b(8223),xc=b(7479),Ky=b(270),Ec=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.create=n.create,e.read=n.read,e.update=n.update,e.delete=n.delete,n.query&&(e.query=n.query)),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),fD=(0,g.A)(function a(r){(0,v.A)(this,a),this.options=[],this.params=[],r&&(this.adaptorName=r.adaptorName,this.optionsString=r.optionsString?r.optionsString:void 0,this.paramsString=r.paramsString?r.paramsString:void 0,r.options&&Array.isArray(r.options)&&(this.options=r.options.map(function(n){return new _a(n)})),r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new _a(n)})))}),Gj=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new R.t(void 0),this.datasource$=new R.t(void 0),this.optionValues$=new R.t([]),this.paramValues$=new R.t([]),this.formGroup=this.fb.group({adaptorName:this.fb.control(""),optionsString:this.fb.control(""),paramsString:this.fb.control(""),options:this.fb.control([]),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?new fD(s.attributeSerializer.deserializeAsObject(u)):void 0}),(0,ue.M)(function(u){return setTimeout(function(){return s.datasource$.next(u)})})).subscribe(function(u){u?(s.formGroup.get("adaptorName").setValue(u.adaptorName),s.formGroup.get("optionsString").setValue(u.optionsString?u.optionsString:""),s.formGroup.get("paramsString").setValue(u.paramsString?u.paramsString:"")):(s.formGroup.get("adaptorName").setValue(""),s.formGroup.get("optionsString").setValue(""),s.formGroup.get("paramsString").setValue(""),setTimeout(function(){return s.optionValues$.next([])},2),setTimeout(function(){return s.optionValues$.next([])},2))}),this.datasourceOptionsSub=(0,Vn.z)([this.datasource$,this.formGroup.get("optionsString").valueChanges]).pipe((0,he.p)(function(u){return void 0!==(0,F.A)(u,1)[0]}),(0,fr.c)(1),(0,ue.M)(function(u){var l=(0,F.A)(u,1);return s.optionValues$.next(l[0].options)})).subscribe(),this.datasourceParamsSub=(0,Vn.z)([this.datasource$,this.formGroup.get("paramsString").valueChanges]).pipe((0,he.p)(function(u){return void 0!==(0,F.A)(u,1)[0]}),(0,fr.c)(1),(0,ue.M)(function(u){var l=(0,F.A)(u,1);return s.paramValues$.next(l[0].params)})).subscribe(),this.optionsStringChangeSub=this.formGroup.get("optionsString").valueChanges.pipe((0,zn.B)(500)).subscribe(function(u){var l=ui.parse("?"+u);s.optionsParsed=l}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,zn.B)(500)).subscribe(function(u){var l=ui.parse("?"+u);s.paramsParsed=l}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-crud-adaptor-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:14,vars:7,consts:[[3,"formGroup"],["matInput","","placeholder","Adaptor","formControlName","adaptorName","required",""],[1,"options-container"],["matInput","","placeholder","Options","formControlName","optionsString"],["formControlName","options",3,"params","paramValues","contexts"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"mat-form-field"),o.nrm(3,"input",1),o.k0s()(),o.j41(4,"div",2)(5,"div")(6,"mat-form-field"),o.nrm(7,"input",3),o.k0s()(),o.nrm(8,"classifieds-ui-params-form",4),o.k0s(),o.j41(9,"div",5)(10,"div")(11,"mat-form-field"),o.nrm(12,"input",6),o.k0s()(),o.nrm(13,"classifieds-ui-params-form",7),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(8),o.Y8G("params",t.optionsParsed)("paramValues",t.optionValues$.value)("contexts",t.contexts),o.R7$(5),o.Y8G("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[h.me,h.BC,h.cb,h.YS,h.j4,h.JD,vr.fg,nn.rl,$d],encapsulation:2}),r}(),pD=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-crud-adaptor-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-crud-adaptor-datasource-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings)("contexts",t.contexts))},dependencies:[h.BC,h.cb,h.j4,h.JD,Gj],encapsulation:2}),r}(),Bs=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"crud_adaptor"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Xd=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.crud=e,this.cachedCollectionQueries=[],this.cachedCollectionIgnore={p:{create:void 0,update:void 0,delete:void 0,query:void 0,read:void 0},input:{identity:void 0}}},[{key:"evaluatePlugins",value:function(t){var s=this,u=t.object,l=t.plugins,c=t.op,p=t.parentObject,y=Object.keys(l).filter(function(x){return!l[x].ops||l[x].ops.includes(c)}).map(function(x){return s.crud.getPlugin(l[x].plugin?l[x].plugin:x).pipe((0,me.T)(function(D){return{p:D,params:l[x].params?Object.keys(l[x].params).reduce(function(N,$){return(0,_.A)((0,_.A)({},N),{},(0,d.A)({},$,l[x].params[$]instanceof _a?l[x].params[$]:new _a({flags:[],mapping:{type:"static",value:l[x].params[$],context:void 0,testValue:l[x].params[$]}})))},{}):{}}}),(0,We.n)(function(D){return D.p[c]({rule:void 0,object:u,parentObject:p,params:D.params,identity:function(le){var ve=le.object,Ae=le.parentObject;return(0,De.of)({identity:ve.id?ve.id:Ae?Ae.id:void 0})}})}),(0,We.n)(function(D){return tr(function(){return l[x].plugins&&0!==Object.keys(l[x].plugins).length},l[x].plugins&&0!==Object.keys(l[x].plugins).length?s.evaluatePlugins({plugins:l[x].plugins,object:D.entity?D.entity:u,parentObject:D.originalEntity?D.originalEntity:u,op:c}):(0,De.of)(D),(0,De.of)(D))}))});return(0,Cn.p)(y).pipe((0,me.T)(function(){return u}))}},{key:"evaluateCollectionPlugins",value:function(t){var s=this,u=t.query,l=t.objects,c=t.plugins,p=t.op,m=t.parentObjects;console.log("evaluate collection plugins");var y=Object.keys(c),x=y.filter(function(N){return!c[N].ops||c[N].ops.includes(p)}).map(function(N){return s.crud.getPlugin(c[N].plugin?c[N].plugin:N).pipe((0,me.T)(function($){return{p:$,params:c[N].params?Object.keys(c[N].params).reduce(function(q,le){return(0,_.A)((0,_.A)({},q),{},(0,d.A)({},le,c[N].params[le]instanceof _a?c[N].params[le]:new _a({flags:[],mapping:{type:"static",value:c[N].params[le],context:void 0,testValue:c[N].params[le]}})))},{}):{}}}),(0,We.n)(function($){var q=$.p,le=$.params;return s.buildQueryRule({params:u,config:c[N]}).pipe((0,me.T)(function(ve){return{p:q,params:le,rule:ve.rule}}))}),(0,We.n)(function($){return s.flightAndCacheAwareCollectionQuery({p:$.p,input:{rule:$.rule,objects:l,parentObjects:m,params:$.params,identity:function(ge){var ke=ge.object,He=ge.parentObject;return(0,De.of)({identity:ke.id?ke.id:He?He.id:void 0})}}}).pipe((0,ue.M)(function(){return console.log("end of crud query call")}))}),(0,We.n)(function($){return tr(function(){return c[N].plugins&&0!==Object.keys(c[N].plugins).length},s.evaluateCollectionPlugins({query:u,plugins:c[N].plugins&&0!==Object.keys(c[N].plugins).length?c[N].plugins:{},objects:$.entities?$.entities:l,parentObjects:$.originalEntities?$.originalEntities:l,op:p}),(0,De.of)($))}),(0,ue.M)(function($){return console.log("end of op",$)}))});return y.filter(function(N){return!c[N].ops||c[N].ops.includes(p)}).find(function(N){return c[N].fallback})&&x.length>1?x.reduce(function(N,$){return N.pipe((0,We.n)(function(q){return q&&Array.isArray(q)&&q.length>0?(0,De.of)(q):$.pipe((0,me.T)(function(le){return le&&le.entities&&Array.isArray(le.entities)?le.entities:[]}))}),(0,We.n)(function(q){return(0,De.of)(q.length>0?q:[])}))},(0,De.of)([])):1===x.length?x[0].pipe((0,me.T)(function(N){return(0,A.A)(N.entities)})):(0,Cn.p)(x).pipe((0,me.T)(function(N){return N.reduce(function($,q){return[].concat((0,A.A)($),(0,A.A)(q.entities))},[])}),br([]))}},{key:"buildQueryRule",value:function(t){var s=t.params,u=t.config;return new L.c(function(l){var c=[];"string"==typeof s&&s.split("&").map(function(y){return y.split("=",2)}).reduce(function(y,x){var D=(0,F.A)(x,2),N=D[0],$=D[1];return new Map([].concat((0,A.A)(Array.from(y).filter(function(q){return(0,F.A)(q,2)[0]!==N})),[[N,[].concat((0,A.A)(y.has(N)?y.get(N):[]),[$])]]))},new Map).forEach(function(y,x){return c.push({any:y.map(function(D){return(0,_.A)({fact:"identity"===x?"identity":"entity",operator:u.queryMappings&&u.queryMappings.has(x)&&u.queryMappings.get(x).defaultOperator?u.queryMappings.get(x).defaultOperator:"equal",value:D},"identity"===x?{}:{path:"$.".concat(x)})})})});var m=c.length>0?new xc.Rule({conditions:{all:c},event:{type:"visible"}}):void 0;l.next({rule:m}),l.complete()})}},{key:"flightAndCacheAwareCollectionQuery",value:function(t){var s=this,u=this.cachedCollectionQueries.findIndex(function(l){var c=l.p,p=l.input,m=(0,Ky.getDiff)((0,_.A)((0,_.A)({},t.p),s.cachedCollectionIgnore.p),(0,_.A)((0,_.A)({},c),s.cachedCollectionIgnore.p)),y=(0,Ky.getDiff)((0,_.A)((0,_.A)({},t.input),s.cachedCollectionIgnore.input),(0,_.A)((0,_.A)({},p),s.cachedCollectionIgnore.input));return 0===m.length&&0===y.length});return-1===u&&(this.cachedCollectionQueries.push({p:t.p,input:t.input,query$:new Vm.m}),u=this.cachedCollectionQueries.length-1,t.p.query(t.input).pipe((0,ue.M)(function(l){return s.cachedCollectionQueries[u].query$.next(l)}),(0,on.s)(1)).subscribe()),this.cachedCollectionQueries[u].query$.pipe((0,on.s)(1))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Bs))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),qd=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p,m){(0,v.A)(this,n),e.register(function(r,n,e,t,s,u){return new Fo({id:"crud_adaptor",title:"Crud Adaptor",editor:pD,fetch:function(c){var p=c.settings,m=c.metadata;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return n.deserializeAsObject(p)}),(0,me.T)(function(y){return new fD(y)}),(0,We.n)(function(y){return e.getPlugin(y.adaptorName).pipe((0,me.T)(function(x){return{plugin:x,ds:y}}))}),(0,me.T)(function(y){var D=y.ds;return{plugin:y.plugin,ds:D,optionNames:D.optionsString?D.optionsString.split("&").filter(function(N){return-1!==N.indexOf("=:")}).map(function(N){return N.split("=",2)[1].substr(1)}):[]}}),(0,We.n)(function(y){var x=y.plugin,D=y.ds,N=y.optionNames;return(0,Cn.p)([t.paramValues(D.options.reduce(function($,q,le){return new Map([].concat((0,A.A)($),[[N[le],q]]))},new Map)).pipe((0,me.T)(function($){return Array.from($).reduce(function(q,le){var ve=(0,F.A)(le,2),Ae=ve[0],ge=ve[1];return(0,_.A)((0,_.A)({},q),{},(0,d.A)({},Ae,ge))},{})})),D.paramsString&&""!==D.paramsString?u.getUrl("?"+D.paramsString,D.params,m).pipe((0,on.s)(1)):(0,De.of)(void 0)]).pipe((0,me.T)(function($){var q=(0,F.A)($,2);return{plugin:x,options:q[0],query:q[1]}}))}),(0,We.n)(function(y){var N=y.query;return s.evaluateCollectionPlugins({plugins:(0,d.A)({},y.plugin.id,{params:y.options}),op:"query",query:N&&N.substr(1)})}),(0,me.T)(function(y){return new Kn({results:y})}))},editorOptions:function(){return(0,De.of)(new Im({fullscreen:!0}))},getBindings:function(c){return(0,De.of)([])}})}(0,l,t,c,p,m)),s.register(function(r){var n=r.crudDataHelper,e=r.attributeSerializer;return new iD({id:"crud",title:"Crud",editor:pD,send:function(s){return(0,De.of)(new Hy({})).pipe((0,me.T)(function(){return{settings:e.deserializeAsObject(s.settings)}}),(0,ue.M)(function(u){return console.log("crud data duct",u.settings)}),(0,me.T)(function(u){var l=u.settings;return{plugins:(0,d.A)({},"".concat(l.adaptorName),{plugin:"".concat(l.adaptorName),ops:["create"],params:"".concat(l.optionsString).split("&").reduce(function(c,p,m){return(0,_.A)((0,_.A)({},c),{},(0,d.A)({},p.split("=",1)[0],new _a(l.options[m])))},{})})}}),(0,We.n)(function(u){return n.evaluatePlugins({object:s.data,plugins:u.plugins,op:"create",parentObject:{id:dr()}})}),(0,me.T)(function(){return new Hy({})}))}})}({crudDataHelper:p,attributeSerializer:l}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(Bs),f.KVO(Lm),f.KVO(jy),f.KVO(yt.AttributeSerializerService),f.KVO(Do),f.KVO(Xd),f.KVO(Hd))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.X1,h.YN,va.MaterialModule,Cc,Vs]}),r}(),Xy=function(){return(0,g.A)(function a(r,n,e,t){(0,v.A)(this,a),this.crud=n,this.entityDefinitionService=e,this.crudDataHelperService=t,this._name="".concat(r," CrudDataService"),this.entityName=r},[{key:"name",get:function(){return this._name}},{key:"add",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"create"})}},{key:"update",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n.changes,plugins:e.crud,op:"update"})}},{key:"upsert",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"update"})}},{key:"delete",value:function(n){var e=this,t=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.getById(n).pipe((0,We.n)(function(s){return e.crudDataHelperService.evaluatePlugins({object:s,plugins:t.crud,op:"delete"})}),(0,me.T)(function(){return n}))}},{key:"getAll",value:function(){var n=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({plugins:n.crud,op:"query"})}},{key:"getById",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(n),plugins:e.crud,op:"query"}).pipe((0,me.T)(function(t){return t&&0!==t.length?t[0]:void 0}))}},{key:"getWithQuery",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:n,plugins:e.crud,op:"query"})}}])}(),mD=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),this.operatorsMap=new Map([["=","equal"],["!=","notEqual"]])},[{key:"buildFields",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=new Map;return this.genericFields(t,u,s,0),u}},{key:"attributeFields",value:function(t,s,u,l){var c=this;t.forEach(function(p,m){if("widget"!==p.name)for(var y in p)p.type===yt.AttributeTypes.Complex||"attributes"===y&&p.attributes&&p.attributes.length>0?c.attributeFields(p.attributes,s,p.type===yt.AttributeTypes.Complex?"".concat(u):"".concat(u,".").concat(p.name),l+1):"attributes"!==y&&(y===p.name?s.set("".concat(u,".").concat(y),{name:"".concat(u,".").concat(y),type:c.resolveAttributeType(p.type),defaultValue:p[y]}):s.set("".concat(u,".").concat(p.name,".").concat(y),{name:"".concat(u,".").concat(p.name,".").concat(y),type:c.resolveAttributeType(p.type),defaultValue:p[y]}))})}},{key:"genericFields",value:function(t,s,u,l){for(var c in t){var p=typeof t[c];if("object"!==p)s.set("".concat(u,".").concat(c),{name:"".concat(u,".").concat(c),type:this.resolveNativeType(p),defaultValue:t[c]});else if(Array.isArray(t[c])&&"attributes"===c)this.attributeFields(t[c],s,"".concat(u,".").concat(c),l+1);else if(Array.isArray(t[c]))for(var m=t[c].length,y=0;y<m;y++)this.genericFields(t[c][y],s,"".concat(u,".").concat(c,".").concat(y),l+1);else this.genericFields(t[c],s,"".concat(u,".").concat(c),l+1)}}},{key:"toEngineRule",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=[];if(void 0!==t.rules&&Array.isArray(t.rules)){for(var m=t.rules.length,y=0;y<m;y++)if(!("field"in t.rules[y])||null!=t.condition&&""!==t.condition){var $=this.toEngineRule(t.rules[y],s+1);u.push($.conditions)}else{var x=t.rules[y].field.indexOf("."),D=t.rules[y].field.substr(0,x),N=t.rules[y].field.substr(x+1);u.push({fact:D,path:"$.".concat(N),operator:this.operatorsMap.get(t.rules[y].operator),value:t.rules[y].value})}return new xc.Rule("and"===t.condition?{conditions:{all:u},event:0===s?{type:"visible"}:void 0}:{conditions:{any:u},event:0===s?{type:"visible"}:void 0})}var l=t.field.indexOf("."),c=t.field.substr(0,l),p=t.field.substr(l+1);return u.push({fact:c,path:"$.".concat(p),operator:this.operatorsMap.get(t.operator),value:t.value}),new xc.Rule({conditions:{all:u},event:0===s?{type:"visible"}:void 0})}},{key:"extractConditions",value:function(t){var u=this.toEngineRule(t);return[].concat((0,A.A)(void 0!==u.conditions.any?u.conditions.any:[]),(0,A.A)(void 0!==u.conditions.all?u.conditions.all:[]))}},{key:"resolveNativeType",value:function(t){switch(t){case"number":return"number";case"boolean":return"boolean";default:return"string"}}},{key:"resolveAttributeType",value:function(t){switch(t){case yt.AttributeTypes.Float:case yt.AttributeTypes.Number:return"number";case yt.AttributeTypes.Bool:return"boolean";default:return"string"}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),qy=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.rulesParser=e,this.inlineContextResolver=t},[{key:"evaluate",value:function(t){var s=this;return this.inlineContextResolver.resolveMerged(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],"rules:".concat(dr())).pipe((0,on.s)(1),(0,me.T)(function(l){return[(0,_.A)({},l),new xc.Engine]}),(0,ue.M)(function(l){var m=(0,F.A)(l,2)[1],y=s.rulesParser.toEngineRule(t);m.addRule(y)}),(0,We.n)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return new L.c(function(y){m.run(p).then(function(x){y.next(x.events.findIndex(function(D){return"visible"===D.type})>-1),y.complete()})})}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(mD),f.KVO(Ac))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}();function Ci(a){if(null==a)throw new TypeError("Cannot destructure "+a)}b(7351),b(2933);for(var hD={},Wy={},Wd=0;Wd<256;Wd++){var Yd=Wd.toString(16).toLowerCase();1===Yd.length&&(Yd="0".concat(Yd)),hD[Wd]=Yd,Wy[Yd]=Wd}function ji(a){for(var r="",n=0;n<a.byteLength;n++)r+=hD[a[n]];return r}var Yy=function(){function a(r){if((0,v.A)(this,a),this.bytes=r,8!==r.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,g.A)(a,[{key:"valueOf",value:function(){var n=this.bytes.slice(0),e=128&n[0];return e&&gD(n),parseInt(ji(n),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error("".concat(n," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),t=7,s=Math.abs(Math.round(n));t>-1&&s>0;t--,s/=256)e[t]=s;return n<0&&gD(e),new a(e)}}])}();function gD(a){for(var r=0;r<8;r++)a[r]^=255;for(var n=7;n>-1&&(a[n]++,0===a[n]);n--);}var Hj=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),this.toUtf8=r,this.fromUtf8=n},[{key:"format",value:function(n){for(var e=[],t=0,s=Object.keys(n);t<s.length;t++){var u=s[t],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[u]))}for(var c=new Uint8Array(e.reduce(function(D,N){return D+N.byteLength},0)),p=0,m=0,y=e;m<y.length;m++){var x=y[m];c.set(x,p),p+=x.byteLength}return c}},{key:"formatHeaderValue",value:function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+n.value.byteLength));u.setUint8(0,6),u.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(n.value,3),l;case"string":var c=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+c.byteLength));p.setUint8(0,7),p.setUint16(1,c.byteLength,!1);var m=new Uint8Array(p.buffer);return m.set(c,3),m;case"timestamp":var y=new Uint8Array(9);return y[0]=8,y.set(Yy.fromNumber(n.value.valueOf()).bytes,1),y;case"uuid":if(!t$.test(n.value))throw new Error("Invalid UUID received: ".concat(n.value));var x=new Uint8Array(17);return x[0]=9,x.set(function zj(a){if(a.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var r=new Uint8Array(a.length/2),n=0;n<a.length;n+=2){var e=a.slice(n,n+2).toLowerCase();if(!(e in Wy))throw new Error("Cannot decode unrecognized sequence ".concat(e," as hexadecimal"));r[n/2]=Wy[e]}return r}(n.value.replace(/\-/g,"")),1),x}}},{key:"parse",value:function(n){for(var e={},t=0;t<n.byteLength;){var s=n.getUint8(t++),u=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,s));switch(t+=s,n.getUint8(t++)){case 0:e[u]={type:vD,value:!0};break;case 1:e[u]={type:vD,value:!1};break;case 2:e[u]={type:Xj,value:n.getInt8(t++)};break;case 3:e[u]={type:qj,value:n.getInt16(t,!1)},t+=2;break;case 4:e[u]={type:Wj,value:n.getInt32(t,!1)},t+=4;break;case 5:e[u]={type:Yj,value:new Yy(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var l=n.getUint16(t,!1);t+=2,e[u]={type:Qj,value:new Uint8Array(n.buffer,n.byteOffset+t,l)},t+=l;break;case 7:var c=n.getUint16(t,!1);t+=2,e[u]={type:Jj,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,c))},t+=c;break;case 8:e[u]={type:Zj,value:new Date(new Yy(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,e[u]={type:e$,value:"".concat(ji(p.subarray(0,4)),"-").concat(ji(p.subarray(4,6)),"-").concat(ji(p.subarray(6,8)),"-").concat(ji(p.subarray(8,10)),"-").concat(ji(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}])}(),vD="boolean",Xj="byte",qj="short",Wj="integer",Yj="long",Qj="binary",Jj="string",Zj="timestamp",e$="uuid",t$=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,_D=function(r){if("function"==typeof r)return r;var n=Promise.resolve(r);return function(){return n}},r$=function(r){return new TextDecoder("utf-8").decode(r)},bD=function(r){return(new TextEncoder).encode(r)},Qd=function(r){return"string"==typeof r?bD(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)},AD="X-Amz-Date",CD="X-Amz-Signature",SD="X-Amz-Security-Token",xD="authorization",ED=AD.toLowerCase(),l$=[xD,ED,"date"],c$=CD.toLowerCase(),Qy="x-amz-content-sha256",d$=SD.toLowerCase(),f$={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},p$=/^proxy-/,m$=/^sec-/,Jy="AWS4-HMAC-SHA256",h$="AWS4-HMAC-SHA256-PAYLOAD",DD="aws4_request",Dc={},Gm=[],Zy=function(r,n,e){return"".concat(r,"/").concat(n,"/").concat(e,"/").concat(DD)},_$=function(){var a=(0,Mt.A)((0,Ke.A)().m(function r(n,e,t,s,u){var l,c,p,m,y,x;return(0,Ke.A)().w(function(D){for(;;)switch(D.n){case 0:return D.n=1,wD(n,e.secretAccessKey,e.accessKeyId);case 1:if(l=D.v,!((c="".concat(t,":").concat(s,":").concat(u,":").concat(ji(l),":").concat(e.sessionToken))in Dc)){D.n=2;break}return D.a(2,Dc[c]);case 2:for(Gm.push(c);Gm.length>50;)delete Dc[Gm.shift()];p="AWS4".concat(e.secretAccessKey),m=0,y=[t,s,u,DD];case 3:if(!(m<y.length)){D.n=6;break}return x=y[m],D.n=4,wD(n,p,x);case 4:p=D.v;case 5:m++,D.n=3;break;case 6:return D.a(2,Dc[c]=p)}},r)}));return function(n,e,t,s,u){return a.apply(this,arguments)}}(),wD=function(r,n,e){var t=new r(n);return t.update(Qd(e)),t.digest()},FD=function(r,n,e){var l,t=r.headers,s={},u=(0,j.A)(Object.keys(t).sort());try{for(u.s();!(l=u.n()).done;){var c=l.value;if(null!=t[c]){var p=c.toLowerCase();(p in f$||null!=n&&n.has(p)||p$.test(p)||m$.test(p))&&(!e||e&&!e.has(p))||(s[p]=t[c].trim().replace(/\s+/g," "))}}}catch(m){u.e(m)}finally{u.f()}return s},jm=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,b$)},b$=function(r){return"%".concat(r.charCodeAt(0).toString(16).toUpperCase())},C$=function(r){return"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(r)},e_=function(){var a=(0,Mt.A)(function(r,n){var e=r.headers,t=r.body;return(0,Ke.A)().m(function s(){var u,l,c,p,m;return(0,Ke.A)().w(function(y){for(;;)switch(y.n){case 0:u=0,l=Object.keys(e);case 1:if(!(u<l.length)){y.n=3;break}if((c=l[u]).toLowerCase()!==Qy){y.n=2;break}return y.a(2,e[c]);case 2:u++,y.n=1;break;case 3:if(null!=t){y.n=4;break}return y.a(2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 4:if("string"!=typeof t&&!ArrayBuffer.isView(t)&&!C$(t)){y.n=6;break}return(p=new n).update(Qd(t)),m=ji,y.n=5,p.digest();case 5:return y.a(2,m(y.v));case 6:return y.a(2,"UNSIGNED-PAYLOAD")}},s)})()});return function(n,e){return a.apply(this,arguments)}}(),S$=function(r,n){r=r.toLowerCase();for(var e=0,t=Object.keys(n);e<t.length;e++)if(r===t[e].toLowerCase())return!0;return!1},x$=["headers","query"],kD=function(r){var n=r.headers,e=r.query,t=(0,ZC.A)(r,x$);return(0,_.A)((0,_.A)({},t),{},{headers:(0,_.A)({},n),query:e?E$(e):void 0})},E$=function(r){return Object.keys(r).reduce(function(n,e){var t=r[e];return(0,_.A)((0,_.A)({},n),{},(0,d.A)({},e,Array.isArray(t)?(0,A.A)(t):t))},{})},D$=function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="function"==typeof r.clone?r.clone():kD(r),t=e.headers,s=e.query,u=void 0===s?{}:s,l=0,c=Object.keys(t);l<c.length;l++){var p,m=c[l],y=m.toLowerCase();"x-amz-"===y.slice(0,6)&&(null===(p=n.unhoistableHeaders)||void 0===p||!p.has(y))&&(u[m]=t[m],delete t[m])}return(0,_.A)((0,_.A)({},r),{},{headers:t,query:u})},PD=function(r){r="function"==typeof r.clone?r.clone():kD(r);for(var n=0,e=Object.keys(r.headers);n<e.length;n++){var t=e[n];l$.indexOf(t.toLowerCase())>-1&&delete r.headers[t]}return r},RD=function(){return(0,g.A)(function a(r){var n=r.applyChecksum,e=r.credentials,t=r.region,s=r.service,u=r.sha256,l=r.uriEscapePath,c=void 0===l||l;(0,v.A)(this,a),this.headerMarshaller=new Hj(r$,bD),this.service=s,this.sha256=u,this.uriEscapePath=c,this.applyChecksum="boolean"!=typeof n||n,this.regionProvider=_D(t),this.credentialProvider=_D(e)},[{key:"presign",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ke.A)().m(function u(){var l,c,p,m,y,x,D,N,$,q,le,ve,Ae,ge,ke,He,ot,at,dt,Rt,Ot,pt,vt,xt,Jt;return(0,Ke.A)().w(function(en){for(;;)switch(en.n){case 0:return c=void 0===(l=s.signingDate)?new Date:l,m=void 0===(p=s.expiresIn)?3600:p,y=s.unsignableHeaders,x=s.unhoistableHeaders,D=s.signableHeaders,N=s.signingRegion,$=s.signingService,en.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(q=en.v),null==N){en.n=2;break}at=N,en.n=4;break;case 2:return en.n=3,t.regionProvider();case 3:at=en.v;case 4:if(le=at,ve=$m(c),Ae=ve.longDate,ge=ve.shortDate,!(m>604800)){en.n=5;break}return en.a(2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 5:return ke=Zy(ge,le,$??t.service),He=D$(PD(e),{unhoistableHeaders:x}),q.sessionToken&&(He.query[SD]=q.sessionToken),He.query["X-Amz-Algorithm"]=Jy,He.query["X-Amz-Credential"]="".concat(q.accessKeyId,"/").concat(ke),He.query[AD]=Ae,He.query["X-Amz-Expires"]=m.toString(10),ot=FD(He,y,D),He.query["X-Amz-SignedHeaders"]=TD(ot),dt=t,Rt=Ae,Ot=ke,pt=t.getSigningKey(q,le,ge,$),vt=t,xt=He,Jt=ot,en.n=6,e_(e,t.sha256);case 6:return en.n=7,dt.getSignature.call(dt,Rt,Ot,pt,vt.createCanonicalRequest.call(vt,xt,Jt,en.v));case 7:return He.query[CD]=en.v,en.a(2,He)}},u)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"sign",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(t,s){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if("string"!=typeof t){u.n=1;break}return u.a(2,this.signString(t,s));case 1:if(!t.headers||!t.payload){u.n=2;break}return u.a(2,this.signEvent(t,s));case 2:if(!t.message){u.n=3;break}return u.a(2,this.signMessage(t,s));case 3:return u.a(2,this.signRequest(t,s));case 4:return u.a(2)}},e,this)}));return function n(e,t){return r.apply(this,arguments)}}()},{key:"signEvent",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=e.headers,l=e.payload,c=t.signingDate,p=void 0===c?new Date:c,m=t.priorSignature,y=t.signingRegion,x=t.signingService;return(0,Ke.A)().m(function D(){var N,$,le,ve,Ae,ge,ke,He,ot,at;return(0,Ke.A)().w(function(dt){for(;;)switch(dt.n){case 0:if(null==y){dt.n=1;break}ot=y,dt.n=3;break;case 1:return dt.n=2,s.regionProvider();case 2:ot=dt.v;case 3:return N=ot,$=$m(p),le=$.longDate,ve=Zy($.shortDate,N,x??s.service),dt.n=4,e_({headers:{},body:l},s.sha256);case 4:return Ae=dt.v,(ge=new s.sha256).update(u),at=ji,dt.n=5,ge.digest();case 5:return ke=at(dt.v),He=[h$,le,ve,m,ke,Ae].join("\n"),dt.a(2,s.signString(He,{signingDate:p,signingRegion:N,signingService:x}))}},D)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"signMessage",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=t.signingDate,l=void 0===u?new Date:u,c=t.signingRegion,p=t.signingService;return(0,Ke.A)().m(function m(){var y;return(0,Ke.A)().w(function(x){for(;;)if(0===x.n)return y=s.signEvent({headers:s.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:l,signingRegion:c,signingService:p,priorSignature:e.priorSignature}),x.a(2,y.then(function(D){return{message:e.message,signature:D}}))},m)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"signString",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,c=s.signingRegion,p=s.signingService;return(0,Ke.A)().m(function m(){var y,x,D,N,$,q,le,Ae;return(0,Ke.A)().w(function(ge){for(;;)switch(ge.n){case 0:return ge.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(y=ge.v),null==c){ge.n=2;break}q=c,ge.n=4;break;case 2:return ge.n=3,t.regionProvider();case 3:q=ge.v;case 4:return x=q,D=$m(l),N=D.shortDate,le=t.sha256,ge.n=5,t.getSigningKey(y,x,N,p);case 5:return($=new le(ge.v)).update(Qd(e)),Ae=ji,ge.n=6,$.digest();case 6:return ge.a(2,Ae(ge.v))}},m)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"signRequest",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,c=s.signableHeaders,p=s.unsignableHeaders,m=s.signingRegion,y=s.signingService;return(0,Ke.A)().m(function x(){var D,N,$,q,le,ve,Ae,ge,ke,He,ot;return(0,Ke.A)().w(function(at){for(;;)switch(at.n){case 0:return at.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(D=at.v),null==m){at.n=2;break}ot=m,at.n=4;break;case 2:return at.n=3,t.regionProvider();case 3:ot=at.v;case 4:return N=ot,$=PD(e),q=$m(l),le=q.longDate,Ae=Zy(ve=q.shortDate,N,y??t.service),$.headers[ED]=le,D.sessionToken&&($.headers[d$]=D.sessionToken),at.n=5,e_($,t.sha256);case 5:return ge=at.v,!S$(Qy,$.headers)&&t.applyChecksum&&($.headers[Qy]=ge),ke=FD($,p,c),at.n=6,t.getSignature(le,Ae,t.getSigningKey(D,N,ve,y),t.createCanonicalRequest($,ke,ge));case 6:return He=at.v,$.headers[xD]="".concat(Jy," ")+"Credential=".concat(D.accessKeyId,"/").concat(Ae,", ")+"SignedHeaders=".concat(TD(ke),", ")+"Signature=".concat(He),at.a(2,$)}},x)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"createCanonicalRequest",value:function(n,e,t){var s=Object.keys(e).sort();return"".concat(n.method,"\n").concat(this.getCanonicalPath(n),"\n").concat(function(r){var l,n=r.query,e=void 0===n?{}:n,t=[],s={},u=(0,j.A)(Object.keys(e).sort());try{var c=function(){var m=l.value;if(m.toLowerCase()===c$)return 1;t.push(m);var y=e[m];"string"==typeof y?s[m]="".concat(jm(m),"=").concat(jm(y)):Array.isArray(y)&&(s[m]=y.slice(0).sort().reduce(function(x,D){return x.concat(["".concat(jm(m),"=").concat(jm(D))])},[]).join("&"))};for(u.s();!(l=u.n()).done;)c()}catch(p){u.e(p)}finally{u.f()}return t.map(function(p){return s[p]}).filter(function(p){return p}).join("&")}(n),"\n").concat(s.map(function(u){return"".concat(u,":").concat(e[u])}).join("\n"),"\n\n").concat(s.join(";"),"\n").concat(t)}},{key:"createStringToSign",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(t,s,u){var l,c;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:return(l=new this.sha256).update(Qd(u)),p.n=1,l.digest();case 1:return c=p.v,p.a(2,"".concat(Jy,"\n").concat(t,"\n").concat(s,"\n").concat(ji(c)))}},e,this)}));return function n(e,t,s){return r.apply(this,arguments)}}()},{key:"getCanonicalPath",value:function(n){var e=n.path;if(this.uriEscapePath){var u,t=[],s=(0,j.A)(e.split("/"));try{for(s.s();!(u=s.n()).done;){var l=u.value;0!==l?.length&&"."!==l&&(".."===l?t.pop():t.push(l))}}catch(m){s.e(m)}finally{s.f()}var c="".concat(null!=e&&e.startsWith("/")?"/":"").concat(t.join("/")).concat(t.length>0&&null!=e&&e.endsWith("/")?"/":"");return encodeURIComponent(c).replace(/%2F/g,"/")}return e}},{key:"getSignature",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(t,s,u,l){var c,p,m,x;return(0,Ke.A)().w(function(D){for(;;)switch(D.n){case 0:return D.n=1,this.createStringToSign(t,s,l);case 1:return c=D.v,m=this.sha256,D.n=2,u;case 2:return(p=new m(D.v)).update(Qd(c)),x=ji,D.n=3,p.digest();case 3:return D.a(2,x(D.v))}},e,this)}));return function n(e,t,s,u){return r.apply(this,arguments)}}()},{key:"getSigningKey",value:function(n,e,t,s){return _$(this.sha256,n,t,e,s||this.service)}},{key:"validateResolvedCredentials",value:function(n){if("object"!=typeof n||"string"!=typeof n.accessKeyId||"string"!=typeof n.secretAccessKey)throw new Error("Resolved credential object is not valid")}}])}(),$m=function(r){var n=function(r){return function(r){return"number"==typeof r?new Date(1e3*r):"string"==typeof r?Number(r)?new Date(1e3*Number(r)):new Date(r):r}(r).toISOString().replace(/\.\d{3}Z$/,"Z")}(r).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},TD=function(r){return Object.keys(r).sort().join(";")},MD=function(){function a(r){(0,v.A)(this,a),this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?":"!==r.protocol.slice(-1)?"".concat(r.protocol,":"):r.protocol:"https:",this.path=r.path?"/"!==r.path.charAt(0)?"/".concat(r.path):r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}return(0,g.A)(a,[{key:"clone",value:function(){var n=new a((0,_.A)((0,_.A)({},this),{},{headers:(0,_.A)({},this.headers)}));return n.query&&(n.query=function P$(a){return Object.keys(a).reduce(function(r,n){var e=a[n];return(0,_.A)((0,_.A)({},r),{},(0,d.A)({},n,Array.isArray(e)?(0,A.A)(e):e))},{})}(n.query)),n}}],[{key:"isInstance",value:function(n){return!!n&&("method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&"object"==typeof n.query&&"object"==typeof n.headers)}}])}(),ID=b(3967),t_=function(r){var s=r.method,l=r.path,p=r.port,y=r.protocol,N=r.service,$=r.cognitoSettings,q=r.authFacade;return(0,De.of)(new MD({body:r.body,headers:r.headers,hostname:r.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===y?"https:":y,query:r.query})).pipe((0,ue.M)(function(){return console.log(".marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })")}),(0,We.n)(function(le){return(0,Pa.H)(new RD({credentials:P0({client:new R0.D({region:$.region}),identityPoolId:$.identityPoolId,logins:(0,d.A)({},"cognito-idp.".concat($.region,".amazonaws.com/").concat($.userPoolId),function(){return Og(q.getUser$.pipe((0,me.T)(function(Ae){return Ae?Ae.id_token:void 0})))})}),region:$.region,service:N,sha256:ID.Sha256}).sign(le).then(function(ve){return console.log(".marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })"),ve})).pipe((0,ue.M)(function(){return console.log(".marker({ /s3/sign/after/sig })")}),(0,on.s)(1))}),(0,me.T)(function(le){return le}),(0,ue.M)(function(){return console.log(".marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })")}))},T$=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p){(0,v.A)(this,n),s.register(function(r,n,e,t,s){return new Ec({id:"aws_s3_entity",title:"AWS S3 Entity",create:function(c){var p=c.object,m=c.identity,y=c.params,x=c.parentObject;return(0,De.of)({success:!1}).pipe(t.resolveParams({params:y}),(0,We.n)(function(D){var N=D.options;return m({object:p,parentObject:x}).pipe((0,me.T)(function($){return{identity:$.identity,options:N}}))}),(0,We.n)(function(D){var N=D.options,$=D.identity;return t_({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(N.bucket,".s3.amazonaws.com")},hostname:"".concat(N.bucket,".s3.amazonaws.com"),path:"".concat(N.prefix).concat($,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,me.T)(function(q){return{signedHttpRequest:q,options:N}}))}),(0,ue.M)(function(D){return delete D.signedHttpRequest.headers.host}),(0,me.T)(function(D){var N=D.signedHttpRequest,$=D.options;return{signedHttpRequest:N,options:$,url:"https://".concat($.bucket,".s3.amazonaws.com").concat(N.path)}}),(0,We.n)(function(D){var N=D.signedHttpRequest;return s.put(D.url,JSON.stringify(p),{headers:N.headers,withCredentials:!1})}),(0,me.T)(function(){return{success:!0}}))},read:function(c){return Ci(c),(0,De.of)({success:!1})},update:function(c){var p=c.object,m=c.identity,y=c.params;return(0,De.of)({success:!1}).pipe(t.resolveParams({params:y}),(0,We.n)(function(x){var D=x.options;return m({object:p}).pipe((0,me.T)(function(N){return{identity:N.identity,options:D}}))}),(0,We.n)(function(x){var D=x.options,N=x.identity;return t_({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(D.bucket,".s3.amazonaws.com")},hostname:"".concat(D.bucket,".s3.amazonaws.com"),path:"".concat(D.prefix).concat(N,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,me.T)(function($){return{signedHttpRequest:$,options:D}}))}),(0,ue.M)(function(x){return delete x.signedHttpRequest.headers.host}),(0,me.T)(function(x){var D=x.signedHttpRequest,N=x.options;return{signedHttpRequest:D,options:N,url:"https://".concat(N.bucket,".s3.amazonaws.com").concat(D.path)}}),(0,We.n)(function(x){var D=x.signedHttpRequest;return s.put(x.url,JSON.stringify(p),{headers:D.headers,withCredentials:!1})}),(0,me.T)(function(){return{success:!0}}))},delete:function(c){return Ci(c),(0,De.of)({success:!1})},query:function(c){var p=c.rule,m=c.params;return(0,De.of)({entities:[],success:!1}).pipe(t.resolveParams({params:m}),(0,me.T)(function(y){return{options:y.options,identityCondition:p.conditions.all.map(function(D){return D.any.find(function(N){return"identity"===N.fact})}).find(function(D){return!!D})}}),(0,We.n)(function(y){var x=y.identityCondition,D=y.options;return tr(function(){return void 0!==x&&x&&"identity"===x.fact&&D&&D.bucket},t_({method:"GET",body:void 0,headers:{"Content-Type":"application/json",host:"".concat(D?D.bucket:"",".s3.amazonaws.com")},hostname:"".concat(D?D.bucket:"",".s3.amazonaws.com"),path:"".concat(D&&D.prefix?D.prefix:"").concat(x?x.value:"",".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,ue.M)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })")}),(0,ue.M)(function(N){return delete N.headers.host}),(0,me.T)(function(N){return{signedHttpRequest:N,options:D,url:"https://".concat(D.bucket,".s3.amazonaws.com").concat(N.path)}}),(0,ue.M)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,We.n)(function(N){return s.get(N.url,{headers:N.signedHttpRequest.headers,withCredentials:!1})}),(0,ue.M)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })")}),(0,me.T)(function(N){return{entities:N?[N]:[],success:!!N}})),(0,De.of)({entities:[],success:!1}))}))}})}(0,u,e,l,c))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(sp),f.KVO(o.Agw),f.KVO(Bs),f.KVO(Fi),f.KVO(Do),f.KVO(V.Qq),f.KVO(ln.AsyncApiCallHelperService))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[ln.UtilsModule,hd,qd]}),r}(),zm=function(r){var s=r.method,l=r.path,p=r.port,y=r.protocol,N=r.service,$=r.cognitoSettings,q=r.authFacade;return(0,De.of)(new MD({body:r.body,headers:r.headers,hostname:r.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===y?"https:":y,query:r.query})).pipe((0,ue.M)(function(){return console.log(".marker({ event: BEGIN , context: os, entity: sig , op: signv4 , meta: {  } })")}),(0,We.n)(function(le){return(0,Pa.H)(new RD({credentials:P0({client:new R0.D({region:$.region}),identityPoolId:$.identityPoolId,logins:(0,d.A)({},"cognito-idp.".concat($.region,".amazonaws.com/").concat($.userPoolId),function(){return Og(q.getUser$.pipe((0,me.T)(function(Ae){return Ae?Ae.id_token:void 0})))})}),region:$.region,service:N,sha256:ID.Sha256,applyChecksum:!1}).sign(le).then(function(ve){return console.log(".marker({ event: RESOLVED, entity: os , op: signv4 , meta: {  } })"),ve})).pipe((0,ue.M)(function(){return console.log(".marker({ /os/sign/after/sig })")}),(0,on.s)(1))}),(0,me.T)(function(le){return le}),(0,ue.M)(function(){return console.log(".marker({ event: END , context: os, entity: sig , op: signv4 , meta: {  } })")}))},V$=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),s.register(function(r,n,e,t,s){return new Ec({id:"aws_opensearch_template",title:"AWS Opensearch Template",create:function(l){return(0,De.of)({success:!1})},read:function(l){return Ci(l),(0,De.of)({success:!1})},update:function(l){return(0,De.of)({success:!1})},delete:function(l){return Ci(l),(0,De.of)({success:!1})},query:function(l){var c=l.rule,p=l.params;return(0,De.of)({entities:[],success:!1}).pipe((0,We.n)(function(){return p&&0!==Object.keys(p).length?(0,Cn.p)(Object.keys(p).map(function(m){return t.paramValue(p[m],new Map).pipe((0,me.T)(function(y){return(0,d.A)({},m,y)}))})).pipe((0,me.T)(function(m){return m.reduce(function(y,x){return(0,_.A)((0,_.A)({},y),x)},{})}),(0,me.T)(function(m){return{options:m}})):(0,De.of)({options:{}})}),(0,me.T)(function(m){var y=m.options;return{options:y,body:JSON.stringify({id:y.id,params:c?c.conditions.all.reduce(function(x,D){return(0,_.A)((0,_.A)({},x),D.any.reduce(function(N,$){return(0,_.A)((0,_.A)({},N),{},(0,d.A)({},$.path.substr(2),[].concat((0,A.A)(N[$.path.substr(2)]?N[$.path.substr(2)]:[]),[JSON.parse(decodeURIComponent($.value))])))},{}))},{}):{}})}}),(0,ue.M)(function(m){return console.log("open search template query body",m.body)}),(0,We.n)(function(m){var y=m.options;return zm({method:"POST",body:m.body,headers:{"Content-Type":"application/json",host:"".concat(y.domain,".").concat(y.region,".es.amazonaws.com")},hostname:"".concat(y.domain,".").concat(y.region,".es.amazonaws.com"),path:"/".concat(y.index,"/_search/template"),protocol:"https:",service:"es",cognitoSettings:e,authFacade:n}).pipe((0,me.T)(function(D){return{signedHttpRequest:D,options:y}}))}),(0,We.n)(function(m){var y=m.signedHttpRequest,x=m.options;delete y.headers.host;var D="https://".concat(x.domain,".").concat(x.region,".es.amazonaws.com/").concat(x.index,"/_search/template");return s.post(D,y.body,{headers:y.headers,withCredentials:!1}).pipe((0,me.T)(function(N){return{res:N,options:x}}))}),(0,me.T)(function(m){var y=m.res,x=m.options;return{entities:x.hits&&y&&y.hits&&y.hits.hits?y.hits.hits.map(function(D){return x.source?D._source:D}):[y],success:!0}}))}})}(0,u,e,l,c)),s.register(function(r,n,e,t){return new Ec({id:"aws_opensearch_entity",title:"AWS Opensearch Entity",create:function(u){var l=u.object,c=u.identity,p=u.params,m=u.parentObject;return(0,De.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,We.n)(function(y){var x=y.options;return c({object:l,parentObject:m}).pipe((0,me.T)(function(D){return{identity:D.identity,options:x}}))}),(0,We.n)(function(y){var x=y.options,D=y.identity;return zm((0,_.A)((0,_.A)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(x.domain,".").concat(x.region,".es.amazonaws.com")},hostname:"".concat(x.domain,".").concat(x.region,".es.amazonaws.com"),path:"/".concat(x.index,"/_doc/").concat(D),protocol:"https:",service:"es"},(0,_.A)({},x.pipeline?{query:{pipeline:x.pipeline}}:{})),{},{cognitoSettings:n,authFacade:r})).pipe((0,me.T)(function(N){return{signedHttpRequest:N,options:x,identity:D}}))}),(0,We.n)(function(y){var x=y.signedHttpRequest,D=y.options,N=y.identity;delete x.headers.host;var $="https://".concat(D.domain,".").concat(D.region,".es.amazonaws.com/").concat(D.index,"/_doc/").concat(N);return t.put($,JSON.stringify(l),{headers:x.headers,withCredentials:!1,params:(0,_.A)({},D.pipeline?{pipeline:D.pipeline}:{})}).pipe((0,me.T)(function(q){return{res:q,options:D}}))}),(0,me.T)(function(){return{success:!0}}))},read:function(u){return Ci(u),(0,De.of)({success:!1})},update:function(u){var l=u.object,c=u.identity,p=u.params,m=u.parentObject;return(0,De.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,We.n)(function(y){var x=y.options;return c({object:l,parentObject:m}).pipe((0,me.T)(function(D){return{identity:D.identity,options:x}}))}),(0,We.n)(function(y){var x=y.options,D=y.identity;return zm((0,_.A)((0,_.A)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(x.domain,".").concat(x.region,".es.amazonaws.com")},hostname:"".concat(x.domain,".").concat(x.region,".es.amazonaws.com"),path:"/".concat(x.index,"/_doc/").concat(D),protocol:"https:",service:"es"},(0,_.A)({},x.pipeline?{query:{pipeline:x.pipeline}}:{})),{},{cognitoSettings:n,authFacade:r})).pipe((0,me.T)(function(N){return{signedHttpRequest:N,options:x,identity:D}}))}),(0,We.n)(function(y){var x=y.signedHttpRequest,D=y.options,N=y.identity;delete x.headers.host;var $="https://".concat(D.domain,".").concat(D.region,".es.amazonaws.com/").concat(D.index,"/_doc/").concat(N);return t.put($,JSON.stringify(l),{headers:x.headers,withCredentials:!1,params:(0,_.A)({},D.pipeline?{pipeline:D.pipeline}:{})}).pipe((0,me.T)(function(q){return{res:q,options:D}}))}),(0,me.T)(function(){return{success:!0}}))},delete:function(u){return Ci(u),(0,De.of)({success:!1})},query:function(u){var l=u.rule,c=u.params;return(0,De.of)({entities:[],success:!1}).pipe((0,ue.M)(function(){console.log("crud open search query",l,c)}),e.resolveParams({params:c}),(0,me.T)(function(p){return{options:p.options,identityCondition:l.conditions.all.map(function(y){return y.any.find(function(x){return"identity"===x.fact})}).find(function(y){return!!y})}}),(0,We.n)(function(p){var m=p.options,y=p.identityCondition;return zm({method:"GET",headers:{"Content-Type":"application/json",host:"".concat(m.domain,".").concat(m.region,".es.amazonaws.com")},hostname:"".concat(m.domain,".").concat(m.region,".es.amazonaws.com"),path:"/".concat(m.index,"/_doc/").concat(y?y.value:""),protocol:"https:",service:"es",cognitoSettings:n,authFacade:r}).pipe((0,ue.M)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { action: createSignedRequest } })")}),(0,ue.M)(function(x){return delete x.headers.host}),(0,me.T)(function(x){return{signedHttpRequest:x,options:m,url:"https://".concat(m.domain,".").concat(m.region,".es.amazonaws.com").concat(x.path)}}),(0,ue.M)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,We.n)(function(x){return t.get(x.url,{headers:x.signedHttpRequest.headers,withCredentials:!1}).pipe((0,Tr.W)(function(){return(0,De.of)(void 0)}))}),(0,ue.M)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { http: get } })")}),(0,me.T)(function(x){return{entities:x?[x._source]:[],success:!!x}}))}))}})}(u,e,l,c))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(sp),f.KVO(o.Agw),f.KVO(Bs),f.KVO(Fi),f.KVO(Do),f.KVO(V.Qq))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[hd,qd]}),r}(),is=b(8345),N$=b(7055),Jd=b(4832),O$=Object.prototype.toString;var ND=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},Hm=function(){function a(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,n,e){return n&&a(r.prototype,n),e&&a(r,e),r}}();function OD(a){return a.split("").map(function(r){return"(?:"+r.toUpperCase()+"|"+r.toLowerCase()+")"}).join("")}function wc(a,r){for(var n=a.length-1;n>=0;n--)a[n]===r&&Array.prototype.splice.call(a,n,1)}function B$(a,r){return Object.prototype.hasOwnProperty.call(a,r)}var n_={},BD=function(){function a(){ND(this,a),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return Hm(a,null,[{key:"getInstance",value:function(n){return n_[n]=n_[n]||new a,n_[n]}}]),Hm(a,[{key:"acronym",value:function(n){this.acronyms[n.toLowerCase()]=n;var e=[];for(var t in this.acronyms)B$(this.acronyms,t)&&e.push(this.acronyms[t]);this.acronymRegex=new RegExp(e.join("|"))}},{key:"plural",value:function(n,e){"string"==typeof n&&wc(this.uncountables,n),wc(this.uncountables,e),this.plurals.unshift([n,e])}},{key:"singular",value:function(n,e){"string"==typeof n&&wc(this.uncountables,n),wc(this.uncountables,e),this.singulars.unshift([n,e])}},{key:"irregular",value:function(n,e){wc(this.uncountables,n),wc(this.uncountables,e);var t=n[0],s=n.substr(1),u=e[0],l=e.substr(1);if(t.toUpperCase()===u.toUpperCase())this.plural(new RegExp("("+t+")"+s+"$","i"),"$1"+l),this.plural(new RegExp("("+u+")"+l+"$","i"),"$1"+l),this.singular(new RegExp("("+t+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+u+")"+l+"$","i"),"$1"+s);else{var c=OD(s),p=OD(l);this.plural(new RegExp(t.toUpperCase()+c+"$"),u.toUpperCase()+l),this.plural(new RegExp(t.toLowerCase()+c+"$"),u.toLowerCase()+l),this.plural(new RegExp(u.toUpperCase()+p+"$"),u.toUpperCase()+l),this.plural(new RegExp(u.toLowerCase()+p+"$"),u.toLowerCase()+l),this.singular(new RegExp(t.toUpperCase()+c+"$"),t.toUpperCase()+s),this.singular(new RegExp(t.toLowerCase()+c+"$"),t.toLowerCase()+s),this.singular(new RegExp(u.toUpperCase()+p+"$"),t.toUpperCase()+s),this.singular(new RegExp(u.toLowerCase()+p+"$"),t.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];this.uncountables=this.uncountables.concat(e)}},{key:"human",value:function(n,e){this.humans.unshift([n,e])}},{key:"clear",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===n?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[n]=[]}}]),a}(),LD={en:function L$(a){a.plural(/$/,"s"),a.plural(/s$/i,"s"),a.plural(/^(ax|test)is$/i,"$1es"),a.plural(/(octop|vir)us$/i,"$1i"),a.plural(/(octop|vir)i$/i,"$1i"),a.plural(/(alias|status)$/i,"$1es"),a.plural(/(bu)s$/i,"$1ses"),a.plural(/(buffal|tomat)o$/i,"$1oes"),a.plural(/([ti])um$/i,"$1a"),a.plural(/([ti])a$/i,"$1a"),a.plural(/sis$/i,"ses"),a.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),a.plural(/(hive)$/i,"$1s"),a.plural(/([^aeiouy]|qu)y$/i,"$1ies"),a.plural(/(x|ch|ss|sh)$/i,"$1es"),a.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),a.plural(/^(m|l)ouse$/i,"$1ice"),a.plural(/^(m|l)ice$/i,"$1ice"),a.plural(/^(ox)$/i,"$1en"),a.plural(/^(oxen)$/i,"$1"),a.plural(/(quiz)$/i,"$1zes"),a.singular(/s$/i,""),a.singular(/(ss)$/i,"$1"),a.singular(/(n)ews$/i,"$1ews"),a.singular(/([ti])a$/i,"$1um"),a.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),a.singular(/(^analy)(sis|ses)$/i,"$1sis"),a.singular(/([^f])ves$/i,"$1fe"),a.singular(/(hive)s$/i,"$1"),a.singular(/(tive)s$/i,"$1"),a.singular(/([lr])ves$/i,"$1f"),a.singular(/([^aeiouy]|qu)ies$/i,"$1y"),a.singular(/(s)eries$/i,"$1eries"),a.singular(/(m)ovies$/i,"$1ovie"),a.singular(/(x|ch|ss|sh)es$/i,"$1"),a.singular(/^(m|l)ice$/i,"$1ouse"),a.singular(/(bus)(es)?$/i,"$1"),a.singular(/(o)es$/i,"$1"),a.singular(/(shoe)s$/i,"$1"),a.singular(/(cris|test)(is|es)$/i,"$1is"),a.singular(/^(a)x[ie]s$/i,"$1xis"),a.singular(/(octop|vir)(us|i)$/i,"$1us"),a.singular(/(alias|status)(es)?$/i,"$1"),a.singular(/^(ox)en/i,"$1"),a.singular(/(vert|ind)ices$/i,"$1ex"),a.singular(/(matr)ices$/i,"$1ix"),a.singular(/(quiz)zes$/i,"$1"),a.singular(/(database)s$/i,"$1"),a.irregular("person","people"),a.irregular("man","men"),a.irregular("child","children"),a.irregular("sex","sexes"),a.irregular("move","moves"),a.irregular("zombie","zombies"),a.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function Ro(a,r){if(function VD(a){return"[object Function]"===O$.call(a)}(a)&&(r=a,a=null),a=a||"en",!r)return BD.getInstance(a);r(BD.getInstance(a))}for(var UD in LD)Ro(UD,LD[UD]);function jD(a){return function GD(a,r){var e,t,s,n=""+a;if(0===n.length)return n;var u=n.toLowerCase().match(/\b\w+$/);if(u&&Ro().uncountables.indexOf(u[0])>-1)return n;for(var l=0,c=r.length;l<c;l++)if(s=(e=r[l])[1],n.match(t=e[0])){n=n.replace(t,s);break}return n}(a,Ro(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").plurals)}function $D(a){var r=null==a?"":String(a);return r.charAt(0).toUpperCase()+r.slice(1)}function Zu(a,r){null==r&&(r=!0);var n=""+a;return(n=r?n.replace(/^[a-z\d]*/,function(e){return Ro().acronyms[e]||$D(e)}):n.replace(new RegExp("^(?:"+Ro().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(e){return e.toLowerCase()})).replace(/(?:_|(\/))([a-z\d]*)/gi,function(e,t,s,u,l){return t||(t=""),""+t+(Ro().acronyms[s]||$D(s))})}var zD={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00c6:"AE",\u00c7:"C",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00d0:"D",\u00d1:"N",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O","\xd7":"x",\u00d8:"O",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00dd:"Y",\u00de:"Th",\u00df:"ss",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00e6:"ae",\u00e7:"c",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00f0:"d",\u00f1:"n",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00fd:"y",\u00fe:"th",\u00ff:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010a:"C",\u010b:"c",\u010c:"C",\u010d:"c",\u010e:"D",\u010f:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011a:"E",\u011b:"e",\u011c:"G",\u011d:"g",\u011e:"G",\u011f:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012a:"I",\u012b:"i",\u012c:"I",\u012d:"i",\u012e:"I",\u012f:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013a:"l",\u013b:"L",\u013c:"l",\u013d:"L",\u013e:"l",\u013f:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014a:"NG",\u014b:"ng",\u014c:"O",\u014d:"o",\u014e:"O",\u014f:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015a:"S",\u015b:"s",\u015c:"S",\u015d:"s",\u015e:"S",\u015f:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016a:"U",\u016b:"u",\u016c:"U",\u016d:"u",\u016e:"U",\u016f:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017a:"z",\u017b:"Z",\u017c:"z",\u017d:"Z",\u017e:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041a:"K",\u041b:"L",\u041c:"M",\u041d:"N",\u041e:"O",\u041f:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042a:"",\u042b:"Y",\u042c:"",\u042d:"E",\u042e:"YU",\u042f:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043a:"k",\u043b:"l",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044a:"",\u044b:"y",\u044c:"",\u044d:"e",\u044e:"yu",\u044f:"ya"},r_={};function X$(a,r){if(1&a&&(o.j41(0,"mat-option",5),o.EFF(1),o.k0s()),2&a){var n=r.index;o.Y8G("value",n),o.R7$(),o.SpI("panel page | level: ",n)}}function q$(a,r){if(1&a&&(o.j41(0,"mat-form-field")(1,"mat-select",3),o.DNE(2,X$,2,2,"mat-option",4),o.nI1(3,"async"),o.k0s()()),2&a){var n=o.XpG();o.R7$(2),o.Y8G("ngForOf",o.bMT(3,1,n.panelPages$))}}function W$(a,r){if(1&a&&(o.j41(0,"mat-option",5),o.EFF(1),o.k0s()),2&a){var n=r.index;o.Y8G("value",n),o.R7$(),o.SpI("panel | ",n)}}function Y$(a,r){if(1&a&&(o.j41(0,"mat-form-field")(1,"mat-select",6),o.DNE(2,W$,2,2,"mat-option",4),o.nI1(3,"async"),o.k0s()()),2&a){var n=o.XpG();o.R7$(2),o.Y8G("ngForOf",o.bMT(3,1,n.panels$))}}function Q$(a,r){if(1&a&&(o.j41(0,"mat-option",5),o.EFF(1),o.k0s()),2&a){var n=r.index;o.Y8G("value",n),o.R7$(),o.SpI("pane | ",n)}}function J$(a,r){if(1&a&&(o.j41(0,"mat-form-field")(1,"mat-select",7),o.DNE(2,Q$,2,2,"mat-option",4),o.nI1(3,"async"),o.k0s()()),2&a){var n=o.XpG();o.R7$(2),o.Y8G("ngForOf",o.bMT(3,1,n.panes$))}}function Z$(a,r){if(1&a&&o.nrm(0,"druid-panels-panelpage-linkedlist",8),2&a){var n=o.XpG();o.Y8G("panelPages",n.nested)}}function ez(a,r){if(1&a){var n=o.RV6();o.j41(0,"a",2),o.bIt("click",function(){var s=f.eBV(n).$implicit,u=o.XpG(2);return f.Njj(u.onItemSelect(s.id))}),o.j41(1,"span",6),o.EFF(2),o.k0s()()}if(2&a){var e=r.$implicit;o.R7$(2),o.Lme("",e.title," [",e.id,"]")}}function tz(a,r){if(1&a&&(o.j41(0,"mat-nav-list"),o.DNE(1,ez,3,2,"a",5),o.nI1(2,"async"),o.k0s()),2&a){var n=o.XpG();o.R7$(),o.Y8G("ngForOf",o.bMT(2,1,n.panels$))}}!function(){function a(){for(var r in ND(this,a),this.approximations={},zD)this.approximate(r,zD[r])}Hm(a,null,[{key:"getInstance",value:function(n){return r_[n]=r_[n]||new a,r_[n]}}]),Hm(a,[{key:"approximate",value:function(n,e){this.approximations[n]=e}},{key:"transliterate",value:function(n,e){var t=this;return n.replace(/[^\u0000-\u007f]/g,function(s){return t.approximations[s]||e||"?"})}}])}();var rz=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.openSearchDomain=r.openSearchDomain,this.s3Bucket=r.s3Bucket,this.objectsRootUrl=r.objectsRootUrl)}),Vr=(0,g.A)(function a(r){(0,v.A)(this,a),this.gridItems=[],this.panels=[],this.contexts=[],this.rowSettings=[],this.entityPermissions=new KD,r&&(this.id=r.id,this.layoutType=r.layoutType,this.displayType=r.displayType,this.name=r.name?r.name:void 0,this.title=r.title?r.title:void 0,this.site=r.site?r.site:void 0,this.userId=r.userId?r.userId:void 0,this.path=r.path?r.path:void 0,this.persistence=r.persistence?new Sc(r.persistence):void 0,this.interactions=r.interactions?new Yu(r.interactions):void 0,r.panels&&(this.panels=r.panels.map(function(n){return new os(n)})),r.gridItems&&(this.gridItems=r.gridItems.map(function(n){return new az(n)})),r.contexts&&(this.contexts=r.contexts.map(function(n){return new Ua(n)})),r.layoutSetting&&(this.layoutSetting=new Xn(r.layoutSetting)),r.rowSettings&&Array.isArray(r.rowSettings)&&(this.rowSettings=r.rowSettings.map(function(n){return new Xn(n)})),r.entityPermissions&&(this.entityPermissions=new KD(r.entityPermissions)),r.cssFile&&(this.cssFile=r.cssFile))}),os=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],this.panes=[],r&&(this.name=r.name?r.name:void 0,this.label=r.label?r.label:void 0,this.stylePlugin=r.stylePlugin,r.settings&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)})),r.panes&&(this.panes=r.panes.map(function(n){return new Fr(n)})),r.columnSetting&&(this.columnSetting=new Xn(r.columnSetting)))}),Fr=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],this.locked=!1,this.contexts=[],r&&(this.name=r.name,this.label=r.label,this.contentPlugin=r.contentPlugin,this.locked=void 0!==r.locked&&r.locked,r.linkedPageId&&(this.linkedPageId=r.linkedPageId),void 0!==r.metadata&&(this.metadata=new Map((0,A.A)(r.metadata))),void 0!==r.settings&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)})),void 0!==r.contexts&&(this.contexts=r.contexts.map(function(n){return new Ua(n)})),void 0!==r.rule&&"string"!=typeof r.rule&&(this.rule=(0,_.A)({},r.rule)),r.nestedPage&&(this.nestedPage=new Vr(r.nestedPage)),r.resolvedContext&&(this.resolvedContext=(0,_.A)({},r.resolvedContext)))}),az=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.cols=r.cols,this.rows=r.rows,this.x=r.x,this.y=r.y,this.weight=r.weight)}),Xn=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],r&&r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)}))}),KD=(0,g.A)(function a(r){(0,v.A)(this,a),this.readUserIds=[],this.writeUserIds=[],this.deleteUserIds=[],r&&(this.readUserIds=r.readUserIds?r.readUserIds.map(function(n){return n}):[],this.writeUserIds=r.writeUserIds?r.writeUserIds.map(function(n){return n}):[],this.deleteUserIds=r.deleteUserIds?r.deleteUserIds.map(function(n){return n}):[])}),Wa=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,De.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"getBindings",value:function(t,s){return(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"fromPanes",value:function(t){var s=this;return t.map(function(u){return new Fr(s.attributeSerializer.deserialize(u))})}},{key:"wrapPanel",value:function(t){return new os({stylePlugin:void 0,settings:[],panes:t,columnSetting:new Xn})}},{key:"stateDefinition",value:function(t){return(0,De.of)({})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),iz=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.panelHandler=t,this.panelPages$=new R.t([]),this.panels$=new R.t([]),this.panes$=new R.t([]),this.nested$=new R.t([]),this.formGroup=this.fb.group({panelPage:this.fb.control(void 0),panel:this.fb.control(void 0),pane:this.fb.control(void 0),nested:this.fb.control(void 0)}),this.panelPageSub=this.formGroup.get("panelPage").valueChanges.subscribe(function(u){s.panels$.next(new Vr(s.panelPages$.value[u]).panels)}),this.panelSub=this.formGroup.get("panel").valueChanges.subscribe(function(u){s.panes$.next(new os(s.panels$.value[u]).panes)}),this.paneSub=this.formGroup.get("pane").valueChanges.pipe((0,me.T)(function(u){return s.panes$.value[u]}),(0,We.n)(function(u){return tr(function(){return"panel"===u.contentPlugin},s.panelHandler.toObject(u.settings),(0,De.of)(void 0))}),(0,he.p)(function(u){return!!u})).subscribe(function(u){s.nested$.next([u])}),this.onTouched=function(){}},[{key:"panelPages",get:function(){return this.panelPages$.value&&Array.isArray(this.panelPages$.value)?this.panelPages$.value:[]},set:function(t){this.panelPages$.next(t)}},{key:"panels",get:function(){return this.panels$.value&&Array.isArray(this.panels$.value)?this.panels$.value:[]},set:function(t){this.panels$.next(t)}},{key:"panes",get:function(){return this.panes$.value&&Array.isArray(this.panes$.value)?this.panes$.value:[]},set:function(t){this.panes$.next(t)}},{key:"nested",get:function(){return this.nested$.value&&void 0!==typeof this.nested$.value&&this.nested$.value.length>0?(0,A.A)(this.nested$.value):void 0}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(Wa))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-panels-panelpage-linkedlist"]],inputs:{panelPages:"panelPages",panels:"panels",panes:"panes"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["formControlName","nested",3,"panelPages",4,"ngIf"],["required","","formControlName","panelPage"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","","formControlName","panel"],["required","","formControlName","pane"],["formControlName","nested",3,"panelPages"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.DNE(1,q$,4,3,"mat-form-field",1)(2,Y$,4,3,"mat-form-field",1)(3,J$,4,3,"mat-form-field",1)(4,Z$,1,1,"druid-panels-panelpage-linkedlist",2),o.k0s()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(),o.Y8G("ngIf",t.panelPages.length>0),o.R7$(),o.Y8G("ngIf",t.panels.length>0),o.R7$(),o.Y8G("ngIf",t.panes.length>0),o.R7$(),o.Y8G("ngIf",t.nested))},dependencies:[k.Sq,k.bT,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,nn.rl,ya.VO,a,k.Jj],encapsulation:2}),r}(),oz=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.siteName=e,this.bottomSheetRef=t,this.handler=s,this.dialog=u,this.fb=l,this.selectedIndex=0,this.panelPagesService=c.getEntityCollectionService("PanelPage"),this.panelPageListItemsService=c.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){}},{key:"onNewSelect",value:function(){var t=this,s=dr(),u=new Vr({id:void 0,layoutType:"split",displayType:"page",site:this.siteName,gridItems:[],panels:[],layoutSetting:new Xn,rowSettings:[]});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:s,label:s,rule:new h.hs(""),settings:this.fb.array(this.handler.buildSettings(u).map(function(l){return t.convertToGroup(l)}))})),this.bottomSheetRef.dismiss()}},{key:"onLinkSelect",value:function(){this.selectedIndex=1,this.panels$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent(this.siteName)))}},{key:"onEmbedSelect",value:function(){var t=dr();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:t,label:t,rule:new h.hs(""),locked:new h.hs(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"onItemSelect",value:function(t){var s=dr();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:s,label:s,rule:new h.hs(""),linkedPageId:new h.hs(t,h.k0.required),locked:new h.hs(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new h.hs(t.name,h.k0.required),type:new h.hs(t.type,h.k0.required),displayName:new h.hs(t.displayName,h.k0.required),value:new h.hs(t.value,h.k0.required),computedValue:new h.hs(t.value,h.k0.required),attributes:new h.Bm([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(ln.SITE_NAME),o.rXU(Qu.eN),o.rXU(Wa),o.rXU(Ut.bZ),o.rXU(h.ze),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-panel-selector"]],inputs:{panelFormGroup:"panelFormGroup"},standalone:!1,decls:11,vars:1,consts:[["mat-align-tabs","start",3,"selectedIndex"],["label","Type"],["mat-list-item","","mat-list-item","",3,"click"],["label","Search"],["matTabContent",""],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-line",""]],template:function(e,t){1&e&&(o.j41(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-nav-list")(3,"a",2),o.bIt("click",function(){return t.onNewSelect()}),o.EFF(4,"New Panel"),o.k0s(),o.j41(5,"a",2),o.bIt("click",function(){return t.onLinkSelect()}),o.EFF(6,"Link Panel"),o.k0s(),o.j41(7,"a",2),o.bIt("click",function(){return t.onEmbedSelect()}),o.EFF(8,"Embed Panel"),o.k0s()()(),o.j41(9,"mat-tab",3),o.DNE(10,tz,3,3,"ng-template",4),o.k0s()()),2&e&&o.Y8G("selectedIndex",t.selectedIndex)},dependencies:[k.Sq,Um.vu,Os._L,Os.YE,Po.$L,Po.mq,Po.T8,k.Jj],encapsulation:2}),r}(),sz=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"ngOnInit",value:function(){}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-panel-editor"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(o.j41(0,"p"),o.EFF(1,"panel-editor works!"),o.k0s())},encapsulation:2}),r}(),To=(0,g.A)(function a(r){(0,v.A)(this,a),this.panels=[],r&&(this.id=r.id,void 0!==r.panels&&Array.isArray(r.panels)&&(this.panels=r.panels.map(function(n){return new el(n)})))}),el=(0,g.A)(function a(r){(0,v.A)(this,a),this.panes=[],r&&void 0!==r.panes&&Array.isArray(r.panes)&&(this.panes=r.panes.map(function(n){return new Si(n)}))}),Si=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(void 0!==r.state&&(this.state=new yt.AttributeValue(r.state)),null!=r.nestedPage&&(this.nestedPage=new To(r.nestedPage)))}),a_=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.siteName=e,this.panelHandler=t,this.attributeSerializer=s,this.rulesResolver=u,this.dpm=l,this.datasourceEvalutator=c},[{key:"handleFile",value:function(t){return(0,De.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!0}},{key:"isData",value:function(t){return!0}},{key:"fetchDynamicData",value:function(t,s){var u=this,l=s.has("dataPanes")?new Map(s.get("dataPanes").map(function(p){return[p.name,p]})):new Map([]),c=new Map(Array.from(l).map(function(p){var m=(0,F.A)(p,2);return[m[0],new Xu(u.attributeSerializer.deserializeAsObject(m[1].settings))]}));return this.toObject(t).pipe((0,We.n)(function(p){return u.datasourceEvalutator.evalDatasource({datasource:p,metadata:s,datasources:c})}))}},{key:"buildDynamicItems",value:function(t,s){var u=this,l=new Map(s.get("dataPanes").map(function(c){return[c.name,c]}));return this.fetchDynamicData(t,s).pipe((0,We.n)(function(c){return u.toObject(t).pipe((0,me.T)(function(p){return[p,c]}))}),(0,We.n)(function(c){var p=(0,F.A)(c,2),m=p[0],y=p[1];return u.getBindings(t,"pane").pipe((0,me.T)(function(x){return[m,y,x]}))}),(0,We.n)(function(c){var p=(0,F.A)(c,3),m=p[0],y=p[1],x=p[2];return tr(function(){return 0!==y.results.length&&x.length>0},(0,Cn.p)(y.results.map(function(D){return(0,Cn.p)(x.filter(function(N){return!l.has(N.id)}).map(function(N){return(0,De.of)(s.get("panes").find(function($){return $.name===N.id})).pipe((0,We.n)(function($){return tr(function(){return $&&$.rule&&null!==$.rule&&""!==$.rule.condition},$?u.rulesResolver.evaluate($.rule,[].concat((0,A.A)(s.get("contexts")),(0,A.A)(void 0!==$.contexts?$.contexts:[]),[new Ua({name:"_root",adaptor:"data",data:D})])).pipe((0,me.T)(function(q){return[$,q]})):(0,De.of)([$,!1]),(0,De.of)(!1).pipe((0,me.T)(function(q){return[$,q]})))}),(0,he.p)(function($){return(0,F.A)($,2)[1]}),(0,me.T)(function($){return(0,F.A)($,2)[0].name}),br(N.id))})).pipe((0,me.T)(function(N){return N.reduce(function($,q){return[].concat((0,A.A)($),[q])},[])}))})).pipe((0,me.T)(function(D){return[m,y,D]})),new L.c(function(D){D.next([m,y,[]]),D.complete()}))}),(0,me.T)(function(c){var p=(0,F.A)(c,3),x=p[2];return p[1].results.reduce(function(D,N,$){return[].concat((0,A.A)(D),(0,A.A)(x[$]?x[$].map(function(q){return new Fr((0,_.A)((0,_.A)({},s.get("panes").find(function(le){return le.name===q})),{},{rule:void 0,label:dr(),contexts:[].concat((0,A.A)(s.get("contexts")),[new Ua({name:"_root",adaptor:"data",data:N})])}))}):[]))},[])}),(0,me.T)(function(c){return new os({stylePlugin:void 0,settings:[],panes:c,columnSetting:new Xn})}),(0,me.T)(function(c){return u.panelHandler.buildSettings(new Vr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new Xn,rowSettings:[],panels:[c]}))}),(0,me.T)(function(c){return c.find(function(p){return"panels"===p.name}).attributes[0].attributes.find(function(p){return"panes"===p.name}).attributes}))}},{key:"getBindings",value:function(t,s,u){var l=this,c=u?new Map(u.get("dataPanes").map(function(p){return[p.name,p]})):new Map;return"context"===s?this.toObject(t).pipe((0,me.T)(function(p){return[p,p.params?p.params.reduce(function(m,y){return[].concat((0,A.A)(m),(0,A.A)("form"===y.mapping.type?[new Yt.ContentBinding({id:"form__".concat(y.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[]):[]]}),(0,We.n)(function(p){var y=(0,F.A)(p,2)[0];return l.dpm.getPlugin(y.plugin).pipe((0,We.n)(function(D){return D.getBindings({settings:y.settings,metadata:u}).pipe((0,me.T)(function(N){return[y,N]}))}))}),(0,We.n)(function(p){var m=(0,F.A)(p,2),x=m[1];return(0,Cn.p)(m[0].renderer.bindings.reduce(function(D,N){return[].concat((0,A.A)(D),(0,A.A)(c.has(N.id)?[l.toObject(c.get(N.id).settings)]:[]))},[])).pipe((0,We.n)(function(D){return(0,Cn.p)(D.map(function(N){return l.dpm.getPlugin(N.plugin).pipe((0,We.n)(function($){return $.getBindings({settings:N.settings,metadata:u})}))})).pipe((0,me.T)(function(N){return N.reduce(function($,q){return[].concat((0,A.A)($),(0,A.A)(q))},x)}),br(x))}),br(x))})):this.toObject(t).pipe((0,We.n)(function(p){return tr(function(){return p.renderer.type===s},(0,De.of)(p.renderer.bindings),(0,De.of)([]))}))}},{key:"toObject",value:function(t){return(0,De.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"getRenderType",value:function(t){var s=[t.find(function(u){return"renderer"===u.name})].map(function(u){return u.attributes.find(function(l){return"type"===l.name})});return s.length>0?s[0].value:void 0}},{key:"stateDefinition",value:function(t){return(0,De.of)({autocomplete:{input:""},loading:"y"})}},{key:"editorOptions",value:function(t){var s=this;return this.toObject(t).pipe((0,We.n)(function(u){return s.dpm.getPlugin(u&&u.plugin?u.plugin:"data").pipe((0,me.T)(function(l){return[u,l]}))}),(0,We.n)(function(u){var l=(0,F.A)(u,2),c=l[0],p=l[1];return p.editorOptions?p.editorOptions({settings:c&&c.settings?c.settings:[]}):(0,De.of)(void 0)}),(0,me.T)(function(u){return new Yt.ContentPluginEditorOptions({fullscreen:!!u&&u.fullscreen})}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.SITE_NAME),f.KVO(Wa),f.KVO(yt.AttributeSerializerService),f.KVO(qy),f.KVO(Gi),f.KVO(HE))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),uz=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.datasourceHandler=l,this.datasource=new Xu,this.bindableOptions=[],this.contexts=[],this.formGroup=this.fb.group({source:this.fb.control("")})},[{key:"ngOnInit",value:function(){var t=this,s=this.data.panelFormGroup.get("panes");if(this.bindableOptions=s.controls.reduce(function(l,c){return c.get("name").value?[].concat((0,A.A)(l),[c.get("name").value]):(0,A.A)(l)},[]),this.contexts=this.data.contexts.map(function(l){return l.name}),void 0!==this.data.panelIndex&&this.data.paneIndex<s.length){var u=s.at(this.data.paneIndex).get("settings").value.map(function(l){return new yt.AttributeValue(l)});this.datasourceHandler.toObject(u).subscribe(function(l){t.datasource=l})}}},{key:"onSubmit",value:function(){var t=this,s=this.attributeSerializer.serialize(this.formGroup.value.source,"source"),u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);void 0===this.data.paneIndex?(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"datasource",name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:this.fb.array(s.attributes.map(function(l){return t.attributeSerializer.convertToGroup(l)}))})),console.log(this.data.panelFormGroup.get("panes").value)):(u.get("settings").clear(),s.attributes.forEach(function(l){return u.get("settings").push(t.attributeSerializer.convertToGroup(l))})),this.dialogRef.close()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(yt.AttributeSerializerService),o.rXU(a_))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-datasource-editor"]],standalone:!1,decls:4,vars:4,consts:[[3,"ngSubmit","formGroup"],["formControlName","source",3,"bindableOptions","contexts","datasource"],["type","submit"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.nrm(1,"classifieds-ui-datasource-form",1),o.j41(2,"button",2),o.EFF(3,"Save"),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(),o.Y8G("bindableOptions",t.bindableOptions)("contexts",t.contexts)("datasource",t.datasource))},dependencies:[h.qT,h.BC,h.cb,h.j4,h.JD,Vy],encapsulation:2}),r}(),lz=function(r){return new Yt.ContentPlugin({id:"panel",title:"Panel",selectionComponent:oz,editorComponent:sz,renderComponent:void 0,handler:r})},cz=function(r){return new Yt.ContentPlugin({id:"datasource",title:"Datasource",selectionComponent:void 0,editorComponent:uz,renderComponent:void 0,handler:r})},XD=ei("[PageBuilder] Load Rest Data",{_as:"props",_p:void 0}),qD=ei("[PageBuilder] Load Rest Data Success",{_as:"props",_p:void 0}),i_=(ei("[PageBuilder] Load Rest Data Error",{_as:"props",_p:void 0}),ei("[PageBuilder] Set Page Info",{_as:"props",_p:void 0})),WD=ei("[PageBuilder] Set Form",{_as:"props",_p:void 0}),o_=ei("[PageBuilder] Set Page",{_as:"props",_p:void 0}),YD=ei("[PageBuilder] Selection Path",{_as:"props",_p:void 0}),fz=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.actions$=e,this.datasourceApi=t,this.snippetParserService=s,this.loadRestData$=vi(function(){return u.actions$.pipe($o(XD),(0,wi.H)(function(l){return u.fetchRestdata$(l.rest).pipe((0,Tr.W)(function(){return[]}),(0,me.T)(function(c){return void 0!==l.rest.renderer&&void 0!==l.rest.renderer.query&&""!==l.rest.renderer.query?(0,is.JSONPath)({path:l.rest.renderer.query,json:c}):c}),(0,me.T)(function(c){return qD({tag:l.tag,data:new Kn({results:c})})}))}))})},[{key:"fetchRestdata$",value:function(t){var s=this;switch(t.method?t.method:"get"){case"post":case"POST":return(0,De.of)([]).pipe((0,We.n)(function(){return s.snippetParserService.parseSnippet({snippet:t.body})}),(0,We.n)(function(l){return s.datasourceApi.postData({url:t.url,body:l})}));default:return this.datasourceApi.getData(t.url)}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(eu),f.KVO(jE),f.KVO(FE))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),ef=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.id=r.id,this.path=r.path,this.realPath=r.realPath,this.args=r.args)}),QD="pageBuilder",mz=function DP(a){for(var r=new Map,n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];for(var s=function(){var y,p=l[u],m=(0,j.A)(p.types);try{var x=function(){var N=y.value,$=r.get(N);r.set(N,$?function(ve,Ae){return p.reducer($(ve,Ae),Ae)}:p.reducer)};for(m.s();!(y=m.n()).done;)x()}catch(D){m.e(D)}finally{m.f()}},u=0,l=e;u<l.length;u++)s();return function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,p=arguments.length>1?arguments[1]:void 0,m=r.get(p.type);return m?m(c,p):c}}({dataTags:[],datasets:[],pageInfo:void 0,formNames:[],forms:[],page:void 0,selectionPath:[]},qc(qD,function(a,r){var n=a.dataTags.findIndex(function(t){return t===r.tag});if(n>-1&&void 0!==a.forms[n]){var e=(0,_.A)({},a);return e.datasets[n].push(r.data),e}return(0,_.A)((0,_.A)({},a),{},{dataTags:[].concat((0,A.A)(a.dataTags),[r.tag]),datasets:[].concat((0,A.A)(a.datasets),[[r.data]])})}),qc(WD,function(a,r){var n=a.formNames.findIndex(function(e){return e===r.name});return(0,_.A)((0,_.A)({},a),{},n>-1&&void 0!==a.forms[n]?{forms:a.forms.map(function(e,t){return t===n?r.form:e})}:{formNames:[].concat((0,A.A)(a.formNames),[r.name]),forms:[].concat((0,A.A)(a.forms),[r.form])})}),qc(i_,function(a,r){return(0,_.A)((0,_.A)({},a),{},{pageInfo:void 0!==r.info?new ef(r.info):void 0})}),qc(o_,function(a,r){return(0,_.A)((0,_.A)({},a),{},{page:void 0!==r.page?new Vr(r.page):void 0})}),qc(YD,function(a,r){return(0,_.A)((0,_.A)({},a),{},{selectionPath:void 0!==r.path?r.path:[]})}));function hz(a,r){return mz(a,r)}var Km=new f.nKC("StylePlugin"),JD=new f.nKC("PanelsSettings"),s_=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p,m,y,x,D,N){(0,v.A)(this,n);var $=function(r,n){return{PanelPageListItem:{entityName:"PanelPageListItem",crud:(0,_.A)((0,_.A)({},(0,I.Vy)(r)?{}:{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}}),{},{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}})},PanelPage:{entityName:"PanelPage",crud:(0,_.A)((0,_.A)({},(0,I.Vy)(r)?{}:{readPrimary:{fallback:!0,ops:["create","update","query"],plugin:"idb_keyval",params:{prefix:"panelpage__"}}}),{},{readFallback:{fallback:!0,ops:["query"],plugin:"rest",params:{entityName:"PanelPage",root:n.objectsRootUrl,suffix:".json"}}},(0,I.Vy)(r)?{}:{idb_keyval:{params:{prefix:"panelpage__"}}})},PanelPageState:{entityName:"PanelPageState"}}}(e,s);u.registerMetadataMap($),c.registerService("PanelPageState",new ln.NoopDataService("PanelPageState")),c.registerService("PanelPage",new Xy("PanelPage",x,D,N)),c.registerService("PanelPageListItem",new Xy("PanelPageListItem",x,D,N)),t.forEach(function(q){return l.register(q)}),p.register(function(r,n){return new Kd({id:"panels",title:"Panels",build:function(){Wu.prototype.writePaneState=function(t,s){return new Promise(function(u){var l=r.getEntityCollectionService("PanelPageState");l.getByKey(t.id).pipe((0,Tr.W)(function(){return(0,De.of)(new To({id:t.id,panels:[]}))}),(0,me.T)(function(c){return void 0===c?new To({id:t.id,panels:[]}):c}),(0,me.T)(function(c){for(var p=n.serialize(s,"root"),m=new To((0,_.A)((0,_.A)({},c),{},{panels:[]})),y=0;y<t.panelIndex+1;y++){m.panels.push(y<c.panels.length?new el((0,_.A)((0,_.A)({},c.panels[y]),{},{panes:[]})):new el);for(var x=0;x<t.paneIndex+1;x++)m.panels[y].panes.push(y===t.panelIndex&&x===t.paneIndex?new Si(y<c.panels.length&&x<c.panels[y].panes.length?(0,_.A)((0,_.A)({},c.panels[y].panes[x]),{},{state:p}):{state:p}):y<c.panels.length&&x<c.panels[y].panes.length?new Si((0,_.A)({},c.panels[y].panes[x])):new Si)}return m}),(0,We.n)(function(c){return l.upsert(c)})).subscribe(function(c){u(c)})})}}})}(m,y)),c.registerService("PanelPageForm",new Xy("PanelPageForm",x,D,N))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(o.Agw),f.KVO(Yt.CONTENT_PLUGIN),f.KVO(JD),f.KVO(ii),f.KVO(Yt.ContentPluginManager),f.KVO(pd),f.KVO(bc),f.KVO(Cr),f.KVO(yt.AttributeSerializerService),f.KVO(Bs),f.KVO(ii),f.KVO(Xd))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[{provide:Wa,useClass:Wa},{provide:Yt.CONTENT_PLUGIN,useFactory:lz,multi:!0,deps:[Wa]},{provide:Yt.CONTENT_PLUGIN,useFactory:cz,multi:!0,deps:[a_]},{provide:fd,useClass:h1}],imports:[k.MD,h.YN,h.X1,Gh.forFeature(QD,hz),cd.forFeature([fz]),va.MaterialModule,qu,hd,T$,V$,qd]}),r}(),ZD=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.panelPage=r.panelPage,null!=r.panel&&(this.panel=r.panel),null!=r.pane&&(this.pane=r.pane),null!=r.nested&&"object"==typeof r.nested&&(this.nested=new a(r.nested)))}),ew=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.savable=!0,this.nested=!1,this.dashboard=[],this.layoutSetting=new Xn,this.rowSettings=[],this.ancestory=[]},[{key:"gridItems",get:function(){return[]}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-layout-editor-base"]],inputs:{savable:"savable",nested:"nested",editor:"editor",dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings",editablePaneTpl:"editablePaneTpl",extraActionsAreaTmpl:"extraActionsAreaTmpl",contextsMenuTpl:"contextsMenuTpl",ancestory:"ancestory"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),tw=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.displayMainControls=!1,this.displayItemHeader=!1},[{key:"columnSettings",get:function(){return this.panelPage?this.panelPage.panels.reduce(function(s,u){return[].concat((0,A.A)(s),[new Xn(u.columnSetting)])},[]):[]}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU,8))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-layout-renderer-base"]],inputs:{panelPage:"panelPage",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",renderPanelTpl:"renderPanelTpl"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),gz=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),this.settings=[],this.panes=[],this.originMappings=[],this.ancestory=[]},[{key:"mergeContexts",value:function(t){if(void 0!==t||void 0!==this.contexts)return void 0!==t&&void 0!==this.contexts?[].concat((0,A.A)(t),(0,A.A)(this.contexts)):void 0!==t?t:this.contexts}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-panel-style-renderer-base"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",ancestory:"ancestory"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),nw=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.es=e,this.panelHandler=t},[{key:"panelPageService",get:function(){return this.es.getEntityCollectionService("PanelPage")}},{key:"reducePage",value:function(t){var s=this;return t.panels.reduce(function(u,l,c){return s.reducePanels(u,l,c)},[])}},{key:"reducePanels",value:function(t,s,u){var l=this;return[].concat((0,A.A)(t),(0,A.A)(s.panes.reduce(function(c,p,m){return l.reducePanes(c,p,m).map(function(y){return y.pipe((0,me.T)(function(x){var D=(0,F.A)(x,2);return[u,D[0],D[1]]}))})},[])))}},{key:"reducePanes",value:function(t,s,u){return[].concat((0,A.A)(t),(0,A.A)("panel"===s.contentPlugin?[this.nestedPage$(s).pipe((0,me.T)(function(l){return[u,l]}))]:[]))}},{key:"nestedPage$",value:function(t){return console.log("get nested panel page"),t.linkedPageId&&""!==t.linkedPageId?this.getByKey(t.linkedPageId).pipe((0,ue.M)(function(){return console.log("get(".concat(t.linkedPageId,")"))})):this.getEmbedded(t.settings).pipe((0,ue.M)(function(){return console.log("toObject()")}))}},{key:"remapNested",value:function(t,s){s.forEach(function(u){var l=(0,F.A)(u,3);t.panels[l[0]].panes[l[1]].nestedPage=l[2]})}},{key:"getByKey",value:function(t){var s=this;return this.panelPageService.getByKey(t).pipe((0,me.T)(function(u){return new Vr(u)}),(0,We.n)(function(u){return tr(function(){return s.reducePage(u).length>0},(0,Cn.p)(s.reducePage(u)).pipe((0,ue.M)(function(l){return s.remapNested(u,l)}),(0,me.T)(function(){return u})),(0,De.of)(u))}))}},{key:"getEmbedded",value:function(t){var s=this;return this.panelHandler.toObject(t).pipe((0,me.T)(function(u){return new Vr(u)}),(0,We.n)(function(u){return tr(function(){return s.reducePage(u).length>0},(0,Cn.p)(s.reducePage(u)).pipe((0,ue.M)(function(l){return s.remapNested(u,l)}),(0,me.T)(function(){return u})),(0,De.of)(u))}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Cr),f.KVO(Wa))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),vz=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.panelHandler=e},[{key:"rebuildPage",value:function(t,s){return new Vr((0,_.A)((0,_.A)({},t),{},{panels:this.rebuildPanels(t.panels,(0,A.A)(s))}))}},{key:"rebuildPanels",value:function(t,s){var u=this;return t.filter(function(l,c){return u.rebuildCondition(s[0],c)}).map(function(l){return new os((0,_.A)((0,_.A)({},l),{},{panes:u.rebuildPanes(l.panes,s.slice(1))}))})}},{key:"rebuildPanes",value:function(t,s){var u=this;return t.filter(function(l,c){return u.rebuildCondition(s[0],c)}).map(function(l){return new Fr("panel"===l.contentPlugin?(0,_.A)((0,_.A)({},l),{},{nestedPage:void 0,settings:u.panelHandler.buildSettings(u.rebuildPage(l.nestedPage,s.slice(1)))}):(0,_.A)({},l))})}},{key:"rebuildCondition",value:function(t,s){return 0===t||(t>-1?s===t+-1*t:s!==-1*t+t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Wa))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),yz=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.panelHandler=e},[{key:"convertPageToState",value:function(t){var s=this;return(0,De.of)(new To).pipe((0,We.n)(function(){return(0,Cn.p)(t.panels.map(function(u){return s.convertPanelToState(u)}))}),(0,me.T)(function(u){return new To({id:t.id,panels:u})}))}},{key:"convertPanelToState",value:function(t){var s=this;return(0,De.of)(new el).pipe((0,We.n)(function(){return(0,Cn.p)(t.panes.map(function(u){return s.convertPaneToState(u)}))}),(0,me.T)(function(u){return new el({panes:u})}))}},{key:"convertPaneToState",value:function(t){var s=this;return(0,De.of)(new Si).pipe((0,We.n)(function(u){return tr(function(){return s.hasNestedPanelPage(t)},s.panelHandler.toObject(t.settings).pipe((0,We.n)(function(l){return s.convertPageToState(l)}),(0,me.T)(function(l){return new Si({state:new yt.AttributeValue,nestedPage:l})})),(0,De.of)(u))}))}},{key:"hasNestedPanelPage",value:function(t){return"panel"===t.contentPlugin&&(null==t.linkedPageId||""===t.linkedPageId)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Wa))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),_z=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.panelsLoaderService=e},[{key:"walkPageHierarchy",value:function(t){var s=this,u=t.panelPage,l=t.visitorFunc,c=t.defaultv,p=t.ancestory;return new L.c(function(m){for(var y=u.panels.length,x=[],D=0;D<y;D++)for(var N=u.panels[D].panes.length,$=0;$<N;$++)x.push(l({pane:u.panels[D].panes[$],panelPage:u,ancestoryWithSelf:[].concat((0,A.A)(p),[D,$])})),u.panels[D].panes[$].nestedPage&&u.panels[D].panes[$].nestedPage.panels&&0!==u.panels[D].panes[$].nestedPage.panels.length&&x.push(s.walkPageHierarchy({panelPage:u,visitorFunc:l,defaultv:c,ancestory:[].concat((0,A.A)(p),[D,$])}));0===x.length?(m.next(c),m.complete()):(0,Cn.p)(x).pipe((0,me.T)(function(q){return q.reduce(function(le,ve){return[].concat((0,A.A)(le),(0,A.A)(ve))},c)}),(0,ue.M)(function(q){m.next(q),m.complete()})).subscribe()})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(nw))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),rw=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.panelsVisitorService=e,this.cpm=t,this.gatherPaneContexts=function(u){var l=u.pane,c=u.panelPage,p=u.ancestoryWithSelf;return s.cpm.getPlugin(l.contentPlugin).pipe((0,We.n)(function(m){return m.handler?m.handler.stateDefinition(l.settings):(0,De.of)({})}),(0,me.T)(function(m){return new Ua({name:"panestate-"+p.join("-"),adaptor:"data",plugin:"panestate",data:{id:c?c.id:"",selectionPath:(0,A.A)(p),value:m}})}),(0,me.T)(function(m){return[m]}),(0,on.s)(1))}},[{key:"allActivePageContexts",value:function(t){var u=t.ancestory;return this.panelsVisitorService.walkPageHierarchy({panelPage:t.panelPage,ancestory:void 0===u?[]:u,visitorFunc:this.gatherPaneContexts,defaultv:[]})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(_z),f.KVO(Yt.ContentPluginManager))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),bz=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"buildToAncestorySpec",value:function(t){for(var s=t.panelPageState,u=t.ancestory,l=0;l<u[0]+1;l++)if(s.panels.length<l+1&&s.panels.push(new el),l===u[0]&&u.length>1)for(var c=0;c<u[1]+1;c++)s.panels[u[0]].panes.length<c+1&&s.panels[u[0]].panes.push(new Si({state:this.attributeSerializer.serialize({},"root")})),c===u[1]&&u.length>2&&(s.panels[u[0]].panes[c].nestedPage||(s.panels[u[0]].panes[c].nestedPage=new To),this.buildToAncestorySpec({panelPageState:s.panels[u[0]].panes[c].nestedPage,ancestory:u.slice(2)}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Fc=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"style"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),aw=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.spm=e},[{key:"alterResolvedPanes",value:function(t){var s=this,u=t.panel,l=t.resolvedPanes,c=t.originMappings;return(0,De.of)(void 0).pipe((0,We.n)(function(){return u.stylePlugin&&""!==u.stylePlugin?s.spm.getPlugin(u.stylePlugin):(0,De.of)(void 0)}),(0,We.n)(function(p){return p&&p.handler?p.handler.alterResolvedPanes({settings:u.settings,resolvedPanes:l,originMappings:c}):(0,De.of)({resolvedPanes:l,originMappings:c})}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Fc))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),u_=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.panelHandler=e,this.rulesResolver=t,this.inlineContextResolver=s,this.cpm=u},[{key:"usedContexts",value:function(t){var s=this;return this.panesPlugins(t).pipe((0,We.n)(function(u){return s.dataPanes(t).pipe((0,me.T)(function(l){return{plugins:u,dataPanes:l}}))}),(0,We.n)(function(u){var l=u.plugins,c=u.dataPanes;return(0,Cn.p)(t.reduce(function(p,m){var y=l.get(m.contentPlugin);return void 0!==y.handler?[].concat((0,A.A)(p),[y.handler.getBindings(m.settings,"context",new Map([["dataPanes",c]])).pipe((0,me.T)(function(x){return x.map(function(D){return D.id})}))]):(0,A.A)(p)},[])).pipe((0,me.T)(function(p){return p.reduce(function(m,y){return[].concat((0,A.A)(m),(0,A.A)(y))},[])}))}))}},{key:"staticPanes",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[])).pipe((0,me.T)(function(s){return t.filter(function(u){return void 0===s.get(u.contentPlugin).handler||!s.get(u.contentPlugin).handler.isDynamic(u.settings)})}))}},{key:"dataPanes",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[])).pipe((0,me.T)(function(s){return t.filter(function(u){return void 0!==s.get(u.contentPlugin).handler&&s.get(u.contentPlugin).handler.isData(u.settings)})}))}},{key:"panesPlugins",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[]))}},{key:"resolvePanes",value:function(t){var s=this,u=t.panes,l=t.contexts,c=t.resolvedContext;return console.log("resolve panes"),this.panesPlugins(u).pipe((0,We.n)(function(p){return(0,Cn.p)(u.reduce(function(m,y){var x=p.get(y.contentPlugin);return[].concat((0,A.A)(m),void 0!==x.handler?[x.handler.getBindings(y.settings,"pane").pipe((0,me.T)(function(D){return D.map(function(N){return N.id})}))]:[(0,De.of)([])])},[]))})).pipe((0,me.T)(function(p){return p.reduce(function(m,y){return[].concat((0,A.A)(m),(0,A.A)(y))},[])}),(0,We.n)(function(p){return s.panesPlugins(u).pipe((0,me.T)(function(m){return[p,m]}))}),(0,We.n)(function(p){var m=(0,F.A)(p,2),y=m[0],x=m[1];return(0,Cn.p)(u.reduce(function(D,N){var $=x.get(N.contentPlugin);return void 0!==$.handler&&$.handler.isDynamic(N.settings)?[].concat((0,A.A)(D),[$.handler.isData(N.settings)&&-1!==y.findIndex(function(q){return q===N.name})?(0,De.of)([]):(0,Cn.p)([s.staticPanes(u),s.dataPanes(u)]).pipe((0,We.n)(function(q){var le=(0,F.A)(q,2),ve=le[0],Ae=le[1];return $.handler.buildDynamicItems(N.settings,new Map([].concat((0,A.A)(void 0===N.metadata?[]:N.metadata),[["tag",dr()],["panes",ve],["dataPanes",Ae],["contexts",void 0!==l?l:[]]]))).pipe((0,me.T)(function(ge){return s.panelHandler.fromPanes(ge)}),(0,me.T)(function(ge){return s.panelHandler.wrapPanel(ge).panes}),(0,on.s)(1))}))]):""===N.name||-1===y.findIndex(function(q){return q===N.name})?[].concat((0,A.A)(D),[(0,De.of)([new Fr((0,_.A)((0,_.A)({},N),{},{contexts:[].concat((0,A.A)(l),(0,A.A)(N.contexts?N.contexts:[]))}))]).pipe((0,We.n)(function(q){return tr(function(){return null!=q[0].rule&&""!==q[0].rule.condition},s.rulesResolver.evaluate(q[0].rule,[].concat((0,A.A)(l),(0,A.A)(N.contexts?N.contexts:[]))).pipe((0,me.T)(function(le){return le?q:[]})),(0,De.of)(q))}))]):(0,A.A)(D)},[])).pipe((0,We.n)(function(D){return tr(function(){return 0===D.reduce(function(N,$){return[].concat((0,A.A)(N),(0,A.A)($))},[]).length},(0,De.of)([D,[]]),(0,Cn.p)((0,A.A)(D.reduce(function(N,$){return[].concat((0,A.A)(N),(0,A.A)($.map(function(q){return q.contexts&&0!==q.contexts.length?s.inlineContextResolver.resolveAll(q.contexts).pipe((0,on.s)(1)):(0,De.of)({}).pipe((0,on.s)(1))})))},[]))).pipe((0,me.T)(function(N){return[D,N.map(function($){return(0,_.A)((0,_.A)({},$),c)})]})))}),(0,me.T)(function(D){var N=(0,F.A)(D,2),q=N[1],le=[],ve=[];return N[0].forEach(function(Ae,ge){le=[].concat((0,A.A)(void 0===le?[]:le),(0,A.A)(Ae.map(function(ke,He){return new Fr((0,_.A)((0,_.A)({},ke),{},{resolvedContext:q[le.length+He]}))}))),ve=[].concat((0,A.A)(ve&&[]),(0,A.A)(Ae.map(function(){return ge})))}),{resolvedPanes:le,originMappings:ve}}))}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Wa),f.KVO(qy),f.KVO(Ac),f.KVO(Yt.ContentPluginManager))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),Xm=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.name=e.id,e.title=n.title,e.editorComponent=n.editorComponent?n.editorComponent:void 0,e.renderComponent=n.renderComponent?n.renderComponent:void 0,n.handler&&(e.handler=n.handler)),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),qm=function(){var a,r=function(n){function e(){var t;return(0,v.A)(this,e),(t=(0,w.A)(this,e)).pageChange$=new W.B,t.pageSize=20,t.dataStream=new R.t([]),t.subscription=new $h.yU,t.lastPage=0,t.paneItems=[],t}return(0,P.A)(e,n),(0,g.A)(e,[{key:"panes",set:function(s){this.paneItems=[].concat((0,A.A)(this.paneItems),(0,A.A)(s)),this.dataStream.next(this.paneItems)}},{key:"connect",value:function(s){var u=this;return this.subscription.add(s.viewChange.subscribe(function(l){var c=Math.ceil((l.end+1)/u.pageSize);c>u.lastPage&&(u.lastPage=c,u.pageChange$.next(c))})),this.dataStream}},{key:"disconnect",value:function(s){this.subscription.unsubscribe()}}])}(N$.DataSource);return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),kc=Xc(QD),Wm=function(r){return wn(kc,function(n){var e=n.dataTags.findIndex(function(t){return t===r});if(e>-1)return n.datasets[e][n.datasets[e].length-1]})},Az=wn(kc,function(a){return a.pageInfo}),Cz=wn(kc,function(a){return a.page}),Sz=wn(kc,function(a){return a.selectionPath}),iw=wn(kc,function(a){return a.formNames}),xz=wn(kc,function(a){return a.forms}),Ez=wn(iw,xz,function(a,r,n){var e=a.findIndex(function(t){return t===n.name});if(e>-1)return r[e]}),xi=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.store=e,this.getPageInfo$=this.store.pipe(Rr(Az)),this.getPage$=this.store.pipe(Rr(Cz)),this.getSelectionPath$=this.store.pipe(Rr(Sz)),this.getFormNames$=this.store.pipe(Rr(iw)),this.getForm$=function(s){return t.store.pipe(Rr(Ez,{name:s}))}},[{key:"loadRestData",value:function(t,s){this.store.dispatch(XD({tag:t,rest:s}))}},{key:"setPageInfo",value:function(t){this.store.dispatch(i_({info:t}))}},{key:"setPage",value:function(t){this.store.dispatch(o_({page:t}))}},{key:"setSelectionPath",value:function(t){this.store.dispatch(YD({path:t}))}},{key:"setForm",value:function(t,s){this.store.dispatch(WD({name:t,form:s}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),tf=(0,g.A)(function a(r){(0,v.A)(this,a),this.readUserIds=[],r&&(this.title=r.title,this.name=r.name,this.path=r.path,this.cssFile=r.cssFile,r.readUserIds&&(this.readUserIds=r.readUserIds.map(function(n){return n})))}),ow=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.label=r.label,this.name=r.name)}),sw=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.label=r.label,this.name=r.name)}),Us=(0,g.A)(function a(r){(0,v.A)(this,a),this.panels=[],r&&(this.id=r.id,this.name=r.name,this.title=r.title,this.derivativeId=r.derivativeId,r.panels&&(this.panels=r.panels.map(function(n){return new Dz(n)})))}),Dz=(0,g.A)(function a(r){(0,v.A)(this,a),this.panes=[],r&&(this.name=r.name,this.label=r.label,r.panes&&(this.panes=r.panes.map(function(n){return new wz(n)})))}),wz=(0,g.A)(function a(r){(0,v.A)(this,a),this.settings=[],r&&(this.name=r.name,this.label=r.label,this.contentPlugin=r.contentPlugin,r.settings&&(this.settings=r.settings.map(function(n){return new yt.AttributeValue(n)})))}),l_=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.name=r.name,this.field=r.field)}),Fz=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){var l=this;(0,v.A)(this,n),this.pageBuilderFacade=e,this.panelStateArchitectService=t,this.attributeSerializer=s,this.selectEntities=function(c){return c.entities},this.selectById=function(c){var p=c.id;return wn(l.selectEntities,function(m){return m[p]?m[p]:void 0})},this.panelPageStateService=u.getEntityCollectionService("PanelPageState")},[{key:"mergeState",value:function(t){var s=this,l=t.settings,c=t.plugin,p=t.ancestory;return(0,De.of)(t.state).pipe((0,We.n)(function(m){return s.pageBuilderFacade.getPageInfo$.pipe((0,me.T)(function(y){return[m,y]}))}),(0,We.n)(function(m){var y=(0,F.A)(m,2),x=y[0],D=y[1];return c.handler.stateDefinition(l).pipe((0,me.T)(function(N){return[x,D,N]}))}),(0,We.n)(function(m){var y=(0,F.A)(m,3),x=y[0],D=y[1],N=y[2];return s.panelPageStateService.collection$.pipe(Rr(s.selectById({id:D.id})),(0,me.T)(function($){return[x,new To($||{id:D.id,panels:[]}),N]}),(0,on.s)(1))}),(0,me.T)(function(m){var y=(0,F.A)(m,3),x=y[0],D=y[1],N=y[2];s.panelStateArchitectService.buildToAncestorySpec({panelPageState:D,ancestory:(0,A.A)(p)});var $="$."+p.map(function(le,ve){return"".concat((ve+1)%2==0?"panes":(0===ve?"":"nestedPage.")+"panels","[").concat(le,"]")}).join(".");return[x,D,N,(0,is.JSONPath)({path:$,json:D})[0]]}),(0,ue.M)(function(m){var y=(0,F.A)(m,4),x=y[0],N=y[2],$=y[3],q=$.state?$.state.root?s.attributeSerializer.deserialize($.state).root:s.attributeSerializer.deserialize($.state):{},le=Jd(q&&0!==Object.keys(q).length?q:N,x);$.state=s.attributeSerializer.serialize(le,"root")}),(0,me.T)(function(m){var y=(0,F.A)(m,4);return{paneState:y[3],pageState:y[1]}}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(xi),f.KVO(bz),f.KVO(yt.AttributeSerializerService),f.KVO(Cr))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),uw=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"serializeForm",value:function(t){for(var s=t.panels.length,u={},l=0;l<s;l++){for(var c=t.panels[l].panes.length,p=new Map,m=0;m<c;m++){var y=this.serializeFormPane(t.panels[l].panes[m]);if(t.panels[l].panes[m].name&&null!==t.panels[l].panes[m].name&&(u[t.panels[l].panes[m].name]||t.panels[l].panes[m].name===jD(t.panels[l].panes[m].name))){p.has(t.panels[l].panes[m].name)||p.set(t.panels[l].panes[m].name,typeof u[t.panels[l].panes[m].name]<"u"?[u[t.panels[l].panes[m].name]]:[]);var x=p.get(t.panels[l].panes[m].name);p.set(t.panels[l].panes[m].name,[].concat((0,A.A)(x),[y]))}else u=t.panels[l].panes[m].name&&""!==t.panels[l].panes[m].name?(0,_.A)((0,_.A)({},u),{},(0,d.A)({},t.panels[l].panes[m].name,y)):(0,_.A)((0,_.A)({},u),y)}Array.from(p).forEach(function(D){var N=(0,F.A)(D,2);return u[N[0]]=N[1]})}return u}},{key:"serializeFormPane",value:function(t){if("panel"===t.contentPlugin)return this.serializeForm(new Us(this.attributeSerializer.deserializeAsObject(t.settings,!0)));var s=this.attributeSerializer.deserializeAsObject(t.settings,!0);return void 0!==s?s.value:void 0}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),c_=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"makeJsonNode",value:function(){return{attributes:{},children:{}}}},{key:"reduceCss",value:function(t,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t&&t.children?Object.keys(t.children).filter(function(l){return u?0===l.indexOf(s):0!==l.indexOf(s)}).reduce(function(l,c){return(0,_.A)((0,_.A)({},l),{},{children:(0,_.A)((0,_.A)({},l.children),{},(0,d.A)({},u?c.substr(c.indexOf(s)+s.length).trim():c,t.children[c]))})},this.makeJsonNode()):this.makeJsonNode()}},{key:"reduceSelector",value:function(t,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t?Object.keys(t).filter(function(l){return u?0===l.indexOf(s):0!==l.indexOf(s)}).reduce(function(l,c){return(0,_.A)((0,_.A)({},l),{},(0,d.A)({},u?c.substr(c.indexOf(s)+s.length).trim():c,t[c]))},{}):{}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),d_=[[["ngx-dropzone-label"]]],f_=["ngx-dropzone-label"];function kz(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-remove-badge",1),o.bIt("click",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s._remove(t))}),o.k0s()}}var Pz=["fileInput"],Rz=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],Tz=["ngx-dropzone-preview","*","ngx-dropzone-label"];function Mz(a,r){1&a&&o.SdG(0,2,["*ngIf","!_hasPreviews"])}function Iz(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-remove-badge",2),o.bIt("click",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s._remove(t))}),o.k0s()}}function Vz(a,r){if(1&a){var n=o.RV6();o.j41(0,"video",2),o.bIt("click",function(s){return f.eBV(n),f.Njj(s.stopPropagation())}),o.nrm(1,"source",3),o.k0s()}if(2&a){var e=o.XpG();o.R7$(),o.Y8G("src",e.sanitizedVideoSrc,o.B4B)}}function Nz(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-remove-badge",4),o.bIt("click",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s._remove(t))}),o.k0s()}}var lw=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=o.FsC({type:a,selectors:[["ngx-dropzone-label"]],standalone:!1}),a}();function Pc(a){return null!=a&&"false"!=="".concat(a)}var p_=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["ngx-dropzone-remove-badge"]],standalone:!1,decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(n,e){1&n&&(f.qSk(),o.j41(0,"svg"),o.nrm(1,"line",0)(2,"line",1),o.k0s())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),a}(),m_=function(a){return a[a.BACKSPACE=8]="BACKSPACE",a[a.DELETE=46]="DELETE",a}(m_||{}),Rc=function(){var a=function(){return(0,g.A)(function r(n){(0,v.A)(this,r),this.sanitizer=n,this._removable=!1,this.removed=new o.bkB,this.tabIndex=0},[{key:"file",get:function(){return this._file},set:function(e){this._file=e}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Pc(e)}},{key:"keyEvent",value:function(e){switch(e.keyCode){case m_.BACKSPACE:case m_.DELETE:this.remove()}}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(){var s=this;return(0,Ke.A)().w(function(u){for(;;)if(0===u.n)return u.a(2,new Promise(function(l,c){var p=new FileReader;if(p.onload=function(m){l(m.target.result)},p.onerror=function(m){console.error("FileReader failed on file ".concat(s.file.name,".")),c(m)},!s.file)return c("No file to read. Please provide a file using the [file] Input property.");p.readAsDataURL(s.file)}))},t)})),function e(){return n.apply(this,arguments)})}]);var n}();return a.\u0275fac=function(n){return new(n||a)(o.rXU(M.DomSanitizer))},a.\u0275cmp=o.VBU({type:a,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(n,e){1&n&&o.bIt("keyup",function(s){return e.keyEvent(s)}),2&n&&(o.Avn("tabIndex",e.tabIndex),o.Aen(e.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},standalone:!1,ngContentSelectors:f_,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(o.NAR(d_),o.SdG(0),o.DNE(1,kz,1,0,"ngx-dropzone-remove-badge",0)),2&n&&(o.R7$(),o.Y8G("ngIf",e.removable))},dependencies:[p_,k.bT],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),a}(),cw=function(){var a=function(){return(0,g.A)(function r(){(0,v.A)(this,r)},[{key:"parseFileList",value:function(e,t,s,u){for(var l=[],c=[],p=0;p<e.length;p++){var m=e.item(p);this.isAccepted(m,t)?s&&m.size>s?this.rejectFile(c,m,"size"):!u&&l.length>=1?this.rejectFile(c,m,"no_multiple"):l.push(m):this.rejectFile(c,m,"type")}return{addedFiles:l,rejectedFiles:c}}},{key:"isAccepted",value:function(e,t){if("*"===t)return!0;var s=t.split(",").map(function(p){return p.toLowerCase().trim()}),u=e.type.toLowerCase(),l=e.name.toLowerCase();return!!s.find(function(p){return p.endsWith("/*")?u.split("/")[0]===p.split("/")[0]:p.startsWith(".")?l.endsWith(p):p==u})}},{key:"rejectFile",value:function(e,t,s){var u=t;u.reason=s,e.push(u)}}])}();return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),a}(),Ym=function(){var a=function(){return(0,g.A)(function r(n){(0,v.A)(this,r),this.service=n,this.change=new o.bkB,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1},[{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Pc(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Pc(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function Oz(a){return isNaN(parseFloat(a))||isNaN(Number(a))?null:Number(a)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=Pc(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=Pc(e)}},{key:"processDirectoryDrop",get:function(){return this._processDirectoryDrop},set:function(e){this._processDirectoryDrop=Pc(e)}},{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){var t=this;if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){var s=e.dataTransfer.items;if(s.length>0){for(var u=[],l=[],c=0;c<s.length;c++){var p=s[c].webkitGetAsEntry();p.isFile?u.push(e.dataTransfer.files[c]):p.isDirectory&&l.push(p)}var m=new DataTransfer;if(u.forEach(function($){m.items.add($)}),!l.length&&m.items.length&&this.handleFileDrop(m.files),l.length){var D,y=[],x=(0,j.A)(l);try{for(x.s();!(D=x.n()).done;)y.push(this.extractFilesFromDirectory(D.value))}catch($){x.e($)}finally{x.f()}Promise.all(y).then(function($){$.reduce(function(q,le){return[].concat((0,A.A)(q),(0,A.A)(le))}).forEach(function(q){m.items.add(q)}),t.handleFileDrop(m.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}},{key:"extractFilesFromDirectory",value:function(e){function t(u){return s.apply(this,arguments)}function s(){return(s=(0,Mt.A)((0,Ke.A)().m(function u(l){return(0,Ke.A)().w(function(p){for(;;)switch(p.p=p.n){case 0:return p.p=0,p.n=1,new Promise(function(m,y){return l.file(m,y)});case 1:return p.a(2,p.v);case 2:p.p=2,console.log("Error converting a fileEntry to a File: ",p.v);case 3:return p.a(2)}},u,null,[[0,2]])}))).apply(this,arguments)}return new Promise(function(u,l){var c=[],p=e.createReader(),m=function(){p.readEntries(function(){var x=(0,Mt.A)((0,Ke.A)().m(function D(N){var $,q,le,ve;return(0,Ke.A)().w(function(ke){for(;;)switch(ke.p=ke.n){case 0:if(N.length){ke.n=1;break}u(c),ke.n=10;break;case 1:$=N.filter(function(He){return He.isFile}),q=(0,j.A)($),ke.p=2,q.s();case 3:if((le=q.n()).done){ke.n=6;break}return ve=le.value,ke.n=4,t(ve);case 4:c.push(ke.v);case 5:ke.n=3;break;case 6:ke.n=8;break;case 7:ke.p=7,q.e(ke.v);case 8:return ke.p=8,q.f(),ke.f(8);case 9:m();case 10:return ke.a(2)}},D,null,[[2,7,8,9]])}));return function(D){return x.apply(this,arguments)}}())};m()})}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}}])}();return a.\u0275fac=function(n){return new(n||a)(o.rXU(cw,2))},a.\u0275cmp=o.VBU({type:a,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(n,e,t){var s;1&n&&o.wni(t,Rc,5),2&n&&o.mGM(s=o.lsd())&&(e._previewChildren=s)},viewQuery:function(n,e){var t;1&n&&o.GBs(Pz,7),2&n&&o.mGM(t=o.lsd())&&(e._fileInput=t.first)},hostVars:8,hostBindings:function(n,e){1&n&&o.bIt("click",function(){return e._onClick()})("dragover",function(s){return e._onDragOver(s)})("dragleave",function(){return e._onDragLeave()})("drop",function(s){return e._onDrop(s)}),2&n&&o.AVh("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)("ngx-dz-hovered",e._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},standalone:!1,features:[o.Jv_([cw])],ngContentSelectors:Tz,decls:5,vars:8,consts:[["fileInput",""],["type","file",3,"change","id","multiple","accept","disabled"],[4,"ngIf"]],template:function(n,e){if(1&n){var t=o.RV6();o.NAR(Rz),o.j41(0,"input",1,0),o.bIt("change",function(u){return f.eBV(t),f.Njj(e._onFilesSelected(u))}),o.k0s(),o.DNE(2,Mz,1,0,"ng-content",2),o.SdG(3),o.SdG(4,1)}2&n&&(o.Y8G("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),o.BMQ("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),o.R7$(2),o.Y8G("ngIf",!e._hasPreviews))},dependencies:[k.bT],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),a}(),dw=function(){var a=function(r){function n(e){var t;return(0,v.A)(this,n),(t=(0,w.A)(this,n,[e])).defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",t.imageSrc=t.sanitizer.bypassSecurityTrustUrl(t.defaultImgLoading),t}return(0,P.A)(n,r),(0,g.A)(n,[{key:"file",get:function(){return this._file},set:function(t){this._file=t,this.renderImage()}},{key:"ngOnInit",value:function(){this.renderImage()}},{key:"renderImage",value:function(){var t=this;this.readFile().then(function(s){return setTimeout(function(){return t.imageSrc=s})}).catch(function(s){return console.error(s)})}}])}(Rc);return a.\u0275fac=function(n){return new(n||a)(o.rXU(M.DomSanitizer))},a.\u0275cmp=o.VBU({type:a,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},standalone:!1,features:[o.Jv_([{provide:Rc,useExisting:a}]),o.Vt3],ngContentSelectors:f_,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(o.NAR(d_),o.nrm(0,"img",0),o.SdG(1),o.DNE(2,Iz,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(o.Y8G("src",e.imageSrc,o.B4B),o.R7$(2),o.Y8G("ngIf",e.removable))},dependencies:[p_,k.bT],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),a}(),Bz=function(){var a=function(r){function n(e){return(0,v.A)(this,n),(0,w.A)(this,n,[e])}return(0,P.A)(n,r),(0,g.A)(n,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}])}(Rc);return a.\u0275fac=function(n){return new(n||a)(o.rXU(M.DomSanitizer))},a.\u0275cmp=o.VBU({type:a,selectors:[["ngx-dropzone-video-preview"]],standalone:!1,features:[o.Jv_([{provide:Rc,useExisting:a}]),o.Vt3],ngContentSelectors:f_,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(n,e){1&n&&(o.NAR(d_),o.DNE(0,Vz,2,1,"video",0),o.SdG(1),o.DNE(2,Nz,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(o.Y8G("ngIf",e.sanitizedVideoSrc),o.R7$(2),o.Y8G("ngIf",e.removable))},dependencies:[p_,k.bT],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),a}(),Qm=function(){var a=(0,g.A)(function r(){(0,v.A)(this,r)});return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[[k.MD]]}),a}(),Lz=["treeContainer"],Uz=function(r,n){return{ruleset:r,invalid:n}};function Gz(a,r){if(1&a&&o.nrm(0,"i",12),2&a){var n=o.XpG();o.Y8G("ngClass",n.getClassNames("arrowIcon"))}}function jz(a,r){1&a&&o.eu8(0)}function $z(a,r){if(1&a&&(o.qex(0),o.DNE(1,jz,1,0,"ng-container",18),o.bVm()),2&a){var n=r.ngIf,e=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getArrowIconContext())}}function zz(a,r){if(1&a){var n=o.RV6();o.j41(0,"a",17),o.bIt("click",function(){f.eBV(n);var u=o.XpG();return f.Njj(u.toggleCollapse())}),o.DNE(1,$z,2,2,"ng-container",14),o.k0s()}if(2&a){var e=o.XpG(),t=o.sdS(2);o.Y8G("ngClass",e.getClassNames("arrowIconButton",e.data.collapsed?"collapsed":"")),o.R7$(),o.Y8G("ngIf",e.getArrowIconTemplate())("ngIfElse",t)}}function Hz(a,r){1&a&&o.eu8(0)}function Kz(a,r){if(1&a&&(o.qex(0),o.j41(1,"div",12),o.DNE(2,Hz,1,0,"ng-container",18),o.k0s(),o.bVm()),2&a){var n=r.ngIf,e=o.XpG();o.R7$(),o.Y8G("ngClass",e.getClassNames("buttonGroup","rightAlign")),o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getButtonGroupContext())}}function Xz(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){f.eBV(n);var s=o.XpG(2);return f.Njj(s.addRuleSet())}),o.nrm(1,"i",12),o.EFF(2," Ruleset "),o.k0s()}if(2&a){var e=o.XpG(2);o.Y8G("ngClass",e.getClassNames("button"))("disabled",e.disabled),o.R7$(),o.Y8G("ngClass",e.getClassNames("addIcon"))}}function qz(a,r){if(1&a){var n=o.RV6();o.qex(0),o.j41(1,"button",19),o.bIt("click",function(){f.eBV(n);var s=o.XpG(2);return f.Njj(s.removeRuleSet())}),o.nrm(2,"i",12),o.k0s(),o.bVm()}if(2&a){var e=o.XpG(2);o.R7$(),o.Y8G("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),o.R7$(),o.Y8G("ngClass",e.getClassNames("removeIcon"))}}function Wz(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",12)(1,"button",19),o.bIt("click",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.addRule())}),o.nrm(2,"i",12),o.EFF(3," Rule "),o.k0s(),o.DNE(4,Xz,3,3,"button",20)(5,qz,3,3,"ng-container",21),o.k0s()}if(2&a){var e=o.XpG();o.Y8G("ngClass",e.getClassNames("buttonGroup","rightAlign")),o.R7$(),o.Y8G("ngClass",e.getClassNames("button"))("disabled",e.disabled),o.R7$(),o.Y8G("ngClass",e.getClassNames("addIcon")),o.R7$(2),o.Y8G("ngIf",e.allowRuleset),o.R7$(),o.Y8G("ngIf",!!e.parentValue&&e.allowRuleset)}}function Yz(a,r){1&a&&o.eu8(0)}function Qz(a,r){if(1&a&&(o.qex(0),o.DNE(1,Yz,1,0,"ng-container",18),o.bVm()),2&a){var n=r.ngIf,e=o.XpG();o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getSwitchGroupContext())}}function Jz(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",12)(1,"div",12)(2,"input",22,4),o.mxI("ngModelChange",function(s){f.eBV(n);var u=o.XpG(2);return o.DH7(u.data.condition,s)||(u.data.condition=s),f.Njj(s)}),o.k0s(),o.j41(4,"label",17),o.bIt("click",function(){f.eBV(n);var s=o.sdS(3),u=o.XpG(2);return f.Njj(u.changeCondition(s.value))}),o.EFF(5,"AND"),o.k0s()(),o.j41(6,"div",12)(7,"input",23,5),o.mxI("ngModelChange",function(s){f.eBV(n);var u=o.XpG(2);return o.DH7(u.data.condition,s)||(u.data.condition=s),f.Njj(s)}),o.k0s(),o.j41(9,"label",17),o.bIt("click",function(){f.eBV(n);var s=o.sdS(8),u=o.XpG(2);return f.Njj(u.changeCondition(s.value))}),o.EFF(10,"OR"),o.k0s()()()}if(2&a){var e=o.XpG(2);o.Y8G("ngClass",e.getClassNames("switchGroup","transition")),o.R7$(),o.Y8G("ngClass",e.getClassNames("switchControl")),o.R7$(),o.Y8G("ngClass",e.getClassNames("switchRadio")),o.R50("ngModel",e.data.condition),o.Y8G("disabled",e.disabled),o.R7$(2),o.Y8G("ngClass",e.getClassNames("switchLabel")),o.R7$(2),o.Y8G("ngClass",e.getClassNames("switchControl")),o.R7$(),o.Y8G("ngClass",e.getClassNames("switchRadio")),o.R50("ngModel",e.data.condition),o.Y8G("disabled",e.disabled),o.R7$(2),o.Y8G("ngClass",e.getClassNames("switchLabel"))}}function Zz(a,r){if(1&a&&o.DNE(0,Jz,11,11,"div",16),2&a){var n=o.XpG();o.Y8G("ngIf",n.data)}}function eH(a,r){1&a&&o.eu8(0)}function tH(a,r){if(1&a&&(o.qex(0),o.j41(1,"div",12),o.DNE(2,eH,1,0,"ng-container",18),o.k0s(),o.bVm()),2&a){var n=r.ngIf,e=o.XpG(3).$implicit,t=o.XpG(2);o.R7$(),o.Y8G("ngClass",t.getClassNames("buttonGroup","rightAlign")),o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getRemoveButtonContext(e))}}function nH(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",12)(1,"button",19),o.bIt("click",function(){f.eBV(n);var s=o.XpG(3).$implicit,u=o.XpG(2);return f.Njj(u.removeRule(s,u.data))}),o.nrm(2,"i",12),o.k0s()()}if(2&a){var e=o.XpG(5);o.Y8G("ngClass",e.getClassNames("removeButtonSize","rightAlign")),o.R7$(),o.Y8G("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),o.R7$(),o.Y8G("ngClass",e.getClassNames("removeIcon"))}}function rH(a,r){1&a&&o.eu8(0)}function aH(a,r){if(1&a&&(o.qex(0),o.DNE(1,rH,1,0,"ng-container",18),o.bVm()),2&a){var n=r.ngIf,e=o.XpG(4).$implicit,t=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getEntityContext(e))}}function iH(a,r){if(1&a&&(o.j41(0,"div",27),o.DNE(1,aH,2,2,"ng-container",14),o.k0s()),2&a){o.XpG();var n=o.sdS(6),e=o.XpG(4);o.R7$(),o.Y8G("ngIf",e.getEntityTemplate())("ngIfElse",n)}}function oH(a,r){if(1&a&&(o.j41(0,"option",30),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("ngValue",n.value),o.R7$(),o.SpI(" ",n.name," ")}}function sH(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",12)(1,"select",28),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(3).$implicit;return o.DH7(l.entity,u)||(l.entity=u),f.Njj(u)}),o.bIt("ngModelChange",function(u){f.eBV(n);var l=o.XpG(3),c=l.$implicit,p=l.index,m=o.XpG(2);return f.Njj(m.changeEntity(u,c,p,m.data))}),o.DNE(2,oH,2,2,"option",29),o.k0s()()}if(2&a){var e=o.XpG(3).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("entityControlSize")),o.R7$(),o.Y8G("ngClass",t.getClassNames("entityControl")),o.R50("ngModel",e.entity),o.Y8G("disabled",t.disabled),o.R7$(),o.Y8G("ngForOf",t.entities)}}function uH(a,r){1&a&&o.eu8(0)}function lH(a,r){if(1&a&&(o.qex(0),o.DNE(1,uH,1,0,"ng-container",18),o.bVm()),2&a){var n=r.ngIf,e=o.XpG(3).$implicit,t=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getFieldContext(e))}}function cH(a,r){if(1&a&&(o.j41(0,"option",30),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("ngValue",n.value),o.R7$(),o.SpI(" ",n.name," ")}}function dH(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",12)(1,"select",28),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(3).$implicit;return o.DH7(l.field,u)||(l.field=u),f.Njj(u)}),o.bIt("ngModelChange",function(u){f.eBV(n);var l=o.XpG(3).$implicit,c=o.XpG(2);return f.Njj(c.changeField(u,l))}),o.DNE(2,cH,2,2,"option",29),o.k0s()()}if(2&a){var e=o.XpG(3).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("fieldControlSize")),o.R7$(),o.Y8G("ngClass",t.getClassNames("fieldControl")),o.R50("ngModel",e.field),o.Y8G("disabled",t.disabled),o.R7$(),o.Y8G("ngForOf",t.getFields(e.entity))}}function fH(a,r){1&a&&o.eu8(0)}function pH(a,r){if(1&a&&(o.qex(0),o.DNE(1,fH,1,0,"ng-container",18),o.bVm()),2&a){var n=r.ngIf,e=o.XpG(3).$implicit,t=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getOperatorContext(e))}}function mH(a,r){if(1&a&&(o.j41(0,"option",30),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("ngValue",n),o.R7$(),o.SpI(" ",n," ")}}function hH(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",12)(1,"select",28),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(3).$implicit;return o.DH7(l.operator,u)||(l.operator=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(3).$implicit,l=o.XpG(2);return f.Njj(l.changeOperator(u))}),o.DNE(2,mH,2,2,"option",29),o.k0s()()}if(2&a){var e=o.XpG(3).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("operatorControlSize")),o.R7$(),o.Y8G("ngClass",t.getClassNames("operatorControl")),o.R50("ngModel",e.operator),o.Y8G("disabled",t.disabled),o.R7$(),o.Y8G("ngForOf",t.getOperators(e.field))}}function gH(a,r){1&a&&o.eu8(0)}function vH(a,r){if(1&a&&(o.qex(0),o.DNE(1,gH,1,0,"ng-container",18),o.bVm()),2&a){var n=r.ngIf,e=o.XpG(3).$implicit,t=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getInputContext(e))}}function yH(a,r){if(1&a){var n=o.RV6();o.j41(0,"input",39),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.k0s()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled)}}function _H(a,r){if(1&a){var n=o.RV6();o.j41(0,"input",40),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.k0s()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled)}}function bH(a,r){if(1&a){var n=o.RV6();o.j41(0,"input",41),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.k0s()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled)}}function AH(a,r){if(1&a){var n=o.RV6();o.j41(0,"input",42),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.k0s()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled)}}function CH(a,r){if(1&a&&(o.j41(0,"option",30),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("ngValue",n.value),o.R7$(),o.SpI(" ",n.name," ")}}function SH(a,r){if(1&a){var n=o.RV6();o.j41(0,"select",28),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.DNE(1,CH,2,2,"option",29),o.k0s()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled),o.R7$(),o.Y8G("ngForOf",t.getOptions(e.field))}}function xH(a,r){if(1&a&&(o.j41(0,"option",30),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("ngValue",n.value),o.R7$(),o.SpI(" ",n.name," ")}}function EH(a,r){if(1&a){var n=o.RV6();o.qex(0),o.j41(1,"select",43),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.DNE(2,xH,2,2,"option",29),o.k0s(),o.bVm()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.R7$(),o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled),o.R7$(),o.Y8G("ngForOf",t.getOptions(e.field))}}function DH(a,r){if(1&a){var n=o.RV6();o.j41(0,"input",44),o.mxI("ngModelChange",function(u){f.eBV(n);var l=o.XpG(4).$implicit;return o.DH7(l.value,u)||(l.value=u),f.Njj(u)}),o.bIt("ngModelChange",function(){f.eBV(n);var u=o.XpG(6);return f.Njj(u.changeInput())}),o.k0s()}if(2&a){var e=o.XpG(4).$implicit,t=o.XpG(2);o.Y8G("ngClass",t.getClassNames("inputControl")),o.R50("ngModel",e.value),o.Y8G("disabled",t.disabled)}}function wH(a,r){if(1&a&&(o.j41(0,"div",31),o.DNE(1,yH,1,3,"input",32)(2,_H,1,3,"input",33)(3,bH,1,3,"input",34)(4,AH,1,3,"input",35)(5,SH,2,4,"select",36)(6,EH,3,4,"ng-container",37)(7,DH,1,3,"input",38),o.k0s()),2&a){var n=o.XpG(3).$implicit,e=o.XpG(2);o.Y8G("ngClass",e.getClassNames("inputControlSize"))("ngSwitch",e.getInputType(n.field,n.operator)),o.R7$(),o.Y8G("ngSwitchCase","string"),o.R7$(),o.Y8G("ngSwitchCase","number"),o.R7$(),o.Y8G("ngSwitchCase","date"),o.R7$(),o.Y8G("ngSwitchCase","time"),o.R7$(),o.Y8G("ngSwitchCase","category"),o.R7$(),o.Y8G("ngSwitchCase","multiselect"),o.R7$(),o.Y8G("ngSwitchCase","boolean")}}function FH(a,r){if(1&a&&(o.qex(0),o.DNE(1,tH,3,3,"ng-container",14)(2,nH,3,4,"ng-template",null,7,o.C5r)(4,iH,2,2,"div",26)(5,sH,3,5,"ng-template",null,8,o.C5r)(7,lH,2,2,"ng-container",14)(8,dH,3,5,"ng-template",null,9,o.C5r)(10,pH,2,2,"ng-container",14)(11,hH,3,5,"ng-template",null,10,o.C5r)(13,vH,2,2,"ng-container",14)(14,wH,8,9,"ng-template",null,11,o.C5r),o.bVm()),2&a){var n=o.sdS(3),e=o.sdS(9),t=o.sdS(12),s=o.sdS(15),u=o.XpG(2).$implicit,l=o.XpG(2);o.R7$(),o.Y8G("ngIf",l.getRemoveButtonTemplate())("ngIfElse",n),o.R7$(3),o.Y8G("ngIf",null==l.entities?null:l.entities.length),o.R7$(3),o.Y8G("ngIf",l.getFieldTemplate())("ngIfElse",e),o.R7$(3),o.Y8G("ngIf",l.getOperatorTemplate())("ngIfElse",t),o.R7$(3),o.Y8G("ngIf",l.findTemplateForRule(u))("ngIfElse",s)}}function kH(a,r){if(1&a&&o.nrm(0,"query-builder",45),2&a){var n=o.XpG(2).$implicit,e=o.XpG(2);o.Y8G("data",n)("disabled",e.disabled)("parentTouchedCallback",e.parentTouchedCallback||e.onTouchedCallback)("parentChangeCallback",e.parentChangeCallback||e.onChangeCallback)("parentInputTemplates",e.parentInputTemplates||e.inputTemplates)("parentOperatorTemplate",e.parentOperatorTemplate||e.operatorTemplate)("parentFieldTemplate",e.parentFieldTemplate||e.fieldTemplate)("parentEntityTemplate",e.parentEntityTemplate||e.entityTemplate)("parentSwitchGroupTemplate",e.parentSwitchGroupTemplate||e.switchGroupTemplate)("parentButtonGroupTemplate",e.parentButtonGroupTemplate||e.buttonGroupTemplate)("parentRemoveButtonTemplate",e.parentRemoveButtonTemplate||e.removeButtonTemplate)("parentEmptyWarningTemplate",e.parentEmptyWarningTemplate||e.emptyWarningTemplate)("parentArrowIconTemplate",e.parentArrowIconTemplate||e.arrowIconTemplate)("parentValue",e.data)("classNames",e.classNames)("config",e.config)("allowRuleset",e.allowRuleset)("allowCollapse",e.allowCollapse)("emptyMessage",e.emptyMessage)("operatorMap",e.operatorMap)}}function PH(a,r){1&a&&o.eu8(0)}function RH(a,r){if(1&a&&(o.qex(0),o.DNE(1,PH,1,0,"ng-container",18),o.bVm()),2&a){var n=o.XpG().ngIf,e=o.XpG(4);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getEmptyWarningContext())}}function TH(a,r){if(1&a&&(o.qex(0),o.DNE(1,RH,2,2,"ng-container",21),o.bVm()),2&a){var n=o.XpG().ngIf;o.R7$(),o.Y8G("ngIf",n.invalid)}}function MH(a,r){if(1&a&&(o.j41(0,"p",12),o.EFF(1),o.k0s()),2&a){var n=o.XpG(5);o.Y8G("ngClass",n.getClassNames("emptyWarning")),o.R7$(),o.SpI(" ",n.emptyMessage," ")}}function IH(a,r){if(1&a&&o.DNE(0,MH,2,2,"p",16),2&a){var n=o.XpG().ngIf;o.Y8G("ngIf",n.invalid)}}function VH(a,r){if(1&a&&(o.qex(0),o.j41(1,"li",12),o.DNE(2,FH,16,9,"ng-container",21)(3,kH,1,20,"query-builder",25)(4,TH,2,1,"ng-container",14)(5,IH,1,1,"ng-template",null,6,o.C5r),o.k0s(),o.bVm()),2&a){var n=r.ngIf,e=o.sdS(6),t=o.XpG(3);o.R7$(),o.Y8G("ngClass",t.getQueryItemClassName(n)),o.R7$(),o.Y8G("ngIf",!n.ruleset),o.R7$(),o.Y8G("ngIf",n.ruleset),o.R7$(),o.Y8G("ngIf",t.getEmptyWarningTemplate())("ngIfElse",e)}}function NH(a,r){if(1&a&&(o.qex(0),o.DNE(1,VH,7,5,"ng-container",21),o.bVm()),2&a){var n=r.$implicit,e=o.XpG(2);o.R7$(),o.Y8G("ngIf",o.l_i(1,Uz,!!n.rules,!e.config.allowEmptyRulesets&&n.rules&&0===n.rules.length))}}function OH(a,r){if(1&a&&(o.j41(0,"ul",12),o.DNE(1,NH,2,4,"ng-container",24),o.k0s()),2&a){var n=o.XpG();o.Y8G("ngClass",n.getClassNames("tree")),o.R7$(),o.Y8G("ngForOf",n.data.rules)}}var BH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryOperator",""]],standalone:!1}),r}(),LH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryField",""]],standalone:!1}),r}(),UH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryEntity",""]],standalone:!1}),r}(),GH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","querySwitchGroup",""]],standalone:!1}),r}(),jH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryButtonGroup",""]],standalone:!1}),r}(),$H=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e},[{key:"queryInputType",get:function(){return this._type},set:function(t){t&&(this._type=t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"},standalone:!1}),r}(),zH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryRemoveButton",""]],standalone:!1}),r}(),HH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryEmptyWarning",""]],standalone:!1}),r}(),KH=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.template=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.C4Q))},a.\u0275dir=o.FsC({type:a,selectors:[["","queryArrowIcon",""]],standalone:!1}),r}(),XH={provide:h.kq,useExisting:(0,f.Rfq)(function(){return h_}),multi:!0},qH={provide:h.cz,useExisting:(0,f.Rfq)(function(){return h_}),multi:!0},h_=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.changeDetectorRef=e,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.disabled=!1,this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.classNames={},this.operatorMap={},this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.operatorsCache={},this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return t.disabled},this.fields=[],this.filterFields=[],this.entities=[]},[{key:"condition",get:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.condition}},{key:"ngOnChanges",value:function(t){var s=this.config,u=typeof s;if("object"!==u)throw new Error("Expected 'config' must be a valid object, got ".concat(u," instead."));this.fields=Object.keys(s.fields).map(function(l){var c=s.fields[l];return c.value=c.value||l,c}),this.entities=s.entities?Object.keys(s.entities).map(function(l){var c=s.entities?s.entities[l]:[];return c.value=c.value||l,c}):[],this.operatorsCache={}}},{key:"validate",value:function(t){var s={},u=[],l=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(s.empty="Empty rulesets are not allowed.",l=!0),this.validateRulesInRuleset(this.data,u),u.length&&(s.rules=u,l=!0),l?s:null}},{key:"value",get:function(){return this.data},set:function(t){this.data=t||{condition:"and",rules:[]},this.handleDataChange()}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){var s=this;this.onChangeCallback=function(){return t(s.data)}}},{key:"registerOnTouched",value:function(t){var s=this;this.onTouchedCallback=function(){return t(s.data)}}},{key:"setDisabledState",value:function(t){this.disabled=t,this.changeDetectorRef.detectChanges()}},{key:"findTemplateForRule",value:function(t){var s=this.getInputType(t.field,t.operator);if(s){var u=this.findQueryInput(s);return u?u.template:(-1===this.defaultTemplateTypes.indexOf(s)&&console.warn("Could not find template for field with type: ".concat(s)),null)}}},{key:"findQueryInput",value:function(t){return(this.parentInputTemplates||this.inputTemplates||[]).find(function(u){return u.queryInputType===t})}},{key:"getOperators",value:function(t){if(this.operatorsCache[t])return this.operatorsCache[t];var s=this.defaultEmptyList,u=this.config.fields[t];if(this.config.getOperators)return this.config.getOperators(t,u);var l=u.type;return u&&u.operators?s=u.operators:l?(0===(s=this.operatorMap&&this.operatorMap[l]||this.defaultOperatorMap[l]||this.defaultEmptyList).length&&console.warn("No operators found for field '".concat(t,"' with type ").concat(u.type,". ")+"Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),u.nullable&&(s=s.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '".concat(t,"'")),this.operatorsCache[t]=s,s}},{key:"getFields",value:function(t){var s;return null!==(s=this.entities)&&void 0!==s&&s.length&&t?this.fields.filter(function(u){return u&&u.entity===t}):this.fields}},{key:"getInputType",value:function(t,s){if(this.config.getInputType)return this.config.getInputType(t,s);if(!this.config.fields[t])throw new Error("No configuration for field '".concat(t,"' could be found! Please add it to config.fields."));var u=this.config.fields[t].type;switch(s){case"is null":case"is not null":return null;case"in":case"not in":return"category"===u||"boolean"===u?"multiselect":u;default:return u}}},{key:"getOptions",value:function(t){return this.config.getOptions?this.config.getOptions(t):this.config.fields[t].options||this.defaultEmptyList}},{key:"getClassNames",value:function(){for(var t=this.classNames?this.classNames:this.defaultClassNames,s=this.defaultClassNames,u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var p=l.map(function(m){return t[m]||s[m]}).filter(function(m){return!!m});return p.length?p.join(" "):[]}},{key:"getDefaultField",value:function(t){if(t){if(void 0!==t.defaultField)return this.getDefaultValue(t.defaultField);var s=this.fields.filter(function(u){return u&&u.entity===t.value});return s&&s.length?s[0]:(console.warn("No fields found for entity '".concat(t.name,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null}},{key:"getDefaultOperator",value:function(t){if(t&&void 0!==t.defaultOperator)return this.getDefaultValue(t.defaultOperator);var s=this.getOperators(t.value);return s&&s.length?s[0]:(console.warn("No operators found for field '".concat(t.value,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}},{key:"addRule",value:function(t){if(!this.disabled){if(t=t||this.data,this.config.addRule)this.config.addRule(t);else{var s=this.fields[0];t.rules=t.rules.concat([{field:s.value,operator:this.getDefaultOperator(s),value:this.getDefaultValue(s.defaultValue),entity:s.entity}])}this.handleTouched(),this.handleDataChange()}}},{key:"removeRule",value:function(t,s){this.disabled||(s=s||this.data,this.config.removeRule?this.config.removeRule(t,s):s.rules=s.rules.filter(function(u){return u!==t}),this.inputContextCache.delete(t),this.operatorContextCache.delete(t),this.fieldContextCache.delete(t),this.entityContextCache.delete(t),this.removeButtonContextCache.delete(t),this.handleTouched(),this.handleDataChange())}},{key:"addRuleSet",value:function(t){this.disabled||(t=t||this.data,this.config.addRuleSet?this.config.addRuleSet(t):t.rules=t.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())}},{key:"removeRuleSet",value:function(t,s){this.disabled||(t=t||this.data,s=s||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(t,s):s&&(s.rules=s.rules.filter(function(u){return u!==t})),this.handleTouched(),this.handleDataChange())}},{key:"transitionEnd",value:function(t){this.treeContainer.nativeElement.style.maxHeight=null}},{key:"toggleCollapse",value:function(){var t=this;this.computedTreeContainerHeight(),setTimeout(function(){t.data.collapsed=!t.data.collapsed},100)}},{key:"computedTreeContainerHeight",value:function(){var t=this.treeContainer.nativeElement;t&&t.firstElementChild&&(t.style.maxHeight=t.firstElementChild.clientHeight+8+"px")}},{key:"changeCondition",value:function(t){this.disabled||(this.data.condition=t,this.handleTouched(),this.handleDataChange())}},{key:"changeOperator",value:function(t){this.disabled||(t.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(t.operator,t.value,t):this.coerceValueForOperator(t.operator,t.value,t),this.handleTouched(),this.handleDataChange())}},{key:"coerceValueForOperator",value:function(t,s,u){return"multiselect"!==this.getInputType(u.field,t)||Array.isArray(s)?s:[s]}},{key:"changeInput",value:function(){this.disabled||(this.handleTouched(),this.handleDataChange())}},{key:"changeField",value:function(t,s){if(!this.disabled){var u=this.inputContextCache.get(s),c=this.config.fields[t],p=this.calculateFieldChangeValue(u&&u.field,c,s.value);void 0!==p?s.value=p:delete s.value,s.operator=this.getDefaultOperator(c),this.inputContextCache.delete(s),this.operatorContextCache.delete(s),this.fieldContextCache.delete(s),this.entityContextCache.delete(s),this.getInputContext(s),this.getFieldContext(s),this.getOperatorContext(s),this.getEntityContext(s),this.handleTouched(),this.handleDataChange()}}},{key:"changeEntity",value:function(t,s,u,l){if(!this.disabled){var c=u,p=l,m=this.entities.find(function(x){return x.value===t}),y=this.getDefaultField(m);p||(c=(p=this.data).rules.findIndex(function(x){return x===s})),s.field=y.value,p.rules[c]=s,y?this.changeField(y.value,s):(this.handleTouched(),this.handleDataChange())}}},{key:"getDefaultValue",value:function(t){return"function"==typeof t?t():t}},{key:"getOperatorTemplate",value:function(){var t=this.parentOperatorTemplate||this.operatorTemplate;return t?t.template:null}},{key:"getFieldTemplate",value:function(){var t=this.parentFieldTemplate||this.fieldTemplate;return t?t.template:null}},{key:"getEntityTemplate",value:function(){var t=this.parentEntityTemplate||this.entityTemplate;return t?t.template:null}},{key:"getArrowIconTemplate",value:function(){var t=this.parentArrowIconTemplate||this.arrowIconTemplate;return t?t.template:null}},{key:"getButtonGroupTemplate",value:function(){var t=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return t?t.template:null}},{key:"getSwitchGroupTemplate",value:function(){var t=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return t?t.template:null}},{key:"getRemoveButtonTemplate",value:function(){var t=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return t?t.template:null}},{key:"getEmptyWarningTemplate",value:function(){var t=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return t?t.template:null}},{key:"getQueryItemClassName",value:function(t){var s=this.getClassNames("row","connector","transition");return s+=" "+this.getClassNames(t.ruleset?"ruleSet":"rule"),t.invalid&&(s+=" "+this.getClassNames("invalidRuleSet")),s}},{key:"getButtonGroupContext",value:function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext}},{key:"getRemoveButtonContext",value:function(t){return this.removeButtonContextCache.has(t)||this.removeButtonContextCache.set(t,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:t}),this.removeButtonContextCache.get(t)}},{key:"getFieldContext",value:function(t){return this.fieldContextCache.has(t)||this.fieldContextCache.set(t,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:t}),this.fieldContextCache.get(t)}},{key:"getEntityContext",value:function(t){return this.entityContextCache.has(t)||this.entityContextCache.set(t,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:t}),this.entityContextCache.get(t)}},{key:"getSwitchGroupContext",value:function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getArrowIconContext",value:function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getEmptyWarningContext",value:function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}}},{key:"getOperatorContext",value:function(t){return this.operatorContextCache.has(t)||this.operatorContextCache.set(t,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(t.field),$implicit:t}),this.operatorContextCache.get(t)}},{key:"getInputContext",value:function(t){return this.inputContextCache.has(t)||this.inputContextCache.set(t,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(t.field),field:this.config.fields[t.field],$implicit:t}),this.inputContextCache.get(t)}},{key:"calculateFieldChangeValue",value:function(t,s,u){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(t,s,u):this.persistValueOnFieldChange&&null!=t&&null!=s&&t.type===s.type&&-1!==this.defaultPersistValueTypes.indexOf(t.type)?u:s&&void 0!==s.defaultValue?this.getDefaultValue(s.defaultValue):void 0}},{key:"checkEmptyRuleInRuleset",value:function(t){var s=this;return!t||!t.rules||0===t.rules.length||t.rules.some(function(u){return!!u.rules&&s.checkEmptyRuleInRuleset(u)})}},{key:"validateRulesInRuleset",value:function(t,s){var u=this;t&&t.rules&&t.rules.length>0&&t.rules.forEach(function(l){if(l.rules)return u.validateRulesInRuleset(l,s);if(l.field){var c=u.config.fields[l.field];if(c&&c.validator){var p=c.validator(l,t);null!=p&&s.push(p)}}})}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()}},{key:"handleTouched",value:function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(G.gRc))},a.\u0275cmp=o.VBU({type:a,selectors:[["query-builder"]],contentQueries:function(e,t,s){var u;1&e&&(o.wni(s,jH,5),o.wni(s,GH,5),o.wni(s,LH,5),o.wni(s,UH,5),o.wni(s,BH,5),o.wni(s,zH,5),o.wni(s,HH,5),o.wni(s,KH,5),o.wni(s,$H,5)),2&e&&(o.mGM(u=o.lsd())&&(t.buttonGroupTemplate=u.first),o.mGM(u=o.lsd())&&(t.switchGroupTemplate=u.first),o.mGM(u=o.lsd())&&(t.fieldTemplate=u.first),o.mGM(u=o.lsd())&&(t.entityTemplate=u.first),o.mGM(u=o.lsd())&&(t.operatorTemplate=u.first),o.mGM(u=o.lsd())&&(t.removeButtonTemplate=u.first),o.mGM(u=o.lsd())&&(t.emptyWarningTemplate=u.first),o.mGM(u=o.lsd())&&(t.arrowIconTemplate=u.first),o.mGM(u=o.lsd())&&(t.inputTemplates=u))},viewQuery:function(e,t){var s;1&e&&o.GBs(Lz,7),2&e&&o.mGM(s=o.lsd())&&(t.treeContainer=s.first)},hostVars:1,hostBindings:function(e,t){2&e&&o.BMQ("query-builder-condition",t.condition)},inputs:{disabled:"disabled",data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",config:"config",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value"},standalone:!1,features:[o.Jv_([XH,qH]),o.OA$],decls:13,vars:8,consts:[["defaultArrowIcon",""],["defaultButtonGroup",""],["defaultSwitchGroup",""],["treeContainer",""],["andOption",""],["orOption",""],["defaultEmptyWarning",""],["defaultRemoveButton",""],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"transitionend","ngClass"],[3,"ngClass",4,"ngIf"],[3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"click","ngClass","disabled"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngModelChange","ngClass","ngModel","disabled"],["type","radio","value","or",3,"ngModelChange","ngClass","ngModel","disabled"],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["class","q-inline-block-display",4,"ngIf"],[1,"q-inline-block-display"],[3,"ngModelChange","ngClass","ngModel","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngModelChange","ngClass","ngModel","disabled"],["type","number",3,"ngModelChange","ngClass","ngModel","disabled"],["type","date",3,"ngModelChange","ngClass","ngModel","disabled"],["type","time",3,"ngModelChange","ngClass","ngModel","disabled"],["multiple","",3,"ngModelChange","ngClass","ngModel","disabled"],["type","checkbox",3,"ngModelChange","ngClass","ngModel","disabled"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(e,t){if(1&e){var s=o.RV6();o.j41(0,"div",12),o.DNE(1,Gz,1,1,"ng-template",null,0,o.C5r)(3,zz,2,3,"a",13)(4,Kz,3,3,"ng-container",14)(5,Wz,6,6,"ng-template",null,1,o.C5r)(7,Qz,2,2,"ng-container",14)(8,Zz,1,1,"ng-template",null,2,o.C5r),o.k0s(),o.j41(10,"div",15,3),o.bIt("transitionend",function(p){return f.eBV(s),f.Njj(t.transitionEnd(p))}),o.DNE(12,OH,2,2,"ul",16),o.k0s()}if(2&e){var u=o.sdS(6),l=o.sdS(9);o.Y8G("ngClass",t.getClassNames("switchRow")),o.R7$(3),o.Y8G("ngIf",t.allowCollapse),o.R7$(),o.Y8G("ngIf",t.getButtonGroupTemplate())("ngIfElse",u),o.R7$(3),o.Y8G("ngIf",t.getSwitchGroupTemplate())("ngIfElse",l),o.R7$(3),o.Y8G("ngClass",t.getClassNames("treeContainer",t.data.collapsed?"collapsed":"")),o.R7$(2),o.Y8G("ngIf",t.data&&t.data.rules)}},dependencies:[k.YU,k.Sq,k.bT,k.T3,k.ux,k.e1,h.xH,h.y7,h.me,h.Q0,h.Zm,h.wz,h.W0,h.Fm,h.BC,h.vS,a],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]:before{content:"\\274c"}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;transform:rotate(90deg);transition:linear .25s transform;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]:before{content:"\\25b6"}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]:before{content:"\\2795"}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%]{font-family:Lucida Grande,Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto;min-width:180px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]){min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid rgb(97,158,215);background:#fff;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:#b3415d1a!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #ccc}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #ccc;background:#fff}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{-webkit-transition:all .1s ease-in-out;-moz-transition:all .1s ease-in-out;-ms-transition:all .1s ease-in-out;-o-transition:all .1s ease-in-out;transition:all .1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;transition:ease-in .25s max-height}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{content:"";left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child:after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}']}),r}(),WH=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN]}),r}(),fw=["*"];function YH(a,r){if(1&a&&o.nrm(0,"div",0),2&a){var n=r.$index,e=o.XpG();o.Y8G("ngStyle",e.gridRenderer.getGridColumnStyle(n))}}function QH(a,r){if(1&a&&o.nrm(0,"div",1),2&a){var n=r.$index,e=o.XpG();o.Y8G("ngStyle",e.gridRenderer.getGridRowStyle(n))}}function JH(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",8),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function ZH(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",9),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function eK(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",10),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function tK(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",11),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function nK(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",12),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function rK(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",13),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function aK(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",14),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}function iK(a,r){if(1&a){var n=o.RV6();o.rj2(0,"div",15),o.VwU("mousedown",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))})("touchstart",function(t){f.eBV(n);var s=o.XpG();return f.Njj(s.resize.dragStartDelay(t))}),o.eux()}}var nf,rf,ao,af,ss,sf,uf,lf,cf,Ln=function(a){return a.Fit="fit",a.ScrollVertical="scrollVertical",a.ScrollHorizontal="scrollHorizontal",a.Fixed="fixed",a.VerticalFixed="verticalFixed",a.HorizontalFixed="horizontalFixed",a}(Ln||{}),g_=function(a){return a.Always="always",a.OnDragAndResize="onDrag&Resize",a.None="none",a}(g_||{}),nr=function(a){return a.None="none",a.CompactUp="compactUp",a.CompactLeft="compactLeft",a.CompactUpAndLeft="compactUp&Left",a.CompactLeftAndUp="compactLeft&Up",a.CompactRight="compactRight",a.CompactUpAndRight="compactUp&Right",a.CompactRightAndUp="compactRight&Up",a.CompactDown="compactDown",a.CompactDownAndLeft="compactDown&Left",a.CompactLeftAndDown="compactLeft&Down",a.CompactDownAndRight="compactDown&Right",a.CompactRightAndDown="compactRight&Down",a.CompactGrid="compactGrid",a}(nr||{}),ba=function(a){return a.LTR="ltr",a.RTL="rtl",a}(ba||{}),oK=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"gridster",void 0),this.gridster=r},[{key:"destroy",value:function(){this.gridster=null}},{key:"checkCompact",value:function(){this.gridster.$options.compactType!==nr.None&&(this.gridster.$options.compactType===nr.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===nr.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===nr.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===nr.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===nr.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===nr.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===nr.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===nr.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===nr.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===nr.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===nr.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===nr.CompactRightAndDown?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===nr.CompactGrid&&this.checkCompactGrid())}},{key:"checkCompactItem",value:function(n){this.gridster.$options.compactType!==nr.None&&(this.gridster.$options.compactType===nr.CompactUp?this.moveTillCollision(n,"y",-1):this.gridster.$options.compactType===nr.CompactLeft?this.moveTillCollision(n,"x",-1):this.gridster.$options.compactType===nr.CompactUpAndLeft?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===nr.CompactLeftAndUp?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",-1)):this.gridster.$options.compactType===nr.CompactUpAndRight?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===nr.CompactDown?this.moveTillCollision(n,"y",1):this.gridster.$options.compactType===nr.CompactDownAndLeft?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===nr.CompactLeftAndDown?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===nr.CompactDownAndRight?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===nr.CompactRightAndDown?(this.moveTillCollision(n,"x",1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===nr.CompactGrid&&this.moveToGridPosition(n))}},{key:"checkCompactMovement",value:function(n,e){var t=this,s=!1;this.gridster.grid.forEach(function(u){!1!==u.$item.compactEnabled&&t.moveTillCollision(u.$item,n,e)&&(s=!0,u.item[n]=u.$item[n],u.itemChanged())}),s&&this.checkCompact()}},{key:"moveTillCollision",value:function(n,e,t){return n[e]+=t,this.gridster.checkCollision(n)?(n[e]-=t,!1):(this.moveTillCollision(n,e,t),!0)}},{key:"checkCompactGrid",value:function(){var n=this,e=this.gridster.grid.filter(function(l){return!1!==l.$item.compactEnabled}).sort(function(l,c){return l.$item.y!==c.$item.y?l.$item.y-c.$item.y:l.$item.x-c.$item.x}),t=0,s=0,u=0;e.forEach(function(l){var c=l.$item;s+c.cols>n.gridster.columns&&(s=0,u=t=u);var p=c.x,m=c.y;c.x=s,c.y=t,(p!==c.x||m!==c.y)&&(l.item.x=c.x,l.item.y=c.y,l.itemChanged()),s+=c.cols,u=Math.max(u,t+c.rows)})}},{key:"moveToGridPosition",value:function(n){var c,e=0,t=0,s=0,u=this.gridster.grid.filter(function(y){return y.$item!==n}).sort(function(y,x){return y.$item.y!==x.$item.y?y.$item.y-x.$item.y:y.$item.x-x.$item.x}),l=(0,j.A)(u);try{for(l.s();!(c=l.n()).done;){var m=c.value.$item;t+m.cols>this.gridster.columns&&(t=0,s=e=s),e<m.y+m.rows&&e+n.rows>m.y&&t<m.x+m.cols&&t+n.cols>m.x?(t=m.x+m.cols,e=m.y,s=Math.max(s,e+m.rows)):(t+=m.cols,s=Math.max(s,e+m.rows))}}catch(y){l.e(y)}finally{l.f()}t+n.cols>this.gridster.columns&&(e=s,t=0),n.x=t,n.y=e}}])}(),sK={gridType:Ln.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:nr.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,itemAspectRatio:void 0,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:g_.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:ba.LTR},li=function(){function a(){(0,v.A)(this,a)}return(0,g.A)(a,null,[{key:"merge",value:function(n,e,t){for(var s in e)void 0!==e[s]&&t.hasOwnProperty(s)&&("object"==typeof e[s]?(s in n||(n[s]={}),n[s]=a.merge(n[s],e[s],t[s])):n[s]=e[s]);return n}},{key:"checkTouchEvent",value:function(n){void 0===n.clientX&&n.touches&&(n.touches&&n.touches.length?(n.clientX=n.touches[0].clientX,n.clientY=n.touches[0].clientY):n.changedTouches&&n.changedTouches.length&&(n.clientX=n.changedTouches[0].clientX,n.clientY=n.changedTouches[0].clientY))}},{key:"checkContentClassForEvent",value:function(n,e){if(n.$options.draggable.ignoreContent){if(!a.checkDragHandleClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass,n.$options.draggable.ignoreContentClass))return!0}else if(a.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass))return!0;return!1}},{key:"checkContentClassForEmptyCellClickEvent",value:function(n,e){return a.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass)||a.checkContentClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass)}},{key:"checkDragHandleClass",value:function(n,e,t,s){if(!n||n===e)return!1;if(n.hasAttribute("class")){var u=n.getAttribute("class").split(" ");if(u.indexOf(t)>-1)return!0;if(u.indexOf(s)>-1)return!1}return a.checkDragHandleClass(n.parentNode,e,t,s)}},{key:"checkContentClass",value:function(n,e,t){return!(!n||n===e)&&(!!(n.hasAttribute("class")&&n.getAttribute("class").split(" ").indexOf(t)>-1)||a.checkContentClass(n.parentNode,e,t))}},{key:"compareItems",value:function(n,e){return n.y>e.y?-1:n.y<e.y?1:n.x>e.x?-1:1}}])}(),uK=function(){return(0,g.A)(function a(r){var n=this;(0,v.A)(this,a),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"initialItem",void 0),(0,d.A)(this,"removeEmptyCellClickListenerFn",void 0),(0,d.A)(this,"removeEmptyCellTouchendListenerFn",void 0),(0,d.A)(this,"removeEmptyCellContextMenuListenerFn",void 0),(0,d.A)(this,"removeEmptyCellDropListenerFn",void 0),(0,d.A)(this,"removeEmptyCellMousedownListenerFn",void 0),(0,d.A)(this,"removeEmptyCellTouchstartListenerFn",void 0),(0,d.A)(this,"removeWindowMousemoveListenerFn",void 0),(0,d.A)(this,"removeWindowTouchmoveListenerFn",void 0),(0,d.A)(this,"removeWindowMouseupListenerFn",void 0),(0,d.A)(this,"removeWindowTouchendListenerFn",void 0),(0,d.A)(this,"removeEmptyCellDragoverListenerFn",void 0),(0,d.A)(this,"removeDocumentDragendListenerFn",void 0),(0,d.A)(this,"emptyCellClickCb",function(e){if(n.gridster&&!n.gridster.movingItem&&!li.checkContentClassForEmptyCellClickEvent(n.gridster,e)){var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellClickCallback&&n.gridster.options.emptyCellClickCallback(e,t),n.gridster.cdRef.markForCheck())}}),(0,d.A)(this,"emptyCellContextMenuCb",function(e){if(!n.gridster.movingItem&&!li.checkContentClassForEmptyCellClickEvent(n.gridster,e)){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellContextMenuCallback&&n.gridster.options.emptyCellContextMenuCallback(e,t),n.gridster.cdRef.markForCheck())}}),(0,d.A)(this,"emptyCellDragDrop",function(e){var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellDropCallback&&n.gridster.options.emptyCellDropCallback(e,t),n.gridster.cdRef.markForCheck())}),(0,d.A)(this,"emptyCellDragOver",function(e){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);t?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),n.gridster.movingItem=t):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),n.gridster.movingItem=null),n.gridster.previewStyle()}),(0,d.A)(this,"emptyCellMouseDown",function(e){if(!li.checkContentClassForEmptyCellClickEvent(n.gridster,e)){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);!t||1!==e.buttons&&!(e instanceof TouchEvent)||(n.initialItem=t,n.gridster.movingItem=t,n.gridster.previewStyle(),n.gridster.zone.runOutsideAngular(function(){n.removeWindowMousemoveListenerFn=n.gridster.renderer.listen("window","mousemove",n.emptyCellMouseMove),n.removeWindowTouchmoveListenerFn=n.gridster.renderer.listen("window","touchmove",n.emptyCellMouseMove)}),n.removeWindowMouseupListenerFn=n.gridster.renderer.listen("window","mouseup",n.emptyCellMouseUp),n.removeWindowTouchendListenerFn=n.gridster.renderer.listen("window","touchend",n.emptyCellMouseUp))}}),(0,d.A)(this,"emptyCellMouseMove",function(e){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e,n.initialItem);t&&(n.gridster.movingItem=t,n.gridster.previewStyle())}),(0,d.A)(this,"emptyCellMouseUp",function(e){n.removeWindowMousemoveListenerFn(),n.removeWindowTouchmoveListenerFn(),n.removeWindowMouseupListenerFn(),n.removeWindowTouchendListenerFn();var t=n.getValidItemFromEvent(e,n.initialItem);t&&(n.gridster.movingItem=t),n.gridster.options.emptyCellDragCallback&&n.gridster.movingItem&&n.gridster.options.emptyCellDragCallback(e,n.gridster.movingItem),setTimeout(function(){n.initialItem=null,n.gridster&&(n.gridster.movingItem=null,n.gridster.previewStyle())}),n.gridster.cdRef.markForCheck()}),this.gridster=r},[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}},{key:"updateOptions",value:function(){var n=this;this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(function(){n.removeEmptyCellDragoverListenerFn=n.gridster.renderer.listen(n.gridster.el,"dragover",n.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",function(){n.gridster.movingItem=null,n.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}},{key:"getPixelsX",value:function(n,e){var t=this.gridster.options.scale;return t?(n.clientX-e.left)/t+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():n.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}},{key:"getPixelsY",value:function(n,e){var t=this.gridster.options.scale;return t?(n.clientY-e.top)/t+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():n.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}},{key:"getValidItemFromEvent",value:function(n,e){n.preventDefault(),n.stopPropagation(),li.checkTouchEvent(n);var t=this.gridster.el.getBoundingClientRect(),s=this.getPixelsX(n,t),u=this.getPixelsY(n,t),l={x:this.gridster.pixelsToPositionX(s,Math.floor,!0),y:this.gridster.pixelsToPositionY(u,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(l.cols=Math.min(Math.abs(e.x-l.x)+1,this.gridster.$options.emptyCellDragMaxCols),l.rows=Math.min(Math.abs(e.y-l.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<l.x?l.x=e.x:e.x-l.x>this.gridster.$options.emptyCellDragMaxCols-1&&(l.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<l.y?l.y=e.y:e.y-l.y>this.gridster.$options.emptyCellDragMaxRows-1&&(l.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(l))return l}}])}(),lK=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"lastGridColumnStyles",{}),(0,d.A)(this,"lastGridRowStyles",{}),this.gridster=r},[{key:"destroy",value:function(){this.gridster=null}},{key:"updateItem",value:function(n,e,t){if(this.gridster.mobile)this.clearCellPosition(t,n),t.setStyle(n,"height",this.gridster.$options.keepFixedHeightInMobile?(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px":e.rows*this.gridster.curWidth/e.cols+"px"),t.setStyle(n,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),t.setStyle(n,"margin-bottom",this.gridster.$options.margin+"px"),t.setStyle(n,ba.LTR?"margin-right":"margin-left","");else{var s=Math.round(this.gridster.curColWidth*e.x),u=Math.round(this.gridster.curRowHeight*e.y),l=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,c=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(t,n,s,u),t.setStyle(n,"width",l+"px"),t.setStyle(n,"height",c+"px");var p=null,m=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(p=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(m=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),t.setStyle(n,"margin-bottom",p),t.setStyle(n,this.gridster.$options.dirType===ba.LTR?"margin-right":"margin-left",m)}}},{key:"updateGridster",value:function(){var n="",e="",t="",s="";if(this.gridster.$options.gridType===Ln.Fit)n=Ln.Fit,e=Ln.ScrollVertical,t=Ln.ScrollHorizontal,s=Ln.Fixed;else if(this.gridster.$options.gridType===Ln.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,n=Ln.ScrollVertical,e=Ln.Fit,t=Ln.ScrollHorizontal,s=Ln.Fixed;else if(this.gridster.$options.gridType===Ln.ScrollHorizontal){var u=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(u>=1?u:u+1),n=Ln.ScrollHorizontal,e=Ln.Fit,t=Ln.ScrollVertical,s=Ln.Fixed}else this.gridster.$options.gridType===Ln.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Ln.Fixed,e=Ln.Fit,t=Ln.ScrollVertical,s=Ln.ScrollHorizontal):this.gridster.$options.gridType===Ln.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Ln.ScrollVertical,e=Ln.Fit,t=Ln.ScrollHorizontal,s=Ln.Fixed):this.gridster.$options.gridType===Ln.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Ln.ScrollHorizontal,e=Ln.Fit,t=Ln.ScrollVertical,s=Ln.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==Ln.Fit?this.gridster.renderer.removeClass(this.gridster.el,n):this.gridster.renderer.addClass(this.gridster.el,n),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,s)}},{key:"getGridColumnStyle",value:function(n){var e={left:this.gridster.curColWidth*n,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,_.A)((0,_.A)({},this.getLeftPosition(e.left)),{},{width:e.width+"px",height:e.height+"px"});var t=this.lastGridColumnStyles[n];return t&&t.left===e.left&&t.width===e.width&&t.height===e.height?t.style:(this.lastGridColumnStyles[n]=e,e.style)}},{key:"getGridRowStyle",value:function(n){var e={top:this.gridster.curRowHeight*n,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,_.A)((0,_.A)({},this.getTopPosition(e.top)),{},{width:e.width+"px",height:e.height+"px"});var t=this.lastGridRowStyles[n];return t&&t.top===e.top&&t.width===e.width&&t.height===e.height?t.style:(this.lastGridRowStyles[n]=e,e.style)}},{key:"getLeftPosition",value:function(n){var e=this.gridster.$options.dirType===ba.RTL?-n:n;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}},{key:"getTopPosition",value:function(n){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+n+"px)"}:{top:this.getTopMargin()+n+"px"}}},{key:"clearCellPosition",value:function(n,e){this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform",""):(n.setStyle(e,"top",""),n.setStyle(e,"left",""))}},{key:"setCellPosition",value:function(n,e,t,s){var u=this.gridster.$options.dirType===ba.RTL?-t:t;this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform","translate3d("+u+"px, "+s+"px, 0)"):(n.setStyle(e,"left",this.getLeftMargin()+u+"px"),n.setStyle(e,"top",this.getTopMargin()+s+"px"))}},{key:"getLeftMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}},{key:"getTopMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}])}(),cK=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),(0,d.A)(this,"renderer",void 0),(0,d.A)(this,"previewStyle$",void 0),(0,d.A)(this,"gridRenderer",void 0),(0,d.A)(this,"el",void 0),(0,d.A)(this,"sub",void 0),this.renderer=t,this.el=e.nativeElement},[{key:"ngOnInit",value:function(){var t=this;this.sub=this.previewStyle$.subscribe(function(s){return t.previewStyle(s)})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"previewStyle",value:function(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(o.rXU(o.aKT),o.rXU(o.sFG))}),(0,d.A)(r,"\u0275cmp",o.VBU({type:a,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(e,t){},styles:["gridster-preview{position:absolute;display:none;background:#00000026}\n"],encapsulation:2})),r}(),v_=function(){var a,r=function(){function n(e,t,s,u){var l=this;(0,v.A)(this,n),(0,d.A)(this,"renderer",void 0),(0,d.A)(this,"cdRef",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"options",void 0),(0,d.A)(this,"movingItem",void 0),(0,d.A)(this,"el",void 0),(0,d.A)(this,"$options",void 0),(0,d.A)(this,"mobile",void 0),(0,d.A)(this,"curWidth",void 0),(0,d.A)(this,"curHeight",void 0),(0,d.A)(this,"grid",void 0),(0,d.A)(this,"columns",0),(0,d.A)(this,"rows",0),(0,d.A)(this,"curColWidth",void 0),(0,d.A)(this,"curRowHeight",void 0),(0,d.A)(this,"gridColumns",[]),(0,d.A)(this,"gridRows",[]),(0,d.A)(this,"windowResize",void 0),(0,d.A)(this,"dragInProgress",void 0),(0,d.A)(this,"emptyCell",void 0),(0,d.A)(this,"compact",void 0),(0,d.A)(this,"gridRenderer",void 0),(0,d.A)(this,"previewStyle$",new o.bkB),(0,d.A)(this,"calculateLayout$",new W.B),(0,d.A)(this,"resize$",new W.B),(0,d.A)(this,"destroy$",new W.B),(0,d.A)(this,"optionsChanged",function(){l.setOptions();for(var c=l.grid.length-1;c>=0;c--)l.grid[c].updateOptions();l.calculateLayout()}),(0,d.A)(this,"onResize",function(){l.el.clientWidth&&(l.options.setGridSize&&(l.renderer.setStyle(l.el,"width",""),l.renderer.setStyle(l.el,"height","")),l.setGridSize(),l.calculateLayout())}),(0,d.A)(this,"getNextPossiblePosition",function(c){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};-1===c.cols&&(c.cols=l.$options.defaultItemCols),-1===c.rows&&(c.rows=l.$options.defaultItemRows),l.setGridDimensions();for(var y,m=p.y||0;m<l.rows;m++)for(c.y=m,y=p.x||0;y<l.columns;y++)if(c.x=y,!l.checkCollision(c))return!0;var x=l.$options.maxRows>=l.rows+c.rows;return!(l.rows<=l.columns&&x)&&l.$options.maxCols>=l.columns+c.cols?(c.x=l.columns,c.y=0,!0):!!x&&(c.y=l.rows,c.x=0,!0)}),(0,d.A)(this,"getFirstPossiblePosition",function(c){var p=Object.assign({},c);return l.getNextPossiblePosition(p),p}),(0,d.A)(this,"getLastPossiblePosition",function(c){var p={y:0,x:0};p=l.grid.reduce(function(y,x){var D={y:x.$item.y+x.$item.rows-1,x:x.$item.x+x.$item.cols-1};return 1===li.compareItems(y,D)?D:y},p);var m=Object.assign({},c);return l.getNextPossiblePosition(m,p),m}),this.renderer=t,this.cdRef=s,this.zone=u,this.el=e.nativeElement,this.$options=JSON.parse(JSON.stringify(sK)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new uK(this),this.compact=new oK(this),this.gridRenderer=new lK(this)}return(0,g.A)(n,[{key:"checkCollisionTwoItems",value:function(t,s){if(!(t.x<s.x+s.cols&&t.x+t.cols>s.x&&t.y<s.y+s.rows&&t.y+t.rows>s.y))return!1;if(!this.$options.allowMultiLayer)return!0;var l=this.$options.defaultLayerIndex;return(void 0===t.layerIndex?l:t.layerIndex)===(void 0===s.layerIndex?l:s.layerIndex)}},{key:"ngOnInit",value:function(){var t=this;this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,zn.B)(0),(0,rr.Q)(this.destroy$)).subscribe(function(){return t.calculateLayout()}),this.resize$.pipe((0,We.n)(function(){return(0,oE.O)(100)}),(0,rr.Q)(this.destroy$)).subscribe(function(){return t.resize()})}},{key:"ngOnChanges",value:function(t){var s=this;t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:function(l){return s.getItemComponent(l)}},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}},{key:"resize",value:function(){var t,s;"fit"!==this.$options.gridType||this.mobile?(s=this.el.clientWidth,t=this.el.clientHeight):(s=this.el.offsetWidth,t=this.el.offsetHeight),(s!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}},{key:"setOptions",value:function(){this.$options=li.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}},{key:"checkIfToResize",value:function(){var t=this.el.clientWidth,s=this.el.offsetWidth,u=this.el.scrollWidth,l=this.el.clientHeight,c=this.el.offsetHeight,p=this.el.scrollHeight;return!(t<s&&p>c&&p-c<s-t||l<c&&u>s&&u-s<c-l)}},{key:"checkIfMobile",value:function(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}},{key:"setGridSize",value:function(){var s,u,t=this.el;this.$options.setGridSize||this.$options.gridType===Ln.Fit&&!this.mobile?(s=t.offsetWidth,u=t.offsetHeight):(s=t.clientWidth,u=t.clientHeight),this.curWidth=s,this.curHeight=u}},{key:"setGridDimensions",value:function(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));for(var l,t=this.$options.minRows,s=this.$options.minCols,u=this.grid.length-1;u>=0;u--)(l=this.grid[u]).notPlaced||(t=Math.max(t,l.$item.y+l.$item.rows),s=Math.max(s,l.$item.x+l.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==s||this.rows!==t)&&(this.columns=s,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}},{key:"calculateLayout",value:function(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){var t=-this.$options.margin;null!==this.$options.outerMarginLeft?(t+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(t+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(t+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(t+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-t)/this.columns;var s=-this.$options.margin;null!==this.$options.outerMarginTop?(s+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(s+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-s)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();for(var l,u=this.grid.length-1;u>=0;u--)(l=this.grid[u]).setSize(),l.drag.toggle(),l.resize.toggle();this.resize$.next()}},{key:"updateGrid",value:function(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=n.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=n.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}},{key:"addItem",value:function(t){void 0===t.$item.cols&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),void 0===t.$item.rows&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),-1===t.$item.x||-1===t.$item.y?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayout$.next()}},{key:"removeItem",value:function(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}},{key:"checkCollision",value:function(t,s){var u=!1;if(this.options.itemValidateCallback&&(u=!this.options.itemValidateCallback(t)),!u&&this.checkGridCollision(t,s)&&(u=!0),!u){var l=this.findItemWithItem(t);l&&(u=l)}return u}},{key:"checkGridCollision",value:function(t){var $=!0;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var q=t.itemAspectRatio||this.$options.itemAspectRatio;q&&($=t.cols/t.rows===q)}var Ae=t.cols*t.rows;return!(t.y>-1&&t.x>-1&&t.cols+t.x<=this.$options.maxCols&&t.rows+t.y<=this.$options.maxRows&&$&&t.cols<=(void 0===t.maxItemCols?this.$options.maxItemCols:t.maxItemCols)&&t.cols>=(void 0===t.minItemCols?this.$options.minItemCols:t.minItemCols)&&t.rows<=(void 0===t.maxItemRows?this.$options.maxItemRows:t.maxItemRows)&&t.rows>=(void 0===t.minItemRows?this.$options.minItemRows:t.minItemRows)&&(void 0===t.minItemArea?this.$options.minItemArea:t.minItemArea)<=Ae&&(void 0===t.maxItemArea?this.$options.maxItemArea:t.maxItemArea)>=Ae)}},{key:"findItemWithItem",value:function(t){for(var u,s=0;s<this.grid.length;s++)if((u=this.grid[s]).$item!==t&&this.checkCollisionTwoItems(u.$item,t))return u;return!1}},{key:"findItemsWithItem",value:function(t){for(var l,s=[],u=0;u<this.grid.length;u++)(l=this.grid[u]).$item!==t&&this.checkCollisionTwoItems(l.$item,t)&&s.push(l);return s}},{key:"autoPositionItem",value:function(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}},{key:"pixelsToPositionX",value:function(t,s,u){var l=s(t/this.curColWidth);return u?l:Math.max(l,0)}},{key:"pixelsToPositionY",value:function(t,s,u){var l=s(t/this.curRowHeight);return u?l:Math.max(l,0)}},{key:"positionXToPixels",value:function(t){return t*this.curColWidth}},{key:"positionYToPixels",value:function(t){return t*this.curRowHeight}},{key:"getItemComponent",value:function(t){return this.grid.find(function(s){return s.item===t})}},{key:"checkCollisionForSwaping",value:function(t){var s=!1;if(this.options.itemValidateCallback&&(s=!this.options.itemValidateCallback(t)),!s&&this.checkGridCollision(t)&&(s=!0),!s){var u=this.findItemWithItemForSwapping(t);u&&(s=u)}return s}},{key:"findItemWithItemForSwapping",value:function(t){for(var u,s=this.grid.length-1;s>-1;s--)if((u=this.grid[s]).$item!==t&&n.checkCollisionTwoItemsForSwaping(u.$item,t))return u;return!1}},{key:"previewStyle",value:function(){this.movingItem?(this.compact&&arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}}],[{key:"checkCollisionTwoItemsForSwaping",value:function(t,s){return t.x+(1===t.cols?0:1)<s.x+s.cols&&t.x+t.cols>s.x+(1===s.cols?0:1)&&t.y+(1===t.rows?0:1)<s.y+s.rows&&t.y+t.rows>s.y+(1===s.rows?0:1)}},{key:"getNewArrayLength",value:function(t,s,u){var l=Math.max(t,Math.floor(s/u));return l<0?0:Number.isFinite(l)?Math.floor(l):0}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(G.gRc),o.rXU(o.SKi))}),(0,d.A)(r,"\u0275cmp",o.VBU({type:a,selectors:[["gridster"]],inputs:{options:"options"},features:[o.OA$],ngContentSelectors:fw,decls:6,vars:2,consts:[[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"]],template:function(e,t){1&e&&(o.NAR(),o.Z7z(0,YH,1,1,"div",0,o.Vm6),o.Z7z(2,QH,1,1,"div",1,o.Vm6),o.SdG(4),o.nrm(5,"gridster-preview",2)),2&e&&(o.Dyx(t.gridColumns),o.R7$(2),o.Dyx(t.gridRows),o.R7$(3),o.Y8G("gridRenderer",t.gridRenderer)("previewStyle$",t.previewStyle$))},dependencies:[k.B3,cK],styles:["gridster{position:relative;box-sizing:border-box;background:gray;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2})),r}(),pw=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"fromSouth",void 0),(0,d.A)(this,"fromNorth",void 0),(0,d.A)(this,"fromEast",void 0),(0,d.A)(this,"fromWest",void 0),(0,d.A)(this,"pushedItems",void 0),(0,d.A)(this,"pushedItemsTemp",void 0),(0,d.A)(this,"pushedItemsTempPath",void 0),(0,d.A)(this,"pushedItemsPath",void 0),(0,d.A)(this,"gridsterItem",void 0),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"pushedItemsOrder",void 0),(0,d.A)(this,"tryPattern",void 0),(0,d.A)(this,"iteration",0),this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=r,this.gridster=r.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(n,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;var t=this.push(this.gridsterItem,n);return t||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],t}return!1}},{key:"restoreTempItems",value:function(){for(var n=this.pushedItemsTemp.length-1;n>-1;n--)this.removeFromTempPushed(this.pushedItemsTemp[n])}},{key:"restoreItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).$item.x=t.item.x||0,t.$item.y=t.item.y||0,t.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).checkItemChanges(t.$item,t.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var n=this.pushedItems.length-1,e=!1;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(n,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(n.$item)||""===e)return!1;var t=this.gridster.findItemsWithItem(n.$item),s=e===this.fromNorth||e===this.fromWest;t.sort(function(x,D){return s?D.$item.y-x.$item.y||D.$item.x-x.$item.x:x.$item.y-D.$item.y||x.$item.x-D.$item.x});for(var l,u=0,c=!0,p=[];u<t.length;u++)if((l=t[u])!==this.gridsterItem){if(!l.canBeDragged()){c=!1;break}var m=this.pushedItemsTemp.indexOf(l);if(m>-1&&this.pushedItemsTempPath[m].length>10){c=!1;break}if(this.tryPattern[e][0].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][1].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][2].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else{if(!this.tryPattern[e][3].call(this,l,n)){c=!1;break}this.pushedItemsOrder.push(l),p.push(l)}}if(!c&&(u=this.pushedItemsOrder.lastIndexOf(p[0]))>-1)for(var y=this.pushedItemsOrder.length-1;y>=u;y--)l=this.pushedItemsOrder[y],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l);return this.iteration++,c}},{key:"trySouth",value:function(n,e){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(n),n.$item.y=e.$item.y+e.$item.rows,this.push(n,this.fromNorth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryNorth",value:function(n,e){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(n),n.$item.y=e.$item.y-n.$item.rows,this.push(n,this.fromSouth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryEast",value:function(n,e){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(n),n.$item.x=e.$item.x+e.$item.cols,this.push(n,this.fromWest)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryWest",value:function(n,e){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(n),n.$item.x=e.$item.x-n.$item.cols,this.push(n,this.fromEast)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"addToTempPushed",value:function(n){var e=this.pushedItemsTemp.indexOf(n);-1===e&&(e=this.pushedItemsTemp.push(n)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:n.$item.x,y:n.$item.y})}},{key:"removeFromTempPushed",value:function(n){var e=this.pushedItemsTemp.indexOf(n),t=this.pushedItemsTempPath[e].pop();t&&(n.$item.x=t.x,n.$item.y=t.y,n.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}},{key:"addToPushed",value:function(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0},{x:n.$item.x,y:n.$item.y}]);else{var e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y})}}},{key:"removeFromPushed",value:function(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}},{key:"removeFromPushedItem",value:function(n){var e=this.pushedItems.indexOf(n);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}},{key:"checkPushedItem",value:function(n,e){for(var u,l,c,t=this.pushedItemsPath[e],s=t.length-2,p=!1;s>-1;s--)l=n.$item.x,c=n.$item.y,n.$item.x=(u=t[s]).x,n.$item.y=u.y,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=c):(n.setSize(),t.splice(s+1,t.length-s-1),p=!0);return t.length<2&&this.removeFromPushed(e),p}}])}();function hw(a,r,n,e,t,s,u,l,c,p){nf=a.$options.scrollSensitivity,rf=a.$options.scrollSpeed,af=c,ss=p;var m=(ao=a.el).offsetWidth,x=ao.scrollLeft,D=ao.scrollTop,N=n-D,q=s.clientX,le=s.clientY;if(!a.$options.disableScrollVertical)if(u.clientY<le&&ao.offsetHeight+D-n-t<nf){if(Cw(),af&&ss&&!ss.south||cf)return;cf=gw(1,l,u)}else if(u.clientY>le&&D>0&&N<nf){if(Aw(),af&&ss&&!ss.north||lf)return;lf=gw(-1,l,u)}else u.clientY!==le&&__();var Ae=r-x;if(!a.$options.disableScrollHorizontal){var ge=a.$options.dirType===ba.RTL,ke=u.clientX<q,He=u.clientX>q,at=ge?ke:He;if((ge?He:ke)&&x+m-r-e<=nf){if(bw(),af&&ss&&!ss.east||sf)return;sf=vw(1,l,u,ge)}else if(at&&x>0&&Ae<nf){if(_w(),af&&ss&&!ss.west||uf)return;uf=vw(-1,l,u,ge)}else u.clientX!==q&&y_()}}function gw(a,r,n){var e=n.clientY;return window.setInterval(function(){(!ao||-1===a&&ao.scrollTop-rf<0)&&__(),ao.scrollTop+=a*rf,r({clientX:n.clientX,clientY:e+=a*rf})},50)}function vw(a,r,n,e){var t=n.clientX;return window.setInterval(function(){if(ao){var s=a*rf,u=e?-s:s;ao.scrollBy({left:u,behavior:"auto"}),r({clientX:t+=u,clientY:n.clientY})}else y_()},50)}function yw(){y_(),__(),ao=null}function y_(){_w(),bw()}function __(){Cw(),Aw()}function _w(){sf&&(clearInterval(sf),sf=0)}function bw(){uf&&(clearInterval(uf),uf=0)}function Aw(){cf&&(clearInterval(cf),cf=0)}function Cw(){lf&&(clearInterval(lf),lf=0)}var dK=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"swapedItem",void 0),(0,d.A)(this,"gridsterItem",void 0),(0,d.A)(this,"gridster",void 0),this.gridsterItem=r,this.gridster=r.gridster},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=this.swapedItem=null}},{key:"swapItems",value:function(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}},{key:"checkSwapBack",value:function(){if(this.swapedItem){var n=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=n,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}},{key:"restoreSwapItem",value:function(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}},{key:"setSwapItem",value:function(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}},{key:"checkSwap",value:function(n){var e;if((e=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(n.$item):this.gridster.checkCollision(n.$item))&&!0!==e&&e.canBeDragged()){var t=e,s=t.$item.x,u=t.$item.y,l=n.$item.x,c=n.$item.y,p=l-s,m=c-u;t.$item.x=n.item.x-p,t.$item.y=n.item.y-m,n.$item.x=t.item.x+p,n.$item.y=t.item.y+m,this.gridster.checkCollision(t.$item)||this.gridster.checkCollision(n.$item)?(n.$item.x=l,n.$item.y=c,t.$item.x=s,t.$item.y=u):(t.setSize(),this.swapedItem=t,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}])}(),Ei=function(a){return a.UP="UP",a.DOWN="DOWN",a.LEFT="LEFT",a.RIGHT="RIGHT",a}(Ei||{}),pK=function(){return(0,g.A)(function a(r,n,e){var t=this;(0,v.A)(this,a),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"gridsterItem",void 0),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"lastMouse",void 0),(0,d.A)(this,"offsetLeft",void 0),(0,d.A)(this,"offsetTop",void 0),(0,d.A)(this,"margin",void 0),(0,d.A)(this,"outerMarginTop",void 0),(0,d.A)(this,"outerMarginRight",void 0),(0,d.A)(this,"outerMarginBottom",void 0),(0,d.A)(this,"outerMarginLeft",void 0),(0,d.A)(this,"diffTop",void 0),(0,d.A)(this,"diffLeft",void 0),(0,d.A)(this,"originalClientX",void 0),(0,d.A)(this,"originalClientY",void 0),(0,d.A)(this,"top",void 0),(0,d.A)(this,"left",void 0),(0,d.A)(this,"height",void 0),(0,d.A)(this,"width",void 0),(0,d.A)(this,"positionX",void 0),(0,d.A)(this,"positionY",void 0),(0,d.A)(this,"positionXBackup",void 0),(0,d.A)(this,"positionYBackup",void 0),(0,d.A)(this,"enabled",void 0),(0,d.A)(this,"mousemove",void 0),(0,d.A)(this,"mouseup",void 0),(0,d.A)(this,"mouseleave",void 0),(0,d.A)(this,"cancelOnBlur",void 0),(0,d.A)(this,"touchmove",void 0),(0,d.A)(this,"touchend",void 0),(0,d.A)(this,"touchcancel",void 0),(0,d.A)(this,"mousedown",void 0),(0,d.A)(this,"touchstart",void 0),(0,d.A)(this,"push",void 0),(0,d.A)(this,"swap",void 0),(0,d.A)(this,"path",void 0),(0,d.A)(this,"collision",!1),(0,d.A)(this,"dragMove",function(s){s.stopPropagation(),s.preventDefault(),li.checkTouchEvent(s);var l,c,p,m,u=t.getDirections(s);t.gridster.options.enableBoundaryControl&&(u.includes(Ei.UP)&&t.gridsterItem.el.getBoundingClientRect().top<t.gridster.el.getBoundingClientRect().top+(null!==(l=t.outerMarginTop)&&void 0!==l?l:t.margin)&&(u=u.filter(function(y){return y!=Ei.UP}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:t.lastMouse.clientY})),u.includes(Ei.LEFT)&&t.gridsterItem.el.getBoundingClientRect().left<t.gridster.el.getBoundingClientRect().left+(null!==(c=t.outerMarginLeft)&&void 0!==c?c:t.margin)&&(u=u.filter(function(y){return y!=Ei.LEFT}),s=new MouseEvent(s.type,{clientX:t.lastMouse.clientX,clientY:s.clientY})),u.includes(Ei.RIGHT)&&t.gridsterItem.el.getBoundingClientRect().right>t.gridster.el.getBoundingClientRect().right-(null!==(p=t.outerMarginRight)&&void 0!==p?p:t.margin)&&(u=u.filter(function(y){return y!=Ei.RIGHT}),s=new MouseEvent(s.type,{clientX:t.lastMouse.clientX,clientY:s.clientY})),u.includes(Ei.DOWN)&&t.gridsterItem.el.getBoundingClientRect().bottom>t.gridster.el.getBoundingClientRect().bottom-(null!==(m=t.outerMarginBottom)&&void 0!==m?m:t.margin)&&(u=u.filter(function(y){return y!=Ei.DOWN}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:t.lastMouse.clientY}))),u.length&&(t.offsetLeft=t.gridster.el.scrollLeft-t.gridster.el.offsetLeft,t.offsetTop=t.gridster.el.scrollTop-t.gridster.el.offsetTop,hw(t.gridster,t.left,t.top,t.width,t.height,s,t.lastMouse,t.calculateItemPositionFromMousePosition),t.calculateItemPositionFromMousePosition(s))}),(0,d.A)(this,"calculateItemPositionFromMousePosition",function(s){t.gridster.options.scale?t.calculateItemPositionWithScale(s,t.gridster.options.scale):t.calculateItemPositionWithoutScale(s),t.calculateItemPosition(),t.lastMouse.clientX=s.clientX,t.lastMouse.clientY=s.clientY,t.zone.run(function(){t.gridster.updateGrid()})}),(0,d.A)(this,"dragStop",function(s){s.stopPropagation(),s.preventDefault(),yw(),t.cancelOnBlur(),t.mousemove(),t.mouseup(),t.mouseleave(),t.touchmove(),t.touchend(),t.touchcancel(),t.gridsterItem.renderer.removeClass(t.gridsterItem.el,"gridster-item-moving"),t.gridster.dragInProgress=!1,t.gridster.updateGrid(),t.path=[],t.gridster.options.draggable&&t.gridster.options.draggable.stop?Promise.resolve(t.gridster.options.draggable.stop(t.gridsterItem.item,t.gridsterItem,s)).then(t.makeDrag,t.cancelDrag):t.makeDrag(),setTimeout(function(){t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle(!0))})}),(0,d.A)(this,"cancelDrag",function(){t.gridsterItem.$item.x=t.gridsterItem.item.x||0,t.gridsterItem.$item.y=t.gridsterItem.item.y||0,t.gridsterItem.setSize(),t.push&&t.push.restoreItems(),t.swap&&t.swap.restoreSwapItem(),t.push&&(t.push.destroy(),t.push=null),t.swap&&(t.swap.destroy(),t.swap=null)}),(0,d.A)(this,"makeDrag",function(){t.gridster.$options.draggable.dropOverItems&&t.gridster.options.draggable&&t.gridster.options.draggable.dropOverItemsCallback&&t.collision&&!0!==t.collision&&t.collision.$item&&t.gridster.options.draggable.dropOverItemsCallback(t.gridsterItem.item,t.collision.item,t.gridster),t.collision=!1,t.gridsterItem.setSize(),t.gridsterItem.checkItemChanges(t.gridsterItem.$item,t.gridsterItem.item),t.push&&t.push.setPushedItems(),t.swap&&t.swap.setSwapItem(),t.push&&(t.push.destroy(),t.push=null),t.swap&&(t.swap.destroy(),t.swap=null)}),(0,d.A)(this,"dragStartDelay",function(s){if(!s.target.classList.contains("gridster-item-resizable-handler")&&!li.checkContentClassForEvent(t.gridster,s))if(li.checkTouchEvent(s),t.gridster.$options.draggable.delayStart)var l=setTimeout(function(){t.dragStart(s),$()},t.gridster.$options.draggable.delayStart),c=t.gridsterItem.renderer.listen("document","mouseup",$),p=t.gridsterItem.renderer.listen("document","mouseleave",$),m=t.gridsterItem.renderer.listen("window","blur",$),y=t.gridsterItem.renderer.listen("document","touchmove",function N(q){li.checkTouchEvent(q),(Math.abs(q.clientX-s.clientX)>9||Math.abs(q.clientY-s.clientY)>9)&&$()}),x=t.gridsterItem.renderer.listen("document","touchend",$),D=t.gridsterItem.renderer.listen("document","touchcancel",$);else t.dragStart(s);function $(){clearTimeout(l),m(),c(),p(),y(),x(),D()}}),this.zone=e,this.gridsterItem=r,this.gridster=n,this.lastMouse={clientX:0,clientY:0},this.path=[]},[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}},{key:"dragStart",value:function(n){var e=this;n.which&&1!==n.which||this.gridster.dragInProgress||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===ba.RTL?n.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:n.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=n.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new pw(this.gridsterItem),this.swap=new dK(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}},{key:"calculateItemPositionWithScale",value:function(n,e){this.left=this.gridster.$options.dirType===ba.RTL?this.gridster.el.scrollWidth-this.originalClientX+(n.clientX-this.originalClientX)/e+this.diffLeft:this.originalClientX+(n.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(n.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}},{key:"calculateItemPositionWithoutScale",value:function(n){this.left=this.gridster.$options.dirType===ba.RTL?this.gridster.el.offsetWidth-(n.clientX+this.offsetLeft-this.diffLeft):n.clientX+this.offsetLeft-this.diffLeft,this.top=n.clientY+this.offsetTop-this.diffTop}},{key:"calculateItemPosition",value:function(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){var n=this.path[this.path.length-1],e="";n.x<this.gridsterItem.$item.x?e=this.push.fromWest:n.x>this.gridsterItem.$item.x?e=this.push.fromEast:n.y<this.gridsterItem.$item.y?e=this.push.fromNorth:n.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}},{key:"toggle",value:function(){var n=this.gridsterItem.canBeDragged();!this.enabled&&n?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!n&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}},{key:"getDirections",value:function(n){var e=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=n.clientY,this.lastMouse.clientX=n.clientX),this.lastMouse.clientY>n.clientY&&e.push(Ei.UP),this.lastMouse.clientY<n.clientY&&e.push(Ei.DOWN),this.lastMouse.clientX<n.clientX&&e.push(Ei.RIGHT),this.lastMouse.clientX>n.clientX&&e.push(Ei.LEFT),e}}])}(),mK=function(){return(0,g.A)(function a(r){(0,v.A)(this,a),(0,d.A)(this,"fromSouth",void 0),(0,d.A)(this,"fromNorth",void 0),(0,d.A)(this,"fromEast",void 0),(0,d.A)(this,"fromWest",void 0),(0,d.A)(this,"pushedItems",void 0),(0,d.A)(this,"pushedItemsPath",void 0),(0,d.A)(this,"gridsterItem",void 0),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"tryPattern",void 0),this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=r,this.gridster=r.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(n){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,n)}},{key:"restoreItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).$item.x=t.item.x||0,t.$item.y=t.item.y||0,t.$item.cols=t.item.cols||1,t.$item.row=t.item.row||1,t.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).checkItemChanges(t.$item,t.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var n=this.pushedItems.length-1,e=!1;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(n,e){var t=this.gridster.checkCollision(n.$item);if(t&&!0!==t&&t!==this.gridsterItem&&t.canBeResized()){if(this.tryPattern[e].call(this,t,n,e))return!0}else if(!1===t)return!0;return!1}},{key:"trySouth",value:function(n,e,t){var s=n.$item.y,u=n.$item.rows;return n.$item.y=e.$item.y+e.$item.rows,n.$item.rows=u+s-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.y=s,n.$item.rows=u,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryNorth",value:function(n,e,t){var s=n.$item.rows;return n.$item.rows=e.$item.y-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.rows=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryEast",value:function(n,e,t){var s=n.$item.x,u=n.$item.cols;return n.$item.x=e.$item.x+e.$item.cols,n.$item.cols=u+s-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.x=s,n.$item.cols=u,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryWest",value:function(n,e,t){var s=n.$item.cols;return n.$item.cols=e.$item.x-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.cols=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"addToPushed",value:function(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0,cols:n.item.cols||0,rows:n.item.rows||0},{x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows}]);else{var e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows})}}},{key:"removeFromPushed",value:function(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}},{key:"checkPushedItem",value:function(n,e){for(var u,l,c,p,m,t=this.pushedItemsPath[e],s=t.length-2;s>-1;s--)l=n.$item.x,c=n.$item.y,p=n.$item.cols,m=n.$item.rows,n.$item.x=(u=t[s]).x,n.$item.y=u.y,n.$item.cols=u.cols,n.$item.rows=u.rows,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=c,n.$item.cols=p,n.$item.rows=m):(n.setSize(),t.splice(s+1,t.length-1-s));return t.length<2&&(this.removeFromPushed(e),!0)}}])}(),hK=function(){return(0,g.A)(function a(r,n,e){var t=this;(0,v.A)(this,a),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"gridsterItem",void 0),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"lastMouse",void 0),(0,d.A)(this,"itemBackup",{x:0,y:0,cols:0,rows:0}),(0,d.A)(this,"resizeEventScrollType",void 0),(0,d.A)(this,"directionFunction",null),(0,d.A)(this,"resizeEnabled",void 0),(0,d.A)(this,"resizableHandles",void 0),(0,d.A)(this,"mousemove",void 0),(0,d.A)(this,"mouseup",void 0),(0,d.A)(this,"mouseleave",void 0),(0,d.A)(this,"cancelOnBlur",void 0),(0,d.A)(this,"touchmove",void 0),(0,d.A)(this,"touchend",void 0),(0,d.A)(this,"touchcancel",void 0),(0,d.A)(this,"push",void 0),(0,d.A)(this,"pushResize",void 0),(0,d.A)(this,"minHeight",void 0),(0,d.A)(this,"minWidth",void 0),(0,d.A)(this,"offsetTop",void 0),(0,d.A)(this,"offsetLeft",void 0),(0,d.A)(this,"diffTop",void 0),(0,d.A)(this,"diffLeft",void 0),(0,d.A)(this,"diffRight",void 0),(0,d.A)(this,"diffBottom",void 0),(0,d.A)(this,"margin",void 0),(0,d.A)(this,"outerMarginTop",void 0),(0,d.A)(this,"outerMarginRight",void 0),(0,d.A)(this,"outerMarginBottom",void 0),(0,d.A)(this,"outerMarginLeft",void 0),(0,d.A)(this,"originalClientX",void 0),(0,d.A)(this,"originalClientY",void 0),(0,d.A)(this,"top",void 0),(0,d.A)(this,"left",void 0),(0,d.A)(this,"bottom",void 0),(0,d.A)(this,"right",void 0),(0,d.A)(this,"width",void 0),(0,d.A)(this,"height",void 0),(0,d.A)(this,"hasRatio",void 0),(0,d.A)(this,"dragMove",function(s){if(null===t.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");s.stopPropagation(),s.preventDefault(),li.checkTouchEvent(s),t.offsetTop=t.gridster.el.scrollTop-t.gridster.el.offsetTop,t.offsetLeft=t.gridster.el.scrollLeft-t.gridster.el.offsetLeft,hw(t.gridster,t.left,t.top,t.width,t.height,s,t.lastMouse,t.directionFunction,!0,t.resizeEventScrollType);var u=t.gridster.options.scale||1;t.directionFunction({clientX:t.originalClientX+(s.clientX-t.originalClientX)/u,clientY:t.originalClientY+(s.clientY-t.originalClientY)/u}),t.lastMouse.clientX=s.clientX,t.lastMouse.clientY=s.clientY,t.zone.run(function(){t.gridster.updateGrid()})}),(0,d.A)(this,"dragStop",function(s){s.stopPropagation(),s.preventDefault(),yw(),t.mousemove(),t.mouseup(),t.mouseleave(),t.cancelOnBlur(),t.touchmove(),t.touchend(),t.touchcancel(),t.gridster.dragInProgress=!1,t.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1},t.gridster.updateGrid(),t.gridster.options.resizable&&t.gridster.options.resizable.stop?Promise.resolve(t.gridster.options.resizable.stop(t.gridsterItem.item,t.gridsterItem,s)).then(t.makeResize,t.cancelResize):t.makeResize(),setTimeout(function(){t.gridsterItem.renderer.removeClass(t.gridsterItem.el,"gridster-item-resizing"),t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle())})}),(0,d.A)(this,"cancelResize",function(){t.gridsterItem.$item.cols=t.gridsterItem.item.cols||1,t.gridsterItem.$item.rows=t.gridsterItem.item.rows||1,t.gridsterItem.$item.x=t.gridsterItem.item.x||0,t.gridsterItem.$item.y=t.gridsterItem.item.y||0,t.gridsterItem.setSize(),t.push.restoreItems(),t.pushResize.restoreItems(),t.push.destroy(),t.push=null,t.pushResize.destroy(),t.pushResize=null}),(0,d.A)(this,"makeResize",function(){t.gridsterItem.setSize(),t.gridsterItem.checkItemChanges(t.gridsterItem.$item,t.gridsterItem.item),t.push.setPushedItems(),t.pushResize.setPushedItems(),t.push.destroy(),t.push=null,t.pushResize.destroy(),t.pushResize=null}),(0,d.A)(this,"check",function(s){return t.hasRatio&&t.enforceAspectRatio(),t.pushResize.pushItems(s),t.push.pushItems(s,t.gridster.$options.disablePushOnResize),t.gridster.checkCollision(t.gridsterItem.$item,!0)?(t.resetItem(t.hasRatio),!1):(t.gridster.previewStyle(),t.pushResize.checkPushBack(),t.push.checkPushBack(),!0)}),(0,d.A)(this,"getNewNorthPosition",function(s){return t.top=s.clientY+t.offsetTop-t.diffTop,t.height=t.bottom-t.top,t.minHeight>t.height?(t.height=t.minHeight,t.top=t.bottom-t.minHeight):t.gridster.options.enableBoundaryControl&&(t.top=Math.max(0,t.top),t.height=t.bottom-t.top),t.gridster.pixelsToPositionY(t.top+(t.gridster.options.pushItems?t.margin:0),Math.floor)}),(0,d.A)(this,"handleNorth",function(s){var u=t.getNewNorthPosition(s);t.gridsterItem.$item.y!==u&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height))}),(0,d.A)(this,"getNewWestPosition",function(s){return t.left=(t.gridster.$options.dirType===ba.RTL?t.originalClientX+(t.originalClientX-s.clientX):s.clientX)+t.offsetLeft-t.diffLeft,t.width=t.right-t.left,t.minWidth>t.width?(t.width=t.minWidth,t.left=t.right-t.minWidth):t.gridster.options.enableBoundaryControl&&(t.left=Math.max(0,t.left),t.width=t.right-t.left),t.gridster.pixelsToPositionX(t.left+(t.gridster.options.pushItems?t.margin:0),Math.floor)}),(0,d.A)(this,"handleWest",function(s){var u=t.getNewWestPosition(s);t.gridsterItem.$item.x!==u&&(t.makeItemBackup(),t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-u,t.gridsterItem.$item.x=u,!t.check(t.pushResize.fromEast))||(t.setItemLeft(t.left),t.setItemWidth(t.width))}),(0,d.A)(this,"getNewSouthPosition",function(s){if(t.height=s.clientY+t.offsetTop-t.diffBottom-t.top,t.minHeight>t.height&&(t.height=t.minHeight),t.bottom=t.top+t.height,t.gridster.options.enableBoundaryControl){var u,l=null!==(u=t.outerMarginBottom)&&void 0!==u?u:t.margin,c=t.gridster.el.getBoundingClientRect();t.bottom=Math.min(t.bottom,c.bottom-c.top-2*l),t.height=t.bottom-t.top}return t.gridster.pixelsToPositionY(t.bottom+(t.gridster.options.pushItems?0:t.margin),Math.ceil)}),(0,d.A)(this,"handleSouth",function(s){var u=t.getNewSouthPosition(s);t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,!t.check(t.pushResize.fromNorth))||t.setItemHeight(t.height)}),(0,d.A)(this,"getNewEastPosition",function(s){if(t.width=(t.gridster.$options.dirType===ba.RTL?t.originalClientX+(t.originalClientX-s.clientX):s.clientX)+t.offsetLeft-t.diffRight-t.left,t.minWidth>t.width&&(t.width=t.minWidth),t.right=t.left+t.width,t.gridster.options.enableBoundaryControl){var l,c=null!==(l=t.outerMarginRight)&&void 0!==l?l:t.margin,p=t.gridster.el.getBoundingClientRect();t.right=Math.min(t.right,p.right-p.left-2*c),t.width=t.right-t.left}return t.gridster.pixelsToPositionX(t.right+(t.gridster.options.pushItems?0:t.margin),Math.ceil)}),(0,d.A)(this,"handleEast",function(s){var u=t.getNewEastPosition(s);t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==u&&(t.makeItemBackup(),t.gridsterItem.$item.cols=u-t.gridsterItem.$item.x,!t.check(t.pushResize.fromWest))||t.setItemWidth(t.width)}),(0,d.A)(this,"handleNorthWest",function(s){var u=t.getNewNorthPosition(s),l=t.getNewWestPosition(s);(t.gridsterItem.$item.y!==u||t.gridsterItem.$item.x!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-l,t.gridsterItem.$item.x=l,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height),t.setItemLeft(t.left),t.setItemWidth(t.width))}),(0,d.A)(this,"handleNorthEast",function(s){var u=t.getNewNorthPosition(s),l=t.getNewEastPosition(s);(t.gridsterItem.$item.y!==u||t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,t.gridsterItem.$item.cols=l-t.gridsterItem.$item.x,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height),t.setItemWidth(t.width))}),(0,d.A)(this,"handleSouthWest",function(s){var u=t.getNewSouthPosition(s),l=t.getNewWestPosition(s);(t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u||t.gridsterItem.$item.x!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-l,t.gridsterItem.$item.x=l,!t.check(t.pushResize.fromNorth))||(t.setItemLeft(t.left),t.setItemHeight(t.height),t.setItemWidth(t.width))}),(0,d.A)(this,"handleSouthEast",function(s){var u=t.getNewSouthPosition(s),l=t.getNewEastPosition(s);(t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u||t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,t.gridsterItem.$item.cols=l-t.gridsterItem.$item.x,!t.check(t.pushResize.fromNorth))||(t.setItemHeight(t.height),t.setItemWidth(t.width))}),this.zone=e,this.gridsterItem=r,this.gridster=n,this.lastMouse={clientX:0,clientY:0},this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}},[{key:"destroy",value:function(){var n;null===(n=this.gridster)||void 0===n||n.previewStyle(),this.gridster=this.gridsterItem=null}},{key:"dragStart",value:function(n){var e=this;if(!(n.which&&1!==n.which||this.gridster.dragInProgress)){this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=n.clientX+this.offsetLeft-this.left,this.diffRight=n.clientX+this.offsetLeft-this.right,this.diffTop=n.clientY+this.offsetTop-this.top,this.diffBottom=n.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new pw(this.gridsterItem),this.pushResize=new mK(this.gridsterItem),this.gridster.dragInProgress=!0,this.hasRatio=!(!this.gridster.$options.itemAspectRatio&&!this.gridsterItem.$item.itemAspectRatio),this.itemBackup={x:0,y:0,cols:0,rows:0},this.gridster.updateGrid();var t=n.target.classList;t.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):t.contains("handle-w")?this.gridster.$options.dirType===ba.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):t.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):t.contains("handle-e")?this.gridster.$options.dirType===ba.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):t.contains("handle-nw")?this.gridster.$options.dirType===ba.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):t.contains("handle-ne")?this.gridster.$options.dirType===ba.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):t.contains("handle-sw")?this.gridster.$options.dirType===ba.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):t.contains("handle-se")&&(this.gridster.$options.dirType===ba.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}}},{key:"makeItemBackup",value:function(){this.itemBackup.x=this.gridsterItem.$item.x,this.itemBackup.y=this.gridsterItem.$item.y,this.itemBackup.cols=this.gridsterItem.$item.cols,this.itemBackup.rows=this.gridsterItem.$item.rows}},{key:"resetItem",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridsterItem.$item.x!==this.itemBackup.x&&(this.gridsterItem.$item.x=this.itemBackup.x,n||(this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.y),this.setItemLeft(this.left))),this.gridsterItem.$item.y!==this.itemBackup.y&&(this.gridsterItem.$item.y=this.itemBackup.y,n||(this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.top))),this.gridsterItem.$item.cols!==this.itemBackup.cols&&(this.gridsterItem.$item.cols=this.itemBackup.cols,n||this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin)),this.gridsterItem.$item.rows!==this.itemBackup.rows&&(this.gridsterItem.$item.rows=this.itemBackup.rows,n||this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin))}},{key:"toggle",value:function(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}},{key:"dragStartDelay",value:function(n){var e=this;if(li.checkTouchEvent(n),this.gridster.$options.resizable.delayStart)var t=setTimeout(function(){e.dragStart(n),D()},this.gridster.$options.resizable.delayStart),s=this.zone.runOutsideAngular(function(){return{cancelMouse:e.gridsterItem.renderer.listen("document","mouseup",D),cancelMouseLeave:e.gridsterItem.renderer.listen("document","mouseleave",D),cancelOnBlur:e.gridsterItem.renderer.listen("window","blur",D),cancelTouchMove:e.gridsterItem.renderer.listen("document","touchmove",x),cancelTouchEnd:e.gridsterItem.renderer.listen("document","touchend",D),cancelTouchCancel:e.gridsterItem.renderer.listen("document","touchcancel",D)}}),u=s.cancelMouse,l=s.cancelMouseLeave,c=s.cancelOnBlur,p=s.cancelTouchMove,m=s.cancelTouchEnd,y=s.cancelTouchCancel;else this.dragStart(n);function x(N){li.checkTouchEvent(N),(Math.abs(N.clientX-n.clientX)>9||Math.abs(N.clientY-n.clientY)>9)&&D()}function D(){clearTimeout(t),c(),u(),l(),p(),m(),y()}}},{key:"setItemTop",value:function(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,n)}},{key:"setItemLeft",value:function(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,n,this.top)}},{key:"setItemHeight",value:function(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",n+"px")}},{key:"setItemWidth",value:function(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",n+"px")}},{key:"enforceAspectRatio",value:function(){var n=this.gridsterItem.$item.itemAspectRatio||this.gridster.$options.itemAspectRatio;if(n){var e=n*(this.gridster.curColWidth/this.gridster.curRowHeight),s=this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows,u=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,l=this.gridster.positionYToPixels(s)-this.margin,c=this.gridsterItem.$item.maxItemCols||this.gridster.$options.maxItemCols||0,p=this.gridsterItem.$item.maxItemRows||this.gridster.$options.maxItemRows||0,m=c?this.gridster.positionXToPixels(c)-this.margin:Number.MAX_VALUE,y=p?this.gridster.positionYToPixels(p)-this.margin:Number.MAX_VALUE,x=this.width,D=this.height;if(this.resizeEventScrollType.north||this.resizeEventScrollType.south?(x=this.height*e)<u?(x=u,D=u/e):x>m&&(x=m,D=m/e):(this.resizeEventScrollType.east||this.resizeEventScrollType.west)&&((D=this.width/e)<l?(D=l,x=l*e):D>y&&(D=y,x=y*e)),this.gridster.options.enableBoundaryControl){var N=this.gridster.el.getBoundingClientRect(),$=Math.max(this.outerMarginTop||this.margin,this.outerMarginRight||this.margin,this.outerMarginBottom||this.margin,this.outerMarginLeft||this.margin),q=N.width-2*$,le=N.height-2*$;this.resizeEventScrollType.west?this.right-x<0&&(D=(x=this.right)/e):this.resizeEventScrollType.east&&this.left+x>q&&(D=(x=q-this.left)/e),this.resizeEventScrollType.north?this.bottom-D<0&&(x=(D=this.bottom)*e):this.resizeEventScrollType.south&&this.top+D>le&&(x=(D=le-this.top)*e)}this.width=x,this.height=D,this.resizeEventScrollType.west&&(this.left=this.right-this.width),this.resizeEventScrollType.north&&(this.top=this.bottom-this.height);var Ae=this.gridster.options.pushItems?0:this.margin,ge=this.gridster.options.pushItems?this.margin:0,ke=this.gridster.options.pushItems?this.margin:0;this.gridsterItem.$item.x=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?0:this.margin),Math.floor),this.gridsterItem.$item.y=this.gridster.pixelsToPositionY(this.top+Ae,Math.floor),this.gridsterItem.$item.cols=this.gridster.pixelsToPositionX(this.width+ge,Math.ceil),this.gridsterItem.$item.rows=this.gridster.pixelsToPositionY(this.height+ke,Math.ceil),this.setItemTop(this.top),this.setItemLeft(this.left),this.setItemWidth(this.width),this.setItemHeight(this.height)}}}])}(),gK=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),(0,d.A)(this,"renderer",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"item",void 0),(0,d.A)(this,"itemInit",new o.bkB),(0,d.A)(this,"itemChange",new o.bkB),(0,d.A)(this,"itemResize",new o.bkB),(0,d.A)(this,"$item",void 0),(0,d.A)(this,"el",void 0),(0,d.A)(this,"gridster",void 0),(0,d.A)(this,"top",void 0),(0,d.A)(this,"left",void 0),(0,d.A)(this,"width",void 0),(0,d.A)(this,"height",void 0),(0,d.A)(this,"drag",void 0),(0,d.A)(this,"resize",void 0),(0,d.A)(this,"notPlaced",void 0),(0,d.A)(this,"init",void 0),this.renderer=s,this.zone=u,this.el=e.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=t,this.drag=new pK(this,t,this.zone),this.resize=new hK(this,t,this.zone)},[{key:"zIndex",get:function(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}},{key:"ngOnInit",value:function(){this.gridster.addItem(this)}},{key:"ngOnChanges",value:function(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),t.item&&t.item.previousValue&&this.setSize()}},{key:"updateOptions",value:function(){this.$item=li.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,itemAspectRatio:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}},{key:"ngOnDestroy",value:function(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}},{key:"setSize",value:function(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}},{key:"updateItemSize",value:function(){var s=this.$item.x*this.gridster.curColWidth,u=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,l=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=s,!this.init&&u>0&&l>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})),(u!==this.width||l!==this.height)&&(this.width=u,this.height=l,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}},{key:"itemChanged",value:function(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}},{key:"checkItemChanges",value:function(t,s){t.rows===s.rows&&t.cols===s.cols&&t.x===s.x&&t.y===s.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=s.x||0,this.$item.y=s.y||0,this.$item.cols=s.cols||1,this.$item.rows=s.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}},{key:"canBeDragged",value:function(){var t=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.dragEnabled?t:this.$item.dragEnabled)}},{key:"canBeResized",value:function(){var t=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.resizeEnabled?t:this.$item.resizeEnabled)}},{key:"getResizableHandles",value:function(){var t=this.gridster.$options.resizable.handles,s=this.$item.resizableHandles;return void 0===s?t:(0,_.A)((0,_.A)({},t),s)}},{key:"bringToFront",value:function(t){if(!(t&&t<=0)){var s=this.getLayerIndex(),u=this.gridster.$options.maxLayerIndex;if(s<u){var l=t?s+t:u;this.item.layerIndex=this.$item.layerIndex=l>u?u:l}}}},{key:"sendToBack",value:function(t){if(!(t&&t<=0)){var s=this.getLayerIndex();if(s>0){var u=t?s-t:0;this.item.layerIndex=this.$item.layerIndex=u<0?0:u}}}},{key:"getLayerIndex",value:function(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}])}();return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)(o.rXU(o.aKT),o.rXU(v_),o.rXU(o.sFG),o.rXU(o.SKi))}),(0,d.A)(r,"\u0275cmp",o.VBU({type:a,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(e,t){2&e&&o.xc7("z-index",t.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[o.OA$],ngContentSelectors:fw,decls:9,vars:8,consts:[[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(e,t){1&e&&(o.NAR(),o.SdG(0),o.nVh(1,JH,1,0,"div",0),o.nVh(2,ZH,1,0,"div",1),o.nVh(3,eK,1,0,"div",2),o.nVh(4,tK,1,0,"div",3),o.nVh(5,nK,1,0,"div",4),o.nVh(6,rK,1,0,"div",5),o.nVh(7,aK,1,0,"div",6),o.nVh(8,iK,1,0,"div",7)),2&e&&(o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.s&&t.resize.resizeEnabled?1:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.e&&t.resize.resizeEnabled?2:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.n&&t.resize.resizeEnabled?3:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.w&&t.resize.resizeEnabled?4:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.se&&t.resize.resizeEnabled?5:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.ne&&t.resize.resizeEnabled?6:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.sw&&t.resize.resizeEnabled?7:-1),o.R7$(),o.vxM(null!=t.resize.resizableHandles&&t.resize.resizableHandles.nw&&t.resize.resizeEnabled?8:-1))},styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:#fff;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2})),r}(),Sw=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return a=r,(0,d.A)(r,"\u0275fac",function(e){return new(e||a)}),(0,d.A)(r,"\u0275mod",o.$C({type:a})),(0,d.A)(r,"\u0275inj",f.G2t({})),r}(),df=b(4074),Ya=b(1034),tl=b(8739),Tc=b(7049),vK=b(4102),Mc=b(6079),Jm=["innerGridItem"],yK=function(){return{height:"100%"}},nl=function(r){return{i:r}};function _K(a,r){1&a&&o.eu8(0)}function bK(a,r){if(1&a&&(o.j41(0,"div",2)(1,"p",4),o.EFF(2),o.k0s(),o.j41(3,"div",5),o.DNE(4,_K,1,0,"ng-container",6),o.k0s()()),2&a){var n=r.index,e=o.XpG().index,t=o.XpG();o.Y8G("fxFlex",t.dashboard[t.itemIndex(e,n)].cols),o.R7$(2),o.E5c("row: ",e," | column: ",n," | size: ",t.dashboard[t.itemIndex(e,n)].cols),o.R7$(),o.Y8G("ngStyle",t.gridItemInnerStyles(e,n)),o.R7$(),o.Y8G("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",o.eq3(7,nl,t.itemIndex(e,n)))}}function AK(a,r){if(1&a&&(o.j41(0,"div",2)(1,"div",3),o.DNE(2,bK,5,9,"div",1),o.k0s()()),2&a){var n=r.index,e=o.XpG();o.Y8G("fxFlex",e.rowFlex(n)),o.R7$(),o.Y8G("fxLayout",e.rowDirection(n))("ngStyle",o.lJ4(4,yK)),o.R7$(),o.Y8G("for",e.totalColumns(n))}}var b_=["gridItemActions"],A_=["extraActions"],xw=["mainControls"],Ew=["itemHeader"];function CK(a,r){1&a&&o.eu8(0)}function SK(a,r){1&a&&o.eu8(0)}function xK(a,r){1&a&&o.eu8(0)}function EK(a,r){if(1&a){var n=o.RV6();o.j41(0,"gridster-item",9)(1,"div",10)(2,"div",11,1),o.DNE(4,SK,1,0,"ng-container",12),o.j41(5,"button",13),o.bIt("mousedown",function(){var l=f.eBV(n).index,c=o.XpG();return f.Njj(c.removeItem(l))})("touchstart",function(){var l=f.eBV(n).index,c=o.XpG();return f.Njj(c.removeItem(l))}),o.EFF(6,"Delete"),o.k0s()(),o.j41(7,"div",14),o.DNE(8,xK,1,0,"ng-container",12),o.k0s()()()}if(2&a){var e=r.$implicit,t=r.index,s=o.XpG();o.Y8G("item",e),o.R7$(2),o.Y8G("hidden",!s.displayItemHeader),o.R7$(2),o.Y8G("ngTemplateOutlet",s.gridItemActionsTmpl)("ngTemplateOutletContext",o.eq3(6,nl,t)),o.R7$(4),o.Y8G("ngTemplateOutlet",s.innerGridItemTmpl)("ngTemplateOutletContext",o.eq3(8,nl,t))}}var Dw=function(){return{i:0}};function DK(a,r){1&a&&o.eu8(0)}function wK(a,r){1&a&&o.eu8(0)}function FK(a,r){1&a&&o.eu8(0)}function kK(a,r){1&a&&o.eu8(0)}function PK(a,r){1&a&&o.eu8(0)}function RK(a,r){1&a&&o.eu8(0)}function TK(a,r){if(1&a&&(o.j41(0,"as-split-area",16)(1,"div",17)(2,"div",18,2),o.DNE(4,PK,1,0,"ng-container",19),o.k0s(),o.j41(5,"div",20),o.DNE(6,RK,1,0,"ng-container",19),o.k0s()()()),2&a){var n=r.index,e=o.XpG().index,t=o.XpG();o.Y8G("size",t.itemSize(e,n)),o.R7$(2),o.Y8G("hidden",!t.displayItemHeader),o.R7$(2),o.Y8G("ngTemplateOutlet",t.gridItemActionsTmpl)("ngTemplateOutletContext",o.eq3(6,nl,t.itemIndex(e,n))),o.R7$(2),o.Y8G("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",o.eq3(8,nl,t.itemIndex(e,n)))}}function MK(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",8)(1,"div",9)(2,"button",10)(3,"mat-icon"),o.EFF(4,"menu"),o.k0s()(),o.j41(5,"mat-menu",null,1)(7,"button",11),o.bIt("mousedown",function(){var l=f.eBV(n).index,c=o.XpG();return f.Njj(c.addColumn(l))}),o.EFF(8,"Add Column"),o.k0s(),o.j41(9,"button",11),o.bIt("mousedown",function(){var l=f.eBV(n).index,c=o.XpG();return f.Njj(c.layoutSettings("row",l))}),o.EFF(10,"Layout Settings"),o.k0s(),o.j41(11,"button",12),o.bIt("mousedown",function(){var l=f.eBV(n).index,c=o.XpG();return f.Njj(c.removeRow(l))}),o.EFF(12,"Delete"),o.k0s()()(),o.j41(13,"div",13)(14,"as-split",14),o.bIt("dragEnd",function(l){var c=f.eBV(n).index,p=o.XpG();return f.Njj(p.dragEnd(c,l))}),o.DNE(15,TK,7,10,"as-split-area",15),o.k0s()()()}if(2&a){var e=r.index,t=o.sdS(6),s=o.XpG();o.R7$(2),o.Y8G("matMenuTriggerFor",t),o.R7$(13),o.Y8G("for",s.totalColumns(e))}}var IK=["*"],VK=function(r){return[r,"manage"]};function NK(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",6),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.login())}),o.EFF(1,"login"),o.k0s()}}function OK(a,r){if(1&a&&(o.j41(0,"div",7)(1,"a",8),o.EFF(2),o.k0s()()),2&a){var n=r.$implicit;o.R7$(),o.Y8G("routerLink",o.eq3(2,VK,n.path)),o.R7$(),o.JRh(n.path)}}var C_=function(r,n){return{i:r,j:n}};function BK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",16),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.submit())}),o.EFF(2,"Save"),o.k0s()()}}function LK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",17),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onPropertiesClick())}),o.EFF(2,"Properties"),o.k0s()()}}function UK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",17),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onDeleteClick())}),o.EFF(2,"Delete"),o.k0s()()}}function GK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",17),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onRulesClick())}),o.EFF(2,"Rules"),o.k0s()()}}function jK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",18),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onPersistenceClick())}),o.EFF(2,"Persistence"),o.k0s()()}}function $K(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",18),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onInteractionsClick())}),o.EFF(2,"Interactions"),o.k0s()()}}function zK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",19),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.applyStyle(0))})("touchstart",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.applyStyle(0))}),o.EFF(2,"Apply Style"),o.k0s()()}}function HK(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",19),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.removeStyle(0))})("touchstart",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.removeStyle(0))}),o.EFF(2,"Remove Style"),o.k0s()()}}function KK(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",36),o.bIt("click",function(){f.eBV(n),o.XpG(2);var t=o.sdS(2);return f.Njj(t.toggle())}),o.j41(1,"mat-icon"),o.EFF(2,"menu"),o.k0s()()}}function XK(a,r){1&a&&(o.j41(0,"mat-icon"),o.EFF(1,"arrow_drop_down"),o.k0s())}function qK(a,r){if(1&a&&(o.j41(0,"button",37),o.DNE(1,XK,2,0,"mat-icon",9),o.k0s()),2&a){var n=o.XpG(2),e=o.sdS(29);o.Y8G("matMenuTriggerFor",e),o.R7$(),o.Y8G("ngIf",n.nested)}}function WK(a,r){1&a&&o.eu8(0)}function YK(a,r){if(1&a&&(o.qex(0),o.DNE(1,WK,1,0,"ng-container",24),o.bVm()),2&a){var n=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n.contextsMenuTpl)}}function QK(a,r){if(1&a&&(o.j41(0,"div",38),o.EFF(1),o.k0s()),2&a){var n=o.XpG(2);o.R7$(),o.JRh(n.editor.panelStyleTitle(0))}}function JK(a,r){1&a&&o.nrm(0,"span",39)}function ZK(a,r){1&a&&o.eu8(0)}function eX(a,r){1&a&&(o.j41(0,"div",40),o.EFF(1,"Quell"),o.k0s())}function tX(a,r){if(1&a&&(o.DNE(0,KK,3,0,"button",20)(1,qK,2,2,"button",21),o.j41(2,"div"),o.DNE(3,YK,2,1,"ng-container",9),o.k0s(),o.DNE(4,QK,2,1,"div",22)(5,JK,1,0,"span",23)(6,ZK,1,0,"ng-container",24),o.j41(7,"div",25)(8,"mat-form-field")(9,"mat-select",26)(10,"mat-option",27),o.EFF(11,"page"),o.k0s(),o.j41(12,"mat-option",28),o.EFF(13,"form"),o.k0s(),o.j41(14,"mat-option",29),o.EFF(15,"json"),o.k0s()()()(),o.j41(16,"div",30)(17,"mat-form-field")(18,"mat-select",31)(19,"mat-option",32),o.EFF(20,"grid"),o.k0s(),o.j41(21,"mat-option",33),o.EFF(22,"gridless"),o.k0s(),o.j41(23,"mat-option",34),o.EFF(24,"split"),o.k0s()()()(),o.DNE(25,eX,2,0,"div",35)),2&a){var n=o.XpG();o.Y8G("ngIf",!n.nested),o.R7$(),o.Y8G("ngIf",n.nested),o.R7$(2),o.Y8G("ngIf",n.savable),o.R7$(),o.Y8G("ngIf",n.editor.hasPanelStyle(0)&&n.nested),o.R7$(),o.Y8G("ngIf",n.nested),o.R7$(),o.Y8G("ngTemplateOutlet",n.extraActionsAreaTmpl),o.R7$(19),o.Y8G("ngIf",!n.nested)}}function nX(a,r){if(1&a&&(o.j41(0,"div",38),o.EFF(1),o.k0s()),2&a){var n=o.XpG(2);o.R7$(),o.JRh(n.editor.panelStyleTitle(0))}}function rX(a,r){if(1&a&&o.DNE(0,nX,2,1,"div",22),2&a){var n=o.XpG();o.Y8G("ngIf",n.editor.hasPanelStyle(0)&&!n.nested)}}function aX(a,r){1&a&&o.eu8(0)}function iX(a,r){if(1&a&&(o.j41(0,"div",43),o.DNE(1,aX,1,0,"ng-container",44),o.k0s()),2&a){var n=r.index,e=o.XpG().i,t=o.XpG();o.R7$(),o.Y8G("ngTemplateOutlet",t.editablePaneTpl)("ngTemplateOutletContext",o.l_i(2,C_,e,n))}}function oX(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone",41),o.bIt("change",function(u){var l=f.eBV(n).i,c=o.XpG();return f.Njj(c.editor.onFileChange(u,l))})("cdkDropListDropped",function(u){f.eBV(n);var l=o.XpG();return f.Njj(l.editor.onDrop(u))}),o.j41(1,"div",null,5),o.DNE(3,iX,2,5,"div",42),o.k0s()()}if(2&a){var e=r.i,t=o.XpG();o.Y8G("cdkDropListData",e)("multiple",!0)("disableClick",!0),o.R7$(3),o.Y8G("ngForOf",t.editor.panelPanes(e).controls)}}function sX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.submit())}),o.EFF(1,"Save"),o.k0s()}}function uX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",17),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onPropertiesClick())}),o.EFF(1,"Properties"),o.k0s()}}function lX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",17),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onDeleteClick())}),o.EFF(1,"Delete"),o.k0s()}}function cX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",17),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onRulesClick())}),o.EFF(1,"Rules"),o.k0s()}}function dX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",18),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onPersistenceClick())}),o.EFF(1,"Persistence"),o.k0s()}}function fX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",18),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onInteractionsClick())}),o.EFF(1,"Interactions"),o.k0s()}}function pX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",19),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.applyStyle(0))})("touchstart",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.applyStyle(0))}),o.EFF(1,"Apply Style"),o.k0s()}}function mX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",19),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.removeStyle(0))})("touchstart",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.removeStyle(0))}),o.EFF(1,"Remove Style"),o.k0s()}}function hX(a,r){1&a&&o.eu8(0)}function gX(a,r){if(1&a&&o.DNE(0,hX,1,0,"ng-container",2),2&a){var n=r.i,e=o.XpG();o.Y8G("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",o.eq3(2,nl,n))}}function vX(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",18),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.submit())}),o.EFF(2,"Save"),o.k0s()()}}function yX(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",19),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onRulesClick())}),o.EFF(2,"Rules"),o.k0s()()}}function _X(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",12),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onPersistenceClick())}),o.EFF(2,"Persistence"),o.k0s()()}}function bX(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",12),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onInteractionsClick())}),o.EFF(2,"Interactions"),o.k0s()()}}function AX(a,r){if(1&a){var n=o.RV6();o.j41(0,"li")(1,"button",19),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onDeleteClick())}),o.EFF(2,"Delete"),o.k0s()()}}function CX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",34),o.bIt("click",function(){f.eBV(n),o.XpG(2);var t=o.sdS(2);return f.Njj(t.toggle())}),o.j41(1,"mat-icon"),o.EFF(2,"menu"),o.k0s()()}}function SX(a,r){if(1&a&&(o.j41(0,"button",35)(1,"mat-icon"),o.EFF(2,"menu"),o.k0s()()),2&a){o.XpG(2);var n=o.sdS(30);o.Y8G("matMenuTriggerFor",n)}}function xX(a,r){1&a&&o.nrm(0,"span",36)}function EX(a,r){1&a&&o.eu8(0)}function DX(a,r){if(1&a&&(o.qex(0),o.DNE(1,EX,1,0,"ng-container",32),o.bVm()),2&a){var n=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n.contextsMenuTpl)}}function wX(a,r){1&a&&o.eu8(0)}function FX(a,r){1&a&&(o.j41(0,"div",37),o.EFF(1,"Quell"),o.k0s())}function kX(a,r){if(1&a&&(o.DNE(0,CX,3,0,"button",20)(1,SX,3,1,"button",21)(2,xX,1,0,"span",22),o.j41(3,"div"),o.DNE(4,DX,2,1,"ng-container",11),o.k0s(),o.j41(5,"div",23)(6,"mat-form-field")(7,"mat-select",24)(8,"mat-option",25),o.EFF(9,"page"),o.k0s(),o.j41(10,"mat-option",26),o.EFF(11,"form"),o.k0s(),o.j41(12,"mat-option",27),o.EFF(13,"json"),o.k0s()()()(),o.j41(14,"div",28)(15,"mat-form-field")(16,"mat-select",29)(17,"mat-option",30),o.EFF(18,"gridless"),o.k0s(),o.j41(19,"mat-option",31),o.EFF(20,"split"),o.k0s()()()(),o.DNE(21,wX,1,0,"ng-container",32)(22,FX,2,0,"div",33)),2&a){var n=o.XpG();o.Y8G("ngIf",!n.nested),o.R7$(),o.Y8G("ngIf",n.nested),o.R7$(),o.Y8G("ngIf",n.nested),o.R7$(2),o.Y8G("ngIf",n.savable),o.R7$(17),o.Y8G("ngTemplateOutlet",n.extraActionsAreaTmpl),o.R7$(),o.Y8G("ngIf",!n.nested)}}function PX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",43),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG().i,s=o.XpG();return f.Njj(s.editor.applyStyle(t))})("touchstart",function(){f.eBV(n);var t=o.XpG().i,s=o.XpG();return f.Njj(s.editor.applyStyle(t))}),o.EFF(1,"Apply Style"),o.k0s()}}function RX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",43),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG().i,s=o.XpG();return f.Njj(s.editor.removeStyle(t))})("touchstart",function(){f.eBV(n);var t=o.XpG().i,s=o.XpG();return f.Njj(s.editor.removeStyle(t))}),o.EFF(1,"Remove Style"),o.k0s()}}function TX(a,r){if(1&a&&(o.j41(0,"div",44),o.EFF(1),o.k0s()),2&a){var n=o.XpG().i,e=o.XpG();o.R7$(),o.JRh(e.editor.panelStyleTitle(n))}}function MX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",38)(1,"mat-icon"),o.EFF(2,"arrow_drop_down"),o.k0s()(),o.j41(3,"mat-menu",null,6)(5,"button",12),o.bIt("mousedown",function(){var l=f.eBV(n).i;o.XpG();var c=o.sdS(22);return f.Njj(c.layoutSettings("column",l))}),o.EFF(6,"Layout Settings"),o.k0s(),o.j41(7,"button",39),o.bIt("mousedown",function(){var l=f.eBV(n).i,c=o.XpG();return f.Njj(c.editor.addContent(l))})("touchstart",function(){var l=f.eBV(n).i,c=o.XpG();return f.Njj(c.editor.addContent(l))}),o.EFF(8,"Add Content"),o.k0s(),o.j41(9,"button",39),o.bIt("mousedown",function(){var l=f.eBV(n).i,c=o.XpG();return f.Njj(c.editor.editPanelProps(l))})("touchstart",function(){var l=f.eBV(n).i,c=o.XpG();return f.Njj(c.editor.editPanelProps(l))}),o.EFF(10,"Props"),o.k0s(),o.DNE(11,PX,2,0,"button",40)(12,RX,2,0,"button",40),o.j41(13,"button",41),o.bIt("mousedown",function(){var l=f.eBV(n).i;o.XpG();var c=o.sdS(22);return f.Njj(c.removeColumn2(l))})("touchstart",function(){var l=f.eBV(n).i;o.XpG();var c=o.sdS(22);return f.Njj(c.removeColumn2(l))}),o.EFF(14,"Delete"),o.k0s()(),o.DNE(15,TX,2,1,"div",42)}if(2&a){var e=r.i,t=o.sdS(4),s=o.XpG();o.Y8G("matMenuTriggerFor",t),o.R7$(11),o.Y8G("ngIf",!s.editor.hasPanelStyle(e)),o.R7$(),o.Y8G("ngIf",s.editor.hasPanelStyle(e)),o.R7$(3),o.Y8G("ngIf",s.editor.hasPanelStyle(e))}}function IX(a,r){1&a&&o.eu8(0)}function VX(a,r){if(1&a&&(o.j41(0,"div",47),o.DNE(1,IX,1,0,"ng-container",48),o.k0s()),2&a){var n=r.index,e=o.XpG().i,t=o.XpG();o.R7$(),o.Y8G("ngTemplateOutlet",t.editablePaneTpl)("ngTemplateOutletContext",o.l_i(2,C_,e,n))}}function NX(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone",45),o.bIt("change",function(u){var l=f.eBV(n).i,c=o.XpG();return f.Njj(c.editor.onFileChange(u,l))})("cdkDropListDropped",function(u){f.eBV(n);var l=o.XpG();return f.Njj(l.editor.onDrop(u))}),o.j41(1,"div",null,7),o.DNE(3,VX,2,5,"div",46),o.k0s()()}if(2&a){var e=r.i,t=o.XpG();o.Y8G("cdkDropListData",e)("multiple",!0)("disableClick",!0),o.R7$(3),o.Y8G("ngForOf",t.editor.panelPanes(e).controls)}}function OX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.submit())}),o.EFF(1,"Save"),o.k0s()}}function BX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onRulesClick())}),o.EFF(1,"Rules"),o.k0s()}}function LX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",12),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onPersistenceClick())}),o.EFF(1,"Persistence"),o.k0s()}}function UX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",12),o.bIt("mousedown",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onInteractionsClick())}),o.EFF(1,"Interactions"),o.k0s()}}function GX(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.editor.onDeleteClick())}),o.EFF(1,"Delete"),o.k0s()}}function jX(a,r){1&a&&o.eu8(0)}function $X(a,r){if(1&a&&o.DNE(0,jX,1,0,"ng-container",2),2&a){var n=r.i,e=o.XpG();o.Y8G("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",o.eq3(2,nl,n))}}var rq=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeMatcher=e,this.dashboard=[],this.layoutSetting=new Xn,this.rowSettings=[],this.columnSettings=[]},[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(t,s){return s.y>t?s.y:t},0)+1}},{key:"direction",get:function(){var t=this.attributeMatcher.getComputedValue("direction",this.layoutSetting?this.layoutSetting.settings:[]);return!t||"column"!==t.trim()&&"row"!==t.trim()?"column":t}},{key:"ngOnInit",value:function(){console.log(this.dashboard)}},{key:"itemIndex",value:function(t,s){return this.dashboard.findIndex(function(u){return u.y===t&&u.x===s})}},{key:"totalColumns",value:function(t){return this.dashboard.reduce(function(s,u){return u.y===t?s+1:s},0)}},{key:"rowDirection",value:function(t){var s=this.attributeMatcher.getComputedValue("direction",this.rowSettings&&this.rowSettings[t]?this.rowSettings[t].settings:[]);return!s||"column"!==s.trim()&&"row"!==s.trim()?"row":s}},{key:"rowFlex",value:function(t){var s=this;return["flexGrow","flexShrink","flexBasis"].map(function(p){return s.attributeMatcher.getComputedValue(p,s.rowSettings&&s.rowSettings[t]?s.rowSettings[t].settings:[])}).map(function(p){return null!=p&&""!==p&&""!==p.trim()?"".concat(p.trim()):""}).join(" ")}},{key:"gridItemInnerStyles",value:function(t,s){var u=this.itemIndex(t,s);return{height:this.calculateHeight(this.attributeMatcher.getComputedValue("height",this.columnSettings&&this.columnSettings[u]?this.columnSettings[u].settings:[]))}}},{key:"calculateHeight",value:function(t){return null!=t?t.trim():"auto"}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeMatcherService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-flex-layout"]],contentQueries:function(e,t,s){var u;1&e&&o.wni(s,Jm,5),2&e&&o.mGM(u=o.lsd())&&(t.innerGridItemTmpl=u.first)},inputs:{dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},standalone:!1,decls:2,vars:2,consts:[["fxFill","",3,"fxLayout"],[3,"fxFlex",4,"for"],[3,"fxFlex"],[3,"fxLayout","ngStyle"],["hidden",""],[1,"grid-item-inner",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.DNE(1,AK,3,5,"div",1),o.k0s()),2&e&&(o.Y8G("fxLayout",t.direction),o.R7$(),o.Y8G("for",t.totalRows))},dependencies:[k.T3,k.B3,Gt,dl,la,Ne,ln.ForDirective],encapsulation:2}),r}(),ww=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),this.itemAdded=new o.bkB,this.itemRemoved=new o.bkB,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.itemHeights=[],this.rows=0},[{key:"grid",get:function(){return this.dashboard}},{key:"cumulativeHeight",get:function(){var t=this,s=[];return this.heightsMatrix.forEach(function(u){s.push(t.itemHeights.reduce(function(l,c){return c>l?c:l}))}),s.reduce(function(u,l){return u+l})}},{key:"heightsMatrix",get:function(){var t=this;return this.dashboard.reduce(function(s,u,l){return s[u.y]=void 0!==s[u.y]?[].concat((0,A.A)(s[u.y]),[t.itemHeights[l]]):[t.itemHeights[l]],s},[])}},{key:"ngOnInit",value:function(){}},{key:"removeItem",value:function(t){this.dashboard.splice(t,1),this.itemHeights.splice(t,1),this.itemRemoved.emit(t)}},{key:"addColumn",value:function(){console.log("add column grid"),this.dashboard.push({cols:1,rows:1,y:0,x:this.dashboard.length}),this.itemAdded.emit()}},{key:"addRow",value:function(){this.dashboard.push({cols:1,rows:1,y:this.rows++,x:0}),this.itemAdded.emit()}},{key:"setItemContentHeight",value:function(t,s){this.itemHeights[t]=s+(this.displayItemHeader?this.itemHeaderHeight(t):0),this.refreshGridHeight()}},{key:"refreshGridHeight",value:function(){this.gridHeight=this.cumulativeHeight+16*this.gridster.rows}},{key:"itemHeaderHeight",value:function(t){return this.itemHeaders.find(function(s,u){return u===t}).nativeElement.offsetHeight}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-grid-layout"]],contentQueries:function(e,t,s){var u;1&e&&(o.wni(s,b_,5),o.wni(s,Jm,5),o.wni(s,A_,5)),2&e&&(o.mGM(u=o.lsd())&&(t.gridItemActionsTmpl=u.first),o.mGM(u=o.lsd())&&(t.innerGridItemTmpl=u.first),o.mGM(u=o.lsd())&&(t.extraActionsTmpl=u.first))},viewQuery:function(e,t){var s;1&e&&(o.GBs(v_,5),o.GBs(xw,5),o.GBs(Ew,5)),2&e&&(o.mGM(s=o.lsd())&&(t.gridster=s.first),o.mGM(s=o.lsd())&&(t.mainControls=s.first),o.mGM(s=o.lsd())&&(t.itemHeaders=s))},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",options:"options"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved"},standalone:!1,decls:11,vars:6,consts:[["mainControls",""],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["type","button",3,"mousedown"],[4,"ngTemplateOutlet"],[1,"layout-inner"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"delete",3,"mousedown","touchstart"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){if(1&e){var s=o.RV6();o.j41(0,"div",2)(1,"div",3,0)(3,"button",4),o.bIt("mousedown",function(){return f.eBV(s),f.Njj(t.addColumn())}),o.EFF(4,"Add Column"),o.k0s(),o.j41(5,"button",4),o.bIt("mousedown",function(){return f.eBV(s),f.Njj(t.addRow())}),o.EFF(6,"Add Row"),o.k0s(),o.DNE(7,CK,1,0,"ng-container",5),o.k0s(),o.j41(8,"div",6)(9,"gridster",7),o.DNE(10,EK,9,10,"gridster-item",8),o.k0s()()()}2&e&&(o.R7$(),o.Y8G("hidden",!t.displayMainControls),o.R7$(6),o.Y8G("ngTemplateOutlet",t.extraActionsTmpl),o.R7$(),o.xc7("height",t.gridHeight,"px"),o.R7$(),o.Y8G("options",t.options),o.R7$(),o.Y8G("ngForOf",t.dashboard))},dependencies:[k.Sq,k.T3,Gt,dl,la,v_,gK],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{background-color:#ccc;padding:.5em}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{background-color:#fff;padding:.5em}"]}),r}(),Fw=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n),this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1},[{key:"ngOnInit",value:function(){}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-gridless-layout"]],contentQueries:function(e,t,s){var u;1&e&&(o.wni(s,b_,5),o.wni(s,Jm,5),o.wni(s,A_,5)),2&e&&(o.mGM(u=o.lsd())&&(t.gridItemActionsTmpl=u.first),o.mGM(u=o.lsd())&&(t.innerGridItemTmpl=u.first),o.mGM(u=o.lsd())&&(t.extraActionsTmpl=u.first))},hostVars:2,hostBindings:function(e,t){2&e&&o.AVh("is-nested",t.nested)},inputs:{displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested"},standalone:!1,decls:11,vars:9,consts:[["mainControls",""],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],[4,"ngTemplateOutlet"],[1,"layout-inner"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){1&e&&(o.j41(0,"div",2)(1,"div",3,0),o.DNE(3,DK,1,0,"ng-container",4),o.k0s(),o.j41(4,"div",5)(5,"div",6)(6,"div",7,1),o.DNE(8,wK,1,0,"ng-container",8),o.k0s(),o.j41(9,"div",9),o.DNE(10,FK,1,0,"ng-container",8),o.k0s()()()()),2&e&&(o.R7$(),o.Y8G("hidden",!t.displayMainControls),o.R7$(2),o.Y8G("ngTemplateOutlet",t.extraActionsTmpl),o.R7$(3),o.Y8G("hidden",!t.displayItemHeader),o.R7$(2),o.Y8G("ngTemplateOutlet",t.gridItemActionsTmpl)("ngTemplateOutletContext",o.lJ4(7,Dw)),o.R7$(2),o.Y8G("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",o.lJ4(8,Dw)))},dependencies:[k.T3,Gt,dl,la],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline;border-bottom:1px solid #ccc;margin-bottom:.25em}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}"]}),r}(),aq=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.settingValues=[],this.layoutForm=this.fb.group({settings:this.fb.control("")}),this.onTouched=function(){}},[{key:"attributes",get:function(){return this.layout.settings.has(this.type)?this.layout.settings.get(this.type):[]}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.layoutForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.layoutForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.layoutForm.disable():this.layoutForm.enable()}},{key:"validate",value:function(t){return this.layoutForm.valid?null:{invalidForm:{valid:!1,message:"layout is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-layout-form"]],inputs:{layout:"layout",type:"type",settingValues:"settingValues"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"classifieds-ui-attributes-builder",1),o.k0s()),2&e&&(o.Y8G("formGroup",t.layoutForm),o.R7$(),o.Y8G("attributes",t.attributes)("attributeValues",t.settingValues))},dependencies:[h.BC,h.cb,h.j4,h.JD,yt.AttributesBuilderComponent],encapsulation:2}),r}(),iq=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.valueComputerService=s,this.fb=u,this.settingValues=[],this.dialogForm=this.fb.group({layout:this.fb.control("")})},[{key:"attrValues",get:function(){return""===this.dialogForm.get("layout").value?this.settingValues:this.dialogForm.get("layout").value.settings.map(function(t){return new yt.AttributeValue(t)})}},{key:"ngOnInit",value:function(){this.layout=this.data.layout,this.type=this.data.type,this.settingValues=this.data.settingValues}},{key:"submit",value:function(){console.log(this.attrValues);var t=this.valueComputerService.compute(this.attrValues);this.dialogRef.close(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(yt.ValueComputerService),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-layout-dialog"]],standalone:!1,decls:6,vars:5,consts:[[1,"layout-form",3,"ngSubmit","formGroup"],["formControlName","layout",3,"layout","type","settingValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content"),o.nrm(2,"druid-layout-form",1),o.k0s(),o.j41(3,"mat-dialog-actions")(4,"button",2),o.EFF(5,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.dialogForm),o.R7$(2),o.Y8G("layout",t.layout)("type",t.type)("settingValues",t.settingValues),o.R7$(2),o.Y8G("disabled",!t.dialogForm.valid))},dependencies:[h.qT,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,aq],encapsulation:2}),r}(),Zm=function(){var a,r=function(n){function e(t,s){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s])}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"layout"}))}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),kw=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.el=e,this.dialog=t,this.lpm=s,this.itemAdded=new o.bkB,this.itemRemoved=new o.bkB,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1,this.layoutSettingChange=new o.bkB,this.rowSettingsChange=new o.bkB,this.columnSettingsChange=new o.bkB,this.rows=0,this.sizes=[]},[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(t,s){return s.y>t?s.y:t},0)+1}},{key:"ngOnInit",value:function(){if(0===this.dashboard.length)this.addRow();else{for(var t=0;t<this.totalRows;t++){var s=this.totalColumns(t);this.sizes.push([]);for(var u=0;u<s;u++){var l=this.itemIndex(t,u);this.sizes[t].push(this.dashboard[l].cols)}}if(this.totalRows!==this.rowSettings.length&&0===this.rowSettings.length){for(var c=[],p=0;p<this.totalRows;p++)c.push(new Xn);this.rowSettings=c,this.rowSettingsChange.emit(this.rowSettings)}for(var m=0,y=0;y<this.totalRows;y++)m+=this.totalColumns(y);if(m!==this.columnSettings.length&&0===this.columnSettings.length){for(var x=[],D=0;D<this.totalRows;D++)for(var N=0;N<this.totalColumns(D);N++)x.push(new Xn);this.columnSettings=x,this.columnSettingsChange.emit(this.columnSettings)}}}},{key:"removeRow",value:function(t){for(var s=this.dashboard.reduce(function(m,y,x){return[].concat((0,A.A)(m),(0,A.A)(y.y===t?[x]:[]))},[]),u=s.length,l=0,c=0;c<u;c++)this.dashboard.splice(s[c]-l,1),this.rowSettings.splice(t,1),l++,this.itemRemoved.emit(s[c]),this.rowSettingsChange.emit(this.rowSettings);u=this.dashboard.length;for(var p=0;p<u;p++)this.dashboard[p].y>t&&(this.dashboard[p].y=this.dashboard[p].y-1)}},{key:"removeColumn",value:function(t,s){var u=this.itemIndex(t,s);this.dashboard.splice(u,1),this.itemRemoved.emit(u)}},{key:"removeColumn2",value:function(t){this.dashboard.splice(t,1),this.itemRemoved.emit(t)}},{key:"addRow",value:function(){this.sizes.push([]),this.rowSettings=[].concat((0,A.A)(this.rowSettings.map(function(t){return new Xn(t)})),[new Xn]),this.addColumn(0===this.totalRows?0:this.totalRows),this.rowSettingsChange.emit(this.rowSettings)}},{key:"addColumn",value:function(t){var s=this,u=this.totalColumns(t),l=0===u?100:100/(u+1);this.sizes[t][u]=l,this.dashboard.push({cols:l,rows:1,y:t,x:u}),this.itemAdded.emit(),setTimeout(function(){return s.resetGutter()})}},{key:"dragEnd",value:function(t,s){var u=s.sizes,l=this.dashboard.length,c=0;this.sizes[t]=(0,A.A)(u);for(var p=this.dashboard.map(function(y){return(0,_.A)({},y)}),m=0;m<l;m++)this.dashboard[m].y===t&&(p[m].cols=u[c],c+=1);this.dashboard=p}},{key:"itemIndex",value:function(t,s){return this.dashboard.findIndex(function(u){return u.y===t&&u.x===s})}},{key:"itemSize",value:function(t,s){return this.dashboard[this.itemIndex(t,s)].cols}},{key:"totalColumns",value:function(t){return this.dashboard.reduce(function(s,u){return u.y===t?s+1:s},0)}},{key:"resetGutter",value:function(){this.el.nativeElement.querySelectorAll(".as-split-gutter").forEach(function(t){t.style.height="auto"})}},{key:"settingValues",value:function(t,s){switch(t){case"column":return this.columnSettings[s].settings;case"row":return this.rowSettings[s].settings;case"global":return this.layoutSetting.settings;default:return[]}}},{key:"layoutSettings",value:function(t,s){var u=this;this.lpm.getPlugin("split").pipe((0,We.n)(function(l){return u.dialog.open(iq,{data:{layout:l,type:t,settingValues:u.settingValues(t,s)}}).afterClosed()}),(0,he.p)(function(l){return!!l})).subscribe(function(l){switch(t){case"column":u.columnSettings=u.columnSettings.map(function(c,p){return new Xn(p===s?{settings:l.map(function(m){return new yt.AttributeValue(m)})}:c)}),console.log(u.columnSettings),u.columnSettingsChange.emit(u.columnSettings);break;case"row":u.rowSettings=u.rowSettings.map(function(c,p){return new Xn(p===s?{settings:l.map(function(m){return new yt.AttributeValue(m)})}:c)}),console.log(u.rowSettings),u.rowSettingsChange.emit(u.rowSettings);break;case"global":u.layoutSetting=new Xn({settings:l.map(function(c){return new yt.AttributeValue(c)})}),u.layoutSettingChange.emit(u.layoutSetting)}})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.aKT),o.rXU(Ut.bZ),o.rXU(Zm))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-split-layout"]],contentQueries:function(e,t,s){var u;1&e&&(o.wni(s,b_,5),o.wni(s,Jm,5),o.wni(s,A_,5)),2&e&&(o.mGM(u=o.lsd())&&(t.gridItemActionsTmpl=u.first),o.mGM(u=o.lsd())&&(t.innerGridItemTmpl=u.first),o.mGM(u=o.lsd())&&(t.extraActionsTmpl=u.first))},viewQuery:function(e,t){var s;1&e&&(o.GBs(xw,5),o.GBs(Ew,5),o.GBs(Od,5)),2&e&&(o.mGM(s=o.lsd())&&(t.mainControls=s.first),o.mGM(s=o.lsd())&&(t.itemHeaders=s),o.mGM(s=o.lsd())&&(t.splitAreas=s))},hostVars:2,hostBindings:function(e,t){2&e&&o.AVh("is-nested",t.nested)},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved",layoutSettingChange:"layoutSettingChange",rowSettingsChange:"rowSettingsChange",columnSettingsChange:"columnSettingsChange"},standalone:!1,decls:6,vars:3,consts:[["mainControls",""],["rowActions","matMenu"],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],[4,"ngTemplateOutlet"],[1,"layout-inner"],["class","rows-wrapper",4,"for"],[1,"rows-wrapper"],[1,"row-controls"],["mat-button","","type","button",3,"matMenuTriggerFor"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",1,"remove-row",3,"mousedown"],[1,"rows-inner"],["unit","percent","direction","horizontal",3,"dragEnd"],[3,"size",4,"for"],[3,"size"],["fxLayout","column","fxFill",""],[1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){1&e&&(o.j41(0,"div",3)(1,"div",4,0),o.DNE(3,kK,1,0,"ng-container",5),o.k0s(),o.j41(4,"div",6),o.DNE(5,MK,16,2,"div",7),o.k0s()()),2&e&&(o.R7$(),o.Y8G("hidden",!t.displayMainControls),o.R7$(2),o.Y8G("ngTemplateOutlet",t.extraActionsTmpl),o.R7$(2),o.Y8G("for",t.totalRows))},dependencies:[k.T3,qr.$z,df.An,Ya.kk,Ya.fb,Ya.Cp,Gt,dl,la,Nd,Od,ln.ForDirective],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline}.rows-inner[_ngcontent-%COMP%]{height:auto;background-color:#fff}.row-controls[_ngcontent-%COMP%]{background-color:gray;padding:0}.remove-row[_ngcontent-%COMP%]{float:right}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;color:#fff}.mat-mdc-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]}),r}(),Pw=function(a){function r(n){var e;if((0,v.A)(this,r),(e=(0,w.A)(this,r,[n])).settings=new Map,n.settings){var t=[];e.renderer=n.renderer,e.editor=n.editor,n.settings.forEach(function(s,u){t.push([u,s.map(function(l){return new yt.Attribute(l)})])}),e.settings=new Map(t)}return e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),Rw=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.siteName=e,this.authFacade=t,this.controlContainer=s,this.close=new o.bkB,this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,me.T)(function(t){return!!t}))}},{key:"login",value:function(){this.authFacade.login()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(ln.SITE_NAME),o.rXU(Fi),o.rXU(h.ZU),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-layout-sidenav"]],outputs:{close:"close"},standalone:!1,ngContentSelectors:IK,decls:12,vars:6,consts:[[1,"close-wrapper"],[3,"click"],["type","button","class","login","mat-button","",3,"click",4,"ngIf"],[1,"viewport-container"],["appendOnly","","itemSize","48",1,"viewport"],["class","pp-item",4,"cdkVirtualFor","cdkVirtualForOf"],["type","button","mat-button","",1,"login",3,"click"],[1,"pp-item"],[3,"routerLink"]],template:function(e,t){1&e&&(o.NAR(),o.j41(0,"div",0)(1,"mat-icon",1),o.bIt("click",function(){return t.close.emit()}),o.EFF(2,"close"),o.k0s(),o.DNE(3,NK,2,0,"button",2),o.nI1(4,"async"),o.k0s(),o.nrm(5,"mat-divider"),o.SdG(6),o.nrm(7,"mat-divider"),o.j41(8,"div",3)(9,"cdk-virtual-scroll-viewport",4),o.DNE(10,OK,3,4,"div",5),o.nI1(11,"async"),o.k0s()()),2&e&&(o.R7$(3),o.Y8G("ngIf",!o.bMT(4,2,t.isAuthenticated$)),o.R7$(7),o.Y8G("cdkVirtualForOf",o.bMT(11,4,t.panelPageListItems$)))},dependencies:[k.bT,Om,qr.$z,vK.q,df.An,Mc.CdkFixedSizeVirtualScroll,Mc.CdkVirtualForOf,Mc.CdkVirtualScrollViewport,k.Jj],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.close-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;position:relative}.login[_ngcontent-%COMP%]{position:absolute;top:7px;right:5px}.pp-item[_ngcontent-%COMP%]{line-height:48px}.viewport[_ngcontent-%COMP%]{height:100%;width:300px}.viewport-container[_ngcontent-%COMP%]{flex:1;padding:0 0 0 16px;box-sizing:border-box}"]}),r}(),oq=function(){var a,r=function(n){function e(t,s,u,l){var c;return(0,v.A)(this,e),(c=(0,w.A)(this,e,[u])).siteName=t,c.authFacade=s,c.controlContainer=u,c.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem"),c}return(0,P.A)(e,n),(0,g.A)(e,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,me.T)(function(s){return!!s}))}},{key:"login",value:function(){this.authFacade.login()}}])}(ew);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(ln.SITE_NAME),o.rXU(Fi),o.rXU(h.ZU),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-gridless-layout-editor"]],standalone:!1,features:[o.Vt3],decls:42,vars:19,consts:[["drawer",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["panes",""],["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["cdkDropListGroup","",3,"formGroup","nested"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"mousedown"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","style-title",4,"ngIf"],["class","spacer",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","grid"],["value","gridless"],["value","split"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"style-title"],[1,"spacer"],[1,"brand"],["cdkDropList","",1,"panel-dropzone",3,"change","cdkDropListDropped","cdkDropListData","multiple","disableClick"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){var s=o.RV6();o.j41(0,"mat-sidenav-container",6)(1,"mat-sidenav",7,0)(3,"druid-layout-sidenav",8),o.bIt("close",function(){f.eBV(s);var l=o.sdS(2);return f.Njj(l.toggle())}),o.j41(4,"nav")(5,"ul"),o.DNE(6,BK,3,0,"li",9)(7,LK,3,0,"li",9)(8,UK,3,0,"li",9)(9,GK,3,0,"li",9)(10,jK,3,0,"li",9)(11,$K,3,0,"li",9),o.j41(12,"li")(13,"button",10),o.bIt("mousedown",function(){return f.eBV(s),f.Njj(t.editor.addContent(0))})("touchstart",function(){return f.eBV(s),f.Njj(t.editor.addContent(0))}),o.EFF(14,"Add Content"),o.k0s()(),o.j41(15,"li")(16,"button",10),o.bIt("mousedown",function(){return f.eBV(s),f.Njj(t.editor.editPanelProps(0))})("touchstart",function(){return f.eBV(s),f.Njj(t.editor.editPanelProps(0))}),o.EFF(17,"Props"),o.k0s()(),o.DNE(18,zK,3,0,"li",9)(19,HK,3,0,"li",9),o.k0s()()()(),o.j41(20,"mat-sidenav-content")(21,"classifieds-ui-gridless-layout",11),o.DNE(22,tX,26,7,"ng-template",null,1,o.C5r)(24,rX,1,1,"ng-template",null,2,o.C5r)(26,oX,4,4,"ng-template",null,3,o.C5r),o.k0s()()(),o.j41(28,"mat-menu",null,4),o.DNE(30,sX,2,0,"button",12)(31,uX,2,0,"button",13)(32,lX,2,0,"button",13)(33,cX,2,0,"button",13)(34,dX,2,0,"button",14)(35,fX,2,0,"button",14),o.j41(36,"button",10),o.bIt("mousedown",function(){return f.eBV(s),f.Njj(t.editor.addContent(0))})("touchstart",function(){return f.eBV(s),f.Njj(t.editor.addContent(0))}),o.EFF(37,"Add Content"),o.k0s(),o.j41(38,"button",10),o.bIt("mousedown",function(){return f.eBV(s),f.Njj(t.editor.editPanelProps(0))})("touchstart",function(){return f.eBV(s),f.Njj(t.editor.editPanelProps(0))}),o.EFF(39,"Props"),o.k0s(),o.DNE(40,pX,2,0,"button",15)(41,mX,2,0,"button",15),o.k0s()}2&e&&(o.Y8G("hasBackdrop",!1),o.R7$(6),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.savable||t.nested),o.R7$(),o.Y8G("ngIf",t.nested),o.R7$(),o.Y8G("ngIf",t.nested),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(7),o.Y8G("ngIf",!t.editor.hasPanelStyle(0)),o.R7$(),o.Y8G("ngIf",t.editor.hasPanelStyle(0)),o.R7$(2),o.Y8G("formGroup",t.controlContainer.control)("nested",t.nested),o.R7$(9),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.savable||t.nested),o.R7$(),o.Y8G("ngIf",t.nested),o.R7$(),o.Y8G("ngIf",t.nested),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(5),o.Y8G("ngIf",!t.editor.hasPanelStyle(0)),o.R7$(),o.Y8G("ngIf",t.editor.hasPanelStyle(0)))},dependencies:[k.Sq,k.bT,k.T3,h.BC,h.cb,h.YS,h.j4,h.JD,tl.CdkDropList,tl.CdkDropListGroup,tl.CdkDrag,Zr.wT,qr.$z,df.An,nn.rl,Ya.kk,Ya.fb,Ya.Cp,ya.VO,Tc.LG,Tc.US,Tc.El,Ym,Fw,Rw],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),r}(),sq=function(){var a,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).controlContainer=t,s}return(0,P.A)(e,n),(0,g.A)(e,[{key:"ngOnInit",value:function(){}}])}(tw);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU,8))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-gridless-layout-renderer"]],standalone:!1,features:[o.Vt3],decls:3,vars:2,consts:[["innerGridItem",""],[3,"displayMainControls","displayItemHeader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-gridless-layout",1),o.DNE(1,gX,1,4,"ng-template",null,0,o.C5r),o.k0s()),2&e&&o.Y8G("displayMainControls",t.displayMainControls)("displayItemHeader",t.displayItemHeader)},dependencies:[k.T3,Fw],styles:["[_nghost-%COMP%]{height:100%}"]}),r}(),uq=function(){var a,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).controlContainer=t,s}return(0,P.A)(e,n),(0,g.A)(e,[{key:"gridItems",get:function(){return this.dashboard.map(function(s,u){return(0,_.A)((0,_.A)({},s),{},{cols:Math.floor(s.cols),weight:u})})}},{key:"ngOnInit",value:function(){}}])}(ew);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-split-layout-editor"]],standalone:!1,features:[o.Vt3],decls:42,vars:17,consts:[["drawer",""],["splitLayout",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["panelActions","matMenu"],["panes",""],["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",3,"click"],["cdkDropListGroup","",3,"itemAdded","itemRemoved","layoutSettingChange","rowSettingsChange","columnSettingsChange","nested","formGroup","dashboard","layoutSetting","rowSettings","columnSettings"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["mat-menu-item","","type","button",3,"click"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","gridless"],["value","split"],[4,"ngTemplateOutlet"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"spacer"],[1,"brand"],["mat-button","","type","button",1,"panel-actions-btn",3,"matMenuTriggerFor"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"mousedown","touchstart"],["class","style-title",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],[1,"style-title"],["cdkDropList","",1,"panel-dropzone",3,"change","cdkDropListDropped","cdkDropListData","multiple","disableClick"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){var s=o.RV6();o.j41(0,"mat-sidenav-container",8)(1,"mat-sidenav",9,0)(3,"druid-layout-sidenav",10),o.bIt("close",function(){f.eBV(s);var l=o.sdS(2);return f.Njj(l.toggle())}),o.j41(4,"nav")(5,"ul"),o.DNE(6,vX,3,0,"li",11),o.j41(7,"li")(8,"button",12),o.bIt("mousedown",function(){f.eBV(s);var l=o.sdS(22);return f.Njj(l.addRow())}),o.EFF(9,"Add Row"),o.k0s()(),o.j41(10,"li")(11,"button",13),o.bIt("click",function(){return f.eBV(s),f.Njj(t.editor.onPropertiesClick())}),o.EFF(12,"Props"),o.k0s()(),o.j41(13,"li")(14,"button",12),o.bIt("mousedown",function(){f.eBV(s);var l=o.sdS(22);return f.Njj(l.layoutSettings("global"))}),o.EFF(15,"Layout Settings"),o.k0s()(),o.DNE(16,yX,3,0,"li",11)(17,_X,3,0,"li",11)(18,bX,3,0,"li",11)(19,AX,3,0,"li",11),o.k0s()()()(),o.j41(20,"mat-sidenav-content")(21,"classifieds-ui-split-layout",14,1),o.bIt("itemAdded",function(){return f.eBV(s),f.Njj(t.editor.onItemAdded())})("itemRemoved",function(l){return f.eBV(s),f.Njj(t.editor.onItemRemoved(l))})("layoutSettingChange",function(l){return f.eBV(s),f.Njj(t.editor.onLayoutSettingChange(l))})("rowSettingsChange",function(l){return f.eBV(s),f.Njj(t.editor.onRowSettingsChange(l))})("columnSettingsChange",function(l){return f.eBV(s),f.Njj(t.editor.onColumnSettingsChange(l))}),o.DNE(23,kX,23,6,"ng-template",null,2,o.C5r)(25,MX,16,4,"ng-template",null,3,o.C5r)(27,NX,4,4,"ng-template",null,4,o.C5r),o.k0s()()(),o.j41(29,"mat-menu",null,5),o.DNE(31,OX,2,0,"button",15),o.j41(32,"button",12),o.bIt("mousedown",function(){f.eBV(s);var l=o.sdS(22);return f.Njj(l.addRow())}),o.EFF(33,"Add Row"),o.k0s(),o.j41(34,"button",13),o.bIt("click",function(){return f.eBV(s),f.Njj(t.editor.onPropertiesClick())}),o.EFF(35,"Props"),o.k0s(),o.j41(36,"button",12),o.bIt("mousedown",function(){f.eBV(s);var l=o.sdS(22);return f.Njj(l.layoutSettings("global"))}),o.EFF(37,"Layout Settings"),o.k0s(),o.DNE(38,BX,2,0,"button",16)(39,LX,2,0,"button",17)(40,UX,2,0,"button",17)(41,GX,2,0,"button",16),o.k0s()}2&e&&(o.Y8G("hasBackdrop",!1),o.R7$(6),o.Y8G("ngIf",t.savable),o.R7$(10),o.Y8G("ngIf",t.nested),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.nested),o.R7$(2),o.Y8G("nested",t.nested)("formGroup",t.controlContainer.control)("dashboard",t.dashboard)("layoutSetting",t.layoutSetting)("rowSettings",t.rowSettings)("columnSettings",t.columnSettings),o.R7$(10),o.Y8G("ngIf",t.savable),o.R7$(7),o.Y8G("ngIf",t.nested),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.savable),o.R7$(),o.Y8G("ngIf",t.nested))},dependencies:[k.Sq,k.bT,k.T3,h.BC,h.cb,h.YS,h.j4,h.JD,tl.CdkDropList,tl.CdkDropListGroup,tl.CdkDrag,Zr.wT,qr.$z,df.An,nn.rl,Ya.kk,Ya.fb,Ya.Cp,ya.VO,Tc.LG,Tc.US,Tc.El,Ym,kw,Rw],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.panel-actions-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),r}(),lq=function(){var a,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).controlContainer=t,s}return(0,P.A)(e,n),(0,g.A)(e,[{key:"ngOnInit",value:function(){}}])}(tw);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU,8))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-flex-layout-renderer"]],standalone:!1,features:[o.Vt3],decls:3,vars:4,consts:[["innerGridItem",""],[3,"dashboard","layoutSetting","rowSettings","columnSettings"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-flex-layout",1),o.DNE(1,$X,1,4,"ng-template",null,0,o.C5r),o.k0s()),2&e&&o.Y8G("dashboard",null==t.panelPage?null:t.panelPage.gridItems)("layoutSetting",t.panelPage.layoutSetting)("rowSettings",t.panelPage.rowSettings)("columnSettings",t.columnSettings)},dependencies:[k.T3,rq],encapsulation:2}),r}(),cq=function(){var r=new Map([["row",[new yt.Attribute({name:"flexGrow",type:yt.AttributeTypes.Text,label:"Flex Grow",required:!1,widget:"text",options:{},attributes:[]}),new yt.Attribute({name:"flexShrink",type:yt.AttributeTypes.Text,label:"Flex Shrink",required:!1,widget:"text",options:{},attributes:[]}),new yt.Attribute({name:"flexBasis",type:yt.AttributeTypes.Text,label:"Flex Basis",required:!1,widget:"text",options:{},attributes:[]}),new yt.Attribute({name:"height",type:yt.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]}),new yt.Attribute({name:"direction",type:yt.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]],["column",[new yt.Attribute({name:"height",type:yt.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]})]],["global",[new yt.Attribute({name:"direction",type:yt.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]]]);return new Pw({id:"split",title:"Split",editor:uq,renderer:lq,settings:r})},Tw=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),[cq(),new Pw({id:"gridless",title:"Gridless",editor:oq,renderer:sq,settings:new Map})].forEach(function(t){e.register(t)})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Zm))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,Bm,h.X1,va.MaterialModule,jc,Em,Sw,Qm,ln.UtilsModule,Md,yt.AttributesModule]}),r}();function fq(a,r){if(1&a&&o.nrm(0,"ngx-json-viewer",12),2&a){var n=o.XpG();o.Y8G("json",n.jsonData)("expanded",!1)}}var Gs,eh=(0,g.A)(function a(r){(0,v.A)(this,a),this.params=[],r&&(this.url=r.url,this.method=r.method?r.method:void 0,void 0!==r.renderer&&(this.renderer=new Ny(r.renderer)),void 0!==r.params&&(this.params=r.params.map(function(n){return new _a(n)})),r.body&&(this.body=new Ku(r.body)))}),ff=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.datasourceApi=t,this.tokenizerService=s,this.dataChange=new o.bkB,this.contexts=[],this.sourceForm=this.fb.group({url:this.fb.control("",h.k0.required),params:this.fb.control([]),body:this.fb.control(""),method:this.fb.control("get",[h.k0.required])}),this.restSource$=new R.t(new eh),this.urlParams$=new R.t({}),this.bodyParams$=new R.t({}),this.componentDestroyed=new W.B,this.refreshData$=new W.B,this.refreshSubscription=this.refreshData$.pipe((0,me.T)(function(){return u.generateUrl()}),(0,ue.M)(function(l){return console.log("URL Generated:",l)}),(0,he.p)(function(l){return l&&""!==l.trim()}),(0,We.n)(function(l){var c,p=u.sourceForm.get("method").value,m=null===(c=u.sourceForm.get("body").value)||void 0===c?void 0:c.content;return("post"===p?u.datasourceApi.postData({url:l,body:m}):u.datasourceApi.getData(l)).pipe((0,Tr.W)(function(x){return console.error(x),(0,De.of)([])}))}),(0,rr.Q)(this.componentDestroyed)).subscribe(function(l){u.jsonData=l,u.dataChange.emit(l)}),this.urlChangeSub=this.sourceForm.get("url").valueChanges.pipe((0,zn.B)(500),(0,he.p)(function(l){return l&&""!==l.trim()}),(0,me.T)(function(l){return[l,l.indexOf("?")]}),(0,me.T)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return[m>-1?p.substring(0,m):p,m>-1?p.substring(m+1):""]})).subscribe(function(l){var c=(0,F.A)(l,2),m=c[1],y=c[0].split("/").reduce(function(D,N,$){return 0===N.indexOf(":")?(0,_.A)((0,_.A)({},D),{},(0,d.A)({},N.substr(1),N)):D},{}),x=(0,_.A)((0,_.A)({},y),ui.parse(m));console.log("params parsed",x),u.urlParams$.next(x)}),this.bodyChangeSub=this.sourceForm.get("body").valueChanges.pipe((0,zn.B)(500),(0,ue.M)(function(l){console.log("body change",l);var c=u.parseBody(l.content);u.bodyParams$.next((0,_.A)({},c))})).subscribe(),this.paramsChangesSub=(0,Vn.z)([this.urlParams$,this.bodyParams$]).pipe((0,zn.B)(500),(0,ue.M)(function(l){var c=(0,F.A)(l,2),m=c[1];u.paramsParsed=(0,_.A)((0,_.A)({},c[0]),m)})).subscribe(),this.restSourceSub=this.restSource$.pipe((0,ue.M)(function(l){l?(u.sourceForm.get("url").setValue(l.url),u.sourceForm.get("method").setValue(l.method?l.method:""),u.sourceForm.get("body").setValue(l.body?(0,_.A)((0,_.A)({},l.body),{},{jsScript:""}):"")):(u.sourceForm.get("url").setValue(""),u.sourceForm.get("method").setValue(""),u.sourceForm.get("body").setValue(""))})).subscribe(),this.onTouched=function(){}},[{key:"restSource",set:function(t){this.restSource$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.sourceForm.valueChanges.pipe((0,zn.B)(1e3)).subscribe(function(){console.log("refresh data"),t.refreshData$.next(void 0)})}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.next(void 0),this.componentDestroyed.complete()}},{key:"parseBody",value:function(t){var s=/\[:([a-zA-Z0-9_]+)\]/g,u={};return function l(c){if("string"==typeof c)for(var p;null!==(p=s.exec(c));){var m=p[1];u[m]=":".concat(m)}else if(Array.isArray(c)){var x,y=(0,j.A)(c);try{for(y.s();!(x=y.n()).done;)l(x.value)}catch($){y.e($)}finally{y.f()}}else if("object"==typeof c&&null!==c)for(var N in c)c.hasOwnProperty(N)&&l(c[N])}(t),u}},{key:"writeValue",value:function(t){t&&this.sourceForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.sourceForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.sourceForm.disable():this.sourceForm.enable()}},{key:"validate",value:function(t){return this.sourceForm.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"generateUrl",value:function(){console.log("generate url");for(var t=this.sourceForm.get("url").value,s=t?t.split("?",2):["",""],u=(0,F.A)(s,2),l=u[0],c=u[1],p=ui.parse(c),m={},y=l.split("/"),x=y.length,D=[],N=0,$=0;$<x;$++)if(0===y[$].indexOf(":")){if(!this.sourceForm.get("params").value[N])return"";var q=this.sourceForm.get("params").value[N].mapping;D.push("static"===q.value.type?q.value.value:q.value.testValue),N++}else D.push(y[$]);for(var le in p)if("string"==typeof p[le]&&p[le].indexOf(":")>-1){if(!this.sourceForm.get("params").value[N])return"";var ve=this.sourceForm.get("params").value[N].mapping;m[le]="static"===ve.type?ve.value:ve.testValue,N++}var Ae=D.join("/")+(""!==c?"?"+ui.stringify((0,_.A)((0,_.A)({},p),m)):"");return console.log(Ae),Ae}},{key:"onDataChange",value:function(t){this.tokens=this.tokenizerService.generateGenericTokens(t[0])}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(jE),o.rXU(Yn))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rest-source-form"]],inputs:{restSource:"restSource",contexts:"contexts"},outputs:{dataChange:"dataChange"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:19,vars:7,consts:[["direction","horizontal",3,"formGroup"],["as-split-area","","size","50"],["required","","formControlName","method"],["value","get"],["value","post"],["value","put"],["value","delete"],["matInput","","placeholder","Url","formControlName","url","required",""],["formControlName","body","rows","10","cols","40",3,"rootForm","tokens"],["formControlName","params",3,"params","paramValues","contexts"],["size","50"],[3,"json","expanded",4,"ngIf"],[3,"json","expanded"]],template:function(e,t){1&e&&(o.j41(0,"as-split",0)(1,"div",1)(2,"div")(3,"mat-form-field")(4,"mat-select",2)(5,"mat-option",3),o.EFF(6,"GET"),o.k0s(),o.j41(7,"mat-option",4),o.EFF(8,"POST"),o.k0s(),o.j41(9,"mat-option",5),o.EFF(10,"PUT"),o.k0s(),o.j41(11,"mat-option",6),o.EFF(12,"DELETE"),o.k0s()()(),o.j41(13,"mat-form-field"),o.nrm(14,"input",7),o.k0s()(),o.nrm(15,"classifieds-ui-snippet-form",8)(16,"classifieds-ui-params-form",9),o.k0s(),o.j41(17,"as-split-area",10),o.DNE(18,fq,1,2,"ngx-json-viewer",11),o.k0s()()),2&e&&(o.Y8G("formGroup",t.sourceForm),o.R7$(15),o.Y8G("rootForm",!1)("tokens",t.tokens),o.R7$(),o.Y8G("params",t.paramsParsed)("paramValues",t.restSource$.value.params)("contexts",t.contexts),o.R7$(2),o.Y8G("ngIf",t.jsonData))},dependencies:[k.bT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,vr.fg,nn.rl,ya.VO,Nd,Od,Ek,Mm,$d],encapsulation:2}),r}(),pq=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.attributeSerializer=e,this.controlContainer=t,this.contexts=[]},[{key:"settings",set:function(t){this.restSource=t?new eh(this.attributeSerializer.deserializeAsObject(t)):void 0}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rest-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"restSource","contexts"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-rest-source-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("restSource",t.restSource)("contexts",t.contexts))},dependencies:[h.BC,h.cb,h.j4,h.JD,ff],encapsulation:2}),r}(),pf=function(r){var p,n=r.method,e=r.url,t=r.data,s=r.options,u=r.params,l=r.http;if(t instanceof Error)return(0,De.of)([]);switch(n){case"DELETE":p=l.delete(e,s),u.has("saveDelay")&&(p=p.pipe((0,fr.c)(+u.get("saveDelay"))));break;case"GET":var m=u.has("suffix")?e+u.get("suffix"):e;p=l.get(m,s),u.has("getDelay")&&(p=p.pipe((0,fr.c)(+u.get("getDelay"))));break;case"POST":p=l.post(e,t,s),u.has("saveDelay")&&(p=p.pipe((0,fr.c)(+u.get("saveDelay"))));break;case"PUT":p=l.put(e,t,s),u.has("saveDelay")&&(p=p.pipe((0,fr.c)(+u.get("saveDelay"))));break;default:var y=new Error("Unimplemented HTTP method, "+n);p=(0,ti.$)(y)}return u.has("timeout")&&(p=p.pipe(Wf(+u.get("timeout")+ +u.get("saveDelay")))),p.pipe((0,Tr.W)(function(){return(0,De.of)([])}))},Mw=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.attrbuteSerializer=e,this.http=t,this.snippetParserService=s,this.urlGenerator=u,this.paramsEvaluatorService=l},[{key:"fetchDataset",value:function(t){var s=this,u=t.settings,l=t.metadata;return console.log("metadata",l),(0,De.of)(new Kn).pipe((0,ue.M)(function(){return console.log("START rest fetch")}),(0,me.T)(function(){return s.attrbuteSerializer.deserializeAsObject(u)}),(0,me.T)(function(c){return new eh(c)}),(0,We.n)(function(c){return s.urlGenerator.getUrl(c.url,c.params,l).pipe((0,me.T)(function(p){return[new eh((0,_.A)((0,_.A)({},c),{},{url:p})),c]}))}),(0,We.n)(function(c){var p=(0,F.A)(c,2),m=p[0],y=p[1];if("POST"===y.method.toUpperCase()&&y.body&&"application/json"===y.body.contentType){var x=s.parseUrl(y.url),D=y.body&&"application/json"===y.body.contentType?s.parseBody(y.body.content):{},N=(0,_.A)((0,_.A)({},x),D),$=s.mapKeyToParam(N,y.params||[]);return Object.keys(x).forEach(function(q){return $.delete(q)}),s.paramsEvaluatorService.paramValues($).pipe((0,ue.M)(function(q){return console.log("Evaluated body params",q)}),(0,me.T)(function(q){var le=JSON.parse(y.body.content);return s.replaceTokensInJson(le,q)}),(0,me.T)(function(q){return[m,q]}))}return(0,De.of)([m,{}])}),(0,he.p)(function(c){var m=(0,F.A)(c,1)[0];return m.url&&""!==m.url.trim()&&m.url.indexOf("http")>-1}),(0,We.n)(function(c){var p=(0,F.A)(c,2),m=p[0],y=p[1];return pf((0,_.A)((0,_.A)({url:m.url,method:"POST"===m.method.toUpperCase()?"POST":"GET"},"POST"===m.method.toUpperCase()&&m.body&&"application/json"===m.body.contentType?{data:y}:{}),{},{http:s.http,params:new Map})).pipe((0,Tr.W)(function(){return(0,De.of)([])}),(0,me.T)(function(x){return Array.isArray(x)?x:[x]}),(0,me.T)(function(x){return new Kn({results:x})}))}),(0,ue.M)(function(){return console.log("END rest fetch")}))}},{key:"parseUrl",value:function(t){for(var l,s=/:([a-zA-Z0-9_]+)/g,u={};null!==(l=s.exec(t));){var c=l[1];u[c]=":".concat(c)}return u}},{key:"parseBody",value:function(t){var s=/\[:([a-zA-Z0-9_]+)\]/g,u={};return function l(c){if("string"==typeof c)for(var p;null!==(p=s.exec(c));){var m=p[1];u[m]=":".concat(m)}else if(Array.isArray(c)){var x,y=(0,j.A)(c);try{for(y.s();!(x=y.n()).done;)l(x.value)}catch($){y.e($)}finally{y.f()}}else if("object"==typeof c&&null!==c)for(var N in c)c.hasOwnProperty(N)&&l(c[N])}(t),u}},{key:"mapKeyToParam",value:function(t,s){var u=new Map;return Object.keys(t).forEach(function(c,p){p<s.length&&u.set(c,s[p])}),u}},{key:"replaceTokensInJson",value:function(t,s){var u=this;if("string"==typeof t){var c,l=(0,j.A)(s);try{for(l.s();!(c=l.n()).done;){var p=(0,F.A)(c.value,2),m=p[0],y=p[1];t=(t=t.replace(new RegExp("\\[:".concat(m,"\\]"),"g"),y.toString())).replace(new RegExp(":".concat(m),"g"),y.toString())}}catch(ge){l.e(ge)}finally{l.f()}return t}if(Array.isArray(t))return t.map(function(ge){return u.replaceTokensInJson(ge,s)});if("object"==typeof t&&null!==t){var x={};for(var D in t)if(t.hasOwnProperty(D)){var q,N=D,$=(0,j.A)(s);try{for($.s();!(q=$.n()).done;){var le=(0,F.A)(q.value,2),ve=le[0],Ae=le[1];N=(N=N.replace(new RegExp("\\[:".concat(ve,"\\]"),"g"),Ae.toString())).replace(new RegExp(":".concat(ve),"g"),Ae.toString())}}catch(ge){$.e(ge)}finally{$.f()}x[N]=this.replaceTokensInJson(t[D],s)}return x}return t}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService),f.KVO(V.Qq),f.KVO(FE),f.KVO(Hd),f.KVO(Do))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Iw=function(){var a,r=function(n){function e(t){var s;return(0,v.A)(this,e),(s=(0,w.A)(this,e,[t])).pluralizer2=t,s}return(0,P.A)(e,n),(0,g.A)(e,[{key:"getResourceUrls",value:function(s,u){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?u:XA(u);return{entityResourceUrl:"".concat(c,"/").concat(s,"/").toLowerCase(),collectionResourceUrl:"".concat(c,"/").concat(this.pluralizer2.pluralize(s),"/").toLowerCase()}}}])}(KA);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(fd))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),gq=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p,m,y){(0,v.A)(this,n),e.register(function(r,n,e){return new Fo({id:"rest",title:"Rest",editor:pq,fetch:function(s){return r.fetchDataset({settings:s.settings,metadata:s.metadata})},editorOptions:function(){return(0,De.of)(new Im({fullscreen:!0}))},getBindings:function(s){var u=s.settings;return(0,De.of)([]).pipe((0,me.T)(function(){return e.deserializeAsObject(u)}),(0,me.T)(function(c){return new rs(c)}),(0,We.n)(function(c){return n.extractContexts(c.params)}),(0,me.T)(function(c){return c.map(function(p){return new Yt.ContentBinding({id:p,type:"context"})})}))}})}(t,s,u)),l.register(function(r,n,e,t){return new Ec({id:"rest",title:"Rest",create:function(u){var l=u.object,c=u.params;return(0,De.of)({success:!1}).pipe((0,We.n)(function(){return r.paramValues(new Map(Object.keys(c).map(function(p){return[p,c[p]]})))}),(0,We.n)(function(p){return pf({method:"POST",url:e.entityResource(p.get("entityName"),p.has("root")?p.get("root"):t.root?t.root:"api",!0),data:l||new Error("No entity to add"),params:p,http:n})}),(0,me.T)(function(){return{success:!0,entity:l}}))},read:function(u){return Ci(u),(0,De.of)({success:!1})},update:function(u){var l=u.object,c=u.identity,p=u.params,m=u.parentObject;return(0,De.of)({success:!1}).pipe((0,We.n)(function(){return c({object:l,parentObject:m})}),(0,We.n)(function(y){var x=y.identity;return r.paramValues(new Map(Object.keys(p).map(function(D){return[D,p[D]]}))).pipe((0,me.T)(function(D){return{identity:x,options:D}}))}),(0,We.n)(function(y){var x=y.identity,D=y.options;return pf({method:"PUT",url:e.entityResource(D.get("entityName"),D.has("root")?D.get("root"):t.root?t.root:"api",!0)+"".concat(x),data:l||new Error("No entity to add"),params:D,http:n})}),(0,me.T)(function(){return{success:!0,entity:l}}))},delete:function(u){return Ci(u),(0,De.of)({success:!1})},query:function(u){var l=u.params,c=u.rule;return(0,De.of)({success:!1}).pipe((0,We.n)(function(){return r.paramValues(new Map(Object.keys(l).map(function(p){return[p,l[p]]})))}),(0,We.n)(function(p){return new L.c(function(m){var y=c?c.conditions.all.reduce(function(D,N){return[].concat((0,A.A)(D),(0,A.A)(N.any.filter(function($){return"identity"!==$.fact}).map(function($){return"".concat($.path.substr(2),"=").concat($.value)})))},[]):[],x=c?c.conditions.all.reduce(function(D,N){return D||N.any.find(function($){return"identity"===$.fact})},void 0):void 0;m.next({identityFact:x,options:p,query:y.length>0?new V.Nl({fromString:y.join("&")}):void 0,path:x?x.value:""}),m.complete()})}),(0,We.n)(function(p){var m=p.options,y=p.query,x=p.path,D=p.identityFact;return tr(function(){return!!D},pf({method:"GET",url:e.entityResource(m.get("entityName"),m.has("root")?m.get("root"):t.root?t.root:"api",!0)+x,options:{params:y},params:m,http:n}).pipe((0,me.T)(function(N){return{success:!0,entities:Array.isArray(N)?N:[N]}})),pf({method:"GET",url:e.collectionResource(m.get("entityName"),m.has("root")?m.get("root"):t.root?t.root:"api")+x,options:{params:y},params:m,http:n}).pipe((0,me.T)(function(N){return{success:!0,entities:N}})))}))}})}(c,p,m,y))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(Mw),f.KVO(jy),f.KVO(yt.AttributeSerializerService),f.KVO(Bs),f.KVO(Do),f.KVO(V.Qq),f.KVO(Iw),f.KVO(xl))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[Mw,Iw],imports:[k.MD,h.YN,h.X1,va.MaterialModule,Em,Cf,Fy,qu,Md,qd,Vs]}),r}(),Ic=b(7470),S_=b(9322),vq=b(967),Vw=b(5812),_q=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),Vc=function(r){var n=r.selector,t=r.document.createDocumentFragment();if(!n||-1!==n.indexOf("undefined"))return!1;try{t.querySelector(n)}catch{return!1}return!0},bq=/\/\*[\s\S]*?\*\//g,Aq=/([^\:]+):([^\;]*);/,Cq=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,th=function(r){return typeof r>"u"||0==r.length||null==r},Sq={ordered:!1,comments:!1,stripComments:!1,split:!1},xq=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.document=e,this.mutate$=new W.B,this.mutated$=new W.B,this.mutateSub=this.mutate$.pipe((0,he.p)(function(s){var u=s.record;return"attributes"===u.type&&"style"===u.attributeName&&!!u.target}),(0,zn.B)(2e3),(0,We.n)(function(s){return t.mapRecord({record:s.record,overlay:s.overlay})}),(0,ue.M)(function(s){return t.mutated$.next({stylesheet:s.stylesheet})})).subscribe()},[{key:"stylize",value:function(t){var s=this,u=t.targetNode,l=new Map;new MutationObserver(function(m){m.forEach(function(y){s.mutate$.next({record:y,overlay:l})})}).observe(u,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0})}},{key:"mapRecord",value:function(t){var s=this,u=t.record,l=t.overlay;return new L.c(function(c){var p=Vw.default(u.target),m=s.toJSON("".concat(p," { ").concat(u.oldValue," }")),y=m.children[p]?Object.keys(m.children[p].attributes).reduce(function(q,le){return(0,_.A)((0,_.A)({},q),{},(0,d.A)({},Zu(le.replace("-","_"),!1),m.children[p].attributes[le]))},{}):void 0,x=Object.keys(u.target.style).reduce(function(q,le){return!Number.isNaN(parseInt(le))&&u.target.style.hasOwnProperty(Zu(u.target.style[le].replace("-","_"),!1))?(0,_.A)((0,_.A)({},q),{},(0,d.A)({},Zu(u.target.style[le].replace("-","_"),!1),u.target.style[Zu(u.target.style[le].replace("-","_"),!1)])):q},{}),D=Jd(y,x);l.set(p,D);var N=[];l.forEach(function(q,le){var Ae=le.split(" ").reduce(function(He,ot,at){return-1!==ot.indexOf(".pane-")||-1!==ot.indexOf(".panel-")?{selector:[].concat((0,A.A)(He.selector),[ot.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:He.chars+ot.length,lastIndex:He.chars+at+ot.length}:(0,_.A)((0,_.A)({},He),{},{chars:He.chars+ot.length})},{selector:[],chars:0,lastIndex:0});if(0!==Ae.selector.length){var ge=(Ae.selector.join(" ")+" "+le.slice(Ae.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"").trim();0===ge.indexOf(".panel-page")&&(ge=ge.substr(12).trim()),Vc({selector:ge,document:s.document})&&N.push(ge+" { "+Object.keys(q).reduce(function(He,ot){return ot.match(/^[a-zA-Z-]*$/gm)?"".concat(He).concat(function j$(a){return a.replace(/_/g,"-")}(function Zd(a){var r=""+a;return(r=(r=(r=(r=r.replace(new RegExp("(?:([A-Za-z\\d])|^)("+Ro().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(n,e,t){return(e||"")+(e?"_":"")+t.toLowerCase()})).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}(ot)),": ").concat(q[ot],";"):He},"")+" }")}});var $=N.join("\n");c.next({stylesheet:$}),c.complete()})}},{key:"toJSON",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sq,m={children:{},attributes:{}},y=null,x=0;for(s.stripComments&&(s.comments=!1,t=t.replace(bq,""));null!=(y=Cq.exec(t));)if(!th(y[1])&&s.comments)m[x++]=y[1].trim();else if(th(y[2])){if(!th(y[3]))return m;if(!th(y[4])){var Ae=y[4].trim(),ge=Aq.exec(Ae);if(ge){var ke=ge[1].trim(),He=ge[2].trim();if(s.ordered)m[x++]={name:ke,value:He,type:"attr"};else if(ke in m.attributes){var ot=m.attributes[ke];ot instanceof Array||(m.attributes[ke]=[ot]),m.attributes[ke].push(He)}else m.attributes[ke]=He}else m[x++]=Ae}}else{var D=y[2].trim(),N=this.toJSON(t,s);if(s.ordered)m[x++]={name:D,value:N,type:"rule"};else{var $=s.split?D.split(","):[D];for(var q in $){var le=$[q].trim();if(le in m.children)for(var ve in N.attributes)m.children[le].attributes[ve]=N.attributes[ve];else m.children[le]=N}}}return m}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(f.qQL))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),rl=function(a){return a[a.KEEP=0]="KEEP",a[a.ADD=1]="ADD",a[a.REMOVE=2]="REMOVE",a}(rl||{}),Eq=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.document=e,this.mutate=new W.B,this.mutated$=new W.B,this.mutateub=this.mutate.pipe((0,he.p)(function(s){var u=s.record;return"attributes"===u.type&&"class"===u.attributeName&&!!u.target}),(0,zn.B)(2e3),(0,We.n)(function(s){var l=s.overlay;return t.mapRecord({record:s.record,overlay:l,originals:s.originals}).pipe((0,Tr.W)(function(p){return(0,De.of)({classes:l})}))}),(0,ue.M)(function(s){return t.mutated$.next({classes:s.classes})})).subscribe()},[{key:"classify",value:function(t){var s=this,u=t.targetNode,l=new Map,c=new Map;new MutationObserver(function(y){y.forEach(function(x){s.mutate.next({record:x,overlay:l,originals:c})})}).observe(u,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}},{key:"mapRecord",value:function(t){var s=this,u=t.record,l=t.overlay,c=t.originals;return new L.c(function(p){var m=Vw.default(u.target),y="",x=u.oldValue&&null!==u.oldValue?u.oldValue.split(" ").map(function(ge){return ge.trim()}):[],N=m.split(" ").reduce(function(ge,ke,He){return-1!==ke.indexOf(".pane-")||-1!==ke.indexOf(".panel-")?{selector:[].concat((0,A.A)(ge.selector),[ke.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:ge.chars+ke.length,lastIndex:ge.chars+He+ke.length}:(0,_.A)((0,_.A)({},ge),{},{chars:ge.chars+ke.length})},{selector:[],chars:0,lastIndex:0});if(0!==N.selector.length){var $=m.substring(N.lastIndex).split(">").map(function(ge){return ge.trim()}).filter(function(ge){return""!==ge}).map(function(ge,ke){var He=ge.indexOf("."),ot=-1===He?ge.substring(0):ge.substring(0,He),dt=(-1===He?[]:ge.substring(He+1).split(".")).filter(function(Rt){return void 0!==x.find(function(Ot){return Rt===Ot})});return(0===ke?" > ":"")+ot+(0===dt.length?"":"."+dt.join("."))});0===(y=(N.selector.join(" ")+$.join(" > ")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"")).indexOf(".panel-page")&&(y=y.substr(12).trim())}if(Vc({selector:y,document:s.document})){c.has(y)||c.set(y,new Set(x));var le=u.target.classList,ve=new Map(Array.from(le.values()).map(function(ge){return["".concat(ge),!c.has(y)||!c.get(y).has("".concat(ge))&&0!=="".concat(ge).indexOf("ng-")&&0!=="".concat(ge).indexOf("mat-")?rl.ADD:rl.KEEP]})),Ae=Array.from(c.get(y)).reduce(function(ge,ke){return[-1===Array.from(le.values()).findIndex(function(He){return He===ke})?ke:void 0]},[]).filter(function(ge){return void 0!==ge});0!==Ae.length&&Ae.forEach(function(ge){return ve.set(ge,rl.REMOVE)}),0===ve.size&&l.has(y)?l.delete(y):0!==ve.size&&l.set(y,ve),p.next({classes:l}),p.complete()}else p.error(new Error('Selector invalid "'+y+'"')),p.complete()})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(f.qQL))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}();function Dq(a,r){}function wq(a,r){if(1&a&&o.nrm(0,"classifieds-ui-panel-page",4),2&a){var n=o.XpG();o.Y8G("panelPage",n.panelPage)("nested",!0)("contexts",n.contexts)("css",n.filteredCss)("listeners",n.filteredListeners)("ancestory",n.ancestoryWithSelf)}}function Fq(a,r){if(1&a&&o.nrm(0,"classifieds-ui-panel-page",5),2&a){var n=o.XpG();o.Y8G("id",n.linkedPageId)("nested",!0)("contexts",n.contexts)("ancestory",n.ancestoryWithSelf)}}function kq(a,r){if(1&a&&o.nrm(0,"classifieds-ui-panel-page",4),2&a){var n=o.XpG();o.Y8G("panelPage",n.embedPanel)("nested",!0)("contexts",n.contexts)("css",n.filteredCss)("listeners",n.filteredListeners)("ancestory",n.ancestoryWithSelf)}}var Pq=["panes"];function Rq(a,r){}function Tq(a,r){if(1&a&&o.nrm(0,"classifieds-ui-render-pane",8),2&a){var n=r.$implicit,e=r.index,t=o.XpG(3),s=o.sdS(1);o.Y8G("formControlName",e)("pluginName",n.contentPlugin)("settings",n.settings)("name",n.name)("label",n.label)("originPane",t.panel.panes[t.originMappings[e]])("contexts",n.contexts)("displayType",t.displayType)("resolvedContext",n.resolvedContext)("indexPosition",e)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf$.value)("panes",s)("originPanes",t.originPanes)}}function Mq(a,r){if(1&a&&(o.qex(0)(1)(2,6),o.DNE(3,Tq,1,15,"classifieds-ui-render-pane",7),o.bVm()()()),2&a){var n=o.XpG(2);o.R7$(3),o.Y8G("ngForOf",n.resolvedPanes)}}function Iq(a,r){if(1&a&&o.nrm(0,"classifieds-ui-render-pane",10),2&a){var n=r.$implicit,e=r.index,t=o.XpG(3),s=o.sdS(1);o.Y8G("pluginName",n.contentPlugin)("settings",n.settings)("name",n.name)("label",n.label)("originPane",t.panel.panes[t.originMappings[e]])("contexts",n.contexts)("linkedPageId",n.linkedPageId)("displayType",t.displayType)("resolvedContext",n.resolvedContext)("indexPosition",e)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf$.value)("panes",s)("originPanes",t.originPanes)}}function Vq(a,r){if(1&a&&(o.qex(0),o.DNE(1,Iq,1,15,"classifieds-ui-render-pane",9),o.bVm()),2&a){var n=o.XpG(2);o.R7$(),o.Y8G("ngForOf",n.resolvedPanes)}}function Nq(a,r){if(1&a&&(o.qex(0)(1,4),o.DNE(2,Mq,4,1,"ng-container",5)(3,Vq,2,1,"ng-container",5),o.bVm()()),2&a){var n=o.XpG();o.R7$(),o.Y8G("ngSwitch",n.displayType),o.R7$(),o.Y8G("ngSwitchCase","form"),o.R7$(),o.Y8G("ngSwitchCase","page")}}var Oq=["renderPanelTpl"];function Bq(a,r){}function Lq(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",4),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.submit())}),o.EFF(1,"Submit"),o.k0s()}}function Uq(a,r){if(1&a&&(o.qex(0,1)(1,5),o.nrm(2,"classifieds-ui-render-panel",6),o.bVm()()),2&a){var n=r.i,e=o.XpG();o.Y8G("formGroup",e.pageForm),o.R7$(2),o.Y8G("formControlName",n)("panel",e.panelPageCached.panels[n])("nested",e.nested$.value)("contexts",e.contexts$.value)("resolvedContext",e.resolvedContext)("contextsChanged",e.contextsChanged)("displayType",e.panelPageCached.displayType)("indexPosition",n)("css",e.filteredCss)("listeners",e.filteredListeners)("ancestory",e.ancestory$.value)}}var nh=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiPaneContentHost",""]],standalone:!1}),r}(),Nw=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiLayoutRendererHost",""]],standalone:!1}),r}(),x_=function(){function a(r,n,e,t,s,u,l,c,p,m,y,x,D,N,$,q,le,ve,Ae,ge,ke,He,ot,at,dt,Rt,Ot){var pt=this;(0,v.A)(this,a),this.platformId=r,this.mediaSettings=n,this.routerStore=e,this.fb=t,this.el=s,this.inlineContextResolver=u,this.pageBuilderFacade=l,this.cpm=c,this.cxm=p,this.lpm=m,this.componentFactoryResolver=y,this.styleLoader=x,this.http=D,this.cssHelper=N,this.attributeSerializer=$,this.formService=q,this.panelsContextService=le,this.asyncApiCallHelperSvc=ve,this.crudDataHelperService=Ae,this.entityDefinitionService=ge,this.ngZone=ke,this.persistService=He,this.stylizerService=ot,this.classifyService=at,this.fileService=dt,this.authFacade=Rt,this.resolvedContext={},this.contextsChanged=[],this.persistenceEnabled=!1,this.onInit$=new W.B,this.afterViewInit$=new W.B,this.afterContentInit$=new W.B,this.renderLayout$=new W.B,this.id$=new R.t(void 0),this.panelPage$=new R.t(void 0),this.nested$=new R.t(!1),this.ancestory$=new R.t([]),this.contexts$=new R.t([]),this.instanceUniqueIdentity=dr(),this.isStable=!1,this.managedCssCache="",this.managedClassesCache={},this.filteredListeners=[],this.css$=new R.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=this.css$.subscribe(function(vt){pt.nested$.value&&console.log("filtered css nested",vt),pt.filteredCss=vt}),this.listeners$=new R.t([]),this.listenersSub=this.listeners$.pipe((0,ue.M)(function(vt){pt.filteredListeners=vt})).subscribe(),this.settingsFormArray=this.fb.array([]),this.pageForm=this.fb.group({panels:this.fb.array([])}),this.bridgeSub=this.pageForm.valueChanges.pipe((0,he.p)(function(){return pt.nested$.value}),(0,zn.B)(500)).subscribe(function(vt){console.log("write page"),console.log(vt),pt.settingsFormArray.clear();var xt=pt.attributeSerializer.convertToGroup(pt.attributeSerializer.serialize(vt,"value").attributes[0]);pt.settingsFormArray.push(xt),console.log(xt.value)}),this.idOrPanelPageSub=(0,Vn.z)([this.id$,this.panelPage$]).pipe((0,Bo.F)(),(0,me.T)(function(vt){var xt=(0,F.A)(vt,2);return{id:xt[0],panelPage:xt[1]}}),(0,he.p)(function(vt){return!!vt.id||!!vt.panelPage}),(0,We.n)(function(vt){var xt=vt.id;return tr(function(){return!xt},(0,De.of)({panelPage:vt.panelPage}),new L.c(function(en){var Jn=pt.entityDefinitionService.getDefinition("PanelPage").metadata;return pt.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(xt),plugins:Jn.crud,op:"query"}).pipe((0,me.T)(function(ea){return ea&&0!==ea.length?ea[0]:void 0}),(0,ue.M)(function(ea){en.next({panelPage:ea}),en.complete()})).subscribe()}))}),(0,We.n)(function(vt){var xt=vt.panelPage;return pt.cpm.getPlugins(xt.panels.reduce(function(Jt,en){return en.panes.forEach(function(Jn){Jt.includes(Jn.contentPlugin)||Jt.push(Jn.contentPlugin)}),Jt},[])).pipe((0,me.T)(function(){return{panelPage:xt}}))}),(0,We.n)(function(vt){var xt=vt.panelPage;return tr(function(){return!pt.nested$.value},
/*!this.nested ? this.panelsContextService.allActivePageContexts({ panelPage: p }).pipe(
                  map(paneContexts => [p, isDynamic, paneContexts])
                ): of([p, isDynamic, []]),*/
pt.panelsContextService.allActivePageContexts({panelPage:xt}).pipe((0,me.T)(function(Jt){return{panelPage:xt,contexts:Array.from(Jt)}})),(0,De.of)({panelPage:xt,contexts:[]}))}),(0,ue.M)(function(vt){var xt=vt.panelPage,Jt=vt.contexts;pt.hookupFormChange({panelPage:xt}),pt.populatePanelsFormArray({panelPage:xt}),pt.panelPageCached=xt,pt.persistenceEnabled=xt.persistence&&xt.persistence.dataduct&&xt.persistence.dataduct.plugin&&""!==xt.persistence.dataduct.plugin,pt.filteredListeners=xt.interactions&&xt.interactions.interactions&&xt.interactions.interactions.listeners?xt.interactions.interactions.listeners:[],pt.renderLayout$.next(xt),pt.contexts$.next([].concat((0,A.A)(xt.contexts?xt.contexts.map(function(en){return new Ua(en)}):[]),(0,A.A)(Jt))),pt.hookupCss({file:xt.cssFile?xt.cssFile.trim():void 0}),console.log("cached panel page: ".concat(xt.id))})).subscribe(),this.hookupContextSub=(0,Vn.z)(this.contexts$,this.afterContentInit$).pipe((0,me.T)(function(vt){return(0,F.A)(vt,1)[0]}),(0,We.n)(function(vt){return pt.inlineContextResolver.resolveMerged(vt,"panelpage:".concat(dr())).pipe((0,We.n)(function(xt){return pt.cxm.getPlugins().pipe((0,me.T)(function(Jt){return{contexts:vt,resolvedContext:xt,globalPlugins:Array.from(Jt.values()).filter(function(en){return!0===en.global})}}))}),(0,on.s)(1))}),(0,ue.M)(function(){pt.resolveSub&&pt.resolveSub.unsubscribe()}),(0,ue.M)(function(vt){var xt=vt.contexts,en=vt.globalPlugins;pt.resolvedContext=vt.resolvedContext;var Jn=new W.B;if((0,I.Vy)(pt.platformId))var ea=setInterval(function(){0===a.registredContextListeners.size&&(Jn.next(),Jn.complete(),clearInterval(ea))},1e3);pt.resolveSub=pt.inlineContextResolver.resolveMergedSingle(xt).pipe((0,Ic.i)(en.length+(xt?xt.length:0)),(0,ue.M)(function(){return a.registredContextListeners.add(pt.instanceUniqueIdentity)}),(0,ue.M)(function(qn){return console.log("buffer",qn)}),function yq(a){for(var r,n,e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var u=null!==(r=(0,Y_.lI)(t))&&void 0!==r?r:ud.E,l=null!==(n=t[0])&&void 0!==n?n:null,c=t[1]||1/0;return(0,Yi.N)(function(p,m){var y=[],x=!1,D=function(le){var ve=le.buffer;le.subs.unsubscribe(),(0,vq.o)(y,le),m.next(ve),x&&N()},N=function(){if(y){var le=new $h.yU;m.add(le);var Ae={buffer:[],subs:le};y.push(Ae),(0,pg.N)(le,u,function(){return D(Ae)},a)}};null!==l&&l>=0?(0,pg.N)(m,u,N,l,!0):x=!0,N();var $=(0,Za._)(m,function(q){var Ae,le=y.slice(),ve=(0,j.A)(le);try{for(ve.s();!(Ae=ve.n()).done;){var ge=Ae.value,ke=ge.buffer;ke.push(q),c<=ke.length&&D(ge)}}catch(He){ve.e(He)}finally{ve.f()}},function(){for(;y?.length;)m.next(y.shift().buffer);$?.unsubscribe(),m.complete(),m.unsubscribe()},void 0,function(){return y=null});p.subscribe($)})}(1),(0,ue.M)(function(qn){0===qn.length&&a.registredContextListeners.delete(pt.instanceUniqueIdentity)}),(0,he.p)(function(qn){return 0!==qn.length}),(0,ue.M)(function(qn){pt.contextsChanged=qn.reduce(function(fi,Hi){var Io=(0,F.A)(Hi,2)[0];return[].concat((0,A.A)(fi),(0,A.A)(fi.includes(Io)?[]:[Io]))},[]),pt.resolvedContext=qn.reduce(function(fi,Hi){var Qa=(0,F.A)(Hi,2),Io=Qa[0],Bc=Qa[1];return(0,_.A)((0,_.A)({},fi),{},(0,d.A)({},Io,Bc))},pt.resolvedContext)}),(0,ue.M)(function(){return a.registredContextListeners.delete(pt.instanceUniqueIdentity)}),(0,I.Vy)(pt.platformId)?(0,rr.Q)(Jn):(0,ue.M)(function(){})).subscribe()})).subscribe(),this.renderLayoutSub=(0,Vn.z)([this.renderLayout$,this.afterViewInit$]).pipe((0,fr.c)(1),(0,me.T)(function(vt){return{panelPage:(0,F.A)(vt,1)[0]}}),(0,We.n)(function(vt){var xt=vt.panelPage;return pt.lpm.getPlugin(xt.layoutType).pipe((0,me.T)(function(Jt){return{panelPage:xt,plugin:Jt}}))}),(0,ue.M)(function(){return console.log("start render layout")}),(0,me.T)(function(vt){return{panelPage:vt.panelPage,plugin:vt.plugin,viewContainerRef:pt.layoutRendererHost.viewContainerRef}}),(0,ue.M)(function(vt){return vt.viewContainerRef.clear()}),(0,me.T)(function(vt){return{panelPage:vt.panelPage,layoutRendererRef:vt.viewContainerRef.createComponent(vt.plugin.renderer)}}),(0,ue.M)(function(vt){return pt.layoutRendererRef=vt.layoutRendererRef}),(0,ue.M)(function(vt){var xt=vt.layoutRendererRef,Jt=vt.panelPage;xt.instance.renderPanelTpl=pt.renderPanelTpl,xt.instance.panelPage=Jt}),(0,ue.M)(function(){return console.log("end render layout")})).subscribe(),this.stylizerSub=this.afterViewInit$.pipe((0,he.p)(function(){return(0,I.UE)(pt.platformId)}),(0,ue.M)(function(){pt.stylizerService.stylize({targetNode:pt.el.nativeElement})})).subscribe(),this.classifySub=this.afterViewInit$.pipe((0,he.p)(function(){return(0,I.UE)(pt.platformId)}),(0,ue.M)(function(){pt.classifyService.classify({targetNode:pt.el.nativeElement})})).subscribe(),this.stylizerMutatedSub=(0,I.UE)(this.platformId)?this.stylizerService.mutated$.pipe((0,zn.B)(2e3),(0,Ic.i)(1),(0,We.n)(function(vt){var xt=vt.stylesheet;return pt.authFacade.getUser$.pipe((0,me.T)(function(Jt){return{stylesheet:xt,isAuthenticated:!!Jt}}))}),(0,he.p)(function(vt){return vt.isAuthenticated}),(0,ue.M)(function(vt){console.log("merged css",vt.stylesheet)}),(0,he.p)(function(){return!!pt.panelPageCached&&!!pt.panelPageCached.id}),(0,We.n)(function(vt){var xt=vt.stylesheet;return pt.isStable?(0,De.of)({stylesheet:xt}):pt.ngZone.onStable.asObservable().pipe((0,me.T)(function(){return{stylesheet:xt}}),(0,on.s)(1))}),(0,me.T)(function(vt){var xt=vt.stylesheet;return{stylesheet:(pt.managedCssCache&&""!==pt.managedCssCache.trim()?pt.managedCssCache+"\n":"")+xt}}),(0,wi.H)(function(vt){return pt.fileService.bulkUpload({nocache:!0,files:[new File([vt.stylesheet],"panelpage__".concat(pt.panelPageCached.id,".css"))],fileNameOverride:"panelpage__".concat(pt.panelPageCached.id,".css")})}),(0,ue.M)(function(){console.log("stylesheet saved.")})).subscribe():void 0,this.classifyMutatedSub=(0,I.UE)(this.platformId)?this.classifyService.mutated$.pipe((0,zn.B)(2e3),(0,Ic.i)(1),(0,We.n)(function(vt){var xt=vt.classes;return pt.authFacade.getUser$.pipe((0,me.T)(function(Jt){return{classes:xt,isAuthenticated:!!Jt}}))}),(0,he.p)(function(vt){return vt.isAuthenticated}),(0,ue.M)(function(vt){console.log("merged classes",vt.classes)}),(0,he.p)(function(){return!!pt.panelPageCached&&!!pt.panelPageCached.id}),(0,We.n)(function(vt){var xt=vt.classes;return pt.isStable?(0,De.of)({classes:xt}):pt.ngZone.onStable.asObservable().pipe((0,me.T)(function(){return{classes:xt}}),(0,on.s)(1))}),(0,me.T)(function(vt){var xt=vt.classes;return{classes:Array.from(xt.keys()).reduce(function(Jt,en){return(0,_.A)((0,_.A)({},Jt),{},(0,d.A)({},en,Array.from(xt.get(en).keys()).filter(function(Jn){return xt.get(en).get(Jn)!==rl.KEEP}).reduce(function(Jn,ea){return(0,_.A)((0,_.A)({},Jn),{},(0,d.A)({},ea,xt.get(en).get(ea)))},{})))},{})}}),(0,me.T)(function(vt){return{classes:Jd(pt.managedClassesCache,vt.classes)}}),(0,me.T)(function(vt){return{json:JSON.stringify(vt.classes)}}),(0,wi.H)(function(vt){return pt.fileService.bulkUpload({nocache:!0,files:[new File([vt.json],"panelpage__".concat(pt.panelPageCached.id,"__classes.json"))],fileNameOverride:"panelpage__".concat(pt.panelPageCached.id,"__classes.json")})}),(0,ue.M)(function(){console.log("classes saved.")})).subscribe():void 0,this.onStableSub=this.ngZone.onStable.asObservable().pipe((0,ue.M)(function(){return pt.isStable=!0})).subscribe(),this.onUnstableSub=this.ngZone.onUnstable.asObservable().pipe((0,ue.M)(function(){return pt.isStable=!1})).subscribe(),this.onTouched=function(){},this.panelPageService=Ot.getEntityCollectionService("PanelPage"),this.panelPageFormService=Ot.getEntityCollectionService("PanelPageForm"),this.panelPageStateService=Ot.getEntityCollectionService("PanelPageState")}return(0,g.A)(a,[{key:"id",set:function(n){this.id$.next(n)}},{key:"panelPage",set:function(n){this.panelPage$.next(n)}},{key:"nested",set:function(n){this.nested$.next(n)}},{key:"contexts",set:function(n){this.contexts$.next(n)}},{key:"ancestory",set:function(n){this.ancestory$.next(n)}},{key:"css",set:function(n){this.css$.next(n)}},{key:"listeners",set:function(n){this.listeners$.next(n)}},{key:"panelsArray",get:function(){return this.pageForm.get("panels")}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"ngOnDestroy",value:function(){a.registredContextListeners.delete(this.instanceUniqueIdentity)}},{key:"populatePanelsFormArray",value:function(n){var e=this,t=n.panelPage;this.panelsArray.clear(),t.panels.forEach(function(){e.panelsArray.push(e.fb.control(""))})}},{key:"hookupFormChange",value:function(n){var e=this,t=n.panelPage;this.pageForm.valueChanges.pipe((0,zn.B)(100),(0,he.p)(function(){return void 0!==t&&"form"===t.displayType})).subscribe(function(s){var u=new Us((0,_.A)((0,_.A)({},s),{},{name:t.name,title:t.title,derivativeId:t.id}));e.pageBuilderFacade.setForm(t.name,u)})}},{key:"hookupCss",value:function(n){var e=this;(0,Cn.p)([(0,De.of)(void 0),(0,De.of)(void 0),(0,De.of)(void 0),this.panelPageCached.id?this.http.get("".concat(this.mediaSettings.imageUrl,"/media/panelpage__").concat(this.panelPageCached.id,"__classes.json")).pipe((0,Tr.W)(function(){return(0,De.of)(void 0)}),br(void 0)):(0,De.of)(void 0)]).pipe((0,ue.M)(function(s){var u=(0,F.A)(s,4),l=u[0],c=u[1],p=u[2],m=u[3];console.log("fetched managed panelpage css and class files");var y={};e.managedCssCache="",e.managedClassesCache=m,l&&(y=Jd(y,l)),c&&(e.managedCssCache=p,y=Jd(y,c)),e.filteredCss={css:y,classes:m}})).subscribe()}},{key:"submit",value:function(){if(this.pageForm.valid){var n=new Us((0,_.A)({},this.pageForm.value)),e=this.formService.serializeForm(n);console.log(n),console.log(this.formService.serializeForm(n)),console.log("form data",e),this.persistService.persist({data:e,persistence:this.panelPageCached.persistence}).subscribe(function(){console.log("persisted data")})}else console.log("detected form invalid")}},{key:"writeValue",value:function(n){n&&this.settingsFormArray.setValue(n,{emitEvent:!1})}},{key:"registerOnChange",value:function(n){this.settingsFormArray.valueChanges.subscribe(n)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"setDisabledState",value:function(n){n?this.settingsFormArray.disable():this.settingsFormArray.enable()}},{key:"validate",value:function(n){var e=this;return this.pageForm.statusChanges.pipe((0,Pf.Z)(this.pageForm.status),(0,he.p)(function(t){return"PENDING"!==t}),(0,zn.B)(1),(0,on.s)(1),(0,me.T)(function(t){return e.pageForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}))}}])}();(Gs=x_).registredContextListeners=new Set,Gs.\u0275fac=function(r){return new(r||Gs)(o.rXU(o.Agw),o.rXU(Am),o.rXU(Or),o.rXU(h.ze),o.rXU(o.aKT),o.rXU(Ac),o.rXU(xi),o.rXU(Yt.ContentPluginManager),o.rXU(Ns),o.rXU(Zm),o.rXU(o.OM3),o.rXU(ln.StyleLoaderService),o.rXU(V.Qq),o.rXU(c_),o.rXU(yt.AttributeSerializerService),o.rXU(uw),o.rXU(rw),o.rXU(ln.AsyncApiCallHelperService),o.rXU(Xd),o.rXU(ii),o.rXU(o.SKi),o.rXU(Mj),o.rXU(xq),o.rXU(Eq),o.rXU(Cm),o.rXU(Fi),o.rXU(Cr))},Gs.\u0275cmp=o.VBU({type:Gs,selectors:[["classifieds-ui-panel-page"]],viewQuery:function(r,n){var e;1&r&&(o.GBs(ww,5),o.GBs(Oq,7),o.GBs(Nw,5)),2&r&&(o.mGM(e=o.lsd())&&(n.gridLayout=e.first),o.mGM(e=o.lsd())&&(n.renderPanelTpl=e.first),o.mGM(e=o.lsd())&&(n.layoutRendererHost=e.first))},hostVars:2,hostBindings:function(r,n){2&r&&o.AVh("panel-page",!0)},inputs:{id:"id",panelPage:"panelPage",nested:"nested",contexts:"contexts",ancestory:"ancestory",css:"css",listeners:"listeners",resolvedContext:"resolvedContext"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return Gs}),multi:!0},{provide:h.pg,useExisting:(0,f.Rfq)(function(){return Gs}),multi:!0}])],decls:6,vars:2,consts:[["renderPanelTpl",""],[3,"formGroup"],["classifiedsUiLayoutRendererHost",""],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"],["formArrayName","panels"],[3,"formControlName","panel","nested","contexts","resolvedContext","contextsChanged","displayType","indexPosition","css","listeners","ancestory"]],template:function(r,n){1&r&&(o.j41(0,"div",1),o.qex(1),o.DNE(2,Bq,0,0,"ng-template",2),o.bVm(),o.k0s(),o.DNE(3,Lq,2,0,"button",3)(4,Uq,3,12,"ng-template",null,0,o.C5r)),2&r&&(o.Y8G("formGroup",n.pageForm),o.R7$(3),o.Y8G("ngIf",n.persistenceEnabled))},dependencies:function(){return[k.bT,h.BC,h.cb,h.j4,h.JD,h.v8,Gq,Nw]},styles:["[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}"]});var mf=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p,m,y,x,D){var N=this;(0,v.A)(this,n),this.document=e,this.platformId=t,this.el=s,this.renderer2=u,this.componentFactoryResolver=l,this.panelHandler=c,this.fb=p,this.cpm=m,this.cssHelper=y,this.paneStateService=x,this.settings=[],this.ancestory=[],this.panes=[],this.originPanes=[],this.afterContentInit$=new W.B,this.resolvedContext$=new R.t({}),this.schedulePluginChange=new W.B,this.ancestoryWithSelf=[],this.filteredListeners=[],this.css$=new R.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,Vn.z)([this.css$,this.afterContentInit$,this.schedulePluginChange]).pipe((0,me.T)(function($){return(0,F.A)($,1)[0]}),(0,me.T)(function($){return{css:N.cssHelper.reduceCss($.css,".pane-".concat(N.indexPosition)),classes:N.cssHelper.reduceSelector($.classes,".pane-".concat(N.indexPosition))}}),(0,me.T)(function($){var q=$.css,le=$.classes;return[N.cssHelper.reduceCss(q,".panel-page",!1),N.cssHelper.reduceCss(q,".panel-page"),N.cssHelper.reduceSelector(le,".panel-page",!1),N.cssHelper.reduceSelector(le,".panel-page")]}),(0,ue.M)(function($){var q=(0,F.A)($,4);return N.filteredCss={css:q[1],classes:q[3]}}),(0,me.T)(function($){var q=(0,F.A)($,4);return{css:q[0],classes:q[2]}}),(0,me.T)(function($){var le=$.classes;return{css:{children:Object.keys($.css.children).reduce(function(ge,ke){return(0,_.A)((0,_.A)({},ge),0===ke.indexOf(">")?(0,d.A)({},N.ancestoryWithSelf.map(function(He,ot){return(ot+1)%2==0?".pane-".concat(He):".panel-".concat(He)}).join(" ")+" "+ke,le[ke]):(0,d.A)({},ke,le[ke]))},{})},classes:Object.keys(le).reduce(function(ge,ke){return(0,_.A)((0,_.A)({},ge),0===ke.indexOf(">")?(0,d.A)({},N.ancestoryWithSelf.map(function(He,ot){return(ot+1)%2==0?".pane-".concat(He):".panel-".concat(He)}).join(" ")+" "+ke,le[ke]):(0,d.A)({},ke,le[ke]))},{})}}),(0,fr.c)(500)).subscribe(function($){var q=$.css,le=$.classes;console.log("reduced classes",le);var ve=Object.keys(q.children).filter(function(ge){return""===ge||Vc({selector:ge,document:N.document})}),Ae=Object.keys(le).filter(function(ge){return""===ge||Vc({selector:ge,document:N.document})});Ae.forEach(function(ge,ke){for(var He=""===ge?[N.el.nativeElement]:-1!==ge.indexOf(">")?N.document.querySelectorAll(ge):N.el.nativeElement.querySelectorAll(ge),ot=He.length,at=0;at<ot;at++)for(var dt=le[Ae[ke]],Rt=Object.keys(dt),Ot=Rt.length,pt=0;pt<Ot;pt++)He[at]&&(dt[Rt[pt]]===rl.REMOVE?(console.log("remove class ".concat(Rt[pt])),N.renderer2.removeClass(He[at],Rt[pt])):(console.log("add class ".concat(Rt[pt])),N.renderer2.addClass(He[at],Rt[pt])))}),ve.forEach(function(ge){console.log("search: ".concat(ge));for(var ke=""===ge?[N.el.nativeElement]:-1!==ge.indexOf(">")?N.document.querySelectorAll(ge):N.el.nativeElement.querySelectorAll(ge),He=ke.length,ot=Object.keys(q.children[ge].attributes),at=function(Ot){ke[Ot]&&ot.forEach(function(pt){console.log("".concat(ge," { ").concat(pt,": ").concat(q.children[ge].attributes[pt],"; }"));var vt=Zu(pt.replace("-","_"),!1);N.renderer2.setStyle(ke[Ot],vt,q.children[ge].attributes[pt])})},dt=0;dt<He;dt++)at(dt)})}),this.listeners$=new R.t([]),this.listenersSub=(0,Vn.z)([this.listeners$,this.schedulePluginChange]).pipe((0,me.T)(function($){return(0,F.A)($,1)[0]}),(0,ue.M)(function($){console.log("pane listeners",$)})).subscribe(),this.paneForm=this.fb.group({contentPlugin:this.fb.control("",h.k0.required),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.control("")}),this.paneFormSub=this.paneForm.valueChanges.subscribe(function($){console.log("pane form value plugin: ".concat(N.pluginName)),console.log($)}),this.scheduleStateChange$=new W.B,this.scheduleStateChangeSub=this.scheduleStateChange$.pipe((0,We.n)(function($){return N.paneStateService.mergeState({state:$.state,ancestory:(0,A.A)(N.ancestoryWithSelf),settings:N.settings,plugin:N.contentPlugin})})).subscribe(function($){N.panelPageStateService.upsert($.pageState)}),this.onTouched=function(){},this.pluginChangeSub=this.schedulePluginChange.pipe((0,he.p)(function(){return N.pluginName&&null!==N.pluginName&&""!==N.pluginName}),(0,We.n)(function(){return N.cpm.getPlugin(N.pluginName)})).subscribe(function($){N.contentPlugin=$,N.paneForm.get("contentPlugin").setValue($.name),N.paneForm.get("name").setValue(N.name),N.paneForm.get("label").setValue(N.label),"panel"===N.pluginName?N.resolveNestedPanelPage():N.renderPaneContent()}),this.embedPanelSub=this.resolvedContext$.pipe((0,me.T)(function($){$&&$._root&&!N.linkedPageId&&0===N.settings.length&&(N.embedPanel=new Vr($._root))})).subscribe(),this.panelPageStateService=D.getEntityCollectionService("PanelPageState")},[{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"indexPositionClass",get:function(){return"pane-".concat(this.indexPosition)}},{key:"dynamicPanel",get:function(){return new Vr(this.resolvedContext._root)}},{key:"ngOnInit",value:function(){this.ancestoryWithSelf=[].concat((0,A.A)(this.ancestory?this.ancestory:[]),(0,A.A)(null!=this.indexPosition?[this.indexPosition]:[])),this.schedulePluginChange.next(void 0)}},{key:"ngOnChanges",value:function(t){if(t.ancestory||t.indexPosition){var s=[].concat((0,A.A)(t.ancestory.currentValue?t.ancestory.currentValue:this.ancestory?this.ancestory:[]),(0,A.A)(null!=t.indexPosition.currentValue?[t.indexPosition.currentValue]:this.indexPosition?[this.indexPosition]:[]));(s.length!==this.ancestoryWithSelf.length||0!==this.ancestoryWithSelf.filter(function(u,l){return s[l]!==u}).length)&&(this.ancestoryWithSelf=s)}this.schedulePluginChange.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.paneForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.paneForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.paneForm.disable():this.paneForm.enable()}},{key:"validate",value:function(t){var s=this;return this.paneForm.statusChanges.pipe((0,Pf.Z)(this.paneForm.status),(0,he.p)(function(u){return"PENDING"!==u}),(0,zn.B)(1),(0,on.s)(1),(0,me.T)(function(u){return s.paneForm.valid?null:{invalidForm:{invalidForm:{valid:!1,message:"pane is invalid"}}}}))}},{key:"resolveNestedPanelPage",value:function(){var t=this;this.panelHandler.toObject(this.settings).subscribe(function(s){t.panelPage=new Vr((0,_.A)((0,_.A)({},s),{},{contexts:t.contexts}))})}},{key:"renderPaneContent",value:function(){var t=this,s=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),u=this.contentPaneHost.viewContainerRef;u.clear(),this.componentRef=u.createComponent(s),this.componentRef.instance.settings=this.settings,this.componentRef.instance.name=this.name,this.componentRef.instance.label=this.label,this.componentRef.instance.panes=this.panes,this.componentRef.instance.originPanes=this.originPanes,this.componentRef.instance.contexts=this.contexts.map(function(l){return new Ua(l)}),this.componentRef.instance.displayType=this.displayType,this.componentRef.instance.resolvedContext=this.resolvedContext$.value,this.componentRef.instance.ancestory=this.ancestoryWithSelf,this.componentRef.instance.state&&this.contentPlugin.handler&&this.contentPlugin.handler.stateDefinition(this.settings).pipe((0,on.s)(1)).subscribe(function(l){t.componentRef.instance.state=l||{}}),this.componentRef.instance.stateChange&&this.componentRef.instance.stateChange.subscribe(function(l){t.scheduleStateChange$.next({state:l})})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(f.qQL),o.rXU(o.Agw),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.OM3),o.rXU(Wa),o.rXU(h.ze),o.rXU(Yt.ContentPluginManager),o.rXU(c_),o.rXU(Fz),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-render-pane"]],viewQuery:function(e,t){var s;1&e&&o.GBs(nh,7),2&e&&o.mGM(s=o.lsd())&&(t.contentPaneHost=s.first)},hostVars:5,hostBindings:function(e,t){2&e&&(o.BMQ("data-index",t.indexPosition),o.HbH(t.indexPositionClass),o.AVh("pane",!0))},inputs:{pluginName:"pluginName",settings:"settings",linkedPageId:"linkedPageId",contexts:"contexts",originPane:"originPane",displayType:"displayType",name:"name",label:"label",indexPosition:"indexPosition",ancestory:"ancestory",panes:"panes",originPanes:"originPanes",resolvedContext:"resolvedContext",css:"css",listeners:"listeners"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.pg,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}]),o.OA$],decls:6,vars:4,consts:[["fxFlex","",3,"formGroup"],["classifiedsUiPaneContentHost",""],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,Dq,0,0,"ng-template",1),o.bVm(),o.DNE(3,wq,1,6,"classifieds-ui-panel-page",2)(4,Fq,1,4,"classifieds-ui-panel-page",3)(5,kq,1,6,"classifieds-ui-panel-page",2),o.k0s()),2&e&&(o.Y8G("formGroup",t.paneForm),o.R7$(3),o.Y8G("ngIf","panel"==t.pluginName&&!t.linkedPageId&&0!==t.settings.length),o.R7$(),o.Y8G("ngIf","panel"==t.pluginName&&t.linkedPageId),o.R7$(),o.Y8G("ngIf","panel"==t.pluginName&&!t.linkedPageId&&0===t.settings.length))},dependencies:[k.bT,h.BC,h.cb,h.j4,h.JD,nh,x_],styles:["[_nghost-%COMP%]{height:100%}"]}),r}(),Gq=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p,m,y,x){var D=this;(0,v.A)(this,n),this.platformId=e,this.document=t,this.hostEl=s,this.renderer2=u,this.componentFactoryResolver=l,this.fb=c,this.panelResolverService=p,this.spm=m,this.cssHelper=y,this.styleResolverService=x,this.nested=!1,this.resolvedContext={},this.heightChange=new o.bkB,this.panelForm=this.fb.group({name:this.fb.control(""),label:this.fb.control(""),panes:this.fb.array([])}),this.panelFormSub=this.panelForm.valueChanges.subscribe(function(N){console.log("paneL form value"),console.log(N)}),this.filteredListeners=[],this.afterContentInit$=new W.B,this.schedulePanelRender=new W.B,this.rendered$=new W.B,this.css$=new R.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,Vn.z)([this.css$,this.afterContentInit$,this.rendered$]).pipe((0,ue.M)(function(N){var $=(0,F.A)(N,1);return console.log("css node",$[0].css)}),(0,me.T)(function(N){return(0,F.A)(N,1)[0]}),(0,me.T)(function(N){return{css:D.cssHelper.reduceCss(N.css,".panel-".concat(D.indexPosition$.value)),classes:D.cssHelper.reduceSelector(N.classes,".panel-".concat(D.indexPosition$.value))}}),(0,me.T)(function(N){var $=N.css,q=N.classes;return[D.cssHelper.reduceCss($,".pane-",!1),$,D.cssHelper.reduceSelector(q,".pane-",!1),q]}),(0,ue.M)(function(N){var $=(0,F.A)(N,4);return D.filteredCss={css:$[1],classes:$[3]}}),(0,me.T)(function(N){var $=(0,F.A)(N,3);return{css:$[0],classes:$[2]}}),(0,me.T)(function(N){var q=N.classes;return{css:{children:Object.keys(N.css.children).reduce(function(Ae,ge){return(0,_.A)((0,_.A)({},Ae),0===ge.indexOf(">")?(0,d.A)({},D.ancestoryWithSelf$.value.map(function(ke,He){return(He+1)%2==0?".pane-".concat(ke):".panel-".concat(ke)}).join(" ")+" "+ge,q[ge]):(0,d.A)({},ge,q[ge]))},{})},classes:Object.keys(q).reduce(function(Ae,ge){return(0,_.A)((0,_.A)({},Ae),0===ge.indexOf(">")?(0,d.A)({},D.ancestoryWithSelf$.value.map(function(ke,He){return(He+1)%2==0?".pane-".concat(ke):".panel-".concat(ke)}).join(" ")+" "+ge,q[ge]):(0,d.A)({},ge,q[ge]))},{})}}),(0,fr.c)(1)).subscribe(function(N){var $=N.css,q=N.classes;console.log("classes",q);var le=Object.keys($.children).filter(function(Ae){return""===Ae||Vc({selector:Ae,document:D.document})}),ve=Object.keys(q).filter(function(Ae){return""===Ae||Vc({selector:Ae,document:D.document})});ve.forEach(function(Ae,ge){for(var ke=""===Ae?[D.hostEl.nativeElement]:-1!==Ae.indexOf(">")?D.document.querySelectorAll(Ae):D.hostEl.nativeElement.querySelectorAll(Ae),He=ke.length,ot=0;ot<He;ot++)for(var at=q[ve[ge]],dt=Object.keys(at),Rt=dt.length,Ot=0;Ot<Rt;Ot++)ke[ot]&&(at[dt[Ot]]===rl.REMOVE?(console.log("remove class ".concat(dt[Ot])),D.renderer2.removeClass(ke[ot],dt[Ot])):(console.log("add class ".concat(dt[Ot])),D.renderer2.addClass(ke[ot],dt[Ot])))}),le.forEach(function(Ae){console.log("search: ".concat(Ae));for(var ge=""===Ae?[D.hostEl.nativeElement]:-1!==Ae.indexOf(">")?D.document.querySelectorAll(Ae):D.hostEl.nativeElement.querySelectorAll(Ae),ke=ge.length,He=Object.keys($.children[Ae].attributes),ot=function(Rt){ge[Rt]&&He.forEach(function(Ot){console.log("".concat(Ae," { ").concat(Ot,": ").concat($.children[Ae].attributes[Ot],"; }"));var pt=Zu(Ot.replace("-","_"),!1);D.renderer2.setStyle(ge[Rt],pt,$.children[Ae].attributes[Ot])})},at=0;at<ke;at++)ot(at)})}),this.listeners$=new R.t([]),this.listenersSub=this.listeners$.pipe((0,ue.M)(function(N){console.log("panel listeners",N),D.filteredListeners=N})).subscribe(),this.scheduleRender=new W.B,this.scheduleRenderSub=this.scheduleRender.pipe((0,ue.M)(function(){return console.log("schdule renderer before [".concat(D.panel.name,"]"))}),(0,We.n)(function(N){var $=(0,F.A)(N,3),q=$[0];return D.panelResolverService.resolvePanes({panes:q,contexts:$[1],resolvedContext:$[2]}).pipe((0,me.T)(function(Ae){return{resolvedPanes:Ae.resolvedPanes,originMappings:Ae.originMappings,panes:q}}))}),(0,We.n)(function(N){var $=N.panes;return D.styleResolverService.alterResolvedPanes({panel:D.panel,resolvedPanes:N.resolvedPanes,originMappings:N.originMappings}).pipe((0,me.T)(function(ve){return{panes:$,resolvedPanes:ve.resolvedPanes,originMappings:ve.originMappings}}))}),(0,ue.M)(function(){return console.log("schdule renderer after [".concat(D.panel.name,"]"))})).subscribe(function(N){var $=N.panes,q=N.resolvedPanes,le=N.originMappings;console.log("render panel: ".concat(D.panel.name)),D.resolvedPanes=q,D.originPanes=$,D.originMappings=le,D.populatePanesFormArray(),void 0!==D.stylePlugin?D.renderPanelContent():D.rendered$.next(void 0)}),this.schduleContextChange=new W.B,this.schedulePanelRenderSub=this.schedulePanelRender.pipe((0,We.n)(function(N){return D.spm.getPlugin(N)})).subscribe(function(N){var $=D.componentFactoryResolver.resolveComponentFactory(N.renderComponent),q=D.panelHost.viewContainerRef;q.clear();var le=q.createComponent($);D.componentRef=le,le.instance.settings=D.panel.settings,le.instance.panes=D.resolvedPanes,le.instance.originPanes=D.panel.panes,le.instance.originMappings=D.originMappings,le.instance.contexts=D.contexts.map(function(ve){return new Ua(ve)}),le.instance.displayType=D.displayType,le.instance.ancestory=D.ancestoryWithSelf$.value,le.instance.resolvedContext=D.resolvedContext,le.instance.panel=D.panel,le.instance.indexPosition=D.indexPosition$.value,D.rendered$.next(void 0)}),this.originMappings=[],this.resolvedContexts=[],this.ancestoryWithSelf$=new R.t([]),this.ancestory$=new R.t([]),this.indexPosition$=new R.t(void 0),this.onTouched=function(){},this.ancestorySub=(0,Vn.z)([this.ancestory$,this.indexPosition$]).pipe((0,ue.M)(function(N){var $=(0,F.A)(N,2),le=$[1];D.ancestoryWithSelf$.next([].concat((0,A.A)($[0]),[le]))})).subscribe(),this.counter=n.COUNTER++},[{key:"contextChanged",set:function(t){}},{key:"contextsChanged",set:function(t){var s=this;t.map(function(u){return s.schduleContextChange.next(u)})}},{key:"indexPosition",set:function(t){this.indexPosition$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"indexPositionClass",get:function(){return"panel-".concat(this.indexPosition$.value)}},{key:"panesArray",get:function(){return this.panelForm.get("panes")}},{key:"ngOnInit",value:function(){var t=this;this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,void 0!==this.panel&&void 0!==this.panelHost&&(console.log("panel render init [".concat(this.panel.name)),this.panelResolverService.usedContexts(this.panel.panes).pipe((0,me.T)(function(s){return s.filter(function(u){return"_page"!==u&&"_root"!==u&&"."!==u&&0!==u.indexOf("panestate-"+t.ancestoryWithSelf$.value.join("-"))})}),(0,ue.M)(function(s){return console.log("contexts [".concat(t.panel.name,"]: ").concat(s.join(",")))}),(0,We.n)(function(s){return t.schduleContextChange.pipe((0,ue.M)(function(u){return console.log("detected change [".concat(t.panel.name,"]: ").concat(u))}),(0,me.T)(function(u){return[s,u]}))}),(0,ue.M)(function(s){var u=(0,F.A)(s,2),l=u[0],c=u[1];return console.log("detected change [".concat(t.panel.name,"]: ").concat(c," : ctx: ").concat(l.join(",")))}),(0,he.p)(function(s){var u=(0,F.A)(s,2),l=u[0],c=u[1];return Array.isArray(l)&&-1!==l.findIndex(function(p){return p===c})}),(0,zn.B)(100)).subscribe(function(s){var u=(0,F.A)(s,2),l=u[0],c=u[1];console.log("Context changed [".concat(t.panel.name,"]: ").concat(c)),console.log("contexts detected [".concat(t.panel.name,"]: ").concat(l.join(","))),t.scheduleRender.next([t.panel.panes,t.contexts,t.resolvedContext])}))}},{key:"ngOnChanges",value:function(t){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,t.resolvedContext&&void 0===t.resolvedContext.previousValue&&this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}},{key:"ngAfterViewInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.panelForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.panelForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.panelForm.disable():this.panelForm.enable()}},{key:"validate",value:function(t){var s=this;return this.panelForm.statusChanges.pipe((0,Pf.Z)(this.panelForm.status),(0,he.p)(function(u){return"PENDING"!==u}),(0,zn.B)(1),(0,on.s)(1),(0,me.T)(function(u){return s.panelForm.valid?null:{invalidForm:{valid:!1,message:"panel are invalid"}}}))}},{key:"populatePanesFormArray",value:function(){var t=this;this.panesArray.clear(),this.resolvedPanes.forEach(function(s,u){t.panesArray.push(t.fb.control(""))})}},{key:"renderPanelContent",value:function(){this.schedulePanelRender.next(this.stylePlugin)}}])}();return(a=r).COUNTER=0,a.\u0275fac=function(e){return new(e||a)(o.rXU(o.Agw),o.rXU(f.qQL),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.OM3),o.rXU(h.ze),o.rXU(u_),o.rXU(Fc),o.rXU(c_),o.rXU(aw))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-render-panel"]],viewQuery:function(e,t){var s;1&e&&(o.GBs(nh,7),o.GBs(Pq,7),o.GBs(mf,5)),2&e&&(o.mGM(s=o.lsd())&&(t.panelHost=s.first),o.mGM(s=o.lsd())&&(t.paneContainer=s.first),o.mGM(s=o.lsd())&&(t.renderedPanes=s))},hostVars:5,hostBindings:function(e,t){2&e&&(o.BMQ("data-index",t.indexPosition$.value),o.HbH(t.indexPositionClass),o.AVh("panel",!0))},inputs:{panel:"panel",contexts:"contexts",nested:"nested",displayType:"displayType",resolvedContext:"resolvedContext",contextChanged:"contextChanged",contextsChanged:"contextsChanged",indexPosition:"indexPosition",ancestory:"ancestory",css:"css",listeners:"listeners"},outputs:{heightChange:"heightChange"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.pg,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}]),o.OA$],decls:5,vars:2,consts:[["panes",""],[1,"render-panel",3,"formGroup"],["classifiedsUiPaneContentHost",""],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formArrayName","panes"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"]],template:function(e,t){1&e&&(o.j41(0,"div",1,0),o.qex(2),o.DNE(3,Rq,0,0,"ng-template",2),o.bVm(),o.DNE(4,Nq,4,3,"ng-container",3),o.k0s()),2&e&&(o.Y8G("formGroup",t.panelForm),o.R7$(4),o.Y8G("ngIf",!t.stylePlugin&&t.resolvedPanes))},dependencies:[k.Sq,k.bT,k.ux,k.e1,h.BC,h.cb,h.j4,h.JD,h.v8,nh,mf],styles:["[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}"]}),r}(),E_=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),e.register(new dD({id:"panels_form_submit",title:"Submit Panels Form"})),e.register(new dD({id:"panels_dialog",title:"Open Panels Dialog"}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(cD))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,ln.UtilsModule,h.X1,s_,Tw]}),r}(),Nc=b(7081),rh=b(9771),ah=b(3804),Ow=b(2047),Mo=b(7697);function zq(a,r){if(1&a){var n=o.RV6();o.j41(0,"a",4),o.bIt("click",function(){var s=f.eBV(n).$implicit,u=o.XpG();return f.Njj(u.onEntitySelected(s.value))}),o.j41(1,"span",5),o.EFF(2),o.k0s()()}if(2&a){var e=r.$implicit;o.R7$(2),o.JRh(e.value.title)}}function Hq(a,r){}function Kq(a,r){if(1&a){var n=o.RV6();o.j41(0,"classifieds-ui-dynamic-content-viewer",1),o.nI1(1,"async"),o.bIt("docRendered",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.onDocRendered())}),o.k0s()}if(2&a){var e=o.XpG();o.Y8G("content",o.bMT(1,1,e.content$))}}function Xq(a,r){if(1&a){var n=o.RV6();o.j41(0,"classifieds-ui-dynamic-content-viewer",1),o.nI1(1,"async"),o.bIt("docRendered",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.onDocRendered())}),o.k0s()}if(2&a){var e=o.XpG();o.Y8G("content",o.bMT(1,1,e.content$))}}function qq(a,r){if(1&a){var n=o.RV6();o.j41(0,"a",4),o.bIt("click",function(){var s=f.eBV(n).$implicit,u=o.XpG();return f.Njj(u.onStyleSelected(s.value))}),o.j41(1,"span",5),o.EFF(2),o.k0s()()}if(2&a){var e=r.$implicit;o.R7$(2),o.JRh(e.value.title)}}function Wq(a,r){}var Yq=["contentEditor"],ih=function(r){return{settings:r}},Qq=function(r){return{visible:r}};function Jq(a,r){1&a&&o.eu8(0)}function Zq(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",21),o.bIt("click",function(){f.eBV(n);var t=o.XpG(2);return f.Njj(t.onOverrideClick())}),o.EFF(1,"Override"),o.k0s()}}function eW(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",21),o.bIt("click",function(){f.eBV(n);var t=o.XpG(2);return f.Njj(t.onRemoveOverrideClick())}),o.EFF(1,"Remove Override"),o.k0s()}}function tW(a,r){}function nW(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14)(4,"mat-icon"),o.EFF(5,"more_vert"),o.k0s()()(),o.j41(6,"mat-expansion-panel",15),o.bIt("afterCollapse",function(){f.eBV(n);var l=o.XpG();return f.Njj(l.onAfterCollapse())})("afterExpand",function(){f.eBV(n);var l=o.XpG();return f.Njj(l.onAfterExpand())}),o.j41(7,"mat-expansion-panel-header")(8,"mat-panel-title"),o.EFF(9),o.k0s()(),o.j41(10,"div",16)(11,"ul"),o.DNE(12,Jq,1,0,"ng-container",17),o.k0s()(),o.j41(13,"div",18),o.DNE(14,Zq,2,0,"button",19)(15,eW,2,0,"button",19),o.qex(16),o.DNE(17,tW,0,0,"ng-template",20),o.bVm(),o.k0s()()()()}if(2&a){var e=o.XpG(),t=o.sdS(2),s=o.sdS(6);o.R7$(3),o.Y8G("matMenuTriggerFor",s),o.R7$(6),o.Lme("",e.contentPlugin.title," : ",e.name),o.R7$(),o.Y8G("hidden",e.preview),o.R7$(2),o.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",o.eq3(9,ih,e.settings)),o.R7$(),o.Y8G("ngClass",o.eq3(11,Qq,e.preview)),o.R7$(),o.Y8G("ngIf",e.displayOverride&&!e.hasOverride),o.R7$(),o.Y8G("ngIf",e.displayOverride&&e.hasOverride)}}function rW(a,r){if(1&a&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"attribute"),o.k0s()),2&a){var n=o.XpG().$implicit,e=o.XpG().settings;o.R7$(),o.JRh(o.i5U(2,1,e,n.name))}}function aW(a,r){1&a&&o.eu8(0)}function iW(a,r){if(1&a&&(o.j41(0,"ul"),o.DNE(1,aW,1,0,"ng-container",17),o.k0s()),2&a){var n=o.XpG().$implicit;o.XpG(2);var e=o.sdS(2);o.R7$(),o.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",o.eq3(2,ih,n.attributes))}}function oW(a,r){if(1&a&&(o.j41(0,"li"),o.EFF(1),o.DNE(2,rW,3,4,"span",23)(3,iW,2,4,"ul",23),o.k0s()),2&a){var n=r.$implicit,e=o.XpG().settings;o.R7$(),o.SpI(" ",n.displayName,": "),o.R7$(),o.Y8G("ngIf",!n.attributes||0==n.attributes.length),o.R7$(),o.Y8G("ngIf",e.attributes&&n.attributes.length>0)}}function sW(a,r){1&a&&o.DNE(0,oW,4,3,"li",22),2&a&&o.Y8G("ngForOf",r.settings)}function uW(a,r){}function lW(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",24)(1,"classifieds-ui-content-editor",25,3),o.bIt("nestedUpdate",function(s){f.eBV(n);var u=o.XpG();return f.Njj(u.onNestedUpdate(s))})("delete",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.onDeleteClick())})("rules",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.onRulesClick())})("props",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.onPropsClick())}),o.DNE(3,uW,0,0,"ng-template",null,4,o.C5r),o.k0s()()}if(2&a){var e=o.XpG();o.R7$(),o.Y8G("panelPage",e.panelPage)("savable",!1)("nested",!0)("locked",e.locked)("contexts",e.contexts)("rootContext",e.rootContext)("ancestory",e.paneAncestoryWithSelf)}}function cW(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",26),o.bIt("click",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.onPreviewClick())}),o.EFF(1,"Preview"),o.k0s()}if(2&a){var e=o.XpG();o.Y8G("disabled",e.locked)}}function dW(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",27),o.bIt("click",function(){f.eBV(n);var t=o.XpG();return f.Njj(t.onDisablePreviewClick())}),o.EFF(1,"Disable Preview"),o.k0s()}}var fW=["extraActionsArea"],pW=["contextsMenuTpl"],mW=["editablePaneTpl"],hW=["panes"],Bw=function(r){return{nested:r}};function gW(a,r){}function vW(a,r){if(1&a){var n=o.RV6();o.j41(0,"form",7),o.bIt("ngSubmit",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.submit())}),o.qex(1),o.DNE(2,gW,0,0,"ng-template",8),o.bVm(),o.k0s()}if(2&a){var e=o.XpG();o.Y8G("formGroup",e.contentForm)("ngClass",o.eq3(2,Bw,e.nested))}}function yW(a,r){}function _W(a,r){if(1&a&&(o.j41(0,"div",9),o.qex(1),o.DNE(2,yW,0,0,"ng-template",8),o.bVm(),o.k0s()),2&a){var n=o.XpG();o.Y8G("formGroup",n.contentForm)("ngClass",o.eq3(2,Bw,n.nested))}}function bW(a,r){1&a&&o.nrm(0,"div",12)}function AW(a,r){if(1&a){var n=o.RV6();o.j41(0,"classifieds-ui-editable-pane",10),o.bIt("delete",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.onDeletePane(c,p))})("rules",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.onRulesPane(c,p))})("nestedUpdate",function(l){var c=f.eBV(n),p=c.i,m=c.j,y=o.XpG();return f.Njj(y.onNestedUpdate(l,p,m))})("rendererOverride",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.onOverrideRenderer(c,p))})("removeRendererOverride",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.onRemoveOverrideRenderer(c,p))})("edit",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.onPaneEdit(c,p))})("props",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.editPaneProps(c,p))})("delete",function(){var l=f.eBV(n),c=l.i,p=l.j,m=o.XpG();return f.Njj(m.onPaneDelete(c,p))}),o.DNE(1,bW,1,0,"div",11),o.k0s()}if(2&a){var e=r.i,t=r.j,s=o.XpG();o.Y8G("panelIndex",e)("paneIndex",t)("name",s.panelPaneName(e,t))("label",s.panelPaneLabel(e,t))("locked",s.panelPaneLocked(e,t))("contexts",s.contexts)("pluginName",s.panelPanePlugin(e,t))("settings",s.panelPaneSettings(e,t))("ancestory",s.ancestory)}}function CW(a,r){if(1&a&&(o.j41(0,"button",13),o.EFF(1,"( x )"),o.k0s()),2&a){o.XpG();var n=o.sdS(8);o.Y8G("matMenuTriggerFor",n)}}function SW(a,r){if(1&a){var n=o.RV6();o.j41(0,"button",5),o.bIt("click",function(){var s=f.eBV(n).$implicit,u=o.XpG();return f.Njj(u.onEditContext(s.name))}),o.EFF(1),o.k0s()}if(2&a){var e=r.$implicit;o.R7$(),o.JRh(e.name)}}function xW(a,r){if(1&a){var n=o.RV6();o.j41(0,"a",1),o.bIt("click",function(){var s=f.eBV(n).$implicit,u=o.XpG();return f.Njj(u.onItemSelect(s.value))}),o.j41(1,"span",2),o.EFF(2),o.k0s()()}if(2&a){var e=r.$implicit;o.R7$(2),o.JRh(e.value.name)}}function EW(a,r){1&a&&o.eu8(0)}function DW(a,r){if(1&a&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&a){var n=o.XpG().$implicit;o.R7$(),o.SpI("",n.displayName,": ")}}function wW(a,r){if(1&a&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"attribute"),o.k0s()),2&a){var n=o.XpG().$implicit,e=o.XpG().settings;o.R7$(),o.JRh(o.i5U(2,1,e,n.name))}}function FW(a,r){1&a&&o.eu8(0)}function kW(a,r){if(1&a&&(o.j41(0,"div"),o.DNE(1,FW,1,0,"ng-container",5),o.k0s()),2&a){var n=o.XpG().$implicit;o.XpG(2);var e=o.sdS(3);o.R7$(),o.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",o.eq3(2,ih,n.attributes))}}function PW(a,r){if(1&a&&(o.j41(0,"div"),o.DNE(1,DW,2,1,"span",3)(2,wW,3,4,"span",3)(3,kW,2,4,"div",3),o.k0s()),2&a){var n=r.$implicit;o.R7$(),o.Y8G("ngIf",0==n.attributes.length),o.R7$(),o.Y8G("ngIf",0==n.attributes.length),o.R7$(),o.Y8G("ngIf",n.attributes.length>0)}}function RW(a,r){1&a&&o.DNE(0,PW,4,3,"div",6),2&a&&o.Y8G("ngForOf",r.settings)}function TW(a,r){if(1&a&&(o.j41(0,"div"),o.DNE(1,EW,1,0,"ng-container",5)(2,RW,1,1,"ng-template",null,1,o.C5r),o.k0s()),2&a){var n=o.sdS(3),e=o.XpG(2);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",o.eq3(2,ih,e.attributeValues))}}function MW(a,r){if(1&a&&(o.j41(0,"div",7),o.nrm(1,"classifieds-ui-attributes-builder",8),o.k0s()),2&a){var n=o.XpG(2);o.Y8G("formGroup",n.controlContainer.control),o.R7$(),o.Y8G("attributes",n.attributes)("attributeValues",n.attributeValues)}}function IW(a,r){if(1&a&&(o.j41(0,"div"),o.DNE(1,TW,4,4,"div",3)(2,MW,2,3,"div",4),o.k0s()),2&a){var n=o.XpG();o.R7$(),o.Y8G("ngIf","page"==n.displayType),o.R7$(),o.Y8G("ngIf","form"==n.displayType)}}function VW(a,r){if(1&a&&o.nrm(0,"classifieds-ui-snippet-pane-renderer",9),2&a){var n=o.XpG();o.Y8G("settings",n.rendererSettings)("tokens",n.tokens)}}function NW(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-image-preview",2),o.bIt("removed",function(s){f.eBV(n);var u=o.XpG();return f.Njj(u.onRemoveMedia(s))}),o.j41(1,"ngx-dropzone-label"),o.EFF(2),o.k0s()()}if(2&a){var e=o.XpG();o.Y8G("removable",!0)("file",e.media),o.R7$(2),o.Lme("",e.media.name," (",e.media.type,")")}}var OW=["img"];function BW(a,r){if(1&a&&(o.j41(0,"mat-option",26),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n)}}function LW(a,r){if(1&a&&(o.j41(0,"div")(1,"mat-form-field",23)(2,"mat-label"),o.EFF(3,"Pane"),o.k0s(),o.j41(4,"mat-select",24),o.DNE(5,BW,2,2,"mat-option",25),o.k0s()()()),2&a){var n=r.index,e=o.XpG(2);o.R7$(),o.Y8G("formGroupName",n),o.R7$(4),o.Y8G("ngForOf",e.panes)}}function UW(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",20)(1,"button",21),o.bIt("click",function(){f.eBV(n);var s=o.XpG();return f.Njj(s.addPane())}),o.EFF(2,"Add Pane"),o.k0s(),o.j41(3,"div"),o.DNE(4,LW,6,2,"div",22),o.k0s()()}if(2&a){var e=o.XpG();o.R7$(4),o.Y8G("ngForOf",e.bindings.controls)}}function GW(a,r){1&a&&(o.j41(0,"div",27)(1,"mat-form-field"),o.nrm(2,"input",28),o.k0s(),o.j41(3,"mat-form-field"),o.nrm(4,"input",29),o.k0s(),o.j41(5,"mat-form-field"),o.nrm(6,"input",30),o.k0s(),o.j41(7,"div")(8,"mat-checkbox",31),o.EFF(9,"Multiple"),o.k0s()(),o.j41(10,"mat-form-field"),o.nrm(11,"input",32),o.k0s()())}function jW(a,r){if(1&a&&(o.j41(0,"mat-option",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value),o.R7$(),o.JRh(n.label)}}function $W(a,r){if(1&a&&(o.qex(0),o.j41(1,"mat-form-field")(2,"mat-label"),o.EFF(3),o.k0s(),o.j41(4,"mat-select",6),o.DNE(5,jW,2,2,"mat-option",7),o.k0s()(),o.bVm()),2&a){var n=o.XpG();o.R7$(3),o.JRh(n.label),o.R7$(2),o.Y8G("ngForOf",n.options)}}function zW(a,r){if(1&a&&(o.j41(0,"mat-radio-button",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value),o.R7$(),o.JRh(n.label)}}function HW(a,r){if(1&a&&(o.qex(0),o.j41(1,"div")(2,"label"),o.EFF(3),o.k0s(),o.j41(4,"mat-radio-group",6),o.DNE(5,zW,2,2,"mat-radio-button",7),o.k0s()(),o.bVm()),2&a){var n=o.XpG();o.R7$(3),o.JRh(n.label),o.R7$(2),o.Y8G("ngForOf",n.options)}}function KW(a,r){if(1&a&&(o.j41(0,"div")(1,"div",10)(2,"mat-checkbox",11),o.EFF(3),o.k0s()()()),2&a){var n=r.$implicit,e=r.index;o.R7$(),o.Y8G("formGroupName",e),o.R7$(2),o.JRh(n.label)}}function XW(a,r){if(1&a&&(o.qex(0),o.j41(1,"div")(2,"div",2),o.DNE(3,KW,4,2,"div",9),o.k0s()(),o.bVm()),2&a){var n=o.XpG();o.R7$(3),o.Y8G("ngForOf",n.options)}}function qW(a,r){if(1&a&&(o.j41(0,"mat-option",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n.label)}}function WW(a,r){if(1&a){var n=o.RV6();o.qex(0),o.j41(1,"mat-form-field"),o.nrm(2,"input",12),o.j41(3,"mat-autocomplete",13,0),o.bIt("optionSelected",function(u){f.eBV(n);var l=o.XpG();return f.Njj(l.onOptionSelected(u))}),o.DNE(5,qW,2,2,"mat-option",7),o.k0s()(),o.bVm()}if(2&a){var e=o.sdS(4),t=o.XpG();o.R7$(2),o.Y8G("placeholder",t.label)("matAutocomplete",e),o.R7$(),o.Y8G("displayWith",t.displayAuto),o.R7$(2),o.Y8G("ngForOf",t.options)}}function YW(a,r){if(1&a&&(o.j41(0,"mat-option",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.name),o.R7$(),o.JRh(n.name)}}function QW(a,r){if(1&a){var n=o.RV6();o.j41(0,"div",5),o.nrm(1,"druid-panels-panelpage-linkedlist",6),o.j41(2,"button",3),o.bIt("click",function(){var u=f.eBV(n).index,l=o.XpG();return f.Njj(l.onRemoveMapping(u))}),o.EFF(3,"Remove"),o.k0s()()}if(2&a){var e=r.index,t=o.XpG();o.Y8G("formGroupName",e),o.R7$(),o.Y8G("panes",t.panes)}}function JW(a,r){if(1&a&&o.nrm(0,"classifieds-ui-render-pane",4),2&a){var n=o.XpG().index,e=o.XpG(2);o.Y8G("pluginName",e.panes[2*n].contentPlugin)("settings",e.panes[2*n].settings)("contexts",e.panes[2*n].contexts)}}function ZW(a,r){if(1&a&&(o.j41(0,"mat-tab"),o.DNE(1,JW,1,3,"ng-template",3),o.nrm(2,"classifieds-ui-render-pane",4),o.k0s()),2&a){var n=r.index,e=o.XpG(2);o.R7$(2),o.Y8G("pluginName",e.panes[2*n+1].contentPlugin)("settings",e.panes[2*n+1].settings)("contexts",e.panes[2*n+1].contexts)}}function eY(a,r){if(1&a&&(o.j41(0,"mat-tab-group",1),o.DNE(1,ZW,3,3,"mat-tab",2),o.k0s()),2&a){var n=o.XpG();o.R7$(),o.Y8G("for",n.panes.length/2)}}function tY(a,r){if(1&a&&(o.j41(0,"mat-tab",6),o.nrm(1,"classifieds-ui-render-pane",4),o.k0s()),2&a){var n=r.$implicit;o.R7$(),o.Y8G("pluginName",n.contentPlugin)("settings",n.settings)("contexts",n.contexts)}}function nY(a,r){if(1&a&&(o.j41(0,"mat-tab-group",1),o.DNE(1,tY,2,3,"mat-tab",5),o.k0s()),2&a){var n=o.XpG();o.R7$(),o.Y8G("ngForOf",n.panes)}}function rY(a,r){if(1&a&&(o.j41(0,"div",2),o.nrm(1,"classifieds-ui-render-pane",3),o.k0s()),2&a){var n=r.$implicit;o.R7$(),o.Y8G("pluginName",n.contentPlugin)("settings",n.settings)("contexts",n.contexts)("resolvedContext",n.resolvedContext)}}function aY(a,r){if(1&a&&(o.j41(0,"th",7),o.EFF(1),o.k0s()),2&a){var n=o.XpG().$implicit;o.R7$(),o.JRh(n)}}function iY(a,r){if(1&a&&(o.j41(0,"td",8),o.EFF(1),o.k0s()),2&a){var n=r.$implicit,e=o.XpG().$implicit,t=o.XpG();o.R7$(),o.JRh(t.rowData(e,n))}}function oY(a,r){1&a&&(o.qex(0,4),o.DNE(1,aY,2,1,"th",5)(2,iY,2,1,"td",6),o.bVm()),2&a&&o.Y8G("matColumnDef",r.$implicit)}function sY(a,r){1&a&&o.nrm(0,"tr",9)}function uY(a,r){1&a&&o.nrm(0,"tr",10)}var R_,lY={GridLayout:{entityName:"GridLayout"},PanelPageForm:{crud:{panelpageform_serialize:{plugins:{idb_keyval:{params:{prefix:"panelpageform__"}}}}}}},oh=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiContentSelectionHost",""]],standalone:!1}),r}(),cY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.data=e,this.bottomSheetRef=t,this.dialog=s,this.componentFactoryResolver=u,this.fb=l,this.contentPluginManager=c,this.selectedIndex=0},[{key:"ngOnInit",value:function(){this.contentPlugins=this.contentPluginManager.getPlugins()}},{key:"onEntitySelected",value:function(t){var s=this;this.plugin=t,void 0!==this.plugin.selectionComponent?(this.selectedIndex=1,this.renderSelectionComponent()):void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),t.handler?this.plugin.handler.editorOptions([]).subscribe(function(l){s.dialog.open(s.plugin.editorComponent,(0,_.A)({data:{panelFormGroup:s.data.panelForm,panelIndex:s.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:s.data.contexts,contentAdded:s.data.contentAdded,plugin:t}},l.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}))}):this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded}})):this.data.panelForm.get("panes").push(this.fb.group({contentPlugin:this.fb.control(this.plugin.id),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.array([])}))}},{key:"renderSelectionComponent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.plugin.selectionComponent),s=this.selectionHost.viewContainerRef;s.clear();var u=s.createComponent(t);u.instance.panelFormGroup=this.data.panelForm,u.instance.contexts=this.data.contexts}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Qu.yj),o.rXU(Qu.eN),o.rXU(Ut.bZ),o.rXU(o.OM3),o.rXU(h.ze),o.rXU(Yt.ContentPluginManager))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-content-selector"]],viewQuery:function(e,t){var s;1&e&&o.GBs(oh,7),2&e&&o.mGM(s=o.lsd())&&(t.selectionHost=s.first)},standalone:!1,decls:10,vars:6,consts:[[1,"content-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),o.DNE(4,zq,3,1,"a",2),o.nI1(5,"async"),o.nI1(6,"keyvalue"),o.k0s()(),o.j41(7,"mat-tab"),o.qex(8),o.DNE(9,Hq,0,0,"ng-template",3),o.bVm(),o.k0s()()()),2&e&&(o.R7$(),o.Y8G("selectedIndex",t.selectedIndex),o.R7$(3),o.Y8G("ngForOf",o.bMT(6,4,o.bMT(5,2,t.contentPlugins))))},dependencies:[k.Sq,Um.vu,Os._L,Os.YE,Po.mq,Po.T8,oh,k.Jj,k.lG],styles:[".content-selector-wrapper[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}"]}),r}(),al=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.attributeSerializer=e,this.tokenizrService=t,this.types=["text/markdown","text/html"]},[{key:"handleFile",value:function(t){var s=this;return new L.c(function(u){var l=new FileReader;l.onload=function(){u.next(s.buildSettings(new Ku({contentType:t.type,content:"".concat(l.result)}))),u.complete()},l.readAsText(t)})}},{key:"handlesType",value:function(t){return void 0!==this.types.find(function(s){return s===t})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){var l=this;return"context"===s?this.toObject(t).pipe((0,me.T)(function(c){return l.tokenizrService.discoverTokens(c.content).map(function(m){return new Yt.ContentBinding({id:m,type:"context"})})})):(0,De.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(new Ku(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,De.of)({})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions({fullscreen:!0}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService),f.KVO(Yn))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Lw=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){var l=this;(0,v.A)(this,n),this.hostEl=e,this.handler=t,this.tokenizerService=s,this.markdownService=u,this.contexts=[],this.afterContentInit$=new W.B,this.content="",this.content$=new R.t(""),this.settings$=new R.t([]),this.snippet$=new R.t(void 0),this.resolvedContext$=new R.t(void 0),this.docRendered$=new W.B,this.contentSub=(0,Vn.z)([this.afterContentInit$,this.content$,this.snippet$,this.docRendered$]).subscribe(function(c){var x=(0,F.A)(c,3)[2];x&&x.jsScript&&""!==x.jsScript&&setTimeout(function(){return l.appendScript(x.jsScript)})}),this.renderContentSub=(0,Vn.z)([this.settings$,this.resolvedContext$]).pipe((0,We.n)(function(c){var p=(0,F.A)(c,2);return l.handler.toObject(p[0])}),(0,We.n)(function(c){return l.resolveContexts().pipe((0,me.T)(function(p){return[c,p]}))})).subscribe(function(){var c=(0,Mt.A)(function(p){var m=(0,F.A)(p,2),y=m[0],x=m[1];return(0,Ke.A)().m(function D(){var N,$;return(0,Ke.A)().w(function(q){for(;;)switch(q.n){case 0:if(void 0!==x&&(l.tokens=x),l.contentType=y.contentType,l.snippet$.next(y),N=l.replaceTokens(y.content),!y.contentType||-1===y.contentType.indexOf("markdown")){q.n=2;break}return q.n=1,Promise.resolve(l.markdownService.parse(N));case 1:$=q.v,q.n=3;break;case 2:$=N;case 3:l.content$.next($);case 4:return q.a(2)}},D)})()});return function(p){return c.apply(this,arguments)}}())},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){console.log("pane changed")}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(),this.afterContentInit$.complete()}},{key:"replaceTokens",value:function(t){return void 0!==this.tokens&&this.tokens.forEach(function(s,u){t=t.split("[".concat(u,"]")).join("".concat(s))}),t}},{key:"resolveContexts",value:function(){var t=this;return new L.c(function(s){var u=new Map;if(t.resolvedContext$.value)for(var l in t.resolvedContext$.value)u=new Map([].concat((0,A.A)(u),(0,A.A)(t.tokenizerService.generateGenericTokens(t.resolvedContext$.value[l],"_root"===l?"":l))));s.next(u),s.complete()})}},{key:"appendScript",value:function(t){var s=document.createElement("script");s.type="text/javascript",s.appendChild(document.createTextNode(t)),this.hostEl.nativeElement.appendChild(s),console.log("add script")}},{key:"onDocRendered",value:function(){this.docRendered$.next(void 0)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.aKT),o.rXU(al),o.rXU(Yn),o.rXU(Tm))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-snippet-pane-renderer"]],inputs:{settings:"settings",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},standalone:!1,features:[o.OA$],decls:2,vars:2,consts:[[3,"content","docRendered",4,"ngIf"],[3,"docRendered","content"]],template:function(e,t){1&e&&o.DNE(0,Kq,2,3,"classifieds-ui-dynamic-content-viewer",0)(1,Xq,2,3,"classifieds-ui-dynamic-content-viewer",0),2&e&&(o.Y8G("ngIf","text/markdown"==t.contentType),o.R7$(),o.Y8G("ngIf","text/html"==t.contentType))},dependencies:[k.bT,ln.DynamicContentViewer,k.Jj],encapsulation:2}),r}(),il=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.snippetHandler=e},[{key:"handleFile",value:function(t){return(0,De.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return this.rendererSnippet(t).pipe((0,me.T)(function(s){return void 0!==s}))}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"getBindings",value:function(t,s,u){return(0,De.of)([])}},{key:"valueSettings",value:function(t){var s=[];return t.forEach(function(u){"value"===u.name&&s.push(u)}),s}},{key:"rendererSnippet",value:function(t){var u,s=this;return t.forEach(function(l){"_renderer"===l.name&&(u=s.snippetHandler.toObject(l.attributes))}),void 0!==u?u:(0,De.of)(void 0)}},{key:"rendererOverrideSettings",value:function(t){return[new yt.AttributeValue({name:"_renderer",type:yt.AttributeTypes.Complex,displayName:"Renderer Override",value:void 0,computedValue:void 0,intValue:0,attributes:this.snippetHandler.buildSettings(t)})]}},{key:"widgetSettings",value:function(t){return[new yt.AttributeValue({name:"widget",type:t.schema.type,displayName:"Widget",value:t.name,computedValue:t.name,intValue:0,attributes:[]})]}},{key:"stateDefinition",value:function(t){return(0,De.of)({})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(al))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),dY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.tokenizerService=s,this.handler=u,this.fb=l},[{key:"ngOnInit",value:function(){this.tokens=this.tokenizerService.generateTokens(this.data.pane.settings)}},{key:"submitted",value:function(t){this.replaceRenderer(t),this.dialogRef.close()}},{key:"replaceRenderer",value:function(t){var s,u=this.handler.rendererOverrideSettings(t)[0],l=this.convertToGroup(u),c=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");c.controls.forEach(function(p,m){"_renderer"===p.get("name").value&&(s=m)}),void 0!==s?(c.insert(s,l),c.removeAt(s+1)):c.push(l)}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new h.hs(t.name,h.k0.required),type:new h.hs(t.type,h.k0.required),displayName:new h.hs(t.displayName,h.k0.required),value:new h.hs(t.value,h.k0.required),computedValue:new h.hs(t.value,h.k0.required),attributes:new h.Bm([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(Yn),o.rXU(il),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rendering-editor"]],standalone:!1,decls:2,vars:1,consts:[[3,"submitted","tokens"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-snippet-form",0),o.bIt("submitted",function(u){return t.submitted(u)}),o.nrm(1,"classifieds-ui-snippet-form"),o.k0s()),2&e&&o.Y8G("tokens",t.tokens)},dependencies:[Mm],encapsulation:2}),r}(),fY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.data=e,this.spm=t,this.bottomSheetRef=s,this.dialog=u,this.componentFactoryResolver=l,this.fb=c,this.selectedIndex=0},[{key:"ngOnInit",value:function(){this.stylePlugins=this.spm.getPlugins()}},{key:"onStyleSelected",value:function(t){this.plugin=t,void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,contexts:this.data.contexts}})):(this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.bottomSheetRef.dismiss())}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Qu.yj),o.rXU(Fc),o.rXU(Qu.eN),o.rXU(Ut.bZ),o.rXU(o.OM3),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-style-selector"]],viewQuery:function(e,t){var s;1&e&&o.GBs(oh,7),2&e&&o.mGM(s=o.lsd())&&(t.selectionHost=s.first)},standalone:!1,decls:10,vars:6,consts:[[1,"style-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),o.DNE(4,qq,3,1,"a",2),o.nI1(5,"async"),o.nI1(6,"keyvalue"),o.k0s()(),o.j41(7,"mat-tab"),o.qex(8),o.DNE(9,Wq,0,0,"ng-template",3),o.bVm(),o.k0s()()()),2&e&&(o.R7$(),o.Y8G("selectedIndex",t.selectedIndex),o.R7$(3),o.Y8G("ngForOf",o.bMT(6,4,o.bMT(5,2,t.stylePlugins))))},dependencies:[k.Sq,Um.vu,Os._L,Os.YE,Po.mq,Po.T8,oh,k.Jj,k.lG],styles:[".style-selector-wrapper[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}"]}),r}(),pY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.inlineContextResolver=u,this.rulesParser=l,this.rulesForm=this.fb.group({rules:this.fb.control("")}),this.config={fields:{}}},[{key:"ngOnInit",value:function(){var t=this;this.inlineContextResolver.resolveMerged(this.data.contexts).subscribe(function(s){var u={};for(var l in s)t.rulesParser.buildFields(s[l],l).forEach(function(c,p){u[p]=c});t.config=(0,_.A)((0,_.A)({},t.config),{},{fields:u}),void 0!==t.data.rule&&t.rulesForm.get("rules").setValue(t.data.rule)})}},{key:"submit",value:function(){console.log("the rules"),console.log(this.rulesForm.get("rules").value),this.dialogRef.close(this.rulesForm.get("rules").value)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(Ac),o.rXU(mD))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rules-dialog"]],standalone:!1,decls:6,vars:3,consts:[[1,"rest-form",3,"ngSubmit","formGroup"],["formControlName","rules",3,"config"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content"),o.nrm(2,"query-builder",1),o.k0s(),o.j41(3,"mat-dialog-actions")(4,"button",2),o.EFF(5,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.rulesForm),o.R7$(2),o.Y8G("config",t.config),o.R7$(2),o.Y8G("disabled",!t.rulesForm.valid))},dependencies:[h.qT,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,h_],encapsulation:2}),r}(),mY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propertiesForm=this.fb.group({name:this.fb.control(this.data.props.name),title:this.fb.control(this.data.props.title),path:this.fb.control(this.data.props.path),cssFile:this.fb.control(this.data.props.cssFile),readUserIds:this.fb.array([this.fb.group({userId:this.fb.control(this.data.props.readUserIds&&this.data.props.readUserIds.length>0?this.data.props.readUserIds[0]:"")})])})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new tf((0,_.A)((0,_.A)({},this.propertiesForm.value),{},{readUserIds:this.propertiesForm.value.readUserIds.map(function(t){return t.userId})})))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-properties-dialog"]],standalone:!1,decls:18,vars:2,consts:[[1,"properties-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","title","placeholder","Title"],["matInput","","formControlName","path","placeholder","Path"],["matInput","","formControlName","cssFile","placeholder","Css File"],["formArrayName","readUserIds"],["formGroupName","0"],["matInput","","formControlName","userId","placeholder","Read User Id"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),o.nrm(5,"input",3),o.k0s(),o.j41(6,"mat-form-field"),o.nrm(7,"input",4),o.k0s(),o.j41(8,"mat-form-field"),o.nrm(9,"input",5),o.k0s(),o.j41(10,"mat-form-field"),o.nrm(11,"input",6),o.k0s(),o.j41(12,"mat-form-field",7)(13,"div",8),o.nrm(14,"input",9),o.k0s()()()()(),o.j41(15,"mat-dialog-actions")(16,"button",10),o.EFF(17,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.propertiesForm),o.R7$(16),o.Y8G("disabled",!t.propertiesForm.valid))},dependencies:[h.qT,h.me,h.BC,h.cb,h.j4,h.JD,h.$R,h.v8,qr.$z,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,Gt],encapsulation:2}),r}(),Uw=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.contextForm=this.fb.group({context:this.fb.control("")}),this.context=e.context},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;this.data.context&&setTimeout(function(){t.contextFormComp.contextForm.setValue({name:t.data.context.name,plugin:t.data.context.plugin}),"rest"===t.data.context.plugin?setTimeout(function(){t.contextFormComp.componentRef.instance.restSourceFormComp.restSource={url:t.data.context.rest.url,params:t.data.context.rest.params}}):"datasource"===t.data.context.plugin&&setTimeout(function(){t.contextFormComp.componentRef.instance.datasourceFormComp.datasource=t.data.context.datasource})})}},{key:"submit",value:function(){""!==this.contextForm.get("context").value.name?this.dialogRef.close(new Ua(this.contextForm.get("context").value)):this.dialogRef.close()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-dialog"]],viewQuery:function(e,t){var s;1&e&&o.GBs(qE,5),2&e&&o.mGM(s=o.lsd())&&(t.contextFormComp=s.first)},standalone:!1,decls:6,vars:3,consts:[[1,"context-form",3,"ngSubmit","formGroup"],["formControlName","context",3,"context"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content"),o.nrm(2,"classifieds-ui-context-form",1),o.k0s(),o.j41(3,"mat-dialog-actions")(4,"button",2),o.EFF(5,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.contextForm),o.R7$(2),o.Y8G("context",t.context),o.R7$(2),o.Y8G("disabled",!t.contextForm.valid))},dependencies:[h.qT,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,qE],encapsulation:2}),r}(),hY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new ow(this.propsForm.value))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-panel-props-dialog"]],standalone:!1,decls:11,vars:2,consts:[[1,"props-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),o.nrm(5,"input",3),o.k0s(),o.j41(6,"mat-form-field"),o.nrm(7,"input",4),o.k0s()()()(),o.j41(8,"mat-dialog-actions")(9,"button",5),o.EFF(10,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.propsForm),o.R7$(9),o.Y8G("disabled",!t.propsForm.valid))},dependencies:[h.qT,h.me,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,Gt],encapsulation:2}),r}(),gY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new sw(this.propsForm.value))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-pane-props-dialog"]],standalone:!1,decls:11,vars:2,consts:[[1,"props-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),o.nrm(5,"input",3),o.k0s(),o.j41(6,"mat-form-field"),o.nrm(7,"input",4),o.k0s()()()(),o.j41(8,"mat-dialog-actions")(9,"button",5),o.EFF(10,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.propsForm),o.R7$(9),o.Y8G("disabled",!t.propsForm.valid))},dependencies:[h.qT,h.me,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,Gt],encapsulation:2}),r}(),Gw=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiLayoutEditorHost",""]],standalone:!1}),r}(),jw=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","classifiedsUiPaneContentHost",""]],standalone:!1}),r}(),D_=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.entityServices=e,this.attributeSerializer=t},[{key:"entityCollectionService",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState")}},{key:"resolve",value:function(t,s){var x,N,u=this,l=function(x){return x.entities},m="$."+s.selectionPath.map(function(y,x){return"".concat((x+1)%2==0?"panes":(0===x?"":"nestedPage.")+"panels","[").concat(y,"]")}).join(".");return this.entityCollectionService.collection$.pipe(Rr((N=(x={id:s.id,path:m}).path,wn(function(x){var D=x.id;return wn(l,function(N){return N[D]?N[D]:void 0})}({id:x.id}),function($){return(0,is.JSONPath)({path:N,json:$})}))),(0,me.T)(function(y){return y&&Array.isArray(y)&&0!==y.length?y[0]:u.defaultPaneState(s.value?s.value:{})}),(0,me.T)(function(y){return u.attributeSerializer.deserialize(y.state)}),(0,me.T)(function(y){return y?y.root?y.root:y:{}}),(0,ue.M)(function(y){console.log("resolved panestate[id=".concat(s.id,"]").concat(m)),console.log(y)}))}},{key:"defaultPaneState",value:function(t){return new Si({state:this.attributeSerializer.serialize(t,"root")})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Cr),f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),$w=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.componentFactoryResolver=e,this.panelHandler=t,this.cpm=s,this.settings=[],this.locked=!1,this.contexts=[],this.edit=new o.bkB,this.props=new o.bkB,this.delete=new o.bkB,this.rules=new o.bkB,this.rendererOverride=new o.bkB,this.removeRendererOverride=new o.bkB,this.nestedUpdate=new o.bkB,this.heightChange=new o.bkB,this.displayOverride=!1,this.hasOverride=!1,this.preview=!1,this.schedulePluginChange=new W.B,this.pluginChangeSub=this.schedulePluginChange.pipe((0,We.n)(function(l){return u.cpm.getPlugin(u.pluginName).pipe((0,We.n)(function(c){return c.handler.hasRendererOverride(u.settings).pipe((0,me.T)(function(p){return[l,c,p]}))}))})).subscribe(function(l){var c=(0,F.A)(l,3),p=c[0],m=c[1],y=c[2];u.contentPlugin=m,u.displayOverride=m.handler.implementsRendererOverride(),u.hasOverride=!!y,p&&"panel"===u.pluginName&&u.panelHandler.toObject(u.settings).subscribe(function(x){u.panelPage=x})}),this.ancestory$=new W.B,this.panelIndex$=new W.B,this.paneIndex$=new W.B,this.paneAncestoryWithSelf=[],this.paneAncestoryWithSelfSub=(0,Vn.z)([this.ancestory$,this.panelIndex$,this.paneIndex$]).pipe((0,me.T)(function(l){var c=(0,F.A)(l,3),m=c[1],y=c[2];return[].concat((0,A.A)(c[0]),[m,y])})).subscribe(function(l){u.paneAncestoryWithSelf=l})},[{key:"panelIndex",set:function(t){this.panelIndex$.next(t)}},{key:"paneIndex",set:function(t){this.paneIndex$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"ngOnInit",value:function(){this.schedulePluginChange.next(!0),console.log("here 1")}},{key:"ngOnChanges",value:function(t){this.schedulePluginChange.next(!1),console.log("here 2"),console.log(t)}},{key:"onEditClick",value:function(){this.edit.emit()}},{key:"onPropsClick",value:function(){this.props.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onPreviewClick",value:function(){var t=this;this.preview=!0,void 0!==this.contentPaneHost&&this.renderPaneContent(),setTimeout(function(){return t.heightChange.emit()})}},{key:"onOverrideClick",value:function(){this.rendererOverride.emit()}},{key:"onRemoveOverrideClick",value:function(){this.removeRendererOverride.emit()}},{key:"onNestedUpdate",value:function(t){this.nestedUpdate.emit(t)}},{key:"onDisablePreviewClick",value:function(){var t=this;this.preview=!1,void 0!==this.contentPaneHost&&this.contentPaneHost.viewContainerRef.clear(),setTimeout(function(){return t.heightChange.emit()})}},{key:"onAfterCollapse",value:function(){this.heightChange.emit()}},{key:"onAfterExpand",value:function(){this.heightChange.emit()}},{key:"renderPaneContent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),s=this.contentPaneHost.viewContainerRef;s.clear(),s.createComponent(t).instance.settings=this.settings}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.OM3),o.rXU(Wa),o.rXU(Yt.ContentPluginManager))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-editable-pane"]],viewQuery:function(e,t){var s;1&e&&(o.GBs(jw,5),o.GBs(Yq,5)),2&e&&(o.mGM(s=o.lsd())&&(t.contentPaneHost=s.first),o.mGM(s=o.lsd())&&(t.contentEditor=s.first))},inputs:{pluginName:"pluginName",settings:"settings",name:"name",label:"label",panelIndex:"panelIndex",paneIndex:"paneIndex",locked:"locked",rootContext:"rootContext",contexts:"contexts",ancestory:"ancestory"},outputs:{edit:"edit",props:"props",delete:"delete",rules:"rules",rendererOverride:"rendererOverride",removeRendererOverride:"removeRendererOverride",nestedUpdate:"nestedUpdate",heightChange:"heightChange"},standalone:!1,features:[o.OA$],decls:17,vars:6,consts:[["settingsTmpl",""],["nestedPanelTpl",""],["paneMenu","matMenu"],["contentEditor",""],["extraActionsArea",""],["class","editable-pane-wrapper",4,"ngIf","ngIfElse"],["type","button","mat-menu-item","",3,"click","disabled"],["type","button","mat-menu-item","",3,"click"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"click"],[1,"editable-pane-wrapper"],["fxLayout","row",1,"inner-pane-wrapper"],[1,"pane-menu-trigger-wrapper"],["mat-button","","type","button",3,"matMenuTriggerFor"],["fxFlex","",3,"afterCollapse","afterExpand"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"preview-area",3,"ngClass"],["class","override","type","button",3,"click",4,"ngIf"],["classifiedsUiPaneContentHost",""],["type","button",1,"override",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nested-panel-wrapper"],[3,"nestedUpdate","delete","rules","props","panelPage","savable","nested","locked","contexts","rootContext","ancestory"],["mat-menu-item","","type","button",3,"click","disabled"],["mat-menu-item","","type","button",3,"click"]],template:function(e,t){if(1&e){var s=o.RV6();o.DNE(0,nW,18,13,"div",5)(1,sW,1,1,"ng-template",null,0,o.C5r)(3,lW,5,7,"ng-template",null,1,o.C5r),o.j41(5,"mat-menu",null,2)(7,"button",6),o.bIt("click",function(){return f.eBV(s),f.Njj(t.onEditClick())}),o.EFF(8,"Edit"),o.k0s(),o.j41(9,"button",6),o.bIt("click",function(){return f.eBV(s),f.Njj(t.onPropsClick())}),o.EFF(10,"Props"),o.k0s(),o.j41(11,"button",7),o.bIt("click",function(){return f.eBV(s),f.Njj(t.onRulesClick())}),o.EFF(12,"Rules"),o.k0s(),o.DNE(13,cW,2,1,"button",8)(14,dW,2,0,"button",9),o.j41(15,"button",10),o.bIt("click",function(){return f.eBV(s),f.Njj(t.onDeleteClick())}),o.EFF(16,"Delete"),o.k0s()()}if(2&e){var u=o.sdS(4);o.Y8G("ngIf","panel"!=t.pluginName||t.locked)("ngIfElse",u),o.R7$(7),o.Y8G("disabled",t.locked),o.R7$(2),o.Y8G("disabled",t.locked&&0!==t.settings.length),o.R7$(4),o.Y8G("ngIf",!t.preview),o.R7$(),o.Y8G("ngIf",t.preview)}},dependencies:function(){return[k.YU,k.Sq,k.bT,k.T3,qr.$z,S_.GK,S_.Z2,S_.WN,df.An,Ya.kk,Ya.fb,Ya.Cp,Gt,la,$s,w_,jw,yt.AttributePipe]},styles:[".editable-pane-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em;border-radius:4px;padding-left:.25em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nested-panel-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em}.inner-pane-wrapper[_ngcontent-%COMP%]{padding:0}.pane-header[_ngcontent-%COMP%]{background-color:#ccc;padding:0}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}button.delete[_ngcontent-%COMP%]{float:right}.preview-area[_ngcontent-%COMP%]{display:none;position:relative}.preview-area.visible[_ngcontent-%COMP%]{display:block;height:300px;overflow-y:scroll;border:1px solid black;padding:.5em}.panel-name[_ngcontent-%COMP%]{float:right;padding-right:.5em}.pane-menu-trigger-wrapper[_ngcontent-%COMP%]{display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1em 0 .25em}"]}),r}(),w_=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p,m,y,x,D,N,$,q){var le=this;(0,v.A)(this,n),this.siteName=e,this.cpm=t,this.spm=s,this.lpm=u,this.cxtm=l,this.fb=c,this.bs=p,this.dialog=m,this.panelHandler=y,this.tokenizerService=x,this.componentFactoryResolver=D,this.pageBuilderFacade=N,this.paneStateContextResolver=$,this.panelsContextService=q,this.submitted=new o.bkB,this.nestedUpdate=new o.bkB,this.delete=new o.bkB,this.rules=new o.bkB,this.props=new o.bkB,this.savable=!0,this.nested=!1,this.locked=!1,this.pageBuilder=!1,this.contexts=[],this.contentAdded=new W.B,this.contentAdddedSub=this.contentAdded.subscribe(function(ve){var Ae=(0,F.A)(ve,2);le.resolvePaneContexts(Ae[0],Ae[1])}),this.dashboard=[],this.pageProperties=new tf,this.persistence=new Sc,this.interactions=new Yu,this.layoutSetting=new Xn,this.rowSettings=[],this.ancestory$=new R.t([]),this.onTouched=function(){},this.contentForm=this.fb.group({name:this.fb.control(""),title:this.fb.control(""),layoutType:this.fb.control("split",h.k0.required),displayType:this.fb.control("page",h.k0.required),panels:this.fb.array([])}),this.options={gridType:Ln.Fit,displayGrid:g_.Always,pushItems:!0,draggable:{enabled:!0},resizable:{enabled:!0},mobileBreakpoint:0,itemChangeCallback:function(Ae,ge){},itemInitCallback:function(Ae,ge){if(le.nested&&0!==Ae.y){var ke=le.gridLayout.grid.findIndex(function(He){return He.x===Ae.x&&He.y===Ae.y&&He.cols===Ae.cols&&He.rows===Ae.rows});0===le.panelPanes(ke).length&&le.gridLayout.setItemContentHeight(ke,200)}}},this.ancestorySub=this.ancestory$.pipe((0,he.p)(function(){return!!le.layoutEditorRef})).subscribe(function(ve){le.layoutEditorRef.instance.ancestory=ve})},[{key:"ancestory",get:function(){return this.ancestory$.value},set:function(t){this.ancestory$.next(t)}},{key:"panels",get:function(){return this.contentForm.get("panels")}},{key:"layoutType",get:function(){return this.contentForm.get("layoutType")}},{key:"displayType",get:function(){return this.contentForm.get("displayType")}},{key:"columnSettings",get:function(){for(var t=this.panels.length,s=[],u=0;u<t;u++)s=[].concat((0,A.A)(s),[new Xn(this.panels.at(u).get("columnSetting").value)]);return s}},{key:"ngOnInit",value:function(){var t=this;this.contentForm.valueChanges.pipe((0,he.p)(function(){return t.nested}),(0,zn.B)(500)).subscribe(function(){t.nestedUpdate.emit(t.packageFormData())}),this.contentForm.get("layoutType").valueChanges.pipe((0,he.p)(function(s){return"gridless"===s}),(0,fr.c)(1)).subscribe(function(s){0===t.panels.length&&t.panels.push(t.fb.group({name:new h.hs(""),label:new h.hs(""),stylePlugin:new h.hs(""),styleTitle:new h.hs(""),settings:new h.Bm([]),panes:t.fb.array([]),columnSetting:t.fb.group({settings:t.fb.array([])})}))}),this.contentForm.valueChanges.pipe((0,he.p)(function(){return!t.nested}),(0,zn.B)(500)).subscribe(function(){var s=t.packageFormData();t.pageBuilderFacade.setPage(s)})}},{key:"ngAfterViewInit",value:function(){var t=this;this.layoutType.valueChanges.pipe((0,he.p)(function(){return!!t.layoutEditorHost})).subscribe(function(s){t.renderEditorLayout(s)}),this.layoutType.value&&this.renderEditorLayout(this.layoutType.value)}},{key:"ngAfterContentInit",value:function(){var t=this;setTimeout(function(){t.panelPage||t.contentForm.get("layoutType").setValue("split")},1e3)}},{key:"ngOnChanges",value:function(t){var s=this;t.panelPage&&t.panelPage.previousValue!==t.panelPage.currentValue&&(this.panels.clear(),this.panelPageId=t.panelPage.currentValue.panelPageId,this.dashboard=t.panelPage.currentValue.gridItems.map(function(u){return Object.assign({},u)}),this.layoutType.setValue(t.panelPage.currentValue.layoutType),this.layoutSetting=new Xn(t.panelPage.currentValue.layoutSetting),this.rowSettings=t.panelPage.currentValue.rowSettings?t.panelPage.currentValue.rowSettings.map(function(u){return new Xn(u)}):[],this.persistence=t.panelPage.currentValue.persistence?new Sc(t.panelPage.currentValue.persistence):new Sc,this.interactions=t.panelPage.currentValue.interactions?new Yu(t.panelPage.currentValue.interactions):new Yu,this.nested?(this.pageProperties=new tf({name:t.panelPage.currentValue.name,title:t.panelPage.currentValue.title,path:"",readUserIds:[],cssFile:""}),this.contentForm.get("name").setValue(t.panelPage.currentValue.name),this.contentForm.get("title").setValue(t.panelPage.currentValue.title)):(this.pageProperties=new tf({name:t.panelPage.currentValue.name,title:t.panelPage.currentValue.title,path:t.panelPage.currentValue.path,readUserIds:t.panelPage.currentValue.entityPermissions.readUserIds,cssFile:t.panelPage.currentValue.cssFile}),this.contexts=t.panelPage.currentValue.contexts),t.panelPage.currentValue.panels.forEach(function(u,l){s.panels.push(s.fb.group({name:new h.hs(u.name),label:new h.hs(u.label),stylePlugin:new h.hs(u.stylePlugin),styleTitle:new h.hs(""),settings:s.fb.array(void 0!==u.settings?u.settings.map(function(c){return s.convertToGroup(c)}):[]),panes:s.fb.array([]),columnSetting:s.fb.group({settings:s.fb.array(u.columnSetting?u.columnSetting.settings.map(function(c){return s.convertToGroup(c)}):[])})})),u.stylePlugin&&""!==u.stylePlugin&&s.spm.getPlugin(u.stylePlugin).subscribe(function(c){s.panels.at(l).get("styleTitle").setValue(c.title)}),s.nested&&s.panelPanes(s.panels.length-1).valueChanges.pipe((0,zn.B)(5),(0,fr.c)(1)).subscribe(function(c){return function(){if(void 0!==s.gridLayout){var p=s.paneContainers.find(function(m,y){return y===c});s.gridLayout.setItemContentHeight(c,p.nativeElement.offsetHeight)}}}(s.panels.length-1)),u.panes.forEach(function(c,p){s.panels.at(l).get("panes").push(s.fb.group({contentPlugin:c.contentPlugin,name:new h.hs(c.name),label:new h.hs(c.label),locked:new h.hs(c.locked),linkedPageId:new h.hs(c.linkedPageId),rule:new h.hs(c.rule&&null!==c.rule?(0,_.A)((0,_.A)({},c.rule),{},{rules:c.rule.rules&&Array.isArray(c.rule.rules)?c.rule.rules:[]}):{condition:"",rules:[]}),settings:new h.Bm(c.settings.map(function(m){return s.convertToGroup(m)}))})),setTimeout(function(){return s.resolvePaneContexts(l,p)})})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings))}},{key:"addContent",value:function(t){var s=this;console.log(this.panels.at(t)),this.pageBuilderFacade.getPage$.pipe((0,We.n)(function(u){return s.panelsContextService.allActivePageContexts({panelPage:u})}),(0,on.s)(1)).subscribe(function(u){s.bs.open(cY,{data:{panelForm:s.panels.at(t),panelIndex:t,contexts:[].concat((0,A.A)(s.rootContext?[s.rootContext]:[]),(0,A.A)(s.contexts),(0,A.A)(u))}})})}},{key:"editPanelProps",value:function(t){var s=this.panels.at(t).get("name"),u=this.panels.at(t).get("label");this.dialog.open(hY,{data:{props:new ow({name:s.value,label:u.value})}}).afterClosed().subscribe(function(l){l&&(s.setValue(l.name),u.setValue(l.label))})}},{key:"editPaneProps",value:function(t,s){var u=this.panelPane(t,s).get("name"),l=this.panelPane(t,s).get("label");this.dialog.open(gY,{data:{props:new sw({name:u.value,label:l.value})}}).afterClosed().subscribe(function(c){c&&(u.setValue(c.name),l.setValue(c.label))})}},{key:"applyStyle",value:function(t){this.bs.open(fY,{data:{panelForm:this.panels.controls[t],panelIndex:t,contexts:this.contexts}})}},{key:"removeStyle",value:function(t){this.panels.controls[t].get("stylePlugin").setValue(""),this.panels.controls[t].get("styleTitle").setValue("")}},{key:"onItemAdded",value:function(){var t=this;console.log("item added"),this.panels.push(this.fb.group({name:new h.hs(""),label:new h.hs(""),stylePlugin:new h.hs(""),styleTitle:new h.hs(""),settings:new h.Bm([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})})),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){t.paneContainers.forEach(function(s,u){t.gridLayout.setItemContentHeight(u,s.nativeElement.offsetHeight)})}),this.panelPanes(this.panels.length-1).valueChanges.pipe((0,he.p)(function(){return t.nested&&void 0!==t.gridLayout}),(0,zn.B)(5),(0,fr.c)(1)).subscribe(function(s){return function(){var u=t.paneContainers.find(function(l,c){return c===s});t.gridLayout.setItemContentHeight(s,u.nativeElement.offsetHeight)}}(this.panels.length-1)),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onItemRemoved",value:function(t){var s=this;this.panels.removeAt(t),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){s.paneContainers.forEach(function(u,l){s.gridLayout.setItemContentHeight(l,u.nativeElement.offsetHeight)})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onDrop",value:function(t){console.log(t);var s=+t.container.data,u=+t.previousContainer.data;if(s===u){for(var l=t.currentIndex>t.previousIndex?1:-1,c=t.previousIndex,p=t.currentIndex,m=this.panelPanes(s).at(c),y=c;y*l<p*l;y+=l){var x=this.panelPanes(s).at(y+l);this.panelPanes(s).setControl(y,x)}this.panelPanes(s).setControl(p,m)}else{var D=this.panelPanes(u).at(t.previousIndex);this.panelPanes(u).removeAt(t.previousIndex),this.panelPanes(s).insert(t.currentIndex,D)}}},{key:"onOverrideRenderer",value:function(t,s){var u=new Fr(this.panelPane(t,s).value);this.dialog.open(dY,{data:{panelFormGroup:this.panels.at(t),paneIndex:s,pane:u}})}},{key:"onRemoveOverrideRenderer",value:function(t,s){var l,u=this.panelPane(t,s).get("settings");u.controls.forEach(function(c,p){"_renderer"===c.get("name").value&&(l=p)}),void 0!==l&&u.removeAt(l)}},{key:"onNestedUpdate",value:function(t,s,u){var l=this,c=this.panelHandler.buildSettings(t),p=this.panelPane(s,u).get("settings");p.clear(),c.forEach(function(m){return p.push(l.convertToGroup(m))})}},{key:"onPaneHeightChange",value:function(t){if(this.nested&&this.gridLayout){var s=this.paneContainers.find(function(u,l){return l===t});this.gridLayout.setItemContentHeight(t,s.nativeElement.offsetHeight)}}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onPropertiesClick",value:function(){var t=this;this.props.emit(),this.dialog.open(mY,{data:{props:this.pageProperties}}).afterClosed().subscribe(function(s){s&&(t.pageProperties=new tf((0,_.A)({},s)),t.contentForm.get("name").setValue(s.name),t.contentForm.get("title").setValue(s.title))})}},{key:"onRulesPane",value:function(t,s){var u=this,l=new Fr(this.panelPane(t,s).value),c=""!==this.panelPane(t,s).get("rule").value?this.panelPane(t,s).get("rule").value:void 0,p=this.editablePanes.filter(function(x,D){return x.name===l.name}),y=(0,F.A)(p,1)[0];this.pageBuilderFacade.getPage$.pipe((0,ue.M)(function(){u.pageBuilderFacade.setSelectionPath([].concat((0,A.A)(u.ancestory),[t,s]))}),(0,We.n)(function(x){return u.panelsContextService.allActivePageContexts({panelPage:x})}),(0,We.n)(function(x){return u.dialog.open(pY,{data:{rule:c,contexts:[].concat((0,A.A)(y.rootContext?[y.rootContext]:u.rootContext?[u.rootContext]:[]),(0,A.A)(u.contexts),(0,A.A)(x))}}).afterClosed()}),(0,on.s)(1)).subscribe(function(x){u.panelPane(t,s).get("rule").setValue(x||c||void 0)})}},{key:"onDeletePane",value:function(t,s){console.log("delete nested pane: ".concat(t," | ").concat(s))}},{key:"onAddContextClick",value:function(){var t=this,s=this.packageFormData();this.pageBuilderFacade.setPage(s),this.dialog.open(Uw,{data:{}}).afterClosed().subscribe(function(u){u&&(t.contexts=[].concat((0,A.A)(t.contexts),[u]))})}},{key:"onEditContext",value:function(t){var s=this,u=this.contexts.find(function(c){return c.name===t});if(console.log(u),u){var l=this.packageFormData();this.pageBuilderFacade.setPage(l),this.dialog.open(Uw,{data:{context:u}}).afterClosed().subscribe(function(c){c&&(s.contexts=s.contexts.map(function(p){return p.name===t?new Ua(c):p}))})}}},{key:"onLayoutSettingChange",value:function(t){this.layoutSetting=new Xn(t),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting)}},{key:"onRowSettingsChange",value:function(t){this.rowSettings=t.map(function(s){return new Xn(s)}),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.rowSettings=this.rowSettings)}},{key:"onColumnSettingsChange",value:function(t){for(var s=this.panels.length,u=0;u<s;u++){this.panels.at(u).get("columnSetting").get("settings").clear();for(var l=0;l<t[u].settings.length;l++)this.panels.at(u).get("columnSetting").get("settings").push(this.convertToGroup(t[u].settings[l]))}this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"submit",value:function(){this.submitted.emit(this.packageFormData())}},{key:"packageFormData",value:function(){var s=new Vr({id:this.panelPageId,title:this.pageProperties.title,name:this.pageProperties.name,site:this.siteName,path:this.pageProperties.path,cssFile:this.pageProperties.cssFile,displayType:this.displayType.value,layoutType:this.layoutType.value,gridItems:this.layoutEditorRef.instance.gridItems,contexts:this.contexts,panels:this.panels.value,layoutSetting:new Xn(this.layoutSetting),rowSettings:this.rowSettings.map(function(u){return new Xn(u)}),persistence:this.persistence,interactions:this.interactions,entityPermissions:{readUserIds:this.pageProperties.readUserIds,writeUserIds:[],deleteUserIds:[]}});return console.log(s),s}},{key:"syncNestedPanelPages",value:function(){var t=this;console.log("sync nested"),this.editablePanes.forEach(function(s){if(void 0!==s.contentEditor){var u=t.panelHandler.buildSettings(s.contentEditor.packageFormData()),l=t.panelPane(s.panelIndex,s.paneIndex).get("settings");l.clear(),u.forEach(function(c){return l.push(t.convertToGroup(c))})}})}},{key:"resolvePaneContexts",value:function(t,s){var u=this,l=new Fr(this.panelPane(t,s).value),c=this.panelPanes(t).controls;this.cpm.getPlugin(l.contentPlugin).pipe((0,he.p)(function(p){return void 0!==p.handler&&p.handler.isDynamic(l.settings)}),(0,We.n)(function(p){return p.handler.fetchDynamicData(l.settings,new Map([["tag",dr()],["contexts",(0,A.A)(u.contexts)]])).pipe((0,me.T)(function(m){return new Ua({name:"_root",adaptor:"data",data:0!==m.length?m.results[0]:{}})}),(0,We.n)(function(m){return p.handler.getBindings(l.settings,"pane").pipe((0,me.T)(function(y){return[m,y.map(function(x){return c.findIndex(function(D){return new Fr(D.value).name===x.id})})]}))}))})).subscribe(function(p){var m=(0,F.A)(p,2),y=m[0],x=m[1];u.editablePanes.forEach(function(D,N){x.findIndex(function($){return $===N})>-1&&(D.rootContext=y)})})}},{key:"onPersistenceClick",value:function(){var t=this;this.dialog.open(Rj,{data:{persistence:this.persistence,contexts:this.contexts}}).afterClosed().subscribe(function(s){console.log("persistence closed",s),t.persistence=s||t.persistence})}},{key:"onInteractionsClick",value:function(){var t=this;this.dialog.open(Oj,(0,_.A)({data:{interactions:this.interactions,contexts:this.contexts}},{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"})).afterClosed().subscribe(function(s){console.log("interactions closed",s),t.interactions=s||t.interactions})}},{key:"panelPanes",value:function(t){return this.panels.at(t).get("panes")}},{key:"panelPane",value:function(t,s){return this.panelPanes(t).at(s)}},{key:"panelPanePlugin",value:function(t,s){return this.panelPane(t,s).get("contentPlugin").value}},{key:"panelPaneSettings",value:function(t,s){return this.panelPane(t,s).get("settings").value}},{key:"panelPaneName",value:function(t,s){return this.panelPane(t,s).get("name").value}},{key:"panelPaneLabel",value:function(t,s){return this.panelPane(t,s).get("label").value}},{key:"panelPaneLocked",value:function(t,s){if(this.locked)return this.locked;var u=this.panelPane(t,s).get("locked");return null!==u&&u.value}},{key:"panelPaneIsNested",value:function(t,s){return"panel"===this.panelPanePlugin(t,s)}},{key:"panelPanePanelPage",value:function(t,s){var u;return this.panelHandler.toObject(this.panelPaneSettings(t,s)).subscribe(function(l){u=l}),u}},{key:"hasPanelStyle",value:function(t){return void 0!==this.panels.at(t).get("stylePlugin").value&&""!==this.panels.at(t).get("stylePlugin").value}},{key:"panelStyleTitle",value:function(t){return this.panels.at(t).get("styleTitle").value}},{key:"onPaneEdit",value:function(t,s){var u=this,l=new Fr(this.panelPane(t,s).value),c=this.panelPanePlugin(t,s),p=this.editablePanes.filter(function(x,D){return x.name===l.name}),y=(0,F.A)(p,1)[0];this.cpm.getPlugin(c).pipe((0,he.p)(function(x){return void 0!==x.editorComponent}),(0,We.n)(function(x){return u.pageBuilderFacade.getPage$.pipe((0,We.n)(function(D){return u.panelsContextService.allActivePageContexts({panelPage:D}).pipe((0,me.T)(function(N){return[x,N]}),(0,on.s)(1))}),(0,on.s)(1))}),(0,We.n)(function(x){var D=(0,F.A)(x,2),N=D[0],$=D[1];return N.handler?N.handler.editorOptions(l.settings).pipe((0,me.T)(function(q){return[N,$,q]})):(0,De.of)([N,$,new Yt.ContentPluginEditorOptions])})).subscribe(function(x){var D=(0,F.A)(x,3),$=D[1],q=D[2];u.dialog.open(D[0].editorComponent,(0,_.A)({data:{panelFormGroup:u.panels.at(t),panelIndex:t,paneIndex:s,contexts:[].concat((0,A.A)(y.rootContext?[y.rootContext]:u.rootContext?[u.rootContext]:[]),(0,A.A)(u.contexts),(0,A.A)($)),contentAdded:u.contentAdded,pane:l}},q.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{})).afterClosed().subscribe(function(){u.resolvePaneContexts(t,s)})})}},{key:"onPaneDelete",value:function(t,s){this.panelPanes(t).removeAt(s)}},{key:"onFileChange",value:function(t,s){var u=this,l=t.addedFiles[0];this.cpm.getPlugins().pipe((0,me.T)(function(c){return Array.from(c.values()).filter(function(p){return void 0!==p.handler}).find(function(p){return p.handler.handlesType(l.type)})}),(0,he.p)(function(c){return void 0!==c})).subscribe(function(c){c.handler.handleFile(l).subscribe(function(p){u.panelPanes(s).push(u.fb.group({contentPlugin:c.id,name:new h.hs(""),label:new h.hs(""),settings:u.fb.array(p.map(function(m){return u.fb.group({name:new h.hs(m.name,h.k0.required),type:new h.hs(m.type,h.k0.required),displayName:new h.hs(m.displayName,h.k0.required),value:new h.hs(m.value,h.k0.required),computedValue:new h.hs(m.value,h.k0.required)})}))}))})})}},{key:"writeValue",value:function(t){t&&this.contentForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.contentForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(t){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new h.hs(t.name,h.k0.required),type:new h.hs(t.type,h.k0.required),displayName:new h.hs(t.displayName,h.k0.required),value:new h.hs(t.value,h.k0.required),computedValue:new h.hs(t.value,h.k0.required),attributes:new h.Bm([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}},{key:"renderEditorLayout",value:function(t){var s=this;console.log("render editor layout ".concat(t)),this.lpm.getPlugin(t).subscribe(function(u){var l=s.componentFactoryResolver.resolveComponentFactory(u.editor),c=s.layoutEditorHost.viewContainerRef;c.clear(),s.layoutEditorRef=c.createComponent(l),s.layoutEditorRef.instance.savable=s.savable,s.layoutEditorRef.instance.nested=s.nested,s.layoutEditorRef.instance.ancestory=s.ancestory,s.layoutEditorRef.instance.editor=s,s.layoutEditorRef.instance.extraActionsAreaTmpl=s.extraActionsAreaTmpl,s.layoutEditorRef.instance.contextsMenuTpl=s.contextsMenuTpl,s.layoutEditorRef.instance.editablePaneTpl=s.editablePaneTpl,s.layoutEditorRef.instance.dashboard=s.dashboard,s.layoutEditorRef.instance.layoutSetting=s.layoutSetting,s.layoutEditorRef.instance.rowSettings=s.rowSettings,s.layoutEditorRef.instance.columnSettings=s.columnSettings})}},{key:"updateEditorLayoutVars",value:function(){this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(ln.SITE_NAME),o.rXU(Yt.ContentPluginManager),o.rXU(Fc),o.rXU(Zm),o.rXU(Ns),o.rXU(h.ze),o.rXU(Qu.VK),o.rXU(Ut.bZ),o.rXU(Wa),o.rXU(Yn),o.rXU(o.OM3),o.rXU(xi),o.rXU(D_),o.rXU(rw))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-content-editor"]],contentQueries:function(e,t,s){var u;1&e&&o.wni(s,fW,5),2&e&&o.mGM(u=o.lsd())&&(t.extraActionsAreaTmpl=u.first)},viewQuery:function(e,t){var s;1&e&&(o.GBs(ww,5),o.GBs(kw,5),o.GBs(Gw,5),o.GBs(pW,7),o.GBs(mW,7),o.GBs(hW,5),o.GBs($w,5)),2&e&&(o.mGM(s=o.lsd())&&(t.gridLayout=s.first),o.mGM(s=o.lsd())&&(t.splitLayout=s.first),o.mGM(s=o.lsd())&&(t.layoutEditorHost=s.first),o.mGM(s=o.lsd())&&(t.contextsMenuTpl=s.first),o.mGM(s=o.lsd())&&(t.editablePaneTpl=s.first),o.mGM(s=o.lsd())&&(t.paneContainers=s),o.mGM(s=o.lsd())&&(t.editablePanes=s))},inputs:{panelPage:"panelPage",savable:"savable",nested:"nested",locked:"locked",pageBuilder:"pageBuilder",contexts:"contexts",rootContext:"rootContext",ancestory:"ancestory"},outputs:{submitted:"submitted",nestedUpdate:"nestedUpdate",delete:"delete",rules:"rules",props:"props"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}]),o.OA$],decls:12,vars:3,consts:[["nestedTpl",""],["editablePaneTpl",""],["contextsMenuTpl",""],["contextMenu","matMenu"],["class","content-editor-wrapper",3,"formGroup","ngClass","ngSubmit",4,"ngIf","ngIfElse"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"content-editor-wrapper",3,"ngSubmit","formGroup","ngClass"],["classifiedsUiLayoutEditorHost",""],[1,"content-editor-wrapper",3,"formGroup","ngClass"],[1,"editable-pane",3,"delete","rules","nestedUpdate","rendererOverride","removeRendererOverride","edit","props","panelIndex","paneIndex","name","label","locked","contexts","pluginName","settings","ancestory"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[1,"custom-placeholder"],["type","button","mat-menu-item","",1,"context-button",3,"matMenuTriggerFor"]],template:function(e,t){if(1&e){var s=o.RV6();o.DNE(0,vW,3,4,"form",4)(1,_W,3,4,"ng-template",null,0,o.C5r)(3,AW,2,9,"ng-template",null,1,o.C5r)(5,CW,2,1,"ng-template",null,2,o.C5r),o.j41(7,"mat-menu",null,3)(9,"button",5),o.bIt("click",function(){return f.eBV(s),f.Njj(t.onAddContextClick())}),o.EFF(10,"define variable"),o.k0s(),o.DNE(11,SW,2,1,"button",6),o.k0s()}if(2&e){var u=o.sdS(2);o.Y8G("ngIf",!t.nested&&!t.pageBuilder)("ngIfElse",u),o.R7$(11),o.Y8G("ngForOf",t.contexts)}},dependencies:[k.YU,k.Sq,k.bT,h.qT,h.cb,h.j4,tl.CdkDragPlaceholder,Ya.kk,Ya.fb,Ya.Cp,$s,Gw,$w],styles:[".content-editor-wrapper[_ngcontent-%COMP%]{height:100%}.panel-inner[_ngcontent-%COMP%]{padding:1em}.content-editor-wrapper[_ngcontent-%COMP%]     ngx-dropzone{height:100%;display:block;padding:0;border:none}.content-editor-wrapper.nested[_ngcontent-%COMP%]     .grid-item-header{border-bottom:1px solid white}.layout-type[_ngcontent-%COMP%], .display-type[_ngcontent-%COMP%]{float:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:1.5em}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field{width:85px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .main-controls{background-color:#ccc}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .layout-inner{background-color:#ccc;padding:.75em}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .editable-pane-wrapper{border:none;margin-bottom:0}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .pane-header{background-color:#fff}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .nested-panel-wrapper{padding:.75em;margin-bottom:0}.custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.context-button[_ngcontent-%COMP%]{font-style:italic;font-family:serif;font-weight:bolder;font-size:medium}"]}),r}(),vY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.data=e,this.fb=t,this.handler=s},[{key:"ngOnInit",value:function(){var t=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.snippet=s})}},{key:"onSubmit",value:function(t){if(void 0===this.data.paneIndex)this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"snippet",name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:new h.Bm(this.buildSettings(t))}));else{var s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);s.get("settings").clear(),this.buildSettings(t).forEach(function(u){s.get("settings").push(u)})}}},{key:"buildSettings",value:function(t){return[this.fb.group({name:new h.hs("contentType",h.k0.required),type:new h.hs(yt.AttributeTypes.Text,h.k0.required),displayName:new h.hs("Content Type",h.k0.required),value:new h.hs(t.contentType,h.k0.required),computedValue:new h.hs(t.contentType,h.k0.required)}),this.fb.group({name:new h.hs("content",h.k0.required),type:new h.hs(yt.AttributeTypes.Text,h.k0.required),displayName:new h.hs("Content",h.k0.required),value:new h.hs(t.content,h.k0.required),computedValue:new h.hs(t.content,h.k0.required)}),this.fb.group({name:new h.hs("jsScript",h.k0.required),type:new h.hs(yt.AttributeTypes.Text,h.k0.required),displayName:new h.hs("jsScript",h.k0.required),value:new h.hs(t.jsScript),computedValue:new h.hs(t.jsScript)})]}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(h.ze),o.rXU(al))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-snippet-editor2"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","snippet"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-snippet-form",0),o.bIt("submitted",function(u){return t.onSubmit(u)}),o.k0s()),2&e&&o.Y8G("snippet",t.snippet)},dependencies:[Mm],encapsulation:2}),r}(),sh=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p){var m=this;(0,v.A)(this,n),this.route=e,this.pageBuilderFacade=t,this.routerStore=s,this.asyncApiCallHelperSvc=u,this.crudDataHelperService=l,this.entityDefinitionService=c,this.paramMapSub=this.route.paramMap.pipe((0,ue.M)(function(){return console.log("param map panelPageId")}),(0,me.T)(function(y){return y.get("panelPageId")}),(0,he.p)(function(y){return void 0!==y}),(0,We.n)(function(){return m.route.data}),hi(this.routerStore.pipe(Rr(zd(function(y){return y.router}).selectCurrentRoute),(0,me.T)(function(y){return y.params}),(0,on.s)(1))),(0,ue.M)(function(y){var x=(0,F.A)(y,2),D=x[0],N=x[1];console.log("route page"),m.pageBuilderFacade.setPageInfo(new ef({id:D.panelPageListItem.id,realPath:"/pages/panelpage/"+D.panelPageListItem.id,path:D.panelPageListItem.path,args:N})),m.panelPageId=D.panelPageListItem.id})).subscribe(),this.panelPageService=p.getEntityCollectionService("PanelPage")},[{key:"ngOnInit",value:function(){var t=this,u=zd(function(l){return l.router}).selectCurrentRoute;this.route.paramMap.pipe((0,ue.M)(function(){return console.log("param map page builder facade info")}),hi(this.pageBuilderFacade.getPageInfo$),(0,he.p)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return void 0!==m&&void 0!==p.get("panelPageId")&&p.get("panelPageId")===m.id}),(0,We.n)(function(l){var m=(0,F.A)(l,2)[1];return t.routerStore.pipe(Rr(u),(0,me.T)(function(y){return[m,y.params]}),(0,on.s)(1))})).subscribe(function(l){var c=(0,F.A)(l,2),m=c[1];t.pageBuilderFacade.setPageInfo(new ef((0,_.A)((0,_.A)({},c[0]),{},{args:m})))})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(_s),o.rXU(xi),o.rXU(Or),o.rXU(ln.AsyncApiCallHelperService),o.rXU(Xd),o.rXU(ii),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-panel-page-router"]],standalone:!1,decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&o.nrm(0,"classifieds-ui-panel-page",0),2&e&&o.Y8G("id",t.panelPageId)},dependencies:[x_],encapsulation:2}),r}(),yY=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.panelPageService=e.getEntityCollectionService("PanelPage"),this.panelPageListItemService=e.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){console.log("here")}},{key:"onSubmit",value:function(t){console.log("create panel page",t),t.id=dr(),this.panelPageService.add(t).subscribe(function(){console.log("panel page created")})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-create-panel-page"]],standalone:!1,decls:1,vars:0,consts:[[3,"submitted"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-content-editor",0),o.bIt("submitted",function(u){return t.onSubmit(u)}),o.k0s())},dependencies:[w_],encapsulation:2}),r}(),uh=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.route=e,this.pageBuilderFacade=t,this.routerStore=s,this.moduleLoader=u,this.panelPageService=l.getEntityCollectionService("PanelPage"),this.panelPageListItemService=l.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.pipe((0,me.T)(function(s){return s.get("panelPageId")}),(0,he.p)(function(s){return void 0!==s}),(0,Bo.F)(),(0,We.n)(function(s){return t.panelPageService.getByKey(s)}),(0,We.n)(function(s){return s?(0,Cn.p)(s.contexts.filter(function(u){return"module"===u.plugin}).map(function(u){return t.moduleLoader.loadModule(function(){return(0,Nc.loadRemoteModule)({type:"module",remoteEntry:u.data.remoteEntry,exposedModule:u.data.exposedModule}).then(function(l){return l[u.data.moduleName]})})})).pipe((0,fr.c)(1),(0,me.T)(function(){return s}),br(s)):(0,De.of)(s)}),(0,We.n)(function(s){return t.routerStore.pipe(Rr(zd(function(u){return u.router}).selectCurrentRoute),(0,me.T)(function(u){return[s,u.params]}),(0,on.s)(1))}),(0,ue.M)(function(s){var u=(0,F.A)(s,2),l=u[0],c=u[1];return t.pageBuilderFacade.setPageInfo(new ef({id:l.id,realPath:"/pages/panelpage/".concat(l.id),path:l.path,args:c}))})).subscribe(function(s){var l=(0,F.A)(s,1)[0];console.log(l),t.panelPage=l})}},{key:"onSubmit",value:function(t){console.log("submitted"),this.panelPageService.update(new Vr((0,_.A)((0,_.A)({},t),{},{id:this.panelPage.id}))).subscribe(function(){alert("panel page updated")})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(_s),o.rXU(xi),o.rXU(Or),o.rXU(ln.ModuleLoaderService),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-edit-panel-page"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","panelPage"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-content-editor",0),o.bIt("submitted",function(u){return t.onSubmit(u)}),o.k0s()),2&e&&o.Y8G("panelPage",t.panelPage)},dependencies:[w_],encapsulation:2}),r}(),_Y=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.bottomSheetRef=e,this.handler=t,this.fb=s,this.dialog=u,this.cpm=l,this.wpm=c},[{key:"ngOnInit",value:function(){this.attributeWidgets=this.wpm.getPlugins()}},{key:"onItemSelect",value:function(t){var s=this;console.log(t),this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"attribute",name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:this.fb.array(this.handler.widgetSettings(t).map(function(p){return s.fb.group({name:new h.hs(p.name,h.k0.required),type:new h.hs(p.type,h.k0.required),displayName:new h.hs(p.displayName,h.k0.required),value:new h.hs(p.value,h.k0.required),computedValue:new h.hs(p.computedValue,h.k0.required)})}))}));var u=this.panelFormGroup.get("panes"),l=u.length-1,c=new Fr(u.at(l).value);this.cpm.getPlugin("attribute").subscribe(function(p){s.dialog.open(p.editorComponent,{data:{panelFormGroup:s.panelFormGroup,pane:c,paneIndex:l}})}),this.bottomSheetRef.dismiss()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Qu.eN),o.rXU(il),o.rXU(h.ze),o.rXU(Ut.bZ),o.rXU(Yt.ContentPluginManager),o.rXU(yt.WidgetPluginManager))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-attribute-selector"]],inputs:{panelFormGroup:"panelFormGroup"},standalone:!1,decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(o.j41(0,"mat-nav-list"),o.DNE(1,xW,3,1,"a",0),o.nI1(2,"async"),o.nI1(3,"keyvalue"),o.k0s()),2&e&&(o.R7$(),o.Y8G("ngForOf",o.bMT(3,3,o.bMT(2,1,t.attributeWidgets))))},dependencies:[k.Sq,Um.vu,Os._L,Os.YE,k.Jj,k.lG],encapsulation:2}),r}(),bY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=s,this.fb=u,this.handler=l,this.attributes=[],this.attributeValues=[],this.attributesFormGroup=this.fb.group({name:new h.hs(""),label:new h.hs(""),attributes:new h.hs("")});var c=this.data.pane.settings.find(function(p){return"widget"===p.name});this.widget=t.find(function(p){return p.name===c.value})},[{key:"name",get:function(){return this.attributesFormGroup.get("name")}},{key:"label",get:function(){return this.attributesFormGroup.get("label")}},{key:"ngOnInit",value:function(){var t=this.data.pane.settings.find(function(l){return"value"===l.name});this.attributes=[new yt.Attribute((0,_.A)((0,_.A)({},this.widget.schema),{},{widget:this.widget.name,label:"Value",name:"value"}))];var s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").value,u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").value;this.attributesFormGroup.get("name").setValue(s),this.attributesFormGroup.get("label").setValue(u),void 0!==t?(this.attributeValues=this.handler.valueSettings(this.data.pane.settings),console.log(this.attributeValues)):this.attributeValues=[new yt.AttributeValue({name:"value",type:this.widget.schema.type,displayName:"Value",value:"",computedValue:"",intValue:0,attributes:[]})]}},{key:"submit",value:function(){var t=this,s=this.name.value,u=this.label.value;this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").setValue(s),this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").setValue(u);var l=new Fr({name:s,label:u,contentPlugin:"attribute",settings:""===this.attributesFormGroup.get("attributes").value?[]:this.attributesFormGroup.get("attributes").value});0!==l.settings.length?this.handler.rendererSnippet(this.data.pane.settings).subscribe(function(c){var p=void 0!==c?t.handler.rendererOverrideSettings(c):[],m=t.data.panelFormGroup.get("panes").at(t.data.paneIndex).get("settings");m.clear(),[].concat((0,A.A)(t.handler.widgetSettings(t.widget)),(0,A.A)(l.settings),(0,A.A)(p)).forEach(function(y){return m.push(t.convertToGroup(y))}),t.dialogRef.close()}):this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new h.hs(t.name,h.k0.required),type:new h.hs(t.type,h.k0.required),displayName:new h.hs(t.displayName,h.k0.required),value:new h.hs(t.value,h.k0.required),computedValue:new h.hs(t.value,h.k0.required),attributes:new h.Bm([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(yt.ATTRIBUTE_WIDGET),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(il))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-attribute-editor"]],standalone:!1,decls:10,vars:3,consts:[[3,"ngSubmit","formGroup"],["fxLayout","column"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Label","formControlName","label"],["formControlName","attributes",3,"attributes","attributeValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content",1)(2,"mat-form-field"),o.nrm(3,"input",2),o.k0s(),o.j41(4,"mat-form-field"),o.nrm(5,"input",3),o.k0s(),o.nrm(6,"classifieds-ui-attributes-builder",4),o.k0s(),o.j41(7,"mat-dialog-actions")(8,"button",5),o.EFF(9,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.attributesFormGroup),o.R7$(6),o.Y8G("attributes",t.attributes)("attributeValues",t.attributeValues))},dependencies:[h.qT,h.me,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,Gt,yt.AttributesBuilderComponent],encapsulation:2}),r}(),AY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.widgets=e,this.handler=t,this.tokenizerService=s,this.fb=u,this.controlContainer=l,this.settings=[],this.appearance="legacy",this.attributes=[]},[{key:"ngOnInit",value:function(){var t=this;this.attributes=[new yt.Attribute((0,_.A)((0,_.A)({},this.widgets.find(function(s){return s.name===t.settings.find(function(u){return"widget"===u.name}).value}).schema),{},{name:"value",label:"Value"}))],this.attributeValues=this.handler.valueSettings(this.settings),this.tokens=this.tokenizerService.generateTokens(this.attributeValues),this.handler.rendererSnippet(this.settings).subscribe(function(s){t.rendererOverride=s,void 0!==s&&(t.rendererSettings=t.handler.rendererOverrideSettings(s)[0].attributes)})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.ATTRIBUTE_WIDGET),o.rXU(il),o.rXU(Yn),o.rXU(h.ze),o.rXU(h.ZU,8))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-attribute-pane-renderer"]],inputs:{settings:"settings",appearance:"appearance",name:"name",label:"label",displayType:"displayType"},standalone:!1,decls:3,vars:2,consts:[["overrideTpl",""],["settingsTmpl",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"],[3,"settings","tokens"]],template:function(e,t){if(1&e&&o.DNE(0,IW,3,2,"div",2)(1,VW,1,2,"ng-template",null,0,o.C5r),2&e){var s=o.sdS(2);o.Y8G("ngIf",!t.rendererOverride)("ngIfElse",s)}},dependencies:[k.Sq,k.bT,k.T3,h.BC,h.cb,h.j4,h.JD,yt.AttributesBuilderComponent,Lw,yt.AttributePipe],styles:[".override[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em}"]}),r}(),Oc=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.filesService=e,this.attributeSerializer=t,this.types=["image/png","image/jpg","image/jpeg","image/gif"]},[{key:"handleFile",value:function(t){var s=this;return this.filesService.bulkUpload({files:[t]}).pipe((0,me.T)(function(u){return s.buildSettings(u[0])}))}},{key:"handlesType",value:function(t){return void 0!==this.types.find(function(s){return s===t})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"getBindings",value:function(t,s,u){return(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return t.fileName="placeholdername",this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,De.of)({mediaLoading:"y",mediaLoaded:"n",loadError:"n",loadDuration:"y"})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Cm),f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),CY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.filesService=u,this.handler=l,this.mediaTypes=".png,.jpg,.jpeg,.gif,.svg"},[{key:"ngOnInit",value:function(){var t=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).pipe((0,We.n)(function(s){return t.filesService.convertToFiles([s])})).subscribe(function(s){t.media=s[0]})}},{key:"onSelectMedia",value:function(t){var s=this;this.media=t.addedFiles[0],this.handler.handleFile(this.media).subscribe(function(u){void 0===s.data.paneIndex&&s.data.panelFormGroup.get("panes").push(s.fb.group({contentPlugin:"media",name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:new h.Bm(u.map(function(l){return s.fb.group({name:new h.hs(l.name,h.k0.required),type:new h.hs(l.type,h.k0.required),displayName:new h.hs(l.displayName,h.k0.required),value:new h.hs(l.value,h.k0.required),computedValue:new h.hs(l.value,h.k0.required)})}))})),s.dialogRef.close()})}},{key:"onRemoveMedia",value:function(t){this.media=void 0}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(Cm),o.rXU(Oc))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-media-editor"]],standalone:!1,decls:4,vars:3,consts:[[3,"change","multiple","accept"],[3,"removable","file","removed",4,"ngIf"],[3,"removed","removable","file"]],template:function(e,t){1&e&&(o.j41(0,"ngx-dropzone",0),o.bIt("change",function(u){return t.onSelectMedia(u)}),o.j41(1,"ngx-dropzone-label"),o.EFF(2,"Drag and Drop Media Here"),o.k0s(),o.DNE(3,NW,3,4,"ngx-dropzone-image-preview",1),o.k0s()),2&e&&(o.Y8G("multiple",!1)("accept",t.mediaTypes),o.R7$(3),o.Y8G("ngIf",t.media))},dependencies:[k.bT,Ym,lw,dw],encapsulation:2}),r}(),SY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.mediaSettings=e,this.handler=t,this.attributeSerializer=s,this.settings=[],this.ancestory=[],this.state={},this.stateChange=new o.bkB,this.panelPageStateService=u.getEntityCollectionService("PanelPageState")},[{key:"ngOnInit",value:function(){var t=this;console.log("media ancestory is"),console.log(this.ancestory),console.log("my state is:"),console.log(this.state),this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(s){t.mediaFile=s})}},{key:"ngAfterViewInit",value:function(){var t=this;this.image.nativeElement.onload=function(){console.log("image loaded"),t.stateChange.emit({mediaLoading:"n"})}}},{key:"ngOnChanges",value:function(){var t=this;this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(s){t.mediaFile=s})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Am),o.rXU(Oc),o.rXU(yt.AttributeSerializerService),o.rXU(Cr))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-media-pane-renderer"]],viewQuery:function(e,t){var s;1&e&&o.GBs(OW,7),2&e&&o.mGM(s=o.lsd())&&(t.image=s.first)},inputs:{settings:"settings",ancestory:"ancestory",state:"state"},outputs:{stateChange:"stateChange"},standalone:!1,features:[o.OA$],decls:2,vars:3,consts:[["img",""],[3,"src"]],template:function(e,t){1&e&&o.nrm(0,"img",1,0),2&e&&o.Y8G("src",o.ai1("",t.mediaBaseUrl,"/",t.mediaFile.path),o.B4B)},styles:["img[_ngcontent-%COMP%]{max-width:100%}"]}),r}(),hf=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p,m,y){(0,v.A)(this,n),this.siteName=e,this.snippetHandler=t,this.pageBuilderFacade=s,this.store=u,this.tokenizerService=l,this.panelHandler=c,this.urlGeneratorService=p,this.attributeSerializer=m,this.rulesResolver=y},[{key:"handleFile",value:function(t){return(0,De.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return["snippet","pane"].indexOf(this.getRenderType(t))>-1}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){var u=this,l=new W.B;return this.toObject(t).pipe((0,We.n)(function(c){return u.urlGeneratorService.getUrl(c.url,c.params,s).pipe((0,me.T)(function(p){return[c,p]}))})).subscribe(function(c){var p=(0,F.A)(c,2),m=p[0],y=p[1];u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),new rs((0,_.A)((0,_.A)({},m),{},{url:y}))),u.store.pipe(Rr(Wm("".concat(s.get("tag")))),(0,he.p)(function(x){return void 0!==x})).subscribe(function(x){l.next(x),l.complete()})}),l}},{key:"buildDynamicItems",value:function(t,s){var u=this,l=new W.B;return console.log("build dynamic items rest"),this.toObject(t).pipe((0,We.n)(function(c){return u.urlGeneratorService.getUrl(c.url,c.params,s).pipe((0,me.T)(function(p){return[c,p]}))})).subscribe(function(c){var p=(0,F.A)(c,2),m=p[0],y=p[1];console.log("Load in rest data"),u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),new rs((0,_.A)((0,_.A)({},m),{},{url:y}))),u.store.pipe(Rr(Wm("".concat(s.get("tag")))),(0,he.p)(function(x){return void 0!==x}),(0,We.n)(function(x){return u.getBindings(t,"pane").pipe((0,me.T)(function(D){return[x,D]}))}),(0,We.n)(function(x){var D=(0,F.A)(x,2),N=D[0],$=D[1];return tr(function(){return 0!==N.results.length&&$.length>0},new L.c(function(q){(0,Cn.p)(N.results.map(function(le){return(0,Pa.H)($).pipe((0,me.T)(function(ve){return s.get("panes").find(function(Ae){return Ae.name===ve.id})}),(0,We.n)(function(ve){return tr(function(){return ve.rule&&null!==ve.rule&&""!==ve.rule.condition},u.rulesResolver.evaluate(ve.rule,[].concat((0,A.A)(s.get("contexts")),(0,A.A)(void 0!==ve.contexts?ve.contexts:[]),[new Ua({name:"_root",adaptor:"data",data:le})])).pipe((0,me.T)(function(Ae){return[ve,Ae]})),(0,De.of)(!1).pipe((0,me.T)(function(Ae){return[ve,Ae]})))}),(0,he.p)(function(ve){return(0,F.A)(ve,2)[1]}),(0,me.T)(function(ve){return(0,F.A)(ve,2)[0].name}),br($[0].id),(0,on.s)(1))})).pipe((0,me.T)(function(le){return[N,le]})).subscribe(function(le){q.next(le),q.complete()})}),new L.c(function(q){q.next([N]),q.complete()}))}),(0,me.T)(function(x){var D=(0,F.A)(x,2),$=D[1];return D[0].results.map("pane"===m.renderer.type?function(q,le){var ve=s.get("panes").find(function(ge){return ge.name===$[le]}),Ae=dr();return new Fr((0,_.A)((0,_.A)({},ve),{},{rule:void 0,label:Ae,contexts:[].concat((0,A.A)(s.get("contexts")),[new Ua({name:"_root",adaptor:"data",data:q})])}))}:function(q){return new Fr({contentPlugin:"snippet",name:dr(),label:void 0,contexts:[].concat((0,A.A)(s.get("contexts")),[new Ua({name:"_root",adaptor:"data",data:q})]),settings:u.snippetHandler.buildSettings((0,_.A)((0,_.A)({},m.renderer.data),{},{content:m.renderer.data.content}))})})}),(0,me.T)(function(x){return new os({stylePlugin:void 0,settings:[],panes:x,columnSetting:new Xn})}),(0,me.T)(function(x){return u.panelHandler.buildSettings(new Vr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new Xn,rowSettings:[],panels:[x]}))})).subscribe(function(x){l.next(x.find(function(D){return"panels"===D.name}).attributes[0].attributes.find(function(D){return"panes"===D.name}).attributes),l.complete()})}),l}},{key:"buildSelectOptionItems",value:function(t,s){var u=this;return this.toObject(t).pipe((0,We.n)(function(l){return u.urlGeneratorService.getUrl(l.url,l.params,s).pipe((0,me.T)(function(c){return[l,c]}))}),(0,me.T)(function(l){var c=(0,F.A)(l,2),m=c[1];return new rs((0,_.A)((0,_.A)({},c[0]),{},{url:m}))})).subscribe(function(l){u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),l)}),this.store.pipe(Rr(Wm("".concat(s.get("tag")))),(0,he.p)(function(l){return void 0!==l}),(0,me.T)(function(l){return[l,l.results.map(function(c){return u.tokenizerService.generateGenericTokens(c)})]}),(0,me.T)(function(l){var c=(0,F.A)(l,2);return[c[0],c[1],new zE(JSON.parse(s.get("snippet").content))]}),(0,me.T)(function(l){var c=(0,F.A)(l,3),p=c[0],y=c[2];return c[1].map(function(x,D){return new $E({dataItem:p.results[D],value:u.attributeSerializer.serialize("[.]"===y.value?p.results[D]:u.tokenizerService.replaceTokens(y.value,x),"value"),label:u.tokenizerService.replaceTokens(y.label,x)})})}))}},{key:"getBindings",value:function(t,s,u){return"context"===s?this.toObject(t).pipe((0,me.T)(function(l){return l.params.reduce(function(c,p){return[].concat((0,A.A)(c),(0,A.A)("form"===p.mapping.type?[new Yt.ContentBinding({id:"form__".concat(p.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[])})):this.toObject(t).pipe((0,We.n)(function(l){return tr(function(){return l.renderer.type===s},(0,De.of)(l.renderer.bindings),(0,De.of)([]))}))}},{key:"toObject",value:function(t){return(0,De.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"getRenderType",value:function(t){var s=[t.find(function(u){return"renderer"===u.name})].map(function(u){return u.attributes.find(function(l){return"type"===l.name})});return s.length>0?s[0].value:void 0}},{key:"stateDefinition",value:function(t){return(0,De.of)({autocomplete:{input:""}})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.SITE_NAME),f.KVO(al),f.KVO(xi),f.KVO(Or),f.KVO(Yn),f.KVO(Wa),f.KVO(Hd),f.KVO(yt.AttributeSerializerService),f.KVO(qy))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),xY=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.tokenizerService=t,this.panes=[],this.submitted=new o.bkB,this.contexts=[],this.forms=[],this.snippetValidation=!0,this.restForm=this.fb.group({source:this.fb.control(""),renderer:this.fb.group({type:"snippet",query:this.fb.control(""),trackBy:this.fb.control(""),data:this.fb.control(""),bindings:this.fb.array([]),select:this.fb.group({value:this.fb.control(""),label:this.fb.control(""),id:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")})})})},[{key:"rest",set:function(t){var s=this;void 0!==t&&(this._rest=t,this.restForm.setValue({renderer:(0,_.A)((0,_.A)({trackBy:"",query:""},t.renderer),{},{data:t.renderer.data?(0,_.A)((0,_.A)({},t.renderer.data),{},{jsScript:t.renderer.data.jsScript?t.renderer.data.jsScript:""}):{content:"",contentType:"",jsScript:""},select:["pane","snippet"].findIndex(function(l){return l===t.renderer.type})>-1?{value:"",label:"",id:"",multiple:"",limit:""}:JSON.parse(t.renderer.data.content),bindings:[]}),source:{url:"",params:[],method:"",body:""}}),"pane"===t.renderer.type&&(this.bindings.clear(),t.renderer.bindings.forEach(function(l){"pane"===l.type&&s.bindings.push(s.fb.group({id:s.fb.control(l.id,h.k0.required),type:s.fb.control(l.type,h.k0.required)}))})),"pane"===t.renderer.type?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),setTimeout(function(){s.restSource={url:t.url,params:t.params,method:t.method?t.method:"",body:t.body?(0,_.A)((0,_.A)({},t.body),{},{jsScript:""}):""},s.sourceForm.refreshData$.next(void 0)}))}},{key:"rendererType",get:function(){return this.restForm.get("renderer").get("type")}},{key:"isSelectable",get:function(){return this.restForm.get("renderer").get("type").value&&"snippet"!==this.restForm.get("renderer").get("type").value&&"pane"!==this.restForm.get("renderer").get("type").value}},{key:"bindings",get:function(){return this.restForm.get("renderer").get("bindings")}},{key:"valid",get:function(){return this.restForm.valid}},{key:"ngOnInit",value:function(){var t=this;console.log(this.contexts),this.restForm.get("renderer").get("type").valueChanges.subscribe(function(s){"pane"===t.rendererType.value?t.restForm.get("renderer").get("data").disable():t.restForm.get("renderer").get("data").enable(),t.restForm.get("renderer").get("data").setValue({contentType:"",content:"",jsScript:""})}),this.restForm.get("renderer").get("select").valueChanges.subscribe(function(s){t.restForm.get("renderer").get("data").setValue({contentType:"application/json",content:JSON.stringify({value:s.value,label:s.label,id:s.id,multiple:s.multiple,limit:s.limit}),jsScript:""})})}},{key:"ngAfterViewInit",value:function(){}},{key:"onDataChange",value:function(t){this.tokens=this.tokenizerService.generateGenericTokens(t[0])}},{key:"addPane",value:function(){this.bindings.push(this.fb.group({type:this.fb.control("pane",h.k0.required),id:this.fb.control("",h.k0.required)}))}},{key:"submit",value:function(){var t=new rs((0,_.A)((0,_.A)({},this.restForm.value),{},{url:this.restForm.value.source.url,params:this.restForm.value.source.params,method:this.restForm.value.source.method,body:this.restForm.value.source.body}));this.submitted.emit(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(Yn))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rest-form"]],viewQuery:function(e,t){var s;1&e&&o.GBs(ff,7),2&e&&o.mGM(s=o.lsd())&&(t.sourceForm=s.first)},inputs:{panes:"panes",contexts:"contexts",rest:"rest"},outputs:{submitted:"submitted"},standalone:!1,decls:34,vars:9,consts:[[1,"rest-form",3,"ngSubmit","formGroup"],["direction","vertical",1,"content-inner"],["as-split-area","","size","50"],["formControlName","source",3,"dataChange","contexts","restSource"],["size","50","formGroupName","renderer"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["required","","formControlName","type"],["label","Output"],["value","snippet"],["value","pane"],["label","Input"],["value","select"],["value","radiogroup"],["value","checkboxgroup"],["value","autocomplete"],["formControlName","data","splitDirection","horizontal","rows","10","cols","40",3,"hidden","rootForm","tokens"],["formArrayName","bindings",4,"ngIf"],["formGroupName","select",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["formArrayName","bindings"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formGroupName","select"],["matInput","","formControlName","id","placeholder","Id"],["matInput","","formControlName","value","placeholder","Value"],["matInput","","formControlName","label","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"as-split",1)(3,"div",2)(4,"classifieds-ui-rest-source-form",3),o.bIt("dataChange",function(u){return t.onDataChange(u)}),o.k0s()(),o.j41(5,"as-split-area",4)(6,"mat-form-field"),o.nrm(7,"input",5),o.k0s(),o.j41(8,"mat-form-field"),o.nrm(9,"input",6),o.k0s(),o.j41(10,"mat-form-field")(11,"mat-label"),o.EFF(12,"Type"),o.k0s(),o.j41(13,"mat-select",7)(14,"mat-optgroup",8)(15,"mat-option",9),o.EFF(16,"Snippet"),o.k0s(),o.j41(17,"mat-option",10),o.EFF(18,"Pane"),o.k0s()(),o.j41(19,"mat-optgroup",11)(20,"mat-option",12),o.EFF(21,"Select"),o.k0s(),o.j41(22,"mat-option",13),o.EFF(23,"Radio Group"),o.k0s(),o.j41(24,"mat-option",14),o.EFF(25,"Checkbox Group"),o.k0s(),o.j41(26,"mat-option",15),o.EFF(27,"Autocomplete"),o.k0s()()()(),o.nrm(28,"classifieds-ui-snippet-form",16),o.DNE(29,UW,5,1,"div",17)(30,GW,12,0,"div",18),o.k0s()()(),o.j41(31,"mat-dialog-actions")(32,"button",19),o.EFF(33,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.restForm),o.R7$(4),o.Y8G("contexts",t.contexts)("restSource",t.restSource),o.R7$(24),o.Y8G("hidden","snippet"!=t.rendererType.value)("rootForm",!1)("tokens",t.tokens),o.R7$(),o.Y8G("ngIf","pane"==t.rendererType.value),o.R7$(),o.Y8G("ngIf",t.isSelectable),o.R7$(2),o.Y8G("disabled",!t.valid))},dependencies:[k.Sq,k.bT,h.qT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,h.$R,h.v8,Zr.wT,Zr.D7,qr.$z,jd.So,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,nn.nJ,ya.VO,Nd,Od,ff,Mm],styles:[".rest-form[_ngcontent-%COMP%]     .content-inner{height:auto}"]}),r}(),EY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.panes=[],this.contexts=[],this.contexts=this.data.contexts},[{key:"ngOnInit",value:function(){var t=this;this.panes=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):(0,A.A)(s)},[]),void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.rest=s})}},{key:"submitted",value:function(t){var s=this,u=this.data.panelFormGroup.get("panes");if(void 0===this.data.paneIndex)u.push(this.fb.group({contentPlugin:"rest",name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:this.fb.array(this.handler.buildSettings(t).map(function(c){return s.convertToGroup(c)}))})),this.data.contentAdded.next([this.data.panelIndex,u.length-1]);else{var l=u.at(this.data.paneIndex);l.get("settings").clear(),this.handler.buildSettings(t).forEach(function(c){l.get("settings").push(s.convertToGroup(c))})}this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new h.hs(t.name,h.k0.required),type:new h.hs(t.type,h.k0.required),displayName:new h.hs(t.displayName,h.k0.required),value:new h.hs(t.value,h.k0.required),computedValue:new h.hs(t.value,h.k0.required),attributes:new h.Bm([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(hf))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rest-editor"]],standalone:!1,decls:1,vars:3,consts:[[3,"submitted","panes","rest","contexts"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-rest-form",0),o.bIt("submitted",function(u){return t.submitted(u)}),o.k0s()),2&e&&o.Y8G("panes",t.panes)("rest",t.rest)("contexts",t.contexts)},dependencies:[xY],encapsulation:2}),r}(),DY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.tokenizerService=s,this.searchChange=new o.bkB,this.selectionForm=this.fb.group({attributes:this.fb.array([])}),this.onTouched=function(){},this.displayAuto=function(l){return s.replaceTokens(u.selectMapping.label,u.tokenizerService.generateGenericTokens(l.dataItem))}},[{key:"values",set:function(t){this.options=t,this.buildOptions()}},{key:"attributesArray",get:function(){return this.selectionForm.get("attributes")}},{key:"ngOnInit",value:function(){var t=this;this.attributesArray.push(this.fb.group({name:new h.hs("value",h.k0.required),type:new h.hs(yt.AttributeTypes.Array,h.k0.required),displayName:new h.hs("Value",h.k0.required),value:new h.hs(""),attributes:["checkboxgroup"].findIndex(function(s){return s===t.renderType})>-1?this.fb.array([]):new h.hs("")})),"autocomplete"===this.renderType&&(this.attributesArray.at(0).addControl("_proxy",this.fb.control("")),this.attributesArray.at(0).get("_proxy").valueChanges.pipe((0,Bo.F)(),(0,zn.B)(500)).subscribe(function(s){t.searchChange.emit(s)}))}},{key:"onOptionSelected",value:function(t){this.attributesArray.at(0).get("attributes").setValue(t.option.value.value),this.attributesArray.at(0).get("attributes").updateValueAndValidity()}},{key:"writeValue",value:function(t){t&&this.attributesArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.attributesArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.attributesArray.disable():this.attributesArray.enable()}},{key:"validate",value:function(t){return this.selectionForm.valid?null:{invalidForm:{valid:!1,message:"selection is invalid"}}}},{key:"buildOptions",value:function(){var t=this;if("checkboxgroup"===this.renderType&&void 0!==this.options){var s=this.attributesArray.controls[0].get("attributes");s.clear(),this.options.forEach(function(u){var l=t.attributeSerializer.convertToGroup(u.value);l.addControl("_store",new h.hs(!1)),s.push(l)})}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService),o.rXU(Yn))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-selection"]],inputs:{name:"name",label:"label",values:"values",renderType:"renderType",selectMapping:"selectMapping"},outputs:{searchChange:"searchChange"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:9,vars:6,consts:[["autocomplete","matAutocomplete"],[3,"formGroup"],["formArrayName","attributes"],["formGroupName","0"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","attributes"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","_store"],["matInput","","formControlName","_proxy",3,"placeholder","matAutocomplete"],[3,"optionSelected","displayWith"]],template:function(e,t){1&e&&(o.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),o.qex(4,4),o.DNE(5,$W,6,2,"ng-container",5)(6,HW,6,2,"ng-container",5)(7,XW,4,1,"ng-container",5)(8,WW,6,4,"ng-container",5),o.bVm(),o.k0s()()()()),2&e&&(o.Y8G("formGroup",t.selectionForm),o.R7$(4),o.Y8G("ngSwitch",t.renderType),o.R7$(),o.Y8G("ngSwitchCase","select"),o.R7$(),o.Y8G("ngSwitchCase","radiogroup"),o.R7$(),o.Y8G("ngSwitchCase","checkboxgroup"),o.R7$(),o.Y8G("ngSwitchCase","autocomplete"))},dependencies:[k.Sq,k.ux,k.e1,h.me,h.BC,h.cb,h.j4,h.JD,h.$R,h.v8,rh.$3,Zr.wT,rh.pN,jd.So,vr.fg,nn.rl,nn.nJ,ah.VT,ah._g,ya.VO],encapsulation:2}),r}(),wY=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.restHandler=e,this.controlContainer=t,this.settings=[],this.contexts=[],this.state={},this.stateChange=new o.bkB,this.tag=dr(),this.searchChange$=new W.B},[{key:"renderType",get:function(){return this.restHandler.getRenderType(this.settings)}},{key:"ngOnInit",value:function(){var t=this;this.restHandler.toObject(this.settings).pipe((0,ue.M)(function(s){t.snippet=s.renderer.data,t.selectMapping=new zE(JSON.parse(t.snippet.content))}),(0,he.p)(function(){return"autocomplete"!==t.renderType}),(0,We.n)(function(s){return t.restHandler.buildSelectOptionItems(t.settings,new Map([["tag",t.tag],["snippet",s.renderer.data],["contexts",t.contexts]]))})).subscribe(function(s){t.options=s}),this.searchChange$.pipe((0,ue.M)(function(s){t.stateChange.emit({autocomplete:{input:s}})}),(0,We.n)(function(s){return t.restHandler.buildSelectOptionItems(t.settings,new Map([["tag",dr()],["snippet",t.snippet],["contexts",t.contexts]]))})).subscribe(function(s){t.options=s})}},{key:"onSearchChange",value:function(t){this.searchChange$.next(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(hf),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-rest-pane-renderer"]],inputs:{settings:"settings",name:"name",label:"label",displayType:"displayType",contexts:"contexts",state:"state"},outputs:{stateChange:"stateChange"},standalone:!1,decls:2,vars:6,consts:[[3,"formGroup"],["formControlName","settings",3,"searchChange","name","label","renderType","values","selectMapping"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"classifieds-ui-selection",1),o.bIt("searchChange",function(u){return t.onSearchChange(u)}),o.k0s()()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("name",t.name)("label",t.label)("renderType",t.renderType)("values",t.options)("selectMapping",t.selectMapping))},dependencies:[h.BC,h.cb,h.j4,h.JD,DY],encapsulation:2}),r}(),lh=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),this.siteName=e,this.tokenizerService=t,this.panelHandler=s,this.mediaHandler=u,this.attributeSerializer=l,this.inlineContextResolver=c},[{key:"handleFile",value:function(t){return(0,De.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!0}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"buildDynamicItems",value:function(t,s){var u=this;return this.toObject(t).pipe((0,me.T)(function(l){return[l,s.get("contexts").find(function(c){return c.name===l.context})]}),(0,We.n)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return u.extractDataArray(m,p.query).pipe((0,me.T)(function(y){return[p,m,y]}))}),(0,We.n)(function(l){var c=(0,F.A)(l,3);return u.transformDataArray(c[2],c[0].plugin)}),(0,me.T)(function(l){return new os({stylePlugin:void 0,settings:[],panes:l,columnSetting:new Xn})}),(0,me.T)(function(l){return u.panelHandler.buildSettings(new Vr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new Xn,rowSettings:[],panels:[l]}))}),(0,me.T)(function(l){return l.find(function(c){return"panels"===c.name}).attributes[0].attributes.find(function(c){return"panes"===c.name}).attributes}))}},{key:"getBindings",value:function(t,s,u){return"context"===s?this.toObject(t).pipe((0,me.T)(function(l){return[new Yt.ContentBinding({id:l.context,type:"context"})]})):(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"extractDataArray",value:function(t,s){return this.inlineContextResolver.resolve(t).pipe((0,me.T)(function(u){var l=s.split("."),c=l.length;if(void 0===t)return(0,De.of)([]);for(var p=Array.isArray(u)?u[0]:u,m=0;m<c;m++)""!==l[m]&&(p=p[l[m]]);return p}))}},{key:"transformDataArray",value:function(t,s){var u=this;return"media"===s?(0,De.of)(t.map(function(l){return new hy(l)}).map(function(l){return new Fr({contentPlugin:"media",name:void 0,label:void 0,settings:u.mediaHandler.buildSettings(l)})})):(0,De.of)()}},{key:"stateDefinition",value:function(t){return(0,De.of)({})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.SITE_NAME),f.KVO(Yn),f.KVO(Wa),f.KVO(Oc),f.KVO(yt.AttributeSerializerService),f.KVO(Ac))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),FY=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.context=r.context,this.query=r.query,this.plugin=r.plugin)}),kY=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.contexts=[],this.submitted=new o.bkB,this.sliceForm=this.fb.group({context:this.fb.control("",h.k0.required),query:this.fb.control("",h.k0.required),plugin:this.fb.control("",h.k0.required)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var t=new FY(this.sliceForm.value);this.submitted.emit(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-slice-form"]],inputs:{contexts:"contexts"},outputs:{submitted:"submitted"},standalone:!1,decls:20,vars:3,consts:[[1,"slice-form",3,"ngSubmit","formGroup"],["required","","formControlName","context"],["value","_root"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Query","formControlName","query","required",""],["required","","formControlName","plugin"],["value","media"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content")(2,"mat-form-field")(3,"mat-label"),o.EFF(4,"Type"),o.k0s(),o.j41(5,"mat-select",1)(6,"mat-option",2),o.EFF(7,"_root"),o.k0s(),o.DNE(8,YW,2,2,"mat-option",3),o.k0s()(),o.j41(9,"mat-form-field"),o.nrm(10,"input",4),o.k0s(),o.j41(11,"mat-form-field")(12,"mat-label"),o.EFF(13,"Plugin"),o.k0s(),o.j41(14,"mat-select",5)(15,"mat-option",6),o.EFF(16,"Media"),o.k0s()()()(),o.j41(17,"mat-dialog-actions")(18,"button",7),o.EFF(19,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.sliceForm),o.R7$(8),o.Y8G("ngForOf",t.contexts),o.R7$(10),o.Y8G("disabled",!t.sliceForm.valid))},dependencies:[k.Sq,h.qT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,qr.$z,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,nn.nJ,ya.VO],encapsulation:2}),r}(),PY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.contexts=[],this.contexts=this.data.contexts},[{key:"ngOnInit",value:function(){}},{key:"submitted",value:function(t){var s=this;this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"slice",name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:this.fb.array(this.handler.buildSettings(t).map(function(u){return s.convertToGroup(u)}))})),this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new h.hs(t.name,h.k0.required),type:new h.hs(t.type,h.k0.required),displayName:new h.hs(t.displayName,h.k0.required),value:new h.hs(t.value,h.k0.required),computedValue:new h.hs(t.value,h.k0.required),attributes:new h.Bm([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(lh))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-slice-editor"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","contexts"]],template:function(e,t){1&e&&(o.j41(0,"classifieds-ui-slice-form",0),o.bIt("submitted",function(u){return t.submitted(u)}),o.k0s()),2&e&&o.Y8G("contexts",t.contexts)},dependencies:[kY],encapsulation:2}),r}(),RY=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("rest",h.k0.required)),this.controlContainer.control.addControl("rest",this.fb.control(""))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-editor"]],viewQuery:function(e,t){var s;1&e&&o.GBs(ff,7),2&e&&o.mGM(s=o.lsd())&&(t.restSourceFormComp=s.first)},standalone:!1,decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","rest"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-rest-source-form",1),o.bVm()),2&e&&o.Y8G("formGroup",t.controlContainer.control)},dependencies:[h.BC,h.cb,h.j4,h.JD,ff],encapsulation:2}),r}(),TY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.contexts=[],this.panes=[],this.formGroup=this.fb.group({labels:this.fb.array([this.buildLabelGroup()])}),this.contexts=this.data.contexts},[{key:"labels",get:function(){return this.formGroup.get("labels")}},{key:"ngOnInit",value:function(){this.panes=new os(this.data.panelFormGroup.value).panes}},{key:"submit",value:function(){var t=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(s){console.log("label mappings"),console.log(t.attributeSerializer.convertToGroup(s)),t.data.panelFormGroup.get("settings").push(t.attributeSerializer.convertToGroup(s))})}},{key:"onRemoveMapping",value:function(t){this.labels.removeAt(t)}},{key:"onAddMapping",value:function(){this.labels.push(this.buildLabelGroup())}},{key:"buildLabelGroup",value:function(){return this.fb.group({mapping:this.fb.control("")})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-tabs-panel-editor"]],standalone:!1,decls:7,vars:3,consts:[[3,"ngSubmit","formGroup"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"formGroupName"],["formControlName","mapping",3,"panes"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"div",1),o.DNE(2,QW,4,2,"div",2),o.j41(3,"button",3),o.bIt("click",function(){return t.onAddMapping()}),o.EFF(4,"Add"),o.k0s()(),o.j41(5,"button",4),o.EFF(6,"Save"),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(2),o.Y8G("ngForOf",t.labels.controls),o.R7$(3),o.Y8G("disabled",!t.formGroup.valid))},dependencies:[k.Sq,h.qT,h.BC,h.cb,h.j4,h.JD,h.$R,h.v8,qr.$z,Ut.tx,iz],encapsulation:2}),r}(),MY=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e,this.settings=[],this.panes=[],this.originMappings=[],this.labelMappingsEnabled=!1},[{key:"ngOnInit",value:function(){console.log("tabs panels contexts"),console.log(this.panes);var t=this.attributeSerializer.deserialize(new yt.AttributeValue({name:"",displayName:"",computedValue:"",type:yt.AttributeTypes.Complex,value:"",intValue:0,attributes:this.settings}));this.labelMappingsEnabled=!!(t&&void 0!==t.labels&&Array.isArray(t.labels)&&t.labels.length>0)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-tabs-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings"},standalone:!1,decls:2,vars:2,consts:[["mat-align-tabs","start",4,"ngIf"],["mat-align-tabs","start"],[4,"for"],["mat-tab-label",""],[3,"pluginName","settings","contexts"],["label","The Label",4,"ngFor","ngForOf"],["label","The Label"]],template:function(e,t){1&e&&o.DNE(0,eY,2,1,"mat-tab-group",0)(1,nY,2,1,"mat-tab-group",0),2&e&&(o.Y8G("ngIf",t.labelMappingsEnabled),o.R7$(),o.Y8G("ngIf",!t.labelMappingsEnabled))},dependencies:[k.Sq,k.bT,Po.ES,Po.mq,Po.T8,ln.ForDirective,mf],encapsulation:2}),r}(),zw=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.panelPages=[],this.panelPage$=new R.t(new Vr),this.context$=new R.t(void 0),this.formGroup=this.fb.group({state:this.fb.control("",[h.k0.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,zn.B)(250),(0,Bo.F)(),(0,he.p)(function(u){try{return JSON.parse(u),!0}catch{return!1}}),(0,me.T)(function(u){return JSON.parse(u)})).subscribe(function(u){console.log("write state"),console.log(u),s.formGroup.get("state").setValue(u)}),this.onTouched=function(){}},[{key:"panelPage",set:function(t){this.panelPage$.next(t)}},{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.panelPage$.subscribe(function(s){t.panelPages=[s]}),this.context$.subscribe(function(s){t.stateCtrl.setValue(s?JSON.stringify(s.data.state):"")})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"flattenSelector",value:function(t){var s=[];return null!=t.panel&&s.push(t.panel),null!=t.pane&&s.push(t.pane),null!=t.nested&&"object"==typeof t.nested&&this.flattenSelector(t.nested).forEach(function(u){return s.push(u)}),s}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-page-state-form"]],inputs:{panelPage:"panelPage",context:"context"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:3,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.EFF(1," <"),o.nrm(2,"textarea",1),o.k0s()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(2),o.Y8G("formControl",t.stateCtrl))},dependencies:[h.me,h.BC,h.cb,h.YS,h.l_,h.j4],encapsulation:2}),r}(),IY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.fb=e,this.pageBuilderFacade=t,this.controlContainer=s},[{key:"ngOnInit",value:function(){var t=this;this.controlContainer.control.addControl("adaptor",this.fb.control("data",h.k0.required)),this.controlContainer.control.addControl("data",this.fb.control("")),this.pageBuilderFacade.getPage$.pipe((0,on.s)(1)).subscribe(function(s){t.panelPage=s})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(xi),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-page-state-editor"]],viewQuery:function(e,t){var s;1&e&&o.GBs(zw,7),2&e&&o.mGM(s=o.lsd())&&(t.restSourceFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","data",3,"panelPage","context"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-page-state-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("panelPage",t.panelPage)("context",t.context))},dependencies:[h.BC,h.cb,h.j4,h.JD,zw],encapsulation:2}),r}(),VY=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[h.k0.required]),field:this.fb.control("",[h.k0.required])}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?new l_(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?(s.formGroup.get("name").setValue(u.name),s.formGroup.get("field").setValue(u.field)):(s.formGroup.get("name").setValue(""),s.formGroup.get("field").setValue(""))}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-form-datasource-form"]],inputs:{settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:11,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","field","required",""]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),o.EFF(4,"Name"),o.k0s(),o.nrm(5,"input",1),o.k0s()(),o.j41(6,"div")(7,"mat-form-field")(8,"mat-label"),o.EFF(9,"Field"),o.k0s(),o.nrm(10,"input",2),o.k0s()()()),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[h.me,h.BC,h.cb,h.YS,h.j4,h.JD,vr.fg,nn.rl,nn.nJ],encapsulation:2}),r}(),NY=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-form-datasource"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-form-datasource-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings))},dependencies:[h.BC,h.cb,h.j4,h.JD,VY],encapsulation:2}),r}(),OY=function(r){return new Yt.ContentPlugin({id:"snippet",title:"Snippet",selectionComponent:void 0,editorComponent:vY,renderComponent:Lw,handler:r})},BY=function(r){return new Yt.ContentPlugin({id:"attribute",title:"Attribute",selectionComponent:_Y,editorComponent:bY,renderComponent:AY,handler:r})},LY=function(r){return new Yt.ContentPlugin({id:"media",title:"Media",selectionComponent:void 0,editorComponent:CY,renderComponent:SY,handler:r})},UY=function(r){return new Yt.ContentPlugin({id:"rest",title:"REST",selectionComponent:void 0,editorComponent:EY,renderComponent:wY,handler:r})},GY=function(r){return new Yt.ContentPlugin({id:"slice",title:"Slice",selectionComponent:void 0,editorComponent:PY,renderComponent:void 0,handler:r})},jY=function(r){return new as({id:"page",name:"page",title:"Page",global:!0,group:"pages",baseObject:{path:""},resolver:r})},$Y=function(r){var n={dataset:new Kn};return new as({id:"rest",name:"rest",title:"Rest",baseObject:n,resolver:r,editorComponent:RY})},zY=function(r){var n={dataset:new Kn};return new as({id:"form",name:"form",title:"Form",baseObject:n,resolver:r})},HY=function(r){var n=new Si({state:new yt.AttributeValue});return new as({id:"panestate",name:"panestate",title:"Pane State",internal:!0,baseObject:n,resolver:r})},KY=function(r){var n=new Si({state:new yt.AttributeValue});return new as({id:"pagestate",name:"pagestate",title:"Page State",internal:!0,baseObject:n,resolver:r,editorComponent:IY})},XY=function(r){return new Xm({id:"tabs",name:"tabs",title:"Tabs",handler:r,editorComponent:TY,renderComponent:MY})},F_=function(r){return function(n){if(0===("/"+n.map(function(t){return t.path}).join("/")).indexOf(r.path)){var e=r.path.substr(1).split("/").length;return{consumed:n,posParams:n.reduce(function(t,s,u){return 0===u?(0,_.A)((0,_.A)({},t),{},{panelPageId:new vs(r.id,{})}):u>e-1?(0,_.A)((0,_.A)({},t),{},(0,d.A)({},"arg".concat(u-e),new vs(s.path,{}))):(0,_.A)({},t)},{})}}return null}},k_=function(r){return function(n){return 0===("/"+n.map(function(t){return t.path}).join("/")).indexOf(r.path)&&n.map(function(t){return t.path}).join("/").indexOf("/manage")>-1?(r.path.substr(1).split("/"),{consumed:n,posParams:n.reduce(function(t,s,u){return 0===u?(0,_.A)((0,_.A)({},t),{},{panelPageId:new vs(r.id,{})}):(0,_.A)({},t)},{})}):null}},ZY=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.tokenizerService=e,this.panelResolverService=t,this.styleResolverService=s,this.paneDatasource=u,this.settings=[],this.panes=[],this.originMappings=[],this.resolvedContext={}},[{key:"ngOnInit",value:function(){var t=this;this.paneDatasource.pageChange$.pipe((0,Ic.i)(1),(0,We.n)(function(s){return t.panelResolverService.resolvePanes({panes:t.originPanes.map(function(u){return new Fr((0,_.A)((0,_.A)({},u),{},{metadata:new Map([].concat((0,A.A)(u.metadata?u.metadata:[]),[["page",s],["limit",t.paneDatasource.pageSize]]))}))}),contexts:t.contexts,resolvedContext:t.resolvedContext})}),(0,We.n)(function(s){return t.styleResolverService.alterResolvedPanes({panel:t.panel,resolvedPanes:s.resolvedPanes,originMappings:s.originMappings})})).subscribe(function(s){var u=s.resolvedPanes;t.originMappings=s.originMappings,t.paneDatasource.panes=u}),this.paneDatasource.panes=this.panes,this.trackByTpl="[._root.id]"}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Yn),o.rXU(u_),o.rXU(aw),o.rXU(qm))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-virtual-list-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",resolvedContext:"resolvedContext",panel:"panel"},standalone:!1,features:[o.Jv_([qm])],decls:2,vars:2,consts:[[1,"panes-viewport",3,"itemSize"],["class","pane-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pane-item"],[3,"pluginName","settings","contexts","resolvedContext"]],template:function(e,t){1&e&&(o.j41(0,"cdk-virtual-scroll-viewport",0),o.DNE(1,rY,2,4,"div",1),o.k0s()),2&e&&(o.Y8G("itemSize",75),o.R7$(),o.Y8G("cdkVirtualForOf",t.paneDatasource))},dependencies:[Mc.CdkFixedSizeVirtualScroll,Mc.CdkVirtualForOf,Mc.CdkVirtualScrollViewport,mf],styles:["[_nghost-%COMP%]{position:relative}.panes-viewport[_ngcontent-%COMP%]{height:100%;width:100%}"]}),r}(),eQ=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.router=e},[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.router.navigateByUrl(this.href)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(xa))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-page-router-link"]],inputs:{href:"href",text:"text"},standalone:!1,decls:2,vars:1,consts:[[3,"click"]],template:function(e,t){1&e&&(o.j41(0,"a",0),o.bIt("click",function(){return t.onClick()}),o.EFF(1),o.k0s()),2&e&&(o.R7$(),o.JRh(t.text))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}"]}),r}(),Hw=new f.nKC("PagesSettings"),tQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.disableRouting=!1,r&&(this.disableRouting=r.disableRouting)}),nQ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.siteName=e,this.pagesSettings=t,this.router=s,this.routesLoaded=!1,this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")},[{key:"canActivate",value:function(t,s){var u=this;return new Promise(this.pagesSettings.disableRouting?function(l){return l(!0)}:function(l){var c=s.url;-1!==c.indexOf("?")&&(c=s.url.substr(0,c.indexOf("?")));var p="path="+c.substr(1).split("/").reduce(function(m,y,x){return[].concat((0,A.A)(m),[0===x?"/".concat(y):"".concat(m[x-1],"/").concat(y)])},[]).map(function(m){return u.encodePathComponent(m)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(u.siteName,'"}}}')));setTimeout(function(){}),(0,Cn.p)([tr(function(){return!u.routesLoaded},u.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(u.siteName,'"}}}')),'&path={"wildcard":{"path.keyword":{"value":"*"}}}')).pipe((0,ue.M)(function(){return console.log("loaded page list items")}),(0,me.T)(function(m){return m.filter(function(y){return void 0!==y.path&&""!==y.path})}),(0,me.T)(function(m){return m.map(function(y){return new Vr(y)}).sort(function(y,x){return y.path.split("/").length===x.path.split("/").length?y.path.split("/")[y.path.split("/").length-1]>x.path.split("/")[x.path.split("/").length-1]?-1:1:y.path.split("/").length>x.path.split("/").length?-1:1})}),(0,ue.M)(function(m){return m.sort(function(y,x){return y.path.length>x.path.length?1:-1})}),(0,ue.M)(function(m){var y=u.router.config;m.forEach(function(x){y.unshift({matcher:k_(x),component:uh}),y.unshift({matcher:F_(x),component:sh,data:{panelPageListItem:x}}),console.log("panels matcher: ".concat(x.path))}),u.routesLoaded=!0}),(0,me.T)(function(){return[]})),(0,De.of)([])),u.panelPageListItemsService.getWithQuery(p).pipe((0,Tr.W)(function(m){return(0,De.of)([])}),(0,ue.M)(function(){return console.log("loaded specific matched")}),(0,me.T)(function(m){return m.reduce(function(y,x){return void 0===y||y.path.split("/").length<x.path.split("/").length?x:y},void 0)}),(0,me.T)(function(m){var y=s.url.substr(1).split("/").slice(m.path.split("/").length-1).join("/");return[m,y]}))]).pipe((0,me.T)(function(m){var y=(0,F.A)(m,2),D=(0,F.A)(y[1],2);return[D[0],D[1]]})).subscribe(function(m){var y=(0,F.A)(m,2),x=y[0],D=y[1],N="".concat(x.path).concat(""===D?"":"/".concat(D),"?").concat(ui.stringify(t.queryParams)),$=u.router.parseUrl(N);console.log("panels garud navigate: ".concat(x.path).concat(""===D?"":"/".concat(D),"?").concat(ui.stringify(t.queryParams))),l($)})})}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.SITE_NAME),f.KVO(Hw),f.KVO(xa),f.KVO(Cr))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Kw=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.pageBuilderFacade=e},[{key:"resolve",value:function(t,s){return this.pageBuilderFacade.getPageInfo$}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(xi))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Xw=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.pageBuilderFacade=e,this.store=t,this.urlGeneratorService=s,this.routerStore=u},[{key:"resolve",value:function(t,s){var u=this,l=new rs(s);return(l.params&&Array.isArray(l.params)&&l.params.length>0?this.changePipeline(l.params):(0,De.of)([])).pipe((0,We.n)(function(){return l.params&&Array.isArray(l.params)&&l.params.length>0?u.rebuildParams(l.params):(0,De.of)([])}),(0,me.T)(function(c){return[c,new Map([["tag",dr()]])]}),(0,We.n)(function(c){var p=(0,F.A)(c,2),y=p[1];return u.urlGeneratorService.getUrl(l.url,p[0],y).pipe((0,me.T)(function(x){return[x,y]}))}),(0,We.n)(function(c){var p=(0,F.A)(c,2),m=p[0],y=p[1];return u.pageBuilderFacade.loadRestData("".concat(y.get("tag")),new rs((0,_.A)((0,_.A)({},l),{},{url:m}))),u.store.pipe(Rr(Wm("".concat(y.get("tag")))),(0,he.p)(function(x){return void 0!==x}),(0,me.T)(function(x){return x.results}),(0,on.s)(1))}))}},{key:"changePipeline",value:function(t){var s=this,u=t.reduce(function(l,c){switch(c.mapping.type){case"route":return[].concat((0,A.A)(l),[s.routeArgChange(c.mapping.value)]);case"querystring":return[].concat((0,A.A)(l),[s.queryStringChange(c.mapping.value)]);case"form":return[].concat((0,A.A)(l),[s.formChange(c.mapping.value)]);default:return(0,A.A)(l)}},[]);return ee.h.apply(void 0,(0,A.A)(u))}},{key:"routeArgChange",value:function(t){return this.pageBuilderFacade.getPageInfo$.pipe((0,me.T)(function(){}))}},{key:"queryStringChange",value:function(t){return new W.B}},{key:"formChange",value:function(t){var s=t.split(".",2),u=(0,F.A)(s,2);return this.pageBuilderFacade.getForm$(u[0]).pipe((0,ue.M)(function(){return console.log("form change")}),(0,me.T)(function(){}))}},{key:"rebuildParams",value:function(t){var s=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,me.T)(function(u){return u?t:s.testParams(t)}))}},{key:"testParams",value:function(t){for(var s=[],u=t.length,l=0;l<u;l++)s.push(new _a("route"===t[l].mapping.type?(0,_.A)((0,_.A)({},t[l]),{},{mapping:{type:"static",value:t[l].mapping.testValue,context:void 0,testValue:void 0}}):t[l]));return s}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(xi),f.KVO(Or),f.KVO(Hd),f.KVO(Or))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),qw=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.pageBuilderFacade=e},[{key:"resolve",value:function(t,s){return this.pageBuilderFacade.getForm$(s)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(xi))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),rQ=function(){var a,r=function(n){function e(t,s){var u;return(0,v.A)(this,e),(u=(0,w.A)(this,e)).tokenizerService=t,u.paneDatasource=s,u.trackByMapping=function(l,c){return u.tokenizerService.replaceTokens(u.trackByTpl,u.tokenizerService.generateGenericTokens(c.contexts[0].data))},u}return(0,P.A)(e,n),(0,g.A)(e,[{key:"displayedColumns",get:function(){var s=this.panes.findIndex(function(u){return u.contexts.findIndex(function(l){return"_root"===l.name})>-1});return s>-1?Object.keys(this.panes[s].contexts.find(function(u){return"_root"===u.name}).data):[]}},{key:"ngOnInit",value:function(){console.log(this.panes),this.paneDatasource.panes=this.panes}},{key:"rowData",value:function(s,u){return console.log("name: ".concat(s)),"".concat(u.contexts.find(function(l){return"_root"===l.name}).data[s])}}])}(gz);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Yn),o.rXU(qm))},a.\u0275cmp=o.VBU({type:a,selectors:[["lib-table-panel-renderer"]],standalone:!1,features:[o.Jv_([qm]),o.Vt3],decls:4,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.j41(0,"table",0),o.DNE(1,oY,3,1,"ng-container",1)(2,sY,1,0,"tr",2)(3,uY,1,0,"tr",3),o.k0s()),2&e&&(o.Y8G("dataSource",t.paneDatasource),o.R7$(),o.Y8G("ngForOf",t.displayedColumns),o.R7$(),o.Y8G("matHeaderRowDef",t.displayedColumns),o.R7$(),o.Y8G("matRowDefColumns",t.displayedColumns))},dependencies:[k.Sq,Ow.B4,Ow.aE,Mo.Zl,Mo.tL,Mo.ji,Mo.cC,Mo.YV,Mo.iL,Mo.KS,Mo.$R,Mo.YZ,Mo.NB],encapsulation:2}),r}(),aQ=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,De.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"getBindings",value:function(t,s){return(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"fromPanes",value:function(t){var s=this;return t.map(function(u){return new Fr(s.attributeSerializer.deserialize(u))})}},{key:"wrapPanel",value:function(t){return new os({stylePlugin:void 0,settings:[],panes:t,columnSetting:new Xn})}},{key:"stateDefinition",value:function(t){return(0,De.of)({})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),P_=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.panelHandler=e,this.attributeSerializer=t,this.panelsLoaderService=s,this.panelsSelectorService=u},[{key:"alterResolvedPanes",value:function(t){var s=this,l=t.resolvedPanes,c=t.originMappings,p=this.attributeSerializer.deserialize(new yt.AttributeValue({name:"",displayName:"",computedValue:"",type:yt.AttributeTypes.Complex,value:"",intValue:0,attributes:t.settings})),m=p&&void 0!==p.labels&&Array.isArray(p.labels)?p.labels.map(function(x){return new ZD(x.mapping)}):[],y=[];return 0===m.length?(0,De.of)({resolvedPanes:l,originMappings:c}):(y=l.length!==m.length?l.map(function(x,D){return new ZD((0,_.A)((0,_.A)({},D<m.length?m[D]:m[m.length-1]),{},{pane:D}))}).map(function(x){return s.flattenSelector(x)}):m.map(function(x){return s.flattenSelector(x)}),(0,Cn.p)(l.map(function(x,D){return s.panelsLoaderService.reducePanes([],x,0)[0]})).pipe((0,me.T)(function(x){return x.reduce(function(D,N){var le=(0,F.A)(N,2)[1];return[].concat((0,A.A)(D),[le])},[])}),(0,me.T)(function(x){for(var D=y.map(function(ge){return s.selectWithTarget(ge)}),N=y.map(function(ge){return s.selectWithoutTarget(ge)}),$=D.map(function(ge,ke){return s.panelsSelectorService.rebuildPage(x[y[ke][0]],ge.slice(1))}),q=N.map(function(ge,ke){return s.panelsSelectorService.rebuildPage(x[y[ke][0]],ge.slice(1))}),le=[],ve=l.length,Ae=0;Ae<ve;Ae++)le.push(new Fr((0,_.A)((0,_.A)({},l[Ae]),{},{settings:s.panelHandler.buildSettings($[Ae])}))),le.push(new Fr((0,_.A)((0,_.A)({},l[Ae]),{},{settings:s.panelHandler.buildSettings(q[Ae])})));return{resolvedPanes:le,originMappings:c}})))}},{key:"stateDefinition",value:function(t){return(0,De.of)({})}},{key:"flattenSelector",value:function(t){var s=[];return null!=t.panel&&s.push(t.panel),null!=t.pane&&s.push(t.pane),null!=t.nested&&"object"==typeof t.nested&&this.flattenSelector(t.nested).forEach(function(u){return s.push(u)}),s}},{key:"selectWithTarget",value:function(t){return t.map(function(s){return s+1})}},{key:"selectWithoutTarget",value:function(t){return t.map(function(s,u){return u===t.length-1?-1*(s+1):0})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(aQ),f.KVO(yt.AttributeSerializerService),f.KVO(nw),f.KVO(vz))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),Ww=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.entityServices=e,this.pageBuilderFacade=t,this.panelStateConverterService=s,this.attributeSerializer=u,this.resolverCache$=new Map},[{key:"emptyPaneState",get:function(){return new Si({state:this.attributeSerializer.serialize({displayAssociatedPane:""},"root")})}},{key:"entities$",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState").entities$.pipe((0,ue.M)(function(t){console.log("entities in store"),console.log(t)}))}},{key:"panelPage$",get:function(){return(0,Vn.z)([this.pageBuilderFacade.getPageInfo$,this.entityServices.getEntityCollectionService("PanelPage").entities$]).pipe((0,me.T)(function(t){var s=(0,F.A)(t,2),u=s[0],l=s[1];return u&&void 0!==u.id&&""!==u.id&&null!==u.id&&-1!==l.findIndex(function(c){return c.id===u.id})?l.find(function(c){return c.id===u.id}):void 0}))}},{key:"fakePageInfo",get:function(){return new ef({id:"948d6e7b-12ab-11ec-8ecd-661fdd19e6df",path:"",realPath:"",args:new Map})}},{key:"resolve",value:function(t,s){var u=s&&s.selectionMethod&&0!==s.selectionMethod.length&&s.id&&null!==s.id&&""!==s.id?"ps[id=".concat(s.id,"]").concat(s.selectionMethod.map(function(c){return"".concat(c)}).join("")):void 0;if(u&&this.resolverCache$.has(u))return this.resolverCache$.get(u);var l=this.resolve$(t,s);return u&&this.resolverCache$.set(u,l),l}},{key:"resolve$",value:function(t,s){var u=this;return(0,Vn.z)([this.panelPage$,this.entities$]).pipe((0,me.T)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return[p,p&&-1!==m.findIndex(function(y){return y.id===p.id})?m.find(function(y){return y.id===p.id}):new To]}),(0,We.n)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return u.pageBuilderFacade.getSelectionPath$.pipe((0,me.T)(function(y){return s&&s.selectionPath?s.selectionPath:y}),(0,ue.M)(function(y){return y.join(",")}),(0,me.T)(function(y){return y.map(function(x,D){return"".concat((D+1)%2==0?"panes":(0===D?"":"nestedPage.")+"panels","[").concat(x,"]")})}),(0,me.T)(function(y){return 0===y.length?void 0:"$."+y.join(".")}),(0,me.T)(function(y){return[p,m,y]}))}),(0,ue.M)(function(l){var c=(0,F.A)(l,3),p=c[0],y=c[2];console.log("page state context resolver"),console.log(p),console.log("query: "+y)}),(0,We.n)(function(l){var c=(0,F.A)(l,3),p=c[0],m=c[1],y=c[2];return tr(function(){return!!p&&!m},u.panelStateConverterService.convertPageToState(p).pipe((0,me.T)(function(x){return new To((0,_.A)((0,_.A)({},x),{},{panels:x.panels.map(function(D){return new el((0,_.A)((0,_.A)({},D),{},{panes:D.panes.map(function(N){return new Si((0,_.A)((0,_.A)({},N),{},{state:u.attributeSerializer.serialize({displayAssociatedPane:"y"},"root")}))})}))})}))}),(0,me.T)(function(x){return[x,y]})),(0,De.of)([m,y]))}),(0,ue.M)(function(l){var p=(0,F.A)(l,2)[0];console.log("rebuilt state from realtime page"),console.log(p)}),(0,me.T)(function(l){var c=(0,F.A)(l,2),m=c[1];return m?(0,is.JSONPath)({path:m,json:c[0]}):u.emptyPaneState}),(0,me.T)(function(l){return l&&Array.isArray(l)&&0!==l.length?l[0]:u.emptyPaneState}),(0,ue.M)(function(l){console.log("json path match"),console.log(l)}),(0,me.T)(function(l){return u.attributeSerializer.deserializeAsObject(l.state)}),(0,ue.M)(function(l){console.log("final state"),console.log(l)}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Cr),f.KVO(xi),f.KVO(yz),f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),iQ=[{path:"pages",children:[{path:"create-panel-page",component:yY},{path:"panelpage/:panelPageId/manage",component:uh}]}],oQ=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p,m,y,x,D,N,$,q,le,ve,Ae,ge,ke,He,ot,at,dt,Rt,Ot,pt,vt,xt,Jt){(0,v.A)(this,n),c.registerMetadataMap(lY),[jY(q),$Y(le),zY(ve),HY(Ae),KY(ge)].forEach(function(Jn){u.register(Jn)}),e.forEach(function(Jn){return s.register(Jn)}),t.forEach(function(Jn){return l.register(Jn)}),p.register(function(r,n,e){return new ts({id:"form",title:"Form",usedContexts:function(s){var u=s.param;return(0,De.of)(["form__".concat(u.mapping.value.substr(0,u.mapping.value.indexOf(".")))])},evalParam:function(s){var u=s.param,c=u.mapping.value.substr(0,u.mapping.value.indexOf(".")),p=u.mapping.value.substr(u.mapping.value.indexOf(".")+1);return console.log("form: ".concat(c," || ").concat(p)),e.getForm$(c).pipe((0,on.s)(1),(0,me.T)(function(m){return m||new Us}),(0,me.T)(function(m){return n.serializeForm(m)}),(0,me.T)(function(m){return r.generateGenericTokens(m)}),(0,ue.M)(function(m){return console.log(m)}),(0,me.T)(function(m){return m.has(".".concat(p))?r.replaceTokens("[.".concat(p,"]"),m):""}),(0,ue.M)(function(m){console.log("form value"),console.log(m)}))}})}(D,N,$)),m.register(function(r){return new oj({id:"form",title:"Form",resolve:function(){return r.getFormNames$.pipe((0,We.n)(function(e){return 0===e.length?(0,De.of)([]):(0,Vn.z)(e.map(function(t){return r.getForm$(t).pipe((0,me.T)(function(s){return[t,s]}))}))}),(0,me.T)(function(e){return e.reduce(function(t,s){var u=(0,F.A)(s,2),l=u[0],c=u[1];return(0,_.A)((0,_.A)({},t),{},(0,d.A)({},"form__".concat(l),c))},{})}))},resolveSingle:function(){return r.getFormNames$.pipe((0,We.n)(function(e){return ee.h.apply(void 0,(0,A.A)(e.map(function(t){return r.getForm$(t).pipe((0,me.T)(function(s){return["form__".concat(t),s]}))})))}))}})}($)),ke.register(function(r){return new Kd({id:"pages_form",title:"Pages Form",build:function(){Wu.prototype.serializePageForm=function(e){return new Promise(function(t){t(r.serializeForm(e))})}}})}(N)),ke.getPlugin("pages_form").subscribe(function(Jn){return Jn.build()}),dt.register(function(r,n){return new Ec({id:"panelpageform_serialize",title:"Panelpageform Serialize",create:function(t){return(0,De.of)({success:!1,entity:n.serializeForm(new Us(t.object))})},read:function(t){return Ci(t),(0,De.of)({success:!1})},update:function(t){return Ci(t),(0,De.of)({success:!1})},delete:function(t){return Ci(t),(0,De.of)({success:!1})}})}(0,N)),vt.register(function(r,n,e){return new Fo({id:"form",title:"Form",editor:NY,fetch:function(s){var u=s.settings;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return new l_(r.deserializeAsObject(u))}),(0,We.n)(function(l){return n.getForm$(l.name).pipe((0,me.T)(function(c){return[l,c||new Us]}),br([l,new Us]),(0,on.s)(1))}),(0,me.T)(function(l){var c=(0,F.A)(l,2);return[c[0],e.serializeForm(c[1])]}),(0,me.T)(function(l){var c=(0,F.A)(l,2),m=c[1];return new Kn({results:(0,is.JSONPath)({path:"$.".concat(c[0].field,".*"),json:m})})}))},getBindings:function(s){var u=s.settings;return(0,De.of)([]).pipe((0,me.T)(function(){return new l_(r.deserializeAsObject(u))}),(0,me.T)(function(c){return[new Yt.ContentBinding({id:"form__".concat(c.name),type:"context"})]}))}})}(xt,$,N))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Yt.CONTENT_PLUGIN),f.KVO(Km),f.KVO(Yt.ContentPluginManager),f.KVO(Ns),f.KVO(Fc),f.KVO(ii),f.KVO(Is),f.KVO(WE),f.KVO(an.PluginConfigurationManager),f.KVO(ij),f.KVO(Yn),f.KVO(uw),f.KVO(xi),f.KVO(Kw),f.KVO(Xw),f.KVO(qw),f.KVO(D_),f.KVO(Ww),f.KVO(bc),f.KVO(V.Qq),f.KVO(fd),f.KVO(xl),f.KVO(Bs),f.KVO(ii),f.KVO(pd),f.KVO(Do),f.KVO(Gi),f.KVO(yt.AttributeSerializerService),f.KVO(Xd))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[nQ,Kw,Xw,qw,D_,Ww,{provide:ln.EMBEDDABLE_COMPONENT,useValue:eQ,multi:!0},{provide:ln.EMBEDDABLE_COMPONENT,useValue:DE,multi:!0},{provide:ln.EMBEDDABLE_COMPONENT,useValue:sh,multi:!0},{provide:al,useClass:al},{provide:il,useClass:il},{provide:Oc,useClass:Oc},{provide:hf,useClass:hf},{provide:lh,useClass:lh},{provide:P_,useClass:P_},{provide:Yt.CONTENT_PLUGIN,useFactory:OY,multi:!0,deps:[al]},{provide:Yt.CONTENT_PLUGIN,useFactory:BY,multi:!0,deps:[il]},{provide:Yt.CONTENT_PLUGIN,useFactory:LY,multi:!0,deps:[Oc]},{provide:Yt.CONTENT_PLUGIN,useFactory:UY,multi:!0,deps:[hf]},{provide:Yt.CONTENT_PLUGIN,useFactory:GY,multi:!0,deps:[lh]},{provide:Km,useValue:new Xm({id:"virtuallist",name:"virtuallist",title:"Virtual List",editorComponent:void 0,renderComponent:ZY}),multi:!0},{provide:Km,useFactory:XY,multi:!0,deps:[P_]},{provide:Km,useValue:new Xm({id:"table",name:"table",title:"Table",editorComponent:void 0,renderComponent:rQ}),multi:!0}],imports:[k.MD,h.YN,h.X1,va.MaterialModule,jc,Em,Bm.forChild(iQ),Cf,wy.forChild(),Qm,Sw,ln.UtilsModule,Md,Cc,yt.AttributesModule,tE,Tw,WH,s_,gq,Fy,Vs,KE,qu,E_]}),r}(),sQ=function(a){function r(){return(0,v.A)(this,r),(0,w.A)(this,r,arguments)}return(0,P.A)(r,a),(0,g.A)(r)}(Ej),uQ=function(){return(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.siteName=r,this.es=n,this.router=e,this.routesLoaded=!1},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"isLoaded",value:function(){return this.routesLoaded}},{key:"load",value:function(){var n=this;return this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')),"&path=").concat(encodeURIComponent('{"wildcard":{"path.keyword":{"value":"*"}}}'))).pipe((0,me.T)(function(e){return e.filter(function(t){return void 0!==t.path&&""!==t.path})}),(0,me.T)(function(e){return e.map(function(t){return new Vr(t)}).sort(function(t,s){return t.path.split("/").length===s.path.split("/").length?t.path.split("/")[t.path.split("/").length-1]>s.path.split("/")[s.path.split("/").length-1]?-1:1:t.path.split("/").length>s.path.split("/").length?-1:1})}),(0,ue.M)(function(e){return e.sort(function(t,s){return t.path.length>s.path.length?1:-1})}),(0,ue.M)(function(e){e.forEach(function(t){n.router.config.unshift({matcher:F_(t),component:sh,data:{panelPageListItem:t}}),n.router.config.unshift({matcher:k_(t),component:uh,data:{panelPageListItem:t}})}),n.routesLoaded=!0}),(0,ue.M)(function(){return console.log("panels routes loaded")}),(0,me.T)(function(){return!0}))}}])}(),lQ=function(){return(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.siteName=r,this.es=n,this.router=e},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"match",value:function(n){var e=this,t=n.url;-1!==t.indexOf("?")&&(t=n.url.substr(0,t.indexOf("?")));var s="path="+t.substr(1).split("/").reduce(function(u,l,c){return[].concat((0,A.A)(u),[0===c?"/".concat(l):"".concat(u[c-1],"/").concat(l)])},[]).map(function(u){return e.encodePathComponent(u)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));return this.panelPageListItemsService.getWithQuery(s).pipe((0,Tr.W)(function(u){return(0,De.of)([])}),(0,me.T)(function(u){return u.reduce(function(l,c){return void 0===l||l.path.split("/").length<c.path.split("/").length?c:l},void 0)}),(0,me.T)(function(u){return!!u||n.url.indexOf("pages")>-1}))}},{key:"encodePathComponent",value:function(n){return'{"term":{"path.keyword":{"value":"'.concat(n,'"}}}')}}])}(),cQ=function(){return(0,g.A)(function a(r,n,e){(0,v.A)(this,a),this.siteName=r,this.es=n,this.router=e},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"redirect",value:function(n,e){var t=this;if(e.url.indexOf("pages")>-1)console.log("redirect: ".concat(e.url)),this.router.navigateByUrl(e.url);else{var s=e.url;-1!==s.indexOf("?")&&(s=e.url.substr(0,s.indexOf("?")));var u="path="+s.substr(1).split("/").reduce(function(l,c,p){return[].concat((0,A.A)(l),[0===p?"/".concat(c):"".concat(l[p-1],"/").concat(c)])},[]).map(function(l){return t.encodePathComponent(l)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));this.panelPageListItemsService.getWithQuery(u).pipe((0,me.T)(function(l){return l.reduce(function(c,p){return void 0===c||c.path.split("/").length<p.path.split("/").length?p:c},void 0)}),(0,me.T)(function(l){var c=e.url.substr(1).split("/").slice(l.path.split("/").length-1).join("/");return[l,c]})).subscribe(function(l){(0,F.A)(l,2),t.router.navigate(["reload"])})}}},{key:"encodePathComponent",value:function(n){return'{"term":{"path.keyword":{"value":"'.concat(n,'"}}}')}}])}(),fQ=function(){var a,r=(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),e.register(function(r,n,e){var t=new uQ(r,n,e),s=new lQ(r,n,e),u=new cQ(r,n,e);return new sQ({id:"panels",title:"Panels",loadingStrategy:t,matchingStrategy:s,redirectHandler:u})}(s,u,t))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(rD),f.KVO(xa),f.KVO(ln.SITE_NAME),f.KVO(Cr))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD]}),r}(),Yw=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.context$=new R.t(void 0),this.formGroup=this.fb.group({value:this.fb.control("",[h.k0.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,zn.B)(250),(0,Bo.F)(),(0,he.p)(function(u){try{return JSON.parse(u),!0}catch{return!1}}),(0,me.T)(function(u){return JSON.parse(u)})).subscribe(function(u){console.log("write state"),console.log(u),s.formGroup.get("value").setValue(u)}),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.context$.subscribe(function(s){t.stateCtrl.setValue(s?JSON.stringify(s.data.value):"")})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-state-form"]],inputs:{context:"context"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:2,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"textarea",1),o.k0s()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(),o.Y8G("formControl",t.stateCtrl))},dependencies:[h.me,h.BC,h.cb,h.YS,h.l_,h.j4],encapsulation:2}),r}(),pQ=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",h.k0.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-state-editor"]],viewQuery:function(e,t){var s;1&e&&o.GBs(Yw,7),2&e&&o.mGM(s=o.lsd())&&(t.contextStateFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-context-state-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("context",t.context))},dependencies:[h.BC,h.cb,h.j4,h.JD,Yw],encapsulation:2}),r}(),Qw=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.attributeSerializer=e,this.es=t},[{key:"entityCollectionService",get:function(){return this.es.getEntityCollectionService("GlobalState")}},{key:"resolve",value:function(t,s,u){var l=this;console.log("hookup globalstate"),console.log(s);var x,m=u&&u.has("name")&&u.get("name")&&null!==u.get("name")&&""!==u.get("name")?u.get("name"):void 0;return m?this.entityCollectionService.collection$.pipe(Rr((x=m,wn(function(x){return x.entities},function(D){return D[x]?D[x]:void 0}))),(0,me.T)(function(y){return y?l.attributeSerializer.deserialize(y.value):s.value?s.value:{}}),(0,me.T)(function(y){return y.root?y.root:y}),(0,ue.M)(function(y){console.log("resolve globalstate"),console.log(y)})):(0,De.of)(s.value?s.value:{}).pipe((0,ue.M)(function(y){console.log("resolve default globalstate"),console.log(y)}))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService),f.KVO(Cr))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),mQ=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.id=r.id,this.value=new yt.AttributeValue(r.value))}),vQ={GlobalState:{entityName:"GlobalState"}},yQ=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c,p){(0,v.A)(this,n),e.registerMetadataMap(vQ),t.registerService("GlobalState",new ln.NoopDataService("GlobalState")),s.register(function(r){var n=new yt.AttributeValue;return new as({id:"state",name:"state",title:"State",baseObject:n,resolver:r,editorComponent:pQ})}(p)),c.register(function(r,n){return new Kd({id:"state",title:"State",build:function(){Wu.prototype.writeState=function(t){return new Promise(function(s){r.getEntityCollectionService("GlobalState").upsert(new mQ({id:t.id,value:n.serialize(t.value,"root")})).pipe((0,ue.M)(function(l){return s(l)})).subscribe()})}}})}(u,l))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ii),f.KVO(pd),f.KVO(Ns),f.KVO(Cr),f.KVO(yt.AttributeSerializerService),f.KVO(bc),f.KVO(Qw))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[Qw],imports:[k.MD,h.YN,h.X1]}),r}(),_Q=b(9923);function ci(a){return new Promise(function(r,n){a.oncomplete=a.onsuccess=function(){return r(a.result)},a.onabort=a.onerror=function(){return n(a.error)}})}function io(){return R_||(R_=function bQ(a,r){var n;return function(t,s){return function(){if(n)return n;var s=indexedDB.open(a);return s.onupgradeneeded=function(){return s.result.createObjectStore(r)},(n=ci(s)).then(function(u){u.onclose=function(){return n=void 0}},function(){}),n}().then(function(u){return s(u.transaction(r,t).objectStore(r))})}}("keyval-store","keyval")),R_}function Jw(a,r){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:io())("readwrite",function(e){return e.put(r,a),ci(e.transaction)})}var xQ=function(r){return new Ec({id:"idb_keyval",title:"Idb Keyval",create:function(e){var t=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,De.of)({success:!1}).pipe((0,We.n)(function(){return s({object:t,parentObject:l}).pipe((0,me.T)(function(c){return{identity:c.identity}}))}),(0,We.n)(function(c){var p=c.identity;return u&&0!==Object.keys(u).length?(0,Cn.p)(Object.keys(u).map(function(m){return r.paramValue(u[m],new Map).pipe((0,me.T)(function(y){return(0,d.A)({},m,y)}))})).pipe((0,me.T)(function(m){return m.reduce(function(y,x){return(0,_.A)((0,_.A)({},y),x)},{})}),(0,me.T)(function(m){return{identity:p,options:m}})):(0,De.of)({identity:p,options:{}})}),(0,me.T)(function(c){return{name:c.options.prefix+c.identity}}),(0,We.n)(function(c){var p=c.name;return new L.c(function(m){Jw(p,t).then(function(y){console.log("idb write suceeded"),console.log(y),m.next({success:!0}),m.complete()}).catch(function(y){console.log("idb write failed"),console.log(y),m.next({success:!1}),m.complete()})})}))},read:function(e){return Ci(e),(0,De.of)({success:!1})},update:function(e){var t=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,De.of)({success:!1}).pipe((0,We.n)(function(){return s({object:t,parentObject:l}).pipe((0,me.T)(function(c){return{identity:c.identity}}))}),(0,We.n)(function(c){var p=c.identity;return u&&0!==Object.keys(u).length?(0,Cn.p)(Object.keys(u).map(function(m){return r.paramValue(u[m],new Map).pipe((0,me.T)(function(y){return(0,d.A)({},m,y)}))})).pipe((0,me.T)(function(m){return m.reduce(function(y,x){return(0,_.A)((0,_.A)({},y),x)},{})}),(0,me.T)(function(m){return{identity:p,options:m}})):(0,De.of)({identity:p,options:{}})}),(0,me.T)(function(c){return{name:c.options.prefix+c.identity}}),(0,We.n)(function(c){var p=c.name;return new L.c(function(m){Jw(p,t).then(function(y){console.log("idb write suceeded"),console.log(y),m.next({success:!0}),m.complete()}).catch(function(y){console.log("idb write failed"),console.log(y),m.next({success:!1}),m.complete()})})}))},delete:function(e){return Ci(e),(0,De.of)({success:!1})},query:function(e){var t=e.params,s=e.rule,u=e.identity;return r.paramValues(new Map(Object.keys(t).map(function(l){return[l,t[l]]}))).pipe((0,We.n)(function(l){return new L.c(function(c){(function SQ(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:io())("readonly",function(r){if(r.getAllKeys)return ci(r.getAllKeys());var n=[];return function T_(a,r){return a.openCursor().onsuccess=function(){this.result&&(r(this.result),this.result.continue())},ci(a.transaction)}(r,function(e){return n.push(e.key)}).then(function(){return n})})})().then(function(p){return p.filter(function(m){return 0==="".concat(m).indexOf(l.get("prefix"))})}).then(function(p){return function CQ(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:io())("readonly",function(n){return Promise.all(a.map(function(e){return ci(n.get(e))}))})}(p)}).then(function(p){c.next({entities:p,success:!0}),c.complete()})})}),(0,We.n)(function(l){return s?new L.c(function(c){var p=new xc.Engine;p.addOperator("startsWith",function(m,y){return"string"==typeof y&&"string"==typeof m&&0===y.indexOf(m)}),p.addOperator("term||wildcard",function(m,y){var x=JSON.parse(decodeURIComponent(y)),D=(0,is.JSONPath)({path:"$.term.*.value.@string()",json:x,flatten:!0});return void 0!==x.wildcard||x.term&&0!==D.lengh&&D[0]===m}),p.addRule(s),p.addFact("identity",function(m,y){return new L.c(function(x){y.factValue("entity").then(function(D){return u({object:D}).pipe((0,me.T)(function(N){return N.identity})).toPromise()}).then(function(D){x.next(D),x.complete()})}).toPromise()},{cache:!1}),De.of.apply(void 0,(0,A.A)(l.entities)).pipe((0,wi.H)(function(m){return new L.c(function(y){p.removeFact("entity"),p.addFact("entity",m,{cache:!1}),p.run().then(function(x){y.next([m,x.events.findIndex(function(D){return"visible"===D.type})>-1]),y.complete()})})}),(0,he.p)(function(m){return(0,F.A)(m,2)[1]}),(0,me.T)(function(m){return(0,F.A)(m,1)[0]}),(0,_Q.T)(function(m,y){return[].concat((0,A.A)(m),[y])},[]),br([])).subscribe(function(m){c.next((0,_.A)((0,_.A)({},l),{},{entities:m})),c.complete()})}):(0,De.of)(l)}))}})},DQ=function(){var a,r=(0,g.A)(function n(e,t){(0,v.A)(this,n),e.register(xQ(t))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Bs),f.KVO(Do))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[qd]}),r}(),wQ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.authFacade=t,this.router=s,this.title="ipe",this.menuClicked=new o.bkB,(0,I.UE)(e)&&(bridge=u)},[{key:"ngOnInit",value:function(){var t=this;this.authFacade.getUser$.subscribe(function(s){t.isAuthenticated=!!s})}},{key:"login",value:function(){this.authFacade.login()}},{key:"menuClick",value:function(){this.menuClicked.emit()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.Agw),o.rXU(Fi),o.rXU(xa),o.rXU(Wu))},a.\u0275cmp=o.VBU({type:a,selectors:[["app-root"]],outputs:{menuClicked:"menuClicked"},standalone:!1,decls:3,vars:0,consts:[["fxLayout","column","fxFill",""],[1,"outlet-wrapper"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1),o.nrm(2,"router-outlet"),o.k0s()())},dependencies:[Gt,dl,rg],styles:[".outlet-wrapper[_ngcontent-%COMP%]{height:100%}"]}),r}(),FQ=b(1870),gf="PERFORM_ACTION",e2="ROLLBACK",r2="TOGGLE_ACTION",a2="JUMP_TO_STATE",o2="JUMP_TO_ACTION",M_="IMPORT_STATE",s2="LOCK_CHANGES",u2="PAUSE_RECORDING",ch=(0,g.A)(function a(r,n){if((0,v.A)(this,a),this.action=r,this.timestamp=n,this.type=gf,typeof r.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}),RQ=(0,g.A)(function a(){(0,v.A)(this,a),this.type="REFRESH"}),TQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.timestamp=r,this.type="RESET"}),MQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.timestamp=r,this.type=e2}),IQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.timestamp=r,this.type="COMMIT"}),VQ=(0,g.A)(function a(){(0,v.A)(this,a),this.type="SWEEP"}),NQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.id=r,this.type=r2}),OQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.index=r,this.type=a2}),BQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.actionId=r,this.type=o2}),LQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.nextLiftedState=r,this.type=M_}),UQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.status=r,this.type=s2}),GQ=(0,g.A)(function a(r){(0,v.A)(this,a),this.status=r,this.type=u2}),dh=new f.nKC("@ngrx/store-devtools Options"),l2=new f.nKC("@ngrx/store-devtools Initial Config");function c2(){return null}function $Q(a){var r={maxAge:!1,monitor:c2,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n="function"==typeof a?a():a,t=n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||r.features;!0===t.import&&(t.import="custom");var s=Object.assign({},r,{features:t},n);if(s.maxAge&&s.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got ".concat(s.maxAge));return s}function d2(a,r){return a.filter(function(n){return r.indexOf(n)<0})}function f2(a){var r=a.computedStates,n=a.currentStateIndex;return n>=r.length?r[r.length-1].state:r[n].state}function vf(a){return new ch(a,+Date.now())}function zQ(a,r){return Object.keys(r).reduce(function(n,e){var t=Number(e);return n[t]=p2(a,r[t],t),n},{})}function p2(a,r,n){return(0,_.A)((0,_.A)({},r),{},{action:a(r.action,n)})}function HQ(a,r){return r.map(function(n,e){return{state:m2(a,n.state,e),error:n.error}})}function m2(a,r,n){return a(r,n)}function h2(a){return a.predicate||a.actionsSafelist||a.actionsBlocklist}function I_(a,r,n,e,t){var s=n&&!n(a,r.action),u=e&&!r.action.type.match(e.map(function(c){return g2(c)}).join("|")),l=t&&r.action.type.match(t.map(function(c){return g2(c)}).join("|"));return s||u||l}function g2(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v2(a){return{ngZone:a?(0,f.WQX)(o.SKi):null,connectInZone:a}}var fh=function(){var a,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,P.A)(e,n),(0,g.A)(e)}(Lo);return(a=r).\u0275fac=function(){var n;return function(t){return(n||(n=o.xGo(a)))(t||a)}}(),a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),V_=new f.nKC("@ngrx/store-devtools Redux Devtools Extension"),y2=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.config=t,this.dispatcher=s,this.zoneConfig=v2(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()},[{key:"notify",value:function(t,s){var u=this;if(this.devtoolsExtension)if(t.type===gf){if(s.isLocked||s.isPaused)return;var l=f2(s);if(h2(this.config)&&I_(l,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var c=this.config.stateSanitizer?m2(this.config.stateSanitizer,l,s.currentStateIndex):l,p=this.config.actionSanitizer?p2(this.config.actionSanitizer,t,s.nextActionId):t;this.sendToReduxDevtools(function(){return u.extensionConnection.send(p,c)})}else{var m=(0,_.A)((0,_.A)({},s),{},{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?zQ(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?HQ(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(function(){return u.devtoolsExtension.send(null,m,u.getExtensionConfig(u.config))})}}},{key:"createChangesObservable",value:function(){var t=this;return this.devtoolsExtension?new L.c(function(s){var u=t.zoneConfig.connectInZone?t.zoneConfig.ngZone.runOutsideAngular(function(){return t.devtoolsExtension.connect(t.getExtensionConfig(t.config))}):t.devtoolsExtension.connect(t.getExtensionConfig(t.config));return t.extensionConnection=u,u.init(),u.subscribe(function(l){return s.next(l)}),u.unsubscribe}):Qi.w}},{key:"createActionStreams",value:function(){var t=this,s=this.createChangesObservable().pipe((0,FQ.u)()),u=s.pipe((0,he.p)(function(x){return"START"===x.type})),l=s.pipe((0,he.p)(function(x){return"STOP"===x.type})),c=s.pipe((0,he.p)(function(x){return"DISPATCH"===x.type}),(0,me.T)(function(x){return t.unwrapAction(x.payload)}),(0,wi.H)(function(x){return x.type===M_?t.dispatcher.pipe((0,he.p)(function(D){return D.type===Ph}),Wf(1e3),(0,zn.B)(1e3),(0,me.T)(function(){return x}),(0,Tr.W)(function(){return(0,De.of)(x)}),(0,on.s)(1)):(0,De.of)(x)})),m=s.pipe((0,he.p)(function(x){return"ACTION"===x.type}),(0,me.T)(function(x){return t.unwrapAction(x.payload)})).pipe((0,rr.Q)(l)),y=c.pipe((0,rr.Q)(l));this.start$=u.pipe((0,rr.Q)(l)),this.actions$=this.start$.pipe((0,We.n)(function(){return m})),this.liftedActions$=this.start$.pipe((0,We.n)(function(){return y}))}},{key:"unwrapAction",value:function(t){return"string"==typeof t?(0,eval)("(".concat(t,")")):t}},{key:"getExtensionConfig",value:function(t){var s,u,l,c={name:t.name,features:t.features,serialize:t.serialize,autoPause:null!==(s=t.autoPause)&&void 0!==s&&s,trace:null!==(u=t.trace)&&void 0!==u&&u,traceLimit:null!==(l=t.traceLimit)&&void 0!==l?l:75};return!1!==t.maxAge&&(c.maxAge=t.maxAge),c}},{key:"sendToReduxDevtools",value:function(t){try{t()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(V_),f.KVO(dh),f.KVO(fh))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),mh={type:Sf},qQ={type:"@ngrx/store-devtools/recompute"};function _2(a,r,n,e,t){if(e)return{state:n,error:"Interrupted by an error up the chain"};var u,s=n;try{s=a(n,r)}catch(l){u=l.toString(),t.handleError(l)}return{state:s,error:u}}function hh(a,r,n,e,t,s,u,l,c){if(r>=a.length&&a.length===s.length)return a;for(var p=a.slice(0,r),m=s.length-(c?1:0),y=r;y<m;y++){var x=s[y],D=t[x].action,N=p[y-1],$=N?N.state:e,q=N?N.error:void 0,ve=u.indexOf(x)>-1?N:_2(n,D,$,q,l);p.push(ve)}return c&&p.push(a[a.length-1]),p}var b2=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c,p,m){var y=this;(0,v.A)(this,n);var x=function WQ(a,r){return{monitorState:r(void 0,{}),nextActionId:1,actionsById:{0:vf(mh)},stagedActionIds:[0],skippedActionIds:[],committedState:a,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(p,m.monitor),D=function YQ(a,r,n,e){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(s){return function(u,l){var c=u||r,p=c.monitorState,m=c.actionsById,y=c.nextActionId,x=c.stagedActionIds,D=c.skippedActionIds,N=c.committedState,$=c.currentStateIndex,q=c.computedStates,le=c.isLocked,ve=c.isPaused;function Ae(qn){for(var fi=qn,Hi=x.slice(1,fi+1),Qa=0;Qa<Hi.length;Qa++){if(q[Qa+1].error){Hi=x.slice(1,(fi=Qa)+1);break}delete m[Hi[Qa]]}D=D.filter(function(Io){return-1===Hi.indexOf(Io)}),x=[0].concat((0,A.A)(x.slice(fi+1))),N=q[fi].state,q=q.slice(fi),$=$>fi?$-fi:0}function ge(){m={0:vf(mh)},y=1,x=[0],D=[],N=q[$].state,$=0,q=[]}u||(m=Object.create(m));var ke=0;switch(l.type){case s2:le=l.status,ke=1/0;break;case u2:(ve=l.status)?(x=[].concat((0,A.A)(x),[y]),m[y]=new ch({type:"@ngrx/devtools/pause"},+Date.now()),y++,ke=x.length-1,q=q.concat(q[q.length-1]),$===x.length-2&&$++,ke=1/0):ge();break;case"RESET":m={0:vf(mh)},y=1,x=[0],D=[],N=a,$=0,q=[];break;case"COMMIT":ge();break;case e2:m={0:vf(mh)},y=1,x=[0],D=[],$=0,q=[];break;case r2:var He=l.id,ot=D.indexOf(He);D=-1===ot?[He].concat((0,A.A)(D)):D.filter(function(qn){return qn!==He}),ke=x.indexOf(He);break;case"SET_ACTIONS_ACTIVE":for(var at=l.start,dt=l.end,Rt=l.active,Ot=[],pt=at;pt<dt;pt++)Ot.push(pt);D=Rt?d2(D,Ot):[].concat((0,A.A)(D),Ot),ke=x.indexOf(at);break;case a2:$=l.index,ke=1/0;break;case o2:var vt=x.indexOf(l.actionId);-1!==vt&&($=vt),ke=1/0;break;case"SWEEP":x=d2(x,D),D=[],$=Math.min($,x.length-1);break;case gf:if(le)return u||r;if(ve||u&&I_(u.computedStates[$],l,t.predicate,t.actionsSafelist,t.actionsBlocklist)){var xt=q[q.length-1];q=[].concat((0,A.A)(q.slice(0,-1)),[_2(s,l.action,xt.state,xt.error,n)]),ke=1/0;break}t.maxAge&&x.length===t.maxAge&&Ae(1),$===x.length-1&&$++;var Jt=y++;m[Jt]=l,ke=(x=[].concat((0,A.A)(x),[Jt])).length-1;break;case M_:var en=l.nextLiftedState;p=en.monitorState,m=en.actionsById,y=en.nextActionId,x=en.stagedActionIds,D=en.skippedActionIds,N=en.committedState,$=en.currentStateIndex,q=en.computedStates,le=en.isLocked,ve=en.isPaused;break;case Sf:ke=0,t.maxAge&&x.length>t.maxAge&&(q=hh(q,ke,s,N,m,x,D,n,ve),Ae(x.length-t.maxAge),ke=1/0);break;case Ph:if(q.filter(function(qn){return qn.error}).length>0)ke=0,t.maxAge&&x.length>t.maxAge&&(q=hh(q,ke,s,N,m,x,D,n,ve),Ae(x.length-t.maxAge),ke=1/0);else{if(!ve&&!le){$===x.length-1&&$++;var ea=y++;m[ea]=new ch(l,+Date.now()),x=[].concat((0,A.A)(x),[ea]),q=hh(q,ke=x.length-1,s,N,m,x,D,n,ve)}q=q.map(function(qn){return(0,_.A)((0,_.A)({},qn),{},{state:s(qn.state,qQ)})}),$=x.length-1,t.maxAge&&x.length>t.maxAge&&Ae(x.length-t.maxAge),ke=1/0}break;default:ke=1/0}return q=hh(q,ke,s,N,m,x,D,n,ve),{monitorState:p=e(p,l),actionsById:m,nextActionId:y,stagedActionIds:x,skippedActionIds:D,committedState:N,currentStateIndex:$,computedStates:q,isLocked:le,isPaused:ve}}}}(p,x,c,m.monitor,m),N=(0,ee.h)((0,ee.h)(t.asObservable().pipe((0,Ic.i)(1)),u.actions$).pipe((0,me.T)(vf)),e,u.liftedActions$).pipe((0,W_.Q)(q_)),$=s.pipe((0,me.T)(D)),q=v2(m.connectInZone),le=new Vm.m(1);this.liftedStateSubscription=N.pipe(hi($),A2(q),$c(function(ge,ke){var He=ge.state,ot=(0,F.A)(ke,2),at=ot[0],Rt=(0,ot[1])(He,at);return at.type!==gf&&h2(m)&&(Rt=function KQ(a,r,n,e){var t=[],s={},u=[];return a.stagedActionIds.forEach(function(l,c){var p=a.actionsById[l];p&&(c&&I_(a.computedStates[c],p,r,n,e)||(s[l]=p,t.push(l),u.push(a.computedStates[c])))}),(0,_.A)((0,_.A)({},a),{},{stagedActionIds:t,actionsById:s,computedStates:u})}(Rt,m.predicate,m.actionsSafelist,m.actionsBlocklist)),u.notify(at,Rt),{state:Rt,action:at}},{state:x,action:null})).subscribe(function(ge){var He=ge.action;le.next(ge.state),He.type===gf&&l.next(He.action)}),this.extensionStartSubscription=u.start$.pipe(A2(q)).subscribe(function(){y.refresh()});var ve=le.asObservable(),Ae=ve.pipe((0,me.T)(f2));Object.defineProperty(Ae,"state",{value:_h(Ae,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=ve,this.state=Ae},[{key:"ngOnDestroy",value:function(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}},{key:"dispatch",value:function(t){this.dispatcher.next(t)}},{key:"next",value:function(t){this.dispatcher.next(t)}},{key:"error",value:function(t){}},{key:"complete",value:function(){}},{key:"performAction",value:function(t){this.dispatch(new ch(t,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new RQ)}},{key:"reset",value:function(){this.dispatch(new TQ(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new MQ(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new IQ(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new VQ)}},{key:"toggleAction",value:function(t){this.dispatch(new NQ(t))}},{key:"jumpToAction",value:function(t){this.dispatch(new BQ(t))}},{key:"jumpToState",value:function(t){this.dispatch(new OQ(t))}},{key:"importState",value:function(t){this.dispatch(new LQ(t))}},{key:"lockChanges",value:function(t){this.dispatch(new UQ(t))}},{key:"pauseRecording",value:function(t){this.dispatch(new GQ(t))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(fh),f.KVO(Lo),f.KVO(Kc),f.KVO(y2),f.KVO(hs),f.KVO(f.zcH),f.KVO(xf),f.KVO(dh))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}();function A2(a){var r=a.ngZone,n=a.connectInZone;return function(e){return n?new L.c(function(t){return e.subscribe({next:function(u){return r.run(function(){return t.next(u)})},error:function(u){return r.run(function(){return t.error(u)})},complete:function(){return r.run(function(){return t.complete()})}})}):e}}var QQ=new f.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function JQ(a,r){return!!a||r.monitor!==c2}function ZQ(){var a="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[a]<"u"?window[a]:null}function eJ(a){return a.state}function tJ(){return(0,f.EmA)([y2,fh,b2,{provide:l2,useValue:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},{provide:QQ,deps:[V_,dh],useFactory:JQ},{provide:V_,useFactory:ZQ},{provide:dh,deps:[l2],useFactory:$Q},{provide:Rh,deps:[b2],useFactory:eJ},{provide:kh,useExisting:fh}])}var nJ=function(){var a,r=function(){function n(){(0,v.A)(this,n)}return(0,g.A)(n,null,[{key:"instrument",value:function(){return{ngModule:n,providers:[tJ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({}),r}(),oo=b(7273),rJ={router:function A9(a,r){var n=r;switch(n.type){case ky:case Ry:case Py:return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return a}}},aJ=[],C2=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.query=r.query)}),iJ=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({query:this.fb.control("",[h.k0.required])}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?new C2(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?s.formGroup.get("query").setValue(u.query):s.formGroup.get("query").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-select-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:5,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","required",""]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.EFF(3,"Query"),o.k0s(),o.nrm(4,"input",1),o.k0s()()),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[h.me,h.BC,h.cb,h.YS,h.j4,h.JD,vr.fg,nn.rl,nn.nJ],encapsulation:2}),r}(),oJ=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-transform-select"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-select-source-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings))},dependencies:[h.BC,h.cb,h.j4,h.JD,iJ],encapsulation:2}),r}(),sJ=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"ngOnInit",value:function(){}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-transform-merge"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(o.j41(0,"p"),o.EFF(1,"transform merge"),o.k0s())},encapsulation:2}),r}(),uJ=function(r){return new Fo({id:"select",title:"Select",editor:oJ,fetch:function(e){var t=e.settings,s=e.dataset;return tr(function(){return!!s},(0,De.of)(s).pipe((0,me.T)(function(){return new C2(r.deserializeAsObject(t))}),(0,me.T)(function(u){return new Kn({results:(0,is.JSONPath)({path:u.query,json:s.results})})})),(0,De.of)(new Kn))}})},cJ=function(){var a,r=(0,g.A)(function n(e,t){(0,v.A)(this,n),[uJ(t),new Fo({id:"merge",title:"Merge",editor:sJ,fetch:function(n){return(0,De.of)(new Kn)}})].forEach(function(s){return e.register(s)})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(yt.AttributeSerializerService))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,h.X1,va.MaterialModule,qu]}),r}(),dJ=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new R.t(void 0),this.paramValues$=new R.t([]),this.formGroup=this.fb.group({entityName:this.fb.control(""),queryString:this.fb.control(""),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,me.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){u?(s.formGroup.get("entityName").setValue(u.entityName),s.formGroup.get("queryString").setValue(u.queryString)):(s.formGroup.get("entityName").setValue(""),s.formGroup.get("queryString").setValue(""))}),this.queryStringChangeSub=this.formGroup.get("queryString").valueChanges.pipe((0,zn.B)(500)).subscribe(function(u){var l=ui.parse("?"+u);s.paramsParsed=l}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-entity-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:8,vars:4,consts:[[3,"formGroup"],["matInput","","placeholder","Name","formControlName","entityName","required",""],["matInput","","placeholder","Query String","formControlName","queryString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"mat-form-field"),o.nrm(3,"input",1),o.k0s()(),o.j41(4,"div")(5,"mat-form-field"),o.nrm(6,"input",2),o.k0s()(),o.nrm(7,"classifieds-ui-params-form",3),o.k0s()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(7),o.Y8G("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[h.me,h.BC,h.cb,h.YS,h.j4,h.JD,vr.fg,nn.rl,$d],encapsulation:2}),r}(),S2=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-entity-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-entity-datasource-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings)("contexts",t.contexts))},dependencies:[h.BC,h.cb,h.j4,h.JD,dJ],encapsulation:2}),r}(),x2=(0,g.A)(function a(r){(0,v.A)(this,a),this.params=[],r&&(this.entityName=r.entityName,this.queryString=r.queryString?r.queryString:"",r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new _a(n)})))}),mJ=function(){var a,r=(0,g.A)(function n(e,t,s,u,l,c){(0,v.A)(this,n),e.register(function(r,n,e,t){return new Fo({id:"entity",title:"Entity",editor:S2,fetch:function(u){var l=u.settings,c=u.metadata;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return n.deserializeAsObject(l)}),(0,me.T)(function(p){return new x2(p)}),(0,We.n)(function(p){return e.getUrl("?"+p.queryString,p.params,c).pipe((0,me.T)(function(m){return{e:p,queryString:m}}))}),(0,me.T)(function(p){return{e:p.e,queryString:p.queryString.substr(1)}}),(0,We.n)(function(p){var m=p.e,y=p.queryString;return y&&""!==y?t.getEntityCollectionService(m.entityName).getWithQuery(y):t.getEntityCollectionService(m.entityName).getAll()}),(0,me.T)(function(p){return new Kn({results:p})}))},editorOptions:function(){return(0,De.of)(new Im({fullscreen:!0}))},getBindings:function(u){var l=u.settings;return(0,De.of)([]).pipe((0,me.T)(function(){return n.deserializeAsObject(l)}),(0,me.T)(function(p){return new x2(p)}),(0,We.n)(function(p){return r.extractContexts(p.params)}),(0,me.T)(function(p){return p.map(function(m){return new Yt.ContentBinding({id:m,type:"context"})})}))}})}(s,u,l,c)),t.register(new iD({id:"entity",title:"Entity",editor:S2,send:function(n){return(0,De.of)(new Hy({}))}}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(Lm),f.KVO(jy),f.KVO(yt.AttributeSerializerService),f.KVO(Hd),f.KVO(Cr))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.X1,h.YN,va.MaterialModule,Cc,Vs]}),r}(),hJ=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new R.t(void 0),this.datasource$=new R.t(void 0),this.formGroup=this.fb.group({}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-loop-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup"]],template:function(e,t){1&e&&o.nrm(0,"div",0),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[h.cb,h.j4],encapsulation:2}),r}(),gJ=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-loop-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-loop-datasource-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings)("contexts",t.contexts))},dependencies:[h.BC,h.cb,h.j4,h.JD,hJ],encapsulation:2}),r}(),vJ=(0,g.A)(function a(r){(0,v.A)(this,a)}),yJ=function(r,n){return new Fo({id:"loop",title:"loop",editor:gJ,fetch:function(t){var s=t.settings,u=t.dataset,l=t.datasource,c=t.metadata,p=t.datasources;return(0,De.of)(new Kn).pipe((0,me.T)(function(){return r.deserializeAsObject(s)}),(0,me.T)(function(m){return m?new vJ(m):void 0}),(0,We.n)(function(m){return(0,Cn.p)(u?u.results.map(function(y){return n.evalDatasource({datasource:new Xu({plugin:"data",renderer:l.renderer,settings:r.serialize({data:JSON.stringify(u.results)},"root").attributes}),datasources:p,metadata:new Map([].concat((0,A.A)(c?Array.from(c).filter(function(x){return"contexts"!==(0,F.A)(x,1)[0]}):[]),[["contexts",[].concat((0,A.A)(c.has("contexts")&&Array.isArray(c.get("contexts"))?c.get("contexts").filter(function(x){return"_root"!==x.name}):[]),[new Ua({name:"_root",adaptor:"data",data:y})])]]))}).pipe((0,on.s)(1))}):[]).pipe((0,me.T)(function(y){return new Kn({results:y.reduce(function(x,D){return[].concat((0,A.A)(x),(0,A.A)(D.results))},[])})}),br(new Kn({results:[]})))}))}})},_J=function(){var a,r=(0,g.A)(function n(e,t,s){(0,v.A)(this,n),[yJ(t,s)].forEach(function(u){return e.register(u)})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Gi),f.KVO(yt.AttributeSerializerService),f.KVO(HE))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.X1,va.MaterialModule,Cc,qu]}),r}();function bJ(a,r){if(1&a&&(o.j41(0,"mat-option",6),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value.id),o.R7$(),o.JRh(n.value.title)}}function AJ(a,r){}function CJ(a,r){if(1&a){var n=o.RV6();o.j41(0,"div"),o.nrm(1,"druid-ordain-validation-validator",4),o.j41(2,"button",3),o.bIt("click",function(){var u=f.eBV(n).index,l=o.XpG();return f.Njj(l.deleteValidator$.next(u))}),o.EFF(3,"Delete"),o.k0s()()}if(2&a){var e=r.index,t=o.XpG();o.R7$(),o.Y8G("formControlName",e)("validation",t.validation$.value.validators[e])}}var us=function(a){function r(n){var e;return(0,v.A)(this,r),e=(0,w.A)(this,r,[n]),n&&(e.editor=n.editor,e.errorMessage=n.errorMessage,e.builder=n.builder),e}return(0,P.A)(r,a),(0,g.A)(r)}(an.Plugin),SJ=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.name=r.name,this.validator=r.validator,this.overrideErrorMessage=r.overrideErrorMessage,r.paramSettings&&"string"!=typeof r.paramSettings&&(this.paramSettings=new xJ(r.paramSettings)))}),xJ=(0,g.A)(function a(r){(0,v.A)(this,a),this.params=[],r&&(this.paramsString=r.paramsString,r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new _a(n)})))}),yf=(0,g.A)(function a(r){(0,v.A)(this,a),r&&Array.isArray(r.validators)&&(this.validators=r.validators.map(function(n){return new SJ(n)}))}),E2=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.viewContainerRef=e});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(o.c1b))},a.\u0275dir=o.FsC({type:a,selectors:[["","druidValidationRendererHost",""]],standalone:!1}),r}(),EJ=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new R.t(void 0),this.afterViewInit$=new W.B,this.paramValues$=new R.t([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,zn.B)(500)).subscribe(function(s){var u=ui.parse("?"+s);t.paramsParsed=u}),this.settingsSub=this.settings$.pipe((0,ue.M)(function(s){s&&t.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,Vn.z)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,he.p)(function(s){return void 0!==(0,F.A)(s,1)[0]}),(0,fr.c)(1),(0,ue.M)(function(s){var u=(0,F.A)(s,1);return t.paramValues$.next(u[0].params)})).subscribe(),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-ordain-validation-params-editor-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),o.nrm(4,"input",2),o.k0s()(),o.nrm(5,"classifieds-ui-params-form",3),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(5),o.Y8G("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[h.me,h.BC,h.cb,h.j4,h.JD,vr.fg,nn.rl,$d],encapsulation:2}),r}(),ls=function(){var a,r=(0,g.A)(function n(e){(0,v.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-ordain-validation-params-editor"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","paramSettings",3,"settings","contexts"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"druid-ordain-validation-params-editor-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("settings",t.settings)("contexts",t.contexts))},dependencies:[h.BC,h.cb,h.j4,h.JD,EJ],encapsulation:2}),r}(),DJ=function(){return(0,g.A)(function a(r,n){(0,v.A)(this,a),this.pluginManager=r,this.formsValidationUtils=n},[{key:"loadPlugins",value:function(n){var e=this;return(0,De.of)(!1).pipe((0,ue.M)(function(){return e.pluginManager.register(e.makeRequired())}),(0,ue.M)(function(){return e.pluginManager.register(e.makeRequiredTrue())}),(0,ue.M)(function(){e.pluginManager.register(e.makeMin()),e.pluginManager.register(e.makeMax()),e.pluginManager.register(e.makeMinLength()),e.pluginManager.register(e.makeMaxLength())}),(0,me.T)(function(){return e.pluginManager.register(e.makeEmail())}),(0,me.T)(function(){return e.pluginManager.register(e.makePattern())}),(0,me.T)(function(){return e.pluginManager.register(e.nullValidator())}),(0,me.T)(function(){return!0}))}},{key:"makeRequired",value:function(){var n=this;return new us({id:"required",title:"Required",errorMessage:"Field is required",editor:ls,builder:function(t){var s=t.serialized;return(0,De.of)(function(u){return(0,De.of)(h.k0.required(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeRequiredTrue",value:function(){var n=this;return new us({id:"required_true",title:"Required True",errorMessage:"Field is required",editor:ls,builder:function(t){var s=t.serialized;return(0,De.of)(function(u){return(0,De.of)(h.k0.requiredTrue(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeEmail",value:function(){var n=this;return new us({id:"email",title:"Email",errorMessage:"Invalid email",editor:ls,builder:function(t){var s=t.serialized;return(0,De.of)(function(u){return(0,De.of)(h.k0.email(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"nullValidator",value:function(){var n=this;return new us({id:"null",title:"Null",errorMessage:"nota",editor:ls,builder:function(t){var s=t.serialized;return(0,De.of)(function(u){return(0,De.of)(h.k0.nullValidator(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeMin",value:function(){var n=this;return new us({id:"min",title:"Min",errorMessage:"Field min [.min]",editor:ls,builder:function(t){var s=t.v,u=t.serialized;return(0,De.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,me.T)(function(c){return h.k0.min(+c.min)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMax",value:function(){var n=this;return new us({id:"max",title:"Max",errorMessage:"Field max [.max]",editor:ls,builder:function(t){var s=t.v,u=t.serialized;return(0,De.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,me.T)(function(c){return h.k0.max(+c.max)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMinLength",value:function(){var n=this;return new us({id:"min_length",title:"Min Length",errorMessage:"minimum of [.min] characters",editor:ls,builder:function(t){var s=t.v,u=t.serialized;return(0,De.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,me.T)(function(c){return h.k0.minLength(+c.minLength)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMaxLength",value:function(){var n=this;return new us({id:"max_length",title:"Max Length",errorMessage:"Maximum of [.max] characters",editor:ls,builder:function(t){var s=t.v,u=t.serialized;return(0,De.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,me.T)(function(c){return h.k0.maxLength(+c.maxLength)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makePattern",value:function(){var n=this;return new us({id:"pattern",title:"Pattern",errorMessage:"Must match pattern",editor:ls,builder:function(t){var s=t.v,u=t.serialized;return(0,De.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,me.T)(function(c){return h.k0.pattern(new RegExp(c.pattern))(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}}])}(),wJ=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.paramEvaluatorService=e,this.attributesSerializerService=t},[{key:"resolveParams",value:function(t){var s=this,u=t.v;return(0,De.of)({}).pipe((0,me.T)(function(){return{paramNames:u.paramSettings.paramsString?u.paramSettings.paramsString.split("&").filter(function(l){return-1!==l.indexOf("=:")}).map(function(l){return l.split("=",2)[1].substr(1)}):[]}}),(0,We.n)(function(l){var c=l.paramNames;return s.paramEvaluatorService.paramValues(u.paramSettings.params.reduce(function(p,m,y){return new Map([].concat((0,A.A)(p),[[c[y],m]]))},new Map)).pipe((0,me.T)(function(p){return Array.from(p).reduce(function(m,y){var x=(0,F.A)(y,2),D=x[0],N=x[1];return(0,_.A)((0,_.A)({},m),{},(0,d.A)({},D,N))},{})}))}))}},{key:"rebuildControl",value:function(t){var s=t.c;return t.serialized?new h.hs(this.attributesSerializerService.deserializeAsObject(s.value).value):s}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Do),f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),di=function(){var a,r=function(n){function e(t,s,u){var l;return(0,v.A)(this,e),(l=(0,w.A)(this,e,[s,u])).addDiscovery(new DJ(l,t)),l}return(0,P.A)(e,n),(0,g.A)(e,[{key:"pluginDef",value:function(){return(0,De.of)(new an.PluginDef({name:"validation"}))}},{key:"discovery",value:function(){(0,ye.A)(e,"discovery",this,3)([])}}])}(an.BasePluginManager);return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(wJ),f.KVO(an.PluginConfigurationManager),f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),FJ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.fb=e,this.vpm=t,this.componentFactoryResolver=s,this.contexts=[],this.settings$=new R.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[h.k0.required]),validator:this.fb.control("",[h.k0.required]),overrideErrorMessage:this.fb.control(""),paramSettings:this.fb.control("")}),this.validationPlugins$=this.vpm.getPlugins(),this.componentRef$=new R.t(void 0),this.afterViewInit$=new W.B,this.onInit$=new W.B,this.validation$=new R.t(void 0),this.validatorChangeSub=this.formGroup.get("validator").valueChanges.pipe((0,ue.M)(function(l){console.log("validator change",l)})).subscribe(),this.validatorSub=(0,Vn.z)([this.formGroup.get("validator").valueChanges,this.afterViewInit$]).pipe((0,me.T)(function(l){return(0,F.A)(l,1)[0]}),(0,We.n)(function(l){return l&&""!==l?u.vpm.getPlugin(l):(0,De.of)(void 0)}),(0,ue.M)(function(l){l&&u.renderValidation(l)})).subscribe(),this.validationSub=this.validation$.pipe((0,ue.M)(function(l){l?(u.formGroup.get("name").setValue(l.name),u.formGroup.get("validator").setValue(l.validator),u.formGroup.get("overrideErrorMessage").setValue(l.overrideErrorMessage),setTimeout(function(){return u.formGroup.get("paramSettings").setValue(l.paramSettings)})):(u.formGroup.get("name").setValue(""),u.formGroup.get("overrideErrorMessage").setValue(""),u.formGroup.get("validator").setValue(""))})).subscribe(),this.contextForwardingSub=this.componentRef$.pipe((0,he.p)(function(l){return!!l})).subscribe(function(l){l.instance.contexts=u.contexts,l.instance.settings=u.validation$.value?u.validation$.value.paramSettings:void 0}),this.onTouched=function(){}},[{key:"validation",set:function(t){this.validation$.next(t)}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0),this.onInit$.complete()}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue((0,_.A)((0,_.A)({},t),{},{settings:t.settings?t.settings:""}),{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"renderValidation",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editor),u=this.validationHost.viewContainerRef;u.clear(),this.componentRef$.next(u.createComponent(s))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(di),o.rXU(o.OM3))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-ordain-validation-validator"]],viewQuery:function(e,t){var s;1&e&&o.GBs(E2,7),2&e&&o.mGM(s=o.lsd())&&(t.validationHost=s.first)},inputs:{contexts:"contexts",validation:"validation"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:19,vars:6,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","name"],["required","","formControlName","validator"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","overrideErrorMessage"],["druidValidationRendererHost",""],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),o.EFF(4,"Name"),o.k0s(),o.nrm(5,"input",1),o.k0s(),o.j41(6,"mat-form-field")(7,"mat-label"),o.EFF(8,"Validator"),o.k0s(),o.j41(9,"mat-select",2),o.DNE(10,bJ,2,2,"mat-option",3),o.nI1(11,"async"),o.nI1(12,"keyvalue"),o.k0s()(),o.j41(13,"mat-form-field")(14,"mat-label"),o.EFF(15,"Error Message"),o.k0s(),o.nrm(16,"input",4),o.k0s()(),o.qex(17),o.DNE(18,AJ,0,0,"ng-template",5),o.bVm(),o.k0s()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(10),o.Y8G("ngForOf",o.bMT(12,4,o.bMT(11,2,t.validationPlugins$))))},dependencies:[k.Sq,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,Zr.wT,vr.fg,nn.rl,nn.nJ,ya.VO,E2,k.Jj,k.lG],encapsulation:2}),r}(),kJ=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.fb=e,this.formGroup=this.fb.group({validators:this.fb.array([])}),this.addValidator$=new W.B,this.deleteValidator$=new W.B,this.afterViewInit$=new W.B,this.validation$=new R.t(new yf({validators:[]})),this.addValidatorSub=this.addValidator$.pipe((0,ue.M)(function(){t.validators.push(t.fb.control(""))})).subscribe(),this.deleteValidatorSub=this.deleteValidator$.pipe((0,ue.M)(function(s){t.validation$.value.validators.splice(s,1),t.validators.removeAt(s)})).subscribe(),this.validationSub=(0,Vn.z)([this.validation$,this.afterViewInit$]).pipe((0,me.T)(function(s){return(0,F.A)(s,1)[0]}),(0,he.p)(function(s){return 0!==s.validators.length}),(0,ue.M)(function(s){t.validators.clear(),s.validators.forEach(function(u,l){t.validators.push(t.fb.control(""))})})).subscribe(),this.onTouched=function(){}},[{key:"validation",set:function(t){this.validation$.next(t)}},{key:"validators",get:function(){return this.formGroup.get("validators")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-ordain-validation-editor"]],inputs:{validation:"validation"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","validators"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","validation"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,CJ,4,2,"div",2),o.k0s()(),o.j41(3,"button",3),o.bIt("click",function(){return t.addValidator$.next(void 0)}),o.EFF(4,"Add Validator"),o.k0s()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(2),o.Y8G("ngForOf",t.validators.controls))},dependencies:[k.Sq,h.BC,h.cb,h.j4,h.JD,h.v8,FJ],encapsulation:2}),r}(),PJ=function(){var a,r=function(){return(0,g.A)(function n(e,t){var s=this;(0,v.A)(this,n),this.vpm=e,this.tokenizerService=t,this.validators$=new R.t([]),this.errors$=new R.t(null),this.message$=new R.t("Field is invalid"),this.resolvedContext$=new R.t(void 0),this.messageSub=(0,Vn.z)([this.validators$,this.errors$,this.resolvedContext$]).pipe((0,he.p)(function(u){var p=(0,F.A)(u,2)[1];return null!==p&&0!==Object.keys(p).length}),(0,me.T)(function(u){var l=(0,F.A)(u,2),c=l[0],p=l[1],m=Object.keys(p),x=(0,F.A)(m,1)[0],D=c.find(function(N){return N.validator===x});return{k:x,v:D,e:p[x]}}),(0,We.n)(function(u){var l=u.k,c=u.v,p=u.e;return s.vpm.getPlugin(c.validator).pipe((0,me.T)(function(m){return{k:l,v:c,p:m,e:p}}))}),(0,We.n)(function(u){var l=u.k,c=u.v,p=u.p;return s.resolveContexts({errors:u.e}).pipe((0,me.T)(function(y){return{k:l,v:c,p,t:y}}))}),(0,ue.M)(function(u){var p=u.v,m=s.replaceTokens({message:p.overrideErrorMessage&&""!==p.overrideErrorMessage?p.overrideErrorMessage:u.p.errorMessage,tokens:u.t});s.message$.next(m)})).subscribe()},[{key:"validators",set:function(t){this.validators$.next(t)}},{key:"errors",set:function(t){this.errors$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"replaceTokens",value:function(t){var s=t.message,u=t.tokens;return void 0!==u&&u.forEach(function(l,c){s=s.split("[".concat(c,"]")).join("".concat(l))}),s}},{key:"resolveContexts",value:function(t){var s=this,u=t.errors;return new L.c(function(l){var c=new Map(s.tokenizerService.generateGenericTokens(u,""));if(s.resolvedContext$.value)for(var p in s.resolvedContext$.value)c=new Map([].concat((0,A.A)(c),(0,A.A)(s.tokenizerService.generateGenericTokens(s.resolvedContext$.value[p],"_root"===p?"":p))));l.next(c),l.complete()})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(di),o.rXU(Yn))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-ordain-default-validation-error"]],inputs:{validators:"validators",errors:"errors",resolvedContext:"resolvedContext"},standalone:!1,decls:1,vars:1,template:function(e,t){1&e&&o.EFF(0),2&e&&o.JRh(t.message$.value)},encapsulation:2}),r}(),D2=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,h.X1,va.MaterialModule,Vs]}),r}(),w2=b(4992),RJ=b(8827),N_=b(1977);function TJ(a,r){if(1&a&&(o.j41(0,"mat-error"),o.nrm(1,"druid-ordain-default-validation-error",2),o.k0s()),2&a){var n=o.XpG();o.R7$(),o.Y8G("validators",null==n.formSettings$.value||null==n.formSettings$.value.validation?null:n.formSettings$.value.validation.validators)("errors",n.formControl.errors)("resolvedContext",n.resolvedContext$.value)}}function MJ(a,r){if(1&a&&(o.j41(0,"mat-option",2),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value),o.R7$(),o.JRh(n.label)}}function IJ(a,r){if(1&a){var n=o.RV6();o.j41(0,"div"),o.nrm(1,"classifieds-ui-render-pane",4),o.j41(2,"button",3),o.bIt("click",function(){var l=f.eBV(n).index,c=o.XpG();return f.Njj(c.remove$.next(l))}),o.EFF(3,"Remove"),o.k0s()()}if(2&a){var e=r.$implicit,t=r.index,s=o.XpG();o.R7$(),o.Y8G("formControlName",t)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("contexts",e.contexts)("panes",s.panes)("resolvedContext",e.resolvedContext)("indexPosition",t)("ancestory",s.ancestory)}}function VJ(a,r){if(1&a&&(o.j41(0,"mat-option",9),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n)}}function NJ(a,r){if(1&a&&(o.j41(0,"mat-radio-button",2),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n.value),o.R7$(),o.JRh(n.label)}}function OJ(a,r){if(1&a&&(o.j41(0,"mat-option",4),o.EFF(1),o.k0s()),2&a){var n=r.$implicit;o.Y8G("value",n),o.R7$(),o.JRh(n.label)}}function BJ(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-image-preview",4),o.bIt("removed",function(){f.eBV(n);var s=o.XpG().$implicit,u=o.XpG();return f.Njj(u.onRemove(s))}),o.j41(1,"ngx-dropzone-label"),o.EFF(2),o.k0s()()}if(2&a){var e=o.XpG().$implicit;o.Y8G("file",e)("removable",!0),o.R7$(2),o.Lme("",e.name," (",e.type,")")}}function LJ(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-video-preview",4),o.bIt("removed",function(){f.eBV(n);var s=o.XpG().$implicit,u=o.XpG();return f.Njj(u.onRemove(s))}),o.j41(1,"ngx-dropzone-label"),o.EFF(2),o.k0s()()}if(2&a){var e=o.XpG().$implicit;o.Y8G("file",e)("removable",!0),o.R7$(2),o.Lme("",e.name," (",e.type,")")}}function UJ(a,r){if(1&a){var n=o.RV6();o.j41(0,"ngx-dropzone-preview",5),o.bIt("removed",function(){f.eBV(n);var s=o.XpG().$implicit,u=o.XpG();return f.Njj(u.onRemove(s))}),o.j41(1,"ngx-dropzone-label"),o.EFF(2),o.k0s()()}if(2&a){var e=o.XpG().$implicit;o.Y8G("removable",!0),o.R7$(2),o.Lme("",e.name," (",e.type,")")}}function GJ(a,r){if(1&a&&(o.qex(0),o.DNE(1,BJ,3,4,"ngx-dropzone-image-preview",2)(2,LJ,3,4,"ngx-dropzone-video-preview",2)(3,UJ,3,3,"ngx-dropzone-preview",3),o.bVm()),2&a){var n=r.$implicit,e=o.XpG();o.R7$(),o.Y8G("ngIf",e.isType(n,"image")),o.R7$(),o.Y8G("ngIf",e.isType(n,"video")),o.R7$(),o.Y8G("ngIf",!e.isType(n,"image")&&!e.isType(n,"video"))}}var O_=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.value=r.value?r.value:"",r.datasourceBinding&&"object"==typeof r.datasourceBinding&&(this.datasourceBinding=new Yt.ContentBinding(r.datasourceBinding)),r.datasourceOptions&&"object"==typeof r.datasourceOptions&&(this.datasourceOptions=new GE(r.datasourceOptions)),r.validation&&(this.validation=new yf(r.validation)))}),jJ=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.valuesMapping=r.valuesMapping)}),$i=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.tokenizerService=e,this.datasourceContentHandler=t,this.panelResolver=s,this.attributeSerializer=u},[{key:"resolveElementOptions",value:function(t,s){var u=this;return(0,De.of)(t).pipe((0,We.n)(function(l){if(l.datasourceBinding&&l.datasourceBinding.id&&""!==l.datasourceBinding.id){var c=s.has("panes")?s.get("panes").find(function(p){return p.name===l.datasourceBinding.id}):void 0;return u.panelResolver.dataPanes(s.get("panes")).pipe((0,We.n)(function(p){return c?u.datasourceContentHandler.fetchDynamicData(c.settings,new Map([].concat((0,A.A)(s),[["dataPanes",p]]))):(0,De.of)([])}),(0,me.T)(function(p){return[l,p.results]}))}return(0,De.of)([l,[]])}),(0,me.T)(function(l){var c=(0,F.A)(l,2),p=c[0],m=c[1];return[p,p.datasourceOptions&&""!==p.datasourceOptions.query?(0,is.JSONPath)({path:p.datasourceOptions.query,json:m}):m]}),(0,We.n)(function(l){var c=(0,F.A)(l,2);return u.mapDataOptions(c[0],c[1])}))}},{key:"mapDataOptions",value:function(t,s){var u=this;return(0,De.of)([t,s]).pipe((0,me.T)(function(l){var c=(0,F.A)(l,2),m=c[1];return[c[0],m,m?m.map(function(y){return u.tokenizerService.generateGenericTokens(y)}):[]]}),(0,me.T)(function(l){var c=(0,F.A)(l,3),p=c[0];return c[2].map(function(x){return u.mapDataItem(p,x)})}))}},{key:"mapDataItem",value:function(t,s){return new $E({value:this.tokenizerService.replaceTokens("".concat(t.datasourceOptions.valueMapping),s),label:this.tokenizerService.replaceTokens("".concat(t.datasourceOptions.labelMapping),s),dataItem:void 0})}},{key:"hasDataOptions",value:function(t){return t.datasourceBinding&&t.datasourceBinding.id&&""!==t.datasourceBinding.id}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Yn),f.KVO(a_),f.KVO(u_),f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),zi=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.tokenizerService=e,this.cachedResolvedContexts=[],this.scheduleResolution$=new W.B,this.scheduleResolutionSub=this.scheduleResolution$.pipe((0,ue.M)(function(s){var u=s.resolvedContext,l=s.index,c=new Map;if(u)for(var p in u)u[p]instanceof Us||(c=new Map([].concat((0,A.A)(c),(0,A.A)(t.tokenizerService.generateGenericTokens(u[p],"_root"===p?"":p)))));t.cachedResolvedContexts[l].resolution$.next(c)})).subscribe()},[{key:"resolveContexts",value:function(t){var s=t.resolvedContext,u=this.cachedResolvedContexts.findIndex(function(l){return 0===(0,Ky.getDiff)(l.rContext,s).length});return-1===u?(console.log("resolved context no cache",s),u=this.cachedResolvedContexts.length,this.cachedResolvedContexts.push({rContext:s,resolution$:new Vm.m}),this.scheduleResolution$.next({resolvedContext:s,index:u})):console.log("resolved context cache hit",s),this.cachedResolvedContexts[u].resolution$.pipe((0,on.s)(1))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Yn))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),so=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l,c){var p=this;(0,v.A)(this,n),this.attributeSerializer=e,this.optionsResolver=t,this.tokenizerService=s,this.formsContextHelper=u,this.vpm=l,this.controlContainer=c,this.formControl=new h.hs(""),this.formControlValueChangesSub=this.formControl.valueChanges.pipe((0,ue.M)(function(m){return console.log("serialized form value",p.attributeSerializer.serialize(m,"value"))}),(0,ue.M)(function(m){return p.controlContainer.control.get("settings").setValue([p.attributeSerializer.serialize(m,"value")])})).subscribe(),this.formSettings$=new R.t(void 0),this.settings$=new R.t([]),this.options$=new R.t([]),this.init$=new W.B,this.afterViewInit$=new W.B,this.panes$=new R.t([]),this.originPanes$=new R.t([]),this.contexts$=new R.t([]),this.resolvedContext$=new R.t(void 0),this.value$=new W.B,this.settingsSub=this.settings$.pipe((0,me.T)(function(m){return m?p.settingsToObject(p.attributeSerializer.deserializeAsObject(m)):void 0}),(0,ue.M)(function(m){return p.formSettings$.next(m)})).subscribe(),this.loadOptionsSub=(0,Vn.z)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe((0,me.T)(function(m){var y=(0,F.A)(m,4),D=y[1],N=y[2],$=y[3];return{settings:y[0],metadata:new Map([["panes",[].concat((0,A.A)(D&&Array.isArray(D)?D:[]),(0,A.A)(N&&Array.isArray(N)?N:[]))],["contexts",$]])}}),(0,We.n)(function(m){return p.optionsResolver.resolveElementOptions(m.settings,m.metadata)}),(0,ue.M)(function(m){return p.options$.next(m)})).subscribe(),this.renderContentSub=(0,Vn.z)([this.formSettings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,me.T)(function(m){var y=(0,F.A)(m,2);return{settings:y[0],resolvedContext:y[1]}}),(0,We.n)(function(m){var y=m.settings;return p.formsContextHelper.resolveContexts({resolvedContext:m.resolvedContext}).pipe((0,me.T)(function(D){return{settings:y,tokens:D}}))}),(0,We.n)(function(m){var y=m.settings,x=m.tokens;return(0,Cn.p)(y.validation&&y.validation.validators?y.validation.validators.map(function(D){return p.vpm.getPlugin(D.validator).pipe((0,We.n)(function(N){return N.builder({v:D,serialized:!1}).pipe((0,me.T)(function($){return{v:D,vf:$}}))}))}):[]).pipe((0,me.T)(function(D){return{settings:y,tokens:x,validators:D}}),br({settings:y,tokens:x,validators:[]}))}),(0,We.n)(function(m){var y=m.settings,x=m.tokens,D=m.validators;return(0,Cn.p)(y.validation&&y.validation.validators?y.validation.validators.map(function(N){return p.vpm.getPlugin(N.validator).pipe((0,We.n)(function($){return $.builder({v:N,serialized:!0}).pipe((0,me.T)(function(q){return{v:N,vf:q}}))}))}):[]).pipe((0,me.T)(function(N){return{settings:y,tokens:x,validators:D,validatorsSerialized:N}}),br({settings:y,tokens:x,validators:D,validatorsSerialized:[]}))}),(0,ue.M)(function(m){var y=m.settings,x=m.tokens,N=m.validatorsSerialized;if(p.formControl.setAsyncValidators(m.validators.map(function(at){return at.vf})),p.controlContainer.control.get("settings").setAsyncValidators(N.map(function(at){return at.vf})),p.formControl.updateValueAndValidity(),p.controlContainer.control.updateValueAndValidity(),void 0!==x&&(p.tokens=x),y.value&&null!==y.value&&""!==y.value){(-1!==y.value.indexOf(".$i.")||-1!==y.value.indexOf(".$j.")||-1!==y.value.indexOf(".$k."))&&console.log(y.value,p.ancestory);var $=y.value.split("$i"),q=$.map(function(at,dt){return p.ancestory[1*dt+(3+(0===dt?0:3))]}),le=$.reduce(function(at,dt,Rt){return[].concat((0,A.A)(at),[0===Rt?"":Rt-1<q.length?"".concat(q[Rt-1]):"",dt])},[]).join("");console.log("path",le);var ve=p.replaceTokens(le);p.formControl.setValue(ve);var Ae=p.tokenizerService.discoverTokens(ve,!0);if(0!==Ae.length)if(Ae[0].trim().lastIndexOf(".id")===Ae[0].trim().length-3){var ge=dr();p.formControl.setValue(ge),p.value$.next(ge)}else{var ke=Array.from(x).filter(function(at){return 0===(0,F.A)(at,1)[0].indexOf(le.substr(1,le.length-2))});if(0!==ke.length){var He=ke.reduce(function(at,dt){var Rt=(0,F.A)(dt,2),Ot=Rt[0],pt=Rt[1];return(0,_.A)((0,_.A)({},at),{},(0,d.A)({},Ot.substr(Ot.lastIndexOf(".")+1),pt))},{});p.formControl.setValue(He),p.value$.next(He)}else{var ot=p.tokenizerService.replaceTokens(y.value,new Map(Array.from(Ae).map(function(at){return[at,""]})));p.formControl.setValue(ot),p.value$.next(ot)}}else p.value$.next(ve)}else p.formControl.setValue("")}),(0,on.s)(1)).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"panes",set:function(t){this.panes$.next(t)}},{key:"originPanes",set:function(t){this.originPanes$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"settingsToObject",value:function(t){return new O_(t)}},{key:"replaceTokens",value:function(t){return void 0!==this.tokens&&this.tokens.forEach(function(s,u){t=t.split("[".concat(u,"]")).join("".concat(s))}),t}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275dir=o.FsC({type:a,selectors:[["","druid-forms-form-element-base",""]],inputs:{tokens:"tokens",settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",resolvedContext:"resolvedContext",ancestory:"ancestory"},standalone:!1}),r}(),$J=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-input"]],standalone:!1,features:[o.Vt3],decls:3,vars:2,consts:[["matInput","",3,"formControl"],[4,"ngIf"],[3,"validators","errors","resolvedContext"]],template:function(e,t){1&e&&(o.j41(0,"mat-form-field"),o.nrm(1,"input",0),o.DNE(2,TJ,2,3,"mat-error",1),o.k0s()),2&e&&(o.R7$(),o.Y8G("formControl",t.formControl),o.R7$(),o.Y8G("ngIf",t.formControl.invalid))},dependencies:[k.bT,h.me,h.BC,h.l_,vr.fg,nn.rl,nn.TL,PJ],encapsulation:2}),r}(),zJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-select"]],standalone:!1,features:[o.Vt3],decls:4,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"mat-form-field")(1,"mat-select",0),o.DNE(2,MJ,2,2,"mat-option",1),o.nI1(3,"async"),o.k0s()()),2&e&&(o.R7$(),o.Y8G("formControl",t.formControl),o.R7$(),o.Y8G("ngForOf",o.bMT(3,2,t.options$)))},dependencies:[k.Sq,h.BC,h.l_,Zr.wT,nn.rl,ya.VO,k.Jj],encapsulation:2}),r}(),HJ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.attributeSerializer=e,this.fb=t,this.controlContainer=s,this.panes=[],this.originMappings=[],this.ancestory=[],this.add$=new W.B,this.remove$=new W.B,this.panes$=new R.t([]),this.settings$=new W.B,this.resolvedContext$=new W.B,this.panel$=new W.B,this.afterViewInit$=new W.B,this.addSub=this.add$.pipe((0,me.T)(function(){return new Fr(u.panes[0])}),(0,ue.M)(function(){return u.panesFormArray.push(u.fb.control(""))}),(0,ue.M)(function(l){return u.panes.push(l)})).subscribe(),this.removeSub=this.remove$.pipe((0,ue.M)(function(l){return u.panesFormArray.removeAt(l)}),(0,ue.M)(function(l){return u.panes.splice(l,1)})).subscribe(),this.populateDefaultValues=(0,Vn.z)([this.settings$.pipe((0,me.T)(function(l){return l?new jJ(u.attributeSerializer.deserializeAsObject(l)):void 0})),this.resolvedContext$,this.panel$,this.afterViewInit$]).pipe((0,me.T)(function(l){var c=(0,F.A)(l,3);return{s:c[0],rc:c[1],p:c[2]}}),(0,ue.M)(function(l){return console.log(l.s.valuesMapping,u.ancestory)}),(0,me.T)(function(l){var c=l.s,p=l.rc,m=l.p;if(p&&c&&c.valuesMapping&&""!==c.valuesMapping.trim()){var y=c.valuesMapping.split("[$i]"),x=y.map(function($,q){return u.ancestory[1*q+3]}),D=y.reduce(function($,q,le){return[].concat((0,A.A)($),[0===le?"":le-1<x.length?"[".concat(x[le-1],"]"):"",q])},[]).join("");return console.log("path",D),{items:(0,is.JSONPath)({path:"$.".concat(D,".*"),json:p}),s:c,p:m}}return{items:[],p:m}}),(0,ue.M)(function(l){for(var p=l.items.length-u.panesFormArray.length,m=0;m<p;m++)u.add$.next(void 0)})).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"panel",set:function(t){this.panel$.next(t)}},{key:"panesFormArray",get:function(){return this.controlContainer.control.get("panes")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-form-section"]],inputs:{panes:"panes",originPanes:"originPanes",originMappings:"originMappings",ancestory:"ancestory",settings:"settings",resolvedContext:"resolvedContext",panel:"panel"},standalone:!1,decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","panes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","pluginName","settings","name","label","contexts","panes","resolvedContext","indexPosition","ancestory"]],template:function(e,t){1&e&&(o.qex(0,0)(1,1),o.DNE(2,IJ,4,10,"div",2),o.bVm()(),o.j41(3,"button",3),o.bIt("click",function(){return t.add$.next(void 0)}),o.EFF(4,"Add Item"),o.k0s()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(2),o.Y8G("ngForOf",t.panes))},dependencies:[k.Sq,h.BC,h.cb,h.j4,h.JD,h.v8,mf],encapsulation:2}),r}(),KJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){var m;return(0,v.A)(this,e),(m=(0,w.A)(this,e,[t,s,u,l,c,p])).cols=20,m.rows=20,m}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-textarea"]],standalone:!1,features:[o.Vt3],decls:1,vars:3,consts:[[3,"formControl","cols","rows"]],template:function(e,t){1&e&&o.nrm(0,"textarea",0),2&e&&o.Y8G("formControl",t.formControl)("cols",t.cols)("rows",t.rows)},dependencies:[h.me,h.BC,h.l_],encapsulation:2}),r}(),XJ=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,De.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){return"pane"===s?this.toObject(t).pipe((0,We.n)(function(l){return tr(function(){return l.datasourceBinding&&l.datasourceBinding.id&&null!==l.datasourceBinding.id},(0,De.of)([l.datasourceBinding]),(0,De.of)([]))})):(0,De.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(new O_(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,De.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),F2=function(){var a,r=function(n){function e(){return(0,v.A)(this,e),(0,w.A)(this,e,arguments)}return(0,P.A)(e,n),(0,g.A)(e)}(XJ);return(a=r).\u0275fac=function(){var n;return function(t){return(n||(n=o.xGo(a)))(t||a)}}(),a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),uo=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.attributeSerializer=l,this.datasourceOptions=Oy,this.validation=new yf({validators:[]}),this.bindableOptions=[],this.formGroup=this.fb.group({value:this.fb.control(""),datasourceOptions:this.fb.control(""),validation:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})}),this.paneIndex=e.paneIndex,this.pane=e.pane},[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var t=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(s){var u;console.log("Form Editor Data Pane Data",s),t.formGroup.patchValue({value:s.value,datasourceOptions:s.datasourceOptions||Oy,datasourceBinding:{id:(null===(u=s.datasourceBinding)||void 0===u?void 0:u.id)||"",type:"pane"}}),t.datasourceOptions=s.datasourceOptions||Oy,t.validation=new yf(s.validation?s.validation:{validators:[]})}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Fr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):s},[])}},{key:"submit",value:function(){var t=this;console.log(this.formGroup.value);var s=new O_(this.formGroup.value);console.log("losing options debug",s),this.paneGroup.get("settings").clear(),this.handler.buildSettings(s).map(function(l){return t.attributeSerializer.convertToGroup(l)}).forEach(function(l){return t.paneGroup.get("settings").push(l)}),this.dialogRef.close()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(F2),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-element-editor"]],inputs:{bindableOptions:"bindableOptions"},standalone:!1,decls:17,vars:3,consts:[[3,"ngSubmit","formGroup"],["fxLayout","column"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions"],["formControlName","validation",3,"validation"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"mat-dialog-content",1)(2,"div")(3,"mat-form-field")(4,"mat-label"),o.EFF(5,"Value"),o.k0s(),o.nrm(6,"input",2),o.k0s()(),o.j41(7,"mat-form-field",3)(8,"mat-label"),o.EFF(9,"Datasource"),o.k0s(),o.j41(10,"mat-select",4),o.DNE(11,VJ,2,2,"mat-option",5),o.k0s()(),o.nrm(12,"classifieds-ui-datasource-options",6)(13,"druid-ordain-validation-editor",7),o.k0s(),o.j41(14,"mat-dialog-actions")(15,"button",8),o.EFF(16,"Save"),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(11),o.Y8G("ngForOf",t.bindableOptions),o.R7$(2),o.Y8G("validation",t.validation))},dependencies:[k.Sq,h.qT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD,h.$R,Zr.wT,qr.$z,Ut.tx,Ut.E7,Ut.Yi,vr.fg,nn.rl,nn.nJ,ya.VO,O9,kJ],encapsulation:2}),r}(),qJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-radiogroup"]],standalone:!1,features:[o.Vt3],decls:3,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(o.j41(0,"mat-radio-group",0),o.DNE(1,NJ,2,2,"mat-radio-button",1),o.nI1(2,"async"),o.k0s()),2&e&&(o.Y8G("formControl",t.formControl),o.R7$(),o.Y8G("ngForOf",o.bMT(2,2,t.options$)))},dependencies:[k.Sq,h.BC,h.l_,ah.VT,ah._g,k.Jj],encapsulation:2}),r}(),WJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-slider"]],standalone:!1,features:[o.Vt3],decls:2,vars:1,consts:[[3,"formControl"],["matSliderThumb",""]],template:function(e,t){1&e&&(o.j41(0,"mat-slider",0),o.nrm(1,"input",1),o.k0s()),2&e&&o.Y8G("formControl",t.formControl)},dependencies:[h.BC,h.l_,w2.IV,w2.OU],encapsulation:2}),r}(),YJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-toggle"]],standalone:!1,features:[o.Vt3],decls:2,vars:1,consts:[[3,"formControl"]],template:function(e,t){1&e&&(o.j41(0,"mat-slide-toggle",0),o.EFF(1,"Toggle Label"),o.k0s()),2&e&&o.Y8G("formControl",t.formControl)},dependencies:[h.BC,h.l_,RJ.sG],encapsulation:2}),r}(),QJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-checkbox"]],standalone:!1,features:[o.Vt3],decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,t){1&e&&o.nrm(0,"mat-checkbox",0),2&e&&o.Y8G("formControl",t.formControl)},dependencies:[h.BC,h.l_,jd.So],encapsulation:2}),r}(),JJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-datepicker"]],standalone:!1,features:[o.Vt3],decls:7,vars:3,consts:[["picker",""],["appearance","fill"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"]],template:function(e,t){if(1&e&&(o.j41(0,"mat-form-field",1)(1,"mat-label"),o.EFF(2,"Choose a date"),o.k0s(),o.nrm(3,"input",2)(4,"mat-datepicker-toggle",3)(5,"mat-datepicker",null,0),o.k0s()),2&e){var s=o.sdS(6);o.R7$(3),o.Y8G("matDatepicker",s)("formControl",t.formControl),o.R7$(),o.Y8G("for",s)}},dependencies:[h.me,h.BC,h.l_,N_.Vh,N_.bZ,N_.bU,vr.fg,nn.rl,nn.nJ,nn.yw],encapsulation:2}),r}(),ZJ=function(){var a,r=function(n){function e(t,s,u,l,c,p){var m;return(0,v.A)(this,e),(m=(0,w.A)(this,e,[t,s,u,l,c,p])).proxyControl=new h.hs(""),m.optionSelected$=new W.B,m.proxyControlValueChangesSub=m.proxyControl.valueChanges.pipe((0,zn.B)(1e3),(0,Bo.F)(),hi((0,Vn.z)([m.formSettings$,m.panes$,m.originPanes$,m.contexts$]).pipe((0,me.T)(function(y){var x=(0,F.A)(y,4);return{settings:x[0],panes:x[1],originPanes:x[2],contexts:x[3]}}))),(0,me.T)(function(y){var x=(0,F.A)(y,2),D=x[0],N=x[1],q=N.panes,le=N.originPanes,ve=N.contexts;return{term:D,settings:N.settings,metadata:new Map([["panes",[].concat((0,A.A)(q&&Array.isArray(q)?q:[]),(0,A.A)(le&&Array.isArray(le)?le:[]))],["contexts",ve],["inputparams",new Map([["term",new _a({flags:[],mapping:new kE({value:D,testValue:D,type:"static",context:void 0})})]])]])}}),(0,We.n)(function(y){return m.optionsResolver.resolveElementOptions(y.settings,y.metadata)}),(0,ue.M)(function(y){return m.options$.next(y)})).subscribe(),m.optionSelectedSub=m.optionSelected$.pipe((0,ue.M)(function(y){return m.formControl.setValue(y.option&&y.option.value?y.option.value.value:"")})).subscribe(),m.displayAuto=function(y){return y.label},m}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-autocomplete"]],standalone:!1,features:[o.Vt3],decls:8,vars:6,consts:[["autocomplete","matAutocomplete"],["matInput","",3,"matAutocomplete","formControl"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e){var s=o.RV6();o.j41(0,"mat-form-field")(1,"mat-label"),o.EFF(2,"Autocomplete"),o.k0s(),o.nrm(3,"input",1),o.j41(4,"mat-autocomplete",2,0),o.bIt("optionSelected",function(c){return f.eBV(s),f.Njj(t.optionSelected$.next(c))}),o.DNE(6,OJ,2,2,"mat-option",3),o.nI1(7,"async"),o.k0s()()}if(2&e){var u=o.sdS(5);o.R7$(3),o.Y8G("matAutocomplete",u)("formControl",t.proxyControl),o.R7$(),o.Y8G("displayWith",t.displayAuto),o.R7$(2),o.Y8G("ngForOf",o.bMT(7,4,t.options$))}},dependencies:[k.Sq,h.me,h.BC,h.l_,rh.$3,Zr.wT,rh.pN,vr.fg,nn.rl,nn.nJ,k.Jj],encapsulation:2}),r}(),eZ=function(){var a,r=function(n){function e(t,s,u,l,c,p,m){var y;return(0,v.A)(this,e),(y=(0,w.A)(this,e,[t,s,l,c,p,m])).files=[],y.select$=new W.B,y.selectSub=y.select$.pipe((0,ue.M)(function(x){return console.log(x)}),(0,na.Z)(function(x){return y.filesService.bulkUpload({files:[x.addedFiles[0]]}).pipe((0,me.T)(function(D){return{mfs:D,e:x}}))}),(0,ue.M)(function(x){return y.formControl.setValue(x.mfs[0])}),(0,ue.M)(function(x){var D;return(D=y.files).push.apply(D,(0,A.A)(x.e.addedFiles))})).subscribe(),y.valueSub=y.value$.pipe((0,he.p)(function(x){return"object"==typeof x}),(0,me.T)(function(x){return new hy(x)}),(0,ue.M)(function(x){console.log("populate value",x)}),(0,We.n)(function(x){return y.filesService.convertToFiles([x])}),(0,ue.M)(function(x){console.log("populate as file",x),y.files=x})).subscribe(),y.filesService=u,y}return(0,P.A)(e,n),(0,g.A)(e,[{key:"onSelect",value:function(s){this.select$.next(s)}},{key:"onRemove",value:function(s){console.log(s),this.formControl.setValue(""),this.files.splice(this.files.indexOf(s),1)}},{key:"isType",value:function(s,u){switch(u){case"image":return this.filesService.isImage({file:s});case"video":return this.filesService.isVideo({file:s});default:return!1}}}])}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Cm),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-media"]],standalone:!1,features:[o.Vt3],decls:4,vars:1,consts:[[3,"change"],[4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngIf"],[3,"removable","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","file","removable"],[3,"removed","removable"]],template:function(e,t){1&e&&(o.j41(0,"ngx-dropzone",0),o.bIt("change",function(u){return t.onSelect(u)}),o.j41(1,"ngx-dropzone-label"),o.EFF(2,"Drop it, baby!"),o.k0s(),o.DNE(3,GJ,4,3,"ng-container",1),o.k0s()),2&e&&(o.R7$(3),o.Y8G("ngForOf",t.files))},dependencies:[k.Sq,k.bT,Ym,lw,Rc,dw,Bz],encapsulation:2}),r}(),tZ=function(){var a,r=function(n){function e(t,s,u,l,c,p){return(0,v.A)(this,e),(0,w.A)(this,e,[t,s,u,l,c,p])}return(0,P.A)(e,n),(0,g.A)(e)}(so);return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService),o.rXU($i),o.rXU(Yn),o.rXU(zi),o.rXU(di),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-forms-form-hidden"]],standalone:!1,features:[o.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),nZ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var t=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(s){console.log("formly repeating editor form"),console.log(t.attributeSerializer.convertToGroup(s)),t.data.panelFormGroup.get("settings").push(t.attributeSerializer.convertToGroup(s))})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-form-section-editor"]],standalone:!1,decls:8,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"div")(2,"mat-form-field")(3,"mat-label"),o.EFF(4,"Values Mapping"),o.k0s(),o.nrm(5,"input",1),o.k0s()(),o.j41(6,"button",2),o.EFF(7,"Save"),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formGroup),o.R7$(6),o.Y8G("disabled",!t.formGroup.valid))},dependencies:[h.qT,h.me,h.BC,h.cb,h.j4,h.JD,qr.$z,Ut.tx,vr.fg,nn.rl,nn.nJ],encapsulation:2}),r}(),rZ=function(r){return new Yt.ContentPlugin({id:"form_input",title:"Form Input",selectionComponent:void 0,editorComponent:uo,renderComponent:$J,handler:r.handler})},aZ=function(r){return new Yt.ContentPlugin({id:"form_select",title:"Form Select",selectionComponent:void 0,editorComponent:uo,renderComponent:zJ,handler:r.handler})},iZ=function(r){return new Yt.ContentPlugin({id:"form_radiogroup",title:"Form Radiogroup",selectionComponent:void 0,editorComponent:uo,renderComponent:qJ,handler:r.handler})},oZ=function(r){return new Yt.ContentPlugin({id:"form_textarea",title:"Form Textarea",selectionComponent:void 0,editorComponent:uo,renderComponent:KJ,handler:r.handler})},sZ=function(r){return new Yt.ContentPlugin({id:"form_slider",title:"Form Slider",selectionComponent:void 0,editorComponent:uo,renderComponent:WJ,handler:r.handler})},uZ=function(r){return new Yt.ContentPlugin({id:"form_toggle",title:"Form Toggle",selectionComponent:void 0,editorComponent:uo,renderComponent:YJ,handler:r.handler})},lZ=function(r){return new Yt.ContentPlugin({id:"form_checkbox",title:"Form Checkbox",selectionComponent:void 0,editorComponent:uo,renderComponent:QJ,handler:r.handler})},cZ=function(r){return new Yt.ContentPlugin({id:"form_datepicker",title:"Form Datepicker",selectionComponent:void 0,editorComponent:uo,renderComponent:JJ,handler:r.handler})},dZ=function(r){return new Yt.ContentPlugin({id:"form_autocomplete",title:"Form Autocomplete",selectionComponent:void 0,editorComponent:uo,renderComponent:ZJ,handler:r.handler})},fZ=function(r){return new Yt.ContentPlugin({id:"form_media",title:"Form Media",selectionComponent:void 0,editorComponent:uo,renderComponent:eZ,handler:r.handler})},pZ=function(r){return new Yt.ContentPlugin({id:"form_hidden",title:"Form Hidden",selectionComponent:void 0,editorComponent:uo,renderComponent:tZ,handler:r.handler})},hZ=function(){var a,r=(0,g.A)(function n(e,t,s){(0,v.A)(this,n),[rZ({handler:s}),aZ({handler:s}),oZ({handler:s}),iZ({handler:s}),sZ({handler:s}),uZ({handler:s}),lZ({handler:s}),cZ({handler:s}),dZ({handler:s}),fZ({handler:s}),pZ({handler:s})].forEach(function(u){return e.register(u)}),[new Xm({id:"form_section",name:"form_section",title:"Form Section",editorComponent:nZ,renderComponent:HJ})].forEach(function(u){return t.register(u)})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Yt.ContentPluginManager),f.KVO(Fc),f.KVO(F2))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,h.YN,h.X1,va.MaterialModule,E_,qu,Qm,D2]}),r}(),gZ=new f.nKC("AlienaliasSettings"),yZ=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.openSearchDomain=r.openSearchDomain)}),CZ=["mfeReactComponent"],SZ=function(){var a,r=function(){return(0,g.A)(function n(){(0,v.A)(this,n)},[{key:"ngOnChanges",value:function(t){this.render()}},{key:"ngAfterViewInit",value:function(){this.render()}},{key:"ngOnDestroy",value:function(){}},{key:"render",value:function(){this.component()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-mfe-react"]],viewQuery:function(e,t){var s;1&e&&o.GBs(CZ,5),2&e&&o.mGM(s=o.lsd())&&(t.containerRef=s.first)},inputs:{component:"component"},standalone:!1,features:[o.OA$],decls:2,vars:0,consts:[["mfeReactComponent",""]],template:function(e,t){1&e&&o.nrm(0,"span",null,0)},encapsulation:2}),r}(),xZ=["appContainer"],B_=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.type=r.type&&""!==r.type?r.type:"module",this.remoteEntry=r.remoteEntry,this.componentName=r.componentName,this.exposedModule=r.exposedModule,this.remoteName=r.remoteName&&""!==r.remoteName?r.remoteName:void 0)}),k2=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,De.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,De.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){return(0,De.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,De.of)(new Kn)}},{key:"buildDynamicItems",value:function(t,s){return(0,De.of)([])}},{key:"toObject",value:function(t){return(0,De.of)(new B_(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,De.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(t){return(0,De.of)(new Yt.ContentPluginEditorOptions)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(yt.AttributeSerializerService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),EZ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s,u,l){(0,v.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.attributeSerializer=l,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("module",[h.k0.required]),remoteEntry:this.fb.control("",[h.k0.required]),exposedModule:this.fb.control("",[h.k0.required]),componentName:this.fb.control("",[h.k0.required]),remoteName:this.fb.control("")}),this.paneIndex=e.paneIndex,this.pane=e.pane},[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var t=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.formGroup.get("type").setValue(s.type&&""!==s.type?s.type:"module"),t.formGroup.get("remoteEntry").setValue(s.remoteEntry),t.formGroup.get("exposedModule").setValue(s.exposedModule),t.formGroup.get("componentName").setValue(s.componentName),t.formGroup.get("remoteName").setValue(s.remoteName)}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new h.hs(""),label:new h.hs(""),rule:new h.hs(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Fr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):(0,A.A)(s)},[])}},{key:"submit",value:function(){var t=this;console.log(this.formGroup.value);var s=new B_(this.formGroup.value);console.log(s),this.paneGroup.get("settings").clear(),this.handler.buildSettings(s).map(function(l){return t.attributeSerializer.convertToGroup(l)}).forEach(function(l){return t.paneGroup.get("settings").push(l)}),this.dialogRef.close()}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(Ut.Vh),o.rXU(Ut.CP),o.rXU(h.ze),o.rXU(k2),o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-outsider-outside-app-editor"]],inputs:{bindableOptions:"bindableOptions"},standalone:!1,decls:32,vars:1,consts:[[3,"ngSubmit","formGroup"],["formControlName","type","required",""],["value","module"],["value","script"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","componentName","required",""],["matInput","","formControlName","remoteName"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.submit()}),o.j41(1,"div")(2,"mat-form-field")(3,"mat-label"),o.EFF(4,"Remote Entry"),o.k0s(),o.j41(5,"mat-select",1)(6,"mat-option",2),o.EFF(7,"Module"),o.k0s(),o.j41(8,"mat-option",3),o.EFF(9,"Script"),o.k0s()()()(),o.j41(10,"div")(11,"mat-form-field")(12,"mat-label"),o.EFF(13,"Remote Entry"),o.k0s(),o.nrm(14,"input",4),o.k0s()(),o.j41(15,"div")(16,"mat-form-field")(17,"mat-label"),o.EFF(18,"Exposed Module"),o.k0s(),o.nrm(19,"input",5),o.k0s()(),o.j41(20,"div")(21,"mat-form-field")(22,"mat-label"),o.EFF(23,"Component Name"),o.k0s(),o.nrm(24,"input",6),o.k0s()(),o.j41(25,"div")(26,"mat-form-field")(27,"mat-label"),o.EFF(28,"Remote Name"),o.k0s(),o.nrm(29,"input",7),o.k0s()(),o.j41(30,"button",8),o.EFF(31,"Save"),o.k0s()()),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[Zr.wT,qr.$z,Ut.tx,vr.fg,nn.rl,nn.nJ,ya.VO,h.qT,h.me,h.BC,h.cb,h.YS,h.j4,h.JD],encapsulation:2}),r}(),DZ=function(){var a,r=function(){return(0,g.A)(function n(e){var t=this;(0,v.A)(this,n),this.attributeSerializer=e,this.objectSettings$=new R.t(void 0),this.contexts$=new R.t([]),this.settings$=new R.t([]),this.settingsSub=this.settings$.pipe((0,me.T)(function(s){return s?new B_(t.attributeSerializer.deserializeAsObject(s)):void 0}),(0,ue.M)(function(s){return t.objectSettings$.next(s)})).subscribe(),this.renderAppSub=this.objectSettings$.pipe((0,Ic.i)(1),(0,We.n)(function(s){return new L.c(function(u){(0,Nc.loadRemoteModule)(s.type&&"script"!==s.type?{type:"module",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule}:{type:"script",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule,remoteName:s.remoteName}).then(function(l){u.next(l[s.componentName&&""!==s.componentName?s.componentName:"default"]),u.complete()})}).pipe((0,me.T)(function(u){return{s,c:u}}))}),(0,ue.M)(function(s){var u=s.s,l=s.c;t.viewContainer.clear(),u.type&&"script"!==u.type?t.viewContainer.createComponent(l):t.viewContainer.createComponent(SZ).instance.component=l})).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(yt.AttributeSerializerService))},a.\u0275cmp=o.VBU({type:a,selectors:[["druid-outsider-outside-app-renderer"]],viewQuery:function(e,t){var s;1&e&&o.GBs(xZ,7,o.c1b),2&e&&o.mGM(s=o.lsd())&&(t.viewContainer=s.first)},inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:0,consts:[["appContainer",""]],template:function(e,t){1&e&&o.eu8(0,null,0)},encapsulation:2}),r}(),FZ=function(){var a,r=(0,g.A)(function n(e,t){(0,v.A)(this,n),e.register(function(r){return new Yt.ContentPlugin({id:"outside_app",title:"Outside App",selectionComponent:void 0,editorComponent:EZ,renderComponent:DZ,handler:r.handler})}({handler:t}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Yt.ContentPluginManager),f.KVO(k2))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({imports:[k.MD,va.MaterialModule,h.X1]}),r}(),P2=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t,this.context$=new R.t(void 0),this.formGroup=this.fb.group({remoteEntry:this.fb.control("",[h.k0.required]),exposedModule:this.fb.control("",[h.k0.required]),moduleName:this.fb.control("",[h.k0.required])}),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.context$.subscribe(function(s){t.formGroup.setValue(s?{remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule,moduleName:s.data.moduleName}:{remoteEntry:"",exposedModule:"",moduleName:""})})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-module-form"]],inputs:{context:"context"},standalone:!1,features:[o.Jv_([{provide:h.kq,useExisting:(0,f.Rfq)(function(){return a}),multi:!0},{provide:h.cz,useExisting:(0,f.Rfq)(function(){return a}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","moduleName","required",""]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),o.EFF(4,"Remote Entry"),o.k0s(),o.nrm(5,"input",1),o.k0s()(),o.j41(6,"div")(7,"mat-form-field")(8,"mat-label"),o.EFF(9,"Exposed Module"),o.k0s(),o.nrm(10,"input",2),o.k0s()(),o.j41(11,"div")(12,"mat-form-field")(13,"mat-label"),o.EFF(14,"Module Name"),o.k0s(),o.nrm(15,"input",3),o.k0s()()()),2&e&&o.Y8G("formGroup",t.formGroup)},dependencies:[h.me,h.BC,h.cb,h.YS,h.j4,h.JD,vr.fg,nn.rl,nn.nJ],encapsulation:2}),r}(),kZ=function(){var a,r=function(){return(0,g.A)(function n(e,t){(0,v.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",h.k0.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(o.rXU(h.ze),o.rXU(h.ZU))},a.\u0275cmp=o.VBU({type:a,selectors:[["classifieds-ui-context-module-editor"]],viewQuery:function(e,t){var s;1&e&&o.GBs(P2,7),2&e&&o.mGM(s=o.lsd())&&(t.contextModuleFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,t){1&e&&(o.qex(0,0),o.nrm(1,"classifieds-ui-context-module-form",1),o.bVm()),2&e&&(o.Y8G("formGroup",t.controlContainer.control),o.R7$(),o.Y8G("context",t.context))},dependencies:[h.BC,h.cb,h.j4,h.JD,P2],encapsulation:2}),r}(),PZ=function(){var a,r=(0,g.A)(function n(e,t,s){var u=this;(0,v.A)(this,n),this.actions$=e,this.moduleLoaderService=t,this.es=s,this.setPage$=vi(function(){return u.actions$.pipe($o(o_),(0,ue.M)(function(l){var c=l.page;console.log("tractor beam capture page",c),c.contexts&&Array.isArray(c.contexts)&&c.contexts.forEach(function(p){if("module"===p.plugin)return u.moduleLoaderService.loadModule(function(){return(0,Nc.loadRemoteModule)({type:"module",remoteEntry:p.data.remoteEntry,exposedModule:p.data.exposedModule}).then(function(m){return m[p.data.moduleName]})}).subscribe()})}))},{dispatch:!1}),this.setPageInfo$=vi(function(){return u.actions$.pipe($o(i_),(0,ue.M)(function(l){console.log("tractor beam info",l.info)}),(0,We.n)(function(l){var c=l.info;return u.es.getEntityCollectionService("PanelPage").getByKey(c.id)}),(0,ue.M)(function(l){l.contexts&&Array.isArray(l.contexts)&&l.contexts.forEach(function(c){if("module"===c.plugin)return u.moduleLoaderService.loadModule(function(){return(0,Nc.loadRemoteModule)({type:"module",remoteEntry:c.data.remoteEntry,exposedModule:c.data.exposedModule}).then(function(p){return p[c.data.moduleName]})}).subscribe()})}))},{dispatch:!1})});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(eu),f.KVO(ln.ModuleLoaderService),f.KVO(Cr))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),R2=function(){var a,r=function(){return(0,g.A)(function n(e){(0,v.A)(this,n),this.moduleLoaderService=e},[{key:"resolve",value:function(t,s,u){return console.log("module resolver context",t,s,u),this.moduleLoaderService.loadModule(function(){return(0,Nc.loadRemoteModule)({type:"module",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule}).then(function(l){return l[s.moduleName]})})}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.ModuleLoaderService))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac}),r}(),TZ=function(){var a,r=function(){return(0,g.A)(function n(e,t,s){(0,v.A)(this,n),this.moduleLoader=e,this.pageBuilderFacade=t,this.es=s},[{key:"loadPlugins",value:function(){var t=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,ue.M)(function(){return console.log("started loading external modules")}),(0,We.n)(function(s){return(s&&s.id?t.es.getEntityCollectionService("PanelPage").getByKey(s.id):(0,De.of)(void 0)).pipe(br(void 0))}),(0,We.n)(function(s){return s?(0,Cn.p)(s.contexts.filter(function(u){return"module"===u.plugin}).map(function(u){return t.moduleLoader.loadModule(function(){return(0,Nc.loadRemoteModule)({type:"module",remoteEntry:u.data.remoteEntry,exposedModule:u.data.exposedModule}).then(function(l){return l[u.data.moduleName]})})})).pipe((0,fr.c)(1),br([])):(0,De.of)([])}),(0,ue.M)(function(){return console.log("completed loading external modules")}),(0,me.T)(function(){return!0}),(0,on.s)(1))}}])}();return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(ln.ModuleLoaderService),f.KVO(xi),f.KVO(Cr))},a.\u0275prov=f.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),r}(),MZ=function(){var a,r=(0,g.A)(function n(e,t,s,u){(0,v.A)(this,n),t.addDiscovery(u),e.register(function(r){return new as({id:"module",name:"module",title:"Module",baseObject:{},resolver:r.moduleResolver,editorComponent:kZ})}({moduleResolver:s}))});return(a=r).\u0275fac=function(e){return new(e||a)(f.KVO(Ns),f.KVO(Yt.ContentPluginManager),f.KVO(R2),f.KVO(TZ))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=f.G2t({providers:[R2],imports:[k.MD,h.YN,h.X1,Cc,va.MaterialModule,cd.forFeature([PZ])]}),r}(),IZ=(0,g.A)(function a(r){(0,v.A)(this,a),r&&(this.appId=r.appId,this.guestRoleArn=r.guestRoleArn,this.region=r.region,this.identityPoolId=r.identityPoolId)}),VZ=new f.nKC("RumSettings"),T2=[["bb66aa62-8635-4015-86c9-ba4f208b0856","/native_forms_rebuild_v1"],["888b9746-9cc1-43dc-8edb-1868e64b36a5","/test-2025"],["5494f47d-473c-49b4-bbef-f563be722131","/plugin-amcharts-refs-test-1"],["8ebbcdb3-300f-4739-8cb3-6c5d4c402638","/am-charts-visual-editor-bar-chart-test"],["63a4219d-254e-11ec-ab14-c613312e594f","/dev-test-virtual-list-flex-v1"],["c38d4c9a-c2c7-4d9a-9d89-6a5c5425a372","/justwork"]],NZ=[{contexts:[{adaptor:"data",data:{exposedModule:"./GalleryModule",moduleName:"GalleryModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"gallery",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"0340ec29-fc39-4d4a-92ba-09caa0fb9d8f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-gallery-int",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[{contentPlugin:"gallery_gallery_item",contexts:[],label:"gallery",locked:!1,name:"gallery",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"bindingOption",name:"bindingOption",type:1,value:"data"},{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"[.type]",displayName:"typeMapping",name:"typeMapping",type:1,value:"[.type]"},{attributes:[],computedValue:"[.src]",displayName:"imageMapping",name:"imageMapping",type:1,value:"[.src]"}]},{contentPlugin:"datasource",contexts:[],label:"Data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'{"images":[\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"}\n]}',displayName:"data",name:"data",type:1,value:'{"images":[\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"}\n]}'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectMedia",displayName:"id",name:"id",type:1,value:"selectMedia"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Media",locked:!1,name:"selectMedia",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$.images.*",displayName:"query",name:"query",type:1,value:"$.images.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/test-gallery-int",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",name:"direction",type:1,value:""}]}],site:"spearhead",title:"Test Gallery int",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"rest",name:"ad",plugin:"rest",rest:{body:{content:"{}",contentType:"application/json"},method:"get",params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"de35f42f-a551-11f0-89d0-1ac36c6edc87",type:"route",value:"arg1"}}],url:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id"}},{adaptor:"data",data:{exposedModule:"./GalleryModule",moduleName:"GalleryModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"gallery",plugin:"module"}],cssFile:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/media/test.css",displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"0904fb75-1311-4763-b6e3-043239fb3a89",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"Search Form",locked:!1,name:"searchForm",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Search Phrase",displayName:"Content",name:"content",type:1,value:"Search Phrase"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"textSearchLabel",displayName:"name",name:"name",type:1,value:"textSearchLabel"},{attributes:[],computedValue:"Text Search Label",displayName:"label",name:"label",type:1,value:"Text Search Label"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"textSearch",displayName:"name",name:"name",type:1,value:"textSearch"},{attributes:[],computedValue:"Text Search",displayName:"label",name:"label",type:1,value:"Text Search"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"title": "All", "value": ""},\n{"title": "1", "value": "1"},\n{"title": "1.5", "value": "1.5"},\n{"title": "2", "value": "2"},\n{"title": "2.5", "value": "2.5"},\n{"title": "3", "value": "3"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"title": "All", "value": ""},\n{"title": "1", "value": "1"},\n{"title": "1.5", "value": "1.5"},\n{"title": "2", "value": "2"},\n{"title": "2.5", "value": "2.5"},\n{"title": "3", "value": "3"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"beds",displayName:"name",name:"name",type:1,value:"beds"},{attributes:[],computedValue:"Beds",displayName:"label",name:"label",type:1,value:"Beds"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Beds",displayName:"Content",name:"content",type:1,value:"Beds"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"bedsSearchLabel",displayName:"name",name:"name",type:1,value:"bedsSearchLabel"},{attributes:[],computedValue:"Beds Search Label",displayName:"label",name:"label",type:1,value:"Beds Search Label"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"3",name:"3",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"beds",displayName:"id",name:"id",type:1,value:"beds"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.title]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.title]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"bedsSearch",displayName:"name",name:"name",type:1,value:"bedsSearch"},{attributes:[],computedValue:"Beds Search",displayName:"label",name:"label",type:1,value:"Beds Search"},{attributes:[],computedValue:"form_select",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_select"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"4",name:"4",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"rest",displayName:"adaptor",name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id",displayName:"url",name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id"},{attributes:[],computedValue:"get",displayName:"method",name:"method",type:1,value:"get"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"de35f42f-a551-11f0-89d0-1ac36c6edc87",displayName:"testValue",name:"testValue",type:1,value:"de35f42f-a551-11f0-89d0-1ac36c6edc87"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:"{}",displayName:"content",name:"content",type:1,value:"{}"},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"}],computedValue:null,displayName:"body",name:"body",type:2,value:null}],computedValue:null,displayName:"rest",name:"rest",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"gallery",displayName:"name",name:"name",type:1,value:"gallery"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"module",displayName:"plugin",name:"plugin",type:1,value:"module"},{attributes:[{attributes:[],computedValue:"http://localhost:3000/remoteEntry.js",displayName:"remoteEntry",name:"remoteEntry",type:1,value:"http://localhost:3000/remoteEntry.js"},{attributes:[],computedValue:"./GalleryModule",displayName:"exposedModule",name:"exposedModule",type:1,value:"./GalleryModule"},{attributes:[],computedValue:"GalleryModule",displayName:"moduleName",name:"moduleName",type:1,value:"GalleryModule"}],computedValue:null,displayName:"data",name:"data",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"searchForm",displayName:"name",name:"name",type:1,value:"searchForm"},{attributes:[],computedValue:"Search Form",displayName:"title",name:"title",type:1,value:"Search Form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",name:"type",type:1,value:"form"},{attributes:[],computedValue:"searchForm.textSearch",displayName:"value",name:"value",type:1,value:"searchForm.textSearch"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",name:"type",type:1,value:"form"},{attributes:[],computedValue:"searchForm.bedsSearch",displayName:"value",name:"value",type:1,value:"searchForm.bedsSearch"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t },\n"bool": {\n  "all": [\n    {\n       "matchPhrase": {\n          "field": "description",\n          "value": "[:textSearch]"\n      }\n    },\n   {\n      "filter": {\n        "field": "property.bedrooms",\n         "value": "[:bedsSearch]"\n      }\n   }\n  ]\n}\n}}',displayName:"content",name:"content",type:1,value:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t },\n"bool": {\n  "all": [\n    {\n       "matchPhrase": {\n          "field": "description",\n          "value": "[:textSearch]"\n      }\n    },\n   {\n      "filter": {\n        "field": "property.bedrooms",\n         "value": "[:bedsSearch]"\n      }\n   }\n  ]\n}\n}}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectHits",displayName:"id",name:"id",type:1,value:"selectHits"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"adDescription",displayName:"id",name:"id",type:1,value:"adDescription"}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Hits",locked:!1,name:"selectHits",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$[0].hits.*",displayName:"query",name:"query",type:1,value:"$[0].hits.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"snippet",contexts:[],label:"Ad Description",locked:!1,name:"adDescription",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<classifieds-ui-page-router-link href="[_page.path]/listing/[.id]" text="[.title]"></classifieds-ui-page-router-link>',displayName:"Content",name:"content",type:1,value:'<classifieds-ui-page-router-link href="[_page.path]/listing/[.id]" text="[.title]"></classifieds-ui-page-router-link>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"gallery_gallery_item",contexts:[],label:"Gallery",locked:!1,name:"gallery",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"galleryDummyData",displayName:"bindingOption",name:"bindingOption",type:1,value:"galleryDummyData"},{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"[.type]",displayName:"typeMapping",name:"typeMapping",type:1,value:"[.type]"},{attributes:[],computedValue:"[.src]",displayName:"imageMapping",name:"imageMapping",type:1,value:"[.src]"},{attributes:[],computedValue:"undefined",displayName:"videoMapping",name:"videoMapping",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"youtubeMapping",name:"youtubeMapping",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"iframeMapping",name:"iframeMapping",type:0,value:"undefined"}]},{contentPlugin:"datasource",contexts:[],label:"Gallery Dummy Data",locked:!1,name:"galleryDummyData",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"context",displayName:"plugin",name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectImages",displayName:"id",name:"id",type:1,value:"selectImages"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Images",locked:!1,name:"selectImages",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$[0].photos.*",displayName:"query",name:"query",type:1,value:"$[0].photos.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"title",locked:!1,name:"title",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"<h2>[ad.title]</h2>",displayName:"Content",name:"content",type:1,value:"<h2>[ad.title]</h2>"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]},{contentPlugin:"snippet",contexts:[],label:"Description",locked:!1,name:"description",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"[ad.description]",displayName:"Content",name:"content",type:1,value:"[ad.description]"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"mapping",name:"mapping",type:1,value:""}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"labels",name:"labels",type:4,value:null}],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",name:"direction",type:1,value:""}]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"200e4ab8-922c-4a9c-a760-77bce3facf92",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hedge-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"This is a hedge compatibility test. Modified.",displayName:"Content",name:"content",type:1,value:"This is a hedge compatibility test. Modified."},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hedge-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hedge Test",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"286f9a5e-196d-4812-bd8a-235a164a1a97",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"2d94ada8-53f4-4e45-b7e5-8c07c796856d",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"testDatasourceSelectv1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'{"options": [\n{"label": "one", "value":"1"},\n{"label": "two", "value":"2"},\n{"label": "three", "value":"3"}\n]}',displayName:"data",name:"data",type:1,value:'{"options": [\n{"label": "one", "value":"1"},\n{"label": "two", "value":"2"},\n{"label": "three", "value":"3"}\n]}'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectOptions",displayName:"id",name:"id",type:1,value:"selectOptions"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.label]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.label]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"",displayName:"multiple",name:"multiple",type:1,value:""},{attributes:[],computedValue:"",displayName:"limit",name:"limit",type:1,value:""}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Options",locked:!1,name:"selectOptions",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$.options.*",displayName:"query",name:"query",type:1,value:"$.options.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-datasource-select-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Datasource Select v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"37ebba18-506d-41c4-bff7-b6ef0affa67d",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'\n  {"query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}\n}',displayName:"content",name:"content",type:1,value:'\n  {"query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}\n}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World!",displayName:"Content",name:"content",type:1,value:"Hello World!"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"41cc92a0-bd34-4c06-a386-bd61b89bced8",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}}',displayName:"content",name:"content",type:1,value:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"https://rollthecloudinc.github.io/plugin-amcharts5-build/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"479f66de-7468-47fa-a649-9fd476b754ab",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_amcharts5_plugin_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"amcharts5_json_chart",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[]}],settings:[],stylePlugin:""}],path:"/test-amcharts5-plugin-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test AmCharts5 Plugin v1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"5494f47d-473c-49b4-bbef-f563be722131",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[{attributes:[],computedValue:"column",displayName:"Direction",name:"direction",type:1,value:"column"}]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"name",name:"name",type:1,value:"data"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"},{attributes:[],computedValue:"undefined",displayName:"type",name:"type",type:0,value:"undefined"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"refs",name:"refs",type:4,value:null},{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"json",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]},{contentPlugin:"datasource",contexts:[],label:"data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]',displayName:"data",name:"data",type:1,value:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"1",displayName:"Flex Grow",name:"flexGrow",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Shrink",name:"flexShrink",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Basis",name:"flexBasis",type:1,value:"1"},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"row",displayName:"Direction",name:"direction",type:1,value:"row"}]},{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"rest",data:null,datasource:null,name:"character",plugin:"rest",rest:{params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"1017100",type:"route",value:"arg1"}}],url:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"63a4219d-254e-11ec-ab14-c613312e594f",layoutSetting:{settings:[]},layoutType:"split",name:"dev_test_virtual_list_flex_v1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"panel",label:"filter Form",linkedPageId:"",locked:!1,name:"filter_form",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"filter_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"filter_form"},{attributes:[],computedValue:"filter form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"filter form"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"datasource",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters?orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters?orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"20",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"20"},{attributes:[],computedValue:"20",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"20"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"0"},{attributes:[],computedValue:"0",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"0"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"form"},{attributes:[],computedValue:"filter_form.nameStartsWith",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"filter_form.nameStartsWith"},{attributes:[],computedValue:"john",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"x",displayName:"content",floatValue:0,intValue:0,name:"content",type:1,value:"x"},{attributes:[],computedValue:"application/json",displayName:"contentType",floatValue:0,intValue:0,name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",floatValue:0,intValue:0,name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",floatValue:0,intValue:0,name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"character_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"character_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"select_characters",linkedPageId:"",locked:!1,name:"select_characters",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"snippet",label:"character_tpl",linkedPageId:"",locked:!1,name:"character_tpl",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"panel",label:"276c66e1-286f-4a8f-9953-938f42f3fb36",linkedPageId:"",locked:!1,name:"276c66e1-286f-4a8f-9953-938f42f3fb36",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"# [character.data.results.0.name]\n[character.data.results.0.id]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"# [character.data.results.0.name]\n[character.data.results.0.id]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[character.data.results.0.description]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[character.data.results.0.description]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:""}]},label:"right_panel",name:"right_panel",panes:[{contentPlugin:"panel",label:"c40a5eba-1081-45f7-b02e-7102980d7a2e",linkedPageId:"",locked:!1,name:"c40a5eba-1081-45f7-b02e-7102980d7a2e",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Comics",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Comics"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"comic_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"comic_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_comics",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_comics"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.comics.items[0,1,2,3,4]",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.comics.items[0,1,2,3,4]"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_comics"},{attributes:[],computedValue:"select_comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_comics"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"comic_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comic_tpl"},{attributes:[],computedValue:"comic_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comic_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comics"},{attributes:[],computedValue:"comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comics"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1e704bb6-d886-4196-931b-70327374ef8d",linkedPageId:"",locked:!1,name:"1e704bb6-d886-4196-931b-70327374ef8d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Series",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Series"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab_title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab_title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"series_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"series_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_series",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_series"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.series.items.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.series.items.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_series",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_series"},{attributes:[],computedValue:"select_series",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_series"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"series_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"series_tpl"},{attributes:[],computedValue:"series_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"series_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1a3ad36e-b741-46d8-9d4b-500276778060",linkedPageId:"",locked:!1,name:"1a3ad36e-b741-46d8-9d4b-500276778060",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"58458438-44ef-4e53-a08f-e91bc0cede2d",linkedPageId:"",locked:!1,name:"58458438-44ef-4e53-a08f-e91bc0cede2d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/marvel/characters/:characterId"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:2,value:""},{attributes:[],computedValue:"",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:2,value:""},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[{attributes:[],computedValue:"0",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"labels",floatValue:0,intValue:0,name:"labels",type:4,value:""}],stylePlugin:"tabs"}],path:"/dev-test-virtual-list-flex-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}]}],site:"ipe",title:"Dev Test Virtual List Flex v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"6b4bc3f2-5138-491b-a718-e342f6828a62",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-simple-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Text",locked:!1,name:"text",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"required",displayName:"name",name:"name",type:1,value:"required"},{attributes:[],computedValue:"required",displayName:"validator",name:"validator",type:1,value:"required"},{attributes:[],computedValue:"field is required.",displayName:"overrideErrorMessage",name:"overrideErrorMessage",type:1,value:"field is required."}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}]},{contentPlugin:"form_textarea",contexts:[],label:"Textarea",locked:!1,name:"textarea",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_datepicker",contexts:[],label:"datepick",locked:!1,name:"datepick",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_checkbox",contexts:[],label:"checkbox",locked:!1,name:"checkbox",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_slider",contexts:[],label:"slider",locked:!1,name:"slider",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Nums",locked:!1,name:"nums",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"label": "One", "value": "1"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"label": "One", "value": "1"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"nums",displayName:"id",name:"id",type:1,value:"nums"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.label]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.label]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"",displayName:"multiple",name:"multiple",type:1,value:""},{attributes:[],computedValue:"",displayName:"limit",name:"limit",type:1,value:""}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}]},{contentPlugin:"form_toggle",contexts:[],label:"toggle",locked:!1,name:"toggle",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_hidden",contexts:[],label:"Id",locked:!1,name:"id",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"terms",locked:!1,name:"terms",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"required",displayName:"name",name:"name",type:1,value:"required"},{attributes:[],computedValue:"required",displayName:"validator",name:"validator",type:1,value:"required"},{attributes:[],computedValue:"This field is required.",displayName:"overrideErrorMessage",name:"overrideErrorMessage",type:1,value:"This field is required."}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"term",displayName:"name",name:"name",type:1,value:"term"},{attributes:[],computedValue:"Term",displayName:"label",name:"label",type:1,value:"Term"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-simple-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestSimpleForm",displayName:"entityName",name:"entityName",type:1,value:"TestSimpleForm"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Simple Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"7254396c-2464-41d3-a2df-8f6294a486ac",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"888b9746-9cc1-43dc-8edb-1868e64b36a5",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World! Modify",displayName:"Content",name:"content",type:1,value:"Hello World! Modify"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"8ebbcdb3-300f-4739-8cb3-6c5d4c402638",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"96050a0f-cc1a-4a31-bc47-8c9fe065745a",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"hello2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello",displayName:"Content",name:"content",type:1,value:"Hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hello-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"a2399ab6-d16b-480d-b015-88eed8dc8f64",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"a5291ca2-8fec-4011-9fc5-7574cbf944cc",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123",displayName:"Content",name:"content",type:1,value:"Hellow World 123"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"ad3dd72c-f153-4689-8da8-f94e01230457",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hello2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello",displayName:"Content",name:"content",type:1,value:"Hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hello-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bad7cc2e-75fe-4137-9c36-d7777273ff80",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"upload-file-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_media",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/upload-file-form",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Upload File Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{value:[{},{},{}]},name:"terms",plugin:"state"},{adaptor:"datasource",datasource:{params:[],plugin:"data",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}]},name:"characters",plugin:"datasource"},{adaptor:"datasource",datasource:{params:[],plugin:"crud_adaptor",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",intValue:0,name:"params",type:4,value:""}]},name:"ad",plugin:"datasource"}],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bb66aa62-8635-4015-86c9-ba4f208b0856",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"native_forms_rebuild_v1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"characters_context_ref",locked:!1,name:"characters_context_ref",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"context",displayName:"plugin",name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",contexts:[],label:"creators",locked:!1,name:"creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith",displayName:"url",name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"inputparam",displayName:"type",name:"type",type:1,value:"inputparam"},{attributes:[],computedValue:"term",displayName:"value",name:"value",type:1,value:"term"},{attributes:[],computedValue:"john",displayName:"testValue",name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"content",name:"content",type:1,value:""},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_creators",displayName:"id",name:"id",type:1,value:"select_creators"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",contexts:[],label:"select_creators",locked:!1,name:"select_creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"form_input",contexts:[],label:"text",locked:!1,name:"text",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.text]",displayName:"value",name:"value",type:1,value:"[ad.results.0.text]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.select]",displayName:"value",name:"value",type:1,value:"[ad.results.0.select]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_textarea",contexts:[],label:"textarea",locked:!1,name:"textarea",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.textarea]",displayName:"value",name:"value",type:1,value:"[ad.results.0.textarea]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_radiogroup",contexts:[],label:"radiogroup",locked:!1,name:"radiogroup",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.radiogroup]",displayName:"value",name:"value",type:1,value:"[ad.results.0.radiogroup]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_slider",contexts:[],label:"slider",locked:!1,name:"slider",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.slider]",displayName:"value",name:"value",type:1,value:"[ad.results.0.slider]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_toggle",contexts:[],label:"toggle",locked:!1,name:"toggle",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.toggle]",displayName:"value",name:"value",type:1,value:"[ad.results.0.toggle]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_checkbox",contexts:[],label:"checkbox",locked:!1,name:"checkbox",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.checkbox]",displayName:"value",name:"value",type:1,value:"[ad.results.0.checkbox]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_datepicker",contexts:[],label:"datepicker",locked:!1,name:"datepicker",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.datepicker]",displayName:"value",name:"value",type:1,value:"[ad.results.0.datepicker]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_autocomplete",contexts:[],label:"autocomplete",locked:!1,name:"autocomplete",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.autocomplete]",displayName:"value",name:"value",type:1,value:"[ad.results.0.autocomplete]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"creators",displayName:"id",name:"id",type:1,value:"creators"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.fullName]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.fullName]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"panel",contexts:[],label:"nested",locked:!1,name:"nested",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.nested.nestedValue]",displayName:"value",name:"value",type:1,value:"[ad.results.0.nested.nestedValue]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"nestedValue",displayName:"name",name:"name",type:1,value:"nestedValue"},{attributes:[],computedValue:"nestedValue",displayName:"label",name:"label",type:1,value:"nestedValue"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"nested_form",displayName:"name",name:"name",type:1,value:"nested_form"},{attributes:[],computedValue:"nested_form",displayName:"title",name:"title",type:1,value:"nested_form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.ad.results[0].terms"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.humanName]",displayName:"value",name:"value",type:1,value:"[ad.results.0.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms[$i].terms",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.ad.results[0].terms[$i].terms"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.terms.$i.humanName]",displayName:"value",name:"value",type:1,value:"[ad.results.0.terms.$i.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form2",displayName:"name",name:"name",type:1,value:"terms_form2"},{attributes:[],computedValue:"terms_form2",displayName:"title",name:"title",type:1,value:"terms_form2"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form",displayName:"name",name:"name",type:1,value:"terms_form"},{attributes:[],computedValue:"terms_form",displayName:"title",name:"title",type:1,value:"terms_form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}]},{contentPlugin:"form_hidden",contexts:[],label:"id",locked:!1,name:"id",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.id]",displayName:"value",name:"value",type:1,value:"[ad.results.0.id]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]}],settings:[],stylePlugin:""}],path:"/native_forms_rebuild_v1",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"rest",displayName:"adaptorName",name:"adaptorName",type:1,value:"rest"},{attributes:[],computedValue:"entityName=:entityName",displayName:"optionsString",name:"optionsString",type:1,value:"entityName=:entityName"},{attributes:[],computedValue:"",displayName:"paramsString",name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"value",name:"value",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"testValue",name:"testValue",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],displayName:"mapping",name:"mapping",type:2},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"0",name:"0",type:2},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"1",name:"1",type:2},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"2",name:"2",type:2},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"3",name:"3",type:2}],displayName:"flags",name:"flags",type:4}],displayName:"0",name:"0",type:2}],displayName:"options",name:"options",type:4},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"native_forms_rebuild_v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd29f806-3b4b-4b79-9dac-7a5ae221f432",layoutSetting:{settings:[]},layoutType:"split",name:"hello_world",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Hello World"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/hello-world",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello World",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd4c1820-952c-47c8-9478-5a49d45a7bc0",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c38d4c9a-c2c7-4d9a-9d89-6a5c5425a372",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123 345",displayName:"Content",name:"content",type:1,value:"Hellow World 123 345"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"c8feab31-84b9-49a1-95a3-989ad3211eac",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"datasource-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"Body",locked:!1,name:"body",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"[.body]",displayName:"Content",name:"content",type:1,value:"[.body]"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]},{contentPlugin:"datasource",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"body": "data here"},\n{"body": "data here"},\n{"body": "data here"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"body": "data here"},\n{"body": "data here"},\n{"body": "data here"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"body",displayName:"id",name:"id",type:1,value:"body"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/datasource-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Datasource Test",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c91aa514-0ad8-4797-a516-cce997c877d9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}',displayName:"JSON",name:"json",type:1,value:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[],id:"cdcb0c14-3dd8-492c-9013-74aa861087f9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justsave",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"hello",displayName:"Content",name:"content",type:1,value:"hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justsave",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justsave",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d4a8f35d-bcf4-412a-a67c-7f6d3fcff2b2",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"post-ad-v1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Title",locked:!1,name:"title",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"Title",displayName:"value",name:"value",type:1,value:"Title"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/post",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"rest",displayName:"adaptorName",name:"adaptorName",type:1,value:"rest"},{attributes:[],computedValue:"entityName=:entityName",displayName:"optionsString",name:"optionsString",type:1,value:"entityName=:entityName"},{attributes:[],computedValue:"",displayName:"paramsString",name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"value",name:"value",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"testValue",name:"testValue",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],displayName:"mapping",name:"mapping",type:2},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"0",name:"0",type:2},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"1",name:"1",type:2},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"2",name:"2",type:2},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"3",name:"3",type:2}],displayName:"flags",name:"flags",type:4}],displayName:"0",name:"0",type:2}],displayName:"options",name:"options",type:4},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Post Ad v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[],id:"d52e24fa-470f-4d7c-815e-41f33f89b2bc",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justsave",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"hello",displayName:"Content",name:"content",type:1,value:"hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justsave",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justsave",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"d5f9de5b-e56f-4cfb-a2ca-677637e1e3d7",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d75c2267-0eb1-4238-ad0e-7d4b0d1d4801",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"e39fa739-b354-45cb-8a35-5c9e54d28d6f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"e9f7488d-bd52-4f42-b850-4afc6a217c20",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"eaa608c2-17fd-48ad-924e-8a29fc8c72cb",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"upload-file-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_media",contexts:[],label:"File",locked:!1,name:"file",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.images.*",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.images.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"file",displayName:"name",name:"name",type:1,value:"file"},{attributes:[],computedValue:"File",displayName:"label",name:"label",type:1,value:"File"},{attributes:[],computedValue:"form_media",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_media"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:1,value:""}],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"photos",displayName:"name",name:"name",type:1,value:"photos"},{attributes:[],computedValue:"Photos",displayName:"title",name:"title",type:1,value:"Photos"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"photos",displayName:"name",name:"name",type:1,value:"photos"},{attributes:[],computedValue:"Photos",displayName:"label",name:"label",type:1,value:"Photos"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"images",displayName:"name",name:"name",type:1,value:"images"},{attributes:[],computedValue:"Images",displayName:"label",name:"label",type:1,value:"Images"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:1,value:""}],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/upload-file-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestMedia",displayName:"entityName",name:"entityName",type:1,value:"TestMedia"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Upload File Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"ecacb624-716e-47fd-b62d-4ad4f4b9cf1f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World!",displayName:"Content",name:"content",type:1,value:"Hello World!"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"f3ecdb90-080e-4791-afaf-073d43bc8228",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123",displayName:"Content",name:"content",type:1,value:"Hellow World 123"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"fc69e899-1c7d-47cc-bc63-260037d76381",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-simple-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Text",locked:!1,name:"text",settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-simple-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestSimpleForm",displayName:"entityName",name:"entityName",type:1,value:"TestSimpleForm"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Simple Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"}],OZ=[{path:"auth-callback",component:iM}].concat((0,A.A)(T2.map(function(a){var r=(0,F.A)(a,2),n=r[0],e=r[1];return{matcher:k_(new Vr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:uh,data:{panelPageListItem:new Vr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),(0,A.A)(T2.map(function(a){var r=(0,F.A)(a,2),n=r[0],e=r[1];return{matcher:F_(new Vr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:sh,data:{panelPageListItem:new Vr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),[{path:"**",component:Cj,canActivate:[aD]}]),BZ={root:oo.c.apiGatewaySettings.endpointUrl,timeout:2e4};function LZ(){var a=new Hu;return a.link=function(r){var n=r.href,t=r.text;return"page"===t?'<classifieds-ui-panel-page id="'.concat(n,'"></classifieds-ui-panel-page>'):'<classifieds-ui-page-router-link href="'.concat(n,'" text="').concat(t,'"></classifieds-ui-page-router-link>')},{renderer:a}}var UZ=function(){var a,r=(0,g.A)(function n(){(0,v.A)(this,n)});return(a=r).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.$C({type:a,bootstrap:[wQ]}),a.\u0275inj=f.G2t({providers:[(0,M.provideClientHydration)(),aD,{provide:o.sZ2,useValue:"serverApp"},{provide:ln.SITE_NAME,useValue:oo.c.site},{provide:Ng,useValue:new Mg(oo.c.clientSettings)},{provide:Am,useValue:new U7(oo.c.mediaSettings)},{provide:JD,useValue:new rz(oo.c.panelsSettings)},{provide:gZ,useValue:new yZ(oo.c.alienaliasSettings)},{provide:Hw,useValue:new tQ({disableRouting:!1})},{provide:sp,useValue:new yM(oo.c.cognitoSettings)},{provide:VZ,useValue:new IZ(oo.c.rumSettings)},{provide:V.a7,useClass:mM,multi:!0},{provide:V.a7,useClass:oM,multi:!0},{provide:xl,useValue:BZ},(0,o.phd)(function(){return function(r){var n=r.data,e=r.key;return function(t){return function(){return new L.c(function(s){(0,I.UE)(t)?function AQ(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:io())("readwrite",function(n){return a.forEach(function(e){return n.put(e[1],e[0])}),ci(n.transaction)})}(n.map(function(l){return[e({data:l}),l]})).then(function(){console.log("data loaded into idb"),s.next(),s.complete()}).catch(function(){console.log("data load into idb failure"),s.next(),s.complete()}):(s.next(),s.complete())})}}}({key:function(t){return"panelpage__"+t.data.id},data:NZ.map(function(e){return new Vr(e)})})((0,f.WQX)(o.Agw))()}),(0,V.$R)((0,V.Sx)(),(0,V.YH)())],imports:[k.MD,h.YN,h.X1,T.BrowserAnimationsModule,jc,Cf,wy.forRoot({sanitize:o.WPN.NONE,markedOptions:{provide:xE,useFactory:LZ}}),Bm.forRoot(OZ,{initialNavigation:"enabledBlocking"}),oo.c.production?[]:nJ.instrument({maxAge:25,logOnly:oo.c.production,connectInZone:!0}),E9.forRoot({serializer:Ty}),Gh.forRoot(rJ,{metaReducers:aJ,runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),cd.forRoot([]),KE,yQ,ln.UtilsModule,Md,Yt.ContentModule,Cc,hd.forRoot(),pM.forRoot(),tE,eM.forRoot({}),xj,s_,E_,fQ,cJ,vM,DQ,mJ,_J,hZ,FZ,MZ,Tj,_q,Qm,oQ,D2,Vs,Uj]}),r}();console.log("bootstrap"),oo.c.production&&(0,G.SmG)(),M.platformBrowser().bootstrapModule(UZ).catch(function(a){return console.log(a)})},6886:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.RawSha256=void 0;var M=b(6770),G=function(){function g(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return g.prototype.update=function(v){if(this.finished)throw new Error("Attempted to update an already finished hash.");var F=0,A=v.byteLength;if(this.bytesHashed+=A,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;A>0;)this.buffer[this.bufferLength++]=v[F++],A--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},g.prototype.digest=function(){if(!this.finished){var v=8*this.bytesHashed,F=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),A=this.bufferLength;if(F.setUint8(this.bufferLength++,128),A%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var o=this.bufferLength;o<M.BLOCK_SIZE;o++)F.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<M.BLOCK_SIZE-8;o++)F.setUint8(o,0);F.setUint32(M.BLOCK_SIZE-8,Math.floor(v/4294967296),!0),F.setUint32(M.BLOCK_SIZE-4,v),this.hashBuffer(),this.finished=!0}var f=new Uint8Array(M.DIGEST_LENGTH);for(o=0;o<8;o++)f[4*o]=this.state[o]>>>24&255,f[4*o+1]=this.state[o]>>>16&255,f[4*o+2]=this.state[o]>>>8&255,f[4*o+3]=this.state[o]>>>0&255;return f},g.prototype.hashBuffer=function(){for(var F=this.buffer,A=this.state,o=A[0],f=A[1],k=A[2],V=A[3],T=A[4],h=A[5],_=A[6],O=A[7],w=0;w<M.BLOCK_SIZE;w++){if(w<16)this.temp[w]=(255&F[4*w])<<24|(255&F[4*w+1])<<16|(255&F[4*w+2])<<8|255&F[4*w+3];else{var P=this.temp[w-2];this.temp[w]=(((P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10)+this.temp[w-7]|0)+((((P=this.temp[w-15])>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)+this.temp[w-16]|0)}var R=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&h^~T&_)|0)+(O+(M.KEY[w]+this.temp[w]|0)|0)|0,L=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&f^o&k^f&k)|0;O=_,_=h,h=T,T=V+R|0,V=k,k=f,f=o,o=R+L|0}A[0]+=o,A[1]+=f,A[2]+=k,A[3]+=V,A[4]+=T,A[5]+=h,A[6]+=_,A[7]+=O},g}();se.RawSha256=G},6770:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.MAX_HASHABLE_LENGTH=se.INIT=se.KEY=se.DIGEST_LENGTH=se.BLOCK_SIZE=void 0,se.BLOCK_SIZE=64,se.DIGEST_LENGTH=32,se.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),se.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],se.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},3967:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),(0,b(4398).__exportStar)(b(9392),se)},9392:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.Sha256=void 0;var M=b(4398),G=b(6770),g=b(6886),v=b(5312),F=function(){function o(f){if(this.hash=new g.RawSha256,f){this.outer=new g.RawSha256;var k=function A(o){var f=(0,v.convertToBuffer)(o);if(f.byteLength>G.BLOCK_SIZE){var k=new g.RawSha256;k.update(f),f=k.digest()}var V=new Uint8Array(G.BLOCK_SIZE);return V.set(f),V}(f),V=new Uint8Array(G.BLOCK_SIZE);V.set(k);for(var T=0;T<G.BLOCK_SIZE;T++)k[T]^=54,V[T]^=92;for(this.hash.update(k),this.outer.update(V),T=0;T<k.byteLength;T++)k[T]=0}}return o.prototype.update=function(f){if(!(0,v.isEmptyData)(f)&&!this.error)try{this.hash.update((0,v.convertToBuffer)(f))}catch(k){this.error=k}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return(0,M.__awaiter)(this,void 0,void 0,function(){return(0,M.__generator)(this,function(f){return[2,this.digestSync()]})})},o}();se.Sha256=F},2164:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.convertToBuffer=void 0;var M=b(4965),G=typeof Buffer<"u"&&Buffer.from?function(v){return Buffer.from(v,"utf8")}:M.fromUtf8;se.convertToBuffer=function g(v){return v instanceof Uint8Array?v:"string"==typeof v?G(v):ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(v)}},5312:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.uint32ArrayFrom=se.numToUint8=se.isEmptyData=se.convertToBuffer=void 0;var M=b(2164);Object.defineProperty(se,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var G=b(1657);Object.defineProperty(se,"isEmptyData",{enumerable:!0,get:function(){return G.isEmptyData}});var g=b(6057);Object.defineProperty(se,"numToUint8",{enumerable:!0,get:function(){return g.numToUint8}});var v=b(5066);Object.defineProperty(se,"uint32ArrayFrom",{enumerable:!0,get:function(){return v.uint32ArrayFrom}})},1657:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.isEmptyData=void 0,se.isEmptyData=function b(M){return"string"==typeof M?0===M.length:0===M.byteLength}},6057:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.numToUint8=void 0,se.numToUint8=function b(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},5066:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.uint32ArrayFrom=void 0,se.uint32ArrayFrom=function b(M){if(!Array.from){for(var G=new Uint32Array(M.length);0<M.length;)G[0]=M[0];return G}return Uint32Array.from(M)}},9554:(Re,se,b)=>{b.d(se,{D:()=>B});var M=b(11),G=b(1890),g=b(3288),v=b(3398),F=b(2297),A=b(792),o=b(3544),f=b(642),k=b(6539),V=b(5337),T=b(4931),h=b(8027),_=b(5997),O=b(4308),w=b(7111),P=b(8944),j=b(7957),I=b(3909),R=b(2855),L=b(1795),ee=b(6811),W=b(6977),X=b(7763),U=b(3928),ne=b(6887),ce=function(){var z=(0,G.A)((0,M.A)().m(function Z(de,Se,Ce){var Fe,Pe;return(0,M.A)().w(function(Ne){for(;;)switch(Ne.n){case 0:return Fe=(0,U.u)(Se).operation,Ne.n=1,(0,ne.t)(de.region)();case 1:if(Pe=Ne.v){Ne.n=2;break}Pe=function(){throw new Error("expected `region` to be configured for `aws.auth#sigv4`")}();case 2:return Ne.a(2,{operation:Fe,region:Pe})}},Z)}));return function(de,Se,Ce){return z.apply(this,arguments)}}(),ie=function(Z){var de=[];switch(Z.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":de.push({schemeId:"smithy.api#noAuth"});break;default:de.push(function te(z){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:z.region},propertiesExtractor:function(de,Se){return{signingProperties:{config:de,context:Se}}}}}(Z))}return de},_e=b(975),he=b(2292);var $e=b(5312),Ee={name:"SHA-256"},Be={name:"HMAC",hash:Ee},Qe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Ze=b(3342),st=function(){function z(Z){this.toHash=new Uint8Array(0),this.secret=Z,this.reset()}return z.prototype.update=function(Z){if(!(0,$e.isEmptyData)(Z)){var de=(0,$e.convertToBuffer)(Z),Se=new Uint8Array(this.toHash.byteLength+de.byteLength);Se.set(this.toHash,0),Se.set(de,this.toHash.byteLength),this.toHash=Se}},z.prototype.digest=function(){var Z=this;return this.key?this.key.then(function(de){return(0,Ze.R)().crypto.subtle.sign(Be,de,Z.toHash).then(function(Se){return new Uint8Array(Se)})}):(0,$e.isEmptyData)(this.toHash)?Promise.resolve(Qe):Promise.resolve().then(function(){return(0,Ze.R)().crypto.subtle.digest(Ee,Z.toHash)}).then(function(de){return Promise.resolve(new Uint8Array(de))})},z.prototype.reset=function(){var Z=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(de,Se){(0,Ze.R)().crypto.subtle.importKey("raw",(0,$e.convertToBuffer)(Z.secret),Be,!1,["sign"]).then(de,Se)}),this.key.catch(function(){}))},z}(),gt=b(4398),ht=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],H=Math.pow(2,53)-1,K=function(){function z(){this.state=Int32Array.from(fe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return z.prototype.update=function(Z){if(this.finished)throw new Error("Attempted to update an already finished hash.");var de=0,Se=Z.byteLength;if(this.bytesHashed+=Se,8*this.bytesHashed>H)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;Se>0;)this.buffer[this.bufferLength++]=Z[de++],Se--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},z.prototype.digest=function(){if(!this.finished){var Z=8*this.bytesHashed,de=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),Se=this.bufferLength;if(de.setUint8(this.bufferLength++,128),Se%64>=56){for(var Ce=this.bufferLength;Ce<64;Ce++)de.setUint8(Ce,0);this.hashBuffer(),this.bufferLength=0}for(Ce=this.bufferLength;Ce<56;Ce++)de.setUint8(Ce,0);de.setUint32(56,Math.floor(Z/4294967296),!0),de.setUint32(60,Z),this.hashBuffer(),this.finished=!0}var Fe=new Uint8Array(32);for(Ce=0;Ce<8;Ce++)Fe[4*Ce]=this.state[Ce]>>>24&255,Fe[4*Ce+1]=this.state[Ce]>>>16&255,Fe[4*Ce+2]=this.state[Ce]>>>8&255,Fe[4*Ce+3]=this.state[Ce]>>>0&255;return Fe},z.prototype.hashBuffer=function(){for(var de=this.buffer,Se=this.state,Ce=Se[0],Fe=Se[1],Pe=Se[2],Ie=Se[3],Ne=Se[4],Xe=Se[5],Je=Se[6],nt=Se[7],d=0;d<64;d++){if(d<16)this.temp[d]=(255&de[4*d])<<24|(255&de[4*d+1])<<16|(255&de[4*d+2])<<8|255&de[4*d+3];else{var ye=this.temp[d-2];this.temp[d]=(((ye>>>17|ye<<15)^(ye>>>19|ye<<13)^ye>>>10)+this.temp[d-7]|0)+((((ye=this.temp[d-15])>>>7|ye<<25)^(ye>>>18|ye<<14)^ye>>>3)+this.temp[d-16]|0)}var Ue=(((Ne>>>6|Ne<<26)^(Ne>>>11|Ne<<21)^(Ne>>>25|Ne<<7))+(Ne&Xe^~Ne&Je)|0)+(nt+(ht[d]+this.temp[d]|0)|0)|0,et=((Ce>>>2|Ce<<30)^(Ce>>>13|Ce<<19)^(Ce>>>22|Ce<<10))+(Ce&Fe^Ce&Pe^Fe&Pe)|0;nt=Je,Je=Xe,Xe=Ne,Ne=Ie+Ue|0,Ie=Pe,Pe=Fe,Fe=Ce,Ce=Ue+et|0}Se[0]+=Ce,Se[1]+=Fe,Se[2]+=Pe,Se[3]+=Ie,Se[4]+=Ne,Se[5]+=Xe,Se[6]+=Je,Se[7]+=nt},z}(),xe=function(){function z(Z){this.secret=Z,this.hash=new K,this.reset()}return z.prototype.update=function(Z){if(!(0,$e.isEmptyData)(Z)&&!this.error)try{this.hash.update((0,$e.convertToBuffer)(Z))}catch(de){this.error=de}},z.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},z.prototype.digest=function(){return(0,gt.__awaiter)(this,void 0,void 0,function(){return(0,gt.__generator)(this,function(Z){return[2,this.digestSync()]})})},z.prototype.reset=function(){if(this.hash=new K,this.secret){this.outer=new K;var Z=function Te(z){var Z=(0,$e.convertToBuffer)(z);if(Z.byteLength>64){var de=new K;de.update(Z),Z=de.digest()}var Se=new Uint8Array(64);return Se.set(Z),Se}(this.secret),de=new Uint8Array(64);de.set(Z);for(var Se=0;Se<64;Se++)Z[Se]^=54,de[Se]^=92;for(this.hash.update(Z),this.outer.update(de),Se=0;Se<Z.byteLength;Se++)Z[Se]=0}},z}(),ae=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var Q=function(){function z(Z){this.hash=function re(z){return!(!function Me(z){return"object"==typeof z&&"object"==typeof z.crypto&&"function"==typeof z.crypto.getRandomValues}(z)||"object"!=typeof z.crypto.subtle)&&function oe(z){return z&&ae.every(function(Z){return"function"==typeof z[Z]})}(z.crypto.subtle)}((0,Ze.R)())?new st(Z):new xe(Z)}return z.prototype.update=function(Z,de){this.hash.update((0,$e.convertToBuffer)(Z))},z.prototype.digest=function(){return this.hash.digest()},z.prototype.reset=function(){this.hash.reset()},z}(),be=b(1587),je=b(3668),tt=b(2502),it=b(7011),_t=b(6992),Bt=b(2499),Vt=b(9153),cn=b(7439),fn=b(7404),we=function(){return(0,v.A)(function z(){(0,g.A)(this,z)},[{key:"sign",value:(Z=(0,G.A)((0,M.A)().m(function Se(Ce,Fe,Pe){return(0,M.A)().w(function(Ie){for(;;)if(0===Ie.n)return Ie.a(2,Ce)},Se)})),function de(Se,Ce,Fe){return Z.apply(this,arguments)})}]);var Z}(),Rn=b(8310),Dn=b(993),ft=b(8833),Nt=b(7436),Ct=b(7521),kt=b(6044),Dt=b(2553),mt=b(4585),Ge=b(7227),ze=b(9059),Et="required",Tt="fn",Ft="argv",wt="ref",jt="booleanEquals",Un="error",tn="endpoint",pn="tree",kn="PartitionResult",yr="getAttr",Zn="stringEquals",Tn=(0,f.A)((0,f.A)({},Et,!1),"type","string"),kr=(0,f.A)((0,f.A)((0,f.A)({},Et,!0),"default",!1),"type","boolean"),Nr=(0,f.A)({},wt,"Endpoint"),Gn=(0,f.A)((0,f.A)({},Tt,jt),Ft,[(0,f.A)({},wt,"UseFIPS"),!0]),jn=(0,f.A)((0,f.A)({},Tt,jt),Ft,[(0,f.A)({},wt,"UseDualStack"),!0]),dn={},Gr=(0,f.A)({},wt,"Region"),Fa=(0,f.A)((0,f.A)({},Tt,yr),Ft,[(0,f.A)({},wt,kn),"supportsFIPS"]),xn=(0,f.A)({},wt,kn),rr=(0,f.A)((0,f.A)({},Tt,jt),Ft,[!0,(0,f.A)((0,f.A)({},Tt,yr),Ft,[xn,"supportsDualStack"])]),Ga=[Gn],pi=[jn],Di=[Gr],Ki={version:"1.0",parameters:{Region:Tn,UseDualStack:kr,UseFIPS:kr,Endpoint:Tn},rules:[{conditions:[(0,f.A)((0,f.A)({},Tt,"isSet"),Ft,[Nr])],rules:[{conditions:Ga,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Un},{conditions:pi,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Un},{endpoint:{url:Nr,properties:dn,headers:dn},type:tn}],type:pn},{conditions:[(0,f.A)((0,f.A)({},Tt,"isSet"),Ft,Di)],rules:[{conditions:[(0,f.A)((0,f.A)((0,f.A)({},Tt,"aws.partition"),Ft,Di),"assign",kn)],rules:[{conditions:[Gn,jn],rules:[{conditions:[(0,f.A)((0,f.A)({},Tt,jt),Ft,[!0,Fa]),rr],rules:[{conditions:[(0,f.A)((0,f.A)({},Tt,Zn),Ft,[Gr,"us-east-1"])],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:dn,headers:dn},type:tn},{conditions:[(0,f.A)((0,f.A)({},Tt,Zn),Ft,[Gr,"us-east-2"])],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:dn,headers:dn},type:tn},{conditions:[(0,f.A)((0,f.A)({},Tt,Zn),Ft,[Gr,"us-west-1"])],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:dn,headers:dn},type:tn},{conditions:[(0,f.A)((0,f.A)({},Tt,Zn),Ft,[Gr,"us-west-2"])],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:dn,headers:dn},type:tn},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dn,headers:dn},type:tn}],type:pn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Un}],type:pn},{conditions:Ga,rules:[{conditions:[(0,f.A)((0,f.A)({},Tt,jt),Ft,[Fa,!0])],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dn,headers:dn},type:tn}],type:pn},{error:"FIPS is enabled but this partition does not support FIPS",type:Un}],type:pn},{conditions:pi,rules:[{conditions:[rr],rules:[{conditions:[(0,f.A)((0,f.A)({},Tt,Zn),Ft,["aws",(0,f.A)((0,f.A)({},Tt,yr),Ft,[xn,"name"])])],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:dn,headers:dn},type:tn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dn,headers:dn},type:tn}],type:pn},{error:"DualStack is enabled but this partition does not support DualStack",type:Un}],type:pn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:dn,headers:dn},type:tn}],type:pn}],type:pn},{error:"Invalid Configuration: Missing Region",type:Un}]},lo=new mt.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),js=function(Z){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return lo.get(Z,function(){return(0,Ge.s)(Ki,{endpointParams:Z,logger:de.logger})})};ze.m.aws=Dt.UF;var _f=b(8526),$s=b(5208),ol=b(5647),ds=b(4811),sl=b(6747),B=function(z){function Z(){for(var de,Se=arguments.length,Ce=new Array(Se),Fe=0;Fe<Se;Fe++)Ce[Fe]=arguments[Fe];var Pe=Ce[0];(0,g.A)(this,Z);var Ie=function(Z){var de,Se,Ce,Fe,Pe,Ie,Ne,Xe,Je,nt,d,ye=(0,$s.I)(Z),Ve=function(){return ye().then(_f.l)},Le=function(Z){var de,Se,Ce,Fe,Pe,Ie,Ne,Xe,Je,nt,d,ye;return{apiVersion:"2014-06-30",base64Decoder:null!==(de=Z?.base64Decoder)&&void 0!==de?de:ft.E,base64Encoder:null!==(Se=Z?.base64Encoder)&&void 0!==Se?Se:Nt.n,disableHostPrefix:null!==(Ce=Z?.disableHostPrefix)&&void 0!==Ce&&Ce,endpointProvider:null!==(Fe=Z?.endpointProvider)&&void 0!==Fe?Fe:js,extensions:null!==(Pe=Z?.extensions)&&void 0!==Pe?Pe:[],httpAuthSchemeProvider:null!==(Ie=Z?.httpAuthSchemeProvider)&&void 0!==Ie?Ie:ie,httpAuthSchemes:null!==(Ne=Z?.httpAuthSchemes)&&void 0!==Ne?Ne:[{schemeId:"aws.auth#sigv4",identityProvider:function(Le){return Le.getIdentityProvider("aws.auth#sigv4")},signer:new fn.f2},{schemeId:"smithy.api#noAuth",identityProvider:function(Le){return Le.getIdentityProvider("smithy.api#noAuth")||(0,G.A)((0,M.A)().m(function Ue(){return(0,M.A)().w(function(et){for(;;)if(0===et.n)return et.a(2,{})},Ue)}))},signer:new we}],logger:null!==(Xe=Z?.logger)&&void 0!==Xe?Xe:new Rn.N,serviceId:null!==(Je=Z?.serviceId)&&void 0!==Je?Je:"Cognito Identity",urlParser:null!==(nt=Z?.urlParser)&&void 0!==nt?nt:Dn.D,utf8Decoder:null!==(d=Z?.utf8Decoder)&&void 0!==d?d:Ct.a,utf8Encoder:null!==(ye=Z?.utf8Encoder)&&void 0!==ye?ye:kt.P}}(Z);return(0,he.A)((0,he.A)((0,he.A)({},Le),Z),{},{runtime:"browser",defaultsMode:ye,bodyLengthChecker:null!==(de=Z?.bodyLengthChecker)&&void 0!==de?de:Vt.n,credentialDefaultProvider:null!==(Se=Z?.credentialDefaultProvider)&&void 0!==Se?Se:function(Ue){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(Ce=Z?.defaultUserAgentProvider)&&void 0!==Ce?Ce:(0,be.pf)({serviceId:Le.serviceId,clientVersion:"3.919.0"}),maxAttempts:null!==(Fe=Z?.maxAttempts)&&void 0!==Fe?Fe:cn.Gz,region:null!==(Pe=Z?.region)&&void 0!==Pe?Pe:(0,Bt.B)("Region is missing"),requestHandler:it.N.create(null!==(Ie=Z?.requestHandler)&&void 0!==Ie?Ie:Ve),retryMode:null!==(Ne=Z?.retryMode)&&void 0!==Ne?Ne:(0,G.A)((0,M.A)().m(function Ue(){var et;return(0,M.A)().w(function(ut){for(;;)switch(ut.n){case 0:return ut.n=1,Ve();case 1:if(et=ut.v.retryMode){ut.n=2;break}et=cn.L0;case 2:return ut.a(2,et)}},Ue)})),sha256:null!==(Xe=Z?.sha256)&&void 0!==Xe?Xe:Q,streamCollector:null!==(Je=Z?.streamCollector)&&void 0!==Je?Je:_t.k,useDualstackEndpoint:null!==(nt=Z?.useDualstackEndpoint)&&void 0!==nt?nt:function(){return Promise.resolve(je.VW)},useFipsEndpoint:null!==(d=Z?.useFipsEndpoint)&&void 0!==d?d:function(){return Promise.resolve(tt.Hj)}})}(Pe||{});de=(0,F.A)(this,Z,[Ie]),(0,f.A)(de,"config",void 0),de.initConfig=Ie;var Ue,Ne=(0,_e.v)(Ie),Xe=(0,h.D)(Ne),Je=(0,L.$z)(Xe),nt=(0,O.T)(Je),d=(0,k.OV)(nt),Ve=function(Z){var de,Se=(0,X.h)(Z);return Object.assign(Se,{authSchemePreference:(0,ne.t)(null!==(de=Z.authSchemePreference)&&void 0!==de?de:[])})}((0,R.C)(d)),Le=function(Z,de){var Se=Object.assign((0,ol.R)(Z),(0,sl.xA)(Z),(0,ds.e)(Z),function(Z){var de=Z.httpAuthSchemes,Se=Z.httpAuthSchemeProvider,Ce=Z.credentials;return{setHttpAuthScheme:function(Pe){var Ie=de.findIndex(function(Ne){return Ne.schemeId===Pe.schemeId});-1===Ie?de.push(Pe):de.splice(Ie,1,Pe)},httpAuthSchemes:function(){return de},setHttpAuthSchemeProvider:function(Pe){Se=Pe},httpAuthSchemeProvider:function(){return Se},setCredentials:function(Pe){Ce=Pe},credentials:function(){return Ce}}}(Z));return de.forEach(function(Ce){return Ce.configure(Se)}),Object.assign(Z,(0,ol.$)(Se),(0,sl.uv)(Se),(0,ds.j)(Se),function(Z){return{httpAuthSchemes:Z.httpAuthSchemes(),httpAuthSchemeProvider:Z.httpAuthSchemeProvider(),credentials:Z.credentials()}}(Se))}(Ve,Pe?.extensions||[]);return de.config=Le,de.middlewareStack.use((0,_.sM)(de.config)),de.middlewareStack.use((0,ee.ey)(de.config)),de.middlewareStack.use((0,I.vK)(de.config)),de.middlewareStack.use((0,k.TC)(de.config)),de.middlewareStack.use((0,V.Y7)(de.config)),de.middlewareStack.use((0,T.n)(de.config)),de.middlewareStack.use((0,w.w)(de.config,{httpAuthSchemeParametersProvider:ce,identityProviderConfigProvider:(Ue=(0,G.A)((0,M.A)().m(function ut(Gt){return(0,M.A)().w(function(Pt){for(;;)if(0===Pt.n)return Pt.a(2,new P.h({"aws.auth#sigv4":Gt.credentials}))},ut)})),function et(ut){return Ue.apply(this,arguments)})})),de.middlewareStack.use((0,j.l)(de.config)),de}return(0,o.A)(Z,z),(0,v.A)(Z,[{key:"destroy",value:function(){(0,A.A)(Z,"destroy",this,3)([])}}])}(W.K)},975:(Re,se,b)=>{b.d(se,{S:()=>G,v:()=>M});var M=function(v){var F,A;return Object.assign(v,{useDualstackEndpoint:null!==(F=v.useDualstackEndpoint)&&void 0!==F&&F,useFipsEndpoint:null!==(A=v.useFipsEndpoint)&&void 0!==A&&A,defaultSigningName:"cognito-identity"})},G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},7931:(Re,se,b)=>{function M(G,g,v){G.__aws_sdk_context?G.__aws_sdk_context.features||(G.__aws_sdk_context.features={}):G.__aws_sdk_context={features:{}},G.__aws_sdk_context.features[g]=v}b.d(se,{J:()=>M})},7404:(Re,se,b)=>{b.d(se,{f2:()=>O,pz:()=>_});var M=b(8824),G=b(3288),g=b(3398),v=b(11),F=b(1890),A=b(3776),o=b(8178),f=b(1386),k=function(j){var I,R,L;return f.c.isInstance(j)?null!==(I=null===(R=j.headers)||void 0===R?void 0:R.date)&&void 0!==I?I:null===(L=j.headers)||void 0===L?void 0:L.Date:void 0},T=function(j,I){var R=Date.parse(j);return function(j,I){return Math.abs((0,o.C)(I).getTime()-j)>=3e5}(R,I)?R-Date.now():I},h=function(j,I){if(!I)throw new Error("Property `".concat(j,"` is not resolved for AWS SDK SigV4Auth"));return I},_=function(){var P=(0,F.A)((0,v.A)().m(function j(I){var R,L,ee,W,X,U,ne,ce,te;return(0,v.A)().w(function(Y){for(;;)switch(Y.n){case 0:return L=h("context",I.context),ee=h("config",I.config),W=null===(R=L.endpointV2)||void 0===R||null===(R=R.properties)||void 0===R||null===(R=R.authSchemes)||void 0===R?void 0:R[0],X=h("signer",ee.signer),Y.n=1,X(W);case 1:return U=Y.v,ne=I?.signingRegion,ce=I?.signingRegionSet,te=I?.signingName,Y.a(2,{config:ee,signer:U,signingRegion:ne,signingRegionSet:ce,signingName:te})}},j)}));return function(I){return P.apply(this,arguments)}}(),O=function(){return(0,g.A)(function P(){(0,G.A)(this,P)},[{key:"sign",value:(j=(0,F.A)((0,v.A)().m(function R(L,ee,W){var X,U,ne,ce,te,Y,ie,pe,_e,he,ue,$e,Ee;return(0,v.A)().w(function(Qe){for(;;)switch(Qe.n){case 0:if(A.K.isInstance(L)){Qe.n=1;break}throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");case 1:return Qe.n=2,_(W);case 2:return ce=(ne=Qe.v).config,te=ne.signer,Y=ne.signingRegion,ie=ne.signingName,null!==(X=null==(pe=W.context)||null===(U=pe.authSchemes)||void 0===U?void 0:U.length)&&void 0!==X&&X&&(_e=(0,M.A)(pe.authSchemes,2),he=_e[0],ue=_e[1],"sigv4a"===he?.name&&"sigv4"===ue?.name&&(Y=null!==($e=ue?.signingRegion)&&void 0!==$e?$e:Y,ie=null!==(Ee=ue?.signingName)&&void 0!==Ee?Ee:ie)),Qe.n=3,te.sign(L,{signingDate:(0,o.C)(ce.systemClockOffset),signingRegion:Y,signingService:ie});case 3:return Qe.a(2,Qe.v)}},R)})),function I(R,L,ee){return j.apply(this,arguments)})},{key:"errorHandler",value:function(I){return function(R){var L,ee=null!==(L=R.ServerTime)&&void 0!==L?L:k(R.$response);if(ee){var W=h("config",I.config),X=W.systemClockOffset;W.systemClockOffset=T(ee,W.systemClockOffset),W.systemClockOffset!==X&&R.$metadata&&(R.$metadata.clockSkewCorrected=!0)}throw R}}},{key:"successHandler",value:function(I,R){var L=k(I);if(L){var ee=h("config",R.config);ee.systemClockOffset=T(L,ee.systemClockOffset)}}}]);var j}()},7763:(Re,se,b)=>{b.d(se,{h:()=>_});var M=b(2292),G=b(8824),g=b(11),v=b(1890);function F(j,I,R){return j.$source||(j.$source={}),j.$source[I]=R,j}var A=b(3971),k=function(L){return V(L)&&L.expiration.getTime()-Date.now()<3e5},V=function(I){return void 0!==I.expiration},h=b(324),_=function(I){var R=I.credentials,L=!!I.credentials,ee=void 0;Object.defineProperty(I,"credentials",{set:function(pe){pe&&pe!==R&&pe!==ee&&(L=!0);var _e=function w(j,I){var ee,R=I.credentials,L=I.credentialDefaultProvider;return ee=R?null!=R&&R.memoized?R:function(I,R,L){if(void 0!==I){var W,X,U,ee="function"!=typeof I?(0,v.A)((0,g.A)().m(function te(){return(0,g.A)().w(function(Y){for(;;)if(0===Y.n)return Y.a(2,Promise.resolve(I))},te)})):I,ne=!1,ce=function(){var te=(0,v.A)((0,g.A)().m(function Y(ie){return(0,g.A)().w(function(pe){for(;;)switch(pe.p=pe.n){case 0:return X||(X=ee(ie)),pe.p=1,pe.n=2,X;case 2:W=pe.v,U=!0,ne=!1;case 3:return pe.p=3,X=void 0,pe.f(3);case 4:return pe.a(2,W)}},Y,null,[[1,,3,4]])}));return function(ie){return te.apply(this,arguments)}}();return void 0===R?function(){var te=(0,v.A)((0,g.A)().m(function Y(ie){return(0,g.A)().w(function(pe){for(;;)switch(pe.n){case 0:if(U&&(null==ie||!ie.forceRefresh)){pe.n=2;break}return pe.n=1,ce(ie);case 1:W=pe.v;case 2:return pe.a(2,W)}},Y)}));return function(Y){return te.apply(this,arguments)}}():function(){var te=(0,v.A)((0,g.A)().m(function Y(ie){return(0,g.A)().w(function(pe){for(;;)switch(pe.n){case 0:if(U&&(null==ie||!ie.forceRefresh)){pe.n=2;break}return pe.n=1,ce(ie);case 1:W=pe.v;case 2:if(!ne){pe.n=3;break}return pe.a(2,W);case 3:if(L(W)){pe.n=4;break}return ne=!0,pe.a(2,W);case 4:if(!R(W)){pe.n=6;break}return pe.n=5,ce(ie);case 5:case 6:return pe.a(2,W)}},Y)}));return function(Y){return te.apply(this,arguments)}}()}}(R,k,V):L?(0,A.t)(L(Object.assign({},j,{parentClientConfig:j}))):function(){var W=(0,v.A)((0,g.A)().m(function X(){return(0,g.A)().w(function(U){for(;;)switch(U.n){case 0:throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.");case 1:return U.a(2)}},X)}));return function(){return W.apply(this,arguments)}}(),ee.memoized=!0,ee}(I,{credentials:R=pe,credentialDefaultProvider:I.credentialDefaultProvider}),he=function P(j,I){if(I.configBound)return I;var R=function(){var L=(0,v.A)((0,g.A)().m(function ee(W){return(0,g.A)().w(function(X){for(;;)if(0===X.n)return X.a(2,I((0,M.A)((0,M.A)({},W),{},{callerClientConfig:j})))},ee)}));return function(W){return L.apply(this,arguments)}}();return R.memoized=I.memoized,R.configBound=!0,R}(I,_e);L&&!he.attributed?(ee=function(){var ue=(0,v.A)((0,g.A)().m(function $e(Ee){return(0,g.A)().w(function(Be){for(;;)if(0===Be.n)return Be.a(2,he(Ee).then(function(Qe){return F(Qe,"CREDENTIALS_CODE","e")}))},$e)}));return function(Ee){return ue.apply(this,arguments)}}(),ee.memoized=he.memoized,ee.configBound=he.configBound,ee.attributed=!0):ee=he},get:function(){return ee},enumerable:!0,configurable:!0}),I.credentials=R;var te,W=I.signingEscapePath,X=void 0===W||W,U=I.systemClockOffset,ne=void 0===U?I.systemClockOffset||0:U,ce=I.sha256;return te=I.signer?(0,A.t)(I.signer):I.regionInfoProvider?function(){return(0,A.t)(I.region)().then(function(){var pe=(0,v.A)((0,g.A)().m(function _e(he){var ue,$e,Ee,Be,Qe;return(0,g.A)().w(function(gt){for(;;)switch(gt.n){case 0:return $e=I,Ee=he,gt.n=1,I.useFipsEndpoint();case 1:return Be=gt.v,gt.n=2,I.useDualstackEndpoint();case 2:return Qe=gt.v,gt.n=3,$e.regionInfoProvider.call($e,Ee,{useFipsEndpoint:Be,useDualstackEndpoint:Qe});case 3:if(ue=gt.v){gt.n=4;break}ue={};case 4:return gt.a(2,[ue,he])}},_e)}));return function(_e){return pe.apply(this,arguments)}}()).then(function(pe){var _e=(0,G.A)(pe,2),he=_e[0],Ee=he.signingService;I.signingRegion=I.signingRegion||he.signingRegion||_e[1],I.signingName=I.signingName||Ee||I.serviceId;var Be=(0,M.A)((0,M.A)({},I),{},{credentials:I.credentials,region:I.signingRegion,service:I.signingName,sha256:ce,uriEscapePath:X});return new(I.signerConstructor||h.B)(Be)})}:function(){var ie=(0,v.A)((0,g.A)().m(function pe(_e){var he,ue,$e,Be,Qe,Ze;return(0,g.A)().w(function(qe){for(;;)switch(qe.n){case 0:return Be=Object,Qe={},Ze=I.signingName||I.defaultSigningName,qe.n=1,(0,A.t)(I.region)();case 1:return _e=Be.assign.call(Be,Qe,{name:"sigv4",signingName:Ze,signingRegion:qe.v,properties:{}},_e),he=_e.signingRegion,ue=_e.signingName,I.signingRegion=I.signingRegion||he,I.signingName=I.signingName||ue||I.serviceId,$e=(0,M.A)((0,M.A)({},I),{},{credentials:I.credentials,region:I.signingRegion,service:I.signingName,sha256:ce,uriEscapePath:X}),qe.a(2,new(I.signerConstructor||h.B)($e))}},pe)}));return function(_e){return ie.apply(this,arguments)}}(),Object.assign(I,{systemClockOffset:ne,signingEscapePath:X,signer:te})}},8178:(Re,se,b)=>{b.d(se,{C:()=>M});var M=function(g){return new Date(Date.now()+g)}},6446:(Re,se,b)=>{b.d(se,{w:()=>g});var M=b(7622),G=b(6044),g=function(F,A){return(0,M.P)(F,A).then(function(o){var f;return(null!==(f=A?.utf8Encoder)&&void 0!==f?f:G.P)(o)})}},7668:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AwsCrc32=void 0;var M=b(4398),G=b(5312),g=b(2933),v=function(){function F(){this.crc32=new g.Crc32}return F.prototype.update=function(A){(0,G.isEmptyData)(A)||this.crc32.update((0,G.convertToBuffer)(A))},F.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(A){return[2,(0,G.numToUint8)(this.crc32.digest())]})})},F.prototype.reset=function(){this.crc32=new g.Crc32},F}();se.AwsCrc32=v},2933:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AwsCrc32=se.Crc32=se.crc32=void 0;var M=b(4398),G=b(5312);se.crc32=function g(f){return(new v).update(f).digest()};var v=function(){function f(){this.checksum=4294967295}return f.prototype.update=function(k){var V,T;try{for(var h=M.__values(k),_=h.next();!_.done;_=h.next())this.checksum=this.checksum>>>8^A[255&(this.checksum^_.value)]}catch(w){V={error:w}}finally{try{_&&!_.done&&(T=h.return)&&T.call(h)}finally{if(V)throw V.error}}return this},f.prototype.digest=function(){return(4294967295^this.checksum)>>>0},f}();se.Crc32=v;var A=(0,G.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),o=b(7668);Object.defineProperty(se,"AwsCrc32",{enumerable:!0,get:function(){return o.AwsCrc32}})},6539:(Re,se,b)=>{b.d(se,{OV:()=>v,TC:()=>o});var M=b(11),G=b(1890),g=b(3776);function v(f){return f}var A={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},o=function(k){return{applyToStack:function(T){T.add(function(k){return function(V){return function(){var T=(0,G.A)((0,M.A)().m(function h(_){var O,P,I;return(0,M.A)().w(function(R){for(;;)switch(R.n){case 0:if(g.K.isInstance(_.request)){R.n=1;break}return R.a(2,V(_));case 1:return O=_.request,(void 0===(P=(k.requestHandler.metadata||{}).handlerProtocol)?"":P).indexOf("h2")>=0&&!O.headers[":authority"]?(delete O.headers.host,O.headers[":authority"]=O.hostname+(O.port?":"+O.port:"")):O.headers.host||(I=O.hostname,null!=O.port&&(I+=":".concat(O.port)),O.headers.host=I),R.a(2,V(_))}},h)}));return function(h){return T.apply(this,arguments)}}()}}(k),A)}}}},5337:(Re,se,b)=>{b.d(se,{Y7:()=>o});var M=b(11),G=b(8051),g=b(1890),v=["$metadata"],A={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},o=function(k){return{applyToStack:function(T){T.add(function(k,V){return function(){var T=(0,g.A)((0,M.A)().m(function h(_){var O,w,P,j,I,R,L,X,U,ne,ce,te,Y,ie,pe,_e,he,Ee,Be;return(0,M.A)().w(function(Qe){for(;;)switch(Qe.p=Qe.n){case 0:return Qe.p=0,Qe.n=1,k(_);case 1:return P=V.clientName,j=V.commandName,I=V.logger,X=(L=void 0===(R=V.dynamoDbDocumentClientOptions)?{}:R).overrideInputFilterSensitiveLog??V.inputFilterSensitiveLog,U=L.overrideOutputFilterSensitiveLog??V.outputFilterSensitiveLog,ce=(ne=(w=Qe.v).output).$metadata,te=(0,G.A)(ne,v),null==I||null===(O=I.info)||void 0===O||O.call(I,{clientName:P,commandName:j,input:X(_.input),output:U(te),metadata:ce}),Qe.a(2,w);case 2:throw Qe.p=2,Be=Qe.v,ie=V.clientName,pe=V.commandName,Ee=(void 0===(he=V.dynamoDbDocumentClientOptions)?{}:he).overrideInputFilterSensitiveLog??V.inputFilterSensitiveLog,null==(_e=V.logger)||null===(Y=_e.error)||void 0===Y||Y.call(_e,{clientName:ie,commandName:pe,input:Ee(_.input),error:Be,metadata:Be.$metadata}),Be;case 3:return Qe.a(2)}},h,null,[[0,2]])}));return function(h){return T.apply(this,arguments)}}()},A)}}}},4931:(Re,se,b)=>{b.d(se,{n:()=>F});var M={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},G=b(11),g=b(1890),F=function(o){return{applyToStack:function(k){k.add(function(o){return function(){var f=(0,g.A)((0,G.A)().m(function k(V){return(0,G.A)().w(function(T){for(;;)if(0===T.n)return T.a(2,o(V))},k)}));return function(k){return f.apply(this,arguments)}}()},M)}}}},8027:(Re,se,b)=>{b.d(se,{D:()=>A});var M=b(11),G=b(1890),g=b(3971),v=void 0;function F(o){return void 0===o||"string"==typeof o&&o.length<=50}function A(o){var f,T,k=(0,g.t)(null!==(f=o.userAgentAppId)&&void 0!==f?f:v),V=o.customUserAgent;return Object.assign(o,{customUserAgent:"string"==typeof V?[[V]]:V,userAgentAppId:(T=(0,G.A)((0,M.A)().m(function _(){var O,w,P;return(0,M.A)().w(function(j){for(;;)switch(j.n){case 0:return j.n=1,k();case 1:return F(O=j.v)||(P="NoOpLogger"!==(null===(w=o.logger)||void 0===w||null===(w=w.constructor)||void 0===w?void 0:w.name)&&o.logger?o.logger:console,"string"!=typeof O?P?.warn("userAgentAppId must be a string or undefined."):O.length>50&&P?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")),j.a(2,O)}},_)})),function h(){return T.apply(this,arguments)})})}},5997:(Re,se,b)=>{b.d(se,{sM:()=>U});var M=b(11),G=b(2292),g=b(3730),v=b(1890),F=b(2553),A=b(3776),o=b(8824),f=b(7931),k=/\d{12}\.ddb/;function V(ne,ce,te){return T.apply(this,arguments)}function T(){return(T=(0,v.A)((0,M.A)().m(function ne(ce,te,Y){var ie,pe,_e,he,ue,$e,Ee,Be,Qe,Ze,st,gt,qe,rt,H;return(0,M.A)().w(function(K){for(;;)switch(K.n){case 0:if("rpc-v2-cbor"===(null==(_e=Y.request)||null===(ie=_e.headers)||void 0===ie?void 0:ie["smithy-protocol"])&&(0,f.J)(ce,"PROTOCOL_RPC_V2_CBOR","M"),"function"!=typeof te.retryStrategy){K.n=2;break}return K.n=1,te.retryStrategy();case 1:"function"==typeof(he=K.v).acquireInitialRetryToken?null!==(ue=he.constructor)&&void 0!==ue&&null!==(ue=ue.name)&&void 0!==ue&&ue.includes("Adaptive")?(0,f.J)(ce,"RETRY_MODE_ADAPTIVE","F"):(0,f.J)(ce,"RETRY_MODE_STANDARD","E"):(0,f.J)(ce,"RETRY_MODE_LEGACY","D");case 2:if("function"!=typeof te.accountIdEndpointMode){K.n=7;break}return Be=ce.endpointV2,String(null==Be||null===($e=Be.url)||void 0===$e?void 0:$e.hostname).match(k)&&(0,f.J)(ce,"ACCOUNT_ID_ENDPOINT","O"),K.n=3,null===(Ee=te.accountIdEndpointMode)||void 0===Ee?void 0:Ee.call(te);case 3:K.n="disabled"===(H=K.v)?4:"preferred"===H?5:"required"===H?6:7;break;case 4:return(0,f.J)(ce,"ACCOUNT_ID_MODE_DISABLED","Q"),K.a(3,7);case 5:return(0,f.J)(ce,"ACCOUNT_ID_MODE_PREFERRED","P"),K.a(3,7);case 6:return(0,f.J)(ce,"ACCOUNT_ID_MODE_REQUIRED","R"),K.a(3,7);case 7:if(null!=(Qe=null===(pe=ce.__smithy_context)||void 0===pe||null===(pe=pe.selectedHttpAuthScheme)||void 0===pe?void 0:pe.identity)&&Qe.$source)for((Ze=Qe).accountId&&(0,f.J)(ce,"RESOLVED_ACCOUNT_ID","T"),st=0,gt=Object.entries(null!==(qe=Ze.$source)&&void 0!==qe?qe:{});st<gt.length;st++)rt=(0,o.A)(gt[st],2),(0,f.J)(ce,rt[0],rt[1]);case 8:return K.a(2)}},ne)}))).apply(this,arguments)}var h="user-agent",_="x-amz-user-agent",P=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,j=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;function L(ne){var ce="";for(var te in ne){var Y=ne[te];if(!(ce.length+Y.length+1<=1024))break;ce+=ce.length?","+Y:Y}return ce}var W=function(ce){var te,Y=ce[0].split("/").map(function(ue){return ue.replace(P,"-")}).join("/"),ie=null===(te=ce[1])||void 0===te?void 0:te.replace(j,"-"),pe=Y.indexOf("/"),_e=Y.substring(0,pe),he=Y.substring(pe+1);return"api"===_e&&(he=he.toLowerCase()),[_e,he,ie].filter(function(ue){return ue&&ue.length>0}).reduce(function(ue,$e,Ee){switch(Ee){case 0:return $e;case 1:return"".concat(ue,"/").concat($e);default:return"".concat(ue,"#").concat($e)}},"")},X={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},U=function(ce){return{applyToStack:function(Y){Y.add(function(ce){return function(te,Y){return function(){var ie=(0,v.A)((0,M.A)().m(function pe(_e){var he,ue,$e,Ee,Be,Qe,Ze,st,qe,rt,ht,fe,H;return(0,M.A)().w(function(K){for(;;)switch(K.n){case 0:if(A.K.isInstance(Be=_e.request)){K.n=1;break}return K.a(2,te(_e));case 1:return Qe=Be.headers,Ze=(null==Y||null===(he=Y.userAgent)||void 0===he?void 0:he.map(W))||[],K.n=2,ce.defaultUserAgentProvider();case 2:return st=K.v.map(W),K.n=3,V(Y,ce,_e);case 3:return st.push("m/".concat(L(Object.assign({},null===(ue=Y.__smithy_context)||void 0===ue?void 0:ue.features,null===($e=Y.__aws_sdk_context)||void 0===$e?void 0:$e.features)))),qe=(null==ce||null===(Ee=ce.customUserAgent)||void 0===Ee?void 0:Ee.map(W))||[],K.n=4,ce.userAgentAppId();case 4:return(rt=K.v)&&st.push(W(["app/".concat(rt)])),ht=(0,F.vL)(),fe=(ht?[ht]:[]).concat([].concat((0,g.A)(st),(0,g.A)(Ze),(0,g.A)(qe))).join(" "),H=[].concat((0,g.A)(st.filter(function(xe){return xe.startsWith("aws-sdk-")})),(0,g.A)(qe)).join(" "),"browser"!==ce.runtime?(H&&(Qe[_]=Qe[_]?"".concat(Qe[h]," ").concat(H):H),Qe[h]=fe):Qe[_]=fe,K.a(2,te((0,G.A)((0,G.A)({},_e),{},{request:Be})))}},pe)}));return function(pe){return ie.apply(this,arguments)}}()}}(ce),X)}}}},5647:(Re,se,b)=>{b.d(se,{$:()=>G,R:()=>M});var M=function(v){return{setRegion:function(A){v.region=A},region:function(){return v.region}}},G=function(v){return{region:v.region()}}},2553:(Re,se,b)=>{b.d(se,{UF:()=>L,vL:()=>R});var M=b(9059),G=b(438),g=b(8023),v=b(4110),F=function(U){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var te,ce=(0,G.A)(U.split("."));try{for(ce.s();!(te=ce.n()).done;)if(!F(te.value))return!1}catch(ie){ce.e(ie)}finally{ce.f()}return!0}return!(!(0,g.X)(U)||U.length<3||U.length>63||U!==U.toLowerCase()||(0,v.o)(U))},A=b(1172),o=b(6724),T=b(8824),h=b(2292),O=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"},"us-isob-west-1":{"description":"US ISOB West"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}'),R=function(){return""},L={isVirtualHostableS3Bucket:F,parseArn:function(U){var ne=U.split(":");if(ne.length<6)return null;var ce=(0,o.A)(ne),te=ce[0],Y=ce[1],ie=ce[2],pe=ce[3],_e=ce[4],he=(0,A.A)(ce).slice(5);return"arn"!==te||""===Y||""===ie||""===he.join(":")?null:{partition:Y,service:ie,region:pe,accountId:_e,resourceId:he.map(function($e){return $e.split("/")}).flat()}},partition:function(U){var Y,ce=O.partitions,te=(0,G.A)(ce);try{for(te.s();!(Y=te.n()).done;)for(var ie=Y.value,_e=ie.outputs,he=0,ue=Object.entries(ie.regions);he<ue.length;he++){var $e=(0,T.A)(ue[he],2),Be=$e[1];if($e[0]===U)return(0,h.A)((0,h.A)({},_e),Be)}}catch(ht){te.e(ht)}finally{te.f()}var Ze,Qe=(0,G.A)(ce);try{for(Qe.s();!(Ze=Qe.n()).done;){var st=Ze.value,qe=st.outputs;if(new RegExp(st.regionRegex).test(U))return(0,h.A)({},qe)}}catch(ht){Qe.e(ht)}finally{Qe.f()}var rt=ce.find(function(ht){return"aws"===ht.id});if(!rt)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return(0,h.A)({},rt.outputs)}};M.m.aws=L},3342:(Re,se,b)=>{b.d(se,{R:()=>G});var M={};function G(){return typeof window<"u"?window:typeof self<"u"?self:M}},1587:(Re,se,b)=>{b.d(se,{pf:()=>g});var M=b(11),G=b(1890),g=function(o){var f=o.serviceId,k=o.clientVersion;return function(){var V=(0,G.A)((0,M.A)().m(function T(h){var _,O,w,P,j,I,R,L,ee,W,X,U,ne,te,Y,ie,pe,_e,he;return(0,M.A)().w(function(ue){for(;;)switch(ue.n){case 0:return X=typeof window<"u"?window.navigator:void 0,U=null!==(_=X?.userAgent)&&void 0!==_?_:"",ne=null!==(O=null!==(w=null==X||null===(P=X.userAgentData)||void 0===P?void 0:P.platform)&&void 0!==w?w:v.os(U))&&void 0!==O?O:"other",te=null!==(j=null==X||null===(I=X.userAgentData)||void 0===I?void 0:I.brands)&&void 0!==j?j:[],Y=te[te.length-1],ie=null!==(R=null!==(L=Y?.brand)&&void 0!==L?L:v.browser(U))&&void 0!==R?R:"unknown",pe=null!==(ee=Y?.version)&&void 0!==ee?ee:"unknown",_e=[["aws-sdk-js",k],["ua","2.1"],["os/".concat(ne),void 0],["lang/js"],["md/browser","".concat(ie,"_").concat(pe)]],f&&_e.push(["api/".concat(f),k]),ue.n=1,null==h||null===(W=h.userAgentAppId)||void 0===W?void 0:W.call(h);case 1:return(he=ue.v)&&_e.push(["app/".concat(he)]),ue.a(2,_e)}},T)}));return function(T){return V.apply(this,arguments)}}()},v={os:function(o){return/iPhone|iPad|iPod/.test(o)?"iOS":/Macintosh|Mac OS X/.test(o)?"macOS":/Windows NT/.test(o)?"Windows":/Android/.test(o)?"Android":/Linux/.test(o)?"Linux":void 0},browser:function(o){return/EdgiOS|EdgA|Edg\//.test(o)?"Microsoft Edge":/Firefox\//.test(o)?"Firefox":/Chrome\//.test(o)?"Chrome":/Safari\//.test(o)?"Safari":void 0}}},4965:(Re,se,b)=>{b.r(se),b.d(se,{fromUtf8:()=>F,toUtf8:()=>A});var F=function(f){return"function"==typeof TextEncoder?function g(o){return(new TextEncoder).encode(o)}(f):function(f){for(var k=[],V=0,T=f.length;V<T;V++){var h=f.charCodeAt(V);if(h<128)k.push(h);else if(h<2048)k.push(h>>6|192,63&h|128);else if(V+1<f.length&&55296==(64512&h)&&56320==(64512&f.charCodeAt(V+1))){var _=65536+((1023&h)<<10)+(1023&f.charCodeAt(++V));k.push(_>>18|240,_>>12&63|128,_>>6&63|128,63&_|128)}else k.push(h>>12|224,h>>6&63|128,63&h|128)}return Uint8Array.from(k)}(f)},A=function(f){return"function"==typeof TextDecoder?function v(o){return new TextDecoder("utf-8").decode(o)}(f):function(f){for(var k="",V=0,T=f.length;V<T;V++){var h=f[V];if(h<128)k+=String.fromCharCode(h);else if(192<=h&&h<224){var _=f[++V];k+=String.fromCharCode((31&h)<<6|63&_)}else if(240<=h&&h<365){var w="%"+[h,f[++V],f[++V],f[++V]].map(function(P){return P.toString(16)}).join("%");k+=decodeURIComponent(w)}else k+=String.fromCharCode((15&h)<<12|(63&f[++V])<<6|63&f[++V])}return k}(f)}},3668:(Re,se,b)=>{b.d(se,{VW:()=>F}),b(694),b(2734);var F=!1},2502:(Re,se,b)=>{b.d(se,{Hj:()=>F}),b(694),b(2734);var F=!1},4308:(Re,se,b)=>{b.d(se,{T:()=>f});var M=b(11),G=b(1890),g=b(8023),v=new Set,F=function(V){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.X;if(!v.has(V)&&!T(V))throw new Error('Region not accepted: region="'.concat(V,'" is not a valid hostname component.'));v.add(V)},A=function(V){return"string"==typeof V&&(V.startsWith("fips-")||V.endsWith("-fips"))},o=function(V){return A(V)?["fips-aws-global","aws-fips"].includes(V)?"us-east-1":V.replace(/fips-(dkr-|prod-)?|-fips/,""):V},f=function(V){var _,T=V.region,h=V.useFipsEndpoint;if(!T)throw new Error("Region is missing");return Object.assign(V,{region:(_=(0,G.A)((0,M.A)().m(function w(){var j,I;return(0,M.A)().w(function(R){for(;;)switch(R.n){case 0:if("function"!=typeof T){R.n=2;break}return R.n=1,T();case 1:I=R.v,R.n=3;break;case 2:I=T;case 3:return j=o(I),F(j),R.a(2,j)}},w)})),function O(){return _.apply(this,arguments)}),useFipsEndpoint:function(){var _=(0,G.A)((0,M.A)().m(function w(){var j;return(0,M.A)().w(function(I){for(;;)switch(I.n){case 0:if("string"!=typeof T){I.n=1;break}j=T,I.n=3;break;case 1:return I.n=2,T();case 2:j=I.v;case 3:if(!A(j)){I.n=4;break}return I.a(2,!0);case 4:return I.a(2,"function"!=typeof h?Promise.resolve(!!h):h())}},w)}));return function O(){return _.apply(this,arguments)}}()})}},7111:(Re,se,b)=>{b.d(se,{w:()=>k});var M=b(11),G=b(1890),g=b(438),v=b(3928),F=function(T,h){if(!h||0===h.length)return T;var w,_=[],O=(0,g.A)(h);try{for(O.s();!(w=O.n()).done;){var I,P=w.value,j=(0,g.A)(T);try{for(j.s();!(I=j.n()).done;){var R=I.value;R.schemeId.split("#")[1]===P&&_.push(R)}}catch(U){j.e(U)}finally{j.f()}}}catch(U){O.e(U)}finally{O.f()}var W,ee=(0,g.A)(T);try{var X=function(){var ne=W.value;_.find(function(ce){return ce.schemeId===ne.schemeId})||_.push(ne)};for(ee.s();!(W=ee.n()).done;)X()}catch(U){ee.e(U)}finally{ee.f()}return _};function A(V){var _,T=new Map,h=(0,g.A)(V);try{for(h.s();!(_=h.n()).done;){var O=_.value;T.set(O.schemeId,O)}}catch(w){h.e(w)}finally{h.f()}return T}var f={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},k=function(T,h){var _=h.httpAuthSchemeParametersProvider,O=h.identityProviderConfigProvider;return{applyToStack:function(P){P.addRelativeTo(function(T,h){return function(_,O){return function(){var w=(0,G.A)((0,M.A)().m(function P(j){var I,L,ee,W,X,U,ne,ce,te,Y,ie,pe,_e,ue,$e,Ee,Be,Qe,Ze;return(0,M.A)().w(function(rt){for(;;)switch(rt.p=rt.n){case 0:return Ee=T,rt.n=1,h.httpAuthSchemeParametersProvider(T,O,j.input);case 1:if(I=Ee.httpAuthSchemeProvider.call(Ee,rt.v),!T.authSchemePreference){rt.n=3;break}return rt.n=2,T.authSchemePreference();case 2:Be=rt.v,rt.n=4;break;case 3:Be=[];case 4:L=F(I,Be),ee=A(T.httpAuthSchemes),W=(0,v.u)(O),X=[],U=(0,g.A)(L),rt.p=5,U.s();case 6:if((ne=U.n()).done){rt.n=12;break}if(Y=ee.get((te=ne.value).schemeId)){rt.n=7;break}return X.push("HttpAuthScheme `".concat(te.schemeId,"` was not enabled for this service.")),rt.a(3,11);case 7:return Qe=Y,rt.n=8,h.identityProviderConfigProvider(T);case 8:if(ie=Qe.identityProvider.call(Qe,rt.v)){rt.n=9;break}return X.push("HttpAuthScheme `".concat(te.schemeId,"` did not have an IdentityProvider configured.")),rt.a(3,11);case 9:return pe=(null===(ce=te.propertiesExtractor)||void 0===ce?void 0:ce.call(te,T,O))||{},_e=pe.identityProperties,$e=void 0===(ue=pe.signingProperties)?{}:ue,te.identityProperties=Object.assign(te.identityProperties||{},void 0===_e?{}:_e),te.signingProperties=Object.assign(te.signingProperties||{},$e),Ze=te,rt.n=10,ie(te.identityProperties);case 10:return W.selectedHttpAuthScheme={httpAuthOption:Ze,identity:rt.v,signer:Y.signer},rt.a(3,12);case 11:rt.n=6;break;case 12:rt.n=14;break;case 13:rt.p=13,U.e(rt.v);case 14:return rt.p=14,U.f(),rt.f(14);case 15:if(W.selectedHttpAuthScheme){rt.n=16;break}throw new Error(X.join("\n"));case 16:return rt.a(2,_(j))}},P,null,[[5,13,14,15]])}));return function(P){return w.apply(this,arguments)}}()}}(T,{httpAuthSchemeParametersProvider:_,identityProviderConfigProvider:O}),f)}}}},7957:(Re,se,b)=>{b.d(se,{l:()=>V,Q:()=>k});var M=b(11),G=b(2292),g=b(1890),v=b(3776),F=b(3928),A=function(h){return function(_){throw _}},o=function(h,_){},k={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},V=function(h){return{applyToStack:function(O){O.addRelativeTo(function(_,O){return function(){var w=(0,g.A)((0,M.A)().m(function P(j){var I,R,L,ee,W,X,U,ne,ce,te,Y,ie;return(0,M.A)().w(function(pe){for(;;)switch(pe.n){case 0:if(v.K.isInstance(j.request)){pe.n=1;break}return pe.a(2,_(j));case 1:if(I=(0,F.u)(O),R=I.selectedHttpAuthScheme){pe.n=2;break}throw new Error("No HttpAuthScheme was selected: unable to sign request");case 2:return ee=void 0===(L=R.httpAuthOption.signingProperties)?{}:L,W=R.identity,X=R.signer,ne=_,ce=G.A,te=(0,G.A)({},j),Y={},pe.n=3,X.sign(j.request,W,ee);case 3:return ie=pe.v,pe.n=4,ne(ce(te,Y,{request:ie})).catch((X.errorHandler||A)(ee));case 4:return(X.successHandler||o)((U=pe.v).response,ee),pe.a(2,U)}},P)}));return function(P){return w.apply(this,arguments)}}()},k)}}}},3971:(Re,se,b)=>{b.d(se,{t:()=>M});var M=function(g){if("function"==typeof g)return g;var v=Promise.resolve(g);return function(){return v}}},7622:(Re,se,b)=>{b.d(se,{P:()=>_});var M=b(11),G=b(1890),g=b(3288),v=b(3398),F=b(2297),A=b(3544),o=b(4334),f=b(7436),k=b(8833),V=b(6044),T=b(7521),h=function(O){function w(){return(0,g.A)(this,w),(0,F.A)(this,w,arguments)}return(0,A.A)(w,O),(0,v.A)(w,[{key:"transformToString",value:function(){return"base64"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8")?(0,f.n)(this):(0,V.P)(this)}}],[{key:"fromString",value:function(j){if("string"==typeof j)return w.mutate("base64"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8")?(0,k.E)(j):(0,T.a)(j));throw new Error("Unsupported conversion from ".concat(typeof j," to Uint8ArrayBlobAdapter."))}},{key:"mutate",value:function(j){return Object.setPrototypeOf(j,w.prototype),j}}])}((0,o.A)(Uint8Array)),_=function(){var O=(0,G.A)(function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,P=arguments.length>1?arguments[1]:void 0;return(0,M.A)().m(function j(){var I,R;return(0,M.A)().w(function(L){for(;;)switch(L.n){case 0:if(!(w instanceof Uint8Array)){L.n=1;break}return L.a(2,h.mutate(w));case 1:if(w){L.n=2;break}return L.a(2,h.mutate(new Uint8Array));case 2:return I=P.streamCollector(w),R=h,L.n=3,I;case 3:return L.a(2,R.mutate.call(R,L.v))}},j)})()});return function(){return O.apply(this,arguments)}}()},2723:(Re,se,b)=>{b.d(se,{JV:()=>F,l3:()=>O,t_:()=>k,xE:()=>_});var M=b(8824),G=b(9176),g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(te){var Y=te.getUTCFullYear(),ie=te.getUTCMonth(),pe=te.getUTCDay(),_e=te.getUTCDate(),he=te.getUTCHours(),ue=te.getUTCMinutes(),$e=te.getUTCSeconds(),Ee=_e<10?"0".concat(_e):"".concat(_e),Be=he<10?"0".concat(he):"".concat(he),Qe=ue<10?"0".concat(ue):"".concat(ue),Ze=$e<10?"0".concat($e):"".concat($e);return"".concat(g[pe],", ").concat(Ee," ").concat(v[ie]," ").concat(Y," ").concat(Be,":").concat(Qe,":").concat(Ze," GMT")}var f=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),k=function(Y){if(null!=Y){if("string"!=typeof Y)throw new TypeError("RFC-3339 date-times must be expressed as strings");var ie=f.exec(Y);if(!ie)throw new TypeError("Invalid RFC-3339 date-time value");var pe=(0,M.A)(ie,9),ue=pe[2],$e=pe[3],Ee=pe[4],Be=pe[5],Qe=pe[6],Ze=pe[7],st=pe[8],gt=(0,G.zi)(ce(pe[1])),qe=X(ue,"month",1,12),rt=X($e,"day",1,31),ht=w(gt,qe,rt,{hours:Ee,minutes:Be,seconds:Qe,fractionalMilliseconds:Ze});return"Z"!=st.toUpperCase()&&ht.setTime(ht.getTime()-ne(st)),ht}},V=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),T=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),h=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),_=function(Y){if(null!=Y){if("string"!=typeof Y)throw new TypeError("RFC-7231 date-times must be expressed as strings");var ie=V.exec(Y);if(ie){var _e=(0,M.A)(ie,8),ue=_e[1],$e=_e[2],Be=_e[4],Qe=_e[5],Ze=_e[6],st=_e[7];return w((0,G.zi)(ce(_e[3])),R($e),X(ue,"day",1,31),{hours:Be,minutes:Qe,seconds:Ze,fractionalMilliseconds:st})}if(ie=T.exec(Y)){var qe=(0,M.A)(ie,8),ht=qe[1],fe=qe[2],K=qe[4],xe=qe[5],Te=qe[6],ae=qe[7];return I(w(P(qe[3]),R(fe),X(ht,"day",1,31),{hours:K,minutes:xe,seconds:Te,fractionalMilliseconds:ae}))}if(ie=h.exec(Y)){var Me=(0,M.A)(ie,8),J=Me[1],Q=Me[2],be=Me[3],je=Me[4],tt=Me[5],it=Me[6];return w((0,G.zi)(ce(Me[7])),R(J),X(Q.trimLeft(),"day",1,31),{hours:be,minutes:je,seconds:tt,fractionalMilliseconds:it})}throw new TypeError("Invalid RFC-7231 date-time value")}},O=function(Y){if(null!=Y){var ie;if("number"==typeof Y)ie=Y;else if("string"==typeof Y)ie=(0,G.OZ)(Y);else{if("object"!=typeof Y||1!==Y.tag)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");ie=Y.value}if(Number.isNaN(ie)||ie===1/0||ie===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*ie))}},w=function(Y,ie,pe,_e){var he=ie-1;return ee(Y,he,pe),new Date(Date.UTC(Y,he,pe,X(_e.hours,"hour",0,23),X(_e.minutes,"minute",0,59),X(_e.seconds,"seconds",0,60),U(_e.fractionalMilliseconds)))},P=function(Y){var ie=(new Date).getUTCFullYear(),pe=100*Math.floor(ie/100)+(0,G.zi)(ce(Y));return pe<ie?pe+100:pe},I=function(Y){return Y.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(Y.getUTCFullYear()-100,Y.getUTCMonth(),Y.getUTCDate(),Y.getUTCHours(),Y.getUTCMinutes(),Y.getUTCSeconds(),Y.getUTCMilliseconds())):Y},R=function(Y){var ie=v.indexOf(Y);if(ie<0)throw new TypeError("Invalid month: ".concat(Y));return ie+1},L=[31,28,31,30,31,30,31,31,30,31,30,31],ee=function(Y,ie,pe){var _e=L[ie];if(1===ie&&W(Y)&&(_e=29),pe>_e)throw new TypeError("Invalid day for ".concat(v[ie]," in ").concat(Y,": ").concat(pe))},W=function(Y){return Y%4==0&&(Y%100!=0||Y%400==0)},X=function(Y,ie,pe,_e){var he=(0,G.tW)(ce(Y));if(he<pe||he>_e)throw new TypeError("".concat(ie," must be between ").concat(pe," and ").concat(_e,", inclusive"));return he},U=function(Y){return null==Y?0:1e3*(0,G.UO)("0."+Y)},ne=function(Y){var ie=Y[0],pe=1;if("+"==ie)pe=1;else{if("-"!=ie)throw new TypeError("Offset direction, ".concat(ie,', must be "+" or "-"'));pe=-1}return pe*(60*Number(Y.substring(1,3))+Number(Y.substring(4,6)))*60*1e3},ce=function(Y){for(var ie=0;ie<Y.length-1&&"0"===Y.charAt(ie);)ie++;return 0===ie?Y:Y.slice(ie)}},9176:(Re,se,b)=>{b.d(se,{OZ:()=>j,UO:()=>R,V0:()=>te,Xk:()=>O,Y0:()=>_,lK:()=>w,r$:()=>g,tW:()=>_e,yG:()=>M,zi:()=>pe});var M=function(Ee){switch(Ee){case"true":return!0;case"false":return!1;default:throw new Error('Unable to parse boolean value "'.concat(Ee,'"'))}},g=function(Ee){if(null!=Ee){if("string"==typeof Ee){var Be=parseFloat(Ee);if(!Number.isNaN(Be))return String(Be)!==String(Ee)&&ue.warn(he("Expected number but observed string: ".concat(Ee))),Be}if("number"==typeof Ee)return Ee;throw new TypeError("Expected number, got ".concat(typeof Ee,": ").concat(Ee))}},v=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),A=function(Ee){if(null!=Ee){if(Number.isInteger(Ee)&&!Number.isNaN(Ee))return Ee;throw new TypeError("Expected integer, got ".concat(typeof Ee,": ").concat(Ee))}},T=function(Ee,Be){var Qe=A(Ee);if(void 0!==Qe&&h(Qe,Be)!==Qe)throw new TypeError("Expected ".concat(Be,"-bit integer, got ").concat(Ee));return Qe},h=function(Ee,Be){switch(Be){case 32:return Int32Array.of(Ee)[0];case 16:return Int16Array.of(Ee)[0];case 8:return Int8Array.of(Ee)[0]}},_=function(Ee,Be){if(null==Ee)throw Be?new TypeError("Expected a non-null value for ".concat(Be)):new TypeError("Expected a non-null value");return Ee},O=function(Ee){if(null!=Ee){if("object"==typeof Ee&&!Array.isArray(Ee))return Ee;var Be=Array.isArray(Ee)?"array":typeof Ee;throw new TypeError("Expected object, got ".concat(Be,": ").concat(Ee))}},w=function(Ee){if(null!=Ee){if("string"==typeof Ee)return Ee;if(["boolean","number","bigint"].includes(typeof Ee))return ue.warn(he("Expected string, got ".concat(typeof Ee,": ").concat(Ee))),String(Ee);throw new TypeError("Expected string, got ".concat(typeof Ee,": ").concat(Ee))}},j=function(Ee){return g("string"==typeof Ee?ee(Ee):Ee)},R=function(Ee){return function(Ee){var Be=g(Ee);if(void 0!==Be&&!Number.isNaN(Be)&&Be!==1/0&&Be!==-1/0&&Math.abs(Be)>v)throw new TypeError("Expected 32-bit float, got ".concat(Ee));return Be}("string"==typeof Ee?ee(Ee):Ee)},L=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ee=function(Ee){var Be=Ee.match(L);if(null===Be||Be[0].length!==Ee.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(Ee)},te=function(Ee){return A("string"==typeof Ee?ee(Ee):Ee)},pe=function(Ee){return function(Ee){return T(Ee,16)}("string"==typeof Ee?ee(Ee):Ee)},_e=function(Ee){return function(Ee){return T(Ee,8)}("string"==typeof Ee?ee(Ee):Ee)},he=function(Ee){return String(new TypeError(Ee).stack||Ee).split("\n").slice(0,5).filter(function(Be){return!Be.includes("stackTraceWarning")}).join("\n")},ue={warn:console.warn}},8944:(Re,se,b)=>{b.d(se,{h:()=>F});var M=b(8824),G=b(3288),g=b(3398),v=b(642),F=function(){return(0,g.A)(function A(o){(0,G.A)(this,A),(0,v.A)(this,"authSchemes",new Map);for(var f=0,k=Object.entries(o);f<k.length;f++){var V=(0,M.A)(k[f],2),h=V[1];void 0!==h&&this.authSchemes.set(V[0],h)}},[{key:"getIdentityProvider",value:function(f){return this.authSchemes.get(f)}}])}()},7011:(Re,se,b)=>{b.d(se,{N:()=>_});var M=b(11),G=b(438),g=b(1890),v=b(3288),F=b(3398),A=b(642),o=b(1386),f=b(6639);function k(O){var j,w=[],P=(0,G.A)(Object.keys(O).sort());try{for(P.s();!(j=P.n()).done;){var I=j.value,R=O[I];if(I=(0,f.o)(I),Array.isArray(R))for(var L=0,ee=R.length;L<ee;L++)w.push("".concat(I,"=").concat((0,f.o)(R[L])));else{var W=I;(R||"string"==typeof R)&&(W+="=".concat((0,f.o)(R))),w.push(W)}}}catch(X){P.e(X)}finally{P.f()}return w.join("&")}function V(O,w){return new Request(O,w)}function T(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(w,P){O&&setTimeout(function(){var j=new Error("Request did not complete within ".concat(O," ms"));j.name="TimeoutError",P(j)},O)})}var h={supported:void 0},_=function(){function O(w){(0,v.A)(this,O),(0,A.A)(this,"config",void 0),(0,A.A)(this,"configProvider",void 0),"function"==typeof w?this.configProvider=w().then(function(P){return P||{}}):(this.config=w??{},this.configProvider=Promise.resolve(this.config)),void 0===h.supported&&(h.supported=typeof Request<"u"&&"keepalive"in V("https://[::1]"))}return(0,F.A)(O,[{key:"destroy",value:function(){}},{key:"handle",value:(w=(0,g.A)(function(j){var I=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=R.abortSignal,ee=R.requestTimeout;return(0,M.A)().m(function W(X){var U,ne,ce,te,Y,ie,pe,_e,he,ue,$e,Ee,Be,Qe,Ze,st,gt,qe,rt;return(0,M.A)().w(function(ht){for(;;)switch(ht.n){case 0:if(I.config){ht.n=2;break}return ht.n=1,I.configProvider;case 1:I.config=ht.v;case 2:if(U=ee??I.config.requestTimeout,ne=!0===I.config.keepAlive,ce=I.config.credentials,null==L||!L.aborted){ht.n=3;break}return(te=new Error("Request aborted")).name="AbortError",ht.a(2,Promise.reject(te));case 3:return Y=j.path,(ie=k(j.query||{}))&&(Y+="?".concat(ie)),j.fragment&&(Y+="#".concat(j.fragment)),pe="",(null!=j.username||null!=j.password)&&(ue=null!==(_e=j.username)&&void 0!==_e?_e:"",$e=null!==(he=j.password)&&void 0!==he?he:"",pe="".concat(ue,":").concat($e,"@")),Ee=j.port,Be=j.method,Qe="".concat(j.protocol,"//").concat(pe).concat(j.hostname).concat(Ee?":".concat(Ee):"").concat(Y),st={body:Ze="GET"===Be||"HEAD"===Be?void 0:j.body,headers:new Headers(j.headers),method:Be,credentials:ce},null!==(X=I.config)&&void 0!==X&&X.cache&&(st.cache=I.config.cache),Ze&&(st.duplex="half"),typeof AbortController<"u"&&(st.signal=L),h.supported&&(st.keepalive=ne),"function"==typeof I.config.requestInit&&Object.assign(st,I.config.requestInit(j)),gt=function(){},qe=V(Qe,st),rt=[fetch(qe).then(function(fe){var Te,K={},xe=(0,G.A)(fe.headers.entries());try{for(xe.s();!(Te=xe.n()).done;){var ae=Te.value;K[ae[0]]=ae[1]}}catch(Me){xe.e(Me)}finally{xe.f()}return null!=fe.body?{response:new o.c({headers:K,reason:fe.statusText,statusCode:fe.status,body:fe.body})}:fe.blob().then(function(Me){return{response:new o.c({headers:K,reason:fe.statusText,statusCode:fe.status,body:Me})}})}),T(U)],L&&rt.push(new Promise(function(fe,H){var K=function(){var ae=new Error("Request aborted");ae.name="AbortError",H(ae)};if("function"==typeof L.addEventListener){var xe=L;xe.addEventListener("abort",K,{once:!0}),gt=function(){return xe.removeEventListener("abort",K)}}else L.onabort=K})),ht.a(2,Promise.race(rt).finally(gt))}},W)})()}),function P(j){return w.apply(this,arguments)})},{key:"updateHttpClientConfig",value:function(P,j){this.config=void 0,this.configProvider=this.configProvider.then(function(I){return I[P]=j,I})}},{key:"httpHandlerConfigs",value:function(){var P;return null!==(P=this.config)&&void 0!==P?P:{}}}],[{key:"create",value:function(P){return"function"==typeof P?.handle?P:new O(P)}}]);var w}()},6992:(Re,se,b)=>{b.d(se,{k:()=>v});var M=b(11),G=b(1890),g=b(8833),v=function(){var V=(0,G.A)((0,M.A)().m(function T(h){var _,O;return(0,M.A)().w(function(P){for(;;)switch(P.n){case 0:if(!("function"==typeof Blob&&h instanceof Blob||"Blob"===(null===(_=h.constructor)||void 0===_?void 0:_.name))){P.n=3;break}if(void 0===Blob.prototype.arrayBuffer){P.n=2;break}return O=Uint8Array,P.n=1,h.arrayBuffer();case 1:return P.a(2,new O(P.v));case 2:return P.a(2,F(h));case 3:return P.a(2,o(h))}},T)}));return function(h){return V.apply(this,arguments)}}();function F(V){return A.apply(this,arguments)}function A(){return(A=(0,G.A)((0,M.A)().m(function V(T){var _;return(0,M.A)().w(function(O){for(;;)switch(O.n){case 0:return O.n=1,k(T);case 1:return _=(0,g.E)(O.v),O.a(2,new Uint8Array(_))}},V)}))).apply(this,arguments)}function o(V){return f.apply(this,arguments)}function f(){return(f=(0,G.A)((0,M.A)().m(function V(T){var h,_,O,w,P,j,I,R,L,ee,W,X;return(0,M.A)().w(function(U){for(;;)switch(U.n){case 0:h=[],_=T.getReader(),O=!1,w=0;case 1:if(O){U.n=3;break}return U.n=2,_.read();case 2:j=(P=U.v).done,(I=P.value)&&(h.push(I),w+=I.length),O=j,U.n=1;break;case 3:for(R=new Uint8Array(w),L=0,ee=0,W=h;ee<W.length;ee++)R.set(X=W[ee],L),L+=X.length;return U.a(2,R)}},V)}))).apply(this,arguments)}function k(V){return new Promise(function(T,h){var _=new FileReader;_.onloadend=function(){var O;if(2!==_.readyState)return h(new Error("Reader aborted too early"));var w=null!==(O=_.result)&&void 0!==O?O:"",P=w.indexOf(",");T(w.substring(P>-1?P+1:w.length))},_.onabort=function(){return h(new Error("Read aborted"))},_.onerror=function(){return h(_.error)},_.readAsDataURL(V)})}},2499:(Re,se,b)=>{b.d(se,{B:()=>M});var M=function(g){return function(){return Promise.reject(g)}}},9099:(Re,se,b)=>{b.d(se,{m:()=>M});var M=function(g){return"function"==typeof ArrayBuffer&&g instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(g)}},3909:(Re,se,b)=>{b.d(se,{vK:()=>k});var M=b(11),G=b(642),g=b(2292),v=b(1890),F=b(3776),A="content-length",f={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},k=function(T){return{applyToStack:function(_){_.add(function o(V){return function(T){return function(){var h=(0,v.A)((0,M.A)().m(function _(O){var w,P,j,I;return(0,M.A)().w(function(R){for(;;)if(0===R.n){if(F.K.isInstance(w=O.request)&&(j=w.headers,(P=w.body)&&-1===Object.keys(j).map(function(L){return L.toLowerCase()}).indexOf(A)))try{I=V(P),w.headers=(0,g.A)((0,g.A)({},w.headers),{},(0,G.A)({},A,String(I)))}catch{}return R.a(2,T((0,g.A)((0,g.A)({},O),{},{request:w})))}},_)}));return function(_){return h.apply(this,arguments)}}()}}(T.bodyLengthChecker),f)}}}},7754:(Re,se,b)=>{b.d(se,{k:()=>g});var M=b(11),G=b(1890),g=function(){var v=(0,G.A)((0,M.A)().m(function F(A){return(0,M.A)().w(function(o){for(;;)if(0===o.n)return o.a(2,void 0)},F)}));return function(A){return v.apply(this,arguments)}}()},1522:(Re,se,b)=>{b.d(se,{r:()=>w,x:()=>P});var M=b(8824),G=b(11),g=b(1890),v=function(){var j=(0,g.A)((0,G.A)().m(function I(R){var L;return(0,G.A)().w(function(ee){for(;;)switch(ee.n){case 0:if(L=R?.Bucket||"","string"==typeof R.Bucket&&(R.Bucket=L.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),!T(L)){ee.n=2;break}if(!0!==R.ForcePathStyle){ee.n=1;break}throw new Error("Path-style addressing cannot be used with ARN buckets");case 1:ee.n=3;break;case 2:(!V(L)||-1!==L.indexOf(".")&&!String(R.Endpoint).startsWith("http:")||L.toLowerCase()!==L||L.length<3)&&(R.ForcePathStyle=!0);case 3:return R.DisableMultiRegionAccessPoints&&(R.disableMultiRegionAccessPoints=!0,R.DisableMRAP=!0),ee.a(2,R)}},I)}));return function(R){return j.apply(this,arguments)}}(),F=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,A=/(\d+\.){3}\d+/,o=/\.\./,V=function(I){return F.test(I)&&!A.test(I)&&!o.test(I)},T=function(I){var R=I.split(":"),L=(0,M.A)(R,6),W=L[1],X=L[2],U=L[5],ne="arn"===L[0]&&I.split(":").length>=6,ce=!!(ne&&W&&X&&U);if(ne&&!ce)throw new Error("Invalid ARN: ".concat(I," was an invalid ARN."));return ce},h=function(I,R,L){var ee=function(){var W=(0,g.A)((0,G.A)().m(function X(){var U,ne;return(0,G.A)().w(function(ce){for(;;)switch(ce.n){case 0:if("function"!=typeof(ne=null!==(U=L[I])&&void 0!==U?U:L[R])){ce.n=1;break}return ce.a(2,ne());case 1:return ce.a(2,ne)}},X)}));return function(){return W.apply(this,arguments)}}();return"credentialScope"===I||"CredentialScope"===R?(0,g.A)((0,G.A)().m(function W(){var X,U,ne,ce;return(0,G.A)().w(function(te){for(;;)switch(te.n){case 0:if("function"!=typeof L.credentials){te.n=2;break}return te.n=1,L.credentials();case 1:ce=te.v,te.n=3;break;case 2:ce=L.credentials;case 3:return U=ce,ne=null!==(X=U?.credentialScope)&&void 0!==X?X:U?.CredentialScope,te.a(2,ne)}},W)})):"accountId"===I||"AccountId"===R?(0,g.A)((0,G.A)().m(function W(){var X,U,ne,ce;return(0,G.A)().w(function(te){for(;;)switch(te.n){case 0:if("function"!=typeof L.credentials){te.n=2;break}return te.n=1,L.credentials();case 1:ce=te.v,te.n=3;break;case 2:ce=L.credentials;case 3:return U=ce,ne=null!==(X=U?.accountId)&&void 0!==X?X:U?.AccountId,te.a(2,ne)}},W)})):"endpoint"===I||"endpoint"===R?(0,g.A)((0,G.A)().m(function W(){var X,ne,ce,te;return(0,G.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(!1!==L.isCustomEndpoint){Y.n=1;break}return Y.a(2,void 0);case 1:return Y.n=2,ee();case 2:if(!(X=Y.v)||"object"!=typeof X){Y.n=4;break}if(!("url"in X)){Y.n=3;break}return Y.a(2,X.url.href);case 3:if(!("hostname"in X)){Y.n=4;break}return ne=X.hostname,ce=X.port,te=X.path,Y.a(2,"".concat(X.protocol,"//").concat(ne).concat(ce?":"+ce:"").concat(te));case 4:return Y.a(2,X)}},W)})):ee},_=b(7754),O=b(4266),w=function(){var j=(0,g.A)((0,G.A)().m(function I(R,L,ee,W){var X,U,ne;return(0,G.A)().w(function(ce){for(;;)switch(ce.n){case 0:if(ee.isCustomEndpoint){ce.n=5;break}if(!ee.serviceConfiguredEndpoint){ce.n=2;break}return ce.n=1,ee.serviceConfiguredEndpoint();case 1:X=ce.v,ce.n=4;break;case 2:return ce.n=3,(0,_.k)(ee.serviceId);case 3:X=ce.v;case 4:X&&(ee.endpoint=function(){return Promise.resolve((0,O.a)(X))},ee.isCustomEndpoint=!0);case 5:return ce.n=6,P(R,L,ee);case 6:if(U=ce.v,"function"==typeof ee.endpointProvider){ce.n=7;break}throw new Error("config.endpointProvider is not set.");case 7:return ne=ee.endpointProvider(U,W),ce.a(2,ne)}},I)}));return function(R,L,ee,W){return j.apply(this,arguments)}}(),P=function(){var j=(0,g.A)((0,G.A)().m(function I(R,L,ee){var W,X,U,ne,ce,te,Y,ie,pe;return(0,G.A)().w(function(_e){for(;;)switch(_e.n){case 0:X={},U=(null==L||null===(W=L.getEndpointParameterInstructions)||void 0===W?void 0:W.call(L))||{},ne=0,ce=Object.entries(U);case 1:if(!(ne<ce.length)){_e.n=9;break}te=(0,M.A)(ce[ne],2),Y=te[0],_e.n="staticContextParams"===(pe=(ie=te[1]).type)?2:"contextParams"===pe?3:"clientContextParams"===pe||"builtInParams"===pe?4:"operationContextParams"===pe?6:7;break;case 2:return X[Y]=ie.value,_e.a(3,8);case 3:return X[Y]=R[ie.name],_e.a(3,8);case 4:return _e.n=5,h(ie.name,Y,ee)();case 5:return X[Y]=_e.v,_e.a(3,8);case 6:return X[Y]=ie.get(R),_e.a(3,8);case 7:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(ie));case 8:ne++,_e.n=1;break;case 9:if(0===Object.keys(U).length&&Object.assign(X,ee),"s3"!==String(ee.serviceId).toLowerCase()){_e.n=10;break}return _e.n=10,v(X);case 10:return _e.a(2,X)}},I)}));return function(R,L,ee){return j.apply(this,arguments)}}()},4266:(Re,se,b)=>{b.d(se,{a:()=>G});var M=b(993),G=function(v){return"object"==typeof v?"url"in v?(0,M.D)(v.url):v:(0,M.D)(v)}},9119:(Re,se,b)=>{b.d(se,{r:()=>V});var M=b(7964),G=b(11),g=b(2292),v=b(1890);function F(T,h,_){T.__smithy_context?T.__smithy_context.features||(T.__smithy_context.features={}):T.__smithy_context={features:{}},T.__smithy_context.features[h]=_}var A=b(3928),o=b(1522),k={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:M.Ou.name},V=function(h,_){return{applyToStack:function(w){w.addRelativeTo(function(h){var _=h.config,O=h.instructions;return function(w,P){return function(){var j=(0,v.A)((0,G.A)().m(function I(R){var L,ee,W,X,U,ne,ce;return(0,G.A)().w(function(te){for(;;)switch(te.n){case 0:return _.isCustomEndpoint&&F(P,"ENDPOINT_OVERRIDE","N"),te.n=1,(0,o.r)(R.input,{getEndpointParameterInstructions:function(){return O}},(0,g.A)({},_),P);case 1:return P.endpointV2=W=te.v,P.authSchemes=null===(L=W.properties)||void 0===L?void 0:L.authSchemes,(X=null===(ee=P.authSchemes)||void 0===ee?void 0:ee[0])&&(P.signing_region=X.signingRegion,P.signing_service=X.signingName,ne=(0,A.u)(P),(ce=null==ne||null===(U=ne.selectedHttpAuthScheme)||void 0===U?void 0:U.httpAuthOption)&&(ce.signingProperties=Object.assign(ce.signingProperties||{},{signing_region:X.signingRegion,signingRegion:X.signingRegion,signing_service:X.signingName,signingName:X.signingName,signingRegionSet:X.signingRegionSet},X.properties))),te.a(2,w((0,g.A)({},R)))}},I)}));return function(I){return j.apply(this,arguments)}}()}}({config:h,instructions:_}),k)}}}},2855:(Re,se,b)=>{b.d(se,{C:()=>A});var M=b(11),G=b(1890),g=b(6887),v=b(7754),F=b(4266),A=function(f){var k,V=null===(k=f.tls)||void 0===k||k,T=f.endpoint,h=f.useDualstackEndpoint,_=f.useFipsEndpoint,P=Object.assign(f,{endpoint:null!=T?(0,G.A)((0,M.A)().m(function I(){var R;return(0,M.A)().w(function(L){for(;;)switch(L.n){case 0:return R=F.a,L.n=1,(0,g.t)(T)();case 1:return L.a(2,R(L.v))}},I)})):void 0,tls:V,isCustomEndpoint:!!T,useDualstackEndpoint:(0,g.t)(h??!1),useFipsEndpoint:(0,g.t)(_??!1)}),j=void 0;return P.serviceConfiguredEndpoint=(0,G.A)((0,M.A)().m(function I(){return(0,M.A)().w(function(R){for(;;)if(0===R.n)return f.serviceId&&!j&&(j=(0,v.k)(f.serviceId)),R.a(2,j)},I)})),P}},1795:(Re,se,b)=>{b.d(se,{$z:()=>I});var M=b(11),G=b(1890),g=b(6887),v=b(7439),F=b(3288),A=b(3398),o=b(642),f=b(3554),k=function(){function W(X){var U,ne,ce,te,Y;(0,F.A)(this,W),(0,o.A)(this,"beta",void 0),(0,o.A)(this,"minCapacity",void 0),(0,o.A)(this,"minFillRate",void 0),(0,o.A)(this,"scaleConstant",void 0),(0,o.A)(this,"smooth",void 0),(0,o.A)(this,"currentCapacity",0),(0,o.A)(this,"enabled",!1),(0,o.A)(this,"lastMaxRate",0),(0,o.A)(this,"measuredTxRate",0),(0,o.A)(this,"requestCount",0),(0,o.A)(this,"fillRate",void 0),(0,o.A)(this,"lastThrottleTime",void 0),(0,o.A)(this,"lastTimestamp",0),(0,o.A)(this,"lastTxRateBucket",void 0),(0,o.A)(this,"maxCapacity",void 0),(0,o.A)(this,"timeWindow",0),this.beta=null!==(U=X?.beta)&&void 0!==U?U:.7,this.minCapacity=null!==(ne=X?.minCapacity)&&void 0!==ne?ne:1,this.minFillRate=null!==(ce=X?.minFillRate)&&void 0!==ce?ce:.5,this.scaleConstant=null!==(te=X?.scaleConstant)&&void 0!==te?te:.4,this.smooth=null!==(Y=X?.smooth)&&void 0!==Y?Y:.8;var ie=this.getCurrentTimeInSeconds();this.lastThrottleTime=ie,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return(0,A.A)(W,[{key:"getCurrentTimeInSeconds",value:function(){return Date.now()/1e3}},{key:"getSendToken",value:(X=(0,G.A)((0,M.A)().m(function ne(){return(0,M.A)().w(function(ce){for(;;)if(0===ce.n)return ce.a(2,this.acquireTokenBucket(1))},ne,this)})),function U(){return X.apply(this,arguments)})},{key:"acquireTokenBucket",value:function(){var X=(0,G.A)((0,M.A)().m(function ne(ce){var te;return(0,M.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(this.enabled){Y.n=1;break}return Y.a(2);case 1:if(this.refillTokenBucket(),!(ce>this.currentCapacity)){Y.n=2;break}return te=(ce-this.currentCapacity)/this.fillRate*1e3,Y.n=2,new Promise(function(ie){return W.setTimeoutFn(ie,te)});case 2:this.currentCapacity=this.currentCapacity-ce;case 3:return Y.a(2)}},ne,this)}));return function U(ne){return X.apply(this,arguments)}}()},{key:"refillTokenBucket",value:function(){var U=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(U-this.lastTimestamp)*this.fillRate),this.lastTimestamp=U):this.lastTimestamp=U}},{key:"updateClientSendingRate",value:function(U){var ne;if(this.updateMeasuredRate(),(0,f.Qb)(U)){var ce=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=ce,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),ne=this.cubicThrottle(ce),this.enableTokenBucket()}else this.calculateTimeWindow(),ne=this.cubicSuccess(this.getCurrentTimeInSeconds());var te=Math.min(ne,2*this.measuredTxRate);this.updateTokenBucketRate(te)}},{key:"calculateTimeWindow",value:function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}},{key:"cubicThrottle",value:function(U){return this.getPrecise(U*this.beta)}},{key:"cubicSuccess",value:function(U){return this.getPrecise(this.scaleConstant*Math.pow(U-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}},{key:"enableTokenBucket",value:function(){this.enabled=!0}},{key:"updateTokenBucketRate",value:function(U){this.refillTokenBucket(),this.fillRate=Math.max(U,this.minFillRate),this.maxCapacity=Math.max(U,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}},{key:"updateMeasuredRate",value:function(){var U=this.getCurrentTimeInSeconds(),ne=Math.floor(2*U)/2;this.requestCount++,ne>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(ne-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=ne)}},{key:"getPrecise",value:function(U){return parseFloat(U.toFixed(8))}}]);var X}();(0,o.A)(k,"setTimeoutFn",setTimeout);var V=b(8276),h=function(X){var U=X.retryDelay,ne=X.retryCount,ce=X.retryCost;return{getRetryCount:function(){return ne},getRetryDelay:function(){return Math.min(V.G8,U)},getRetryCost:function(){return ce}}},_=function(){return(0,A.A)(function W(X){(0,F.A)(this,W),(0,o.A)(this,"maxAttempts",void 0),(0,o.A)(this,"mode",v.cm.STANDARD),(0,o.A)(this,"capacity",V.Df),(0,o.A)(this,"retryBackoffStrategy",function(){var X=V.bp;return{computeNextBackoffDelay:function(te){return Math.floor(Math.min(V.G8,Math.random()*Math.pow(2,te)*X))},setDelayBase:function(te){X=te}}}()),(0,o.A)(this,"maxAttemptsProvider",void 0),this.maxAttempts=X,this.maxAttemptsProvider="function"==typeof X?X:(0,G.A)((0,M.A)().m(function U(){return(0,M.A)().w(function(ne){for(;;)if(0===ne.n)return ne.a(2,X)},U)}))},[{key:"acquireInitialRetryToken",value:(X=(0,G.A)((0,M.A)().m(function ne(ce){return(0,M.A)().w(function(te){for(;;)if(0===te.n)return te.a(2,h({retryDelay:V.bp,retryCount:0}))},ne)})),function U(ne){return X.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var X=(0,G.A)((0,M.A)().m(function ne(ce,te){var ie,pe,_e,he;return(0,M.A)().w(function(ue){for(;;)switch(ue.n){case 0:return ue.n=1,this.getMaxAttempts();case 1:if(!this.shouldRetry(ce,te,ue.v)){ue.n=2;break}return this.retryBackoffStrategy.setDelayBase("THROTTLING"===(ie=te.errorType)?V.jh:V.bp),pe=this.retryBackoffStrategy.computeNextBackoffDelay(ce.getRetryCount()),_e=te.retryAfterHint?Math.max(te.retryAfterHint.getTime()-Date.now()||0,pe):pe,he=this.getCapacityCost(ie),this.capacity-=he,ue.a(2,h({retryDelay:_e,retryCount:ce.getRetryCount()+1,retryCost:he}));case 2:throw new Error("No retry token available");case 3:return ue.a(2)}},ne,this)}));return function U(ne,ce){return X.apply(this,arguments)}}()},{key:"recordSuccess",value:function(U){var ne;this.capacity=Math.max(V.Df,this.capacity+(null!==(ne=U.getRetryCost())&&void 0!==ne?ne:V.XP))}},{key:"getCapacity",value:function(){return this.capacity}},{key:"getMaxAttempts",value:function(){var X=(0,G.A)((0,M.A)().m(function ne(){return(0,M.A)().w(function(te){for(;;)switch(te.p=te.n){case 0:return te.p=0,te.n=1,this.maxAttemptsProvider();case 1:return te.a(2,te.v);case 2:return te.p=2,console.warn("Max attempts provider could not resolve. Using default of ".concat(v.Gz)),te.a(2,v.Gz)}},ne,this,[[0,2]])}));return function U(){return X.apply(this,arguments)}}()},{key:"shouldRetry",value:function(U,ne,ce){return U.getRetryCount()+1<ce&&this.capacity>=this.getCapacityCost(ne.errorType)&&this.isRetryableError(ne.errorType)}},{key:"getCapacityCost",value:function(U){return"TRANSIENT"===U?V.Rn:V.XS}},{key:"isRetryableError",value:function(U){return"THROTTLING"===U||"TRANSIENT"===U}}]);var X}(),O=function(){return(0,A.A)(function W(X,U){(0,F.A)(this,W),(0,o.A)(this,"maxAttemptsProvider",void 0),(0,o.A)(this,"rateLimiter",void 0),(0,o.A)(this,"standardRetryStrategy",void 0),(0,o.A)(this,"mode",v.cm.ADAPTIVE),this.maxAttemptsProvider=X,this.rateLimiter=(U??{}).rateLimiter??new k,this.standardRetryStrategy=new _(X)},[{key:"acquireInitialRetryToken",value:(X=(0,G.A)((0,M.A)().m(function ne(ce){return(0,M.A)().w(function(te){for(;;)switch(te.n){case 0:return te.n=1,this.rateLimiter.getSendToken();case 1:return te.a(2,this.standardRetryStrategy.acquireInitialRetryToken(ce))}},ne,this)})),function U(ne){return X.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var X=(0,G.A)((0,M.A)().m(function ne(ce,te){return(0,M.A)().w(function(Y){for(;;)if(0===Y.n)return this.rateLimiter.updateClientSendingRate(te),Y.a(2,this.standardRetryStrategy.refreshRetryTokenForRetry(ce,te))},ne,this)}));return function U(ne,ce){return X.apply(this,arguments)}}()},{key:"recordSuccess",value:function(U){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(U)}}]);var X}(),I=function(X){var Y,U=X.retryStrategy,ne=X.retryMode,te=(0,g.t)(X.maxAttempts??v.Gz);return Object.assign(X,{maxAttempts:te,retryStrategy:(Y=(0,G.A)((0,M.A)().m(function pe(){return(0,M.A)().w(function(he){for(;;)switch(he.n){case 0:if(!U){he.n=1;break}return he.a(2,U);case 1:return he.n=2,(0,g.t)(ne)();case 2:if(he.v!==v.cm.ADAPTIVE){he.n=3;break}return he.a(2,new O(te));case 3:return he.a(2,new _(te))}},pe)})),function ie(){return Y.apply(this,arguments)})})}},6811:(Re,se,b)=>{b.d(se,{ey:()=>L});var M=b(2846),G=b(3730),g=b(11),v=b(1890),F=b(3776),A=b(1386),o=b(3554),f=b(8310),k=b(8276),V=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T=Array.from({length:256},function(W,X){return X.toString(16).padStart(2,"0")}),h=function(){if(V)return V();var X=new Uint8Array(16);return crypto.getRandomValues(X),X[6]=15&X[6]|64,X[8]=63&X[8]|128,T[X[0]]+T[X[1]]+T[X[2]]+T[X[3]]+"-"+T[X[4]]+T[X[5]]+"-"+T[X[6]]+T[X[7]]+"-"+T[X[8]]+T[X[9]]+"-"+T[X[10]]+T[X[11]]+T[X[12]]+T[X[13]]+T[X[14]]+T[X[15]]},_=function(X){return X?.body instanceof ReadableStream},O=function(X){return X instanceof Error?X:X instanceof Object?Object.assign(new Error,X):"string"==typeof X?new Error(X):new Error("AWS SDK error wrapper for ".concat(X))},P=function(X){return typeof X.acquireInitialRetryToken<"u"&&typeof X.refreshRetryTokenForRetry<"u"&&typeof X.recordSuccess<"u"},j=function(X){var U={error:X,errorType:I(X)},ne=ee(X.$response);return ne&&(U.retryAfterHint=ne),U},I=function(X){return(0,o.Qb)(X)?"THROTTLING":(0,o.bV)(X)?"TRANSIENT":(0,o.GQ)(X)?"SERVER_ERROR":"CLIENT_ERROR"},R={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},L=function(X){return{applyToStack:function(ne){ne.add(function(X){return function(U,ne){return function(){var ce=(0,v.A)((0,g.A)().m(function te(Y){var ie,pe,_e,he,ue,$e,Ee,Be,Qe,Ze,st;return(0,g.A)().w(function(gt){for(;;)switch(gt.n){case 0:return gt.n=1,X.retryStrategy();case 1:return ie=gt.v,gt.n=2,X.maxAttempts();case 2:if(pe=gt.v,!P(ie)){gt.n=8;break}return gt.n=3,ie.acquireInitialRetryToken(ne.partition_id);case 3:_e=gt.v,he=new Error,ue=0,$e=0,(Be=F.K.isInstance(Ee=Y.request))&&(Ee.headers[k.l5]=h()),Qe=(0,g.A)().m(function qe(){var rt,ht,fe,H,K,xe,Te;return(0,g.A)().w(function(re){for(;;)switch(re.p=re.n){case 0:return re.p=0,Be&&(Ee.headers[k.ok]="attempt=".concat(ue+1,"; max=").concat(pe)),re.n=1,U(Y);case 1:return ht=(rt=re.v).response,fe=rt.output,ie.recordSuccess(_e),fe.$metadata.attempts=ue+1,fe.$metadata.totalRetryDelay=$e,re.a(2,{v:{response:ht,output:fe}});case 2:if(re.p=2,H=j(Te=re.v),he=O(Te),!Be||!_(Ee)){re.n=3;break}throw null===(K=ne.logger instanceof f.N?console:ne.logger)||void 0===K||K.warn("An error was encountered in a non-retryable streaming request."),he;case 3:return re.p=3,re.n=4,ie.refreshRetryTokenForRetry(_e,H);case 4:_e=re.v,re.n=6;break;case 5:throw re.p=5,he.$metadata||(he.$metadata={}),he.$metadata.attempts=ue+1,he.$metadata.totalRetryDelay=$e,he;case 6:return ue=_e.getRetryCount(),xe=_e.getRetryDelay(),$e+=xe,re.n=7,new Promise(function(Me){return setTimeout(Me,xe)});case 7:return re.a(2)}},qe,null,[[3,5],[0,2]])});case 4:return gt.d((0,M.A)(Qe()),5);case 5:if(!(Ze=gt.v)){gt.n=6;break}return gt.a(2,Ze.v);case 6:gt.n=4;break;case 7:gt.n=9;break;case 8:return null!==(st=ie)&&void 0!==st&&st.mode&&(ne.userAgent=[].concat((0,G.A)(ne.userAgent||[]),[["cfg/retry-mode",ie.mode]])),gt.a(2,ie.retry(U,Y));case 9:return gt.a(2)}},te)}));return function(te){return ce.apply(this,arguments)}}()}}(X),R)}}},ee=function(X){if(A.c.isInstance(X)){var U=Object.keys(X.headers).find(function(Y){return"retry-after"===Y.toLowerCase()});if(U){var ne=X.headers[U],ce=Number(ne);return Number.isNaN(ce)?new Date(ne):new Date(1e3*ce)}}}},7964:(Re,se,b)=>{b.d(se,{TM:()=>T,Ou:()=>V});var M=b(8824),G=b(11),g=b(1890),v=b(1386),F=function(_,O){return function(w,P){return function(){var j=(0,g.A)((0,G.A)().m(function I(R){var ee,X,U,ne,ce,te,ie,pe;return(0,G.A)().w(function(_e){for(;;)switch(_e.p=_e.n){case 0:return _e.n=1,w(R);case 1:return ee=_e.v.response,_e.p=2,_e.n=3,O(ee,_);case 3:return _e.a(2,{response:ee,output:_e.v});case 4:if(_e.p=4,pe=_e.v,Object.defineProperty(pe,"$response",{value:ee}),!("$metadata"in pe)){X="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{pe.message+="\n  "+X}catch{P.logger&&"NoOpLogger"!==(null===(U=P.logger)||void 0===U||null===(U=U.constructor)||void 0===U?void 0:U.name)?null===(ne=P.logger)||void 0===ne||null===(ce=ne.warn)||void 0===ce||ce.call(ne,X):console.warn(X)}typeof pe.$responseBodyText<"u"&&pe.$response&&(pe.$response.body=pe.$responseBodyText);try{v.c.isInstance(ee)&&(te=ee.headers,ie=Object.entries(void 0===te?{}:te),pe.$metadata={httpStatusCode:ee.statusCode,requestId:A(/^x-[\w-]+-request-?id$/,ie),extendedRequestId:A(/^x-[\w-]+-id-2$/,ie),cfId:A(/^x-[\w-]+-cf-id$/,ie)})}catch{}}throw pe;case 5:return _e.a(2)}},I,null,[[2,4]])}));return function(I){return j.apply(this,arguments)}}()}},A=function(_,O){return(O.find(function(w){return(0,M.A)(w,1)[0].match(_)})||[void 0,void 0])[1]},o=b(2292),f=function(_,O){return function(w,P){return function(){var j=(0,g.A)((0,G.A)().m(function I(R){var L,ee,W,X;return(0,G.A)().w(function(U){for(;;)switch(U.n){case 0:if(ee=_,W=null!==(L=P.endpointV2)&&void 0!==L&&L.url&&ee.urlParser?(0,g.A)((0,G.A)().m(function ne(){return(0,G.A)().w(function(ce){for(;;)if(0===ce.n)return ce.a(2,ee.urlParser(P.endpointV2.url))},ne)})):ee.endpoint){U.n=1;break}throw new Error("No valid endpoint provider available.");case 1:return U.n=2,O(R.input,(0,o.A)((0,o.A)({},_),{},{endpoint:W}));case 2:return X=U.v,U.a(2,w((0,o.A)((0,o.A)({},R),{},{request:X})))}},I)}));return function(I){return j.apply(this,arguments)}}()}},k={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},V={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function T(h,_,O){return{applyToStack:function(P){P.add(F(h,O),k),P.add(f(h,_),V)}}}},1579:(Re,se,b)=>{b.d(se,{o:()=>A});var M=b(3730),G=b(2292),g=b(438),v=function(V,T){var h=[];if(V&&h.push(V),T){var O,_=(0,g.A)(T);try{for(_.s();!(O=_.n()).done;)h.push(O.value)}catch(P){_.e(P)}finally{_.f()}}return h},F=function(V,T){return"".concat(V||"anonymous").concat(T&&T.length>0?" (a.k.a. ".concat(T.join(","),")"):"")},A=function(){var V=[],T=[],h=!1,_=new Set,j=function(W){var X;return V.forEach(function(U){W.add(U.middleware,(0,G.A)({},U))}),T.forEach(function(U){W.addRelativeTo(U.middleware,(0,G.A)({},U))}),null===(X=W.identifyOnResolve)||void 0===X||X.call(W,L.identifyOnResolve()),W},I=function(W){var X=[];return W.before.forEach(function(U){0===U.before.length&&0===U.after.length?X.push(U):X.push.apply(X,(0,M.A)(I(U)))}),X.push(W),W.after.reverse().forEach(function(U){0===U.before.length&&0===U.after.length?X.push(U):X.push.apply(X,(0,M.A)(I(U)))}),X},R=function(){var W=arguments.length>0&&void 0!==arguments[0]&&arguments[0],X=[],U=[],ne={};V.forEach(function(te){var pe,Y=(0,G.A)((0,G.A)({},te),{},{before:[],after:[]}),ie=(0,g.A)(v(Y.name,Y.aliases));try{for(ie.s();!(pe=ie.n()).done;)ne[pe.value]=Y}catch(he){ie.e(he)}finally{ie.f()}X.push(Y)}),T.forEach(function(te){var pe,Y=(0,G.A)((0,G.A)({},te),{},{before:[],after:[]}),ie=(0,g.A)(v(Y.name,Y.aliases));try{for(ie.s();!(pe=ie.n()).done;)ne[pe.value]=Y}catch(he){ie.e(he)}finally{ie.f()}U.push(Y)}),U.forEach(function(te){if(te.toMiddleware){var Y=ne[te.toMiddleware];if(void 0===Y){if(W)return;throw new Error("".concat(te.toMiddleware," is not found when adding ")+"".concat(F(te.name,te.aliases)," ")+"middleware ".concat(te.relation," ").concat(te.toMiddleware))}"after"===te.relation&&Y.after.push(te),"before"===te.relation&&Y.before.push(te)}});var ce=function(W){return W.sort(function(X,U){return o[U.step]-o[X.step]||f[U.priority||"normal"]-f[X.priority||"normal"]})}(X).map(I).reduce(function(te,Y){return te.push.apply(te,(0,M.A)(Y)),te},[]);return ce},L={add:function(W){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=X.name,ne=X.override,ce=X.aliases,te=(0,G.A)({step:"initialize",priority:"normal",middleware:W},X),Y=v(U,ce);if(Y.length>0){if(Y.some(function(Ee){return _.has(Ee)})){if(!ne)throw new Error("Duplicate middleware name '".concat(F(U,ce),"'"));var pe,ie=(0,g.A)(Y);try{var _e=function(){var Be=pe.value,Qe=V.findIndex(function(st){var gt;return st.name===Be||(null===(gt=st.aliases)||void 0===gt?void 0:gt.some(function(qe){return qe===Be}))});if(-1===Qe)return 1;var Ze=V[Qe];if(Ze.step!==te.step||te.priority!==Ze.priority)throw new Error('"'.concat(F(Ze.name,Ze.aliases),'" middleware with ')+"".concat(Ze.priority," priority in ").concat(Ze.step," step cannot ")+'be overridden by "'.concat(F(U,ce),'" middleware with ')+"".concat(te.priority," priority in ").concat(te.step," step."));V.splice(Qe,1)};for(ie.s();!(pe=ie.n()).done;)_e()}catch(Ee){ie.e(Ee)}finally{ie.f()}}var ue,he=(0,g.A)(Y);try{for(he.s();!(ue=he.n()).done;)_.add(ue.value)}catch(Ee){he.e(Ee)}finally{he.f()}}V.push(te)},addRelativeTo:function(W,X){var U=X.name,ne=X.override,ce=X.aliases,te=(0,G.A)({middleware:W},X),Y=v(U,ce);if(Y.length>0){if(Y.some(function(Ee){return _.has(Ee)})){if(!ne)throw new Error("Duplicate middleware name '".concat(F(U,ce),"'"));var pe,ie=(0,g.A)(Y);try{var _e=function(){var Be=pe.value,Qe=T.findIndex(function(st){var gt;return st.name===Be||(null===(gt=st.aliases)||void 0===gt?void 0:gt.some(function(qe){return qe===Be}))});if(-1===Qe)return 1;var Ze=T[Qe];if(Ze.toMiddleware!==te.toMiddleware||Ze.relation!==te.relation)throw new Error('"'.concat(F(Ze.name,Ze.aliases),'" middleware ')+"".concat(Ze.relation,' "').concat(Ze.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(F(U,ce),'" middleware ').concat(te.relation," ")+'"'.concat(te.toMiddleware,'" middleware.'));T.splice(Qe,1)};for(ie.s();!(pe=ie.n()).done;)_e()}catch(Ee){ie.e(Ee)}finally{ie.f()}}var ue,he=(0,g.A)(Y);try{for(he.s();!(ue=he.n()).done;)_.add(ue.value)}catch(Ee){he.e(Ee)}finally{he.f()}}T.push(te)},clone:function(){return j(A())},use:function(W){W.applyToStack(L)},remove:function(W){return"string"==typeof W?function(W){var X=!1,U=function(ce){var te=v(ce.name,ce.aliases);if(te.includes(W)){X=!0;var ie,Y=(0,g.A)(te);try{for(Y.s();!(ie=Y.n()).done;)_.delete(ie.value)}catch(_e){Y.e(_e)}finally{Y.f()}return!1}return!0};return V=V.filter(U),T=T.filter(U),X}(W):function(W){var X=!1,U=function(ce){if(ce.middleware===W){X=!0;var Y,te=(0,g.A)(v(ce.name,ce.aliases));try{for(te.s();!(Y=te.n()).done;)_.delete(Y.value)}catch(pe){te.e(pe)}finally{te.f()}return!1}return!0};return V=V.filter(U),T=T.filter(U),X}(W)},removeByTag:function(W){var X=!1,U=function(ce){var te=ce.tags,Y=ce.name,ie=ce.aliases;if(te&&te.includes(W)){var he,pe=v(Y,ie),_e=(0,g.A)(pe);try{for(_e.s();!(he=_e.n()).done;)_.delete(he.value)}catch($e){_e.e($e)}finally{_e.f()}return X=!0,!1}return!0};return V=V.filter(U),T=T.filter(U),X},concat:function(W){var X,U,ne=j(A());return ne.use(W),ne.identifyOnResolve(h||ne.identifyOnResolve()||null!==(X=null===(U=W.identifyOnResolve)||void 0===U?void 0:U.call(W))&&void 0!==X&&X),ne},applyToStack:j,identify:function(){return R(!0).map(function(W){var X,U=null!==(X=W.step)&&void 0!==X?X:W.relation+" "+W.toMiddleware;return F(W.name,W.aliases)+" - "+U})},identifyOnResolve:function(W){return"boolean"==typeof W&&(h=W),h},resolve:function(W,X){var ne,U=(0,g.A)(R().map(function(te){return te.middleware}).reverse());try{for(U.s();!(ne=U.n()).done;)W=(0,ne.value)(W,X)}catch(te){U.e(te)}finally{U.f()}return h&&console.log(L.identify()),W}};return L},o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},f={high:3,normal:2,low:1}},4811:(Re,se,b)=>{b.d(se,{e:()=>M,j:()=>G});var M=function(v){return{setHttpHandler:function(A){v.httpHandler=A},httpHandler:function(){return v.httpHandler},updateHttpClientConfig:function(A,o){var f;null===(f=v.httpHandler)||void 0===f||f.updateHttpClientConfig(A,o)},httpHandlerConfigs:function(){return v.httpHandler.httpHandlerConfigs()}}},G=function(v){return{httpHandler:v.httpHandler()}}},3776:(Re,se,b)=>{b.d(se,{K:()=>A});var M=b(3730),G=b(2292),g=b(3288),v=b(3398),F=b(642),A=function(){function f(k){(0,g.A)(this,f),(0,F.A)(this,"method",void 0),(0,F.A)(this,"protocol",void 0),(0,F.A)(this,"hostname",void 0),(0,F.A)(this,"port",void 0),(0,F.A)(this,"path",void 0),(0,F.A)(this,"query",void 0),(0,F.A)(this,"headers",void 0),(0,F.A)(this,"username",void 0),(0,F.A)(this,"password",void 0),(0,F.A)(this,"fragment",void 0),(0,F.A)(this,"body",void 0),this.method=k.method||"GET",this.hostname=k.hostname||"localhost",this.port=k.port,this.query=k.query||{},this.headers=k.headers||{},this.body=k.body,this.protocol=k.protocol?":"!==k.protocol.slice(-1)?"".concat(k.protocol,":"):k.protocol:"https:",this.path=k.path?"/"!==k.path.charAt(0)?"/".concat(k.path):k.path:"/",this.username=k.username,this.password=k.password,this.fragment=k.fragment}return(0,v.A)(f,[{key:"clone",value:function(){return f.clone(this)}}],[{key:"clone",value:function(V){var T=new f((0,G.A)((0,G.A)({},V),{},{headers:(0,G.A)({},V.headers)}));return T.query&&(T.query=function o(f){return Object.keys(f).reduce(function(k,V){var T=f[V];return(0,G.A)((0,G.A)({},k),{},(0,F.A)({},V,Array.isArray(T)?(0,M.A)(T):T))},{})}(T.query)),T}},{key:"isInstance",value:function(V){return!!V&&("method"in V&&"protocol"in V&&"hostname"in V&&"path"in V&&"object"==typeof V.query&&"object"==typeof V.headers)}}])}()},1386:(Re,se,b)=>{b.d(se,{c:()=>v});var M=b(3288),G=b(3398),g=b(642),v=function(){return(0,G.A)(function F(A){(0,M.A)(this,F),(0,g.A)(this,"statusCode",void 0),(0,g.A)(this,"reason",void 0),(0,g.A)(this,"headers",void 0),(0,g.A)(this,"body",void 0),this.statusCode=A.statusCode,this.reason=A.reason,this.headers=A.headers||{},this.body=A.body},null,[{key:"isInstance",value:function(o){return!!o&&("number"==typeof o.statusCode&&"object"==typeof o.headers)}}])}()},3554:(Re,se,b)=>{b.d(se,{GQ:()=>_,Qb:()=>T,bV:()=>h});var G=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],g=["TimeoutError","RequestTimeout","RequestTimeoutException"],v=[500,502,503,504],F=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],A=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],T=function(w){var P,j;return 429===(null===(P=w.$metadata)||void 0===P?void 0:P.httpStatusCode)||G.includes(w.name)||1==(null===(j=w.$retryable)||void 0===j?void 0:j.throttling)},h=function(w){var P,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(w){return void 0!==w?.$retryable}(w)||function(w){var P;return null===(P=w.$metadata)||void 0===P?void 0:P.clockSkewCorrected}(w)||g.includes(w.name)||F.includes(w?.code||"")||A.includes(w?.code||"")||v.includes((null===(P=w.$metadata)||void 0===P?void 0:P.httpStatusCode)||0)||function(w){return!!(w&&w instanceof TypeError)&&new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]).has(w.message)}(w)||void 0!==w.cause&&j<=10&&h(w.cause,j+1)},_=function(w){var P;if(void 0!==(null===(P=w.$metadata)||void 0===P?void 0:P.httpStatusCode)){var j=w.$metadata.httpStatusCode;return 500<=j&&j<=599&&!h(w)}return!1}},324:(Re,se,b)=>{b.d(se,{B:()=>Dn});var M=b(11),G=b(1890),g=b(3288),v=b(3398),F=b(2297),A=b(3544),o=b(642),f=b(4576),k=b(3060),h="X-Amz-Date",w="X-Amz-Signature",P="X-Amz-Security-Token",I="authorization",R=h.toLowerCase(),ee=[I,R,"date"],W=w.toLowerCase(),X="x-amz-content-sha256",U=P.toLowerCase(),ce={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},te=/^proxy-/,Y=/^sec-/,pe="AWS4-HMAC-SHA256",he="AWS4-HMAC-SHA256-PAYLOAD",Ee="aws4_request",Qe={},Ze=[],st=function(Nt,Ct,kt){return"".concat(Nt,"/").concat(Ct,"/").concat(kt,"/").concat(Ee)},gt=function(){var ft=(0,G.A)((0,M.A)().m(function Nt(Ct,kt,Dt,mt,Ge){var ze,Et,Tt,Ft,wt,Lt;return(0,M.A)().w(function(sn){for(;;)switch(sn.n){case 0:return sn.n=1,rt(Ct,kt.secretAccessKey,kt.accessKeyId);case 1:if(ze=sn.v,!((Et="".concat(Dt,":").concat(mt,":").concat(Ge,":").concat((0,f.n)(ze),":").concat(kt.sessionToken))in Qe)){sn.n=2;break}return sn.a(2,Qe[Et]);case 2:for(Ze.push(Et);Ze.length>50;)delete Qe[Ze.shift()];Tt="AWS4".concat(kt.secretAccessKey),Ft=0,wt=[Dt,mt,Ge,Ee];case 3:if(!(Ft<wt.length)){sn.n=6;break}return Lt=wt[Ft],sn.n=4,rt(Ct,Tt,Lt);case 4:Tt=sn.v;case 5:Ft++,sn.n=3;break;case 6:return sn.a(2,Qe[Et]=Tt)}},Nt)}));return function(Ct,kt,Dt,mt,Ge){return ft.apply(this,arguments)}}(),rt=function(Nt,Ct,kt){var Dt=new Nt(Ct);return Dt.update((0,k.F)(kt)),Dt.digest()},ht=b(438),fe=function(Nt,Ct,kt){var ze,Dt=Nt.headers,mt={},Ge=(0,ht.A)(Object.keys(Dt).sort());try{for(Ge.s();!(ze=Ge.n()).done;){var Et=ze.value;if(null!=Dt[Et]){var Tt=Et.toLowerCase();(Tt in ce||null!=Ct&&Ct.has(Tt)||te.test(Tt)||Y.test(Tt))&&(!kt||kt&&!kt.has(Tt))||(mt[Tt]=Dt[Et].trim().replace(/\s+/g," "))}}}catch(Ft){Ge.e(Ft)}finally{Ge.f()}return mt},H=b(9099),K=function(){var ft=(0,G.A)(function(Nt,Ct){var kt=Nt.headers,Dt=Nt.body;return(0,M.A)().m(function mt(){var Ge,ze,Et,Tt,Ft;return(0,M.A)().w(function(wt){for(;;)switch(wt.n){case 0:Ge=0,ze=Object.keys(kt);case 1:if(!(Ge<ze.length)){wt.n=3;break}if((Et=ze[Ge]).toLowerCase()!==X){wt.n=2;break}return wt.a(2,kt[Et]);case 2:Ge++,wt.n=1;break;case 3:if(null!=Dt){wt.n=4;break}return wt.a(2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 4:if("string"!=typeof Dt&&!ArrayBuffer.isView(Dt)&&!(0,H.m)(Dt)){wt.n=6;break}return(Tt=new Ct).update((0,k.F)(Dt)),Ft=f.n,wt.n=5,Tt.digest();case 5:return wt.a(2,Ft(wt.v));case 6:return wt.a(2,"UNSIGNED-PAYLOAD")}},mt)})()});return function(Ct,kt){return ft.apply(this,arguments)}}(),xe=b(7521),Te=function(){return(0,v.A)(function ft(){(0,g.A)(this,ft)},[{key:"format",value:function(Ct){for(var kt=[],Dt=0,mt=Object.keys(Ct);Dt<mt.length;Dt++){var Ge=mt[Dt],ze=(0,xe.a)(Ge);kt.push(Uint8Array.from([ze.byteLength]),ze,this.formatHeaderValue(Ct[Ge]))}for(var Et=new Uint8Array(kt.reduce(function(sn,jt){return sn+jt.byteLength},0)),Tt=0,Ft=0,wt=kt;Ft<wt.length;Ft++){var Lt=wt[Ft];Et.set(Lt,Tt),Tt+=Lt.byteLength}return Et}},{key:"formatHeaderValue",value:function(Ct){switch(Ct.type){case"boolean":return Uint8Array.from([Ct.value?0:1]);case"byte":return Uint8Array.from([2,Ct.value]);case"short":var kt=new DataView(new ArrayBuffer(3));return kt.setUint8(0,3),kt.setInt16(1,Ct.value,!1),new Uint8Array(kt.buffer);case"integer":var Dt=new DataView(new ArrayBuffer(5));return Dt.setUint8(0,4),Dt.setInt32(1,Ct.value,!1),new Uint8Array(Dt.buffer);case"long":var mt=new Uint8Array(9);return mt[0]=5,mt.set(Ct.value.bytes,1),mt;case"binary":var Ge=new DataView(new ArrayBuffer(3+Ct.value.byteLength));Ge.setUint8(0,6),Ge.setUint16(1,Ct.value.byteLength,!1);var ze=new Uint8Array(Ge.buffer);return ze.set(Ct.value,3),ze;case"string":var Et=(0,xe.a)(Ct.value),Tt=new DataView(new ArrayBuffer(3+Et.byteLength));Tt.setUint8(0,7),Tt.setUint16(1,Et.byteLength,!1);var Ft=new Uint8Array(Tt.buffer);return Ft.set(Et,3),Ft;case"timestamp":var wt=new Uint8Array(9);return wt[0]=8,wt.set(Me.fromNumber(Ct.value.valueOf()).bytes,1),wt;case"uuid":if(!re.test(Ct.value))throw new Error("Invalid UUID received: ".concat(Ct.value));var Lt=new Uint8Array(17);return Lt[0]=9,Lt.set((0,f.a)(Ct.value.replace(/\-/g,"")),1),Lt}}}])}(),re=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Me=function(){function ft(Nt){if((0,g.A)(this,ft),(0,o.A)(this,"bytes",void 0),this.bytes=Nt,8!==Nt.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,v.A)(ft,[{key:"valueOf",value:function(){var Ct=this.bytes.slice(0),kt=128&Ct[0];return kt&&oe(Ct),parseInt((0,f.n)(Ct),16)*(kt?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(Ct){if(Ct>0x8000000000000000||Ct<-0x8000000000000000)throw new Error("".concat(Ct," is too large (or, if negative, too small) to represent as an Int64"));for(var kt=new Uint8Array(8),Dt=7,mt=Math.abs(Math.round(Ct));Dt>-1&&mt>0;Dt--,mt/=256)kt[Dt]=mt;return Ct<0&&oe(kt),new ft(kt)}}])}();function oe(ft){for(var Nt=0;Nt<8;Nt++)ft[Nt]^=255;for(var Ct=7;Ct>-1&&(ft[Ct]++,0===ft[Ct]);Ct--);}var J=function(Nt,Ct){Nt=Nt.toLowerCase();for(var kt=0,Dt=Object.keys(Ct);kt<Dt.length;kt++)if(Nt===Dt[kt].toLowerCase())return!0;return!1},je=b(2292),tt=b(3776),it=function(Nt){for(var Ct=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},kt=tt.K.clone(Nt),Dt=kt.headers,mt=kt.query,Ge=void 0===mt?{}:mt,ze=0,Et=Object.keys(Dt);ze<Et.length;ze++){var Tt,Ft,wt=Et[ze],Lt=wt.toLowerCase();("x-amz-"===Lt.slice(0,6)&&(null===(Tt=Ct.unhoistableHeaders)||void 0===Tt||!Tt.has(Lt))||null!==(Ft=Ct.hoistableHeaders)&&void 0!==Ft&&Ft.has(Lt))&&(Ge[wt]=Dt[wt],delete Dt[wt])}return(0,je.A)((0,je.A)({},Nt),{},{headers:Dt,query:Ge})},_t=function(Nt){Nt=tt.K.clone(Nt);for(var Ct=0,kt=Object.keys(Nt.headers);Ct<kt.length;Ct++){var Dt=kt[Ct];ee.indexOf(Dt.toLowerCase())>-1&&delete Nt.headers[Dt]}return Nt},Bt=b(6887),Vt=b(6639),Dn=function(ft){function Nt(Ct){var kt,Dt=Ct.applyChecksum,mt=Ct.credentials,Ge=Ct.region,ze=Ct.service,Et=Ct.sha256,Tt=Ct.uriEscapePath,Ft=void 0===Tt||Tt;return(0,g.A)(this,Nt),kt=(0,F.A)(this,Nt,[{applyChecksum:Dt,credentials:mt,region:Ge,service:ze,sha256:Et,uriEscapePath:Ft}]),(0,o.A)(kt,"headerFormatter",new Te),kt}return(0,A.A)(Nt,ft),(0,v.A)(Nt,[{key:"presign",value:(Ct=(0,G.A)(function(Dt){var mt=this,Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.A)().m(function ze(){var Et,Tt,Ft,wt,Lt,sn,jt,Un,tn,pn,kn,yr,Zn,Tn,kr,Nr,Gn,jn,dn,Gr,Fa,xn,rr,Ga,pi,Di;return(0,M.A)().w(function(gn){for(;;)switch(gn.n){case 0:return Tt=void 0===(Et=Ge.signingDate)?new Date:Et,wt=void 0===(Ft=Ge.expiresIn)?3600:Ft,Lt=Ge.unsignableHeaders,sn=Ge.unhoistableHeaders,jt=Ge.signableHeaders,Un=Ge.hoistableHeaders,tn=Ge.signingRegion,pn=Ge.signingService,gn.n=1,mt.credentialProvider();case 1:if(mt.validateResolvedCredentials(kn=gn.v),null==tn){gn.n=2;break}dn=tn,gn.n=4;break;case 2:return gn.n=3,mt.regionProvider();case 3:dn=gn.v;case 4:if(yr=dn,Zn=mt.formatDate(Tt),Tn=Zn.longDate,kr=Zn.shortDate,!(wt>604800)){gn.n=5;break}return gn.a(2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 5:return Nr=st(kr,yr,pn??mt.service),Gn=it(_t(Dt),{unhoistableHeaders:sn,hoistableHeaders:Un}),kn.sessionToken&&(Gn.query[P]=kn.sessionToken),Gn.query["X-Amz-Algorithm"]=pe,Gn.query["X-Amz-Credential"]="".concat(kn.accessKeyId,"/").concat(Nr),Gn.query[h]=Tn,Gn.query["X-Amz-Expires"]=wt.toString(10),jn=fe(Gn,Lt,jt),Gn.query["X-Amz-SignedHeaders"]=mt.getCanonicalHeaderList(jn),Gr=mt,Fa=Tn,xn=Nr,rr=mt.getSigningKey(kn,yr,kr,pn),Ga=mt,pi=Gn,Di=jn,gn.n=6,K(Dt,mt.sha256);case 6:return gn.n=7,Gr.getSignature.call(Gr,Fa,xn,rr,Ga.createCanonicalRequest.call(Ga,pi,Di,gn.v));case 7:return Gn.query[w]=gn.v,gn.a(2,Gn)}},ze)})()}),function kt(Dt){return Ct.apply(this,arguments)})},{key:"sign",value:function(){var Ct=(0,G.A)((0,M.A)().m(function Dt(mt,Ge){return(0,M.A)().w(function(ze){for(;;)switch(ze.n){case 0:if("string"!=typeof mt){ze.n=1;break}return ze.a(2,this.signString(mt,Ge));case 1:if(!mt.headers||!mt.payload){ze.n=2;break}return ze.a(2,this.signEvent(mt,Ge));case 2:if(!mt.message){ze.n=3;break}return ze.a(2,this.signMessage(mt,Ge));case 3:return ze.a(2,this.signRequest(mt,Ge));case 4:return ze.a(2)}},Dt,this)}));return function kt(Dt,mt){return Ct.apply(this,arguments)}}()},{key:"signEvent",value:function(){var Ct=(0,G.A)(function(Dt,mt){var Ge=this,ze=Dt.headers,Et=Dt.payload,Tt=mt.signingDate,Ft=void 0===Tt?new Date:Tt,wt=mt.priorSignature,Lt=mt.signingRegion,sn=mt.signingService;return(0,M.A)().m(function jt(){var Un,tn,kn,yr,Zn,Tn,kr,Nr,Gn,jn;return(0,M.A)().w(function(dn){for(;;)switch(dn.n){case 0:if(null==Lt){dn.n=1;break}Gn=Lt,dn.n=3;break;case 1:return dn.n=2,Ge.regionProvider();case 2:Gn=dn.v;case 3:return Un=Gn,tn=Ge.formatDate(Ft),kn=tn.longDate,yr=st(tn.shortDate,Un,sn??Ge.service),dn.n=4,K({headers:{},body:Et},Ge.sha256);case 4:return Zn=dn.v,(Tn=new Ge.sha256).update(ze),jn=f.n,dn.n=5,Tn.digest();case 5:return kr=jn(dn.v),Nr=[he,kn,yr,wt,kr,Zn].join("\n"),dn.a(2,Ge.signString(Nr,{signingDate:Ft,signingRegion:Un,signingService:sn}))}},jt)})()});return function kt(Dt,mt){return Ct.apply(this,arguments)}}()},{key:"signMessage",value:function(){var Ct=(0,G.A)(function(Dt,mt){var Ge=this,ze=mt.signingDate,Et=void 0===ze?new Date:ze,Tt=mt.signingRegion,Ft=mt.signingService;return(0,M.A)().m(function wt(){var Lt;return(0,M.A)().w(function(sn){for(;;)if(0===sn.n)return Lt=Ge.signEvent({headers:Ge.headerFormatter.format(Dt.message.headers),payload:Dt.message.body},{signingDate:Et,signingRegion:Tt,signingService:Ft,priorSignature:Dt.priorSignature}),sn.a(2,Lt.then(function(jt){return{message:Dt.message,signature:jt}}))},wt)})()});return function kt(Dt,mt){return Ct.apply(this,arguments)}}()},{key:"signString",value:function(){var Ct=(0,G.A)(function(Dt){var mt=this,Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ze=Ge.signingDate,Et=void 0===ze?new Date:ze,Tt=Ge.signingRegion,Ft=Ge.signingService;return(0,M.A)().m(function wt(){var Lt,sn,jt,Un,tn,pn,kn,Zn;return(0,M.A)().w(function(Tn){for(;;)switch(Tn.n){case 0:return Tn.n=1,mt.credentialProvider();case 1:if(mt.validateResolvedCredentials(Lt=Tn.v),null==Tt){Tn.n=2;break}pn=Tt,Tn.n=4;break;case 2:return Tn.n=3,mt.regionProvider();case 3:pn=Tn.v;case 4:return sn=pn,jt=mt.formatDate(Et),Un=jt.shortDate,kn=mt.sha256,Tn.n=5,mt.getSigningKey(Lt,sn,Un,Ft);case 5:return(tn=new kn(Tn.v)).update((0,k.F)(Dt)),Zn=f.n,Tn.n=6,tn.digest();case 6:return Tn.a(2,Zn(Tn.v))}},wt)})()});return function kt(Dt){return Ct.apply(this,arguments)}}()},{key:"signRequest",value:function(){var Ct=(0,G.A)(function(Dt){var mt=this,Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ze=Ge.signingDate,Et=void 0===ze?new Date:ze,Tt=Ge.signableHeaders,Ft=Ge.unsignableHeaders,wt=Ge.signingRegion,Lt=Ge.signingService;return(0,M.A)().m(function sn(){var jt,Un,tn,pn,kn,yr,Zn,Tn,kr,Nr,Gn;return(0,M.A)().w(function(jn){for(;;)switch(jn.n){case 0:return jn.n=1,mt.credentialProvider();case 1:if(mt.validateResolvedCredentials(jt=jn.v),null==wt){jn.n=2;break}Gn=wt,jn.n=4;break;case 2:return jn.n=3,mt.regionProvider();case 3:Gn=jn.v;case 4:return Un=Gn,tn=_t(Dt),pn=mt.formatDate(Et),kn=pn.longDate,Zn=st(yr=pn.shortDate,Un,Lt??mt.service),tn.headers[R]=kn,jt.sessionToken&&(tn.headers[U]=jt.sessionToken),jn.n=5,K(tn,mt.sha256);case 5:return Tn=jn.v,!J(X,tn.headers)&&mt.applyChecksum&&(tn.headers[X]=Tn),kr=fe(tn,Ft,Tt),jn.n=6,mt.getSignature(kn,Zn,mt.getSigningKey(jt,Un,yr,Lt),mt.createCanonicalRequest(tn,kr,Tn));case 6:return Nr=jn.v,tn.headers[I]="".concat(pe," ")+"Credential=".concat(jt.accessKeyId,"/").concat(Zn,", ")+"SignedHeaders=".concat(mt.getCanonicalHeaderList(kr),", ")+"Signature=".concat(Nr),jn.a(2,tn)}},sn)})()});return function kt(Dt){return Ct.apply(this,arguments)}}()},{key:"getSignature",value:function(){var Ct=(0,G.A)((0,M.A)().m(function Dt(mt,Ge,ze,Et){var Tt,Ft,wt,sn;return(0,M.A)().w(function(jt){for(;;)switch(jt.n){case 0:return jt.n=1,this.createStringToSign(mt,Ge,Et,pe);case 1:return Tt=jt.v,wt=this.sha256,jt.n=2,ze;case 2:return(Ft=new wt(jt.v)).update((0,k.F)(Tt)),sn=f.n,jt.n=3,Ft.digest();case 3:return jt.a(2,sn(jt.v))}},Dt,this)}));return function kt(Dt,mt,Ge,ze){return Ct.apply(this,arguments)}}()},{key:"getSigningKey",value:function(kt,Dt,mt,Ge){return gt(this.sha256,kt,mt,Dt,Ge||this.service)}}]);var Ct}(function(){return(0,v.A)(function ft(Nt){var Ct=Nt.applyChecksum,kt=Nt.credentials,Dt=Nt.region,mt=Nt.service,Ge=Nt.sha256,ze=Nt.uriEscapePath,Et=void 0===ze||ze;(0,g.A)(this,ft),(0,o.A)(this,"service",void 0),(0,o.A)(this,"regionProvider",void 0),(0,o.A)(this,"credentialProvider",void 0),(0,o.A)(this,"sha256",void 0),(0,o.A)(this,"uriEscapePath",void 0),(0,o.A)(this,"applyChecksum",void 0),this.service=mt,this.sha256=Ge,this.uriEscapePath=Et,this.applyChecksum="boolean"!=typeof Ct||Ct,this.regionProvider=(0,Bt.t)(Dt),this.credentialProvider=(0,Bt.t)(kt)},[{key:"createCanonicalRequest",value:function(Ct,kt,Dt){var mt=Object.keys(kt).sort();return"".concat(Ct.method,"\n").concat(this.getCanonicalPath(Ct),"\n").concat(function(Nt){for(var Ct=Nt.query,kt=void 0===Ct?{}:Ct,Dt=[],mt={},Ge=function(){var Ft=Et[ze];if(Ft.toLowerCase()===W)return 1;var wt=(0,Vt.o)(Ft);Dt.push(wt);var Lt=kt[Ft];"string"==typeof Lt?mt[wt]="".concat(wt,"=").concat((0,Vt.o)(Lt)):Array.isArray(Lt)&&(mt[wt]=Lt.slice(0).reduce(function(sn,jt){return sn.concat(["".concat(wt,"=").concat((0,Vt.o)(jt))])},[]).sort().join("&"))},ze=0,Et=Object.keys(kt);ze<Et.length;ze++)Ge();return Dt.sort().map(function(Tt){return mt[Tt]}).filter(function(Tt){return Tt}).join("&")}(Ct),"\n").concat(mt.map(function(Ge){return"".concat(Ge,":").concat(kt[Ge])}).join("\n"),"\n\n").concat(mt.join(";"),"\n").concat(Dt)}},{key:"createStringToSign",value:(Nt=(0,G.A)((0,M.A)().m(function kt(Dt,mt,Ge,ze){var Et,Tt;return(0,M.A)().w(function(Ft){for(;;)switch(Ft.n){case 0:return(Et=new this.sha256).update((0,k.F)(Ge)),Ft.n=1,Et.digest();case 1:return Tt=Ft.v,Ft.a(2,"".concat(ze,"\n").concat(Dt,"\n").concat(mt,"\n").concat((0,f.n)(Tt)))}},kt,this)})),function Ct(kt,Dt,mt,Ge){return Nt.apply(this,arguments)})},{key:"getCanonicalPath",value:function(Ct){var kt=Ct.path;if(this.uriEscapePath){var Ge,Dt=[],mt=(0,ht.A)(kt.split("/"));try{for(mt.s();!(Ge=mt.n()).done;){var ze=Ge.value;0!==ze?.length&&"."!==ze&&(".."===ze?Dt.pop():Dt.push(ze))}}catch(Ft){mt.e(Ft)}finally{mt.f()}var Et="".concat(null!=kt&&kt.startsWith("/")?"/":"").concat(Dt.join("/")).concat(Dt.length>0&&null!=kt&&kt.endsWith("/")?"/":"");return(0,Vt.o)(Et).replace(/%2F/g,"/")}return kt}},{key:"validateResolvedCredentials",value:function(Ct){if("object"!=typeof Ct||"string"!=typeof Ct.accessKeyId||"string"!=typeof Ct.secretAccessKey)throw new Error("Resolved credential object is not valid")}},{key:"formatDate",value:function(Ct){var kt=function(Nt){return function(Nt){return"number"==typeof Nt?new Date(1e3*Nt):"string"==typeof Nt?Number(Nt)?new Date(1e3*Number(Nt)):new Date(Nt):Nt}(Nt).toISOString().replace(/\.\d{3}Z$/,"Z")}(Ct).replace(/[\-:]/g,"");return{longDate:kt,shortDate:kt.slice(0,8)}}},{key:"getCanonicalHeaderList",value:function(Ct){return Object.keys(Ct).sort().join(";")}}]);var Nt}())},8310:(Re,se,b)=>{b.d(se,{N:()=>g});var M=b(3288),G=b(3398),g=function(){return(0,G.A)(function v(){(0,M.A)(this,v)},[{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}])}()},6977:(Re,se,b)=>{b.d(se,{K:()=>F});var M=b(3288),G=b(3398),g=b(642),v=b(1579),F=function(){return(0,G.A)(function A(o){(0,M.A)(this,A),(0,g.A)(this,"config",void 0),(0,g.A)(this,"middlewareStack",(0,v.o)()),(0,g.A)(this,"initConfig",void 0),(0,g.A)(this,"handlers",void 0),this.config=o},[{key:"send",value:function(f,k,V){var O,T="function"!=typeof k?k:void 0,h="function"==typeof k?k:V;if(void 0===T&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);var w=this.handlers;w.has(f.constructor)?O=w.get(f.constructor):(O=f.resolveMiddleware(this.middlewareStack,this.config,T),w.set(f.constructor,O))}else delete this.handlers,O=f.resolveMiddleware(this.middlewareStack,this.config,T);if(!h)return O(f).then(function(P){return P.output});O(f).then(function(P){return h(null,P.output)},function(P){return h(P)}).catch(function(){})}},{key:"destroy",value:function(){var f,k;null===(f=this.config)||void 0===f||null===(f=f.requestHandler)||void 0===f||null===(k=f.destroy)||void 0===k||k.call(f),delete this.handlers}}])}()},1852:(Re,se,b)=>{b.d(se,{u:()=>L});var M=b(2297),G=b(3544),g=b(2292),v=b(438),F=b(3288),A=b(3398),o=b(642),f=b(1579),k=b(3927),V=b(8824),T=b(11),h=function(X){return"function"==typeof X?X():X};function _(W){if("object"==typeof W)return W;W|=0;for(var X={},U=0,ne=0,ce=["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"];ne<ce.length;ne++)1==(W>>U++&1)&&(X[ce[ne]]=1);return X}var O=function(){var W=function(){function X(U,ne){(0,F.A)(this,X),(0,o.A)(this,"ref",void 0),(0,o.A)(this,"memberName",void 0),(0,o.A)(this,"symbol",X.symbol),(0,o.A)(this,"name",void 0),(0,o.A)(this,"schema",void 0),(0,o.A)(this,"_isMemberSchema",void 0),(0,o.A)(this,"traits",void 0),(0,o.A)(this,"memberTraits",void 0),(0,o.A)(this,"normalizedTraits",void 0),this.ref=U,this.memberName=ne;var he,ce=[],te=U,Y=U;for(this._isMemberSchema=!1;P(te);)ce.push(te[1]),Y=h(te=te[0]),this._isMemberSchema=!0;if(ce.length>0){this.memberTraits={};for(var ie=ce.length-1;ie>=0;--ie)Object.assign(this.memberTraits,_(ce[ie]))}else this.memberTraits=0;if(Y instanceof X){var _e=this.memberTraits;return Object.assign(this,Y),this.memberTraits=Object.assign({},_e,Y.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,void(this.memberName=ne??Y.memberName)}if(this.schema=h(Y),j(this.schema)?(this.name="".concat(this.schema[1],"#").concat(this.schema[2]),this.traits=this.schema[3]):(this.name=null!==(he=this.memberName)&&void 0!==he?he:String(Y),this.traits=0),this._isMemberSchema&&!ne)throw new Error("@smithy/core/schema - NormalizedSchema member init ".concat(this.getName(!0)," missing member name."))}return(0,A.A)(X,[{key:"getSchema",value:function(){var ne=this.schema;return 0===ne[0]?ne[4]:ne}},{key:"getName",value:function(){var ce=this.name;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!ce||!ce.includes("#")?ce||void 0:ce.split("#")[1]}},{key:"getMemberName",value:function(){return this.memberName}},{key:"isMemberSchema",value:function(){return this._isMemberSchema}},{key:"isListSchema",value:function(){var ne=this.getSchema();return"number"==typeof ne?ne>=64&&ne<128:1===ne[0]}},{key:"isMapSchema",value:function(){var ne=this.getSchema();return"number"==typeof ne?ne>=128&&ne<=255:2===ne[0]}},{key:"isStructSchema",value:function(){var ne=this.getSchema();return 3===ne[0]||-3===ne[0]}},{key:"isBlobSchema",value:function(){var ne=this.getSchema();return 21===ne||42===ne}},{key:"isTimestampSchema",value:function(){var ne=this.getSchema();return"number"==typeof ne&&ne>=4&&ne<=7}},{key:"isUnitSchema",value:function(){return"unit"===this.getSchema()}},{key:"isDocumentSchema",value:function(){return 15===this.getSchema()}},{key:"isStringSchema",value:function(){return 0===this.getSchema()}},{key:"isBooleanSchema",value:function(){return 2===this.getSchema()}},{key:"isNumericSchema",value:function(){return 1===this.getSchema()}},{key:"isBigIntegerSchema",value:function(){return 17===this.getSchema()}},{key:"isBigDecimalSchema",value:function(){return 19===this.getSchema()}},{key:"isStreaming",value:function(){return!!this.getMergedTraits().streaming||42===this.getSchema()}},{key:"isIdempotencyToken",value:function(){var ne=function(pe){return!(4&~pe&&(null==pe||!pe.idempotencyToken))},te=this.traits,Y=this.memberTraits;return ne(this.normalizedTraits)||ne(te)||ne(Y)}},{key:"getMergedTraits",value:function(){var ne;return null!==(ne=this.normalizedTraits)&&void 0!==ne?ne:this.normalizedTraits=(0,g.A)((0,g.A)({},this.getOwnTraits()),this.getMemberTraits())}},{key:"getMemberTraits",value:function(){return _(this.memberTraits)}},{key:"getOwnTraits",value:function(){return _(this.traits)}},{key:"getKeySchema",value:function(){var ne,ce=[this.isDocumentSchema(),this.isMapSchema()],te=ce[0];if(!te&&!ce[1])throw new Error("@smithy/core/schema - cannot get key for non-map: ".concat(this.getName(!0)));var ie=this.getSchema();return w([te?15:null!==(ne=ie[4])&&void 0!==ne?ne:0,0],"key")}},{key:"getValueSchema",value:function(){var ne=this.getSchema(),ce=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],Y=ce[1],pe="number"==typeof ne?63&ne:ne&&"object"==typeof ne&&(Y||ce[2])?ne[3+ne[0]]:ce[0]?15:void 0;if(null!=pe)return w([pe,0],Y?"value":"member");throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no value member."))}},{key:"getMemberSchema",value:function(ne){var ce=this.getSchema();if(this.isStructSchema()&&ce[4].includes(ne)){var te=ce[4].indexOf(ne),Y=ce[5][te];return w(P(Y)?Y:[Y,0],ne)}if(this.isDocumentSchema())return w([15,0],ne);throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no no member=").concat(ne,"."))}},{key:"getMemberSchemas",value:function(){var ne={};try{var te,ce=(0,v.A)(this.structIterator());try{for(ce.s();!(te=ce.n()).done;){var Y=(0,V.A)(te.value,2);ne[Y[0]]=Y[1]}}catch(_e){ce.e(_e)}finally{ce.f()}}catch{}return ne}},{key:"getEventStreamMember",value:function(){if(this.isStructSchema()){var ce,ne=(0,v.A)(this.structIterator());try{for(ne.s();!(ce=ne.n()).done;){var te=(0,V.A)(ce.value,2),Y=te[0],ie=te[1];if(ie.isStreaming()&&ie.isStructSchema())return Y}}catch(pe){ne.e(pe)}finally{ne.f()}}return""}},{key:"structIterator",value:(0,T.A)().m(function U(){var ne,ce;return(0,T.A)().w(function(te){for(;;)switch(te.n){case 0:if(!this.isUnitSchema()){te.n=1;break}return te.a(2);case 1:if(this.isStructSchema()){te.n=2;break}throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");case 2:ne=this.getSchema(),ce=0;case 3:if(!(ce<ne[4].length)){te.n=5;break}return te.n=4,[ne[4][ce],w([ne[5][ce],0],ne[4][ce])];case 4:++ce,te.n=3;break;case 5:return te.a(2)}},U,this)})}],[{key:Symbol.hasInstance,value:function(ne){var ce=this.prototype.isPrototypeOf(ne);return ce||"object"!=typeof ne||null===ne?ce:ne.symbol===this.symbol}},{key:"of",value:function(ne){var ce=h(ne);if(ce instanceof X)return ce;if(P(ce)){var te=(0,V.A)(ce,2),Y=te[0],ie=te[1];if(Y instanceof X)return Object.assign(Y.getMergedTraits(),_(ie)),Y;throw new Error("@smithy/core/schema - may not init unwrapped member schema=".concat(JSON.stringify(ne,null,2),"."))}return new X(ce)}}])}();return(0,o.A)(W,"symbol",Symbol.for("@smithy/nor")),W}();function w(W,X){return W instanceof O?Object.assign(W,{memberName:X,_isMemberSchema:!0}):new O(W,X)}var P=function(X){return Array.isArray(X)&&2===X.length},j=function(X){return Array.isArray(X)&&X.length>=5},I="***SensitiveInformation***";function R(W,X){if(null==X)return X;var U=O.of(W);if(U.getMergedTraits().sensitive)return I;if(U.isListSchema()){if(U.getValueSchema().getMergedTraits().sensitive)return I}else if(U.isMapSchema()){if(U.getKeySchema().getMergedTraits().sensitive||U.getValueSchema().getMergedTraits().sensitive)return I}else if(U.isStructSchema()&&"object"==typeof X){var pe,te=X,Y={},ie=(0,v.A)(U.structIterator());try{for(ie.s();!(pe=ie.n()).done;){var _e=(0,V.A)(pe.value,2),he=_e[0];null!=te[he]&&(Y[he]=R(_e[1],te[he]))}}catch($e){ie.e($e)}finally{ie.f()}return Y}return X}var L=function(){return(0,A.A)(function W(){(0,F.A)(this,W),(0,o.A)(this,"middlewareStack",(0,f.o)()),(0,o.A)(this,"schema",void 0)},[{key:"resolveMiddlewareWithContext",value:function(U,ne,ce,te){var Qe,ie=te.clientName,pe=te.commandName,_e=te.inputFilterSensitiveLog,he=te.outputFilterSensitiveLog,ue=te.smithyContext,$e=te.additionalContext,Ee=te.CommandCtor,Be=(0,v.A)(te.middlewareFn.bind(this)(Ee,U,ne,ce));try{for(Be.s();!(Qe=Be.n()).done;)this.middlewareStack.use(Qe.value)}catch(ht){Be.e(ht)}finally{Be.f()}var st=U.concat(this.middlewareStack),qe=(0,g.A)((0,o.A)({logger:ne.logger,clientName:ie,commandName:pe,inputFilterSensitiveLog:_e,outputFilterSensitiveLog:he},k.V,(0,g.A)({commandInstance:this},ue)),$e),rt=ne.requestHandler;return st.resolve(function(ht){return rt.handle(ht.request,ce||{})},qe)}}],[{key:"classBuilder",value:function(){return new ee}}])}(),ee=function(){return(0,A.A)(function W(){(0,F.A)(this,W),(0,o.A)(this,"_init",function(){}),(0,o.A)(this,"_ep",{}),(0,o.A)(this,"_middlewareFn",function(){return[]}),(0,o.A)(this,"_commandName",""),(0,o.A)(this,"_clientName",""),(0,o.A)(this,"_additionalContext",{}),(0,o.A)(this,"_smithyContext",{}),(0,o.A)(this,"_inputFilterSensitiveLog",void 0),(0,o.A)(this,"_outputFilterSensitiveLog",void 0),(0,o.A)(this,"_serializer",null),(0,o.A)(this,"_deserializer",null),(0,o.A)(this,"_operationSchema",void 0)},[{key:"init",value:function(U){this._init=U}},{key:"ep",value:function(U){return this._ep=U,this}},{key:"m",value:function(U){return this._middlewareFn=U,this}},{key:"s",value:function(U,ne){return this._smithyContext=(0,g.A)({service:U,operation:ne},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this}},{key:"c",value:function(){return this._additionalContext=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this}},{key:"n",value:function(U,ne){return this._clientName=U,this._commandName=ne,this}},{key:"f",value:function(){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(ce){return ce};return this._inputFilterSensitiveLog=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(ce){return ce},this._outputFilterSensitiveLog=ne,this}},{key:"ser",value:function(U){return this._serializer=U,this}},{key:"de",value:function(U){return this._deserializer=U,this}},{key:"sc",value:function(U){return this._operationSchema=U,this._smithyContext.operationSchema=U,this}},{key:"build",value:function(){var ne,U=this;return ne=function(ce){function te(){for(var Y,ie=arguments.length,pe=new Array(ie),_e=0;_e<ie;_e++)pe[_e]=arguments[_e];var he=pe[0];return(0,F.A)(this,te),Y=(0,M.A)(this,te),(0,o.A)(Y,"input",void 0),(0,o.A)(Y,"serialize",U._serializer),(0,o.A)(Y,"deserialize",U._deserializer),Y.input=he??{},U._init(Y),Y.schema=U._operationSchema,Y}return(0,G.A)(te,ce),(0,A.A)(te,[{key:"resolveMiddleware",value:function(ie,pe,_e){var he,ue,$e,Ee,Be=U._operationSchema,Qe=null!==(he=Be?.[4])&&void 0!==he?he:Be?.input,Ze=null!==(ue=Be?.[5])&&void 0!==ue?ue:Be?.output;return this.resolveMiddlewareWithContext(ie,pe,_e,{CommandCtor:ne,middlewareFn:U._middlewareFn,clientName:U._clientName,commandName:U._commandName,inputFilterSensitiveLog:null!==($e=U._inputFilterSensitiveLog)&&void 0!==$e?$e:Be?R.bind(null,Qe):function(st){return st},outputFilterSensitiveLog:null!==(Ee=U._outputFilterSensitiveLog)&&void 0!==Ee?Ee:Be?R.bind(null,Ze):function(st){return st},smithyContext:U._smithyContext,additionalContext:U._additionalContext})}}],[{key:"getEndpointParameterInstructions",value:function(){return U._ep}}])}(L)}}])}()},3181:(Re,se,b)=>{b.d(se,{$:()=>M});var M="***SensitiveInformation***"},1987:(Re,se,b)=>{b.d(se,{j:()=>g});var M=b(3628),g=function(A){return function(o){!function(A){var f=A.parsedBody,k=A.exceptionCtor,V=A.errorCode,T=v(A.output),h=T.httpStatusCode?T.httpStatusCode+"":void 0,_=new k({name:f?.code||f?.Code||V||h||"UnknownError",$fault:"client",$metadata:T});throw(0,M.M)(_,f)}({output:o.output,parsedBody:o.parsedBody,exceptionCtor:A,errorCode:o.errorCode})}},v=function(A){var o,f;return{httpStatusCode:A.statusCode,requestId:null!==(o=null!==(f=A.headers["x-amzn-requestid"])&&void 0!==f?f:A.headers["x-amzn-request-id"])&&void 0!==o?o:A.headers["x-amz-request-id"],extendedRequestId:A.headers["x-amz-id-2"],cfId:A.headers["x-amz-cf-id"]}}},8526:(Re,se,b)=>{b.d(se,{l:()=>M});var M=function(g){switch(g){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}},3628:(Re,se,b)=>{b.d(se,{M:()=>k,T:()=>f});var M=b(8824),G=b(3288),g=b(3398),v=b(2297),F=b(3544),A=b(4334),o=b(642),f=function(V){function T(h){var _;return(0,G.A)(this,T),_=(0,v.A)(this,T,[h.message]),(0,o.A)(_,"$fault",void 0),(0,o.A)(_,"$response",void 0),(0,o.A)(_,"$retryable",void 0),(0,o.A)(_,"$metadata",void 0),Object.setPrototypeOf(_,Object.getPrototypeOf(_).constructor.prototype),_.name=h.name,_.$fault=h.$fault,_.$metadata=h.$metadata,_}return(0,F.A)(T,V),(0,g.A)(T,null,[{key:"isInstance",value:function(_){if(!_)return!1;var O=_;return T.prototype.isPrototypeOf(O)||!!O.$fault&&!!O.$metadata&&("client"===O.$fault||"server"===O.$fault)}},{key:Symbol.hasInstance,value:function(_){if(!_)return!1;var O=_;return this===T?T.isInstance(_):!!T.isInstance(_)&&(O.name&&this.name?this.prototype.isPrototypeOf(_)||O.name===this.name:this.prototype.isPrototypeOf(_))}}])}((0,A.A)(Error)),k=function(T){return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).filter(function(O){return void 0!==(0,M.A)(O,2)[1]}).forEach(function(O){var w=(0,M.A)(O,2),P=w[0];(null==T[P]||""===T[P])&&(T[P]=w[1])}),T.message=T.message||T.Message||"UnknownError",delete T.Message,T}},6747:(Re,se,b)=>{b.d(se,{xA:()=>f,uv:()=>V});var M=function(T){return T.MD5="md5",T.CRC32="crc32",T.CRC32C="crc32c",T.SHA1="sha1",T.SHA256="sha256",T}(M||{}),f=function(h){return Object.assign(function(h){var _=[],O=function(){var j=M[w];if(void 0===h[j])return 1;_.push({algorithmId:function(){return j},checksumConstructor:function(){return h[j]}})};for(var w in M)O();return{addChecksumAlgorithm:function(j){_.push(j)},checksumAlgorithms:function(){return _}}}(h),function(h){return{setRetryStrategy:function(O){h.retryStrategy=O},retryStrategy:function(){return h.retryStrategy}}}(h))},V=function(h){return Object.assign(function(h){var _={};return h.checksumAlgorithms().forEach(function(O){_[O.algorithmId()]=O.checksumConstructor()}),_}(h),function(h){var _={};return _.retryStrategy=h.retryStrategy(),_}(h))}},9286:(Re,se,b)=>{b.d(se,{Tj:()=>G,s:()=>v});var M=b(8824);function G(k,V,T){var h,O;if(typeof V>"u"&&typeof T>"u")h={},O=k;else{if(h=k,"function"==typeof V)return F(h,V,O=T);O=V}for(var w=0,P=Object.keys(O);w<P.length;w++){var j=P[w];Array.isArray(O[j])?A(h,null,O,j):h[j]=O[j]}return h}var v=function(V,T){var h={};for(var _ in T)A(h,V,T,_);return h},F=function(V,T,h){return G(V,Object.entries(h).reduce(function(_,O){var w=(0,M.A)(O,2),j=w[1];return _[w[0]]=Array.isArray(j)?j:"function"==typeof j?[T,j()]:[T,j],_},{}))},A=function(V,T,h,_){if(null===T){var X=(0,M.A)(h[_],2),U=X[0],ne=X[1];if("function"==typeof ne){var ce,te=void 0===U&&null!=(ce=ne()),Y="function"==typeof U&&!!U(void 0)||"function"!=typeof U&&!!U;te?V[_]=ce:Y&&(V[_]=ne())}else{var ie=void 0===U&&null!=ne,pe="function"==typeof U&&!!U(ne)||"function"!=typeof U&&!!U;(ie||pe)&&(V[_]=ne)}}else{var O=h[_];"function"==typeof O&&(O=[,O]);var P=(0,M.A)(O,3),j=P[0],I=void 0===j?o:j,R=P[1],L=void 0===R?f:R,ee=P[2],W=void 0===ee?_:ee;("function"==typeof I&&I(T[W])||"function"!=typeof I&&I)&&(V[_]=L(T[W]))}},o=function(V){return null!=V},f=function(V){return V}},3927:(Re,se,b)=>{b.d(se,{V:()=>M});var M="__smithy_context"},993:(Re,se,b)=>{b.d(se,{D:()=>v});var M=b(8824),G=b(438),v=function(A){if("string"==typeof A)return v(new URL(A));var h,o=A.hostname,f=A.pathname,k=A.port,V=A.protocol,T=A.search;return T&&(h=function g(F){var A={};if(F=F.replace(/^\?/,"")){var f,o=(0,G.A)(F.split("&"));try{for(o.s();!(f=o.n()).done;){var V=f.value.split("="),T=(0,M.A)(V,2),h=T[0],_=T[1],O=void 0===_?null:_;h=decodeURIComponent(h),O&&(O=decodeURIComponent(O)),h in A?Array.isArray(A[h])?A[h].push(O):A[h]=[A[h],O]:A[h]=O}}catch(w){o.e(w)}finally{o.f()}}return A}(T)),{hostname:o,port:k?parseInt(k):void 0,protocol:V,path:f,query:h}}},7245:(Re,se,b)=>{b.d(se,{Kc:()=>v,OF:()=>o,_w:()=>F,kQ:()=>A,mh:()=>g});var M=b(8824),G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=Object.entries(G).reduce(function(f,k){var V=(0,M.A)(k,2);return f[V[1]]=Number(V[0]),f},{}),v=G.split(""),F=6,A=8,o=63},8833:(Re,se,b)=>{b.d(se,{E:()=>G});var M=b(7245),G=function(v){var F=v.length/4*3;"=="===v.slice(-2)?F-=2:"="===v.slice(-1)&&F--;for(var A=new ArrayBuffer(F),o=new DataView(A),f=0;f<v.length;f+=4){for(var k=0,V=0,T=f,h=f+3;T<=h;T++)if("="!==v[T]){if(!(v[T]in M.mh))throw new TypeError("Invalid character ".concat(v[T]," in base64 string."));k|=M.mh[v[T]]<<(h-T)*M._w,V+=M._w}else k>>=M._w;var _=f/4*3;k>>=V%M.kQ;for(var O=Math.floor(V/M.kQ),w=0;w<O;w++){var P=(O-w-1)*M.kQ;o.setUint8(_+w,(k&255<<P)>>P)}}return new Uint8Array(A)}},7436:(Re,se,b)=>{b.d(se,{n:()=>g});var M=b(7521),G=b(7245);function g(v){var F;if(!("object"==typeof(F="string"==typeof v?(0,M.a)(v):v)&&"number"==typeof F.length||"object"==typeof F&&"number"==typeof F.byteOffset&&"number"==typeof F.byteLength))throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");for(var f="",k=0;k<F.length;k+=3){for(var V=0,T=0,h=k,_=Math.min(k+3,F.length);h<_;h++)V|=F[h]<<(_-h-1)*G.kQ,T+=G.kQ;var O=Math.ceil(T/G._w);V<<=O*G._w-T;for(var w=1;w<=O;w++){var P=(O-w)*G._w;f+=G.Kc[(V&G.OF<<P)>>P]}f+="==".slice(0,4-O)}return f}},9153:(Re,se,b)=>{b.d(se,{n:()=>G});var M="function"==typeof TextEncoder?new TextEncoder:null,G=function(v){if("string"==typeof v){if(M)return M.encode(v).byteLength;for(var F=v.length,A=F-1;A>=0;A--){var o=v.charCodeAt(A);o>127&&o<=2047?F++:o>2047&&o<=65535&&(F+=2),o>=56320&&o<=57343&&A--}return F}if("number"==typeof v.byteLength)return v.byteLength;if("number"==typeof v.size)return v.size;throw new Error("Body Length computation failed for ".concat(v))}},694:(Re,se,b)=>{b.d(se,{Q:()=>M});var M=function(g,v,F){if(v in g){if("true"===g[v])return!0;if("false"===g[v])return!1;throw new Error("Cannot load ".concat(F,' "').concat(v,'". Expected "true" or "false", got ').concat(g[v],"."))}}},2734:(Re,se,b)=>{b.d(se,{c:()=>M});var M=function(G){return G.ENV="env",G.CONFIG="shared config entry",G}(M||{})},5208:(Re,se,b)=>{b.d(se,{I:()=>F});var M=b(11),G=b(1890),v=["in-region","cross-region","mobile","standard","legacy"],F=function(){var f,T,h,_,w,k=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultsMode;return f=(0,G.A)((0,M.A)().m(function V(){var T,h,_;return(0,M.A)().w(function(O){for(;;)switch(O.n){case 0:if("function"!=typeof k){O.n=2;break}return O.n=1,k();case 1:h=O.v,O.n=3;break;case 2:h=k;case 3:T=h,_=T?.toLowerCase(),O.n="auto"===_?4:"mobile"===_||"in-region"===_||"cross-region"===_||"standard"===_||"legacy"===_?5:void 0===_?6:7;break;case 4:return O.a(2,Promise.resolve(A()?"mobile":"standard"));case 5:return O.a(2,Promise.resolve(T?.toLocaleLowerCase()));case 6:return O.a(2,Promise.resolve("legacy"));case 7:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(v.join(", "),", got ").concat(T));case 8:return O.a(2)}},V)})),w=function(){var P=(0,G.A)((0,M.A)().m(function j(){return(0,M.A)().w(function(I){for(;;)switch(I.p=I.n){case 0:return h||(h=f()),I.p=1,I.n=2,h;case 2:T=I.v,_=!0;case 3:return I.p=3,h=void 0,I.f(3);case 4:return I.a(2,T)}},j,null,[[1,,3,4]])}));return function(){return P.apply(this,arguments)}}(),function(){var P=(0,G.A)((0,M.A)().m(function j(I){return(0,M.A)().w(function(R){for(;;)switch(R.n){case 0:if(_&&(null==I||!I.forceRefresh)){R.n=2;break}return R.n=1,w();case 1:T=R.v;case 2:return R.a(2,T)}},j)}));return function(j){return P.apply(this,arguments)}}()},A=function(){var f,k,V=null===(f=window)||void 0===f?void 0:f.navigator;if(null!=V&&V.connection){var T=V?.connection,h=T.effectiveType,O=T.downlink;if("string"==typeof h&&"4g"!==h||Number(T.rtt)>100||Number(O)<10)return!0}return(null==V||null===(k=V.userAgentData)||void 0===k?void 0:k.mobile)||"number"==typeof V?.maxTouchPoints&&V?.maxTouchPoints>1}},4585:(Re,se,b)=>{b.d(se,{k:()=>F});var M=b(438),G=b(3288),g=b(3398),v=b(642),F=function(){return(0,g.A)(function A(o){var f=o.size,k=o.params;(0,G.A)(this,A),(0,v.A)(this,"capacity",void 0),(0,v.A)(this,"data",new Map),(0,v.A)(this,"parameters",[]),this.capacity=f??50,k&&(this.parameters=k)},[{key:"get",value:function(f,k){var V=this.hash(f);if(!1===V)return k();if(!this.data.has(V)){if(this.data.size>this.capacity+10)for(var T=this.data.keys(),h=0;;){var _=T.next(),w=_.done;if(this.data.delete(_.value),w||++h>10)break}this.data.set(V,k())}return this.data.get(V)}},{key:"size",value:function(){return this.data.size}},{key:"hash",value:function(f){var k="",V=this.parameters;if(0===V.length)return!1;var h,T=(0,M.A)(V);try{for(T.s();!(h=T.n()).done;){var _,w=String(null!==(_=f[h.value])&&void 0!==_?_:"");if(w.includes("|;"))return!1;k+=w+"|;"}}catch(P){T.e(P)}finally{T.f()}return k}}])}()},4110:(Re,se,b)=>{b.d(se,{o:()=>G});var M=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),G=function(v){return M.test(v)||v.startsWith("[")&&v.endsWith("]")}},8023:(Re,se,b)=>{b.d(se,{X:()=>g});var M=b(438),G=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),g=function(F){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return G.test(F);var k,o=F.split("."),f=(0,M.A)(o);try{for(f.s();!(k=f.n()).done;)if(!g(k.value))return!1}catch(T){f.e(T)}finally{f.f()}return!0}},7227:(Re,se,b)=>{b.d(se,{s:()=>Te});var M=b(438),G=b(8824),g="endpoints";function v(ae){return"object"!=typeof ae||null==ae?ae:"ref"in ae?"$".concat(v(ae.ref)):"fn"in ae?"".concat(ae.fn,"(").concat((ae.argv||[]).map(v).join(", "),")"):JSON.stringify(ae,null,2)}var F=b(3398),A=b(3288),o=b(2297),f=b(3544),V=function(ae){function re(Me){var oe;return(0,A.A)(this,re),(oe=(0,o.A)(this,re,[Me])).name="EndpointError",oe}return(0,f.A)(re,ae),(0,F.A)(re)}((0,b(4334).A)(Error)),T=b(2292),h=b(8051),_=b(3730),O=b(9059),j=function(re,Me){return function(re){var Q,Me=re.split("."),oe=[],J=(0,M.A)(Me);try{for(J.s();!(Q=J.n()).done;){var be=Q.value,je=be.indexOf("[");if(-1!==je){if(be.indexOf("]")!==be.length-1)throw new V("Path: '".concat(re,"' does not end with ']'"));var tt=be.slice(je+1,-1);if(Number.isNaN(parseInt(tt)))throw new V("Invalid array index: '".concat(tt,"' in path: '").concat(re,"'"));0!==je&&oe.push(be.slice(0,je)),oe.push(tt)}else oe.push(be)}}catch(it){J.e(it)}finally{J.f()}return oe}(Me).reduce(function(oe,J){if("object"!=typeof oe)throw new V("Index '".concat(J,"' in '").concat(Me,"' not found in '").concat(JSON.stringify(re),"'"));return Array.isArray(oe)?oe[parseInt(J)]:oe[J]},re)},R=b(8023),ee=b(642),W=function(ae){return ae.HTTP="http",ae.HTTPS="https",ae}(W||{}),X=b(4110),U=(0,ee.A)((0,ee.A)({},W.HTTP,80),W.HTTPS,443),ie={booleanEquals:function(re,Me){return re===Me},getAttr:j,isSet:function(re){return null!=re},isValidHostLabel:R.X,not:function(re){return!re},parseURL:function(re){var Me=function(){try{if(re instanceof URL)return re;if("object"==typeof re&&"hostname"in re){var cn=re.hostname,fn=re.port,we=re.protocol,Dn=re.path,ft=void 0===Dn?"":Dn,Nt=re.query,Ct=void 0===Nt?{}:Nt,kt=new URL("".concat(void 0===we?"":we,"//").concat(cn).concat(fn?":".concat(fn):"").concat(ft));return kt.search=Object.entries(Ct).map(function(Dt){var mt=(0,G.A)(Dt,2),ze=mt[1];return"".concat(mt[0],"=").concat(ze)}).join("&"),kt}return new URL(re)}catch{return null}}();if(!Me)return console.error("Unable to parse ".concat(JSON.stringify(re)," as a whatwg URL.")),null;var oe=Me.href,J=Me.host,Q=Me.hostname,be=Me.pathname;if(Me.search)return null;var it=Me.protocol.slice(0,-1);if(!Object.values(W).includes(it))return null;var _t=(0,X.o)(Q),Bt=oe.includes("".concat(J,":").concat(U[it]))||"string"==typeof re&&re.includes("".concat(J,":").concat(U[it]));return{scheme:it,authority:"".concat(J).concat(Bt?":".concat(U[it]):""),path:be,normalizedPath:be.endsWith("/")?be:"".concat(be,"/"),isIp:_t}},stringEquals:function(re,Me){return re===Me},substring:function(re,Me,oe,J){return Me>=oe||re.length<oe?null:J?re.substring(re.length-oe,re.length-Me):re.substring(Me,oe)},uriEncode:function(re){return encodeURIComponent(re).replace(/[!*'()]/g,function(Me){return"%".concat(Me.charCodeAt(0).toString(16).toUpperCase())})}},pe=function(re,Me){for(var oe=[],J=(0,T.A)((0,T.A)({},Me.endpointParams),Me.referenceRecord),Q=0;Q<re.length;){var be=re.indexOf("{",Q);if(-1===be){oe.push(re.slice(Q));break}oe.push(re.slice(Q,be));var je=re.indexOf("}",be);if(-1===je){oe.push(re.slice(be));break}"{"===re[be+1]&&"}"===re[je+1]&&(oe.push(re.slice(be+1,je)),Q=je+2);var tt=re.substring(be+1,je);if(tt.includes("#")){var it=tt.split("#"),_t=(0,G.A)(it,2);oe.push(j(J[_t[0]],_t[1]))}else oe.push(J[tt]);Q=je+1}return oe.join("")},he=function(re,Me,oe){if("string"==typeof re)return pe(re,oe);if(re.fn)return $e.callFunction(re,oe);if(re.ref)return function(re,Me){var oe=re.ref;return(0,T.A)((0,T.A)({},Me.endpointParams),Me.referenceRecord)[oe]}(re,oe);throw new V("'".concat(Me,"': ").concat(String(re)," is not a string, function or reference."))},ue=function(re,Me){var je,oe=re.fn,Q=re.argv.map(function(tt){return["boolean","number"].includes(typeof tt)?tt:$e.evaluateExpression(tt,"arg",Me)}),be=oe.split(".");return be[0]in O.m&&null!=be[1]?(je=O.m[be[0]])[be[1]].apply(je,(0,_.A)(Q)):ie[oe].apply(ie,(0,_.A)(Q))},$e={evaluateExpression:he,callFunction:ue},Ee=["assign"],Be=function(re,Me){var oe,J,Q=re.assign,be=(0,h.A)(re,Ee);if(Q&&Q in Me.referenceRecord)throw new V("'".concat(Q,"' is already defined in Reference Record."));var je=ue(be,Me);return null===(oe=Me.logger)||void 0===oe||null===(J=oe.debug)||void 0===J||J.call(oe,"".concat(g," evaluateCondition: ").concat(v(be)," = ").concat(v(je))),(0,T.A)({result:""===je||!!je},null!=Q&&{toAssign:{name:Q,value:je}})},Qe=function(){var Q,Me=arguments.length>1?arguments[1]:void 0,oe={},J=(0,M.A)(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(J.s();!(Q=J.n()).done;){var _t,Bt,je=Be(Q.value,(0,T.A)((0,T.A)({},Me),{},{referenceRecord:(0,T.A)((0,T.A)({},Me.referenceRecord),oe)})),tt=je.result,it=je.toAssign;if(!tt)return{result:tt};it&&(oe[it.name]=it.value,null===(_t=Me.logger)||void 0===_t||null===(Bt=_t.debug)||void 0===Bt||Bt.call(_t,"".concat(g," assign: ").concat(it.name," := ").concat(v(it.value))))}}catch(Vt){J.e(Vt)}finally{J.f()}return{result:!0,referenceRecord:oe}},Ze=function(re,Me){return Object.entries(re).reduce(function(oe,J){var Q=(0,G.A)(J,2),be=Q[0],je=Q[1];return(0,T.A)((0,T.A)({},oe),{},(0,ee.A)({},be,je.map(function(tt){var it=he(tt,"Header value entry",Me);if("string"!=typeof it)throw new V("Header '".concat(be,"' value '").concat(it,"' is not a string"));return it})))},{})},st=function(re,Me){return Object.entries(re).reduce(function(oe,J){var Q=(0,G.A)(J,2),be=Q[0],je=Q[1];return(0,T.A)((0,T.A)({},oe),{},(0,ee.A)({},be,qe.getEndpointProperty(je,Me)))},{})},gt=function(re,Me){if(Array.isArray(re))return re.map(function(oe){return gt(oe,Me)});switch(typeof re){case"string":return pe(re,Me);case"object":if(null===re)throw new V("Unexpected endpoint property: ".concat(re));return qe.getEndpointProperties(re,Me);case"boolean":return re;default:throw new V("Unexpected endpoint property type: ".concat(typeof re))}},qe={getEndpointProperty:gt,getEndpointProperties:st},rt=function(re,Me){var oe=he(re,"Endpoint URL",Me);if("string"==typeof oe)try{return new URL(oe)}catch(J){throw console.error("Failed to construct URL with ".concat(oe),J),J}throw new V("Endpoint URL must be a string, got ".concat(typeof oe))},ht=function(re,Me){var oe,J,be=re.endpoint,je=Qe(re.conditions,Me),it=je.referenceRecord;if(je.result){var _t=(0,T.A)((0,T.A)({},Me),{},{referenceRecord:(0,T.A)((0,T.A)({},Me.referenceRecord),it)}),Bt=be.url,Vt=be.properties,cn=be.headers;return null===(oe=Me.logger)||void 0===oe||null===(J=oe.debug)||void 0===J||J.call(oe,"".concat(g," Resolving endpoint from template: ").concat(v(be))),(0,T.A)((0,T.A)((0,T.A)({},null!=cn&&{headers:Ze(cn,_t)}),null!=Vt&&{properties:st(Vt,_t)}),{},{url:rt(Bt,_t)})}},fe=function(re,Me){var J=re.error,Q=Qe(re.conditions,Me),je=Q.referenceRecord;if(Q.result)throw new V(he(J,"Error",(0,T.A)((0,T.A)({},Me),{},{referenceRecord:(0,T.A)((0,T.A)({},Me.referenceRecord),je)})))},H=function(re,Me){var J,oe=(0,M.A)(re);try{for(oe.s();!(J=oe.n()).done;){var Q=J.value;if("endpoint"===Q.type){var be=ht(Q,Me);if(be)return be}else if("error"===Q.type)fe(Q,Me);else{if("tree"!==Q.type)throw new V("Unknown endpoint rule: ".concat(Q));var je=xe.evaluateTreeRule(Q,Me);if(je)return je}}}catch(tt){oe.e(tt)}finally{oe.f()}throw new V("Rules evaluation failed")},xe={evaluateRules:H,evaluateTreeRule:function(re,Me){var J=re.rules,Q=Qe(re.conditions,Me),je=Q.referenceRecord;if(Q.result)return xe.evaluateRules(J,(0,T.A)((0,T.A)({},Me),{},{referenceRecord:(0,T.A)((0,T.A)({},Me.referenceRecord),je)}))}},Te=function(re,Me){var oe,J,Q,be,je=Me.endpointParams,tt=Me.logger,it=re.parameters,_t=re.rules;null===(oe=Me.logger)||void 0===oe||null===(J=oe.debug)||void 0===J||J.call(oe,"".concat(g," Initial EndpointParams: ").concat(v(je)));var Bt=Object.entries(it).filter(function(mt){return null!=(0,G.A)(mt,2)[1].default}).map(function(mt){var Ge=(0,G.A)(mt,2);return[Ge[0],Ge[1].default]});if(Bt.length>0){var cn,Vt=(0,M.A)(Bt);try{for(Vt.s();!(cn=Vt.n()).done;){var fn,we=(0,G.A)(cn.value,2),Rn=we[0];je[Rn]=null!==(fn=je[Rn])&&void 0!==fn?fn:we[1]}}catch(mt){Vt.e(mt)}finally{Vt.f()}}var Ct,ft=Object.entries(it).filter(function(mt){return(0,G.A)(mt,2)[1].required}).map(function(mt){return(0,G.A)(mt,1)[0]}),Nt=(0,M.A)(ft);try{for(Nt.s();!(Ct=Nt.n()).done;){var kt=Ct.value;if(null==je[kt])throw new V("Missing required parameter: '".concat(kt,"'"))}}catch(mt){Nt.e(mt)}finally{Nt.f()}var Dt=H(_t,{endpointParams:je,logger:tt,referenceRecord:{}});return null===(Q=Me.logger)||void 0===Q||null===(be=Q.debug)||void 0===be||be.call(Q,"".concat(g," Resolved endpoint: ").concat(v(Dt))),Dt}},9059:(Re,se,b)=>{b.d(se,{m:()=>M});var M={}},4576:(Re,se,b)=>{b.d(se,{a:()=>F,n:()=>A});for(var M={},G={},g=0;g<256;g++){var v=g.toString(16).toLowerCase();1===v.length&&(v="0".concat(v)),M[g]=v,G[v]=g}function F(o){if(o.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var f=new Uint8Array(o.length/2),k=0;k<o.length;k+=2){var V=o.slice(k,k+2).toLowerCase();if(!(V in G))throw new Error("Cannot decode unrecognized sequence ".concat(V," as hexadecimal"));f[k/2]=G[V]}return f}function A(o){for(var f="",k=0;k<o.byteLength;k++)f+=M[o[k]];return f}},3928:(Re,se,b)=>{b.d(se,{u:()=>G});var M=b(3927),G=function(v){return v[M.V]||(v[M.V]={})}},6887:(Re,se,b)=>{b.d(se,{t:()=>M});var M=function(g){if("function"==typeof g)return g;var v=Promise.resolve(g);return function(){return v}}},7439:(Re,se,b)=>{b.d(se,{Gz:()=>G,L0:()=>g,cm:()=>M});var M=function(v){return v.STANDARD="standard",v.ADAPTIVE="adaptive",v}(M||{}),G=3,g=M.STANDARD},8276:(Re,se,b)=>{b.d(se,{Df:()=>v,G8:()=>G,Rn:()=>A,XP:()=>o,XS:()=>F,bp:()=>M,jh:()=>g,l5:()=>f,ok:()=>k});var M=100,G=2e4,g=500,v=500,F=5,A=10,o=1,f="amz-sdk-invocation-id",k="amz-sdk-request"},6639:(Re,se,b)=>{b.d(se,{o:()=>M});var M=function(v){return encodeURIComponent(v).replace(/[!'()*]/g,G)},G=function(v){return"%".concat(v.charCodeAt(0).toString(16).toUpperCase())}},7521:(Re,se,b)=>{b.d(se,{a:()=>M});var M=function(g){return(new TextEncoder).encode(g)}},3060:(Re,se,b)=>{b.d(se,{F:()=>G});var M=b(7521),G=function(v){return"string"==typeof v?(0,M.a)(v):ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(v)}},6044:(Re,se,b)=>{b.d(se,{P:()=>M});var M=function(g){if("string"==typeof g)return g;if("object"!=typeof g||"number"!=typeof g.byteOffset||"number"!=typeof g.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(g)}},4578:(Re,se)=>{se.byteLength=function o(_){var O=A(_),P=O[1];return 3*(O[0]+P)/4-P},se.toByteArray=function k(_){var O,ee,w=A(_),P=w[0],j=w[1],I=new G(function f(_,O,w){return 3*(O+w)/4-w}(0,P,j)),R=0,L=j>0?P-4:P;for(ee=0;ee<L;ee+=4)O=M[_.charCodeAt(ee)]<<18|M[_.charCodeAt(ee+1)]<<12|M[_.charCodeAt(ee+2)]<<6|M[_.charCodeAt(ee+3)],I[R++]=O>>16&255,I[R++]=O>>8&255,I[R++]=255&O;return 2===j&&(O=M[_.charCodeAt(ee)]<<2|M[_.charCodeAt(ee+1)]>>4,I[R++]=255&O),1===j&&(O=M[_.charCodeAt(ee)]<<10|M[_.charCodeAt(ee+1)]<<4|M[_.charCodeAt(ee+2)]>>2,I[R++]=O>>8&255,I[R++]=255&O),I},se.fromByteArray=function h(_){for(var O,w=_.length,P=w%3,j=[],I=16383,R=0,L=w-P;R<L;R+=I)j.push(T(_,R,R+I>L?L:R+I));return 1===P?j.push(b[(O=_[w-1])>>2]+b[O<<4&63]+"=="):2===P&&j.push(b[(O=(_[w-2]<<8)+_[w-1])>>10]+b[O>>4&63]+b[O<<2&63]+"="),j.join("")};for(var b=[],M=[],G=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0;v<64;++v)b[v]=g[v],M[g.charCodeAt(v)]=v;function A(_){var O=_.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=_.indexOf("=");return-1===w&&(w=O),[w,w===O?0:4-w%4]}function V(_){return b[_>>18&63]+b[_>>12&63]+b[_>>6&63]+b[63&_]}function T(_,O,w){for(var j=[],I=O;I<w;I+=3)j.push(V((_[I]<<16&16711680)+(_[I+1]<<8&65280)+(255&_[I+2])));return j.join("")}M[45]=62,M[95]=63},5346:Re=>{Re.exports=function M(G){return"[object String]"=={}.toString.call(G)?G.replace(se,".$1").replace(b,""):""};var se=/\[([^\[\]]+)\]/g,b=/^[.]*|[.]*$/g},163:(Re,se,b)=>{var M=b(4578),G=b(7383),g="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;se.Buffer=o,se.SlowBuffer=function j(oe){return+oe!=oe&&(oe=0),o.alloc(+oe)},se.INSPECT_MAX_BYTES=50;var v=2147483647;function A(oe){if(oe>v)throw new RangeError('The value "'+oe+'" is invalid for option "size"');var J=new Uint8Array(oe);return Object.setPrototypeOf(J,o.prototype),J}function o(oe,J,Q){if("number"==typeof oe){if("string"==typeof J)throw new TypeError('The "string" argument must be of type string. Received type number');return T(oe)}return f(oe,J,Q)}function f(oe,J,Q){if("string"==typeof oe)return function h(oe,J){if(("string"!=typeof J||""===J)&&(J="utf8"),!o.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var Q=0|I(oe,J),be=A(Q),je=be.write(oe,J);return je!==Q&&(be=be.slice(0,je)),be}(oe,J);if(ArrayBuffer.isView(oe))return _(oe);if(null==oe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe);if(ae(oe,ArrayBuffer)||oe&&ae(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(oe,SharedArrayBuffer)||oe&&ae(oe.buffer,SharedArrayBuffer)))return function O(oe,J,Q){if(J<0||oe.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<J+(Q||0))throw new RangeError('"length" is outside of buffer bounds');var be;return be=void 0===J&&void 0===Q?new Uint8Array(oe):void 0===Q?new Uint8Array(oe,J):new Uint8Array(oe,J,Q),Object.setPrototypeOf(be,o.prototype),be}(oe,J,Q);if("number"==typeof oe)throw new TypeError('The "value" argument must not be of type number. Received type number');var be=oe.valueOf&&oe.valueOf();if(null!=be&&be!==oe)return o.from(be,J,Q);var je=function w(oe){if(o.isBuffer(oe)){var J=0|P(oe.length),Q=A(J);return 0===Q.length||oe.copy(Q,0,0,J),Q}return void 0!==oe.length?"number"!=typeof oe.length||re(oe.length)?A(0):_(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?_(oe.data):void 0}(oe);if(je)return je;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof oe[Symbol.toPrimitive])return o.from(oe[Symbol.toPrimitive]("string"),J,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe)}function k(oe){if("number"!=typeof oe)throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function T(oe){return k(oe),A(oe<0?0:0|P(oe))}function _(oe){for(var J=oe.length<0?0:0|P(oe.length),Q=A(J),be=0;be<J;be+=1)Q[be]=255&oe[be];return Q}function P(oe){if(oe>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|oe}function I(oe,J){if(o.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||ae(oe,ArrayBuffer))return oe.byteLength;if("string"!=typeof oe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof oe);var Q=oe.length,be=arguments.length>2&&!0===arguments[2];if(!be&&0===Q)return 0;for(var je=!1;;)switch(J){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return fe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return xe(oe).length;default:if(je)return be?-1:fe(oe).length;J=(""+J).toLowerCase(),je=!0}}function R(oe,J,Q){var be=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===Q||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(J>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return Ee(this,J,Q);case"utf8":case"utf-8":return pe(this,J,Q);case"ascii":return ue(this,J,Q);case"latin1":case"binary":return $e(this,J,Q);case"base64":return ie(this,J,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,J,Q);default:if(be)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),be=!0}}function L(oe,J,Q){var be=oe[J];oe[J]=oe[Q],oe[Q]=be}function ee(oe,J,Q,be,je){if(0===oe.length)return-1;if("string"==typeof Q?(be=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),re(Q=+Q)&&(Q=je?0:oe.length-1),Q<0&&(Q=oe.length+Q),Q>=oe.length){if(je)return-1;Q=oe.length-1}else if(Q<0){if(!je)return-1;Q=0}if("string"==typeof J&&(J=o.from(J,be)),o.isBuffer(J))return 0===J.length?-1:W(oe,J,Q,be,je);if("number"==typeof J)return J&=255,"function"==typeof Uint8Array.prototype.indexOf?je?Uint8Array.prototype.indexOf.call(oe,J,Q):Uint8Array.prototype.lastIndexOf.call(oe,J,Q):W(oe,[J],Q,be,je);throw new TypeError("val must be string, number or Buffer")}function W(oe,J,Q,be,je){var Vt,tt=1,it=oe.length,_t=J.length;if(void 0!==be&&("ucs2"===(be=String(be).toLowerCase())||"ucs-2"===be||"utf16le"===be||"utf-16le"===be)){if(oe.length<2||J.length<2)return-1;tt=2,it/=2,_t/=2,Q/=2}function Bt(Rn,Dn){return 1===tt?Rn[Dn]:Rn.readUInt16BE(Dn*tt)}if(je){var cn=-1;for(Vt=Q;Vt<it;Vt++)if(Bt(oe,Vt)===Bt(J,-1===cn?0:Vt-cn)){if(-1===cn&&(cn=Vt),Vt-cn+1===_t)return cn*tt}else-1!==cn&&(Vt-=Vt-cn),cn=-1}else for(Q+_t>it&&(Q=it-_t),Vt=Q;Vt>=0;Vt--){for(var fn=!0,we=0;we<_t;we++)if(Bt(oe,Vt+we)!==Bt(J,we)){fn=!1;break}if(fn)return Vt}return-1}function X(oe,J,Q,be){Q=Number(Q)||0;var je=oe.length-Q;be?(be=Number(be))>je&&(be=je):be=je;var tt=J.length;be>tt/2&&(be=tt/2);for(var it=0;it<be;++it){var _t=parseInt(J.substr(2*it,2),16);if(re(_t))return it;oe[Q+it]=_t}return it}function U(oe,J,Q,be){return Te(fe(J,oe.length-Q),oe,Q,be)}function ne(oe,J,Q,be){return Te(function H(oe){for(var J=[],Q=0;Q<oe.length;++Q)J.push(255&oe.charCodeAt(Q));return J}(J),oe,Q,be)}function ce(oe,J,Q,be){return ne(oe,J,Q,be)}function te(oe,J,Q,be){return Te(xe(J),oe,Q,be)}function Y(oe,J,Q,be){return Te(function K(oe,J){for(var Q,be,tt=[],it=0;it<oe.length&&!((J-=2)<0);++it)be=(Q=oe.charCodeAt(it))>>8,tt.push(Q%256),tt.push(be);return tt}(J,oe.length-Q),oe,Q,be)}function ie(oe,J,Q){return M.fromByteArray(0===J&&Q===oe.length?oe:oe.slice(J,Q))}function pe(oe,J,Q){Q=Math.min(oe.length,Q);for(var be=[],je=J;je<Q;){var Bt,Vt,cn,fn,tt=oe[je],it=null,_t=tt>239?4:tt>223?3:tt>191?2:1;if(je+_t<=Q)switch(_t){case 1:tt<128&&(it=tt);break;case 2:128==(192&(Bt=oe[je+1]))&&(fn=(31&tt)<<6|63&Bt)>127&&(it=fn);break;case 3:Vt=oe[je+2],128==(192&(Bt=oe[je+1]))&&128==(192&Vt)&&(fn=(15&tt)<<12|(63&Bt)<<6|63&Vt)>2047&&(fn<55296||fn>57343)&&(it=fn);break;case 4:Vt=oe[je+2],cn=oe[je+3],128==(192&(Bt=oe[je+1]))&&128==(192&Vt)&&128==(192&cn)&&(fn=(15&tt)<<18|(63&Bt)<<12|(63&Vt)<<6|63&cn)>65535&&fn<1114112&&(it=fn)}null===it?(it=65533,_t=1):it>65535&&(be.push((it-=65536)>>>10&1023|55296),it=56320|1023&it),be.push(it),je+=_t}return function he(oe){var J=oe.length;if(J<=_e)return String.fromCharCode.apply(String,oe);for(var Q="",be=0;be<J;)Q+=String.fromCharCode.apply(String,oe.slice(be,be+=_e));return Q}(be)}se.kMaxLength=v,!(o.TYPED_ARRAY_SUPPORT=function F(){try{var oe=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(oe,J),42===oe.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(oe,J,Q){return f(oe,J,Q)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(oe,J,Q){return function V(oe,J,Q){return k(oe),oe<=0?A(oe):void 0!==J?"string"==typeof Q?A(oe).fill(J,Q):A(oe).fill(J):A(oe)}(oe,J,Q)},o.allocUnsafe=function(oe){return T(oe)},o.allocUnsafeSlow=function(oe){return T(oe)},o.isBuffer=function(J){return null!=J&&!0===J._isBuffer&&J!==o.prototype},o.compare=function(J,Q){if(ae(J,Uint8Array)&&(J=o.from(J,J.offset,J.byteLength)),ae(Q,Uint8Array)&&(Q=o.from(Q,Q.offset,Q.byteLength)),!o.isBuffer(J)||!o.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===Q)return 0;for(var be=J.length,je=Q.length,tt=0,it=Math.min(be,je);tt<it;++tt)if(J[tt]!==Q[tt]){be=J[tt],je=Q[tt];break}return be<je?-1:je<be?1:0},o.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(J,Q){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return o.alloc(0);var be;if(void 0===Q)for(Q=0,be=0;be<J.length;++be)Q+=J[be].length;var je=o.allocUnsafe(Q),tt=0;for(be=0;be<J.length;++be){var it=J[be];if(ae(it,Uint8Array)&&(it=o.from(it)),!o.isBuffer(it))throw new TypeError('"list" argument must be an Array of Buffers');it.copy(je,tt),tt+=it.length}return je},o.byteLength=I,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<J;Q+=2)L(this,Q,Q+1);return this},o.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<J;Q+=4)L(this,Q,Q+3),L(this,Q+1,Q+2);return this},o.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<J;Q+=8)L(this,Q,Q+7),L(this,Q+1,Q+6),L(this,Q+2,Q+5),L(this,Q+3,Q+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var J=this.length;return 0===J?"":0===arguments.length?pe(this,0,J):R.apply(this,arguments)},o.prototype.equals=function(J){if(!o.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===o.compare(this,J)},o.prototype.inspect=function(){var J="",Q=se.INSPECT_MAX_BYTES;return J=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(J+=" ... "),"<Buffer "+J+">"},g&&(o.prototype[g]=o.prototype.inspect),o.prototype.compare=function(J,Q,be,je,tt){if(ae(J,Uint8Array)&&(J=o.from(J,J.offset,J.byteLength)),!o.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(void 0===Q&&(Q=0),void 0===be&&(be=J?J.length:0),void 0===je&&(je=0),void 0===tt&&(tt=this.length),Q<0||be>J.length||je<0||tt>this.length)throw new RangeError("out of range index");if(je>=tt&&Q>=be)return 0;if(je>=tt)return-1;if(Q>=be)return 1;if(this===J)return 0;for(var it=(tt>>>=0)-(je>>>=0),_t=(be>>>=0)-(Q>>>=0),Bt=Math.min(it,_t),Vt=this.slice(je,tt),cn=J.slice(Q,be),fn=0;fn<Bt;++fn)if(Vt[fn]!==cn[fn]){it=Vt[fn],_t=cn[fn];break}return it<_t?-1:_t<it?1:0},o.prototype.includes=function(J,Q,be){return-1!==this.indexOf(J,Q,be)},o.prototype.indexOf=function(J,Q,be){return ee(this,J,Q,be,!0)},o.prototype.lastIndexOf=function(J,Q,be){return ee(this,J,Q,be,!1)},o.prototype.write=function(J,Q,be,je){if(void 0===Q)je="utf8",be=this.length,Q=0;else if(void 0===be&&"string"==typeof Q)je=Q,be=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q>>>=0,isFinite(be)?(be>>>=0,void 0===je&&(je="utf8")):(je=be,be=void 0)}var tt=this.length-Q;if((void 0===be||be>tt)&&(be=tt),J.length>0&&(be<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var it=!1;;)switch(je){case"hex":return X(this,J,Q,be);case"utf8":case"utf-8":return U(this,J,Q,be);case"ascii":return ne(this,J,Q,be);case"latin1":case"binary":return ce(this,J,Q,be);case"base64":return te(this,J,Q,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,J,Q,be);default:if(it)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),it=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _e=4096;function ue(oe,J,Q){var be="";Q=Math.min(oe.length,Q);for(var je=J;je<Q;++je)be+=String.fromCharCode(127&oe[je]);return be}function $e(oe,J,Q){var be="";Q=Math.min(oe.length,Q);for(var je=J;je<Q;++je)be+=String.fromCharCode(oe[je]);return be}function Ee(oe,J,Q){var be=oe.length;(!J||J<0)&&(J=0),(!Q||Q<0||Q>be)&&(Q=be);for(var je="",tt=J;tt<Q;++tt)je+=Me[oe[tt]];return je}function Be(oe,J,Q){for(var be=oe.slice(J,Q),je="",tt=0;tt<be.length;tt+=2)je+=String.fromCharCode(be[tt]+256*be[tt+1]);return je}function Qe(oe,J,Q){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+J>Q)throw new RangeError("Trying to access beyond buffer length")}function Ze(oe,J,Q,be,je,tt){if(!o.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>je||J<tt)throw new RangeError('"value" argument is out of bounds');if(Q+be>oe.length)throw new RangeError("Index out of range")}function st(oe,J,Q,be,je,tt){if(Q+be>oe.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function gt(oe,J,Q,be,je){return J=+J,Q>>>=0,je||st(oe,0,Q,4),G.write(oe,J,Q,be,23,4),Q+4}function qe(oe,J,Q,be,je){return J=+J,Q>>>=0,je||st(oe,0,Q,8),G.write(oe,J,Q,be,52,8),Q+8}o.prototype.slice=function(J,Q){var be=this.length;(J=~~J)<0?(J+=be)<0&&(J=0):J>be&&(J=be),(Q=void 0===Q?be:~~Q)<0?(Q+=be)<0&&(Q=0):Q>be&&(Q=be),Q<J&&(Q=J);var je=this.subarray(J,Q);return Object.setPrototypeOf(je,o.prototype),je},o.prototype.readUIntLE=function(J,Q,be){J>>>=0,Q>>>=0,be||Qe(J,Q,this.length);for(var je=this[J],tt=1,it=0;++it<Q&&(tt*=256);)je+=this[J+it]*tt;return je},o.prototype.readUIntBE=function(J,Q,be){J>>>=0,Q>>>=0,be||Qe(J,Q,this.length);for(var je=this[J+--Q],tt=1;Q>0&&(tt*=256);)je+=this[J+--Q]*tt;return je},o.prototype.readUInt8=function(J,Q){return J>>>=0,Q||Qe(J,1,this.length),this[J]},o.prototype.readUInt16LE=function(J,Q){return J>>>=0,Q||Qe(J,2,this.length),this[J]|this[J+1]<<8},o.prototype.readUInt16BE=function(J,Q){return J>>>=0,Q||Qe(J,2,this.length),this[J]<<8|this[J+1]},o.prototype.readUInt32LE=function(J,Q){return J>>>=0,Q||Qe(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},o.prototype.readUInt32BE=function(J,Q){return J>>>=0,Q||Qe(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},o.prototype.readIntLE=function(J,Q,be){J>>>=0,Q>>>=0,be||Qe(J,Q,this.length);for(var je=this[J],tt=1,it=0;++it<Q&&(tt*=256);)je+=this[J+it]*tt;return je>=(tt*=128)&&(je-=Math.pow(2,8*Q)),je},o.prototype.readIntBE=function(J,Q,be){J>>>=0,Q>>>=0,be||Qe(J,Q,this.length);for(var je=Q,tt=1,it=this[J+--je];je>0&&(tt*=256);)it+=this[J+--je]*tt;return it>=(tt*=128)&&(it-=Math.pow(2,8*Q)),it},o.prototype.readInt8=function(J,Q){return J>>>=0,Q||Qe(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},o.prototype.readInt16LE=function(J,Q){J>>>=0,Q||Qe(J,2,this.length);var be=this[J]|this[J+1]<<8;return 32768&be?4294901760|be:be},o.prototype.readInt16BE=function(J,Q){J>>>=0,Q||Qe(J,2,this.length);var be=this[J+1]|this[J]<<8;return 32768&be?4294901760|be:be},o.prototype.readInt32LE=function(J,Q){return J>>>=0,Q||Qe(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},o.prototype.readInt32BE=function(J,Q){return J>>>=0,Q||Qe(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},o.prototype.readFloatLE=function(J,Q){return J>>>=0,Q||Qe(J,4,this.length),G.read(this,J,!0,23,4)},o.prototype.readFloatBE=function(J,Q){return J>>>=0,Q||Qe(J,4,this.length),G.read(this,J,!1,23,4)},o.prototype.readDoubleLE=function(J,Q){return J>>>=0,Q||Qe(J,8,this.length),G.read(this,J,!0,52,8)},o.prototype.readDoubleBE=function(J,Q){return J>>>=0,Q||Qe(J,8,this.length),G.read(this,J,!1,52,8)},o.prototype.writeUIntLE=function(J,Q,be,je){J=+J,Q>>>=0,be>>>=0,je||Ze(this,J,Q,be,Math.pow(2,8*be)-1,0);var it=1,_t=0;for(this[Q]=255&J;++_t<be&&(it*=256);)this[Q+_t]=J/it&255;return Q+be},o.prototype.writeUIntBE=function(J,Q,be,je){J=+J,Q>>>=0,be>>>=0,je||Ze(this,J,Q,be,Math.pow(2,8*be)-1,0);var it=be-1,_t=1;for(this[Q+it]=255&J;--it>=0&&(_t*=256);)this[Q+it]=J/_t&255;return Q+be},o.prototype.writeUInt8=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,1,255,0),this[Q]=255&J,Q+1},o.prototype.writeUInt16LE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,2,65535,0),this[Q]=255&J,this[Q+1]=J>>>8,Q+2},o.prototype.writeUInt16BE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,2,65535,0),this[Q]=J>>>8,this[Q+1]=255&J,Q+2},o.prototype.writeUInt32LE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,4,4294967295,0),this[Q+3]=J>>>24,this[Q+2]=J>>>16,this[Q+1]=J>>>8,this[Q]=255&J,Q+4},o.prototype.writeUInt32BE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,4,4294967295,0),this[Q]=J>>>24,this[Q+1]=J>>>16,this[Q+2]=J>>>8,this[Q+3]=255&J,Q+4},o.prototype.writeIntLE=function(J,Q,be,je){if(J=+J,Q>>>=0,!je){var tt=Math.pow(2,8*be-1);Ze(this,J,Q,be,tt-1,-tt)}var it=0,_t=1,Bt=0;for(this[Q]=255&J;++it<be&&(_t*=256);)J<0&&0===Bt&&0!==this[Q+it-1]&&(Bt=1),this[Q+it]=(J/_t|0)-Bt&255;return Q+be},o.prototype.writeIntBE=function(J,Q,be,je){if(J=+J,Q>>>=0,!je){var tt=Math.pow(2,8*be-1);Ze(this,J,Q,be,tt-1,-tt)}var it=be-1,_t=1,Bt=0;for(this[Q+it]=255&J;--it>=0&&(_t*=256);)J<0&&0===Bt&&0!==this[Q+it+1]&&(Bt=1),this[Q+it]=(J/_t|0)-Bt&255;return Q+be},o.prototype.writeInt8=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,1,127,-128),J<0&&(J=255+J+1),this[Q]=255&J,Q+1},o.prototype.writeInt16LE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,2,32767,-32768),this[Q]=255&J,this[Q+1]=J>>>8,Q+2},o.prototype.writeInt16BE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,2,32767,-32768),this[Q]=J>>>8,this[Q+1]=255&J,Q+2},o.prototype.writeInt32LE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,4,2147483647,-2147483648),this[Q]=255&J,this[Q+1]=J>>>8,this[Q+2]=J>>>16,this[Q+3]=J>>>24,Q+4},o.prototype.writeInt32BE=function(J,Q,be){return J=+J,Q>>>=0,be||Ze(this,J,Q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[Q]=J>>>24,this[Q+1]=J>>>16,this[Q+2]=J>>>8,this[Q+3]=255&J,Q+4},o.prototype.writeFloatLE=function(J,Q,be){return gt(this,J,Q,!0,be)},o.prototype.writeFloatBE=function(J,Q,be){return gt(this,J,Q,!1,be)},o.prototype.writeDoubleLE=function(J,Q,be){return qe(this,J,Q,!0,be)},o.prototype.writeDoubleBE=function(J,Q,be){return qe(this,J,Q,!1,be)},o.prototype.copy=function(J,Q,be,je){if(!o.isBuffer(J))throw new TypeError("argument should be a Buffer");if(be||(be=0),!je&&0!==je&&(je=this.length),Q>=J.length&&(Q=J.length),Q||(Q=0),je>0&&je<be&&(je=be),je===be||0===J.length||0===this.length)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),J.length-Q<je-be&&(je=J.length-Q+be);var tt=je-be;if(this===J&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(Q,be,je);else if(this===J&&be<Q&&Q<je)for(var it=tt-1;it>=0;--it)J[it+Q]=this[it+be];else Uint8Array.prototype.set.call(J,this.subarray(be,je),Q);return tt},o.prototype.fill=function(J,Q,be,je){if("string"==typeof J){if("string"==typeof Q?(je=Q,Q=0,be=this.length):"string"==typeof be&&(je=be,be=this.length),void 0!==je&&"string"!=typeof je)throw new TypeError("encoding must be a string");if("string"==typeof je&&!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(1===J.length){var tt=J.charCodeAt(0);("utf8"===je&&tt<128||"latin1"===je)&&(J=tt)}}else"number"==typeof J?J&=255:"boolean"==typeof J&&(J=Number(J));if(Q<0||this.length<Q||this.length<be)throw new RangeError("Out of range index");if(be<=Q)return this;var it;if(Q>>>=0,be=void 0===be?this.length:be>>>0,J||(J=0),"number"==typeof J)for(it=Q;it<be;++it)this[it]=J;else{var _t=o.isBuffer(J)?J:o.from(J,je),Bt=_t.length;if(0===Bt)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(it=0;it<be-Q;++it)this[it+Q]=_t[it%Bt]}return this};var rt=/[^+/0-9A-Za-z-_]/g;function fe(oe,J){J=J||1/0;for(var Q,be=oe.length,je=null,tt=[],it=0;it<be;++it){if((Q=oe.charCodeAt(it))>55295&&Q<57344){if(!je){if(Q>56319){(J-=3)>-1&&tt.push(239,191,189);continue}if(it+1===be){(J-=3)>-1&&tt.push(239,191,189);continue}je=Q;continue}if(Q<56320){(J-=3)>-1&&tt.push(239,191,189),je=Q;continue}Q=65536+(je-55296<<10|Q-56320)}else je&&(J-=3)>-1&&tt.push(239,191,189);if(je=null,Q<128){if((J-=1)<0)break;tt.push(Q)}else if(Q<2048){if((J-=2)<0)break;tt.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((J-=3)<0)break;tt.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;tt.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return tt}function xe(oe){return M.toByteArray(function ht(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(rt,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(oe))}function Te(oe,J,Q,be){for(var je=0;je<be&&!(je+Q>=J.length||je>=oe.length);++je)J[je+Q]=oe[je];return je}function ae(oe,J){return oe instanceof J||null!=oe&&null!=oe.constructor&&null!=oe.constructor.name&&oe.constructor.name===J.name}function re(oe){return oe!=oe}var Me=function(){for(var oe="0123456789abcdef",J=new Array(256),Q=0;Q<16;++Q)for(var be=16*Q,je=0;je<16;++je)J[be+je]=oe[Q]+oe[je];return J}()},5124:(Re,se,b)=>{var M=b(7707),G=b(814),g=b(7648),v=b(8963);Re.exports=v||M.call(g,G)},814:Re=>{Re.exports=Function.prototype.apply},7648:Re=>{Re.exports=Function.prototype.call},2282:(Re,se,b)=>{var M=b(7707),G=b(8519),g=b(7648),v=b(5124);Re.exports=function(A){if(A.length<1||"function"!=typeof A[0])throw new G("a function is required");return v(M,g,A)}},8963:Re=>{Re.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},840:(Re,se,b)=>{var M=b(2521),G=b(2282),g=G([M("%String.prototype.indexOf%")]);Re.exports=function(F,A){var o=M(F,!!A);return"function"==typeof o&&g(F,".prototype.")>-1?G([o]):o}},2471:Re=>{var se=function(){"use strict";function b(V,T){return null!=T&&V instanceof T}var M,G,g;try{M=Map}catch{M=function(){}}try{G=Set}catch{G=function(){}}try{g=Promise}catch{g=function(){}}function v(V,T,h,_,O){"object"==typeof T&&(h=T.depth,_=T.prototype,O=T.includeNonEnumerable,T=T.circular);var w=[],P=[],j=typeof Buffer<"u";return typeof T>"u"&&(T=!0),typeof h>"u"&&(h=1/0),function I(R,L){if(null===R)return null;if(0===L)return R;var ee,W;if("object"!=typeof R)return R;if(b(R,M))ee=new M;else if(b(R,G))ee=new G;else if(b(R,g))ee=new g(function(_e,he){R.then(function(ue){_e(I(ue,L-1))},function(ue){he(I(ue,L-1))})});else if(v.__isArray(R))ee=[];else if(v.__isRegExp(R))ee=new RegExp(R.source,k(R)),R.lastIndex&&(ee.lastIndex=R.lastIndex);else if(v.__isDate(R))ee=new Date(R.getTime());else{if(j&&Buffer.isBuffer(R))return ee=Buffer.allocUnsafe?Buffer.allocUnsafe(R.length):new Buffer(R.length),R.copy(ee),ee;b(R,Error)?ee=Object.create(R):typeof _>"u"?(W=Object.getPrototypeOf(R),ee=Object.create(W)):(ee=Object.create(_),W=_)}if(T){var X=w.indexOf(R);if(-1!=X)return P[X];w.push(R),P.push(ee)}for(var U in b(R,M)&&R.forEach(function(_e,he){var ue=I(he,L-1),$e=I(_e,L-1);ee.set(ue,$e)}),b(R,G)&&R.forEach(function(_e){var he=I(_e,L-1);ee.add(he)}),R){var ne;W&&(ne=Object.getOwnPropertyDescriptor(W,U)),(!ne||null!=ne.set)&&(ee[U]=I(R[U],L-1))}if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(R);for(U=0;U<ce.length;U++){var te=ce[U];(Y=Object.getOwnPropertyDescriptor(R,te))&&!Y.enumerable&&!O||(ee[te]=I(R[te],L-1),Y.enumerable||Object.defineProperty(ee,te,{enumerable:!1}))}}if(O){var ie=Object.getOwnPropertyNames(R);for(U=0;U<ie.length;U++){var Y,pe=ie[U];(Y=Object.getOwnPropertyDescriptor(R,pe))&&Y.enumerable||(ee[pe]=I(R[pe],L-1),Object.defineProperty(ee,pe,{enumerable:!1}))}}return ee}(V,h)}function F(V){return Object.prototype.toString.call(V)}function k(V){var T="";return V.global&&(T+="g"),V.ignoreCase&&(T+="i"),V.multiline&&(T+="m"),T}return v.clonePrototype=function(T){if(null===T)return null;var h=function(){};return h.prototype=T,new h},v.__objToStr=F,v.__isDate=function A(V){return"object"==typeof V&&"[object Date]"===F(V)},v.__isArray=function o(V){return"object"==typeof V&&"[object Array]"===F(V)},v.__isRegExp=function f(V){return"object"==typeof V&&"[object RegExp]"===F(V)},v.__getRegExpFlags=k,v}();Re.exports&&(Re.exports=se)},7351:function(Re,se){var b,G;void 0!==(G="function"==typeof(b=function(){return new function(){var v=this;v.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(I){return new Array(1+I).join(this)}},v.init();var f=/\/\*[\s\S]*?\*\//g,k=/([^\:]+):([^\;]*);/,V=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,w=function(R){return typeof R>"u"||0==R.length||null==R};v.toJSON=function(I,R){var L={children:{},attributes:{}},ee=null,W=0;for(typeof R>"u"&&(R={ordered:!1,comments:!1,stripComments:!1,split:!1}),R.stripComments&&(R.comments=!1,I=I.replace(f,""));null!=(ee=V.exec(I));)if(!w(ee[1])&&R.comments){var X=ee[1].trim();L[W++]=X}else if(w(ee[2])){if(!w(ee[3]))return L;if(!w(ee[4])){var pe=ee[4].trim(),_e=k.exec(pe);if(_e){var U=_e[1].trim(),he=_e[2].trim();if(R.ordered)(ce={}).name=U,ce.value=he,ce.type="attr",L[W++]=ce;else if(U in L.attributes){var ue=L.attributes[U];ue instanceof Array||(L.attributes[U]=[ue]),L.attributes[U].push(he)}else L.attributes[U]=he}else L[W++]=pe}}else{U=ee[2].trim();var ne=v.toJSON(I,R);if(R.ordered){var ce;(ce={}).name=U,ce.value=ne,ce.type="rule",L[W++]=ce}else{if(R.split)var te=U.split(",");else te=[U];for(i in te){var Y=te[i].trim();if(Y in L.children)for(var ie in ne.attributes)L.children[Y].attributes[ie]=ne.attributes[ie];else L.children[Y]=ne}}}return L},v.toCSS=function(I,R,L){var ee="";if(typeof R>"u"&&(R=0),typeof L>"u"&&(L=!1),I.attributes)for(i in I.attributes){var W=I.attributes[i];if(W instanceof Array)for(var X=0;X<W.length;X++)ee+=P(i,W[X],R);else ee+=P(i,W,R)}if(I.children){var U=!0;for(i in I.children)L&&!U?ee+="\n":U=!1,ee+=j(i,I.children[i],R)}return ee};var P=function(R,L,ee){return"\t".repeat(ee)+R+": "+L+";\n"},j=function(R,L,ee){var W="\t".repeat(ee)+R+" {\n";return(W+=v.toCSS(L,ee+1))+("\t".repeat(ee)+"}\n")}}})?b.apply(se,[]):b)&&(Re.exports=G)},9558:function(Re,se){!function(b){"use strict";var M="function"==typeof Symbol?Symbol("curriable placeholder"):60881;function g(A,o){var f="number"==typeof o?o:A.length,k=function G(A,o){return function f(k){return function(){var P,V=k.length,T=arguments,h=T.length,_=[],O=0,w=o;if(V)for(var j=-1;++j<V;)_[j]=P=k[j]===M&&O<h?T[O++]:k[j],P!==M&&--w;if(O<h)for(;O<h;)_[_.length]=P=T[O],P!==M&&O<o&&--w,++O;return w>0?f(_):A.apply(this,_)}}([])}(A,f);return k.arity=f,k.fn=A,k}function v(A){return A===M}function F(A){return A.fn}g.__=M,g.isPlaceholder=v,g.uncurry=F,b.__=M,b.curry=g,b.default=g,b.isPlaceholder=v,b.uncurry=F,Object.defineProperty(b,"__esModule",{value:!0})}(se)},2954:(Re,se,b)=>{var M=Function.prototype.bind||b(7861);Re.exports=function G(g,v){var F=function(){return 0===arguments.length?F:arguments.length>1?g.apply(v,arguments):M.call(g,v,arguments[0])};return F.uncurry=function(){return g},F}},4832:function(Re){Re.exports=function(){"use strict";var se="__proto__",b=function(_,O){return O},M=function(_,O){return O.map(function(w){return T(w)})},G=function(_,O){if(O&&O.hasOwnProperty("__proto__")){var w={};for(var P in O)P!==se&&(w[P]=O[P]);return w}return Object.assign({},O)},k={$push:function(_,O){return _.concat(O)},$append:function(_,O){return _.concat(O)},$prepend:function(_,O){return O.concat(_)},$replace:function(_,O){var w;return _=M(0,_),Object.keys(O).forEach(function(P){if((w=Number.parseInt(P))<0||Number.isNaN(w))throw Error("Invalid index for $replace: ".concat(P));_[w]=T.clone(O[P])}),_},$merge:function(_,O){var w;return _=_.slice(),Object.keys(O).forEach(function(P){if((w=Number.parseInt(P))<0||Number.isNaN(w))throw Error("Invalid index for $merge: ".concat(P));_[w]=T(_[w],O[P])}),_},$insert:function(_,O){var w;return _=M(0,_),Object.keys(O).forEach(function(P){if(w=Number.parseInt(P),Number.isNaN(w))throw Error("Invalid index for $insert: ".concat(P));_.splice(w,0,O[P])}),_},$set:M},V={oo:function(_,O){return _=G(0,_),Object.keys(O).forEach(function(w){w!==se&&(_[w]=T(_[w],O[w]))}),_},oa:G,ob:b,aa:function(_,O){return _=M(0,_),O.forEach(function(w,P){return _[P]=T(_[P],w)}),_},ao:function(_,O){return _=M(0,_),Object.keys(O).forEach(function(w){w!==se&&(_=w in k?k[w](_,O[w]):O)}),_},ab:b,bb:b,bo:G,ba:M};function T(h,_){if(void 0===_){if(null==h)return h;_=Array.isArray(h)?[]:"object"==typeof h?{}:h}else if(null===_)return null;var O=Array.isArray(h)?"a":"object"==typeof h?"o":"b",w=Array.isArray(_)?"a":"object"==typeof _?"o":"b";return V[O+w](h,_)}return T.clone=function(h){return T(h)},T.multi=function(h){for(var _=arguments.length,O=new Array(_>1?_-1:0),w=1;w<_;w++)O[w-1]=arguments[w];if(!O)return T(h);for(var P=0;P<O.length;P++)h=T(h,O[P]);return h},T}()},5812:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.default=se.nthElement=se.parentElements=void 0;var b=function(o){for(var f=[];o;){var k=o.nodeName.toLowerCase(),V=o.id?"#".concat(o.id):"",T="";o.className&&"string"==typeof o.className&&(T=".".concat(o.className.replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&"))),f.unshift({element:o,selector:k+V+T}),o=o.parentNode!==document&&o.parentNode}return f};se.parentElements=b;var M=function(o){for(var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],k=o,V=1;null!==k.previousElementSibling;)(!f||k.previousElementSibling.nodeName===o.nodeName)&&V++,k=k.previousElementSibling;return V};se.nthElement=M;se.default=function(o){if(!(o instanceof HTMLElement))throw new Error("element must be of type `HTMLElement`.");return function(o){var f=[];return o.forEach(function(k){(function(o,f){var k=""===f?o:"".concat(f," > ").concat(o);return document.querySelectorAll(k).length>1})(k.selector,f.join(" > "))&&(k.selector+=":nth-of-type(".concat(M(k.element),")")),f.push(k.selector)}),f.join(" > ")}(b(o))}},6413:Re=>{var se=Object.prototype.toString;function g(v){return v.replace(/\uffff/g,".")}Re.exports=function b(v){for(var F=-1,A=function G(v){for(var F=-1,A=v.length,o=[];++F<A;)v[F]&&o.push(v[F]);return o}(function M(v){return("[object String]"===se.call(v)?v:"").replace(/\\\./g,"\uffff")}(v).split(".")),o=A.length,f=[];++F<o;)f.push(g(A[F]));return f}},8580:(Re,se,b)=>{var g,M=b(2282),G=b(9263);try{g=[].__proto__===Array.prototype}catch(o){if(!o||"object"!=typeof o||!("code"in o)||"ERR_PROTO_ACCESS"!==o.code)throw o}var v=!!g&&G&&G(Object.prototype,"__proto__"),F=Object,A=F.getPrototypeOf;Re.exports=v&&"function"==typeof v.get?M([v.get]):"function"==typeof A&&function(f){return A(null==f?f:F(f))}},1963:Re=>{var se=Object.defineProperty||!1;if(se)try{se({},"a",{value:1})}catch{se=!1}Re.exports=se},2905:Re=>{Re.exports=EvalError},1123:Re=>{Re.exports=Error},7718:Re=>{Re.exports=RangeError},3286:Re=>{Re.exports=ReferenceError},4880:Re=>{Re.exports=SyntaxError},8519:Re=>{Re.exports=TypeError},5162:Re=>{Re.exports=URIError},7888:Re=>{Re.exports=Object},4339:Re=>{var M,se="object"==typeof Reflect?Reflect:null,b=se&&"function"==typeof se.apply?se.apply:function(L,ee,W){return Function.prototype.apply.call(L,ee,W)};M=se&&"function"==typeof se.ownKeys?se.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var g=Number.isNaN||function(L){return L!=L};function v(){v.init.call(this)}Re.exports=v,Re.exports.once=function P(R,L){return new Promise(function(ee,W){function X(ne){R.removeListener(L,U),W(ne)}function U(){"function"==typeof R.removeListener&&R.removeListener("error",X),ee([].slice.call(arguments))}I(R,L,U,{once:!0}),"error"!==L&&function j(R,L,ee){"function"==typeof R.on&&I(R,"error",L,ee)}(R,X,{once:!0})})},v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var F=10;function A(R){if("function"!=typeof R)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}function o(R){return void 0===R._maxListeners?v.defaultMaxListeners:R._maxListeners}function f(R,L,ee,W){var X,U,ne;if(A(ee),void 0===(U=R._events)?(U=R._events=Object.create(null),R._eventsCount=0):(void 0!==U.newListener&&(R.emit("newListener",L,ee.listener?ee.listener:ee),U=R._events),ne=U[L]),void 0===ne)ne=U[L]=ee,++R._eventsCount;else if("function"==typeof ne?ne=U[L]=W?[ee,ne]:[ne,ee]:W?ne.unshift(ee):ne.push(ee),(X=o(R))>0&&ne.length>X&&!ne.warned){ne.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+ne.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=R,ce.type=L,ce.count=ne.length,function G(R){console&&console.warn&&console.warn(R)}(ce)}return R}function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(R,L,ee){var W={fired:!1,wrapFn:void 0,target:R,type:L,listener:ee},X=k.bind(W);return X.listener=ee,W.wrapFn=X,X}function T(R,L,ee){var W=R._events;if(void 0===W)return[];var X=W[L];return void 0===X?[]:"function"==typeof X?ee?[X.listener||X]:[X]:ee?function w(R){for(var L=new Array(R.length),ee=0;ee<L.length;++ee)L[ee]=R[ee].listener||R[ee];return L}(X):_(X,X.length)}function h(R){var L=this._events;if(void 0!==L){var ee=L[R];if("function"==typeof ee)return 1;if(void 0!==ee)return ee.length}return 0}function _(R,L){for(var ee=new Array(L),W=0;W<L;++W)ee[W]=R[W];return ee}function I(R,L,ee,W){if("function"==typeof R.on)W.once?R.once(L,ee):R.on(L,ee);else{if("function"!=typeof R.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R);R.addEventListener(L,function X(U){W.once&&R.removeEventListener(L,X),ee(U)})}}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(L){if("number"!=typeof L||L<0||g(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");F=L}}),v.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(L){if("number"!=typeof L||L<0||g(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},v.prototype.getMaxListeners=function(){return o(this)},v.prototype.emit=function(L){for(var ee=[],W=1;W<arguments.length;W++)ee.push(arguments[W]);var X="error"===L,U=this._events;if(void 0!==U)X=X&&void 0===U.error;else if(!X)return!1;if(X){var ne;if(ee.length>0&&(ne=ee[0]),ne instanceof Error)throw ne;var ce=new Error("Unhandled error."+(ne?" ("+ne.message+")":""));throw ce.context=ne,ce}var te=U[L];if(void 0===te)return!1;if("function"==typeof te)b(te,this,ee);else{var Y=te.length,ie=_(te,Y);for(W=0;W<Y;++W)b(ie[W],this,ee)}return!0},v.prototype.on=v.prototype.addListener=function(L,ee){return f(this,L,ee,!1)},v.prototype.prependListener=function(L,ee){return f(this,L,ee,!0)},v.prototype.once=function(L,ee){return A(ee),this.on(L,V(this,L,ee)),this},v.prototype.prependOnceListener=function(L,ee){return A(ee),this.prependListener(L,V(this,L,ee)),this},v.prototype.off=v.prototype.removeListener=function(L,ee){var W,X,U,ne,ce;if(A(ee),void 0===(X=this._events))return this;if(void 0===(W=X[L]))return this;if(W===ee||W.listener===ee)0===--this._eventsCount?this._events=Object.create(null):(delete X[L],X.removeListener&&this.emit("removeListener",L,W.listener||ee));else if("function"!=typeof W){for(U=-1,ne=W.length-1;ne>=0;ne--)if(W[ne]===ee||W[ne].listener===ee){ce=W[ne].listener,U=ne;break}if(U<0)return this;0===U?W.shift():function O(R,L){for(;L+1<R.length;L++)R[L]=R[L+1];R.pop()}(W,U),1===W.length&&(X[L]=W[0]),void 0!==X.removeListener&&this.emit("removeListener",L,ce||ee)}return this},v.prototype.removeAllListeners=function(L){var ee,W,X;if(void 0===(W=this._events))return this;if(void 0===W.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==W[L]&&(0===--this._eventsCount?this._events=Object.create(null):delete W[L]),this;if(0===arguments.length){var ne,U=Object.keys(W);for(X=0;X<U.length;++X)"removeListener"!==(ne=U[X])&&this.removeAllListeners(ne);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ee=W[L]))this.removeListener(L,ee);else if(void 0!==ee)for(X=ee.length-1;X>=0;X--)this.removeListener(L,ee[X]);return this},v.prototype.listeners=function(L){return T(this,L,!0)},v.prototype.rawListeners=function(L){return T(this,L,!1)},v.listenerCount=function(R,L){return"function"==typeof R.listenerCount?R.listenerCount(L):h.call(R,L)},v.prototype.listenerCount=h,v.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},7861:Re=>{Re.exports=function(se){var M,b=this;if(arguments.length<2)M=function(){if(this instanceof M){var F=b.apply(this,arguments);return Object(F)===F?F:this}return b.apply(se,arguments)};else{for(var G=new Array(arguments.length-1),g=1;g<arguments.length;g++)G[g-1]=arguments[g];M=function(){var o,F=G.length,A=new Array(F+arguments.length);for(o=0;o<F;o++)A[o]=G[o];for(o=0;o<arguments.length;o++)A[F+o]=arguments[o];if(this instanceof M){var f=b.apply(this,A);return Object(f)===f?f:this}return b.apply(se,A)}}return M.prototype=b.prototype,M}},3933:Re=>{var b=Object.prototype.toString,M=Math.max,g=function(o,f){for(var k=[],V=0;V<o.length;V+=1)k[V]=o[V];for(var T=0;T<f.length;T+=1)k[T+o.length]=f[T];return k};Re.exports=function(o){var f=this;if("function"!=typeof f||"[object Function]"!==b.apply(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var V,k=function(o){for(var k=[],V=1,T=0;V<o.length;V+=1,T+=1)k[T]=o[V];return k}(arguments),h=M(0,f.length-k.length),_=[],O=0;O<h;O++)_[O]="$"+O;if(V=Function("binder","return function ("+function(o){for(var k="",V=0;V<o.length;V+=1)k+=o[V],V+1<o.length&&(k+=",");return k}(_)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof V){var j=f.apply(this,g(k,arguments));return Object(j)===j?j:this}return f.apply(o,g(k,arguments))}),f.prototype){var w=function(){};w.prototype=f.prototype,V.prototype=new w,w.prototype=null}return V}},7707:(Re,se,b)=>{var M=b(3933);Re.exports=Function.prototype.bind||M},2521:(Re,se,b)=>{var M,G=b(7888),g=b(1123),v=b(2905),F=b(7718),A=b(3286),o=b(4880),f=b(8519),k=b(5162),V=b(7598),T=b(3116),h=b(2136),_=b(3462),O=b(9135),w=b(5714),P=b(497),j=Function,I=function(xe){try{return j('"use strict"; return ('+xe+").constructor;")()}catch{}},R=b(9263),L=b(1963),ee=function(){throw new f},W=R?function(){try{return ee}catch{try{return R(arguments,"callee").get}catch{return ee}}}():ee,X=b(1459)(),U=b(1568),ne=b(9364),ce=b(3996),te=b(814),Y=b(7648),ie={},pe=typeof Uint8Array>"u"||!U?M:U(Uint8Array),_e={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":X&&U?U([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":g,"%eval%":eval,"%EvalError%":v,"%Float16Array%":typeof Float16Array>"u"?M:Float16Array,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":j,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":X&&U?U(U([][Symbol.iterator]())):M,"%JSON%":"object"==typeof JSON?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map>"u"||!X||!U?M:U((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":G,"%Object.getOwnPropertyDescriptor%":R,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":F,"%ReferenceError%":A,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set>"u"||!X||!U?M:U((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":X&&U?U(""[Symbol.iterator]()):M,"%Symbol%":X?Symbol:M,"%SyntaxError%":o,"%ThrowTypeError%":W,"%TypedArray%":pe,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":k,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet,"%Function.prototype.call%":Y,"%Function.prototype.apply%":te,"%Object.defineProperty%":L,"%Object.getPrototypeOf%":ne,"%Math.abs%":V,"%Math.floor%":T,"%Math.max%":h,"%Math.min%":_,"%Math.pow%":O,"%Math.round%":w,"%Math.sign%":P,"%Reflect.getPrototypeOf%":ce};if(U)try{null.error}catch(K){var he=U(U(K));_e["%Error.prototype%"]=he}var ue=function K(xe){var Te;if("%AsyncFunction%"===xe)Te=I("async function () {}");else if("%GeneratorFunction%"===xe)Te=I("function* () {}");else if("%AsyncGeneratorFunction%"===xe)Te=I("async function* () {}");else if("%AsyncGenerator%"===xe){var ae=K("%AsyncGeneratorFunction%");ae&&(Te=ae.prototype)}else if("%AsyncIteratorPrototype%"===xe){var re=K("%AsyncGenerator%");re&&U&&(Te=U(re.prototype))}return _e[xe]=Te,Te},$e={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ee=b(7707),Be=b(3889),Qe=Ee.call(Y,Array.prototype.concat),Ze=Ee.call(te,Array.prototype.splice),st=Ee.call(Y,String.prototype.replace),gt=Ee.call(Y,String.prototype.slice),qe=Ee.call(Y,RegExp.prototype.exec),rt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,H=function(xe,Te){var re,ae=xe;if(Be($e,ae)&&(ae="%"+(re=$e[ae])[0]+"%"),Be(_e,ae)){var Me=_e[ae];if(Me===ie&&(Me=ue(ae)),typeof Me>"u"&&!Te)throw new f("intrinsic "+xe+" exists, but is not available. Please file an issue!");return{alias:re,name:ae,value:Me}}throw new o("intrinsic "+xe+" does not exist!")};Re.exports=function(xe,Te){if("string"!=typeof xe||0===xe.length)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Te)throw new f('"allowMissing" argument must be a boolean');if(null===qe(/^%?[^%]*%?$/,xe))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ae=function(xe){var Te=gt(xe,0,1),ae=gt(xe,-1);if("%"===Te&&"%"!==ae)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===ae&&"%"!==Te)throw new o("invalid intrinsic syntax, expected opening `%`");var re=[];return st(xe,rt,function(Me,oe,J,Q){re[re.length]=J?st(Q,ht,"$1"):oe||Me}),re}(xe),re=ae.length>0?ae[0]:"",Me=H("%"+re+"%",Te),oe=Me.name,J=Me.value,Q=!1,be=Me.alias;be&&(re=be[0],Ze(ae,Qe([0,1],be)));for(var je=1,tt=!0;je<ae.length;je+=1){var it=ae[je],_t=gt(it,0,1),Bt=gt(it,-1);if(('"'===_t||"'"===_t||"`"===_t||'"'===Bt||"'"===Bt||"`"===Bt)&&_t!==Bt)throw new o("property names with quotes must have matching quotes");if(("constructor"===it||!tt)&&(Q=!0),Be(_e,oe="%"+(re+="."+it)+"%"))J=_e[oe];else if(null!=J){if(!(it in J)){if(!Te)throw new f("base intrinsic for "+xe+" exists, but the property is not available.");return}if(R&&je+1>=ae.length){var Vt=R(J,it);J=(tt=!!Vt)&&"get"in Vt&&!("originalValue"in Vt.get)?Vt.get:J[it]}else tt=Be(J,it),J=J[it];tt&&!Q&&(_e[oe]=J)}}return J}},9364:(Re,se,b)=>{var M=b(7888);Re.exports=M.getPrototypeOf||null},3996:Re=>{Re.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},1568:(Re,se,b)=>{var M=b(3996),G=b(9364),g=b(8580);Re.exports=M?function(F){return M(F)}:G?function(F){if(!F||"object"!=typeof F&&"function"!=typeof F)throw new TypeError("getProto: not an object");return G(F)}:g?function(F){return g(F)}:null},9817:Re=>{Re.exports=Object.getOwnPropertyDescriptor},9263:(Re,se,b)=>{var M=b(9817);if(M)try{M([],"length")}catch{M=null}Re.exports=M},1459:(Re,se,b)=>{var M=typeof Symbol<"u"&&Symbol,G=b(6497);Re.exports=function(){return"function"==typeof M&&"function"==typeof Symbol&&"symbol"==typeof M("foo")&&"symbol"==typeof Symbol("bar")&&G()}},6497:Re=>{Re.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var b={},M=Symbol("test"),G=Object(M);if("string"==typeof M||"[object Symbol]"!==Object.prototype.toString.call(M)||"[object Symbol]"!==Object.prototype.toString.call(G))return!1;for(var v in b[M]=42,b)return!1;if("function"==typeof Object.keys&&0!==Object.keys(b).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var F=Object.getOwnPropertySymbols(b);if(1!==F.length||F[0]!==M||!Object.prototype.propertyIsEnumerable.call(b,M))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var A=Object.getOwnPropertyDescriptor(b,M);if(42!==A.value||!0!==A.enumerable)return!1}return!0}},6451:(Re,se,b)=>{b.r(se),b.d(se,{default:()=>gt,hash:()=>st});var G,g,v,F,M=b(9558),A=typeof Buffer<"u"&&"function"==typeof Buffer.from,o="function"==typeof Uint16Array,f=/\[object (HTML(.*)Element)\]/,k=/\[object (SVG(.*)Element)\]/,T=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"].reduce(function(qe,rt){return qe["[object "+rt+"]"]=rt,qe},{}),h=Object.keys(T).reduce(function(qe,rt){return qe[T[rt].toUpperCase()]=rt,qe},{}),_={"[object Map]":!0,"[object Set]":!0},O={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},w=((G={})[h.ARGUMENTS]=!0,G[h.ARRAY]=!0,G),P=((g={})[h.REGEXP]=!0,g[h.SYMBOL]=!0,g),j=((v={})[h.FLOAT32ARRAY]=!0,v[h.FLOAT64ARRAY]=!0,v[h.INT8ARRAY]=!0,v[h.INT16ARRAY]=!0,v[h.INT32ARRAY]=!0,v[h.UINT8ARRAY]=!0,v[h.UINT8CLAMPEDARRAY]=!0,v[h.UINT16ARRAY]=!0,v[h.UINT32ARRAY]=!0,v),I=((F={})[h.GENERATOR]=!0,F[h.PROMISE]=!0,F[h.WEAKMAP]=!0,F[h.WEAKSET]=!0,F),R=/^\s*function\s*([^(]*)/i,L=Object.prototype.toString,ee=Object.keys;function ne(qe,rt){return qe>rt}function ce(qe,rt){return qe[0]>rt[0]}function te(qe,rt){for(var ht,fe,H=0;H<qe.length;++H){for(fe=qe[H],ht=H-1;~ht&&rt(qe[ht],fe);--ht)qe[ht+1]=qe[ht];qe[ht+1]=fe}return qe}function pe(qe){return String.fromCharCode.apply(null,new Uint16Array(qe))}function _e(qe){return Buffer.from(qe).toString("utf8")}function he(){return""}var ue=function(){return A?_e:o?pe:he}();function Ee(qe,rt){for(var ht=0;ht<qe.length;++ht)if(qe[ht]===rt)return ht+1;return 0}function Be(qe,rt,ht,fe){if(void 0===fe){var H=typeof qe;if("string"===H||O[H])return H+"|"+qe;if(null===qe)return"null|"+qe}var K=fe||L.call(qe);return w[K]?qe:K===h.OBJECT?function ie(qe){for(var fe,rt=te(ee(qe),ne),ht={},H=0;H<rt.length;++H)ht[fe=rt[H]]=qe[fe];return ht}(qe):P[K]?T[K]+"|"+qe.toString():_[K]?function Y(qe,rt,ht){var fe="function"==typeof qe.get,H=[];fe?(qe.forEach(function(re,Me){H.push([Ze(Me,rt,ht),Ze(re,rt,ht)])}),te(H,ce)):(qe.forEach(function(re){H.push(Ze(re,rt,ht))}),te(H,ne));for(var ae,K=function W(qe){return qe.name||(qe.toString().match(R)||[])[1]||"anonymous"}(qe.constructor)+"|[",xe=0,Te=H.length;xe<Te;++xe)ae=H[xe],K+=(xe?",":"")+(fe?"["+ae[0]+","+ae[1]+"]":ae);return K+"]"}(qe,rt,ht):K===h.DATE?T[K]+"|"+qe.getTime():K===h.ERROR?T[K]+"|"+qe.stack:K===h.EVENT?function U(qe){return{bubbles:qe.bubbles,cancelBubble:qe.cancelBubble,cancelable:qe.cancelable,composed:qe.composed,currentTarget:qe.currentTarget,defaultPrevented:qe.defaultPrevented,eventPhase:qe.eventPhase,isTrusted:qe.isTrusted,returnValue:qe.returnValue,target:qe.target,type:qe.type}}(qe):I[K]?T[K]+"|NOT_ENUMERABLE":f.test(K)||k.test(K)?K.slice(8,-1)+"|"+qe.outerHTML:K===h.DOCUMENTFRAGMENT?T[K]+"|"+function $e(qe){for(var rt=qe.children,ht="",fe=0;fe<rt.length;++fe)ht+=rt[fe].outerHTML;return ht}(qe):j[K]?T[K]+"|"+qe.join(","):K===h.ARRAYBUFFER?T[K]+"|"+ue(qe):K===h.DATAVIEW?T[K]+"|"+ue(qe.buffer):qe}function Ze(qe,rt,ht){if(!qe||"object"!=typeof qe)return Be(qe,rt,ht);var fe=L.call(qe);return fe===h.DATE||fe===h.REGEXP?Be(qe,rt,ht,fe):JSON.stringify(qe,function Qe(qe,rt){return void 0===qe&&(qe=[]),void 0===rt&&(rt=[]),function(ht,fe){if("object"==typeof fe)if(qe.length){var H=Ee(qe,this);0===H?qe.push(this):(qe.splice(H),rt.splice(H)),rt.push(ht);var K=Ee(qe,fe);if(0!==K)return"[~"+(rt.slice(0,K).join(".")||".")+"]";qe.push(fe)}else qe[0]=fe,rt[0]=ht;return ht&&this[ht]instanceof Date?Be(this[ht],qe,rt,h.DATE):Be(fe,qe,rt)}}(rt,ht))}function st(qe){return function X(qe){for(var H,rt=qe.length,ht=5381,fe=52711;rt--;)ht=33*ht^(H=qe.charCodeAt(rt)),fe=33*fe^H;return 4096*(ht>>>0)+(fe>>>0)}(Ze(qe))}(st.is=(0,M.curry)(function(qe,rt){return st(qe)===st(rt)})).all=(0,M.curry)(function(qe){for(var rt=st.is(qe),ht=1;ht<arguments.length;++ht)if(!rt(arguments[ht]))return!1;return!0},2),st.is.any=(0,M.curry)(function(qe){for(var rt=st.is(qe),ht=1;ht<arguments.length;ht++)if(rt(arguments[ht]))return!0;return!1},2),st.is.not=(0,M.curry)(function(qe,rt){return st(qe)!==st(rt)});const gt=st},3889:(Re,se,b)=>{var M=Function.prototype.call,G=Object.prototype.hasOwnProperty,g=b(7707);Re.exports=g.call(M,G)},7383:(Re,se)=>{se.read=function(b,M,G,g,v){var F,A,o=8*v-g-1,f=(1<<o)-1,k=f>>1,V=-7,T=G?v-1:0,h=G?-1:1,_=b[M+T];for(T+=h,F=_&(1<<-V)-1,_>>=-V,V+=o;V>0;F=256*F+b[M+T],T+=h,V-=8);for(A=F&(1<<-V)-1,F>>=-V,V+=g;V>0;A=256*A+b[M+T],T+=h,V-=8);if(0===F)F=1-k;else{if(F===f)return A?NaN:1/0*(_?-1:1);A+=Math.pow(2,g),F-=k}return(_?-1:1)*A*Math.pow(2,F-g)},se.write=function(b,M,G,g,v,F){var A,o,f,k=8*F-v-1,V=(1<<k)-1,T=V>>1,h=23===v?Math.pow(2,-24)-Math.pow(2,-77):0,_=g?0:F-1,O=g?1:-1,w=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(o=isNaN(M)?1:0,A=V):(A=Math.floor(Math.log(M)/Math.LN2),M*(f=Math.pow(2,-A))<1&&(A--,f*=2),(M+=A+T>=1?h/f:h*Math.pow(2,1-T))*f>=2&&(A++,f/=2),A+T>=V?(o=0,A=V):A+T>=1?(o=(M*f-1)*Math.pow(2,v),A+=T):(o=M*Math.pow(2,T-1)*Math.pow(2,v),A=0));v>=8;b[G+_]=255&o,_+=O,o/=256,v-=8);for(A=A<<v|o,k+=v;k>0;b[G+_]=255&A,_+=O,A/=256,k-=8);b[G+_-O]|=128*w}},9822:Re=>{Re.exports="function"==typeof Object.create?function(b,M){M&&(b.super_=M,b.prototype=Object.create(M.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}))}:function(b,M){if(M){b.super_=M;var G=function(){};G.prototype=M.prototype,b.prototype=new G,b.prototype.constructor=b}}},8195:(Re,se,b)=>{var M,G,g;void 0!==(G="function"==typeof(M=g=function(){function g(){for(var A=0,o={};A<arguments.length;A++){var f=arguments[A];for(var k in f)o[k]=f[k]}return o}function v(A){return A.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function F(A){function o(){}function f(V,T,h){if(!(typeof document>"u")){"number"==typeof(h=g({path:"/"},o.defaults,h)).expires&&(h.expires=new Date(1*new Date+864e5*h.expires)),h.expires=h.expires?h.expires.toUTCString():"";try{var _=JSON.stringify(T);/^[\{\[]/.test(_)&&(T=_)}catch{}T=A.write?A.write(T,V):encodeURIComponent(String(T)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),V=encodeURIComponent(String(V)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var O="";for(var w in h)h[w]&&(O+="; "+w,!0!==h[w]&&(O+="="+h[w].split(";")[0]));return document.cookie=V+"="+T+O}}function k(V,T){if(!(typeof document>"u")){for(var h={},_=document.cookie?document.cookie.split("; "):[],O=0;O<_.length;O++){var w=_[O].split("="),P=w.slice(1).join("=");!T&&'"'===P.charAt(0)&&(P=P.slice(1,-1));try{var j=v(w[0]);if(P=(A.read||A)(P,j)||v(P),T)try{P=JSON.parse(P)}catch{}if(h[j]=P,V===j)break}catch{}}return V?h[V]:h}}return o.set=f,o.get=function(V){return k(V,!1)},o.getJSON=function(V){return k(V,!0)},o.remove=function(V,T){f(V,"",g(T,{expires:-1}))},o.defaults={},o.withConverter=F,o}(function(){})})?M.call(se,b,se,Re):M)&&(Re.exports=G),Re.exports=g()},9788:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},G=function(){function O(w,P){for(var j=0;j<P.length;j++){var I=P[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,P,j){return P&&O(w.prototype,P),j&&O(w,j),w}}(),v=T(b(5290)),F=b(8912),o=T(b(6440)),f=b(8345),V=T(b(7086));function T(O){return O&&O.__esModule?O:{default:O}}var _=function(){function O(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var I in function h(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,O),this.factMap=new Map(w),this.factResultsCache=new Map,this.allowUndefinedFacts=!!j.allowUndefinedFacts,P){var R;R=P[I]instanceof v.default?P[I]:new v.default(I,P[I]),this._addConstantFact(R),(0,o.default)("almanac::constructor initialized runtime fact:"+R.id+" with "+R.value+"<"+M(R.value)+">")}}return G(O,[{key:"_getFact",value:function(P){return this.factMap.get(P)}},{key:"_addConstantFact",value:function(P){this.factMap.set(P.id,P),this._setFactValue(P,{},P.value)}},{key:"_setFactValue",value:function(P,j,I){var R=P.getCacheKey(j),L=Promise.resolve(I);return R&&this.factResultsCache.set(R,L),L}},{key:"addRuntimeFact",value:function(P,j){(0,o.default)("almanac::addRuntimeFact id:"+P);var I=new v.default(P,j);return this._addConstantFact(I)}},{key:"factValue",value:function(P){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",R=void 0,L=this._getFact(P);if(void 0===L)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new F.UndefinedFactError("Undefined fact: "+P));if(L.isConstant())R=Promise.resolve(L.calculate(j,this));else{var ee=L.getCacheKey(j),W=ee&&this.factResultsCache.get(ee);W?(R=Promise.resolve(W),(0,o.default)("almanac::factValue cache hit for fact:"+P)):((0,o.default)("almanac::factValue cache miss for fact:"+P+"; calculating"),R=this._setFactValue(L,j,L.calculate(j,this)))}if(I){if("string"==typeof I&&I.startsWith("$"))return(0,o.default)("condition::evaluate extracting object property "+I),R.then(function(U){if((0,V.default)(U)){var ne=(0,f.JSONPath)({path:I,json:U,wrap:!1});return(0,o.default)("condition::evaluate extracting object property "+I+", received: "+ne),ne}return(0,o.default)("condition::evaluate could not compute object path("+I+") of non-object: "+U+" <"+(typeof U>"u"?"undefined":M(U))+">; continuing with "+U),U});var X=void 0;try{X=b(4365)}catch{throw console.error('Oops! Looks like you\'re trying to use the deprecated syntax for the ".path" property.'),console.error('Please convert your "path" properties to JsonPath syntax (ensure your path starts with "$")'),console.error('Alternatively, if you wish to continue using old syntax (provided by selectn), you may "npm install selectn" as a direct dependency.'),console.error("See https://github.com/CacheControl/json-rules-engine/blob/master/CHANGELOG.md#500--2019-10-27 for more information."),new Error('json-rules-engine: Unmet peer dependency "selectn" required for use of deprecated ".path" syntax. please "npm install selectn" or convert to json-path syntax')}return R.then(function(U){if((0,V.default)(U)){var ne=X(I)(U);return(0,o.default)("condition::evaluate extracting object property "+I+", received: "+ne),ne}return(0,o.default)("condition::evaluate could not compute object path("+I+") of non-object: "+U+" <"+(typeof U>"u"?"undefined":M(U))+">; continuing with "+U),U})}return R}}]),O}();se.default=_},3354:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var M=function(){function k(V,T){for(var h=0;h<T.length;h++){var _=T[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(V,_.key,_)}}return function(V,T,h){return T&&k(V.prototype,T),h&&k(V,h),V}}(),g=A(b(6440)),F=A(b(7086));function A(k){return k&&k.__esModule?k:{default:k}}var f=function(){function k(V){if(function o(k,V){if(!(k instanceof V))throw new TypeError("Cannot call a class as a function")}(this,k),!V)throw new Error("Condition: constructor options required");var T=k.booleanOperator(V);if(Object.assign(this,V),T){var h=V[T];if(!Array.isArray(h))throw new Error('"'+T+'" must be an array');this.operator=T,this.priority=parseInt(V.priority,10)||1,this[T]=h.map(function(_){return new k(_)})}else{if(!Object.prototype.hasOwnProperty.call(V,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(V,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(V,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(V,"priority")&&(V.priority=parseInt(V.priority,10))}}return M(k,[{key:"toJSON",value:function(){var T=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],h={};this.priority&&(h.priority=this.priority);var _=k.booleanOperator(this);return _?h[_]=this[_].map(function(O){return O.toJSON(T)}):(h.operator=this.operator,h.value=this.value,h.fact=this.fact,void 0!==this.factResult&&(h.factResult=this.factResult),void 0!==this.result&&(h.result=this.result),this.params&&(h.params=this.params),this.path&&(h.path=this.path)),T?JSON.stringify(h):h}},{key:"_getValue",value:function(T){var h=this.value;return(0,F.default)(h)&&Object.prototype.hasOwnProperty.call(h,"fact")?T.factValue(h.fact,h.params,h.path):Promise.resolve(h)}},{key:"evaluate",value:function(T,h){var _=this;if(!T)return Promise.reject(new Error("almanac required"));if(!h)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var O=h.get(this.operator);return O?this._getValue(T).then(function(w){return T.factValue(_.fact,_.params,_.path).then(function(P){var j=O.evaluate(P,w);return(0,g.default)("condition::evaluate <"+P+" "+_.operator+" "+w+"?> ("+j+")"),{result:j,leftHandSideValue:P,rightHandSideValue:w,operator:_.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return k.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==k.booleanOperator(this)}}],[{key:"booleanOperator",value:function(T){return Object.prototype.hasOwnProperty.call(T,"any")?"any":Object.prototype.hasOwnProperty.call(T,"all")?"all":void 0}}]),k}();se.default=f},6440:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.default=function b(M){try{(typeof process<"u"&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(M)}catch{}}},5757:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var G=function g(A){return A&&A.__esModule?A:{default:A}}(b(9203)),v=[];function F(A){return"NaN"!==Number.parseFloat(A).toString()}v.push(new G.default("equal",function(A,o){return A===o})),v.push(new G.default("notEqual",function(A,o){return A!==o})),v.push(new G.default("in",function(A,o){return o.indexOf(A)>-1})),v.push(new G.default("notIn",function(A,o){return-1===o.indexOf(A)})),v.push(new G.default("contains",function(A,o){return A.indexOf(o)>-1},Array.isArray)),v.push(new G.default("doesNotContain",function(A,o){return-1===A.indexOf(o)},Array.isArray)),v.push(new G.default("lessThan",function(A,o){return A<o},F)),v.push(new G.default("lessThanInclusive",function(A,o){return A<=o},F)),v.push(new G.default("greaterThan",function(A,o){return A>o},F)),v.push(new G.default("greaterThanInclusive",function(A,o){return A>=o},F)),se.default=v},9175:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.SuccessEventFact=function(){var G=[];return function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g.event&&G.push(g.event),G}}},6457:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.FINISHED=se.RUNNING=se.READY=void 0;var M=function(){function U(ne,ce){for(var te=0;te<ce.length;te++){var Y=ce[te];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(ne,Y.key,Y)}}return function(ne,ce,te){return ce&&U(ne.prototype,ce),te&&U(ne,te),ne}}(),g=P(b(5290)),F=P(b(7133)),o=P(b(9203)),k=P(b(9788)),V=b(4339),T=b(9175),_=P(b(5757)),w=P(b(6440));function P(U){return U&&U.__esModule?U:{default:U}}var L=se.READY="READY",ee=se.RUNNING="RUNNING",W=se.FINISHED="FINISHED",X=function(U){function ne(){var ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function j(U,ne){if(!(U instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,ne);var Y=function I(U,ne){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ne||"object"!=typeof ne&&"function"!=typeof ne?U:ne}(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this));return Y.rules=[],Y.allowUndefinedFacts=te.allowUndefinedFacts||!1,Y.operators=new Map,Y.facts=new Map,Y.status=L,ce.map(function(ie){return Y.addRule(ie)}),_.default.map(function(ie){return Y.addOperator(ie)}),Y}return function R(U,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);U.prototype=Object.create(ne&&ne.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(U,ne):U.__proto__=ne)}(ne,U),M(ne,[{key:"addRule",value:function(te){if(!te)throw new Error("Engine: addRule() requires options");if(!Object.prototype.hasOwnProperty.call(te,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!Object.prototype.hasOwnProperty.call(te,"event"))throw new Error('Engine: addRule() argument requires "event" property');var Y=void 0;return(Y=te instanceof F.default?te:new F.default(te)).setEngine(this),this.rules.push(Y),this.prioritizedRules=null,this}},{key:"removeRule",value:function(te){if(!(te instanceof F.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var Y=this.rules.indexOf(te);return-1!==Y&&(this.prioritizedRules=null,!!this.rules.splice(Y,1).length)}},{key:"addOperator",value:function(te,Y){var ie;ie=te instanceof o.default?te:new o.default(te,Y),(0,w.default)("engine::addOperator name:"+ie.name),this.operators.set(ie.name,ie)}},{key:"removeOperator",value:function(te){return this.operators.delete(te instanceof o.default?te.name:te)}},{key:"addFact",value:function(te,Y,ie){var pe=te,_e=void 0;return te instanceof g.default?(pe=te.id,_e=te):_e=new g.default(te,Y,ie),(0,w.default)("engine::addFact id:"+pe),this.facts.set(pe,_e),this}},{key:"removeFact",value:function(te){return this.facts.delete(te instanceof g.default?te.id:te)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var te=this.rules.reduce(function(Y,ie){var pe=ie.priority;return Y[pe]||(Y[pe]=[]),Y[pe].push(ie),Y},{});this.prioritizedRules=Object.keys(te).sort(function(Y,ie){return Number(Y)>Number(ie)?-1:1}).map(function(Y){return te[Y]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=W,this}},{key:"getFact",value:function(te){return this.facts.get(te)}},{key:"evaluateRules",value:function(te,Y){var ie=this;return Promise.all(te.map(function(pe){if(ie.status===ee)return pe.evaluate(Y).then(function(_e){(0,w.default)("engine::run ruleResult:"+_e.result),_e.result?(ie.emit("success",pe.event,Y,_e),ie.emit(pe.event.type,pe.event.params,Y,_e),Y.factValue("success-events",{event:pe.event})):ie.emit("failure",pe.event,Y,_e)});(0,w.default)("engine::run status:"+ie.status+"; skipping remaining rules")}))}},{key:"run",value:function(){var te=this,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,w.default)("engine::run started"),(0,w.default)("engine::run runtimeFacts:",Y),Y["success-events"]=new g.default("success-events",(0,T.SuccessEventFact)(),{cache:!1}),this.status=ee;var ie=new k.default(this.facts,Y,{allowUndefinedFacts:this.allowUndefinedFacts}),pe=this.prioritizeRules(),_e=Promise.resolve();return new Promise(function(he,ue){pe.map(function($e){return _e=_e.then(function(){return te.evaluateRules($e,ie)}).catch(ue)}),_e.then(function(){return te.status=W,(0,w.default)("engine::run completed"),ie.factValue("success-events")}).then(function($e){he({events:$e,almanac:ie})}).catch(ue)})}}]),ne}(V.EventEmitter);se.default=X},8912:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.UndefinedFactError=function(){function F(){var A;!function b(v,F){if(!(v instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F);for(var o=arguments.length,f=Array(o),k=0;k<o;k++)f[k]=arguments[k];var V=function M(v,F){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?v:F}(this,(A=F.__proto__||Object.getPrototypeOf(F)).call.apply(A,[this].concat(f)));return V.code="UNDEFINED_FACT",V}return function G(v,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);v.prototype=Object.create(F&&F.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(v,F):v.__proto__=F)}(F,Error),F}()},5290:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var M=function(){function o(f,k){for(var V=0;V<k.length;V++){var T=k[V];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(f,T.key,T)}}return function(f,k,V){return k&&o(f.prototype,k),V&&o(f,V),f}}(),g=function v(o){return o&&o.__esModule?o:{default:o}}(b(6451)),A=function(){function o(f,k,V){(function F(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=f;var T={cache:!0};if(typeof V>"u"&&(V=T),"function"!=typeof k?(this.value=k,this.type=this.constructor.CONSTANT):(this.calculationMethod=k,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(V.priority||1,10),this.options=Object.assign({},T,V),this.cacheKeyMethod=this.defaultCacheKeys,this}return M(o,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(k,V){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(k,V)}},{key:"defaultCacheKeys",value:function(k,V){return{params:V,id:k}}},{key:"getCacheKey",value:function(k){if(!0===this.options.cache){var V=this.cacheKeyMethod(this.id,k);return o.hashFromObject(V)}}}],[{key:"hashFromObject",value:function(k){return(0,g.default)(k)}}]),o}();A.CONSTANT="CONSTANT",A.DYNAMIC="DYNAMIC",se.default=A},7479:(Re,se,b)=>{Re.exports=b(6542)},6542:(Re,se,b)=>{se.Engine=se.Rule=void 0;var g=V(b(6457)),o=(V(b(5290)),V(b(7133)));V(b(9203));function V(T){return T&&T.__esModule?T:{default:T}}se.Rule=o.default,se.Engine=g.default},9203:(Re,se)=>{Object.defineProperty(se,"__esModule",{value:!0});var b=function(){function g(v,F){for(var A=0;A<F.length;A++){var o=F[A];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(v,o.key,o)}}return function(v,F,A){return F&&g(v.prototype,F),A&&g(v,A),v}}(),G=function(){function g(v,F,A){if(function M(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),this.name=String(v),!v)throw new Error("Missing operator name");if("function"!=typeof F)throw new Error("Missing operator callback");this.cb=F,this.factValueValidator=A,this.factValueValidator||(this.factValueValidator=function(){return!0})}return b(g,[{key:"evaluate",value:function(F,A){return this.factValueValidator(F)&&this.cb(F,A)}}]),g}();se.default=G},347:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var M=function(){function o(f,k){for(var V=0;V<k.length;V++){var T=k[V];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(f,T.key,T)}}return function(f,k,V){return k&&o(f.prototype,k),V&&o(f,V),f}}(),g=function v(o){return o&&o.__esModule?o:{default:o}}(b(2471)),A=function(){function o(f,k,V,T){(function F(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o),this.conditions=(0,g.default)(f),this.event=(0,g.default)(k),this.priority=(0,g.default)(V),this.name=(0,g.default)(T),this.result=null}return M(o,[{key:"setResult",value:function(k){this.result=k}},{key:"toJSON",value:function(){var k=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],V={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return k?JSON.stringify(V):V}}]),o}();se.default=A},7133:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0});var M=function(){function O(w,P){for(var j=0;j<P.length;j++){var I=P[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,P,j){return P&&O(w.prototype,P),j&&O(w,j),w}}(),g=k(b(3354)),F=k(b(347)),A=b(4339),f=k(b(6440));function k(O){return O&&O.__esModule?O:{default:O}}var _=function(O){function w(P){!function V(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var j=function T(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?O:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return"string"==typeof P&&(P=JSON.parse(P)),P&&P.conditions&&j.setConditions(P.conditions),P&&P.onSuccess&&j.on("success",P.onSuccess),P&&P.onFailure&&j.on("failure",P.onFailure),P&&(P.name||0===P.name)&&j.setName(P.name),j.setPriority(P&&P.priority||1),j.setEvent(P&&P.event||{type:"unknown"}),j}return function h(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}(w,O),M(w,[{key:"setPriority",value:function(j){if((j=parseInt(j,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=j,this}},{key:"setName",value:function(j){if(!j&&0!==j)throw new Error('Rule "name" must be defined');return this.name=j,this}},{key:"setConditions",value:function(j){if(!Object.prototype.hasOwnProperty.call(j,"all")&&!Object.prototype.hasOwnProperty.call(j,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new g.default(j),this}},{key:"setEvent",value:function(j){if(!j)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(j,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:j.type},j.params&&(this.event.params=j.params),this}},{key:"setEngine",value:function(j){return this.engine=j,this}},{key:"toJSON",value:function(){var j=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],I={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return j?JSON.stringify(I):I}},{key:"prioritizeConditions",value:function(j){var I=this,R=j.reduce(function(L,ee){var W=ee.priority;if(!W){var X=I.engine.getFact(ee.fact);W=X&&X.priority||1}return L[W]||(L[W]=[]),L[W].push(ee),L},{});return Object.keys(R).sort(function(L,ee){return Number(L)>Number(ee)?-1:1}).map(function(L){return R[L]})}},{key:"evaluate",value:function(j){var I=this,R=new F.default(this.conditions,this.event,this.priority,this.name),W=function(te,Y){if(0===te.length)return Promise.resolve(!0);var ie=Array.prototype.some;"all"===Y&&(ie=Array.prototype.every);for(var pe=I.prioritizeConditions(te),_e=Promise.resolve(),he=function(Ee){var Be=pe[Ee],Qe=!1;_e=_e.then(function(Ze){return"any"===Y&&!0===Ze||Qe?((0,f.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),Qe=!0,!0):"all"===Y&&!1===Ze||Qe?((0,f.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),Qe=!0,!1):function(te,Y){return Array.isArray(te)||(te=[te]),Promise.all(te.map(function(ie){return function(te){if(te.isBooleanOperator()){var Y=te[te.operator];return("all"===te.operator?U(Y):X(Y)).then(function(pe){var _e=!0===pe;return te.result=_e,_e})}return te.evaluate(j,I.engine.operators).then(function(pe){var _e=pe.result;return te.factResult=pe.leftHandSideValue,te.result=_e,_e})}(ie)})).then(function(ie){return(0,f.default)("rule::evaluateConditions results",ie),Y.call(ie,function(pe){return!0===pe})})}(Be,ie)})},ue=0;ue<pe.length;ue++)he(ue);return _e},X=function(te){return W(te,"any")},U=function(te){return W(te,"all")},ne=function(te){return R.setResult(te),I.emit(te?"success":"failure",R.event,j,R),R};return R.conditions.any?X(R.conditions.any).then(function(ce){return ne(ce)}):U(R.conditions.all).then(function(ce){return ne(ce)})}}]),w}(A.EventEmitter);se.default=_},8345:(Re,se,b)=>{function M(Y){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(Y)}function v(Y){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(Y)}function F(Y,ie){return(F=Object.setPrototypeOf||function(_e,he){return _e.__proto__=he,_e})(Y,ie)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function o(Y,ie,pe){return(o=A()?Reflect.construct:function(he,ue,$e){var Ee=[null];Ee.push.apply(Ee,ue);var Qe=new(Function.bind.apply(he,Ee));return $e&&F(Qe,$e.prototype),Qe}).apply(null,arguments)}function k(Y){var ie="function"==typeof Map?new Map:void 0;return k=function(_e){if(null===_e||!function f(Y){return-1!==Function.toString.call(Y).indexOf("[native code]")}(_e))return _e;if("function"!=typeof _e)throw new TypeError("Super expression must either be null or a function");if(typeof ie<"u"){if(ie.has(_e))return ie.get(_e);ie.set(_e,he)}function he(){return o(_e,arguments,v(this).constructor)}return he.prototype=Object.create(_e.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),F(he,_e)},k(Y)}function _(Y){return function O(Y){if(Array.isArray(Y))return j(Y)}(Y)||function w(Y){if(typeof Symbol<"u"&&Symbol.iterator in Object(Y))return Array.from(Y)}(Y)||P(Y)||function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(Y,ie){if(Y){if("string"==typeof Y)return j(Y,ie);var pe=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===pe&&Y.constructor&&(pe=Y.constructor.name),"Map"===pe||"Set"===pe)return Array.from(pe);if("Arguments"===pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return j(Y,ie)}}function j(Y,ie){(null==ie||ie>Y.length)&&(ie=Y.length);for(var pe=0,_e=new Array(ie);pe<ie;pe++)_e[pe]=Y[pe];return _e}b.r(se),b.d(se,{JSONPath:()=>te});var ee=Object.prototype.hasOwnProperty,X=(te.nodeVMSupported=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}())?b(2249):{runInNewContext:function(ie,pe){var _e=Object.keys(pe),he=[];!function(ie,pe,_e){for(var he=ie.length,ue=0;ue<he;ue++)_e(ie[ue])&&pe.push(ie.splice(ue--,1)[0])}(_e,he,function(Qe){return"function"==typeof pe[Qe]});var ue=_e.map(function(Qe,Ze){return pe[Qe]});!(ie=he.reduce(function(Qe,Ze){var st=pe[Ze].toString();return/function/.test(st)||(st="function "+st),"var "+Ze+"="+st+";"+Qe},"")+ie).match(/(["'])use strict\1/)&&!_e.includes("arguments")&&(ie="var arguments = undefined;"+ie);var Ee=(ie=ie.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),Be=Ee>-1?ie.slice(0,Ee+1)+" return "+ie.slice(Ee+1):" return "+ie;return o(Function,_(_e).concat([Be])).apply(void 0,_(ue))}};function U(Y,ie){return(Y=Y.slice()).push(ie),Y}function ne(Y,ie){return(ie=ie.slice()).unshift(Y),ie}var ce=function(Y){!function g(Y,ie){if("function"!=typeof ie&&null!==ie)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),ie&&F(Y,ie)}(pe,Y);var ie=function h(Y){return function(){var pe,ie=v(Y);if(A()){var _e=v(this).constructor;pe=Reflect.construct(ie,arguments,_e)}else pe=ie.apply(this,arguments);return function T(Y,ie){return!ie||"object"!=typeof ie&&"function"!=typeof ie?function V(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y):ie}(this,pe)}}(pe);function pe(_e){var he;return function G(Y,ie){if(!(Y instanceof ie))throw new TypeError("Cannot call a class as a function")}(this,pe),(he=ie.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,he.value=_e,he.name="NewError",he}return pe}(k(Error));function te(Y,ie,pe,_e,he){if(!(this instanceof te))try{return new te(Y,ie,pe,_e,he)}catch(Be){if(!Be.avoidNew)throw Be;return Be.value}"string"==typeof Y&&(he=_e,_e=pe,pe=ie,ie=Y,Y=null);var ue=Y&&"object"===M(Y);if(this.json=(Y=Y||{}).json||pe,this.path=Y.path||ie,this.resultType=Y.resultType||"value",this.flatten=Y.flatten||!1,this.wrap=!ee.call(Y,"wrap")||Y.wrap,this.sandbox=Y.sandbox||{},this.preventEval=Y.preventEval||!1,this.parent=Y.parent||null,this.parentProperty=Y.parentProperty||null,this.callback=Y.callback||_e||null,this.otherTypeCallback=Y.otherTypeCallback||he||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==Y.autostart){var $e={path:ue?Y.path:ie};ue?"json"in Y&&($e.json=Y.json):$e.json=pe;var Ee=this.evaluate($e);if(!Ee||"object"!==M(Ee))throw new ce(Ee);return Ee}}te.prototype.evaluate=function(Y,ie,pe,_e){var he=this,ue=this.parent,$e=this.parentProperty,Ee=this.flatten,Be=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,pe=pe||this.callback,this.currOtherTypeCallback=_e||this.otherTypeCallback,ie=ie||this.json,(Y=Y||this.path)&&"object"===M(Y)&&!Array.isArray(Y)){if(!Y.path&&""!==Y.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ee.call(Y,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');ie=Y.json,Ee=ee.call(Y,"flatten")?Y.flatten:Ee,this.currResultType=ee.call(Y,"resultType")?Y.resultType:this.currResultType,this.currSandbox=ee.call(Y,"sandbox")?Y.sandbox:this.currSandbox,Be=ee.call(Y,"wrap")?Y.wrap:Be,this.currPreventEval=ee.call(Y,"preventEval")?Y.preventEval:this.currPreventEval,pe=ee.call(Y,"callback")?Y.callback:pe,this.currOtherTypeCallback=ee.call(Y,"otherTypeCallback")?Y.otherTypeCallback:this.currOtherTypeCallback,ue=ee.call(Y,"parent")?Y.parent:ue,$e=ee.call(Y,"parentProperty")?Y.parentProperty:$e,Y=Y.path}if(ue=ue||null,$e=$e||null,Array.isArray(Y)&&(Y=te.toPathString(Y)),(Y||""===Y)&&ie){this._obj=ie;var Ze=te.toPathArray(Y);"$"===Ze[0]&&Ze.length>1&&Ze.shift(),this._hasParentSelector=null;var st=this._trace(Ze,ie,["$"],ue,$e,pe).filter(function(gt){return gt&&!gt.isParentSelector});return st.length?Be||1!==st.length||st[0].hasArrExpr?st.reduce(function(gt,qe){var rt=he._getPreferredOutput(qe);return Ee&&Array.isArray(rt)?gt=gt.concat(rt):gt.push(rt),gt},[]):this._getPreferredOutput(st[0]):Be?[]:void 0}},te.prototype._getPreferredOutput=function(Y){var ie=this.currResultType;switch(ie){default:throw new TypeError("Unknown result type");case"all":var pe=Array.isArray(Y.path)?Y.path:te.toPathArray(Y.path);return Y.pointer=te.toPointer(pe),Y.path="string"==typeof Y.path?Y.path:te.toPathString(Y.path),Y;case"value":case"parent":case"parentProperty":return Y[ie];case"path":return te.toPathString(Y[ie]);case"pointer":return te.toPointer(Y.path)}},te.prototype._handleCallback=function(Y,ie,pe){if(ie){var _e=this._getPreferredOutput(Y);Y.path="string"==typeof Y.path?Y.path:te.toPathString(Y.path),ie(_e,pe,Y)}},te.prototype._trace=function(Y,ie,pe,_e,he,ue,$e,Ee){var Be,Qe=this;if(!Y.length)return this._handleCallback(Be={path:pe,value:ie,parent:_e,parentProperty:he,hasArrExpr:$e},ue,"value"),Be;var Ze=Y[0],st=Y.slice(1),gt=[];function qe(Q){Array.isArray(Q)?Q.forEach(function(be){gt.push(be)}):gt.push(Q)}if(("string"!=typeof Ze||Ee)&&ie&&ee.call(ie,Ze))qe(this._trace(st,ie[Ze],U(pe,Ze),ie,Ze,ue,$e));else if("*"===Ze)this._walk(Ze,st,ie,pe,_e,he,ue,function(Q,be,je,tt,it,_t,Bt,Vt){qe(Qe._trace(ne(Q,je),tt,it,_t,Bt,Vt,!0,!0))});else if(".."===Ze)qe(this._trace(st,ie,pe,_e,he,ue,$e)),this._walk(Ze,st,ie,pe,_e,he,ue,function(Q,be,je,tt,it,_t,Bt,Vt){"object"===M(tt[Q])&&qe(Qe._trace(ne(be,je),tt[Q],U(it,Q),tt,Q,Vt,!0))});else{if("^"===Ze)return this._hasParentSelector=!0,{path:pe.slice(0,-1),expr:st,isParentSelector:!0};if("~"===Ze)return Be={path:U(pe,Ze),value:he,parent:_e,parentProperty:null},this._handleCallback(Be,ue,"property"),Be;if("$"===Ze)qe(this._trace(st,ie,pe,null,null,ue,$e));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(Ze))qe(this._slice(Ze,st,ie,pe,_e,he,ue));else if(0===Ze.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(Ze,st,ie,pe,_e,he,ue,function(Q,be,je,tt,it,_t,Bt,Vt){Qe._eval(be.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),tt[Q],Q,it,_t,Bt)&&qe(Qe._trace(ne(Q,je),tt,it,_t,Bt,Vt,!0))})}else if("("===Ze[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");qe(this._trace(ne(this._eval(Ze,ie,pe[pe.length-1],pe.slice(0,-1),_e,he),st),ie,pe,_e,he,ue,$e))}else if("@"===Ze[0]){var rt=!1,ht=Ze.slice(1,-2);switch(ht){default:throw new TypeError("Unknown value type "+ht);case"scalar":(!ie||!["object","function"].includes(M(ie)))&&(rt=!0);break;case"boolean":case"string":case"undefined":case"function":M(ie)===ht&&(rt=!0);break;case"integer":Number.isFinite(ie)&&!(ie%1)&&(rt=!0);break;case"number":Number.isFinite(ie)&&(rt=!0);break;case"nonFinite":"number"==typeof ie&&!Number.isFinite(ie)&&(rt=!0);break;case"object":ie&&M(ie)===ht&&(rt=!0);break;case"array":Array.isArray(ie)&&(rt=!0);break;case"other":rt=this.currOtherTypeCallback(ie,pe,_e,he);break;case"null":null===ie&&(rt=!0)}if(rt)return this._handleCallback(Be={path:pe,value:ie,parent:_e,parentProperty:he},ue,"value"),Be}else if("`"===Ze[0]&&ie&&ee.call(ie,Ze.slice(1))){var fe=Ze.slice(1);qe(this._trace(st,ie[fe],U(pe,fe),ie,fe,ue,$e,!0))}else if(Ze.includes(",")){var xe,K=function R(Y){if(typeof Symbol>"u"||null==Y[Symbol.iterator]){if(Array.isArray(Y)||(Y=P(Y))){var ie=0,pe=function(){};return{s:pe,n:function(){return ie>=Y.length?{done:!0}:{done:!1,value:Y[ie++]}},e:function(Be){throw Be},f:pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _e,$e,he=!0,ue=!1;return{s:function(){_e=Y[Symbol.iterator]()},n:function(){var Be=_e.next();return he=Be.done,Be},e:function(Be){ue=!0,$e=Be},f:function(){try{!he&&null!=_e.return&&_e.return()}finally{if(ue)throw $e}}}}(Ze.split(","));try{for(K.s();!(xe=K.n()).done;)qe(this._trace(ne(xe.value,st),ie,pe,_e,he,ue,!0))}catch(Q){K.e(Q)}finally{K.f()}}else!Ee&&ie&&ee.call(ie,Ze)&&qe(this._trace(st,ie[Ze],U(pe,Ze),ie,Ze,ue,$e,!0))}if(this._hasParentSelector)for(var ae=0;ae<gt.length;ae++){var re=gt[ae];if(re&&re.isParentSelector){var Me=Qe._trace(re.expr,ie,re.path,_e,he,ue,$e);if(Array.isArray(Me)){gt[ae]=Me[0];for(var oe=Me.length,J=1;J<oe;J++)ae++,gt.splice(ae,0,Me[J])}else gt[ae]=Me}}return gt},te.prototype._walk=function(Y,ie,pe,_e,he,ue,$e,Ee){if(Array.isArray(pe))for(var Be=pe.length,Qe=0;Qe<Be;Qe++)Ee(Qe,Y,ie,pe,_e,he,ue,$e);else pe&&"object"===M(pe)&&Object.keys(pe).forEach(function(Ze){Ee(Ze,Y,ie,pe,_e,he,ue,$e)})},te.prototype._slice=function(Y,ie,pe,_e,he,ue,$e){if(Array.isArray(pe)){var Ee=pe.length,Be=Y.split(":"),Qe=Be[2]&&Number.parseInt(Be[2])||1,Ze=Be[0]&&Number.parseInt(Be[0])||0,st=Be[1]&&Number.parseInt(Be[1])||Ee;Ze=Ze<0?Math.max(0,Ze+Ee):Math.min(Ee,Ze),st=st<0?Math.max(0,st+Ee):Math.min(Ee,st);for(var gt=[],qe=Ze;qe<st;qe+=Qe)this._trace(ne(qe,ie),pe,_e,he,ue,$e,!0).forEach(function(ht){gt.push(ht)});return gt}},te.prototype._eval=function(Y,ie,pe,_e,he,ue){if(!this._obj||!ie)return!1;Y.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=ue,Y=Y.replace(/@parentProperty/g,"_$_parentProperty")),Y.includes("@parent")&&(this.currSandbox._$_parent=he,Y=Y.replace(/@parent/g,"_$_parent")),Y.includes("@property")&&(this.currSandbox._$_property=pe,Y=Y.replace(/@property/g,"_$_property")),Y.includes("@path")&&(this.currSandbox._$_path=te.toPathString(_e.concat([pe])),Y=Y.replace(/@path/g,"_$_path")),Y.includes("@root")&&(this.currSandbox._$_root=this.json,Y=Y.replace(/@root/g,"_$_root")),Y.match(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/)&&(this.currSandbox._$_v=ie,Y=Y.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return X.runInNewContext(Y,this.currSandbox)}catch($e){throw console.log($e),new Error("jsonPath: "+$e.message+": "+Y)}},te.cache={},te.toPathString=function(Y){for(var ie=Y,pe=ie.length,_e="$",he=1;he<pe;he++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(ie[he])||(_e+=/^[\*0-9]+$/.test(ie[he])?"["+ie[he]+"]":"['"+ie[he]+"']");return _e},te.toPointer=function(Y){for(var ie=Y,pe=ie.length,_e="",he=1;he<pe;he++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(ie[he])||(_e+="/"+ie[he].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return _e},te.toPathArray=function(Y){var ie=te.cache;if(ie[Y])return ie[Y].concat();var pe=[],he=Y.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(ue,$e){return"[#"+(pe.push($e)-1)+"]"}).replace(/\['((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)'\]/g,function(ue,$e){return"['"+$e.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(ue,$e){return";"+$e.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(ue){var $e=ue.match(/#([0-9]+)/);return $e&&$e[1]?pe[$e[1]]:ue});return ie[Y]=he,ie[Y]}},7086:Re=>{Re.exports=function se(b){return!!b&&"object"==typeof b}},7598:Re=>{Re.exports=Math.abs},3116:Re=>{Re.exports=Math.floor},159:Re=>{Re.exports=Number.isNaN||function(b){return b!=b}},2136:Re=>{Re.exports=Math.max},3462:Re=>{Re.exports=Math.min},9135:Re=>{Re.exports=Math.pow},5714:Re=>{Re.exports=Math.round},497:(Re,se,b)=>{var M=b(159);Re.exports=function(g){return M(g)||0===g?g:g<0?-1:1}},2100:(Re,se)=>{function M(o){return o.replace(/[-[\]/{}()*+?.\\^$]/g,"\\$&")}function G(o,f){var V=(void 0===f?{}:f).decimalMark,T=void 0===V?".":V;if("number"==typeof o)return o.toString();if("string"!=typeof o)return"NaN";var h=M(T),_=o.trim(),O=_.match(/^\(.*\)$|^-/),w=new RegExp("[^\\d"+h+"]|"+h+"(?=.*"+h+")|^\\D*"+h+"\\D*$","g");return""===(_=_.replace(w,"").replace(T,"."))?_="NaN":O&&(_="-"+_),_}se.Ro=void 0,se.Ro=function g(o,f){var V=(void 0===f?{}:f).decimalMark,h=G(o,{decimalMark:void 0===V?".":V});return"NaN"===h?NaN:Number(h)}},3687:(Re,se,b)=>{var M="function"==typeof Map&&Map.prototype,G=Object.getOwnPropertyDescriptor&&M?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,g=M&&G&&"function"==typeof G.get?G.get:null,v=M&&Map.prototype.forEach,F="function"==typeof Set&&Set.prototype,A=Object.getOwnPropertyDescriptor&&F?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=F&&A&&"function"==typeof A.get?A.get:null,f=F&&Set.prototype.forEach,V="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,O="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,w=Boolean.prototype.valueOf,P=Object.prototype.toString,j=Function.prototype.toString,I=String.prototype.match,R=String.prototype.slice,L=String.prototype.replace,ee=String.prototype.toUpperCase,W=String.prototype.toLowerCase,X=RegExp.prototype.test,U=Array.prototype.concat,ne=Array.prototype.join,ce=Array.prototype.slice,te=Math.floor,Y="function"==typeof BigInt?BigInt.prototype.valueOf:null,ie=Object.getOwnPropertySymbols,pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_e="function"==typeof Symbol&&"object"==typeof Symbol.iterator,he="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ue=Object.prototype.propertyIsEnumerable,$e=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ge){return Ge.__proto__}:null);function Ee(Ge,ze){if(Ge===1/0||Ge===-1/0||Ge!=Ge||Ge&&Ge>-1e3&&Ge<1e3||X.call(/e/,ze))return ze;var Et=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ge){var Tt=Ge<0?-te(-Ge):te(Ge);if(Tt!==Ge){var Ft=String(Tt),wt=R.call(ze,Ft.length+1);return L.call(Ft,Et,"$&_")+"."+L.call(L.call(wt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return L.call(ze,Et,"$&_")}var Be=b(2634),Qe=Be.custom,Ze=Me(Qe)?Qe:null,st={__proto__:null,double:'"',single:"'"},gt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function qe(Ge,ze,Et){var Ft=st[Et.quoteStyle||ze];return Ft+Ge+Ft}function rt(Ge){return L.call(String(Ge),/"/g,"&quot;")}function ht(Ge){return!he||!("object"==typeof Ge&&(he in Ge||typeof Ge[he]<"u"))}function fe(Ge){return"[object Array]"===be(Ge)&&ht(Ge)}function K(Ge){return"[object RegExp]"===be(Ge)&&ht(Ge)}function Me(Ge){if(_e)return Ge&&"object"==typeof Ge&&Ge instanceof Symbol;if("symbol"==typeof Ge)return!0;if(!Ge||"object"!=typeof Ge||!pe)return!1;try{return pe.call(Ge),!0}catch{}return!1}Re.exports=function Ge(ze,Et,Tt,Ft){var wt=Et||{};if(Q(wt,"quoteStyle")&&!Q(st,wt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Q(wt,"maxStringLength")&&("number"==typeof wt.maxStringLength?wt.maxStringLength<0&&wt.maxStringLength!==1/0:null!==wt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Lt=!Q(wt,"customInspect")||wt.customInspect;if("boolean"!=typeof Lt&&"symbol"!==Lt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(wt,"indent")&&null!==wt.indent&&"\t"!==wt.indent&&!(parseInt(wt.indent,10)===wt.indent&&wt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(wt,"numericSeparator")&&"boolean"!=typeof wt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var sn=wt.numericSeparator;if(typeof ze>"u")return"undefined";if(null===ze)return"null";if("boolean"==typeof ze)return ze?"true":"false";if("string"==typeof ze)return we(ze,wt);if("number"==typeof ze){if(0===ze)return 1/0/ze>0?"0":"-0";var jt=String(ze);return sn?Ee(ze,jt):jt}if("bigint"==typeof ze){var Un=String(ze)+"n";return sn?Ee(ze,Un):Un}var tn=typeof wt.depth>"u"?5:wt.depth;if(typeof Tt>"u"&&(Tt=0),Tt>=tn&&tn>0&&"object"==typeof ze)return fe(ze)?"[Array]":"[Object]";var pn=function kt(Ge,ze){var Et;if("\t"===Ge.indent)Et="\t";else{if(!("number"==typeof Ge.indent&&Ge.indent>0))return null;Et=ne.call(Array(Ge.indent+1)," ")}return{base:Et,prev:ne.call(Array(ze+1),Et)}}(wt,Tt);if(typeof Ft>"u")Ft=[];else if(tt(Ft,ze)>=0)return"[Circular]";function kn(Ki,lo,js){if(lo&&(Ft=ce.call(Ft)).push(lo),js){var cs={depth:wt.depth};return Q(wt,"quoteStyle")&&(cs.quoteStyle=wt.quoteStyle),Ge(Ki,cs,Tt+1,Ft)}return Ge(Ki,wt,Tt+1,Ft)}if("function"==typeof ze&&!K(ze)){var yr=function je(Ge){if(Ge.name)return Ge.name;var ze=I.call(j.call(Ge),/^function\s*([\w$]+)/);return ze?ze[1]:null}(ze),Zn=mt(ze,kn);return"[Function"+(yr?": "+yr:" (anonymous)")+"]"+(Zn.length>0?" { "+ne.call(Zn,", ")+" }":"")}if(Me(ze)){var Tn=_e?L.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):pe.call(ze);return"object"!=typeof ze||_e?Tn:Dn(Tn)}if(function fn(Ge){return!(!Ge||"object"!=typeof Ge)&&(typeof HTMLElement<"u"&&Ge instanceof HTMLElement||"string"==typeof Ge.nodeName&&"function"==typeof Ge.getAttribute)}(ze)){for(var kr="<"+W.call(String(ze.nodeName)),Nr=ze.attributes||[],Gn=0;Gn<Nr.length;Gn++)kr+=" "+Nr[Gn].name+"="+qe(rt(Nr[Gn].value),"double",wt);return kr+=">",ze.childNodes&&ze.childNodes.length&&(kr+="..."),kr+"</"+W.call(String(ze.nodeName))+">"}if(fe(ze)){if(0===ze.length)return"[]";var jn=mt(ze,kn);return pn&&!function Ct(Ge){for(var ze=0;ze<Ge.length;ze++)if(tt(Ge[ze],"\n")>=0)return!1;return!0}(jn)?"["+Dt(jn,pn)+"]":"[ "+ne.call(jn,", ")+" ]"}if(function xe(Ge){return"[object Error]"===be(Ge)&&ht(Ge)}(ze)){var dn=mt(ze,kn);return"cause"in Error.prototype||!("cause"in ze)||ue.call(ze,"cause")?0===dn.length?"["+String(ze)+"]":"{ ["+String(ze)+"] "+ne.call(dn,", ")+" }":"{ ["+String(ze)+"] "+ne.call(U.call("[cause]: "+kn(ze.cause),dn),", ")+" }"}if("object"==typeof ze&&Lt){if(Ze&&"function"==typeof ze[Ze]&&Be)return Be(ze,{depth:tn-Tt});if("symbol"!==Lt&&"function"==typeof ze.inspect)return ze.inspect()}if(function it(Ge){if(!g||!Ge||"object"!=typeof Ge)return!1;try{g.call(Ge);try{o.call(Ge)}catch{return!0}return Ge instanceof Map}catch{}return!1}(ze)){var Gr=[];return v&&v.call(ze,function(Ki,lo){Gr.push(kn(lo,ze,!0)+" => "+kn(Ki,ze))}),Nt("Map",g.call(ze),Gr,pn)}if(function Vt(Ge){if(!o||!Ge||"object"!=typeof Ge)return!1;try{o.call(Ge);try{g.call(Ge)}catch{return!0}return Ge instanceof Set}catch{}return!1}(ze)){var Fa=[];return f&&f.call(ze,function(Ki){Fa.push(kn(Ki,ze))}),Nt("Set",o.call(ze),Fa,pn)}if(function _t(Ge){if(!V||!Ge||"object"!=typeof Ge)return!1;try{V.call(Ge,V);try{h.call(Ge,h)}catch{return!0}return Ge instanceof WeakMap}catch{}return!1}(ze))return ft("WeakMap");if(function cn(Ge){if(!h||!Ge||"object"!=typeof Ge)return!1;try{h.call(Ge,h);try{V.call(Ge,V)}catch{return!0}return Ge instanceof WeakSet}catch{}return!1}(ze))return ft("WeakSet");if(function Bt(Ge){if(!O||!Ge||"object"!=typeof Ge)return!1;try{return O.call(Ge),!0}catch{}return!1}(ze))return ft("WeakRef");if(function ae(Ge){return"[object Number]"===be(Ge)&&ht(Ge)}(ze))return Dn(kn(Number(ze)));if(function oe(Ge){if(!Ge||"object"!=typeof Ge||!Y)return!1;try{return Y.call(Ge),!0}catch{}return!1}(ze))return Dn(kn(Y.call(ze)));if(function re(Ge){return"[object Boolean]"===be(Ge)&&ht(Ge)}(ze))return Dn(w.call(ze));if(function Te(Ge){return"[object String]"===be(Ge)&&ht(Ge)}(ze))return Dn(kn(String(ze)));if(typeof window<"u"&&ze===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ze===globalThis||typeof global<"u"&&ze===global)return"{ [object globalThis] }";if(!function H(Ge){return"[object Date]"===be(Ge)&&ht(Ge)}(ze)&&!K(ze)){var xn=mt(ze,kn),rr=$e?$e(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,Ga=ze instanceof Object?"":"null prototype",pi=!rr&&he&&Object(ze)===ze&&he in ze?R.call(be(ze),8,-1):Ga?"Object":"",gn=(rr||"function"!=typeof ze.constructor?"":ze.constructor.name?ze.constructor.name+" ":"")+(pi||Ga?"["+ne.call(U.call([],pi||[],Ga||[]),": ")+"] ":"");return 0===xn.length?gn+"{}":pn?gn+"{"+Dt(xn,pn)+"}":gn+"{ "+ne.call(xn,", ")+" }"}return String(ze)};var J=Object.prototype.hasOwnProperty||function(Ge){return Ge in this};function Q(Ge,ze){return J.call(Ge,ze)}function be(Ge){return P.call(Ge)}function tt(Ge,ze){if(Ge.indexOf)return Ge.indexOf(ze);for(var Et=0,Tt=Ge.length;Et<Tt;Et++)if(Ge[Et]===ze)return Et;return-1}function we(Ge,ze){if(Ge.length>ze.maxStringLength){var Et=Ge.length-ze.maxStringLength,Tt="... "+Et+" more character"+(Et>1?"s":"");return we(R.call(Ge,0,ze.maxStringLength),ze)+Tt}var Ft=gt[ze.quoteStyle||"single"];return Ft.lastIndex=0,qe(L.call(L.call(Ge,Ft,"\\$1"),/[\x00-\x1f]/g,Rn),"single",ze)}function Rn(Ge){var ze=Ge.charCodeAt(0),Et={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return Et?"\\"+Et:"\\x"+(ze<16?"0":"")+ee.call(ze.toString(16))}function Dn(Ge){return"Object("+Ge+")"}function ft(Ge){return Ge+" { ? }"}function Nt(Ge,ze,Et,Tt){return Ge+" ("+ze+") {"+(Tt?Dt(Et,Tt):ne.call(Et,", "))+"}"}function Dt(Ge,ze){if(0===Ge.length)return"";var Et="\n"+ze.prev+ze.base;return Et+ne.call(Ge,","+Et)+"\n"+ze.prev}function mt(Ge,ze){var Et=fe(Ge),Tt=[];if(Et){Tt.length=Ge.length;for(var Ft=0;Ft<Ge.length;Ft++)Tt[Ft]=Q(Ge,Ft)?ze(Ge[Ft],Ge):""}var Lt,wt="function"==typeof ie?ie(Ge):[];if(_e){Lt={};for(var sn=0;sn<wt.length;sn++)Lt["$"+wt[sn]]=wt[sn]}for(var jt in Ge)Q(Ge,jt)&&(Et&&String(Number(jt))===jt&&jt<Ge.length||_e&&Lt["$"+jt]instanceof Symbol||(X.call(/[^\w$]/,jt)?Tt.push(ze(jt,Ge)+": "+ze(Ge[jt],Ge)):Tt.push(jt+": "+ze(Ge[jt],Ge))));if("function"==typeof ie)for(var Un=0;Un<wt.length;Un++)ue.call(Ge,wt[Un])&&Tt.push("["+ze(wt[Un])+"]: "+ze(Ge[wt[Un]],Ge));return Tt}},7473:function(Re){Re.exports=function(se){var b={};function M(G){if(b[G])return b[G].exports;var g=b[G]={i:G,l:!1,exports:{}};return se[G].call(g.exports,g,g.exports,M),g.l=!0,g.exports}return M.m=se,M.c=b,M.d=function(G,g,v){M.o(G,g)||Object.defineProperty(G,g,{enumerable:!0,get:v})},M.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},M.t=function(G,g){if(1&g&&(G=M(G)),8&g||4&g&&"object"==typeof G&&G&&G.__esModule)return G;var v=Object.create(null);if(M.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:G}),2&g&&"string"!=typeof G)for(var F in G)M.d(v,F,function(A){return G[A]}.bind(null,F));return v},M.n=function(G){var g=G&&G.__esModule?function(){return G.default}:function(){return G};return M.d(g,"a",g),g},M.o=function(G,g){return Object.prototype.hasOwnProperty.call(G,g)},M.p="",M(M.s=22)}([function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=function(){function A(o,f){for(var k=0;k<f.length;k++){var V=f[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(o,V.key,V)}}return function(o,f,k){return f&&A(o.prototype,f),k&&A(o,k),o}}(),g={debug:function(){},info:function(){},warn:function(){},error:function(){}},v=void 0,F=void 0;(b.Log=function(){function A(){!function(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")}(this,A)}return A.reset=function(){F=3,v=g},A.debug=function(){if(F>=4){for(var f=arguments.length,k=Array(f),V=0;V<f;V++)k[V]=arguments[V];v.debug.apply(v,Array.from(k))}},A.info=function(){if(F>=3){for(var f=arguments.length,k=Array(f),V=0;V<f;V++)k[V]=arguments[V];v.info.apply(v,Array.from(k))}},A.warn=function(){if(F>=2){for(var f=arguments.length,k=Array(f),V=0;V<f;V++)k[V]=arguments[V];v.warn.apply(v,Array.from(k))}},A.error=function(){if(F>=1){for(var f=arguments.length,k=Array(f),V=0;V<f;V++)k[V]=arguments[V];v.error.apply(v,Array.from(k))}},G(A,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return F},set:function(f){if(!(0<=f&&f<=4))throw new Error("Invalid log level");F=f}},{key:"logger",get:function(){return v},set:function(f){if(!f.debug&&f.info&&(f.debug=f.info),!(f.debug&&f.info&&f.warn&&f.error))throw new Error("Invalid logger");v=f}}]),A}()).reset()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=function(){function A(o,f){for(var k=0;k<f.length;k++){var V=f[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(o,V.key,V)}}return function(o,f,k){return f&&A(o.prototype,f),k&&A(o,k),o}}(),g={setInterval:function(A){function o(f,k){return A.apply(this,arguments)}return o.toString=function(){return A.toString()},o}(function(A,o){return setInterval(A,o)}),clearInterval:function(A){function o(f){return A.apply(this,arguments)}return o.toString=function(){return A.toString()},o}(function(A){return clearInterval(A)})},v=!1,F=null;b.Global=function(){function A(){!function(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")}(this,A)}return A._testing=function(){v=!0},A.setXMLHttpRequest=function(f){F=f},G(A,null,[{key:"location",get:function(){if(!v)return location}},{key:"localStorage",get:function(){if(!v&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!v&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!v&&typeof window<"u")return F||XMLHttpRequest}},{key:"timer",get:function(){if(!v)return g}}]),A}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataService=void 0;var G=function(){function o(f,k){for(var V=0;V<k.length;V++){var T=k[V];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(f,T.key,T)}}return function(f,k,V){return k&&o(f.prototype,k),V&&o(f,V),f}}(),g=M(0),v=M(7);var A=".well-known/openid-configuration";b.MetadataService=function(){function o(f){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.JsonService;if(function F(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}(this,o),!f)throw g.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=f,this._jsonService=new k(["application/jwk-set+json"])}return o.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},o.prototype.getMetadata=function(){var k=this;return this._settings.metadata?(g.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(g.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(V){return g.Log.debug("MetadataService.getMetadata: json received"),k._settings.metadata=Object.assign({},k._settings.metadataSeed||{},V),k._settings.metadata})):(g.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},o.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},o.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},o.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},o.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},o.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},o.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},o.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},o.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},o.prototype._getMetadataProperty=function(k){var V=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g.Log.debug("MetadataService.getMetadataProperty for: "+k),this.getMetadata().then(function(T){if(g.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===T[k]){if(!0===V)return void g.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+k);throw g.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+k),new Error("Metadata does not contain property "+k)}return T[k]})},o.prototype.getSigningKeys=function(){var k=this;return this._settings.signingKeys?(g.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(V){return g.Log.debug("MetadataService.getSigningKeys: jwks_uri received",V),k._jsonService.getJson(V).then(function(T){if(g.Log.debug("MetadataService.getSigningKeys: key set received",T),!T.keys)throw g.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return k._settings.signingKeys=T.keys,k._settings.signingKeys})})},G(o,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(A)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=A))),this._metadataUrl}}]),o}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UrlUtility=void 0;var G=M(0),g=M(1);b.UrlUtility=function(){function v(){!function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.addQueryParam=function(A,o,f){return A.indexOf("?")<0&&(A+="?"),"?"!==A[A.length-1]&&(A+="&"),A+=encodeURIComponent(o),(A+="=")+encodeURIComponent(f)},v.parseUrlFragment=function(A){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof A&&(A=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Global).location.href);var k=A.lastIndexOf(o);k>=0&&(A=A.substr(k+1)),"?"===o&&(k=A.indexOf("#"))>=0&&(A=A.substr(0,k));for(var V,T={},h=/([^&=]+)=([^&]*)/g,_=0;V=h.exec(A);)if(T[decodeURIComponent(V[1])]=decodeURIComponent(V[2].replace(/\+/g," ")),_++>50)return G.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",A),{error:"Response exceeded expected number of parameters"};for(var O in T)return T;return{}},v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JoseUtil=void 0;var F,G=M(26),g=(F=M(33))&&F.__esModule?F:{default:F};b.JoseUtil=(0,g.default)({jws:G.jws,KeyUtil:G.KeyUtil,X509:G.X509,crypto:G.crypto,hextob64u:G.hextob64u,b64tohex:G.b64tohex,AllowedSigningAlgs:G.AllowedSigningAlgs})},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClientSettings=void 0;var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g=function(){function O(w,P){for(var j=0;j<P.length;j++){var I=P[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,P,j){return P&&O(w.prototype,P),j&&O(w,j),w}}(),v=M(0),F=M(23),A=M(6),o=M(24),f=M(2);var V=".well-known/openid-configuration";b.OidcClientSettings=function(){function O(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=w.authority,j=w.metadataUrl,I=w.metadata,R=w.signingKeys,L=w.metadataSeed,ee=w.client_id,W=w.client_secret,X=w.response_type,U=void 0===X?"id_token":X,ne=w.scope,ce=void 0===ne?"openid":ne,te=w.redirect_uri,Y=w.post_logout_redirect_uri,ie=w.client_authentication,pe=void 0===ie?"client_secret_post":ie,_e=w.prompt,he=w.display,ue=w.max_age,$e=w.ui_locales,Ee=w.acr_values,Be=w.resource,Qe=w.response_mode,Ze=w.filterProtocolClaims,st=void 0===Ze||Ze,gt=w.loadUserInfo,qe=void 0===gt||gt,rt=w.staleStateAge,ht=void 0===rt?900:rt,fe=w.clockSkew,H=void 0===fe?300:fe,K=w.clockService,xe=void 0===K?new F.ClockService:K,Te=w.userInfoJwtIssuer,ae=void 0===Te?"OP":Te,re=w.mergeClaims,Me=void 0!==re&&re,oe=w.stateStore,J=void 0===oe?new A.WebStorageStateStore:oe,Q=w.ResponseValidatorCtor,be=void 0===Q?o.ResponseValidator:Q,je=w.MetadataServiceCtor,tt=void 0===je?f.MetadataService:je,it=w.extraQueryParams,_t=void 0===it?{}:it,Bt=w.extraTokenParams,Vt=void 0===Bt?{}:Bt;(function k(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")})(this,O),this._authority=P,this._metadataUrl=j,this._metadata=I,this._metadataSeed=L,this._signingKeys=R,this._client_id=ee,this._client_secret=W,this._response_type=U,this._scope=ce,this._redirect_uri=te,this._post_logout_redirect_uri=Y,this._client_authentication=pe,this._prompt=_e,this._display=he,this._max_age=ue,this._ui_locales=$e,this._acr_values=Ee,this._resource=Be,this._response_mode=Qe,this._filterProtocolClaims=!!st,this._loadUserInfo=!!qe,this._staleStateAge=ht,this._clockSkew=H,this._clockService=xe,this._userInfoJwtIssuer=ae,this._mergeClaims=!!Me,this._stateStore=J,this._validator=new be(this),this._metadataService=new tt(this),this._extraQueryParams="object"===(void 0===_t?"undefined":G(_t))?_t:{},this._extraTokenParams="object"===(void 0===Vt?"undefined":G(Vt))?Vt:{}}return O.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},g(O,[{key:"client_id",get:function(){return this._client_id},set:function(P){if(this._client_id)throw v.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=P}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(P){if(this._authority)throw v.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=P}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(V)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=V)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(P){this._metadata=P}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(P){this._metadataSeed=P}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(P){this._signingKeys=P}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(P){this._extraQueryParams="object"===(void 0===P?"undefined":G(P))?P:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(P){this._extraTokenParams="object"===(void 0===P?"undefined":G(P))?P:{}}}]),O}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebStorageStateStore=void 0;var G=M(0),g=M(1);b.WebStorageStateStore=function(){function F(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=A.prefix,f=void 0===o?"oidc.":o,k=A.store,V=void 0===k?g.Global.localStorage:k;(function v(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")})(this,F),this._store=V,this._prefix=f}return F.prototype.set=function(o,f){return G.Log.debug("WebStorageStateStore.set",o),this._store.setItem(o=this._prefix+o,f),Promise.resolve()},F.prototype.get=function(o){G.Log.debug("WebStorageStateStore.get",o);var f=this._store.getItem(o=this._prefix+o);return Promise.resolve(f)},F.prototype.remove=function(o){G.Log.debug("WebStorageStateStore.remove",o);var f=this._store.getItem(o=this._prefix+o);return this._store.removeItem(o),Promise.resolve(f)},F.prototype.getAllKeys=function(){G.Log.debug("WebStorageStateStore.getAllKeys");for(var o=[],f=0;f<this._store.length;f++){var k=this._store.key(f);0===k.indexOf(this._prefix)&&o.push(k.substr(this._prefix.length))}return Promise.resolve(o)},F}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonService=void 0;var G=M(0),g=M(1);b.JsonService=function(){function F(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Global.XMLHttpRequest,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function v(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")})(this,F),this._contentTypes=A&&Array.isArray(A)?A.slice():[],this._contentTypes.push("application/json"),f&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=o,this._jwtHandler=f}return F.prototype.getJson=function(o,f){var k=this;if(!o)throw G.Log.error("JsonService.getJson: No url passed"),new Error("url");return G.Log.debug("JsonService.getJson, url: ",o),new Promise(function(V,T){var h=new k._XMLHttpRequest;h.open("GET",o);var _=k._contentTypes,O=k._jwtHandler;h.onload=function(){if(G.Log.debug("JsonService.getJson: HTTP response received, status",h.status),200===h.status){var w=h.getResponseHeader("Content-Type");if(w){var P=_.find(function(j){if(w.startsWith(j))return!0});if("application/jwt"==P)return void O(h).then(V,T);if(P)try{return void V(JSON.parse(h.responseText))}catch(j){return G.Log.error("JsonService.getJson: Error parsing JSON response",j.message),void T(j)}}T(Error("Invalid response Content-Type: "+w+", from URL: "+o))}else T(Error(h.statusText+" ("+h.status+")"))},h.onerror=function(){G.Log.error("JsonService.getJson: network error"),T(Error("Network Error"))},f&&(G.Log.debug("JsonService.getJson: token passed, setting Authorization header"),h.setRequestHeader("Authorization","Bearer "+f)),h.send()})},F.prototype.postForm=function(o,f,k){var V=this;if(!o)throw G.Log.error("JsonService.postForm: No url passed"),new Error("url");return G.Log.debug("JsonService.postForm, url: ",o),new Promise(function(T,h){var _=new V._XMLHttpRequest;_.open("POST",o);var O=V._contentTypes;_.onload=function(){if(G.Log.debug("JsonService.postForm: HTTP response received, status",_.status),200!==_.status){if(400===_.status&&(R=_.getResponseHeader("Content-Type"))&&O.find(function(L){if(R.startsWith(L))return!0}))try{var I=JSON.parse(_.responseText);if(I&&I.error)return G.Log.error("JsonService.postForm: Error from server: ",I.error),void h(new Error(I.error))}catch(L){return G.Log.error("JsonService.postForm: Error parsing JSON response",L.message),void h(L)}h(Error(_.statusText+" ("+_.status+")"))}else{var R;if((R=_.getResponseHeader("Content-Type"))&&O.find(function(L){if(R.startsWith(L))return!0}))try{return void T(JSON.parse(_.responseText))}catch(L){return G.Log.error("JsonService.postForm: Error parsing JSON response",L.message),void h(L)}h(Error("Invalid response Content-Type: "+R+", from URL: "+o))}},_.onerror=function(){G.Log.error("JsonService.postForm: network error"),h(Error("Network Error"))};var w="";for(var P in f){var j=f[P];j&&(w.length>0&&(w+="&"),w+=encodeURIComponent(P),w+="=",w+=encodeURIComponent(j))}_.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==k&&_.setRequestHeader("Authorization","Basic "+btoa(k)),_.send(w)})},F}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninRequest=void 0;var G=M(0),g=M(3),v=M(13);b.SigninRequest=function(){function F(A){var o=A.url,f=A.client_id,k=A.redirect_uri,V=A.response_type,T=A.scope,h=A.authority,_=A.data,O=A.prompt,w=A.display,P=A.max_age,j=A.ui_locales,I=A.id_token_hint,R=A.login_hint,L=A.acr_values,ee=A.resource,W=A.response_mode,X=A.request,U=A.request_uri,ne=A.extraQueryParams,ce=A.request_type,te=A.client_secret,Y=A.extraTokenParams,ie=A.skipUserInfo;if(function(Be,Qe){if(!(Be instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,F),!o)throw G.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!f)throw G.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!k)throw G.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!V)throw G.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!T)throw G.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!h)throw G.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var pe=F.isOidc(V),_e=F.isCode(V);W||(W=F.isCode(V)?"query":null),this.state=new v.SigninState({nonce:pe,data:_,client_id:f,authority:h,redirect_uri:k,code_verifier:_e,request_type:ce,response_mode:W,client_secret:te,scope:T,extraTokenParams:Y,skipUserInfo:ie}),o=g.UrlUtility.addQueryParam(o,"client_id",f),o=g.UrlUtility.addQueryParam(o,"redirect_uri",k),o=g.UrlUtility.addQueryParam(o,"response_type",V),o=g.UrlUtility.addQueryParam(o,"scope",T),o=g.UrlUtility.addQueryParam(o,"state",this.state.id),pe&&(o=g.UrlUtility.addQueryParam(o,"nonce",this.state.nonce)),_e&&(o=g.UrlUtility.addQueryParam(o,"code_challenge",this.state.code_challenge),o=g.UrlUtility.addQueryParam(o,"code_challenge_method","S256"));var he={prompt:O,display:w,max_age:P,ui_locales:j,id_token_hint:I,login_hint:R,acr_values:L,resource:ee,request:X,request_uri:U,response_mode:W};for(var ue in he)he[ue]&&(o=g.UrlUtility.addQueryParam(o,ue,he[ue]));for(var $e in ne)o=g.UrlUtility.addQueryParam(o,$e,ne[$e]);this.url=o}return F.isOidc=function(o){return!!o.split(/\s+/g).filter(function(f){return"id_token"===f})[0]},F.isOAuth=function(o){return!!o.split(/\s+/g).filter(function(f){return"token"===f})[0]},F.isCode=function(o){return!!o.split(/\s+/g).filter(function(f){return"code"===f})[0]},F}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.State=void 0;var o,G=function(){function A(o,f){for(var k=0;k<f.length;k++){var V=f[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(o,V.key,V)}}return function(o,f,k){return f&&A(o.prototype,f),k&&A(o,k),o}}(),g=M(0),v=(o=M(14))&&o.__esModule?o:{default:o};b.State=function(){function A(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=o.id,k=o.data,V=o.created,T=o.request_type;(function F(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")})(this,A),this._id=f||(0,v.default)(),this._data=k,this._created="number"==typeof V&&V>0?V:parseInt(Date.now()/1e3),this._request_type=T}return A.prototype.toStorageString=function(){return g.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},A.fromStorageString=function(f){return g.Log.debug("State.fromStorageString"),new A(JSON.parse(f))},A.clearStaleState=function(f,k){var V=Date.now()/1e3-k;return f.getAllKeys().then(function(T){g.Log.debug("State.clearStaleState: got keys",T);for(var h=[],_=function(j){var I=T[j];w=f.get(I).then(function(R){var L=!1;if(R)try{var ee=A.fromStorageString(R);g.Log.debug("State.clearStaleState: got item from key: ",I,ee.created),ee.created<=V&&(L=!0)}catch(W){g.Log.error("State.clearStaleState: Error parsing state for key",I,W.message),L=!0}else g.Log.debug("State.clearStaleState: no item in storage for key: ",I),L=!0;if(L)return g.Log.debug("State.clearStaleState: removed item for key: ",I),f.remove(I)}),h.push(w)},O=0;O<T.length;O++){var w;_(O)}return g.Log.debug("State.clearStaleState: waiting on promise count:",h.length),Promise.all(h)})},G(A,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),A}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClient=void 0;var G=function(){function _(O,w){for(var P=0;P<w.length;P++){var j=w[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}return function(O,w,P){return w&&_(O.prototype,w),P&&_(O,P),O}}(),g=M(0),v=M(5),F=M(12),A=M(8),o=M(34),f=M(35),k=M(36),V=M(13),T=M(9);b.OidcClient=function(){function _(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function h(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")})(this,_),this._settings=O instanceof v.OidcClientSettings?O:new v.OidcClientSettings(O)}return _.prototype.createSigninRequest=function(){var w=this,P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=P.response_type,I=P.scope,R=P.redirect_uri,L=P.data,ee=P.state,W=P.prompt,X=P.display,U=P.max_age,ne=P.ui_locales,ce=P.id_token_hint,te=P.login_hint,Y=P.acr_values,ie=P.resource,pe=P.request,_e=P.request_uri,he=P.response_mode,ue=P.extraQueryParams,$e=P.extraTokenParams,Ee=P.request_type,Be=P.skipUserInfo,Qe=arguments[1];g.Log.debug("OidcClient.createSigninRequest");var Ze=this._settings.client_id;I=I||this._settings.scope,R=R||this._settings.redirect_uri,W=W||this._settings.prompt,X=X||this._settings.display,U=U||this._settings.max_age,ne=ne||this._settings.ui_locales,Y=Y||this._settings.acr_values,ie=ie||this._settings.resource,he=he||this._settings.response_mode,ue=ue||this._settings.extraQueryParams,$e=$e||this._settings.extraTokenParams;var st=this._settings.authority;return A.SigninRequest.isCode(j=j||this._settings.response_type)&&"code"!==j?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(gt){g.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",gt);var qe=new A.SigninRequest({url:gt,client_id:Ze,redirect_uri:R,response_type:j,scope:I,data:L||ee,authority:st,prompt:W,display:X,max_age:U,ui_locales:ne,id_token_hint:ce,login_hint:te,acr_values:Y,resource:ie,request:pe,request_uri:_e,extraQueryParams:ue,extraTokenParams:$e,request_type:Ee,response_mode:he,client_secret:w._settings.client_secret,skipUserInfo:Be}),rt=qe.state;return(Qe=Qe||w._stateStore).set(rt.id,rt.toStorageString()).then(function(){return qe})})},_.prototype.readSigninResponseState=function(w,P){var j=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g.Log.debug("OidcClient.readSigninResponseState");var I="query"===this._settings.response_mode||!this._settings.response_mode&&A.SigninRequest.isCode(this._settings.response_type),L=new o.SigninResponse(w,I?"?":"#");return L.state?(P=P||this._stateStore,(j?P.remove.bind(P):P.get.bind(P))(L.state).then(function(W){if(!W)throw g.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:V.SigninState.fromStorageString(W),response:L}})):(g.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},_.prototype.processSigninResponse=function(w,P){var j=this;return g.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(w,P,!0).then(function(I){var R=I.state,L=I.response;return g.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),j._validator.validateSigninResponse(R,L)})},_.prototype.createSignoutRequest=function(){var w=this,P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=P.id_token_hint,I=P.data,R=P.state,L=P.post_logout_redirect_uri,ee=P.extraQueryParams,W=P.request_type,X=arguments[1];return g.Log.debug("OidcClient.createSignoutRequest"),L=L||this._settings.post_logout_redirect_uri,ee=ee||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(U){if(!U)throw g.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");g.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",U);var ne=new f.SignoutRequest({url:U,id_token_hint:j,post_logout_redirect_uri:L,data:I||R,extraQueryParams:ee,request_type:W}),ce=ne.state;return ce&&(g.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(X=X||w._stateStore).set(ce.id,ce.toStorageString())),ne})},_.prototype.readSignoutResponseState=function(w,P){var j=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g.Log.debug("OidcClient.readSignoutResponseState");var I=new k.SignoutResponse(w);if(!I.state)return g.Log.debug("OidcClient.readSignoutResponseState: No state in response"),I.error?(g.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",I.error),Promise.reject(new F.ErrorResponse(I))):Promise.resolve({state:void 0,response:I});var R=I.state;return P=P||this._stateStore,(j?P.remove.bind(P):P.get.bind(P))(R).then(function(ee){if(!ee)throw g.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:T.State.fromStorageString(ee),response:I}})},_.prototype.processSignoutResponse=function(w,P){var j=this;return g.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(w,P,!0).then(function(I){var R=I.state,L=I.response;return R?(g.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),j._validator.validateSignoutResponse(R,L)):(g.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),L)})},_.prototype.clearStaleState=function(w){return g.Log.debug("OidcClient.clearStaleState"),T.State.clearStaleState(w=w||this._stateStore,this.settings.staleStateAge)},G(_,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),_}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenClient=void 0;var G=M(7),g=M(2),v=M(0);b.TokenClient=function(){function A(o){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.JsonService,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.MetadataService;if(function F(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")}(this,A),!o)throw v.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=o,this._jsonService=new f,this._metadataService=new k(this._settings)}return A.prototype.exchangeCode=function(){var f=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(k=Object.assign({},k)).grant_type=k.grant_type||"authorization_code",k.client_id=k.client_id||this._settings.client_id,k.client_secret=k.client_secret||this._settings.client_secret,k.redirect_uri=k.redirect_uri||this._settings.redirect_uri;var V=void 0,T=k._client_authentication||this._settings._client_authentication;return delete k._client_authentication,k.code?k.redirect_uri?k.code_verifier?k.client_id?k.client_secret||"client_secret_basic"!=T?("client_secret_basic"==T&&(V=k.client_id+":"+k.client_secret,delete k.client_id,delete k.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(h){return v.Log.debug("TokenClient.exchangeCode: Received token endpoint"),f._jsonService.postForm(h,k,V).then(function(_){return v.Log.debug("TokenClient.exchangeCode: response received"),_})})):(v.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(v.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(v.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(v.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},A.prototype.exchangeRefreshToken=function(){var f=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(k=Object.assign({},k)).grant_type=k.grant_type||"refresh_token",k.client_id=k.client_id||this._settings.client_id,k.client_secret=k.client_secret||this._settings.client_secret;var V=void 0,T=k._client_authentication||this._settings._client_authentication;return delete k._client_authentication,k.refresh_token?k.client_id?("client_secret_basic"==T&&(V=k.client_id+":"+k.client_secret,delete k.client_id,delete k.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(h){return v.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),f._jsonService.postForm(h,k,V).then(function(_){return v.Log.debug("TokenClient.exchangeRefreshToken: response received"),_})})):(v.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},A}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ErrorResponse=void 0;var G=M(0);b.ErrorResponse=function(F){function A(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=o.error,k=o.error_description,V=o.error_uri,T=o.state,h=o.session_state;if(function g(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),!f)throw G.Log.error("No error passed to ErrorResponse"),new Error("error");var _=function v(F,A){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?F:A}(this,F.call(this,k||f));return _.name="ErrorResponse",_.error=f,_.error_description=k,_.error_uri=V,_.state=T,_.session_state=h,_}return function(f,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);f.prototype=Object.create(k&&k.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(f,k):f.__proto__=k)}(A,F),A}(Error)},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninState=void 0;var V,G=function(){function k(V,T){for(var h=0;h<T.length;h++){var _=T[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(V,_.key,_)}}return function(V,T,h){return T&&k(V.prototype,T),h&&k(V,h),V}}(),g=M(0),v=M(9),F=M(4),A=(V=M(14))&&V.__esModule?V:{default:V};b.SigninState=function(k){function V(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=T.nonce,_=T.authority,O=T.client_id,w=T.redirect_uri,P=T.code_verifier,j=T.response_mode,I=T.client_secret,R=T.scope,L=T.extraTokenParams,ee=T.skipUserInfo;!function o(k,V){if(!(k instanceof V))throw new TypeError("Cannot call a class as a function")}(this,V);var W=function f(k,V){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?k:V}(this,k.call(this,arguments[0]));if(!0===h?W._nonce=(0,A.default)():h&&(W._nonce=h),!0===P?W._code_verifier=(0,A.default)()+(0,A.default)()+(0,A.default)():P&&(W._code_verifier=P),W.code_verifier){var X=F.JoseUtil.hashString(W.code_verifier,"SHA256");W._code_challenge=F.JoseUtil.hexToBase64Url(X)}return W._redirect_uri=w,W._authority=_,W._client_id=O,W._response_mode=j,W._client_secret=I,W._scope=R,W._extraTokenParams=L,W._skipUserInfo=ee,W}return function(h,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);h.prototype=Object.create(_&&_.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(h,_):h.__proto__=_)}(V,k),V.prototype.toStorageString=function(){return g.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},V.fromStorageString=function(h){return g.Log.debug("SigninState.fromStorageString"),new V(JSON.parse(h))},G(V,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),V}(v.State)},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(){return("undefined"!=G&&null!==G&&void 0!==G.getRandomValues?g:v)().replace(/-/g,"")};var G=typeof window<"u"?window.crypto||window.msCrypto:null;function g(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(F){return(F^G.getRandomValues(new Uint8Array(1))[0]&15>>F/4).toString(16)})}function v(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(F){return(F^16*Math.random()>>F/4).toString(16)})}se.exports=b.default},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.User=void 0;var G=function(){function v(F,A){for(var o=0;o<A.length;o++){var f=A[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}return function(F,A,o){return A&&v(F.prototype,A),o&&v(F,o),F}}(),g=M(0);b.User=function(){function v(F){var A=F.id_token,o=F.session_state,f=F.access_token,k=F.refresh_token,V=F.token_type,T=F.scope,h=F.profile,_=F.expires_at,O=F.state;(function(P,j){if(!(P instanceof j))throw new TypeError("Cannot call a class as a function")})(this,v),this.id_token=A,this.session_state=o,this.access_token=f,this.refresh_token=k,this.token_type=V,this.scope=T,this.profile=h,this.expires_at=_,this.state=O}return v.prototype.toStorageString=function(){return g.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},v.fromStorageString=function(A){return g.Log.debug("User.fromStorageString"),new v(JSON.parse(A))},G(v,[{key:"expires_in",get:function(){if(this.expires_at){var A=parseInt(Date.now()/1e3);return this.expires_at-A}},set:function(A){var o=parseInt(A);if("number"==typeof o&&o>0){var f=parseInt(Date.now()/1e3);this.expires_at=f+o}}},{key:"expired",get:function(){var A=this.expires_in;if(void 0!==A)return A<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AccessTokenEvents=void 0;var G=M(0),g=M(46);b.AccessTokenEvents=function(){function F(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=A.accessTokenExpiringNotificationTime,f=void 0===o?60:o,k=A.accessTokenExpiringTimer,V=void 0===k?new g.Timer("Access token expiring"):k,T=A.accessTokenExpiredTimer,h=void 0===T?new g.Timer("Access token expired"):T;(function v(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")})(this,F),this._accessTokenExpiringNotificationTime=f,this._accessTokenExpiring=V,this._accessTokenExpired=h}return F.prototype.load=function(o){if(o.access_token&&void 0!==o.expires_in){var f=o.expires_in;if(G.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",f),f>0){var k=f-this._accessTokenExpiringNotificationTime;k<=0&&(k=1),G.Log.debug("AccessTokenEvents.load: registering expiring timer in:",k),this._accessTokenExpiring.init(k)}else G.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var V=f+1;G.Log.debug("AccessTokenEvents.load: registering expired timer in:",V),this._accessTokenExpired.init(V)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},F.prototype.unload=function(){G.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},F.prototype.addAccessTokenExpiring=function(o){this._accessTokenExpiring.addHandler(o)},F.prototype.removeAccessTokenExpiring=function(o){this._accessTokenExpiring.removeHandler(o)},F.prototype.addAccessTokenExpired=function(o){this._accessTokenExpired.addHandler(o)},F.prototype.removeAccessTokenExpired=function(o){this._accessTokenExpired.removeHandler(o)},F}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Event=void 0;var G=M(0);b.Event=function(){function g(v){(function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=v,this._callbacks=[]}return g.prototype.addHandler=function(F){this._callbacks.push(F)},g.prototype.removeHandler=function(F){var A=this._callbacks.findIndex(function(o){return o===F});A>=0&&this._callbacks.splice(A,1)},g.prototype.raise=function(){G.Log.debug("Event: Raising event: "+this._name);for(var F=0;F<this._callbacks.length;F++){var A;(A=this._callbacks)[F].apply(A,arguments)}},g}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SessionMonitor=void 0;var G=function(){function o(f,k){for(var V=0;V<k.length;V++){var T=k[V];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(f,T.key,T)}}return function(f,k,V){return k&&o(f.prototype,k),V&&o(f,V),f}}(),g=M(0),v=M(19),F=M(1);b.SessionMonitor=function(){function o(f){var k=this,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.CheckSessionIFrame,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.Global.timer;if(function A(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}(this,o),!f)throw g.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=f,this._CheckSessionIFrameCtor=V,this._timer=T,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(h){h?k._start(h):k._settings.monitorAnonymousSession&&k._userManager.querySessionStatus().then(function(_){var O={session_state:_.session_state};_.sub&&_.sid&&(O.profile={sub:_.sub,sid:_.sid}),k._start(O)}).catch(function(_){g.Log.error("SessionMonitor ctor: error from querySessionStatus:",_.message)})}).catch(function(h){g.Log.error("SessionMonitor ctor: error from getUser:",h.message)}))}return o.prototype._start=function(k){var V=this,T=k.session_state;T&&(k.profile?(this._sub=k.profile.sub,this._sid=k.profile.sid,g.Log.debug("SessionMonitor._start: session_state:",T,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,g.Log.debug("SessionMonitor._start: session_state:",T,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(T):this._metadataService.getCheckSessionIframe().then(function(h){if(h){g.Log.debug("SessionMonitor._start: Initializing check session iframe");var _=V._client_id,O=V._checkSessionInterval,w=V._stopCheckSessionOnError;V._checkSessionIFrame=new V._CheckSessionIFrameCtor(V._callback.bind(V),_,h,O,w),V._checkSessionIFrame.load().then(function(){V._checkSessionIFrame.start(T)})}else g.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(h){g.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",h.message)}))},o.prototype._stop=function(){var k=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(g.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var V=this._timer.setInterval(function(){k._timer.clearInterval(V),k._userManager.querySessionStatus().then(function(T){var h={session_state:T.session_state};T.sub&&T.sid&&(h.profile={sub:T.sub,sid:T.sid}),k._start(h)}).catch(function(T){g.Log.error("SessionMonitor: error from querySessionStatus:",T.message)})},1e3)},o.prototype._callback=function(){var k=this;this._userManager.querySessionStatus().then(function(V){var T=!0;V?V.sub===k._sub?(T=!1,k._checkSessionIFrame.start(V.session_state),V.sid===k._sid?g.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",V.session_state):(g.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",V.session_state),k._userManager.events._raiseUserSessionChanged())):g.Log.debug("SessionMonitor._callback: Different subject signed into OP:",V.sub):g.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),T&&(k._sub?(g.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),k._userManager.events._raiseUserSignedOut()):(g.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),k._userManager.events._raiseUserSignedIn()))}).catch(function(V){k._sub&&(g.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",V.message),k._userManager.events._raiseUserSignedOut())})},G(o,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),o}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CheckSessionIFrame=void 0;var G=M(0);b.CheckSessionIFrame=function(){function v(F,A,o,f){var k=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function g(v,F){if(!(v instanceof F))throw new TypeError("Cannot call a class as a function")})(this,v),this._callback=F,this._client_id=A,this._url=o,this._interval=f||2e3,this._stopOnError=k;var V=o.indexOf("/",o.indexOf("//")+2);this._frame_origin=o.substr(0,V),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=o}return v.prototype.load=function(){var A=this;return new Promise(function(o){A._frame.onload=function(){o()},window.document.body.appendChild(A._frame),A._boundMessageEvent=A._message.bind(A),window.addEventListener("message",A._boundMessageEvent,!1)})},v.prototype._message=function(A){A.origin===this._frame_origin&&A.source===this._frame.contentWindow&&("error"===A.data?(G.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===A.data?(G.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):G.Log.debug("CheckSessionIFrame: "+A.data+" message from check session op iframe"))},v.prototype.start=function(A){var o=this;if(this._session_state!==A){G.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=A;var f=function(){o._frame.contentWindow.postMessage(o._client_id+" "+o._session_state,o._frame_origin)};f(),this._timer=window.setInterval(f,this._interval)}},v.prototype.stop=function(){this._session_state=null,this._timer&&(G.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenRevocationClient=void 0;var G=M(0),g=M(2),v=M(1);b.TokenRevocationClient=function(){function f(k){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Global.XMLHttpRequest,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.MetadataService;if(function F(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")}(this,f),!k)throw G.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=k,this._XMLHttpRequestCtor=V,this._metadataService=new T(this._settings)}return f.prototype.revoke=function(V,T){var h=this,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!V)throw G.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==_&&"refresh_token"!=_)throw G.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(O){if(O)return G.Log.debug("TokenRevocationClient.revoke: Revoking "+_),h._revoke(O,h._settings.client_id,h._settings.client_secret,V,_);if(T)throw G.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},f.prototype._revoke=function(V,T,h,_,O){var w=this;return new Promise(function(P,j){var I=new w._XMLHttpRequestCtor;I.open("POST",V),I.onload=function(){G.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",I.status),200===I.status?P():j(Error(I.statusText+" ("+I.status+")"))},I.onerror=function(){G.Log.debug("TokenRevocationClient.revoke: Network Error."),j("Network Error")};var R="client_id="+encodeURIComponent(T);h&&(R+="&client_secret="+encodeURIComponent(h)),R+="&token_type_hint="+encodeURIComponent(O),R+="&token="+encodeURIComponent(_),I.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),I.send(R)})},f}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupWindow=void 0;var G=function(){function v(F,A){for(var o=0;o<A.length;o++){var f=A[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}return function(F,A,o){return A&&v(F.prototype,A),o&&v(F,o),F}}(),g=M(0);b.CordovaPopupWindow=function(){function v(F){var A=this;(function(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(o,f){A._resolve=o,A._reject=f}),this.features=F.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=F.popupWindowTarget||"_blank",this.redirect_uri=F.startUrl,g.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return v.prototype._isInAppBrowserInstalled=function(A){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(o){return A.hasOwnProperty(o)})},v.prototype.navigate=function(A){if(A&&A.url){if(!window.cordova)return this._error("cordova is undefined");var o=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(o))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(A.url,this.target,this.features),this._popup?(g.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},v.prototype._loadStartCallback=function(A){0===A.url.indexOf(this.redirect_uri)&&this._success({url:A.url})},v.prototype._exitCallback=function(A){this._error(A)},v.prototype._success=function(A){this._cleanup(),g.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(A)},v.prototype._error=function(A){this._cleanup(),g.Log.error(A),this._reject(new Error(A))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._popup&&(g.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},G(v,[{key:"promise",get:function(){return this._promise}}]),v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=M(0),g=M(10),v=M(5),F=M(6),A=M(37),o=M(38),f=M(16),k=M(2),V=M(48),T=M(49),h=M(19),_=M(20),O=M(18),w=M(1),P=M(15),j=M(50);b.default={Version:j.Version,Log:G.Log,OidcClient:g.OidcClient,OidcClientSettings:v.OidcClientSettings,WebStorageStateStore:F.WebStorageStateStore,InMemoryWebStorage:A.InMemoryWebStorage,UserManager:o.UserManager,AccessTokenEvents:f.AccessTokenEvents,MetadataService:k.MetadataService,CordovaPopupNavigator:V.CordovaPopupNavigator,CordovaIFrameNavigator:T.CordovaIFrameNavigator,CheckSessionIFrame:h.CheckSessionIFrame,TokenRevocationClient:_.TokenRevocationClient,SessionMonitor:O.SessionMonitor,Global:w.Global,User:P.User},se.exports=b.default},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClockService=function(){function G(){!function(v,F){if(!(v instanceof F))throw new TypeError("Cannot call a class as a function")}(this,G)}return G.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},G}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResponseValidator=void 0;var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},g=M(0),v=M(2),F=M(25),A=M(11),o=M(12),f=M(4);var V=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];b.ResponseValidator=function(){function T(h){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.MetadataService,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.UserInfoService,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.JoseUtil,P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A.TokenClient;if(function k(T,h){if(!(T instanceof h))throw new TypeError("Cannot call a class as a function")}(this,T),!h)throw g.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=h,this._metadataService=new _(this._settings),this._userInfoService=new O(this._settings),this._joseUtil=w,this._tokenClient=new P(this._settings)}return T.prototype.validateSigninResponse=function(_,O){var w=this;return g.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(_,O).then(function(P){return g.Log.debug("ResponseValidator.validateSigninResponse: state processed"),w._validateTokens(_,P).then(function(j){return g.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),w._processClaims(_,j).then(function(I){return g.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),I})})})},T.prototype.validateSignoutResponse=function(_,O){return _.id!==O.state?(g.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(g.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),O.state=_.data,O.error?(g.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",O.error),Promise.reject(new o.ErrorResponse(O))):Promise.resolve(O))},T.prototype._processSigninParams=function(_,O){if(_.id!==O.state)return g.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!_.client_id)return g.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!_.authority)return g.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==_.authority)return g.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=_.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==_.client_id)return g.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=_.client_id;return g.Log.debug("ResponseValidator._processSigninParams: state validated"),O.state=_.data,O.error?(g.Log.warn("ResponseValidator._processSigninParams: Response was error",O.error),Promise.reject(new o.ErrorResponse(O))):_.nonce&&!O.id_token?(g.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!_.nonce&&O.id_token?(g.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):_.code_verifier&&!O.code?(g.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!_.code_verifier&&O.code?(g.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(O.scope||(O.scope=_.scope),Promise.resolve(O))},T.prototype._processClaims=function(_,O){var w=this;if(O.isOpenIdConnect){if(g.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),O.profile=this._filterProtocolClaims(O.profile),!0!==_.skipUserInfo&&this._settings.loadUserInfo&&O.access_token)return g.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(O.access_token).then(function(P){return g.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),P.sub!==O.profile.sub?(g.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(O.profile=w._mergeClaims(O.profile,P),g.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",O.profile),O)});g.Log.debug("ResponseValidator._processClaims: not loading user info")}else g.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(O)},T.prototype._mergeClaims=function(_,O){var w=Object.assign({},_);for(var P in O){var j=O[P];Array.isArray(j)||(j=[j]);for(var I=0;I<j.length;I++){var R=j[I];w[P]?Array.isArray(w[P])?w[P].indexOf(R)<0&&w[P].push(R):w[P]!==R&&(w[P]="object"===(void 0===R?"undefined":G(R))&&this._settings.mergeClaims?this._mergeClaims(w[P],R):[w[P],R]):w[P]=R}}return w},T.prototype._filterProtocolClaims=function(_){g.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",_);var O=Object.assign({},_);return this._settings._filterProtocolClaims?(V.forEach(function(w){delete O[w]}),g.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",O)):g.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),O},T.prototype._validateTokens=function(_,O){return O.code?(g.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(_,O)):O.id_token?O.access_token?(g.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(_,O)):(g.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(_,O)):(g.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(O))},T.prototype._processCode=function(_,O){var w=this,P={client_id:_.client_id,client_secret:_.client_secret,code:O.code,redirect_uri:_.redirect_uri,code_verifier:_.code_verifier};return _.extraTokenParams&&"object"===G(_.extraTokenParams)&&Object.assign(P,_.extraTokenParams),this._tokenClient.exchangeCode(P).then(function(j){for(var I in j)O[I]=j[I];return O.id_token?(g.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),w._validateIdTokenAttributes(_,O)):(g.Log.debug("ResponseValidator._processCode: token response successful, returning response"),O)})},T.prototype._validateIdTokenAttributes=function(_,O){var w=this;return this._metadataService.getIssuer().then(function(P){var j=_.client_id,I=w._settings.clockSkew;return g.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",I),w._settings.getEpochTime().then(function(R){return w._joseUtil.validateJwtAttributes(O.id_token,P,j,I,R).then(function(L){return _.nonce&&_.nonce!==L.nonce?(g.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):L.sub?(O.profile=L,O):(g.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},T.prototype._validateIdTokenAndAccessToken=function(_,O){var w=this;return this._validateIdToken(_,O).then(function(P){return w._validateAccessToken(P)})},T.prototype._getSigningKeyForJwt=function(_){var O=this;return this._metadataService.getSigningKeys().then(function(w){var P=_.header.kid;if(!w)return g.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));g.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var j=void 0;if(P)j=w.filter(function(I){return I.kid===P})[0];else{if((w=O._filterByAlg(w,_.header.alg)).length>1)return g.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));j=w[0]}return Promise.resolve(j)})},T.prototype._getSigningKeyForJwtWithSingleRetry=function(_){var O=this;return this._getSigningKeyForJwt(_).then(function(w){return w?Promise.resolve(w):(O._metadataService.resetSigningKeys(),O._getSigningKeyForJwt(_))})},T.prototype._validateIdToken=function(_,O){var w=this;if(!_.nonce)return g.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var P=this._joseUtil.parseJwt(O.id_token);return P&&P.header&&P.payload?_.nonce!==P.payload.nonce?(g.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(j){return g.Log.debug("ResponseValidator._validateIdToken: Received issuer"),w._getSigningKeyForJwtWithSingleRetry(P).then(function(I){if(!I)return g.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var R=_.client_id,L=w._settings.clockSkew;return g.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",L),w._joseUtil.validateJwt(O.id_token,I,j,R,L).then(function(){return g.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),P.payload.sub?(O.profile=P.payload,O):(g.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(g.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",P),Promise.reject(new Error("Failed to parse id_token")))},T.prototype._filterByAlg=function(_,O){var w=null;if(O.startsWith("RS"))w="RSA";else if(O.startsWith("PS"))w="PS";else{if(!O.startsWith("ES"))return g.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",O),[];w="EC"}return g.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",w),_=_.filter(function(P){return P.kty===w}),g.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",w,_.length),_},T.prototype._validateAccessToken=function(_){if(!_.profile)return g.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!_.profile.at_hash)return g.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!_.id_token)return g.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var O=this._joseUtil.parseJwt(_.id_token);if(!O||!O.header)return g.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",O),Promise.reject(new Error("Failed to parse id_token"));var w=O.header.alg;if(!w||5!==w.length)return g.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",w),Promise.reject(new Error("Unsupported alg: "+w));var P=w.substr(2,3);if(!P)return g.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",w,P),Promise.reject(new Error("Unsupported alg: "+w));if(256!==(P=parseInt(P))&&384!==P&&512!==P)return g.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",w,P),Promise.reject(new Error("Unsupported alg: "+w));var j="sha"+P,I=this._joseUtil.hashString(_.access_token,j);if(!I)return g.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",j),Promise.reject(new Error("Failed to validate at_hash"));var R=I.substr(0,I.length/2),L=this._joseUtil.hexToBase64Url(R);return L!==_.profile.at_hash?(g.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",L,_.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(g.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(_))},T}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserInfoService=void 0;var G=M(7),g=M(2),v=M(0),F=M(4);b.UserInfoService=function(){function o(f){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.JsonService,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.MetadataService,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.JoseUtil;if(function A(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}(this,o),!f)throw v.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=f,this._jsonService=new k(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new V(this._settings),this._joseUtil=T}return o.prototype.getClaims=function(k){var V=this;return k?this._metadataService.getUserInfoEndpoint().then(function(T){return v.Log.debug("UserInfoService.getClaims: received userinfo url",T),V._jsonService.getJson(T,k).then(function(h){return v.Log.debug("UserInfoService.getClaims: claims received",h),h})}):(v.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},o.prototype._getClaimsFromJwt=function(k){var V=this;try{var T=this._joseUtil.parseJwt(k.responseText);if(!T||!T.header||!T.payload)return v.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",T),Promise.reject(new Error("Failed to parse id_token"));var h=T.header.kid,_=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":_=this._metadataService.getIssuer();break;case"ANY":_=Promise.resolve(T.payload.iss);break;default:_=Promise.resolve(this._settings.userInfoJwtIssuer)}return _.then(function(O){return v.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+O),V._metadataService.getSigningKeys().then(function(w){if(!w)return v.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));v.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var P=void 0;if(h)P=w.filter(function(R){return R.kid===h})[0];else{if((w=V._filterByAlg(w,T.header.alg)).length>1)return v.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=w[0]}if(!P)return v.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var j=V._settings.client_id,I=V._settings.clockSkew;return v.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",I),V._joseUtil.validateJwt(k.responseText,P,O,j,I,void 0,!0).then(function(){return v.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),T.payload})})})}catch(O){return v.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",O.message),void reject(O)}},o.prototype._filterByAlg=function(k,V){var T=null;if(V.startsWith("RS"))T="RSA";else if(V.startsWith("PS"))T="PS";else{if(!V.startsWith("ES"))return v.Log.debug("UserInfoService._filterByAlg: alg not supported: ",V),[];T="EC"}return v.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",T),k=k.filter(function(h){return h.kty===T}),v.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",T,k.length),k},o}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AllowedSigningAlgs=b.b64tohex=b.hextob64u=b.crypto=b.X509=b.KeyUtil=b.jws=void 0;var G=M(27);b.jws=G.jws,b.KeyUtil=G.KEYUTIL,b.X509=G.X509,b.crypto=G.crypto,b.hextob64u=G.hextob64u,b.b64tohex=G.b64tohex,b.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(se,b,M){"use strict";(function(G){Object.defineProperty(b,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},v={userAgent:!1},F={};if(void 0===A)var A={};A.lang={extend:function(C,E,B){if(!E||!C)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var z=function(){};if(z.prototype=E.prototype,C.prototype=new z,C.prototype.constructor=C,C.superclass=E.prototype,E.prototype.constructor==Object.prototype.constructor&&(E.prototype.constructor=E),B){var Z;for(Z in B)C.prototype[Z]=B[Z];var de=function(){},Se=["toString","valueOf"];try{/MSIE/.test(v.userAgent)&&(de=function(Fe,Pe){for(Z=0;Z<Se.length;Z+=1){var Ie=Se[Z],Ne=Pe[Ie];"function"==typeof Ne&&Ne!=Object.prototype[Ie]&&(Fe[Ie]=Ne)}})}catch{}de(C.prototype,B)}}};var o,f,k,V,T,h,_,O,w,P,j,C,E,B,z,I=I||(o=Math,k=(f={}).lib={},V=k.Base=function(){function S(){}return{extend:function(E){S.prototype=this;var B=new S;return E&&B.mixIn(E),B.hasOwnProperty("init")||(B.init=function(){B.$super.init.apply(this,arguments)}),B.init.prototype=B,B.$super=this,B},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var B in E)E.hasOwnProperty(B)&&(this[B]=E[B]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),T=k.WordArray=V.extend({init:function(C,E){C=this.words=C||[],this.sigBytes=E??4*C.length},toString:function(C){return(C||_).stringify(this)},concat:function(C){var E=this.words,B=C.words,z=this.sigBytes,Z=C.sigBytes;if(this.clamp(),z%4)for(var de=0;de<Z;de++)E[z+de>>>2]|=(B[de>>>2]>>>24-de%4*8&255)<<24-(z+de)%4*8;else for(de=0;de<Z;de+=4)E[z+de>>>2]=B[de>>>2];return this.sigBytes+=Z,this},clamp:function(){var C=this.words,E=this.sigBytes;C[E>>>2]&=4294967295<<32-E%4*8,C.length=o.ceil(E/4)},clone:function(){var C=V.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var E=[],B=0;B<C;B+=4)E.push(4294967296*o.random()|0);return new T.init(E,C)}}),h=f.enc={},_=h.Hex={stringify:function(C){for(var E=C.words,B=C.sigBytes,z=[],Z=0;Z<B;Z++){var de=E[Z>>>2]>>>24-Z%4*8&255;z.push((de>>>4).toString(16)),z.push((15&de).toString(16))}return z.join("")},parse:function(C){for(var E=C.length,B=[],z=0;z<E;z+=2)B[z>>>3]|=parseInt(C.substr(z,2),16)<<24-z%8*4;return new T.init(B,E/2)}},O=h.Latin1={stringify:function(C){for(var E=C.words,B=C.sigBytes,z=[],Z=0;Z<B;Z++)z.push(String.fromCharCode(E[Z>>>2]>>>24-Z%4*8&255));return z.join("")},parse:function(C){for(var E=C.length,B=[],z=0;z<E;z++)B[z>>>2]|=(255&C.charCodeAt(z))<<24-z%4*8;return new T.init(B,E)}},w=h.Utf8={stringify:function(C){try{return decodeURIComponent(escape(O.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return O.parse(unescape(encodeURIComponent(C)))}},P=k.BufferedBlockAlgorithm=V.extend({reset:function(){this._data=new T.init,this._nDataBytes=0},_append:function(C){"string"==typeof C&&(C=w.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var E=this._data,B=E.words,z=E.sigBytes,Z=this.blockSize,de=z/(4*Z),Se=(de=C?o.ceil(de):o.max((0|de)-this._minBufferSize,0))*Z,Ce=o.min(4*Se,z);if(Se){for(var Fe=0;Fe<Se;Fe+=Z)this._doProcessBlock(B,Fe);var Pe=B.splice(0,Se);E.sigBytes-=Ce}return new T.init(Pe,Ce)},clone:function(){var C=V.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),k.Hasher=P.extend({cfg:V.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){P.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(E,B){return new C.init(B).finalize(E)}},_createHmacHelper:function(C){return function(E,B){return new j.HMAC.init(C,B).finalize(E)}}}),j=f.algo={},f);E=(C=I).lib,B=E.Base,z=E.WordArray,(C=C.x64={}).Word=B.extend({init:function(de,Se){this.high=de,this.low=Se}}),C.WordArray=B.extend({init:function(de,Se){de=this.words=de||[],this.sigBytes=Se??8*de.length},toX32:function(){for(var de=this.words,Se=de.length,Ce=[],Fe=0;Fe<Se;Fe++){var Pe=de[Fe];Ce.push(Pe.high),Ce.push(Pe.low)}return z.create(Ce,this.sigBytes)},clone:function(){for(var de=B.clone.call(this),Se=de.words=this.words.slice(0),Ce=Se.length,Fe=0;Fe<Ce;Fe++)Se[Fe]=Se[Fe].clone();return de}}),function(){var C=I.lib.WordArray;I.enc.Base64={stringify:function(B){var z=B.words,Z=B.sigBytes,de=this._map;B.clamp(),B=[];for(var Se=0;Se<Z;Se+=3)for(var Ce=(z[Se>>>2]>>>24-Se%4*8&255)<<16|(z[Se+1>>>2]>>>24-(Se+1)%4*8&255)<<8|z[Se+2>>>2]>>>24-(Se+2)%4*8&255,Fe=0;4>Fe&&Se+.75*Fe<Z;Fe++)B.push(de.charAt(Ce>>>6*(3-Fe)&63));if(z=de.charAt(64))for(;B.length%4;)B.push(z);return B.join("")},parse:function(B){var z=B.length,Z=this._map;(de=Z.charAt(64))&&-1!=(de=B.indexOf(de))&&(z=de);for(var de=[],Se=0,Ce=0;Ce<z;Ce++)if(Ce%4){var Fe=Z.indexOf(B.charAt(Ce-1))<<Ce%4*2,Pe=Z.indexOf(B.charAt(Ce))>>>6-Ce%4*2;de[Se>>>2]|=(Fe|Pe)<<24-Se%4*8,Se++}return C.create(de,Se)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(S){for(var C=I,E=(z=C.lib).WordArray,B=z.Hasher,z=C.algo,Z=[],de=[],Se=function(nt){return 4294967296*(nt-(0|nt))|0},Ce=2,Fe=0;64>Fe;){var Pe;e:{for(var Ie=S.sqrt(Pe=Ce),Ne=2;Ne<=Ie;Ne++)if(!(Pe%Ne)){Pe=!1;break e}Pe=!0}Pe&&(8>Fe&&(Z[Fe]=Se(S.pow(Ce,.5))),de[Fe]=Se(S.pow(Ce,1/3)),Fe++),Ce++}var Xe=[];z=z.SHA256=B.extend({_doReset:function(){this._hash=new E.init(Z.slice(0))},_doProcessBlock:function(nt,d){for(var ye=this._hash.words,Ve=ye[0],Le=ye[1],Ue=ye[2],et=ye[3],ut=ye[4],Gt=ye[5],Pt=ye[6],An=ye[7],$t=0;64>$t;$t++){if(16>$t)Xe[$t]=0|nt[d+$t];else{var Zt=Xe[$t-15],ar=Xe[$t-2];Xe[$t]=((Zt<<25|Zt>>>7)^(Zt<<14|Zt>>>18)^Zt>>>3)+Xe[$t-7]+((ar<<15|ar>>>17)^(ar<<13|ar>>>19)^ar>>>10)+Xe[$t-16]}Zt=An+((ut<<26|ut>>>6)^(ut<<21|ut>>>11)^(ut<<7|ut>>>25))+(ut&Gt^~ut&Pt)+de[$t]+Xe[$t],ar=((Ve<<30|Ve>>>2)^(Ve<<19|Ve>>>13)^(Ve<<10|Ve>>>22))+(Ve&Le^Ve&Ue^Le&Ue),An=Pt,Pt=Gt,Gt=ut,ut=et+Zt|0,et=Ue,Ue=Le,Le=Ve,Ve=Zt+ar|0}ye[0]=ye[0]+Ve|0,ye[1]=ye[1]+Le|0,ye[2]=ye[2]+Ue|0,ye[3]=ye[3]+et|0,ye[4]=ye[4]+ut|0,ye[5]=ye[5]+Gt|0,ye[6]=ye[6]+Pt|0,ye[7]=ye[7]+An|0},_doFinalize:function(){var nt=this._data,d=nt.words,ye=8*this._nDataBytes,Ve=8*nt.sigBytes;return d[Ve>>>5]|=128<<24-Ve%32,d[14+(Ve+64>>>9<<4)]=S.floor(ye/4294967296),d[15+(Ve+64>>>9<<4)]=ye,nt.sigBytes=4*d.length,this._process(),this._hash},clone:function(){var nt=B.clone.call(this);return nt._hash=this._hash.clone(),nt}}),C.SHA256=B._createHelper(z),C.HmacSHA256=B._createHmacHelper(z)}(Math),function(){function S(){return B.create.apply(B,arguments)}for(var C=I,E=C.lib.Hasher,B=(Z=C.x64).Word,z=Z.WordArray,Z=C.algo,de=[S(1116352408,3609767458),S(1899447441,602891725),S(3049323471,3964484399),S(3921009573,2173295548),S(961987163,4081628472),S(1508970993,3053834265),S(2453635748,2937671579),S(2870763221,3664609560),S(3624381080,2734883394),S(310598401,1164996542),S(607225278,1323610764),S(1426881987,3590304994),S(1925078388,4068182383),S(2162078206,991336113),S(2614888103,633803317),S(3248222580,3479774868),S(3835390401,2666613458),S(4022224774,944711139),S(264347078,2341262773),S(604807628,2007800933),S(770255983,1495990901),S(1249150122,1856431235),S(1555081692,3175218132),S(1996064986,2198950837),S(2554220882,3999719339),S(2821834349,766784016),S(2952996808,2566594879),S(3210313671,3203337956),S(3336571891,1034457026),S(3584528711,2466948901),S(113926993,3758326383),S(338241895,168717936),S(666307205,1188179964),S(773529912,1546045734),S(1294757372,1522805485),S(1396182291,2643833823),S(1695183700,2343527390),S(1986661051,1014477480),S(2177026350,1206759142),S(2456956037,344077627),S(2730485921,1290863460),S(2820302411,3158454273),S(3259730800,3505952657),S(3345764771,106217008),S(3516065817,3606008344),S(3600352804,1432725776),S(4094571909,1467031594),S(275423344,851169720),S(430227734,3100823752),S(506948616,1363258195),S(659060556,3750685593),S(883997877,3785050280),S(958139571,3318307427),S(1322822218,3812723403),S(1537002063,2003034995),S(1747873779,3602036899),S(1955562222,1575990012),S(2024104815,1125592928),S(2227730452,2716904306),S(2361852424,442776044),S(2428436474,593698344),S(2756734187,3733110249),S(3204031479,2999351573),S(3329325298,3815920427),S(3391569614,3928383900),S(3515267271,566280711),S(3940187606,3454069534),S(4118630271,4000239992),S(116418474,1914138554),S(174292421,2731055270),S(289380356,3203993006),S(460393269,320620315),S(685471733,587496836),S(852142971,1086792851),S(1017036298,365543100),S(1126000580,2618297676),S(1288033470,3409855158),S(1501505948,4234509866),S(1607167915,987167468),S(1816402316,1246189591)],Se=[],Ce=0;80>Ce;Ce++)Se[Ce]=S();Z=Z.SHA512=E.extend({_doReset:function(){this._hash=new z.init([new B.init(1779033703,4089235720),new B.init(3144134277,2227873595),new B.init(1013904242,4271175723),new B.init(2773480762,1595750129),new B.init(1359893119,2917565137),new B.init(2600822924,725511199),new B.init(528734635,4215389547),new B.init(1541459225,327033209)])},_doProcessBlock:function(Pe,Ie){for(var Ne=(Le=this._hash.words)[0],Xe=Le[1],Je=Le[2],nt=Le[3],d=Le[4],ye=Le[5],Ve=Le[6],Le=Le[7],Ue=Ne.high,et=Ne.low,ut=Xe.high,Gt=Xe.low,Pt=Je.high,An=Je.low,$t=nt.high,Zt=nt.low,ar=d.high,lr=d.low,ir=ye.high,ka=ye.low,ua=Ve.high,Aa=Ve.low,Pr=Le.high,_r=Le.low,ta=Ue,Ca=et,fs=ut,ps=Gt,zs=Pt,ms=An,bf=$t,Hs=Zt,la=ar,Ja=lr,ul=ir,Ks=ka,ll=ua,Xs=Aa,Uc=Pr,cl=_r,mi=0;80>mi;mi++){var Vo=Se[mi];if(16>mi)var Xi=Vo.high=0|Pe[Ie+2*mi],cr=Vo.low=0|Pe[Ie+2*mi+1];else{Xi=((cr=(Xi=Se[mi-15]).high)>>>1|(qi=Xi.low)<<31)^(cr>>>8|qi<<24)^cr>>>7;var qi=(qi>>>1|cr<<31)^(qi>>>8|cr<<24)^(qi>>>7|cr<<25),Ws=((cr=(Ws=Se[mi-2]).high)>>>19|(jr=Ws.low)<<13)^(cr<<3|jr>>>29)^cr>>>6,jr=(jr>>>19|cr<<13)^(jr<<3|cr>>>29)^(jr>>>6|cr<<26),Gc=(cr=Se[mi-7]).high,No=(Oo=Se[mi-16]).high,Oo=Oo.low;Xi=(Xi=(Xi=Xi+Gc+((cr=qi+cr.low)>>>0<qi>>>0?1:0))+Ws+((cr+=jr)>>>0<jr>>>0?1:0))+No+((cr+=Oo)>>>0<Oo>>>0?1:0),Vo.high=Xi,Vo.low=cr}Gc=la&ul^~la&ll,Oo=Ja&Ks^~Ja&Xs,Vo=ta&fs^ta&zs^fs&zs;var gh=Ca&ps^Ca&ms^ps&ms,vh=(qi=(ta>>>28|Ca<<4)^(ta<<30|Ca>>>2)^(ta<<25|Ca>>>7),Ws=(Ca>>>28|ta<<4)^(Ca<<30|ta>>>2)^(Ca<<25|ta>>>7),(jr=de[mi]).high),Af=jr.low;No=Uc+((la>>>14|Ja<<18)^(la>>>18|Ja<<14)^(la<<23|Ja>>>9))+((jr=cl+((Ja>>>14|la<<18)^(Ja>>>18|la<<14)^(Ja<<23|la>>>9)))>>>0<cl>>>0?1:0),Uc=ll,cl=Xs,ll=ul,Xs=Ks,ul=la,Ks=Ja,la=bf+(No=(No=(No=No+Gc+((jr+=Oo)>>>0<Oo>>>0?1:0))+vh+((jr+=Af)>>>0<Af>>>0?1:0))+Xi+((jr+=cr)>>>0<cr>>>0?1:0))+((Ja=Hs+jr|0)>>>0<Hs>>>0?1:0)|0,bf=zs,Hs=ms,zs=fs,ms=ps,fs=ta,ps=Ca,ta=No+(Vo=qi+Vo+((cr=Ws+gh)>>>0<Ws>>>0?1:0))+((Ca=jr+cr|0)>>>0<jr>>>0?1:0)|0}et=Ne.low=et+Ca,Ne.high=Ue+ta+(et>>>0<Ca>>>0?1:0),Gt=Xe.low=Gt+ps,Xe.high=ut+fs+(Gt>>>0<ps>>>0?1:0),An=Je.low=An+ms,Je.high=Pt+zs+(An>>>0<ms>>>0?1:0),Zt=nt.low=Zt+Hs,nt.high=$t+bf+(Zt>>>0<Hs>>>0?1:0),lr=d.low=lr+Ja,d.high=ar+la+(lr>>>0<Ja>>>0?1:0),ka=ye.low=ka+Ks,ye.high=ir+ul+(ka>>>0<Ks>>>0?1:0),Aa=Ve.low=Aa+Xs,Ve.high=ua+ll+(Aa>>>0<Xs>>>0?1:0),_r=Le.low=_r+cl,Le.high=Pr+Uc+(_r>>>0<cl>>>0?1:0)},_doFinalize:function(){var Pe=this._data,Ie=Pe.words,Ne=8*this._nDataBytes,Xe=8*Pe.sigBytes;return Ie[Xe>>>5]|=128<<24-Xe%32,Ie[30+(Xe+128>>>10<<5)]=Math.floor(Ne/4294967296),Ie[31+(Xe+128>>>10<<5)]=Ne,Pe.sigBytes=4*Ie.length,this._process(),this._hash.toX32()},clone:function(){var Pe=E.clone.call(this);return Pe._hash=this._hash.clone(),Pe},blockSize:32}),C.SHA512=E._createHelper(Z),C.HmacSHA512=E._createHmacHelper(Z)}(),function(){var S=I,C=(z=S.x64).Word,E=z.WordArray,B=(z=S.algo).SHA512,z=z.SHA384=B.extend({_doReset:function(){this._hash=new E.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var de=B._doFinalize.call(this);return de.sigBytes-=16,de}});S.SHA384=B._createHelper(z),S.HmacSHA384=B._createHmacHelper(z)}();var R,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ee(S){var C,E,B="";for(C=0;C+3<=S.length;C+=3)E=parseInt(S.substring(C,C+3),16),B+=L.charAt(E>>6)+L.charAt(63&E);for(C+1==S.length?(E=parseInt(S.substring(C,C+1),16),B+=L.charAt(E<<2)):C+2==S.length&&(E=parseInt(S.substring(C,C+2),16),B+=L.charAt(E>>2)+L.charAt((3&E)<<4));(3&B.length)>0;)B+="=";return B}function W(S){var C,E,B,z="",Z=0;for(C=0;C<S.length&&"="!=S.charAt(C);++C)(B=L.indexOf(S.charAt(C)))<0||(0==Z?(z+=ie(B>>2),E=3&B,Z=1):1==Z?(z+=ie(E<<2|B>>4),E=15&B,Z=2):2==Z?(z+=ie(E),z+=ie(B>>2),E=3&B,Z=3):(z+=ie(E<<2|B>>4),z+=ie(15&B),Z=0));return 1==Z&&(z+=ie(E<<2)),z}function X(S){var C,E=W(S),B=new Array;for(C=0;2*C<E.length;++C)B[C]=parseInt(E.substring(2*C,2*C+2),16);return B}function U(S,C,E){null!=S&&("number"==typeof S?this.fromNumber(S,C,E):this.fromString(S,null==C&&"string"!=typeof S?256:C))}function ne(){return new U(null)}"Microsoft Internet Explorer"==v.appName?(U.prototype.am=function(C,E,B,z,Z,de){for(var Se=32767&E,Ce=E>>15;--de>=0;){var Fe=32767&this[C],Pe=this[C++]>>15,Ie=Ce*Fe+Pe*Se;Z=((Fe=Se*Fe+((32767&Ie)<<15)+B[z]+(1073741823&Z))>>>30)+(Ie>>>15)+Ce*Pe+(Z>>>30),B[z++]=1073741823&Fe}return Z},R=30):"Netscape"!=v.appName?(U.prototype.am=function(C,E,B,z,Z,de){for(;--de>=0;){var Se=E*this[C++]+B[z]+Z;Z=Math.floor(Se/67108864),B[z++]=67108863&Se}return Z},R=26):(U.prototype.am=function(C,E,B,z,Z,de){for(var Se=16383&E,Ce=E>>14;--de>=0;){var Fe=16383&this[C],Pe=this[C++]>>14,Ie=Ce*Fe+Pe*Se;Z=((Fe=Se*Fe+((16383&Ie)<<14)+B[z]+Z)>>28)+(Ie>>14)+Ce*Pe,B[z++]=268435455&Fe}return Z},R=28),U.prototype.DB=R,U.prototype.DM=(1<<R)-1,U.prototype.DV=1<<R,U.prototype.FV=Math.pow(2,52),U.prototype.F1=52-R,U.prototype.F2=2*R-52;var ce,te,Y=new Array;for(ce=48,te=0;te<=9;++te)Y[ce++]=te;for(ce=97,te=10;te<36;++te)Y[ce++]=te;for(ce=65,te=10;te<36;++te)Y[ce++]=te;function ie(S){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(S)}function pe(S,C){return Y[S.charCodeAt(C)]??-1}function _e(S){var C=ne();return C.fromInt(S),C}function he(S){var C,E=1;return 0!=(C=S>>>16)&&(S=C,E+=16),0!=(C=S>>8)&&(S=C,E+=8),0!=(C=S>>4)&&(S=C,E+=4),0!=(C=S>>2)&&(S=C,E+=2),0!=(C=S>>1)&&(S=C,E+=1),E}function ue(S){this.m=S}function $e(S){this.m=S,this.mp=S.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<S.DB-15)-1,this.mt2=2*S.t}function Ee(S,C){return S&C}function Be(S,C){return S|C}function Qe(S,C){return S^C}function Ze(S,C){return S&~C}function st(S){if(0==S)return-1;var C=0;return!(65535&S)&&(S>>=16,C+=16),!(255&S)&&(S>>=8,C+=8),!(15&S)&&(S>>=4,C+=4),!(3&S)&&(S>>=2,C+=2),!(1&S)&&++C,C}function gt(S){for(var C=0;0!=S;)S&=S-1,++C;return C}function qe(){}function rt(S){return S}function ht(S){this.r2=ne(),this.q3=ne(),U.ONE.dlShiftTo(2*S.t,this.r2),this.mu=this.r2.divide(S),this.m=S}ue.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},ue.prototype.revert=function(C){return C},ue.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},ue.prototype.mulTo=function(C,E,B){C.multiplyTo(E,B),this.reduce(B)},ue.prototype.sqrTo=function(C,E){C.squareTo(E),this.reduce(E)},$e.prototype.convert=function(C){var E=ne();return C.abs().dlShiftTo(this.m.t,E),E.divRemTo(this.m,null,E),C.s<0&&E.compareTo(U.ZERO)>0&&this.m.subTo(E,E),E},$e.prototype.revert=function(C){var E=ne();return C.copyTo(E),this.reduce(E),E},$e.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var E=0;E<this.m.t;++E){var B=32767&C[E],z=B*this.mpl+((B*this.mph+(C[E]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[B=E+this.m.t]+=this.m.am(0,z,C,E,0,this.m.t);C[B]>=C.DV;)C[B]-=C.DV,C[++B]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},$e.prototype.mulTo=function(C,E,B){C.multiplyTo(E,B),this.reduce(B)},$e.prototype.sqrTo=function(C,E){C.squareTo(E),this.reduce(E)},U.prototype.copyTo=function(C){for(var E=this.t-1;E>=0;--E)C[E]=this[E];C.t=this.t,C.s=this.s},U.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},U.prototype.fromString=function(C,E){var B;if(16==E)B=4;else if(8==E)B=3;else if(256==E)B=8;else if(2==E)B=1;else if(32==E)B=5;else{if(4!=E)return void this.fromRadix(C,E);B=2}this.t=0,this.s=0;for(var z=C.length,Z=!1,de=0;--z>=0;){var Se=8==B?255&C[z]:pe(C,z);Se<0?"-"==C.charAt(z)&&(Z=!0):(Z=!1,0==de?this[this.t++]=Se:de+B>this.DB?(this[this.t-1]|=(Se&(1<<this.DB-de)-1)<<de,this[this.t++]=Se>>this.DB-de):this[this.t-1]|=Se<<de,(de+=B)>=this.DB&&(de-=this.DB))}8==B&&!!(128&C[0])&&(this.s=-1,de>0&&(this[this.t-1]|=(1<<this.DB-de)-1<<de)),this.clamp(),Z&&U.ZERO.subTo(this,this)},U.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},U.prototype.dlShiftTo=function(C,E){var B;for(B=this.t-1;B>=0;--B)E[B+C]=this[B];for(B=C-1;B>=0;--B)E[B]=0;E.t=this.t+C,E.s=this.s},U.prototype.drShiftTo=function(C,E){for(var B=C;B<this.t;++B)E[B-C]=this[B];E.t=Math.max(this.t-C,0),E.s=this.s},U.prototype.lShiftTo=function(C,E){var B,z=C%this.DB,Z=this.DB-z,de=(1<<Z)-1,Se=Math.floor(C/this.DB),Ce=this.s<<z&this.DM;for(B=this.t-1;B>=0;--B)E[B+Se+1]=this[B]>>Z|Ce,Ce=(this[B]&de)<<z;for(B=Se-1;B>=0;--B)E[B]=0;E[Se]=Ce,E.t=this.t+Se+1,E.s=this.s,E.clamp()},U.prototype.rShiftTo=function(C,E){E.s=this.s;var B=Math.floor(C/this.DB);if(B>=this.t)E.t=0;else{var z=C%this.DB,Z=this.DB-z,de=(1<<z)-1;E[0]=this[B]>>z;for(var Se=B+1;Se<this.t;++Se)E[Se-B-1]|=(this[Se]&de)<<Z,E[Se-B]=this[Se]>>z;z>0&&(E[this.t-B-1]|=(this.s&de)<<Z),E.t=this.t-B,E.clamp()}},U.prototype.subTo=function(C,E){for(var B=0,z=0,Z=Math.min(C.t,this.t);B<Z;)z+=this[B]-C[B],E[B++]=z&this.DM,z>>=this.DB;if(C.t<this.t){for(z-=C.s;B<this.t;)z+=this[B],E[B++]=z&this.DM,z>>=this.DB;z+=this.s}else{for(z+=this.s;B<C.t;)z-=C[B],E[B++]=z&this.DM,z>>=this.DB;z-=C.s}E.s=z<0?-1:0,z<-1?E[B++]=this.DV+z:z>0&&(E[B++]=z),E.t=B,E.clamp()},U.prototype.multiplyTo=function(C,E){var B=this.abs(),z=C.abs(),Z=B.t;for(E.t=Z+z.t;--Z>=0;)E[Z]=0;for(Z=0;Z<z.t;++Z)E[Z+B.t]=B.am(0,z[Z],E,Z,0,B.t);E.s=0,E.clamp(),this.s!=C.s&&U.ZERO.subTo(E,E)},U.prototype.squareTo=function(C){for(var E=this.abs(),B=C.t=2*E.t;--B>=0;)C[B]=0;for(B=0;B<E.t-1;++B){var z=E.am(B,E[B],C,2*B,0,1);(C[B+E.t]+=E.am(B+1,2*E[B],C,2*B+1,z,E.t-B-1))>=E.DV&&(C[B+E.t]-=E.DV,C[B+E.t+1]=1)}C.t>0&&(C[C.t-1]+=E.am(B,E[B],C,2*B,0,1)),C.s=0,C.clamp()},U.prototype.divRemTo=function(C,E,B){var z=C.abs();if(!(z.t<=0)){var Z=this.abs();if(Z.t<z.t)return E?.fromInt(0),void(null!=B&&this.copyTo(B));null==B&&(B=ne());var de=ne(),Se=this.s,Ce=C.s,Fe=this.DB-he(z[z.t-1]);Fe>0?(z.lShiftTo(Fe,de),Z.lShiftTo(Fe,B)):(z.copyTo(de),Z.copyTo(B));var Pe=de.t,Ie=de[Pe-1];if(0!=Ie){var Ne=Ie*(1<<this.F1)+(Pe>1?de[Pe-2]>>this.F2:0),Xe=this.FV/Ne,Je=(1<<this.F1)/Ne,nt=1<<this.F2,d=B.t,ye=d-Pe,Ve=E??ne();for(de.dlShiftTo(ye,Ve),B.compareTo(Ve)>=0&&(B[B.t++]=1,B.subTo(Ve,B)),U.ONE.dlShiftTo(Pe,Ve),Ve.subTo(de,de);de.t<Pe;)de[de.t++]=0;for(;--ye>=0;){var Le=B[--d]==Ie?this.DM:Math.floor(B[d]*Xe+(B[d-1]+nt)*Je);if((B[d]+=de.am(0,Le,B,ye,0,Pe))<Le)for(de.dlShiftTo(ye,Ve),B.subTo(Ve,B);B[d]<--Le;)B.subTo(Ve,B)}null!=E&&(B.drShiftTo(Pe,E),Se!=Ce&&U.ZERO.subTo(E,E)),B.t=Pe,B.clamp(),Fe>0&&B.rShiftTo(Fe,B),Se<0&&U.ZERO.subTo(B,B)}}},U.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var E=3&C;return(E=(E=(E=(E=E*(2-(15&C)*E)&15)*(2-(255&C)*E)&255)*(2-((65535&C)*E&65535))&65535)*(2-C*E%this.DV)%this.DV)>0?this.DV-E:-E},U.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},U.prototype.exp=function(C,E){if(C>4294967295||C<1)return U.ONE;var B=ne(),z=ne(),Z=E.convert(this),de=he(C)-1;for(Z.copyTo(B);--de>=0;)if(E.sqrTo(B,z),(C&1<<de)>0)E.mulTo(z,Z,B);else{var Se=B;B=z,z=Se}return E.revert(B)},U.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var E;if(16==C)E=4;else if(8==C)E=3;else if(2==C)E=1;else if(32==C)E=5;else{if(4!=C)return this.toRadix(C);E=2}var B,z=(1<<E)-1,Z=!1,de="",Se=this.t,Ce=this.DB-Se*this.DB%E;if(Se-- >0)for(Ce<this.DB&&(B=this[Se]>>Ce)>0&&(Z=!0,de=ie(B));Se>=0;)Ce<E?(B=(this[Se]&(1<<Ce)-1)<<E-Ce,B|=this[--Se]>>(Ce+=this.DB-E)):(B=this[Se]>>(Ce-=E)&z,Ce<=0&&(Ce+=this.DB,--Se)),B>0&&(Z=!0),Z&&(de+=ie(B));return Z?de:"0"},U.prototype.negate=function(){var C=ne();return U.ZERO.subTo(this,C),C},U.prototype.abs=function(){return this.s<0?this.negate():this},U.prototype.compareTo=function(C){var E=this.s-C.s;if(0!=E)return E;var B=this.t;if(0!=(E=B-C.t))return this.s<0?-E:E;for(;--B>=0;)if(0!=(E=this[B]-C[B]))return E;return 0},U.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+he(this[this.t-1]^this.s&this.DM)},U.prototype.mod=function(C){var E=ne();return this.abs().divRemTo(C,null,E),this.s<0&&E.compareTo(U.ZERO)>0&&C.subTo(E,E),E},U.prototype.modPowInt=function(C,E){var B;return B=C<256||E.isEven()?new ue(E):new $e(E),this.exp(C,B)},U.ZERO=_e(0),U.ONE=_e(1),qe.prototype.convert=rt,qe.prototype.revert=rt,qe.prototype.mulTo=function(C,E,B){C.multiplyTo(E,B)},qe.prototype.sqrTo=function(C,E){C.squareTo(E)},ht.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var E=ne();return C.copyTo(E),this.reduce(E),E},ht.prototype.revert=function(C){return C},ht.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},ht.prototype.mulTo=function(C,E,B){C.multiplyTo(E,B),this.reduce(B)},ht.prototype.sqrTo=function(C,E){C.squareTo(E),this.reduce(E)};var xe,Te,ae,fe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],H=(1<<26)/fe[fe.length-1];function K(){this.i=0,this.j=0,this.S=new Array}function re(){!function(C){Te[ae++]^=255&C,Te[ae++]^=C>>8&255,Te[ae++]^=C>>16&255,Te[ae++]^=C>>24&255,ae>=256&&(ae-=256)}((new Date).getTime())}if(U.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},U.prototype.toRadix=function(C){if(null==C&&(C=10),0==this.signum()||C<2||C>36)return"0";var E=this.chunkSize(C),B=Math.pow(C,E),z=_e(B),Z=ne(),de=ne(),Se="";for(this.divRemTo(z,Z,de);Z.signum()>0;)Se=(B+de.intValue()).toString(C).substr(1)+Se,Z.divRemTo(z,Z,de);return de.intValue().toString(C)+Se},U.prototype.fromRadix=function(C,E){this.fromInt(0),null==E&&(E=10);for(var B=this.chunkSize(E),z=Math.pow(E,B),Z=!1,de=0,Se=0,Ce=0;Ce<C.length;++Ce){var Fe=pe(C,Ce);Fe<0?"-"==C.charAt(Ce)&&0==this.signum()&&(Z=!0):(Se=E*Se+Fe,++de>=B&&(this.dMultiply(z),this.dAddOffset(Se,0),de=0,Se=0))}de>0&&(this.dMultiply(Math.pow(E,de)),this.dAddOffset(Se,0)),Z&&U.ZERO.subTo(this,this)},U.prototype.fromNumber=function(C,E,B){if("number"==typeof E)if(C<2)this.fromInt(1);else for(this.fromNumber(C,B),this.testBit(C-1)||this.bitwiseTo(U.ONE.shiftLeft(C-1),Be,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(E);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(U.ONE.shiftLeft(C-1),this);else{var z=new Array,Z=7&C;z.length=1+(C>>3),E.nextBytes(z),Z>0?z[0]&=(1<<Z)-1:z[0]=0,this.fromString(z,256)}},U.prototype.bitwiseTo=function(C,E,B){var z,Z,de=Math.min(C.t,this.t);for(z=0;z<de;++z)B[z]=E(this[z],C[z]);if(C.t<this.t){for(Z=C.s&this.DM,z=de;z<this.t;++z)B[z]=E(this[z],Z);B.t=this.t}else{for(Z=this.s&this.DM,z=de;z<C.t;++z)B[z]=E(Z,C[z]);B.t=C.t}B.s=E(this.s,C.s),B.clamp()},U.prototype.changeBit=function(C,E){var B=U.ONE.shiftLeft(C);return this.bitwiseTo(B,E,B),B},U.prototype.addTo=function(C,E){for(var B=0,z=0,Z=Math.min(C.t,this.t);B<Z;)z+=this[B]+C[B],E[B++]=z&this.DM,z>>=this.DB;if(C.t<this.t){for(z+=C.s;B<this.t;)z+=this[B],E[B++]=z&this.DM,z>>=this.DB;z+=this.s}else{for(z+=this.s;B<C.t;)z+=C[B],E[B++]=z&this.DM,z>>=this.DB;z+=C.s}E.s=z<0?-1:0,z>0?E[B++]=z:z<-1&&(E[B++]=this.DV+z),E.t=B,E.clamp()},U.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},U.prototype.dAddOffset=function(C,E){if(0!=C){for(;this.t<=E;)this[this.t++]=0;for(this[E]+=C;this[E]>=this.DV;)this[E]-=this.DV,++E>=this.t&&(this[this.t++]=0),++this[E]}},U.prototype.multiplyLowerTo=function(C,E,B){var z,Z=Math.min(this.t+C.t,E);for(B.s=0,B.t=Z;Z>0;)B[--Z]=0;for(z=B.t-this.t;Z<z;++Z)B[Z+this.t]=this.am(0,C[Z],B,Z,0,this.t);for(z=Math.min(C.t,E);Z<z;++Z)this.am(0,C[Z],B,Z,0,E-Z);B.clamp()},U.prototype.multiplyUpperTo=function(C,E,B){--E;var z=B.t=this.t+C.t-E;for(B.s=0;--z>=0;)B[z]=0;for(z=Math.max(E-this.t,0);z<C.t;++z)B[this.t+z-E]=this.am(E-z,C[z],B,0,0,this.t+z-E);B.clamp(),B.drShiftTo(1,B)},U.prototype.modInt=function(C){if(C<=0)return 0;var E=this.DV%C,B=this.s<0?C-1:0;if(this.t>0)if(0==E)B=this[0]%C;else for(var z=this.t-1;z>=0;--z)B=(E*B+this[z])%C;return B},U.prototype.millerRabin=function(C){var E=this.subtract(U.ONE),B=E.getLowestSetBit();if(B<=0)return!1;var z=E.shiftRight(B);(C=C+1>>1)>fe.length&&(C=fe.length);for(var Z=ne(),de=0;de<C;++de){Z.fromInt(fe[Math.floor(Math.random()*fe.length)]);var Se=Z.modPow(z,this);if(0!=Se.compareTo(U.ONE)&&0!=Se.compareTo(E)){for(var Ce=1;Ce++<B&&0!=Se.compareTo(E);)if(0==(Se=Se.modPowInt(2,this)).compareTo(U.ONE))return!1;if(0!=Se.compareTo(E))return!1}}return!0},U.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var C=ne();return this.copyTo(C),C},U.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},U.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},U.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},U.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},U.prototype.toByteArray=function(){var C=this.t,E=new Array;E[0]=this.s;var B,z=this.DB-C*this.DB%8,Z=0;if(C-- >0)for(z<this.DB&&(B=this[C]>>z)!=(this.s&this.DM)>>z&&(E[Z++]=B|this.s<<this.DB-z);C>=0;)z<8?(B=(this[C]&(1<<z)-1)<<8-z,B|=this[--C]>>(z+=this.DB-8)):(B=this[C]>>(z-=8)&255,z<=0&&(z+=this.DB,--C)),!!(128&B)&&(B|=-256),0==Z&&(128&this.s)!=(128&B)&&++Z,(Z>0||B!=this.s)&&(E[Z++]=B);return E},U.prototype.equals=function(C){return 0==this.compareTo(C)},U.prototype.min=function(C){return this.compareTo(C)<0?this:C},U.prototype.max=function(C){return this.compareTo(C)>0?this:C},U.prototype.and=function(C){var E=ne();return this.bitwiseTo(C,Ee,E),E},U.prototype.or=function(C){var E=ne();return this.bitwiseTo(C,Be,E),E},U.prototype.xor=function(C){var E=ne();return this.bitwiseTo(C,Qe,E),E},U.prototype.andNot=function(C){var E=ne();return this.bitwiseTo(C,Ze,E),E},U.prototype.not=function(){for(var C=ne(),E=0;E<this.t;++E)C[E]=this.DM&~this[E];return C.t=this.t,C.s=~this.s,C},U.prototype.shiftLeft=function(C){var E=ne();return C<0?this.rShiftTo(-C,E):this.lShiftTo(C,E),E},U.prototype.shiftRight=function(C){var E=ne();return C<0?this.lShiftTo(-C,E):this.rShiftTo(C,E),E},U.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(0!=this[C])return C*this.DB+st(this[C]);return this.s<0?this.t*this.DB:-1},U.prototype.bitCount=function(){for(var C=0,E=this.s&this.DM,B=0;B<this.t;++B)C+=gt(this[B]^E);return C},U.prototype.testBit=function(C){var E=Math.floor(C/this.DB);return E>=this.t?0!=this.s:!!(this[E]&1<<C%this.DB)},U.prototype.setBit=function(C){return this.changeBit(C,Be)},U.prototype.clearBit=function(C){return this.changeBit(C,Ze)},U.prototype.flipBit=function(C){return this.changeBit(C,Qe)},U.prototype.add=function(C){var E=ne();return this.addTo(C,E),E},U.prototype.subtract=function(C){var E=ne();return this.subTo(C,E),E},U.prototype.multiply=function(C){var E=ne();return this.multiplyTo(C,E),E},U.prototype.divide=function(C){var E=ne();return this.divRemTo(C,E,null),E},U.prototype.remainder=function(C){var E=ne();return this.divRemTo(C,null,E),E},U.prototype.divideAndRemainder=function(C){var E=ne(),B=ne();return this.divRemTo(C,E,B),new Array(E,B)},U.prototype.modPow=function(C,E){var B,z,Z=C.bitLength(),de=_e(1);if(Z<=0)return de;B=Z<18?1:Z<48?3:Z<144?4:Z<768?5:6,z=Z<8?new ue(E):E.isEven()?new ht(E):new $e(E);var Se=new Array,Ce=3,Fe=B-1,Pe=(1<<B)-1;if(Se[1]=z.convert(this),B>1){var Ie=ne();for(z.sqrTo(Se[1],Ie);Ce<=Pe;)Se[Ce]=ne(),z.mulTo(Ie,Se[Ce-2],Se[Ce]),Ce+=2}var Ne,Xe,Je=C.t-1,nt=!0,d=ne();for(Z=he(C[Je])-1;Je>=0;){for(Z>=Fe?Ne=C[Je]>>Z-Fe&Pe:(Ne=(C[Je]&(1<<Z+1)-1)<<Fe-Z,Je>0&&(Ne|=C[Je-1]>>this.DB+Z-Fe)),Ce=B;!(1&Ne);)Ne>>=1,--Ce;if((Z-=Ce)<0&&(Z+=this.DB,--Je),nt)Se[Ne].copyTo(de),nt=!1;else{for(;Ce>1;)z.sqrTo(de,d),z.sqrTo(d,de),Ce-=2;Ce>0?z.sqrTo(de,d):(Xe=de,de=d,d=Xe),z.mulTo(d,Se[Ne],de)}for(;Je>=0&&!(C[Je]&1<<Z);)z.sqrTo(de,d),Xe=de,de=d,d=Xe,--Z<0&&(Z=this.DB-1,--Je)}return z.revert(de)},U.prototype.modInverse=function(C){var E=C.isEven();if(this.isEven()&&E||0==C.signum())return U.ZERO;for(var B=C.clone(),z=this.clone(),Z=_e(1),de=_e(0),Se=_e(0),Ce=_e(1);0!=B.signum();){for(;B.isEven();)B.rShiftTo(1,B),E?(Z.isEven()&&de.isEven()||(Z.addTo(this,Z),de.subTo(C,de)),Z.rShiftTo(1,Z)):de.isEven()||de.subTo(C,de),de.rShiftTo(1,de);for(;z.isEven();)z.rShiftTo(1,z),E?(Se.isEven()&&Ce.isEven()||(Se.addTo(this,Se),Ce.subTo(C,Ce)),Se.rShiftTo(1,Se)):Ce.isEven()||Ce.subTo(C,Ce),Ce.rShiftTo(1,Ce);B.compareTo(z)>=0?(B.subTo(z,B),E&&Z.subTo(Se,Z),de.subTo(Ce,de)):(z.subTo(B,z),E&&Se.subTo(Z,Se),Ce.subTo(de,Ce))}return 0!=z.compareTo(U.ONE)?U.ZERO:Ce.compareTo(C)>=0?Ce.subtract(C):Ce.signum()<0?(Ce.addTo(C,Ce),Ce.signum()<0?Ce.add(C):Ce):Ce},U.prototype.pow=function(C){return this.exp(C,new qe)},U.prototype.gcd=function(C){var E=this.s<0?this.negate():this.clone(),B=C.s<0?C.negate():C.clone();if(E.compareTo(B)<0){var z=E;E=B,B=z}var Z=E.getLowestSetBit(),de=B.getLowestSetBit();if(de<0)return E;for(Z<de&&(de=Z),de>0&&(E.rShiftTo(de,E),B.rShiftTo(de,B));E.signum()>0;)(Z=E.getLowestSetBit())>0&&E.rShiftTo(Z,E),(Z=B.getLowestSetBit())>0&&B.rShiftTo(Z,B),E.compareTo(B)>=0?(E.subTo(B,E),E.rShiftTo(1,E)):(B.subTo(E,B),B.rShiftTo(1,B));return de>0&&B.lShiftTo(de,B),B},U.prototype.isProbablePrime=function(C){var E,B=this.abs();if(1==B.t&&B[0]<=fe[fe.length-1]){for(E=0;E<fe.length;++E)if(B[0]==fe[E])return!0;return!1}if(B.isEven())return!1;for(E=1;E<fe.length;){for(var z=fe[E],Z=E+1;Z<fe.length&&z<H;)z*=fe[Z++];for(z=B.modInt(z);E<Z;)if(z%fe[E++]==0)return!1}return B.millerRabin(C)},U.prototype.square=function(){var C=ne();return this.squareTo(C),C},K.prototype.init=function(C){var E,B,z;for(E=0;E<256;++E)this.S[E]=E;for(B=0,E=0;E<256;++E)z=this.S[E],this.S[E]=this.S[B=B+this.S[E]+C[E%C.length]&255],this.S[B]=z;this.i=0,this.j=0},K.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]},null==Te){var Me;if(Te=new Array,ae=0,void 0!==F&&(void 0!==F.crypto||void 0!==F.msCrypto)){var oe=F.crypto||F.msCrypto;if(oe.getRandomValues){var J=new Uint8Array(32);for(oe.getRandomValues(J),Me=0;Me<32;++Me)Te[ae++]=J[Me]}else if("Netscape"==v.appName&&v.appVersion<"5"){var Q=F.crypto.random(32);for(Me=0;Me<Q.length;++Me)Te[ae++]=255&Q.charCodeAt(Me)}}for(;ae<256;)Me=Math.floor(65536*Math.random()),Te[ae++]=Me>>>8,Te[ae++]=255&Me;ae=0,re()}function be(){if(null==xe){for(re(),(xe=new K).init(Te),ae=0;ae<Te.length;++ae)Te[ae]=0;ae=0}return xe.next()}function je(){}function tt(S,C){return new U(S,C)}function it(S,C,E){for(var B="",z=0;B.length<C;)B+=E(String.fromCharCode.apply(String,S.concat([(4278190080&z)>>24,(16711680&z)>>16,(65280&z)>>8,255&z]))),z+=1;return B}function _t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Bt(S,C){this.x=C,this.q=S}function Vt(S,C,E,B){this.curve=S,this.x=C,this.y=E,this.z=B??U.ONE,this.zinv=null}function cn(S,C,E){this.q=S,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(E),this.infinity=new Vt(this,null,null)}je.prototype.nextBytes=function(C){var E;for(E=0;E<C.length;++E)C[E]=be()},_t.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},_t.prototype.setPublic=function(C,E){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof C)this.n=C,this.e=E;else{if(!(null!=C&&null!=E&&C.length>0&&E.length>0))throw"Invalid RSA public key";this.n=tt(C,16),this.e=parseInt(E,16)}},_t.prototype.encrypt=function(C){var E=function(de,Se){if(Se<de.length+11)throw"Message too long for RSA";for(var Ce=new Array,Fe=de.length-1;Fe>=0&&Se>0;){var Pe=de.charCodeAt(Fe--);Pe<128?Ce[--Se]=Pe:Pe>127&&Pe<2048?(Ce[--Se]=63&Pe|128,Ce[--Se]=Pe>>6|192):(Ce[--Se]=63&Pe|128,Ce[--Se]=Pe>>6&63|128,Ce[--Se]=Pe>>12|224)}Ce[--Se]=0;for(var Ie=new je,Ne=new Array;Se>2;){for(Ne[0]=0;0==Ne[0];)Ie.nextBytes(Ne);Ce[--Se]=Ne[0]}return Ce[--Se]=2,Ce[--Se]=0,new U(Ce)}(C,this.n.bitLength()+7>>3);if(null==E)return null;var B=this.doPublic(E);if(null==B)return null;var z=B.toString(16);return 1&z.length?"0"+z:z},_t.prototype.encryptOAEP=function(C,E,B){var z=function(Ce,Fe,Pe,Ie){var Ne=we.crypto.MessageDigest,Xe=we.crypto.Util,Je=null;if(Pe||(Pe="sha1"),"string"==typeof Pe&&(Je=Ne.getCanonicalAlgName(Pe),Ie=Ne.getHashLength(Je),Pe=function(Pt){return wt(Xe.hashHex(Lt(Pt),Je))}),Ce.length+2*Ie+2>Fe)throw"Message too long for RSA";var nt,d="";for(nt=0;nt<Fe-Ce.length-2*Ie-2;nt+=1)d+="\0";var ye=Pe("")+d+"\x01"+Ce,Ve=new Array(Ie);(new je).nextBytes(Ve);var Le=it(Ve,ye.length,Pe),Ue=[];for(nt=0;nt<ye.length;nt+=1)Ue[nt]=ye.charCodeAt(nt)^Le.charCodeAt(nt);var et=it(Ue,Ve.length,Pe),ut=[0];for(nt=0;nt<Ve.length;nt+=1)ut[nt+1]=Ve[nt]^et.charCodeAt(nt);return new U(ut.concat(Ue))}(C,this.n.bitLength()+7>>3,E,B);if(null==z)return null;var Z=this.doPublic(z);if(null==Z)return null;var de=Z.toString(16);return 1&de.length?"0"+de:de},_t.prototype.type="RSA",Bt.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Bt.prototype.toBigInteger=function(){return this.x},Bt.prototype.negate=function(){return new Bt(this.q,this.x.negate().mod(this.q))},Bt.prototype.add=function(C){return new Bt(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Bt.prototype.subtract=function(C){return new Bt(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Bt.prototype.multiply=function(C){return new Bt(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Bt.prototype.square=function(){return new Bt(this.q,this.x.square().mod(this.q))},Bt.prototype.divide=function(C){return new Bt(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},Vt.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Vt.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Vt.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO))},Vt.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(U.ZERO)&&!this.y.toBigInteger().equals(U.ZERO)},Vt.prototype.negate=function(){return new Vt(this.curve,this.x,this.y.negate(),this.z)},Vt.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var E=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),B=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(U.ZERO.equals(B))return U.ZERO.equals(E)?this.twice():this.curve.getInfinity();var z=new U("3"),Z=this.x.toBigInteger(),de=this.y.toBigInteger(),Se=(C.x.toBigInteger(),C.y.toBigInteger(),B.square()),Ce=Se.multiply(B),Fe=Z.multiply(Se),Pe=E.square().multiply(this.z),Ie=Pe.subtract(Fe.shiftLeft(1)).multiply(C.z).subtract(Ce).multiply(B).mod(this.curve.q),Ne=Fe.multiply(z).multiply(E).subtract(de.multiply(Ce)).subtract(Pe.multiply(E)).multiply(C.z).add(E.multiply(Ce)).mod(this.curve.q),Xe=Ce.multiply(this.z).multiply(C.z).mod(this.curve.q);return new Vt(this.curve,this.curve.fromBigInteger(Ie),this.curve.fromBigInteger(Ne),Xe)},Vt.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var C=new U("3"),E=this.x.toBigInteger(),B=this.y.toBigInteger(),z=B.multiply(this.z),Z=z.multiply(B).mod(this.curve.q),de=this.curve.a.toBigInteger(),Se=E.square().multiply(C);U.ZERO.equals(de)||(Se=Se.add(this.z.square().multiply(de)));var Ce=(Se=Se.mod(this.curve.q)).square().subtract(E.shiftLeft(3).multiply(Z)).shiftLeft(1).multiply(z).mod(this.curve.q),Fe=Se.multiply(C).multiply(E).subtract(Z.shiftLeft(1)).shiftLeft(2).multiply(Z).subtract(Se.square().multiply(Se)).mod(this.curve.q),Pe=z.square().multiply(z).shiftLeft(3).mod(this.curve.q);return new Vt(this.curve,this.curve.fromBigInteger(Ce),this.curve.fromBigInteger(Fe),Pe)},Vt.prototype.multiply=function(C){if(this.isInfinity())return this;if(0==C.signum())return this.curve.getInfinity();var E,B=C,z=B.multiply(new U("3")),Z=this.negate(),de=this,Se=this.curve.q.subtract(C),Ce=Se.multiply(new U("3")),Fe=new Vt(this.curve,this.x,this.y),Pe=Fe.negate();for(E=z.bitLength()-2;E>0;--E){de=de.twice();var Ie=z.testBit(E);Ie!=B.testBit(E)&&(de=de.add(Ie?this:Z))}for(E=Ce.bitLength()-2;E>0;--E){Fe=Fe.twice();var Ne=Ce.testBit(E);Ne!=Se.testBit(E)&&(Fe=Fe.add(Ne?Fe:Pe))}return de},Vt.prototype.multiplyTwo=function(C,E,B){var z;z=C.bitLength()>B.bitLength()?C.bitLength()-1:B.bitLength()-1;for(var Z=this.curve.getInfinity(),de=this.add(E);z>=0;)Z=Z.twice(),C.testBit(z)?Z=B.testBit(z)?Z.add(de):Z.add(this):B.testBit(z)&&(Z=Z.add(E)),--z;return Z},cn.prototype.getQ=function(){return this.q},cn.prototype.getA=function(){return this.a},cn.prototype.getB=function(){return this.b},cn.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},cn.prototype.getInfinity=function(){return this.infinity},cn.prototype.fromBigInteger=function(C){return new Bt(this.q,C)},cn.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var E=(C.length-2)/2,B=C.substr(2,E),z=C.substr(E+2,E);return new Vt(this,this.fromBigInteger(new U(B,16)),this.fromBigInteger(new U(z,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
Bt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Vt.prototype.getEncoded=function(S){var C=function(de,Se){var Ce=de.toByteArrayUnsigned();if(Se<Ce.length)Ce=Ce.slice(Ce.length-Se);else for(;Se>Ce.length;)Ce.unshift(0);return Ce},E=this.getX().toBigInteger(),B=this.getY().toBigInteger(),z=C(E,32);return S?B.isEven()?z.unshift(2):z.unshift(3):(z.unshift(4),z=z.concat(C(B,32))),z},Vt.decodeFrom=function(S,C){var E=C.length-1,B=C.slice(1,1+E/2),z=C.slice(1+E/2,1+E);B.unshift(0),z.unshift(0);var Z=new U(B),de=new U(z);return new Vt(S,S.fromBigInteger(Z),S.fromBigInteger(de))},Vt.decodeFromHex=function(S,C){C.substr(0,2);var E=C.length-2,B=C.substr(2,E/2),z=C.substr(2+E/2,E/2),Z=new U(B,16),de=new U(z,16);return new Vt(S,S.fromBigInteger(Z),S.fromBigInteger(de))},Vt.prototype.add2D=function(S){if(this.isInfinity())return S;if(S.isInfinity())return this;if(this.x.equals(S.x))return this.y.equals(S.y)?this.twice():this.curve.getInfinity();var C=S.x.subtract(this.x),E=S.y.subtract(this.y).divide(C),B=E.square().subtract(this.x).subtract(S.x),z=E.multiply(this.x.subtract(B)).subtract(this.y);return new Vt(this.curve,B,z)},Vt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var S=this.curve.fromBigInteger(U.valueOf(2)),C=this.curve.fromBigInteger(U.valueOf(3)),E=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(S)),B=E.square().subtract(this.x.multiply(S)),z=E.multiply(this.x.subtract(B)).subtract(this.y);return new Vt(this.curve,B,z)},Vt.prototype.multiply2D=function(S){if(this.isInfinity())return this;if(0==S.signum())return this.curve.getInfinity();var C,E=S,B=E.multiply(new U("3")),z=this.negate(),Z=this;for(C=B.bitLength()-2;C>0;--C){Z=Z.twice();var de=B.testBit(C);de!=E.testBit(C)&&(Z=Z.add2D(de?this:z))}return Z},Vt.prototype.isOnCurve=function(){var S=this.getX().toBigInteger(),C=this.getY().toBigInteger(),E=this.curve.getA().toBigInteger(),B=this.curve.getB().toBigInteger(),z=this.curve.getQ(),Z=C.multiply(C).mod(z),de=S.multiply(S).multiply(S).add(E.multiply(S)).add(B).mod(z);return Z.equals(de)},Vt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Vt.prototype.validate=function(){var S=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),E=this.getY().toBigInteger();if(C.compareTo(U.ONE)<0||C.compareTo(S.subtract(U.ONE))>0)throw new Error("x coordinate out of bounds");if(E.compareTo(U.ONE)<0||E.compareTo(S.subtract(U.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(S).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var fn=function(){var S=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),E={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function B(de,Se,Ce){return Se?E[Se]:String.fromCharCode(parseInt(Ce,16))}var z=new String(""),Z=Object.hasOwnProperty;return function(de,Se){var Ce,Fe,Pe=de.match(S),Ie=Pe[0],Ne=!1;"{"===Ie?Ce={}:"["===Ie?Ce=[]:(Ce=[],Ne=!0);for(var Xe=[Ce],Je=1-Ne,nt=Pe.length;Je<nt;++Je){var d;switch((Ie=Pe[Je]).charCodeAt(0)){default:(d=Xe[0])[Fe||d.length]=+Ie,Fe=void 0;break;case 34:if(-1!==(Ie=Ie.substring(1,Ie.length-1)).indexOf("\\")&&(Ie=Ie.replace(C,B)),d=Xe[0],!Fe){if(!(d instanceof Array)){Fe=Ie||z;break}Fe=d.length}d[Fe]=Ie,Fe=void 0;break;case 91:Xe.unshift((d=Xe[0])[Fe||d.length]=[]),Fe=void 0;break;case 93:case 125:Xe.shift();break;case 102:(d=Xe[0])[Fe||d.length]=!1,Fe=void 0;break;case 110:(d=Xe[0])[Fe||d.length]=null,Fe=void 0;break;case 116:(d=Xe[0])[Fe||d.length]=!0,Fe=void 0;break;case 123:Xe.unshift((d=Xe[0])[Fe||d.length]={}),Fe=void 0}}if(Ne){if(1!==Xe.length)throw new Error;Ce=Ce[0]}else if(Xe.length)throw new Error;return Se&&(Ce=function ye(Ve,Le){var Ue=Ve[Le];if(Ue&&"object"===(void 0===Ue?"undefined":g(Ue))){var et=null;for(var ut in Ue)if(Z.call(Ue,ut)&&Ue!==Ve){var Gt=ye(Ue,ut);void 0!==Gt?Ue[ut]=Gt:(et||(et=[]),et.push(ut))}if(et)for(var Pt=et.length;--Pt>=0;)delete Ue[et[Pt]]}return Se.call(Ve,Le,Ue)}({"":Ce},"")),Ce}}();void 0!==we&&we||(b.KJUR=we={}),void 0!==we.asn1&&we.asn1||(we.asn1={}),we.asn1.ASN1Util=new function(){this.integerToByteHex=function(S){var C=S.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(S){var C=S.toString(16);if("-"!=C.substr(0,1))C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var E=C.substr(1).length;E%2==1?E+=1:C.match(/^[0-7]/)||(E+=2);for(var B="",z=0;z<E;z++)B+="f";C=new U(B,16).xor(S).add(U.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(S,C){return tn(S,C)},this.newObject=function(S){var C=we.asn1,E=C.ASN1Object,B=C.DERBoolean,z=C.DERInteger,Z=C.DERBitString,de=C.DEROctetString,Se=C.DERNull,Ce=C.DERObjectIdentifier,Fe=C.DEREnumerated,Pe=C.DERUTF8String,Ie=C.DERNumericString,Ne=C.DERPrintableString,Xe=C.DERTeletexString,Je=C.DERIA5String,nt=C.DERUTCTime,d=C.DERGeneralizedTime,ye=C.DERVisibleString,Ve=C.DERBMPString,Le=C.DERSequence,Ue=C.DERSet,et=C.DERTaggedObject,ut=C.ASN1Util.newObject;if(S instanceof C.ASN1Object)return S;var Gt=Object.keys(S);if(1!=Gt.length)throw new Error("key of param shall be only one.");var Pt=Gt[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Pt+":"))throw new Error("undefined key: "+Pt);if("bool"==Pt)return new B(S[Pt]);if("int"==Pt)return new z(S[Pt]);if("bitstr"==Pt)return new Z(S[Pt]);if("octstr"==Pt)return new de(S[Pt]);if("null"==Pt)return new Se(S[Pt]);if("oid"==Pt)return new Ce(S[Pt]);if("enum"==Pt)return new Fe(S[Pt]);if("utf8str"==Pt)return new Pe(S[Pt]);if("numstr"==Pt)return new Ie(S[Pt]);if("prnstr"==Pt)return new Ne(S[Pt]);if("telstr"==Pt)return new Xe(S[Pt]);if("ia5str"==Pt)return new Je(S[Pt]);if("utctime"==Pt)return new nt(S[Pt]);if("gentime"==Pt)return new d(S[Pt]);if("visstr"==Pt)return new ye(S[Pt]);if("bmpstr"==Pt)return new Ve(S[Pt]);if("asn1"==Pt)return new E(S[Pt]);if("seq"==Pt){for(var An=S[Pt],$t=[],Zt=0;Zt<An.length;Zt++){var ar=ut(An[Zt]);$t.push(ar)}return new Le({array:$t})}if("set"==Pt){for(An=S[Pt],$t=[],Zt=0;Zt<An.length;Zt++)ar=ut(An[Zt]),$t.push(ar);return new Ue({array:$t})}if("tag"==Pt){var lr=S[Pt];if("[object Array]"===Object.prototype.toString.call(lr)&&3==lr.length){var ir=ut(lr[2]);return new et({tag:lr[0],explicit:lr[1],obj:ir})}return new et(lr)}},this.jsonToASN1HEX=function(S){return this.newObject(S).getEncodedHex()}},we.asn1.ASN1Util.oidHexToInt=function(S){for(var C="",E=parseInt(S.substr(0,2),16),B=(C=Math.floor(E/40)+"."+E%40,""),z=2;z<S.length;z+=2){var Z=("00000000"+parseInt(S.substr(z,2),16).toString(2)).slice(-8);B+=Z.substr(1,7),"0"==Z.substr(0,1)&&(C=C+"."+new U(B,2).toString(10),B="")}return C},we.asn1.ASN1Util.oidIntToHex=function(S){var C=function(Ce){var Fe=Ce.toString(16);return 1==Fe.length&&(Fe="0"+Fe),Fe},E=function(Ce){var Fe="",Pe=new U(Ce,10).toString(2),Ie=7-Pe.length%7;7==Ie&&(Ie=0);for(var Ne="",Xe=0;Xe<Ie;Xe++)Ne+="0";for(Pe=Ne+Pe,Xe=0;Xe<Pe.length-1;Xe+=7){var Je=Pe.substr(Xe,7);Xe!=Pe.length-7&&(Je="1"+Je),Fe+=C(parseInt(Je,2))}return Fe};if(!S.match(/^[0-9.]+$/))throw"malformed oid string: "+S;var B="",z=S.split("."),Z=40*parseInt(z[0])+parseInt(z[1]);B+=C(Z),z.splice(0,2);for(var de=0;de<z.length;de++)B+=E(z[de]);return B},we.asn1.ASN1Object=function(S){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,E=C.toString(16);if(E.length%2==1&&(E="0"+E),C<128)return E;var B=E.length/2;if(B>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+B).toString(16)+E},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},null!=S&&null!=S.tlv&&(this.hTLV=S.tlv,this.isModified=!1)},we.asn1.DERAbstractString=function(S){we.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Tt(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==S&&("string"==typeof S?this.setString(S):void 0!==S.str?this.setString(S.str):void 0!==S.hex&&this.setStringHex(S.hex))},A.lang.extend(we.asn1.DERAbstractString,we.asn1.ASN1Object),we.asn1.DERAbstractTime=function(S){we.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var E=C.getTime()+6e4*C.getTimezoneOffset();return new Date(E)},this.formatDate=function(C,E,B){var z=this.zeroPadding,Z=this.localDateToUTC(C),de=String(Z.getFullYear());"utc"==E&&(de=de.substr(2,2));var Se=de+z(String(Z.getMonth()+1),2)+z(String(Z.getDate()),2)+z(String(Z.getHours()),2)+z(String(Z.getMinutes()),2)+z(String(Z.getSeconds()),2);if(!0===B){var Ce=Z.getMilliseconds();if(0!=Ce){var Fe=z(String(Ce),3);Se=Se+"."+(Fe=Fe.replace(/[0]+$/,""))}}return Se+"Z"},this.zeroPadding=function(C,E){return C.length>=E?C:new Array(E-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Dt(C)},this.setByDateValue=function(C,E,B,z,Z,de){var Se=new Date(Date.UTC(C,E-1,B,z,Z,de,0));this.setByDate(Se)},this.getFreshValueHex=function(){return this.hV}},A.lang.extend(we.asn1.DERAbstractTime,we.asn1.ASN1Object),we.asn1.DERAbstractStructured=function(S){we.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,void 0!==S&&void 0!==S.array&&(this.asn1Array=S.array)},A.lang.extend(we.asn1.DERAbstractStructured,we.asn1.ASN1Object),we.asn1.DERBoolean=function(S){we.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==S?"010100":"0101ff"},A.lang.extend(we.asn1.DERBoolean,we.asn1.ASN1Object),we.asn1.DERInteger=function(S){we.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=we.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var E=new U(String(C),10);this.setByBigInteger(E)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==S&&(void 0!==S.bigint?this.setByBigInteger(S.bigint):void 0!==S.int?this.setByInteger(S.int):"number"==typeof S?this.setByInteger(S):void 0!==S.hex&&this.setValueHex(S.hex))},A.lang.extend(we.asn1.DERInteger,we.asn1.ASN1Object),we.asn1.DERBitString=function(S){if(void 0!==S&&void 0!==S.obj){var C=we.asn1.ASN1Util.newObject(S.obj);S.hex="00"+C.getEncodedHex()}we.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(E){this.hTLV=null,this.isModified=!0,this.hV=E},this.setUnusedBitsAndHexValue=function(E,B){if(E<0||7<E)throw"unused bits shall be from 0 to 7: u = "+E;var z="0"+E;this.hTLV=null,this.isModified=!0,this.hV=z+B},this.setByBinaryString=function(E){var B=8-(E=E.replace(/0+$/,"")).length%8;8==B&&(B=0);for(var z=0;z<=B;z++)E+="0";var Z="";for(z=0;z<E.length-1;z+=8){var de=E.substr(z,8),Se=parseInt(de,2).toString(16);1==Se.length&&(Se="0"+Se),Z+=Se}this.hTLV=null,this.isModified=!0,this.hV="0"+B+Z},this.setByBooleanArray=function(E){for(var B="",z=0;z<E.length;z++)B+=1==E[z]?"1":"0";this.setByBinaryString(B)},this.newFalseArray=function(E){for(var B=new Array(E),z=0;z<E;z++)B[z]=!1;return B},this.getFreshValueHex=function(){return this.hV},void 0!==S&&("string"==typeof S&&S.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(S):void 0!==S.hex?this.setHexValueIncludingUnusedBits(S.hex):void 0!==S.bin?this.setByBinaryString(S.bin):void 0!==S.array&&this.setByBooleanArray(S.array))},A.lang.extend(we.asn1.DERBitString,we.asn1.ASN1Object),we.asn1.DEROctetString=function(S){if(void 0!==S&&void 0!==S.obj){var C=we.asn1.ASN1Util.newObject(S.obj);S.hex=C.getEncodedHex()}we.asn1.DEROctetString.superclass.constructor.call(this,S),this.hT="04"},A.lang.extend(we.asn1.DEROctetString,we.asn1.DERAbstractString),we.asn1.DERNull=function(){we.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},A.lang.extend(we.asn1.DERNull,we.asn1.ASN1Object),we.asn1.DERObjectIdentifier=function(S){we.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var E=function(z){var Z=function(Ne){var Xe=Ne.toString(16);return 1==Xe.length&&(Xe="0"+Xe),Xe},de=function(Ne){var Xe="",Je=parseInt(Ne,10).toString(2),nt=7-Je.length%7;7==nt&&(nt=0);for(var d="",ye=0;ye<nt;ye++)d+="0";for(Je=d+Je,ye=0;ye<Je.length-1;ye+=7){var Ve=Je.substr(ye,7);ye!=Je.length-7&&(Ve="1"+Ve),Xe+=Z(parseInt(Ve,2))}return Xe};try{if(!z.match(/^[0-9.]+$/))return null;var Se="",Ce=z.split("."),Fe=40*parseInt(Ce[0],10)+parseInt(Ce[1],10);Se+=Z(Fe),Ce.splice(0,2);for(var Pe=0;Pe<Ce.length;Pe++)Se+=de(Ce[Pe]);return Se}catch{return null}}(C);if(null==E)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=E},this.setValueName=function(C){var E=we.asn1.x509.OID.name2oid(C);if(""===E)throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(E)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){"string"==typeof C?this.setValueNameOrOid(C):void 0!==C.oid?this.setValueNameOrOid(C.oid):void 0!==C.name?this.setValueNameOrOid(C.name):void 0!==C.hex&&this.setValueHex(C.hex)},void 0!==S&&this.setByParam(S)},A.lang.extend(we.asn1.DERObjectIdentifier,we.asn1.ASN1Object),we.asn1.DEREnumerated=function(S){we.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=we.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var E=new U(String(C),10);this.setByBigInteger(E)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==S&&(void 0!==S.int?this.setByInteger(S.int):"number"==typeof S?this.setByInteger(S):void 0!==S.hex&&this.setValueHex(S.hex))},A.lang.extend(we.asn1.DEREnumerated,we.asn1.ASN1Object),we.asn1.DERUTF8String=function(S){we.asn1.DERUTF8String.superclass.constructor.call(this,S),this.hT="0c"},A.lang.extend(we.asn1.DERUTF8String,we.asn1.DERAbstractString),we.asn1.DERNumericString=function(S){we.asn1.DERNumericString.superclass.constructor.call(this,S),this.hT="12"},A.lang.extend(we.asn1.DERNumericString,we.asn1.DERAbstractString),we.asn1.DERPrintableString=function(S){we.asn1.DERPrintableString.superclass.constructor.call(this,S),this.hT="13"},A.lang.extend(we.asn1.DERPrintableString,we.asn1.DERAbstractString),we.asn1.DERTeletexString=function(S){we.asn1.DERTeletexString.superclass.constructor.call(this,S),this.hT="14"},A.lang.extend(we.asn1.DERTeletexString,we.asn1.DERAbstractString),we.asn1.DERIA5String=function(S){we.asn1.DERIA5String.superclass.constructor.call(this,S),this.hT="16"},A.lang.extend(we.asn1.DERIA5String,we.asn1.DERAbstractString),we.asn1.DERVisibleString=function(S){we.asn1.DERIA5String.superclass.constructor.call(this,S),this.hT="1a"},A.lang.extend(we.asn1.DERVisibleString,we.asn1.DERAbstractString),we.asn1.DERBMPString=function(S){we.asn1.DERBMPString.superclass.constructor.call(this,S),this.hT="1e"},A.lang.extend(we.asn1.DERBMPString,we.asn1.DERAbstractString),we.asn1.DERUTCTime=function(S){we.asn1.DERUTCTime.superclass.constructor.call(this,S),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Dt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Dt(this.s)),this.hV},void 0!==S&&(void 0!==S.str?this.setString(S.str):"string"==typeof S&&S.match(/^[0-9]{12}Z$/)?this.setString(S):void 0!==S.hex?this.setStringHex(S.hex):void 0!==S.date&&this.setByDate(S.date))},A.lang.extend(we.asn1.DERUTCTime,we.asn1.DERAbstractTime),we.asn1.DERGeneralizedTime=function(S){we.asn1.DERGeneralizedTime.superclass.constructor.call(this,S),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Dt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Dt(this.s)),this.hV},void 0!==S&&(void 0!==S.str?this.setString(S.str):"string"==typeof S&&S.match(/^[0-9]{14}Z$/)?this.setString(S):void 0!==S.hex?this.setStringHex(S.hex):void 0!==S.date&&this.setByDate(S.date),!0===S.millis&&(this.withMillis=!0))},A.lang.extend(we.asn1.DERGeneralizedTime,we.asn1.DERAbstractTime),we.asn1.DERSequence=function(S){we.asn1.DERSequence.superclass.constructor.call(this,S),this.hT="30",this.getFreshValueHex=function(){for(var C="",E=0;E<this.asn1Array.length;E++)C+=this.asn1Array[E].getEncodedHex();return this.hV=C,this.hV}},A.lang.extend(we.asn1.DERSequence,we.asn1.DERAbstractStructured),we.asn1.DERSet=function(S){we.asn1.DERSet.superclass.constructor.call(this,S),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,E=0;E<this.asn1Array.length;E++)C.push(this.asn1Array[E].getEncodedHex());return 1==this.sortFlag&&C.sort(),this.hV=C.join(""),this.hV},void 0!==S&&void 0!==S.sortflag&&0==S.sortflag&&(this.sortFlag=!1)},A.lang.extend(we.asn1.DERSet,we.asn1.DERAbstractStructured),we.asn1.DERTaggedObject=function(S){we.asn1.DERTaggedObject.superclass.constructor.call(this);var C=we.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(E,B,z){this.hT=B,this.isExplicit=E,this.asn1Object=z,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=z.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,B),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(E){null!=E.tag&&(this.hT=E.tag),null!=E.explicit&&(this.isExplicit=E.explicit),null!=E.tage&&(this.hT=E.tage,this.isExplicit=!0),null!=E.tagi&&(this.hT=E.tagi,this.isExplicit=!1),null!=E.obj&&(E.obj instanceof C.ASN1Object?(this.asn1Object=E.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==g(E.obj)&&(this.asn1Object=C.ASN1Util.newObject(E.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=S&&this.setByParam(S)},A.lang.extend(we.asn1.DERTaggedObject,we.asn1.ASN1Object);var we,Rn,Dn,ft=new function(){};function Nt(S){for(var C=new Array,E=0;E<S.length;E++)C[E]=S.charCodeAt(E);return C}function Ct(S){for(var C="",E=0;E<S.length;E++)C+=String.fromCharCode(S[E]);return C}function kt(S){for(var C="",E=0;E<S.length;E++){var B=S[E].toString(16);1==B.length&&(B="0"+B),C+=B}return C}function Dt(S){return kt(Nt(S))}function mt(S){return(S=(S=S.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ge(S){return S.length%4==2?S+="==":S.length%4==3&&(S+="="),(S=S.replace(/-/g,"+")).replace(/_/g,"/")}function ze(S){return S.length%2==1&&(S="0"+S),mt(ee(S))}function Et(S){return W(Ge(S))}function Tt(S){return Zn(jn(S))}function Ft(S){return decodeURIComponent(Tn(S))}function wt(S){for(var C="",E=0;E<S.length-1;E+=2)C+=String.fromCharCode(parseInt(S.substr(E,2),16));return C}function Lt(S){for(var C="",E=0;E<S.length;E++)C+=("0"+S.charCodeAt(E).toString(16)).slice(-2);return C}function sn(S){return ee(S)}function jt(S){return sn(S).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Un(S){return W(S.replace(/[^0-9A-Za-z\/+=]*/g,""))}function tn(S,C){return"-----BEGIN "+C+"-----\r\n"+jt(S)+"\r\n-----END "+C+"-----\r\n"}function pn(S,C){if(-1==S.indexOf("-----BEGIN "))throw"can't find PEM header: "+C;return Un(S=void 0!==C?(S=S.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(S=S.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function kn(S){var C,E,B,z,Z,de,Se,Ce,Fe,Pe,Ie;if(Ie=S.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Ce=Ie[1],C=parseInt(Ce),2===Ce.length&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),E=parseInt(Ie[2])-1,B=parseInt(Ie[3]),z=parseInt(Ie[4]),Z=parseInt(Ie[5]),de=parseInt(Ie[6]),Se=0,""!==(Fe=Ie[7])&&(Pe=(Fe.substr(1)+"00").substr(0,3),Se=parseInt(Pe)),Date.UTC(C,E,B,z,Z,de,Se);throw"unsupported zulu format: "+S}function yr(S){return~~(kn(S)/1e3)}function Zn(S){return S.replace(/%/g,"")}function Tn(S){return S.replace(/(..)/g,"%$1")}function kr(S){var C="malformed IPv6 address";if(!S.match(/^[0-9A-Fa-f:]+$/))throw C;var E=(S=S.toLowerCase()).split(":").length-1;if(E<2)throw C;var B=":".repeat(7-E+2),z=(S=S.replace("::",B)).split(":");if(8!=z.length)throw C;for(var Z=0;Z<8;Z++)z[Z]=("0000"+z[Z]).slice(-4);return z.join("")}function Nr(S){if(!S.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(S=S.toLowerCase()).match(/.{1,4}/g),E=0;E<8;E++)C[E]=C[E].replace(/^0+/,""),""==C[E]&&(C[E]="0");var B=(S=":"+C.join(":")+":").match(/:(0:){2,}/g);if(null===B)return S.slice(1,-1);var z="";for(E=0;E<B.length;E++)B[E].length>z.length&&(z=B[E]);return(S=S.replace(z,"::")).slice(1,-1)}function Gn(S){var C="malformed hex value";if(!S.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(8!=S.length)return 32==S.length?Nr(S):S;try{return parseInt(S.substr(0,2),16)+"."+parseInt(S.substr(2,2),16)+"."+parseInt(S.substr(4,2),16)+"."+parseInt(S.substr(6,2),16)}catch{throw C}}function jn(S){for(var C=encodeURIComponent(S),E="",B=0;B<C.length;B++)"%"==C[B]?(E+=C.substr(B,3),B+=2):E=E+"%"+Dt(C[B]);return E}function dn(S){return!(S.length%2!=0||!S.match(/^[0-9a-f]+$/)&&!S.match(/^[0-9A-F]+$/))}function Gr(S){return S.length%2==1?"0"+S:S.substr(0,1)>"7"?"00"+S:S}ft.getLblen=function(S,C){if("8"!=S.substr(C+2,1))return 1;var E=parseInt(S.substr(C+3,1));return 0==E?-1:0<E&&E<10?E+1:-2},ft.getL=function(S,C){var E=ft.getLblen(S,C);return E<1?"":S.substr(C+2,2*E)},ft.getVblen=function(S,C){var E;return""==(E=ft.getL(S,C))?-1:("8"===E.substr(0,1)?new U(E.substr(2),16):new U(E,16)).intValue()},ft.getVidx=function(S,C){var E=ft.getLblen(S,C);return E<0?E:C+2*(E+1)},ft.getV=function(S,C){var E=ft.getVidx(S,C),B=ft.getVblen(S,C);return S.substr(E,2*B)},ft.getTLV=function(S,C){return S.substr(C,2)+ft.getL(S,C)+ft.getV(S,C)},ft.getTLVblen=function(S,C){return 2+2*ft.getLblen(S,C)+2*ft.getVblen(S,C)},ft.getNextSiblingIdx=function(S,C){return ft.getVidx(S,C)+2*ft.getVblen(S,C)},ft.getChildIdx=function(S,C){var E,B,z,Z=ft,de=[];E=Z.getVidx(S,C),B=2*Z.getVblen(S,C),"03"==S.substr(C,2)&&(E+=2,B-=2),z=0;for(var Se=E;z<=B;){var Ce=Z.getTLVblen(S,Se);if((z+=Ce)<=B&&de.push(Se),Se+=Ce,z>=B)break}return de},ft.getNthChildIdx=function(S,C,E){return ft.getChildIdx(S,C)[E]},ft.getIdxbyList=function(S,C,E,B){var z,Z,de=ft;return 0==E.length?void 0!==B&&S.substr(C,2)!==B?-1:C:(z=E.shift())>=(Z=de.getChildIdx(S,C)).length?-1:de.getIdxbyList(S,Z[z],E,B)},ft.getIdxbyListEx=function(S,C,E,B){var z,Z,de=ft;if(0==E.length)return void 0!==B&&S.substr(C,2)!==B?-1:C;z=E.shift(),Z=de.getChildIdx(S,C);for(var Se=0,Ce=0;Ce<Z.length;Ce++){var Fe=S.substr(Z[Ce],2);if("number"==typeof z&&!de.isContextTag(Fe)&&Se==z||"string"==typeof z&&de.isContextTag(Fe,z))return de.getIdxbyListEx(S,Z[Ce],E,B);de.isContextTag(Fe)||Se++}return-1},ft.getTLVbyList=function(S,C,E,B){var z=ft,Z=z.getIdxbyList(S,C,E,B);return-1==Z||Z>=S.length?null:z.getTLV(S,Z)},ft.getTLVbyListEx=function(S,C,E,B){var z=ft,Z=z.getIdxbyListEx(S,C,E,B);return-1==Z?null:z.getTLV(S,Z)},ft.getVbyList=function(S,C,E,B,z){var Z,de,Se=ft;return-1==(Z=Se.getIdxbyList(S,C,E,B))||Z>=S.length?null:(de=Se.getV(S,Z),!0===z&&(de=de.substr(2)),de)},ft.getVbyListEx=function(S,C,E,B,z){var Z,de,Se=ft;return-1==(Z=Se.getIdxbyListEx(S,C,E,B))?null:(de=Se.getV(S,Z),"03"==S.substr(Z,2)&&!1!==z&&(de=de.substr(2)),de)},ft.getInt=function(S,C,E){null==E&&(E=-1);try{var B=S.substr(C,2);if("02"!=B&&"03"!=B)return E;var z=ft.getV(S,C);return"02"==B?parseInt(z,16):function(de){try{var Se=de.substr(0,2);if("00"==Se)return parseInt(de.substr(2),16);var Ce=parseInt(Se,16),Fe=de.substr(2),Pe=parseInt(Fe,16).toString(2);return"0"==Pe&&(Pe="00000000"),Pe=Pe.slice(0,0-Ce),parseInt(Pe,2)}catch{return-1}}(z)}catch{return E}},ft.getOID=function(S,C,E){null==E&&(E=null);try{return"06"!=S.substr(C,2)?E:function(z){if(!dn(z))return null;try{var Z=[],de=z.substr(0,2),Se=parseInt(de,16);Z[0]=new String(Math.floor(Se/40)),Z[1]=new String(Se%40);for(var Ce=z.substr(2),Fe=[],Pe=0;Pe<Ce.length/2;Pe++)Fe.push(parseInt(Ce.substr(2*Pe,2),16));var Ie=[],Ne="";for(Pe=0;Pe<Fe.length;Pe++)128&Fe[Pe]?Ne+=Fa((127&Fe[Pe]).toString(2),7):(Ne+=Fa((127&Fe[Pe]).toString(2),7),Ie.push(new String(parseInt(Ne,2))),Ne="");var Xe=Z.join(".");return Ie.length>0&&(Xe=Xe+"."+Ie.join(".")),Xe}catch{return null}}(ft.getV(S,C))}catch{return E}},ft.getOIDName=function(S,C,E){null==E&&(E=null);try{var B=ft.getOID(S,C,E);if(B==E)return E;var z=we.asn1.x509.OID.oid2name(B);return""==z?B:z}catch{return E}},ft.getString=function(S,C,E){null==E&&(E=null);try{return wt(ft.getV(S,C))}catch{return E}},ft.hextooidstr=function(S){var C=function(Ne,Xe){return Ne.length>=Xe?Ne:new Array(Xe-Ne.length+1).join("0")+Ne},E=[],B=S.substr(0,2),z=parseInt(B,16);E[0]=new String(Math.floor(z/40)),E[1]=new String(z%40);for(var Z=S.substr(2),de=[],Se=0;Se<Z.length/2;Se++)de.push(parseInt(Z.substr(2*Se,2),16));var Ce=[],Fe="";for(Se=0;Se<de.length;Se++)128&de[Se]?Fe+=C((127&de[Se]).toString(2),7):(Fe+=C((127&de[Se]).toString(2),7),Ce.push(new String(parseInt(Fe,2))),Fe="");var Pe=E.join(".");return Ce.length>0&&(Pe=Pe+"."+Ce.join(".")),Pe},ft.dump=function(S,C,E,B){var z=ft,Z=z.getV,de=z.dump,Se=z.getChildIdx,Ce=S;S instanceof we.asn1.ASN1Object&&(Ce=S.getEncodedHex());var Fe=function(Pt,An){return Pt.length<=2*An?Pt:Pt.substr(0,An)+"..(total "+Pt.length/2+"bytes).."+Pt.substr(Pt.length-An,An)};void 0===C&&(C={ommit_long_octet:32}),void 0===E&&(E=0),void 0===B&&(B="");var Pe,Ie=C.ommit_long_octet;if("01"==(Pe=Ce.substr(E,2)))return"00"==(Ne=Z(Ce,E))?B+"BOOLEAN FALSE\n":B+"BOOLEAN TRUE\n";if("02"==Pe)return B+"INTEGER "+Fe(Ne=Z(Ce,E),Ie)+"\n";if("03"==Pe){var Ne=Z(Ce,E);return z.isASN1HEX(Ne.substr(2))?(Xe=B+"BITSTRING, encapsulates\n")+de(Ne.substr(2),C,0,B+"  "):B+"BITSTRING "+Fe(Ne,Ie)+"\n"}if("04"==Pe)return Ne=Z(Ce,E),z.isASN1HEX(Ne)?(Xe=B+"OCTETSTRING, encapsulates\n",Xe+=de(Ne,C,0,B+"  ")):B+"OCTETSTRING "+Fe(Ne,Ie)+"\n";if("05"==Pe)return B+"NULL\n";if("06"==Pe){var Je=Z(Ce,E),nt=we.asn1.ASN1Util.oidHexToInt(Je),d=we.asn1.x509.OID.oid2name(nt),ye=nt.replace(/\./g," ");return""!=d?B+"ObjectIdentifier "+d+" ("+ye+")\n":B+"ObjectIdentifier ("+ye+")\n"}if("0a"==Pe)return B+"ENUMERATED "+parseInt(Z(Ce,E))+"\n";if("0c"==Pe)return B+"UTF8String '"+Ft(Z(Ce,E))+"'\n";if("13"==Pe)return B+"PrintableString '"+Ft(Z(Ce,E))+"'\n";if("14"==Pe)return B+"TeletexString '"+Ft(Z(Ce,E))+"'\n";if("16"==Pe)return B+"IA5String '"+Ft(Z(Ce,E))+"'\n";if("17"==Pe)return B+"UTCTime "+Ft(Z(Ce,E))+"\n";if("18"==Pe)return B+"GeneralizedTime "+Ft(Z(Ce,E))+"\n";if("1a"==Pe)return B+"VisualString '"+Ft(Z(Ce,E))+"'\n";if("1e"==Pe)return B+"BMPString '"+Ft(Z(Ce,E))+"'\n";if("30"==Pe){if("3000"==Ce.substr(E,4))return B+"SEQUENCE {}\n";Xe=B+"SEQUENCE\n";var Ve=C;if((2==(et=Se(Ce,E)).length||3==et.length)&&"06"==Ce.substr(et[0],2)&&"04"==Ce.substr(et[et.length-1],2)){d=z.oidname(Z(Ce,et[0]));var Le=JSON.parse(JSON.stringify(C));Le.x509ExtName=d,Ve=Le}for(var Ue=0;Ue<et.length;Ue++)Xe+=de(Ce,Ve,et[Ue],B+"  ");return Xe}if("31"==Pe){Xe=B+"SET\n";var et=Se(Ce,E);for(Ue=0;Ue<et.length;Ue++)Xe+=de(Ce,C,et[Ue],B+"  ");return Xe}if(128&(Pe=parseInt(Pe,16))){var Xe,ut=31&Pe;if(32&Pe){for(Xe=B+"["+ut+"]\n",et=Se(Ce,E),Ue=0;Ue<et.length;Ue++)Xe+=de(Ce,C,et[Ue],B+"  ");return Xe}return Ne=Z(Ce,E),ft.isASN1HEX(Ne)?(Xe=B+"["+ut+"]\n")+de(Ne,C,0,B+"  "):(("68747470"==Ne.substr(0,8)||"subjectAltName"===C.x509ExtName&&2==ut)&&(Ne=Ft(Ne)),B+"["+ut+"] "+Ne+"\n")}return B+"UNKNOWN("+Pe+") "+Z(Ce,E)+"\n"},ft.isContextTag=function(S,C){var E,B;S=S.toLowerCase();try{E=parseInt(S,16)}catch{return-1}if(void 0===C)return 128==(192&E);try{return null!=C.match(/^\[[0-9]+\]$/)&&!((B=parseInt(C.substr(1,C.length-1),10))>31)&&128==(192&E)&&(31&E)==B}catch{return!1}},ft.isASN1HEX=function(S){var C=ft;if(S.length%2==1)return!1;var E=C.getVblen(S,0),B=S.substr(0,2),z=C.getL(S,0);return S.length-B.length-z.length==2*E},ft.checkStrictDER=function(S,C,E,B,z){var Z=ft;if(void 0===E){if("string"!=typeof S)throw new Error("not hex string");if(S=S.toLowerCase(),!we.lang.String.isHex(S))throw new Error("not hex string");E=S.length,z=(B=S.length/2)<128?1:Math.ceil(B.toString(16))+1}if(Z.getL(S,C).length>2*z)throw new Error("L of TLV too long: idx="+C);var de=Z.getVblen(S,C);if(de>B)throw new Error("value of L too long than hex: idx="+C);var Se=Z.getTLV(S,C),Ce=Se.length-2-Z.getL(S,C).length;if(Ce!==2*de)throw new Error("V string length and L's value not the same:"+Ce+"/"+2*de);if(0===C&&S.length!=Se.length)throw new Error("total length and TLV length unmatch:"+S.length+"!="+Se.length);var Fe=S.substr(C,2);if("02"===Fe){var Pe=Z.getVidx(S,C);if("00"==S.substr(Pe,2)&&S.charCodeAt(Pe+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Fe,16)){for(var Ie=Z.getVblen(S,C),Ne=0,Xe=Z.getChildIdx(S,C),Je=0;Je<Xe.length;Je++)Ne+=Z.getTLV(S,Xe[Je]).length,Z.checkStrictDER(S,Xe[Je],E,B,z);if(2*Ie!=Ne)throw new Error("sum of children's TLV length and L unmatch: "+2*Ie+"!="+Ne)}},ft.oidname=function(S){var C=we.asn1;we.lang.String.isHex(S)&&(S=C.ASN1Util.oidHexToInt(S));var E=C.x509.OID.oid2name(S);return""===E&&(E=S),E},void 0!==we&&we||(b.KJUR=we={}),void 0!==we.lang&&we.lang||(we.lang={}),we.lang.String=function(){},"function"==typeof G?(b.utf8tob64u=Rn=function(C){return mt(G.from(C,"utf8").toString("base64"))},b.b64utoutf8=Dn=function(C){return G.from(Ge(C),"base64").toString("utf8")}):(b.utf8tob64u=Rn=function(C){return ze(Zn(jn(C)))},b.b64utoutf8=Dn=function(C){return decodeURIComponent(Tn(Et(C)))}),we.lang.String.isInteger=function(S){return!!S.match(/^[0-9]+$/)||!!S.match(/^-[0-9]+$/)},we.lang.String.isHex=function(S){return dn(S)},we.lang.String.isBase64=function(S){return!(!(S=S.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||S.length%4!=0)},we.lang.String.isBase64URL=function(S){return!S.match(/[+/=]/)&&(S=Ge(S),we.lang.String.isBase64(S))},we.lang.String.isIntegerArray=function(S){return!!(S=S.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},we.lang.String.isPrintable=function(S){return null!==S.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},we.lang.String.isIA5=function(S){return null!==S.match(/^[\x20-\x21\x23-\x7f]*$/)},we.lang.String.isMail=function(S){return null!==S.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Fa=function(C,E,B){return null==B&&(B="0"),C.length>=E?C:new Array(E-C.length+1).join(B)+C};void 0!==we&&we||(b.KJUR=we={}),void 0!==we.crypto&&we.crypto||(we.crypto={}),we.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:I.algo.MD5,sha1:I.algo.SHA1,sha224:I.algo.SHA224,sha256:I.algo.SHA256,sha384:I.algo.SHA384,sha512:I.algo.SHA512,ripemd160:I.algo.RIPEMD160},this.getDigestInfoHex=function(S,C){if(void 0===this.DIGESTINFOHEAD[C])throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+S},this.getPaddedDigestInfoHex=function(S,C,E){var B=this.getDigestInfoHex(S,C),z=E/4;if(B.length+22>z)throw"key is too short for SigAlg: keylen="+E+","+C;for(var Z="0001",de="00"+B,Se="",Ce=z-4-de.length,Fe=0;Fe<Ce;Fe+=2)Se+="ff";return Z+Se+de},this.hashString=function(S,C){return new we.crypto.MessageDigest({alg:C}).digestString(S)},this.hashHex=function(S,C){return new we.crypto.MessageDigest({alg:C}).digestHex(S)},this.sha1=function(S){return this.hashString(S,"sha1")},this.sha256=function(S){return this.hashString(S,"sha256")},this.sha256Hex=function(S){return this.hashHex(S,"sha256")},this.sha512=function(S){return this.hashString(S,"sha512")},this.sha512Hex=function(S){return this.hashHex(S,"sha512")},this.isKey=function(S){return S instanceof _t||S instanceof we.crypto.DSA||S instanceof we.crypto.ECDSA}},we.crypto.Util.md5=function(S){return new we.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(S)},we.crypto.Util.ripemd160=function(S){return new we.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(S)},we.crypto.Util.SECURERANDOMGEN=new je,we.crypto.Util.getRandomHexOfNbytes=function(S){var C=new Array(S);return we.crypto.Util.SECURERANDOMGEN.nextBytes(C),kt(C)},we.crypto.Util.getRandomBigIntegerOfNbytes=function(S){return new U(we.crypto.Util.getRandomHexOfNbytes(S),16)},we.crypto.Util.getRandomHexOfNbits=function(S){var C=S%8,E=new Array((S-C)/8+1);return we.crypto.Util.SECURERANDOMGEN.nextBytes(E),E[0]=(255<<C&255^255)&E[0],kt(E)},we.crypto.Util.getRandomBigIntegerOfNbits=function(S){return new U(we.crypto.Util.getRandomHexOfNbits(S),16)},we.crypto.Util.getRandomBigIntegerZeroToMax=function(S){for(var C=S.bitLength();;){var E=we.crypto.Util.getRandomBigIntegerOfNbits(C);if(-1!=S.compareTo(E))return E}},we.crypto.Util.getRandomBigIntegerMinToMax=function(S,C){var E=S.compareTo(C);if(1==E)throw"biMin is greater than biMax";if(0==E)return S;var B=C.subtract(S);return we.crypto.Util.getRandomBigIntegerZeroToMax(B).add(S)},we.crypto.MessageDigest=function(S){this.setAlgAndProvider=function(C,E){if(null!==(C=we.crypto.MessageDigest.getCanonicalAlgName(C))&&void 0===E&&(E=we.crypto.Util.DEFAULTPROVIDER[C]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)&&"cryptojs"==E){try{this.md=we.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(B){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+B}this.updateString=function(B){this.md.update(B)},this.updateHex=function(B){var z=I.enc.Hex.parse(B);this.md.update(z)},this.digest=function(){return this.md.finalize().toString(I.enc.Hex)},this.digestString=function(B){return this.updateString(B),this.digest()},this.digestHex=function(B){return this.updateHex(B),this.digest()}}if(-1!=":sha256:".indexOf(C)&&"sjcl"==E){try{this.md=new sjcl.hash.sha256}catch(B){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+B}this.updateString=function(B){this.md.update(B)},this.updateHex=function(B){var z=sjcl.codec.hex.toBits(B);this.md.update(z)},this.digest=function(){var B=this.md.finalize();return sjcl.codec.hex.fromBits(B)},this.digestString=function(B){return this.updateString(B),this.digest()},this.digestHex=function(B){return this.updateHex(B),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==S&&void 0!==S.alg&&(this.algName=S.alg,void 0===S.prov&&(this.provName=we.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},we.crypto.MessageDigest.getCanonicalAlgName=function(S){return"string"==typeof S&&(S=(S=S.toLowerCase()).replace(/-/,"")),S},we.crypto.MessageDigest.getHashLength=function(S){var C=we.crypto.MessageDigest,E=C.getCanonicalAlgName(S);if(void 0===C.HASHLENGTH[E])throw"not supported algorithm: "+S;return C.HASHLENGTH[E]},we.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},we.crypto.Mac=function(S){this.setAlgAndProvider=function(C,E){if(null==(C=C.toLowerCase())&&(C="hmacsha1"),"hmac"!=(C=C.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+C;void 0===E&&(E=we.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+E;var B=C.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(B)&&"cryptojs"==E){try{this.mac=I.algo.HMAC.create(we.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[B],this.pass)}catch(Z){throw"setAlgAndProvider hash alg set fail hashAlg="+B+"/"+Z}this.updateString=function(Z){this.mac.update(Z)},this.updateHex=function(Z){var de=I.enc.Hex.parse(Z);this.mac.update(de)},this.doFinal=function(){return this.mac.finalize().toString(I.enc.Hex)},this.doFinalString=function(Z){return this.updateString(Z),this.doFinal()},this.doFinalHex=function(Z){return this.updateHex(Z),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if("string"==typeof C){var E=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(E=Lt(C)),void(this.pass=I.enc.Hex.parse(E))}if("object"!=(void 0===C?"undefined":g(C)))throw"KJUR.crypto.Mac unsupported password type: "+C;if(E=null,void 0!==C.hex){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;E=C.hex}if(void 0!==C.utf8&&(E=Tt(C.utf8)),void 0!==C.rstr&&(E=Lt(C.rstr)),void 0!==C.b64&&(E=W(C.b64)),void 0!==C.b64u&&(E=Et(C.b64u)),null==E)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=I.enc.Hex.parse(E)},void 0!==S&&(void 0!==S.pass&&this.setPassword(S.pass),void 0!==S.alg&&(this.algName=S.alg,void 0===S.prov&&(this.provName=we.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},we.crypto.Signature=function(S){var C=null;if(this._setAlgNames=function(){var E=this.algName.match(/^(.+)with(.+)$/);E&&(this.mdAlgName=E[1].toLowerCase(),this.pubkeyAlgName=E[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(E,B){for(var z="",Z=B/4-E.length,de=0;de<Z;de++)z+="0";return z+E},this.setAlgAndProvider=function(E,B){if(this._setAlgNames(),"cryptojs/jsrsa"!=B)throw new Error("provider not supported: "+B);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new we.crypto.MessageDigest({alg:this.mdAlgName})}catch(z){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+z)}this.init=function(z,Z){var de=null;try{de=void 0===Z?xn.getKey(z):xn.getKey(z,Z)}catch(Se){throw"init failed:"+Se}if(!0===de.isPrivate)this.prvKey=de,this.state="SIGN";else{if(!0!==de.isPublic)throw"init failed.:"+de;this.pubKey=de,this.state="VERIFY"}},this.updateString=function(z){this.md.updateString(z)},this.updateHex=function(z){this.md.updateHex(z)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==we.crypto.ECDSA&&(this.prvKey=new we.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof _t&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof _t&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof we.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof we.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(z){return this.updateString(z),this.sign()},this.signHex=function(z){return this.updateHex(z),this.sign()},this.verify=function(z){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==we.crypto.ECDSA&&(this.pubKey=new we.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof _t&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,z,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof _t&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,z);if(void 0!==we.crypto.ECDSA&&this.pubKey instanceof we.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,z);if(void 0!==we.crypto.DSA&&this.pubKey instanceof we.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,z);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(E,B){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(E){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(E){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(E){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(E){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(E){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=S,void 0!==S&&(void 0!==S.alg&&(this.algName=S.alg,this.provName=void 0===S.prov?we.crypto.Util.DEFAULTPROVIDER[this.algName]:S.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==S.psssaltlen&&(this.pssSaltLen=S.psssaltlen),void 0!==S.prvkeypem)){if(void 0!==S.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{C=xn.getKey(S.prvkeypem),this.init(C)}catch(E){throw"fatal error to load pem private key: "+E}}},we.crypto.Cipher=function(S){},we.crypto.Cipher.encrypt=function(S,C,E){if(C instanceof _t&&C.isPublic){var B=we.crypto.Cipher.getAlgByKeyAndName(C,E);if("RSA"===B)return C.encrypt(S);if("RSAOAEP"===B)return C.encryptOAEP(S,"sha1");var z=B.match(/^RSAOAEP(\d+)$/);if(null!==z)return C.encryptOAEP(S,"sha"+z[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+E}throw"Cipher.encrypt: unsupported key or algorithm"},we.crypto.Cipher.decrypt=function(S,C,E){if(C instanceof _t&&C.isPrivate){var B=we.crypto.Cipher.getAlgByKeyAndName(C,E);if("RSA"===B)return C.decrypt(S);if("RSAOAEP"===B)return C.decryptOAEP(S,"sha1");var z=B.match(/^RSAOAEP(\d+)$/);if(null!==z)return C.decryptOAEP(S,"sha"+z[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+E}throw"Cipher.decrypt: unsupported key or algorithm"},we.crypto.Cipher.getAlgByKeyAndName=function(S,C){if(S instanceof _t){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C))return C;if(null==C)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},we.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==we&&we||(b.KJUR=we={}),void 0!==we.crypto&&we.crypto||(we.crypto={}),we.crypto.ECDSA=function(S){var C=Error,E=U,B=Vt,z=we.crypto.ECDSA,Z=we.crypto.ECParameterDB,de=z.getName,Ce=ft.getVbyListEx,Fe=ft.isASN1HEX,Pe=new je;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ie){return new E(Ie.bitLength(),Pe).mod(Ie.subtract(E.ONE)).add(E.ONE)},this.setNamedCurve=function(Ie){this.ecparams=Z.getByName(Ie),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ie},this.setPrivateKeyHex=function(Ie){this.isPrivate=!0,this.prvKeyHex=Ie},this.setPublicKeyHex=function(Ie){this.isPublic=!0,this.pubKeyHex=Ie},this.getPublicKeyXYHex=function(){var Ie=this.pubKeyHex;if("04"!==Ie.substr(0,2))throw"this method supports uncompressed format(04) only";var Ne=this.ecparams.keylen/4;if(Ie.length!==2+2*Ne)throw"malformed public key hex length";var Xe={};return Xe.x=Ie.substr(2,Ne),Xe.y=Ie.substr(2+Ne),Xe},this.getShortNISTPCurveName=function(){var Ie=this.curveName;return"secp256r1"===Ie||"NIST P-256"===Ie||"P-256"===Ie||"prime256v1"===Ie?"P-256":"secp384r1"===Ie||"NIST P-384"===Ie||"P-384"===Ie?"P-384":null},this.generateKeyPairHex=function(){var Ne=this.getBigRandom(this.ecparams.n),Xe=this.ecparams.G.multiply(Ne),Je=Xe.getX().toBigInteger(),nt=Xe.getY().toBigInteger(),d=this.ecparams.keylen/4,ye=("0000000000"+Ne.toString(16)).slice(-d),Ve="04"+("0000000000"+Je.toString(16)).slice(-d)+("0000000000"+nt.toString(16)).slice(-d);return this.setPrivateKeyHex(ye),this.setPublicKeyHex(Ve),{ecprvhex:ye,ecpubhex:Ve}},this.signWithMessageHash=function(Ie){return this.signHex(Ie,this.prvKeyHex)},this.signHex=function(Ie,Ne){var Xe=new E(Ne,16),Je=this.ecparams.n,nt=new E(Ie.substring(0,this.ecparams.keylen/4),16);do{var d=this.getBigRandom(Je),ye=this.ecparams.G.multiply(d).getX().toBigInteger().mod(Je)}while(ye.compareTo(E.ZERO)<=0);var Ve=d.modInverse(Je).multiply(nt.add(Xe.multiply(ye))).mod(Je);return z.biRSSigToASN1Sig(ye,Ve)},this.sign=function(Ie,Ne){var Xe=Ne,Je=this.ecparams.n,nt=E.fromByteArrayUnsigned(Ie);do{var d=this.getBigRandom(Je),ye=this.ecparams.G.multiply(d).getX().toBigInteger().mod(Je)}while(ye.compareTo(U.ZERO)<=0);var Ve=d.modInverse(Je).multiply(nt.add(Xe.multiply(ye))).mod(Je);return this.serializeSig(ye,Ve)},this.verifyWithMessageHash=function(Ie,Ne){return this.verifyHex(Ie,Ne,this.pubKeyHex)},this.verifyHex=function(Ie,Ne,Xe){try{var Je,nt,d=z.parseSigHex(Ne);Je=d.r,nt=d.s;var ye=B.decodeFromHex(this.ecparams.curve,Xe),Ve=new E(Ie.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ve,Je,nt,ye)}catch{return!1}},this.verify=function(Ie,Ne,Xe){var Je,nt,d;if(Bitcoin.Util.isArray(Ne)){var ye=this.parseSig(Ne);Je=ye.r,nt=ye.s}else{if("object"!==(void 0===Ne?"undefined":g(Ne))||!Ne.r||!Ne.s)throw"Invalid value for signature";Je=Ne.r,nt=Ne.s}if(Xe instanceof Vt)d=Xe;else{if(!Bitcoin.Util.isArray(Xe))throw"Invalid format for pubkey value, must be byte array or ECPointFp";d=B.decodeFrom(this.ecparams.curve,Xe)}var Ve=E.fromByteArrayUnsigned(Ie);return this.verifyRaw(Ve,Je,nt,d)},this.verifyRaw=function(Ie,Ne,Xe,Je){var nt=this.ecparams.n,d=this.ecparams.G;if(Ne.compareTo(E.ONE)<0||Ne.compareTo(nt)>=0||Xe.compareTo(E.ONE)<0||Xe.compareTo(nt)>=0)return!1;var ye=Xe.modInverse(nt),Ve=Ie.multiply(ye).mod(nt),Le=Ne.multiply(ye).mod(nt);return d.multiply(Ve).add(Je.multiply(Le)).getX().toBigInteger().mod(nt).equals(Ne)},this.serializeSig=function(Ie,Ne){var Xe=Ie.toByteArraySigned(),Je=Ne.toByteArraySigned(),nt=[];return nt.push(2),nt.push(Xe.length),(nt=nt.concat(Xe)).push(2),nt.push(Je.length),(nt=nt.concat(Je)).unshift(nt.length),nt.unshift(48),nt},this.parseSig=function(Ie){var Ne;if(48!=Ie[0])throw new Error("Signature not a valid DERSequence");if(2!=Ie[Ne=2])throw new Error("First element in signature must be a DERInteger");var Xe=Ie.slice(Ne+2,Ne+2+Ie[Ne+1]);if(2!=Ie[Ne+=2+Ie[Ne+1]])throw new Error("Second element in signature must be a DERInteger");var Je=Ie.slice(Ne+2,Ne+2+Ie[Ne+1]);return Ne+=2+Ie[Ne+1],{r:E.fromByteArrayUnsigned(Xe),s:E.fromByteArrayUnsigned(Je)}},this.parseSigCompact=function(Ie){if(65!==Ie.length)throw"Signature has the wrong length";var Ne=Ie[0]-27;if(Ne<0||Ne>7)throw"Invalid signature type";var Xe=this.ecparams.n;return{r:E.fromByteArrayUnsigned(Ie.slice(1,33)).mod(Xe),s:E.fromByteArrayUnsigned(Ie.slice(33,65)).mod(Xe),i:Ne}},this.readPKCS5PrvKeyHex=function(Ie){if(!1===Fe(Ie))throw new Error("not ASN.1 hex string");var Ne,Xe,Je;try{Ne=Ce(Ie,0,["[0]",0],"06"),Xe=Ce(Ie,0,[1],"04");try{Je=Ce(Ie,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=de(Ne),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ie){if(!1===Fe(Ie))throw new C("not ASN.1 hex string");var Ne,Xe,Je;try{Ce(Ie,0,[1,0],"06"),Ne=Ce(Ie,0,[1,1],"06"),Xe=Ce(Ie,0,[2,0,1],"04");try{Je=Ce(Ie,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=de(Ne),void 0===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ie){if(!1===Fe(Ie))throw new C("not ASN.1 hex string");var Ne,Xe;try{Ce(Ie,0,[0,0],"06"),Ne=Ce(Ie,0,[0,1],"06"),Xe=Ce(Ie,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=de(Ne),null===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Xe)},this.readCertPubKeyHex=function(Ie,Ne){if(!1===Fe(Ie))throw new C("not ASN.1 hex string");var Xe,Je;try{Xe=Ce(Ie,0,[0,5,0,1],"06"),Je=Ce(Ie,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=de(Xe),null===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je)},void 0!==S&&void 0!==S.curve&&(this.curveName=S.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==S&&(void 0!==S.prv&&this.setPrivateKeyHex(S.prv),void 0!==S.pub&&this.setPublicKeyHex(S.pub))},we.crypto.ECDSA.parseSigHex=function(S){var C=we.crypto.ECDSA.parseSigHexInHexRS(S);return{r:new U(C.r,16),s:new U(C.s,16)}},we.crypto.ECDSA.parseSigHexInHexRS=function(S){var E=ft.getChildIdx,B=ft.getV;if(ft.checkStrictDER(S,0),"30"!=S.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var z=E(S,0);if(2!=z.length)throw new Error("signature shall have two elements");var Z=z[0],de=z[1];if("02"!=S.substr(Z,2))throw new Error("1st item not ASN.1 integer");if("02"!=S.substr(de,2))throw new Error("2nd item not ASN.1 integer");return{r:B(S,Z),s:B(S,de)}},we.crypto.ECDSA.asn1SigToConcatSig=function(S){var C=we.crypto.ECDSA.parseSigHexInHexRS(S),E=C.r,B=C.s;if("00"==E.substr(0,2)&&E.length%32==2&&(E=E.substr(2)),"00"==B.substr(0,2)&&B.length%32==2&&(B=B.substr(2)),E.length%32==30&&(E="00"+E),B.length%32==30&&(B="00"+B),E.length%32!=0)throw"unknown ECDSA sig r length error";if(B.length%32!=0)throw"unknown ECDSA sig s length error";return E+B},we.crypto.ECDSA.concatSigToASN1Sig=function(S){if(S.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=S.substr(0,S.length/2),E=S.substr(S.length/2);return we.crypto.ECDSA.hexRSSigToASN1Sig(C,E)},we.crypto.ECDSA.hexRSSigToASN1Sig=function(S,C){var E=new U(S,16),B=new U(C,16);return we.crypto.ECDSA.biRSSigToASN1Sig(E,B)},we.crypto.ECDSA.biRSSigToASN1Sig=function(S,C){var E=we.asn1,B=new E.DERInteger({bigint:S}),z=new E.DERInteger({bigint:C});return new E.DERSequence({array:[B,z]}).getEncodedHex()},we.crypto.ECDSA.getName=function(S){return"2b8104001f"===S?"secp192k1":"2a8648ce3d030107"===S?"secp256r1":"2b8104000a"===S?"secp256k1":"2b81040021"===S?"secp224r1":"2b81040022"===S?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(S)?"secp256r1":-1!=="|secp256k1|".indexOf(S)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(S)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(S)?"secp384r1":null},void 0!==we&&we||(b.KJUR=we={}),void 0!==we.crypto&&we.crypto||(we.crypto={}),we.crypto.ECParameterDB=new function(){var S={},C={};function E(B){return new U(B,16)}this.getByName=function(B){var z=B;if(void 0!==C[z]&&(z=C[B]),void 0!==S[z])return S[z];throw"unregistered EC curve name: "+z},this.regist=function(B,z,Z,de,Se,Ce,Fe,Pe,Ie,Ne,Xe,Je){S[B]={};var nt=E(Z),d=E(de),ye=E(Se),Ve=E(Ce),Le=E(Fe),Ue=new cn(nt,d,ye),et=Ue.decodePointHex("04"+Pe+Ie);S[B].name=B,S[B].keylen=z,S[B].curve=Ue,S[B].G=et,S[B].n=Ve,S[B].h=Le,S[B].oid=Xe,S[B].info=Je;for(var ut=0;ut<Ne.length;ut++)C[Ne[ut]]=B}},we.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),we.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),we.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),we.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),we.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),we.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),we.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),we.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),we.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),we.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var xn=function(){var S=function(Fe,Pe,Ie){return C(I.AES,Fe,Pe,Ie)},C=function(Fe,Pe,Ie,Ne){var Xe=I.enc.Hex.parse(Pe),Je=I.enc.Hex.parse(Ie),nt=I.enc.Hex.parse(Ne),d={};d.key=Je,d.iv=nt,d.ciphertext=Xe;var ye=Fe.decrypt(d,Je,{iv:nt});return I.enc.Hex.stringify(ye)},E=function(Fe,Pe,Ie){return B(I.AES,Fe,Pe,Ie)},B=function(Fe,Pe,Ie,Ne){var Xe=I.enc.Hex.parse(Pe),Je=I.enc.Hex.parse(Ie),nt=I.enc.Hex.parse(Ne),d=Fe.encrypt(Xe,Je,{iv:nt}),ye=I.enc.Hex.parse(d.toString());return I.enc.Base64.stringify(ye)},z={"AES-256-CBC":{proc:S,eproc:E,keylen:32,ivlen:16},"AES-192-CBC":{proc:S,eproc:E,keylen:24,ivlen:16},"AES-128-CBC":{proc:S,eproc:E,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Fe,Pe,Ie){return C(I.TripleDES,Fe,Pe,Ie)},eproc:function(Fe,Pe,Ie){return B(I.TripleDES,Fe,Pe,Ie)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Fe,Pe,Ie){return C(I.DES,Fe,Pe,Ie)},eproc:function(Fe,Pe,Ie){return B(I.DES,Fe,Pe,Ie)},keylen:8,ivlen:8}},Z=function(Fe){var Pe={},Ie=Fe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ie&&(Pe.cipher=Ie[1],Pe.ivsalt=Ie[2]);var Ne=Fe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Ne&&(Pe.type=Ne[1]);var Xe=-1,Je=0;-1!=Fe.indexOf("\r\n\r\n")&&(Xe=Fe.indexOf("\r\n\r\n"),Je=2),-1!=Fe.indexOf("\n\n")&&(Xe=Fe.indexOf("\n\n"),Je=1);var nt=Fe.indexOf("-----END");if(-1!=Xe&&-1!=nt){var d=Fe.substring(Xe+2*Je,nt-Je);d=d.replace(/\s+/g,""),Pe.data=d}return Pe},de=function(Fe,Pe,Ie){for(var Ne=Ie.substring(0,16),Xe=I.enc.Hex.parse(Ne),Je=I.enc.Utf8.parse(Pe),nt=z[Fe].keylen+z[Fe].ivlen,d="",ye=null;;){var Ve=I.algo.MD5.create();if(null!=ye&&Ve.update(ye),Ve.update(Je),Ve.update(Xe),ye=Ve.finalize(),(d+=I.enc.Hex.stringify(ye)).length>=2*nt)break}var Le={};return Le.keyhex=d.substr(0,2*z[Fe].keylen),Le.ivhex=d.substr(2*z[Fe].keylen,2*z[Fe].ivlen),Le},Se=function(Fe,Pe,Ie,Ne){var Xe=I.enc.Base64.parse(Fe),Je=I.enc.Hex.stringify(Xe);return(0,z[Pe].proc)(Je,Ie,Ne)};return{version:"1.0.0",parsePKCS5PEM:function(Fe){return Z(Fe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Fe,Pe,Ie){return de(Fe,Pe,Ie)},decryptKeyB64:function(Fe,Pe,Ie,Ne){return Se(Fe,Pe,Ie,Ne)},getDecryptedKeyHex:function(Fe,Pe){var Ie=Z(Fe),Ne=Ie.cipher,Xe=Ie.ivsalt,Je=Ie.data,nt=de(Ne,Pe,Xe).keyhex;return Se(Je,Ne,nt,Xe)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Fe,Pe,Ie,Ne,Xe){var ye,Ve,Je="";if(void 0!==Ne&&null!=Ne||(Ne="AES-256-CBC"),void 0===z[Ne])throw"KEYUTIL unsupported algorithm: "+Ne;void 0!==Xe&&null!=Xe||(Xe=(ye=z[Ne].ivlen,Ve=I.lib.WordArray.random(ye),I.enc.Hex.stringify(Ve)).toUpperCase());var nt=function(ye,Ve,Le,Ue){return(0,z[Ve].eproc)(ye,Le,Ue)}(Pe,Ne,de(Ne,Ie,Xe).keyhex,Xe);return Je="-----BEGIN "+Fe+" PRIVATE KEY-----\r\n",Je+="Proc-Type: 4,ENCRYPTED\r\n",Je+="DEK-Info: "+Ne+","+Xe+"\r\n",Je+="\r\n",(Je+=nt.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+Fe+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(Fe){var Ie=ft.getChildIdx,Ne=ft.getV,Xe={},Je=Ie(Fe,0);if(2!=Je.length)throw"malformed format: SEQUENCE(0).items != 2: "+Je.length;Xe.ciphertext=Ne(Fe,Je[1]);var nt=Ie(Fe,Je[0]);if(2!=nt.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+nt.length;if("2a864886f70d01050d"!=Ne(Fe,nt[0]))throw"this only supports pkcs5PBES2";var d=Ie(Fe,nt[1]);if(2!=nt.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+d.length;var ye=Ie(Fe,d[1]);if(2!=ye.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+ye.length;if("2a864886f70d0307"!=Ne(Fe,ye[0]))throw"this only supports TripleDES";Xe.encryptionSchemeAlg="TripleDES",Xe.encryptionSchemeIV=Ne(Fe,ye[1]);var Ve=Ie(Fe,d[0]);if(2!=Ve.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ve.length;if("2a864886f70d01050c"!=Ne(Fe,Ve[0]))throw"this only supports pkcs5PBKDF2";var Le=Ie(Fe,Ve[1]);if(Le.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Le.length;Xe.pbkdf2Salt=Ne(Fe,Le[0]);var Ue=Ne(Fe,Le[1]);try{Xe.pbkdf2Iter=parseInt(Ue,16)}catch{throw"malformed format pbkdf2Iter: "+Ue}return Xe},getPBKDF2KeyHexFromParam:function(Fe,Pe){var Ie=I.enc.Hex.parse(Fe.pbkdf2Salt),Xe=I.PBKDF2(Pe,Ie,{keySize:6,iterations:Fe.pbkdf2Iter});return I.enc.Hex.stringify(Xe)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Fe,Pe){var Ie=pn(Fe,"ENCRYPTED PRIVATE KEY"),Ne=this.parseHexOfEncryptedPKCS8(Ie),Xe=xn.getPBKDF2KeyHexFromParam(Ne,Pe),Je={};Je.ciphertext=I.enc.Hex.parse(Ne.ciphertext);var nt=I.enc.Hex.parse(Xe),d=I.enc.Hex.parse(Ne.encryptionSchemeIV),ye=I.TripleDES.decrypt(Je,nt,{iv:d});return I.enc.Hex.stringify(ye)},getKeyFromEncryptedPKCS8PEM:function(Fe,Pe){var Ie=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Fe,Pe);return this.getKeyFromPlainPrivatePKCS8Hex(Ie)},parsePlainPrivatePKCS8Hex:function(Fe){var Pe=ft,Ie=Pe.getChildIdx,Ne=Pe.getV,Xe={algparam:null};if("30"!=Fe.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var Je=Ie(Fe,0);if(3!=Je.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=Fe.substr(Je[1],2))throw"malformed PKCS8 private key(code:003)";var nt=Ie(Fe,Je[1]);if(2!=nt.length)throw"malformed PKCS8 private key(code:004)";if("06"!=Fe.substr(nt[0],2))throw"malformed PKCS8 private key(code:005)";if(Xe.algoid=Ne(Fe,nt[0]),"06"==Fe.substr(nt[1],2)&&(Xe.algparam=Ne(Fe,nt[1])),"04"!=Fe.substr(Je[2],2))throw"malformed PKCS8 private key(code:006)";return Xe.keyidx=Pe.getVidx(Fe,Je[2]),Xe},getKeyFromPlainPrivatePKCS8PEM:function(Fe){var Pe=pn(Fe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Pe)},getKeyFromPlainPrivatePKCS8Hex:function(Fe){var Pe,Ie=this.parsePlainPrivatePKCS8Hex(Fe);if("2a864886f70d010101"==Ie.algoid)Pe=new _t;else if("2a8648ce380401"==Ie.algoid)Pe=new we.crypto.DSA;else{if("2a8648ce3d0201"!=Ie.algoid)throw"unsupported private key algorithm";Pe=new we.crypto.ECDSA}return Pe.readPKCS8PrvKeyHex(Fe),Pe},_getKeyFromPublicPKCS8Hex:function(Fe){var Pe,Ie=ft.getVbyList(Fe,0,[0,0],"06");if("2a864886f70d010101"===Ie)Pe=new _t;else if("2a8648ce380401"===Ie)Pe=new we.crypto.DSA;else{if("2a8648ce3d0201"!==Ie)throw"unsupported PKCS#8 public key hex";Pe=new we.crypto.ECDSA}return Pe.readPKCS8PubKeyHex(Fe),Pe},parsePublicRawRSAKeyHex:function(Fe){var Ie=ft.getChildIdx,Ne=ft.getV,Xe={};if("30"!=Fe.substr(0,2))throw"malformed RSA key(code:001)";var Je=Ie(Fe,0);if(2!=Je.length)throw"malformed RSA key(code:002)";if("02"!=Fe.substr(Je[0],2))throw"malformed RSA key(code:003)";if(Xe.n=Ne(Fe,Je[0]),"02"!=Fe.substr(Je[1],2))throw"malformed RSA key(code:004)";return Xe.e=Ne(Fe,Je[1]),Xe},parsePublicPKCS8Hex:function(Fe){var Pe=ft,Ie=Pe.getChildIdx,Ne=Pe.getV,Xe={algparam:null},Je=Ie(Fe,0);if(2!=Je.length)throw"outer DERSequence shall have 2 elements: "+Je.length;var nt=Je[0];if("30"!=Fe.substr(nt,2))throw"malformed PKCS8 public key(code:001)";var d=Ie(Fe,nt);if(2!=d.length)throw"malformed PKCS8 public key(code:002)";if("06"!=Fe.substr(d[0],2))throw"malformed PKCS8 public key(code:003)";if(Xe.algoid=Ne(Fe,d[0]),"06"==Fe.substr(d[1],2)?Xe.algparam=Ne(Fe,d[1]):"30"==Fe.substr(d[1],2)&&(Xe.algparam={},Xe.algparam.p=Pe.getVbyList(Fe,d[1],[0],"02"),Xe.algparam.q=Pe.getVbyList(Fe,d[1],[1],"02"),Xe.algparam.g=Pe.getVbyList(Fe,d[1],[2],"02")),"03"!=Fe.substr(Je[1],2))throw"malformed PKCS8 public key(code:004)";return Xe.key=Ne(Fe,Je[1]).substr(2),Xe}}}();xn.getKey=function(S,C,E){var ir,B=(d=ft).getChildIdx,z=d.getVbyList,Z=we.crypto,de=Z.ECDSA,Se=Z.DSA,Ce=_t,Fe=pn,Pe=xn;if(void 0!==Ce&&S instanceof Ce||void 0!==de&&S instanceof de||void 0!==Se&&S instanceof Se)return S;if(void 0!==S.curve&&void 0!==S.xy&&void 0===S.d)return new de({pub:S.xy,curve:S.curve});if(void 0!==S.curve&&void 0!==S.d)return new de({prv:S.d,curve:S.curve});if(void 0===S.kty&&void 0!==S.n&&void 0!==S.e&&void 0===S.d)return(Zt=new Ce).setPublic(S.n,S.e),Zt;if(void 0===S.kty&&void 0!==S.n&&void 0!==S.e&&void 0!==S.d&&void 0!==S.p&&void 0!==S.q&&void 0!==S.dp&&void 0!==S.dq&&void 0!==S.co&&void 0===S.qi)return(Zt=new Ce).setPrivateEx(S.n,S.e,S.d,S.p,S.q,S.dp,S.dq,S.co),Zt;if(void 0===S.kty&&void 0!==S.n&&void 0!==S.e&&void 0!==S.d&&void 0===S.p)return(Zt=new Ce).setPrivate(S.n,S.e,S.d),Zt;if(void 0!==S.p&&void 0!==S.q&&void 0!==S.g&&void 0!==S.y&&void 0===S.x)return(Zt=new Se).setPublic(S.p,S.q,S.g,S.y),Zt;if(void 0!==S.p&&void 0!==S.q&&void 0!==S.g&&void 0!==S.y&&void 0!==S.x)return(Zt=new Se).setPrivate(S.p,S.q,S.g,S.y,S.x),Zt;if("RSA"===S.kty&&void 0!==S.n&&void 0!==S.e&&void 0===S.d)return(Zt=new Ce).setPublic(Et(S.n),Et(S.e)),Zt;if("RSA"===S.kty&&void 0!==S.n&&void 0!==S.e&&void 0!==S.d&&void 0!==S.p&&void 0!==S.q&&void 0!==S.dp&&void 0!==S.dq&&void 0!==S.qi)return(Zt=new Ce).setPrivateEx(Et(S.n),Et(S.e),Et(S.d),Et(S.p),Et(S.q),Et(S.dp),Et(S.dq),Et(S.qi)),Zt;if("RSA"===S.kty&&void 0!==S.n&&void 0!==S.e&&void 0!==S.d)return(Zt=new Ce).setPrivate(Et(S.n),Et(S.e),Et(S.d)),Zt;if("EC"===S.kty&&void 0!==S.crv&&void 0!==S.x&&void 0!==S.y&&void 0===S.d){var Ie=($t=new de({curve:S.crv})).ecparams.keylen/4,Ne="04"+("0000000000"+Et(S.x)).slice(-Ie)+("0000000000"+Et(S.y)).slice(-Ie);return $t.setPublicKeyHex(Ne),$t}if("EC"===S.kty&&void 0!==S.crv&&void 0!==S.x&&void 0!==S.y&&void 0!==S.d){Ie=($t=new de({curve:S.crv})).ecparams.keylen/4,Ne="04"+("0000000000"+Et(S.x)).slice(-Ie)+("0000000000"+Et(S.y)).slice(-Ie);var Xe=("0000000000"+Et(S.d)).slice(-Ie);return $t.setPublicKeyHex(Ne),$t.setPrivateKeyHex(Xe),$t}if("pkcs5prv"===E){var Je,nt=S,d=ft;if(9===(Je=B(nt,0)).length)(Zt=new Ce).readPKCS5PrvKeyHex(nt);else if(6===Je.length)(Zt=new Se).readPKCS5PrvKeyHex(nt);else{if(!(Je.length>2&&"04"===nt.substr(Je[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(Zt=new de).readPKCS5PrvKeyHex(nt)}return Zt}if("pkcs8prv"===E)return Pe.getKeyFromPlainPrivatePKCS8Hex(S);if("pkcs8pub"===E)return Pe._getKeyFromPublicPKCS8Hex(S);if("x509pub"===E)return gn.getPublicKeyFromCertHex(S);if(-1!=S.indexOf("-END CERTIFICATE-",0)||-1!=S.indexOf("-END X509 CERTIFICATE-",0)||-1!=S.indexOf("-END TRUSTED CERTIFICATE-",0))return gn.getPublicKeyFromCertPEM(S);if(-1!=S.indexOf("-END PUBLIC KEY-")){var ye=pn(S,"PUBLIC KEY");return Pe._getKeyFromPublicPKCS8Hex(ye)}if(-1!=S.indexOf("-END RSA PRIVATE KEY-")&&-1==S.indexOf("4,ENCRYPTED")){var Ve=Fe(S,"RSA PRIVATE KEY");return Pe.getKey(Ve,null,"pkcs5prv")}if(-1!=S.indexOf("-END DSA PRIVATE KEY-")&&-1==S.indexOf("4,ENCRYPTED")){var Le=z(ir=Fe(S,"DSA PRIVATE KEY"),0,[1],"02"),Ue=z(ir,0,[2],"02"),et=z(ir,0,[3],"02"),ut=z(ir,0,[4],"02"),Gt=z(ir,0,[5],"02");return(Zt=new Se).setPrivate(new U(Le,16),new U(Ue,16),new U(et,16),new U(ut,16),new U(Gt,16)),Zt}if(-1!=S.indexOf("-END EC PRIVATE KEY-")&&-1==S.indexOf("4,ENCRYPTED"))return Ve=Fe(S,"EC PRIVATE KEY"),Pe.getKey(Ve,null,"pkcs5prv");if(-1!=S.indexOf("-END PRIVATE KEY-"))return Pe.getKeyFromPlainPrivatePKCS8PEM(S);if(-1!=S.indexOf("-END RSA PRIVATE KEY-")&&-1!=S.indexOf("4,ENCRYPTED")){var Pt=Pe.getDecryptedKeyHex(S,C),An=new _t;return An.readPKCS5PrvKeyHex(Pt),An}if(-1!=S.indexOf("-END EC PRIVATE KEY-")&&-1!=S.indexOf("4,ENCRYPTED")){var $t,Zt=z(ir=Pe.getDecryptedKeyHex(S,C),0,[1],"04"),ar=z(ir,0,[2,0],"06"),lr=z(ir,0,[3,0],"03").substr(2);if(void 0===we.crypto.OID.oidhex2name[ar])throw"undefined OID(hex) in KJUR.crypto.OID: "+ar;return($t=new de({curve:we.crypto.OID.oidhex2name[ar]})).setPublicKeyHex(lr),$t.setPrivateKeyHex(Zt),$t.isPublic=!1,$t}if(-1!=S.indexOf("-END DSA PRIVATE KEY-")&&-1!=S.indexOf("4,ENCRYPTED"))return Le=z(ir=Pe.getDecryptedKeyHex(S,C),0,[1],"02"),Ue=z(ir,0,[2],"02"),et=z(ir,0,[3],"02"),ut=z(ir,0,[4],"02"),Gt=z(ir,0,[5],"02"),(Zt=new Se).setPrivate(new U(Le,16),new U(Ue,16),new U(et,16),new U(ut,16),new U(Gt,16)),Zt;if(-1!=S.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Pe.getKeyFromEncryptedPKCS8PEM(S,C);throw new Error("not supported argument")},xn.generateKeypair=function(S,C){if("RSA"==S){var E=C;(de=new _t).generate(E,"10001"),de.isPrivate=!0,de.isPublic=!0;var B=new _t,z=de.n.toString(16),Z=de.e.toString(16);return B.setPublic(z,Z),B.isPrivate=!1,B.isPublic=!0,(Se={}).prvKeyObj=de,Se.pubKeyObj=B,Se}if("EC"==S){var de,Se,Ce=C,Fe=new we.crypto.ECDSA({curve:Ce}).generateKeyPairHex();return(de=new we.crypto.ECDSA({curve:Ce})).setPublicKeyHex(Fe.ecpubhex),de.setPrivateKeyHex(Fe.ecprvhex),de.isPrivate=!0,de.isPublic=!1,(B=new we.crypto.ECDSA({curve:Ce})).setPublicKeyHex(Fe.ecpubhex),B.isPrivate=!1,B.isPublic=!0,(Se={}).prvKeyObj=de,Se.pubKeyObj=B,Se}throw"unknown algorithm: "+S},xn.getPEM=function(S,C,E,B,z,Z){var Se=we.asn1,Ce=Se.DERObjectIdentifier,Fe=Se.DERInteger,Pe=Se.ASN1Util.newObject,Ne=we.crypto,Xe=Ne.DSA,Je=Ne.ECDSA,nt=_t;function d($t){return Pe({seq:[{int:0},{int:{bigint:$t.n}},{int:$t.e},{int:{bigint:$t.d}},{int:{bigint:$t.p}},{int:{bigint:$t.q}},{int:{bigint:$t.dmp1}},{int:{bigint:$t.dmq1}},{int:{bigint:$t.coeff}}]})}function ye($t){return Pe({seq:[{int:1},{octstr:{hex:$t.prvKeyHex}},{tag:["a0",!0,{oid:{name:$t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+$t.pubKeyHex}}]}]})}function Ve($t){return Pe({seq:[{int:0},{int:{bigint:$t.p}},{int:{bigint:$t.q}},{int:{bigint:$t.g}},{int:{bigint:$t.y}},{int:{bigint:$t.x}}]})}if((void 0!==nt&&S instanceof nt||void 0!==Xe&&S instanceof Xe||void 0!==Je&&S instanceof Je)&&1==S.isPublic&&(void 0===C||"PKCS8PUB"==C))return tn(ut=new(0,Se.x509.SubjectPublicKeyInfo)(S).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==C&&void 0!==nt&&S instanceof nt&&(void 0===E||null==E)&&1==S.isPrivate)return tn(ut=d(S).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==C&&void 0!==Je&&S instanceof Je&&(void 0===E||null==E)&&1==S.isPrivate){var Le=new Ce({name:S.curveName}).getEncodedHex(),Ue=ye(S).getEncodedHex(),et="";return(et+=tn(Le,"EC PARAMETERS"))+tn(Ue,"EC PRIVATE KEY")}if("PKCS1PRV"==C&&void 0!==Xe&&S instanceof Xe&&(void 0===E||null==E)&&1==S.isPrivate)return tn(ut=Ve(S).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==C&&void 0!==nt&&S instanceof nt&&void 0!==E&&null!=E&&1==S.isPrivate){var ut=d(S).getEncodedHex();return void 0===B&&(B="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",ut,E,B,Z)}if("PKCS5PRV"==C&&void 0!==Je&&S instanceof Je&&void 0!==E&&null!=E&&1==S.isPrivate)return ut=ye(S).getEncodedHex(),void 0===B&&(B="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",ut,E,B,Z);if("PKCS5PRV"==C&&void 0!==Xe&&S instanceof Xe&&void 0!==E&&null!=E&&1==S.isPrivate)return ut=Ve(S).getEncodedHex(),void 0===B&&(B="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",ut,E,B,Z);var Gt=function(Zt,ar){var lr=Pt(Zt,ar);return new Pe({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:lr.pbkdf2Salt}},{int:lr.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:lr.encryptionSchemeIV}}]}]}]},{octstr:{hex:lr.ciphertext}}]}).getEncodedHex()},Pt=function(Zt,ar){var lr=I.lib.WordArray.random(8),ir=I.lib.WordArray.random(8),ka=I.PBKDF2(ar,lr,{keySize:6,iterations:100}),ua=I.enc.Hex.parse(Zt),Aa=I.TripleDES.encrypt(ua,ka,{iv:ir})+"",Pr={};return Pr.ciphertext=Aa,Pr.pbkdf2Salt=I.enc.Hex.stringify(lr),Pr.pbkdf2Iter=100,Pr.encryptionSchemeAlg="DES-EDE3-CBC",Pr.encryptionSchemeIV=I.enc.Hex.stringify(ir),Pr};if("PKCS8PRV"==C&&null!=nt&&S instanceof nt&&1==S.isPrivate){var An=d(S).getEncodedHex();return ut=Pe({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:An}}]}).getEncodedHex(),void 0===E||null==E?tn(ut,"PRIVATE KEY"):tn(Ue=Gt(ut,E),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==C&&void 0!==Je&&S instanceof Je&&1==S.isPrivate)return An=new Pe({seq:[{int:1},{octstr:{hex:S.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+S.pubKeyHex}}]}]}).getEncodedHex(),ut=Pe({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:S.curveName}}]},{octstr:{hex:An}}]}).getEncodedHex(),void 0===E||null==E?tn(ut,"PRIVATE KEY"):tn(Ue=Gt(ut,E),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==C&&void 0!==Xe&&S instanceof Xe&&1==S.isPrivate)return An=new Fe({bigint:S.x}).getEncodedHex(),ut=Pe({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:S.p}},{int:{bigint:S.q}},{int:{bigint:S.g}}]}]},{octstr:{hex:An}}]}).getEncodedHex(),void 0===E||null==E?tn(ut,"PRIVATE KEY"):tn(Ue=Gt(ut,E),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},xn.getKeyFromCSRPEM=function(S){var C=pn(S,"CERTIFICATE REQUEST");return xn.getKeyFromCSRHex(C)},xn.getKeyFromCSRHex=function(S){var C=xn.parseCSRHex(S);return xn.getKey(C.p8pubkeyhex,null,"pkcs8pub")},xn.parseCSRHex=function(S){var E=ft.getChildIdx,B=ft.getTLV,z={},Z=S;if("30"!=Z.substr(0,2))throw"malformed CSR(code:001)";var de=E(Z,0);if(de.length<1)throw"malformed CSR(code:002)";if("30"!=Z.substr(de[0],2))throw"malformed CSR(code:003)";var Se=E(Z,de[0]);if(Se.length<3)throw"malformed CSR(code:004)";return z.p8pubkeyhex=B(Z,Se[2]),z},xn.getKeyID=function(S){var C=xn,E=ft;"string"==typeof S&&-1!=S.indexOf("BEGIN ")&&(S=C.getKey(S));var B=pn(C.getPEM(S)),z=E.getIdxbyList(B,0,[1]),Z=E.getV(B,z).substring(2);return we.crypto.Util.hashHex(Z,"sha1")},xn.getJWKFromKey=function(S){var C={};if(S instanceof _t&&S.isPrivate)return C.kty="RSA",C.n=ze(S.n.toString(16)),C.e=ze(S.e.toString(16)),C.d=ze(S.d.toString(16)),C.p=ze(S.p.toString(16)),C.q=ze(S.q.toString(16)),C.dp=ze(S.dmp1.toString(16)),C.dq=ze(S.dmq1.toString(16)),C.qi=ze(S.coeff.toString(16)),C;if(S instanceof _t&&S.isPublic)return C.kty="RSA",C.n=ze(S.n.toString(16)),C.e=ze(S.e.toString(16)),C;if(S instanceof we.crypto.ECDSA&&S.isPrivate){if("P-256"!==(B=S.getShortNISTPCurveName())&&"P-384"!==B)throw"unsupported curve name for JWT: "+B;var E=S.getPublicKeyXYHex();return C.kty="EC",C.crv=B,C.x=ze(E.x),C.y=ze(E.y),C.d=ze(S.prvKeyHex),C}if(S instanceof we.crypto.ECDSA&&S.isPublic){var B;if("P-256"!==(B=S.getShortNISTPCurveName())&&"P-384"!==B)throw"unsupported curve name for JWT: "+B;return E=S.getPublicKeyXYHex(),C.kty="EC",C.crv=B,C.x=ze(E.x),C.y=ze(E.y),C}throw"not supported key object"},_t.getPosArrayOfChildrenFromHex=function(S){return ft.getChildIdx(S,0)},_t.getHexValueArrayOfChildrenFromHex=function(S){var C,E=ft.getV,B=E(S,(C=_t.getPosArrayOfChildrenFromHex(S))[0]),z=E(S,C[1]),Z=E(S,C[2]),de=E(S,C[3]),Se=E(S,C[4]),Ce=E(S,C[5]),Fe=E(S,C[6]),Pe=E(S,C[7]),Ie=E(S,C[8]);return(C=new Array).push(B,z,Z,de,Se,Ce,Fe,Pe,Ie),C},_t.prototype.readPrivateKeyFromPEMString=function(S){var C=pn(S),E=_t.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8])},_t.prototype.readPKCS5PrvKeyHex=function(S){var C=_t.getHexValueArrayOfChildrenFromHex(S);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},_t.prototype.readPKCS8PrvKeyHex=function(S){var C,E,B,z,Z,de,Se,Ce,Pe=ft.getVbyListEx;if(!1===ft.isASN1HEX(S))throw new Error("not ASN.1 hex string");try{C=Pe(S,0,[2,0,1],"02"),E=Pe(S,0,[2,0,2],"02"),B=Pe(S,0,[2,0,3],"02"),z=Pe(S,0,[2,0,4],"02"),Z=Pe(S,0,[2,0,5],"02"),de=Pe(S,0,[2,0,6],"02"),Se=Pe(S,0,[2,0,7],"02"),Ce=Pe(S,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,E,B,z,Z,de,Se,Ce)},_t.prototype.readPKCS5PubKeyHex=function(S){var C=ft,E=C.getV;if(!1===C.isASN1HEX(S))throw new Error("keyHex is not ASN.1 hex string");var B=C.getChildIdx(S,0);if(2!==B.length||"02"!==S.substr(B[0],2)||"02"!==S.substr(B[1],2))throw new Error("wrong hex for PKCS#5 public key");var z=E(S,B[0]),Z=E(S,B[1]);this.setPublic(z,Z)},_t.prototype.readPKCS8PubKeyHex=function(S){var C=ft;if(!1===C.isASN1HEX(S))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==C.getTLVbyListEx(S,0,[0,0]))throw new Error("not PKCS8 RSA public key");var E=C.getTLVbyListEx(S,0,[1,0]);this.readPKCS5PubKeyHex(E)},_t.prototype.readCertPubKeyHex=function(S,C){var E,B;(E=new gn).readCertHex(S),B=E.getPublicKeyHex(),this.readPKCS8PubKeyHex(B)};var rr=new RegExp("[^0-9a-f]","gi");function Ga(S,C){for(var E="",B=C/4-S.length,z=0;z<B;z++)E+="0";return E+S}function pi(S,C,E){for(var B="",z=0;B.length<C;)B+=wt(E(Lt(S+String.fromCharCode.apply(String,[(4278190080&z)>>24,(16711680&z)>>16,(65280&z)>>8,255&z])))),z+=1;return B}function Di(S){for(var C in we.crypto.Util.DIGESTINFOHEAD){var E=we.crypto.Util.DIGESTINFOHEAD[C],B=E.length;if(S.substring(0,B)==E)return[C,S.substring(B)]}return[]}function gn(S){var C,E=ft,B=E.getChildIdx,z=E.getV,Z=E.getTLV,de=E.getVbyList,Se=E.getVbyListEx,Ce=E.getTLVbyList,Fe=E.getTLVbyListEx,Pe=E.getIdxbyList,Ie=E.getIdxbyListEx,Ne=E.getVidx,Xe=E.oidname,Je=E.hextooidstr,nt=gn,d=pn;try{C=we.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==Ce(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return Se(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var ye=Fe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(ye)},this.getAlgorithmIdentifierName=function(ye){for(var Ve in C)if(ye===C[Ve])return Ve;return Xe(Se(ye,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Ce(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return nt.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Ce(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return nt.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var ye=de(this.hex,0,[0,4+this.foffset,0]);return ye=ye.replace(/(..)/g,"%$1"),decodeURIComponent(ye)},this.getNotAfter=function(){var ye=de(this.hex,0,[0,4+this.foffset,1]);return ye=ye.replace(/(..)/g,"%$1"),decodeURIComponent(ye)},this.getPublicKeyHex=function(){return E.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Pe(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var ye=this.getPublicKeyIdx();return Pe(this.hex,ye,[1,0],"30")},this.getPublicKey=function(){return xn.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var ye=Ce(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(ye)},this.getSignatureValueHex=function(){return de(this.hex,0,[2],"03",!0)},this.verifySignature=function(ye){var Ve=this.getSignatureAlgorithmField(),Le=this.getSignatureValueHex(),Ue=Ce(this.hex,0,[0],"30"),et=new we.crypto.Signature({alg:Ve});return et.init(ye),et.updateHex(Ue),et.verify(Le)},this.parseExt=function(ye){var Ve,Le,Ue;if(void 0===ye){if(3!==this.version)return-1;Ve=Pe(Ue=this.hex,0,[0,7,0],"30"),Le=B(Ue,Ve)}else{Ue=pn(ye);var et=Pe(Ue,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=z(Ue,et))return void(this.aExtInfo=new Array);Ve=Pe(Ue,0,[0,3,0,1,0],"30"),Le=B(Ue,Ve),this.hex=Ue}this.aExtInfo=new Array;for(var ut=0;ut<Le.length;ut++){var Gt={critical:!1},Pt=0;3===B(Ue,Le[ut]).length&&(Gt.critical=!0,Pt=1),Gt.oid=E.hextooidstr(de(Ue,Le[ut],[0],"06"));var An=Pe(Ue,Le[ut],[1+Pt]);Gt.vidx=Ne(Ue,An),this.aExtInfo.push(Gt)}},this.getExtInfo=function(ye){var Ve=this.aExtInfo,Le=ye;if(ye.match(/^[0-9.]+$/)||(Le=we.asn1.x509.OID.name2oid(ye)),""!==Le)for(var Ue=0;Ue<Ve.length;Ue++)if(Ve[Ue].oid===Le)return Ve[Ue]},this.getExtBasicConstraints=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("basicConstraints");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"basicConstraints"};if(Ve&&(Ue.critical=!0),"3000"===ye)return Ue;if("30030101ff"===ye)return Ue.cA=!0,Ue;if("30060101ff02"===ye.substr(0,12)){var et=z(ye,10),ut=parseInt(et,16);return Ue.cA=!0,Ue.pathLen=ut,Ue}throw new Error("hExtV parse error: "+ye)},this.getExtKeyUsage=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("keyUsage");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"keyUsage"};return Ve&&(Ue.critical=!0),Ue.names=this.getExtKeyUsageString(ye).split(","),Ue},this.getExtKeyUsageBin=function(ye){if(void 0===ye){var Ve=this.getExtInfo("keyUsage");if(void 0===Ve)return"";ye=Z(this.hex,Ve.vidx)}if(8!=ye.length&&10!=ye.length)throw new Error("malformed key usage value: "+ye);var Le="000000000000000"+parseInt(ye.substr(6),16).toString(2);return 8==ye.length&&(Le=Le.slice(-8)),10==ye.length&&(Le=Le.slice(-16)),""==(Le=Le.replace(/0+$/,""))&&(Le="0"),Le},this.getExtKeyUsageString=function(ye){for(var Ve=this.getExtKeyUsageBin(ye),Le=new Array,Ue=0;Ue<Ve.length;Ue++)"1"==Ve.substr(Ue,1)&&Le.push(gn.KEYUSAGE_NAME[Ue]);return Le.join(",")},this.getExtSubjectKeyIdentifier=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("subjectKeyIdentifier");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"subjectKeyIdentifier"};Ve&&(Ue.critical=!0);var et=z(ye,0);return Ue.kid={hex:et},Ue},this.getExtAuthorityKeyIdentifier=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("authorityKeyIdentifier");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"authorityKeyIdentifier"};Ve&&(Ue.critical=!0);for(var et=B(ye,0),ut=0;ut<et.length;ut++){var Gt=ye.substr(et[ut],2);if("80"===Gt&&(Ue.kid={hex:z(ye,et[ut])}),"a1"===Gt){var Pt=Z(ye,et[ut]),An=this.getGeneralNames(Pt);Ue.issuer=An[0].dn}"82"===Gt&&(Ue.sn={hex:z(ye,et[ut])})}return Ue},this.getExtExtKeyUsage=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("extKeyUsage");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"extKeyUsage",array:[]};Ve&&(Ue.critical=!0);for(var et=B(ye,0),ut=0;ut<et.length;ut++)Ue.array.push(Xe(z(ye,et[ut])));return Ue},this.getExtExtKeyUsageName=function(){var ye=this.getExtInfo("extKeyUsage");if(void 0===ye)return ye;var Ve=new Array,Le=Z(this.hex,ye.vidx);if(""===Le)return Ve;for(var Ue=B(Le,0),et=0;et<Ue.length;et++)Ve.push(Xe(z(Le,Ue[et])));return Ve},this.getExtSubjectAltName=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("subjectAltName");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"subjectAltName",array:[]};return Ve&&(Ue.critical=!0),Ue.array=this.getGeneralNames(ye),Ue},this.getExtIssuerAltName=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("issuerAltName");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"issuerAltName",array:[]};return Ve&&(Ue.critical=!0),Ue.array=this.getGeneralNames(ye),Ue},this.getGeneralNames=function(ye){for(var Ve=B(ye,0),Le=[],Ue=0;Ue<Ve.length;Ue++){var et=this.getGeneralName(Z(ye,Ve[Ue]));void 0!==et&&Le.push(et)}return Le},this.getGeneralName=function(ye){var Ve=ye.substr(0,2),Le=z(ye,0),Ue=wt(Le);return"81"==Ve?{rfc822:Ue}:"82"==Ve?{dns:Ue}:"86"==Ve?{uri:Ue}:"87"==Ve?{ip:Gn(Le)}:"a4"==Ve?{dn:this.getX500Name(Le)}:void 0},this.getExtSubjectAltName2=function(){var ye,Ve,Le,Ue=this.getExtInfo("subjectAltName");if(void 0===Ue)return Ue;for(var et=new Array,ut=Z(this.hex,Ue.vidx),Gt=B(ut,0),Pt=0;Pt<Gt.length;Pt++)Le=ut.substr(Gt[Pt],2),ye=z(ut,Gt[Pt]),"81"===Le&&(Ve=Ft(ye),et.push(["MAIL",Ve])),"82"===Le&&(Ve=Ft(ye),et.push(["DNS",Ve])),"84"===Le&&(Ve=gn.hex2dn(ye,0),et.push(["DN",Ve])),"86"===Le&&(Ve=Ft(ye),et.push(["URI",Ve])),"87"===Le&&(Ve=Gn(ye),et.push(["IP",Ve]));return et},this.getExtCRLDistributionPoints=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("cRLDistributionPoints");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"cRLDistributionPoints",array:[]};Ve&&(Ue.critical=!0);for(var et=B(ye,0),ut=0;ut<et.length;ut++){var Gt=Z(ye,et[ut]);Ue.array.push(this.getDistributionPoint(Gt))}return Ue},this.getDistributionPoint=function(ye){for(var Ve={},Le=B(ye,0),Ue=0;Ue<Le.length;Ue++){var et=ye.substr(Le[Ue],2),ut=Z(ye,Le[Ue]);"a0"==et&&(Ve.dpname=this.getDistributionPointName(ut))}return Ve},this.getDistributionPointName=function(ye){for(var Ve={},Le=B(ye,0),Ue=0;Ue<Le.length;Ue++){var et=ye.substr(Le[Ue],2),ut=Z(ye,Le[Ue]);"a0"==et&&(Ve.full=this.getGeneralNames(ut))}return Ve},this.getExtCRLDistributionPointsURI=function(){var ye=this.getExtInfo("cRLDistributionPoints");if(void 0===ye)return ye;for(var Ve=new Array,Le=B(this.hex,ye.vidx),Ue=0;Ue<Le.length;Ue++)try{var et=Ft(de(this.hex,Le[Ue],[0,0,0],"86"));Ve.push(et)}catch{}return Ve},this.getExtAIAInfo=function(){var ye=this.getExtInfo("authorityInfoAccess");if(void 0===ye)return ye;for(var Ve={ocsp:[],caissuer:[]},Le=B(this.hex,ye.vidx),Ue=0;Ue<Le.length;Ue++){var et=de(this.hex,Le[Ue],[0],"06"),ut=de(this.hex,Le[Ue],[1],"86");"2b06010505073001"===et&&Ve.ocsp.push(Ft(ut)),"2b06010505073002"===et&&Ve.caissuer.push(Ft(ut))}return Ve},this.getExtAuthorityInfoAccess=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("authorityInfoAccess");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"authorityInfoAccess",array:[]};Ve&&(Ue.critical=!0);for(var et=B(ye,0),ut=0;ut<et.length;ut++){var Gt=Se(ye,et[ut],[0],"06"),Pt=Ft(de(ye,et[ut],[1],"86"));if("2b06010505073001"==Gt)Ue.array.push({ocsp:Pt});else{if("2b06010505073002"!=Gt)throw new Error("unknown method: "+Gt);Ue.array.push({caissuer:Pt})}}return Ue},this.getExtCertificatePolicies=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("certificatePolicies");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"certificatePolicies",array:[]};Ve&&(Ue.critical=!0);for(var et=B(ye,0),ut=0;ut<et.length;ut++){var Gt=Z(ye,et[ut]),Pt=this.getPolicyInformation(Gt);Ue.array.push(Pt)}return Ue},this.getPolicyInformation=function(ye){var Ve={},Le=de(ye,0,[0],"06");Ve.policyoid=Xe(Le);var Ue=Ie(ye,0,[1],"30");if(-1!=Ue){Ve.array=[];for(var et=B(ye,Ue),ut=0;ut<et.length;ut++){var Gt=Z(ye,et[ut]),Pt=this.getPolicyQualifierInfo(Gt);Ve.array.push(Pt)}}return Ve},this.getPolicyQualifierInfo=function(ye){var Ve={},Le=de(ye,0,[0],"06");if("2b06010505070201"===Le){var Ue=Se(ye,0,[1],"16");Ve.cps=wt(Ue)}else if("2b06010505070202"===Le){var et=Ce(ye,0,[1],"30");Ve.unotice=this.getUserNotice(et)}return Ve},this.getUserNotice=function(ye){for(var Ve={},Le=B(ye,0),Ue=0;Ue<Le.length;Ue++){var et=Z(ye,Le[Ue]);"30"!=et.substr(0,2)&&(Ve.exptext=this.getDisplayText(et))}return Ve},this.getDisplayText=function(ye){var Ve={};return Ve.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[ye.substr(0,2)],Ve.str=wt(z(ye,0)),Ve},this.getExtCRLNumber=function(ye,Ve){var Le={extname:"cRLNumber"};if(Ve&&(Le.critical=!0),"02"==ye.substr(0,2))return Le.num={hex:z(ye,0)},Le;throw new Error("hExtV parse error: "+ye)},this.getExtCRLReason=function(ye,Ve){var Le={extname:"cRLReason"};if(Ve&&(Le.critical=!0),"0a"==ye.substr(0,2))return Le.code=parseInt(z(ye,0),16),Le;throw new Error("hExtV parse error: "+ye)},this.getExtOcspNonce=function(ye,Ve){var Le={extname:"ocspNonce"};Ve&&(Le.critical=!0);var Ue=z(ye,0);return Le.hex=Ue,Le},this.getExtOcspNoCheck=function(ye,Ve){var Le={extname:"ocspNoCheck"};return Ve&&(Le.critical=!0),Le},this.getExtAdobeTimeStamp=function(ye,Ve){if(void 0===ye&&void 0===Ve){var Le=this.getExtInfo("adobeTimeStamp");if(void 0===Le)return;ye=Z(this.hex,Le.vidx),Ve=Le.critical}var Ue={extname:"adobeTimeStamp"};Ve&&(Ue.critical=!0);var et=B(ye,0);if(et.length>1){var ut=Z(ye,et[1]),Gt=this.getGeneralName(ut);null!=Gt.uri&&(Ue.uri=Gt.uri)}if(et.length>2){var Pt=Z(ye,et[2]);"0101ff"==Pt&&(Ue.reqauth=!0),"010100"==Pt&&(Ue.reqauth=!1)}return Ue},this.getX500NameRule=function(ye){for(var Ve=null,Le=[],Ue=0;Ue<ye.length;Ue++)for(var et=ye[Ue],ut=0;ut<et.length;ut++)Le.push(et[ut]);for(Ue=0;Ue<Le.length;Ue++){var Gt=Le[Ue],Pt=Gt.ds,$t=Gt.type;if("prn"!=Pt&&"utf8"!=Pt&&"ia5"!=Pt)return"mixed";if("ia5"==Pt){if("CN"!=$t)return"mixed";if(we.lang.String.isMail(Gt.value))continue;return"mixed"}if("C"==$t){if("prn"==Pt)continue;return"mixed"}if(null==Ve)Ve=Pt;else if(Ve!==Pt)return"mixed"}return Ve??"prn"},this.getX500Name=function(ye){var Ve=this.getX500NameArray(ye);return{array:Ve,str:this.dnarraytostr(Ve)}},this.getX500NameArray=function(ye){for(var Ve=[],Le=B(ye,0),Ue=0;Ue<Le.length;Ue++)Ve.push(this.getRDN(Z(ye,Le[Ue])));return Ve},this.getRDN=function(ye){for(var Ve=[],Le=B(ye,0),Ue=0;Ue<Le.length;Ue++)Ve.push(this.getAttrTypeAndValue(Z(ye,Le[Ue])));return Ve},this.getAttrTypeAndValue=function(ye){var Ve={type:null,value:null,ds:null},Le=B(ye,0),Ue=de(ye,Le[0],[],"06"),et=de(ye,Le[1],[]),ut=we.asn1.ASN1Util.oidHexToInt(Ue);return Ve.type=we.asn1.x509.OID.oid2atype(ut),Ve.value=wt(et),Ve.ds=this.HEX2STAG[ye.substr(Le[1],2)],Ve},this.readCertPEM=function(ye){this.readCertHex(d(ye))},this.readCertHex=function(ye){this.hex=ye,this.getVersion();try{Pe(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var ye={};return ye.version=this.getVersion(),ye.serial={hex:this.getSerialNumberHex()},ye.sigalg=this.getSignatureAlgorithmField(),ye.issuer=this.getIssuer(),ye.notbefore=this.getNotBefore(),ye.notafter=this.getNotAfter(),ye.subject=this.getSubject(),ye.sbjpubkey=tn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(ye.ext=this.getExtParamArray()),ye.sighex=this.getSignatureValueHex(),ye},this.getExtParamArray=function(ye){null==ye&&-1!=Ie(this.hex,0,[0,"[3]"])&&(ye=Fe(this.hex,0,[0,"[3]",0],"30"));for(var Ve=[],Le=B(ye,0),Ue=0;Ue<Le.length;Ue++){var et=Z(ye,Le[Ue]),ut=this.getExtParam(et);null!=ut&&Ve.push(ut)}return Ve},this.getExtParam=function(ye){var Ve=B(ye,0).length;if(2!=Ve&&3!=Ve)throw new Error("wrong number elements in Extension: "+Ve+" "+ye);var Le=Je(de(ye,0,[0],"06")),Ue=!1;3==Ve&&"0101ff"==Ce(ye,0,[1])&&(Ue=!0);var et=Ce(ye,0,[Ve-1,0]),ut=void 0;if("2.5.29.14"==Le?ut=this.getExtSubjectKeyIdentifier(et,Ue):"2.5.29.15"==Le?ut=this.getExtKeyUsage(et,Ue):"2.5.29.17"==Le?ut=this.getExtSubjectAltName(et,Ue):"2.5.29.18"==Le?ut=this.getExtIssuerAltName(et,Ue):"2.5.29.19"==Le?ut=this.getExtBasicConstraints(et,Ue):"2.5.29.31"==Le?ut=this.getExtCRLDistributionPoints(et,Ue):"2.5.29.32"==Le?ut=this.getExtCertificatePolicies(et,Ue):"2.5.29.35"==Le?ut=this.getExtAuthorityKeyIdentifier(et,Ue):"2.5.29.37"==Le?ut=this.getExtExtKeyUsage(et,Ue):"1.3.6.1.5.5.7.1.1"==Le?ut=this.getExtAuthorityInfoAccess(et,Ue):"2.5.29.20"==Le?ut=this.getExtCRLNumber(et,Ue):"2.5.29.21"==Le?ut=this.getExtCRLReason(et,Ue):"1.3.6.1.5.5.7.48.1.2"==Le?ut=this.getExtOcspNonce(et,Ue):"1.3.6.1.5.5.7.48.1.5"==Le?ut=this.getExtOcspNoCheck(et,Ue):"1.2.840.113583.1.1.9.1"==Le&&(ut=this.getExtAdobeTimeStamp(et,Ue)),null!=ut)return ut;var Gt={extname:Le,extn:et};return Ue&&(Gt.critical=!0),Gt},this.findExt=function(ye,Ve){for(var Le=0;Le<ye.length;Le++)if(ye[Le].extname==Ve)return ye[Le];return null},this.updateExtCDPFullURI=function(ye,Ve){var Le=this.findExt(ye,"cRLDistributionPoints");if(null!=Le&&null!=Le.array)for(var Ue=Le.array,et=0;et<Ue.length;et++)if(null!=Ue[et].dpname&&null!=Ue[et].dpname.full)for(var ut=Ue[et].dpname.full,Gt=0;Gt<ut.length;Gt++){var Pt=ut[et];null!=Pt.uri&&(Pt.uri=Ve)}},this.updateExtAIAOCSP=function(ye,Ve){var Le=this.findExt(ye,"authorityInfoAccess");if(null!=Le&&null!=Le.array)for(var Ue=Le.array,et=0;et<Ue.length;et++)null!=Ue[et].ocsp&&(Ue[et].ocsp=Ve)},this.updateExtAIACAIssuer=function(ye,Ve){var Le=this.findExt(ye,"authorityInfoAccess");if(null!=Le&&null!=Le.array)for(var Ue=Le.array,et=0;et<Ue.length;et++)null!=Ue[et].caissuer&&(Ue[et].caissuer=Ve)},this.dnarraytostr=function(ye){return"/"+ye.map(function(Ve){return Ve.map(function(et){return(Gt=et).type+"="+Gt.value;var Gt}).join("+")}).join("/")},this.getInfo=function(){var ye,Ve,Le,Ue=function(ka){return JSON.stringify(ka.array).replace(/[\[\]\{\}\"]/g,"")},et=function(ka){for(var ua="",Aa=ka.array,Pr=0;Pr<Aa.length;Pr++){var _r=Aa[Pr];if(ua+="    policy oid: "+_r.policyoid+"\n",void 0!==_r.array)for(var ta=0;ta<_r.array.length;ta++){var Ca=_r.array[ta];void 0!==Ca.cps&&(ua+="    cps: "+Ca.cps+"\n")}}return ua},ut=function(ka){for(var ua="",Aa=ka.array,Pr=0;Pr<Aa.length;Pr++){var _r=Aa[Pr];try{void 0!==_r.dpname.full[0].uri&&(ua+="    "+_r.dpname.full[0].uri+"\n")}catch{}try{void 0!==_r.dname.full[0].dn.hex&&(ua+="    "+gn.hex2dn(_r.dpname.full[0].dn.hex)+"\n")}catch{}}return ua},Gt=function(ka){for(var ua="",Aa=ka.array,Pr=0;Pr<Aa.length;Pr++){var _r=Aa[Pr];void 0!==_r.caissuer&&(ua+="    caissuer: "+_r.caissuer+"\n"),void 0!==_r.ocsp&&(ua+="    ocsp: "+_r.ocsp+"\n")}return ua};if(ye="Basic Fields\n",ye+="  serial number: "+this.getSerialNumberHex()+"\n",ye+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",ye+="  issuer: "+this.getIssuerString()+"\n",ye+="  notBefore: "+this.getNotBefore()+"\n",ye+="  notAfter: "+this.getNotAfter()+"\n",ye+="  subject: "+this.getSubjectString()+"\n",ye+="  subject public key info: \n",ye+="    key algorithm: "+(Ve=this.getPublicKey()).type+"\n","RSA"===Ve.type&&(ye+="    n="+Gr(Ve.n.toString(16)).substr(0,16)+"...\n",ye+="    e="+Gr(Ve.e.toString(16))+"\n"),null!=(Le=this.aExtInfo)){ye+="X509v3 Extensions:\n";for(var Pt=0;Pt<Le.length;Pt++){var An=Le[Pt],$t=we.asn1.x509.OID.oid2name(An.oid);""===$t&&($t=An.oid);var Zt="";if(!0===An.critical&&(Zt="CRITICAL"),ye+="  "+$t+" "+Zt+":\n","basicConstraints"===$t){var ar=this.getExtBasicConstraints();void 0===ar.cA?ye+="    {}\n":(ye+="    cA=true",void 0!==ar.pathLen&&(ye+=", pathLen="+ar.pathLen),ye+="\n")}else if("keyUsage"===$t)ye+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===$t)ye+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===$t){var lr=this.getExtAuthorityKeyIdentifier();void 0!==lr.kid&&(ye+="    kid="+lr.kid.hex+"\n")}else"extKeyUsage"===$t?ye+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===$t?ye+="    "+Ue(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===$t?ye+=ut(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===$t?ye+=Gt(this.getExtAuthorityInfoAccess()):"certificatePolicies"===$t&&(ye+=et(this.getExtCertificatePolicies()))}}return(ye+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof S&&(-1!=S.indexOf("-----BEGIN")?this.readCertPEM(S):we.lang.String.isHex(S)&&this.readCertHex(S))}_t.prototype.sign=function(S,C){var E=function(z){return we.crypto.Util.hashString(z,C)}(S);return this.signWithMessageHash(E,C)},_t.prototype.signWithMessageHash=function(S,C){var E=tt(we.crypto.Util.getPaddedDigestInfoHex(S,C,this.n.bitLength()),16);return Ga(this.doPrivate(E).toString(16),this.n.bitLength())},_t.prototype.signPSS=function(S,C,E){var Z,B=(Z=Lt(S),we.crypto.Util.hashHex(Z,C));return void 0===E&&(E=-1),this.signWithMessageHashPSS(B,C,E)},_t.prototype.signWithMessageHashPSS=function(S,C,E){var B,z=wt(S),Z=z.length,de=this.n.bitLength()-1,Se=Math.ceil(de/8),Ce=function(ye){return we.crypto.Util.hashHex(ye,C)};if(-1===E||void 0===E)E=Z;else if(-2===E)E=Se-Z-2;else if(E<-2)throw new Error("invalid salt length");if(Se<Z+E+2)throw new Error("data too long");var Fe="";E>0&&(Fe=new Array(E),(new je).nextBytes(Fe),Fe=String.fromCharCode.apply(String,Fe));var Pe=wt(Ce(Lt("\0\0\0\0\0\0\0\0"+z+Fe))),Ie=[];for(B=0;B<Se-E-Z-2;B+=1)Ie[B]=0;var Ne=String.fromCharCode.apply(String,Ie)+"\x01"+Fe,Xe=pi(Pe,Ne.length,Ce),Je=[];for(B=0;B<Ne.length;B+=1)Je[B]=Ne.charCodeAt(B)^Xe.charCodeAt(B);for(Je[0]&=~(65280>>8*Se-de&255),B=0;B<Z;B++)Je.push(Pe.charCodeAt(B));return Je.push(188),Ga(this.doPrivate(new U(Je)).toString(16),this.n.bitLength())},_t.prototype.verify=function(S,C){var E=tt(C=(C=C.replace(rr,"")).replace(/[ \n]+/g,""),16);if(E.bitLength()>this.n.bitLength())return 0;var B=Di(this.doPublic(E).toString(16).replace(/^1f+00/,""));return 0!=B.length&&B[1]==we.crypto.Util.hashString(S,B[0])},_t.prototype.verifyWithMessageHash=function(S,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var E=tt(C,16);if(E.bitLength()>this.n.bitLength())return 0;var B=Di(this.doPublic(E).toString(16).replace(/^1f+00/,""));return 0!=B.length&&B[1]==S},_t.prototype.verifyPSS=function(S,C,E,B){var de,z=(de=Lt(S),we.crypto.Util.hashHex(de,E));return void 0===B&&(B=-1),this.verifyWithMessageHashPSS(z,C,E,B)},_t.prototype.verifyWithMessageHashPSS=function(S,C,E,B){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var z,Z=new U(C,16),de=function(Le){return we.crypto.Util.hashHex(Le,E)},Se=wt(S),Ce=Se.length,Fe=this.n.bitLength()-1,Pe=Math.ceil(Fe/8);if(-1===B||void 0===B)B=Ce;else if(-2===B)B=Pe-Ce-2;else if(B<-2)throw new Error("invalid salt length");if(Pe<Ce+B+2)throw new Error("data too long");var Ie=this.doPublic(Z).toByteArray();for(z=0;z<Ie.length;z+=1)Ie[z]&=255;for(;Ie.length<Pe;)Ie.unshift(0);if(188!==Ie[Pe-1])throw new Error("encoded message does not end in 0xbc");var Ne=(Ie=String.fromCharCode.apply(String,Ie)).substr(0,Pe-Ce-1),Xe=Ie.substr(Ne.length,Ce),Je=65280>>8*Pe-Fe&255;if(0!=(Ne.charCodeAt(0)&Je))throw new Error("bits beyond keysize not zero");var nt=pi(Xe,Ne.length,de),d=[];for(z=0;z<Ne.length;z+=1)d[z]=Ne.charCodeAt(z)^nt.charCodeAt(z);d[0]&=~Je;var ye=Pe-Ce-B-2;for(z=0;z<ye;z+=1)if(0!==d[z])throw new Error("leftmost octets not zero");if(1!==d[ye])throw new Error("0x01 marker not found");return Xe===wt(de(Lt("\0\0\0\0\0\0\0\0"+Se+String.fromCharCode.apply(String,d.slice(-B)))))},_t.SALT_LEN_HLEN=-1,_t.SALT_LEN_MAX=-2,_t.SALT_LEN_RECOVER=-2,gn.hex2dn=function(S,C){if(void 0===C&&(C=0),"30"!==S.substr(C,2))throw new Error("malformed DN");for(var E=new Array,B=ft.getChildIdx(S,C),z=0;z<B.length;z++)E.push(gn.hex2rdn(S,B[z]));return"/"+(E=E.map(function(Z){return Z.replace("/","\\/")})).join("/")},gn.hex2rdn=function(S,C){if(void 0===C&&(C=0),"31"!==S.substr(C,2))throw new Error("malformed RDN");for(var E=new Array,B=ft.getChildIdx(S,C),z=0;z<B.length;z++)E.push(gn.hex2attrTypeValue(S,B[z]));return(E=E.map(function(Z){return Z.replace("+","\\+")})).join("+")},gn.hex2attrTypeValue=function(S,C){var E=ft,B=E.getV;if(void 0===C&&(C=0),"30"!==S.substr(C,2))throw new Error("malformed attribute type and value");var z=E.getChildIdx(S,C);2!==z.length||S.substr(z[0],2);var Z=B(S,z[0]),de=we.asn1.ASN1Util.oidHexToInt(Z);return we.asn1.x509.OID.oid2atype(de)+"="+wt(B(S,z[1]))},gn.getPublicKeyFromCertHex=function(S){var C=new gn;return C.readCertHex(S),C.getPublicKey()},gn.getPublicKeyFromCertPEM=function(S){var C=new gn;return C.readCertPEM(S),C.getPublicKey()},gn.getPublicKeyInfoPropOfCertPEM=function(S){var C,E,B=ft.getVbyList,z={algparam:null};return(C=new gn).readCertPEM(S),E=C.getPublicKeyHex(),z.keyhex=B(E,0,[1],"03").substr(2),z.algoid=B(E,0,[0,0],"06"),"2a8648ce3d0201"===z.algoid&&(z.algparam=B(E,0,[0,1],"06")),z},gn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==we&&we||(b.KJUR=we={}),void 0!==we.jws&&we.jws||(we.jws={}),we.jws.JWS=function(){var S=we.jws.JWS.isSafeJSONString;this.parseJWS=function(C,E){if(void 0===this.parsedJWS||!E&&void 0===this.parsedJWS.sigvalH){var B=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==B)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var z=B[1],Z=B[2],de=B[3],Se=z+"."+Z;if(this.parsedJWS={},this.parsedJWS.headB64U=z,this.parsedJWS.payloadB64U=Z,this.parsedJWS.sigvalB64U=de,this.parsedJWS.si=Se,!E){var Ce=Et(de),Fe=tt(Ce,16);this.parsedJWS.sigvalH=Ce,this.parsedJWS.sigvalBI=Fe}var Pe=Dn(z),Ie=Dn(Z);if(this.parsedJWS.headS=Pe,this.parsedJWS.payloadS=Ie,!S(Pe,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Pe}}},we.jws.JWS.sign=function(S,C,E,B,z){var Z,de,Se,Fe=we.jws.JWS,Pe=Fe.readSafeJSONString,Ie=Fe.isSafeJSONString,Ne=we.crypto,Xe=Ne.Mac,Je=Ne.Signature,nt=JSON;if("string"!=typeof C&&"object"!=(void 0===C?"undefined":g(C)))throw"spHeader must be JSON string or object: "+C;if("object"==(void 0===C?"undefined":g(C))&&(Z=nt.stringify(de=C)),"string"==typeof C){if(!Ie(Z=C))throw"JWS Head is not safe JSON string: "+Z;de=Pe(Z)}if(Se=E,"object"==(void 0===E?"undefined":g(E))&&(Se=nt.stringify(E)),""!=S&&null!=S||void 0===de.alg||(S=de.alg),""!=S&&null!=S&&void 0===de.alg&&(de.alg=S,Z=nt.stringify(de)),S!==de.alg)throw"alg and sHeader.alg doesn't match: "+S+"!="+de.alg;var d=null;if(void 0===Fe.jwsalg2sigalg[S])throw"unsupported alg name: "+S;d=Fe.jwsalg2sigalg[S];var ye=Rn(Z)+"."+Rn(Se),Ve="";if("Hmac"==d.substr(0,4)){if(void 0===B)throw"mac key shall be specified for HS* alg";var Le=new Xe({alg:d,prov:"cryptojs",pass:B});Le.updateString(ye),Ve=Le.doFinal()}else if(-1!=d.indexOf("withECDSA")){(et=new Je({alg:d})).init(B,z),et.updateString(ye);var Ue=et.sign();Ve=we.crypto.ECDSA.asn1SigToConcatSig(Ue)}else{var et;"none"!=d&&((et=new Je({alg:d})).init(B,z),et.updateString(ye),Ve=et.sign())}return ye+"."+ze(Ve)},we.jws.JWS.verify=function(S,C,E){var B,Z=we.jws.JWS,de=Z.readSafeJSONString,Se=we.crypto,Ce=Se.ECDSA,Fe=Se.Mac,Pe=Se.Signature;void 0!==g(_t)&&(B=_t);var Ie=S.split(".");if(3!==Ie.length)return!1;var d,Ne=Ie[0]+"."+Ie[1],Xe=Et(Ie[2]),Je=de(Dn(Ie[0])),nt=null;if(void 0===Je.alg)throw"algorithm not specified in header";if(d=(nt=Je.alg).substr(0,2),null!=E&&"[object Array]"===Object.prototype.toString.call(E)&&E.length>0&&-1==(":"+E.join(":")+":").indexOf(":"+nt+":"))throw"algorithm '"+nt+"' not accepted in the list";if("none"!=nt&&null===C)throw"key shall be specified to verify.";if("string"==typeof C&&-1!=C.indexOf("-----BEGIN ")&&(C=xn.getKey(C)),!("RS"!=d&&"PS"!=d||C instanceof B))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(C instanceof Ce))throw"key shall be a ECDSA obj for ES* algs";var ye=null;if(void 0===Z.jwsalg2sigalg[Je.alg])throw"unsupported alg name: "+nt;if("none"==(ye=Z.jwsalg2sigalg[nt]))throw"not supported";if("Hmac"==ye.substr(0,4)){if(void 0===C)throw"hexadecimal key shall be specified for HMAC";var Ve=new Fe({alg:ye,pass:C});return Ve.updateString(Ne),Xe==Ve.doFinal()}if(-1!=ye.indexOf("withECDSA")){var Le,Ue=null;try{Ue=Ce.concatSigToASN1Sig(Xe)}catch{return!1}return(Le=new Pe({alg:ye})).init(C),Le.updateString(Ne),Le.verify(Ue)}return(Le=new Pe({alg:ye})).init(C),Le.updateString(Ne),Le.verify(Xe)},we.jws.JWS.parse=function(S){var E,B,z=S.split("."),Z={};if(2!=z.length&&3!=z.length)throw"malformed sJWS: wrong number of '.' splitted elements";return E=z[1],3==z.length&&(B=z[2]),Z.headerObj=we.jws.JWS.readSafeJSONString(Dn(z[0])),Z.payloadObj=we.jws.JWS.readSafeJSONString(Dn(E)),Z.headerPP=JSON.stringify(Z.headerObj,null,"  "),Z.payloadPP=null==Z.payloadObj?Dn(E):JSON.stringify(Z.payloadObj,null,"  "),void 0!==B&&(Z.sigHex=Et(B)),Z},we.jws.JWS.verifyJWT=function(S,C,E){var B=we.jws,z=B.JWS,Z=z.readSafeJSONString,de=z.inArray,Se=z.includedArray,Ce=S.split("."),Fe=Ce[0],Pe=Ce[1],Ie=(Et(Ce[2]),Z(Dn(Fe))),Ne=Z(Dn(Pe));if(void 0===Ie.alg)return!1;if(void 0===E.alg)throw"acceptField.alg shall be specified";if(!de(Ie.alg,E.alg)||void 0!==Ne.iss&&"object"===g(E.iss)&&!de(Ne.iss,E.iss)||void 0!==Ne.sub&&"object"===g(E.sub)&&!de(Ne.sub,E.sub))return!1;if(void 0!==Ne.aud&&"object"===g(E.aud))if("string"==typeof Ne.aud){if(!de(Ne.aud,E.aud))return!1}else if("object"==g(Ne.aud)&&!Se(Ne.aud,E.aud))return!1;var Xe=B.IntDate.getNow();return void 0!==E.verifyAt&&"number"==typeof E.verifyAt&&(Xe=E.verifyAt),void 0!==E.gracePeriod&&"number"==typeof E.gracePeriod||(E.gracePeriod=0),!(void 0!==Ne.exp&&"number"==typeof Ne.exp&&Ne.exp+E.gracePeriod<Xe||void 0!==Ne.nbf&&"number"==typeof Ne.nbf&&Xe<Ne.nbf-E.gracePeriod||void 0!==Ne.iat&&"number"==typeof Ne.iat&&Xe<Ne.iat-E.gracePeriod||void 0!==Ne.jti&&void 0!==E.jti&&Ne.jti!==E.jti||!z.verify(S,C,E.alg))},we.jws.JWS.includedArray=function(S,C){var E=we.jws.JWS.inArray;if(null===S||"object"!==(void 0===S?"undefined":g(S))||"number"!=typeof S.length)return!1;for(var B=0;B<S.length;B++)if(!E(S[B],C))return!1;return!0},we.jws.JWS.inArray=function(S,C){if(null===C||"object"!==(void 0===C?"undefined":g(C))||"number"!=typeof C.length)return!1;for(var E=0;E<C.length;E++)if(C[E]==S)return!0;return!1},we.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},we.jws.JWS.isSafeJSONString=function(S,C,E){var B=null;try{return"object"!=(void 0===(B=fn(S))?"undefined":g(B))||B.constructor===Array?0:(C&&(C[E]=B),1)}catch{return 0}},we.jws.JWS.readSafeJSONString=function(S){var C=null;try{return"object"!=(void 0===(C=fn(S))?"undefined":g(C))||C.constructor===Array?null:C}catch{return null}},we.jws.JWS.getEncodedSignatureValueFromJWS=function(S){var C=S.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==C)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},we.jws.JWS.getJWKthumbprint=function(S){if("RSA"!==S.kty&&"EC"!==S.kty&&"oct"!==S.kty)throw"unsupported algorithm for JWK Thumprint";var C="{";if("RSA"===S.kty){if("string"!=typeof S.n||"string"!=typeof S.e)throw"wrong n and e value for RSA key";C+='"e":"'+S.e+'",',C+='"kty":"'+S.kty+'",',C+='"n":"'+S.n+'"}'}else if("EC"===S.kty){if("string"!=typeof S.crv||"string"!=typeof S.x||"string"!=typeof S.y)throw"wrong crv, x and y value for EC key";C+='"crv":"'+S.crv+'",',C+='"kty":"'+S.kty+'",',C+='"x":"'+S.x+'",',C+='"y":"'+S.y+'"}'}else if("oct"===S.kty){if("string"!=typeof S.k)throw"wrong k value for oct(symmetric) key";C+='"kty":"'+S.kty+'",',C+='"k":"'+S.k+'"}'}var E=Lt(C);return ze(we.crypto.Util.hashHex(E,"sha256"))},we.jws.IntDate={},we.jws.IntDate.get=function(S){var C=we.jws.IntDate,E=C.getNow,B=C.getZulu;if("now"==S)return E();if("now + 1hour"==S)return E()+3600;if("now + 1day"==S)return E()+86400;if("now + 1month"==S)return E()+2592e3;if("now + 1year"==S)return E()+31536e3;if(S.match(/Z$/))return B(S);if(S.match(/^[0-9]+$/))return parseInt(S);throw"unsupported format: "+S},we.jws.IntDate.getZulu=function(S){return yr(S)},we.jws.IntDate.getNow=function(){return~~(new Date/1e3)},we.jws.IntDate.intDate2UTCString=function(S){return new Date(1e3*S).toUTCString()},we.jws.IntDate.intDate2Zulu=function(S){var C=new Date(1e3*S);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},b.SecureRandom=je,b.rng_seed_time=re,b.BigInteger=U,b.RSAKey=_t,b.EDSA=we.crypto.EDSA,b.DSA=we.crypto.DSA,b.Signature=we.crypto.Signature,b.MessageDigest=we.crypto.MessageDigest,b.Mac=we.crypto.Mac,b.Cipher=we.crypto.Cipher,b.KEYUTIL=xn,b.ASN1HEX=ft,b.X509=gn,b.CryptoJS=I,b.b64tohex=W,b.b64toBA=X,b.stoBA=Nt,b.BAtos=Ct,b.BAtohex=kt,b.stohex=Dt,b.stob64=function(C){return ee(Dt(C))},b.stob64u=function(C){return mt(ee(Dt(C)))},b.b64utos=function(C){return Ct(X(Ge(C)))},b.b64tob64u=mt,b.b64utob64=Ge,b.hex2b64=ee,b.hextob64u=ze,b.b64utohex=Et,b.utf8tob64u=Rn,b.b64utoutf8=Dn,b.utf8tob64=function(C){return ee(Zn(jn(C)))},b.b64toutf8=function(C){return decodeURIComponent(Tn(W(C)))},b.utf8tohex=Tt,b.hextoutf8=Ft,b.hextorstr=wt,b.rstrtohex=Lt,b.hextob64=sn,b.hextob64nl=jt,b.b64nltohex=Un,b.hextopem=tn,b.pemtohex=pn,b.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(null==C.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var E=new ArrayBuffer(C.length/2),B=new DataView(E),z=0;z<C.length/2;z++)B.setUint8(z,parseInt(C.substr(2*z,2),16));return E},b.ArrayBuffertohex=function(C){for(var E="",B=new DataView(C),z=0;z<C.byteLength;z++)E+=("00"+B.getUint8(z).toString(16)).slice(-2);return E},b.zulutomsec=kn,b.zulutosec=yr,b.zulutodate=function(C){return new Date(kn(C))},b.datetozulu=function(C,E,B){var z,Z=C.getUTCFullYear();if(E){if(Z<1950||2049<Z)throw"not proper year for UTCTime: "+Z;z=(""+Z).slice(-2)}else z=("000"+Z).slice(-4);if(z+=("0"+(C.getUTCMonth()+1)).slice(-2),z+=("0"+C.getUTCDate()).slice(-2),z+=("0"+C.getUTCHours()).slice(-2),z+=("0"+C.getUTCMinutes()).slice(-2),z+=("0"+C.getUTCSeconds()).slice(-2),B){var de=C.getUTCMilliseconds();0!==de&&(z+="."+(de=(de=("00"+de).slice(-3)).replace(/0+$/g,"")))}return z+"Z"},b.uricmptohex=Zn,b.hextouricmp=Tn,b.ipv6tohex=kr,b.hextoipv6=Nr,b.hextoip=Gn,b.iptohex=function(C){var E="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&-1!==C.indexOf(":"))return kr(C);throw E}var B=C.split(".");if(4!==B.length)throw E;var z="";try{for(var Z=0;Z<4;Z++)z+=("0"+parseInt(B[Z]).toString(16)).slice(-2);return z}catch{throw E}},b.encodeURIComponentAll=jn,b.newline_toUnix=function(C){return C.replace(/\r\n/gm,"\n")},b.newline_toDos=function(C){return(C=C.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},b.hextoposhex=Gr,b.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(E,B,z){var Z=parseInt(E);if(Z<0||255<Z)throw"integer not in range 0-255";return("00"+Z.toString(16)).slice(-2)}).join("")}catch(E){throw"malformed integer array string: "+E}},b.strdiffidx=function(C,E){var B=C.length;C.length>E.length&&(B=E.length);for(var z=0;z<B;z++)if(C.charCodeAt(z)!=E.charCodeAt(z))return z;return C.length!=E.length?B:-1},b.KJUR=we,b.crypto=we.crypto,b.asn1=we.asn1,b.jws=we.jws,b.lang=we.lang}).call(this,M(28).Buffer)},function(se,b,M){"use strict";(function(G){var g=M(30),v=M(31),F=M(32);function A(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(fe,H){if(A()<H)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(fe=new Uint8Array(H)).__proto__=f.prototype:(null===fe&&(fe=new f(H)),fe.length=H),fe}function f(fe,H,K){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(fe,H,K);if("number"==typeof fe){if("string"==typeof H)throw new Error("If encoding is specified then the first argument must be a string");return T(this,fe)}return k(this,fe,H,K)}function k(fe,H,K,xe){if("number"==typeof H)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&H instanceof ArrayBuffer?function(ae,re,Me,oe){if(Me<0||re.byteLength<Me)throw new RangeError("'offset' is out of bounds");if(re.byteLength<Me+(oe||0))throw new RangeError("'length' is out of bounds");return re=void 0===Me&&void 0===oe?new Uint8Array(re):void 0===oe?new Uint8Array(re,Me):new Uint8Array(re,Me,oe),f.TYPED_ARRAY_SUPPORT?(ae=re).__proto__=f.prototype:ae=h(ae,re),ae}(fe,H,K,xe):"string"==typeof H?function(ae,re,Me){if("string"==typeof Me&&""!==Me||(Me="utf8"),!f.isEncoding(Me))throw new TypeError('"encoding" must be a valid string encoding');var oe=0|O(re,Me),J=(ae=o(ae,oe)).write(re,Me);return J!==oe&&(ae=ae.slice(0,J)),ae}(fe,H,K):function(ae,re){if(f.isBuffer(re)){var Me=0|_(re.length);return 0===(ae=o(ae,Me)).length||re.copy(ae,0,0,Me),ae}if(re){if(typeof ArrayBuffer<"u"&&re.buffer instanceof ArrayBuffer||"length"in re)return"number"!=typeof re.length||(J=re.length)!=J?o(ae,0):h(ae,re);if("Buffer"===re.type&&F(re.data))return h(ae,re.data)}var J;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(fe,H)}function V(fe){if("number"!=typeof fe)throw new TypeError('"size" argument must be a number');if(fe<0)throw new RangeError('"size" argument must not be negative')}function T(fe,H){if(V(H),fe=o(fe,H<0?0:0|_(H)),!f.TYPED_ARRAY_SUPPORT)for(var K=0;K<H;++K)fe[K]=0;return fe}function h(fe,H){var K=H.length<0?0:0|_(H.length);fe=o(fe,K);for(var xe=0;xe<K;xe+=1)fe[xe]=255&H[xe];return fe}function _(fe){if(fe>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return 0|fe}function O(fe,H){if(f.isBuffer(fe))return fe.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(fe)||fe instanceof ArrayBuffer))return fe.byteLength;"string"!=typeof fe&&(fe=""+fe);var K=fe.length;if(0===K)return 0;for(var xe=!1;;)switch(H){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":case void 0:return qe(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return rt(fe).length;default:if(xe)return qe(fe).length;H=(""+H).toLowerCase(),xe=!0}}function w(fe,H,K){var xe=!1;if((void 0===H||H<0)&&(H=0),H>this.length||((void 0===K||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(H>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return pe(this,H,K);case"utf8":case"utf-8":return ce(this,H,K);case"ascii":return Y(this,H,K);case"latin1":case"binary":return ie(this,H,K);case"base64":return ne(this,H,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,H,K);default:if(xe)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),xe=!0}}function P(fe,H,K){var xe=fe[H];fe[H]=fe[K],fe[K]=xe}function j(fe,H,K,xe,Te){if(0===fe.length)return-1;if("string"==typeof K?(xe=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,isNaN(K)&&(K=Te?0:fe.length-1),K<0&&(K=fe.length+K),K>=fe.length){if(Te)return-1;K=fe.length-1}else if(K<0){if(!Te)return-1;K=0}if("string"==typeof H&&(H=f.from(H,xe)),f.isBuffer(H))return 0===H.length?-1:I(fe,H,K,xe,Te);if("number"==typeof H)return H&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Te?Uint8Array.prototype.indexOf.call(fe,H,K):Uint8Array.prototype.lastIndexOf.call(fe,H,K):I(fe,[H],K,xe,Te);throw new TypeError("val must be string, number or Buffer")}function I(fe,H,K,xe,Te){var ae,re=1,Me=fe.length,oe=H.length;if(void 0!==xe&&("ucs2"===(xe=String(xe).toLowerCase())||"ucs-2"===xe||"utf16le"===xe||"utf-16le"===xe)){if(fe.length<2||H.length<2)return-1;re=2,Me/=2,oe/=2,K/=2}function J(tt,it){return 1===re?tt[it]:tt.readUInt16BE(it*re)}if(Te){var Q=-1;for(ae=K;ae<Me;ae++)if(J(fe,ae)===J(H,-1===Q?0:ae-Q)){if(-1===Q&&(Q=ae),ae-Q+1===oe)return Q*re}else-1!==Q&&(ae-=ae-Q),Q=-1}else for(K+oe>Me&&(K=Me-oe),ae=K;ae>=0;ae--){for(var be=!0,je=0;je<oe;je++)if(J(fe,ae+je)!==J(H,je)){be=!1;break}if(be)return ae}return-1}function R(fe,H,K,xe){K=Number(K)||0;var Te=fe.length-K;xe?(xe=Number(xe))>Te&&(xe=Te):xe=Te;var ae=H.length;if(ae%2!=0)throw new TypeError("Invalid hex string");xe>ae/2&&(xe=ae/2);for(var re=0;re<xe;++re){var Me=parseInt(H.substr(2*re,2),16);if(isNaN(Me))return re;fe[K+re]=Me}return re}function L(fe,H,K,xe){return ht(qe(H,fe.length-K),fe,K,xe)}function ee(fe,H,K,xe){return ht(function(ae){for(var re=[],Me=0;Me<ae.length;++Me)re.push(255&ae.charCodeAt(Me));return re}(H),fe,K,xe)}function W(fe,H,K,xe){return ee(fe,H,K,xe)}function X(fe,H,K,xe){return ht(rt(H),fe,K,xe)}function U(fe,H,K,xe){return ht(function(ae,re){for(var Me,oe,Q=[],be=0;be<ae.length&&!((re-=2)<0);++be)oe=(Me=ae.charCodeAt(be))>>8,Q.push(Me%256),Q.push(oe);return Q}(H,fe.length-K),fe,K,xe)}function ne(fe,H,K){return g.fromByteArray(0===H&&K===fe.length?fe:fe.slice(H,K))}function ce(fe,H,K){K=Math.min(fe.length,K);for(var xe=[],Te=H;Te<K;){var ae,re,Me,oe,J=fe[Te],Q=null,be=J>239?4:J>223?3:J>191?2:1;if(Te+be<=K)switch(be){case 1:J<128&&(Q=J);break;case 2:128==(192&(ae=fe[Te+1]))&&(oe=(31&J)<<6|63&ae)>127&&(Q=oe);break;case 3:re=fe[Te+2],128==(192&(ae=fe[Te+1]))&&128==(192&re)&&(oe=(15&J)<<12|(63&ae)<<6|63&re)>2047&&(oe<55296||oe>57343)&&(Q=oe);break;case 4:re=fe[Te+2],Me=fe[Te+3],128==(192&(ae=fe[Te+1]))&&128==(192&re)&&128==(192&Me)&&(oe=(15&J)<<18|(63&ae)<<12|(63&re)<<6|63&Me)>65535&&oe<1114112&&(Q=oe)}null===Q?(Q=65533,be=1):Q>65535&&(xe.push((Q-=65536)>>>10&1023|55296),Q=56320|1023&Q),xe.push(Q),Te+=be}return function(tt){var it=tt.length;if(it<=te)return String.fromCharCode.apply(String,tt);for(var _t="",Bt=0;Bt<it;)_t+=String.fromCharCode.apply(String,tt.slice(Bt,Bt+=te));return _t}(xe)}b.Buffer=f,b.SlowBuffer=function(H){return+H!=H&&(H=0),f.alloc(+H)},b.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==G.TYPED_ARRAY_SUPPORT?G.TYPED_ARRAY_SUPPORT:function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===H.foo()&&"function"==typeof H.subarray&&0===H.subarray(1,1).byteLength}catch{return!1}}(),b.kMaxLength=A(),f.poolSize=8192,f._augment=function(fe){return fe.__proto__=f.prototype,fe},f.from=function(fe,H,K){return k(null,fe,H,K)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(fe,H,K){return re=H,Me=K,V(ae=fe),ae<=0?o(null,ae):void 0!==re?"string"==typeof Me?o(null,ae).fill(re,Me):o(null,ae).fill(re):o(null,ae);var ae,re,Me},f.allocUnsafe=function(fe){return T(null,fe)},f.allocUnsafeSlow=function(fe){return T(null,fe)},f.isBuffer=function(H){return!(null==H||!H._isBuffer)},f.compare=function(H,K){if(!f.isBuffer(H)||!f.isBuffer(K))throw new TypeError("Arguments must be Buffers");if(H===K)return 0;for(var xe=H.length,Te=K.length,ae=0,re=Math.min(xe,Te);ae<re;++ae)if(H[ae]!==K[ae]){xe=H[ae],Te=K[ae];break}return xe<Te?-1:Te<xe?1:0},f.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(H,K){if(!F(H))throw new TypeError('"list" argument must be an Array of Buffers');if(0===H.length)return f.alloc(0);var xe;if(void 0===K)for(K=0,xe=0;xe<H.length;++xe)K+=H[xe].length;var Te=f.allocUnsafe(K),ae=0;for(xe=0;xe<H.length;++xe){var re=H[xe];if(!f.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(Te,ae),ae+=re.length}return Te},f.byteLength=O,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var K=0;K<H;K+=2)P(this,K,K+1);return this},f.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var K=0;K<H;K+=4)P(this,K,K+3),P(this,K+1,K+2);return this},f.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var K=0;K<H;K+=8)P(this,K,K+7),P(this,K+1,K+6),P(this,K+2,K+5),P(this,K+3,K+4);return this},f.prototype.toString=function(){var H=0|this.length;return 0===H?"":0===arguments.length?ce(this,0,H):w.apply(this,arguments)},f.prototype.equals=function(H){if(!f.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||0===f.compare(this,H)},f.prototype.inspect=function(){var H="",K=b.INSPECT_MAX_BYTES;return this.length>0&&(H=this.toString("hex",0,K).match(/.{2}/g).join(" "),this.length>K&&(H+=" ... ")),"<Buffer "+H+">"},f.prototype.compare=function(H,K,xe,Te,ae){if(!f.isBuffer(H))throw new TypeError("Argument must be a Buffer");if(void 0===K&&(K=0),void 0===xe&&(xe=H?H.length:0),void 0===Te&&(Te=0),void 0===ae&&(ae=this.length),K<0||xe>H.length||Te<0||ae>this.length)throw new RangeError("out of range index");if(Te>=ae&&K>=xe)return 0;if(Te>=ae)return-1;if(K>=xe)return 1;if(this===H)return 0;for(var re=(ae>>>=0)-(Te>>>=0),Me=(xe>>>=0)-(K>>>=0),oe=Math.min(re,Me),J=this.slice(Te,ae),Q=H.slice(K,xe),be=0;be<oe;++be)if(J[be]!==Q[be]){re=J[be],Me=Q[be];break}return re<Me?-1:Me<re?1:0},f.prototype.includes=function(H,K,xe){return-1!==this.indexOf(H,K,xe)},f.prototype.indexOf=function(H,K,xe){return j(this,H,K,xe,!0)},f.prototype.lastIndexOf=function(H,K,xe){return j(this,H,K,xe,!1)},f.prototype.write=function(H,K,xe,Te){if(void 0===K)Te="utf8",xe=this.length,K=0;else if(void 0===xe&&"string"==typeof K)Te=K,xe=this.length,K=0;else{if(!isFinite(K))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");K|=0,isFinite(xe)?(xe|=0,void 0===Te&&(Te="utf8")):(Te=xe,xe=void 0)}var ae=this.length-K;if((void 0===xe||xe>ae)&&(xe=ae),H.length>0&&(xe<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");for(var re=!1;;)switch(Te){case"hex":return R(this,H,K,xe);case"utf8":case"utf-8":return L(this,H,K,xe);case"ascii":return ee(this,H,K,xe);case"latin1":case"binary":return W(this,H,K,xe);case"base64":return X(this,H,K,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,H,K,xe);default:if(re)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),re=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var te=4096;function Y(fe,H,K){var xe="";K=Math.min(fe.length,K);for(var Te=H;Te<K;++Te)xe+=String.fromCharCode(127&fe[Te]);return xe}function ie(fe,H,K){var xe="";K=Math.min(fe.length,K);for(var Te=H;Te<K;++Te)xe+=String.fromCharCode(fe[Te]);return xe}function pe(fe,H,K){var xe=fe.length;(!H||H<0)&&(H=0),(!K||K<0||K>xe)&&(K=xe);for(var Te="",ae=H;ae<K;++ae)Te+=gt(fe[ae]);return Te}function _e(fe,H,K){for(var xe=fe.slice(H,K),Te="",ae=0;ae<xe.length;ae+=2)Te+=String.fromCharCode(xe[ae]+256*xe[ae+1]);return Te}function he(fe,H,K){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+H>K)throw new RangeError("Trying to access beyond buffer length")}function ue(fe,H,K,xe,Te,ae){if(!f.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>Te||H<ae)throw new RangeError('"value" argument is out of bounds');if(K+xe>fe.length)throw new RangeError("Index out of range")}function $e(fe,H,K,xe){H<0&&(H=65535+H+1);for(var Te=0,ae=Math.min(fe.length-K,2);Te<ae;++Te)fe[K+Te]=(H&255<<8*(xe?Te:1-Te))>>>8*(xe?Te:1-Te)}function Ee(fe,H,K,xe){H<0&&(H=4294967295+H+1);for(var Te=0,ae=Math.min(fe.length-K,4);Te<ae;++Te)fe[K+Te]=H>>>8*(xe?Te:3-Te)&255}function Be(fe,H,K,xe,Te,ae){if(K+xe>fe.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Qe(fe,H,K,xe,Te){return Te||Be(fe,0,K,4),v.write(fe,H,K,xe,23,4),K+4}function Ze(fe,H,K,xe,Te){return Te||Be(fe,0,K,8),v.write(fe,H,K,xe,52,8),K+8}f.prototype.slice=function(H,K){var xe,Te=this.length;if((H=~~H)<0?(H+=Te)<0&&(H=0):H>Te&&(H=Te),(K=void 0===K?Te:~~K)<0?(K+=Te)<0&&(K=0):K>Te&&(K=Te),K<H&&(K=H),f.TYPED_ARRAY_SUPPORT)(xe=this.subarray(H,K)).__proto__=f.prototype;else{var ae=K-H;xe=new f(ae,void 0);for(var re=0;re<ae;++re)xe[re]=this[re+H]}return xe},f.prototype.readUIntLE=function(H,K,xe){H|=0,K|=0,xe||he(H,K,this.length);for(var Te=this[H],ae=1,re=0;++re<K&&(ae*=256);)Te+=this[H+re]*ae;return Te},f.prototype.readUIntBE=function(H,K,xe){H|=0,K|=0,xe||he(H,K,this.length);for(var Te=this[H+--K],ae=1;K>0&&(ae*=256);)Te+=this[H+--K]*ae;return Te},f.prototype.readUInt8=function(H,K){return K||he(H,1,this.length),this[H]},f.prototype.readUInt16LE=function(H,K){return K||he(H,2,this.length),this[H]|this[H+1]<<8},f.prototype.readUInt16BE=function(H,K){return K||he(H,2,this.length),this[H]<<8|this[H+1]},f.prototype.readUInt32LE=function(H,K){return K||he(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},f.prototype.readUInt32BE=function(H,K){return K||he(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},f.prototype.readIntLE=function(H,K,xe){H|=0,K|=0,xe||he(H,K,this.length);for(var Te=this[H],ae=1,re=0;++re<K&&(ae*=256);)Te+=this[H+re]*ae;return Te>=(ae*=128)&&(Te-=Math.pow(2,8*K)),Te},f.prototype.readIntBE=function(H,K,xe){H|=0,K|=0,xe||he(H,K,this.length);for(var Te=K,ae=1,re=this[H+--Te];Te>0&&(ae*=256);)re+=this[H+--Te]*ae;return re>=(ae*=128)&&(re-=Math.pow(2,8*K)),re},f.prototype.readInt8=function(H,K){return K||he(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},f.prototype.readInt16LE=function(H,K){K||he(H,2,this.length);var xe=this[H]|this[H+1]<<8;return 32768&xe?4294901760|xe:xe},f.prototype.readInt16BE=function(H,K){K||he(H,2,this.length);var xe=this[H+1]|this[H]<<8;return 32768&xe?4294901760|xe:xe},f.prototype.readInt32LE=function(H,K){return K||he(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},f.prototype.readInt32BE=function(H,K){return K||he(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},f.prototype.readFloatLE=function(H,K){return K||he(H,4,this.length),v.read(this,H,!0,23,4)},f.prototype.readFloatBE=function(H,K){return K||he(H,4,this.length),v.read(this,H,!1,23,4)},f.prototype.readDoubleLE=function(H,K){return K||he(H,8,this.length),v.read(this,H,!0,52,8)},f.prototype.readDoubleBE=function(H,K){return K||he(H,8,this.length),v.read(this,H,!1,52,8)},f.prototype.writeUIntLE=function(H,K,xe,Te){H=+H,K|=0,xe|=0,Te||ue(this,H,K,xe,Math.pow(2,8*xe)-1,0);var ae=1,re=0;for(this[K]=255&H;++re<xe&&(ae*=256);)this[K+re]=H/ae&255;return K+xe},f.prototype.writeUIntBE=function(H,K,xe,Te){H=+H,K|=0,xe|=0,Te||ue(this,H,K,xe,Math.pow(2,8*xe)-1,0);var ae=xe-1,re=1;for(this[K+ae]=255&H;--ae>=0&&(re*=256);)this[K+ae]=H/re&255;return K+xe},f.prototype.writeUInt8=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,1,255,0),f.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),this[K]=255&H,K+1},f.prototype.writeUInt16LE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[K]=255&H,this[K+1]=H>>>8):$e(this,H,K,!0),K+2},f.prototype.writeUInt16BE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[K]=H>>>8,this[K+1]=255&H):$e(this,H,K,!1),K+2},f.prototype.writeUInt32LE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[K+3]=H>>>24,this[K+2]=H>>>16,this[K+1]=H>>>8,this[K]=255&H):Ee(this,H,K,!0),K+4},f.prototype.writeUInt32BE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[K]=H>>>24,this[K+1]=H>>>16,this[K+2]=H>>>8,this[K+3]=255&H):Ee(this,H,K,!1),K+4},f.prototype.writeIntLE=function(H,K,xe,Te){if(H=+H,K|=0,!Te){var ae=Math.pow(2,8*xe-1);ue(this,H,K,xe,ae-1,-ae)}var re=0,Me=1,oe=0;for(this[K]=255&H;++re<xe&&(Me*=256);)H<0&&0===oe&&0!==this[K+re-1]&&(oe=1),this[K+re]=(H/Me|0)-oe&255;return K+xe},f.prototype.writeIntBE=function(H,K,xe,Te){if(H=+H,K|=0,!Te){var ae=Math.pow(2,8*xe-1);ue(this,H,K,xe,ae-1,-ae)}var re=xe-1,Me=1,oe=0;for(this[K+re]=255&H;--re>=0&&(Me*=256);)H<0&&0===oe&&0!==this[K+re+1]&&(oe=1),this[K+re]=(H/Me|0)-oe&255;return K+xe},f.prototype.writeInt8=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,1,127,-128),f.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),H<0&&(H=255+H+1),this[K]=255&H,K+1},f.prototype.writeInt16LE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[K]=255&H,this[K+1]=H>>>8):$e(this,H,K,!0),K+2},f.prototype.writeInt16BE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[K]=H>>>8,this[K+1]=255&H):$e(this,H,K,!1),K+2},f.prototype.writeInt32LE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[K]=255&H,this[K+1]=H>>>8,this[K+2]=H>>>16,this[K+3]=H>>>24):Ee(this,H,K,!0),K+4},f.prototype.writeInt32BE=function(H,K,xe){return H=+H,K|=0,xe||ue(this,H,K,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),f.TYPED_ARRAY_SUPPORT?(this[K]=H>>>24,this[K+1]=H>>>16,this[K+2]=H>>>8,this[K+3]=255&H):Ee(this,H,K,!1),K+4},f.prototype.writeFloatLE=function(H,K,xe){return Qe(this,H,K,!0,xe)},f.prototype.writeFloatBE=function(H,K,xe){return Qe(this,H,K,!1,xe)},f.prototype.writeDoubleLE=function(H,K,xe){return Ze(this,H,K,!0,xe)},f.prototype.writeDoubleBE=function(H,K,xe){return Ze(this,H,K,!1,xe)},f.prototype.copy=function(H,K,xe,Te){if(xe||(xe=0),Te||0===Te||(Te=this.length),K>=H.length&&(K=H.length),K||(K=0),Te>0&&Te<xe&&(Te=xe),Te===xe||0===H.length||0===this.length)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(xe<0||xe>=this.length)throw new RangeError("sourceStart out of bounds");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),H.length-K<Te-xe&&(Te=H.length-K+xe);var ae,re=Te-xe;if(this===H&&xe<K&&K<Te)for(ae=re-1;ae>=0;--ae)H[ae+K]=this[ae+xe];else if(re<1e3||!f.TYPED_ARRAY_SUPPORT)for(ae=0;ae<re;++ae)H[ae+K]=this[ae+xe];else Uint8Array.prototype.set.call(H,this.subarray(xe,xe+re),K);return re},f.prototype.fill=function(H,K,xe,Te){if("string"==typeof H){if("string"==typeof K?(Te=K,K=0,xe=this.length):"string"==typeof xe&&(Te=xe,xe=this.length),1===H.length){var ae=H.charCodeAt(0);ae<256&&(H=ae)}if(void 0!==Te&&"string"!=typeof Te)throw new TypeError("encoding must be a string");if("string"==typeof Te&&!f.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te)}else"number"==typeof H&&(H&=255);if(K<0||this.length<K||this.length<xe)throw new RangeError("Out of range index");if(xe<=K)return this;var re;if(K>>>=0,xe=void 0===xe?this.length:xe>>>0,H||(H=0),"number"==typeof H)for(re=K;re<xe;++re)this[re]=H;else{var Me=f.isBuffer(H)?H:qe(new f(H,Te).toString()),oe=Me.length;for(re=0;re<xe-K;++re)this[re+K]=Me[re%oe]}return this};var st=/[^+\/0-9A-Za-z-_]/g;function gt(fe){return fe<16?"0"+fe.toString(16):fe.toString(16)}function qe(fe,H){var K;H=H||1/0;for(var xe=fe.length,Te=null,ae=[],re=0;re<xe;++re){if((K=fe.charCodeAt(re))>55295&&K<57344){if(!Te){if(K>56319){(H-=3)>-1&&ae.push(239,191,189);continue}if(re+1===xe){(H-=3)>-1&&ae.push(239,191,189);continue}Te=K;continue}if(K<56320){(H-=3)>-1&&ae.push(239,191,189),Te=K;continue}K=65536+(Te-55296<<10|K-56320)}else Te&&(H-=3)>-1&&ae.push(239,191,189);if(Te=null,K<128){if((H-=1)<0)break;ae.push(K)}else if(K<2048){if((H-=2)<0)break;ae.push(K>>6|192,63&K|128)}else if(K<65536){if((H-=3)<0)break;ae.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;ae.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ae}function rt(fe){return g.toByteArray(function(K){if((K=(Te=K,Te.trim?Te.trim():Te.replace(/^\s+|\s+$/g,"")).replace(st,"")).length<2)return"";for(var Te;K.length%4!=0;)K+="=";return K}(fe))}function ht(fe,H,K,xe){for(var Te=0;Te<xe&&!(Te+K>=H.length||Te>=fe.length);++Te)H[Te+K]=fe[Te];return Te}}).call(this,M(29))},function(se,b){var M;M=function(){return this}();try{M=M||new Function("return this")()}catch{"object"==typeof window&&(M=window)}se.exports=M},function(se,b,M){"use strict";b.byteLength=function(T){var h=f(T),O=h[1];return 3*(h[0]+O)/4-O},b.toByteArray=function(T){var h,_,X,O=f(T),w=O[0],P=O[1],j=new v(3*(w+(X=P))/4-X),I=0,R=P>0?w-4:w;for(_=0;_<R;_+=4)h=g[T.charCodeAt(_)]<<18|g[T.charCodeAt(_+1)]<<12|g[T.charCodeAt(_+2)]<<6|g[T.charCodeAt(_+3)],j[I++]=h>>16&255,j[I++]=h>>8&255,j[I++]=255&h;return 2===P&&(h=g[T.charCodeAt(_)]<<2|g[T.charCodeAt(_+1)]>>4,j[I++]=255&h),1===P&&(h=g[T.charCodeAt(_)]<<10|g[T.charCodeAt(_+1)]<<4|g[T.charCodeAt(_+2)]>>2,j[I++]=h>>8&255,j[I++]=255&h),j},b.fromByteArray=function(T){for(var h,_=T.length,O=_%3,w=[],P=16383,j=0,I=_-O;j<I;j+=P)w.push(k(T,j,j+P>I?I:j+P));return 1===O?w.push(G[(h=T[_-1])>>2]+G[h<<4&63]+"=="):2===O&&w.push(G[(h=(T[_-2]<<8)+T[_-1])>>10]+G[h>>4&63]+G[h<<2&63]+"="),w.join("")};for(var G=[],g=[],v=typeof Uint8Array<"u"?Uint8Array:Array,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)G[A]=F[A],g[F.charCodeAt(A)]=A;function f(V){var T=V.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=V.indexOf("=");return-1===h&&(h=T),[h,h===T?0:4-h%4]}function k(V,T,h){for(var O,w=[],P=T;P<h;P+=3)w.push(G[(O=(V[P]<<16&16711680)+(V[P+1]<<8&65280)+(255&V[P+2]))>>18&63]+G[O>>12&63]+G[O>>6&63]+G[63&O]);return w.join("")}g[45]=62,g[95]=63},function(se,b){b.read=function(M,G,g,v,F){var A,o,f=8*F-v-1,k=(1<<f)-1,V=k>>1,T=-7,h=g?F-1:0,_=g?-1:1,O=M[G+h];for(h+=_,A=O&(1<<-T)-1,O>>=-T,T+=f;T>0;A=256*A+M[G+h],h+=_,T-=8);for(o=A&(1<<-T)-1,A>>=-T,T+=v;T>0;o=256*o+M[G+h],h+=_,T-=8);if(0===A)A=1-V;else{if(A===k)return o?NaN:1/0*(O?-1:1);o+=Math.pow(2,v),A-=V}return(O?-1:1)*o*Math.pow(2,A-v)},b.write=function(M,G,g,v,F,A){var o,f,k,V=8*A-F-1,T=(1<<V)-1,h=T>>1,_=23===F?Math.pow(2,-24)-Math.pow(2,-77):0,O=v?0:A-1,w=v?1:-1,P=G<0||0===G&&1/G<0?1:0;for(G=Math.abs(G),isNaN(G)||G===1/0?(f=isNaN(G)?1:0,o=T):(o=Math.floor(Math.log(G)/Math.LN2),G*(k=Math.pow(2,-o))<1&&(o--,k*=2),(G+=o+h>=1?_/k:_*Math.pow(2,1-h))*k>=2&&(o++,k/=2),o+h>=T?(f=0,o=T):o+h>=1?(f=(G*k-1)*Math.pow(2,F),o+=h):(f=G*Math.pow(2,h-1)*Math.pow(2,F),o=0));F>=8;M[g+O]=255&f,O+=w,f/=256,F-=8);for(o=o<<F|f,V+=F;V>0;M[g+O]=255&o,O+=w,o/=256,V-=8);M[g+O-w]|=128*P}},function(se,b){var M={}.toString;se.exports=Array.isArray||function(G){return"[object Array]"==M.call(G)}},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(v){var F=v.jws,A=v.KeyUtil,o=v.X509,f=v.crypto,k=v.hextob64u,V=v.b64tohex,T=v.AllowedSigningAlgs;return function(){function h(){!function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.parseJwt=function(O){G.Log.debug("JoseUtil.parseJwt");try{var w=F.JWS.parse(O);return{header:w.headerObj,payload:w.payloadObj}}catch(P){G.Log.error(P)}},h.validateJwt=function(O,w,P,j,I,R,L){G.Log.debug("JoseUtil.validateJwt");try{if("RSA"===w.kty)if(w.e&&w.n)w=A.getKey(w);else{if(!w.x5c||!w.x5c.length)return G.Log.error("JoseUtil.validateJwt: RSA key missing key material",w),Promise.reject(new Error("RSA key missing key material"));var ee=V(w.x5c[0]);w=o.getPublicKeyFromCertHex(ee)}else{if("EC"!==w.kty)return G.Log.error("JoseUtil.validateJwt: Unsupported key type",w&&w.kty),Promise.reject(new Error(w.kty));if(!(w.crv&&w.x&&w.y))return G.Log.error("JoseUtil.validateJwt: EC key missing key material",w),Promise.reject(new Error("EC key missing key material"));w=A.getKey(w)}return h._validateJwt(O,w,P,j,I,R,L)}catch(W){return G.Log.error(W&&W.message||W),Promise.reject("JWT validation failed")}},h.validateJwtAttributes=function(O,w,P,j,I,R){j||(j=0),I||(I=parseInt(Date.now()/1e3));var L=h.parseJwt(O).payload;if(!L.iss)return G.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(L.iss!==w)return G.Log.error("JoseUtil._validateJwt: Invalid issuer in token",L.iss),Promise.reject(new Error("Invalid issuer in token: "+L.iss));if(!L.aud)return G.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(L.aud===P||Array.isArray(L.aud)&&L.aud.indexOf(P)>=0))return G.Log.error("JoseUtil._validateJwt: Invalid audience in token",L.aud),Promise.reject(new Error("Invalid audience in token: "+L.aud));if(L.azp&&L.azp!==P)return G.Log.error("JoseUtil._validateJwt: Invalid azp in token",L.azp),Promise.reject(new Error("Invalid azp in token: "+L.azp));if(!R){var ee=I+j,W=I-j;if(!L.iat)return G.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(ee<L.iat)return G.Log.error("JoseUtil._validateJwt: iat is in the future",L.iat),Promise.reject(new Error("iat is in the future: "+L.iat));if(L.nbf&&ee<L.nbf)return G.Log.error("JoseUtil._validateJwt: nbf is in the future",L.nbf),Promise.reject(new Error("nbf is in the future: "+L.nbf));if(!L.exp)return G.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(L.exp<W)return G.Log.error("JoseUtil._validateJwt: exp is in the past",L.exp),Promise.reject(new Error("exp is in the past:"+L.exp))}return Promise.resolve(L)},h._validateJwt=function(O,w,P,j,I,R,L){return h.validateJwtAttributes(O,P,j,I,R,L).then(function(ee){try{return F.JWS.verify(O,w,T)?ee:(G.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(W){return G.Log.error(W&&W.message||W),Promise.reject(new Error("signature validation failed"))}})},h.hashString=function(O,w){try{return f.Util.hashString(O,w)}catch(P){G.Log.error(P)}},h.hexToBase64Url=function(O){try{return k(O)}catch(w){G.Log.error(w)}},h}()};var G=M(0);se.exports=b.default},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninResponse=void 0;var G=function(){function F(A,o){for(var f=0;f<o.length;f++){var k=o[f];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,o,f){return o&&F(A.prototype,o),f&&F(A,f),A}}(),g=M(3);b.SigninResponse=function(){function F(A){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function v(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}(this,F);var f=g.UrlUtility.parseUrlFragment(A,o);this.error=f.error,this.error_description=f.error_description,this.error_uri=f.error_uri,this.code=f.code,this.state=f.state,this.id_token=f.id_token,this.session_state=f.session_state,this.access_token=f.access_token,this.token_type=f.token_type,this.scope=f.scope,this.profile=void 0,this.expires_in=f.expires_in}return G(F,[{key:"expires_in",get:function(){if(this.expires_at){var o=parseInt(Date.now()/1e3);return this.expires_at-o}},set:function(o){var f=parseInt(o);if("number"==typeof f&&f>0){var k=parseInt(Date.now()/1e3);this.expires_at=k+f}}},{key:"expired",get:function(){var o=this.expires_in;if(void 0!==o)return o<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),F}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutRequest=void 0;var G=M(0),g=M(3),v=M(9);b.SignoutRequest=function F(A){var o=A.url,f=A.id_token_hint,k=A.post_logout_redirect_uri,V=A.data,T=A.extraQueryParams,h=A.request_type;if(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,F),!o)throw G.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var _ in f&&(o=g.UrlUtility.addQueryParam(o,"id_token_hint",f)),k&&(o=g.UrlUtility.addQueryParam(o,"post_logout_redirect_uri",k),V&&(this.state=new v.State({data:V,request_type:h}),o=g.UrlUtility.addQueryParam(o,"state",this.state.id))),T)o=g.UrlUtility.addQueryParam(o,_,T[_]);this.url=o}},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutResponse=void 0;var G=M(3);b.SignoutResponse=function g(v){!function(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}(this,g);var F=G.UrlUtility.parseUrlFragment(v,"?");this.error=F.error,this.error_description=F.error_description,this.error_uri=F.error_uri,this.state=F.state}},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InMemoryWebStorage=void 0;var G=function(){function v(F,A){for(var o=0;o<A.length;o++){var f=A[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}return function(F,A,o){return A&&v(F.prototype,A),o&&v(F,o),F}}(),g=M(0);b.InMemoryWebStorage=function(){function v(){(function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")})(this,v),this._data={}}return v.prototype.getItem=function(A){return g.Log.debug("InMemoryWebStorage.getItem",A),this._data[A]},v.prototype.setItem=function(A,o){g.Log.debug("InMemoryWebStorage.setItem",A),this._data[A]=o},v.prototype.removeItem=function(A){g.Log.debug("InMemoryWebStorage.removeItem",A),delete this._data[A]},v.prototype.key=function(A){return Object.getOwnPropertyNames(this._data)[A]},G(v,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManager=void 0;var G=function(){function P(j,I){for(var R=0;R<I.length;R++){var L=I[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(j,L.key,L)}}return function(j,I,R){return I&&P(j.prototype,I),R&&P(j,R),j}}(),g=M(0),v=M(10),F=M(39),A=M(15),o=M(45),f=M(47),k=M(18),V=M(8),T=M(20),h=M(11),_=M(4);b.UserManager=function(P){function j(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.SilentRenewService,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.SessionMonitor,ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.TokenRevocationClient,W=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient,X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_.JoseUtil;(function O(P,j){if(!(P instanceof j))throw new TypeError("Cannot call a class as a function")})(this,j),I instanceof F.UserManagerSettings||(I=new F.UserManagerSettings(I));var U=function w(P,j){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?P:j}(this,P.call(this,I));return U._events=new o.UserManagerEvents(I),U._silentRenewService=new R(U),U.settings.automaticSilentRenew&&(g.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),U.startSilentRenew()),U.settings.monitorSession&&(g.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),U._sessionMonitor=new L(U)),U._tokenRevocationClient=new ee(U._settings),U._tokenClient=new W(U._settings),U._joseUtil=X,U}return function(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(R,L):R.__proto__=L)}(j,P),j.prototype.getUser=function(){var R=this;return this._loadUser().then(function(L){return L?(g.Log.info("UserManager.getUser: user loaded"),R._events.load(L,!1),L):(g.Log.info("UserManager.getUser: user not found in storage"),null)})},j.prototype.removeUser=function(){var R=this;return this.storeUser(null).then(function(){g.Log.info("UserManager.removeUser: user removed from storage"),R._events.unload()})},j.prototype.signinRedirect=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(R=Object.assign({},R)).request_type="si:r",this._signinStart(R,this._redirectNavigator,{useReplaceToNavigate:R.useReplaceToNavigate}).then(function(){g.Log.info("UserManager.signinRedirect: successful")})},j.prototype.signinRedirectCallback=function(R){return this._signinEnd(R||this._redirectNavigator.url).then(function(L){return L.profile&&L.profile.sub?g.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",L.profile.sub):g.Log.info("UserManager.signinRedirectCallback: no sub"),L})},j.prototype.signinPopup=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(R=Object.assign({},R)).request_type="si:p";var L=R.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return L?(R.redirect_uri=L,R.display="popup",this._signin(R,this._popupNavigator,{startUrl:L,popupWindowFeatures:R.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:R.popupWindowTarget||this.settings.popupWindowTarget}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?g.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",ee.profile.sub):g.Log.info("UserManager.signinPopup: no sub")),ee})):(g.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},j.prototype.signinPopupCallback=function(R){return this._signinCallback(R,this._popupNavigator).then(function(L){return L&&(L.profile&&L.profile.sub?g.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",L.profile.sub):g.Log.info("UserManager.signinPopupCallback: no sub")),L}).catch(function(L){g.Log.error(L.message)})},j.prototype.signinSilent=function(){var R=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L=Object.assign({},L),this._loadUser().then(function(ee){return ee&&ee.refresh_token?(L.refresh_token=ee.refresh_token,R._useRefreshToken(L)):(L.request_type="si:s",L.id_token_hint=L.id_token_hint||R.settings.includeIdTokenInSilentRenew&&ee&&ee.id_token,ee&&R._settings.validateSubOnSilentRenew&&(g.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",ee.profile.sub),L.current_sub=ee.profile.sub),R._signinSilentIframe(L))})},j.prototype._useRefreshToken=function(){var R=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(ee){return ee?ee.access_token?R._loadUser().then(function(W){if(W){var X=Promise.resolve();return ee.id_token&&(X=R._validateIdTokenFromTokenRefreshToken(W.profile,ee.id_token)),X.then(function(){return g.Log.debug("UserManager._useRefreshToken: refresh token response success"),W.id_token=ee.id_token||W.id_token,W.access_token=ee.access_token,W.refresh_token=ee.refresh_token||W.refresh_token,W.expires_in=ee.expires_in,R.storeUser(W).then(function(){return R._events.load(W),W})})}return null}):(g.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(g.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},j.prototype._validateIdTokenFromTokenRefreshToken=function(R,L){var ee=this;return this._metadataService.getIssuer().then(function(W){return ee.settings.getEpochTime().then(function(X){return ee._joseUtil.validateJwtAttributes(L,W,ee._settings.client_id,ee._settings.clockSkew,X).then(function(U){return U?U.sub!==R.sub?(g.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):U.auth_time&&U.auth_time!==R.auth_time?(g.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):U.azp&&U.azp!==R.azp?(g.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!U.azp&&R.azp?(g.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(g.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},j.prototype._signinSilentIframe=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=R.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return L?(R.redirect_uri=L,R.prompt=R.prompt||"none",this._signin(R,this._iframeNavigator,{startUrl:L,silentRequestTimeout:R.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?g.Log.info("UserManager.signinSilent: successful, signed in sub: ",ee.profile.sub):g.Log.info("UserManager.signinSilent: no sub")),ee})):(g.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},j.prototype.signinSilentCallback=function(R){return this._signinCallback(R,this._iframeNavigator).then(function(L){return L&&(L.profile&&L.profile.sub?g.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",L.profile.sub):g.Log.info("UserManager.signinSilentCallback: no sub")),L})},j.prototype.signinCallback=function(R){var L=this;return this.readSigninResponseState(R).then(function(ee){var W=ee.state;return"si:r"===W.request_type?L.signinRedirectCallback(R):"si:p"===W.request_type?L.signinPopupCallback(R):"si:s"===W.request_type?L.signinSilentCallback(R):Promise.reject(new Error("invalid response_type in state"))})},j.prototype.signoutCallback=function(R,L){var ee=this;return this.readSignoutResponseState(R).then(function(W){var X=W.state,U=W.response;return X?"so:r"===X.request_type?ee.signoutRedirectCallback(R):"so:p"===X.request_type?ee.signoutPopupCallback(R,L):Promise.reject(new Error("invalid response_type in state")):U})},j.prototype.querySessionStatus=function(){var R=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(L=Object.assign({},L)).request_type="si:s";var ee=L.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ee?(L.redirect_uri=ee,L.prompt="none",L.response_type=L.response_type||this.settings.query_status_response_type,L.scope=L.scope||"openid",L.skipUserInfo=!0,this._signinStart(L,this._iframeNavigator,{startUrl:ee,silentRequestTimeout:L.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(W){return R.processSigninResponse(W.url).then(function(X){if(g.Log.debug("UserManager.querySessionStatus: got signin response"),X.session_state&&X.profile.sub)return g.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",X.profile.sub),{session_state:X.session_state,sub:X.profile.sub,sid:X.profile.sid};g.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(X){if(X.session_state&&R.settings.monitorAnonymousSession&&("login_required"==X.message||"consent_required"==X.message||"interaction_required"==X.message||"account_selection_required"==X.message))return g.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:X.session_state};throw X})})):(g.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},j.prototype._signin=function(R,L){var ee=this;return this._signinStart(R,L,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(X){return ee._signinEnd(X.url,R)})},j.prototype._signinStart=function(R,L){var ee=this,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L.prepare(W).then(function(X){return g.Log.debug("UserManager._signinStart: got navigator window handle"),ee.createSigninRequest(R).then(function(U){return g.Log.debug("UserManager._signinStart: got signin request"),W.url=U.url,W.id=U.state.id,X.navigate(W)}).catch(function(U){throw X.close&&(g.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),X.close()),U})})},j.prototype._signinEnd=function(R){var L=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(R).then(function(W){g.Log.debug("UserManager._signinEnd: got signin response");var X=new A.User(W);if(ee.current_sub){if(ee.current_sub!==X.profile.sub)return g.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",X.profile.sub),Promise.reject(new Error("login_required"));g.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return L.storeUser(X).then(function(){return g.Log.debug("UserManager._signinEnd: user stored"),L._events.load(X),X})})},j.prototype._signinCallback=function(R,L){g.Log.debug("UserManager._signinCallback");var ee="query"===this._settings.response_mode||!this._settings.response_mode&&V.SigninRequest.isCode(this._settings.response_type)?"?":"#";return L.callback(R,void 0,ee)},j.prototype.signoutRedirect=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(R=Object.assign({},R)).request_type="so:r";var L=R.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return L&&(R.post_logout_redirect_uri=L),this._signoutStart(R,this._redirectNavigator,{useReplaceToNavigate:R.useReplaceToNavigate}).then(function(){g.Log.info("UserManager.signoutRedirect: successful")})},j.prototype.signoutRedirectCallback=function(R){return this._signoutEnd(R||this._redirectNavigator.url).then(function(L){return g.Log.info("UserManager.signoutRedirectCallback: successful"),L})},j.prototype.signoutPopup=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(R=Object.assign({},R)).request_type="so:p";var L=R.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return R.post_logout_redirect_uri=L,R.display="popup",R.post_logout_redirect_uri&&(R.state=R.state||{}),this._signout(R,this._popupNavigator,{startUrl:L,popupWindowFeatures:R.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:R.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){g.Log.info("UserManager.signoutPopup: successful")})},j.prototype.signoutPopupCallback=function(R,L){return void 0===L&&"boolean"==typeof R&&(L=R,R=null),this._popupNavigator.callback(R,L,"?").then(function(){g.Log.info("UserManager.signoutPopupCallback: successful")})},j.prototype._signout=function(R,L){var ee=this;return this._signoutStart(R,L,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(X){return ee._signoutEnd(X.url)})},j.prototype._signoutStart=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=this,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(W).then(function(X){return g.Log.debug("UserManager._signoutStart: got navigator window handle"),L._loadUser().then(function(U){return g.Log.debug("UserManager._signoutStart: loaded current user from storage"),(L._settings.revokeAccessTokenOnSignout?L._revokeInternal(U):Promise.resolve()).then(function(){var ne=R.id_token_hint||U&&U.id_token;return ne&&(g.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),R.id_token_hint=ne),L.removeUser().then(function(){return g.Log.debug("UserManager._signoutStart: user removed, creating signout request"),L.createSignoutRequest(R).then(function(ce){return g.Log.debug("UserManager._signoutStart: got signout request"),W.url=ce.url,ce.state&&(W.id=ce.state.id),X.navigate(W)})})})}).catch(function(U){throw X.close&&(g.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),X.close()),U})})},j.prototype._signoutEnd=function(R){return this.processSignoutResponse(R).then(function(L){return g.Log.debug("UserManager._signoutEnd: got signout response"),L})},j.prototype.revokeAccessToken=function(){var R=this;return this._loadUser().then(function(L){return R._revokeInternal(L,!0).then(function(ee){if(ee)return g.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),L.access_token=null,L.refresh_token=null,L.expires_at=null,L.token_type=null,R.storeUser(L).then(function(){g.Log.debug("UserManager.revokeAccessToken: user stored"),R._events.load(L)})})}).then(function(){g.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},j.prototype._revokeInternal=function(R,L){var ee=this;if(R){var X=R.refresh_token;return this._revokeAccessTokenInternal(R.access_token,L).then(function(U){return ee._revokeRefreshTokenInternal(X,L).then(function(ne){return U||ne||g.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),U||ne})})}return Promise.resolve(!1)},j.prototype._revokeAccessTokenInternal=function(R,L){return!R||R.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(R,L).then(function(){return!0})},j.prototype._revokeRefreshTokenInternal=function(R,L){return R?this._tokenRevocationClient.revoke(R,L,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},j.prototype.startSilentRenew=function(){this._silentRenewService.start()},j.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},j.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(R){return R?(g.Log.debug("UserManager._loadUser: user storageString loaded"),A.User.fromStorageString(R)):(g.Log.debug("UserManager._loadUser: no user storageString"),null)})},j.prototype.storeUser=function(R){if(R){g.Log.debug("UserManager.storeUser: storing user");var L=R.toStorageString();return this._userStore.set(this._userStoreKey,L)}return g.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},G(j,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),j}(v.OidcClient)},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerSettings=void 0;var G=function(){function h(_,O){for(var w=0;w<O.length;w++){var P=O[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,O,w){return O&&h(_.prototype,O),w&&h(_,w),_}}(),g=(M(0),M(5)),v=M(40),F=M(41),A=M(43),o=M(6),f=M(1),k=M(8);b.UserManagerSettings=function(h){function _(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=O.popup_redirect_uri,P=O.popup_post_logout_redirect_uri,j=O.popupWindowFeatures,I=O.popupWindowTarget,R=O.silent_redirect_uri,L=O.silentRequestTimeout,ee=O.automaticSilentRenew,W=void 0!==ee&&ee,X=O.validateSubOnSilentRenew,U=void 0!==X&&X,ne=O.includeIdTokenInSilentRenew,ce=void 0===ne||ne,te=O.monitorSession,Y=void 0===te||te,ie=O.monitorAnonymousSession,pe=void 0!==ie&&ie,_e=O.checkSessionInterval,he=void 0===_e?2e3:_e,ue=O.stopCheckSessionOnError,$e=void 0===ue||ue,Ee=O.query_status_response_type,Be=O.revokeAccessTokenOnSignout,Qe=void 0!==Be&&Be,Ze=O.accessTokenExpiringNotificationTime,st=void 0===Ze?60:Ze,gt=O.redirectNavigator,qe=void 0===gt?new v.RedirectNavigator:gt,rt=O.popupNavigator,ht=void 0===rt?new F.PopupNavigator:rt,fe=O.iframeNavigator,H=void 0===fe?new A.IFrameNavigator:fe,K=O.userStore,xe=void 0===K?new o.WebStorageStateStore({store:f.Global.sessionStorage}):K;!function V(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_);var Te=function T(h,_){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?h:_}(this,h.call(this,arguments[0]));return Te._popup_redirect_uri=w,Te._popup_post_logout_redirect_uri=P,Te._popupWindowFeatures=j,Te._popupWindowTarget=I,Te._silent_redirect_uri=R,Te._silentRequestTimeout=L,Te._automaticSilentRenew=W,Te._validateSubOnSilentRenew=U,Te._includeIdTokenInSilentRenew=ce,Te._accessTokenExpiringNotificationTime=st,Te._monitorSession=Y,Te._monitorAnonymousSession=pe,Te._checkSessionInterval=he,Te._stopCheckSessionOnError=$e,Te._query_status_response_type=Ee||(arguments[0]&&arguments[0].response_type?k.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Te._revokeAccessTokenOnSignout=Qe,Te._redirectNavigator=qe,Te._popupNavigator=ht,Te._iframeNavigator=H,Te._userStore=xe,Te}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(_,h),G(_,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),_}(g.OidcClientSettings)},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RedirectNavigator=void 0;var G=function(){function v(F,A){for(var o=0;o<A.length;o++){var f=A[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}return function(F,A,o){return A&&v(F.prototype,A),o&&v(F,o),F}}(),g=M(0);b.RedirectNavigator=function(){function v(){!function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.prototype.prepare=function(){return Promise.resolve(this)},v.prototype.navigate=function(A){return A&&A.url?(A.useReplaceToNavigate?window.location.replace(A.url):window.location=A.url,Promise.resolve()):(g.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},G(v,[{key:"url",get:function(){return window.location.href}}]),v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupNavigator=void 0;var G=M(0),g=M(42);b.PopupNavigator=function(){function v(){!function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.prototype.prepare=function(A){var o=new g.PopupWindow(A);return Promise.resolve(o)},v.prototype.callback=function(A,o,f){G.Log.debug("PopupNavigator.callback");try{return g.PopupWindow.notifyOpener(A,o,f),Promise.resolve()}catch(k){return Promise.reject(k)}},v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupWindow=void 0;var G=function(){function F(A,o){for(var f=0;f<o.length;f++){var k=o[f];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,o,f){return o&&F(A.prototype,o),f&&F(A,f),A}}(),g=M(0),v=M(3);b.PopupWindow=function(){function F(A){var o=this;(function(T,h){if(!(T instanceof h))throw new TypeError("Cannot call a class as a function")})(this,F),this._promise=new Promise(function(V,T){o._resolve=V,o._reject=T}),this._popup=window.open("",A.popupWindowTarget||"_blank",A.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(g.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return F.prototype.navigate=function(o){return this._popup?o&&o.url?(g.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=o.id,this._id&&(window["popupCallback_"+o.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=o.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},F.prototype._success=function(o){g.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(o)},F.prototype._error=function(o){g.Log.error("PopupWindow.error: ",o),this._cleanup(),this._reject(new Error(o))},F.prototype.close=function(){this._cleanup(!1)},F.prototype._cleanup=function(o){g.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!o&&this._popup.close(),this._popup=null},F.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},F.prototype._callback=function(o,f){this._cleanup(f),o?(g.Log.debug("PopupWindow.callback success"),this._success({url:o})):(g.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},F.notifyOpener=function(o,f,k){if(window.opener){if(o=o||window.location.href){var V=v.UrlUtility.parseUrlFragment(o,k);if(V.state){var h=window.opener["popupCallback_"+V.state];h?(g.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),h(o,f)):g.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else g.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else g.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},G(F,[{key:"promise",get:function(){return this._promise}}]),F}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameNavigator=void 0;var G=M(0),g=M(44);b.IFrameNavigator=function(){function v(){!function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.prototype.prepare=function(A){var o=new g.IFrameWindow(A);return Promise.resolve(o)},v.prototype.callback=function(A){G.Log.debug("IFrameNavigator.callback");try{return g.IFrameWindow.notifyParent(A),Promise.resolve()}catch(o){return Promise.reject(o)}},v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameWindow=void 0;var G=function(){function v(F,A){for(var o=0;o<A.length;o++){var f=A[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}return function(F,A,o){return A&&v(F.prototype,A),o&&v(F,o),F}}(),g=M(0);b.IFrameWindow=function(){function v(F){var A=this;(function(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(o,f){A._resolve=o,A._reject=f}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return v.prototype.navigate=function(A){if(A&&A.url){var o=A.silentRequestTimeout||1e4;g.Log.debug("IFrameWindow.navigate: Using timeout of:",o),this._timer=window.setTimeout(this._timeout.bind(this),o),this._frame.src=A.url}else this._error("No url provided");return this.promise},v.prototype._success=function(A){this._cleanup(),g.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(A)},v.prototype._error=function(A){this._cleanup(),g.Log.error(A),this._reject(new Error(A))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._frame&&(g.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},v.prototype._timeout=function(){g.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},v.prototype._message=function(A){if(g.Log.debug("IFrameWindow.message"),this._timer&&A.origin===this._origin&&A.source===this._frame.contentWindow&&"string"==typeof A.data&&(A.data.startsWith("http://")||A.data.startsWith("https://"))){var o=A.data;o?this._success({url:o}):this._error("Invalid response from frame")}},v.notifyParent=function(A){g.Log.debug("IFrameWindow.notifyParent"),(A=A||window.location.href)&&(g.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(A,location.protocol+"//"+location.host))},G(v,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),v}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerEvents=void 0;var G=M(0),g=M(16),v=M(17);b.UserManagerEvents=function(F){function A(o){!function(V,T){if(!(V instanceof T))throw new TypeError("Cannot call a class as a function")}(this,A);var f=function(V,T){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?V:T}(this,F.call(this,o));return f._userLoaded=new v.Event("User loaded"),f._userUnloaded=new v.Event("User unloaded"),f._silentRenewError=new v.Event("Silent renew error"),f._userSignedIn=new v.Event("User signed in"),f._userSignedOut=new v.Event("User signed out"),f._userSessionChanged=new v.Event("User session changed"),f}return function(f,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);f.prototype=Object.create(k&&k.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(f,k):f.__proto__=k)}(A,F),A.prototype.load=function(f){var k=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];G.Log.debug("UserManagerEvents.load"),F.prototype.load.call(this,f),k&&this._userLoaded.raise(f)},A.prototype.unload=function(){G.Log.debug("UserManagerEvents.unload"),F.prototype.unload.call(this),this._userUnloaded.raise()},A.prototype.addUserLoaded=function(f){this._userLoaded.addHandler(f)},A.prototype.removeUserLoaded=function(f){this._userLoaded.removeHandler(f)},A.prototype.addUserUnloaded=function(f){this._userUnloaded.addHandler(f)},A.prototype.removeUserUnloaded=function(f){this._userUnloaded.removeHandler(f)},A.prototype.addSilentRenewError=function(f){this._silentRenewError.addHandler(f)},A.prototype.removeSilentRenewError=function(f){this._silentRenewError.removeHandler(f)},A.prototype._raiseSilentRenewError=function(f){G.Log.debug("UserManagerEvents._raiseSilentRenewError",f.message),this._silentRenewError.raise(f)},A.prototype.addUserSignedIn=function(f){this._userSignedIn.addHandler(f)},A.prototype.removeUserSignedIn=function(f){this._userSignedIn.removeHandler(f)},A.prototype._raiseUserSignedIn=function(){G.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},A.prototype.addUserSignedOut=function(f){this._userSignedOut.addHandler(f)},A.prototype.removeUserSignedOut=function(f){this._userSignedOut.removeHandler(f)},A.prototype._raiseUserSignedOut=function(){G.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},A.prototype.addUserSessionChanged=function(f){this._userSessionChanged.addHandler(f)},A.prototype.removeUserSessionChanged=function(f){this._userSessionChanged.removeHandler(f)},A.prototype._raiseUserSessionChanged=function(){G.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},A}(g.AccessTokenEvents)},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Timer=void 0;var G=function(){function f(k,V){for(var T=0;T<V.length;T++){var h=V[T];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(k,V,T){return V&&f(k.prototype,V),T&&f(k,T),k}}(),g=M(0),v=M(1),F=M(17);b.Timer=function(f){function k(V){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Global.timer,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function A(f,k){if(!(f instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k);var _=function o(f,k){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?f:k}(this,f.call(this,V));return _._timer=T,_._nowFunc=h||function(){return Date.now()/1e3},_}return function(T,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);T.prototype=Object.create(h&&h.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(T,h):T.__proto__=h)}(k,f),k.prototype.init=function(T){T<=0&&(T=1),T=parseInt(T);var h=this.now+T;if(this.expiration===h&&this._timerHandle)g.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),g.Log.debug("Timer.init timer "+this._name+" for duration:",T),this._expiration=h;var _=5;T<_&&(_=T),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*_)}},k.prototype.cancel=function(){this._timerHandle&&(g.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},k.prototype._callback=function(){g.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),f.prototype.raise.call(this))},G(k,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),k}(F.Event)},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SilentRenewService=void 0;var G=M(0);b.SilentRenewService=function(){function g(v){(function(A,o){if(!(A instanceof o))throw new TypeError("Cannot call a class as a function")})(this,g),this._userManager=v}return g.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(F){}).catch(function(F){G.Log.error("SilentRenewService.start: Error from getUser:",F.message)}))},g.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},g.prototype._tokenExpiring=function(){var F=this;this._userManager.signinSilent().then(function(A){G.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(A){G.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",A.message),F._userManager.events._raiseSilentRenewError(A)})},g}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupNavigator=void 0;var G=M(21);b.CordovaPopupNavigator=function(){function g(){!function(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g)}return g.prototype.prepare=function(F){var A=new G.CordovaPopupWindow(F);return Promise.resolve(A)},g}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaIFrameNavigator=void 0;var G=M(21);b.CordovaIFrameNavigator=function(){function g(){!function(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g)}return g.prototype.prepare=function(F){F.popupWindowFeatures="hidden=yes";var A=new G.CordovaPopupWindow(F);return Promise.resolve(A)},g}()},function(se,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Version="1.11.5"}])},9929:Re=>{var se=String.prototype.replace,b=/%20/g;Re.exports={default:"RFC3986",formatters:{RFC1738:function(g){return se.call(g,b,"+")},RFC3986:function(g){return String(g)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},353:(Re,se,b)=>{var M=b(1528),G=b(5094),g=b(9929);Re.exports={formats:g,parse:G,stringify:M}},5094:(Re,se,b)=>{var M=b(3884),G=Object.prototype.hasOwnProperty,g=Array.isArray,v={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:M.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},F=function(O){return O.replace(/&#(\d+);/g,function(w,P){return String.fromCharCode(parseInt(P,10))})},A=function(O,w,P){if(O&&"string"==typeof O&&w.comma&&O.indexOf(",")>-1)return O.split(",");if(w.throwOnLimitExceeded&&P>=w.arrayLimit)throw new RangeError("Array limit exceeded. Only "+w.arrayLimit+" element"+(1===w.arrayLimit?"":"s")+" allowed in an array.");return O},T=function(O,w,P,j){if(O){var I=P.allowDots?O.replace(/\.([^.[]+)/g,"[$1]"):O,L=/(\[[^[\]]*])/g,ee=P.depth>0&&/(\[[^[\]]*])/.exec(I),W=ee?I.slice(0,ee.index):I,X=[];if(W){if(!P.plainObjects&&G.call(Object.prototype,W)&&!P.allowPrototypes)return;X.push(W)}for(var U=0;P.depth>0&&null!==(ee=L.exec(I))&&U<P.depth;){if(U+=1,!P.plainObjects&&G.call(Object.prototype,ee[1].slice(1,-1))&&!P.allowPrototypes)return;X.push(ee[1])}if(ee){if(!0===P.strictDepth)throw new RangeError("Input depth exceeded depth option of "+P.depth+" and strictDepth is true");X.push("["+I.slice(ee.index)+"]")}return function(O,w,P,j){var I=0;if(O.length>0&&"[]"===O[O.length-1]){var R=O.slice(0,-1).join("");I=Array.isArray(w)&&w[R]?w[R].length:0}for(var L=j?w:A(w,P,I),ee=O.length-1;ee>=0;--ee){var W,X=O[ee];if("[]"===X&&P.parseArrays)W=P.allowEmptyArrays&&(""===L||P.strictNullHandling&&null===L)?[]:M.combine([],L);else{W=P.plainObjects?{__proto__:null}:{};var U="["===X.charAt(0)&&"]"===X.charAt(X.length-1)?X.slice(1,-1):X,ne=P.decodeDotInKeys?U.replace(/%2E/g,"."):U,ce=parseInt(ne,10);P.parseArrays||""!==ne?!isNaN(ce)&&X!==ne&&String(ce)===ne&&ce>=0&&P.parseArrays&&ce<=P.arrayLimit?(W=[])[ce]=L:"__proto__"!==ne&&(W[ne]=L):W={0:L}}L=W}return L}(X,w,P,j)}};Re.exports=function(_,O){var w=function(O){if(!O)return v;if(typeof O.allowEmptyArrays<"u"&&"boolean"!=typeof O.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof O.decodeDotInKeys<"u"&&"boolean"!=typeof O.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==O.decoder&&typeof O.decoder<"u"&&"function"!=typeof O.decoder)throw new TypeError("Decoder has to be a function.");if(typeof O.charset<"u"&&"utf-8"!==O.charset&&"iso-8859-1"!==O.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof O.throwOnLimitExceeded<"u"&&"boolean"!=typeof O.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var w=typeof O.charset>"u"?v.charset:O.charset,P=typeof O.duplicates>"u"?v.duplicates:O.duplicates;if("combine"!==P&&"first"!==P&&"last"!==P)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof O.allowDots>"u"?!0===O.decodeDotInKeys||v.allowDots:!!O.allowDots,allowEmptyArrays:"boolean"==typeof O.allowEmptyArrays?!!O.allowEmptyArrays:v.allowEmptyArrays,allowPrototypes:"boolean"==typeof O.allowPrototypes?O.allowPrototypes:v.allowPrototypes,allowSparse:"boolean"==typeof O.allowSparse?O.allowSparse:v.allowSparse,arrayLimit:"number"==typeof O.arrayLimit?O.arrayLimit:v.arrayLimit,charset:w,charsetSentinel:"boolean"==typeof O.charsetSentinel?O.charsetSentinel:v.charsetSentinel,comma:"boolean"==typeof O.comma?O.comma:v.comma,decodeDotInKeys:"boolean"==typeof O.decodeDotInKeys?O.decodeDotInKeys:v.decodeDotInKeys,decoder:"function"==typeof O.decoder?O.decoder:v.decoder,delimiter:"string"==typeof O.delimiter||M.isRegExp(O.delimiter)?O.delimiter:v.delimiter,depth:"number"==typeof O.depth||!1===O.depth?+O.depth:v.depth,duplicates:P,ignoreQueryPrefix:!0===O.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof O.interpretNumericEntities?O.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:"number"==typeof O.parameterLimit?O.parameterLimit:v.parameterLimit,parseArrays:!1!==O.parseArrays,plainObjects:"boolean"==typeof O.plainObjects?O.plainObjects:v.plainObjects,strictDepth:"boolean"==typeof O.strictDepth?!!O.strictDepth:v.strictDepth,strictNullHandling:"boolean"==typeof O.strictNullHandling?O.strictNullHandling:v.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof O.throwOnLimitExceeded&&O.throwOnLimitExceeded}}(O);if(""===_||null===_||typeof _>"u")return w.plainObjects?{__proto__:null}:{};for(var P="string"==typeof _?function(O,w){var P={__proto__:null},j=w.ignoreQueryPrefix?O.replace(/^\?/,""):O;j=j.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var I=w.parameterLimit===1/0?void 0:w.parameterLimit,R=j.split(w.delimiter,w.throwOnLimitExceeded?I+1:I);if(w.throwOnLimitExceeded&&R.length>I)throw new RangeError("Parameter limit exceeded. Only "+I+" parameter"+(1===I?"":"s")+" allowed.");var ee,L=-1,W=w.charset;if(w.charsetSentinel)for(ee=0;ee<R.length;++ee)0===R[ee].indexOf("utf8=")&&("utf8=%E2%9C%93"===R[ee]?W="utf-8":"utf8=%26%2310003%3B"===R[ee]&&(W="iso-8859-1"),L=ee,ee=R.length);for(ee=0;ee<R.length;++ee)if(ee!==L){var ce,te,X=R[ee],U=X.indexOf("]="),ne=-1===U?X.indexOf("="):U+1;-1===ne?(ce=w.decoder(X,v.decoder,W,"key"),te=w.strictNullHandling?null:""):(ce=w.decoder(X.slice(0,ne),v.decoder,W,"key"),te=M.maybeMap(A(X.slice(ne+1),w,g(P[ce])?P[ce].length:0),function(ie){return w.decoder(ie,v.decoder,W,"value")})),te&&w.interpretNumericEntities&&"iso-8859-1"===W&&(te=F(String(te))),X.indexOf("[]=")>-1&&(te=g(te)?[te]:te);var Y=G.call(P,ce);Y&&"combine"===w.duplicates?P[ce]=M.combine(P[ce],te):(!Y||"last"===w.duplicates)&&(P[ce]=te)}return P}(_,w):_,j=w.plainObjects?{__proto__:null}:{},I=Object.keys(P),R=0;R<I.length;++R){var L=I[R],ee=T(L,P[L],w,"string"==typeof _);j=M.merge(j,ee,w)}return!0===w.allowSparse?j:M.compact(j)}},1528:(Re,se,b)=>{var M=b(5492),G=b(3884),g=b(9929),v=Object.prototype.hasOwnProperty,F={brackets:function(j){return j+"[]"},comma:"comma",indices:function(j,I){return j+"["+I+"]"},repeat:function(j){return j}},A=Array.isArray,o=Array.prototype.push,f=function(j,I){o.apply(j,A(I)?I:[I])},k=Date.prototype.toISOString,V=g.default,T={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:G.encode,encodeValuesOnly:!1,filter:void 0,format:V,formatter:g.formatters[V],indices:!1,serializeDate:function(j){return k.call(j)},skipNulls:!1,strictNullHandling:!1},_={},O=function P(j,I,R,L,ee,W,X,U,ne,ce,te,Y,ie,pe,_e,he,ue,$e){for(var Ee=j,Be=$e,Qe=0,Ze=!1;void 0!==(Be=Be.get(_))&&!Ze;){var st=Be.get(j);if(Qe+=1,typeof st<"u"){if(st===Qe)throw new RangeError("Cyclic object value");Ze=!0}typeof Be.get(_)>"u"&&(Qe=0)}if("function"==typeof ce?Ee=ce(I,Ee):Ee instanceof Date?Ee=ie(Ee):"comma"===R&&A(Ee)&&(Ee=G.maybeMap(Ee,function(oe){return oe instanceof Date?ie(oe):oe})),null===Ee){if(W)return ne&&!he?ne(I,T.encoder,ue,"key",pe):I;Ee=""}if(function(j){return"string"==typeof j||"number"==typeof j||"boolean"==typeof j||"symbol"==typeof j||"bigint"==typeof j}(Ee)||G.isBuffer(Ee))return ne?[_e(he?I:ne(I,T.encoder,ue,"key",pe))+"="+_e(ne(Ee,T.encoder,ue,"value",pe))]:[_e(I)+"="+_e(String(Ee))];var rt,qe=[];if(typeof Ee>"u")return qe;if("comma"===R&&A(Ee))he&&ne&&(Ee=G.maybeMap(Ee,ne)),rt=[{value:Ee.length>0?Ee.join(",")||null:void 0}];else if(A(ce))rt=ce;else{var ht=Object.keys(Ee);rt=te?ht.sort(te):ht}var fe=U?String(I).replace(/\./g,"%2E"):String(I),H=L&&A(Ee)&&1===Ee.length?fe+"[]":fe;if(ee&&A(Ee)&&0===Ee.length)return H+"[]";for(var K=0;K<rt.length;++K){var xe=rt[K],Te="object"==typeof xe&&xe&&typeof xe.value<"u"?xe.value:Ee[xe];if(!X||null!==Te){var ae=Y&&U?String(xe).replace(/\./g,"%2E"):String(xe),re=A(Ee)?"function"==typeof R?R(H,ae):H:H+(Y?"."+ae:"["+ae+"]");$e.set(j,Qe);var Me=M();Me.set(_,$e),f(qe,P(Te,re,R,L,ee,W,X,U,"comma"===R&&he&&A(Ee)?null:ne,ce,te,Y,ie,pe,_e,he,ue,Me))}}return qe};Re.exports=function(P,j){var L,I=P,R=function(j){if(!j)return T;if(typeof j.allowEmptyArrays<"u"&&"boolean"!=typeof j.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof j.encodeDotInKeys<"u"&&"boolean"!=typeof j.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==j.encoder&&typeof j.encoder<"u"&&"function"!=typeof j.encoder)throw new TypeError("Encoder has to be a function.");var I=j.charset||T.charset;if(typeof j.charset<"u"&&"utf-8"!==j.charset&&"iso-8859-1"!==j.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=g.default;if(typeof j.format<"u"){if(!v.call(g.formatters,j.format))throw new TypeError("Unknown format option provided.");R=j.format}var W,L=g.formatters[R],ee=T.filter;if(("function"==typeof j.filter||A(j.filter))&&(ee=j.filter),W=j.arrayFormat in F?j.arrayFormat:"indices"in j?j.indices?"indices":"repeat":T.arrayFormat,"commaRoundTrip"in j&&"boolean"!=typeof j.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof j.addQueryPrefix?j.addQueryPrefix:T.addQueryPrefix,allowDots:typeof j.allowDots>"u"?!0===j.encodeDotInKeys||T.allowDots:!!j.allowDots,allowEmptyArrays:"boolean"==typeof j.allowEmptyArrays?!!j.allowEmptyArrays:T.allowEmptyArrays,arrayFormat:W,charset:I,charsetSentinel:"boolean"==typeof j.charsetSentinel?j.charsetSentinel:T.charsetSentinel,commaRoundTrip:!!j.commaRoundTrip,delimiter:typeof j.delimiter>"u"?T.delimiter:j.delimiter,encode:"boolean"==typeof j.encode?j.encode:T.encode,encodeDotInKeys:"boolean"==typeof j.encodeDotInKeys?j.encodeDotInKeys:T.encodeDotInKeys,encoder:"function"==typeof j.encoder?j.encoder:T.encoder,encodeValuesOnly:"boolean"==typeof j.encodeValuesOnly?j.encodeValuesOnly:T.encodeValuesOnly,filter:ee,format:R,formatter:L,serializeDate:"function"==typeof j.serializeDate?j.serializeDate:T.serializeDate,skipNulls:"boolean"==typeof j.skipNulls?j.skipNulls:T.skipNulls,sort:"function"==typeof j.sort?j.sort:null,strictNullHandling:"boolean"==typeof j.strictNullHandling?j.strictNullHandling:T.strictNullHandling}}(j);"function"==typeof R.filter?I=(0,R.filter)("",I):A(R.filter)&&(L=R.filter);var W=[];if("object"!=typeof I||null===I)return"";var X=F[R.arrayFormat],U="comma"===X&&R.commaRoundTrip;L||(L=Object.keys(I)),R.sort&&L.sort(R.sort);for(var ne=M(),ce=0;ce<L.length;++ce){var te=L[ce],Y=I[te];R.skipNulls&&null===Y||f(W,O(Y,te,X,U,R.allowEmptyArrays,R.strictNullHandling,R.skipNulls,R.encodeDotInKeys,R.encode?R.encoder:null,R.filter,R.sort,R.allowDots,R.serializeDate,R.format,R.formatter,R.encodeValuesOnly,R.charset,ne))}var ie=W.join(R.delimiter),pe=!0===R.addQueryPrefix?"?":"";return R.charsetSentinel&&(pe+="iso-8859-1"===R.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),ie.length>0?pe+ie:""}},3884:(Re,se,b)=>{var M=b(9929),G=Object.prototype.hasOwnProperty,g=Array.isArray,v=function(){for(var j=[],I=0;I<256;++I)j.push("%"+((I<16?"0":"")+I.toString(16)).toUpperCase());return j}(),A=function(I,R){for(var L=R&&R.plainObjects?{__proto__:null}:{},ee=0;ee<I.length;++ee)typeof I[ee]<"u"&&(L[ee]=I[ee]);return L},V=1024;Re.exports={arrayToObject:A,assign:function(I,R){return Object.keys(R).reduce(function(L,ee){return L[ee]=R[ee],L},I)},combine:function(I,R){return[].concat(I,R)},compact:function(I){for(var R=[{obj:{o:I},prop:"o"}],L=[],ee=0;ee<R.length;++ee)for(var W=R[ee],X=W.obj[W.prop],U=Object.keys(X),ne=0;ne<U.length;++ne){var ce=U[ne],te=X[ce];"object"==typeof te&&null!==te&&-1===L.indexOf(te)&&(R.push({obj:X,prop:ce}),L.push(te))}return function(I){for(;I.length>1;){var R=I.pop(),L=R.obj[R.prop];if(g(L)){for(var ee=[],W=0;W<L.length;++W)typeof L[W]<"u"&&ee.push(L[W]);R.obj[R.prop]=ee}}}(R),I},decode:function(I,R,L){var ee=I.replace(/\+/g," ");if("iso-8859-1"===L)return ee.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ee)}catch{return ee}},encode:function(I,R,L,ee,W){if(0===I.length)return I;var X=I;if("symbol"==typeof I?X=Symbol.prototype.toString.call(I):"string"!=typeof I&&(X=String(I)),"iso-8859-1"===L)return escape(X).replace(/%u[0-9a-f]{4}/gi,function(pe){return"%26%23"+parseInt(pe.slice(2),16)+"%3B"});for(var U="",ne=0;ne<X.length;ne+=V){for(var ce=X.length>=V?X.slice(ne,ne+V):X,te=[],Y=0;Y<ce.length;++Y){var ie=ce.charCodeAt(Y);45===ie||46===ie||95===ie||126===ie||ie>=48&&ie<=57||ie>=65&&ie<=90||ie>=97&&ie<=122||W===M.RFC1738&&(40===ie||41===ie)?te[te.length]=ce.charAt(Y):ie<128?te[te.length]=v[ie]:ie<2048?te[te.length]=v[192|ie>>6]+v[128|63&ie]:ie<55296||ie>=57344?te[te.length]=v[224|ie>>12]+v[128|ie>>6&63]+v[128|63&ie]:(ie=65536+((1023&ie)<<10|1023&ce.charCodeAt(Y+=1)),te[te.length]=v[240|ie>>18]+v[128|ie>>12&63]+v[128|ie>>6&63]+v[128|63&ie])}U+=te.join("")}return U},isBuffer:function(I){return!(!I||"object"!=typeof I||!(I.constructor&&I.constructor.isBuffer&&I.constructor.isBuffer(I)))},isRegExp:function(I){return"[object RegExp]"===Object.prototype.toString.call(I)},maybeMap:function(I,R){if(g(I)){for(var L=[],ee=0;ee<I.length;ee+=1)L.push(R(I[ee]));return L}return R(I)},merge:function j(I,R,L){if(!R)return I;if("object"!=typeof R&&"function"!=typeof R){if(g(I))I.push(R);else{if(!I||"object"!=typeof I)return[I,R];(L&&(L.plainObjects||L.allowPrototypes)||!G.call(Object.prototype,R))&&(I[R]=!0)}return I}if(!I||"object"!=typeof I)return[I].concat(R);var ee=I;return g(I)&&!g(R)&&(ee=A(I,L)),g(I)&&g(R)?(R.forEach(function(W,X){if(G.call(I,X)){var U=I[X];U&&"object"==typeof U&&W&&"object"==typeof W?I[X]=j(U,W,L):I.push(W)}else I[X]=W}),I):Object.keys(R).reduce(function(W,X){var U=R[X];return W[X]=G.call(W,X)?j(W[X],U,L):U,W},ee)}}},270:function(Re,se,b){var G,g,M=b(40).default;typeof self<"u"&&self,Re.exports=(G={182:function(F){var A={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};F.exports={types:A,iterableTypes:[A.ITERABLE_OBJECT,A.MAP,A.ARRAY,A.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},688:function(F,A,o){var f=o(182),k=f.types,V=f.iterableTypes,T=f.errors,h=o(555),_=M(M(M(M(M(M(M(M(M(M({},k.NUMBER,h.isNumber),k.BOOLEAN,h.isBoolean),k.STRING,h.isString),k.DATE,h.isDate),k.UNDEFINED,h.isUndefined),k.NULL,h.isNull),k.ARRAY,h.isArray),k.MAP,h.isMap),k.SET,h.isSet),k.ITERABLE_OBJECT,h.isIterableObject),O=M({},k.DATE,h.areDatesEqual);function w(R){for(var L=Object.keys(_),ee=k.DEFAULT,W=0;W<L.length;W+=1)if(_[L[W]](R)){ee=L[W];break}return ee}function P(R,L,ee,W,X){var U={op:ee,path:W};return"add"!==ee&&"update"!==ee||(U.val=L),X&&"add"!==ee&&(U.oldVal=R),U}function j(R,L,ee,W,X){var $e,U=w(R),ne=w(L),ce=W||[],te=X||[];if(($e=U)===ne&&V.indexOf($e)>=0)for(var Y=function($e,Ee,Be){if(Be===k.ARRAY){var Qe=new Array($e.length>Ee.length?$e.length:Ee.length);return Qe.fill(0),new Set(Qe.map(function(Ze,st){return st}))}return new Set(Object.keys($e).concat(Object.keys(Ee)))}(R,L,U).values(),ie=Y.next(),pe=ie.value,_e=ie.done;!_e;){Object.prototype.hasOwnProperty.call(R,pe)?Object.prototype.hasOwnProperty.call(L,pe)?j(R[pe],L[pe],ee,ce.concat(pe),te):te.push(P(R[pe],L[pe],"delete",ce.concat(pe),ee)):te.push(P(R[pe],L[pe],"add",ce.concat(pe),ee));var he=Y.next();pe=he.value,_e=he.done}else{var ue=function($e,Ee,Be,Qe){var Ze,st,gt,qe;return Be===k.UNDEFINED&&Qe!==k.UNDEFINED?Ze="add":Be!==k.UNDEFINED&&Qe===k.UNDEFINED?Ze="delete":(st=$e,gt=Ee,(qe=Be)===Qe&&(O[qe]?O[qe](st,gt):st===gt)?h.noop():Ze="update"),Ze}(R,L,U,ne);null!=ue&&te.push(P(R,L,ue,W,ee))}return te}var I={add:h.setValueByPath,update:h.setValueByPath,delete:h.deleteValueByPath};F.exports={getDiff:function(L,ee){return j(L,ee,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},applyDiff:function(L,ee,W){return function(X,U,ne){if(!(U instanceof Array))throw new Error(T.INVALID_DIFF_FORMAT);var ce=X;return U.forEach(function(te){var Y=te.op,ie=te.val,pe=te.path;if(!I[Y])throw new Error(T.INVALID_DIFF_OP);ce=I[Y](ce,pe,ie,ne)}),ce}(L,ee,W)}}},555:function(F){var A=function(_){return function(O){return O instanceof _}},o=A(Date),f=A(Array),k=A(Map),V=A(Set),T=function(_){return"[object Object]"===Object.prototype.toString.call(_)};F.exports={isNumber:function(_){return"number"==typeof _},isBoolean:function(_){return"boolean"==typeof _},isString:function(_){return"string"==typeof _},isDate:o,isUndefined:function(_){return void 0===_},isNull:function(_){return null===_},isArray:f,isMap:k,isSet:V,isIterableObject:T,noop:function(){},areDatesEqual:function(_,O){return _.getTime()===O.getTime()},setValueByPath:function(_){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0;if(!f(O))throw new Error('Diff path: "'.concat(O,'" is not valid'));var j=O.length;if(0===j)return w;for(var I=_,R=0;R<j;R+=1){var L=O[R];if(!I)throw new Error('Invalid path: "'.concat(O,'" for object: ').concat(JSON.stringify(_,null,2)));if(null==L)throw new Error('Invalid path: "'.concat(O,'" for object: ').concat(JSON.stringify(_,null,2)));R!==j-1?(I=I[L],P&&P(I)):I[L]=w}return _},deleteValueByPath:function(_,O){var w=O||[];if(0!==w.length){for(var P=_,j=w.length,I=0;I<j;I+=1)if(I!==j-1){if(!P[w[I]])throw new Error('Invalid path: "'.concat(O,'" for object: ').concat(JSON.stringify(_,null,2)));P=P[w[I]]}else if(T(P))delete P[w[I]];else for(var R=parseInt(w[I],10);P.length>R;)P.pop();return _}}}}},g={},function v(F){var A=g[F];if(void 0!==A)return A.exports;var o=g[F]={exports:{}};return G[F](o,o.exports,v),o.exports}(688))},4982:(Re,se,b)=>{b.d(se,{G:()=>V});var M=b(3288),G=b(3398),g=b(2297),v=b(3544),F=b(3942),A=b(7092),o=b(3481),f=b(1687),k=b(819),V=function(T){function h(_,O){var w;return(0,M.A)(this,h),(w=(0,g.A)(this,h)).source=_,w.subjectFactory=O,w._subject=null,w._refCount=0,w._connection=null,(0,k.S)(_)&&(w.lift=_.lift),w}return(0,v.A)(h,T),(0,G.A)(h,[{key:"_subscribe",value:function(O){return this.getSubject().subscribe(O)}},{key:"getSubject",value:function(){var O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var O=this._connection;this._subject=this._connection=null,O?.unsubscribe()}},{key:"connect",value:function(){var O=this,w=this._connection;if(!w){w=this._connection=new A.yU;var P=this.getSubject();w.add(this.source.subscribe((0,f._)(P,void 0,function(){O._teardown(),P.complete()},function(j){O._teardown(),P.error(j)},function(){return O._teardown()}))),w.closed&&(this._connection=null,w=A.yU.EMPTY)}return w}},{key:"refCount",value:function(){return(0,o.B)()(this)}}])}(F.c)},9999:(Re,se,b)=>{b.d(se,{z:()=>V});var M=b(3942),G=b(7808),g=b(9835),v=b(1440),F=b(8067),A=b(4083),o=b(6813),f=b(1687),k=b(310);function V(){for(var _=arguments.length,O=new Array(_),w=0;w<_;w++)O[w]=arguments[w];var P=(0,A.lI)(O),j=(0,A.ms)(O),I=(0,G.D)(O),R=I.args,L=I.keys;if(0===R.length)return(0,g.H)([],P);var ee=new M.c(function T(_,O){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.D;return function(P){h(O,function(){for(var j=_.length,I=new Array(j),R=j,L=j,ee=function(U){h(O,function(){var ne=(0,g.H)(_[U],O),ce=!1;ne.subscribe((0,f._)(P,function(te){I[U]=te,ce||(ce=!0,L--),L||P.next(w(I.slice()))},function(){--R||P.complete()}))},P)},W=0;W<j;W++)ee(W)},P)}}(R,P,L?function(W){return(0,o.e)(L,W)}:v.D));return j?ee.pipe((0,F.I)(j)):ee}function h(_,O,w){_?(0,k.N)(w,_,O):O()}},1817:(Re,se,b)=>{b.d(se,{F:()=>v});var M=b(1440),G=b(819),g=b(1687);function v(A){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.D;return A=A??F,(0,G.N)(function(f,k){var V,T=!0;f.subscribe((0,g._)(k,function(h){var _=o(h);(T||!A(V,_))&&(T=!1,V=_,k.next(h))}))})}function F(A,o){return A===o}},9923:(Re,se,b)=>{b.d(se,{T:()=>g});var M=b(5392),G=b(819);function g(v,F){return(0,G.N)((0,M.S)(v,F,arguments.length>=2,!1,!0))}},3481:(Re,se,b)=>{b.d(se,{B:()=>g});var M=b(819),G=b(1687);function g(){return(0,M.N)(function(v,F){var A=null;v._refCount++;var o=(0,G._)(F,void 0,void 0,void 0,function(){if(!v||v._refCount<=0||0<--v._refCount)A=null;else{var f=v._connection,k=A;A=null,f&&(!k||f===k)&&f.unsubscribe(),F.unsubscribe()}});v.subscribe(o),o.closed||(A=v.connect())})}},5392:(Re,se,b)=>{b.d(se,{S:()=>G});var M=b(1687);function G(g,v,F,A,o){return function(f,k){var V=F,T=v,h=0;f.subscribe((0,M._)(k,function(_){var O=h++;T=V?g(T,_,O):(V=!0,_),A&&k.next(T)},o&&function(){V&&k.next(T),k.complete()}))}}},6301:(Re,se,b)=>{b.d(se,{t:()=>g});var M=b(6042),G=b(1870);function g(v,F,A){var o,f=!1;if(v&&"object"==typeof v){var k=v.bufferSize;o=void 0===k?1/0:k;var V=v.windowTime;F=void 0===V?1/0:V;var T=v.refCount;f=void 0!==T&&T,A=v.scheduler}else o=v??1/0;return(0,G.u)({connector:function(){return new M.m(o,F,A)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}},2551:(Re,se,b)=>{b.d(se,{A:()=>g});var M=b(3942),G=b(1530);function g(v){return!!v&&(v instanceof M.c||(0,G.T)(v.lift)&&(0,G.T)(v.subscribe))}},4365:(Re,se,b)=>{var M=b(2954),G=b(5346),g=b(6413),v=Object.prototype.toString;Re.exports=M(function F(A,o){for(var f=-1,k="[object Array]"===v.call(A)?A:g(G(A)),V=k.length,T=V?o:void 0;++f<V;){if(Object(T)!==T)return;T=T[k[f]]}return"function"==typeof T?T():T})},863:(Re,se,b)=>{var M=b(3687),G=b(8519),g=function(k,V,T){for(var _,h=k;null!=(_=h.next);h=_)if(_.key===V)return h.next=_.next,T||(_.next=k.next,k.next=_),_};Re.exports=function(){var k,V={assert:function(h){if(!V.has(h))throw new G("Side channel does not contain "+M(h))},delete:function(h){var _=k&&k.next,O=function(k,V){if(k)return g(k,V,!0)}(k,h);return O&&_&&_===O&&(k=void 0),!!O},get:function(h){return function(k,V){if(k){var T=g(k,V);return T&&T.value}}(k,h)},has:function(h){return function(k,V){return!!k&&!!g(k,V)}(k,h)},set:function(h,_){k||(k={next:void 0}),function(k,V,T){var h=g(k,V);h?h.value=T:k.next={key:V,next:k.next,value:T}}(k,h,_)}};return V}},2375:(Re,se,b)=>{var M=b(2521),G=b(840),g=b(3687),v=b(8519),F=M("%Map%",!0),A=G("Map.prototype.get",!0),o=G("Map.prototype.set",!0),f=G("Map.prototype.has",!0),k=G("Map.prototype.delete",!0),V=G("Map.prototype.size",!0);Re.exports=!!F&&function(){var h,_={assert:function(w){if(!_.has(w))throw new v("Side channel does not contain "+g(w))},delete:function(w){if(h){var P=k(h,w);return 0===V(h)&&(h=void 0),P}return!1},get:function(w){if(h)return A(h,w)},has:function(w){return!!h&&f(h,w)},set:function(w,P){h||(h=new F),o(h,w,P)}};return _}},603:(Re,se,b)=>{var M=b(2521),G=b(840),g=b(3687),v=b(2375),F=b(8519),A=M("%WeakMap%",!0),o=G("WeakMap.prototype.get",!0),f=G("WeakMap.prototype.set",!0),k=G("WeakMap.prototype.has",!0),V=G("WeakMap.prototype.delete",!0);Re.exports=A?function(){var h,_,O={assert:function(P){if(!O.has(P))throw new F("Side channel does not contain "+g(P))},delete:function(P){if(A&&P&&("object"==typeof P||"function"==typeof P)){if(h)return V(h,P)}else if(v&&_)return _.delete(P);return!1},get:function(P){return A&&P&&("object"==typeof P||"function"==typeof P)&&h?o(h,P):_&&_.get(P)},has:function(P){return A&&P&&("object"==typeof P||"function"==typeof P)&&h?k(h,P):!!_&&_.has(P)},set:function(P,j){A&&P&&("object"==typeof P||"function"==typeof P)?(h||(h=new A),f(h,P,j)):v&&(_||(_=v()),_.set(P,j))}};return O}:v},5492:(Re,se,b)=>{var M=b(8519),G=b(3687),g=b(863),v=b(2375),A=b(603)||v||g;Re.exports=function(){var f,k={assert:function(T){if(!k.has(T))throw new M("Side channel does not contain "+G(T))},delete:function(T){return!!f&&f.delete(T)},get:function(T){return f&&f.get(T)},has:function(T){return!!f&&f.has(T)},set:function(T,h){f||(f=A()),f.set(T,h)}};return k}},4834:(Re,se,b)=>{Re.exports=g;var M=b(4339).EventEmitter;function g(){M.call(this)}b(9822)(g,M),g.Readable=b(1551),g.Writable=b(5299),g.Duplex=b(3049),g.Transform=b(8463),g.PassThrough=b(2781),g.finished=b(5629),g.pipeline=b(7607),g.Stream=g,g.prototype.pipe=function(v,F){var A=this;function o(O){v.writable&&!1===v.write(O)&&A.pause&&A.pause()}function f(){A.readable&&A.resume&&A.resume()}A.on("data",o),v.on("drain",f),!v._isStdio&&(!F||!1!==F.end)&&(A.on("end",V),A.on("close",T));var k=!1;function V(){k||(k=!0,v.end())}function T(){k||(k=!0,"function"==typeof v.destroy&&v.destroy())}function h(O){if(_(),0===M.listenerCount(this,"error"))throw O}function _(){A.removeListener("data",o),v.removeListener("drain",f),A.removeListener("end",V),A.removeListener("close",T),A.removeListener("error",h),v.removeListener("error",h),A.removeListener("end",_),A.removeListener("close",_),v.removeListener("close",_)}return A.on("error",h),v.on("error",h),A.on("end",_),A.on("close",_),v.on("close",_),v.emit("pipe",A),v}},8379:Re=>{var b={};function M(A,o,f){f||(f=Error);var V=function(T){function h(_,O,w){return T.call(this,function k(T,h,_){return"string"==typeof o?o:o(T,h,_)}(_,O,w))||this}return function se(A,o){A.prototype=Object.create(o.prototype),A.prototype.constructor=A,A.__proto__=o}(h,T),h}(f);V.prototype.name=f.name,V.prototype.code=A,b[A]=V}function G(A,o){if(Array.isArray(A)){var f=A.length;return A=A.map(function(k){return String(k)}),f>2?"one of ".concat(o," ").concat(A.slice(0,f-1).join(", "),", or ")+A[f-1]:2===f?"one of ".concat(o," ").concat(A[0]," or ").concat(A[1]):"of ".concat(o," ").concat(A[0])}return"of ".concat(o," ").concat(String(A))}M("ERR_INVALID_OPT_VALUE",function(A,o){return'The value "'+o+'" is invalid for option "'+A+'"'},TypeError),M("ERR_INVALID_ARG_TYPE",function(A,o,f){var k,V;if("string"==typeof o&&function g(A,o,f){return A.substr(!f||f<0?0:+f,o.length)===o}(o,"not ")?(k="must not be",o=o.replace(/^not /,"")):k="must be",function v(A,o,f){return(void 0===f||f>A.length)&&(f=A.length),A.substring(f-o.length,f)===o}(A," argument"))V="The ".concat(A," ").concat(k," ").concat(G(o,"type"));else{var T=function F(A,o,f){return"number"!=typeof f&&(f=0),!(f+o.length>A.length)&&-1!==A.indexOf(o,f)}(A,".")?"property":"argument";V='The "'.concat(A,'" ').concat(T," ").concat(k," ").concat(G(o,"type"))}return V+". Received type ".concat(typeof f)},TypeError),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),M("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),M("ERR_STREAM_PREMATURE_CLOSE","Premature close"),M("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),M("ERR_STREAM_WRITE_AFTER_END","write after end"),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Re.exports.F=b},3049:(Re,se,b)=>{var M=Object.keys||function(V){var T=[];for(var h in V)T.push(h);return T};Re.exports=o;var G=b(1551),g=b(5299);b(9822)(o,G);for(var v=M(g.prototype),F=0;F<v.length;F++){var A=v[F];o.prototype[A]||(o.prototype[A]=g.prototype[A])}function o(V){if(!(this instanceof o))return new o(V);G.call(this,V),g.call(this,V),this.allowHalfOpen=!0,V&&(!1===V.readable&&(this.readable=!1),!1===V.writable&&(this.writable=!1),!1===V.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||process.nextTick(k,this)}function k(V){V.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(T){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=T,this._writableState.destroyed=T)}})},2781:(Re,se,b)=>{Re.exports=G;var M=b(8463);function G(g){if(!(this instanceof G))return new G(g);M.call(this,g)}b(9822)(G,M),G.prototype._transform=function(g,v,F){F(null,g)}},1551:(Re,se,b)=>{var M;Re.exports=te,te.ReadableState=ce,b(4339);var V,g=function(re,Me){return re.listeners(Me).length},v=b(6832),F=b(163).Buffer,A=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},k=b(7199);V=k&&k.debuglog?k.debuglog("stream"):function(){};var L,ee,W,T=b(2650),h=b(9719),O=b(7288).getHighWaterMark,w=b(8379).F,P=w.ERR_INVALID_ARG_TYPE,j=w.ERR_STREAM_PUSH_AFTER_EOF,I=w.ERR_METHOD_NOT_IMPLEMENTED,R=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;b(9822)(te,v);var X=h.errorOrDestroy,U=["error","close","destroy","pause","resume"];function ce(ae,re,Me){M=M||b(3049),"boolean"!=typeof Me&&(Me=re instanceof M),this.objectMode=!!(ae=ae||{}).objectMode,Me&&(this.objectMode=this.objectMode||!!ae.readableObjectMode),this.highWaterMark=O(this,ae,"readableHighWaterMark",Me),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==ae.emitClose,this.autoDestroy=!!ae.autoDestroy,this.destroyed=!1,this.defaultEncoding=ae.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ae.encoding&&(L||(L=b(281).I),this.decoder=new L(ae.encoding),this.encoding=ae.encoding)}function te(ae){if(M=M||b(3049),!(this instanceof te))return new te(ae);this._readableState=new ce(ae,this,this instanceof M),this.readable=!0,ae&&("function"==typeof ae.read&&(this._read=ae.read),"function"==typeof ae.destroy&&(this._destroy=ae.destroy)),v.call(this)}function Y(ae,re,Me,oe,J){V("readableAddChunk",re);var be,Q=ae._readableState;if(null===re)Q.reading=!1,function $e(ae,re){if(V("onEofChunk"),!re.ended){if(re.decoder){var Me=re.decoder.end();Me&&Me.length&&(re.buffer.push(Me),re.length+=re.objectMode?1:Me.length)}re.ended=!0,re.sync?Ee(ae):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,Be(ae)))}}(ae,Q);else if(J||(be=function pe(ae,re){var Me;return!function f(ae){return F.isBuffer(ae)||ae instanceof A}(re)&&"string"!=typeof re&&void 0!==re&&!ae.objectMode&&(Me=new P("chunk",["string","Buffer","Uint8Array"],re)),Me}(Q,re)),be)X(ae,be);else if(Q.objectMode||re&&re.length>0)if("string"!=typeof re&&!Q.objectMode&&Object.getPrototypeOf(re)!==F.prototype&&(re=function o(ae){return F.from(ae)}(re)),oe)Q.endEmitted?X(ae,new R):ie(ae,Q,re,!0);else if(Q.ended)X(ae,new j);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!Me?(re=Q.decoder.write(re),Q.objectMode||0!==re.length?ie(ae,Q,re,!1):Qe(ae,Q)):ie(ae,Q,re,!1)}else oe||(Q.reading=!1,Qe(ae,Q));return!Q.ended&&(Q.length<Q.highWaterMark||0===Q.length)}function ie(ae,re,Me,oe){re.flowing&&0===re.length&&!re.sync?(re.awaitDrain=0,ae.emit("data",Me)):(re.length+=re.objectMode?1:Me.length,oe?re.buffer.unshift(Me):re.buffer.push(Me),re.needReadable&&Ee(ae)),Qe(ae,re)}Object.defineProperty(te.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),te.prototype.destroy=h.destroy,te.prototype._undestroy=h.undestroy,te.prototype._destroy=function(ae,re){re(ae)},te.prototype.push=function(ae,re){var oe,Me=this._readableState;return Me.objectMode?oe=!0:"string"==typeof ae&&((re=re||Me.defaultEncoding)!==Me.encoding&&(ae=F.from(ae,re),re=""),oe=!0),Y(this,ae,re,!1,oe)},te.prototype.unshift=function(ae){return Y(this,ae,null,!0,!1)},te.prototype.isPaused=function(){return!1===this._readableState.flowing},te.prototype.setEncoding=function(ae){L||(L=b(281).I);var re=new L(ae);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var Me=this._readableState.buffer.head,oe="";null!==Me;)oe+=re.write(Me.data),Me=Me.next;return this._readableState.buffer.clear(),""!==oe&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var _e=1073741824;function ue(ae,re){return ae<=0||0===re.length&&re.ended?0:re.objectMode?1:ae!=ae?re.flowing&&re.length?re.buffer.head.data.length:re.length:(ae>re.highWaterMark&&(re.highWaterMark=function he(ae){return ae>=_e?ae=_e:(ae--,ae|=ae>>>1,ae|=ae>>>2,ae|=ae>>>4,ae|=ae>>>8,ae|=ae>>>16,ae++),ae}(ae)),ae<=re.length?ae:re.ended?re.length:(re.needReadable=!0,0))}function Ee(ae){var re=ae._readableState;V("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(V("emitReadable",re.flowing),re.emittedReadable=!0,process.nextTick(Be,ae))}function Be(ae){var re=ae._readableState;V("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(ae.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,fe(ae)}function Qe(ae,re){re.readingMore||(re.readingMore=!0,process.nextTick(Ze,ae,re))}function Ze(ae,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&0===re.length);){var Me=re.length;if(V("maybeReadMore read 0"),ae.read(0),Me===re.length)break}re.readingMore=!1}function gt(ae){var re=ae._readableState;re.readableListening=ae.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:ae.listenerCount("data")>0&&ae.resume()}function qe(ae){V("readable nexttick read 0"),ae.read(0)}function ht(ae,re){V("resume",re.reading),re.reading||ae.read(0),re.resumeScheduled=!1,ae.emit("resume"),fe(ae),re.flowing&&!re.reading&&ae.read(0)}function fe(ae){var re=ae._readableState;for(V("flow",re.flowing);re.flowing&&null!==ae.read(););}function H(ae,re){return 0===re.length?null:(re.objectMode?Me=re.buffer.shift():!ae||ae>=re.length?(Me=re.decoder?re.buffer.join(""):1===re.buffer.length?re.buffer.first():re.buffer.concat(re.length),re.buffer.clear()):Me=re.buffer.consume(ae,re.decoder),Me);var Me}function K(ae){var re=ae._readableState;V("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,process.nextTick(xe,re,ae))}function xe(ae,re){if(V("endReadableNT",ae.endEmitted,ae.length),!ae.endEmitted&&0===ae.length&&(ae.endEmitted=!0,re.readable=!1,re.emit("end"),ae.autoDestroy)){var Me=re._writableState;(!Me||Me.autoDestroy&&Me.finished)&&re.destroy()}}function Te(ae,re){for(var Me=0,oe=ae.length;Me<oe;Me++)if(ae[Me]===re)return Me;return-1}te.prototype.read=function(ae){V("read",ae),ae=parseInt(ae,10);var re=this._readableState,Me=ae;if(0!==ae&&(re.emittedReadable=!1),0===ae&&re.needReadable&&((0!==re.highWaterMark?re.length>=re.highWaterMark:re.length>0)||re.ended))return V("read: emitReadable",re.length,re.ended),0===re.length&&re.ended?K(this):Ee(this),null;if(0===(ae=ue(ae,re))&&re.ended)return 0===re.length&&K(this),null;var J,oe=re.needReadable;return V("need readable",oe),(0===re.length||re.length-ae<re.highWaterMark)&&V("length less than watermark",oe=!0),re.ended||re.reading?V("reading or ended",oe=!1):oe&&(V("do read"),re.reading=!0,re.sync=!0,0===re.length&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(ae=ue(Me,re))),null===(J=ae>0?H(ae,re):null)?(re.needReadable=re.length<=re.highWaterMark,ae=0):(re.length-=ae,re.awaitDrain=0),0===re.length&&(re.ended||(re.needReadable=!0),Me!==ae&&re.ended&&K(this)),null!==J&&this.emit("data",J),J},te.prototype._read=function(ae){X(this,new I("_read()"))},te.prototype.pipe=function(ae,re){var Me=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=ae;break;case 1:oe.pipes=[oe.pipes,ae];break;default:oe.pipes.push(ae)}oe.pipesCount+=1,V("pipe count=%d opts=%j",oe.pipesCount,re);var Q=re&&!1===re.end||ae===process.stdout||ae===process.stderr?we:je;function je(){V("onend"),ae.end()}oe.endEmitted?process.nextTick(Q):Me.once("end",Q),ae.on("unpipe",function be(Rn,Dn){V("onunpipe"),Rn===Me&&Dn&&!1===Dn.hasUnpiped&&(Dn.hasUnpiped=!0,function _t(){V("cleanup"),ae.removeListener("close",cn),ae.removeListener("finish",fn),ae.removeListener("drain",tt),ae.removeListener("error",Vt),ae.removeListener("unpipe",be),Me.removeListener("end",je),Me.removeListener("end",we),Me.removeListener("data",Bt),it=!0,oe.awaitDrain&&(!ae._writableState||ae._writableState.needDrain)&&tt()}())});var tt=function st(ae){return function(){var Me=ae._readableState;V("pipeOnDrain",Me.awaitDrain),Me.awaitDrain&&Me.awaitDrain--,0===Me.awaitDrain&&g(ae,"data")&&(Me.flowing=!0,fe(ae))}}(Me);ae.on("drain",tt);var it=!1;function Bt(Rn){V("ondata");var Dn=ae.write(Rn);V("dest.write",Dn),!1===Dn&&((1===oe.pipesCount&&oe.pipes===ae||oe.pipesCount>1&&-1!==Te(oe.pipes,ae))&&!it&&(V("false write response, pause",oe.awaitDrain),oe.awaitDrain++),Me.pause())}function Vt(Rn){V("onerror",Rn),we(),ae.removeListener("error",Vt),0===g(ae,"error")&&X(ae,Rn)}function cn(){ae.removeListener("finish",fn),we()}function fn(){V("onfinish"),ae.removeListener("close",cn),we()}function we(){V("unpipe"),Me.unpipe(ae)}return Me.on("data",Bt),function ne(ae,re,Me){if("function"==typeof ae.prependListener)return ae.prependListener(re,Me);ae._events&&ae._events[re]?Array.isArray(ae._events[re])?ae._events[re].unshift(Me):ae._events[re]=[Me,ae._events[re]]:ae.on(re,Me)}(ae,"error",Vt),ae.once("close",cn),ae.once("finish",fn),ae.emit("pipe",Me),oe.flowing||(V("pipe resume"),Me.resume()),ae},te.prototype.unpipe=function(ae){var re=this._readableState,Me={hasUnpiped:!1};if(0===re.pipesCount)return this;if(1===re.pipesCount)return ae&&ae!==re.pipes||(ae||(ae=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,ae&&ae.emit("unpipe",this,Me)),this;if(!ae){var oe=re.pipes,J=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var Q=0;Q<J;Q++)oe[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var be=Te(re.pipes,ae);return-1===be||(re.pipes.splice(be,1),re.pipesCount-=1,1===re.pipesCount&&(re.pipes=re.pipes[0]),ae.emit("unpipe",this,Me)),this},te.prototype.addListener=te.prototype.on=function(ae,re){var Me=v.prototype.on.call(this,ae,re),oe=this._readableState;return"data"===ae?(oe.readableListening=this.listenerCount("readable")>0,!1!==oe.flowing&&this.resume()):"readable"===ae&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,V("on readable",oe.length,oe.reading),oe.length?Ee(this):oe.reading||process.nextTick(qe,this)),Me},te.prototype.removeListener=function(ae,re){var Me=v.prototype.removeListener.call(this,ae,re);return"readable"===ae&&process.nextTick(gt,this),Me},te.prototype.removeAllListeners=function(ae){var re=v.prototype.removeAllListeners.apply(this,arguments);return("readable"===ae||void 0===ae)&&process.nextTick(gt,this),re},te.prototype.resume=function(){var ae=this._readableState;return ae.flowing||(V("resume"),ae.flowing=!ae.readableListening,function rt(ae,re){re.resumeScheduled||(re.resumeScheduled=!0,process.nextTick(ht,ae,re))}(this,ae)),ae.paused=!1,this},te.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},te.prototype.wrap=function(ae){var re=this,Me=this._readableState,oe=!1;for(var J in ae.on("end",function(){if(V("wrapped end"),Me.decoder&&!Me.ended){var be=Me.decoder.end();be&&be.length&&re.push(be)}re.push(null)}),ae.on("data",function(be){V("wrapped data"),Me.decoder&&(be=Me.decoder.write(be)),Me.objectMode&&null==be||!(Me.objectMode||be&&be.length)||re.push(be)||(oe=!0,ae.pause())}),ae)void 0===this[J]&&"function"==typeof ae[J]&&(this[J]=function(je){return function(){return ae[je].apply(ae,arguments)}}(J));for(var Q=0;Q<U.length;Q++)ae.on(U[Q],this.emit.bind(this,U[Q]));return this._read=function(be){V("wrapped _read",be),oe&&(oe=!1,ae.resume())},this},"function"==typeof Symbol&&(te.prototype[Symbol.asyncIterator]=function(){return void 0===ee&&(ee=b(5486)),ee(this)}),Object.defineProperty(te.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(te.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(te.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),te._fromList=H,Object.defineProperty(te.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(te.from=function(ae,re){return void 0===W&&(W=b(5252)),W(te,ae,re)})},8463:(Re,se,b)=>{Re.exports=f;var M=b(8379).F,G=M.ERR_METHOD_NOT_IMPLEMENTED,g=M.ERR_MULTIPLE_CALLBACK,v=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,F=M.ERR_TRANSFORM_WITH_LENGTH_0,A=b(3049);function o(T,h){var _=this._transformState;_.transforming=!1;var O=_.writecb;if(null===O)return this.emit("error",new g);_.writechunk=null,_.writecb=null,null!=h&&this.push(h),O(T);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function f(T){if(!(this instanceof f))return new f(T);A.call(this,T),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&("function"==typeof T.transform&&(this._transform=T.transform),"function"==typeof T.flush&&(this._flush=T.flush)),this.on("prefinish",k)}function k(){var T=this;"function"!=typeof this._flush||this._readableState.destroyed?V(this,null,null):this._flush(function(h,_){V(T,h,_)})}function V(T,h,_){if(h)return T.emit("error",h);if(null!=_&&T.push(_),T._writableState.length)throw new F;if(T._transformState.transforming)throw new v;return T.push(null)}b(9822)(f,A),f.prototype.push=function(T,h){return this._transformState.needTransform=!1,A.prototype.push.call(this,T,h)},f.prototype._transform=function(T,h,_){_(new G("_transform()"))},f.prototype._write=function(T,h,_){var O=this._transformState;if(O.writecb=_,O.writechunk=T,O.writeencoding=h,!O.transforming){var w=this._readableState;(O.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},f.prototype._read=function(T){var h=this._transformState;null===h.writechunk||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},f.prototype._destroy=function(T,h){A.prototype._destroy.call(this,T,function(_){h(_)})}},5299:(Re,se,b)=>{function G(fe){var H=this;this.next=null,this.entry=null,this.finish=function(){!function ht(fe,H,K){var xe=fe.entry;for(fe.entry=null;xe;){var Te=xe.callback;H.pendingcb--,Te(K),xe=xe.next}H.corkedRequestsFree.next=fe}(H,fe)}}var g;Re.exports=ce,ce.WritableState=U;var ne,v={deprecate:b(3935)},F=b(6832),A=b(163).Buffer,o=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},V=b(9719),h=b(7288).getHighWaterMark,_=b(8379).F,O=_.ERR_INVALID_ARG_TYPE,w=_.ERR_METHOD_NOT_IMPLEMENTED,P=_.ERR_MULTIPLE_CALLBACK,j=_.ERR_STREAM_CANNOT_PIPE,I=_.ERR_STREAM_DESTROYED,R=_.ERR_STREAM_NULL_VALUES,L=_.ERR_STREAM_WRITE_AFTER_END,ee=_.ERR_UNKNOWN_ENCODING,W=V.errorOrDestroy;function X(){}function U(fe,H,K){g=g||b(3049),"boolean"!=typeof K&&(K=H instanceof g),this.objectMode=!!(fe=fe||{}).objectMode,K&&(this.objectMode=this.objectMode||!!fe.writableObjectMode),this.highWaterMark=h(this,fe,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===fe.decodeStrings),this.defaultEncoding=fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Te){!function $e(fe,H){var K=fe._writableState,xe=K.sync,Te=K.writecb;if("function"!=typeof Te)throw new P;if(function ue(fe){fe.writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0}(K),H)!function he(fe,H,K,xe,Te){--H.pendingcb,K?(process.nextTick(Te,xe),process.nextTick(qe,fe,H),fe._writableState.errorEmitted=!0,W(fe,xe)):(Te(xe),fe._writableState.errorEmitted=!0,W(fe,xe),qe(fe,H))}(fe,K,xe,H,Te);else{var ae=Ze(K)||fe.destroyed;!ae&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&Qe(fe,K),xe?process.nextTick(Ee,fe,K,ae,Te):Ee(fe,K,ae,Te)}}(H,Te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==fe.emitClose,this.autoDestroy=!!fe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new G(this)}function ce(fe){var H=this instanceof(g=g||b(3049));if(!H&&!ne.call(ce,this))return new ce(fe);this._writableState=new U(fe,this,H),this.writable=!0,fe&&("function"==typeof fe.write&&(this._write=fe.write),"function"==typeof fe.writev&&(this._writev=fe.writev),"function"==typeof fe.destroy&&(this._destroy=fe.destroy),"function"==typeof fe.final&&(this._final=fe.final)),F.call(this)}function _e(fe,H,K,xe,Te,ae,re){H.writelen=xe,H.writecb=re,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new I("write")):K?fe._writev(Te,H.onwrite):fe._write(Te,ae,H.onwrite),H.sync=!1}function Ee(fe,H,K,xe){K||function Be(fe,H){0===H.length&&H.needDrain&&(H.needDrain=!1,fe.emit("drain"))}(fe,H),H.pendingcb--,xe(),qe(fe,H)}function Qe(fe,H){H.bufferProcessing=!0;var K=H.bufferedRequest;if(fe._writev&&K&&K.next){var Te=new Array(H.bufferedRequestCount),ae=H.corkedRequestsFree;ae.entry=K;for(var re=0,Me=!0;K;)Te[re]=K,K.isBuf||(Me=!1),K=K.next,re+=1;Te.allBuffers=Me,_e(fe,H,!0,H.length,Te,"",ae.finish),H.pendingcb++,H.lastBufferedRequest=null,ae.next?(H.corkedRequestsFree=ae.next,ae.next=null):H.corkedRequestsFree=new G(H),H.bufferedRequestCount=0}else{for(;K;){var oe=K.chunk;if(_e(fe,H,!1,H.objectMode?1:oe.length,oe,K.encoding,K.callback),K=K.next,H.bufferedRequestCount--,H.writing)break}null===K&&(H.lastBufferedRequest=null)}H.bufferedRequest=K,H.bufferProcessing=!1}function Ze(fe){return fe.ending&&0===fe.length&&null===fe.bufferedRequest&&!fe.finished&&!fe.writing}function st(fe,H){fe._final(function(K){H.pendingcb--,K&&W(fe,K),H.prefinished=!0,fe.emit("prefinish"),qe(fe,H)})}function qe(fe,H){var K=Ze(H);if(K&&(function gt(fe,H){!H.prefinished&&!H.finalCalled&&("function"!=typeof fe._final||H.destroyed?(H.prefinished=!0,fe.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,process.nextTick(st,fe,H)))}(fe,H),0===H.pendingcb&&(H.finished=!0,fe.emit("finish"),H.autoDestroy))){var xe=fe._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&fe.destroy()}return K}b(9822)(ce,F),U.prototype.getBuffer=function(){for(var H=this.bufferedRequest,K=[];H;)K.push(H),H=H.next;return K},function(){try{Object.defineProperty(U.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(ce,Symbol.hasInstance,{value:function(H){return!!ne.call(this,H)||this===ce&&H&&H._writableState instanceof U}})):ne=function(H){return H instanceof this},ce.prototype.pipe=function(){W(this,new j)},ce.prototype.write=function(fe,H,K){var xe=this._writableState,Te=!1,ae=!xe.objectMode&&function k(fe){return A.isBuffer(fe)||fe instanceof o}(fe);return ae&&!A.isBuffer(fe)&&(fe=function f(fe){return A.from(fe)}(fe)),"function"==typeof H&&(K=H,H=null),ae?H="buffer":H||(H=xe.defaultEncoding),"function"!=typeof K&&(K=X),xe.ending?function te(fe,H){var K=new L;W(fe,K),process.nextTick(H,K)}(this,K):(ae||function Y(fe,H,K,xe){var Te;return null===K?Te=new R:"string"!=typeof K&&!H.objectMode&&(Te=new O("chunk",["string","Buffer"],K)),!Te||(W(fe,Te),process.nextTick(xe,Te),!1)}(this,xe,fe,K))&&(xe.pendingcb++,Te=function pe(fe,H,K,xe,Te,ae){if(!K){var re=function ie(fe,H,K){return!fe.objectMode&&!1!==fe.decodeStrings&&"string"==typeof H&&(H=A.from(H,K)),H}(H,xe,Te);xe!==re&&(K=!0,Te="buffer",xe=re)}var Me=H.objectMode?1:xe.length;H.length+=Me;var oe=H.length<H.highWaterMark;if(oe||(H.needDrain=!0),H.writing||H.corked){var J=H.lastBufferedRequest;H.lastBufferedRequest={chunk:xe,encoding:Te,isBuf:K,callback:ae,next:null},J?J.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else _e(fe,H,!1,Me,xe,Te,ae);return oe}(this,xe,ae,fe,H,K)),Te},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){var fe=this._writableState;fe.corked&&(fe.corked--,!fe.writing&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&Qe(this,fe))},ce.prototype.setDefaultEncoding=function(H){if("string"==typeof H&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new ee(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(ce.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ce.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ce.prototype._write=function(fe,H,K){K(new w("_write()"))},ce.prototype._writev=null,ce.prototype.end=function(fe,H,K){var xe=this._writableState;return"function"==typeof fe?(K=fe,fe=null,H=null):"function"==typeof H&&(K=H,H=null),null!=fe&&this.write(fe,H),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||function rt(fe,H,K){H.ending=!0,qe(fe,H),K&&(H.finished?process.nextTick(K):fe.once("finish",K)),H.ended=!0,fe.writable=!1}(this,xe,K),this},Object.defineProperty(ce.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),ce.prototype.destroy=V.destroy,ce.prototype._undestroy=V.undestroy,ce.prototype._destroy=function(fe,H){H(fe)}},5486:(Re,se,b)=>{var M;function G(L,ee,W){return ee=function g(L){var ee=function v(L,ee){if("object"!=typeof L||null===L)return L;var W=L[Symbol.toPrimitive];if(void 0!==W){var X=W.call(L,ee||"default");if("object"!=typeof X)return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(L)}(L,"string");return"symbol"==typeof ee?ee:String(ee)}(ee),ee in L?Object.defineProperty(L,ee,{value:W,enumerable:!0,configurable:!0,writable:!0}):L[ee]=W,L}var F=b(5629),A=Symbol("lastResolve"),o=Symbol("lastReject"),f=Symbol("error"),k=Symbol("ended"),V=Symbol("lastPromise"),T=Symbol("handlePromise"),h=Symbol("stream");function _(L,ee){return{value:L,done:ee}}function O(L){var ee=L[A];if(null!==ee){var W=L[h].read();null!==W&&(L[V]=null,L[A]=null,L[o]=null,ee(_(W,!1)))}}function w(L){process.nextTick(O,L)}var j=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((G(M={get stream(){return this[h]},next:function(){var ee=this,W=this[f];if(null!==W)return Promise.reject(W);if(this[k])return Promise.resolve(_(void 0,!0));if(this[h].destroyed)return new Promise(function(ce,te){process.nextTick(function(){ee[f]?te(ee[f]):ce(_(void 0,!0))})});var U,X=this[V];if(X)U=new Promise(function P(L,ee){return function(W,X){L.then(function(){ee[k]?W(_(void 0,!0)):ee[T](W,X)},X)}}(X,this));else{var ne=this[h].read();if(null!==ne)return Promise.resolve(_(ne,!1));U=new Promise(this[T])}return this[V]=U,U}},Symbol.asyncIterator,function(){return this}),G(M,"return",function(){var ee=this;return new Promise(function(W,X){ee[h].destroy(null,function(U){U?X(U):W(_(void 0,!0))})})}),M),j);Re.exports=function(ee){var W,X=Object.create(I,(G(W={},h,{value:ee,writable:!0}),G(W,A,{value:null,writable:!0}),G(W,o,{value:null,writable:!0}),G(W,f,{value:null,writable:!0}),G(W,k,{value:ee._readableState.endEmitted,writable:!0}),G(W,T,{value:function(ne,ce){var te=X[h].read();te?(X[V]=null,X[A]=null,X[o]=null,ne(_(te,!1))):(X[A]=ne,X[o]=ce)},writable:!0}),W));return X[V]=null,F(ee,function(U){if(U&&"ERR_STREAM_PREMATURE_CLOSE"!==U.code){var ne=X[o];return null!==ne&&(X[V]=null,X[A]=null,X[o]=null,ne(U)),void(X[f]=U)}var ce=X[A];null!==ce&&(X[V]=null,X[A]=null,X[o]=null,ce(_(void 0,!0))),X[k]=!0}),ee.on("readable",w.bind(null,X)),X}},2650:(Re,se,b)=>{function M(w,P){var j=Object.keys(w);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(w);P&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(w,R).enumerable})),j.push.apply(j,I)}return j}function G(w){for(var P=1;P<arguments.length;P++){var j=null!=arguments[P]?arguments[P]:{};P%2?M(Object(j),!0).forEach(function(I){g(w,I,j[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(j)):M(Object(j)).forEach(function(I){Object.defineProperty(w,I,Object.getOwnPropertyDescriptor(j,I))})}return w}function g(w,P,j){return(P=o(P))in w?Object.defineProperty(w,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):w[P]=j,w}function F(w,P){for(var j=0;j<P.length;j++){var I=P[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,o(I.key),I)}}function o(w){var P=function f(w,P){if("object"!=typeof w||null===w)return w;var j=w[Symbol.toPrimitive];if(void 0!==j){var I=j.call(w,P||"default");if("object"!=typeof I)return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(w)}(w,"string");return"symbol"==typeof P?P:String(P)}var V=b(163).Buffer,h=b(3779).inspect,_=h&&h.custom||"inspect";function O(w,P,j){V.prototype.copy.call(w,P,j)}Re.exports=function(){function w(){(function v(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,w),this.head=null,this.tail=null,this.length=0}return function A(w,P,j){P&&F(w.prototype,P),j&&F(w,j),Object.defineProperty(w,"prototype",{writable:!1})}(w,[{key:"push",value:function(j){var I={data:j,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(j){var I={data:j,next:this.head};0===this.length&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(0!==this.length){var j=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(0===this.length)return"";for(var I=this.head,R=""+I.data;I=I.next;)R+=j+I.data;return R}},{key:"concat",value:function(j){if(0===this.length)return V.alloc(0);for(var I=V.allocUnsafe(j>>>0),R=this.head,L=0;R;)O(R.data,I,L),L+=R.data.length,R=R.next;return I}},{key:"consume",value:function(j,I){var R;return j<this.head.data.length?(R=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):R=j===this.head.data.length?this.shift():I?this._getString(j):this._getBuffer(j),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var I=this.head,R=1,L=I.data;for(j-=L.length;I=I.next;){var ee=I.data,W=j>ee.length?ee.length:j;if(L+=W===ee.length?ee:ee.slice(0,j),0===(j-=W)){W===ee.length?(++R,this.head=I.next?I.next:this.tail=null):(this.head=I,I.data=ee.slice(W));break}++R}return this.length-=R,L}},{key:"_getBuffer",value:function(j){var I=V.allocUnsafe(j),R=this.head,L=1;for(R.data.copy(I),j-=R.data.length;R=R.next;){var ee=R.data,W=j>ee.length?ee.length:j;if(ee.copy(I,I.length-j,0,W),0===(j-=W)){W===ee.length?(++L,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=ee.slice(W));break}++L}return this.length-=L,I}},{key:_,value:function(j,I){return h(this,G(G({},I),{},{depth:0,customInspect:!1}))}}]),w}()},9719:Re=>{function b(F,A){g(F,A),M(F)}function M(F){F._writableState&&!F._writableState.emitClose||F._readableState&&!F._readableState.emitClose||F.emit("close")}function g(F,A){F.emit("error",A)}Re.exports={destroy:function se(F,A){var o=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(A?A(F):F&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(g,this,F)):process.nextTick(g,this,F)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(V){!A&&V?o._writableState?o._writableState.errorEmitted?process.nextTick(M,o):(o._writableState.errorEmitted=!0,process.nextTick(b,o,V)):process.nextTick(b,o,V):A?(process.nextTick(M,o),A(V)):process.nextTick(M,o)}),this)},undestroy:function G(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function v(F,A){var o=F._readableState,f=F._writableState;o&&o.autoDestroy||f&&f.autoDestroy?F.destroy(A):F.emit("error",A)}}},5629:(Re,se,b)=>{var M=b(8379).F.ERR_STREAM_PREMATURE_CLOSE;function g(){}Re.exports=function F(A,o,f){if("function"==typeof o)return F(A,null,o);o||(o={}),f=function G(A){var o=!1;return function(){if(!o){o=!0;for(var f=arguments.length,k=new Array(f),V=0;V<f;V++)k[V]=arguments[V];A.apply(this,k)}}}(f||g);var k=o.readable||!1!==o.readable&&A.readable,V=o.writable||!1!==o.writable&&A.writable,T=function(){A.writable||_()},h=A._writableState&&A._writableState.finished,_=function(){V=!1,h=!0,k||f.call(A)},O=A._readableState&&A._readableState.endEmitted,w=function(){k=!1,O=!0,V||f.call(A)},P=function(L){f.call(A,L)},j=function(){var L;return k&&!O?((!A._readableState||!A._readableState.ended)&&(L=new M),f.call(A,L)):V&&!h?((!A._writableState||!A._writableState.ended)&&(L=new M),f.call(A,L)):void 0},I=function(){A.req.on("finish",_)};return function v(A){return A.setHeader&&"function"==typeof A.abort}(A)?(A.on("complete",_),A.on("abort",j),A.req?I():A.on("request",I)):V&&!A._writableState&&(A.on("end",T),A.on("close",T)),A.on("end",w),A.on("finish",_),!1!==o.error&&A.on("error",P),A.on("close",j),function(){A.removeListener("complete",_),A.removeListener("abort",j),A.removeListener("request",I),A.req&&A.req.removeListener("finish",_),A.removeListener("end",T),A.removeListener("close",T),A.removeListener("finish",_),A.removeListener("end",w),A.removeListener("error",P),A.removeListener("close",j)}}},5252:Re=>{Re.exports=function(){throw new Error("Readable.from is not available in the browser")}},7607:(Re,se,b)=>{var M,g=b(8379).F,v=g.ERR_MISSING_ARGS,F=g.ERR_STREAM_DESTROYED;function A(_){if(_)throw _}function k(_){_()}function V(_,O){return _.pipe(O)}Re.exports=function h(){for(var _=arguments.length,O=new Array(_),w=0;w<_;w++)O[w]=arguments[w];var P=function T(_){return _.length&&"function"==typeof _[_.length-1]?_.pop():A}(O);if(Array.isArray(O[0])&&(O=O[0]),O.length<2)throw new v("streams");var j,I=O.map(function(R,L){var ee=L<O.length-1;return function f(_,O,w,P){P=function G(_){var O=!1;return function(){O||(O=!0,_.apply(void 0,arguments))}}(P);var j=!1;_.on("close",function(){j=!0}),void 0===M&&(M=b(5629)),M(_,{readable:O,writable:w},function(R){if(R)return P(R);j=!0,P()});var I=!1;return function(R){if(!j&&!I){if(I=!0,function o(_){return _.setHeader&&"function"==typeof _.abort}(_))return _.abort();if("function"==typeof _.destroy)return _.destroy();P(R||new F("pipe"))}}}(R,ee,L>0,function(X){j||(j=X),X&&I.forEach(k),!ee&&(I.forEach(k),P(j))})});return O.reduce(V)}},7288:(Re,se,b)=>{var M=b(8379).F.ERR_INVALID_OPT_VALUE;Re.exports={getHighWaterMark:function g(v,F,A,o){var f=function G(v,F,A){return null!=v.highWaterMark?v.highWaterMark:F?v[A]:null}(F,o,A);if(null!=f){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new M(o?A:"highWaterMark",f);return Math.floor(f)}return v.objectMode?16:16384}}},6832:(Re,se,b)=>{Re.exports=b(4339).EventEmitter},281:(Re,se,b)=>{var M=b(6175).Buffer,G=M.isEncoding||function(I){switch((I=""+I)&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(I){var R;switch(this.encoding=function v(I){var R=function g(I){if(!I)return"utf8";for(var R;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(R)return;I=(""+I).toLowerCase(),R=!0}}(I);if("string"!=typeof R&&(M.isEncoding===G||!G(I)))throw new Error("Unknown encoding: "+I);return R||I}(I),this.encoding){case"utf16le":this.text=h,this.end=_,R=4;break;case"utf8":this.fillLast=k,R=4;break;case"base64":this.text=O,this.end=w,R=3;break;default:return this.write=P,void(this.end=j)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(R)}function A(I){return I<=127?0:I>>5==6?2:I>>4==14?3:I>>3==30?4:I>>6==2?-1:-2}function k(I){var R=this.lastTotal-this.lastNeed,L=function f(I,R){if(128!=(192&R[0]))return I.lastNeed=0,"\ufffd";if(I.lastNeed>1&&R.length>1){if(128!=(192&R[1]))return I.lastNeed=1,"\ufffd";if(I.lastNeed>2&&R.length>2&&128!=(192&R[2]))return I.lastNeed=2,"\ufffd"}}(this,I);return void 0!==L?L:this.lastNeed<=I.length?(I.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(I.copy(this.lastChar,R,0,I.length),void(this.lastNeed-=I.length))}function h(I,R){if((I.length-R)%2==0){var L=I.toString("utf16le",R);if(L){var ee=L.charCodeAt(L.length-1);if(ee>=55296&&ee<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",R,I.length-1)}function _(I){var R=I&&I.length?this.write(I):"";return this.lastNeed?R+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):R}function O(I,R){var L=(I.length-R)%3;return 0===L?I.toString("base64",R):(this.lastNeed=3-L,this.lastTotal=3,1===L?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",R,I.length-L))}function w(I){var R=I&&I.length?this.write(I):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function P(I){return I.toString(this.encoding)}function j(I){return I&&I.length?this.write(I):""}se.I=F,F.prototype.write=function(I){if(0===I.length)return"";var R,L;if(this.lastNeed){if(void 0===(R=this.fillLast(I)))return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<I.length?R?R+this.text(I,L):this.text(I,L):R||""},F.prototype.end=function T(I){var R=I&&I.length?this.write(I):"";return this.lastNeed?R+"\ufffd":R},F.prototype.text=function V(I,R){var L=function o(I,R,L){var ee=R.length-1;if(ee<L)return 0;var W=A(R[ee]);return W>=0?(W>0&&(I.lastNeed=W-1),W):--ee<L||-2===W?0:(W=A(R[ee]))>=0?(W>0&&(I.lastNeed=W-2),W):--ee<L||-2===W?0:(W=A(R[ee]))>=0?(W>0&&(2===W?W=0:I.lastNeed=W-3),W):0}(this,I,R);if(!this.lastNeed)return I.toString("utf8",R);this.lastTotal=L;var ee=I.length-(L-this.lastNeed);return I.copy(this.lastChar,0,ee),I.toString("utf8",R,ee)},F.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length}},6175:(Re,se,b)=>{var M=b(163),G=M.Buffer;function g(F,A){for(var o in F)A[o]=F[o]}function v(F,A,o){return G(F,A,o)}G.from&&G.alloc&&G.allocUnsafe&&G.allocUnsafeSlow?Re.exports=M:(g(M,se),se.Buffer=v),g(G,v),v.from=function(F,A,o){if("number"==typeof F)throw new TypeError("Argument must not be a number");return G(F,A,o)},v.alloc=function(F,A,o){if("number"!=typeof F)throw new TypeError("Argument must be a number");var f=G(F);return void 0!==A?"string"==typeof o?f.fill(A,o):f.fill(A):f.fill(0),f},v.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return G(F)},v.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return M.SlowBuffer(F)}},3935:Re=>{function b(M){try{if(!global.localStorage)return!1}catch{return!1}var G=global.localStorage[M];return null!=G&&"true"===String(G).toLowerCase()}Re.exports=function se(M,G){if(b("noDeprecation"))return M;var g=!1;return function v(){if(!g){if(b("throwDeprecation"))throw new Error(G);b("traceDeprecation")?console.trace(G):console.warn(G),g=!0}return M.apply(this,arguments)}}},2249:()=>{},2634:()=>{},3779:()=>{},7199:()=>{},7081:(Re,se,b)=>{Object.defineProperty(se,"__esModule",{value:!0}),b(4398).__exportStar(b(3879),se)},40:(Re,se,b)=>{var M=b(8455);Re.exports=function G(g,v,F){return(v=M(v))in g?Object.defineProperty(g,v,{value:F,enumerable:!0,configurable:!0,writable:!0}):g[v]=F,g},Re.exports.__esModule=!0,Re.exports.default=Re.exports},4594:(Re,se,b)=>{var M=b(4195).default;Re.exports=function G(g,v){if("object"!=M(g)||!g)return g;var F=g[Symbol.toPrimitive];if(void 0!==F){var A=F.call(g,v||"default");if("object"!=M(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)},Re.exports.__esModule=!0,Re.exports.default=Re.exports},8455:(Re,se,b)=>{var M=b(4195).default,G=b(4594);Re.exports=function g(v){var F=G(v,"string");return"symbol"==M(F)?F:F+""},Re.exports.__esModule=!0,Re.exports.default=Re.exports},4195:Re=>{function se(b){return Re.exports=se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},Re.exports.__esModule=!0,Re.exports.default=Re.exports,se(b)}Re.exports=se,Re.exports.__esModule=!0,Re.exports.default=Re.exports},3879:(Re,se,b)=>{b.r(se),b.d(se,{getManifest:()=>W,initFederation:()=>X,loadManifest:()=>ne,loadRemoteEntry:()=>h,loadRemoteModule:()=>I,setManifest:()=>L});var M=b(11),G=b(2292),g=b(1890),v={},F={},A={},o=!1;function f(pe,_e){return k.apply(this,arguments)}function k(){return(k=(0,g.A)((0,M.A)().m(function pe(_e,he){var ue,Ee;return(0,M.A)().w(function(Be){for(;;)switch(Be.n){case 0:return ue=F[_e],Be.n=1,ue.get(he);case 1:return Ee=(0,Be.v)(),Be.a(2,Ee)}},pe)}))).apply(this,arguments)}function V(pe,_e){return T.apply(this,arguments)}function T(){return(T=(0,g.A)((0,M.A)().m(function pe(_e,he){return(0,M.A)().w(function(ue){for(;;)switch(ue.n){case 0:if(!A[he]){ue.n=1;break}return ue.a(2,_e);case 1:if(o){ue.n=3;break}return ue.n=2,b.I("default");case 2:o=!0;case 3:return ue.n=4,_e.init(b.S.default);case 4:return A[he]=!0,ue.a(2,_e)}},pe)}))).apply(this,arguments)}function h(pe,_e){return _.apply(this,arguments)}function _(){return(_=(0,g.A)((0,M.A)().m(function pe(_e,he){var ue,$e,Ee;return(0,M.A)().w(function(Be){for(;;)switch(Be.n){case 0:if("string"!=typeof _e){Be.n=2;break}return ue=_e,Be.n=1,P(ue,he);case 1:case 3:return Be.a(2,Be.v);case 2:if("script"!==_e.type){Be.n=4;break}return $e=_e,Be.n=3,P($e.remoteEntry,$e.remoteName);case 4:if("module"!==_e.type){Be.n=5;break}return Ee=_e,Be.n=5,O(Ee.remoteEntry);case 5:return Be.a(2)}},pe)}))).apply(this,arguments)}function O(pe){return w.apply(this,arguments)}function w(){return(w=(0,g.A)((0,M.A)().m(function pe(_e){return(0,M.A)().w(function(he){for(;;)switch(he.n){case 0:if(!F[_e]){he.n=1;break}return he.a(2,Promise.resolve());case 1:return he.n=2,import(_e).then(function(ue){V(ue,_e),F[_e]=ue});case 2:return he.a(2,he.v)}},pe)}))).apply(this,arguments)}function P(pe,_e){return j.apply(this,arguments)}function j(){return(j=(0,g.A)((0,M.A)().m(function pe(_e,he){return(0,M.A)().w(function(ue){for(;;)if(0===ue.n)return ue.a(2,new Promise(function($e,Ee){if(F[he])$e();else{var Be=document.createElement("script");Be.src=_e,Be.onerror=Ee,Be.onload=function(){var Qe=window[he];V(Qe,he),F[he]=Qe,$e()},document.body.appendChild(Be)}}))},pe)}))).apply(this,arguments)}function I(pe,_e){return R.apply(this,arguments)}function R(){return(R=(0,g.A)((0,M.A)().m(function pe(_e,he){var ue,$e,Ee,Be,Qe,Ze;return(0,M.A)().w(function(st){for(;;)switch(st.n){case 0:if((Be="string"==typeof _e?{type:"manifest",remoteName:_e,exposedModule:he}:_e).type||(Qe=Object.keys(v).length>0,Be.type=Qe?"manifest":"script"),"manifest"!==Be.type){st.n=2;break}if(Ze=v[Be.remoteName]){st.n=1;break}throw new Error("Manifest does not contain "+Be.remoteName);case 1:Be={type:Ze.type,exposedModule:Be.exposedModule,remoteEntry:Ze.remoteEntry,remoteName:"script"===Ze.type?Be.remoteName:void 0},Ee=Ze.remoteEntry,st.n=3;break;case 2:Ee=Be.remoteEntry;case 3:if("script"===Be.type?(ue={type:"script",remoteEntry:Be.remoteEntry,remoteName:Be.remoteName},$e=Be.remoteName):"module"===Be.type&&(ue={type:"module",remoteEntry:Be.remoteEntry},$e=Be.remoteEntry),!Ee){st.n=4;break}return st.n=4,h(ue);case 4:return st.n=5,f($e,Be.exposedModule);case 5:return st.a(2,st.v)}},pe)}))).apply(this,arguments)}function L(pe){return ee.apply(this,arguments)}function ee(){return ee=(0,g.A)(function(pe){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,M.A)().m(function he(){return(0,M.A)().w(function(ue){for(;;)switch(ue.n){case 0:if(v=te(pe),_e){ue.n=1;break}return ue.n=1,Y();case 1:return ue.a(2)}},he)})()}),ee.apply(this,arguments)}function W(){return v}function X(pe){return U.apply(this,arguments)}function U(){return U=(0,g.A)(function(pe){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,M.A)().m(function he(){return(0,M.A)().w(function(ue){for(;;)switch(ue.n){case 0:if("string"!=typeof pe){ue.n=1;break}return ue.a(2,ne(pe,_e));case 1:return ue.a(2,L(pe,_e));case 2:return ue.a(2)}},he)})()}),U.apply(this,arguments)}function ne(pe){return ce.apply(this,arguments)}function ce(){return ce=(0,g.A)(function(pe){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,M.A)().m(function he(){var ue,$e;return(0,M.A)().w(function(Ee){for(;;)switch(Ee.n){case 0:return Ee.n=1,fetch(pe);case 1:if((ue=Ee.v).ok){Ee.n=2;break}throw Error("could not load configFile: "+pe);case 2:return $e=te,Ee.n=3,ue.json();case 3:if(v=$e(Ee.v),_e){Ee.n=4;break}return Ee.n=4,Y();case 4:return Ee.a(2)}},he)})()}),ce.apply(this,arguments)}function te(pe){var _e={};for(var he in pe){var $e,ue=pe[he];$e="string"==typeof ue?{remoteEntry:ue,type:"module"}:(0,G.A)((0,G.A)({},ue),{},{type:ue.type||"module"}),_e[he]=$e}return _e}function Y(){return ie.apply(this,arguments)}function ie(){return(ie=(0,g.A)((0,M.A)().m(function pe(){var _e,he,ue;return(0,M.A)().w(function($e){for(;;)switch($e.n){case 0:for(he in _e=[],v)_e.push(h("module"===(ue=v[he]).type?{type:"module",remoteEntry:ue.remoteEntry}:{type:"script",remoteEntry:ue.remoteEntry,remoteName:he}));return $e.n=1,Promise.all(_e);case 1:return $e.a(2)}},pe)}))).apply(this,arguments)}},8051:(Re,se,b)=>{function G(g,v){if(null==g)return{};var F,A,o=function M(g,v){if(null==g)return{};var F={};for(var A in g)if({}.hasOwnProperty.call(g,A)){if(-1!==v.indexOf(A))continue;F[A]=g[A]}return F}(g,v);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(g);for(A=0;A<f.length;A++)-1===v.indexOf(F=f[A])&&{}.propertyIsEnumerable.call(g,F)&&(o[F]=g[F])}return o}b.d(se,{A:()=>G})},2846:(Re,se,b)=>{b.d(se,{A:()=>G});var M=b(641);function G(g){if(null!=g){var v=g["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],F=0;if(v)return v.call(g);if("function"==typeof g.next)return g;if(!isNaN(g.length))return{next:function(){return g&&F>=g.length&&(g=void 0),{value:g&&g[F++],done:!g}}}}throw new TypeError((0,M.A)(g)+" is not iterable")}}}]);
//# sourceMappingURL=1258.6944de6f72a55a72.js.map