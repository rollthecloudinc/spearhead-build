(self.webpackChunkspear=self.webpackChunkspear||[]).push([[1520],{59400:(f,c,i)=>{i.d(c,{w:()=>l});var l=new(i(43942).c)(function(u){return u.complete()})},91817:(f,c,i)=>{i.d(c,{F:()=>n});var d=i(1440),l=i(50819),v=i(91687);function n(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.D;return a=a??u,(0,l.N)(function(h,I){var E,b=!0;h.subscribe((0,v._)(I,function(p){var y=o(p);(b||!a(E,y))&&(b=!1,E=y,I.next(p))}))})}function u(a,o){return a===o}},64334:(f,c,i)=>{i.d(c,{s:()=>n});var d=i(59400),l=i(50819),v=i(91687);function n(u){return u<=0?function(){return d.w}:(0,l.N)(function(a,o){var h=0;a.subscribe((0,v._)(o,function(I){++h<=u&&(o.next(I),u<=h&&o.complete())}))})}},72551:(f,c,i)=>{i.d(c,{A:()=>v});var d=i(43942),l=i(81530);function v(n){return!!n&&(n instanceof d.c||(0,l.T)(n.lift)&&(0,l.T)(n.subscribe))}},22810:(f,c,i)=>{i.d(c,{x:()=>v});var d=i(72551),l=i(59452);function v(n){return(0,d.A)(n)?n:(0,l.of)(n)}},47338:(f,c,i)=>{i.d(c,{CC:()=>k,SI:()=>A,Z2:()=>D,ZX:()=>y});var d=i(50438),l=i(43288),v=i(63398),n=i(40642),u=i(49431),a=i(27092),o=i(84205),h=i(72551),I=i(59452),E=i(64334),b=i(729),p=i(22810),y=function(){return(0,v.A)(function x(_,e){var t=this;(0,l.A)(this,x),(0,n.A)(this,"_activeItemIndex",-1),(0,n.A)(this,"_activeItem",null),(0,n.A)(this,"_shouldActivationFollowFocus",!1),(0,n.A)(this,"_horizontalOrientation","ltr"),(0,n.A)(this,"_skipPredicateFn",function(r){return!1}),(0,n.A)(this,"_trackByFn",function(r){return r}),(0,n.A)(this,"_items",[]),(0,n.A)(this,"_typeahead",void 0),(0,n.A)(this,"_typeaheadSubscription",a.yU.EMPTY),(0,n.A)(this,"_hasInitialFocused",!1),(0,n.A)(this,"change",new o.B),_ instanceof u.QueryList?(this._items=_.toArray(),_.changes.subscribe(function(r){var s;t._items=r.toArray(),null===(s=t._typeahead)||void 0===s||s.setItems(t._items),t._updateActiveItemIndex(t._items),t._initializeFocus()})):(0,h.A)(_)?_.subscribe(function(r){var s;t._items=r,null===(s=t._typeahead)||void 0===s||s.setItems(r),t._updateActiveItemIndex(r),t._initializeFocus()}):(this._items=_,this._initializeFocus()),"boolean"==typeof e.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=e.shouldActivationFollowFocus),e.horizontalOrientation&&(this._horizontalOrientation=e.horizontalOrientation),e.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),e.trackBy&&(this._trackByFn=e.trackBy),typeof e.typeAheadDebounceInterval<"u"&&this._setTypeAhead(e.typeAheadDebounceInterval)},[{key:"_initializeFocus",value:function(){if(!this._hasInitialFocused&&0!==this._items.length){for(var e=0,t=0;t<this._items.length;t++)if(!this._skipPredicateFn(this._items[t])&&!this._isItemDisabled(this._items[t])){e=t;break}var s,m,r=this._items[e];r.makeFocusable?(null===(s=this._activeItem)||void 0===s||s.unfocus(),this._activeItemIndex=e,this._activeItem=r,null===(m=this._typeahead)||void 0===m||m.setCurrentSelectedItemIndex(e),r.makeFocusable()):this.focusItem(e),this._hasInitialFocused=!0}}},{key:"destroy",value:function(){var e;this._typeaheadSubscription.unsubscribe(),null===(e=this._typeahead)||void 0===e||e.destroy(),this.change.complete()}},{key:"onKeydown",value:function(e){var t,r;switch(e.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===e.key){this._expandAllItemsAtCurrentItemLevel();break}return void(null===(t=this._typeahead)||void 0===t||t.handleKey(e))}null===(r=this._typeahead)||void 0===r||r.reset(),e.preventDefault()}},{key:"getActiveItemIndex",value:function(){return this._activeItemIndex}},{key:"getActiveItem",value:function(){return this._activeItem}},{key:"_focusFirstItem",value:function(){this.focusItem(this._findNextAvailableItemIndex(-1))}},{key:"_focusLastItem",value:function(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}},{key:"_focusNextItem",value:function(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}},{key:"_focusPreviousItem",value:function(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}},{key:"focusItem",value:function(e){var t,s,m,r=this,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!==(t=P.emitChangeEvent)&&void 0!==t||(P.emitChangeEvent=!0);var O="number"==typeof e?e:this._items.findIndex(function(F){return r._trackByFn(F)===r._trackByFn(e)});if(!(O<0||O>=this._items.length)){var C=this._items[O];if(null===this._activeItem||this._trackByFn(C)!==this._trackByFn(this._activeItem)){var M=this._activeItem;this._activeItem=C??null,this._activeItemIndex=O,null===(s=this._typeahead)||void 0===s||s.setCurrentSelectedItemIndex(O),null===(m=this._activeItem)||void 0===m||m.focus(),M?.unfocus(),P.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}}}},{key:"_updateActiveItemIndex",value:function(e){var t=this,r=this._activeItem;if(r){var m,s=e.findIndex(function(P){return t._trackByFn(P)===t._trackByFn(r)});s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s,null===(m=this._typeahead)||void 0===m||m.setCurrentSelectedItemIndex(s))}}},{key:"_setTypeAhead",value:function(e){var t=this;this._typeahead=new b.i(this._items,{debounceInterval:"number"==typeof e?e:void 0,skipPredicate:function(s){return t._skipPredicateFn(s)}}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(function(r){t.focusItem(r)})}},{key:"_findNextAvailableItemIndex",value:function(e){for(var t=e+1;t<this._items.length;t++)if(!this._skipPredicateFn(this._items[t]))return t;return e}},{key:"_findPreviousAvailableItemIndex",value:function(e){for(var t=e-1;t>=0;t--)if(!this._skipPredicateFn(this._items[t]))return t;return e}},{key:"_collapseCurrentItem",value:function(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{var e=this._activeItem.getParent();if(!e||this._skipPredicateFn(e))return;this.focusItem(e)}}},{key:"_expandCurrentItem",value:function(){var e=this;this._activeItem&&(this._isCurrentItemExpanded()?(0,p.x)(this._activeItem.getChildren()).pipe((0,E.s)(1)).subscribe(function(t){var r=t.find(function(s){return!e._skipPredicateFn(s)});r&&e.focusItem(r)}):this._activeItem.expand())}},{key:"_isCurrentItemExpanded",value:function(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}},{key:"_isItemDisabled",value:function(e){var t;return"boolean"==typeof e.isDisabled?e.isDisabled:null===(t=e.isDisabled)||void 0===t?void 0:t.call(e)}},{key:"_expandAllItemsAtCurrentItemLevel",value:function(){if(this._activeItem){var e=this._activeItem.getParent();(e?(0,p.x)(e.getChildren()):(0,I.of)(this._items.filter(function(r){return null===r.getParent()}))).pipe((0,E.s)(1)).subscribe(function(r){var m,s=(0,d.A)(r);try{for(s.s();!(m=s.n()).done;)m.value.expand()}catch(O){s.e(O)}finally{s.f()}})}}},{key:"_activateCurrentItem",value:function(){var e;null===(e=this._activeItem)||void 0===e||e.activate()}}])}();function A(){return function(x,_){return new y(x,_)}}var D=new u.InjectionToken("tree-key-manager",{providedIn:"root",factory:A}),k={provide:D,useFactory:A}},61824:(f,c,i)=>{function d(l){if(Array.isArray(l))return l}i.d(c,{A:()=>d})},12309:(f,c,i)=>{function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(c,{A:()=>d})},22292:(f,c,i)=>{i.d(c,{A:()=>v});var d=i(40642);function l(n,u){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);u&&(o=o.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),a.push.apply(a,o)}return a}function v(n){for(var u=1;u<arguments.length;u++){var a=null!=arguments[u]?arguments[u]:{};u%2?l(Object(a),!0).forEach(function(o){(0,d.A)(n,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(a,o))})}return n}},98824:(f,c,i)=>{i.d(c,{A:()=>u});var d=i(61824),v=i(24393),n=i(12309);function u(a,o){return(0,d.A)(a)||function l(a,o){var h=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=h){var I,E,b,p,y=[],A=!0,D=!1;try{if(b=(h=h.call(a)).next,0===o){if(Object(h)!==h)return;A=!1}else for(;!(A=(I=b.call(h)).done)&&(y.push(I.value),y.length!==o);A=!0);}catch(k){D=!0,E=k}finally{try{if(!A&&null!=h.return&&(p=h.return(),Object(p)!==p))return}finally{if(D)throw E}}return y}}(a,o)||(0,v.A)(a,o)||(0,n.A)()}}}]);
//# sourceMappingURL=1520.f334d811ebd01c99.js.map