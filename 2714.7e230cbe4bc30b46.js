(self.webpackChunkspear=self.webpackChunkspear||[]).push([[2714],{4982:(H,R,s)=>{s.d(R,{G:()=>i});var S=s(3288),L=s(3398),T=s(2297),f=s(3544),N=s(3942),k=s(7092),D=s(3481),b=s(1687),p=s(819),i=function(y){function E(h,d){var o;return(0,S.A)(this,E),(o=(0,T.A)(this,E)).source=h,o.subjectFactory=d,o._subject=null,o._refCount=0,o._connection=null,(0,p.S)(h)&&(o.lift=h.lift),o}return(0,f.A)(E,y),(0,L.A)(E,[{key:"_subscribe",value:function(d){return this.getSubject().subscribe(d)}},{key:"getSubject",value:function(){var d=this._subject;return(!d||d.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var d=this._connection;this._subject=this._connection=null,d?.unsubscribe()}},{key:"connect",value:function(){var d=this,o=this._connection;if(!o){o=this._connection=new k.yU;var K=this.getSubject();o.add(this.source.subscribe((0,b._)(K,void 0,function(){d._teardown(),K.complete()},function(B){d._teardown(),K.error(B)},function(){return d._teardown()}))),o.closed&&(this._connection=null,o=k.yU.EMPTY)}return o}},{key:"refCount",value:function(){return(0,D.B)()(this)}}])}(N.c)},9999:(H,R,s)=>{s.d(R,{z:()=>i});var S=s(3942),L=s(7808),T=s(9835),f=s(1440),N=s(8067),k=s(4083),D=s(6813),b=s(1687),p=s(310);function i(){for(var h=arguments.length,d=new Array(h),o=0;o<h;o++)d[o]=arguments[o];var K=(0,k.lI)(d),B=(0,k.ms)(d),w=(0,L.D)(d),C=w.args,c=w.keys;if(0===C.length)return(0,T.H)([],K);var u=new S.c(function y(h,d){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.D;return function(K){E(d,function(){for(var B=h.length,w=new Array(B),C=B,c=B,u=function(U){E(d,function(){var j=(0,T.H)(h[U],d),V=!1;j.subscribe((0,b._)(K,function(z){w[U]=z,V||(V=!0,c--),c||K.next(o(w.slice()))},function(){--C||K.complete()}))},K)},M=0;M<B;M++)u(M)},K)}}(C,K,c?function(M){return(0,D.e)(c,M)}:f.D));return B?u.pipe((0,N.I)(B)):u}function E(h,d,o){h?(0,p.N)(o,h,d):d()}},1817:(H,R,s)=>{s.d(R,{F:()=>f});var S=s(1440),L=s(819),T=s(1687);function f(k){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.D;return k=k??N,(0,L.N)(function(b,p){var i,y=!0;b.subscribe((0,T._)(p,function(E){var h=D(E);(y||!k(i,h))&&(y=!1,i=h,p.next(E))}))})}function N(k,D){return k===D}},9923:(H,R,s)=>{s.d(R,{T:()=>T});var S=s(5392),L=s(819);function T(f,N){return(0,L.N)((0,S.S)(f,N,arguments.length>=2,!1,!0))}},3481:(H,R,s)=>{s.d(R,{B:()=>T});var S=s(819),L=s(1687);function T(){return(0,S.N)(function(f,N){var k=null;f._refCount++;var D=(0,L._)(N,void 0,void 0,void 0,function(){if(!f||f._refCount<=0||0<--f._refCount)k=null;else{var b=f._connection,p=k;k=null,b&&(!p||b===p)&&b.unsubscribe(),N.unsubscribe()}});f.subscribe(D),D.closed||(k=f.connect())})}},5392:(H,R,s)=>{s.d(R,{S:()=>L});var S=s(1687);function L(T,f,N,k,D){return function(b,p){var i=N,y=f,E=0;b.subscribe((0,S._)(p,function(h){var d=E++;y=i?T(y,h,d):(i=!0,h),k&&p.next(y)},D&&function(){i&&p.next(y),p.complete()}))}}},2551:(H,R,s)=>{s.d(R,{A:()=>T});var S=s(3942),L=s(1530);function T(f){return!!f&&(f instanceof S.c||(0,L.T)(f.lift)&&(0,L.T)(f.subscribe))}},2810:(H,R,s)=>{s.d(R,{x:()=>T});var S=s(2551),L=s(9452);function T(f){return(0,S.A)(f)?f:(0,L.of)(f)}},8092:(H,R,s)=>{s.d(R,{q:()=>f,y:()=>N});var S=s(3398),L=s(3288),T=s(4982),f=(0,S.A)(function k(){(0,L.A)(this,k)});function N(k){return k&&"function"==typeof k.connect&&!(k instanceof T.G)}},7170:(H,R,s)=>{s.d(R,{EF:()=>D,_j:()=>i,dS:()=>y});var S=s(3730),L=s(3288),T=s(3398),f=s(642),N=s(5240),k=s(2481),D=new N.nKC("cdk-dir-doc",{providedIn:"root",factory:function b(){return(0,N.WQX)(N.qQL)}}),p=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function i(E){var h,d=E?.toLowerCase()||"";return"auto"===d&&typeof navigator<"u"&&null!==(h=navigator)&&void 0!==h&&h.language?p.test(navigator.language)?"rtl":"ltr":"rtl"===d?"rtl":"ltr"}var y=function(){var E,h=function(){return(0,T.A)(function d(){(0,L.A)(this,d),(0,f.A)(this,"valueSignal",N.vPA.apply(void 0,["ltr"].concat((0,S.A)([])))),(0,f.A)(this,"change",new k.bkB);var o=(0,N.WQX)(D,{optional:!0});o&&this.valueSignal.set(i((o.body?o.body.dir:null)||(o.documentElement?o.documentElement.dir:null)||"ltr"))},[{key:"value",get:function(){return this.valueSignal()}},{key:"ngOnDestroy",value:function(){this.change.complete()}}])}();return E=h,(0,f.A)(h,"\u0275fac",function(o){return new(o||E)}),(0,f.A)(h,"\u0275prov",N.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})),h}()},8159:(H,R,s)=>{s.d(R,{A:()=>ne,A$:()=>b,A1:()=>ut,B:()=>Y,C:()=>ae,C5:()=>He,CW:()=>ot,Cc:()=>_,D:()=>ie,E:()=>ve,EN:()=>je,Es:()=>Qe,F:()=>fe,F1:()=>Ne,F2:()=>Le,F3:()=>Ke,F4:()=>Re,F5:()=>Se,F6:()=>Be,F7:()=>Ue,F8:()=>We,F9:()=>Fe,FX:()=>k,FZ:()=>u,Fm:()=>N,G:()=>pe,G_:()=>L,Ge:()=>a,H:()=>re,Hz:()=>p,I:()=>ge,I8:()=>tt,J:()=>J,Je:()=>q,Jk:()=>W,K:()=>X,K5:()=>de,KE:()=>it,Kp:()=>o,L:()=>Ee,L6:()=>we,LE:()=>C,M:()=>me,N:()=>oe,Nb:()=>he,O:()=>ye,OT:()=>qe,Ou:()=>se,P:()=>_e,PD:()=>f,Q:()=>le,R:()=>De,RF:()=>Ye,S:()=>Ae,SJ:()=>U,T:()=>m,TM:()=>Pe,U:()=>l,UQ:()=>B,UT:()=>nt,V:()=>v,VE:()=>M,VT:()=>Q,Vm:()=>S,W:()=>n,W3:()=>D,WO:()=>et,X:()=>e,XA:()=>Ce,Xp:()=>Te,Y:()=>t,YE:()=>ze,Z:()=>r,ZH:()=>Z,Zw:()=>g,_f:()=>y,bn:()=>ue,cU:()=>lt,dB:()=>d,du:()=>_t,eg:()=>ct,f2:()=>j,hO:()=>ke,i:()=>O,i7:()=>w,jr:()=>rt,lO:()=>z,lg:()=>Je,lr:()=>Ve,m1:()=>A,n6:()=>c,nt:()=>P,o:()=>at,oD:()=>Xe,op:()=>xe,pp:()=>ee,qD:()=>$e,r4:()=>$,rA:()=>I,rD:()=>F,r_:()=>dt,ry:()=>te,sl:()=>Ge,t6:()=>E,tu:()=>G,uS:()=>st,ud:()=>i,ur:()=>ht,uy:()=>be,vI:()=>x,vJ:()=>Ze,wH:()=>ce,w_:()=>h,wn:()=>T,xr:()=>V,y9:()=>Me,yZ:()=>K,z3:()=>Oe,zJ:()=>Ie});var S=3,L=8,T=9,f=12,N=13,k=16,D=17,b=18,p=19,i=20,y=27,E=32,h=33,d=34,o=35,K=36,B=37,w=38,C=39,c=40,u=43,M=44,O=45,U=46,j=48,V=49,z=50,Z=51,P=52,W=53,$=54,de=55,se=56,ue=57,ee=59,te=61,he=63,ce=64,ne=65,Y=66,ae=67,ie=68,ve=69,fe=70,pe=71,re=72,ge=73,J=74,X=75,Ee=76,me=77,oe=78,ye=79,_e=80,le=81,De=82,Ae=83,m=84,l=85,v=86,n=87,e=88,t=89,r=90,a=91,_=91,g=93,A=93,I=96,x=97,F=98,Q=99,G=100,q=101,Ce=102,Me=103,ke=104,Ie=105,Te=106,Oe=107,Pe=109,xe=110,be=111,Ne=112,Le=113,Ke=114,Re=115,Se=116,Be=117,Ue=118,We=119,Fe=120,je=121,we=122,Qe=123,Ve=144,He=145,$e=166,ze=173,Xe=173,Ge=174,Ze=175,Ye=181,Je=182,qe=183,et=183,tt=186,nt=187,it=188,rt=189,st=190,at=191,ot=192,_t=192,lt=219,dt=220,ut=221,ht=222,ct=224},6248:(H,R,s)=>{s.d(R,{C:()=>k,y:()=>D});var S=s(438),L=s(3288),T=s(3398),f=s(642),N=s(4205),k=function(){return(0,T.A)(function b(){var p=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],y=arguments.length>1?arguments[1]:void 0,E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=arguments.length>3?arguments[3]:void 0;(0,L.A)(this,b),(0,f.A)(this,"_multiple",void 0),(0,f.A)(this,"_emitChanges",void 0),(0,f.A)(this,"compareWith",void 0),(0,f.A)(this,"_selection",new Set),(0,f.A)(this,"_deselectedToEmit",[]),(0,f.A)(this,"_selectedToEmit",[]),(0,f.A)(this,"_selected",void 0),(0,f.A)(this,"changed",new N.B),this._multiple=i,this._emitChanges=E,this.compareWith=h,y&&y.length&&(i?y.forEach(function(d){return p._markSelected(d)}):this._markSelected(y[0]),this._selectedToEmit.length=0)},[{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}},{key:"select",value:function(){for(var i=this,y=arguments.length,E=new Array(y),h=0;h<y;h++)E[h]=arguments[h];this._verifyValueAssignment(E),E.forEach(function(o){return i._markSelected(o)});var d=this._hasQueuedChanges();return this._emitChangeEvent(),d}},{key:"deselect",value:function(){for(var i=this,y=arguments.length,E=new Array(y),h=0;h<y;h++)E[h]=arguments[h];this._verifyValueAssignment(E),E.forEach(function(o){return i._unmarkSelected(o)});var d=this._hasQueuedChanges();return this._emitChangeEvent(),d}},{key:"setSelection",value:function(){for(var i=this,y=arguments.length,E=new Array(y),h=0;h<y;h++)E[h]=arguments[h];this._verifyValueAssignment(E);var d=this.selected,o=new Set(E.map(function(B){return i._getConcreteValue(B)}));E.forEach(function(B){return i._markSelected(B)}),d.filter(function(B){return!o.has(i._getConcreteValue(B,o))}).forEach(function(B){return i._unmarkSelected(B)});var K=this._hasQueuedChanges();return this._emitChangeEvent(),K}},{key:"toggle",value:function(i){return this.isSelected(i)?this.deselect(i):this.select(i)}},{key:"clear",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._unmarkAll();var y=this._hasQueuedChanges();return i&&this._emitChangeEvent(),y}},{key:"isSelected",value:function(i){return this._selection.has(this._getConcreteValue(i))}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(i){this._multiple&&this.selected&&this._selected.sort(i)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}},{key:"_unmarkSelected",value:function(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}},{key:"_unmarkAll",value:function(){var i=this;this.isEmpty()||this._selection.forEach(function(y){return i._unmarkSelected(y)})}},{key:"_verifyValueAssignment",value:function(i){}},{key:"_hasQueuedChanges",value:function(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}},{key:"_getConcreteValue",value:function(i,y){if(this.compareWith){var h,E=(0,S.A)(y=y??this._selection);try{for(E.s();!(h=E.n()).done;){var d=h.value;if(this.compareWith(i,d))return d}}catch(o){E.e(o)}finally{E.f()}return i}return i}}])}();function D(){return Error("Cannot pass multiple values into SelectionModel with single-value mode.")}},7338:(H,R,s)=>{s.d(R,{CC:()=>B,SI:()=>o,Z2:()=>K,ZX:()=>d});var S=s(438),L=s(3288),T=s(3398),f=s(642),N=s(2481),k=s(5240),D=s(7092),b=s(4205),p=s(2551),i=s(9452),y=s(1953),E=s(729),h=s(2810),d=function(){return(0,T.A)(function w(C,c){var u=this;(0,L.A)(this,w),(0,f.A)(this,"_activeItemIndex",-1),(0,f.A)(this,"_activeItem",null),(0,f.A)(this,"_shouldActivationFollowFocus",!1),(0,f.A)(this,"_horizontalOrientation","ltr"),(0,f.A)(this,"_skipPredicateFn",function(M){return!1}),(0,f.A)(this,"_trackByFn",function(M){return M}),(0,f.A)(this,"_items",[]),(0,f.A)(this,"_typeahead",void 0),(0,f.A)(this,"_typeaheadSubscription",D.yU.EMPTY),(0,f.A)(this,"_hasInitialFocused",!1),(0,f.A)(this,"change",new b.B),C instanceof N.rOR?(this._items=C.toArray(),C.changes.subscribe(function(M){var O;u._items=M.toArray(),null===(O=u._typeahead)||void 0===O||O.setItems(u._items),u._updateActiveItemIndex(u._items),u._initializeFocus()})):(0,p.A)(C)?C.subscribe(function(M){var O;u._items=M,null===(O=u._typeahead)||void 0===O||O.setItems(M),u._updateActiveItemIndex(M),u._initializeFocus()}):(this._items=C,this._initializeFocus()),"boolean"==typeof c.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=c.shouldActivationFollowFocus),c.horizontalOrientation&&(this._horizontalOrientation=c.horizontalOrientation),c.skipPredicate&&(this._skipPredicateFn=c.skipPredicate),c.trackBy&&(this._trackByFn=c.trackBy),typeof c.typeAheadDebounceInterval<"u"&&this._setTypeAhead(c.typeAheadDebounceInterval)},[{key:"_initializeFocus",value:function(){if(!this._hasInitialFocused&&0!==this._items.length){for(var c=0,u=0;u<this._items.length;u++)if(!this._skipPredicateFn(this._items[u])&&!this._isItemDisabled(this._items[u])){c=u;break}var O,U,M=this._items[c];M.makeFocusable?(null===(O=this._activeItem)||void 0===O||O.unfocus(),this._activeItemIndex=c,this._activeItem=M,null===(U=this._typeahead)||void 0===U||U.setCurrentSelectedItemIndex(c),M.makeFocusable()):this.focusItem(c),this._hasInitialFocused=!0}}},{key:"destroy",value:function(){var c;this._typeaheadSubscription.unsubscribe(),null===(c=this._typeahead)||void 0===c||c.destroy(),this.change.complete()}},{key:"onKeydown",value:function(c){var u,M;switch(c.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===c.key){this._expandAllItemsAtCurrentItemLevel();break}return void(null===(u=this._typeahead)||void 0===u||u.handleKey(c))}null===(M=this._typeahead)||void 0===M||M.reset(),c.preventDefault()}},{key:"getActiveItemIndex",value:function(){return this._activeItemIndex}},{key:"getActiveItem",value:function(){return this._activeItem}},{key:"_focusFirstItem",value:function(){this.focusItem(this._findNextAvailableItemIndex(-1))}},{key:"_focusLastItem",value:function(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}},{key:"_focusNextItem",value:function(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}},{key:"_focusPreviousItem",value:function(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}},{key:"focusItem",value:function(c){var u,O,U,M=this,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!==(u=j.emitChangeEvent)&&void 0!==u||(j.emitChangeEvent=!0);var V="number"==typeof c?c:this._items.findIndex(function(P){return M._trackByFn(P)===M._trackByFn(c)});if(!(V<0||V>=this._items.length)){var z=this._items[V];if(null===this._activeItem||this._trackByFn(z)!==this._trackByFn(this._activeItem)){var Z=this._activeItem;this._activeItem=z??null,this._activeItemIndex=V,null===(O=this._typeahead)||void 0===O||O.setCurrentSelectedItemIndex(V),null===(U=this._activeItem)||void 0===U||U.focus(),Z?.unfocus(),j.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}}}},{key:"_updateActiveItemIndex",value:function(c){var u=this,M=this._activeItem;if(M){var U,O=c.findIndex(function(j){return u._trackByFn(j)===u._trackByFn(M)});O>-1&&O!==this._activeItemIndex&&(this._activeItemIndex=O,null===(U=this._typeahead)||void 0===U||U.setCurrentSelectedItemIndex(O))}}},{key:"_setTypeAhead",value:function(c){var u=this;this._typeahead=new E.i(this._items,{debounceInterval:"number"==typeof c?c:void 0,skipPredicate:function(O){return u._skipPredicateFn(O)}}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(function(M){u.focusItem(M)})}},{key:"_findNextAvailableItemIndex",value:function(c){for(var u=c+1;u<this._items.length;u++)if(!this._skipPredicateFn(this._items[u]))return u;return c}},{key:"_findPreviousAvailableItemIndex",value:function(c){for(var u=c-1;u>=0;u--)if(!this._skipPredicateFn(this._items[u]))return u;return c}},{key:"_collapseCurrentItem",value:function(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{var c=this._activeItem.getParent();if(!c||this._skipPredicateFn(c))return;this.focusItem(c)}}},{key:"_expandCurrentItem",value:function(){var c=this;this._activeItem&&(this._isCurrentItemExpanded()?(0,h.x)(this._activeItem.getChildren()).pipe((0,y.s)(1)).subscribe(function(u){var M=u.find(function(O){return!c._skipPredicateFn(O)});M&&c.focusItem(M)}):this._activeItem.expand())}},{key:"_isCurrentItemExpanded",value:function(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}},{key:"_isItemDisabled",value:function(c){var u;return"boolean"==typeof c.isDisabled?c.isDisabled:null===(u=c.isDisabled)||void 0===u?void 0:u.call(c)}},{key:"_expandAllItemsAtCurrentItemLevel",value:function(){if(this._activeItem){var c=this._activeItem.getParent();(c?(0,h.x)(c.getChildren()):(0,i.of)(this._items.filter(function(M){return null===M.getParent()}))).pipe((0,y.s)(1)).subscribe(function(M){var U,O=(0,S.A)(M);try{for(O.s();!(U=O.n()).done;)U.value.expand()}catch(V){O.e(V)}finally{O.f()}})}}},{key:"_activateCurrentItem",value:function(){var c;null===(c=this._activeItem)||void 0===c||c.activate()}}])}();function o(){return function(w,C){return new d(w,C)}}var K=new k.nKC("tree-key-manager",{providedIn:"root",factory:o}),B={provide:K,useFactory:o}},2714:(H,R,s)=>{s.r(R),s.d(R,{BaseTreeControl:()=>te,CDK_TREE_NODE_OUTLET_NODE:()=>ne,CdkNestedTreeNode:()=>oe,CdkTree:()=>J,CdkTreeModule:()=>Ae,CdkTreeNode:()=>X,CdkTreeNodeDef:()=>ie,CdkTreeNodeOutlet:()=>Y,CdkTreeNodeOutletContext:()=>ae,CdkTreeNodePadding:()=>_e,CdkTreeNodeToggle:()=>le,FlatTreeControl:()=>he,NestedTreeControl:()=>ce,getMultipleTreeControlsError:()=>ge,getTreeControlMissingError:()=>re,getTreeMissingMatchingNodeDefError:()=>pe,getTreeMultipleDefaultNodeDefsError:()=>fe,getTreeNoValidDataSourceError:()=>ve});var S=s(792),L=s(2292),T=s(8824),f=s(438),N=s(2297),k=s(3544),D=s(3730),b=s(3288),p=s(3398),i=s(642),y=s(6248),E=s(2551),h=s(4205),d=s(5797),o=s(9452),K=s(9999),B=s(9400),w=s(3513),C=s(1953),c=s(1567),u=s(3900),M=s(3037),O=s(8764),U=s(6647),j=s(271),V=s(9923),z=s(1903),Z=s(1817),P=s(2481),W=s(5240),$=s(9148),de=s(7338),se=s(7170),ue=s(8092),ee=s(2810),te=function(){return(0,p.A)(function m(){(0,b.A)(this,m),(0,i.A)(this,"dataNodes",void 0),(0,i.A)(this,"expansionModel",new y.C(!0)),(0,i.A)(this,"trackBy",void 0),(0,i.A)(this,"getLevel",void 0),(0,i.A)(this,"isExpandable",void 0),(0,i.A)(this,"getChildren",void 0)},[{key:"toggle",value:function(v){this.expansionModel.toggle(this._trackByValue(v))}},{key:"expand",value:function(v){this.expansionModel.select(this._trackByValue(v))}},{key:"collapse",value:function(v){this.expansionModel.deselect(this._trackByValue(v))}},{key:"isExpanded",value:function(v){return this.expansionModel.isSelected(this._trackByValue(v))}},{key:"toggleDescendants",value:function(v){this.expansionModel.isSelected(this._trackByValue(v))?this.collapseDescendants(v):this.expandDescendants(v)}},{key:"collapseAll",value:function(){this.expansionModel.clear()}},{key:"expandDescendants",value:function(v){var n,e=this,t=[v];t.push.apply(t,(0,D.A)(this.getDescendants(v))),(n=this.expansionModel).select.apply(n,(0,D.A)(t.map(function(r){return e._trackByValue(r)})))}},{key:"collapseDescendants",value:function(v){var n,e=this,t=[v];t.push.apply(t,(0,D.A)(this.getDescendants(v))),(n=this.expansionModel).deselect.apply(n,(0,D.A)(t.map(function(r){return e._trackByValue(r)})))}},{key:"_trackByValue",value:function(v){return this.trackBy?this.trackBy(v):v}}])}(),he=function(m){function l(v,n,e){var t;return(0,b.A)(this,l),t=(0,N.A)(this,l),(0,i.A)(t,"getLevel",void 0),(0,i.A)(t,"isExpandable",void 0),(0,i.A)(t,"options",void 0),t.getLevel=v,t.isExpandable=n,t.options=e,t.options&&(t.trackBy=t.options.trackBy),t}return(0,k.A)(l,m),(0,p.A)(l,[{key:"getDescendants",value:function(n){for(var t=[],r=this.dataNodes.indexOf(n)+1;r<this.dataNodes.length&&this.getLevel(n)<this.getLevel(this.dataNodes[r]);r++)t.push(this.dataNodes[r]);return t}},{key:"expandAll",value:function(){var n,e=this;(n=this.expansionModel).select.apply(n,(0,D.A)(this.dataNodes.map(function(t){return e._trackByValue(t)})))}}])}(te),ce=function(m){function l(v,n){var e,t;return(0,b.A)(this,l),t=(0,N.A)(this,l),(0,i.A)(t,"getChildren",void 0),(0,i.A)(t,"options",void 0),t.getChildren=v,t.options=n,t.options&&(t.trackBy=t.options.trackBy),null!==(e=t.options)&&void 0!==e&&e.isExpandable&&(t.isExpandable=t.options.isExpandable),t}return(0,k.A)(l,m),(0,p.A)(l,[{key:"expandAll",value:function(){var e,n=this;this.expansionModel.clear();var t=this.dataNodes.reduce(function(r,a){return[].concat((0,D.A)(r),(0,D.A)(n.getDescendants(a)),[a])},[]);(e=this.expansionModel).select.apply(e,(0,D.A)(t.map(function(r){return n._trackByValue(r)})))}},{key:"getDescendants",value:function(n){var e=[];return this._getDescendants(e,n),e.splice(1)}},{key:"_getDescendants",value:function(n,e){var t=this;n.push(e);var r=this.getChildren(e);Array.isArray(r)?r.forEach(function(a){return t._getDescendants(n,a)}):(0,E.A)(r)&&r.pipe((0,C.s)(1),(0,c.p)(Boolean)).subscribe(function(a){var g,_=(0,f.A)(a);try{for(_.s();!(g=_.n()).done;)t._getDescendants(n,g.value)}catch(I){_.e(I)}finally{_.f()}})}}])}(te),ne=new W.nKC("CDK_TREE_NODE_OUTLET_NODE"),Y=function(){var m,l=(0,p.A)(function v(){(0,b.A)(this,v),(0,i.A)(this,"viewContainer",(0,W.WQX)(P.c1b)),(0,i.A)(this,"_node",(0,W.WQX)(ne,{optional:!0}))});return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275dir",P.FsC({type:m,selectors:[["","cdkTreeNodeOutlet",""]]})),l}(),ae=(0,p.A)(function m(l){(0,b.A)(this,m),(0,i.A)(this,"$implicit",void 0),(0,i.A)(this,"level",void 0),(0,i.A)(this,"index",void 0),(0,i.A)(this,"count",void 0),this.$implicit=l}),ie=function(){var m,l=(0,p.A)(function v(){(0,b.A)(this,v),(0,i.A)(this,"template",(0,W.WQX)(P.C4Q)),(0,i.A)(this,"when",void 0)});return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275dir",P.FsC({type:m,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})),l}();function ve(){return Error("A valid data source must be provided.")}function fe(){return Error("There can only be one default row without a when predicate function.")}function pe(){return Error("Could not find a matching node definition for the provided node data.")}function re(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}function ge(){return Error("More than one of tree control, levelAccessor, or childrenAccessor were provided.")}var J=function(){var m,l=function(){return(0,p.A)(function v(){(0,b.A)(this,v),(0,i.A)(this,"_differs",(0,W.WQX)($._q3)),(0,i.A)(this,"_changeDetectorRef",(0,W.WQX)($.gRc)),(0,i.A)(this,"_elementRef",(0,W.WQX)(P.aKT)),(0,i.A)(this,"_dir",(0,W.WQX)(se.dS)),(0,i.A)(this,"_onDestroy",new h.B),(0,i.A)(this,"_dataDiffer",void 0),(0,i.A)(this,"_defaultNodeDef",void 0),(0,i.A)(this,"_dataSubscription",void 0),(0,i.A)(this,"_levels",new Map),(0,i.A)(this,"_parents",new Map),(0,i.A)(this,"_ariaSets",new Map),(0,i.A)(this,"_dataSource",void 0),(0,i.A)(this,"treeControl",void 0),(0,i.A)(this,"levelAccessor",void 0),(0,i.A)(this,"childrenAccessor",void 0),(0,i.A)(this,"trackBy",void 0),(0,i.A)(this,"expansionKey",void 0),(0,i.A)(this,"_nodeOutlet",void 0),(0,i.A)(this,"_nodeDefs",void 0),(0,i.A)(this,"viewChange",new d.t({start:0,end:Number.MAX_VALUE})),(0,i.A)(this,"_expansionModel",void 0),(0,i.A)(this,"_flattenedNodes",new d.t([])),(0,i.A)(this,"_nodeType",new d.t(null)),(0,i.A)(this,"_nodes",new d.t(new Map)),(0,i.A)(this,"_keyManagerNodes",new d.t([])),(0,i.A)(this,"_keyManagerFactory",(0,W.WQX)(de.Z2)),(0,i.A)(this,"_keyManager",void 0),(0,i.A)(this,"_viewInit",!1)},[{key:"dataSource",get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)}},{key:"ngAfterContentInit",value:function(){this._initializeKeyManager()}},{key:"ngAfterContentChecked",value:function(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}},{key:"ngOnDestroy",value:function(){var e;this._nodeOutlet.viewContainer.clear(),this._nodes.complete(),this._keyManagerNodes.complete(),this._nodeType.complete(),this._flattenedNodes.complete(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),null===(e=this._keyManager)||void 0===e||e.destroy()}},{key:"ngOnInit",value:function(){this._checkTreeControlUsage(),this._initializeDataDiffer()}},{key:"ngAfterViewInit",value:function(){this._viewInit=!0}},{key:"_updateDefaultNodeDefinition",value:function(){var e=this._nodeDefs.filter(function(t){return!t.when});this._defaultNodeDef=e[0]}},{key:"_setNodeTypeIfUnset",value:function(e){null===this._nodeType.value&&this._nodeType.next(e)}},{key:"_switchDataSource",value:function(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}},{key:"_getExpansionModel",value:function(){var e;return this.treeControl?this.treeControl.expansionModel:(null!==(e=this._expansionModel)&&void 0!==e||(this._expansionModel=new y.C(!0)),this._expansionModel)}},{key:"_subscribeToDataChanges",value:function(){var t,e=this;this._dataSubscription||((0,ue.y)(this._dataSource)?t=this._dataSource.connect(this):(0,E.A)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=(0,o.of)(this._dataSource)),t&&(this._dataSubscription=this._getRenderData(t).pipe((0,u.Q)(this._onDestroy)).subscribe(function(r){e._renderDataChanges(r)})))}},{key:"_getRenderData",value:function(e){var t=this,r=this._getExpansionModel();return(0,K.z)([e,this._nodeType,r.changed.pipe((0,M.Z)(null),(0,O.M)(function(a){t._emitExpansionChanges(a)}))]).pipe((0,U.n)(function(a){var _=(0,T.A)(a,2),g=_[0],A=_[1];return null===A?(0,o.of)({renderNodes:g,flattenedNodes:null,nodeType:A}):t._computeRenderingData(g,A).pipe((0,j.T)(function(I){return(0,L.A)((0,L.A)({},I),{},{nodeType:A})}))}))}},{key:"_renderDataChanges",value:function(e){null!==e.nodeType?(this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)):this.renderNodeChanges(e.renderNodes)}},{key:"_emitExpansionChanges",value:function(e){if(e){var a,t=this._nodes.value,r=(0,f.A)(e.added);try{for(r.s();!(a=r.n()).done;){var g=t.get(a.value);g?._emitExpansionState(!0)}}catch(Q){r.e(Q)}finally{r.f()}var I,A=(0,f.A)(e.removed);try{for(A.s();!(I=A.n()).done;){var F=t.get(I.value);F?._emitExpansionState(!1)}}catch(Q){A.e(Q)}finally{A.f()}}}},{key:"_initializeKeyManager",value:function(){var e=this,t=(0,K.z)([this._keyManagerNodes,this._nodes]).pipe((0,j.T)(function(a){var _=(0,T.A)(a,2),A=_[1];return _[0].reduce(function(I,x){var F=A.get(e._getExpansionKey(x));return F&&I.push(F),I},[])}));this._keyManager=this._keyManagerFactory(t,{trackBy:function(_){return e._getExpansionKey(_.data)},skipPredicate:function(_){return!!_.isDisabled},typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}},{key:"_initializeDataDiffer",value:function(){var e,t=this,r=null!==(e=this.trackBy)&&void 0!==e?e:function(a,_){return t._getExpansionKey(_)};this._dataDiffer=this._differs.find([]).create(r)}},{key:"_checkTreeControlUsage",value:function(){}},{key:"renderNodeChanges",value:function(e){var t=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._nodeOutlet.viewContainer,_=arguments.length>3?arguments[3]:void 0,g=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._dataDiffer).diff(e);!g&&!this._viewInit||(g?.forEachOperation(function(A,I,x){if(null==A.previousIndex)t.insertNode(e[x],x,a,_);else if(null==x)a.remove(I);else{var F=a.get(I);a.move(F,x)}}),g?.forEachIdentityChange(function(A){var I=A.item;null!=A.currentIndex&&(a.get(A.currentIndex).context.$implicit=I)}),_?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}},{key:"_getNodeDef",value:function(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(function(a){return a.when&&a.when(t,e)})||this._defaultNodeDef}},{key:"insertNode",value:function(e,t,r,a){var _,g=this._getLevelAccessor(),A=this._getNodeDef(e,t),I=this._getExpansionKey(e),x=new ae(e);x.index=t,a??(a=null!==(_=this._parents.get(I))&&void 0!==_?_:void 0),x.level=g?g(e):void 0!==a&&this._levels.has(this._getExpansionKey(a))?this._levels.get(this._getExpansionKey(a))+1:0,this._levels.set(I,x.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(A.template,x,t),X.mostRecentTreeNode&&(X.mostRecentTreeNode.data=e)}},{key:"isExpanded",value:function(e){var t,r;return!!(null!==(t=this.treeControl)&&void 0!==t&&t.isExpanded(e)||null!==(r=this._expansionModel)&&void 0!==r&&r.isSelected(this._getExpansionKey(e)))}},{key:"toggle",value:function(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}},{key:"expand",value:function(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}},{key:"collapse",value:function(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}},{key:"toggleDescendants",value:function(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}},{key:"expandDescendants",value:function(e){var t=this;if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){var r=this._expansionModel;r.select(this._getExpansionKey(e)),this._getDescendants(e).pipe((0,C.s)(1),(0,u.Q)(this._onDestroy)).subscribe(function(a){r.select.apply(r,(0,D.A)(a.map(function(_){return t._getExpansionKey(_)})))})}}},{key:"collapseDescendants",value:function(e){var t=this;if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){var r=this._expansionModel;r.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe((0,C.s)(1),(0,u.Q)(this._onDestroy)).subscribe(function(a){r.deselect.apply(r,(0,D.A)(a.map(function(_){return t._getExpansionKey(_)})))})}}},{key:"expandAll",value:function(){var e=this;this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(function(t){var r;return null===(r=e._expansionModel)||void 0===r?void 0:r.select.apply(r,(0,D.A)(t))})}},{key:"collapseAll",value:function(){var e=this;this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(function(t){var r;return null===(r=e._expansionModel)||void 0===r?void 0:r.deselect.apply(r,(0,D.A)(t))})}},{key:"_getLevelAccessor",value:function(){var e,t;return null!==(e=null===(t=this.treeControl)||void 0===t||null===(t=t.getLevel)||void 0===t?void 0:t.bind(this.treeControl))&&void 0!==e?e:this.levelAccessor}},{key:"_getChildrenAccessor",value:function(){var e,t;return null!==(e=null===(t=this.treeControl)||void 0===t||null===(t=t.getChildren)||void 0===t?void 0:t.bind(this.treeControl))&&void 0!==e?e:this.childrenAccessor}},{key:"_getDirectChildren",value:function(e){var t,r,a=this,_=this._getLevelAccessor(),g=null!==(t=this._expansionModel)&&void 0!==t?t:null===(r=this.treeControl)||void 0===r?void 0:r.expansionModel;if(!g)return(0,o.of)([]);var A=this._getExpansionKey(e),I=g.changed.pipe((0,U.n)(function(Q){return Q.added.includes(A)?(0,o.of)(!0):Q.removed.includes(A)?(0,o.of)(!1):B.w}),(0,M.Z)(this.isExpanded(e)));if(_)return(0,K.z)([I,this._flattenedNodes]).pipe((0,j.T)(function(Q){var G=(0,T.A)(Q,2);return G[0]?a._findChildrenByLevel(_,G[1],e,1):[]}));var F,x=this._getChildrenAccessor();if(x)return(0,ee.x)(null!==(F=x(e))&&void 0!==F?F:[]);throw re()}},{key:"_findChildrenByLevel",value:function(e,t,r,a){for(var _=this,g=this._getExpansionKey(r),A=t.findIndex(function(q){return _._getExpansionKey(q)===g}),I=e(r),x=I+a,F=[],Q=A+1;Q<t.length;Q++){var G=e(t[Q]);if(G<=I)break;G<=x&&F.push(t[Q])}return F}},{key:"_registerNode",value:function(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}},{key:"_unregisterNode",value:function(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}},{key:"_getLevel",value:function(e){return this._levels.get(this._getExpansionKey(e))}},{key:"_getSetSize",value:function(e){return this._getAriaSet(e).length}},{key:"_getPositionInSet",value:function(e){var t=this,r=this._getAriaSet(e),a=this._getExpansionKey(e);return r.findIndex(function(_){return t._getExpansionKey(_)===a})+1}},{key:"_getNodeParent",value:function(e){var t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}},{key:"_getNodeChildren",value:function(e){var t=this;return this._getDirectChildren(e.data).pipe((0,j.T)(function(r){return r.reduce(function(a,_){var g=t._nodes.value.get(t._getExpansionKey(_));return g&&a.push(g),a},[])}))}},{key:"_sendKeydownToKeyManager",value:function(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{var a,t=this._nodes.getValue(),r=(0,f.A)(t);try{for(r.s();!(a=r.n()).done;){var _=(0,T.A)(a.value,2);if(e.target===_[1]._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}catch(A){r.e(A)}finally{r.f()}}}},{key:"_getDescendants",value:function(e){if(this.treeControl)return(0,o.of)(this.treeControl.getDescendants(e));if(this.levelAccessor){var t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return(0,o.of)(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe((0,V.T)(function(r,a){return r.push.apply(r,(0,D.A)(a)),r},[]));throw re()}},{key:"_getAllChildrenRecursively",value:function(e){var t=this;return this.childrenAccessor?(0,ee.x)(this.childrenAccessor(e)).pipe((0,C.s)(1),(0,U.n)(function(r){var _,a=(0,f.A)(r);try{for(a.s();!(_=a.n()).done;)t._parents.set(t._getExpansionKey(_.value),e)}catch(A){a.e(A)}finally{a.f()}return o.of.apply(void 0,(0,D.A)(r)).pipe((0,z.H)(function(A){return(0,w.x)((0,o.of)([A]),t._getAllChildrenRecursively(A))}))})):(0,o.of)([])}},{key:"_getExpansionKey",value:function(e){var t,r;return null!==(t=null===(r=this.expansionKey)||void 0===r?void 0:r.call(this,e))&&void 0!==t?t:e}},{key:"_getAriaSet",value:function(e){var t=this._getExpansionKey(e),r=this._parents.get(t),a=r?this._getExpansionKey(r):null;return this._ariaSets.get(a)??[e]}},{key:"_findParentForNode",value:function(e,t,r){var a;if(!r.length)return null;for(var _=null!==(a=this._levels.get(this._getExpansionKey(e)))&&void 0!==a?a:0,g=t-1;g>=0;g--){var A,I=r[g];if((null!==(A=this._levels.get(this._getExpansionKey(I)))&&void 0!==A?A:0)<_)return I}return null}},{key:"_flattenNestedNodesWithExpansion",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this._getChildrenAccessor();return a?o.of.apply(void 0,(0,D.A)(e)).pipe((0,z.H)(function(_){var g=t._getExpansionKey(_);t._parents.has(g)||t._parents.set(g,null),t._levels.set(g,r);var A=(0,ee.x)(a(_));return(0,w.x)((0,o.of)([_]),A.pipe((0,C.s)(1),(0,O.M)(function(I){t._ariaSets.set(g,(0,D.A)(I??[]));var F,x=(0,f.A)(I??[]);try{for(x.s();!(F=x.n()).done;){var G=t._getExpansionKey(F.value);t._parents.set(G,_),t._levels.set(G,r+1)}}catch(q){x.e(q)}finally{x.f()}}),(0,U.n)(function(I){return I?t._flattenNestedNodesWithExpansion(I,r+1).pipe((0,j.T)(function(x){return t.isExpanded(_)?x:[]})):(0,o.of)([])})))}),(0,V.T)(function(_,g){return _.push.apply(_,(0,D.A)(g)),_},[])):(0,o.of)((0,D.A)(e))}},{key:"_computeRenderingData",value:function(e,t){var r=this;if(this.childrenAccessor&&"flat"===t)return this._clearPreviousCache(),this._ariaSets.set(null,(0,D.A)(e)),this._flattenNestedNodesWithExpansion(e).pipe((0,j.T)(function(_){return{renderNodes:_,flattenedNodes:_}}));if(this.levelAccessor&&"nested"===t){var a=this.levelAccessor;return(0,o.of)(e.filter(function(_){return 0===a(_)})).pipe((0,j.T)(function(_){return{renderNodes:_,flattenedNodes:e}}),(0,O.M)(function(_){r._calculateParents(_.flattenedNodes)}))}return"flat"===t?(0,o.of)({renderNodes:e,flattenedNodes:e}).pipe((0,O.M)(function(_){r._calculateParents(_.flattenedNodes)})):(this._clearPreviousCache(),this._ariaSets.set(null,(0,D.A)(e)),this._flattenNestedNodesWithExpansion(e).pipe((0,j.T)(function(_){return{renderNodes:e,flattenedNodes:_}})))}},{key:"_updateCachedData",value:function(e){this._flattenedNodes.next(e)}},{key:"_updateKeyManagerItems",value:function(e){this._keyManagerNodes.next(e)}},{key:"_calculateParents",value:function(e){var t=this._getLevelAccessor();if(t){this._clearPreviousCache();for(var r=0;r<e.length;r++){var a,_=e[r],g=this._getExpansionKey(_);this._levels.set(g,t(_));var A=this._findParentForNode(_,r,e);this._parents.set(g,A);var I=A?this._getExpansionKey(A):null,x=null!==(a=this._ariaSets.get(I))&&void 0!==a?a:[];x.splice(r,0,_),this._ariaSets.set(I,x)}}}},{key:"_forEachExpansionKey",value:function(e){var t=this,r=[],a=[];this._nodes.value.forEach(function(_){r.push(t._getExpansionKey(_.data)),a.push(t._getDescendants(_.data))}),a.length>0?(0,K.z)(a).pipe((0,C.s)(1),(0,u.Q)(this._onDestroy)).subscribe(function(_){_.forEach(function(g){return g.forEach(function(A){return r.push(t._getExpansionKey(A))})}),e(r)}):e(r)}},{key:"_clearPreviousCache",value:function(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}}])}();return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275cmp",P.VBU({type:m,selectors:[["cdk-tree"]],contentQueries:function(n,e,t){var r;1&n&&P.wni(t,ie,5),2&n&&P.mGM(r=P.lsd())&&(e._nodeDefs=r)},viewQuery:function(n,e){var t;1&n&&P.GBs(Y,7),2&n&&P.mGM(t=P.lsd())&&(e._nodeOutlet=t.first)},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(n,e){1&n&&P.bIt("keydown",function(r){return e._sendKeydownToKeyManager(r)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,e){1&n&&P.eu8(0,0)},dependencies:[Y],encapsulation:2})),l}(),X=function(){var m,l=function(){function v(){(0,b.A)(this,v),(0,i.A)(this,"_elementRef",(0,W.WQX)(P.aKT)),(0,i.A)(this,"_tree",(0,W.WQX)(J)),(0,i.A)(this,"_tabindex",-1),(0,i.A)(this,"_type","flat"),(0,i.A)(this,"isDisabled",void 0),(0,i.A)(this,"typeaheadLabel",void 0),(0,i.A)(this,"activation",new P.bkB),(0,i.A)(this,"expandedChange",new P.bkB),(0,i.A)(this,"_destroyed",new h.B),(0,i.A)(this,"_dataChanges",new h.B),(0,i.A)(this,"_inputIsExpandable",!1),(0,i.A)(this,"_inputIsExpanded",void 0),(0,i.A)(this,"_shouldFocus",!0),(0,i.A)(this,"_parentNodeAriaLevel",void 0),(0,i.A)(this,"_data",void 0),(0,i.A)(this,"_changeDetectorRef",(0,W.WQX)($.gRc)),v.mostRecentTreeNode=this}return(0,p.A)(v,[{key:"role",get:function(){return"treeitem"},set:function(e){}},{key:"isExpandable",get:function(){return this._isExpandable()},set:function(e){this._inputIsExpandable=e,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}},{key:"isExpanded",get:function(){return this._tree.isExpanded(this._data)},set:function(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}},{key:"getLabel",value:function(){var e;return this.typeaheadLabel||(null===(e=this._elementRef.nativeElement.textContent)||void 0===e?void 0:e.trim())||""}},{key:"data",get:function(){return this._data},set:function(e){e!==this._data&&(this._data=e,this._dataChanges.next())}},{key:"isLeafNode",get:function(){var e,t,r;return void 0!==(null===(e=this._tree.treeControl)||void 0===e?void 0:e.isExpandable)&&!this._tree.treeControl.isExpandable(this._data)||void 0===(null===(t=this._tree.treeControl)||void 0===t?void 0:t.isExpandable)&&0===(null===(r=this._tree.treeControl)||void 0===r?void 0:r.getDescendants(this._data).length)}},{key:"level",get:function(){var e;return null!==(e=this._tree._getLevel(this._data))&&void 0!==e?e:this._parentNodeAriaLevel}},{key:"_isExpandable",value:function(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}},{key:"_getAriaExpanded",value:function(){return this._isExpandable()?String(this.isExpanded):null}},{key:"_getSetSize",value:function(){return this._tree._getSetSize(this._data)}},{key:"_getPositionInSet",value:function(){return this._tree._getPositionInSet(this._data)}},{key:"ngOnInit",value:function(){var e=this;this._parentNodeAriaLevel=function Ee(m){for(var l=m.parentElement;l&&!me(l);)l=l.parentElement;return l?l.classList.contains("cdk-nested-tree-node")?(0,$.Udg)(l.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,j.T)(function(){return e.isExpanded}),(0,Z.F)(),(0,u.Q)(this._destroyed)).pipe((0,u.Q)(this._destroyed)).subscribe(function(){return e._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}},{key:"ngOnDestroy",value:function(){v.mostRecentTreeNode===this&&(v.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"getParent",value:function(){var e;return null!==(e=this._tree._getNodeParent(this))&&void 0!==e?e:null}},{key:"getChildren",value:function(){return this._tree._getNodeChildren(this)}},{key:"focus",value:function(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}},{key:"unfocus",value:function(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}},{key:"activate",value:function(){this.isDisabled||this.activation.next(this._data)}},{key:"collapse",value:function(){this.isExpandable&&this._tree.collapse(this._data)}},{key:"expand",value:function(){this.isExpandable&&this._tree.expand(this._data)}},{key:"makeFocusable",value:function(){this._tabindex=0,this._changeDetectorRef.markForCheck()}},{key:"_focusItem",value:function(){this.isDisabled||this._tree._keyManager.focusItem(this)}},{key:"_setActiveItem",value:function(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}},{key:"_emitExpansionState",value:function(e){this.expandedChange.emit(e)}}])}();return m=l,(0,i.A)(l,"mostRecentTreeNode",null),(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275dir",P.FsC({type:m,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(n,e){1&n&&P.bIt("click",function(){return e._setActiveItem()})("focus",function(){return e._focusItem()}),2&n&&(P.Avn("tabIndex",e._tabindex),P.BMQ("aria-expanded",e._getAriaExpanded())("aria-level",e.level+1)("aria-posinset",e._getPositionInSet())("aria-setsize",e._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",$.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",$.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})),l}();function me(m){var l=m.classList;return!!(null!=l&&l.contains("cdk-nested-tree-node")||null!=l&&l.contains("cdk-tree"))}var oe=function(){var m,l=function(v){function n(){var e;return(0,b.A)(this,n),e=(0,N.A)(this,n),(0,i.A)(e,"_type","nested"),(0,i.A)(e,"_differs",(0,W.WQX)($._q3)),(0,i.A)(e,"_dataDiffer",void 0),(0,i.A)(e,"_children",void 0),(0,i.A)(e,"nodeOutlet",void 0),e}return(0,k.A)(n,v),(0,p.A)(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree._getDirectChildren(this.data).pipe((0,u.Q)(this._destroyed)).subscribe(function(r){return t.updateChildrenNodes(r)}),this.nodeOutlet.changes.pipe((0,u.Q)(this._destroyed)).subscribe(function(){return t.updateChildrenNodes()})}},{key:"ngOnDestroy",value:function(){this._clear(),(0,S.A)(n,"ngOnDestroy",this,3)([])}},{key:"updateChildrenNodes",value:function(t){var r=this._getNodeOutlet();t&&(this._children=t),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}},{key:"_clear",value:function(){var t=this._getNodeOutlet();t&&(t.viewContainer.clear(),this._dataDiffer.diff([]))}},{key:"_getNodeOutlet",value:function(){var t=this,r=this.nodeOutlet;return r&&r.find(function(a){return!a._node||a._node===t})}}])}(X);return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275dir",P.FsC({type:m,selectors:[["cdk-nested-tree-node"]],contentQueries:function(n,e,t){var r;1&n&&P.wni(t,Y,5),2&n&&P.mGM(r=P.lsd())&&(e.nodeOutlet=r)},hostAttrs:[1,"cdk-nested-tree-node"],exportAs:["cdkNestedTreeNode"],features:[P.Jv_([{provide:X,useExisting:m},{provide:ne,useExisting:m}]),P.Vt3]})),l}(),ye=/([A-Za-z%]+)$/,_e=function(){var m,l=function(){return(0,p.A)(function v(){var n,e=this;(0,b.A)(this,v),(0,i.A)(this,"_treeNode",(0,W.WQX)(X)),(0,i.A)(this,"_tree",(0,W.WQX)(J)),(0,i.A)(this,"_element",(0,W.WQX)(P.aKT)),(0,i.A)(this,"_dir",(0,W.WQX)(se.dS,{optional:!0})),(0,i.A)(this,"_currentPadding",void 0),(0,i.A)(this,"_destroyed",new h.B),(0,i.A)(this,"indentUnits","px"),(0,i.A)(this,"_level",void 0),(0,i.A)(this,"_indent",40),this._setPadding(),null===(n=this._dir)||void 0===n||n.change.pipe((0,u.Q)(this._destroyed)).subscribe(function(){return e._setPadding(!0)}),this._treeNode._dataChanges.subscribe(function(){return e._setPadding()})},[{key:"level",get:function(){return this._level},set:function(e){this._setLevelInput(e)}},{key:"indent",get:function(){return this._indent},set:function(e){this._setIndentInput(e)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_paddingIndent",value:function(){var e,t=null!==(e=this._treeNode.data&&this._tree._getLevel(this._treeNode.data))&&void 0!==e?e:null,r=null==this._level?t:this._level;return"number"==typeof r?"".concat(r*this._indent).concat(this.indentUnits):null}},{key:"_setPadding",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._paddingIndent();if(t!==this._currentPadding||e){var r=this._element.nativeElement,a=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",_="paddingLeft"===a?"paddingRight":"paddingLeft";r.style[a]=t||"",r.style[_]="",this._currentPadding=t}}},{key:"_setLevelInput",value:function(e){this._level=isNaN(e)?null:e,this._setPadding()}},{key:"_setIndentInput",value:function(e){var t=e,r="px";if("string"==typeof e){var a=e.split(ye);t=a[0],r=a[1]||r}this.indentUnits=r,this._indent=(0,$.Udg)(t),this._setPadding()}}])}();return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275dir",P.FsC({type:m,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",$.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})),l}(),le=function(){var m,l=function(){return(0,p.A)(function v(){(0,b.A)(this,v),(0,i.A)(this,"_tree",(0,W.WQX)(J)),(0,i.A)(this,"_treeNode",(0,W.WQX)(X)),(0,i.A)(this,"recursive",!1)},[{key:"_toggle",value:function(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}}])}();return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275dir",P.FsC({type:m,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(n,e){1&n&&P.bIt("click",function(r){return e._toggle(),r.stopPropagation()})("keydown.Enter",function(r){return e._toggle(),r.preventDefault()})("keydown.Space",function(r){return e._toggle(),r.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",$.L39]}})),l}(),Ae=function(){var m,l=(0,p.A)(function v(){(0,b.A)(this,v)});return m=l,(0,i.A)(l,"\u0275fac",function(n){return new(n||m)}),(0,i.A)(l,"\u0275mod",P.$C({type:m})),(0,i.A)(l,"\u0275inj",W.G2t({})),l}()},729:(H,R,s)=>{s.d(R,{i:()=>y});var S=s(3288),L=s(3398),T=s(642),f=s(4205),N=s(8764),k=s(2575),D=s(1567),b=s(271),p=s(8159),y=function(){return(0,L.A)(function E(h,d){(0,S.A)(this,E),(0,T.A)(this,"_letterKeyStream",new f.B),(0,T.A)(this,"_items",[]),(0,T.A)(this,"_selectedItemIndex",-1),(0,T.A)(this,"_pressedLetters",[]),(0,T.A)(this,"_skipPredicateFn",void 0),(0,T.A)(this,"_selectedItem",new f.B),(0,T.A)(this,"selectedItem",this._selectedItem);var o="number"==typeof d?.debounceInterval?d.debounceInterval:200;null!=d&&d.skipPredicate&&(this._skipPredicateFn=d.skipPredicate),this.setItems(h),this._setupKeyHandler(o)},[{key:"destroy",value:function(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}},{key:"setCurrentSelectedItemIndex",value:function(d){this._selectedItemIndex=d}},{key:"setItems",value:function(d){this._items=d}},{key:"handleKey",value:function(d){var o=d.keyCode;d.key&&1===d.key.length?this._letterKeyStream.next(d.key.toLocaleUpperCase()):(o>=p.A&&o<=p.Z||o>=p.f2&&o<=p.bn)&&this._letterKeyStream.next(String.fromCharCode(o))}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"reset",value:function(){this._pressedLetters=[]}},{key:"_setupKeyHandler",value:function(d){var o=this;this._letterKeyStream.pipe((0,N.M)(function(K){return o._pressedLetters.push(K)}),(0,k.B)(d),(0,D.p)(function(){return o._pressedLetters.length>0}),(0,b.T)(function(){return o._pressedLetters.join("").toLocaleUpperCase()})).subscribe(function(K){for(var B=1;B<o._items.length+1;B++){var w,C,u=o._items[(o._selectedItemIndex+B)%o._items.length];if((null===(w=o._skipPredicateFn)||void 0===w||!w.call(o,u))&&0===(null===(C=u.getLabel)||void 0===C?void 0:C.call(u).toLocaleUpperCase().trim().indexOf(K))){o._selectedItem.next(u);break}}o._pressedLetters=[]})}}])}()}}]);
//# sourceMappingURL=2714.7e230cbe4bc30b46.js.map