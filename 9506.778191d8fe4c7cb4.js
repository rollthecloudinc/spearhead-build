(self.webpackChunkspear=self.webpackChunkspear||[]).push([[9506],{79506:(we,oe,b)=>{b.r(oe);var M=b(52494),a=b(49431),m=b(63398),h=b(43288),k=b(98824),A=b(63730),y=b(25965),E=b(55787),f=b(81011),v=b(22292),P=b(94334),F=b(82297),w=b(13544),N=b(50438),R=b(75797),L=b(43942),G=b(63617),T=b(84205);function V(o){for(var r in o){var n,e=null!==(n=o[r])&&void 0!==n?n:"";switch(r){case"display":o.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":o["-webkit-"+r]=e;break;case"flex-direction":o["-webkit-flex-direction"]=e,o["flex-direction"]=e;break;case"order":o.order=o["-webkit-"+r]=isNaN(+e)?"0":e}}return o}var U="inline",ee=["row","column","row-reverse","column-reverse"];function te(o){var r=K(o),n=(0,k.A)(r,3);return function ue(o){return{display:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"inline-flex":"flex","box-sizing":"border-box","flex-direction":o,"flex-wrap":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||null}}(n[0],n[1],n[2])}function K(o){var r,n,e=(o=null!==(r=null===(n=o)||void 0===n?void 0:n.toLowerCase())&&void 0!==r?r:"").split(" "),t=(0,k.A)(e,3),s=t[0],u=t[1],l=t[2];return ee.find(function(d){return d===s})||(s=ee[0]),u===U&&(u=l!==U?l:"",l=U),[s,re(u),!!l]}function j(o){var r=K(o);return(0,k.A)(r,1)[0].indexOf("row")>-1}function re(o){if(o)switch(o.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":o="wrap-reverse";break;case"no":case"none":case"nowrap":o="nowrap";break;default:o="wrap"}return o}function ne(o){if(null==o)throw TypeError("Cannot convert undefined or null to object");for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];for(var t=0,s=n;t<s.length;t++){var u=s[t];if(null!=u)for(var l in u)u.hasOwnProperty(l)&&(o[l]=u[l])}return o}var z=b(51567),q=b(98764),ye={provide:a.APP_BOOTSTRAP_LISTENER,useFactory:function pe(o,r){return function(){if((0,y.isPlatformBrowser)(r)){var n=Array.from(o.querySelectorAll("[class*=".concat(Ee,"]"))),e=/\bflex-layout-.+?\b/g;n.forEach(function(t){t.classList.contains("".concat(Ee,"ssr"))&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}}},deps:[y.DOCUMENT,a.PLATFORM_ID],multi:!0},Ee="flex-layout-",Ie=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[ye]}),o}(),Ge=function(){function o(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,h.A)(this,o),this.matches=r,this.mediaQuery=n,this.mqAlias=e,this.suffix=t,this.priority=s,this.property=""}return(0,m.A)(o,[{key:"clone",value:function(){return new o(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}])}(),xe=function(){var o=function(){return(0,m.A)(function r(){(0,h.A)(this,r),this.stylesheet=new Map},[{key:"addStyleToElement",value:function(e,t,s){var u=this.stylesheet.get(e);u?u.set(t,s):this.stylesheet.set(e,new Map([[t,s]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(e,t){var s=this.stylesheet.get(e),u="";if(s){var l=s.get(t);("number"==typeof l||"string"==typeof l)&&(u=l+"")}return u}}])}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Be={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Xe=new a.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return Be}}),Ze=new a.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),ot=new a.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function vt(o,r){var n,e;return o=null!==(n=null===(e=o)||void 0===e?void 0:e.clone())&&void 0!==n?n:new Ge,r&&(o.mqAlias=r.alias,o.mediaQuery=r.mediaQuery,o.suffix=r.suffix,o.priority=r.priority),o}var ze=function(){return(0,m.A)(function o(){(0,h.A)(this,o),this.shouldCache=!0},[{key:"sideEffect",value:function(n,e,t){}}])}(),Ye=function(){var o=function(){return(0,m.A)(function r(n,e,t,s){(0,h.A)(this,r),this._serverStylesheet=n,this._serverModuleLoaded=e,this._platformId=t,this.layoutConfig=s},[{key:"applyStyleToElement",value:function(e,t){var u={};"string"==typeof t&&(u[t]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=u),u=this.layoutConfig.disableVendorPrefixes?t:V(t),this._applyMultiValueStyleToElement(u,e)}},{key:"applyStyleToElements",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.layoutConfig.disableVendorPrefixes?e:V(e);s.forEach(function(l){t._applyMultiValueStyleToElement(u,l)})}},{key:"getFlowDirection",value:function(e){var t="flex-direction",s=this.lookupStyle(e,t);return[s||"row",this.lookupInlineStyle(e,t)||(0,y.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?s:""]}},{key:"hasWrap",value:function(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}},{key:"lookupAttributeValue",value:function(e,t){var s;return null!==(s=e.getAttribute(t))&&void 0!==s?s:""}},{key:"lookupInlineStyle",value:function(e,t){return(0,y.isPlatformBrowser)(this._platformId)?e.style.getPropertyValue(t):function At(o,r){var n;return null!==(n=X(o)[r])&&void 0!==n?n:""}(e,t)}},{key:"lookupStyle",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="";return e&&((u=this.lookupInlineStyle(e,t))||((0,y.isPlatformBrowser)(this._platformId)?s||(u=getComputedStyle(e).getPropertyValue(t)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(e,t)))),u?u.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(e,t){var s=this;Object.keys(e).sort().forEach(function(u){var l=e[u],d=Array.isArray(l)?l:[l];d.sort();var g,p=(0,N.A)(d);try{for(p.s();!(g=p.n()).done;){var _=g.value;_=_?_+"":"",(0,y.isPlatformBrowser)(s._platformId)||!s._serverModuleLoaded?(0,y.isPlatformBrowser)(s._platformId)?t.style.setProperty(u,_):de(t,u,_):s._serverStylesheet.addStyleToElement(t,u,_)}}catch(S){p.e(S)}finally{p.f()}})}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(xe),a.\u0275\u0275inject(Ze),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(Xe))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function de(o,r,n){r=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=X(o);e[r]=n??"",function W(o,r){var n="";for(var e in r)r[e]&&(n+="".concat(e,":").concat(r[e],";"));o.setAttribute("style",n)}(o,e)}function X(o){var r={},n=o.getAttribute("style");if(n)for(var e=n.split(/;+/g),t=0;t<e.length;t++){var s=e[t].trim();if(s.length>0){var u=s.indexOf(":");if(-1===u)throw new Error("Invalid CSS style: ".concat(s));r[s.substr(0,u).trim()]=s.substr(u+1).trim()}}return r}function Ce(o,r){return(r&&r.priority||0)-(o&&o.priority||0)}function Pe(o,r){return(o.priority||0)-(r.priority||0)}var ie=function(){var o=function(){return(0,m.A)(function r(n,e,t){(0,h.A)(this,r),this._zone=n,this._platformId=e,this._document=t,this.source=new R.t(new Ge(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()},[{key:"activations",get:function(){var e=[];return this.registry.forEach(function(t,s){t.matches&&e.push(s)}),e}},{key:"isActive",value:function(e){var t,s=this.registry.get(e);return null!==(t=s?.matches)&&void 0!==t?t:this.registerQuery(e).some(function(u){return u.matches})}},{key:"observe",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.length){var u=this._observable$.pipe((0,z.p)(function(d){return!s||e.indexOf(d.mediaQuery)>-1})),l=new L.c(function(d){var p=t.registerQuery(e);if(p.length){var g=p.pop();p.forEach(function(_){d.next(_)}),t.source.next(g)}d.complete()});return(0,G.h)(l,u)}return this._observable$}},{key:"registerQuery",value:function(e){var t=this,s=Array.isArray(e)?e:[e],u=[];return function Me(o,r){var n=o.filter(function(u){return!ae[u]});if(n.length>0){var e=n.join(", ");try{var t=r.createElement("style");if(t.setAttribute("type","text/css"),!t.styleSheet){var s="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(e," {.fx-query-test{ }}\n");t.appendChild(r.createTextNode(s))}r.head.appendChild(t),n.forEach(function(u){return ae[u]=t})}catch(u){console.error(u)}}}(s,this._document),s.forEach(function(l){var d=function(_){t._zone.run(function(){return t.source.next(new Ge(_.matches,l))})},p=t.registry.get(l);p||((p=t.buildMQL(l)).addListener(d),t.pendingRemoveListenerFns.push(function(){return p.removeListener(d)}),t.registry.set(l,p)),p.matches&&u.push(new Ge(!0,l))}),u}},{key:"ngOnDestroy",value:function(){for(var e;e=this.pendingRemoveListenerFns.pop();)e()}},{key:"buildMQL",value:function(e){return function Z(o,r){return r&&!!window.matchMedia("all").addListener?window.matchMedia(o):function se(o){var r=new EventTarget;return r.matches="all"===o||""===o,r.media=o,r.addListener=function(){},r.removeListener=function(){},r.addEventListener=function(){},r.dispatchEvent=function(){return!1},r.onchange=null,r}(o)}(e,(0,y.isPlatformBrowser)(this._platformId))}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(y.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),ae={},Q=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],ve="(orientation: portrait) and (max-width: 599.98px)",je="(orientation: landscape) and (max-width: 959.98px)",nt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",at="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",bt="(orientation: portrait) and (min-width: 840px)",Ot="(orientation: landscape) and (min-width: 1280px)",It={HANDSET:"".concat(ve,", ").concat(je),TABLET:"".concat(nt," , ").concat(at),WEB:"".concat(bt,", ").concat(Ot," "),HANDSET_PORTRAIT:"".concat(ve),TABLET_PORTRAIT:"".concat(nt," "),WEB_PORTRAIT:"".concat(bt),HANDSET_LANDSCAPE:"".concat(je),TABLET_LANDSCAPE:"".concat(at),WEB_LANDSCAPE:"".concat(Ot)},ln=[{alias:"handset",priority:2e3,mediaQuery:It.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:It.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:It.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:It.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:It.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:It.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:It.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:It.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:It.WEB_PORTRAIT,overlapping:!0}],fn=/(\.|-|_)/g;function Se(o){var r=o.length>0?o.charAt(0):"",n=o.length>1?o.slice(1):"";return r.toUpperCase()+n}var Vt=new a.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var r=(0,a.inject)(ot),n=(0,a.inject)(Xe),e=[].concat.apply([],(r||[]).map(function(s){return Array.isArray(s)?s:[s]}));return function pt(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return o.forEach(function(e){n[e.alias]=e}),r.forEach(function(e){n[e.alias]?ne(n[e.alias],e):n[e.alias]=e}),function Dn(o){return o.forEach(function(r){r.suffix||(r.suffix=function Zn(o){return o.replace(fn,"|").split("|").map(Se).join("")}(r.alias),r.overlapping=!!r.overlapping)}),o}(Object.keys(n).map(function(e){return n[e]}))}((n.disableDefaultBps?[]:Q).concat(n.addOrientationBps?ln:[]),e)}}),xt=function(){var o=function(){return(0,m.A)(function r(n){(0,h.A)(this,r),this.findByMap=new Map,this.items=(0,A.A)(n).sort(Pe)},[{key:"findByAlias",value:function(e){return e?this.findWithPredicate(e,function(t){return t.alias===e}):null}},{key:"findByQuery",value:function(e){return this.findWithPredicate(e,function(t){return t.mediaQuery===e})}},{key:"overlappings",get:function(){return this.items.filter(function(e){return e.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(e){return e.alias})}},{key:"suffixes",get:function(){return this.items.map(function(e){var t;return null!==(t=e?.suffix)&&void 0!==t?t:""})}},{key:"findWithPredicate",value:function(e,t){var u,s=this.findByMap.get(e);return s||(s=null!==(u=this.items.find(t))&&void 0!==u?u:null,this.findByMap.set(e,s)),s??null}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(Vt))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),wt="print",Ft={alias:wt,mediaQuery:wt,priority:1e3},ht=function(){var o=function(){return(0,m.A)(function r(n,e,t){(0,h.A)(this,r),this.breakpoints=n,this.layoutConfig=e,this._document=t,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Ue,this.deactivations=[]},[{key:"withPrintQuery",value:function(e){return[].concat((0,A.A)(e),[wt])}},{key:"isPrintEvent",value:function(e){return e.mediaQuery.startsWith(wt)}},{key:"printAlias",get:function(){var e;return(0,A.A)(null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[])}},{key:"printBreakPoints",get:function(){var e=this;return this.printAlias.map(function(t){return e.breakpoints.findByAlias(t)}).filter(function(t){return null!==t})}},{key:"getEventBreakpoints",value:function(e){var s=this.breakpoints.findByQuery(e.mediaQuery);return(s?[].concat((0,A.A)(this.printBreakPoints),[s]):this.printBreakPoints).sort(Ce)}},{key:"updateEvent",value:function(e){var s,u,t=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(t=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(s=null===(u=t)||void 0===u?void 0:u.mediaQuery)&&void 0!==s?s:""),vt(e,t)}},{key:"registerBeforeAfterPrintHooks",value:function(e){var t=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var s=function(){t.isPrinting||(t.isPrintingBeforeAfterEvent=!0,t.startPrinting(e,t.getEventBreakpoints(new Ge(!0,wt))),e.updateStyles())},u=function(){t.isPrintingBeforeAfterEvent=!1,t.isPrinting&&(t.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",u),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(u)}}},{key:"interceptEvents",value:function(e){var t=this;return function(s){t.isPrintEvent(s)?s.matches&&!t.isPrinting?(t.startPrinting(e,t.getEventBreakpoints(s)),e.updateStyles()):!s.matches&&t.isPrinting&&!t.isPrintingBeforeAfterEvent&&(t.stopPrinting(e),e.updateStyles()):t.collectActivations(e,s)}}},{key:"blockPropagation",value:function(){var e=this;return function(t){return!(e.isPrinting||e.isPrintEvent(t))}}},{key:"startPrinting",value:function(e,t){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(t)}},{key:"stopPrinting",value:function(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(e,t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!t.matches){var s=this.breakpoints.findByQuery(t.mediaQuery);if(s){var u=this.formerActivations&&this.formerActivations.includes(s),l=!this.formerActivations&&e.activatedBreakpoints.includes(s);(u||l)&&(this.deactivations.push(s),this.deactivations.sort(Ce))}}}}},{key:"ngOnDestroy",value:function(){var e=this;this._document.defaultView&&(this.beforePrintEventListeners.forEach(function(t){return e._document.defaultView.removeEventListener("beforeprint",t)}),this.afterPrintEventListeners.forEach(function(t){return e._document.defaultView.removeEventListener("afterprint",t)}))}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(xt),a.\u0275\u0275inject(Xe),a.\u0275\u0275inject(y.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Ue=function(){return(0,m.A)(function o(){(0,h.A)(this,o),this.printBreakpoints=[]},[{key:"addPrintBreakpoints",value:function(n){var e=this;return n.push(Ft),n.sort(Ce),n.forEach(function(t){return e.addBreakpoint(t)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(n){n&&void 0===this.printBreakpoints.find(function(t){return t.mediaQuery===n.mediaQuery})&&(this.printBreakpoints=function $e(o){var r;return null!==(r=o?.mediaQuery.startsWith(wt))&&void 0!==r&&r}(n)?[n].concat((0,A.A)(this.printBreakpoints)):[].concat((0,A.A)(this.printBreakpoints),[n]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}])}(),mt=function(){var o=function(){return(0,m.A)(function r(n,e,t){(0,h.A)(this,r),this.matchMedia=n,this.breakpoints=e,this.hook=t,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new T.B,this.observeActivations()},[{key:"activatedAlias",get:function(){var e,t;return null!==(e=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==e?e:""}},{key:"activatedBreakpoints",get:function(){return(0,A.A)(this._activatedBreakpoints)},set:function(e){this._activatedBreakpoints=(0,A.A)(e)}},{key:"useFallbacks",set:function(e){this._useFallbacks=e}},{key:"onMediaChange",value:function(e){var t=this.findByQuery(e.mediaQuery);if(t){e=vt(e,t);var s=this.activatedBreakpoints.indexOf(t);e.matches&&-1===s?(this._activatedBreakpoints.push(t),this._activatedBreakpoints.sort(Ce),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Ce),this.updateStyles())}}},{key:"init",value:function(e,t,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Tt(this.updateMap,e,t,s),Tt(this.clearMap,e,t,u),this.buildElementKeyMap(e,t),this.watchExtraTriggers(e,t,l)}},{key:"getValue",value:function(e,t,s){var u=this.elementMap.get(e);if(u){var l=void 0!==s?u.get(s):this.getActivatedValues(u,t);if(l)return l.get(t)}}},{key:"hasValue",value:function(e,t){var s=this.elementMap.get(e);if(s){var u=this.getActivatedValues(s,t);if(u)return void 0!==u.get(t)||!1}return!1}},{key:"setValue",value:function(e,t,s,u){var l=this.elementMap.get(e);if(l){var d,p=(null!==(d=l.get(u))&&void 0!==d?d:new Map).set(t,s);l.set(u,p),this.elementMap.set(e,l)}else l=(new Map).set(u,(new Map).set(t,s)),this.elementMap.set(e,l);var g=this.getValue(e,t);void 0!==g&&this.updateElement(e,t,g)}},{key:"trackValue",value:function(e,t){return this.subject.asObservable().pipe((0,z.p)(function(s){return s.element===e&&s.key===t}))}},{key:"updateStyles",value:function(){var e=this;this.elementMap.forEach(function(t,s){var u=new Set(e.elementKeyMap.get(s)),l=e.getActivatedValues(t);l&&l.forEach(function(d,p){e.updateElement(s,p,d),u.delete(p)}),u.forEach(function(d){if(l=e.getActivatedValues(t,d)){var p=l.get(d);e.updateElement(s,d,p)}else e.clearElement(s,d)})})}},{key:"clearElement",value:function(e,t){var s=this.clearMap.get(e);if(s){var u=s.get(t);u&&(u(),this.subject.next({element:e,key:t,value:""}))}}},{key:"updateElement",value:function(e,t,s){var u=this.updateMap.get(e);if(u){var l=u.get(t);l&&(l(s),this.subject.next({element:e,key:t,value:s}))}}},{key:"releaseElement",value:function(e){var t=this.watcherMap.get(e);t&&(t.forEach(function(u){return u.unsubscribe()}),this.watcherMap.delete(e));var s=this.elementMap.get(e);s&&(s.forEach(function(u,l){return s.delete(l)}),this.elementMap.delete(e))}},{key:"triggerUpdate",value:function(e,t){var s=this,u=this.elementMap.get(e);if(u){var l=this.getActivatedValues(u,t);l&&(t?this.updateElement(e,t,l.get(t)):l.forEach(function(d,p){return s.updateElement(e,p,d)}))}}},{key:"buildElementKeyMap",value:function(e,t){var s=this.elementKeyMap.get(e);s||this.elementKeyMap.set(e,s=new Set),s.add(t)}},{key:"watchExtraTriggers",value:function(e,t,s){var u=this;if(s&&s.length){var l=this.watcherMap.get(e);if(l||this.watcherMap.set(e,l=new Map),!l.get(t)){var p=G.h.apply(void 0,(0,A.A)(s)).subscribe(function(){var g=u.getValue(e,t);u.updateElement(e,t,g)});l.set(t,p)}}}},{key:"findByQuery",value:function(e){return this.breakpoints.findByQuery(e)}},{key:"getActivatedValues",value:function(e,t){for(var s=0;s<this.activatedBreakpoints.length;s++){var l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===t||l.has(t)&&null!=l.get(t)))return l}if(this._useFallbacks){var d=e.get("");return void 0===t||d&&d.has(t)?d:void 0}}},{key:"observeActivations",value:function(){var e=this.breakpoints.items.map(function(t){return t.mediaQuery});this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,q.M)(this.hook.interceptEvents(this)),(0,z.p)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(ie),a.\u0275\u0275inject(xt),a.\u0275\u0275inject(ht))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Tt(o,r,n,e){if(void 0!==e){var t,s=null!==(t=o.get(r))&&void 0!==t?t:new Map;s.set(n,e),o.set(r,s)}}var gt=function(){var o=function(){return(0,m.A)(function r(n,e,t,s){(0,h.A)(this,r),this.elementRef=n,this.styleBuilder=e,this.styler=t,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new T.B,this.styleCache=new Map},[{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}},{key:"ngOnChanges",value:function(e){var t=this;Object.keys(e).forEach(function(s){if(-1!==t.inputs.indexOf(s)){var u=s.split(".").slice(1).join(".");t.setValue(e[s].currentValue,u)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}},{key:"addStyles",value:function(e,t){var s=this.styleBuilder,u=s.shouldCache,l=this.styleCache.get(e);(!l||!u)&&(l=s.buildStyles(e,t),u&&this.styleCache.set(e,l)),this.mru=(0,v.A)({},l),this.applyStyleToElement(l),s.sideEffect(e,l,t)}},{key:"clearStyles",value:function(){var e=this;Object.keys(this.mru).forEach(function(t){e.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var s=this.styler.getFlowDirection(e),u=(0,k.A)(s,2),l=u[0];if(!u[1]&&t){var p=te(l);this.styler.applyStyleToElements(p,[e])}return l.trim()}return"row"}},{key:"hasWrap",value:function(e){return this.styler.hasWrap(e)}},{key:"applyStyleToElement",value:function(e,t){this.styler.applyStyleToElement(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement,e,t)}},{key:"setValue",value:function(e,t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,t)}},{key:"updateWithValue",value:function(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ze),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject(mt))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature]}),o}();function sr(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",e=[r,n,o],t=o.indexOf("calc");if(t>0){e[2]=qn(o.substring(t).trim());var s=o.substr(0,t).trim().split(" ");2==s.length&&(e[0]=s[0],e[1]=s[1])}else if(0==t)e[2]=qn(o.trim());else{var u=o.split(" ");e=3===u.length?u:[r,n,o]}return e}function qn(o){return o.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;var hr=b(6724),cn=(b(33253),b(33900)),ri=function(){var o=function(r){function n(e,t,s,u,l,d,p){var g;return(0,h.A)(this,n),(g=(0,F.A)(this,n,[e,null,t,s])).ngClassInstance=p,g.DIRECTIVE_KEY="ngClass",g.ngClassInstance||(g.ngClassInstance=new y.NgClass(u,l,e,d)),g.init(),g.setValue("",""),g}return(0,w.A)(n,r),(0,m.A)(n,[{key:"klass",set:function(t){this.ngClassInstance.klass=t,this.setValue(t,"")}},{key:"updateWithValue",value:function(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject(mt),a.\u0275\u0275directiveInject(a.IterableDiffers),a.\u0275\u0275directiveInject(a.KeyValueDiffers),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(y.NgClass,10))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,inputs:{klass:[0,"class","klass"]},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),vi=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],za=function(){var o=function(r){function n(){var e;return(0,h.A)(this,n),(e=(0,F.A)(this,n,arguments)).inputs=vi,e}return(0,w.A)(n,r),(0,m.A)(n)}(ri);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),Ou=(0,m.A)(function o(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,h.A)(this,o),this.key=r,this.value=n,this.key=e?r.replace(/['"]/g,"").trim():r.trim(),this.value=e?n.replace(/['"]/g,"").trim():n.trim(),this.value=this.value.replace(/;/,"")});function _s(o){var r=typeof o;return"object"===r?o.constructor===Array?"array":o.constructor===Set?"set":"object":r}function D(o){var r=o.split(":"),n=(0,hr.A)(r),e=n[0],t=n.slice(1);return new Ou(e,t.join(":"))}function O(o,r){return r.key&&(o[r.key]=r.value),o}var H=function(){var o=function(r){function n(e,t,s,u,l,d,p,g,_){var S,I;(0,h.A)(this,n),(I=(0,F.A)(this,n,[e,null,t,s])).sanitizer=u,I.ngStyleInstance=p,I.DIRECTIVE_KEY="ngStyle",I.ngStyleInstance||(I.ngStyleInstance=new y.NgStyle(e,l,d)),I.init();var B=null!==(S=I.nativeElement.getAttribute("style"))&&void 0!==S?S:"";return I.fallbackStyles=I.buildStyleMap(B),I.isServer=g&&(0,y.isPlatformServer)(_),I}return(0,w.A)(n,r),(0,m.A)(n,[{key:"updateWithValue",value:function(t){var s=this.buildStyleMap(t);this.ngStyleInstance.ngStyle=(0,v.A)((0,v.A)({},this.fallbackStyles),s),this.isServer&&this.applyStyleToElement(s),this.ngStyleInstance.ngDoCheck()}},{key:"clearStyles",value:function(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}},{key:"buildStyleMap",value:function(t){var s=this,u=function(d){var p;return null!==(p=s.sanitizer.sanitize(a.SecurityContext.STYLE,d))&&void 0!==p?p:""};if(t)switch(_s(t)){case"string":return _e(function Bu(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";return String(o).trim().split(r).map(function(n){return n.trim()}).filter(function(n){return""!==n})}(t),u);case"array":return _e(t,u);default:return function C(o,r){var n=[];return"set"===_s(o)?o.forEach(function(e){return n.push(e)}):Object.keys(o).forEach(function(e){n.push("".concat(e,":").concat(o[e]))}),function x(o,r){return o.map(D).filter(function(e){return!!e}).map(function(t){return r&&(t.value=r(t.value)),t}).reduce(O,{})}(n,r)}(t,u)}return{}}},{key:"ngDoCheck",value:function(){this.ngStyleInstance.ngDoCheck()}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject(mt),a.\u0275\u0275directiveInject(M.DomSanitizer),a.\u0275\u0275directiveInject(a.KeyValueDiffers),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(y.NgStyle,10),a.\u0275\u0275directiveInject(Ze),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),J=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"],Ae=function(){var o=function(r){function n(){var e;return(0,h.A)(this,n),(e=(0,F.A)(this,n,arguments)).inputs=J,e}return(0,w.A)(n,r),(0,m.A)(n)}(H);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}();function _e(o,r){return o.map(D).filter(function(e){return!!e}).map(function(t){return r&&(t.value=r(t.value)),t}).reduce(O,{})}var Fe=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Ie]}),o}(),c=b(40642),Ne=b(792),He=b(69009),Je=function(){var o=function(r){function n(){return(0,h.A)(this,n),(0,F.A)(this,n,arguments)}return(0,w.A)(n,r),(0,m.A)(n,[{key:"buildStyles",value:function(t,s){var u=s.display,l=te(t);return(0,v.A)((0,v.A)({},l),{},{display:"none"===u?u:l.display})}}])}(ze);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),rt=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],he=function(){var o=function(r){function n(e,t,s,u,l){var d;return(0,h.A)(this,n),(d=(0,F.A)(this,n,[e,s,t,u]))._config=l,d.DIRECTIVE_KEY="layout",d.init(),d}return(0,w.A)(n,r),(0,m.A)(n,[{key:"updateWithValue",value:function(t){var s,l=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(s=Oe.get(l))&&void 0!==s?s:new Map,Oe.set(l,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:l}),this.currentValue=t)}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject(Je),a.\u0275\u0275directiveInject(mt),a.\u0275\u0275directiveInject(Xe))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),Re=function(){var o=function(r){function n(){var e;return(0,h.A)(this,n),(e=(0,F.A)(this,n,arguments)).inputs=rt,e}return(0,w.A)(n,r),(0,m.A)(n)}(he);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),Oe=new Map,Nr=function(){var o=function(r){function n(e){var t;return(0,h.A)(this,n),(t=(0,F.A)(this,n)).layoutConfig=e,t}return(0,w.A)(n,r),(0,m.A)(n,[{key:"buildStyles",value:function(t,s){var u=t.split(" "),l=(0,hr.A)(u),d=l[0],p=l[1],_=l.slice(2).join(" "),S=s.direction.indexOf("column")>-1?"column":"row",I=j(S)?"max-width":"max-height",B=j(S)?"min-width":"min-height",$=String(_).indexOf("calc")>-1,Y=$||"auto"===_,le=String(_).indexOf("%")>-1&&!$,ge=String(_).indexOf("px")>-1||String(_).indexOf("rem")>-1||String(_).indexOf("em")>-1||String(_).indexOf("vw")>-1||String(_).indexOf("vh")>-1,be=$||ge;p="0"==p?0:p;var me=!(d="0"==d?0:d)&&!p,ke={},qe={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(_||""){case"":_="row"===S?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":d=0,_="auto";break;case"grow":_="100%";break;case"noshrink":p=0,_="auto";break;case"auto":break;case"none":d=0,p=0,_="auto";break;default:!be&&!le&&!isNaN(_)&&(_+="%"),"0%"===_&&(be=!0),"0px"===_&&(_="0%"),ke=ne(qe,$?{"flex-grow":d,"flex-shrink":p,"flex-basis":be?_:"100%"}:{flex:"".concat(d," ").concat(p," ").concat(be?_:"100%")})}return ke.flex||ke["flex-grow"]||(ke=ne(qe,$?{"flex-grow":d,"flex-shrink":p,"flex-basis":_}:{flex:"".concat(d," ").concat(p," ").concat(_)})),"0%"!==_&&"0px"!==_&&"0.000000001px"!==_&&"auto"!==_&&(ke[B]=me||be&&d?_:null,ke[I]=me||!Y&&p?_:null),ke[B]||ke[I]?s.hasWrap&&(ke[$?"flex-basis":"flex"]=ke[I]?$?ke[I]:"".concat(d," ").concat(p," ").concat(ke[I]):$?ke[B]:"".concat(d," ").concat(p," ").concat(ke[B])):ke=ne(qe,$?{"flex-grow":d,"flex-shrink":p,"flex-basis":_}:{flex:"".concat(d," ").concat(p," ").concat(_)}),ne(ke,{"box-sizing":"border-box"})}}])}(ze);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(Xe))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Qr=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],bs=function(){var o=function(r){function n(e,t,s,u,l){var d;return(0,h.A)(this,n),(d=(0,F.A)(this,n,[e,u,t,l])).layoutConfig=s,d.marshal=l,d.DIRECTIVE_KEY="flex",d.direction=void 0,d.wrap=void 0,d.flexGrow="1",d.flexShrink="1",d.init(),d}return(0,w.A)(n,r),(0,m.A)(n,[{key:"shrink",get:function(){return this.flexShrink},set:function(t){this.flexShrink=t||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(t){this.flexGrow=t||"1",this.triggerReflow()}},{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,cn.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,cn.Q)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(t){var u=t.value.split(" ");this.direction=u[0],this.wrap=void 0!==u[1]&&"wrap"===u[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var u=this.direction,l=u.startsWith("row"),d=this.wrap;l&&d?this.styleCache=sc:l&&!d?this.styleCache=As:!l&&d?this.styleCache=Cs:!l&&!d&&(this.styleCache=Ko);var g=sr(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(g.join(" "),{direction:u,hasWrap:d})}},{key:"triggerReflow",value:function(){var t=this.activatedValue;if(void 0!==t){var s=sr(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}])}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject(Xe),a.\u0275\u0275directiveInject(Nr),a.\u0275\u0275directiveInject(mt))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,inputs:{shrink:[0,"fxShrink","shrink"],grow:[0,"fxGrow","grow"]},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),ai=function(){var o=function(r){function n(){var e;return(0,h.A)(this,n),(e=(0,F.A)(this,n,arguments)).inputs=Qr,e}return(0,w.A)(n,r),(0,m.A)(n)}(bs);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),As=new Map,Ko=new Map,sc=new Map,Cs=new Map,zE={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},$E=function(){var o=function(r){function n(){return(0,h.A)(this,n),(0,F.A)(this,n,arguments)}return(0,w.A)(n,r),(0,m.A)(n,[{key:"buildStyles",value:function(t){return zE}}])}(ze);return o.\u0275fac=function(){var r;return function(e){return(r||(r=a.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),ju=function(){var o=function(r){function n(e,t,s,u){var l;return(0,h.A)(this,n),(l=(0,F.A)(this,n,[e,s,t,u])).styleCache=HE,l.addStyles(""),l}return(0,w.A)(n,r),(0,m.A)(n)}(gt);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ye),a.\u0275\u0275directiveInject($E),a.\u0275\u0275directiveInject(mt))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","fxFill",""],["","fxFlexFill",""]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature]}),o}(),HE=new Map,Jy=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Ie,He.BidiModule]}),o}(),s0=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Ie]}),o}(),dc=function(){var o=function(){function r(n,e){(0,h.A)(this,r),(0,y.isPlatformServer)(e)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return(0,m.A)(r,null,[{key:"withConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:r,providers:e.serverLoaded?[{provide:Xe,useValue:(0,v.A)((0,v.A)({},Be),e)},{provide:ot,useValue:t,multi:!0},{provide:Ze,useValue:!0}]:[{provide:Xe,useValue:(0,v.A)((0,v.A)({},Be),e)},{provide:ot,useValue:t,multi:!0}]}}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275inject(Ze),a.\u0275\u0275inject(a.PLATFORM_ID))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Jy,Fe,s0,Jy,Fe,s0]}),o}(),Ew=function(r){return["segment",r]},Dw=function(r,n){return{"segment-main":!0,expandable:r,expanded:n}};function ww(o,r){1&o&&a.\u0275\u0275element(0,"div",9)}function Fw(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.description)}}function kw(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"section",11),a.\u0275\u0275element(1,"ngx-json-viewer",12),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("json",n.value)("expanded",e.expanded)("depth",e.depth)("_currentDepth",e._currentDepth+1)}}function Pw(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"section",2)(1,"section",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).$implicit,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.toggle(u))}),a.\u0275\u0275template(2,ww,1,0,"div",4),a.\u0275\u0275elementStart(3,"span",5),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"span",6),a.\u0275\u0275text(6,": "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,Fw,2,1,"span",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,kw,2,4,"section",8),a.\u0275\u0275elementEnd()}if(2&o){var e=r.$implicit,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(6,Ew,"segment-type-"+e.type)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction2(8,Dw,t.isExpandable(e),e.expanded)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.isExpandable(e)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.key),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!e.expanded||!t.isExpandable(e)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.expanded&&t.isExpandable(e))}}var Iw=function(){var o=function(){return(0,m.A)(function r(){(0,h.A)(this,r),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]},[{key:"ngOnChanges",value:function(){var e=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(t){e.segments.push(e.parseKeyValue(t,e.json[t]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(e){return"object"===e.type||"array"===e.type}},{key:"toggle",value:function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}},{key:"parseKeyValue",value:function(e,t){var s={key:e,value:t,type:void 0,description:""+t,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(e){var t=new WeakMap;return function s(u,l){var d,p;return"object"!=typeof u||null===u||u instanceof Boolean||u instanceof Date||u instanceof Number||u instanceof RegExp||u instanceof String?u:void 0!==(d=t.get(u))?{$ref:d}:(t.set(u,l),Array.isArray(u)?(p=[],u.forEach(function(g,_){p[_]=s(g,l+"["+_+"]")})):(p={},Object.keys(u).forEach(function(g){p[g]=s(u[g],l+"["+JSON.stringify(g)+"]")})),p)}(e,"$")}}])}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click","ngClass"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(n,e){1&n&&(a.\u0275\u0275elementStart(0,"section",0),a.\u0275\u0275template(1,Pw,9,11,"section",1),a.\u0275\u0275elementEnd()),2&n&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",e.segments))},dependencies:[y.NgClass,y.NgForOf,y.NgIf,o],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),o}(),Fd=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),o}(),Ke=b(11),Mt=b(81890),Rw=function(o){function r(n,e){var t;return(0,h.A)(this,r),(t=(0,F.A)(this,r,[n,e])).scheduler=n,t.work=e,t}return(0,w.A)(r,o),(0,m.A)(r,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?(0,Ne.A)(r,"schedule",this,3)([e,t]):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?(0,Ne.A)(r,"execute",this,3)([e,t]):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=s&&s>0||null==s&&this.delay>0?(0,Ne.A)(r,"requestAsyncId",this,3)([e,t,s]):(e.flush(this),0)}}])}(b(90428).R),Nw=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(b(9576).q),u0=new Nw(Rw),l0=b(74304),Ds=b(50819),ji=b(91687),ws=b(82645),Vw=b(1440),Ow=b(54318),c0=b(4083);function oi(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=(0,c0.ms)(r);return(0,Ds.N)(function(t,s){for(var u=r.length,l=new Array(u),d=r.map(function(){return!1}),p=!1,g=function(I){(0,ws.Tg)(r[I]).subscribe((0,ji._)(s,function(B){l[I]=B,!p&&!d[I]&&(d[I]=!0,(p=d.every(Vw.D))&&(d=null))},Ow.l))},_=0;_<u;_++)g(_);t.subscribe((0,ji._)(s,function(S){if(p){var I=[S].concat(l);s.next(e?e.apply(void 0,(0,A.A)(I)):I)}}))})}var kd=b(32112),fe=b(70271);function Bw(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=r.length;if(0===e)throw new Error("list of properties cannot be empty.");return(0,fe.T)(function(t){for(var s=t,u=0;u<e;u++){var l=s?.[r[u]];if(!(typeof l<"u"))return;s=l}return s})}var Co=b(91817),rm=b(98231),pc={};function Ha(o,r){if(pc[o]=(pc[o]||0)+1,"function"==typeof r)return am(o,function(){return(0,v.A)((0,v.A)({},r.apply(void 0,arguments)),{},{type:o})});switch(r?r._as:"empty"){case"empty":return am(o,function(){return{type:o}});case"props":return am(o,function(e){return(0,v.A)((0,v.A)({},e),{},{type:o})});default:throw new Error("Unexpected config.")}}function am(o,r){return Object.defineProperty(r,"type",{value:o,writable:!1})}var Pd="@ngrx/store/init",xo=function(){var o,r=function(n){function e(){return(0,h.A)(this,e),(0,F.A)(this,e,[{type:Pd}])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"next",value:function(s){if("function"==typeof s)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof s>"u")throw new TypeError("Actions must be objects");if(typeof s.type>"u")throw new TypeError("Actions must have a type property");(0,Ne.A)(e,"next",this,3)([s])}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){(0,Ne.A)(e,"complete",this,3)([])}}])}(R.t);return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),zw=[xo],om=new a.InjectionToken("@ngrx/store Internal Root Guard"),d0=new a.InjectionToken("@ngrx/store Internal Initial State"),Id=new a.InjectionToken("@ngrx/store Initial State"),p0=new a.InjectionToken("@ngrx/store Reducer Factory"),f0=new a.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),m0=new a.InjectionToken("@ngrx/store Initial Reducers"),sm=new a.InjectionToken("@ngrx/store Internal Initial Reducers"),g0=new a.InjectionToken("@ngrx/store Store Features"),h0=new a.InjectionToken("@ngrx/store Internal Store Reducers"),um=new a.InjectionToken("@ngrx/store Internal Feature Reducers"),v0=new a.InjectionToken("@ngrx/store Internal Feature Configs"),lm=new a.InjectionToken("@ngrx/store Internal Store Features"),y0=new a.InjectionToken("@ngrx/store Internal Feature Reducers Token"),cm=new a.InjectionToken("@ngrx/store Feature Reducers"),_0=new a.InjectionToken("@ngrx/store User Provided Meta Reducers"),Td=new a.InjectionToken("@ngrx/store Meta Reducers"),b0=new a.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),A0=new a.InjectionToken("@ngrx/store User Runtime Checks Config"),C0=new a.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),Uu=new a.InjectionToken("@ngrx/store Internal Runtime Checks"),fc=new a.InjectionToken("@ngrx/store Check if Action types are unique"),dm=new a.InjectionToken("@ngrx/store Root Store Provider"),x0=new a.InjectionToken("@ngrx/store Feature State Provider");function Rd(o){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(o),e={},t=0;t<n.length;t++){var s=n[t];"function"==typeof o[s]&&(e[s]=o[s])}var u=Object.keys(e);return function(d,p){d=void 0===d?r:d;for(var g=!1,_={},S=0;S<u.length;S++){var I=u[S],$=d[I],Y=(0,e[I])($,p);_[I]=Y,g=g||Y!==$}return g?_:d}}function pm(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return function(e){if(0===r.length)return e;var t=r[r.length-1];return r.slice(0,-1).reduceRight(function(u,l){return l(u)},t(e))}}function S0(o,r){return Array.isArray(r)&&r.length>0&&(o=pm.apply(null,[].concat((0,A.A)(r),[o]))),function(n,e){var t=o(n);return function(s,u){return t(s=void 0===s?e:s,u)}}}var mc=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(L.c),fm=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(xo),mm="@ngrx/store/update-reducers",Gu=function(){var o,r=function(n){function e(t,s,u,l){var d;return(0,h.A)(this,e),(d=(0,F.A)(this,e,[l(u,s)])).dispatcher=t,d.initialState=s,d.reducers=u,d.reducerFactory=l,d}return(0,w.A)(e,n),(0,m.A)(e,[{key:"currentReducers",get:function(){return this.reducers}},{key:"addFeature",value:function(s){this.addFeatures([s])}},{key:"addFeatures",value:function(s){var u=s.reduce(function(l,d){var p=d.reducers,g=d.reducerFactory,_=d.metaReducers,S=d.initialState,I=d.key,B="function"==typeof p?function Hw(o){var r=Array.isArray(o)&&o.length>0?pm.apply(void 0,(0,A.A)(o)):function(n){return n};return function(n,e){return n=r(n),function(t,s){return n(t=void 0===t?e:t,s)}}}(_)(p,S):S0(g,_)(p,S);return l[I]=B,l},{});this.addReducers(u)}},{key:"removeFeature",value:function(s){this.removeFeatures([s])}},{key:"removeFeatures",value:function(s){this.removeReducers(s.map(function(u){return u.key}))}},{key:"addReducer",value:function(s,u){this.addReducers((0,c.A)({},s,u))}},{key:"addReducers",value:function(s){this.reducers=(0,v.A)((0,v.A)({},this.reducers),s),this.updateReducers(Object.keys(s))}},{key:"removeReducer",value:function(s){this.removeReducers([s])}},{key:"removeReducers",value:function(s){var u=this;s.forEach(function(l){u.reducers=function $w(o,r){return Object.keys(o).filter(function(n){return n!==r}).reduce(function(n,e){return Object.assign(n,(0,c.A)({},e,o[e]))},{})}(u.reducers,l)}),this.updateReducers(s)}},{key:"updateReducers",value:function(s){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:mm,features:s})}},{key:"ngOnDestroy",value:function(){this.complete()}}])}(R.t);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fm),a.\u0275\u0275inject(Id),a.\u0275\u0275inject(m0),a.\u0275\u0275inject(p0))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Kw=[Gu,{provide:mc,useExisting:Gu},{provide:fm,useExisting:xo}],Qo=function(){var o,r=function(n){function e(){return(0,h.A)(this,e),(0,F.A)(this,e,arguments)}return(0,w.A)(e,n),(0,m.A)(e,[{key:"ngOnDestroy",value:function(){this.complete()}}])}(T.B);return(o=r).\u0275fac=function(){var n;return function(t){return(n||(n=a.\u0275\u0275getInheritedFactory(o)))(t||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),qw=[Qo],gm=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(L.c),E0=function(){var o,r=function(n){function e(t,s,u,l){var d;(0,h.A)(this,e),d=(0,F.A)(this,e,[l]);var S=t.pipe((0,l0.Q)(u0)).pipe(oi(s)).pipe((0,kd.S)(Ww,{state:l}));return d.stateSubscription=S.subscribe(function(I){var $=I.action;d.next(I.state),u.next($)}),d.state=(0,rm.toSignal)(d,{manualCleanup:!0,requireSync:!0}),d}return(0,w.A)(e,n),(0,m.A)(e,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}])}(R.t);return(o=r).INIT=Pd,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(xo),a.\u0275\u0275inject(mc),a.\u0275\u0275inject(Qo),a.\u0275\u0275inject(Id))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function Ww(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},n=(0,k.A)(arguments.length>1?arguments[1]:void 0,2),e=n[0];return{state:(0,n[1])(o.state,e),action:e}}var Qw=[E0,{provide:gm,useExisting:E0}],Ir=function(){var o,r=function(n){function e(t,s,u,l){var d;return(0,h.A)(this,e),(d=(0,F.A)(this,e)).actionsObserver=s,d.reducerManager=u,d.injector=l,d.source=t,d.state=t.state,d}return(0,w.A)(e,n),(0,m.A)(e,[{key:"select",value:function(s){for(var u=arguments.length,l=new Array(u>1?u-1:0),d=1;d<u;d++)l[d-1]=arguments[d];return wr.call.apply(wr,[null,s].concat(l))(this)}},{key:"selectSignal",value:function(s,u){var l=this;return(0,a.computed)(function(){return s(l.state())},u)}},{key:"lift",value:function(s){var u=new e(this,this.actionsObserver,this.reducerManager);return u.operator=s,u}},{key:"dispatch",value:function(s,u){if("function"==typeof s)return this.processDispatchFn(s,u);this.actionsObserver.next(s)}},{key:"next",value:function(s){this.actionsObserver.next(s)}},{key:"error",value:function(s){this.actionsObserver.error(s)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(s,u){this.reducerManager.addReducer(s,u)}},{key:"removeReducer",value:function(s){this.reducerManager.removeReducer(s)}},{key:"processDispatchFn",value:function(s,u){var l,d,p=this;!function jw(o,r){if(null==o)throw new Error("".concat(r," must be defined."))}(this.injector,"Store Injector");var g=null!==(l=null!==(d=u?.injector)&&void 0!==d?d:function Yw(){try{return(0,a.inject)(a.Injector)}catch{return}}())&&void 0!==l?l:this.injector;return(0,a.effect)(function(){var _=s();(0,a.untracked)(function(){return p.dispatch(_)})},{injector:g})}}])}(L.c);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gm),a.\u0275\u0275inject(xo),a.\u0275\u0275inject(Gu),a.\u0275\u0275inject(a.Injector))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Xw=[Ir];function wr(o,r){for(var n=arguments.length,e=new Array(n>2?n-2:0),t=2;t<n;t++)e[t-2]=arguments[t];return function(u){var l;if("string"==typeof o){var d=[r].concat(e).filter(Boolean);l=u.pipe(Bw.apply(void 0,[o].concat((0,A.A)(d))))}else{if("function"!=typeof o)throw new TypeError("Unexpected type '".concat(typeof o,"' in select operator,")+" expected 'string' or 'function'");l=u.pipe((0,fe.T)(function(p){return o(p,r)}))}return l.pipe((0,Co.F)())}}var hm="https://ngrx.io/guide/store/configuration/runtime-checks";function D0(o){return void 0===o}function w0(o){return null===o}function F0(o){return Array.isArray(o)}function k0(o){return"object"==typeof o&&null!==o}function vm(o){return"function"==typeof o}function ym(o,r){return o===r}function _m(o){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ym,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ym,e=null,t=null;return{memoized:function p(){if(void 0!==s)return s.result;if(!e)return t=o.apply(null,arguments),e=arguments,t;if(!function a2(o,r,n){for(var e=0;e<o.length;e++)if(!n(o[e],r[e]))return!0;return!1}(arguments,e,r))return t;var g=o.apply(null,arguments);return e=arguments,n(t,g)?t:(t=g,g)},reset:function u(){e=null,t=null},setResult:function l(){s={result:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},clearResult:function d(){s=void 0}}}function Fn(){return function s2(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:o2};return function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var s=e;if(Array.isArray(s[0])){var l=(0,hr.A)(s),d=l[0],p=l.slice(1);s=[].concat((0,A.A)(d),(0,A.A)(p))}else 1===s.length&&function u2(o){return!!o&&"object"==typeof o&&Object.values(o).every(function(r){return"function"==typeof r})}(s[0])&&(s=function l2(o){var r=Object.values(o),n=Object.keys(o);return[].concat(r,[function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return n.reduce(function(d,p,g){return(0,v.A)((0,v.A)({},d),{},(0,c.A)({},p,u[g]))},{})}])}(s[0]));var g=s.slice(0,s.length-1),_=s[s.length-1],S=g.filter(function(Y){return Y.release&&"function"==typeof Y.release}),I=o(function(){for(var Y=arguments.length,le=new Array(Y),ge=0;ge<Y;ge++)le[ge]=arguments[ge];return _.apply(null,le)}),B=_m(function(Y,le){return r.stateFn.apply(null,[Y,g,le,I])});return Object.assign(B.memoized,{release:function $(){B.reset(),I.reset(),S.forEach(function(Y){return Y.release()})},projector:I.memoized,setResult:B.setResult,clearResult:B.clearResult})}}(_m).apply(void 0,arguments)}function o2(o,r,n,e){if(void 0===n){var t=r.map(function(u){return u(o)});return e.memoized.apply(null,t)}var s=r.map(function(u){return u(o,n)});return e.memoized.apply(null,[].concat((0,A.A)(s),[n]))}function gc(o){return Fn(function(r){var n=r[o];return(0,a.isDevMode)()&&!(o in r)&&console.warn('@ngrx/store: The feature name "'.concat(o,'" does ')+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+"using StoreModule.forRoot('".concat(o,"', ...) or ")+"StoreModule.forFeature('".concat(o,"', ...).  If the default ")+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),n},function(r){return r})}function p2(o){return o instanceof a.InjectionToken?(0,a.inject)(o):o}function f2(o,r){return r.map(function(n,e){if(o[e]instanceof a.InjectionToken){var t=(0,a.inject)(o[e]);return{key:n.key,reducerFactory:t.reducerFactory?t.reducerFactory:Rd,metaReducers:t.metaReducers?t.metaReducers:[],initialState:t.initialState}}return n})}function m2(o){return o.map(function(r){return r instanceof a.InjectionToken?(0,a.inject)(r):r})}function bm(o){return"function"==typeof o?o():o}function g2(o,r){return o.concat(r)}function h2(){if((0,a.inject)(Ir,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Am(o){Object.freeze(o);var r=vm(o);return Object.getOwnPropertyNames(o).forEach(function(n){if(!n.startsWith("\u0275")&&function r2(o,r){return Object.prototype.hasOwnProperty.call(o,r)}(o,n)&&(!r||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var e=o[n];(k0(e)||vm(e))&&!Object.isFrozen(e)&&Am(e)}}),o}function Cm(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(D0(o)||w0(o))&&0===r.length?{path:["root"],value:o}:Object.keys(o).reduce(function(e,t){if(e)return e;var s=o[t];return function n2(o){return vm(o)&&o.hasOwnProperty("\u0275cmp")}(s)?e:!(D0(s)||w0(s)||function e2(o){return"number"==typeof o}(s)||function Zw(o){return"boolean"==typeof o}(s)||function Jw(o){return"string"==typeof o}(s)||F0(s))&&(function P0(o){if(!function t2(o){return k0(o)&&!F0(o)}(o))return!1;var r=Object.getPrototypeOf(o);return r===Object.prototype||null===r}(s)?Cm(s,[].concat((0,A.A)(r),[t])):{path:[].concat((0,A.A)(r),[t]),value:s})},!1)}function R0(o,r){if(!1!==o){var n=o.path.join("."),e=new Error("Detected unserializable ".concat(r,' at "').concat(n,'". ').concat(hm,"#strict").concat(r,"serializability"));throw e.value=o.value,e.unserializablePath=n,e}}function b2(o){return(0,a.isDevMode)()?(0,v.A)({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},o):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function A2(o){var r=o.strictActionSerializability,n=o.strictStateSerializability;return function(e){return r||n?function y2(o,r){return function(n,e){r.action(e)&&R0(Cm(e),"action");var s=o(n,e);return r.state()&&R0(Cm(s),"state"),s}}(e,{action:function(s){return r&&!xm(s)},state:function(){return n}}):e}}function C2(o){var r=o.strictActionImmutability,n=o.strictStateImmutability;return function(e){return r||n?function v2(o,r){return function(n,e){var t=r.action(e)?Am(e):e,s=o(n,t);return r.state()?Am(s):s}}(e,{action:function(s){return r&&!xm(s)},state:function(){return n}}):e}}function xm(o){return o.type.startsWith("@ngrx")}function x2(o){var r=o.strictActionWithinNgZone;return function(n){return r?function _2(o,r){return function(n,e){if(r.action(e)&&!a.NgZone.isInAngularZone())throw new Error("Action '".concat(e.type,"' running outside NgZone. ").concat(hm,"#strictactionwithinngzone"));return o(n,e)}}(n,{action:function(t){return r&&!xm(t)}}):n}}function S2(o){return[{provide:C0,useValue:o},{provide:A0,useFactory:E2,deps:[C0]},{provide:Uu,deps:[A0],useFactory:b2},{provide:Td,multi:!0,deps:[Uu],useFactory:C2},{provide:Td,multi:!0,deps:[Uu],useFactory:A2},{provide:Td,multi:!0,deps:[Uu],useFactory:x2}]}function M0(){return[{provide:fc,multi:!0,deps:[Uu],useFactory:D2}]}function E2(o){return o}function D2(o){if(o.strictActionTypeUniqueness){var r=Object.entries(pc).filter(function(n){return(0,k.A)(n,2)[1]>1}).map(function(n){return(0,k.A)(n,1)[0]});if(r.length)throw new Error("Action types are registered more than once, ".concat(r.map(function(n){return'"'.concat(n,'"')}).join(", "),". ").concat(hm,"#strictactiontypeuniqueness"))}}function N0(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{provide:om,useFactory:h2},{provide:d0,useValue:r.initialState},{provide:Id,useFactory:bm,deps:[d0]},{provide:sm,useValue:o},{provide:h0,useExisting:o instanceof a.InjectionToken?o:sm},{provide:m0,deps:[sm,[new a.Inject(h0)]],useFactory:p2},{provide:_0,useValue:r.metaReducers?r.metaReducers:[]},{provide:b0,deps:[Td,_0],useFactory:g2},{provide:f0,useValue:r.reducerFactory?r.reducerFactory:Rd},{provide:p0,deps:[f0,b0],useFactory:S0},zw,Kw,qw,Qw,Xw,S2(r.runtimeChecks),M0()]}function V0(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[{provide:v0,multi:!0,useValue:o instanceof Object?{}:n},{provide:g0,multi:!0,useValue:{key:o instanceof Object?o.name:o,reducerFactory:n instanceof a.InjectionToken||!n.reducerFactory?Rd:n.reducerFactory,metaReducers:n instanceof a.InjectionToken||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof a.InjectionToken||!n.initialState?void 0:n.initialState}},{provide:lm,deps:[v0,g0],useFactory:f2},{provide:um,multi:!0,useValue:o instanceof Object?o.reducer:r},{provide:y0,multi:!0,useExisting:r instanceof a.InjectionToken?r:um},{provide:cm,multi:!0,deps:[um,[new a.Inject(y0)]],useFactory:m2},M0()]}(0,a.provideEnvironmentInitializer)(function(){return(0,a.inject)(dm)}),(0,a.provideEnvironmentInitializer)(function(){return(0,a.inject)(x0)});var Md=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(xo),a.\u0275\u0275inject(mc),a.\u0275\u0275inject(Qo),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(om,8),a.\u0275\u0275inject(fc,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),Sm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.features=e,this.featureReducers=t,this.reducerManager=s;var d=e.map(function(p,g){var S=t.shift()[g];return(0,v.A)((0,v.A)({},p),{},{reducers:S,initialState:bm(p.initialState)})});s.addFeatures(d)},[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(lm),a.\u0275\u0275inject(cm),a.\u0275\u0275inject(Gu),a.\u0275\u0275inject(Md),a.\u0275\u0275inject(fc,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),Em=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},null,[{key:"forRoot",value:function(t,s){return{ngModule:Md,providers:(0,A.A)(N0(t,s))}}},{key:"forFeature",value:function(t,s){return{ngModule:Sm,providers:(0,A.A)(V0(t,s,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}();function hc(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return{reducer:r.pop(),types:r.map(function(s){return s.type})}}const O0={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var Nd,R2=new Uint8Array(16);function M2(){if(!Nd&&!(Nd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nd(R2)}for(var ha=[],Dm=0;Dm<256;++Dm)ha.push((Dm+256).toString(16).slice(1));const cr=function N2(o,r,n){if(O0.randomUUID&&!r&&!o)return O0.randomUUID();var e=(o=o||{}).random||(o.rng||M2)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,r){n=n||0;for(var t=0;t<16;++t)r[n+t]=e[t];return r}return function B0(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ha[o[r+0]]+ha[o[r+1]]+ha[o[r+2]]+ha[o[r+3]]+"-"+ha[o[r+4]]+ha[o[r+5]]+"-"+ha[o[r+6]]+ha[o[r+7]]+"-"+ha[o[r+8]]+ha[o[r+9]]+"-"+ha[o[r+10]]+ha[o[r+11]]+ha[o[r+12]]+ha[o[r+13]]+ha[o[r+14]]+ha[o[r+15]]}(e)};var Yn=b(52969),dr=b(81692),vc=b(18473),V2=b(15602),O2=b(32384),wm=b(20310),B2=(0,O2.L)(function(o){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Vd(o,r){var n=(0,V2.v)(o)?{first:o}:"number"==typeof o?{each:o}:o,e=n.first,t=n.each,s=n.with,u=void 0===s?L2:s,l=n.scheduler,d=void 0===l?r??vc.E:l,p=n.meta,g=void 0===p?null:p;if(null==e&&null==t)throw new TypeError("No timeout provided.");return(0,Ds.N)(function(_,S){var I,B,$=null,Y=0,le=function(be){B=(0,wm.N)(S,d,function(){try{I.unsubscribe(),(0,ws.Tg)(u({meta:g,lastValue:$,seen:Y})).subscribe(S)}catch(me){S.error(me)}},be)};I=_.subscribe((0,ji._)(S,function(ge){B?.unsubscribe(),Y++,S.next($=ge),t>0&&le(t)},void 0,void 0,function(){B?.closed||B?.unsubscribe(),$=null})),!Y&&le(null!=e?"number"==typeof e?e:+e-d.now():t)})}function L2(o){throw new B2(o)}var aa=b(61318),Ka=b(86301),pn=b(64334),Fs=b(1365),ks=b(51903),Ji=b(77919),Te=b(59452),j2=Array.isArray;function L0(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return r=function U2(o){return 1===o.length&&j2(o[0])?o[0]:o}(r),1===r.length?(0,ws.Tg)(r[0]):new L.c(function G2(o){return function(r){for(var n=[],e=function(u){n.push((0,ws.Tg)(o[u]).subscribe((0,ji._)(r,function(l){if(n){for(var d=0;d<n.length;d++)d!==u&&n[d].unsubscribe();n=null}r.next(l)})))},t=0;n&&!r.closed&&t<o.length;t++)e(t)}}(r))}var on=function(o){return o[o.EntitiesOnly=0]="EntitiesOnly",o[o.Both=1]="Both",o[o.None=2]="None",o}(on||{});function vr(o){return function(n,e){var t={ids:(0,A.A)(e.ids),entities:(0,v.A)({},e.entities)},s=o(n,t);return s===on.Both?Object.assign({},e,t):s===on.EntitiesOnly?(0,v.A)((0,v.A)({},e),{},{entities:t.entities}):e}}function So(o,r){var n=r(o);return(0,a.isDevMode)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",o,"The `selectId` implementation:",r.toString()),n}function j0(o){function r(Y,le){var ge=So(Y,o);return ge in le.entities?on.None:(le.ids.push(ge),le.entities[ge]=Y,on.Both)}function n(Y,le){var me,ge=!1,be=(0,N.A)(Y);try{for(be.s();!(me=be.n()).done;)ge=r(me.value,le)!==on.None||ge}catch(qe){be.e(qe)}finally{be.f()}return ge?on.Both:on.None}function t(Y,le){var ge=So(Y,o);return ge in le.entities?(le.entities[ge]=Y,on.EntitiesOnly):(le.ids.push(ge),le.entities[ge]=Y,on.Both)}function l(Y,le){var be=(Y instanceof Array?Y:le.ids.filter(function(me){return Y(le.entities[me])})).filter(function(me){return me in le.entities}).map(function(me){return delete le.entities[me]}).length>0;return be&&(le.ids=le.ids.filter(function(me){return me in le.entities})),be?on.Both:on.None}function g(Y,le){return _([Y],le)}function _(Y,le){var ge={};if((Y=Y.filter(function(ke){return ke.id in le.entities})).length>0){var me=Y.filter(function(ke){return function p(Y,le,ge){var me=Object.assign({},ge.entities[le.id],le.changes),ke=So(me,o),qe=ke!==le.id;return qe&&(Y[le.id]=ke,delete ge.entities[le.id]),ge.entities[ke]=me,qe}(ge,ke,le)}).length>0;return me?(le.ids=le.ids.map(function(ke){return ge[ke]||ke}),on.Both):on.EntitiesOnly}return on.None}function $(Y,le){var ke,ge=[],be=[],me=(0,N.A)(Y);try{for(me.s();!(ke=me.n()).done;){var qe=ke.value,ct=So(qe,o);ct in le.entities?be.push({id:ct,changes:qe}):ge.push(qe)}}catch(Rt){me.e(Rt)}finally{me.f()}var it=_(be,le),dt=n(ge,le);switch(!0){case dt===on.None&&it===on.None:return on.None;case dt===on.Both||it===on.Both:return on.Both;default:return on.EntitiesOnly}}return{removeAll:function d(Y){return Object.assign({},Y,{ids:[],entities:{}})},addOne:vr(r),addMany:vr(n),setAll:vr(function e(Y,le){return le.ids=[],le.entities={},n(Y,le),on.Both}),setOne:vr(t),setMany:vr(function s(Y,le){var ge=Y.map(function(be){return t(be,le)});switch(!0){case ge.some(function(be){return be===on.Both}):return on.Both;case ge.some(function(be){return be===on.EntitiesOnly}):return on.EntitiesOnly;default:return on.None}}),updateOne:vr(g),updateMany:vr(_),upsertOne:vr(function B(Y,le){return $([Y],le)}),upsertMany:vr($),removeOne:vr(function u(Y,le){return l([Y],le)}),removeMany:vr(l),map:vr(function S(Y,le){return _(le.ids.reduce(function(me,ke){var qe=Y(le.entities[ke]);return qe!==le.entities[ke]&&me.push({id:ke,changes:qe}),me},[]).filter(function(me){return me.id in le.entities}),le)}),mapOne:vr(function I(Y,le){var be=Y.id,me=le.entities[be];return me?g({id:be,changes:(0,Y.map)(me)},le):on.None})}}function q2(){var o,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={selectId:null!==(o=n.selectId)&&void 0!==o?o:function(p){return p.id},sortComparer:null!==(r=n.sortComparer)&&void 0!==r&&r},t=e.selectId,s=e.sortComparer,u=function $2(){return{getInitialState:function o(){return Object.assign({ids:[],entities:{}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}}(),l=function H2(){return{getSelectors:function o(r){var n=function(l){return l.ids},e=function(l){return l.entities},t=Fn(n,e,function(u,l){return u.map(function(d){return l[d]})}),s=Fn(n,function(u){return u.length});return r?{selectIds:Fn(r,n),selectEntities:Fn(r,e),selectAll:Fn(r,t),selectTotal:Fn(r,s)}:{selectIds:n,selectEntities:e,selectAll:t,selectTotal:s}}}}(),d=s?function K2(o,r){var n=j0(o);function u(be,me){return l([be],me)}function l(be,me){var ke=be.filter(function(qe){return!(So(qe,o)in me.entities)});return 0===ke.length?on.None:(ge(ke,me),on.Both)}function p(be,me){var ke=So(be,o);return ke in me.entities?(me.ids=me.ids.filter(function(qe){return qe!==ke}),ge([be],me),on.Both):u(be,me)}function _(be,me){return I([be],me)}function I(be,me){var ke=[],qe=be.filter(function(dt){return function S(be,me,ke){if(!(me.id in ke.entities))return!1;var ct=Object.assign({},ke.entities[me.id],me.changes),it=So(ct,o);return delete ke.entities[me.id],be.push(ct),it!==me.id}(ke,dt,me)}).length>0;if(0===ke.length)return on.None;var ct=me.ids,it=[];return me.ids=me.ids.filter(function(dt,Rt){return dt in me.entities||(it.push(Rt),!1)}),ge(ke,me),!qe&&it.every(function(dt){return me.ids[dt]===ct[dt]})?on.EntitiesOnly:on.Both}function le(be,me){var it,ke=[],qe=[],ct=(0,N.A)(be);try{for(ct.s();!(it=ct.n()).done;){var dt=it.value,Rt=So(dt,o);Rt in me.entities?qe.push({id:Rt,changes:dt}):ke.push(dt)}}catch(yt){ct.e(yt)}finally{ct.f()}var Lt=I(qe,me),ft=l(ke,me);switch(!0){case ft===on.None&&Lt===on.None:return on.None;case ft===on.Both||Lt===on.Both:return on.Both;default:return on.EntitiesOnly}}function ge(be,me){be.sort(r);for(var ke=[],qe=0,ct=0;qe<be.length&&ct<me.ids.length;){var it=be[qe],dt=So(it,o),Rt=me.ids[ct];r(it,me.entities[Rt])<=0?(ke.push(dt),qe++):(ke.push(Rt),ct++)}me.ids=ke.concat(qe<be.length?be.slice(qe).map(o):me.ids.slice(ct)),be.forEach(function(ft,yt){me.entities[o(ft)]=ft})}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:vr(u),updateOne:vr(_),upsertOne:vr(function Y(be,me){return le([be],me)}),setAll:vr(function d(be,me){return me.entities={},me.ids=[],l(be,me),on.Both}),setOne:vr(p),setMany:vr(function g(be,me){var ke=be.map(function(qe){return p(qe,me)});switch(!0){case ke.some(function(qe){return qe===on.Both}):return on.Both;case ke.some(function(qe){return qe===on.EntitiesOnly}):return on.EntitiesOnly;default:return on.None}}),addMany:vr(l),updateMany:vr(I),upsertMany:vr(le),map:vr(function B(be,me){return I(me.ids.reduce(function(qe,ct){var it=be(me.entities[ct]);return it!==me.entities[ct]&&qe.push({id:ct,changes:it}),qe},[]),me)}),mapOne:vr(function $(be,me){var qe=be.id,ct=me.entities[qe];return ct?_({id:qe,changes:(0,be.map)(ct)},me):on.None})}}(t,s):j0(t);return(0,v.A)((0,v.A)((0,v.A)({selectId:t,sortComparer:s},u),l),d)}var W2=b(7242),U0=b(59400),Q2=b(81530),yc=function(){function o(r,n,e){(0,h.A)(this,o),this.kind=r,this.value=n,this.error=e,this.hasValue="N"===r}return(0,m.A)(o,[{key:"observe",value:function(n){return G0(this,n)}},{key:"do",value:function(n,e,t){var s=this.kind,u=this.value,l=this.error;return"N"===s?n?.(u):"E"===s?e?.(l):t?.()}},{key:"accept",value:function(n,e,t){var s;return(0,Q2.T)(null===(s=n)||void 0===s?void 0:s.next)?this.observe(n):this.do(n,e,t)}},{key:"toObservable",value:function(){var n=this.kind,t=this.error,s="N"===n?(0,Te.of)(this.value):"E"===n?(0,Ji.$)(function(){return t}):"C"===n?U0.w:0;if(!s)throw new TypeError("Unexpected notification kind ".concat(n));return s}}],[{key:"createNext",value:function(n){return new o("N",n)}},{key:"createError",value:function(n){return new o("E",void 0,n)}},{key:"createComplete",value:function(){return o.completeNotification}}])}();function G0(o,r){var n,e,t,s=o.kind,u=o.value,l=o.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=r.next)||void 0===n||n.call(r,u):"E"===s?null===(e=r.error)||void 0===e||e.call(r,l):null===(t=r.complete)||void 0===t||t.call(r)}function z0(o,r,n,e){return(0,Ds.N)(function(t,s){var u;r&&"function"!=typeof r?(n=r.duration,u=r.element,e=r.connector):u=r;var l=new Map,d=function($){l.forEach($),$(s)},p=function($){return d(function(Y){return Y.error($)})},g=0,_=!1,S=new ji.H(s,function(B){try{var $=o(B),Y=l.get($);if(!Y){l.set($,Y=e?e():new T.B);var le=function I(B,$){var Y=new L.c(function(le){g++;var ge=$.subscribe(le);return function(){ge.unsubscribe(),0===--g&&_&&S.unsubscribe()}});return Y.key=B,Y}($,Y);if(s.next(le),n){var ge=(0,ji._)(Y,function(){Y.complete(),ge?.unsubscribe()},void 0,void 0,function(){return l.delete($)});S.add((0,ws.Tg)(n(le)).subscribe(ge))}}Y.next(u?u(B):B)}catch(be){p(be)}},function(){return d(function(B){return B.complete()})},p,function(){return l.clear()},function(){return _=!0,0===g});t.subscribe(S)})}function $0(o,r){return r?function(n){return n.pipe($0(function(e,t){return(0,ws.Tg)(o(e,t)).pipe((0,fe.T)(function(s,u){return r(e,s,t,u)}))}))}:(0,Ds.N)(function(n,e){var t=0,s=null,u=!1;n.subscribe((0,ji._)(e,function(l){s||(s=(0,ji._)(e,void 0,function(){s=null,u&&e.complete()}),(0,ws.Tg)(o(l,t++)).subscribe(s))},function(){u=!0,!s&&e.complete()}))})}yc.completeNotification=new yc("C");var Z2={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Od="__@ngrx/effects_create__";function ui(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.functional?o:o(),e=(0,v.A)((0,v.A)({},Z2),r);return Object.defineProperty(n,Od,{value:e}),n}function K0(o){return Object.getPrototypeOf(o)}function Fm(o){return"function"==typeof o}function km(o){return o.filter(Fm)}function rF(o,r,n){var e=K0(o),s=e&&"Object"!==e.constructor.name?e.constructor.name:null,u=function H0(o){return function eF(o){return Object.getOwnPropertyNames(o).filter(function(e){return!(!o[e]||!o[e].hasOwnProperty(Od))&&o[e][Od].hasOwnProperty("dispatch")}).map(function(e){return(0,v.A)({propertyName:e},o[e][Od])})}(o)}(o).map(function(l){var d=l.propertyName,p=l.dispatch,g=l.useEffectsErrorHandler,_="function"==typeof o[d]?o[d]():o[d],S=g?n(_,r):_;if(!1===p)return S.pipe((0,W2.w)());var I=S.pipe(function Y2(){return(0,Ds.N)(function(o,r){o.subscribe((0,ji._)(r,function(n){r.next(yc.createNext(n))},function(){r.next(yc.createComplete()),r.complete()},function(n){r.next(yc.createError(n)),r.complete()}))})}());return I.pipe((0,fe.T)(function(B){return{effect:o[d],notification:B,propertyName:d,sourceName:s,sourceInstance:o}}))});return G.h.apply(void 0,(0,A.A)(u))}function q0(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return o.pipe((0,aa.W)(function(e){return r&&r.handleError(e),n<=1?o:q0(o,r,n-1)}))}var Ps=function(){var o,r=function(n){function e(t){var s;return(0,h.A)(this,e),s=(0,F.A)(this,e),t&&(s.source=t),s}return(0,w.A)(e,n),(0,m.A)(e,[{key:"lift",value:function(s){var u=new e;return u.source=this,u.operator=s,u}}])}(L.c);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Qo))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function Eo(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(0,z.p)(function(e){return r.some(function(t){return"string"==typeof t?t===e.type:t.type===e.type})})}var W0=new a.InjectionToken("@ngrx/effects Internal Root Guard"),Bd=new a.InjectionToken("@ngrx/effects User Provided Effects"),Pm=new a.InjectionToken("@ngrx/effects Internal Root Effects"),Q0=new a.InjectionToken("@ngrx/effects Internal Root Effects Instances"),X0=new a.InjectionToken("@ngrx/effects Internal Feature Effects"),Y0=new a.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),iF=new a.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:function(){return q0}}),J0="@ngrx/effects/init";function hF(o){return Im(o,"ngrxOnInitEffects")}function Im(o,r){return o&&r in o&&"function"==typeof o[r]}Ha(J0);var Ld=function(){var o,r=function(n){function e(t,s){var u;return(0,h.A)(this,e),(u=(0,F.A)(this,e)).errorHandler=t,u.effectsErrorHandler=s,u}return(0,w.A)(e,n),(0,m.A)(e,[{key:"addEffects",value:function(s){this.next(s)}},{key:"toActions",value:function(){var s=this;return this.pipe(z0(function(u){return function tF(o){return!!o.constructor&&"Object"!==o.constructor.name&&"Function"!==o.constructor.name}(u)?K0(u):u}),(0,Fs.Z)(function(u){return u.pipe(z0(vF))}),(0,Fs.Z)(function(u){var l=u.pipe($0(function(p){return function yF(o,r){return function(n){var e=rF(n,o,r);return function mF(o){return Im(o,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(e):e}}(s.errorHandler,s.effectsErrorHandler)(p)}),(0,fe.T)(function(p){return function sF(o,r){if("N"===o.notification.kind){var n=o.notification.value,e=!function uF(o){return"function"!=typeof o&&o&&o.type&&"string"==typeof o.type}(n);e&&r.handleError(new Error("Effect ".concat(function lF(o){var r=o.propertyName,e=o.sourceName,t="function"==typeof o.sourceInstance[r];return e?'"'.concat(e,".").concat(String(r)).concat(t?"()":"",'"'):'"'.concat(String(r),'()"')}(o)," dispatched an invalid action: ").concat(function cF(o){try{return JSON.stringify(o)}catch{return o}}(n))))}}(p,s.errorHandler),p.notification}),(0,z.p)(function(p){return"N"===p.kind&&null!=p.value}),function J2(){return(0,Ds.N)(function(o,r){o.subscribe((0,ji._)(r,function(n){return G0(n,r)}))})}()),d=u.pipe((0,pn.s)(1),(0,z.p)(hF),(0,fe.T)(function(p){return p.ngrxOnInitEffects()}));return(0,G.h)(l,d)}))}}])}(T.B);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(iF))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function vF(o){return function pF(o){return Im(o,"ngrxOnIdentifyEffects")}(o)?o.ngrxOnIdentifyEffects():""}var Tm=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.effectSources=e,this.store=t,this.effectsSubscription=null},[{key:"isStarted",get:function(){return!!this.effectsSubscription}},{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ld),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Z0=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p){(0,h.A)(this,n),this.sources=e,t.start();var _,g=(0,N.A)(u);try{for(g.s();!(_=g.n()).done;)e.addEffects(_.value)}catch(I){g.e(I)}finally{g.f()}s.dispatch({type:J0})},[{key:"addEffects",value:function(t){this.sources.addEffects(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ld),a.\u0275\u0275inject(Tm),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Q0),a.\u0275\u0275inject(Md,8),a.\u0275\u0275inject(Sm,8),a.\u0275\u0275inject(W0,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),_F=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n);var p,l=t.flat(),d=(0,N.A)(l);try{for(d.s();!(p=d.n()).done;)e.addEffects(p.value)}catch(_){d.e(_)}finally{d.f()}});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Z0),a.\u0275\u0275inject(Y0),a.\u0275\u0275inject(Md,8),a.\u0275\u0275inject(Sm,8))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),_c=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},null,[{key:"forFeature",value:function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];var l=s.flat(),d=km(l);return{ngModule:_F,providers:[d,{provide:X0,multi:!0,useValue:l},{provide:Bd,multi:!0,useValue:[]},{provide:Y0,multi:!0,useFactory:e_,deps:[X0,Bd]}]}}},{key:"forRoot",value:function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];var l=s.flat(),d=km(l);return{ngModule:Z0,providers:[d,{provide:Pm,useValue:[l]},{provide:W0,useFactory:bF},{provide:Bd,multi:!0,useValue:[]},{provide:Q0,useFactory:e_,deps:[Pm,Bd]}]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}();function e_(o,r){var t,n=[],e=(0,N.A)(o);try{for(e.s();!(t=e.n()).done;)n.push.apply(n,(0,A.A)(t.value))}catch(p){e.e(p)}finally{e.f()}var l,u=(0,N.A)(r);try{for(u.s();!(l=u.n()).done;)n.push.apply(n,(0,A.A)(l.value))}catch(p){u.e(p)}finally{u.f()}return n.map(function(p){return function nF(o){return o instanceof a.InjectionToken||Fm(o)}(p)?(0,a.inject)(p):p})}function bF(){var o=(0,a.inject)(Tm,{optional:!0,skipSelf:!0}),r=(0,a.inject)(Pm,{self:!0});if((1!==r.length||0!==r[0].length)&&o)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Is=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"create",value:function(t,s,u,l){var d="string"==typeof t?(0,v.A)((0,v.A)({},l||{}),{},{entityName:t,entityOp:s,data:u}):t;return this.createCore(d)}},{key:"createCore",value:function(t){var s=t.entityName,u=t.entityOp,l=t.tag;if(!s)throw new Error("Missing entity name for new action");if(null==u)throw new Error("Missing EntityOp for new action");return{type:this.formatActionType(u,l||s),payload:t}}},{key:"createFromAction",value:function(t,s){return this.create((0,v.A)((0,v.A)({},t.payload),s))}},{key:"formatActionType",value:function(t,s){return"[".concat(s,"] ").concat(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),t_=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),this.entityName=r,this.selectId=n},[{key:"mustBeEntity",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should have a single entity.");var t=this.selectId(e);return this.isNotKeyType(t)&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeEntities",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=e.selectId(s);if(e.isNotKeyType(l)){var d=", item ".concat(u+1,", does not have a valid entity key (id)");e.throwError(n,d)}}),t):this.throwError(n,"should be an array of entities")}},{key:"mustBeKey",value:function(n){var e=this.extractData(n);if(void 0===e)throw new Error("should be a single entity key");if(this.isNotKeyType(e))throw new Error("is not a valid key (id)");return e}},{key:"mustBeKeys",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){if(e.isNotKeyType(s)){var l="".concat(e.entityName," ', item ").concat(u+1,", is not a valid entity key (id)");e.throwError(n,l)}}),t):this.throwError(n,"should be an array of entity keys (id)")}},{key:"mustBeUpdate",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");var t=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(t)||this.isNotKeyType(u))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdates",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(n,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),t):this.throwError(n,"should be an array of entity updates")}},{key:"mustBeUpdateResponse",value:function(n){var e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");var t=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(t)||this.isNotKeyType(u))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdateResponses",value:function(n){var e=this,t=this.extractData(n);return Array.isArray(t)?(t.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(n,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),t):this.throwError(n,"should be an array of entity updates")}},{key:"extractData",value:function(n){return n.payload&&n.payload.data}},{key:"isNotKeyType",value:function(n){return"string"!=typeof n&&"number"!=typeof n}},{key:"throwError",value:function(n,e){throw new Error("".concat(this.entityName,' EntityAction guard for "').concat(n.type,'": payload ').concat(e))}}])}();function bc(o){return o?.id}function n_(o){if(null==o)return[];if(Array.isArray(o[0])){var n=(0,hr.A)(o),e=n[0],t=n.slice(1);o=[].concat((0,A.A)(e),(0,A.A)(t))}return o}function r_(o){return o=o||bc,function(n){var e=o(n);if(null==e)throw new Error("Primary key may not be null/undefined.");return n&&{id:e,changes:n}}}function jd(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=n_(r);switch(e.length){case 0:return(0,z.p)(function(s){return s.payload&&null!=s.payload.entityOp});case 1:var t=e[0];return(0,z.p)(function(s){return s.payload&&t===s.payload.entityOp});default:return(0,z.p)(function(s){var u=s.payload&&s.payload.entityOp;return u&&e.some(function(l){return l===u})})}}function Ud(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var e=n_(r);switch(e.length){case 0:return(0,z.p)(function(s){return s.payload&&null!=s.payload.entityName});case 1:var t=e[0];return(0,z.p)(function(s){return s.payload&&t===s.payload.entityName});default:return(0,z.p)(function(s){var u=s.payload&&s.payload.entityName;return!!u&&e.some(function(l){return l===u})})}}var qa=function(o){return o.Add="Add",o.Delete="Delete",o.Update="Update",o.Upsert="Upsert",o}(qa||{});function a_(o){var r=(o=o&&o.changes?o:{changes:[]}).changes.filter(function(n){return null!=n&&n.entities&&n.entities.length>0});return(0,v.A)((0,v.A)({},o),{},{changes:r})}new(function(){return(0,m.A)(function o(){(0,h.A)(this,o)},[{key:"add",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:qa.Add,entities:e}}},{key:"delete",value:function(n,e){var t=Array.isArray(e)?e:e?[e]:[];return{entityName:n,op:qa.Delete,entities:t}}},{key:"update",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:qa.Update,entities:e}}},{key:"upsert",value:function(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:qa.Upsert,entities:e}}}])}());var zr=function(o){return o[o.IgnoreChanges=0]="IgnoreChanges",o[o.PreserveChanges=1]="PreserveChanges",o[o.OverwriteChanges=2]="OverwriteChanges",o}(zr||{}),gr=function(o){return o.CLEAR_COLLECTIONS="@ngrx/data/entity-cache/clear-collections",o.LOAD_COLLECTIONS="@ngrx/data/entity-cache/load-collections",o.MERGE_QUERY_SET="@ngrx/data/entity-cache/merge-query-set",o.SET_ENTITY_CACHE="@ngrx/data/entity-cache/set-cache",o.SAVE_ENTITIES="@ngrx/data/entity-cache/save-entities",o.SAVE_ENTITIES_CANCEL="@ngrx/data/entity-cache/save-entities-cancel",o.SAVE_ENTITIES_CANCELED="@ngrx/data/entity-cache/save-entities-canceled",o.SAVE_ENTITIES_ERROR="@ngrx/data/entity-cache/save-entities-error",o.SAVE_ENTITIES_SUCCESS="@ngrx/data/entity-cache/save-entities-success",o}(gr||{}),CF=(0,m.A)(function o(r,n){(0,h.A)(this,o),this.type=gr.CLEAR_COLLECTIONS,this.payload={collections:r,tag:n}}),xF=(0,m.A)(function o(r,n){(0,h.A)(this,o),this.type=gr.LOAD_COLLECTIONS,this.payload={collections:r,tag:n}}),SF=(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.type=gr.MERGE_QUERY_SET,this.payload={querySet:r,mergeStrategy:null===n?zr.PreserveChanges:n,tag:e}}),EF=(0,m.A)(function o(r,n){(0,h.A)(this,o),this.cache=r,this.type=gr.SET_ENTITY_CACHE,this.payload={cache:r,tag:n}}),DF=(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.type=gr.SAVE_ENTITIES,e=e||{},r&&(r.tag=r.tag||e.tag),this.payload=(0,v.A)((0,v.A)({changeSet:r,url:n},e),{},{tag:r.tag})}),wF=(0,m.A)(function o(r,n,e,t){(0,h.A)(this,o),this.type=gr.SAVE_ENTITIES_CANCEL,this.payload={correlationId:r,reason:n,entityNames:e,tag:t}}),FF=(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.type=gr.SAVE_ENTITIES_CANCELED,this.payload={correlationId:r,reason:n,tag:e}}),kF=(0,m.A)(function o(r,n){(0,h.A)(this,o),this.type=gr.SAVE_ENTITIES_ERROR,this.payload={error:r,originalAction:n,correlationId:n.payload.correlationId}}),Rm=(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.type=gr.SAVE_ENTITIES_SUCCESS,e=e||{},r&&(r.tag=r.tag||e.tag),this.payload=(0,v.A)((0,v.A)({changeSet:r,url:n},e),{},{tag:r.tag})}),Et=function(o){return o.CANCEL_PERSIST="@ngrx/data/cancel-persist",o.CANCELED_PERSIST="@ngrx/data/canceled-persist",o.QUERY_ALL="@ngrx/data/query-all",o.QUERY_ALL_SUCCESS="@ngrx/data/query-all/success",o.QUERY_ALL_ERROR="@ngrx/data/query-all/error",o.QUERY_LOAD="@ngrx/data/query-load",o.QUERY_LOAD_SUCCESS="@ngrx/data/query-load/success",o.QUERY_LOAD_ERROR="@ngrx/data/query-load/error",o.QUERY_MANY="@ngrx/data/query-many",o.QUERY_MANY_SUCCESS="@ngrx/data/query-many/success",o.QUERY_MANY_ERROR="@ngrx/data/query-many/error",o.QUERY_BY_KEY="@ngrx/data/query-by-key",o.QUERY_BY_KEY_SUCCESS="@ngrx/data/query-by-key/success",o.QUERY_BY_KEY_ERROR="@ngrx/data/query-by-key/error",o.SAVE_ADD_MANY="@ngrx/data/save/add-many",o.SAVE_ADD_MANY_ERROR="@ngrx/data/save/add-many/error",o.SAVE_ADD_MANY_SUCCESS="@ngrx/data/save/add-many/success",o.SAVE_ADD_ONE="@ngrx/data/save/add-one",o.SAVE_ADD_ONE_ERROR="@ngrx/data/save/add-one/error",o.SAVE_ADD_ONE_SUCCESS="@ngrx/data/save/add-one/success",o.SAVE_DELETE_MANY="@ngrx/data/save/delete-many",o.SAVE_DELETE_MANY_SUCCESS="@ngrx/data/save/delete-many/success",o.SAVE_DELETE_MANY_ERROR="@ngrx/data/save/delete-many/error",o.SAVE_DELETE_ONE="@ngrx/data/save/delete-one",o.SAVE_DELETE_ONE_SUCCESS="@ngrx/data/save/delete-one/success",o.SAVE_DELETE_ONE_ERROR="@ngrx/data/save/delete-one/error",o.SAVE_UPDATE_MANY="@ngrx/data/save/update-many",o.SAVE_UPDATE_MANY_SUCCESS="@ngrx/data/save/update-many/success",o.SAVE_UPDATE_MANY_ERROR="@ngrx/data/save/update-many/error",o.SAVE_UPDATE_ONE="@ngrx/data/save/update-one",o.SAVE_UPDATE_ONE_SUCCESS="@ngrx/data/save/update-one/success",o.SAVE_UPDATE_ONE_ERROR="@ngrx/data/save/update-one/error",o.SAVE_UPSERT_MANY="@ngrx/data/save/upsert-many",o.SAVE_UPSERT_MANY_SUCCESS="@ngrx/data/save/upsert-many/success",o.SAVE_UPSERT_MANY_ERROR="@ngrx/data/save/upsert-many/error",o.SAVE_UPSERT_ONE="@ngrx/data/save/upsert-one",o.SAVE_UPSERT_ONE_SUCCESS="@ngrx/data/save/upsert-one/success",o.SAVE_UPSERT_ONE_ERROR="@ngrx/data/save/upsert-one/error",o.ADD_ALL="@ngrx/data/add-all",o.ADD_MANY="@ngrx/data/add-many",o.ADD_ONE="@ngrx/data/add-one",o.REMOVE_ALL="@ngrx/data/remove-all",o.REMOVE_MANY="@ngrx/data/remove-many",o.REMOVE_ONE="@ngrx/data/remove-one",o.UPDATE_MANY="@ngrx/data/update-many",o.UPDATE_ONE="@ngrx/data/update-one",o.UPSERT_MANY="@ngrx/data/upsert-many",o.UPSERT_ONE="@ngrx/data/upsert-one",o.COMMIT_ALL="@ngrx/data/commit-all",o.COMMIT_MANY="@ngrx/data/commit-many",o.COMMIT_ONE="@ngrx/data/commit-one",o.UNDO_ALL="@ngrx/data/undo-all",o.UNDO_MANY="@ngrx/data/undo-many",o.UNDO_ONE="@ngrx/data/undo-one",o.SET_CHANGE_STATE="@ngrx/data/set-change-state",o.SET_COLLECTION="@ngrx/data/set-collection",o.SET_FILTER="@ngrx/data/set-filter",o.SET_LOADED="@ngrx/data/set-loaded",o.SET_LOADING="@ngrx/data/set-loading",o}(Et||{}),Mm="/success",Nm="/error";function i_(o){return o+Mm}var zu=function(o){function r(n,e){var t,s;return(0,h.A)(this,r),(s=(0,F.A)(this,r,["string"==typeof n?n:null!==(t=IF(n))&&void 0!==t?t:void 0])).error=n,s.requestData=e,s.name=s.constructor.name,s}return(0,w.A)(r,o),(0,m.A)(r)}((0,P.A)(Error));function IF(o){var r=o.error,n=o.body,e=o.message,t=null;return r?t="string"==typeof r?r:r.message:e?t=e:n&&(t="string"==typeof n?n:n.error),"string"==typeof t?t:t?JSON.stringify(t):null}var $u=(0,m.A)(function o(){(0,h.A)(this,o)}),Gd=(0,m.A)(function o(){(0,h.A)(this,o)}),o_=new a.InjectionToken("@ngrx/data Plural Names"),Ac=(0,m.A)(function o(){(0,h.A)(this,o)}),s_=(0,m.A)(function o(){(0,h.A)(this,o)}),u_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.pluralizer=e,this.knownHttpResourceUrls={}},[{key:"getResourceUrls",value:function(t,s){var l=this.knownHttpResourceUrls[t];if(!l){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?s:l_(s);l={entityResourceUrl:"".concat(d,"/").concat(t,"/").toLowerCase(),collectionResourceUrl:"".concat(d,"/").concat(this.pluralizer.pluralize(t),"/").toLowerCase()},this.registerHttpResourceUrls((0,c.A)({},t,l))}return l}},{key:"entityResource",value:function(t,s,u){return this.getResourceUrls(t,s,u).entityResourceUrl}},{key:"collectionResource",value:function(t,s){return this.getResourceUrls(t,s).collectionResourceUrl}},{key:"registerHttpResourceUrls",value:function(t){this.knownHttpResourceUrls=(0,v.A)((0,v.A)({},this.knownHttpResourceUrls),t||{})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ac))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function l_(o){return o.replace(/^[/\s]+|[/\s]+$/g,"")}var TF=function(){return(0,m.A)(function o(r,n,e,t){(0,h.A)(this,o),this.http=n,this.httpUrlGenerator=e,this.getDelay=0,this.saveDelay=0,this.timeout=0,this.trailingSlashEndpoints=!1,this._name="".concat(r," DefaultDataService"),this.entityName=r;var s=t||{},u=s.root,l=void 0===u?"api":u,d=s.delete404OK,g=s.getDelay,_=void 0===g?0:g,S=s.saveDelay,I=void 0===S?0:S,B=s.timeout,$=void 0===B?0:B,Y=s.trailingSlashEndpoints,le=void 0!==Y&&Y;this.delete404OK=void 0===d||d,this.entityUrl=e.entityResource(r,l,le),this.entitiesUrl=e.collectionResource(r,l),this.getDelay=_,this.saveDelay=I,this.timeout=$},[{key:"name",get:function(){return this._name}},{key:"add",value:function(n,e){var t=n||new Error('No "'.concat(this.entityName,'" entity to add'));return this.execute("POST",this.entityUrl,t,null,e)}},{key:"delete",value:function(n,e){var t;return null==n&&(t=new Error('No "'.concat(this.entityName,'" key to delete'))),this.execute("DELETE",this.entityUrl+n,t,null,e).pipe((0,fe.T)(function(s){return n}))}},{key:"getAll",value:function(n){return this.execute("GET",this.entitiesUrl,null,null,n)}},{key:"getById",value:function(n,e){var t;return null==n&&(t=new Error('No "'.concat(this.entityName,'" key to get'))),this.execute("GET",this.entityUrl+n,t,null,e)}},{key:"getWithQuery",value:function(n,e){var s=new E.HttpParams("string"==typeof n?{fromString:n}:{fromObject:n});return this.execute("GET",this.entitiesUrl,void 0,{params:s},e)}},{key:"update",value:function(n,e){var t=n&&n.id,s=null==t?new Error('No "'.concat(this.entityName,'" update data or id')):n.changes;return this.execute("PUT",this.entityUrl+t,s,null,e)}},{key:"upsert",value:function(n,e){var t=n||new Error('No "'.concat(this.entityName,'" entity to upsert'));return this.execute("POST",this.entityUrl,t,null,e)}},{key:"execute",value:function(n,e,t,s,u){var l=void 0;u&&(l={headers:null!=u&&u.httpHeaders?new E.HttpHeaders(u?.httpHeaders):void 0,params:null!=u&&u.httpParams?new E.HttpParams(u?.httpParams):void 0});var p,g,_,S,d=void 0;(s||l)&&((0,a.isDevMode)()&&s&&l&&console.warn("@ngrx/data: options.httpParams will be merged with queryParams when both are are provided to getWithQuery(). In the event of a conflict HttpOptions.httpParams will override queryParams`. The queryParams parameter of getWithQuery() will be removed in next major release."),d=(0,v.A)((0,v.A)({},s),{},{headers:null!==(p=null===(g=l)||void 0===g?void 0:g.headers)&&void 0!==p?p:s?.headers,params:null!==(_=null===(S=l)||void 0===S?void 0:S.params)&&void 0!==_?_:s?.params}));var B,I={method:n,url:e,data:t,options:d};if(t instanceof Error)return this.handleError(I)(t);switch(n){case"DELETE":B=this.http.delete(e,d),this.saveDelay&&(B=B.pipe((0,dr.c)(this.saveDelay)));break;case"GET":B=this.http.get(e,d),this.getDelay&&(B=B.pipe((0,dr.c)(this.getDelay)));break;case"POST":B=this.http.post(e,t,d),this.saveDelay&&(B=B.pipe((0,dr.c)(this.saveDelay)));break;case"PUT":B=this.http.put(e,t,d),this.saveDelay&&(B=B.pipe((0,dr.c)(this.saveDelay)));break;default:var $=new Error("Unimplemented HTTP method, "+n);B=(0,Ji.$)($)}return this.timeout&&(B=B.pipe(Vd(this.timeout+this.saveDelay))),B.pipe((0,aa.W)(this.handleError(I)))}},{key:"handleError",value:function(n){var e=this;return function(t){var s=e.handleDelete404(t,n);if(s)return s;var u=new zu(t,n);return(0,Ji.$)(u)}}},{key:"handleDelete404",value:function(n,e){if(404===n.status&&"DELETE"===e.method&&this.delete404OK)return(0,Te.of)({})}}])}(),c_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.http=e,this.httpUrlGenerator=t,this.config=s,t.registerHttpResourceUrls((s=s||{}).entityHttpResourceUrls)},[{key:"create",value:function(t){return new TF(t,this.http,this.httpUrlGenerator,this.config)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(s_),a.\u0275\u0275inject($u,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),d_=new a.InjectionToken("@ngrx/data Entity Metadata"),Wa=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.definitions={},e&&e.forEach(function(s){return t.registerMetadataMap(s)})},[{key:"getDefinition",value:function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=t.trim();var u=this.definitions[t];if(!u&&s)throw new Error('No EntityDefinition for entity type "'.concat(t,'".'));return u}},{key:"registerMetadata",value:function(t){if(t){var s=function RF(o){var r=o.entityName;if(!r)throw new Error("Missing required entityName");o.entityName=r=r.trim();var n=o.selectId||bc,e=o.sortComparer=o.sortComparer||!1,t=q2({selectId:n,sortComparer:e}),s=o.entityDispatcherOptions||{},u=t.getInitialState((0,v.A)({entityName:r,filter:"",loaded:!1,loading:!1,changeState:{}},o.additionalCollectionState||{}));return{entityName:r,entityAdapter:t,entityDispatcherOptions:s,initialState:u,metadata:o,noChangeTracking:!0===o.noChangeTracking,selectId:n,sortComparer:e}}(t);this.registerDefinition(s)}}},{key:"registerMetadataMap",value:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(s||{}).forEach(function(u){return t.registerMetadata((0,v.A)({entityName:u},s[u]))})}},{key:"registerDefinition",value:function(t){this.definitions[t.entityName]=t}},{key:"registerDefinitions",value:function(t){Object.assign(this.definitions,t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(d_,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),p_=qa.Update,f_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.entityDefinitionService=e,this.http=t,this.idSelectors={},this.saveDelay=0,this.timeout=0;var u=s||{},l=u.saveDelay,p=u.timeout,g=void 0===p?0:p;this.saveDelay=void 0===l?0:l,this.timeout=g},[{key:"saveEntities",value:function(t,s){var u=this;t=this.filterChangeSet(t),t=this.flattenUpdates(t);var l=this.http.post(s,t).pipe((0,fe.T)(function(d){return u.restoreUpdates(d)}),(0,aa.W)(this.handleError({method:"POST",url:s,data:t})));return this.timeout&&(l=l.pipe(Vd(this.timeout))),this.saveDelay&&(l=l.pipe((0,dr.c)(this.saveDelay))),l}},{key:"handleError",value:function(t){return function(s){var u=new zu(s,t);return(0,Ji.$)(u)}}},{key:"filterChangeSet",value:function(t){return a_(t)}},{key:"flattenUpdates",value:function(t){var s=t.changes;if(0===s.length)return t;var u=!1;return s=s.map(function(l){return l.op===p_&&l.entities.length>0?(u=!0,(0,v.A)((0,v.A)({},l),{},{entities:l.entities.map(function(d){return d.changes})})):l}),u?(0,v.A)((0,v.A)({},t),{},{changes:s}):t}},{key:"restoreUpdates",value:function(t){var s=this;if(null==t)return t;var u=t.changes;if(0===u.length)return t;var l=!1;return u=u.map(function(d){if(d.op===p_){l=!0;var p=s.getIdSelector(d.entityName);return(0,v.A)((0,v.A)({},d),{},{entities:d.entities.map(function(g){return{id:p(g),changes:g}})})}return d}),l?(0,v.A)((0,v.A)({},t),{},{changes:u}):t}},{key:"getIdSelector",value:function(t){var s=this.idSelectors[t];return s||(s=this.entityDefinitionService.getDefinition(t).selectId,this.idSelectors[t]=s),s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject($u,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Cc=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.defaultDataServiceFactory=e,this.services={}},[{key:"getService",value:function(t){t=t.trim();var s=this.services[t];return s||(s=this.defaultDataServiceFactory.create(t),this.services[t]=s),s}},{key:"registerService",value:function(t,s){this.services[t.trim()]=s}},{key:"registerServices",value:function(t){this.services=(0,v.A)((0,v.A)({},this.services),t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(c_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),m_=(0,m.A)(function o(){(0,h.A)(this,o)}),MF=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.logger=e,this.entityActionFactory=t},[{key:"handleSuccess",value:function(t){var s=this,u=i_(t.payload.entityOp);return function(l){return s.entityActionFactory.createFromAction(t,{entityOp:u,data:l})}}},{key:"handleError",value:function(t){var s=this,u=function PF(o){return o+Nm}(t.payload.entityOp);return function(l){var p={error:l instanceof zu?l:new zu(l,null),originalAction:t};return s.logger.error(p),s.entityActionFactory.createFromAction(t,{entityOp:u,data:p})}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Gd),a.\u0275\u0275inject(Is))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),g_=(0,m.A)(function o(r){(0,h.A)(this,o),this.message=r,this.message=r||"Canceled by user"}),Vm=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n),this.seed=0,this.prefix="CRID"},[{key:"next",value:function(){return this.seed+=1,this.prefix+this.seed}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Om=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n),this.optimisticAdd=!1,this.optimisticDelete=!0,this.optimisticUpdate=!1,this.optimisticUpsert=!1,this.optimisticSaveEntities=!1});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),NF=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.correlationIdGenerator=e,this.defaultDispatcherOptions=t,this.store=u,this.reducedActions$=s.pipe((0,Ka.t)(1)),this.raSubscription=this.reducedActions$.subscribe()},[{key:"dispatch",value:function(t){return this.store.dispatch(t),t}},{key:"cancelSaveEntities",value:function(t,s,u,l){if(!t)throw new Error("Missing correlationId");var d=new wF(t,s,u,l);this.dispatch(d)}},{key:"clearCollections",value:function(t,s){this.dispatch(new CF(t,s))}},{key:"loadCollections",value:function(t,s){this.dispatch(new xF(t,s))}},{key:"mergeQuerySet",value:function(t,s,u){this.dispatch(new SF(t,s,u))}},{key:"setEntityCache",value:function(t,s){this.dispatch(new EF(t,s))}},{key:"saveEntities",value:function(t,s,u){var l=Array.isArray(t)?{changes:t}:t,d=null==(u=u||{}).correlationId?this.correlationIdGenerator.next():u.correlationId,p=null==u.isOptimistic?this.defaultDispatcherOptions.optimisticSaveEntities||!1:!0===u.isOptimistic,g=u.tag||"Save Entities";u=(0,v.A)((0,v.A)({},u),{},{correlationId:d,isOptimistic:p,tag:g});var _=new DF(l,s,u);return this.dispatch(_),this.getSaveEntitiesResponseData$(u.correlationId).pipe((0,Ka.t)(1))}},{key:"getSaveEntitiesResponseData$",value:function(t){return this.reducedActions$.pipe((0,z.p)(function(s){return s.type===gr.SAVE_ENTITIES_SUCCESS||s.type===gr.SAVE_ENTITIES_ERROR||s.type===gr.SAVE_ENTITIES_CANCEL}),(0,z.p)(function(s){return t===s.payload.correlationId}),(0,pn.s)(1),(0,Fs.Z)(function(s){return s.type===gr.SAVE_ENTITIES_CANCEL?(0,Ji.$)(new g_(s.payload.reason)):s.type===gr.SAVE_ENTITIES_SUCCESS?(0,Te.of)(s.payload.changeSet):(0,Ji.$)(s.payload)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Vm),a.\u0275\u0275inject(Om),a.\u0275\u0275inject(Qo),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),VF=function(){return(0,m.A)(function o(r,n,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bc,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0;(0,h.A)(this,o),this.entityName=r,this.entityActionFactory=n,this.store=e,this.selectId=t,this.defaultDispatcherOptions=s,this.reducedActions$=u,this.correlationIdGenerator=d,this.guard=new t_(r,t),this.toUpdate=r_(t);var p=Fn(l,function(g){return g[r]});this.entityCollection$=e.select(p)},[{key:"createEntityAction",value:function(n,e,t){return this.entityActionFactory.create((0,v.A)({entityName:this.entityName,entityOp:n,data:e},t))}},{key:"createAndDispatch",value:function(n,e,t){var s=this.createEntityAction(n,e,t);return this.dispatch(s),s}},{key:"dispatch",value:function(n){return this.store.dispatch(n),n}},{key:"add",value:function(n,e){var t=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticAdd);var s=this.createEntityAction(Et.SAVE_ADD_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe(oi(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,Ka.t)(1))}},{key:"cancel",value:function(n,e,t){if(!n)throw new Error("Missing correlationId");this.createAndDispatch(Et.CANCEL_PERSIST,e,{correlationId:n})}},{key:"delete",value:function(n,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticDelete);var t=this.getKey(n),s=this.createEntityAction(Et.SAVE_DELETE_ONE,t,e);return this.guard.mustBeKey(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,fe.T)(function(){return t}),(0,Ka.t)(1))}},{key:"getAll",value:function(n){var e=this;n=this.setQueryEntityActionOptions(n);var t=this.createEntityAction(Et.QUERY_ALL,null,n);return this.dispatch(t),this.getResponseData$(n.correlationId).pipe(oi(this.entityCollection$),(0,fe.T)(function(s){var u=(0,k.A)(s,2),d=u[1];return u[0].reduce(function(p,g){var _=d.entities[e.selectId(g)];return _&&p.push(_),p},[])}),(0,Ka.t)(1))}},{key:"getByKey",value:function(n,e){var t=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(Et.QUERY_BY_KEY,n,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe(oi(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,Ka.t)(1))}},{key:"getWithQuery",value:function(n,e){var t=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(Et.QUERY_MANY,n,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe(oi(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2),p=l[1];return l[0].reduce(function(g,_){var S=p.entities[t.selectId(_)];return S&&g.push(S),g},[])}),(0,Ka.t)(1))}},{key:"load",value:function(n){n=this.setQueryEntityActionOptions(n);var e=this.createEntityAction(Et.QUERY_LOAD,null,n);return this.dispatch(e),this.getResponseData$(n.correlationId).pipe((0,Ka.t)(1))}},{key:"loadWithQuery",value:function(n,e){e=this.setQueryEntityActionOptions(e);var t=this.createEntityAction(Et.QUERY_MANY,n,e);return this.dispatch(t),this.getResponseData$(e.correlationId).pipe((0,Ka.t)(1))}},{key:"update",value:function(n,e){var t=this,s=this.toUpdate(n);e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpdate);var u=this.createEntityAction(Et.SAVE_UPDATE_ONE,s,e);return e.isOptimistic&&this.guard.mustBeUpdate(u),this.dispatch(u),this.getResponseData$(e.correlationId).pipe((0,fe.T)(function(l){return l.changes}),oi(this.entityCollection$),(0,fe.T)(function(l){var d=(0,k.A)(l,2);return d[1].entities[t.selectId(d[0])]}),(0,Ka.t)(1))}},{key:"upsert",value:function(n,e){var t=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpsert);var s=this.createEntityAction(Et.SAVE_UPSERT_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe(oi(this.entityCollection$),(0,fe.T)(function(u){var l=(0,k.A)(u,2);return l[1].entities[t.selectId(l[0])]}),(0,Ka.t)(1))}},{key:"addAllToCache",value:function(n,e){this.createAndDispatch(Et.ADD_ALL,n,e)}},{key:"addOneToCache",value:function(n,e){this.createAndDispatch(Et.ADD_ONE,n,e)}},{key:"addManyToCache",value:function(n,e){this.createAndDispatch(Et.ADD_MANY,n,e)}},{key:"clearCache",value:function(n){this.createAndDispatch(Et.REMOVE_ALL,void 0,n)}},{key:"removeOneFromCache",value:function(n,e){this.createAndDispatch(Et.REMOVE_ONE,this.getKey(n),e)}},{key:"removeManyFromCache",value:function(n,e){var t=this;if(n&&0!==n.length){var s="object"==typeof n[0]?n.map(function(u){return t.getKey(u)}):n;this.createAndDispatch(Et.REMOVE_MANY,s,e)}}},{key:"updateOneInCache",value:function(n,e){var t=this.toUpdate(n);this.createAndDispatch(Et.UPDATE_ONE,t,e)}},{key:"updateManyInCache",value:function(n,e){var t=this;if(n&&0!==n.length){var s=n.map(function(u){return t.toUpdate(u)});this.createAndDispatch(Et.UPDATE_MANY,s,e)}}},{key:"upsertOneInCache",value:function(n,e){this.createAndDispatch(Et.UPSERT_ONE,n,e)}},{key:"upsertManyInCache",value:function(n,e){!n||0===n.length||this.createAndDispatch(Et.UPSERT_MANY,n,e)}},{key:"setFilter",value:function(n){this.createAndDispatch(Et.SET_FILTER,n)}},{key:"setLoaded",value:function(n){this.createAndDispatch(Et.SET_LOADED,!!n)}},{key:"setLoading",value:function(n){this.createAndDispatch(Et.SET_LOADING,!!n)}},{key:"getKey",value:function(n){return"object"==typeof n?this.selectId(n):n}},{key:"getResponseData$",value:function(n){var e=this;return this.reducedActions$.pipe((0,z.p)(function(t){return!!t.payload}),(0,z.p)(function(t){var s=t.payload,d=s.entityOp;return s.entityName===e.entityName&&s.correlationId===n&&(d.endsWith(Mm)||d.endsWith(Nm)||d===Et.CANCEL_PERSIST)}),(0,pn.s)(1),(0,Fs.Z)(function(t){var s=t.payload.entityOp;return s===Et.CANCEL_PERSIST?(0,Ji.$)(new g_(t.payload.data)):s.endsWith(Mm)?(0,Te.of)(t.payload.data):(0,Ji.$)(t.payload.data.error)}))}},{key:"setQueryEntityActionOptions",value:function(n){var e=null==(n=n||{}).correlationId?this.correlationIdGenerator.next():n.correlationId;return(0,v.A)((0,v.A)({},n),{},{correlationId:e})}},{key:"setSaveEntityActionOptions",value:function(n,e){var t=null==(n=n||{}).correlationId?this.correlationIdGenerator.next():n.correlationId,s=null==n.isOptimistic?e||!1:!0===n.isOptimistic;return(0,v.A)((0,v.A)({},n),{},{correlationId:t,isOptimistic:s})}}])}(),zd="entityCache",Bm=new a.InjectionToken("@ngrx/data Entity Cache Name"),h_=new a.InjectionToken("@ngrx/data Entity Cache Meta Reducers"),v_=new a.InjectionToken("@ngrx/data Entity Collection Meta Reducers"),OF=new a.InjectionToken("@ngrx/data Initial Entity Cache State"),$d=new a.InjectionToken("@ngrx/data Entity Cache Selector"),BF={provide:$d,useFactory:y_,deps:[[new a.Optional,Bm]]};function y_(o){return gc(o=o||zd)}var Lm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.entityActionFactory=e,this.store=t,this.entityDispatcherDefaultOptions=s,this.entityCacheSelector=l,this.correlationIdGenerator=d,this.reducedActions$=u.pipe((0,Ka.t)(1)),this.raSubscription=this.reducedActions$.subscribe()},[{key:"create",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bc,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(0,v.A)((0,v.A)({},this.entityDispatcherDefaultOptions),u);return new VF(t,this.entityActionFactory,this.store,s,l,this.reducedActions$,this.entityCacheSelector,this.correlationIdGenerator)}},{key:"ngOnDestroy",value:function(){this.raSubscription.unsubscribe()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Is),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Om),a.\u0275\u0275inject(Qo),a.\u0275\u0275inject($d),a.\u0275\u0275inject(Vm))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),__=new a.InjectionToken("@ngrx/data Entity Effects Scheduler"),b_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){var d=this;(0,h.A)(this,n),this.actions=e,this.dataService=t,this.entityActionFactory=s,this.logger=u,this.scheduler=l,this.responseDelay=10,this.saveEntitiesCancel$=ui(function(){return d.actions.pipe(Eo(gr.SAVE_ENTITIES_CANCEL),(0,z.p)(function(p){return null!=p.payload.correlationId}))},{dispatch:!1}),this.saveEntities$=ui(function(){return d.actions.pipe(Eo(gr.SAVE_ENTITIES),(0,Fs.Z)(function(p){return d.saveEntities(p)}))})},[{key:"saveEntities",value:function(t){var s=this,u=t.payload.error;if(u)return this.handleSaveEntitiesError$(t)(u);try{var l=a_(t.payload.changeSet),d=t.payload,p=d.correlationId,S=d.url;return 0===l.changes.length?(0,Te.of)(new Rm(l,S,{correlationId:p,mergeStrategy:d.mergeStrategy,tag:d.tag})):L0(this.saveEntitiesCancel$.pipe((0,z.p)(function(Y){return p===Y.payload.correlationId}),(0,fe.T)(function(Y){return new FF(p,Y.payload.reason,Y.payload.tag)})),this.dataService.saveEntities(l,S).pipe((0,ks.H)(function(Y){return s.handleSaveEntitiesSuccess$(t,s.entityActionFactory)(Y)}),(0,aa.W)(this.handleSaveEntitiesError$(t))))}catch(Y){return this.handleSaveEntitiesError$(t)(Y)}}},{key:"handleSaveEntitiesError$",value:function(t){var s=this;return function(u){var l=u instanceof zu?u:new zu(u,null);return(0,Te.of)(new kF(l,t)).pipe((0,dr.c)(s.responseDelay,s.scheduler||vc.E))}}},{key:"handleSaveEntitiesSuccess$",value:function(t,s){var u=t.payload,l=u.url,_={correlationId:u.correlationId,mergeStrategy:u.mergeStrategy,tag:u.tag};return function(S){if(S)return(0,Te.of)(new Rm(S,l,_));if(S=t.payload.changeSet,!t.payload.isOptimistic)return(0,Te.of)(new Rm(S,l,_));var I=S.changes.reduce(function(B,$){return-1===B.indexOf($.entityName)?B.concat($.entityName):B},[]);return(0,G.h)(I.map(function(B){return s.create(B,Et.SET_LOADING,!1)}))}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(f_),a.\u0275\u0275inject(Is),a.\u0275\u0275inject(Gd),a.\u0275\u0275inject(__,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),LF=[Et.QUERY_ALL,Et.QUERY_LOAD,Et.QUERY_BY_KEY,Et.QUERY_MANY,Et.SAVE_ADD_ONE,Et.SAVE_DELETE_ONE,Et.SAVE_UPDATE_ONE,Et.SAVE_UPSERT_ONE],A_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){var d=this;(0,h.A)(this,n),this.actions=e,this.dataService=t,this.entityActionFactory=s,this.resultHandler=u,this.scheduler=l,this.responseDelay=10,this.cancel$=ui(function(){return d.actions.pipe(jd(Et.CANCEL_PERSIST),(0,fe.T)(function(p){return p.payload.correlationId}),(0,z.p)(function(p){return null!=p}))},{dispatch:!1}),this.persist$=ui(function(){return d.actions.pipe(jd(LF),(0,Fs.Z)(function(p){return d.persist(p)}))})},[{key:"persist",value:function(t){var s=this;if(t.payload.skip)return this.handleSkipSuccess$(t);if(t.payload.error)return this.handleError$(t)(t.payload.error);try{return L0(this.cancel$.pipe((0,z.p)(function(d){return t.payload.correlationId===d}),(0,fe.T)(function(d){return s.entityActionFactory.createFromAction(t,{entityOp:Et.CANCELED_PERSIST})})),this.callDataService(t).pipe((0,fe.T)(this.resultHandler.handleSuccess(t)),(0,aa.W)(this.handleError$(t))))}catch(d){return this.handleError$(t)(d)}}},{key:"callDataService",value:function(t){var s=t.payload,l=s.entityOp,d=s.data,p=s.httpOptions,g=this.dataService.getService(s.entityName);switch(l){case Et.QUERY_ALL:case Et.QUERY_LOAD:return g.getAll(p);case Et.QUERY_BY_KEY:return g.getById(d,p);case Et.QUERY_MANY:return g.getWithQuery(d,p);case Et.SAVE_ADD_ONE:return g.add(d,p);case Et.SAVE_DELETE_ONE:return g.delete(d,p);case Et.SAVE_UPDATE_ONE:var _=d.id,S=d.changes;return g.update(d,p).pipe((0,fe.T)(function(I){return I&&Object.keys(I).length>0?{id:_,changes:(0,v.A)((0,v.A)({},S),I),changed:!0}:{id:_,changes:S,changed:!1}}));case Et.SAVE_UPSERT_ONE:return g.upsert(d,p).pipe((0,fe.T)(function(I){return I&&Object.keys(I).length>0?I:d}));default:throw new Error('Persistence action "'.concat(l,'" is not implemented.'))}}},{key:"handleError$",value:function(t){var s=this;return function(u){return(0,Te.of)(s.resultHandler.handleError(t)(u)).pipe((0,dr.c)(s.responseDelay,s.scheduler||vc.E))}}},{key:"handleSkipSuccess$",value:function(t){var s=i_(t.payload.entityOp),u=this.entityActionFactory.createFromAction(t,{entityOp:s});return(0,Te.of)(u).pipe((0,dr.c)(this.responseDelay,this.scheduler||vc.E))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(Is),a.\u0275\u0275inject(m_),a.\u0275\u0275inject(__,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),jF=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),this.entityName=r,r=r.trim();var e=n.create(r),t=e.dispatcher,s=e.selectors,u=e.selectors$;this.entityName=r,this.dispatcher=t,this.guard=t.guard,this.selectId=t.selectId,this.toUpdate=t.toUpdate,this.selectors=s,this.selectors$=u,this.collection$=u.collection$,this.count$=u.count$,this.entities$=u.entities$,this.entityActions$=u.entityActions$,this.entityMap$=u.entityMap$,this.errors$=u.errors$,this.filter$=u.filter$,this.filteredEntities$=u.filteredEntities$,this.keys$=u.keys$,this.loaded$=u.loaded$,this.loading$=u.loading$,this.changeState$=u.changeState$},[{key:"createEntityAction",value:function(n,e,t){return this.dispatcher.createEntityAction(n,e,t)}},{key:"createAndDispatch",value:function(n,e,t){return this.dispatcher.createAndDispatch(n,e,t)}},{key:"dispatch",value:function(n){return this.dispatcher.dispatch(n)}},{key:"store",get:function(){return this.dispatcher.store}},{key:"add",value:function(n,e){return this.dispatcher.add(n,e)}},{key:"cancel",value:function(n,e,t){this.dispatcher.cancel(n,e,t)}},{key:"delete",value:function(n,e){return this.dispatcher.delete(n,e)}},{key:"getAll",value:function(n){return this.dispatcher.getAll(n)}},{key:"getByKey",value:function(n,e){return this.dispatcher.getByKey(n,e)}},{key:"getWithQuery",value:function(n,e){return this.dispatcher.getWithQuery(n,e)}},{key:"load",value:function(n){return this.dispatcher.load(n)}},{key:"loadWithQuery",value:function(n,e){return this.dispatcher.loadWithQuery(n,e)}},{key:"update",value:function(n,e){return this.dispatcher.update(n,e)}},{key:"upsert",value:function(n,e){return this.dispatcher.upsert(n,e)}},{key:"addAllToCache",value:function(n,e){this.dispatcher.addAllToCache(n,e)}},{key:"addOneToCache",value:function(n,e){this.dispatcher.addOneToCache(n,e)}},{key:"addManyToCache",value:function(n,e){this.dispatcher.addManyToCache(n,e)}},{key:"clearCache",value:function(){this.dispatcher.clearCache()}},{key:"removeOneFromCache",value:function(n,e){this.dispatcher.removeOneFromCache(n,e)}},{key:"removeManyFromCache",value:function(n,e){this.dispatcher.removeManyFromCache(n,e)}},{key:"updateOneInCache",value:function(n,e){this.dispatcher.updateOneInCache(n,e)}},{key:"updateManyInCache",value:function(n,e){this.dispatcher.updateManyInCache(n,e)}},{key:"upsertOneInCache",value:function(n,e){this.dispatcher.upsertOneInCache(n,e)}},{key:"upsertManyInCache",value:function(n,e){this.dispatcher.upsertManyInCache(n,e)}},{key:"setFilter",value:function(n){this.dispatcher.setFilter(n)}},{key:"setLoaded",value:function(n){this.dispatcher.setLoaded(!!n)}},{key:"setLoading",value:function(n){this.dispatcher.setLoading(!!n)}}])}(),Hd=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.entityDefinitionService=e},[{key:"create",value:function(t){var s=this.entityDefinitionService&&this.entityDefinitionService.getDefinition(t,!1);return s&&s.initialState||function UF(o){return{entityName:o,ids:[],entities:{},filter:void 0,loaded:!1,loading:!1,changeState:{}}}(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wa,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),C_=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.entityCollectionCreator=e||new Hd,this.selectEntityCache=t||y_(zd)},[{key:"createCollectionSelector",value:function(t){var s=this;return Fn(this.selectEntityCache,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[t]||s.entityCollectionCreator.create(t)})}},{key:"createCollectionSelectors",value:function(t){var s="string"==typeof t?{entityName:t}:t,u=function(be){return be.ids},l=function(be){return be.entities},d=Fn(u,l,function(ge,be){return ge.map(function(me){return be[me]})}),p=Fn(u,function(ge){return ge.length}),g=function(be){return be.filter},_=s.filterFn,S=_?Fn(d,g,function(ge,be){return _(ge,be)}):d,le={};return Object.keys(s.additionalCollectionState||{}).forEach(function(ge){le["select"+ge[0].toUpperCase()+ge.slice(1)]=function(be){return be[ge]}}),(0,v.A)({selectCount:p,selectEntities:d,selectEntityMap:l,selectFilter:g,selectFilteredEntities:S,selectKeys:u,selectLoaded:function(be){return be.loaded},selectLoading:function(be){return be.loading},selectChangeState:function(be){return be.changeState}},le)}},{key:"create",value:function(t){var s="string"==typeof t?{entityName:t}:t,u=s.entityName,l=this.createCollectionSelector(u),d=this.createCollectionSelectors(s),p={};return Object.keys(d).forEach(function(g){p[g]=Fn(l,d[g])}),(0,v.A)({entityName:u,selectCollection:l,selectEntityCache:this.selectEntityCache},p)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Hd,8),a.\u0275\u0275inject($d,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),jm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.store=e,this.actions=t,this.selectEntityCache=s,this.entityCache$=this.store.select(this.selectEntityCache),this.entityActionErrors$=t.pipe((0,z.p)(function(u){return u.payload&&u.payload.entityOp&&u.payload.entityOp.endsWith(Nm)}),(0,Ka.t)(1))},[{key:"create",value:function(t,s){var u=this,l={entityName:t};return Object.keys(s).forEach(function(d){if(d.startsWith("select")){var p=d[6].toLowerCase()+d.substring(7)+"$";l[p]=u.store.select(s[d])}}),l.entityActions$=this.actions.pipe(Ud(t)),l.errors$=this.entityActionErrors$.pipe(Ud(t)),l}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Ps),a.\u0275\u0275inject($d))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),x_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.entityDispatcherFactory=e,this.entityDefinitionService=t,this.entitySelectorsFactory=s,this.entitySelectors$Factory=u},[{key:"create",value:function(t){t=t.trim();var s=this.entityDefinitionService.getDefinition(t),u=this.entityDispatcherFactory.create(t,s.selectId,s.entityDispatcherOptions),l=this.entitySelectorsFactory.create(s.metadata);return{dispatcher:u,entityName:t,selectors:l,selectors$:this.entitySelectors$Factory.create(t,l)}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Lm),a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(C_),a.\u0275\u0275inject(jm))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),S_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.entityCollectionServiceElementsFactory=e},[{key:"create",value:function(t){return new jF(t,this.entityCollectionServiceElementsFactory)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(x_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),E_=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.entityCollectionServiceFactory=e,this.store=u,this.entityActionErrors$=s.entityActionErrors$,this.entityCache$=s.entityCache$,this.reducedActions$=t.reducedActions$});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(S_),a.\u0275\u0275inject(Lm),a.\u0275\u0275inject(jm),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),GF=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.entityServicesElements=e,this.EntityCollectionServices={}},[{key:"entityActionErrors$",get:function(){return this.entityServicesElements.entityActionErrors$}},{key:"entityCache$",get:function(){return this.entityServicesElements.entityCache$}},{key:"entityCollectionServiceFactory",get:function(){return this.entityServicesElements.entityCollectionServiceFactory}},{key:"reducedActions$",get:function(){return this.entityServicesElements.reducedActions$}},{key:"store",get:function(){return this.entityServicesElements.store}},{key:"dispatch",value:function(t){this.store.dispatch(t)}},{key:"createEntityCollectionService",value:function(t){return this.entityCollectionServiceFactory.create(t)}},{key:"getEntityCollectionService",value:function(t){var s=this.EntityCollectionServices[t];return s||(s=this.createEntityCollectionService(t),this.EntityCollectionServices[t]=s),s}},{key:"registerEntityCollectionService",value:function(t,s){this.EntityCollectionServices[s||t.entityName]=t}},{key:"registerEntityCollectionServices",value:function(t){var s=this;Array.isArray(t)?t.forEach(function(u){return s.registerEntityCollectionService(u)}):Object.keys(t||{}).forEach(function(u){s.registerEntityCollectionService(t[u],u)})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(E_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),yr=(0,m.A)(function o(){(0,h.A)(this,o)}),va=function(o){return o[o.Unchanged=0]="Unchanged",o[o.Added=1]="Added",o[o.Deleted=2]="Deleted",o[o.Updated=3]="Updated",o}(va||{}),zF=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),this.adapter=r,this.selectId=n,this.selectId=n||bc},[{key:"commitAll",value:function(n){return 0===Object.keys(n.changeState).length?n:(0,v.A)((0,v.A)({},n),{},{changeState:{}})}},{key:"commitMany",value:function(n,e){var t=this;if(null==n||0===n.length)return e;var s=!1,u=n.reduce(function(l,d){var p="object"==typeof d?t.selectId(d):d;return l[p]&&(s||(l=(0,v.A)({},l),s=!0),delete l[p]),l},e.changeState);return s?(0,v.A)((0,v.A)({},e),{},{changeState:u}):e}},{key:"commitOne",value:function(n,e){return null==n?e:this.commitMany([n],e)}},{key:"mergeQueryResults",value:function(n,e,t){return this.mergeServerUpserts(n,e,zr.PreserveChanges,t)}},{key:"mergeSaveAdds",value:function(n,e,t){return this.mergeServerUpserts(n,e,zr.OverwriteChanges,t)}},{key:"mergeSaveDeletes",value:function(n,e,t){var s=n;return e=(t=t??zr.OverwriteChanges)===zr.IgnoreChanges?e:this.commitMany(s,e),this.adapter.removeMany(s,e)}},{key:"mergeSaveUpdates",value:function(n,e,t){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==n||0===n.length)return e;var p,l=!1,d=e.changeState;switch(t=t??zr.OverwriteChanges){case zr.IgnoreChanges:return p=_(n),this.adapter.updateMany(p,e);case zr.OverwriteChanges:return d=n.reduce(function(S,I){var B=I.id;return S[B]&&(l||(S=(0,v.A)({},S),l=!0),delete S[B]),S},e.changeState),e=l?(0,v.A)((0,v.A)({},e),{},{changeState:d}):e,p=_(n),this.adapter.updateMany(p,e);case zr.PreserveChanges:var g=[];return d=n.reduce(function(S,I){var B=I.id,$=S[B];if($){l||(S=(0,v.A)({},S),l=!0);var Y=s.selectId(I.changes),le=$;Y!==B&&delete S[B];var ge=(0,v.A)((0,v.A)({},le.originalValue),I.changes);S[Y]=(0,v.A)((0,v.A)({},le),{},{originalValue:ge})}else g.push(I);return S},e.changeState),e=l?(0,v.A)((0,v.A)({},e),{},{changeState:d}):e,p=_(g),this.adapter.updateMany(p,e)}function _(S){return!0===u&&(S=S.filter(function(I){return!0===I.changed})),S.map(function(I){return{id:I.id,changes:I.changes}})}}},{key:"mergeSaveUpserts",value:function(n,e,t){return this.mergeServerUpserts(n,e,zr.OverwriteChanges,t)}},{key:"mergeServerUpserts",value:function(n,e,t,s){var u=this;if(null==n||0===n.length)return e;var l=!1,d=e.changeState;switch(s=s??t){case zr.IgnoreChanges:return this.adapter.upsertMany(n,e);case zr.OverwriteChanges:return e=this.adapter.upsertMany(n,e),d=n.reduce(function(g,_){var S=u.selectId(_);return g[S]&&(l||(g=(0,v.A)({},g),l=!0),delete g[S]),g},e.changeState),l?(0,v.A)((0,v.A)({},e),{},{changeState:d}):e;case zr.PreserveChanges:var p=[];return d=n.reduce(function(g,_){var S=u.selectId(_);return g[S]?l||(g=(0,v.A)((0,v.A)({},g),{},(0,c.A)({},S,(0,v.A)((0,v.A)({},g[S]),{},{originalValue:_}))),l=!0):p.push(_),g},e.changeState),e=this.adapter.upsertMany(p,e),l?(0,v.A)((0,v.A)({},e),{},{changeState:d}):e}}},{key:"trackAddMany",value:function(n,e,t){var s=this;if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var u=!1,l=n.reduce(function(d,p){var g=s.selectId(p);if(null==g||""===g)throw new Error("".concat(e.entityName," entity add requires a key to be tracked"));return d[g]||(u||(u=!0,d=(0,v.A)({},d)),d[g]={changeType:va.Added}),d},e.changeState);return u?(0,v.A)((0,v.A)({},e),{},{changeState:l}):e}},{key:"trackAddOne",value:function(n,e,t){return null==n?e:this.trackAddMany([n],e,t)}},{key:"trackDeleteMany",value:function(n,e,t){if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var s=!1,u=e.entities,l=n.reduce(function(d,p){var g=u[p];if(g){var _=d[p];_?_.changeType===va.Added?(S(),delete d[p]):_.changeType===va.Updated&&(S(),d[p]=(0,v.A)((0,v.A)({},d[p]),{},{changeType:va.Deleted})):(S(),d[p]={changeType:va.Deleted,originalValue:g})}return d;function S(){s||(s=!0,d=(0,v.A)({},d))}},e.changeState);return s?(0,v.A)((0,v.A)({},e),{},{changeState:l}):e}},{key:"trackDeleteOne",value:function(n,e,t){return null==n?e:this.trackDeleteMany([n],e,t)}},{key:"trackUpdateMany",value:function(n,e,t){if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var s=!1,u=e.entities,l=n.reduce(function(d,p){var g=p.id;if(null==g||""===g)throw new Error("".concat(e.entityName," entity update requires a key to be tracked"));var S=u[g];return S&&(d[g]||(s||(s=!0,d=(0,v.A)({},d)),d[g]={changeType:va.Updated,originalValue:S})),d},e.changeState);return s?(0,v.A)((0,v.A)({},e),{},{changeState:l}):e}},{key:"trackUpdateOne",value:function(n,e,t){return null==n?e:this.trackUpdateMany([n],e,t)}},{key:"trackUpsertMany",value:function(n,e,t){var s=this;if(t===zr.IgnoreChanges||null==n||0===n.length)return e;var u=!1,l=e.entities,d=n.reduce(function(p,g){var _=s.selectId(g);if(null==_||""===_)throw new Error("".concat(e.entityName," entity upsert requires a key to be tracked"));if(!p[_]){u||(u=!0,p=(0,v.A)({},p));var I=l[_];p[_]=null==I?{changeType:va.Added}:{changeType:va.Updated,originalValue:I}}return p},e.changeState);return u?(0,v.A)((0,v.A)({},e),{},{changeState:d}):e}},{key:"trackUpsertOne",value:function(n,e,t){return null==n?e:this.trackUpsertMany([n],e,t)}},{key:"undoAll",value:function(n){var t=Object.keys(n.changeState).reduce(function(l,d){var p=l.chgState[d];switch(p.changeType){case va.Added:l.remove.push(d);break;case va.Deleted:var g=p.originalValue;g&&l.upsert.push(g);break;case va.Updated:l.upsert.push(p.originalValue)}return l},{remove:[],upsert:[],chgState:n.changeState}),u=t.upsert;return n=this.adapter.removeMany(t.remove,n),n=this.adapter.upsertMany(u,n),(0,v.A)((0,v.A)({},n),{},{changeState:{}})}},{key:"undoMany",value:function(n,e){var t=this;if(null==n||0===n.length)return e;var s=!1,u=n.reduce(function(g,_){var S=g.changeState,I="object"==typeof _?t.selectId(_):_,B=S[I];if(B)switch(s||(S=(0,v.A)({},S),s=!0),delete S[I],g.changeState=S,B.changeType){case va.Added:g.remove.push(I);break;case va.Deleted:var $=B.originalValue;$&&g.upsert.push($);break;case va.Updated:g.upsert.push(B.originalValue)}return g},{remove:[],upsert:[],changeState:e.changeState}),l=u.changeState,p=u.upsert;return e=this.adapter.removeMany(u.remove,e),e=this.adapter.upsertMany(p,e),s?(0,v.A)((0,v.A)({},e),{},{changeState:l}):e}},{key:"undoOne",value:function(n,e){return null==n?e:this.undoMany([n],e)}}])}(),$F=function(){return(0,m.A)(function o(r,n,e){var t;(0,h.A)(this,o),this.entityName=r,this.definition=n,this.methods=((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={},Et.CANCEL_PERSIST,this.cancelPersist.bind(this)),Et.QUERY_ALL,this.queryAll.bind(this)),Et.QUERY_ALL_ERROR,this.queryAllError.bind(this)),Et.QUERY_ALL_SUCCESS,this.queryAllSuccess.bind(this)),Et.QUERY_BY_KEY,this.queryByKey.bind(this)),Et.QUERY_BY_KEY_ERROR,this.queryByKeyError.bind(this)),Et.QUERY_BY_KEY_SUCCESS,this.queryByKeySuccess.bind(this)),Et.QUERY_LOAD,this.queryLoad.bind(this)),Et.QUERY_LOAD_ERROR,this.queryLoadError.bind(this)),Et.QUERY_LOAD_SUCCESS,this.queryLoadSuccess.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Et.QUERY_MANY,this.queryMany.bind(this)),Et.QUERY_MANY_ERROR,this.queryManyError.bind(this)),Et.QUERY_MANY_SUCCESS,this.queryManySuccess.bind(this)),Et.SAVE_ADD_MANY,this.saveAddMany.bind(this)),Et.SAVE_ADD_MANY_ERROR,this.saveAddManyError.bind(this)),Et.SAVE_ADD_MANY_SUCCESS,this.saveAddManySuccess.bind(this)),Et.SAVE_ADD_ONE,this.saveAddOne.bind(this)),Et.SAVE_ADD_ONE_ERROR,this.saveAddOneError.bind(this)),Et.SAVE_ADD_ONE_SUCCESS,this.saveAddOneSuccess.bind(this)),Et.SAVE_DELETE_MANY,this.saveDeleteMany.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Et.SAVE_DELETE_MANY_ERROR,this.saveDeleteManyError.bind(this)),Et.SAVE_DELETE_MANY_SUCCESS,this.saveDeleteManySuccess.bind(this)),Et.SAVE_DELETE_ONE,this.saveDeleteOne.bind(this)),Et.SAVE_DELETE_ONE_ERROR,this.saveDeleteOneError.bind(this)),Et.SAVE_DELETE_ONE_SUCCESS,this.saveDeleteOneSuccess.bind(this)),Et.SAVE_UPDATE_MANY,this.saveUpdateMany.bind(this)),Et.SAVE_UPDATE_MANY_ERROR,this.saveUpdateManyError.bind(this)),Et.SAVE_UPDATE_MANY_SUCCESS,this.saveUpdateManySuccess.bind(this)),Et.SAVE_UPDATE_ONE,this.saveUpdateOne.bind(this)),Et.SAVE_UPDATE_ONE_ERROR,this.saveUpdateOneError.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Et.SAVE_UPDATE_ONE_SUCCESS,this.saveUpdateOneSuccess.bind(this)),Et.SAVE_UPSERT_MANY,this.saveUpsertMany.bind(this)),Et.SAVE_UPSERT_MANY_ERROR,this.saveUpsertManyError.bind(this)),Et.SAVE_UPSERT_MANY_SUCCESS,this.saveUpsertManySuccess.bind(this)),Et.SAVE_UPSERT_ONE,this.saveUpsertOne.bind(this)),Et.SAVE_UPSERT_ONE_ERROR,this.saveUpsertOneError.bind(this)),Et.SAVE_UPSERT_ONE_SUCCESS,this.saveUpsertOneSuccess.bind(this)),Et.ADD_ALL,this.addAll.bind(this)),Et.ADD_MANY,this.addMany.bind(this)),Et.ADD_ONE,this.addOne.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Et.REMOVE_ALL,this.removeAll.bind(this)),Et.REMOVE_MANY,this.removeMany.bind(this)),Et.REMOVE_ONE,this.removeOne.bind(this)),Et.UPDATE_MANY,this.updateMany.bind(this)),Et.UPDATE_ONE,this.updateOne.bind(this)),Et.UPSERT_MANY,this.upsertMany.bind(this)),Et.UPSERT_ONE,this.upsertOne.bind(this)),Et.COMMIT_ALL,this.commitAll.bind(this)),Et.COMMIT_MANY,this.commitMany.bind(this)),Et.COMMIT_ONE,this.commitOne.bind(this)),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Et.UNDO_ALL,this.undoAll.bind(this)),Et.UNDO_MANY,this.undoMany.bind(this)),Et.UNDO_ONE,this.undoOne.bind(this)),Et.SET_CHANGE_STATE,this.setChangeState.bind(this)),Et.SET_COLLECTION,this.setCollection.bind(this)),Et.SET_FILTER,this.setFilter.bind(this)),Et.SET_LOADED,this.setLoaded.bind(this)),Et.SET_LOADING,this.setLoading.bind(this))),this.adapter=n.entityAdapter,this.isChangeTracking=!0!==n.noChangeTracking,this.selectId=n.selectId,this.guard=new t_(r,this.selectId),this.toUpdate=r_(this.selectId),this.entityChangeTracker=e||new zF(this.adapter,this.selectId)},[{key:"cancelPersist",value:function(n){return this.setLoadingFalse(n)}},{key:"queryAll",value:function(n){return this.setLoadingTrue(n)}},{key:"queryAllError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryAllSuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return(0,v.A)((0,v.A)({},this.entityChangeTracker.mergeQueryResults(t,n,s)),{},{loaded:!0,loading:!1})}},{key:"queryByKey",value:function(n,e){return this.setLoadingTrue(n)}},{key:"queryByKeyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryByKeySuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return n=null==t?n:this.entityChangeTracker.mergeQueryResults([t],n,s),this.setLoadingFalse(n)}},{key:"queryLoad",value:function(n){return this.setLoadingTrue(n)}},{key:"queryLoadError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryLoadSuccess",value:function(n,e){var t=this.extractData(e);return(0,v.A)((0,v.A)({},this.adapter.setAll(t,n)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"queryMany",value:function(n,e){return this.setLoadingTrue(n)}},{key:"queryManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"queryManySuccess",value:function(n,e){var t=this.extractData(e),s=this.extractMergeStrategy(e);return(0,v.A)((0,v.A)({},this.entityChangeTracker.mergeQueryResults(t,n,s)),{},{loaded:!0,loading:!1})}},{key:"saveAddMany",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddMany(t,n,s),n=this.adapter.addMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveAddManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveAddManySuccess",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.isOptimistic(e)?this.entityChangeTracker.mergeSaveUpserts(t,n,s):this.entityChangeTracker.mergeSaveAdds(t,n,s),this.setLoadingFalse(n)}},{key:"saveAddOne",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddOne(t,n,s),n=this.adapter.addOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveAddOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveAddOneSuccess",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);if(this.isOptimistic(e)){var u=this.toUpdate(t);n=this.entityChangeTracker.mergeSaveUpdates([u],n,s,!1)}else n=this.entityChangeTracker.mergeSaveAdds([t],n,s);return this.setLoadingFalse(n)}},{key:"saveDeleteOne",value:function(n,e){var t=this.extractData(e),s="object"==typeof t?this.selectId(t):t,u=n.changeState[s];if(u&&(u.changeType===va.Added?(n=this.adapter.removeOne(s,n),n=this.entityChangeTracker.commitOne(s,n),e.payload.skip=!0):n=this.entityChangeTracker.trackDeleteOne(s,n)),this.isOptimistic(e)){var l=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteOne(s,n,l),n=this.adapter.removeOne(s,n)}return this.setLoadingTrue(n)}},{key:"saveDeleteOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveDeleteOneSuccess",value:function(n,e){var t=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes([t],n,s)}else n=this.adapter.removeOne(t,n),n=this.entityChangeTracker.commitOne(t,n);return this.setLoadingFalse(n)}},{key:"saveDeleteMany",value:function(n,e){var t=this,s=this.extractData(e).map(function(l){return"object"==typeof l?t.selectId(l):l});if(s.forEach(function(l){var d=n.changeState[l];d&&(d.changeType===va.Added?(n=t.adapter.removeOne(l,n),n=t.entityChangeTracker.commitOne(l,n),e.payload.skip=!0):n=t.entityChangeTracker.trackDeleteOne(l,n))}),this.isOptimistic(e)){var u=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteMany(s,n,u),n=this.adapter.removeMany(s,n)}return this.setLoadingTrue(n)}},{key:"saveDeleteManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveDeleteManySuccess",value:function(n,e){var t=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes(t,n,s)}else n=this.adapter.removeMany(t,n),n=this.entityChangeTracker.commitMany(t,n);return this.setLoadingFalse(n)}},{key:"saveUpdateOne",value:function(n,e){var t=this.guard.mustBeUpdate(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateOne(t,n,s),n=this.adapter.updateOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpdateOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpdateOneSuccess",value:function(n,e){var t=this.guard.mustBeUpdateResponse(e),s=this.isOptimistic(e),u=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpdates([t],n,u,s),this.setLoadingFalse(n)}},{key:"saveUpdateMany",value:function(n,e){var t=this.guard.mustBeUpdates(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateMany(t,n,s),n=this.adapter.updateMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpdateManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpdateManySuccess",value:function(n,e){var t=this.guard.mustBeUpdateResponses(e),u=(this.isOptimistic(e),this.extractMergeStrategy(e));return n=this.entityChangeTracker.mergeSaveUpdates(t,n,u,!1),this.setLoadingFalse(n)}},{key:"saveUpsertOne",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertOne(t,n,s),n=this.adapter.upsertOne(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpsertOneError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpsertOneSuccess",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts([t],n,s),this.setLoadingFalse(n)}},{key:"saveUpsertMany",value:function(n,e){if(this.isOptimistic(e)){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertMany(t,n,s),n=this.adapter.upsertMany(t,n)}return this.setLoadingTrue(n)}},{key:"saveUpsertManyError",value:function(n,e){return this.setLoadingFalse(n)}},{key:"saveUpsertManySuccess",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts(t,n,s),this.setLoadingFalse(n)}},{key:"addAll",value:function(n,e){var t=this.guard.mustBeEntities(e);return(0,v.A)((0,v.A)({},this.adapter.setAll(t,n)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"addMany",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddMany(t,n,s),this.adapter.addMany(t,n)}},{key:"addOne",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddOne(t,n,s),this.adapter.addOne(t,n)}},{key:"removeMany",value:function(n,e){var t=this.guard.mustBeKeys(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteMany(t,n,s),this.adapter.removeMany(t,n)}},{key:"removeOne",value:function(n,e){var t=this.guard.mustBeKey(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteOne(t,n,s),this.adapter.removeOne(t,n)}},{key:"removeAll",value:function(n,e){return(0,v.A)((0,v.A)({},this.adapter.removeAll(n)),{},{loaded:!1,loading:!1,changeState:{}})}},{key:"updateMany",value:function(n,e){var t=this.guard.mustBeUpdates(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateMany(t,n,s),this.adapter.updateMany(t,n)}},{key:"updateOne",value:function(n,e){var t=this.guard.mustBeUpdate(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateOne(t,n,s),this.adapter.updateOne(t,n)}},{key:"upsertMany",value:function(n,e){var t=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertMany(t,n,s),this.adapter.upsertMany(t,n)}},{key:"upsertOne",value:function(n,e){var t=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertOne(t,n,s),this.adapter.upsertOne(t,n)}},{key:"commitAll",value:function(n){return this.entityChangeTracker.commitAll(n)}},{key:"commitMany",value:function(n,e){return this.entityChangeTracker.commitMany(this.extractData(e),n)}},{key:"commitOne",value:function(n,e){return this.entityChangeTracker.commitOne(this.extractData(e),n)}},{key:"undoAll",value:function(n){return this.entityChangeTracker.undoAll(n)}},{key:"undoMany",value:function(n,e){return this.entityChangeTracker.undoMany(this.extractData(e),n)}},{key:"undoOne",value:function(n,e){return this.entityChangeTracker.undoOne(this.extractData(e),n)}},{key:"setChangeState",value:function(n,e){var t=this.extractData(e);return n.changeState===t?n:(0,v.A)((0,v.A)({},n),{},{changeState:t})}},{key:"setCollection",value:function(n,e){var t=this.extractData(e);return n===t?n:t}},{key:"setFilter",value:function(n,e){var t=this.extractData(e);return n.filter===t?n:(0,v.A)((0,v.A)({},n),{},{filter:t})}},{key:"setLoaded",value:function(n,e){var t=!0===this.extractData(e)||!1;return n.loaded===t?n:(0,v.A)((0,v.A)({},n),{},{loaded:t})}},{key:"setLoading",value:function(n,e){return this.setLoadingFlag(n,this.extractData(e))}},{key:"setLoadingFalse",value:function(n){return this.setLoadingFlag(n,!1)}},{key:"setLoadingTrue",value:function(n){return this.setLoadingFlag(n,!0)}},{key:"setLoadingFlag",value:function(n,e){return n.loading===(e=!0===e)?n:(0,v.A)((0,v.A)({},n),{},{loading:e})}},{key:"extractData",value:function(n){return n.payload&&n.payload.data}},{key:"extractMergeStrategy",value:function(n){return this.isChangeTracking?n.payload&&n.payload.mergeStrategy:zr.IgnoreChanges}},{key:"isOptimistic",value:function(n){return n.payload&&!0===n.payload.isOptimistic}}])}(),D_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.entityDefinitionService=e},[{key:"create",value:function(t){var s=this.entityDefinitionService.getDefinition(t);return new $F(t,s).methods}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wa))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),w_=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.methodsFactory=e},[{key:"create",value:function(t){var s=this.methodsFactory.create(t);return function(l,d){var p=s[d.payload.entityOp];return p?p(l,d):l}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(D_))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),F_=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.entityCollectionReducerFactory=e,this.entityCollectionReducers={},this.entityCollectionMetaReducer=pm.apply(null,t||[])},[{key:"getOrCreateReducer",value:function(t){var s=this.entityCollectionReducers[t];return s||(s=this.entityCollectionReducerFactory.create(t),s=this.registerReducer(t,s),this.entityCollectionReducers[t]=s),s}},{key:"registerReducer",value:function(t,s){return s=this.entityCollectionMetaReducer(s),this.entityCollectionReducers[t.trim()]=s}},{key:"registerReducers",value:function(t){var s=this;(t?Object.keys(t):[]).forEach(function(l){return s.registerReducer(l,t[l])})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(w_),a.\u0275\u0275inject(v_,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),k_=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.entityCollectionCreator=e,this.entityCollectionReducerRegistry=t,this.logger=s},[{key:"create",value:function(){return function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;switch(u.type){case gr.CLEAR_COLLECTIONS:return this.clearCollectionsReducer(s,u);case gr.LOAD_COLLECTIONS:return this.loadCollectionsReducer(s,u);case gr.MERGE_QUERY_SET:return this.mergeQuerySetReducer(s,u);case gr.SAVE_ENTITIES:return this.saveEntitiesReducer(s,u);case gr.SAVE_ENTITIES_CANCEL:return this.saveEntitiesCancelReducer(s,u);case gr.SAVE_ENTITIES_ERROR:return this.saveEntitiesErrorReducer(s,u);case gr.SAVE_ENTITIES_SUCCESS:return this.saveEntitiesSuccessReducer(s,u);case gr.SET_ENTITY_CACHE:return u.payload.cache}var l=u.payload;return l&&l.entityName&&l.entityOp&&!l.error?this.applyCollectionReducer(s,u):s}.bind(this)}},{key:"clearCollectionsReducer",value:function(t,s){var u=this,d=s.payload.collections,g=Et.REMOVE_ALL;return d||(d=Object.keys(t)),d.reduce(function(_,S){var I={entityName:S,entityOp:g},B={type:"[".concat(S,"] ").concat(s.type),payload:I};return u.applyCollectionReducer(_,B)},t)}},{key:"loadCollectionsReducer",value:function(t,s){var u=this,d=s.payload.collections,g=Et.ADD_ALL;return Object.keys(d).reduce(function(S,I){var B={entityName:I,entityOp:g,data:d[I]},$={type:"[".concat(I,"] ").concat(s.type),payload:B};return u.applyCollectionReducer(S,$)},t)}},{key:"mergeQuerySetReducer",value:function(t,s){var u=this,l=s.payload,d=l.mergeStrategy,p=l.querySet;d=null===d?zr.PreserveChanges:d;var _=Et.QUERY_MANY_SUCCESS;return Object.keys(p).reduce(function(I,B){var $={entityName:B,entityOp:_,data:p[B],mergeStrategy:d},Y={type:"[".concat(B,"] ").concat(s.type),payload:$};return u.applyCollectionReducer(I,Y)},t)}},{key:"saveEntitiesReducer",value:function(t,s){var u=this,l=s.payload,d=l.changeSet,p=l.correlationId,g=l.isOptimistic,_=l.mergeStrategy,S=l.tag;try{d.changes.forEach(function(B){var $=B.entityName,Y={entityName:$,entityOp:I(B),data:B.entities,correlationId:p,isOptimistic:g,mergeStrategy:_,tag:S},le={type:"[".concat($,"] ").concat(s.type),payload:Y};if(t=u.applyCollectionReducer(t,le),le.payload.error)throw le.payload.error})}catch(B){s.payload.error=B}return t;function I(B){switch(B.op){case qa.Add:return Et.SAVE_ADD_MANY;case qa.Delete:return Et.SAVE_DELETE_MANY;case qa.Update:return Et.SAVE_UPDATE_MANY;case qa.Upsert:return Et.SAVE_UPSERT_MANY}}}},{key:"saveEntitiesCancelReducer",value:function(t,s){return this.clearLoadingFlags(t,s.payload.entityNames||[])}},{key:"saveEntitiesErrorReducer",value:function(t,s){var d=s.payload.originalAction.payload.changeSet.changes.map(function(p){return p.entityName});return this.clearLoadingFlags(t,d)}},{key:"saveEntitiesSuccessReducer",value:function(t,s){var u=this,l=s.payload,p=l.correlationId,g=l.isOptimistic,_=l.mergeStrategy,S=l.tag;return l.changeSet.changes.forEach(function(B){var $=B.entityName,Y={entityName:$,entityOp:I(B),data:B.entities,correlationId:p,isOptimistic:g,mergeStrategy:_,tag:S},le={type:"[".concat($,"] ").concat(s.type),payload:Y};t=u.applyCollectionReducer(t,le)}),t;function I(B){switch(B.op){case qa.Add:return Et.SAVE_ADD_MANY_SUCCESS;case qa.Delete:return Et.SAVE_DELETE_MANY_SUCCESS;case qa.Update:return Et.SAVE_UPDATE_MANY_SUCCESS;case qa.Upsert:return Et.SAVE_UPSERT_MANY_SUCCESS}}}},{key:"applyCollectionReducer",value:function(){var p,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,u=s.payload.entityName,l=t[u],d=this.entityCollectionReducerRegistry.getOrCreateReducer(u);try{p=d(l||this.entityCollectionCreator.create(u),s)}catch(g){this.logger.error(g),s.payload.error=g}return s.payload.error||l===p?t:(0,v.A)((0,v.A)({},t),{},(0,c.A)({},u,p))}},{key:"clearLoadingFlags",value:function(t,s){var u=!1;return s.forEach(function(l){var d=t[l];d.loading&&(u||(t=(0,v.A)({},t),u=!0),t[l]=(0,v.A)((0,v.A)({},d),{},{loading:!1}))}),t}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Hd),a.\u0275\u0275inject(F_),a.\u0275\u0275inject(Gd))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),HF=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"error",value:function(t,s){t&&(s?console.error(t,s):console.error(t))}},{key:"log",value:function(t,s){t&&(s?console.log(t,s):console.log(t))}},{key:"warn",value:function(t,s){t&&(s?console.warn(t,s):console.warn(t))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),KF=["equipment","information","money","series"],P_=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.pluralNames={},e&&e.forEach(function(s){return t.registerPluralNames(s)})},[{key:"pluralize",value:function(t){return this.pluralNames[t]||(KF.indexOf(t.toLowerCase())>=0?t:/[aeiou]y$/.test(t)?t+"s":t.endsWith("y")?t.substring(0,t.length-1)+"ies":/[s|ss|sh|ch|x|z]$/.test(t)?t+"es":t+"s")}},{key:"registerPluralNames",value:function(t){this.pluralNames=(0,v.A)((0,v.A)({},this.pluralNames),t||{})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(o_,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),I_=[Vm,Om,Is,NF,k_,BF,Hd,w_,D_,F_,x_,S_,Wa,Lm,C_,jm,E_,{provide:Bm,useValue:zd},{provide:yr,useClass:GF},{provide:Gd,useClass:HF},(0,a.provideEnvironmentInitializer)(function(){return function WF(){var o=(0,a.inject)(Gu),r=(0,a.inject)(k_),n=(0,a.inject)(Bm,{optional:!0}),e=(0,a.inject)(OF,{optional:!0}),t=(0,a.inject)(h_,{optional:!0}),s=n||zd,u=(t||[]).map(function(p){return p instanceof a.InjectionToken?(0,a.inject)(p):p}),l="function"==typeof e?e():e,d={key:s,reducers:r.create(),reducerFactory:Rd,initialState:l||{},metaReducers:u};o.addFeature(d)}()})],T_=[c_,f_,Cc,b_,A_,{provide:s_,useClass:u_},{provide:m_,useClass:MF},{provide:Ac,useClass:P_},(0,a.provideEnvironmentInitializer)(function(){return function QF(){var o=(0,a.inject)(Ld),r=(0,a.inject)(b_),n=(0,a.inject)(A_);o.addEffects(r),o.addEffects(n)}()})];function Um(o){return[{provide:h_,useValue:o.entityCacheMetaReducers?o.entityCacheMetaReducers:[]},{provide:v_,useValue:o.entityCollectionMetaReducers?o.entityCollectionMetaReducers:[]},{provide:o_,multi:!0,useValue:o.pluralNames?o.pluralNames:{}},{provide:d_,multi:!0,useValue:o.entityMetadata?o.entityMetadata:[]}]}var XF=function(){var o,r=function(){function n(){(0,h.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[Um(t)]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[I_]}),r}(),YF=function(){var o,r=function(){function n(){(0,h.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[Um(t)]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[T_],imports:[XF]}),r}(),Xo=function(o){return o.Login="[Auth] Login",o.Logout="[Auth] Logout",o.CompleteAuthentication="[Auth] CompleteAuthentication",o.SetUser="[Auth] SetUser",o}(Xo||{}),Gm=(0,m.A)(function o(){(0,h.A)(this,o),this.type=Xo.Login}),zm=(0,m.A)(function o(){(0,h.A)(this,o),this.type=Xo.Logout}),$m=(0,m.A)(function o(){(0,h.A)(this,o),this.type=Xo.CompleteAuthentication}),Hm=(0,m.A)(function o(r){(0,h.A)(this,o),this.payload=r,this.type=Xo.SetUser}),JF={Login:Gm,Logout:zm,CompleteAuthentication:$m,SetUser:Hm},xc=Object.freeze({__proto__:null,get AuthActionTypes(){return Xo},CompleteAuthentication:$m,Login:Gm,Logout:zm,SetUser:Hm,fromAuthActions:JF}),M_={user:void 0,cookies:new Map};function N_(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M_,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Xo.SetUser:o=(0,v.A)((0,v.A)({},o),{},{user:r.payload});break;case Xo.Logout:o=(0,v.A)((0,v.A)({},o),{},{user:void 0})}return o}var Kd={getUser:Fn(gc("auth"),function(o){return o.user})},_i=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.store=e,this.getUser$=this.store.pipe(wr(Kd.getUser)),this.token$=this.store.pipe(wr(Kd.getUser),(0,fe.T)(function(t){return t?"".concat(t.token_type," ").concat(t.access_token):void 0})),this.idToken$=this.store.pipe(wr(Kd.getUser),(0,fe.T)(function(t){return t?"".concat(t.token_type," ").concat(t.id_token):void 0}))},[{key:"login",value:function(){this.store.dispatch(new Gm)}},{key:"logout",value:function(){this.store.dispatch(new zm)}},{key:"setUser",value:function(t){this.store.dispatch(new Hm(t))}},{key:"completeAuthentication",value:function(){this.store.dispatch(new $m)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),tk={PublicUserProfile:{entityName:"PublicUserProfile"}},nk=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.authFacade=e,this.router=t,this.route=s,this.platformId=u},[{key:"ngOnInit",value:(e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:this.authFacade.completeAuthentication(),this.router.navigate(["/pages/create-panel-page"],{queryParams:{cacheBuster:cr()}});case 1:return u.a(2)}},s,this)})),function t(){return e.apply(this,arguments)})}]);var e}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_i),a.\u0275\u0275directiveInject(Yn.Router),a.\u0275\u0275directiveInject(Yn.ActivatedRoute),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-auth-callback"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"auth-callback works!"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),Sc=function(){var o,r=function(){function n(e){(0,h.A)(this,n),e.registerMetadataMap(tk)}return(0,m.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[_i]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wa))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,Em.forFeature("auth",N_)]}),r}(),rk=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.authFacade=e,this.router=t},[{key:"intercept",value:function(t,s){return s.handle(t).pipe((0,q.M)({error:function(l){}}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_i),a.\u0275\u0275inject(Yn.Router))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),qd=b(38195),ak=b(12100),Hu=b(17473),We=b(36647),qm=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.authority=r.authority,this.client_id=r.client_id,this.redirect_uri=r.redirect_uri,this.silent_redirect_uri=r.silent_redirect_uri,this.response_type=r.response_type,this.scope=r.scope,this.filterProtocolClaims=r.filterProtocolClaims,this.loadUserInfo=r.loadUserInfo,this.automaticSilentRenew=r.automaticSilentRenew,this.metadata=(0,v.A)({},r.metadata),this.userStore=r.userStore?r.userStore:void 0,this.stateStore=r.userStore?r.stateStore:void 0)}),Wm=(0,a.makeStateKey)("auth"),Qm=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.clientSettings=e,this.platformId=t,this.transferState=s,this.data={},this.isBrowser=(0,y.isPlatformBrowser)(this.platformId),this.cookieMap={oa:"access_token",oi:"id_token",or:"refresh_token",os:"scope",oe:"expires_at",op:"profile"},this.tokenKey="oidc.user:".concat(this.clientSettings.authority,":").concat(this.clientSettings.client_id)},[{key:"request",set:function(t){this.req=t}},{key:"init",value:function(){var t=this;if(this.isBrowser)if(sessionStorage.getItem(this.tokenKey))this.setItem(this.tokenKey,sessionStorage.getItem(this.tokenKey));else if(this.transferState.hasKey(Wm)){var s=this.transferState.get(Wm,void 0);s&&this.setItem(this.tokenKey,s)}else for(var u=0;u<sessionStorage.length;u++){var l=sessionStorage.key(u);this.setItem(l,sessionStorage.getItem(l))}else{var p,d={token_type:"Bearer"};Object.getOwnPropertyNames(this.cookieMap).forEach(function(g){var _=t.getCookie(g);_&&""!==_&&(_=t.translateFromCookieValue(g,_),"oe"===g?p=_:d[t.cookieMap[g]]=_)}),d.access_token&&(this.data[this.tokenKey]=JSON.stringify(d),this.transferState.set(Wm,JSON.stringify((0,v.A)((0,v.A)({},d),{},{expires_at:p}))))}}},{key:"getItem",value:function(t){return this.data[t]}},{key:"setItem",value:function(t,s){var u=this;if(t===this.tokenKey){var l=JSON.parse(s);Object.getOwnPropertyNames(this.cookieMap).forEach(function(d){u.setCookie(d,u.translateCookieValue(d,l[u.cookieMap[d]]))})}this.isBrowser&&sessionStorage.setItem(t,s),this.data[t]=s}},{key:"removeItem",value:function(t){this.removeCookie(t),this.isBrowser&&sessionStorage.removeItem(t),delete this.data[t]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this.data).length}},{key:"key",value:function(t){return console.log("index()"),Object.getOwnPropertyNames(this.data)[t]}},{key:"getCookie",value:function(t){return this.isBrowser?qd.get(t):this.req?null!==(s=this.req.cookies[t])&&void 0!==s?s:"":void 0;var s}},{key:"setCookie",value:function(t,s){this.isBrowser&&qd.set(t,s)}},{key:"removeCookie",value:function(t){this.isBrowser&&qd.remove(t)}},{key:"translateCookieValue",value:function(t,s){switch(t){case"os":return s.split(" ").join("|");case"oe":return"".concat(s);case"op":return JSON.stringify(s);default:return s}}},{key:"translateFromCookieValue",value:function(t,s){switch(t){case"os":return s.split("|").join(" ");case"oe":return(0,ak.Ro)(s);case"op":return JSON.parse(s);default:return s}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(qm),a.\u0275\u0275inject(Object),a.\u0275\u0275inject(a.TransferState))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),ik=function(r,n){return new Hu.UserManager(new qm((0,v.A)((0,v.A)({},r),{},{stateStore:new Hu.WebStorageStateStore({store:n}),userStore:new Hu.WebStorageStateStore({store:n})})))},sk=function(r,n,e,t){var s=new Qm(r,n,t);return(0,y.isPlatformServer)(n),s.init(),s},uk=function(){var o,r=(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.actions$=e,this.userManager=t,this.entityActionFactory=s,this.login$=ui(function(){return u.actions$.pipe(Eo(xc.AuthActionTypes.Login),(0,q.M)(function(){u.userManager.signinRedirect()}))},{dispatch:!1}),this.logout$=ui(function(){return u.actions$.pipe(Eo(xc.AuthActionTypes.Logout),(0,q.M)(function(){u.userManager.signoutRedirect()}))},{dispatch:!1}),this.completeAuthentication$=ui(function(){return u.actions$.pipe(Eo(xc.AuthActionTypes.CompleteAuthentication),(0,We.n)(function(){return new L.c(function(l){u.userManager.signinRedirectCallback().then(function(d){l.next(new xc.SetUser(d)),l.complete()})})}))}),this.loadCookies$=ui(function(){return u.actions$.pipe(Ud("Cookie"),jd([Et.QUERY_ALL_SUCCESS]),(0,q.M)(function(l){return console.log(l.payload.data)}),(0,q.M)(function(l){}))},{dispatch:!1})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(Hu.UserManager),a.\u0275\u0275inject(Is))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),lk={Cookie:{entityName:"Cookie"}},Xm=new a.InjectionToken("ClientSettings"),ck=function(){var o,r=function(){function n(e){(0,h.A)(this,n),e.registerMetadataMap(lk)}return(0,m.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[{provide:Qm,useFactory:sk,deps:[Xm,a.PLATFORM_ID,a.Injector,a.TransferState]},{provide:Hu.UserManager,useFactory:ik,deps:[Xm,Qm]},(0,a.provideAppInitializer)(function(){var t=function(r,n){return function(){return new Promise(function(t){r.getUser().then(function(s){s?(n.setUser(s),setTimeout(function(){return t()})):t()})})}}((0,a.inject)(Hu.UserManager),(0,a.inject)(_i),(0,a.inject)(a.PLATFORM_ID));return t()})]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wa))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Sc,_c.forFeature([uk])]}),r}(),dk=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.authFacade=e},[{key:"intercept",value:function(t,s){return this.authFacade.idToken$.pipe((0,pn.s)(1),(0,ks.H)(function(u){var l=t.headers;if(t.url.indexOf("/awproxy"),u&&-1===t.url.indexOf("github")&&-1===t.url.indexOf("cloudfront")&&-1===t.url.indexOf("cloudinary")&&-1===t.url.indexOf("carquery")&&-1===t.url.indexOf("gateway.marvel.com")&&-1===t.url.indexOf("hereapi.com")&&-1===t.url.indexOf(".es.")&&-1===t.url.indexOf(".s3.")&&-1===t.url.indexOf("/awproxy")){l=l.set("Authorization",u);var d=t.clone({headers:l});return s.handle(d)}var p=t.clone({headers:l});return s.handle(p)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_i))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Xt=b(75429),An=b(61873),pk=b(93335),fk=b(49931);function Ym(o,r){var n="object"==typeof r;return new Promise(function(e,t){var s=new fk.Ms({next:function(l){e(l),s.unsubscribe()},error:t,complete:function(){n?e(r.defaultValue):t(new pk.G)}});o.subscribe(s)})}var mk=function(){var o,r=(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.actions$=e,this.entityActionFactory=t,this.setUser=ui(function(){return s.actions$.pipe(Eo(xc.AuthActionTypes.SetUser),(0,fe.T)(function(){return s.entityActionFactory.create("Cookie",Et.QUERY_ALL)}))}),this.loadCookies$=ui(function(){return s.actions$.pipe(Ud("Cookie"),jd([Et.QUERY_ALL_SUCCESS]),(0,q.M)(function(u){return console.log(u.payload.data)}),(0,q.M)(function(u){u.payload.data.forEach(function(l){return qd.set(l.name,l.value,{expires:new Date((new Date).getTime()+36e5)})})}))},{dispatch:!1})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(Is))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),gk=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[_c.forFeature([mk])]}),r}(),hk=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.identityPoolId=r.identityPoolId,this.region=r.region,this.userPoolId=r.userPoolId)}),Wd=new a.InjectionToken("CognitoSettings"),vk=b(82846);function Ts(o){var r,n,e,t=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,e=Symbol.iterator);t--;){if(n&&null!=(r=o[n]))return r.call(o);if(e&&null!=(r=o[e]))return new Qd(r.call(o));n="@@asyncIterator",e="@@iterator"}throw new TypeError("Object is not async iterable")}function Qd(o){function r(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var e=n.done;return Promise.resolve(n.value).then(function(t){return{value:t,done:e}})}return(Qd=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new Qd(o)}var Zi=b(7931),pr=function(o){return o.MD5="MD5",o.CRC32="CRC32",o.CRC32C="CRC32C",o.CRC64NVME="CRC64NVME",o.SHA1="SHA1",o.SHA256="SHA256",o}(pr||{}),Zm=pr.CRC32,Ak={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Yo=b(43776),xk=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"allocByteArray",void 0),(0,c.A)(this,"byteLength",0),(0,c.A)(this,"byteArrays",[]),this.allocByteArray=r},[{key:"push",value:function(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}},{key:"flush",value:function(){if(1===this.byteArrays.length){var n=this.byteArrays[0];return this.reset(),n}for(var e=this.allocByteArray(this.byteLength),t=0,s=0;s<this.byteArrays.length;++s){var u=this.byteArrays[s];e.set(u,t),t+=u.byteLength}return this.reset(),e}},{key:"reset",value:function(){this.byteArrays=[],this.byteLength=0}}])}(),Ek=function Sk(o,r,n){var e=o.getReader(),t=!1,s=0,u=["",new xk(function(p){return new Uint8Array(p)})],l=-1,d=function(){var p=(0,Mt.A)((0,Ke.A)().m(function g(_){var S,$,Y,le,ge,be,me;return(0,Ke.A)().w(function(ke){for(;;)switch(ke.n){case 0:return ke.n=1,e.read();case 1:if($=(S=ke.v).value,!S.done){ke.n=2;break}-1!==l&&Ec(Y=eg(u,l))>0&&_.enqueue(Y),_.close(),ke.n=6;break;case 2:if(le=wk($,!1),l!==le&&(l>=0&&_.enqueue(eg(u,l)),l=le),-1!==l){ke.n=3;break}return _.enqueue($),ke.a(2);case 3:if(ge=Ec($),s+=ge,be=Ec(u[l]),!(ge>=r&&0===be)){ke.n=4;break}_.enqueue($),ke.n=6;break;case 4:if(me=Dk(u,l,$),!t&&s>2*r&&(t=!0,n?.warn("@smithy/util-stream - stream chunk size ".concat(ge," is below threshold of ").concat(r,", automatically buffering."))),!(me>=r)){ke.n=5;break}_.enqueue(eg(u,l)),ke.n=6;break;case 5:return ke.n=6,d(_);case 6:return ke.a(2)}},g)}));return function(_){return p.apply(this,arguments)}}();return new ReadableStream({pull:d})};function Dk(o,r,n){switch(r){case 0:return o[0]+=n,Ec(o[0]);case 1:case 2:return o[r].push(n),Ec(o[r])}}function eg(o,r){switch(r){case 0:var n=o[0];return o[0]="",n;case 1:case 2:return o[r].flush()}throw new Error("@smithy/util-stream - invalid index ".concat(r," given to flush()"))}function Ec(o){var r,n;return null!==(r=null!==(n=o?.byteLength)&&void 0!==n?n:o?.length)&&void 0!==r?r:0}function wk(o){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&typeof Buffer<"u"&&o instanceof Buffer?2:o instanceof Uint8Array?1:"string"==typeof o?0:-1}var tg=[pr.CRC32,pr.CRC32C,pr.CRC64NVME,pr.SHA1,pr.SHA256],Fk=[pr.SHA256,pr.SHA1,pr.CRC32,pr.CRC32C,pr.CRC64NVME],kk=function(r,n){var t=n.requestAlgorithmMember;if(!t)return"WHEN_SUPPORTED"===n.requestChecksumCalculation||n.requestChecksumRequired?Zm:void 0;if(r[t]){var u=r[t];if(!tg.includes(u))throw new Error('The checksum algorithm "'.concat(u,'" is not supported by the client.')+" Select one of ".concat(tg,"."));return u}},ng=function(r){return r===pr.MD5?"content-md5":"x-amz-checksum-".concat(r.toLowerCase())},Pk=function(r,n){for(var e=r.toLowerCase(),t=0,s=Object.keys(n);t<s.length;t++)if(e===s[t].toLowerCase())return!0;return!1},Ik=function(r,n){for(var e=r.toLowerCase(),t=0,s=Object.keys(n);t<s.length;t++)if(s[t].toLowerCase().startsWith(e))return!0;return!1},Tk=b(9099),V_=function(r){return void 0!==r&&"string"!=typeof r&&!ArrayBuffer.isView(r)&&!(0,Tk.m)(r)},Ui=b(24398),Or=b(15312),Rk=function(){function o(){this.crc32c=new rg}return o.prototype.update=function(r){(0,Or.isEmptyData)(r)||this.crc32c.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return(0,Ui.__awaiter)(this,void 0,void 0,function(){return(0,Ui.__generator)(this,function(r){return[2,(0,Or.numToUint8)(this.crc32c.digest())]})})},o.prototype.reset=function(){this.crc32c=new rg},o}(),rg=function(){function o(){this.checksum=4294967295}return o.prototype.update=function(r){var n,e;try{for(var t=(0,Ui.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^Nk[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},o.prototype.digest=function(){return(4294967295^this.checksum)>>>0},o}(),Nk=(0,Or.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),Vk=function(){function o(){this.crc32=new ag}return o.prototype.update=function(r){(0,Or.isEmptyData)(r)||this.crc32.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return(0,Ui.__awaiter)(this,void 0,void 0,function(){return(0,Ui.__generator)(this,function(r){return[2,(0,Or.numToUint8)(this.crc32.digest())]})})},o.prototype.reset=function(){this.crc32=new ag},o}(),ag=function(){function o(){this.checksum=4294967295}return o.prototype.update=function(r){var n,e;try{for(var t=(0,Ui.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^Bk[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},o.prototype.digest=function(){return(4294967295^this.checksum)>>>0},o}(),Bk=(0,Or.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),B_=function(r,n){switch(r){case pr.MD5:return n.md5;case pr.CRC32:return Vk;case pr.CRC32C:return Rk;case pr.CRC64NVME:throw new Error('Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. \nYou must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case pr.SHA1:return n.sha1;case pr.SHA256:return n.sha256;default:throw new Error("Unsupported checksum algorithm: ".concat(r))}},jk=b(83060),L_=function(r,n){var e=new r;return e.update((0,jk.F)(n||"")),e.digest()},Uk={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},j_=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],e=(0,N.A)(Fk);try{for(e.s();!(t=e.n()).done;){var s=t.value;!r.includes(s)||!tg.includes(s)||n.push(s)}}catch(u){e.e(u)}finally{e.f()}return n},zk=function(r){var n=r.lastIndexOf("-");if(-1!==n){var e=r.slice(n+1);if(!e.startsWith("0")){var t=parseInt(e,10);if(!isNaN(t)&&t>=1&&t<=1e4)return!0}}return!1},ig=b(47436),og=function(r){var n;return"function"==typeof ReadableStream&&((null==r||null===(n=r.constructor)||void 0===n?void 0:n.name)===ReadableStream.name||r instanceof ReadableStream)},Hk=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}("function"==typeof ReadableStream?ReadableStream:function(){}),Kk=function(r){var l,d,n=r.expectedChecksum,e=r.checksum,t=r.source,s=r.checksumSourceLocation,u=r.base64Encoder;if(!og(t))throw new Error("@smithy/util-stream: unsupported source type ".concat(null!==(l=null==t||null===(d=t.constructor)||void 0===d?void 0:d.name)&&void 0!==l?l:t," in ChecksumStream."));var p=u??ig.n;if("function"!=typeof TransformStream)throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");var g=new TransformStream({start:function(){},transform:function(I,B){return(0,Mt.A)((0,Ke.A)().m(function $(){return(0,Ke.A)().w(function(Y){for(;;)switch(Y.n){case 0:e.update(I),B.enqueue(I);case 1:return Y.a(2)}},$)}))()},flush:function(I){return(0,Mt.A)((0,Ke.A)().m(function B(){var Y,le;return(0,Ke.A)().w(function(ge){for(;;)switch(ge.n){case 0:return ge.n=1,e.digest();case 1:Y=p(ge.v),n!==Y?(le=new Error('Checksum mismatch: expected "'.concat(n,'" but received "').concat(Y,'"')+' in response header "'.concat(s,'".')),I.error(le)):I.terminate();case 2:return ge.a(2)}},B)}))()}});t.pipeThrough(g);var _=g.readable;return Object.setPrototypeOf(_,Hk.prototype),_},qk=function(){var o=(0,Mt.A)(function(r,n){var e=n.checksumAlgorithmFn,t=n.base64Encoder;return(0,Ke.A)().m(function s(){var u;return(0,Ke.A)().w(function(l){for(;;)switch(l.n){case 0:return u=t,l.n=1,L_(e,r);case 1:return l.a(2,u(l.v))}},s)})()});return function(n,e){return o.apply(this,arguments)}}(),Wk=function(){var o=(0,Mt.A)(function(r,n){var e=n.config,t=n.responseAlgorithms,s=n.logger;return(0,Ke.A)().m(function u(){var l,d,p,g,_,S,I,B,$,Y,le,ge;return(0,Ke.A)().w(function(me){for(;;)switch(me.p=me.n){case 0:l=j_(t),d=r.body,p=r.headers,g=(0,N.A)(l),me.p=1,g.s();case 2:if((_=g.n()).done){me.n=11;break}if(I=ng(S=_.value),!(B=p[I])){me.n=10;break}$=void 0,me.p=3,$=B_(S,e),me.n=6;break;case 4:if(me.p=4,ge=me.v,S!==pr.CRC64NVME){me.n=5;break}return s?.warn("Skipping ".concat(pr.CRC64NVME," checksum validation: ").concat(ge.message)),me.a(3,10);case 5:throw ge;case 6:if(Y=e.base64Encoder,!V_(d)){me.n=7;break}return r.body=Kk({expectedChecksum:B,checksumSourceLocation:I,checksum:new $,source:d,base64Encoder:Y}),me.a(2);case 7:return me.n=8,qk(d,{checksumAlgorithmFn:$,base64Encoder:Y});case 8:if((le=me.v)!==B){me.n=9;break}return me.a(3,11);case 9:throw new Error('Checksum mismatch: expected "'.concat(le,'" but received "').concat(B,'"')+' in response header "'.concat(I,'".'));case 10:me.n=2;break;case 11:me.n=13;break;case 12:me.p=12,g.e(me.v);case 13:return me.p=13,g.f(),me.f(13);case 14:return me.a(2)}},u,null,[[3,4],[1,12,13,14]])})()});return function(n,e){return o.apply(this,arguments)}}(),Qk={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},sg=function(r,n){return{applyToStack:function(t){t.add(function(r,n){return function(e,t){return function(){var s=(0,Mt.A)((0,Ke.A)().m(function u(l){var d,p,g,_,S,I,B,$,Y,le,ge,be,me,ke,qe,ct,dt,Rt,ft;return(0,Ke.A)().w(function(yt){for(;;)switch(yt.n){case 0:if(Yo.K.isInstance(l.request)){yt.n=1;break}return yt.a(2,e(l));case 1:if(!Ik("x-amz-checksum-",l.request.headers)){yt.n=2;break}return yt.a(2,e(l));case 2:return p=l.input,g=(d=l.request).body,_=d.headers,S=r.base64Encoder,I=r.streamHasher,B=n.requestChecksumRequired,$=n.requestAlgorithmMember,yt.n=3,r.requestChecksumCalculation();case 3:if(Y=yt.v,le=$?.name,ge=$?.httpHeader,le&&!p[le]&&("WHEN_SUPPORTED"===Y||B)&&(p[le]=Zm,ge&&(_[ge]=Zm)),be=kk(p,{requestChecksumRequired:B,requestAlgorithmMember:$?.name,requestChecksumCalculation:Y}),me=g,ke=_,!be){yt.n=12;break}yt.n=(ft=be)===pr.CRC32?4:ft===pr.CRC32C?5:ft===pr.CRC64NVME?6:ft===pr.SHA1?7:ft===pr.SHA256?8:9;break;case 4:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U"),yt.a(3,9);case 5:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V"),yt.a(3,9);case 6:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W"),yt.a(3,9);case 7:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X"),yt.a(3,9);case 8:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y"),yt.a(3,9);case 9:if(qe=ng(be),ct=B_(be,r),!V_(g)){yt.n=10;break}dt=r.bodyLengthChecker,me=(0,r.getAwsChunkedEncodingStream)("number"==typeof r.requestStreamBufferSize&&r.requestStreamBufferSize>=8192?Ek(g,r.requestStreamBufferSize,t.logger):g,{base64Encoder:S,bodyLengthChecker:dt,checksumLocationName:qe,checksumAlgorithmFn:ct,streamHasher:I}),delete(ke=(0,v.A)((0,v.A)({},_),{},{"content-encoding":_["content-encoding"]?"".concat(_["content-encoding"],",aws-chunked"):"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":_["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":qe}))["content-length"],yt.n=12;break;case 10:if(Pk(qe,_)){yt.n=12;break}return yt.n=11,L_(ct,g);case 11:Rt=yt.v,ke=(0,v.A)((0,v.A)({},_),{},(0,c.A)({},qe,S(Rt)));case 12:return yt.n=13,e((0,v.A)((0,v.A)({},l),{},{request:(0,v.A)((0,v.A)({},d),{},{headers:ke,body:me})}));case 13:return yt.a(2,yt.v)}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),Uk),t.addRelativeTo(function(r,n){return function(e,t){return function(){var s=(0,Mt.A)((0,Ke.A)().m(function u(l){var d,p,g,_,S,I;return(0,Ke.A)().w(function(B){for(;;)switch(B.n){case 0:return d=l.input,p=n.requestValidationModeMember,B.n=1,r.requestChecksumCalculation();case 1:return g=B.v,B.n=2,r.responseChecksumValidation();case 2:_=B.v,B.n="WHEN_REQUIRED"===(S=g)?3:"WHEN_SUPPORTED"===S?4:5;break;case 3:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a"),B.a(3,5);case 4:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z"),B.a(3,5);case 5:B.n="WHEN_REQUIRED"===(I=_)?6:"WHEN_SUPPORTED"===I?7:8;break;case 6:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c"),B.a(3,8);case 7:return(0,Zi.J)(t,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b"),B.a(3,8);case 8:return p&&!d[p]&&"WHEN_SUPPORTED"===_&&(d[p]="ENABLED"),B.a(2,e(l))}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),Ak),t.addRelativeTo(function(r,n){return function(e,t){return function(){var s=(0,Mt.A)((0,Ke.A)().m(function u(l){var d,p,g,_,S,B;return(0,Ke.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(Yo.K.isInstance(l.request)){Y.n=1;break}return Y.a(2,e(l));case 1:return d=l.input,Y.n=2,e(l);case 2:if(g=(p=Y.v).response,S=n.responseAlgorithms,!(_=n.requestValidationModeMember)||"ENABLED"!==d[_]){Y.n=4;break}if(B=t.commandName,"S3Client"!==t.clientName||"GetObjectCommand"!==B||!j_(S).every(function(le){var ge=ng(le),be=g.headers[ge];return!be||zk(be)})){Y.n=3;break}return Y.a(2,p);case 3:return Y.n=4,Wk(g,{config:r,responseAlgorithms:S,logger:t.logger});case 4:return Y.a(2,p)}},u)}));return function(u){return s.apply(this,arguments)}}()}}(r,n),Qk)}}},U_=b(38310),eP={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},nP=b(91386);function rP(o){return ug.apply(this,arguments)}function ug(){return(ug=(0,Mt.A)((0,Ke.A)().m(function o(r){return(0,Ke.A)().w(function(e){for(;;)if(0===e.n)return"function"==typeof r.stream&&(r=r.stream()),e.a(2,r.tee())},o)}))).apply(this,arguments)}function aP(o,r){return lg.apply(this,arguments)}function lg(){return(lg=(0,Mt.A)((0,Ke.A)().m(function o(r,n){var e,t,s,u,l,d,p,g,_,S,I,B,$;return(0,Ke.A)().w(function(Y){for(;;)switch(Y.n){case 0:e=0,t=[],s=r.getReader(),u=!1;case 1:if(u){Y.n=4;break}return Y.n=2,s.read();case 2:if(d=(l=Y.v).done,(p=l.value)&&(t.push(p),e+=null!==(g=p?.byteLength)&&void 0!==g?g:0),!(e>=n)){Y.n=3;break}return Y.a(3,4);case 3:u=d,Y.n=1;break;case 4:s.releaseLock(),_=new Uint8Array(Math.min(n,e)),S=0,I=0,B=t;case 5:if(!(I<B.length)){Y.n=9;break}if(!(($=B[I]).byteLength>_.byteLength-S)){Y.n=6;break}return _.set($.subarray(0,_.byteLength-S),S),Y.a(3,9);case 6:_.set($,S);case 7:S+=$.length;case 8:I++,Y.n=5;break;case 9:return Y.a(2,_)}},o)}))).apply(this,arguments)}var iP={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},uP=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,n=arguments.length>1?arguments[1]:void 0;return r instanceof Uint8Array?Promise.resolve(r):n.streamCollector(r)||Promise.resolve(new Uint8Array)},lP={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Rs=function(r){return{applyToStack:function(e){e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,d,p,g,_,I,B,Y,le,ge,be;return(0,Ke.A)().w(function(me){for(;;)switch(me.n){case 0:return me.n=1,n(u);case 1:if(nP.c.isInstance(p=(d=me.v).response)){me.n=2;break}return me.a(2,d);case 2:if(_=p.body,!((g=p.statusCode)<200||g>=300)){me.n=3;break}return me.a(2,d);case 3:if("function"==typeof _?.stream||"function"==typeof _?.pipe||"function"==typeof _?.tee){me.n=4;break}return me.a(2,d);case 4:if(I=_,B=_,!_||"object"!=typeof _||_ instanceof Uint8Array){me.n=6;break}return me.n=5,rP(_);case 5:Y=(0,k.A)(me.v,2),I=Y[0],B=Y[1];case 6:return p.body=B,me.n=7,uP(I,{streamCollector:function(){var ke=(0,Mt.A)((0,Ke.A)().m(function ct(it){return(0,Ke.A)().w(function(dt){for(;;)if(0===dt.n)return dt.a(2,aP(it,3e3))},ct)}));return function qe(ct){return ke.apply(this,arguments)}}()});case 7:if(le=me.v,"function"==typeof(null===(l=I)||void 0===l?void 0:l.destroy)&&I.destroy(),ge=r.utf8Encoder(le.subarray(le.length-16)),0!==le.length||!iP[e.commandName]){me.n=8;break}throw(be=new Error("S3 aborted request")).name="InternalError",be;case 8:return ge&&ge.endsWith("</Error>")&&(p.statusCode=400),me.a(2,d)}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),lP)}}},dP={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Xd=function(r){return{applyToStack:function(e){e.add(function cP(o){return function(r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,l,d,p,g,_,S,I;return(0,Ke.A)().w(function(B){for(;;)switch(B.n){case 0:s=(0,v.A)({},t.input),l=0,d=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];case 1:if(!(l<d.length)){B.n=4;break}if(!(g=s[(p=d[l]).target])){B.n=3;break}return _=void 0,"string"==typeof g?pP(g,o)?_=o.base64Decoder(g):(_=o.utf8Decoder(g),s[p.target]=o.base64Encoder(_)):(_=ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g),s[p.target]=o.base64Encoder(_)),(S=new o.md5).update(_),I=o,B.n=2,S.digest();case 2:s[p.hash]=I.base64Encoder.call(I,B.v);case 3:l++,B.n=1;break;case 4:return B.a(2,r((0,v.A)((0,v.A)({},t),{},{input:s})))}},e)}));return function(e){return n.apply(this,arguments)}}()}}(r),dP)}}};function pP(o,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o))return!1;try{return 32===r.base64Decoder(o).length}catch{return!1}}var cg,Ms=b(19119),Ns=b(57964),Vs=b(71852),Os={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},$r=b(73181),Ra=b(93628),Ma=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ra.T),mP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"EncryptionTypeMismatch",$fault:"client"},n)]),(0,c.A)(e,"name","EncryptionTypeMismatch"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),gP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"InvalidRequest",$fault:"client"},n)]),(0,c.A)(e,"name","InvalidRequest"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),hP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"InvalidWriteOffset",$fault:"client"},n)]),(0,c.A)(e,"name","InvalidWriteOffset"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),vP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"TooManyParts",$fault:"client"},n)]),(0,c.A)(e,"name","TooManyParts"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),yP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"IdempotencyParameterMismatch",$fault:"client"},n)]),(0,c.A)(e,"name","IdempotencyParameterMismatch"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),_P=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"ObjectAlreadyInActiveTierError",$fault:"client"},n)]),(0,c.A)(e,"name","ObjectAlreadyInActiveTierError"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),G_=function(r){var n="#text";for(var e in r)r.hasOwnProperty(e)&&void 0!==r[e][n]?r[e]=r[e][n]:"object"==typeof r[e]&&null!==r[e]&&(r[e]=G_(r[e]));return r},PP=b(76446),Yd=function(r,n){return(0,PP.w)(r,n).then(function(e){if(e.length){var t;try{t=function kP(o){cg||(cg=new DOMParser);var r=cg.parseFromString(o,"application/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");var n=function(t){var s;if(t.nodeType===Node.TEXT_NODE&&null!==(s=t.textContent)&&void 0!==s&&s.trim())return t.textContent;if(t.nodeType===Node.ELEMENT_NODE){var u=t;if(0===u.attributes.length&&0===u.childNodes.length)return"";for(var l={},d=Array.from(u.attributes),p=0,g=d;p<g.length;p++){var _=g[p];l["".concat(_.name)]=_.value}for(var S=Array.from(u.childNodes),I=0,B=S;I<B.length;I++){var $=B[I],Y=n($);if(null!=Y){var le=$.nodeName;if(1===S.length&&0===d.length&&"#text"===le)return Y;l[le]?Array.isArray(l[le])?l[le].push(Y):l[le]=[l[le],Y]:l[le]=Y}else if(1===S.length&&0===d.length)return u.textContent}return l}return null};return(0,c.A)({},r.documentElement.nodeName,n(r.documentElement))}(e)}catch(d){throw d&&"object"==typeof d&&Object.defineProperty(d,"$responseBodyText",{value:e}),d}var s="#text",u=Object.keys(t)[0],l=t[u];return l[s]&&(l[u]=l[s],delete l[s]),G_(l)}return{}})},IP=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:return u.n=1,Yd(n,e);case 1:return(t=u.v).Error&&(t.Error.message=null!==(s=t.Error.message)&&void 0!==s?s:t.Error.Message),u.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),TP=function(r,n){var e;return void 0!==(null==n||null===(e=n.Error)||void 0===e?void 0:e.Code)?n.Error.Code:void 0!==n?.Code?n.Code:404==r.statusCode?"NotFound":void 0};function RP(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var NP=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"value",void 0),this.value=r},[{key:"toString",value:function(){return function MP(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}(""+this.value)}}])}(),qu=function(){function o(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,h.A)(this,o),(0,c.A)(this,"name",void 0),(0,c.A)(this,"children",void 0),(0,c.A)(this,"attributes",{}),this.name=r,this.children=n}return(0,m.A)(o,[{key:"withName",value:function(n){return this.name=n,this}},{key:"addAttribute",value:function(n,e){return this.attributes[n]=e,this}},{key:"addChildNode",value:function(n){return this.children.push(n),this}},{key:"removeAttribute",value:function(n){return delete this.attributes[n],this}},{key:"n",value:function(n){return this.name=n,this}},{key:"c",value:function(n){return this.children.push(n),this}},{key:"a",value:function(n,e){return null!=e&&(this.attributes[n]=e),this}},{key:"cc",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null!=n[e]){var s=o.of(e,n[e]).withName(t);this.c(s)}}},{key:"l",value:function(n,e,t,s){var u=this;null!=n[e]&&s().map(function(d){d.withName(t),u.c(d)})}},{key:"lc",value:function(n,e,t,s){if(null!=n[e]){var u=s(),l=new o(t);u.map(function(d){l.c(d)}),this.c(l)}}},{key:"toString",value:function(){for(var n=!!this.children.length,e="<".concat(this.name),t=this.attributes,s=0,u=Object.keys(t);s<u.length;s++){var l=u[s],d=t[l];null!=d&&(e+=" ".concat(l,'="').concat(RP(""+d),'"'))}return e+(n?">".concat(this.children.map(function(p){return p.toString()}).join(""),"</").concat(this.name,">"):"/>")}}],[{key:"of",value:function(n,e,t){var s=new o(n);return void 0!==e&&s.addChildNode(new NP(e)),void 0!==t&&s.withName(t),s}}])}();function Jd(o){return encodeURIComponent(o).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}function Bs(o,r){return new OP(o,r)}var OP=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),(0,c.A)(this,"input",void 0),(0,c.A)(this,"context",void 0),(0,c.A)(this,"query",{}),(0,c.A)(this,"method",""),(0,c.A)(this,"headers",{}),(0,c.A)(this,"path",""),(0,c.A)(this,"body",null),(0,c.A)(this,"hostname",""),(0,c.A)(this,"resolvePathStack",[]),this.input=r,this.context=n},[{key:"build",value:(r=(0,Mt.A)((0,Ke.A)().m(function e(){var t,s,u,l,d,g,_;return(0,Ke.A)().w(function(I){for(;;)switch(I.n){case 0:return I.n=1,this.context.endpoint();case 1:s=(t=I.v).hostname,l=void 0===(u=t.protocol)?"https":u,d=t.port,this.path=t.path,g=(0,N.A)(this.resolvePathStack);try{for(g.s();!(_=g.n()).done;)(0,_.value)(this.path)}catch(B){g.e(B)}finally{g.f()}return I.a(2,new Yo.K({protocol:l,hostname:this.hostname||s,port:d,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers}))}},e,this)})),function n(){return r.apply(this,arguments)})},{key:"hn",value:function(n){return this.hostname=n,this}},{key:"bp",value:function(n){var e=this;return this.resolvePathStack.push(function(t){e.path="".concat(null!=t&&t.endsWith("/")?t.slice(0,-1):t||"")+n}),this}},{key:"p",value:function(n,e,t,s){var u=this;return this.resolvePathStack.push(function(l){u.path=function(r,n,e,t,s,u){if(null==n||void 0===n[e])throw new Error("No value provided for input HTTP label: "+e+".");var l=t();if(l.length<=0)throw new Error("Empty value provided for input HTTP label: "+e+".");return r.replace(s,u?l.split("/").map(function(d){return Jd(d)}).join("/"):Jd(l))}(l,u.input,n,e,t,s)}),this}},{key:"h",value:function(n){return this.headers=n,this}},{key:"q",value:function(n){return this.query=n,this}},{key:"b",value:function(n){return this.body=n,this}},{key:"m",value:function(n){return this.method=n,this}}]);var r}(),Mn=b(79286),Xr=function(r){return null!=r},Dc=b(32723),Tn=b(69176),z_=function(r){return r.toISOString().replace(".000Z","Z")},Zd=b(57622),BP=b(21987),LP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"NoSuchUpload",$fault:"client"},n)]),(0,c.A)(e,"name","NoSuchUpload"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),UP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"ObjectNotInActiveTierError",$fault:"client"},n)]),(0,c.A)(e,"name","ObjectNotInActiveTierError"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),GP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"BucketAlreadyExists",$fault:"client"},n)]),(0,c.A)(e,"name","BucketAlreadyExists"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),zP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"BucketAlreadyOwnedByYou",$fault:"client"},n)]),(0,c.A)(e,"name","BucketAlreadyOwnedByYou"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),$P=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"NoSuchBucket",$fault:"client"},n)]),(0,c.A)(e,"name","NoSuchBucket"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),qP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"InvalidObjectState",$fault:"client"},n)]),(0,c.A)(e,"name","InvalidObjectState"),(0,c.A)(e,"$fault","client"),(0,c.A)(e,"StorageClass",void 0),(0,c.A)(e,"AccessTier",void 0),Object.setPrototypeOf(e,r.prototype),e.StorageClass=n.StorageClass,e.AccessTier=n.AccessTier,e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),WP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"NoSuchKey",$fault:"client"},n)]),(0,c.A)(e,"name","NoSuchKey"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),QP=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[(0,v.A)({name:"NotFound",$fault:"client"},n)]),(0,c.A)(e,"name","NotFound"),(0,c.A)(e,"$fault","client"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Ma),eI=function(r){return(0,v.A)((0,v.A)((0,v.A)({},r),r.SecretAccessKey&&{SecretAccessKey:$r.$}),r.SessionToken&&{SessionToken:$r.$})},cI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u;return(0,Ke.A)().w(function(d){for(;;)if(0===d.n)return t=Bs(n,e),s=(0,Mn.Tj)({},Xr,(0,c.A)((0,c.A)((0,c.A)({},Tl,n[_l]),Il,n[sl]),bO,[function(){return Xr(n[mb])},function(){return(0,Dc.JV)(n[mb]).toString()}])),t.bp("/{Key+}"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),t.p("Key",function(){return n.Key},"{Key+}",!0),u=(0,Mn.Tj)((0,c.A)((0,c.A)({},Mh,[,"AbortMultipartUpload"]),Ih,[,(0,Tn.Y0)(n[Ro],"UploadId")])),t.m("DELETE").h(s).q(u).b(void 0),d.a(2,t.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),dI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,d,p;return(0,Ke.A)().w(function(g){for(;;)if(0===g.n)return s=Bs(n,e),u=(0,Mn.Tj)({},Xr,((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={"content-type":"application/xml"},Pc,n[_r]),Ic,n[br]),Tc,n[Ar]),Rc,n[Cr]),Mc,n[xr]),Hp,n[Tr]),AO,[function(){return Xr(n[vb])},function(){return n[vb].toString()}]),Tl,n[_l]),Il,n[sl]),jb,n[fb]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Ub,n[gb]),gu,n[du]),Kp,n[Vp]),hu,n[pu]))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)({},Ih,[,(0,Tn.Y0)(n[Ro],"UploadId")])),void 0!==n.MultipartUpload&&(p=(p=eT(n.MultipartUpload,e)).n("CompleteMultipartUpload"),d=Gb,p.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=p.toString()),s.m("POST").h(u).q(l).b(d),g.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),pI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l;return(0,Ke.A)().w(function(p){for(;;)if(0===p.n)return s=Bs(n,e),u=(0,Mn.Tj)({},Xr,(0,v.A)((0,v.A)({},void 0!==n.Metadata&&Object.keys(n.Metadata).reduce(function(g,_){return g["x-amz-meta-".concat(_.toLowerCase())]=n.Metadata[_],g},{})),{},((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={},$b,n[eb]),Tb,n[tb]),Rb,n[nb]),Mb,n[ab]),Nb,n[ib]),Ob,n[ob]),Bb,[function(){return Xr(n[ap])},function(){return(0,Dc.JV)(n[ap]).toString()}]),Wb,n[ub]),Qb,n[lb]),Xb,n[cb]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Yb,n[db]),es,n[ao]),nA,n[Kn]),aA,n[Ib]),gu,n[du]),Kp,n[Vp]),hu,n[pu]),ts,n[$i]),Rl,n[Sl]),di,[function(){return Xr(n[ia])},function(){return n[ia].toString()}]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Tl,n[_l]),rA,n[Dl]),Zb,n[yb]),eA,[function(){return Xr(n[Cp])},function(){return z_(n[Cp]).toString()}]),Jb,n[lh]),Il,n[sl]),Kb,n[Ca]),Hp,n[Tr])))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)({},hO,[,""])),s.m("POST").h(u).q(l).b(void 0),p.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),fI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u;return(0,Ke.A)().w(function(d){for(;;)if(0===d.n)return t=Bs(n,e),s=(0,Mn.Tj)({},Xr,(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},_O,n[YV]),es,n[ao]),ts,n[$i]),Rl,n[Sl]),di,[function(){return Xr(n[ia])},function(){return n[ia].toString()}])),t.bp("/"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),u=(0,Mn.Tj)((0,c.A)({},mO,[,""])),t.m("GET").h(s).q(u).b(void 0),d.a(2,t.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),mI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,d;return(0,Ke.A)().w(function(g){for(;;)if(0===g.n)return s=Bs(n,e),u=(0,Mn.Tj)({},Xr,(0,v.A)((0,v.A)({},void 0!==n.Metadata&&Object.keys(n.Metadata).reduce(function(_,S){return _["x-amz-meta-".concat(S.toLowerCase())]=n.Metadata[S],_},{})),{},((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={},Ob,n[ob]||"application/octet-stream"),$b,n[eb]),Tb,n[tb]),Rb,n[nb]),Mb,n[ab]),Nb,n[ib]),Vb,[function(){return Xr(n[rp])},function(){return n[rp].toString()}]),Ph,n[Pg]),Th,n[Ca]),Pc,n[_r]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Ic,n[br]),Tc,n[Ar]),Rc,n[Cr]),Mc,n[xr]),Bb,[function(){return Xr(n[ap])},function(){return(0,Dc.JV)(n[ap]).toString()}]),jb,n[fb]),Ub,n[gb]),Wb,n[ub]),Qb,n[lb]),Xb,n[cb]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,Yb,n[db]),CO,[function(){return Xr(n[Pb])},function(){return n[Pb].toString()}]),es,n[ao]),nA,n[Kn]),aA,n[Ib]),gu,n[du]),Kp,n[Vp]),hu,n[pu]),ts,n[$i]),Rl,n[Sl]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,di,[function(){return Xr(n[ia])},function(){return n[ia].toString()}]),Tl,n[_l]),rA,n[Dl]),Zb,n[yb]),eA,[function(){return Xr(n[Cp])},function(){return z_(n[Cp]).toString()}]),Jb,n[lh]),Il,n[sl])))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)({},Mh,[,"PutObject"])),void 0!==n.Body&&(d=n.Body),s.m("PUT").h(u).q(l).b(d),g.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),gI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,d;return(0,Ke.A)().w(function(p){for(;;)if(0===p.n)return t=Bs(n,e),s=(0,Mn.Tj)({},Xr,(0,c.A)((0,c.A)((0,c.A)((0,c.A)({"content-type":"application/xml"},Ph,n[Pg]),Th,n[Ca]),Il,n[sl]),Tl,n[_l])),t.bp("/{Key+}"),t.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),t.p("Key",function(){return n.Key},"{Key+}",!0),u=(0,Mn.Tj)((0,c.A)((0,c.A)({},gO,[,""]),vO,[,n[Jr]])),void 0!==n.Tagging&&(d=Q_(n.Tagging,e),l=Gb,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),l+=d.toString()),t.m("PUT").h(s).q(u).b(l),p.a(2,t.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),hI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,d;return(0,Ke.A)().w(function(g){for(;;)if(0===g.n)return s=Bs(n,e),u=(0,Mn.Tj)({},Xr,((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t={"content-type":"application/octet-stream"},Vb,[function(){return Xr(n[rp])},function(){return n[rp].toString()}]),Ph,n[Pg]),Th,n[Ca]),Pc,n[_r]),Ic,n[br]),Tc,n[Ar]),Rc,n[Cr]),Mc,n[xr]),gu,n[du]),Kp,n[Vp]),(0,c.A)((0,c.A)((0,c.A)(t,hu,n[pu]),Tl,n[_l]),Il,n[sl]))),s.bp("/{Key+}"),s.p("Bucket",function(){return n.Bucket},"{Bucket}",!1),s.p("Key",function(){return n.Key},"{Key+}",!0),l=(0,Mn.Tj)((0,c.A)((0,c.A)((0,c.A)({},Mh,[,"UploadPart"]),fO,[null!=(0,Tn.Y0)(n.PartNumber,"PartNumber"),function(){return n[zi].toString()}]),Ih,[,(0,Tn.Y0)(n[Ro],"UploadId")])),void 0!==n.Body&&(d=n.Body),s.m("PUT").h(u).q(l).b(d),g.a(2,s.build())},r)}));return function(n,e){return o.apply(this,arguments)}}(),vI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t;return(0,Ke.A)().w(function(s){for(;;)switch(s.n){case 0:if(!(204!==n.statusCode&&n.statusCode>=300)){s.n=1;break}return s.a(2,Ls(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)({$metadata:Br(n)},kc,[,n.headers[Nc]])),s.n=2,(0,Zd.P)(n.body,e);case 2:return s.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),yI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l;return(0,Ke.A)().w(function(d){for(;;)switch(d.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){d.n=1;break}return d.a(2,Ls(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({$metadata:Br(n)},ya,[,n.headers[qb]]),ao,[,n.headers[es]]),Jr,[,n.headers[Rh]]),$i,[,n.headers[ts]]),ia,[function(){return void 0!==n.headers[di]},function(){return(0,Tn.yG)(n.headers[di])}]),kc,[,n.headers[Nc]])),u=Tn.Y0,l=Tn.Xk,d.n=2,Yd(n.body,e);case 2:return null!=(s=u(l(d.v),"body"))[ar]&&(t[ar]=(0,Tn.lK)(s[ar])),null!=s[_r]&&(t[_r]=(0,Tn.lK)(s[_r])),null!=s[br]&&(t[br]=(0,Tn.lK)(s[br])),null!=s[Ar]&&(t[Ar]=(0,Tn.lK)(s[Ar])),null!=s[Cr]&&(t[Cr]=(0,Tn.lK)(s[Cr])),null!=s[xr]&&(t[xr]=(0,Tn.lK)(s[xr])),null!=s[Tr]&&(t[Tr]=(0,Tn.lK)(s[Tr])),null!=s[Rr]&&(t[Rr]=(0,Tn.lK)(s[Rr])),null!=s[_n]&&(t[_n]=(0,Tn.lK)(s[_n])),null!=s[hl]&&(t[hl]=(0,Tn.lK)(s[hl])),d.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),_I=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l,d;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){p.n=1;break}return p.a(2,Ls(n,e));case 1:return s=(0,Mn.Tj)((t={$metadata:Br(n)},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,VM,[function(){return void 0!==n.headers[Hb]},function(){return(0,Tn.Y0)((0,Dc.xE)(n.headers[Hb]))}]),jM,[,n.headers[yO]]),ao,[,n.headers[es]]),du,[,n.headers[gu]]),pu,[,n.headers[hu]]),$i,[,n.headers[ts]]),Sl,[,n.headers[Rl]]),ia,[function(){return void 0!==n.headers[di]},function(){return(0,Tn.yG)(n.headers[di])}]),kc,[,n.headers[Nc]]),Ca,[,n.headers[Kb]]),(0,c.A)(t,Tr,[,n.headers[Hp]]))),l=Tn.Y0,d=Tn.Xk,p.n=2,Yd(n.body,e);case 2:return null!=(u=l(d(p.v),"body"))[ar]&&(s[ar]=(0,Tn.lK)(u[ar])),null!=u[_n]&&(s[_n]=(0,Tn.lK)(u[_n])),null!=u[Ro]&&(s[Ro]=(0,Tn.lK)(u[Ro])),p.a(2,s)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),bI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u,l;return(0,Ke.A)().w(function(d){for(;;)switch(d.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){d.n=1;break}return d.a(2,Ls(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({$metadata:Br(n)},ao,[,n.headers[es]]),$i,[,n.headers[ts]]),Sl,[,n.headers[Rl]]),ia,[function(){return void 0!==n.headers[di]},function(){return(0,Tn.yG)(n.headers[di])}])),u=Tn.Y0,l=Tn.Xk,d.n=2,Yd(n.body,e);case 2:return null!=(s=u(l(d.v),"body"))[Dg]&&(t[Dg]=gM(s[Dg],e)),d.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),AI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){u.n=1;break}return u.a(2,Ls(n,e));case 1:return s=(0,Mn.Tj)((t={$metadata:Br(n)},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,ya,[,n.headers[qb]]),Rr,[,n.headers[Lb]]),_r,[,n.headers[Pc]]),br,[,n.headers[Ic]]),Ar,[,n.headers[Tc]]),Cr,[,n.headers[Rc]]),xr,[,n.headers[Mc]]),Tr,[,n.headers[Hp]]),ao,[,n.headers[es]]),Jr,[,n.headers[Rh]]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,du,[,n.headers[gu]]),pu,[,n.headers[hu]]),$i,[,n.headers[ts]]),Sl,[,n.headers[Rl]]),ia,[function(){return void 0!==n.headers[di]},function(){return(0,Tn.yG)(n.headers[di])}]),_a,[function(){return void 0!==n.headers[tA]},function(){return(0,Tn.V0)(n.headers[tA])}]),kc,[,n.headers[Nc]]))),u.n=2,(0,Zd.P)(n.body,e);case 2:return u.a(2,s)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),CI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t;return(0,Ke.A)().w(function(s){for(;;)switch(s.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){s.n=1;break}return s.a(2,Ls(n,e));case 1:return t=(0,Mn.Tj)((0,c.A)({$metadata:Br(n)},Jr,[,n.headers[Rh]])),s.n=2,(0,Zd.P)(n.body,e);case 2:return s.a(2,t)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),xI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!(200!==n.statusCode&&n.statusCode>=300)){u.n=1;break}return u.a(2,Ls(n,e));case 1:return s=(0,Mn.Tj)((t={$metadata:Br(n)},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)(t,ao,[,n.headers[es]]),Rr,[,n.headers[Lb]]),_r,[,n.headers[Pc]]),br,[,n.headers[Ic]]),Ar,[,n.headers[Tc]]),Cr,[,n.headers[Rc]]),xr,[,n.headers[Mc]]),du,[,n.headers[gu]]),pu,[,n.headers[hu]]),$i,[,n.headers[ts]]),(0,c.A)((0,c.A)(t,ia,[function(){return void 0!==n.headers[di]},function(){return(0,Tn.yG)(n.headers[di])}]),kc,[,n.headers[Nc]]))),u.n=2,(0,Zd.P)(n.body,e);case 2:return u.a(2,s)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),Ls=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,l,d,p,_;return(0,Ke.A)().w(function(S){for(;;)switch(S.n){case 0:return l=v.A,d=(0,v.A)({},n),p={},S.n=1,IP(n.body,e);case 1:t=l(d,p,{body:S.v}),s=TP(n,t.body),S.n="NoSuchUpload"===(_=s)||"com.amazonaws.s3#NoSuchUpload"===_?2:"ObjectNotInActiveTierError"===_||"com.amazonaws.s3#ObjectNotInActiveTierError"===_?4:"BucketAlreadyExists"===_||"com.amazonaws.s3#BucketAlreadyExists"===_?6:"BucketAlreadyOwnedByYou"===_||"com.amazonaws.s3#BucketAlreadyOwnedByYou"===_?8:"NoSuchBucket"===_||"com.amazonaws.s3#NoSuchBucket"===_?10:"InvalidObjectState"===_||"com.amazonaws.s3#InvalidObjectState"===_?12:"NoSuchKey"===_||"com.amazonaws.s3#NoSuchKey"===_?14:"NotFound"===_||"com.amazonaws.s3#NotFound"===_?16:"EncryptionTypeMismatch"===_||"com.amazonaws.s3#EncryptionTypeMismatch"===_?18:"InvalidRequest"===_||"com.amazonaws.s3#InvalidRequest"===_?20:"InvalidWriteOffset"===_||"com.amazonaws.s3#InvalidWriteOffset"===_?22:"TooManyParts"===_||"com.amazonaws.s3#TooManyParts"===_?24:"IdempotencyParameterMismatch"===_||"com.amazonaws.s3#IdempotencyParameterMismatch"===_?26:"ObjectAlreadyInActiveTierError"===_||"com.amazonaws.s3#ObjectAlreadyInActiveTierError"===_?28:30;break;case 2:return S.n=3,MI(t,e);case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 29:throw S.v;case 4:return S.n=5,OI(t,e);case 6:return S.n=7,EI(t,e);case 8:return S.n=9,DI(t,e);case 10:return S.n=11,TI(t,e);case 12:return S.n=13,kI(t,e);case 14:return S.n=15,RI(t,e);case 16:return S.n=17,NI(t,e);case 18:return S.n=19,wI(t,e);case 20:return S.n=21,PI(t,e);case 22:return S.n=23,II(t,e);case 24:return S.n=25,BI(t,e);case 26:return S.n=27,FI(t,e);case 28:return S.n=29,VI(t,e);case 30:return S.a(2,SI({output:n,parsedBody:t.body,errorCode:s}));case 31:return S.a(2)}},r)}));return function(n,e){return o.apply(this,arguments)}}(),SI=(0,BP.j)(Ma),EI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new GP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),DI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new zP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),wI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new mP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),FI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new yP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),kI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,s,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),null!=(s=n.body)[wo]&&(t[wo]=(0,Tn.lK)(s[wo])),null!=s[Kn]&&(t[Kn]=(0,Tn.lK)(s[Kn])),u=new qP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),PI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new gP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),II=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new hP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),TI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new $P((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),RI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new WP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),MI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new LP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),NI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new QP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),VI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new _P((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),OI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new UP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),BI=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e){var t,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return t=(0,Mn.Tj)({}),u=new vP((0,v.A)({$metadata:Br(n)},t)),l.a(2,(0,Ra.M)(u,n.body))},r)}));return function(n,e){return o.apply(this,arguments)}}(),eT=function(r,n){var e=new qu(JM);return e.l(r,"Parts","Part",function(){return nT(r[ph],n)}),e},nT=function(r,n){return r.filter(function(e){return null!=e}).map(function(e){var t=function(r){var e=new qu(nN);return e.cc(r,Rr),e.cc(r,_r),e.cc(r,br),e.cc(r,Ar),e.cc(r,Cr),e.cc(r,xr),null!=r[zi]&&e.c(qu.of(zi,String(r[zi])).n(zi)),e}(e);return t.n(Zr)})},Q_=function(r,n){var e=new qu(Dl);return e.lc(r,"TagSet","TagSet",function(){return js(r[uO],n)}),e},js=function(r,n){return r.filter(function(e){return null!=e}).map(function(e){return function(r){var e=new qu(kn);return null!=r[_n]&&e.c(qu.of(uh,r[_n]).n(_n)),e.cc(r,ci),e}(e).n(kn)})},gM=function(r,n){var e={};return null!=r[_g]&&(e[_g]=(0,Tn.lK)(r[_g])),null!=r[hh]&&(e[hh]=(0,Tn.lK)(r[hh])),null!=r[Ah]&&(e[Ah]=(0,Tn.lK)(r[Ah])),null!=r[ya]&&(e[ya]=(0,Tn.Y0)((0,Dc.t_)(r[ya]))),e},Br=function(r){var n,e;return{httpStatusCode:r.statusCode,requestId:null!==(n=null!==(e=r.headers["x-amzn-requestid"])&&void 0!==e?e:r.headers["x-amzn-request-id"])&&void 0!==n?n:r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}},eb="ACL",VM="AbortDate",_g="AccessKeyId",jM="AbortRuleId",wo="AccessTier",ar="Bucket",ia="BucketKeyEnabled",Dg="Credentials",Ca="ChecksumAlgorithm",tb="CacheControl",_r="ChecksumCRC32",br="ChecksumCRC32C",Ar="ChecksumCRC64NVME",nb="ContentDisposition",ab="ContentEncoding",ib="ContentLanguage",rp="ContentLength",Pg="ContentMD5",JM="CompletedMultipartUpload",nN="CompletedPart",Cr="ChecksumSHA1",xr="ChecksumSHA256",Tr="ChecksumType",ob="ContentType",ap="Expires",sl="ExpectedBucketOwner",Rr="ETag",ya="Expiration",ub="GrantFullControl",lb="GrantRead",cb="GrantReadACP",db="GrantWriteACP",fb="IfMatch",mb="IfMatchInitiatedTime",gb="IfNoneMatch",_n="Key",hl="Location",vb="MpuObjectSize",uh="ObjectKey",lh="ObjectLockLegalHoldStatus",yb="ObjectLockMode",Cp="ObjectLockRetainUntilDate",zi="PartNumber",ph="Parts",kc="RequestCharged",_l="RequestPayer",hh="SecretAccessKey",Kn="StorageClass",YV="SessionMode",ao="ServerSideEncryption",du="SSECustomerAlgorithm",Vp="SSECustomerKey",pu="SSECustomerKeyMD5",Sl="SSEKMSEncryptionContext",$i="SSEKMSKeyId",Ah="SessionToken",_a="Size",Dl="Tagging",uO="TagSet",kn="Tag",Ro="UploadId",Jr="VersionId",ci="Value",Pb="WriteOffsetBytes",Ib="WebsiteRedirectLocation",Tb="cache-control",Rb="content-disposition",Mb="content-encoding",Nb="content-language",Vb="content-length",Ph="content-md5",Ob="content-type",Bb="expires",Lb="etag",jb="if-match",Ub="if-none-match",Zr="member",fO="partNumber",mO="session",gO="tagging",hO="uploads",Ih="uploadId",vO="versionId",Gb='<?xml version="1.0" encoding="UTF-8"?>',$b="x-amz-acl",Hb="x-amz-abort-date",yO="x-amz-abort-rule-id",Kb="x-amz-checksum-algorithm",Pc="x-amz-checksum-crc32",Ic="x-amz-checksum-crc32c",Tc="x-amz-checksum-crc64nvme",Rc="x-amz-checksum-sha1",Mc="x-amz-checksum-sha256",_O="x-amz-create-session-mode",Hp="x-amz-checksum-type",qb="x-amz-expiration",Il="x-amz-expected-bucket-owner",Wb="x-amz-grant-full-control",Qb="x-amz-grant-read",Xb="x-amz-grant-read-acp",Yb="x-amz-grant-write-acp",bO="x-amz-if-match-initiated-time",AO="x-amz-mp-object-size",Jb="x-amz-object-lock-legal-hold",Zb="x-amz-object-lock-mode",eA="x-amz-object-lock-retain-until-date",tA="x-amz-object-size",Nc="x-amz-request-charged",Tl="x-amz-request-payer",nA="x-amz-storage-class",Th="x-amz-sdk-checksum-algorithm",es="x-amz-server-side-encryption",ts="x-amz-server-side-encryption-aws-kms-key-id",di="x-amz-server-side-encryption-bucket-key-enabled",Rl="x-amz-server-side-encryption-context",gu="x-amz-server-side-encryption-customer-algorithm",Kp="x-amz-server-side-encryption-customer-key",hu="x-amz-server-side-encryption-customer-key-md5",rA="x-amz-tagging",Rh="x-amz-version-id",CO="x-amz-write-offset-bytes",aA="x-amz-website-redirect-location",Mh="x-id",iA=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),sg(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),{applyToStack:function(e){e.add(function Zk(){return function(o,r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,u,l;return(0,Ke.A)().w(function(d){for(;;)if(0===d.n)return Yo.K.isInstance(s=t.request)&&!("content-length"in s.headers)&&!("x-amz-decoded-content-length"in s.headers)&&(l="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.","function"!=typeof(null==r||null===(u=r.logger)||void 0===u?void 0:u.warn)||r.logger instanceof U_.N?console.warn(l):r.logger.warn(l)),d.a(2,o((0,v.A)({},t)))},e)}));return function(e){return n.apply(this,arguments)}}()}}(),eP)}},Rs(n),Xd(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(function(r){return(0,v.A)((0,v.A)((0,v.A)((0,v.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$}),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})},function(r){return(0,v.A)((0,v.A)((0,v.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})}).ser(mI).de(AI).build()),xO=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),Rs(n),Xd(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(function(r){return(0,v.A)((0,v.A)((0,v.A)((0,v.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$}),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})},function(r){return(0,v.A)((0,v.A)((0,v.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})}).ser(pI).de(_I).build()),SO=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),Rs(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(cI).de(vI).build()),EO=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),sg(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Rs(n),Xd(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(function(r){return(0,v.A)((0,v.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$})},function(r){return(0,v.A)((0,v.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$})}).ser(hI).de(xI).build()),DO=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),Rs(n),Xd(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(function(r){return(0,v.A)((0,v.A)({},r),r.SSECustomerKey&&{SSECustomerKey:$r.$})},function(r){return(0,v.A)((0,v.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$})}).ser(dI).de(yI).build()),wO=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{Bucket:{type:"contextParams",name:"Bucket"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),sg(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Rs(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(gI).de(CI).build()),FO=function(){return(0,m.A)(function o(){(0,h.A)(this,o),(0,c.A)(this,"onabort",null),(0,c.A)(this,"_aborted",!1),Object.defineProperty(this,"_aborted",{value:!1,writable:!0})},[{key:"aborted",get:function(){return this._aborted}},{key:"abort",value:function(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}])}(),kO=function(){return(0,m.A)(function o(){(0,h.A)(this,o),(0,c.A)(this,"signal",new FO)},[{key:"abort",value:function(){this.signal.abort()}}])}(),PO=b(4266),oA=b(71522),Nh=b(44339),ns=b(163),qp=(0,v.A)((0,v.A)({},{lstatSync:function(){},isFileReadStream:function(r){return!1}}),{},{runtime:"browser"}),Wp=function(r){if(null==r)return 0;if("string"==typeof r)return ns.Buffer.byteLength(r);if("number"==typeof r.byteLength)return r.byteLength;if("number"==typeof r.length)return r.length;if("number"==typeof r.size)return r.size;if("number"==typeof r.start&&"number"==typeof r.end)return r.end+1-r.start;if(qp.isFileReadStream(r))try{return qp.lstatSync(r.path).size}catch{return}},Mo=function(o){return o.EMPTY_INPUT="a null or undefined Body",o.CONTENT_LENGTH="the ContentLength property of the params set by the caller",o.STRING_LENGTH="the encoded byte length of the Body string",o.TYPED_ARRAY="the byteLength of a typed byte array such as Uint8Array",o.LENGTH="the value of Body.length",o.SIZE="the value of Body.size",o.START_END_DIFF="the numeric difference between Body.start and Body.end",o.LSTAT="the size of the file given by Body.path on disk as reported by lstatSync",o}(Mo||{}),RO=b(44834);function sA(o,r){this.v=o,this.k=r}function Ea(o){return new sA(o,0)}function io(o){return function(){return new Vc(o.apply(this,arguments))}}function Vc(o){var r,n;function e(s,u){try{var l=o[s](u),d=l.value,p=d instanceof sA;Promise.resolve(p?d.v:d).then(function(g){if(p){var _="return"===s?"return":"next";if(!d.k||g.done)return e(_,g);g=o[_](g).value}t(l.done?"return":"normal",g)},function(g){e("throw",g)})}catch(g){t("throw",g)}}function t(s,u){switch(s){case"return":r.resolve({value:u,done:!0});break;case"throw":r.reject(u);break;default:r.resolve({value:u,done:!1})}(r=r.next)?e(r.key,r.arg):n=null}this._invoke=function(s,u){return new Promise(function(l,d){var p={key:s,arg:u,resolve:l,reject:d,next:null};n?n=n.next=p:(r=n=p,e(s,u))})},"function"!=typeof o.return&&(this.return=void 0)}function Vh(o,r,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=io((0,Ke.A)().m(function o(r,n,e){var t,s,u,l,d,p,g,_,S;return(0,Ke.A)().w(function(B){for(;;)switch(B.p=B.n){case 0:t=1,s={chunks:[],length:0},u=!1,l=!1,B.p=1,p=Ts(e(r));case 2:return B.n=3,Ea(p.next());case 3:if(!(u=!(g=B.v).done)){B.n=7;break}s.chunks.push(_=g.value),s.length+=_.byteLength;case 4:if(!(s.length>n)){B.n=6;break}return S=s.chunks.length>1?ns.Buffer.concat(s.chunks):s.chunks[0],B.n=5,{partNumber:t,data:S.subarray(0,n)};case 5:s.chunks=[S.subarray(n)],s.length=s.chunks[0].byteLength,t+=1,B.n=4;break;case 6:u=!1,B.n=2;break;case 7:B.n=9;break;case 8:B.p=8,l=!0,d=B.v;case 9:if(B.p=9,B.p=10,!u||null==p.return){B.n=11;break}return B.n=11,Ea(p.return());case 11:if(B.p=11,!l){B.n=12;break}throw d;case 12:return B.f(11);case 13:return B.f(9);case 14:return B.n=15,{partNumber:t,data:1!==s.chunks.length?ns.Buffer.concat(s.chunks):s.chunks[0],lastPart:!0};case 15:return B.a(2)}},o,null,[[10,,11,13],[1,8,9,14]])}))).apply(this,arguments)}function uA(o,r){return Bh.apply(this,arguments)}function Bh(){return(Bh=io((0,Ke.A)().m(function o(r,n){var e,t,s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:e=1,t=0,s=n;case 1:if(!(s<r.byteLength)){u.n=3;break}return u.n=2,{partNumber:e,data:r.subarray(t,s)};case 2:e+=1,s=(t=s)+n,u.n=1;break;case 3:return u.n=4,{partNumber:e,data:r.subarray(t),lastPart:!0};case 4:return u.a(2)}},o)}))).apply(this,arguments)}function MO(o){return Lh.apply(this,arguments)}function Lh(){return(Lh=io((0,Ke.A)().m(function o(r){var n,e,t,s,u,l;return(0,Ke.A)().w(function(p){for(;;)switch(p.p=p.n){case 0:n=!1,e=!1,p.p=1,s=Ts(r);case 2:return p.n=3,Ea(s.next());case 3:if(!(n=!(u=p.v).done)){p.n=7;break}if(!(ns.Buffer.isBuffer(l=u.value)||l instanceof Uint8Array)){p.n=5;break}return p.n=4,l;case 4:p.n=6;break;case 5:return p.n=6,ns.Buffer.from(l);case 6:n=!1,p.n=2;break;case 7:p.n=9;break;case 8:p.p=8,e=!0,t=p.v;case 9:if(p.p=9,p.p=10,!n||null==s.return){p.n=11;break}return p.n=11,Ea(s.return());case 11:if(p.p=11,!e){p.n=12;break}throw t;case 12:return p.f(11);case 13:return p.f(9);case 14:return p.a(2)}},o,null,[[10,,11,13],[1,8,9,14]])}))).apply(this,arguments)}function lA(o){return jh.apply(this,arguments)}function jh(){return(jh=io((0,Ke.A)().m(function o(r){var n,e,s;return(0,Ke.A)().w(function(l){for(;;)switch(l.p=l.n){case 0:n=r.getReader(),l.p=1;case 2:return l.n=3,Ea(n.read());case 3:if(s=(e=l.v).value,!e.done){l.n=4;break}return l.a(2);case 4:if(!(ns.Buffer.isBuffer(s)||s instanceof Uint8Array)){l.n=6;break}return l.n=5,s;case 5:l.n=7;break;case 6:return l.n=7,ns.Buffer.from(s);case 7:l.n=2;break;case 8:l.n=10;break;case 9:throw l.p=9,l.v;case 10:return l.p=10,n.releaseLock(),l.f(10);case 11:return l.a(2)}},o,null,[[1,9,10,11]])}))).apply(this,arguments)}Vc.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Vc.prototype.next=function(o){return this._invoke("next",o)},Vc.prototype.throw=function(o){return this._invoke("throw",o)},Vc.prototype.return=function(o){return this._invoke("return",o)};var NO=function(r,n){if(r instanceof Uint8Array)return uA(r,n);if(r instanceof RO.Readable)return Vh(r,n,MO);if(r instanceof String||"string"==typeof r)return uA(ns.Buffer.from(r),n);if("function"==typeof r.stream)return Vh(r.stream(),n,lA);if(r instanceof ReadableStream)return Vh(r,n,lA);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},VO=function(){var o=function(r){function n(e){var t,s,u;if((0,h.A)(this,n),u=(0,F.A)(this,n),(0,c.A)(u,"MAX_PARTS",1e4),(0,c.A)(u,"queueSize",4),(0,c.A)(u,"partSize",void 0),(0,c.A)(u,"leavePartsOnError",!1),(0,c.A)(u,"tags",[]),(0,c.A)(u,"client",void 0),(0,c.A)(u,"params",void 0),(0,c.A)(u,"totalBytes",void 0),(0,c.A)(u,"totalBytesSource",void 0),(0,c.A)(u,"bytesUploadedSoFar",void 0),(0,c.A)(u,"abortController",void 0),(0,c.A)(u,"concurrentUploaders",[]),(0,c.A)(u,"createMultiPartPromise",void 0),(0,c.A)(u,"abortMultipartUploadCommand",null),(0,c.A)(u,"uploadedParts",[]),(0,c.A)(u,"uploadEnqueuedPartsCount",0),(0,c.A)(u,"expectedPartsCount",void 0),(0,c.A)(u,"uploadId",void 0),(0,c.A)(u,"uploadEvent",void 0),(0,c.A)(u,"isMultiPart",!0),(0,c.A)(u,"singleUploadResult",void 0),(0,c.A)(u,"sent",!1),u.queueSize=e.queueSize||u.queueSize,u.leavePartsOnError=e.leavePartsOnError||u.leavePartsOnError,u.tags=e.tags||u.tags,u.client=e.client,u.params=e.params,!u.params)throw new Error("InputError: Upload requires params to be passed to upload.");return u.totalBytes=null!==(t=u.params.ContentLength)&&void 0!==t?t:Wp(u.params.Body),u.totalBytesSource=function(r,n){if(null!=n)return Mo.CONTENT_LENGTH;if(null==r)return Mo.EMPTY_INPUT;if("string"==typeof r)return Mo.STRING_LENGTH;if("number"==typeof r.byteLength)return Mo.TYPED_ARRAY;if("number"==typeof r.length)return Mo.LENGTH;if("number"==typeof r.size)return Mo.SIZE;if("number"==typeof r.start&&"number"==typeof r.end)return Mo.START_END_DIFF;if(qp.isFileReadStream(r))try{return qp.lstatSync(r.path),Mo.LSTAT}catch{return}}(u.params.Body,u.params.ContentLength),u.bytesUploadedSoFar=0,u.abortController=null!==(s=e.abortController)&&void 0!==s?s:new kO,u.partSize=e.partSize||Math.max(n.MIN_PART_SIZE,Math.floor((u.totalBytes||0)/u.MAX_PARTS)),void 0!==u.totalBytes&&(u.expectedPartsCount=Math.ceil(u.totalBytes/u.partSize)),u.__validateInput(),u}return(0,w.A)(n,r),(0,m.A)(n,[{key:"abort",value:(e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:this.abortController.abort();case 1:return u.a(2)}},s,this)})),function t(){return e.apply(this,arguments)})},{key:"done",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!this.sent){u.n=1;break}throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");case 1:return this.sent=!0,u.n=2,Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)]);case 2:return u.a(2,u.v)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"on",value:function(t,s){return this.uploadEvent=t,(0,Ne.A)(n,"on",this,3)([t,s])}},{key:"__uploadUsingPut",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(u){var d,p,g,_,S,I,B,$,Y,le,ge,be,me,ke,l=this;return(0,Ke.A)().w(function(qe){for(;;)switch(qe.n){case 0:return this.isMultiPart=!1,p=(0,v.A)((0,v.A)({},this.params),{},{Body:u.data}),I=function(it){l.bytesUploadedSoFar=it.loaded,l.totalBytes=it.total,l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:u.partNumber,Key:l.params.Key,Bucket:l.params.Bucket})},null!==(S=(_=(g=this.client.config).requestHandler)instanceof Nh.EventEmitter?_:null)&&S.on("xhr.upload.progress",I),qe.n=1,Promise.all([this.client.send(new iA(p)),null==g||null===(d=g.endpoint)||void 0===d?void 0:d.call(g)]);case 1:if($=(B=qe.v)[0],Y=B[1]){qe.n=3;break}return ke=PO.a,qe.n=2,(0,oA.r)(p,iA,(0,v.A)({},g));case 2:Y=ke(qe.v);case 3:if(Y){qe.n=4;break}throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');case 4:null!==S&&S.off("xhr.upload.progress",I),le=this.params.Key.split("/").map(function(ct){return Jd(ct)}).join("/"),ge=Jd(this.params.Bucket),be=function(){var ct=Y.hostname.startsWith("".concat(ge,".")),it=l.client.config.forcePathStyle,dt=Y.port?":".concat(Y.port):"";return it?"".concat(Y.protocol,"//").concat(Y.hostname).concat(dt,"/").concat(ge,"/").concat(le):ct?"".concat(Y.protocol,"//").concat(Y.hostname).concat(dt,"/").concat(le):"".concat(Y.protocol,"//").concat(ge,".").concat(Y.hostname).concat(dt,"/").concat(le)}(),this.singleUploadResult=(0,v.A)((0,v.A)({},$),{},{Bucket:this.params.Bucket,Key:this.params.Key,Location:be}),me=Wp(u.data),this.__notifyProgress({loaded:me,total:me,part:1,Key:this.params.Key,Bucket:this.params.Bucket});case 5:return qe.a(2)}},s,this)}));return function t(s){return e.apply(this,arguments)}}()},{key:"__createMultipartUpload",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){var l,d,u=this;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:return p.n=1,this.client.config.requestChecksumCalculation();case 1:return l=p.v,this.createMultiPartPromise||(d=(0,v.A)((0,v.A)({},this.params),{},{Body:void 0}),"WHEN_SUPPORTED"===l&&(d.ChecksumAlgorithm=this.params.ChecksumAlgorithm||"CRC32"),this.createMultiPartPromise=this.client.send(new xO(d)).then(function(g){return u.abortMultipartUploadCommand=new SO({Bucket:u.params.Bucket,Key:u.params.Key,UploadId:g.UploadId}),g})),p.a(2,this.createMultiPartPromise)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"__doConcurrentUpload",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(u){var d,p,g,_,S,I,B,l=this;return(0,Ke.A)().w(function(Y){for(;;)switch(Y.p=Y.n){case 0:d=!1,p=!1,Y.p=1,_=(0,Ke.A)().m(function le(){var ge,ke,qe,ct,it,dt,Rt;return(0,Ke.A)().w(function(ft){for(;;)switch(ft.n){case 0:if(ge=B.value,!(l.uploadEnqueuedPartsCount>l.MAX_PARTS)){ft.n=1;break}throw new Error("Exceeded ".concat(l.MAX_PARTS," parts in multipart upload to Bucket: ").concat(l.params.Bucket," Key: ").concat(l.params.Key,"."));case 1:if(!l.abortController.signal.aborted){ft.n=2;break}return ft.a(2,{v:void 0});case 2:if(1!==ge.partNumber||!ge.lastPart){ft.n=4;break}return ft.n=3,l.__uploadUsingPut(ge);case 3:return ft.a(2,{v:ft.v});case 4:if(l.uploadId){ft.n=6;break}return ft.n=5,l.__createMultipartUpload();case 5:if(l.uploadId=ft.v.UploadId,!l.abortController.signal.aborted){ft.n=6;break}return ft.a(2,{v:void 0});case 6:return ke=Wp(ge.data)||0,it=0,dt=function(Dt,Jt){(Number(Jt.query.partNumber)||-1)===ge.partNumber&&(Dt.total&&ke&&(l.bytesUploadedSoFar+=Dt.loaded-it,it=Dt.loaded),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:ge.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}))},null!==(ct=(qe=l.client.config.requestHandler)instanceof Nh.EventEmitter?qe:null)&&ct.on("xhr.upload.progress",dt),l.uploadEnqueuedPartsCount+=1,l.__validateUploadPart(ge),ft.n=7,l.client.send(new EO((0,v.A)((0,v.A)({},l.params),{},{ContentLength:void 0,UploadId:l.uploadId,Body:ge.data,PartNumber:ge.partNumber})));case 7:if(Rt=ft.v,null!==ct&&ct.off("xhr.upload.progress",dt),!l.abortController.signal.aborted){ft.n=8;break}return ft.a(2,{v:void 0});case 8:if(Rt.ETag){ft.n=9;break}throw new Error("Part ".concat(ge.partNumber," is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?"));case 9:l.uploadedParts.push((0,v.A)((0,v.A)((0,v.A)((0,v.A)({PartNumber:ge.partNumber,ETag:Rt.ETag},Rt.ChecksumCRC32&&{ChecksumCRC32:Rt.ChecksumCRC32}),Rt.ChecksumCRC32C&&{ChecksumCRC32C:Rt.ChecksumCRC32C}),Rt.ChecksumSHA1&&{ChecksumSHA1:Rt.ChecksumSHA1}),Rt.ChecksumSHA256&&{ChecksumSHA256:Rt.ChecksumSHA256})),null===ct&&(l.bytesUploadedSoFar+=ke),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:ge.partNumber,Key:l.params.Key,Bucket:l.params.Bucket});case 10:return ft.a(2)}},le)}),I=Ts(u);case 2:return Y.n=3,I.next();case 3:if(!(d=!(B=Y.v).done)){Y.n=6;break}return Y.d((0,vk.A)(_()),4);case 4:if(!(S=Y.v)){Y.n=5;break}return Y.a(2,S.v);case 5:d=!1,Y.n=2;break;case 6:Y.n=8;break;case 7:Y.p=7,p=!0,g=Y.v;case 8:if(Y.p=8,Y.p=9,!d||null==I.return){Y.n=10;break}return Y.n=10,I.return();case 10:if(Y.p=10,!p){Y.n=11;break}throw g;case 11:return Y.f(10);case 12:return Y.f(8);case 13:return Y.a(2)}},s,null,[[9,,10,12],[1,7,8,13]])}));return function t(s){return e.apply(this,arguments)}}()},{key:"__doMultipartUpload",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){var u,l,d,p,g,_,S,I,B,$,Y;return(0,Ke.A)().w(function(le){for(;;)switch(le.n){case 0:for(u=NO(this.params.Body,this.partSize),l=[],d=0;d<this.queueSize;d++)p=this.__doConcurrentUpload(u).catch(function(ge){l.push(ge)}),this.concurrentUploaders.push(p);return le.n=1,Promise.all(this.concurrentUploaders);case 1:if(!(l.length>=1)){le.n=3;break}return le.n=2,this.markUploadAsAborted();case 2:throw l[0];case 3:if(!this.abortController.signal.aborted){le.n=5;break}return le.n=4,this.markUploadAsAborted();case 4:throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});case 5:if(!this.isMultiPart){le.n=8;break}if(S=this.expectedPartsCount,I=this.uploadedParts,$=this.totalBytesSource,void 0===(B=this.totalBytes)||void 0===S||I.length===S){le.n=6;break}throw new Error("Expected ".concat(S," part(s) but uploaded ").concat(I.length," part(s).\nThe expected part count is based on the byte-count of the input.params.Body,\nwhich was read from ").concat($," and is ").concat(B,".\nIf this is not correct, provide an override value by setting a number\nto input.params.ContentLength in bytes.\n"));case 6:return this.uploadedParts.sort(function(ge,be){return ge.PartNumber-be.PartNumber}),Y=(0,v.A)((0,v.A)({},this.params),{},{Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}}),le.n=7,this.client.send(new DO(Y));case 7:"string"==typeof(null===(_=g=le.v)||void 0===_?void 0:_.Location)&&g.Location.includes("%2F")&&(g.Location=g.Location.replace(/%2F/g,"/")),le.n=9;break;case 8:g=this.singleUploadResult;case 9:if(this.abortMultipartUploadCommand=null,!this.tags.length){le.n=10;break}return le.n=10,this.client.send(new wO((0,v.A)((0,v.A)({},this.params),{},{Tagging:{TagSet:this.tags}})));case 10:return le.a(2,g)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"markUploadAsAborted",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if(!this.uploadId||this.leavePartsOnError||null===this.abortMultipartUploadCommand){u.n=2;break}return u.n=1,this.client.send(this.abortMultipartUploadCommand);case 1:this.abortMultipartUploadCommand=null;case 2:return u.a(2)}},s,this)}));return function t(){return e.apply(this,arguments)}}()},{key:"__notifyProgress",value:function(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}},{key:"__abortTimeout",value:function(){var e=(0,Mt.A)((0,Ke.A)().m(function s(u){return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return l.a(2,new Promise(function(d,p){u.onabort=function(){var g=new Error("Upload aborted.");g.name="AbortError",p(g)}}))},s)}));return function t(s){return e.apply(this,arguments)}}()},{key:"__validateUploadPart",value:function(t){var s=Wp(t.data);if(void 0===s)throw new Error("A dataPart was generated without a measurable data chunk size for part number ".concat(t.partNumber));if(!(1===t.partNumber&&t.lastPart||t.lastPart||s===this.partSize))throw new Error("The byte size for part number ".concat(t.partNumber,", size ").concat(s," does not match expected size ").concat(this.partSize))}},{key:"__validateInput",value:function(){if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<n.MIN_PART_SIZE)throw new Error("EntityTooSmall: Your proposed upload part size [".concat(this.partSize,"] is smaller than the minimum allowed size [").concat(n.MIN_PART_SIZE,"] (5MB)"));if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}}]);var e}(Nh.EventEmitter);return(0,c.A)(o,"MIN_PART_SIZE",5242880),o}(),Uh=function(o){function r(n){var e,t,s,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,h.A)(this,r);var l,d=!0;if("boolean"==typeof u)l=void 0,d=u;else if(null!=u&&"object"==typeof u){var p;l=u.logger,d=null===(p=u.tryNextLink)||void 0===p||p}return s=(0,F.A)(this,r,[n]),(0,c.A)(s,"name","ProviderError"),(0,c.A)(s,"tryNextLink",void 0),s.tryNextLink=d,Object.setPrototypeOf(s,r.prototype),null===(e=l)||void 0===e||null===(t=e.debug)||void 0===t||t.call(e,"@smithy/property-provider ".concat(d?"->":"(!)"," ").concat(n)),s}return(0,w.A)(r,o),(0,m.A)(r,null,[{key:"from",value:function(e){return Object.assign(new this(e.message,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e)}}])}((0,P.A)(Error)),Qp=function(o){function r(n){var e,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,h.A)(this,r),e=(0,F.A)(this,r,[n,t]),(0,c.A)(e,"name","CredentialsProviderError"),Object.setPrototypeOf(e,r.prototype),e}return(0,w.A)(r,o),(0,m.A)(r)}(Uh);function cA(o){return Promise.all(Object.keys(o).reduce(function(r,n){var e=o[n];return r.push("string"==typeof e?[n,e]:e().then(function(t){return[n,t]})),r},[])).then(function(r){return r.reduce(function(n,e){var t=(0,k.A)(e,2);return n[t[0]]=t[1],n},{})})}function OO(o){return function(){var r=(0,Mt.A)((0,Ke.A)().m(function n(e){var t,s,u,l,d,p,g,S,I,B,$,Y,le,ge,me,ke,qe,ct,it,Rt;return(0,Ke.A)().w(function(Lt){for(;;)switch(Lt.n){case 0:return null===(t=o.logger)||void 0===t||t.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity"),Lt.n=1,b.e(4143).then(b.bind(b,34143));case 1:if(d=(l=Lt.v).GetCredentialsForIdentityCommand,p=l.CognitoIdentityClient,g=function(yt){var Dt,Jt,en,Jn,Wr;return null!==(Dt=null!==(Jt=null===(en=o.clientConfig)||void 0===en?void 0:en[yt])&&void 0!==Jt?Jt:null===(Jn=o.parentClientConfig)||void 0===Jn?void 0:Jn[yt])&&void 0!==Dt?Dt:null==e||null===(Wr=e.callerClientConfig)||void 0===Wr?void 0:Wr[yt]},me=null!==(s=o.client)&&void 0!==s?s:new p(Object.assign({},null!==(u=o.clientConfig)&&void 0!==u?u:{},{region:g("region"),profile:g("profile")})),ke=d,qe=o.customRoleArn,ct=o.identityId,!o.logins){Lt.n=3;break}return Lt.n=2,cA(o.logins);case 2:it=Lt.v,Lt.n=4;break;case 3:it=void 0;case 4:return Rt={CustomRoleArn:qe,IdentityId:ct,Logins:it},Lt.n=5,me.send.call(me,new ke(Rt));case 5:return I=void 0===(S=Lt.v.Credentials)?LO(o.logger):S,$=void 0===(B=I.AccessKeyId)?BO(o.logger):B,Y=I.Expiration,ge=void 0===(le=I.SecretKey)?jO(o.logger):le,Lt.a(2,{identityId:o.identityId,accessKeyId:$,secretAccessKey:ge,sessionToken:I.SessionToken,expiration:Y})}},n)}));return function(n){return r.apply(this,arguments)}}()}function BO(o){throw new Qp("Response from Amazon Cognito contained no access key ID",{logger:o})}function LO(o){throw new Qp("Response from Amazon Cognito contained no credentials",{logger:o})}function jO(o){throw new Qp("Response from Amazon Cognito contained no secret key",{logger:o})}var Gh="IdentityIds",UO=function(){return(0,m.A)(function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws:cognito-identity-ids";(0,h.A)(this,o),(0,c.A)(this,"dbName",void 0),this.dbName=r},[{key:"getItem",value:function(n){return this.withObjectStore("readonly",function(e){var t=e.get(n);return new Promise(function(s){t.onerror=function(){return s(null)},t.onsuccess=function(){return s(t.result?t.result.value:null)}})}).catch(function(){return null})}},{key:"removeItem",value:function(n){return this.withObjectStore("readwrite",function(e){var t=e.delete(n);return new Promise(function(s,u){t.onerror=function(){return u(t.error)},t.onsuccess=function(){return s()}})})}},{key:"setItem",value:function(n,e){return this.withObjectStore("readwrite",function(t){var s=t.put({id:n,value:e});return new Promise(function(u,l){s.onerror=function(){return l(s.error)},s.onsuccess=function(){return u()}})})}},{key:"getDb",value:function(){var n=self.indexedDB.open(this.dbName,1);return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)},n.onblocked=function(){t(new Error("Unable to access DB"))},n.onupgradeneeded=function(){var s=n.result;s.onerror=function(){t(new Error("Failed to create object store"))},s.createObjectStore(Gh,{keyPath:"id"})}})}},{key:"withObjectStore",value:function(n,e){return this.getDb().then(function(t){var s=t.transaction(Gh,n);return s.oncomplete=function(){return t.close()},new Promise(function(u,l){s.onerror=function(){return l(s.error)},u(e(s.objectStore(Gh)))}).catch(function(u){throw t.close(),u})})}}])}(),GO=function(){return(0,m.A)(function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.A)(this,o),(0,c.A)(this,"store",void 0),this.store=r},[{key:"getItem",value:function(n){return n in this.store?this.store[n]:null}},{key:"removeItem",value:function(n){delete this.store[n]}},{key:"setItem",value:function(n,e){this.store[n]=e}}])}(),zO=new GO;function zh(o){var r=o.accountId,n=o.cache,e=void 0===n?function $O(){return"object"==typeof self&&self.indexedDB?new UO:"object"==typeof window&&window.localStorage?window.localStorage:zO}():n,t=o.client,s=o.clientConfig,u=o.customRoleArn,l=o.identityPoolId,d=o.logins,p=o.userIdentifier,g=void 0===p?d&&0!==Object.keys(d).length?void 0:"ANONYMOUS":p,_=o.logger,S=o.parentClientConfig;_?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");var I=g?"aws:cognito-identity-credentials:".concat(l,":").concat(g):void 0,B=function(){var $=(0,Mt.A)((0,Ke.A)().m(function Y(le){var ge,be,me,ke,qe,ct,dt,Rt,Lt,ft,yt,Dt,Jt,en,Wr;return(0,Ke.A)().w(function(Hn){for(;;)switch(Hn.n){case 0:return Hn.n=1,b.e(4143).then(b.bind(b,34143));case 1:if(be=(ge=Hn.v).GetIdCommand,me=ge.CognitoIdentityClient,ke=function(Vi){var Ga,_o,ac;return null!==(Ga=null!==(_o=s?.[Vi])&&void 0!==_o?_o:S?.[Vi])&&void 0!==Ga?Ga:null==le||null===(ac=le.callerClientConfig)||void 0===ac?void 0:ac[Vi]},qe=t??new me(Object.assign({},s??{},{region:ke("region"),profile:ke("profile")})),!(Lt=I)){Hn.n=3;break}return Hn.n=2,e.getItem(I);case 2:Lt=Hn.v;case 3:if(ct=Lt){Hn.n=8;break}if(ft=qe,yt=be,Dt=r,Jt=l,!d){Hn.n=5;break}return Hn.n=4,cA(d);case 4:en=Hn.v,Hn.n=6;break;case 5:en=void 0;case 6:return Wr={AccountId:Dt,IdentityPoolId:Jt,Logins:en},Hn.n=7,ft.send.call(ft,new yt(Wr));case 7:Rt=void 0===(dt=Hn.v.IdentityId)?HO(_):dt,ct=Rt,I&&Promise.resolve(e.setItem(I,ct)).catch(function(){});case 8:return B=OO({client:qe,customRoleArn:u,logins:d,identityId:ct}),Hn.a(2,B(le))}},Y)}));return function(le){return $.apply(this,arguments)}}();return function($){return B($).catch(function(){var Y=(0,Mt.A)((0,Ke.A)().m(function le(ge){return(0,Ke.A)().w(function(be){for(;;)switch(be.n){case 0:throw I&&Promise.resolve(e.removeItem(I)).catch(function(){}),ge;case 1:return be.a(2)}},le)}));return function(le){return Y.apply(this,arguments)}}())}}function HO(o){throw new Qp("Response from Amazon Cognito contained no identity ID",{logger:o})}var $h=b(29554),qO={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Xp=b(46887),dA=b(96539),XO=b(65337),YO=b(54931);function JO(o){var r=Object(o),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}}var ZO=function(){var o=function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.A)(this,r),(0,c.A)(this,"data",void 0),(0,c.A)(this,"lastPurgeTime",Date.now()),this.data=n}return(0,m.A)(r,[{key:"get",value:function(e){var t=this.data[e];if(t)return t}},{key:"set",value:function(e,t){return this.data[e]=t,t}},{key:"delete",value:function(e){delete this.data[e]}},{key:"purgeExpired",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(){var s,u,l,d,p,g;return(0,Ke.A)().w(function(_){for(;;)switch(_.n){case 0:if(s=Date.now(),!(this.lastPurgeTime+r.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>s)){_.n=1;break}return _.a(2);case 1:p=JO(this.data);case 2:if((g=p()).done){_.n=5;break}if((l=this.data[u=g.value]).isRefreshing){_.n=4;break}return _.n=3,l.identity;case 3:(d=_.v).expiration&&d.expiration.getTime()<s&&delete this.data[u];case 4:_.n=2;break;case 5:return _.a(2)}},t,this)})),function e(){return n.apply(this,arguments)})}]);var n}();return(0,c.A)(o,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4),o}(),Hh=function(){return(0,m.A)(function o(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();(0,h.A)(this,o),(0,c.A)(this,"_identity",void 0),(0,c.A)(this,"isRefreshing",void 0),(0,c.A)(this,"accessed",void 0),this._identity=r,this.isRefreshing=n,this.accessed=e},[{key:"identity",get:function(){return this.accessed=Date.now(),this._identity}}])}(),e4=function(){var o=function(){function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ZO;(0,h.A)(this,r),(0,c.A)(this,"createSessionFn",void 0),(0,c.A)(this,"cache",void 0),this.createSessionFn=n,this.cache=e}return(0,m.A)(r,[{key:"getS3ExpressIdentity",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(s,u){var d,p,g,l=this;return(0,Ke.A)().w(function(_){for(;;)switch(_.n){case 0:if(!(g=(p=this.cache).get(d=u.Bucket))){_.n=1;break}return _.a(2,g.identity.then(function(S){var I,B,$,Y;return(null!==(I=null===(B=S.expiration)||void 0===B?void 0:B.getTime())&&void 0!==I?I:0)<Date.now()?p.set(d,new Hh(l.getIdentity(d))).identity:((null!==($=null===(Y=S.expiration)||void 0===Y?void 0:Y.getTime())&&void 0!==$?$:0)<Date.now()+r.REFRESH_WINDOW_MS&&!g.isRefreshing&&(g.isRefreshing=!0,l.getIdentity(d).then(function(be){p.set(d,new Hh(Promise.resolve(be)))})),S)}));case 1:return _.a(2,p.set(d,new Hh(this.getIdentity(d))).identity)}},t,this)})),function e(t,s){return n.apply(this,arguments)})},{key:"getIdentity",value:function(){var n=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l,d,p;return(0,Ke.A)().w(function(g){for(;;)switch(g.n){case 0:return g.n=1,this.cache.purgeExpired().catch(function(_){console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+_)});case 1:return g.n=2,this.createSessionFn(s);case 2:if(null!==(u=(d=g.v).Credentials)&&void 0!==u&&u.AccessKeyId&&null!==(l=d.Credentials)&&void 0!==l&&l.SecretAccessKey){g.n=3;break}throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");case 3:return p={accessKeyId:d.Credentials.AccessKeyId,secretAccessKey:d.Credentials.SecretAccessKey,sessionToken:d.Credentials.SessionToken,expiration:d.Credentials.Expiration?new Date(d.Credentials.Expiration):void 0},g.a(2,p)}},t,this)}));return function e(t){return n.apply(this,arguments)}}()}]);var n}();return(0,c.A)(o,"REFRESH_WINDOW_MS",6e4),o}(),n4=function(r){return"string"==typeof r&&0===r.indexOf("arn:")&&r.split(":").length>=6},a4={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},s4={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},c4={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},p4={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Kh=(b(80694),b(62734),"X-Amz-S3session-Token"),qh=Kh.toLowerCase(),b4={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},mA=b(37957),Wh=b(13928),C4=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e,t,s){var u;return(0,Ke.A)().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,s.signWithCredentials(t,n,{});case 1:if(!(u=l.v).headers["X-Amz-Security-Token"]&&!u.headers["x-amz-security-token"]){l.n=2;break}throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");case 2:return l.a(2,u)}},r)}));return function(n,e,t,s){return o.apply(this,arguments)}}(),x4=function(r){return function(n){throw n}},S4=function(r,n){},w4=b(98027),F4=b(15997),k4=b(54308),P4=b(27111),I4=b(48944),R4=b(13909),M4=b(42855),N4=b(61795),V4=b(6811),O4=b(36977),gA=b(88051),B4=b(97763),L4=b(43971),G4=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r,[{key:"signWithCredentials",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(s,u,l){var d,p;return(0,Ke.A)().w(function(g){for(;;)if(0===g.n)return d=hA(u),s.headers[qh]=u.sessionToken,vA(p=this,d),g.a(2,p.signRequest(s,l??{}))},t,this)})),function e(t,s,u){return n.apply(this,arguments)})},{key:"presignWithCredentials",value:function(){var n=(0,Mt.A)((0,Ke.A)().m(function t(s,u,l){var d,p;return(0,Ke.A)().w(function(_){for(;;)if(0===_.n)return p=hA(u),delete s.headers[qh],s.headers[Kh]=u.sessionToken,s.query=null!==(d=s.query)&&void 0!==d?d:{},s.query[Kh]=u.sessionToken,vA(this,p),_.a(2,this.presign(s,l))},t,this)}));return function e(t,s,u){return n.apply(this,arguments)}}()}]);var n}(b(60324).B);function hA(o){return{accessKeyId:o.accessKeyId,secretAccessKey:o.secretAccessKey,expiration:o.expiration}}function vA(o,r){var n=setTimeout(function(){throw new Error("SignatureV4S3Express credential override was created but not called.")},10),e=o.credentialProvider;o.credentialProvider=function(){return clearTimeout(n),o.credentialProvider=e,Promise.resolve(r)}}var _A=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"sigv4aSigner",void 0),(0,c.A)(this,"sigv4Signer",void 0),(0,c.A)(this,"signerOptions",void 0),this.sigv4Signer=new G4(r),this.signerOptions=r},[{key:"sign",value:(r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ke.A)().m(function u(){return(0,Ke.A)().w(function(l){for(;;)switch(l.n){case 0:if("*"!==s.signingRegion){l.n=1;break}return l.a(2,t.getSigv4aSigner().sign(e,s));case 1:return l.a(2,t.sigv4Signer.sign(e,s))}},u)})()}),function n(e){return r.apply(this,arguments)})},{key:"signWithCredentials",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,Ke.A)().m(function l(){var d;return(0,Ke.A)().w(function(g){for(;;)switch(g.n){case 0:if("*"!==u.signingRegion){g.n=2;break}if(d=s.getSigv4aSigner(),!(null&&d instanceof null)){g.n=1;break}return g.a(2,d.signWithCredentials(e,t,u));case 1:throw new Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case 2:return g.a(2,s.sigv4Signer.signWithCredentials(e,t,u))}},l)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"presign",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ke.A)().m(function u(){var l;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:if("*"!==s.signingRegion){p.n=2;break}if(l=t.getSigv4aSigner(),!(null&&l instanceof null)){p.n=1;break}return p.a(2,l.presign(e,s));case 1:throw new Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt');case 2:return p.a(2,t.sigv4Signer.presign(e,s))}},u)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"presignWithCredentials",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,Ke.A)().m(function l(){return(0,Ke.A)().w(function(d){for(;;)switch(d.n){case 0:if("*"!==u.signingRegion){d.n=1;break}throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");case 1:return d.a(2,s.sigv4Signer.presignWithCredentials(e,t,u))}},l)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"getSigv4aSigner",value:function(){if(!this.sigv4aSigner){var n=null,e=null;if("node"===this.signerOptions.runtime){if(!n&&!e)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(n&&"function"==typeof n)this.sigv4aSigner=new n((0,v.A)((0,v.A)({},this.signerOptions),{},{signingAlgorithm:1}));else{if(!e||"function"!=typeof e)throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");this.sigv4aSigner=new e((0,v.A)({},this.signerOptions))}}else{if(!e||"function"!=typeof e)throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new e((0,v.A)({},this.signerOptions))}}return this.sigv4aSigner}}],[{key:"sigv4aDependency",value:function(){return"none"}}]);var r}(),z4=b(92553),$4=b(64585),H4=b(67227),K4=b(71440),Qh="required",Ve="type",Ct="rules",Qe="conditions",ut="fn",lt="argv",Yt="ref",bn="assign",zt="url",$t="properties",vu="backend",Da="authSchemes",sa="disableDoubleEncoding",ua="signingName",Oa="signingRegion",Ht="headers",Xh="signingRegionSet",oo=!0,pi="isSet",Lr="booleanEquals",Gt="error",Jp="aws.partition",On="stringEquals",kr="getAttr",jr="name",ir="substring",bA="bucketSuffix",Yh="parseURL",Nt="endpoint",St="tree",Zp="aws.isVirtualHostableS3Bucket",ef="{url#scheme}://{Bucket}.{url#authority}{url#path}",so="not",AA="accessPointSuffix",tf="{url#scheme}://{url#authority}{url#path}",CA="hardwareType",xA="regionPrefix",SA="bucketAliasSuffix",Jh="outpostId",yu="isValidHostLabel",Zh="sigv4a",Oc="s3-outposts",Ml="s3",EA="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",DA="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",wA="https://{Bucket}.s3.{partitionResult#dnsSuffix}",FA="aws.parseArn",kA="bucketArn",PA="arnType",ev="s3-object-lambda",IA="accesspoint",tv="accessPointName",TA="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",RA="mrapPartition",MA="outpostType",NA="arnPrefix",VA="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",OA="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",BA="https://s3.{partitionResult#dnsSuffix}",Nl=(0,c.A)((0,c.A)({},Qh,!1),Ve,"String"),Vl=(0,c.A)((0,c.A)((0,c.A)({},Qh,!0),"default",!1),Ve,"Boolean"),Bc=(0,c.A)((0,c.A)({},Qh,!1),Ve,"Boolean"),ki=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"Accelerate"),!0]),mr=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseFIPS"),!0]),or=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseDualStack"),!0]),Ur=(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"Endpoint")]),LA=(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,[(0,c.A)({},Yt,"Region")]),bn,"partitionResult"),jA=(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"partitionResult"),jr]),"aws-cn"]),Lc=(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"Bucket")]),Nn=(0,c.A)({},Yt,"Bucket"),UA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[or]),Gt,"S3Express does not support Dual-stack."),Ve,Gt),GA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[ki]),Gt,"S3Express does not support S3 Accelerate."),Ve,Gt),zA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,(0,c.A)((0,c.A)((0,c.A)({},ut,Yh),lt,[(0,c.A)({},Yt,"Endpoint")]),bn,"url")]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth"),!0])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"url"),"isIp"]),!0])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,"uriEncode"),lt,[Nn]),bn,"uri_encoded_bucket")]),Ct,[(0,c.A)((0,c.A)({},Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}"),$t,(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,"s3express"),Oa,"{Region}")])),Ht,{})),Ve,Nt)]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,!1])]),Ct,[(0,c.A)((0,c.A)({},Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,ef),$t,(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,"s3express"),Oa,"{Region}")])),Ht,{})),Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)({},Gt,"S3Express bucket name is not a valid virtual hostable name."),Ve,Gt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"url"),"isIp"]),!0])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,"uriEncode"),lt,[Nn]),bn,"uri_encoded_bucket")]),Ct,[(0,c.A)((0,c.A)({},Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}"),$t,(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Oa,"{Region}")])),Ht,{})),Ve,Nt)]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,!1])]),Ct,[(0,c.A)((0,c.A)({},Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,ef),$t,(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Oa,"{Region}")])),Ht,{})),Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)({},Gt,"S3Express bucket name is not a valid virtual hostable name."),Ve,Gt)]),Ve,St),Ba=(0,c.A)((0,c.A)((0,c.A)({},ut,Yh),lt,[(0,c.A)({},Yt,"Endpoint")]),bn,"url"),nv=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"url"),"isIp"]),!0]),$A=(0,c.A)({},Yt,"url"),HA=(0,c.A)((0,c.A)((0,c.A)({},ut,"uriEncode"),lt,[Nn]),bn,"uri_encoded_bucket"),_u=(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,"s3express"),Oa,"{Region}")]),gn={},KA=(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,!1]),qA=(0,c.A)((0,c.A)({},Gt,"S3Express bucket name is not a valid virtual hostable name."),Ve,Gt),WA=(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"UseS3ExpressControlEndpoint")]),QA=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseS3ExpressControlEndpoint"),!0]),hn=(0,c.A)((0,c.A)({},ut,so),lt,[Ur]),rf=(0,c.A)((0,c.A)({},Gt,"Unrecognized S3Express bucket name format."),Ve,Gt),XA=(0,c.A)((0,c.A)({},ut,so),lt,[Lc]),YA=(0,c.A)({},Yt,CA),JA=(0,c.A)((0,c.A)((0,c.A)({},Qe,[hn]),Gt,"Expected a endpoint to be specified but no endpoint was found"),Ve,Gt),af=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,Zh),ua,Oc),Xh,["*"]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Oc),Oa,"{Region}")]),rv=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"ForcePathStyle"),!1]),Q4=(0,c.A)({},Yt,"ForcePathStyle"),Hr=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"Accelerate"),!1]),ea=(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"Region"),"aws-global"]),la=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Ml),Oa,"us-east-1")]),Rn=(0,c.A)((0,c.A)({},ut,so),lt,[ea]),ca=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseGlobalEndpoint"),!0]),ZA=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),$t,(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Ml),Oa,"{Region}")])),Ht,{}),Kr=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Ml),Oa,"{Region}")]),da=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseGlobalEndpoint"),!1]),In=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseDualStack"),!1]),eC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),Sn=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseFIPS"),!1]),tC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),nC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),av=(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[$A,"isIp"]),!1]),iv=(0,c.A)((0,c.A)((0,c.A)({},zt,EA),$t,Kr),Ht,{}),ov=(0,c.A)((0,c.A)((0,c.A)({},zt,ef),$t,Kr),Ht,{}),rC=(0,c.A)((0,c.A)({},Nt,ov),Ve,Nt),sv=(0,c.A)((0,c.A)((0,c.A)({},zt,DA),$t,Kr),Ht,{}),aC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),sf=(0,c.A)((0,c.A)({},Gt,"Invalid region: region was not a valid DNS name."),Ve,Gt),Xa=(0,c.A)({},Yt,kA),iC=(0,c.A)({},Yt,PA),uv=(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"service"]),lv=(0,c.A)({},Yt,tv),oC=(0,c.A)((0,c.A)((0,c.A)({},Qe,[or]),Gt,"S3 Object Lambda does not support Dual-stack"),Ve,Gt),sC=(0,c.A)((0,c.A)((0,c.A)({},Qe,[ki]),Gt,"S3 Object Lambda does not support S3 Accelerate"),Ve,Gt),uC=(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"DisableAccessPoints")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableAccessPoints"),!0])]),Gt,"Access points are not supported for this operation"),Ve,Gt),cv=(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"UseArnRegion")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"UseArnRegion"),!1]),(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"region"]),"{Region}"])])]),Gt,"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`"),Ve,Gt),lC=(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"bucketPartition"),jr]),cC=(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"accountId"]),dv=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,ev),Oa,"{bucketArn#region}")]),dC=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`"),Ve,Gt),pv=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`"),Ve,Gt),fv=(0,c.A)((0,c.A)({},Gt,"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)"),Ve,Gt),mv=(0,c.A)((0,c.A)({},Gt,"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`"),Ve,Gt),pC=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`."),Ve,Gt),fC=(0,c.A)((0,c.A)({},Gt,"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided"),Ve,Gt),jc=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Ml),Oa,"{bucketArn#region}")]),mC=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,Zh),ua,Oc),Xh,["*"]),(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,Oc),Oa,"{bucketArn#region}")]),gC=(0,c.A)((0,c.A)({},ut,FA),lt,[Nn]),hC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,Kr),Ht,{}),vC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,Kr),Ht,{}),yC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,Kr),Ht,{}),gv=(0,c.A)((0,c.A)((0,c.A)({},zt,VA),$t,Kr),Ht,{}),_C=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,Kr),Ht,{}),bC=(0,c.A)({},Yt,"UseObjectLambdaEndpoint"),hv=(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4"),ua,ev),Oa,"{Region}")]),AC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),CC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),xC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),vv=(0,c.A)((0,c.A)((0,c.A)({},zt,tf),$t,Kr),Ht,{}),SC=(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3.{Region}.{partitionResult#dnsSuffix}"),$t,Kr),Ht,{}),yv=[(0,c.A)({},Yt,"Region")],X4=[(0,c.A)({},Yt,"Endpoint")],Y4=[Nn],EC=[or],_v=[ki],Ol=[Ur,Ba],DC=[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth")]),(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableS3ExpressSessionAuth"),!0])],J4=[HA],wC=[KA],Pi=[LA],Bl=[mr],FC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,6,14,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,14,16,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],uo=[(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr]),Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),$t,_u),Ht,{})),Ve,Nt),(0,c.A)((0,c.A)({},Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),$t,_u),Ht,{})),Ve,Nt)],kC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,6,15,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,15,17,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],PC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,6,19,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,19,21,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],IC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,6,20,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,20,22,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],TC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,6,26,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,26,28,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],lo=[(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr]),Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),$t,(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Oa,"{Region}")])),Ht,{})),Ve,Nt),(0,c.A)((0,c.A)({},Nt,(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}"),$t,(0,c.A)((0,c.A)({},vu,"S3Express"),Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,!0),jr,"sigv4-s3express"),ua,"s3express"),Oa,"{Region}")])),Ht,{})),Ve,Nt)],RC=[Nn,0,7,!0],MC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,7,15,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,15,17,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],NC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,7,16,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,16,18,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],VC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,7,20,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,20,22,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],OC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,7,21,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,21,23,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],BC=[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,7,27,!0]),bn,"s3expressAvailabilityZoneId"),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,27,29,!0]),bn,"s3expressAvailabilityZoneDelim"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"s3expressAvailabilityZoneDelim"),"--"])],Z4=[Lc],LC=[(0,c.A)((0,c.A)({},ut,yu),lt,[(0,c.A)({},Yt,Jh),!1])],jC=[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,xA),"beta"])],UC=[(0,c.A)((0,c.A)({},ut,yu),lt,[(0,c.A)({},Yt,"Region"),!1])],rs=[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,"Region"),"us-east-1"])],bv=[(0,c.A)((0,c.A)({},ut,On),lt,[iC,IA])],GC=[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"resourceId[1]"]),bn,tv),(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[lv,""])])],tB=[Xa,"resourceId[1]"],Av=[(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"region"]),""])])],zC=[(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"resourceId[2]"])])])],nB=[Xa,"resourceId[2]"],Cv=[(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"region"])]),bn,"bucketPartition")],$C=[(0,c.A)((0,c.A)({},ut,On),lt,[lC,(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,"partitionResult"),jr])])],xv=[(0,c.A)((0,c.A)({},ut,yu),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"region"]),!0])],Sv=[(0,c.A)((0,c.A)({},ut,yu),lt,[cC,!1])],HC=[(0,c.A)((0,c.A)({},ut,yu),lt,[lv,!1])],KC=[(0,c.A)((0,c.A)({},ut,yu),lt,[(0,c.A)({},Yt,"Region"),!0])],aB=(0,c.A)({version:"1.0",parameters:{Bucket:Nl,Region:Nl,UseFIPS:Vl,UseDualStack:Vl,Endpoint:Nl,ForcePathStyle:Vl,Accelerate:Vl,UseGlobalEndpoint:Vl,UseObjectLambdaEndpoint:Bc,Key:Nl,Prefix:Nl,CopySource:Nl,DisableAccessPoints:Bc,DisableMultiRegionAccessPoints:Vl,UseArnRegion:Bc,UseS3ExpressControlEndpoint:Bc,DisableS3ExpressSessionAuth:Bc}},Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,pi),lt,yv)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[ki,mr]),"error","Accelerate cannot be used with FIPS"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Ur]),"error","Cannot set dual-stack in combination with a custom endpoint."),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,mr]),"error","A custom endpoint cannot be combined with FIPS"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,ki]),"error","A custom endpoint cannot be combined with S3 Accelerate"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,LA,jA]),"error","Partition does not support FIPS"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Lc,(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,0,6,oo]),bn,bA),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,bA),"--x-s3"])]),Ct,[UA,GA,zA,(0,c.A)((0,c.A)((0,c.A)({},Qe,[WA,QA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[HA,hn]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Bl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,_u),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,_u),Ht,gn)},Ve,Nt)]),Ve,St)]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,wC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,DC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,FC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,kC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,PC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,IC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,TC),Ct,uo),Ve,St),rf]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,FC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,kC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,PC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,IC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,TC),Ct,lo),Ve,St),rf]),Ve,St)]),Ve,St),qA]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Lc,(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,RC),bn,AA),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,AA),"--xa-s3"])]),Ct,[UA,GA,zA,(0,c.A)((0,c.A)((0,c.A)({},Qe,wC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,DC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,MC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,NC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,VC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,OC),Ct,uo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,BC),Ct,uo),Ve,St),rf]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,MC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,NC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,VC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,OC),Ct,lo),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,BC),Ct,lo),Ve,St),rf]),Ve,St)]),Ve,St),qA]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[XA,WA,QA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ol),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,tf),$t,_u),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Bl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}"),$t,_u),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3express-control.{Region}.{partitionResult#dnsSuffix}"),$t,_u),Ht,gn)},Ve,Nt)]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Lc,(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,49,50,oo]),bn,CA),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,8,12,oo]),bn,xA),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,RC),bn,SA),(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,32,49,oo]),bn,Jh),(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,yv),bn,"regionPartition"),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,SA),"--op-s3"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,LC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[YA,"e"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,jC),Ct,[JA,(0,c.A)((0,c.A)((0,c.A)({},Qe,Ol),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.ec2.{url#authority}"),$t,af),Ht,gn)),Ve,Nt)]),Ve,St),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),$t,af),Ht,gn)},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[YA,"o"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,jC),Ct,[JA,(0,c.A)((0,c.A)((0,c.A)({},Qe,Ol),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.op-{outpostId}.{url#authority}"),$t,af),Ht,gn)),Ve,Nt)]),Ve,St),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),$t,af),Ht,gn)},Ve,Nt)]),Ve,St),(0,c.A)({error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"'},Ve,Gt)]),Ve,St),(0,c.A)({error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`."},Ve,Gt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,Z4),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)((0,c.A)({},ut,Yh),lt,X4)])])]),"error","Custom endpoint `{Endpoint}` was not a valid URI"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[rv,KA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,UC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[ki,jA]),"error","S3 Accelerate cannot be used in this region"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,mr,Hr,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,mr,Hr,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:ZA},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,mr,Hr,hn,Rn,da]),"endpoint",ZA),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,mr,Hr,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,mr,Hr,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:eC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,mr,Hr,hn,Rn,da]),"endpoint",eC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Sn,ki,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Sn,ki,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:tC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Sn,ki,hn,Rn,da]),"endpoint",tC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Sn,Hr,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Sn,Hr,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:nC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,Sn,Hr,hn,Rn,da]),"endpoint",nC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,Ur,Ba,nv,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,EA),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,Ur,Ba,av,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,ef),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,Ur,Ba,nv,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",iv),Ve,Nt),(0,c.A)({endpoint:iv},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,Ur,Ba,av,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",ov),Ve,Nt),rC]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,Ur,Ba,nv,Rn,da]),"endpoint",iv),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,Ur,Ba,av,Rn,da]),"endpoint",ov),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,ki,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,DA),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,ki,hn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",sv),Ve,Nt),(0,c.A)({endpoint:sv},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,ki,hn,Rn,da]),"endpoint",sv),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,wA),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,hn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,wA),$t,Kr),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:aC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Sn,Hr,hn,Rn,da]),"endpoint",aC),Ve,Nt)]),Ve,St),sf]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Ur,Ba,(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[$A,"scheme"]),"http"]),(0,c.A)((0,c.A)({},ut,Zp),lt,[Nn,oo]),rv,Sn,In,Hr]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,UC),Ct,[rC]),Ve,St),sf]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[rv,(0,c.A)((0,c.A)((0,c.A)({},ut,FA),lt,Y4),bn,kA)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"resourceId[0]"]),bn,PA),(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,On),lt,[iC,""])])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[uv,ev])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,bv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,GC),Ct,[oC,sC,(0,c.A)((0,c.A)((0,c.A)({},Qe,Av),Ct,[uC,(0,c.A)((0,c.A)((0,c.A)({},Qe,zC),Ct,[cv,(0,c.A)((0,c.A)((0,c.A)({},Qe,Cv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,$C),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,xv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[cC,""])]),"error","Invalid ARN: Missing account id"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Sv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,HC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ol),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,TA),$t,dv),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Bl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,dv),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,dv),Ht,gn)},Ve,Nt)]),Ve,St),dC]),Ve,St),pv]),Ve,St),fv]),Ve,St),mv]),Ve,St)]),Ve,St)]),Ve,St),pC]),Ve,St),(0,c.A)({error:"Invalid ARN: bucket ARN is missing a region"},Ve,Gt)]),Ve,St),fC]),Ve,St),(0,c.A)({error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`"},Ve,Gt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,bv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,GC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Av),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,bv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Av),Ct,[uC,(0,c.A)((0,c.A)((0,c.A)({},Qe,zC),Ct,[cv,(0,c.A)((0,c.A)((0,c.A)({},Qe,Cv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[lC,"{partitionResult#name}"])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,xv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[uv,Ml])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Sv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,HC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,_v),"error","Access Points do not support S3 Accelerate"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,or]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,jc),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,In]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,jc),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,or]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,jc),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,Ur,Ba]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,TA),$t,jc),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,jc),Ht,gn)),Ve,Nt)]),Ve,St),dC]),Ve,St),pv]),Ve,St),(0,c.A)({error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}"},Ve,Gt)]),Ve,St),fv]),Ve,St),mv]),Ve,St)]),Ve,St)]),Ve,St),pC]),Ve,St)]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,yu),lt,[lv,oo])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,EC),"error","S3 MRAP does not support dual-stack"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Bl),"error","S3 MRAP does not support FIPS"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,_v),"error","S3 MRAP does not support S3 Accelerate"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[(0,c.A)({},Yt,"DisableMultiRegionAccessPoints"),oo])]),"error","Invalid configuration: Multi-Region Access Point ARNs are disabled."),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,Jp),lt,yv),bn,RA)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[(0,c.A)({},Yt,RA),jr]),(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"partition"])])]),Ct,[(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}"),$t,(0,c.A)({},Da,[(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},sa,oo),"name",Zh),ua,Ml),Xh,["*"])])),Ht,gn)},Ve,Nt)]),Ve,St),(0,c.A)({error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`"},Ve,Gt)]),Ve,St)]),Ve,St),(0,c.A)({error:"Invalid Access Point Name"},Ve,Gt)]),Ve,St),fC]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[uv,Oc])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,EC),"error","S3 Outposts does not support Dual-stack"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Bl),"error","S3 Outposts does not support FIPS"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,_v),"error","S3 Outposts does not support S3 Accelerate"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,pi),lt,[(0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"resourceId[4]"])])]),"error","Invalid Arn: Outpost Access Point ARN contains sub resources"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,tB),bn,Jh)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,LC),Ct,[cv,(0,c.A)((0,c.A)((0,c.A)({},Qe,Cv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,$C),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,xv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Sv),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,nB),bn,MA)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,kr),lt,[Xa,"resourceId[3]"]),bn,tv)]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,MA),IA])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Ol),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}"),$t,mC),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}"),$t,mC),Ht,gn)},Ve,Nt)]),Ve,St),(0,c.A)({error:"Expected an outpost type `accesspoint`, found {outpostType}"},Ve,Gt)]),Ve,St),(0,c.A)({error:"Invalid ARN: expected an access point name"},Ve,Gt)]),Ve,St),(0,c.A)({error:"Invalid ARN: Expected a 4-component resource"},Ve,Gt)]),Ve,St),pv]),Ve,St),fv]),Ve,St),mv]),Ve,St)]),Ve,St)]),Ve,St),(0,c.A)({error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`"},Ve,Gt)]),Ve,St),(0,c.A)({error:"Invalid ARN: The Outpost Id was not set"},Ve,Gt)]),Ve,St),(0,c.A)({error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})"},Ve,Gt)]),Ve,St),(0,c.A)({error:"Invalid ARN: No ARN type specified"},Ve,Gt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)((0,c.A)({},ut,ir),lt,[Nn,0,4,!1]),bn,NA),(0,c.A)((0,c.A)({},ut,On),lt,[(0,c.A)({},Yt,NA),"arn:"]),(0,c.A)((0,c.A)({},ut,so),lt,[(0,c.A)((0,c.A)({},ut,pi),lt,[gC])])]),"error","Invalid ARN: `{Bucket}` was not a valid ARN"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,Lr),lt,[Q4,oo]),gC]),"error","Path-style addressing cannot be used with ARN buckets"),Ve,Gt),(0,c.A)((0,c.A)((0,c.A)({},Qe,J4),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[Hr]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,hn,mr,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,hn,mr,Rn,ca]),Ct,[(0,c.A)({endpoint:hC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,hn,mr,Rn,da]),"endpoint",hC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,hn,mr,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,hn,mr,Rn,ca]),Ct,[(0,c.A)({endpoint:vC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,hn,mr,Rn,da]),"endpoint",vC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,hn,Sn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,hn,Sn,Rn,ca]),Ct,[(0,c.A)({endpoint:yC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[or,hn,Sn,Rn,da]),"endpoint",yC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Ur,Ba,Sn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,VA),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Ur,Ba,Sn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",gv),Ve,Nt),(0,c.A)({endpoint:gv},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,Ur,Ba,Sn,Rn,da]),"endpoint",gv),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,hn,Sn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,OA),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,hn,Sn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,OA),$t,Kr),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:_C},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[In,hn,Sn,Rn,da]),"endpoint",_C),Ve,Nt)]),Ve,St),(0,c.A)({error:"Path-style addressing cannot be used with S3 Accelerate"},Ve,Gt)]),Ve,St)]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[(0,c.A)((0,c.A)({},ut,pi),lt,[bC]),(0,c.A)((0,c.A)({},ut,Lr),lt,[bC,oo])]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,KC),Ct,[oC,sC,(0,c.A)((0,c.A)((0,c.A)({},Qe,Ol),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,tf),$t,hv),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,Bl),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}"),$t,hv),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}"),$t,hv),Ht,gn)},Ve,Nt)]),Ve,St),sf]),Ve,St)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[XA]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,Pi),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,KC),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,or,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,or,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:AC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,or,hn,Rn,da]),"endpoint",AC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,In,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,In,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:CC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[mr,In,hn,Rn,da]),"endpoint",CC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,or,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,or,hn,Rn,ca]),Ct,[(0,c.A)({endpoint:xC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,or,hn,Rn,da]),"endpoint",xC),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,Ur,Ba,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,tf),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,Ur,Ba,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",vv),Ve,Nt),(0,c.A)({endpoint:vv},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,Ur,Ba,Rn,da]),"endpoint",vv),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,hn,ea]),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,BA),$t,la),Ht,gn)),Ve,Nt),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,hn,Rn,ca]),Ct,[(0,c.A)((0,c.A)((0,c.A)({},Qe,rs),"endpoint",(0,c.A)((0,c.A)((0,c.A)({},zt,BA),$t,Kr),Ht,gn)),Ve,Nt),(0,c.A)({endpoint:SC},Ve,Nt)]),Ve,St),(0,c.A)((0,c.A)((0,c.A)({},Qe,[Sn,In,hn,Rn,da]),"endpoint",SC),Ve,Nt)]),Ve,St),sf]),Ve,St)]),Ve,St)]),Ve,St),(0,c.A)({error:"A region must be set when sending requests to S3."},Ve,Gt)]),iB=new $4.k({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),qC=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return iB.get(r,function(){return(0,H4.s)(aB,{endpointParams:r,logger:n.logger})})};K4.m.aws=z4.UF;var r,oB=["name","properties"],uB=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e,t){var s,u;return(0,Ke.A)().w(function(d){for(;;)switch(d.n){case 0:return s=(0,Wh.u)(e).operation,d.n=1,(0,Xp.t)(n.region)();case 1:if(u=d.v){d.n=2;break}u=function(){throw new Error("expected `region` to be configured for `aws.auth#sigv4`")}();case 2:return d.a(2,{operation:s,region:u})}},r)}));return function(n,e,t){return o.apply(this,arguments)}}(),lB=(r=uB,function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t,s,u){var l,d,p;return(0,Ke.A)().w(function(_){for(;;)switch(_.n){case 0:if(u){_.n=1;break}throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");case 1:return _.n=2,r(t,s,u);case 2:if(d=_.v,p=null===(l=(0,Wh.u)(s))||void 0===l||null===(l=l.commandInstance)||void 0===l||null===(l=l.constructor)||void 0===l?void 0:l.getEndpointParameterInstructions){_.n=3;break}throw new Error("getEndpointParameterInstructions() is not defined on `".concat(s.commandName,"`"));case 3:return _.n=4,(0,oA.x)(u,{getEndpointParameterInstructions:p},t);case 4:return _.a(2,Object.assign(d,_.v))}},e)}));return function(e,t,s){return n.apply(this,arguments)}}());function WC(o){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:o.region},propertiesExtractor:function(n,e){return{signingProperties:{config:n,context:e}}}}}function QC(o){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:o.region},propertiesExtractor:function(n,e){return{signingProperties:{config:n,context:e}}}}}var pB=function(r,n,e){return function(u){var l,p=null===(l=r(u).properties)||void 0===l?void 0:l.authSchemes;if(!p)return function(r){var n=[];return n.push(WC(r)),n.push(QC(r)),n}(u);var S,g=[],_=(0,N.A)(p);try{for(_.s();!(S=_.n()).done;){var I=S.value,B=I.name,$=I.properties,Y=void 0===$?{}:$,le=(0,gA.A)(I,oB),ge=B.toLowerCase();B!==ge&&console.warn("HttpAuthScheme has been normalized with lowercasing: `".concat(B,"` to `").concat(ge,"`"));var be=void 0;if("sigv4a"===ge){be="aws.auth#sigv4a";var me=p.find(function(ct){var it=ct.name.toLowerCase();return"sigv4a"!==it&&it.startsWith("sigv4")});if("none"===_A.sigv4aDependency()&&me)continue}else{if(!ge.startsWith("sigv4"))throw new Error("Unknown HttpAuthScheme found in `@smithy.rules#endpointRuleSet`: `".concat(ge,"`"));be="aws.auth#sigv4"}var ke=e[be];if(!ke)throw new Error("Could not find HttpAuthOption create function for `".concat(be,"`"));var qe=ke(u);qe.schemeId=be,qe.signingProperties=(0,v.A)((0,v.A)((0,v.A)({},qe.signingProperties||{}),le),Y),g.push(qe)}}catch(ct){_.e(ct)}finally{_.f()}return g}}(qC,0,{"aws.auth#sigv4":WC,"aws.auth#sigv4a":QC}),mB=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(Vs.u.classBuilder().ep((0,v.A)((0,v.A)({},Os),{},{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(o,r,n,e){return[(0,Ns.TM)(n,this.serialize,this.deserialize),(0,Ms.r)(n,o.getEndpointParameterInstructions()),Rs(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(function(r){return(0,v.A)((0,v.A)((0,v.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$})},function(r){return(0,v.A)((0,v.A)((0,v.A)((0,v.A)({},r),r.SSEKMSKeyId&&{SSEKMSKeyId:$r.$}),r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$r.$}),r.Credentials&&{Credentials:eI(r.Credentials)})}).ser(fI).de(bI).build());function XC(o){return"string"==typeof o?0===o.length:0===o.byteLength}var YC={name:"SHA-1"},JC={name:"HMAC",hash:YC},vB=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]),as=b(93342),yB=function(){function o(r){this.toHash=new Uint8Array(0),void 0!==r&&(this.key=new Promise(function(n,e){(0,as.R)().crypto.subtle.importKey("raw",ZC(r),JC,!1,["sign"]).then(n,e)}),this.key.catch(function(){}))}return o.prototype.update=function(r){if(!XC(r)){var n=ZC(r),e=new Uint8Array(this.toHash.byteLength+n.byteLength);e.set(this.toHash,0),e.set(n,this.toHash.byteLength),this.toHash=e}},o.prototype.digest=function(){var r=this;return this.key?this.key.then(function(n){return(0,as.R)().crypto.subtle.sign(JC,n,r.toHash).then(function(e){return new Uint8Array(e)})}):XC(this.toHash)?Promise.resolve(vB):Promise.resolve().then(function(){return(0,as.R)().crypto.subtle.digest(YC,r.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();function ZC(o){return"string"==typeof o?function(r){return(new TextEncoder).encode(r)}(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}var _B=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var CB=function(){function o(r){if(!function bB(o){return!(!function AB(o){return"object"==typeof o&&"object"==typeof o.crypto&&"function"==typeof o.crypto.getRandomValues}(o)||"object"!=typeof o.crypto.subtle)&&function e1(o){return o&&_B.every(function(r){return"function"==typeof o[r]})}(o.crypto.subtle)}((0,as.R)()))throw new Error("SHA1 not supported");this.hash=new yB(r)}return o.prototype.update=function(r,n){this.hash.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return this.hash.digest()},o.prototype.reset=function(){this.hash.reset()},o}(),t1={name:"SHA-256"},n1={name:"HMAC",hash:t1},xB=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),SB=function(){function o(r){this.toHash=new Uint8Array(0),this.secret=r,this.reset()}return o.prototype.update=function(r){if(!(0,Or.isEmptyData)(r)){var n=(0,Or.convertToBuffer)(r),e=new Uint8Array(this.toHash.byteLength+n.byteLength);e.set(this.toHash,0),e.set(n,this.toHash.byteLength),this.toHash=e}},o.prototype.digest=function(){var r=this;return this.key?this.key.then(function(n){return(0,as.R)().crypto.subtle.sign(n1,n,r.toHash).then(function(e){return new Uint8Array(e)})}):(0,Or.isEmptyData)(this.toHash)?Promise.resolve(xB):Promise.resolve().then(function(){return(0,as.R)().crypto.subtle.digest(t1,r.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},o.prototype.reset=function(){var r=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(n,e){(0,as.R)().crypto.subtle.importKey("raw",(0,Or.convertToBuffer)(r.secret),n1,!1,["sign"]).then(n,e)}),this.key.catch(function(){}))},o}(),DB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],FB=Math.pow(2,53)-1,uf=function(){function o(){this.state=Int32Array.from(wB),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,e=r.byteLength;if(this.bytesHashed+=e,8*this.bytesHashed>FB)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;e>0;)this.buffer[this.bufferLength++]=r[n++],e--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},o.prototype.digest=function(){if(!this.finished){var r=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),e=this.bufferLength;if(n.setUint8(this.bufferLength++,128),e%64>=56){for(var t=this.bufferLength;t<64;t++)n.setUint8(t,0);this.hashBuffer(),this.bufferLength=0}for(t=this.bufferLength;t<56;t++)n.setUint8(t,0);n.setUint32(56,Math.floor(r/4294967296),!0),n.setUint32(60,r),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(32);for(t=0;t<8;t++)s[4*t]=this.state[t]>>>24&255,s[4*t+1]=this.state[t]>>>16&255,s[4*t+2]=this.state[t]>>>8&255,s[4*t+3]=this.state[t]>>>0&255;return s},o.prototype.hashBuffer=function(){for(var n=this.buffer,e=this.state,t=e[0],s=e[1],u=e[2],l=e[3],d=e[4],p=e[5],g=e[6],_=e[7],S=0;S<64;S++){if(S<16)this.temp[S]=(255&n[4*S])<<24|(255&n[4*S+1])<<16|(255&n[4*S+2])<<8|255&n[4*S+3];else{var I=this.temp[S-2];this.temp[S]=(((I>>>17|I<<15)^(I>>>19|I<<13)^I>>>10)+this.temp[S-7]|0)+((((I=this.temp[S-15])>>>7|I<<25)^(I>>>18|I<<14)^I>>>3)+this.temp[S-16]|0)}var Y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&g)|0)+(_+(DB[S]+this.temp[S]|0)|0)|0,le=((t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10))+(t&s^t&u^s&u)|0;_=g,g=p,p=d,d=l+Y|0,l=u,u=s,s=t,t=Y+le|0}e[0]+=t,e[1]+=s,e[2]+=u,e[3]+=l,e[4]+=d,e[5]+=p,e[6]+=g,e[7]+=_},o}(),kB=function(){function o(r){this.secret=r,this.hash=new uf,this.reset()}return o.prototype.update=function(r){if(!(0,Or.isEmptyData)(r)&&!this.error)try{this.hash.update((0,Or.convertToBuffer)(r))}catch(n){this.error=n}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return(0,Ui.__awaiter)(this,void 0,void 0,function(){return(0,Ui.__generator)(this,function(r){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new uf,this.secret){this.outer=new uf;var r=function PB(o){var r=(0,Or.convertToBuffer)(o);if(r.byteLength>64){var n=new uf;n.update(r),r=n.digest()}var e=new Uint8Array(64);return e.set(r),e}(this.secret),n=new Uint8Array(64);n.set(r);for(var e=0;e<64;e++)r[e]^=54,n[e]^=92;for(this.hash.update(r),this.outer.update(n),e=0;e<r.byteLength;e++)r[e]=0}},o}(),IB=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var MB=function(){function o(r){this.hash=function TB(o){return!(!function RB(o){return"object"==typeof o&&"object"==typeof o.crypto&&"function"==typeof o.crypto.getRandomValues}(o)||"object"!=typeof o.crypto.subtle)&&function r1(o){return o&&IB.every(function(r){return"function"==typeof o[r]})}(o.crypto.subtle)}((0,as.R)())?new SB(r):new kB(r)}return o.prototype.update=function(r,n){this.hash.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return this.hash.digest()},o.prototype.reset=function(){this.hash.reset()},o}(),NB=b(71587),VB=b(3668),OB=b(82502);!function(){function o(){this.crc32=new Uc}o.prototype.update=function(r){(0,Or.isEmptyData)(r)||this.crc32.update((0,Or.convertToBuffer)(r))},o.prototype.digest=function(){return(0,Ui.__awaiter)(this,void 0,void 0,function(){return(0,Ui.__generator)(this,function(r){return[2,(0,Or.numToUint8)(this.crc32.digest())]})})},o.prototype.reset=function(){this.crc32=new Uc}}();var Uc=function(){function o(){this.checksum=4294967295}return o.prototype.update=function(r){var n,e;try{for(var t=(0,Ui.__values)(r),s=t.next();!s.done;s=t.next())this.checksum=this.checksum>>>8^LB[255&(this.checksum^s.value)]}catch(l){n={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this},o.prototype.digest=function(){return(4294967295^this.checksum)>>>0},o}(),LB=(0,Or.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),is=b(34576),Ev=function(){function o(r){if((0,h.A)(this,o),(0,c.A)(this,"bytes",void 0),this.bytes=r,8!==r.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,m.A)(o,[{key:"valueOf",value:function(){var n=this.bytes.slice(0),e=128&n[0];return e&&a1(n),parseInt((0,is.n)(n),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error("".concat(n," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),t=7,s=Math.abs(Math.round(n));t>-1&&s>0;t--,s/=256)e[t]=s;return n<0&&a1(e),new o(e)}}])}();function a1(o){for(var r=0;r<8;r++)o[r]^=255;for(var n=7;n>-1&&(o[n]++,0===o[n]);n--);}var jB=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),(0,c.A)(this,"toUtf8",void 0),(0,c.A)(this,"fromUtf8",void 0),this.toUtf8=r,this.fromUtf8=n},[{key:"format",value:function(n){for(var e=[],t=0,s=Object.keys(n);t<s.length;t++){var u=s[t],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[u]))}for(var d=new Uint8Array(e.reduce(function(I,B){return I+B.byteLength},0)),p=0,g=0,_=e;g<_.length;g++){var S=_[g];d.set(S,p),p+=S.byteLength}return d}},{key:"formatHeaderValue",value:function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+n.value.byteLength));u.setUint8(0,6),u.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(n.value,3),l;case"string":var d=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+d.byteLength));p.setUint8(0,7),p.setUint16(1,d.byteLength,!1);var g=new Uint8Array(p.buffer);return g.set(d,3),g;case"timestamp":var _=new Uint8Array(9);return _[0]=8,_.set(Ev.fromNumber(n.value.valueOf()).bytes,1),_;case"uuid":if(!XB.test(n.value))throw new Error("Invalid UUID received: ".concat(n.value));var S=new Uint8Array(17);return S[0]=9,S.set((0,is.a)(n.value.replace(/\-/g,"")),1),S}}},{key:"parse",value:function(n){for(var e={},t=0;t<n.byteLength;){var s=n.getUint8(t++),u=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,s));switch(t+=s,n.getUint8(t++)){case 0:e[u]={type:o1,value:!0};break;case 1:e[u]={type:o1,value:!1};break;case 2:e[u]={type:GB,value:n.getInt8(t++)};break;case 3:e[u]={type:zB,value:n.getInt16(t,!1)},t+=2;break;case 4:e[u]={type:$B,value:n.getInt32(t,!1)},t+=4;break;case 5:e[u]={type:HB,value:new Ev(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var l=n.getUint16(t,!1);t+=2,e[u]={type:KB,value:new Uint8Array(n.buffer,n.byteOffset+t,l)},t+=l;break;case 7:var d=n.getUint16(t,!1);t+=2,e[u]={type:qB,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,d))},t+=d;break;case 8:e[u]={type:WB,value:new Date(new Ev(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,e[u]={type:QB,value:"".concat((0,is.n)(p.subarray(0,4)),"-").concat((0,is.n)(p.subarray(4,6)),"-").concat((0,is.n)(p.subarray(6,8)),"-").concat((0,is.n)(p.subarray(8,10)),"-").concat((0,is.n)(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}])}(),o1="boolean",GB="byte",zB="short",$B="integer",HB="long",KB="binary",qB="string",WB="timestamp",QB="uuid",XB=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ZB=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),(0,c.A)(this,"headerMarshaller",void 0),(0,c.A)(this,"messageBuffer",void 0),(0,c.A)(this,"isEndOfStream",void 0),this.headerMarshaller=new jB(r,n),this.messageBuffer=[],this.isEndOfStream=!1},[{key:"feed",value:function(n){this.messageBuffer.push(this.decode(n))}},{key:"endOfStream",value:function(){this.isEndOfStream=!0}},{key:"getMessage",value:function(){var n=this.messageBuffer.pop(),e=this.isEndOfStream;return{getMessage:function(){return n},isEndOfStream:function(){return e}}}},{key:"getAvailableMessages",value:function(){var n=this.messageBuffer;this.messageBuffer=[];var e=this.isEndOfStream;return{getMessages:function(){return n},isEndOfStream:function(){return e}}}},{key:"encode",value:function(n){var t=n.body,s=this.headerMarshaller.format(n.headers),u=s.byteLength+t.byteLength+16,l=new Uint8Array(u),d=new DataView(l.buffer,l.byteOffset,l.byteLength),p=new Uc;return d.setUint32(0,u,!1),d.setUint32(4,s.byteLength,!1),d.setUint32(8,p.update(l.subarray(0,8)).digest(),!1),l.set(s,12),l.set(t,s.byteLength+12),d.setUint32(u-4,p.update(l.subarray(8,u-4)).digest(),!1),l}},{key:"decode",value:function(n){var e=function JB(o){var r=o.byteLength,n=o.byteOffset,e=o.buffer;if(r<16)throw new Error("Provided message too short to accommodate event stream message overhead");var t=new DataView(e,n,r),s=t.getUint32(0,!1);if(r!==s)throw new Error("Reported message length does not match received message length");var u=t.getUint32(4,!1),l=t.getUint32(8,!1),d=t.getUint32(r-4,!1),p=(new Uc).update(new Uint8Array(e,n,8));if(l!==p.digest())throw new Error("The prelude checksum specified in the message (".concat(l,") does not match the calculated CRC32 checksum (").concat(p.digest(),")"));if(p.update(new Uint8Array(e,n+8,r-12)),d!==p.digest())throw new Error("The message checksum (".concat(p.digest(),") did not match the expected value of ").concat(d));return{headers:new DataView(e,n+8+4,u),body:new Uint8Array(e,n+8+4+u,s-u-16)}}(n),s=e.body;return{headers:this.headerMarshaller.parse(e.headers),body:s}}},{key:"formatHeaders",value:function(n){return this.headerMarshaller.format(n)}}])}(),e8=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return io((0,Ke.A)().m(function e(){var t,s,u,l,d,p,g;return(0,Ke.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Ts(n.options.messageStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=7;break}return p=d.value,S.n=4,Ea(n.options.deserializer(p));case 4:if(void 0!==(g=S.v)){S.n=5;break}return S.a(3,6);case 5:return S.n=6,g;case 6:t=!1,S.n=2;break;case 7:S.n=9;break;case 8:S.p=8,s=!0,u=S.v;case 9:if(S.p=9,S.p=10,!t||null==l.return){S.n=11;break}return S.n=11,Ea(l.return());case 11:if(S.p=11,!s){S.n=12;break}throw u;case 12:return S.f(11);case 13:return S.f(9);case 14:return S.a(2)}},e,null,[[10,,11,13],[1,8,9,14]])}))()}}])}(),t8=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return io((0,Ke.A)().m(function e(){var t,s,u,l,d,g;return(0,Ke.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Ts(n.options.inputStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=5;break}return g=n.options.decoder.decode(d.value),S.n=4,g;case 4:t=!1,S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,s=!0,u=S.v;case 7:if(S.p=7,S.p=8,!t||null==l.return){S.n=9;break}return S.n=9,Ea(l.return());case 9:if(S.p=9,!s){S.n=10;break}throw u;case 10:return S.f(9);case 11:return S.f(7);case 12:return S.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}(),n8=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return io((0,Ke.A)().m(function e(){var t,s,u,l,d,g;return(0,Ke.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Ts(n.options.messageStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=5;break}return g=n.options.encoder.encode(d.value),S.n=4,g;case 4:t=!1,S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,s=!0,u=S.v;case 7:if(S.p=7,S.p=8,!t||null==l.return){S.n=9;break}return S.n=9,Ea(l.return());case 9:if(S.p=9,!s){S.n=10;break}throw u;case 10:return S.f(9);case 11:return S.f(7);case 12:if(!n.options.includeEndFrame){S.n=13;break}return S.n=13,new Uint8Array(0);case 13:return S.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}(),r8=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),this.options=r},[{key:Symbol.asyncIterator,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var n=this;return io((0,Ke.A)().m(function e(){var t,s,u,l,d,g;return(0,Ke.A)().w(function(S){for(;;)switch(S.p=S.n){case 0:t=!1,s=!1,S.p=1,l=Ts(n.options.inputStream);case 2:return S.n=3,Ea(l.next());case 3:if(!(t=!(d=S.v).done)){S.n=5;break}return g=n.options.serializer(d.value),S.n=4,g;case 4:t=!1,S.n=2;break;case 5:S.n=7;break;case 6:S.p=6,s=!0,u=S.v;case 7:if(S.p=7,S.p=8,!t||null==l.return){S.n=9;break}return S.n=9,Ea(l.return());case 9:if(S.p=9,!s){S.n=10;break}throw u;case 10:return S.f(9);case 11:return S.f(7);case 12:return S.a(2)}},e,null,[[8,,9,11],[1,6,7,12]])}))()}}])}();function u1(o,r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,u,l,d,p,g,_,S;return(0,Ke.A)().w(function(I){for(;;)switch(I.n){case 0:if("error"!==(s=t.headers[":message-type"].value)){I.n=1;break}throw(u=new Error(t.headers[":error-message"].value||"UnknownError")).name=t.headers[":error-code"].value,u;case 1:if("exception"!==s){I.n=4;break}return d=(0,c.A)({},l=t.headers[":exception-type"].value,t),I.n=2,o(d);case 2:if(!(p=I.v).$unknown){I.n=3;break}throw(g=new Error(r(t.body))).name=l,g;case 3:throw p[l];case 4:if("event"!==s){I.n=7;break}return _=(0,c.A)({},t.headers[":event-type"].value,t),I.n=5,o(_);case 5:if(!(S=I.v).$unknown){I.n=6;break}return I.a(2);case 6:return I.a(2,S);case 7:throw Error("Unrecognizable event type: ".concat(t.headers[":event-type"].value));case 8:return I.a(2)}},e)}));return function(e){return n.apply(this,arguments)}}()}var i8=function(){return(0,m.A)(function o(r){var n=r.utf8Encoder,e=r.utf8Decoder;(0,h.A)(this,o),(0,c.A)(this,"eventStreamCodec",void 0),(0,c.A)(this,"utfEncoder",void 0),this.eventStreamCodec=new ZB(n,e),this.utfEncoder=n},[{key:"deserialize",value:function(n,e){var t=function a8(o){var r=0,n=0,e=null,t=null,s=function(d){if("number"!=typeof d)throw new Error("Attempted to allocate an event message where size was not a number: "+d);r=d,n=4,e=new Uint8Array(d),new DataView(e.buffer).setUint32(0,d,!1)},u=function(){var l=io((0,Ke.A)().m(function d(){var p,g,_,I,B,$,Y,le;return(0,Ke.A)().w(function(ge){for(;;)switch(ge.n){case 0:p=o[Symbol.asyncIterator]();case 1:return ge.n=2,Ea(p.next());case 2:if(_=(g=ge.v).value,!g.done){ge.n=7;break}if(r){ge.n=3;break}return ge.a(2);case 3:if(r!==n){ge.n=5;break}return ge.n=4,e;case 4:ge.n=6;break;case 5:throw new Error("Truncated event message received.");case 6:return ge.a(2);case 7:I=_.length,B=0;case 8:if(!(B<I)){ge.n=13;break}if(e){ge.n=10;break}if($=I-B,t||(t=new Uint8Array(4)),Y=Math.min(4-n,$),t.set(_.slice(B,B+Y),n),B+=Y,!((n+=Y)<4)){ge.n=9;break}return ge.a(3,13);case 9:s(new DataView(t.buffer).getUint32(0,!1)),t=null;case 10:if(le=Math.min(r-n,I-B),e.set(_.slice(B,B+le),n),n+=le,B+=le,!r||r!==n){ge.n=12;break}return ge.n=11,e;case 11:e=null,r=0,n=0;case 12:ge.n=8;break;case 13:ge.n=1;break;case 14:return ge.a(2)}},d)}));return function(){return l.apply(this,arguments)}}();return(0,c.A)({},Symbol.asyncIterator,u)}(n);return new e8({messageStream:new t8({inputStream:t,decoder:this.eventStreamCodec}),deserializer:u1(e,this.utfEncoder)})}},{key:"serialize",value:function(n,e){return new n8({messageStream:new r8({inputStream:n,serializer:e}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}])}(),u8=function(){return(0,m.A)(function o(r){var n=r.utf8Encoder,e=r.utf8Decoder;(0,h.A)(this,o),(0,c.A)(this,"universalMarshaller",void 0),this.universalMarshaller=new i8({utf8Decoder:e,utf8Encoder:n})},[{key:"deserialize",value:function(n,e){var t=l8(n)?function(r){return(0,c.A)({},Symbol.asyncIterator,io((0,Ke.A)().m(function n(){var e,t,u;return(0,Ke.A)().w(function(l){for(;;)switch(l.p=l.n){case 0:e=r.getReader(),l.p=1;case 2:return l.n=3,Ea(e.read());case 3:if(u=(t=l.v).value,!t.done){l.n=4;break}return l.a(2);case 4:return l.n=5,u;case 5:l.n=2;break;case 6:return l.p=6,e.releaseLock(),l.f(6);case 7:return l.a(2)}},n,null,[[1,,6,7]])})))}(n):n;return this.universalMarshaller.deserialize(t,e)}},{key:"serialize",value:function(n,e){var t=this.universalMarshaller.serialize(n,e);return"function"==typeof ReadableStream?function(r){var n=r[Symbol.asyncIterator]();return new ReadableStream({pull:function(t){return(0,Mt.A)((0,Ke.A)().m(function s(){var u,d;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:return p.n=1,n.next();case 1:if(d=(u=p.v).value,!u.done){p.n=2;break}return p.a(2,t.close());case 2:t.enqueue(d);case 3:return p.a(2)}},s)}))()}})}(t):t}}])}(),l8=function(r){return"function"==typeof ReadableStream&&r instanceof ReadableStream},c8=function(r){return new u8(r)},d8=b(27011),l1=b(56992);function p8(o,r){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,Mt.A)(function(o,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1048576;return(0,Ke.A)().m(function e(){var t,s,u,l,d;return(0,Ke.A)().w(function(g){for(;;)switch(g.n){case 0:t=o.size,s=0;case 1:if(!(s<t)){g.n=3;break}return u=o.slice(s,Math.min(t,s+n)),l=r,d=Uint8Array,g.n=2,u.arrayBuffer();case 2:l(new d(g.v)),s+=u.size,g.n=1;break;case 3:return g.a(2)}},e)})()}),Dv.apply(this,arguments)}var f8=function(){var o=(0,Mt.A)((0,Ke.A)().m(function n(e,t){var s;return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:return s=new e,u.n=1,p8(t,function(l){s.update(l)});case 1:return u.a(2,s.digest())}},n)}));return function r(n,e){return o.apply(this,arguments)}}(),m8=b(82499),c1=b(87521),h8=[1732584193,4023233417,2562383102,271733878],v8=function(){return(0,m.A)(function o(){(0,h.A)(this,o),(0,c.A)(this,"state",void 0),(0,c.A)(this,"buffer",void 0),(0,c.A)(this,"bufferLength",void 0),(0,c.A)(this,"bytesHashed",void 0),(0,c.A)(this,"finished",void 0),this.reset()},[{key:"update",value:function(n){if(!function y8(o){return"string"==typeof o?0===o.length:0===o.byteLength}(n)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=function _8(o){return"string"==typeof o?(0,c1.a)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}(n),t=0,s=e.byteLength;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,e[t++]),s--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}}},{key:"digest",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(){var t,s,l,d,p,g,_;return(0,Ke.A)().w(function(S){for(;;)if(0===S.n){if(!this.finished){if(s=this.bufferLength,l=8*this.bytesHashed,(t=this.buffer).setUint8(this.bufferLength++,128),s%64>=56){for(d=this.bufferLength;d<64;d++)t.setUint8(d,0);this.hashBuffer(),this.bufferLength=0}for(p=this.bufferLength;p<56;p++)t.setUint8(p,0);t.setUint32(56,l>>>0,!0),t.setUint32(60,Math.floor(l/4294967296),!0),this.hashBuffer(),this.finished=!0}for(g=new DataView(new ArrayBuffer(16)),_=0;_<4;_++)g.setUint32(4*_,this.state[_],!0);return S.a(2,new Uint8Array(g.buffer,g.byteOffset,g.byteLength))}},e,this)}));return function n(){return r.apply(this,arguments)}}()},{key:"hashBuffer",value:function(){var n=this.buffer,e=this.state,t=e[0],s=e[1],u=e[2],l=e[3];t=wa(t,s,u,l,n.getUint32(0,!0),7,3614090360),l=wa(l,t,s,u,n.getUint32(4,!0),12,3905402710),u=wa(u,l,t,s,n.getUint32(8,!0),17,606105819),s=wa(s,u,l,t,n.getUint32(12,!0),22,3250441966),t=wa(t,s,u,l,n.getUint32(16,!0),7,4118548399),l=wa(l,t,s,u,n.getUint32(20,!0),12,1200080426),u=wa(u,l,t,s,n.getUint32(24,!0),17,2821735955),s=wa(s,u,l,t,n.getUint32(28,!0),22,4249261313),t=wa(t,s,u,l,n.getUint32(32,!0),7,1770035416),l=wa(l,t,s,u,n.getUint32(36,!0),12,2336552879),u=wa(u,l,t,s,n.getUint32(40,!0),17,4294925233),s=wa(s,u,l,t,n.getUint32(44,!0),22,2304563134),t=wa(t,s,u,l,n.getUint32(48,!0),7,1804603682),l=wa(l,t,s,u,n.getUint32(52,!0),12,4254626195),u=wa(u,l,t,s,n.getUint32(56,!0),17,2792965006),t=Fa(t,s=wa(s,u,l,t,n.getUint32(60,!0),22,1236535329),u,l,n.getUint32(4,!0),5,4129170786),l=Fa(l,t,s,u,n.getUint32(24,!0),9,3225465664),u=Fa(u,l,t,s,n.getUint32(44,!0),14,643717713),s=Fa(s,u,l,t,n.getUint32(0,!0),20,3921069994),t=Fa(t,s,u,l,n.getUint32(20,!0),5,3593408605),l=Fa(l,t,s,u,n.getUint32(40,!0),9,38016083),u=Fa(u,l,t,s,n.getUint32(60,!0),14,3634488961),s=Fa(s,u,l,t,n.getUint32(16,!0),20,3889429448),t=Fa(t,s,u,l,n.getUint32(36,!0),5,568446438),l=Fa(l,t,s,u,n.getUint32(56,!0),9,3275163606),u=Fa(u,l,t,s,n.getUint32(12,!0),14,4107603335),s=Fa(s,u,l,t,n.getUint32(32,!0),20,1163531501),t=Fa(t,s,u,l,n.getUint32(52,!0),5,2850285829),l=Fa(l,t,s,u,n.getUint32(8,!0),9,4243563512),u=Fa(u,l,t,s,n.getUint32(28,!0),14,1735328473),t=ka(t,s=Fa(s,u,l,t,n.getUint32(48,!0),20,2368359562),u,l,n.getUint32(20,!0),4,4294588738),l=ka(l,t,s,u,n.getUint32(32,!0),11,2272392833),u=ka(u,l,t,s,n.getUint32(44,!0),16,1839030562),s=ka(s,u,l,t,n.getUint32(56,!0),23,4259657740),t=ka(t,s,u,l,n.getUint32(4,!0),4,2763975236),l=ka(l,t,s,u,n.getUint32(16,!0),11,1272893353),u=ka(u,l,t,s,n.getUint32(28,!0),16,4139469664),s=ka(s,u,l,t,n.getUint32(40,!0),23,3200236656),t=ka(t,s,u,l,n.getUint32(52,!0),4,681279174),l=ka(l,t,s,u,n.getUint32(0,!0),11,3936430074),u=ka(u,l,t,s,n.getUint32(12,!0),16,3572445317),s=ka(s,u,l,t,n.getUint32(24,!0),23,76029189),t=ka(t,s,u,l,n.getUint32(36,!0),4,3654602809),l=ka(l,t,s,u,n.getUint32(48,!0),11,3873151461),u=ka(u,l,t,s,n.getUint32(60,!0),16,530742520),t=Pa(t,s=ka(s,u,l,t,n.getUint32(8,!0),23,3299628645),u,l,n.getUint32(0,!0),6,4096336452),l=Pa(l,t,s,u,n.getUint32(28,!0),10,1126891415),u=Pa(u,l,t,s,n.getUint32(56,!0),15,2878612391),s=Pa(s,u,l,t,n.getUint32(20,!0),21,4237533241),t=Pa(t,s,u,l,n.getUint32(48,!0),6,1700485571),l=Pa(l,t,s,u,n.getUint32(12,!0),10,2399980690),u=Pa(u,l,t,s,n.getUint32(40,!0),15,4293915773),s=Pa(s,u,l,t,n.getUint32(4,!0),21,2240044497),t=Pa(t,s,u,l,n.getUint32(32,!0),6,1873313359),l=Pa(l,t,s,u,n.getUint32(60,!0),10,4264355552),u=Pa(u,l,t,s,n.getUint32(24,!0),15,2734768916),s=Pa(s,u,l,t,n.getUint32(52,!0),21,1309151649),t=Pa(t,s,u,l,n.getUint32(16,!0),6,4149444226),l=Pa(l,t,s,u,n.getUint32(44,!0),10,3174756917),u=Pa(u,l,t,s,n.getUint32(8,!0),15,718787259),s=Pa(s,u,l,t,n.getUint32(36,!0),21,3951481745),e[0]=t+e[0]&4294967295,e[1]=s+e[1]&4294967295,e[2]=u+e[2]&4294967295,e[3]=l+e[3]&4294967295}},{key:"reset",value:function(){this.state=Uint32Array.from(h8),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}])}();function lf(o,r,n,e,t,s){return((r=(r+o&4294967295)+(e+s&4294967295)&4294967295)<<t|r>>>32-t)+n&4294967295}function wa(o,r,n,e,t,s,u){return lf(r&n|~r&e,o,r,t,s,u)}function Fa(o,r,n,e,t,s,u){return lf(r&e|n&~e,o,r,t,s,u)}function ka(o,r,n,e,t,s,u){return lf(r^n^e,o,r,t,s,u)}function Pa(o,r,n,e,t,s,u){return lf(n^(r|~e),o,r,t,s,u)}var b8=b(69153),d1=b(17439),wv=b(67404),A8=b(85797),C8=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r,[{key:"sign",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(s,u,l){var d,p,g,_,S,I,B,$,le;return(0,Ke.A)().w(function(be){for(;;)switch(be.n){case 0:if(Yo.K.isInstance(s)){be.n=1;break}throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");case 1:return be.n=2,(0,wv.pz)(l);case 2:return _=(g=be.v).config,S=g.signer,I=g.signingRegion,B=g.signingRegionSet,$=g.signingName,be.n=3,null===(d=_.sigv4aSigningRegionSet)||void 0===d?void 0:d.call(_);case 3:return le=(null!==(p=be.v??B)&&void 0!==p?p:[I]).join(","),be.n=4,S.sign(s,{signingDate:(0,A8.C)(_.systemClockOffset),signingRegion:le,signingService:$});case 4:return be.a(2,be.v)}},t)})),function e(t,s,u){return n.apply(this,arguments)})}]);var n}(wv.f2),x8=b(50993),S8=b(8833),E8=function(r,n){var e=n.base64Encoder,t=n.bodyLengthChecker,s=n.checksumAlgorithmFn,u=n.checksumLocationName,l=n.streamHasher,d=void 0!==e&&void 0!==t&&void 0!==s&&void 0!==u&&void 0!==l,p=d?l(s,r):void 0,g=r.getReader();return new ReadableStream({pull:function(S){return(0,Mt.A)((0,Ke.A)().m(function I(){var B,$,le,ge;return(0,Ke.A)().w(function(be){for(;;)switch(be.n){case 0:return be.n=1,g.read();case 1:if($=(B=be.v).value,!B.done){be.n=4;break}if(S.enqueue("0\r\n"),!d){be.n=3;break}return ge=e,be.n=2,p;case 2:le=ge(be.v),S.enqueue("".concat(u,":").concat(le,"\r\n")),S.enqueue("\r\n");case 3:S.close(),be.n=5;break;case 4:S.enqueue("".concat((t($)||0).toString(16),"\r\n").concat($,"\r\n"));case 5:return be.a(2)}},I)}))()}})},p1=b(56044),f1="The stream has already been transformed.",D8=function(r){if(!m1(r)&&!og(r)){var n,e=(null==r||null===(n=r.__proto__)||void 0===n||null===(n=n.constructor)||void 0===n?void 0:n.name)||r;throw new Error("Unexpected stream implementation, expect Blob or ReadableStream, got ".concat(e))}var l,t=!1,s=function(){var l=(0,Mt.A)((0,Ke.A)().m(function d(){return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:if(!t){p.n=1;break}throw new Error(f1);case 1:return t=!0,p.n=2,(0,l1.k)(r);case 2:return p.a(2,p.v)}},d)}));return function(){return l.apply(this,arguments)}}();return Object.assign(r,{transformToByteArray:s,transformToString:(l=(0,Mt.A)((0,Ke.A)().m(function p(g){var _;return(0,Ke.A)().w(function(S){for(;;)switch(S.n){case 0:return S.n=1,s();case 1:if(_=S.v,"base64"!==g){S.n=2;break}return S.a(2,(0,ig.n)(_));case 2:if("hex"!==g){S.n=3;break}return S.a(2,(0,is.n)(_));case 3:if(void 0!==g&&"utf8"!==g&&"utf-8"!==g){S.n=4;break}return S.a(2,(0,p1.P)(_));case 4:if("function"!=typeof TextDecoder){S.n=5;break}return S.a(2,new TextDecoder(g).decode(_));case 5:throw new Error("TextDecoder is not available, please make sure polyfill is provided.");case 6:return S.a(2)}},p)})),function d(p){return l.apply(this,arguments)}),transformToWebStream:function(){if(t)throw new Error(f1);if(t=!0,m1(r))return function(d){if("function"!=typeof d.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return d.stream()}(r);if(og(r))return r;throw new Error("Cannot transform payload to web stream, got ".concat(r))}})},m1=function(r){return"function"==typeof Blob&&r instanceof Blob},F8=b(98526),k8=b(75208),g1=b(45647),h1=b(44811),v1=b(56747),M8=function(o){function r(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var u=t[0];(0,h.A)(this,r);var l=function(r){var n,e,t,s,u,l,d,p,g,_,S,I,B,$,Y,le=(0,k8.I)(r),ge=function(){return le().then(F8.l)},be=function(r){var n,e,t,s,u,l,d,p,g,_,S,I,B,$,Y,le,ge;return{apiVersion:"2006-03-01",base64Decoder:null!==(n=r?.base64Decoder)&&void 0!==n?n:S8.E,base64Encoder:null!==(e=r?.base64Encoder)&&void 0!==e?e:ig.n,disableHostPrefix:null!==(t=r?.disableHostPrefix)&&void 0!==t&&t,endpointProvider:null!==(s=r?.endpointProvider)&&void 0!==s?s:qC,extensions:null!==(u=r?.extensions)&&void 0!==u?u:[],getAwsChunkedEncodingStream:null!==(l=r?.getAwsChunkedEncodingStream)&&void 0!==l?l:E8,httpAuthSchemeProvider:null!==(d=r?.httpAuthSchemeProvider)&&void 0!==d?d:pB,httpAuthSchemes:null!==(p=r?.httpAuthSchemes)&&void 0!==p?p:[{schemeId:"aws.auth#sigv4",identityProvider:function(me){return me.getIdentityProvider("aws.auth#sigv4")},signer:new wv.f2},{schemeId:"aws.auth#sigv4a",identityProvider:function(me){return me.getIdentityProvider("aws.auth#sigv4a")},signer:new C8}],logger:null!==(g=r?.logger)&&void 0!==g?g:new U_.N,sdkStreamMixin:null!==(_=r?.sdkStreamMixin)&&void 0!==_?_:D8,serviceId:null!==(S=r?.serviceId)&&void 0!==S?S:"S3",signerConstructor:null!==(I=r?.signerConstructor)&&void 0!==I?I:_A,signingEscapePath:null!==(B=r?.signingEscapePath)&&void 0!==B&&B,urlParser:null!==($=r?.urlParser)&&void 0!==$?$:x8.D,useArnRegion:null!==(Y=r?.useArnRegion)&&void 0!==Y?Y:void 0,utf8Decoder:null!==(le=r?.utf8Decoder)&&void 0!==le?le:c1.a,utf8Encoder:null!==(ge=r?.utf8Encoder)&&void 0!==ge?ge:p1.P}}(r);return(0,v.A)((0,v.A)((0,v.A)({},be),r),{},{runtime:"browser",defaultsMode:le,bodyLengthChecker:null!==(n=r?.bodyLengthChecker)&&void 0!==n?n:b8.n,credentialDefaultProvider:null!==(e=r?.credentialDefaultProvider)&&void 0!==e?e:function(me){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(t=r?.defaultUserAgentProvider)&&void 0!==t?t:(0,NB.pf)({serviceId:be.serviceId,clientVersion:"3.914.0"}),eventStreamSerdeProvider:null!==(s=r?.eventStreamSerdeProvider)&&void 0!==s?s:c8,maxAttempts:null!==(u=r?.maxAttempts)&&void 0!==u?u:d1.Gz,md5:null!==(l=r?.md5)&&void 0!==l?l:v8,region:null!==(d=r?.region)&&void 0!==d?d:(0,m8.B)("Region is missing"),requestHandler:d8.N.create(null!==(p=r?.requestHandler)&&void 0!==p?p:ge),retryMode:null!==(g=r?.retryMode)&&void 0!==g?g:(0,Mt.A)((0,Ke.A)().m(function me(){var ke;return(0,Ke.A)().w(function(qe){for(;;)switch(qe.n){case 0:return qe.n=1,ge();case 1:if(ke=qe.v.retryMode){qe.n=2;break}ke=d1.L0;case 2:return qe.a(2,ke)}},me)})),sha1:null!==(_=r?.sha1)&&void 0!==_?_:CB,sha256:null!==(S=r?.sha256)&&void 0!==S?S:MB,streamCollector:null!==(I=r?.streamCollector)&&void 0!==I?I:l1.k,streamHasher:null!==(B=r?.streamHasher)&&void 0!==B?B:f8,useDualstackEndpoint:null!==($=r?.useDualstackEndpoint)&&void 0!==$?$:function(){return Promise.resolve(VB.VW)},useFipsEndpoint:null!==(Y=r?.useFipsEndpoint)&&void 0!==Y?Y:function(){return Promise.resolve(OB.Hj)}})}(u||{});n=(0,F.A)(this,r,[l]),(0,c.A)(n,"config",void 0),n.initConfig=l;var be,d=function(r){var n,e,t,s,u,l;return Object.assign(r,{useFipsEndpoint:null!==(n=r.useFipsEndpoint)&&void 0!==n&&n,useDualstackEndpoint:null!==(e=r.useDualstackEndpoint)&&void 0!==e&&e,forcePathStyle:null!==(t=r.forcePathStyle)&&void 0!==t&&t,useAccelerateEndpoint:null!==(s=r.useAccelerateEndpoint)&&void 0!==s&&s,useGlobalEndpoint:null!==(u=r.useGlobalEndpoint)&&void 0!==u&&u,disableMultiregionAccessPoints:null!==(l=r.disableMultiregionAccessPoints)&&void 0!==l&&l,defaultSigningName:"s3"})}(l),g=function(r){var e=r.responseChecksumValidation,t=r.requestStreamBufferSize;return Object.assign(r,{requestChecksumCalculation:(0,Xp.t)(r.requestChecksumCalculation??"WHEN_SUPPORTED"),responseChecksumValidation:(0,Xp.t)(e??"WHEN_SUPPORTED"),requestStreamBufferSize:Number(t??0)})}((0,w4.D)(d)),_=(0,N4.$z)(g),S=(0,k4.T)(_),I=(0,dA.OV)(S),$=function(r){return Object.assign(r,{eventStreamMarshaller:r.eventStreamSerdeProvider(r)})}((0,M4.C)(I)),le=function(r,n){var t=(0,k.A)(n.session,2),s=t[0],u=t[1],S=r.bucketEndpoint;return Object.assign(r,{forcePathStyle:r.forcePathStyle??!1,useAccelerateEndpoint:r.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:r.disableMultiregionAccessPoints??!1,followRegionRedirects:r.followRegionRedirects??!1,s3ExpressIdentityProvider:r.s3ExpressIdentityProvider??new e4(function(){var I=(0,Mt.A)((0,Ke.A)().m(function B($){return(0,Ke.A)().w(function(Y){for(;;)if(0===Y.n)return Y.a(2,s().send(new u({Bucket:$})))},B)}));return function(B){return I.apply(this,arguments)}}()),bucketEndpoint:S??!1})}(function(r){var n,t=function(r){return r.sigv4aSigningRegionSet=(0,L4.t)(r.sigv4aSigningRegionSet),r}((0,B4.h)(r));return Object.assign(t,{authSchemePreference:(0,Xp.t)(null!==(n=r.authSchemePreference)&&void 0!==n?n:[])})}($),{session:[function(){return n},mB]}),ge=function(r,n){var e=Object.assign((0,g1.R)(r),(0,v1.xA)(r),(0,h1.e)(r),function(r){var n=r.httpAuthSchemes,e=r.httpAuthSchemeProvider,t=r.credentials;return{setHttpAuthScheme:function(u){var l=n.findIndex(function(d){return d.schemeId===u.schemeId});-1===l?n.push(u):n.splice(l,1,u)},httpAuthSchemes:function(){return n},setHttpAuthSchemeProvider:function(u){e=u},httpAuthSchemeProvider:function(){return e},setCredentials:function(u){t=u},credentials:function(){return t}}}(r));return n.forEach(function(t){return t.configure(e)}),Object.assign(r,(0,g1.$)(e),(0,v1.uv)(e),(0,h1.j)(e),function(r){return{httpAuthSchemes:r.httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()}}(e))}(le,u?.extensions||[]);return n.config=ge,n.middlewareStack.use((0,F4.sM)(n.config)),n.middlewareStack.use((0,V4.ey)(n.config)),n.middlewareStack.use((0,R4.vK)(n.config)),n.middlewareStack.use((0,dA.TC)(n.config)),n.middlewareStack.use((0,XO.Y7)(n.config)),n.middlewareStack.use((0,YO.n)(n.config)),n.middlewareStack.use((0,P4.w)(n.config,{httpAuthSchemeParametersProvider:lB,identityProviderConfigProvider:(be=(0,Mt.A)((0,Ke.A)().m(function ke(qe){return(0,Ke.A)().w(function(ct){for(;;)if(0===ct.n)return ct.a(2,new I4.h({"aws.auth#sigv4":qe.credentials,"aws.auth#sigv4a":qe.credentials}))},ke)})),function me(ke){return be.apply(this,arguments)})})),n.middlewareStack.use((0,mA.l)(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function o4(o){var r=o.bucketEndpoint;return function(n){return function(){var e=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l;return(0,Ke.A)().w(function(d){for(;;)switch(d.n){case 0:if(u=s.input.Bucket,r||"string"!=typeof u||n4(u)||!(u.indexOf("/")>=0)){d.n=1;break}throw(l=new Error("Bucket name shouldn't contain '/', received '".concat(u,"'"))).name="InvalidBucketName",l;case 1:return d.a(2,n((0,v.A)({},s)))}},t)}));return function(t){return e.apply(this,arguments)}}()}}(r),s4),e.addRelativeTo(function r4(o){return function(r,n){return function(){var e=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l,d,p,g,_,S,I;return(0,Ke.A)().w(function(B){for(;;)switch(B.p=B.n){case 0:if(!o.bucketEndpoint){B.n=3;break}if(!(u=n.endpointV2)){B.n=3;break}if("string"!=typeof(l=s.input.Bucket)){B.n=3;break}B.p=1,d=new URL(l),n.endpointV2=(0,v.A)((0,v.A)({},u),{},{url:d}),B.n=3;break;case 2:throw B.p=2,I=B.v,g="@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=".concat(l," could not be parsed as URL."),"NoOpLogger"===(null===(p=n.logger)||void 0===p||null===(p=p.constructor)||void 0===p?void 0:p.name)?console.warn(g):null===(_=n.logger)||void 0===_||null===(S=_.warn)||void 0===S||S.call(_,g),I;case 3:return B.a(2,r(s))}},t,null,[[1,2]])}));return function(t){return e.apply(this,arguments)}}()}}(r),a4)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function KO(o){return function(r){return function(){var n=(0,Mt.A)((0,Ke.A)().m(function e(t){var s,u;return(0,Ke.A)().w(function(l){for(;;)if(0===l.n)return Yo.K.isInstance(s=t.request)&&s.body&&"node"===o.runtime&&"FetchHttpHandler"!==(null===(u=o.requestHandler)||void 0===u||null===(u=u.constructor)||void 0===u?void 0:u.name)&&(s.headers=(0,v.A)((0,v.A)({},s.headers),{},{Expect:"100-continue"})),l.a(2,r((0,v.A)((0,v.A)({},t),{},{request:s})))},e)}));return function(e){return n.apply(this,arguments)}}()}}(r),qO)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function d4(o){return function(r,n){return function(){var e=(0,Mt.A)((0,Ke.A)().m(function t(s){var u,l,d,p,g,_,S,I,$,Y;return(0,Ke.A)().w(function(ge){for(;;)switch(ge.p=ge.n){case 0:return ge.p=0,ge.n=1,r(s);case 1:return ge.a(2,ge.v);case 2:if(ge.p=2,I=ge.v,!o.followRegionRedirects){ge.n=8;break}if(d=null==I||null===(u=I.$metadata)||void 0===u?void 0:u.httpStatusCode,p="HeadBucketCommand"===n.commandName,!(g=null==I||null===(l=I.$response)||void 0===l||null===(l=l.headers)||void 0===l?void 0:l["x-amz-bucket-region"])){ge.n=8;break}if(301!==d&&(400!==d||"IllegalLocationConstraintException"!==I?.name&&!p)){ge.n=8;break}if(ge.p=3,S=g,null===(_=n.logger)||void 0===_){ge.n=5;break}return $=_,Y="Redirecting from ",ge.n=4,o.region();case 4:$.debug.call($,Y.concat.call(Y,ge.v," to ").concat(S));case 5:n.__s3RegionRedirect=S,ge.n=7;break;case 6:throw ge.p=6,new Error("Region redirect failed: "+ge.v);case 7:return ge.a(2,r(s));case 8:throw I;case 9:return ge.a(2)}},t,null,[[3,6],[0,2]])}));return function(t){return e.apply(this,arguments)}}()}}(r),p4),e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,d,p,g,S;return(0,Ke.A)().w(function(I){for(;;)switch(I.p=I.n){case 0:return I.n=1,r.region();case 1:return l=I.v,d=r.region,p=function(){},e.__s3RegionRedirect&&(Object.defineProperty(r,"region",{writable:!1,value:function(){var B=(0,Mt.A)((0,Ke.A)().m(function Y(){return(0,Ke.A)().w(function(le){for(;;)if(0===le.n)return le.a(2,e.__s3RegionRedirect)},Y)}));return function $(){return B.apply(this,arguments)}}()}),p=function(){return Object.defineProperty(r,"region",{writable:!0,value:d})}),I.p=2,I.n=3,n(u);case 3:if(g=I.v,!e.__s3RegionRedirect){I.n=5;break}return p(),I.n=4,r.region();case 4:if(l===I.v){I.n=5;break}throw new Error("Region was not restored following S3 region redirect.");case 5:return I.a(2,g);case 6:throw I.p=6,S=I.v,p(),S;case 7:return I.a(2)}},s,null,[[2,6]])}));return function(s){return t.apply(this,arguments)}}()}}(r),c4)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.add(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,d,p,g,_,I,B,$;return(0,Ke.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(!e.endpointV2){Y.n=3;break}if(_="sigv4-s3express"===(null===(l=(g=e.endpointV2).properties)||void 0===l||null===(l=l.authSchemes)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.name),("S3Express"===(null===(d=g.properties)||void 0===d?void 0:d.backend)||"Directory"===(null===(p=g.properties)||void 0===p?void 0:p.bucketType))&&((0,Zi.J)(e,"S3_EXPRESS_BUCKET","J"),e.isS3ExpressBucket=!0),!_){Y.n=3;break}if(!(I=u.input.Bucket)){Y.n=3;break}return $=r.s3ExpressIdentityProvider,Y.n=1,r.credentials();case 1:return Y.n=2,$.getS3ExpressIdentity.call($,Y.v,{Bucket:I});case 2:e.s3ExpressIdentity=B=Y.v,Yo.K.isInstance(u.request)&&B.sessionToken&&(u.request.headers[qh]=B.sessionToken);case 3:return Y.a(2,n(u))}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),b4)}}}(n.config)),n.middlewareStack.use(function(r){return{applyToStack:function(e){e.addRelativeTo(function(r){return function(n,e){return function(){var t=(0,Mt.A)((0,Ke.A)().m(function s(u){var l,d,p,g,_,S,I,B,$,Y,le,ge;return(0,Ke.A)().w(function(be){for(;;)switch(be.n){case 0:if(Yo.K.isInstance(u.request)){be.n=1;break}return be.a(2,n(u));case 1:if(l=(0,Wh.u)(e),d=l.selectedHttpAuthScheme){be.n=2;break}throw new Error("No HttpAuthScheme was selected: unable to sign request");case 2:if(g=void 0===(p=d.httpAuthOption.signingProperties)?{}:p,_=d.identity,S=d.signer,!e.s3ExpressIdentity){be.n=5;break}return $=C4,Y=e.s3ExpressIdentity,le=g,ge=u.request,be.n=3,r.signer();case 3:return be.n=4,$(Y,le,ge,be.v);case 4:I=be.v,be.n=7;break;case 5:return be.n=6,S.sign(u.request,_,g);case 6:I=be.v;case 7:return be.n=8,n((0,v.A)((0,v.A)({},u),{},{request:I})).catch((S.errorHandler||x4)(g));case 8:return(S.successHandler||S4)((B=be.v).response,g),be.a(2,B)}},s)}));return function(s){return t.apply(this,arguments)}}()}}(r),mA.Q)}}}(n.config)),n}return(0,w.A)(r,o),(0,m.A)(r,[{key:"destroy",value:function(){(0,Ne.A)(r,"destroy",this,3)([])}}])}(O4.K),N8=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-mediafile-pane-renderer"]],standalone:!1,decls:1,vars:0,template:function(e,t){1&e&&a.\u0275\u0275text(0,"Media File")},encapsulation:2}),r}(),y1=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),e.register(new Xt.ContentPlugin({id:"media_file",title:"Media File",selectionComponent:void 0,editorComponent:void 0,renderComponent:N8,handler:void 0}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.ContentPluginManager))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),cf=new a.InjectionToken("Media Settings"),O8=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.endpointUrl=r.endpointUrl,this.cloudinaryUrl=r.cloudinaryUrl,this.uploadPreset=r.uploadPreset,this.imageUrl=r.imageUrl,this.bucket=r.bucket,this.prefix=r.prefix)}),Fv=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.id=r.id,this.contentType=r.contentType,this.contentDisposition=r.contentDisposition,this.path=r.path,this.fileName=r.fileName,this.length=r.length,this.extension=r.extension?r.extension:void 0,this.realPath=r.realPath&&""!==r.realPath?r.realPath:void 0)}),df=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.settings=e,this.cognitoSettings=t,this.http=s,this.authFacade=u},[{key:"bulkUpload",value:function(t){var s=this,l=t.fileNameOverride,p=[];return t.files.forEach(function(g){if(g){var _=new FormData;_.append("File",g,l||g.name),p.push(s.http.post(s.settings.endpointUrl,_).pipe((0,aa.W)(function(S){return(0,Ji.$)(new Error("Error uploading images."))})))}}),p.length>0?(0,An.p)(p):(0,Te.of)([])}},{key:"bulkUploadS3",value:function(t){var s=this,l=t.fileNameOverride,d=t.nocache,p=[];return t.files.forEach(function(g){g&&p.push(new L.c(function(_){var S=l||cr(),I=g.name.split(".",2),Y=(0,k.A)(I,2)[1],le=S+(Y?"."+Y:"");new VO({client:s.buildClient(),params:(0,v.A)({Bucket:s.settings.bucket,Key:s.settings.prefix+le,Body:g,ContentType:g.type},d?{CacheControl:"no-cache"}:{})}).done().then(function(){_.next(new Fv({id:S,contentType:g.type,contentDisposition:"",path:le,realPath:s.settings.prefix+le,length:g.size,fileName:g.name,extension:Y&&""!==Y?Y:void 0})),_.complete()})}))}),p.length>0?(0,An.p)(p):(0,Te.of)([])}},{key:"convertToFiles",value:function(t){var s=this,u=t.map(function(l){return new L.c(function(d){fetch("".concat(s.settings.imageUrl,"/").concat(l.path)).then(function(p){p.blob().then(function(g){new Promise(function(_){var S=new FileReader;S.onload=function(){return _(S.result)},S.readAsDataURL(g)}).then(function(_){var S=s.convertDataURIToBinary(_),I=new File([S],l.fileName,{type:l.contentType});d.next(I),d.complete()})})})})});return(0,An.p)(u)}},{key:"convertDataURIToBinary",value:function(t){for(var u=t.indexOf(";base64,")+8,l=t.substring(u),d=window.atob(l),p=d.length,g=new Uint8Array(new ArrayBuffer(p)),_=0;_<p;_++)g[_]=d.charCodeAt(_);return g}},{key:"buildClient",value:function(){var t=this;return new M8({region:this.cognitoSettings.region,credentials:zh({client:new $h.D({region:this.cognitoSettings.region}),identityPoolId:this.cognitoSettings.identityPoolId,logins:(0,c.A)({},"cognito-idp.".concat(this.cognitoSettings.region,".amazonaws.com/").concat(this.cognitoSettings.userPoolId),function(){return Ym(t.authFacade.getUser$.pipe((0,fe.T)(function(u){return u?u.id_token:void 0})))})})})}},{key:"isImage",value:function(t){var s=t.file;return s.type&&0===s.type.indexOf("image/")}},{key:"isVideo",value:function(t){var s=t.file;return s.type&&0===s.type.indexOf("video/")}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cf),a.\u0275\u0275inject(Wd),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(_i))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),sn=b(52909),_t=b(1395),Gc=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),Qn=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"generateTokens",value:function(t){var s=new Map;return this.attributeTokens(t,s,"",0),s}},{key:"generateGenericTokens",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=new Map;return this.genericTokens(t,u,s,0),u}},{key:"attributeTokens",value:function(t,s,u,l){var d=this;t.forEach(function(p,g){if("widget"!==p.name)for(var _ in p)p.type===_t.AttributeTypes.Complex||"attributes"===_&&p.attributes&&p.attributes.length>0?d.attributeTokens(p.attributes,s,p.type===_t.AttributeTypes.Complex?"".concat(u):"".concat(u,".").concat(p.name),l+1):"attributes"!==_&&s.set(_===p.name?"".concat(u,".").concat(_):"".concat(u,".").concat(p.name,".").concat(_),p[_])})}},{key:"genericTokens",value:function(t,s,u,l){for(var d in t)if("object"!=typeof t[d])s.set("".concat(u,".").concat(d),t[d]);else if(Array.isArray(t[d])&&"attributes"===d)this.attributeTokens(t[d],s,"".concat(u,".").concat(d),l+1);else if(Array.isArray(t[d]))for(var g=t[d].length,_=0;_<g;_++)this.genericTokens(t[d][_],s,"".concat(u,".").concat(d,".").concat(_),l+1);else this.genericTokens(t[d],s,"".concat(u,".").concat(d),l+1)}},{key:"replaceTokens",value:function(t,s){return s&&s.forEach(function(u,l){t=t.replace("[".concat(l,"]"),"".concat(u))}),t}},{key:"matchTokens",value:function(t,s){for(var u=[],l=s.length,d=0;d<l;d++)t.indexOf("[".concat(s[d],"]"))>-1&&u.push(s[d]);return u}},{key:"discoverTokens",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=t.match(/(\[(?:\[??[^\[]*?\]))/g);return null===u?[]:u.reduce(function(d,p){if(-1!==p.indexOf(" ")||-1===p.indexOf("."))return d;var g=1===p.indexOf(".")?["."]:p.substr(1,p.length-2).split("."),S=(0,k.A)(g,1)[0];return-1!==d.findIndex(function(I){return I===S})?d:[].concat((0,A.A)(d),[s?p.substr(1,p.length-2):S])},[])}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),pa=b(68951),Ln=b(52575),B8=["gutterEls"],L8=["*"],j8=function(r,n,e,t,s,u){return{areaBefore:r,areaAfter:n,gutterNum:e,first:t,last:s,isDragged:u}};function U8(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function G8(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,U8,1,0,"ng-container",7),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext(3),t=e.$implicit,s=e.index,u=e.first,l=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",l.customGutter.template)("ngTemplateOutletContext",a.\u0275\u0275pureFunction6(3,j8,t,l.displayedAreas[s+1],s+1,u,s===l.displayedAreas.length-2,l.draggedGutterNum===s+1))("ngTemplateOutletInjector",n)}}function z8(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,G8,2,10,"ng-container",6),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2).index;a.\u0275\u0275advance(),a.\u0275\u0275property("asSplitGutterDynamicInjector",n+1)}}function $8(o,r){1&o&&a.\u0275\u0275element(0,"div",8)}function H8(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",4,0),a.\u0275\u0275listener("keydown",function(p){a.\u0275\u0275restoreView(n);var g=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.startKeyboardDrag(p,2*g+1,g+1))})("mousedown",function(p){a.\u0275\u0275restoreView(n);var g=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.startMouseDrag(p,2*g+1,g+1))})("touchstart",function(p){a.\u0275\u0275restoreView(n);var g=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.startMouseDrag(p,2*g+1,g+1))})("mouseup",function(p){a.\u0275\u0275restoreView(n);var g=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.clickGutter(p,g+1))})("touchend",function(p){a.\u0275\u0275restoreView(n);var g=a.\u0275\u0275nextContext().index,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.clickGutter(p,g+1))}),a.\u0275\u0275template(2,z8,2,1,"ng-container",5)(3,$8,1,0,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275reference(4),t=a.\u0275\u0275nextContext(),s=t.$implicit,u=t.index,l=a.\u0275\u0275nextContext();a.\u0275\u0275styleProp("flex-basis",l.gutterSize,"px")("order",2*u+1),a.\u0275\u0275classProp("as-dragged",l.draggedGutterNum===u+1),a.\u0275\u0275attribute("aria-label",l.gutterAriaLabel)("aria-orientation",l.direction)("aria-valuemin",s.minSize)("aria-valuemax",s.maxSize)("aria-valuenow","*"===s.size?null:s.size)("aria-valuetext",l.getAriaAreaSizeText(s.size)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",null==l.customGutter?null:l.customGutter.template)("ngIfElse",e)}}function K8(o,r){1&o&&a.\u0275\u0275template(0,H8,5,14,"div",3),2&o&&a.\u0275\u0275property("ngIf",!1===r.last)}function zc(o){if(void 0!==o.changedTouches&&o.changedTouches.length>0)return{x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(void 0!==o.clientX&&void 0!==o.clientY)return{x:o.clientX,y:o.clientY};if(void 0!==o.currentTarget){var r=o.currentTarget;return{x:r.offsetLeft,y:r.offsetTop}}return null}function _1(o,r,n){return Math.abs(o.x-r.x)<=n&&Math.abs(o.y-r.y)<=n}function b1(o,r){var n=o.nativeElement.getBoundingClientRect();return"horizontal"===r?n.width:n.height}function $c(o){return"boolean"==typeof o?o:"false"!==o}function us(o,r){return null==o?r:(o=Number(o),!isNaN(o)&&o>=0?o:r)}function A1(o,r){if("percent"===o){var n=r.reduce(function(t,s){return"*"!==s?t+s:t},0),e=r.filter(function(t){return"*"===t});return!(e.length>1)&&(1===e.length||n>99.9)&&n<100.1}if("pixel"===o)return 1===r.filter(function(t){return"*"===t}).length}function pf(o){return"*"===o.size?null:!0===o.component.lockSize?o.size:null===o.component.minSize?null:o.component.minSize}function ff(o){return"*"===o.size?null:!0===o.component.lockSize?o.size:null===o.component.maxSize?null:o.component.maxSize<o.size?o.size:o.component.maxSize}function Ll(o,r,n,e){return r.reduce(function(t,s){var u=function W8(o,r,n,e){return 0===n?{areaSnapshot:r,pixelAbsorb:0,percentAfterAbsorption:r.sizePercentAtStart,pixelRemain:0}:0===r.sizePixelAtStart&&n<0?{areaSnapshot:r,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===o?function Q8(o,r,n){var t=(o.sizePixelAtStart+r)/n*100;if(r>0){if(null!==o.area.maxSize&&t>o.area.maxSize){var s=o.area.maxSize/100*n;return{areaSnapshot:o,pixelAbsorb:s,percentAfterAbsorption:o.area.maxSize,pixelRemain:o.sizePixelAtStart+r-s}}return{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:t>100?100:t,pixelRemain:0}}if(r<0){if(null!==o.area.minSize&&t<o.area.minSize){var u=o.area.minSize/100*n;return{areaSnapshot:o,pixelAbsorb:u,percentAfterAbsorption:o.area.minSize,pixelRemain:o.sizePixelAtStart+r-u}}return t<0?{areaSnapshot:o,pixelAbsorb:-o.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:r+o.sizePixelAtStart}:{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:t,pixelRemain:0}}}(r,n,e):"pixel"===o?function X8(o,r){var n=o.sizePixelAtStart+r;return r>0?null!==o.area.maxSize&&n>o.area.maxSize?{areaSnapshot:o,pixelAbsorb:o.area.maxSize-o.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n-o.area.maxSize}:{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:-1,pixelRemain:0}:r<0?null!==o.area.minSize&&n<o.area.minSize?{areaSnapshot:o,pixelAbsorb:o.area.minSize+r-n,percentAfterAbsorption:-1,pixelRemain:n-o.area.minSize}:n<0?{areaSnapshot:o,pixelAbsorb:-o.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r+o.sizePixelAtStart}:{areaSnapshot:o,pixelAbsorb:r,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(r,n):void 0}(o,s,t.remain,e);return t.list.push(u),t.remain=u.pixelRemain,t},{remain:n,list:[]})}function C1(o,r){"*"!==r.areaSnapshot.area.size&&("percent"===o?r.areaSnapshot.area.size=r.percentAfterAbsorption:"pixel"===o&&(r.areaSnapshot.area.size=r.areaSnapshot.sizePixelAtStart+r.pixelAbsorb))}var Y8=new a.InjectionToken("angular-split-global-config"),J8=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e,this.gutterToHandleElementMap=new Map,this.gutterToExcludeDragElementMap=new Map},[{key:"canStartDragging",value:function(t,s){return(!this.gutterToExcludeDragElementMap.has(s)||!this.gutterToExcludeDragElementMap.get(s).some(function(l){return l.nativeElement.contains(t)}))&&(!this.gutterToHandleElementMap.has(s)||this.gutterToHandleElementMap.get(s).some(function(l){return l.nativeElement.contains(t)}))}},{key:"addToMap",value:function(t,s,u){t.has(s)?t.get(s).push(u):t.set(s,[u])}},{key:"removedFromMap",value:function(t,s,u){var l=t.get(s);l.splice(l.indexOf(u),1),0===l.length&&t.delete(s)}}],[{key:"ngTemplateContextGuard",value:function(t,s){return!0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","asSplitGutter",""]],standalone:!1}),r}(),Z8=new a.InjectionToken("Gutter num"),e6=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.vcr=e,this.templateRef=t},[{key:"gutterNum",set:function(t){this.vcr.clear();var s=a.Injector.create({providers:[{provide:Z8,useValue:t}],parent:this.vcr.injector});this.vcr.createEmbeddedView(this.templateRef,{$implicit:s})}}],[{key:"ngTemplateContextGuard",value:function(t,s){return!0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef),a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","asSplitGutterDynamicInjector",""]],inputs:{gutterNum:[0,"asSplitGutterDynamicInjector","gutterNum"]},standalone:!1}),r}(),Hc=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){var d=this;(0,h.A)(this,n),this.ngZone=e,this.elRef=t,this.cdRef=s,this.renderer=u,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new a.EventEmitter(!1),this.dragEnd=new a.EventEmitter(!1),this.gutterClick=new a.EventEmitter(!1),this.gutterDblClick=new a.EventEmitter(!1),this.dragProgressSubject=new T.B,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.draggedGutterNum=void 0,this.direction=this._direction,this._config=l?Object.assign(this._config,l):this._config,Object.keys(this._config).forEach(function(p){d[p]=d._config[p]})},[{key:"direction",get:function(){return this._direction},set:function(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}},{key:"unit",get:function(){return this._unit},set:function(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}},{key:"gutterSize",get:function(){return this._gutterSize},set:function(t){this._gutterSize=us(t,11),this.build(!1,!1)}},{key:"gutterStep",get:function(){return this._gutterStep},set:function(t){this._gutterStep=us(t,1)}},{key:"restrictMove",get:function(){return this._restrictMove},set:function(t){this._restrictMove=$c(t)}},{key:"useTransition",get:function(){return this._useTransition},set:function(t){this._useTransition=$c(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=$c(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}},{key:"dir",get:function(){return this._dir},set:function(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}},{key:"gutterDblClickDuration",get:function(){return this._gutterDblClickDuration},set:function(t){this._gutterDblClickDuration=us(t,0)}},{key:"transitionEnd",get:function(){var t=this;return new L.c(function(s){return t.transitionEndSubscriber=s}).pipe((0,Ln.B)(20))}},{key:"ngAfterViewInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){setTimeout(function(){return t.renderer.addClass(t.elRef.nativeElement,"as-init")})})}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(t){var s={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(s),this.build(!0,!0)):this.hiddenAreas.push(s)}},{key:"removeArea",value:function(t){if(this.displayedAreas.some(function(l){return l.component===t})){var s=this.displayedAreas.find(function(l){return l.component===t});this.displayedAreas.splice(this.displayedAreas.indexOf(s),1),this.build(!0,!0)}else if(this.hiddenAreas.some(function(l){return l.component===t})){var u=this.hiddenAreas.find(function(l){return l.component===t});this.hiddenAreas.splice(this.hiddenAreas.indexOf(u),1)}}},{key:"updateArea",value:function(t,s,u){!0===t.visible&&this.build(s,u)}},{key:"showArea",value:function(t){var s,u=this.hiddenAreas.find(function(d){return d.component===t});if(void 0!==u){var l=this.hiddenAreas.splice(this.hiddenAreas.indexOf(u),1);(s=this.displayedAreas).push.apply(s,(0,A.A)(l)),this.build(!0,!0)}}},{key:"hideArea",value:function(t){var s,u=this.displayedAreas.find(function(d){return d.component===t});if(void 0!==u){var l=this.displayedAreas.splice(this.displayedAreas.indexOf(u),1);l.forEach(function(d){d.order=0,d.size=0}),(s=this.hiddenAreas).push.apply(s,(0,A.A)(l)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map(function(t){return t.size})}},{key:"setVisibleAreaSizes",value:function(t){if(t.length!==this.displayedAreas.length)return!1;var s=t.map(function(l){return us(l,"*")});return!1!==A1(this.unit,s)&&(this.displayedAreas.forEach(function(l,d){return l.component.size=s[d]}),this.build(!1,!0),!0)}},{key:"build",value:function(t,s){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(function(g){return null!==g.component.order})&&this.displayedAreas.sort(function(g,_){return g.component.order-_.component.order}),this.displayedAreas.forEach(function(g,_){g.order=2*_,g.component.setStyleOrder(g.order)})),!0===s){var u=A1(this.unit,this.displayedAreas.map(function(g){return g.component.size}));switch(this.unit){case"percent":var l=100/this.displayedAreas.length;this.displayedAreas.forEach(function(g){g.size=u?g.component.size:l,g.minSize=pf(g),g.maxSize=ff(g)});break;case"pixel":if(u)this.displayedAreas.forEach(function(g){g.size=g.component.size,g.minSize=pf(g),g.maxSize=ff(g)});else{var d=this.displayedAreas.filter(function(g){return"*"===g.component.size});if(0===d.length&&this.displayedAreas.length>0)this.displayedAreas.forEach(function(g,_){g.size=0===_?"*":g.component.size,g.minSize=0===_?g.component.minSize:pf(g),g.maxSize=0===_?null:ff(g)});else if(d.length>1){var p=!1;this.displayedAreas.forEach(function(g){"*"===g.component.size?!1===p?(g.size="*",g.minSize=null,g.maxSize=null,p=!0):(g.size=100,g.minSize=null,g.maxSize=null):(g.size=g.component.size,g.minSize=pf(g),g.maxSize=ff(g))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var t=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var s=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(function(u){"*"===u.size?u.component.setStyleFlex(1,1,1===t.displayedAreas.length?"100%":"auto",!1,!1):u.component.setStyleFlex(0,0,"calc( ".concat(u.size,"% - ").concat(u.size/100*s,"px )"),null!==u.minSize&&u.minSize===u.size,null!==u.maxSize&&u.maxSize===u.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(function(u){"*"===u.size?u.component.setStyleFlex(1,1,1===t.displayedAreas.length?"100%":"auto",!1,!1):1===t.displayedAreas.length?u.component.setStyleFlex(0,0,"100%",!1,!1):u.component.setStyleFlex(0,0,"".concat(u.size,"px"),null!==u.minSize&&u.minSize===u.size,null!==u.maxSize&&u.maxSize===u.size)})}},{key:"clickGutter",value:function(t,s){var u=this,l=zc(t);this.startPoint&&_1(this.startPoint,l,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",s),this.stopDragging()):this._clickTimeout=window.setTimeout(function(){u._clickTimeout=null,u.notify("click",s),u.stopDragging()},this.gutterDblClickDuration))}},{key:"startKeyboardDrag",value:function(t,s,u){if(!0!==this.disabled&&!0!==this.isWaitingClear){var l=function q8(o,r){if("horizontal"===r)switch(o.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===r)switch(o.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}var n=o.currentTarget,e="PageUp"===o.key||"PageDown"===o.key?500:50,t=n.offsetLeft,s=n.offsetTop;switch(o.key){case"ArrowLeft":t-=e;break;case"ArrowRight":t+=e;break;case"ArrowUp":s-=e;break;case"ArrowDown":s+=e;break;case"PageUp":"vertical"===r?s-=e:t+=e;break;case"PageDown":"vertical"===r?s+=e:t-=e;break;default:return null}return{x:t,y:s}}(t,this.direction);null!==l&&(this.endPoint=l,this.startPoint=zc(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(s,u),this.startDragging(),this.drag(),this.stopDragging())}}},{key:"startMouseDrag",value:function(t,s,u){var l=this;this.customGutter&&!this.customGutter.canStartDragging(t.target,u)||(t.preventDefault(),t.stopPropagation(),this.startPoint=zc(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(s,u),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(function(){l.dragListeners.push(l.renderer.listen("document","mousemove",l.mouseDragEvent.bind(l))),l.dragListeners.push(l.renderer.listen("document","touchmove",l.mouseDragEvent.bind(l)))}),this.startDragging()))}},{key:"setupForDragEvent",value:function(t,s){var u=this;if(this.snapshot={gutterNum:s,lastSteppedOffset:0,allAreasSizePixel:b1(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(function(g){var _={area:g,sizePixelAtStart:b1(g.component.elRef,u.direction),sizePercentAtStart:"percent"===u.unit?g.size:-1};g.order<t?!0===u.restrictMove?u.snapshot.areasBeforeGutter=[_]:u.snapshot.areasBeforeGutter.unshift(_):g.order>t&&(!0===u.restrictMove?0===u.snapshot.areasAfterGutter.length&&(u.snapshot.areasAfterGutter=[_]):u.snapshot.areasAfterGutter.push(_))}),this.restrictMove&&"percent"===this.unit){var l=this.snapshot.areasBeforeGutter[0],d=this.snapshot.areasAfterGutter[0];if("*"===l.area.size||"*"===d.area.size){var p=this.displayedAreas.reduce(function(g,_){return l.area!==_&&d.area!==_?g+_.size:g},0);this.snapshot.allInvolvedAreasSizePercent=100-p}else this.snapshot.allInvolvedAreasSizePercent=[].concat((0,A.A)(this.snapshot.areasBeforeGutter),(0,A.A)(this.snapshot.areasAfterGutter)).reduce(function(g,_){return g+_.sizePercentAtStart},0)}}},{key:"startDragging",value:function(){this.displayedAreas.forEach(function(t){return t.component.lockEvents()}),this.isDragging=!0,this.isWaitingInitialMove=!0}},{key:"mouseDragEvent",value:function(t){t.preventDefault(),t.stopPropagation();var s=zc(t);null!==this._clickTimeout&&!_1(this.startPoint,s,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=zc(t),null!==this.endPoint&&this.drag())}},{key:"drag",value:function(){var t=this;if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(function(){t.isWaitingInitialMove=!1,t.renderer.addClass(t.elRef.nativeElement,"as-dragging"),t.draggedGutterNum=t.snapshot.gutterNum,t.cdRef.markForCheck(),t.notify("start",t.snapshot.gutterNum)})}var s="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(s=-s);var u=Math.round(s/this.gutterStep)*this.gutterStep;if(u!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=u;var l=Ll(this.unit,this.snapshot.areasBeforeGutter,-u,this.snapshot.allAreasSizePixel),d=Ll(this.unit,this.snapshot.areasAfterGutter,u,this.snapshot.allAreasSizePixel);if(0!==l.remain&&0!==d.remain?Math.abs(l.remain)===Math.abs(d.remain)||(Math.abs(l.remain)>Math.abs(d.remain)?d=Ll(this.unit,this.snapshot.areasAfterGutter,u+l.remain,this.snapshot.allAreasSizePixel):l=Ll(this.unit,this.snapshot.areasBeforeGutter,-(u-d.remain),this.snapshot.allAreasSizePixel)):0!==l.remain?d=Ll(this.unit,this.snapshot.areasAfterGutter,u+l.remain,this.snapshot.allAreasSizePixel):0!==d.remain&&(l=Ll(this.unit,this.snapshot.areasBeforeGutter,-(u-d.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var p=[].concat((0,A.A)(l.list),(0,A.A)(d.list)),_=p.find(function(S){return"*"===S.percentAfterAbsorption})??p.find(function(S){return 0!==S.percentAfterAbsorption&&S.percentAfterAbsorption!==S.areaSnapshot.area.minSize&&S.percentAfterAbsorption!==S.areaSnapshot.area.maxSize});_&&(_.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-p.filter(function(S){return S!==_}).reduce(function(S,I){return S+I.percentAfterAbsorption},0))}l.list.forEach(function(S){return C1(t.unit,S)}),d.list.forEach(function(S){return C1(t.unit,S)}),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}},{key:"stopDragging",value:function(t){var s=this;if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(function(l){return l.component.unlockEvents()});this.dragListeners.length>0;){var u=this.dragListeners.pop();u&&u()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.draggedGutterNum=void 0,this.cdRef.markForCheck(),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(function(){setTimeout(function(){s.startPoint=null,s.endPoint=null,s.isWaitingClear=!1})})}}},{key:"notify",value:function(t,s){var u=this,l=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:s,sizes:l}):"end"===t?this.dragEnd.emit({gutterNum:s,sizes:l}):"click"===t?this.gutterClick.emit({gutterNum:s,sizes:l}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:s,sizes:l}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(function(){return u.transitionEndSubscriber.next(l)}):"progress"===t&&this.dragProgressSubject.next({gutterNum:s,sizes:l})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"collapseArea",value:function(t,s,u){var l=this.displayedAreas.find(function(g){return g.component===t});if(void 0!==l){var d="right"===u?1:-1;l.sizeBeforeCollapse||(l.sizeBeforeCollapse=l.size,l.gutterBeforeCollapse=d),l.size=s;var p=this.gutterEls.find(function(g){return g.nativeElement.style.order==="".concat(l.order+d)});p&&this.renderer.addClass(p.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}}},{key:"expandArea",value:function(t){var s=this.displayedAreas.find(function(l){return l.component===t});if(void 0!==s&&s.sizeBeforeCollapse){s.size=s.sizeBeforeCollapse,s.sizeBeforeCollapse=null;var u=this.gutterEls.find(function(l){return l.nativeElement.style.order==="".concat(s.order+s.gutterBeforeCollapse)});u&&this.renderer.removeClass(u.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}}},{key:"getAriaAreaSizeText",value:function(t){return"*"===t?null:t.toFixed(0)+" "+this.unit}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(Y8,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["as-split"]],contentQueries:function(e,t,s){var u;1&e&&a.\u0275\u0275contentQuery(s,J8,5),2&e&&a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.customGutter=u.first)},viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(B8,5),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.gutterEls=s)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],standalone:!1,ngContentSelectors:L8,decls:2,vars:1,consts:[["gutterEls",""],["defaultGutterTpl",""],["ngFor","",3,"ngForOf"],["role","separator","tabindex","0","class","as-split-gutter",3,"as-dragged","flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","separator","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],[4,"ngIf","ngIfElse"],[4,"asSplitGutterDynamicInjector"],[4,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,K8,1,1,"ng-template",2)),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.displayedAreas))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,e6],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}[_nghost-%COMP%]    >.as-split-area .iframe-fix{position:absolute;top:0;left:0;width:100%;height:100%}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),r}(),Kc=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.ngZone=e,this.renderer=t,this.split=s,this.elRef=u,this._order=null,this._size="*",this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")},[{key:"order",get:function(){return this._order},set:function(t){this._order=us(t,null),this.split.updateArea(this,!0,!1)}},{key:"size",get:function(){return this._size},set:function(t){this._size=us(t,"*"),this.split.updateArea(this,!1,!0)}},{key:"minSize",get:function(){return this._minSize},set:function(t){this._minSize=us(t,null),this.split.updateArea(this,!1,!0)}},{key:"maxSize",get:function(){return this._maxSize},set:function(t){this._maxSize=us(t,null),this.split.updateArea(this,!1,!0)}},{key:"lockSize",get:function(){return this._lockSize},set:function(t){this._lockSize=$c(t),this.split.updateArea(this,!1,!0)}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible=$c(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}},{key:"ngOnInit",value:function(){var t=this;this.split.addArea(this),this.ngZone.runOutsideAngular(function(){t.transitionListener=t.renderer.listen(t.elRef.nativeElement,"transitionend",function(u){"flex-basis"===u.propertyName&&t.split.notify("transitionEnd",-1)})});var s=this.renderer.createElement("div");this.renderer.addClass(s,"iframe-fix"),this.dragStartSubscription=this.split.dragStart.subscribe(function(){t.renderer.setStyle(t.elRef.nativeElement,"position","relative"),t.renderer.appendChild(t.elRef.nativeElement,s)}),this.dragEndSubscription=this.split.dragEnd.subscribe(function(){t.renderer.removeStyle(t.elRef.nativeElement,"position"),t.renderer.removeChild(t.elRef.nativeElement,s)})}},{key:"setStyleOrder",value:function(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}},{key:"setStyleFlex",value:function(t,s,u,l,d){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",s),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",u),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===d?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.lockListeners.push(t.renderer.listen(t.elRef.nativeElement,"selectstart",function(){return!1})),t.lockListeners.push(t.renderer.listen(t.elRef.nativeElement,"dragstart",function(){return!1}))})}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var t=this.lockListeners.pop();t&&t()}}},{key:"ngOnDestroy",value:function(){var t,s;this.unlockEvents(),this.transitionListener&&this.transitionListener(),null===(t=this.dragStartSubscription)||void 0===t||t.unsubscribe(),null===(s=this.dragEndSubscription)||void 0===s||s.unsubscribe(),this.split.removeArea(this)}},{key:"collapse",value:function(){this.split.collapseArea(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right")}},{key:"expand",value:function(){this.split.expandArea(this)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(Hc),a.\u0275\u0275directiveInject(a.ElementRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"],standalone:!1}),r}(),mf=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),x1=b(14876),t6=b(87378),n6=b(2435);var Au={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function S1(o){Au=o}var qc={exec:function(){return null}};function Xn(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="string"==typeof o?o:o.source,e={replace:function(s,u){var l="string"==typeof u?u:u.source;return l=l.replace(La.caret,"$1"),n=n.replace(s,l),e},getRegex:function(){return new RegExp(n,r)}};return e}var La={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:function(r){return new RegExp("^( {0,3}".concat(r,")((?:[\t ][^\\n]*)?(?:\\n|$))"))},nextBulletRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"))},hrRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"))},fencesBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}(?:```|~~~)"))},headingBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}#"))},htmlBeginRegex:function(r){return new RegExp("^ {0,".concat(Math.min(3,r-1),"}<(?:[a-z].*>|!--)"),"i")}},Wc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Pv=/(?:[*+-]|\d{1,9}[.)])/,E1=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,D1=Xn(E1).replace(/bull/g,Pv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),u6=Xn(E1).replace(/bull/g,Pv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Iv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Tv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,c6=Xn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Tv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),d6=Xn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Pv).getRegex(),gf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Rv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,p6=Xn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Rv).replace("tag",gf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w1=Xn(Iv).replace("hr",Wc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),Mv={blockquote:Xn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",w1).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:c6,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Wc,html:p6,lheading:D1,list:d6,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:w1,table:qc,text:/^[^\n]+/},F1=Xn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Wc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),m6=(0,v.A)((0,v.A)({},Mv),{},{lheading:u6,table:F1,paragraph:Xn(Iv).replace("hr",Wc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",F1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex()}),g6=(0,v.A)((0,v.A)({},Mv),{},{html:Xn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Rv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Xn(Iv).replace("hr",Wc).replace("heading"," *#{1,6} *[^\n]").replace("lheading",D1).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),k1=/^( {2,}|\\)\n(?!\s*$)/,hf=/(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,Nv=/(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,P1=/(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,_6=Xn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Nv).getRegex(),I1=/(?!~)(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/,T1=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,x6=Xn(T1,"u").replace(/punct/g,hf).getRegex(),S6=Xn(T1,"u").replace(/punct/g,I1).getRegex(),R1="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",E6=Xn(R1,"gu").replace(/notPunctSpace/g,P1).replace(/punctSpace/g,Nv).replace(/punct/g,hf).getRegex(),D6=Xn(R1,"gu").replace(/notPunctSpace/g,/(?:(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C2-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDECF\uDED9-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCF9\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFF0-\uDFF9\uDFFB-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|~)/).replace(/punctSpace/g,/(?!~)(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDED0-\uDED8\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/).replace(/punct/g,I1).getRegex(),w6=Xn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,P1).replace(/punctSpace/g,Nv).replace(/punct/g,hf).getRegex(),F6=Xn(/\\(punct)/,"gu").replace(/punct/g,hf).getRegex(),k6=Xn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),P6=Xn(Rv).replace("(?:--\x3e|$)","--\x3e").getRegex(),I6=Xn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",P6).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,T6=Xn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",vf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),M1=Xn(/^!?\[(label)\]\[(ref)\]/).replace("label",vf).replace("ref",Tv).getRegex(),N1=Xn(/^!?\[(ref)\](?:\[\])?/).replace("ref",Tv).getRegex(),Vv={_backpedal:qc,anyPunctuation:F6,autolink:k6,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:k1,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:qc,emStrongLDelim:x6,emStrongRDelimAst:E6,emStrongRDelimUnd:w6,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:T6,nolink:N1,punctuation:_6,reflink:M1,reflinkSearch:Xn("reflink|nolink(?!\\()","g").replace("reflink",M1).replace("nolink",N1).getRegex(),tag:I6,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:qc},M6=(0,v.A)((0,v.A)({},Vv),{},{link:Xn(/^!?\[(label)\]\((.*?)\)/).replace("label",vf).getRegex(),reflink:Xn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vf).getRegex()}),Ov=(0,v.A)((0,v.A)({},Vv),{},{emStrongRDelimAst:D6,emStrongLDelim:S6,url:Xn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),N6=(0,v.A)((0,v.A)({},Ov),{},{br:Xn(k1).replace("{2,}","*").getRegex(),text:Xn(Ov.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),yf={normal:Mv,gfm:m6,pedantic:g6},Qc={normal:Vv,gfm:Ov,breaks:N6,pedantic:M6},V6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V1=function(r){return V6[r]};function co(o,r){if(r){if(La.escapeTest.test(o))return o.replace(La.escapeReplace,V1)}else if(La.escapeTestNoEncode.test(o))return o.replace(La.escapeReplaceNoEncode,V1);return o}function O1(o){try{o=encodeURI(o).replace(La.percentDecode,"%")}catch{return null}return o}function B1(o,r){var n,t=o.replace(La.findPipe,function(u,l,d){for(var p=!1,g=l;--g>=0&&"\\"===d[g];)p=!p;return p?"|":" |"}).split(La.splitPipe),s=0;if(t[0].trim()||t.shift(),t.length>0&&!(null!==(n=t.at(-1))&&void 0!==n&&n.trim())&&t.pop(),r)if(t.length>r)t.splice(r);else for(;t.length<r;)t.push("");for(;s<t.length;s++)t[s]=t[s].trim().replace(La.slashPipe,"|");return t}function Xc(o,r,n){var e=o.length;if(0===e)return"";for(var t=0;t<e;){var s=o.charAt(e-t-1);if(s!==r||n){if(s===r||!n)break;t++}else t++}return o.slice(0,e-t)}function L1(o,r,n,e,t){var s=r.href,u=r.title||null,l=o[1].replace(t.other.outputLinkReplace,"$1");e.state.inLink=!0;var d={type:"!"===o[0].charAt(0)?"image":"link",raw:n,href:s,title:u,text:l,tokens:e.inlineTokens(l)};return e.state.inLink=!1,d}var _f=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),(0,c.A)(this,"rules",void 0),(0,c.A)(this,"lexer",void 0),this.options=r||Au},[{key:"space",value:function(n){var e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}},{key:"code",value:function(n){var e=this.rules.block.code.exec(n);if(e){var t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Xc(t,"\n")}}}},{key:"fences",value:function(n){var e=this.rules.block.fences.exec(n);if(e){var t=e[0],s=function B6(o,r,n){var e=o.match(n.other.indentCodeCompensation);if(null===e)return r;var t=e[1];return r.split("\n").map(function(s){var u=s.match(n.other.beginningSpace);return null===u?s:(0,k.A)(u,1)[0].length>=t.length?s.slice(t.length):s}).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}},{key:"heading",value:function(n){var e=this.rules.block.heading.exec(n);if(e){var t=e[2].trim();if(this.rules.other.endingHash.test(t)){var s=Xc(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}},{key:"hr",value:function(n){var e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Xc(e[0],"\n")}}},{key:"blockquote",value:function(n){var e=this.rules.block.blockquote.exec(n);if(e){for(var t=Xc(e[0],"\n").split("\n"),s="",u="",l=[];t.length>0;){var d=!1,p=[],g=void 0;for(g=0;g<t.length;g++)if(this.rules.other.blockquoteStart.test(t[g]))p.push(t[g]),d=!0;else{if(d)break;p.push(t[g])}t=t.slice(g);var _=p.join("\n"),S=_.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");s=s?"".concat(s,"\n").concat(_):_,u=u?"".concat(u,"\n").concat(S):S;var I=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(S,l,!0),this.lexer.state.top=I,0===t.length)break;var B=l.at(-1);if("code"===B?.type)break;if("blockquote"===B?.type){var $=B,Y=$.raw+"\n"+t.join("\n"),le=this.blockquote(Y);l[l.length-1]=le,s=s.substring(0,s.length-$.raw.length)+le.raw,u=u.substring(0,u.length-$.text.length)+le.text;break}if("list"!==B?.type);else{var ge=B,be=ge.raw+"\n"+t.join("\n"),me=this.list(be);l[l.length-1]=me,s=s.substring(0,s.length-B.raw.length)+me.raw,u=u.substring(0,u.length-ge.raw.length)+me.raw,t=be.substring(l.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:s,tokens:l,text:u}}}},{key:"list",value:function(n){var e=this,t=this.rules.block.list.exec(n);if(t){var s=t[1].trim(),u=s.length>1,l={type:"list",raw:"",ordered:u,start:u?+s.slice(0,-1):"",loose:!1,items:[]};s=u?"\\d{1,9}\\".concat(s.slice(-1)):"\\".concat(s),this.options.pedantic&&(s=u?s:"[*+-]");for(var d=this.rules.other.listItemRegex(s),p=!1;n;){var g=!1,_="",S="";if(!(t=d.exec(n))||this.rules.block.hr.test(n))break;n=n.substring((_=t[0]).length);var I=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,function(Jt){return" ".repeat(3*Jt.length)}),B=n.split("\n",1)[0],$=!I.trim(),Y=0;if(this.options.pedantic?(Y=2,S=I.trimStart()):$?Y=t[1].length+1:(Y=t[2].search(this.rules.other.nonSpaceChar),S=I.slice(Y=Y>4?1:Y),Y+=t[1].length),$&&this.rules.other.blankLine.test(B)&&(_+=B+"\n",n=n.substring(B.length+1),g=!0),!g)for(var le=this.rules.other.nextBulletRegex(Y),ge=this.rules.other.hrRegex(Y),be=this.rules.other.fencesBeginRegex(Y),me=this.rules.other.headingBeginRegex(Y),ke=this.rules.other.htmlBeginRegex(Y);n;){var qe=n.split("\n",1)[0],ct=void 0;if(B=qe,ct=this.options.pedantic?B=B.replace(this.rules.other.listReplaceNesting,"  "):B.replace(this.rules.other.tabCharGlobal,"    "),be.test(B)||me.test(B)||ke.test(B)||le.test(B)||ge.test(B))break;if(ct.search(this.rules.other.nonSpaceChar)>=Y||!B.trim())S+="\n"+ct.slice(Y);else{if($||I.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||be.test(I)||me.test(I)||ge.test(I))break;S+="\n"+B}!$&&!B.trim()&&($=!0),_+=qe+"\n",n=n.substring(qe.length+1),I=ct.slice(Y)}l.loose||(p?l.loose=!0:this.rules.other.doubleBlankLine.test(_)&&(p=!0));var it=null,dt=void 0;this.options.gfm&&(it=this.rules.other.listIsTask.exec(S))&&(dt="[ ] "!==it[0],S=S.replace(this.rules.other.listReplaceTask,"")),l.items.push({type:"list_item",raw:_,task:!!it,checked:dt,loose:!1,text:S,tokens:[]}),l.raw+=_}var Rt=l.items.at(-1);if(!Rt)return;Rt.raw=Rt.raw.trimEnd(),Rt.text=Rt.text.trimEnd(),l.raw=l.raw.trimEnd();for(var Lt=0;Lt<l.items.length;Lt++)if(this.lexer.state.top=!1,l.items[Lt].tokens=this.lexer.blockTokens(l.items[Lt].text,[]),!l.loose){var ft=l.items[Lt].tokens.filter(function(Jt){return"space"===Jt.type}),yt=ft.length>0&&ft.some(function(Jt){return e.rules.other.anyLine.test(Jt.raw)});l.loose=yt}if(l.loose)for(var Dt=0;Dt<l.items.length;Dt++)l.items[Dt].loose=!0;return l}}},{key:"html",value:function(n){var e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}},{key:"def",value:function(n){var e=this.rules.block.def.exec(n);if(e){var t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:u}}}},{key:"table",value:function(n){var e,t=this,s=this.rules.block.table.exec(n);if(s&&this.rules.other.tableDelimiter.test(s[2])){var u=B1(s[1]),l=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),d=null!==(e=s[3])&&void 0!==e&&e.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],p={type:"table",raw:s[0],header:[],align:[],rows:[]};if(u.length===l.length){var _,g=(0,N.A)(l);try{for(g.s();!(_=g.n()).done;){var S=_.value;this.rules.other.tableAlignRight.test(S)?p.align.push("right"):this.rules.other.tableAlignCenter.test(S)?p.align.push("center"):this.rules.other.tableAlignLeft.test(S)?p.align.push("left"):p.align.push(null)}}catch(le){g.e(le)}finally{g.f()}for(var I=0;I<u.length;I++)p.header.push({text:u[I],tokens:this.lexer.inline(u[I]),header:!0,align:p.align[I]});var $,B=(0,N.A)(d);try{for(B.s();!($=B.n()).done;)p.rows.push(B1($.value,p.header.length).map(function(le,ge){return{text:le,tokens:t.lexer.inline(le),header:!1,align:p.align[ge]}}))}catch(le){B.e(le)}finally{B.f()}return p}}}},{key:"lheading",value:function(n){var e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}},{key:"paragraph",value:function(n){var e=this.rules.block.paragraph.exec(n);if(e){var t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}},{key:"text",value:function(n){var e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}},{key:"escape",value:function(n){var e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}},{key:"tag",value:function(n){var e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}},{key:"link",value:function(n){var e=this.rules.inline.link.exec(n);if(e){var t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;var s=Xc(t.slice(0,-1),"\\");if((t.length-s.length)%2==0)return}else{var u=function O6(o,r){if(-1===o.indexOf(r[1]))return-1;for(var n=0,e=0;e<o.length;e++)if("\\"===o[e])e++;else if(o[e]===r[0])n++;else if(o[e]===r[1]&&--n<0)return e;return n>0?-2:-1}(e[2],"()");if(-2===u)return;if(u>-1){var d=(0===e[0].indexOf("!")?5:4)+e[1].length+u;e[2]=e[2].substring(0,u),e[0]=e[0].substring(0,d).trim(),e[3]=""}}var p=e[2],g="";if(this.options.pedantic){var _=this.rules.other.pedanticHrefTitle.exec(p);_&&(p=_[1],g=_[3])}else g=e[3]?e[3].slice(1,-1):"";return p=p.trim(),this.rules.other.startAngleBracket.test(p)&&(p=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?p.slice(1):p.slice(1,-1)),L1(e,{href:p&&p.replace(this.rules.inline.anyPunctuation,"$1"),title:g&&g.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}},{key:"reflink",value:function(n,e){var t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){var u=e[(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!u){var l=t[0].charAt(0);return{type:"text",raw:l,text:l}}return L1(t,u,t[0],this.lexer,this.rules)}}},{key:"emStrong",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.rules.inline.emStrongLDelim.exec(n);if(s&&(!s[3]||!t.match(this.rules.other.unicodeAlphaNumeric))&&(!s[1]&&!s[2]||!t||this.rules.inline.punctuation.exec(t))){var d,p,l=(0,A.A)(s[0]).length-1,g=l,_=0,S="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(S.lastIndex=0,e=e.slice(-1*n.length+l);null!=(s=S.exec(e));)if(d=s[1]||s[2]||s[3]||s[4]||s[5]||s[6]){if(p=(0,A.A)(d).length,s[3]||s[4]){g+=p;continue}if((s[5]||s[6])&&l%3&&!((l+p)%3)){_+=p;continue}if(!((g-=p)>0)){p=Math.min(p,p+g+_);var I=(0,A.A)(s[0])[0].length,B=n.slice(0,l+s.index+I+p);if(Math.min(l,p)%2){var $=B.slice(1,-1);return{type:"em",raw:B,text:$,tokens:this.lexer.inlineTokens($)}}var Y=B.slice(2,-2);return{type:"strong",raw:B,text:Y,tokens:this.lexer.inlineTokens(Y)}}}}}},{key:"codespan",value:function(n){var e=this.rules.inline.code.exec(n);if(e){var t=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(t),u=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&u&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}},{key:"br",value:function(n){var e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}},{key:"del",value:function(n){var e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}},{key:"autolink",value:function(n){var t,s,e=this.rules.inline.autolink.exec(n);if(e)return s="@"===e[2]?"mailto:"+(t=e[1]):t=e[1],{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}},{key:"url",value:function(n){var e;if(e=this.rules.inline.url.exec(n)){var t,s;if("@"===e[2])s="mailto:"+(t=e[0]);else{var u;do{var l,d;u=e[0],e[0]=null!==(l=null===(d=this.rules.inline._backpedal.exec(e[0]))||void 0===d?void 0:d[0])&&void 0!==l?l:""}while(u!==e[0]);t=e[0],s="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}},{key:"inlineText",value:function(n){var e=this.rules.inline.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],escaped:this.lexer.state.inRawBlock}}}])}(),No=function(){function o(r){(0,h.A)(this,o),(0,c.A)(this,"tokens",void 0),(0,c.A)(this,"options",void 0),(0,c.A)(this,"state",void 0),(0,c.A)(this,"tokenizer",void 0),(0,c.A)(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Au,this.options.tokenizer=this.options.tokenizer||new _f,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={other:La,block:yf.normal,inline:Qc.normal};this.options.pedantic?(n.block=yf.pedantic,n.inline=Qc.pedantic):this.options.gfm&&(n.block=yf.gfm,n.inline=this.options.breaks?Qc.breaks:Qc.gfm),this.tokenizer.rules=n}return(0,m.A)(o,[{key:"lex",value:function(n){n=n.replace(La.carriageReturn,"\n"),this.blockTokens(n,this.tokens);for(var e=0;e<this.inlineQueue.length;e++){var t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}},{key:"blockTokens",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.options.pedantic&&(n=n.replace(La.tabCharGlobal,"    ").replace(La.spaceLine,""));for(var l,u=function(){var p,g,_;if(null!==(p=e.options.extensions)&&void 0!==p&&null!==(p=p.block)&&void 0!==p&&p.some(function(qe){return!!(_=qe.call({lexer:e},n,t))&&(n=n.substring(_.raw.length),t.push(_),!0)}))return 0;if(_=e.tokenizer.space(n)){n=n.substring(_.raw.length);var S=t.at(-1);return 1===_.raw.length&&void 0!==S?S.raw+="\n":t.push(_),0}if(_=e.tokenizer.code(n)){n=n.substring(_.raw.length);var I=t.at(-1);return"paragraph"===I?.type||"text"===I?.type?(I.raw+="\n"+_.raw,I.text+="\n"+_.text,e.inlineQueue.at(-1).src=I.text):t.push(_),0}if((_=e.tokenizer.fences(n))||(_=e.tokenizer.heading(n))||(_=e.tokenizer.hr(n))||(_=e.tokenizer.blockquote(n))||(_=e.tokenizer.list(n))||(_=e.tokenizer.html(n)))return n=n.substring(_.raw.length),t.push(_),0;if(_=e.tokenizer.def(n)){n=n.substring(_.raw.length);var B=t.at(-1);return"paragraph"===B?.type||"text"===B?.type?(B.raw+="\n"+_.raw,B.text+="\n"+_.raw,e.inlineQueue.at(-1).src=B.text):e.tokens.links[_.tag]||(e.tokens.links[_.tag]={href:_.href,title:_.title}),0}if((_=e.tokenizer.table(n))||(_=e.tokenizer.lheading(n)))return n=n.substring(_.raw.length),t.push(_),0;var $=n;if(null!==(g=e.options.extensions)&&void 0!==g&&g.startBlock){var ge,Y=1/0,le=n.slice(1);e.options.extensions.startBlock.forEach(function(qe){"number"==typeof(ge=qe.call({lexer:e},le))&&ge>=0&&(Y=Math.min(Y,ge))}),Y<1/0&&Y>=0&&($=n.substring(0,Y+1))}if(e.state.top&&(_=e.tokenizer.paragraph($))){var be=t.at(-1);return s&&"paragraph"===be?.type?(be.raw+="\n"+_.raw,be.text+="\n"+_.text,e.inlineQueue.pop(),e.inlineQueue.at(-1).src=be.text):t.push(_),s=$.length!==n.length,n=n.substring(_.raw.length),0}if(_=e.tokenizer.text(n)){n=n.substring(_.raw.length);var me=t.at(-1);return"text"===me?.type?(me.raw+="\n"+_.raw,me.text+="\n"+_.text,e.inlineQueue.pop(),e.inlineQueue.at(-1).src=me.text):t.push(_),0}if(n){var ke="Infinite loop on byte: "+n.charCodeAt(0);if(e.options.silent)return console.error(ke),1;throw new Error(ke)}};n&&(0===(l=u())||1!==l););return this.state.top=!0,t}},{key:"inline",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:n,tokens:e}),e}},{key:"inlineTokens",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=n,u=null;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(s));)l.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(var _,d=!1,p="",g=function(){var I,B,$;if(d||(p=""),d=!1,null!==(I=e.options.extensions)&&void 0!==I&&null!==(I=I.inline)&&void 0!==I&&I.some(function(ct){return!!($=ct.call({lexer:e},n,t))&&(n=n.substring($.raw.length),t.push($),!0)}))return 0;if(($=e.tokenizer.escape(n))||($=e.tokenizer.tag(n))||($=e.tokenizer.link(n)))return n=n.substring($.raw.length),t.push($),0;if($=e.tokenizer.reflink(n,e.tokens.links)){n=n.substring($.raw.length);var Y=t.at(-1);return"text"===$.type&&"text"===Y?.type?(Y.raw+=$.raw,Y.text+=$.text):t.push($),0}if(($=e.tokenizer.emStrong(n,s,p))||($=e.tokenizer.codespan(n))||($=e.tokenizer.br(n))||($=e.tokenizer.del(n))||($=e.tokenizer.autolink(n))||!e.state.inLink&&($=e.tokenizer.url(n)))return n=n.substring($.raw.length),t.push($),0;var le=n;if(null!==(B=e.options.extensions)&&void 0!==B&&B.startInline){var me,ge=1/0,be=n.slice(1);e.options.extensions.startInline.forEach(function(ct){"number"==typeof(me=ct.call({lexer:e},be))&&me>=0&&(ge=Math.min(ge,me))}),ge<1/0&&ge>=0&&(le=n.substring(0,ge+1))}if($=e.tokenizer.inlineText(le)){n=n.substring($.raw.length),"_"!==$.raw.slice(-1)&&(p=$.raw.slice(-1)),d=!0;var ke=t.at(-1);return"text"===ke?.type?(ke.raw+=$.raw,ke.text+=$.text):t.push($),0}if(n){var qe="Infinite loop on byte: "+n.charCodeAt(0);if(e.options.silent)return console.error(qe),1;throw new Error(qe)}};n&&(0===(_=g())||1!==_););return t}}],[{key:"rules",get:function(){return{block:yf,inline:Qc}}},{key:"lex",value:function(n,e){return new o(e).lex(n)}},{key:"lexInline",value:function(n,e){return new o(e).inlineTokens(n)}}])}(),Cu=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),(0,c.A)(this,"parser",void 0),this.options=r||Au},[{key:"space",value:function(n){return""}},{key:"code",value:function(n){var e,t=n.text,u=n.escaped,l=null===(e=(n.lang||"").match(La.notSpaceStart))||void 0===e?void 0:e[0],d=t.replace(La.endingNewline,"")+"\n";return l?'<pre><code class="language-'+co(l)+'">'+(u?d:co(d,!0))+"</code></pre>\n":"<pre><code>"+(u?d:co(d,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(n){var t=this.parser.parse(n.tokens);return"<blockquote>\n".concat(t,"</blockquote>\n")}},{key:"html",value:function(n){return n.text}},{key:"heading",value:function(n){var e=n.tokens,t=n.depth;return"<h".concat(t,">").concat(this.parser.parseInline(e),"</h").concat(t,">\n")}},{key:"hr",value:function(n){return"<hr>\n"}},{key:"list",value:function(n){for(var e=n.ordered,t=n.start,s="",u=0;u<n.items.length;u++)s+=this.listitem(n.items[u]);var d=e?"ol":"ul";return"<"+d+(e&&1!==t?' start="'+t+'"':"")+">\n"+s+"</"+d+">\n"}},{key:"listitem",value:function(n){var e="";if(n.task){var s,t=this.checkbox({checked:!!n.checked});n.loose?"paragraph"===(null===(s=n.tokens[0])||void 0===s?void 0:s.type)?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=t+" "+co(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),"<li>".concat(e,"</li>\n")}},{key:"checkbox",value:function(n){return"<input "+(n.checked?'checked="" ':"")+'disabled="" type="checkbox">'}},{key:"paragraph",value:function(n){return"<p>".concat(this.parser.parseInline(n.tokens),"</p>\n")}},{key:"table",value:function(n){for(var e="",t="",s=0;s<n.header.length;s++)t+=this.tablecell(n.header[s]);e+=this.tablerow({text:t});for(var u="",l=0;l<n.rows.length;l++){var d=n.rows[l];t="";for(var p=0;p<d.length;p++)t+=this.tablecell(d[p]);u+=this.tablerow({text:t})}return u&&(u="<tbody>".concat(u,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+u+"</table>\n"}},{key:"tablerow",value:function(n){return"<tr>\n".concat(n.text,"</tr>\n")}},{key:"tablecell",value:function(n){var e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?"<".concat(t,' align="').concat(n.align,'">'):"<".concat(t,">"))+e+"</".concat(t,">\n")}},{key:"strong",value:function(n){return"<strong>".concat(this.parser.parseInline(n.tokens),"</strong>")}},{key:"em",value:function(n){return"<em>".concat(this.parser.parseInline(n.tokens),"</em>")}},{key:"codespan",value:function(n){return"<code>".concat(co(n.text,!0),"</code>")}},{key:"br",value:function(n){return"<br>"}},{key:"del",value:function(n){return"<del>".concat(this.parser.parseInline(n.tokens),"</del>")}},{key:"link",value:function(n){var e=n.href,t=n.title,u=this.parser.parseInline(n.tokens),l=O1(e);if(null===l)return u;var d='<a href="'+(e=l)+'"';return t&&(d+=' title="'+co(t)+'"'),d+">"+u+"</a>"}},{key:"image",value:function(n){var e=n.href,t=n.title,s=n.text,u=n.tokens;u&&(s=this.parser.parseInline(u,this.parser.textRenderer));var l=O1(e);if(null===l)return co(s);var d='<img src="'.concat(e=l,'" alt="').concat(s,'"');return t&&(d+=' title="'.concat(co(t),'"')),d+">"}},{key:"text",value:function(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:co(n.text)}}])}(),Bv=function(){return(0,m.A)(function o(){(0,h.A)(this,o)},[{key:"strong",value:function(n){return n.text}},{key:"em",value:function(n){return n.text}},{key:"codespan",value:function(n){return n.text}},{key:"del",value:function(n){return n.text}},{key:"html",value:function(n){return n.text}},{key:"text",value:function(n){return n.text}},{key:"link",value:function(n){return""+n.text}},{key:"image",value:function(n){return""+n.text}},{key:"br",value:function(){return""}}])}(),Vo=function(){function o(r){(0,h.A)(this,o),(0,c.A)(this,"options",void 0),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"textRenderer",void 0),this.options=r||Au,this.options.renderer=this.options.renderer||new Cu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Bv}return(0,m.A)(o,[{key:"parse",value:function(n){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="",s=0;s<n.length;s++){var u,l=n[s];if(null!==(u=this.options.extensions)&&void 0!==u&&null!==(u=u.renderers)&&void 0!==u&&u[l.type]){var d=l,p=this.options.extensions.renderers[d.type].call({parser:this},d);if(!1!==p||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){t+=p||"";continue}}var g=l;switch(g.type){case"space":t+=this.renderer.space(g);continue;case"hr":t+=this.renderer.hr(g);continue;case"heading":t+=this.renderer.heading(g);continue;case"code":t+=this.renderer.code(g);continue;case"table":t+=this.renderer.table(g);continue;case"blockquote":t+=this.renderer.blockquote(g);continue;case"list":t+=this.renderer.list(g);continue;case"html":t+=this.renderer.html(g);continue;case"paragraph":t+=this.renderer.paragraph(g);continue;case"text":for(var _=g,S=this.renderer.text(_);s+1<n.length&&"text"===n[s+1].type;)_=n[++s],S+="\n"+this.renderer.text(_);t+=e?this.renderer.paragraph({type:"paragraph",raw:S,text:S,tokens:[{type:"text",raw:S,text:S,escaped:!0}]}):S;continue;default:var I='Token with "'+g.type+'" type was not found.';if(this.options.silent)return console.error(I),"";throw new Error(I)}}return t}},{key:"parseInline",value:function(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderer,t="",s=0;s<n.length;s++){var u,l=n[s];if(null!==(u=this.options.extensions)&&void 0!==u&&null!==(u=u.renderers)&&void 0!==u&&u[l.type]){var d=this.options.extensions.renderers[l.type].call({parser:this},l);if(!1!==d||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){t+=d||"";continue}}var p=l;switch(p.type){case"escape":case"text":t+=e.text(p);break;case"html":t+=e.html(p);break;case"link":t+=e.link(p);break;case"image":t+=e.image(p);break;case"strong":t+=e.strong(p);break;case"em":t+=e.em(p);break;case"codespan":t+=e.codespan(p);break;case"br":t+=e.br(p);break;case"del":t+=e.del(p);break;default:var g='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}return t}}],[{key:"parse",value:function(n,e){return new o(e).parse(n)}},{key:"parseInline",value:function(n,e){return new o(e).parseInline(n)}}])}(),bf=function(){var o;return(0,c.A)(o=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),(0,c.A)(this,"options",void 0),(0,c.A)(this,"block",void 0),this.options=e||Au},[{key:"preprocess",value:function(t){return t}},{key:"postprocess",value:function(t){return t}},{key:"processAllTokens",value:function(t){return t}},{key:"provideLexer",value:function(){return this.block?No.lex:No.lexInline}},{key:"provideParser",value:function(){return this.block?Vo.parse:Vo.parseInline}}])}(),"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),o}(),ls=new(function(){return(0,m.A)(function o(){(0,h.A)(this,o),(0,c.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,c.A)(this,"options",this.setOptions),(0,c.A)(this,"parse",this.parseMarkdown(!0)),(0,c.A)(this,"parseInline",this.parseMarkdown(!1)),(0,c.A)(this,"Parser",Vo),(0,c.A)(this,"Renderer",Cu),(0,c.A)(this,"TextRenderer",Bv),(0,c.A)(this,"Lexer",No),(0,c.A)(this,"Tokenizer",_f),(0,c.A)(this,"Hooks",bf),this.use.apply(this,arguments)},[{key:"walkTokens",value:function(n,e){var l,t=this,s=[],u=(0,N.A)(n);try{var d=function(){var g=l.value;switch(s=s.concat(e.call(t,g)),g.type){case"table":var I,_=g,S=(0,N.A)(_.header);try{for(S.s();!(I=S.n()).done;)s=s.concat(t.walkTokens(I.value.tokens,e))}catch(it){S.e(it)}finally{S.f()}var Y,$=(0,N.A)(_.rows);try{for($.s();!(Y=$.n()).done;){var be,ge=(0,N.A)(Y.value);try{for(ge.s();!(be=ge.n()).done;)s=s.concat(t.walkTokens(be.value.tokens,e))}catch(it){ge.e(it)}finally{ge.f()}}}catch(it){$.e(it)}finally{$.f()}break;case"list":s=s.concat(t.walkTokens(g.items,e));break;default:var qe,ct=g;null!==(qe=t.defaults.extensions)&&void 0!==qe&&null!==(qe=qe.childTokens)&&void 0!==qe&&qe[ct.type]?t.defaults.extensions.childTokens[ct.type].forEach(function(it){var dt=ct[it].flat(1/0);s=s.concat(t.walkTokens(dt,e))}):ct.tokens&&(s=s.concat(t.walkTokens(ct.tokens,e)))}};for(u.s();!(l=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}return s}},{key:"use",value:function(){for(var n=this,e=this.defaults.extensions||{renderers:{},childTokens:{}},t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return s.forEach(function(l){var d=(0,v.A)({},l);if(d.async=n.defaults.async||d.async||!1,l.extensions&&(l.extensions.forEach(function(me){if(!me.name)throw new Error("extension name required");if("renderer"in me){var ke=e.renderers[me.name];e.renderers[me.name]=ke?function(){for(var ct=arguments.length,it=new Array(ct),dt=0;dt<ct;dt++)it[dt]=arguments[dt];var Rt=me.renderer.apply(this,it);return!1===Rt&&(Rt=ke.apply(this,it)),Rt}:me.renderer}if("tokenizer"in me){if(!me.level||"block"!==me.level&&"inline"!==me.level)throw new Error("extension level must be 'block' or 'inline'");var qe=e[me.level];qe?qe.unshift(me.tokenizer):e[me.level]=[me.tokenizer],me.start&&("block"===me.level?e.startBlock?e.startBlock.push(me.start):e.startBlock=[me.start]:"inline"===me.level&&(e.startInline?e.startInline.push(me.start):e.startInline=[me.start]))}"childTokens"in me&&me.childTokens&&(e.childTokens[me.name]=me.childTokens)}),d.extensions=e),l.renderer){var p=n.defaults.renderer||new Cu(n.defaults),g=function(){if(!(_ in p))throw new Error("renderer '".concat(_,"' does not exist"));if(["options","parser"].includes(_))return 1;var qe=l.renderer[_],ct=p[_];p[_]=function(){for(var it=arguments.length,dt=new Array(it),Rt=0;Rt<it;Rt++)dt[Rt]=arguments[Rt];var Lt=qe.apply(p,dt);return!1===Lt&&(Lt=ct.apply(p,dt)),Lt||""}};for(var _ in l.renderer)g();d.renderer=p}if(l.tokenizer){var S=n.defaults.tokenizer||new _f(n.defaults),I=function(){if(!(B in S))throw new Error("tokenizer '".concat(B,"' does not exist"));if(["options","rules","lexer"].includes(B))return 1;var qe=l.tokenizer[B],ct=S[B];S[B]=function(){for(var it=arguments.length,dt=new Array(it),Rt=0;Rt<it;Rt++)dt[Rt]=arguments[Rt];var Lt=qe.apply(S,dt);return!1===Lt&&(Lt=ct.apply(S,dt)),Lt}};for(var B in l.tokenizer)I();d.tokenizer=S}if(l.hooks){var $=n.defaults.hooks||new bf,Y=function(){if(!(le in $))throw new Error("hook '".concat(le,"' does not exist"));if(["options","block"].includes(le))return 1;var qe=l.hooks[le],ct=$[le];$[le]=bf.passThroughHooks.has(le)?function(it){if(n.defaults.async)return Promise.resolve(qe.call($,it)).then(function(Rt){return ct.call($,Rt)});var dt=qe.call($,it);return ct.call($,dt)}:function(){for(var it=arguments.length,dt=new Array(it),Rt=0;Rt<it;Rt++)dt[Rt]=arguments[Rt];var Lt=qe.apply($,dt);return!1===Lt&&(Lt=ct.apply($,dt)),Lt}};for(var le in l.hooks)Y();d.hooks=$}if(l.walkTokens){var ge=n.defaults.walkTokens,be=l.walkTokens;d.walkTokens=function(me){var ke=[];return ke.push(be.call(this,me)),ge&&(ke=ke.concat(ge.call(this,me))),ke}}n.defaults=(0,v.A)((0,v.A)({},n.defaults),d)}),this}},{key:"setOptions",value:function(n){return this.defaults=(0,v.A)((0,v.A)({},this.defaults),n),this}},{key:"lexer",value:function(n,e){return No.lex(n,e??this.defaults)}},{key:"parser",value:function(n,e){return Vo.parse(n,e??this.defaults)}},{key:"parseMarkdown",value:function(n){var e=this;return function(u,l){var d=(0,v.A)({},l),p=(0,v.A)((0,v.A)({},e.defaults),d),g=e.onError(!!p.silent,!!p.async);if(!0===e.defaults.async&&!1===d.async)return g(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof u>"u"||null===u)return g(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof u)return g(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(u)+", string expected"));p.hooks&&(p.hooks.options=p,p.hooks.block=n);var _=p.hooks?p.hooks.provideLexer():n?No.lex:No.lexInline,S=p.hooks?p.hooks.provideParser():n?Vo.parse:Vo.parseInline;if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(u):u).then(function($){return _($,p)}).then(function($){return p.hooks?p.hooks.processAllTokens($):$}).then(function($){return p.walkTokens?Promise.all(e.walkTokens($,p.walkTokens)).then(function(){return $}):$}).then(function($){return S($,p)}).then(function($){return p.hooks?p.hooks.postprocess($):$}).catch(g);try{p.hooks&&(u=p.hooks.preprocess(u));var I=_(u,p);p.hooks&&(I=p.hooks.processAllTokens(I)),p.walkTokens&&e.walkTokens(I,p.walkTokens);var B=S(I,p);return p.hooks&&(B=p.hooks.postprocess(B)),B}catch($){return g($)}}}},{key:"onError",value:function(n,e){return function(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",n){var s="<p>An error occurred:</p><pre>"+co(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}}])}());function jn(o,r){return ls.parse(o,r)}jn.options=jn.setOptions=function(o){return ls.setOptions(o),S1(jn.defaults=ls.defaults),jn},jn.getDefaults=function kv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},jn.defaults=Au,jn.use=function(){return ls.use.apply(ls,arguments),S1(jn.defaults=ls.defaults),jn},jn.walkTokens=function(o,r){return ls.walkTokens(o,r)},jn.parseInline=ls.parseInline,jn.Parser=Vo,jn.parser=Vo.parse,jn.Renderer=Cu,jn.TextRenderer=Bv,jn.Lexer=No,jn.lexer=No.lex,jn.Tokenizer=_f,jn.Hooks=bf,jn.parse=jn;var j6=["*"],j1=function(){var o,r=function(){return(0,m.A)(function n(){var e=this;(0,h.A)(this,n),this._buttonClick$=new T.B,this.copied=(0,rm.toSignal)(this._buttonClick$.pipe((0,We.n)(function(){return(0,G.h)((0,Te.of)(!0),(0,x1.O)(3e3).pipe((0,t6.u)(!1)))}),(0,Co.F)(),(0,Ka.t)(1))),this.copiedText=(0,a.computed)(function(){return e.copied()?"Copied":"Copy"})},[{key:"onCopyToClipboardClick",value:function(){this._buttonClick$.next()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275domElementStart(0,"button",0),a.\u0275\u0275domListener("click",function(){return t.onCopyToClipboardClick()}),a.\u0275\u0275text(1),a.\u0275\u0275domElementEnd()),2&e&&(a.\u0275\u0275classProp("copied",t.copied()),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(t.copiedText()))},encapsulation:2,changeDetection:0}),r}(),z6=new a.InjectionToken("CLIPBOARD_OPTIONS"),Lv=function(o){return o.CommandLine="command-line",o.LineHighlight="line-highlight",o.LineNumbers="line-numbers",o}(Lv||{}),H6=new a.InjectionToken("MARKED_EXTENSIONS"),U1=new a.InjectionToken("MARKED_OPTIONS"),K6=new a.InjectionToken("MERMAID_OPTIONS"),G1=new a.InjectionToken("SECURITY_CONTEXT"),Af=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,g){(0,h.A)(this,n),this.clipboardOptions=e,this.extensions=t,this.mermaidOptions=u,this.platform=l,this.securityContext=d,this.http=p,this.sanitizer=g,this.DEFAULT_MARKED_OPTIONS={renderer:new Cu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new T.B,this.reload$=this._reload$.asObservable(),this.options=s},[{key:"options",get:function(){return this._options},set:function(t){this._options=(0,v.A)((0,v.A)({},this.DEFAULT_MARKED_OPTIONS),t)}},{key:"renderer",get:function(){return this.options.renderer},set:function(t){this.options.renderer=t}},{key:"parse",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_PARSE_OPTIONS,u=s.decodeHtml,l=s.inline,d=s.emoji,p=s.mermaid,g=s.disableSanitizer,_=(0,v.A)((0,v.A)({},this.options),s.markedOptions),S=_.renderer||this.renderer||new Cu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(S)),p&&(this.renderer=this.extendsRendererForMermaid(S));var I=this.trimIndentation(t),B=u?this.decodeHtml(I):I,$=d?this.parseEmoji(B):B,Y=this.parseMarked($,_,l);return(g?Y:this.sanitizer.sanitize(this.securityContext,Y))||""}},{key:"render",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_RENDER_OPTIONS,u=arguments.length>2?arguments[2]:void 0,l=s.clipboard,d=s.clipboardOptions,g=s.katexOptions,_=s.mermaid,S=s.mermaidOptions;s.katex&&this.renderKatex(t,(0,v.A)((0,v.A)({},this.DEFAULT_KATEX_OPTIONS),g)),_&&this.renderMermaid(t,(0,v.A)((0,v.A)((0,v.A)({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),S)),l&&this.renderClipboard(t,u,(0,v.A)((0,v.A)((0,v.A)({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),d)),this.highlight(t)}},{key:"reload",value:function(){this._reload$.next()}},{key:"getSource",value:function(t){var s=this;if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,fe.T)(function(u){return s.handleExtension(t,u)}))}},{key:"highlight",value:function(t){if((0,y.isPlatformBrowser)(this.platform)&&!(typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")){t||(t=document);var s=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,function(u){return u.classList.add("language-none")}),Prism.highlightAllUnder(t)}}},{key:"decodeHtml",value:function(t){if(!(0,y.isPlatformBrowser)(this.platform))return t;var s=document.createElement("textarea");return s.innerHTML=t,s.value}},{key:"extendsRendererForExtensions",value:function(t){var s,u=t;return!0===u.\u0275NgxMarkdownRendererExtendedForExtensions||((null===(s=this.extensions)||void 0===s?void 0:s.length)>0&&jn.use.apply(jn,(0,A.A)(this.extensions)),u.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}},{key:"extendsRendererForMermaid",value:function(t){var s=t;if(!0===s.\u0275NgxMarkdownRendererExtendedForMermaid)return t;var u=t.code;return t.code=function(l){return"mermaid"===l.lang?'<div class="mermaid">'.concat(l.text,"</div>"):u(l)},s.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}},{key:"handleExtension",value:function(t,s){var u=t.lastIndexOf("://"),l=u>-1?t.substring(u+4):t,d=l.lastIndexOf("/"),p=d>-1?l.substring(d+1).split("?")[0]:"",g=p.lastIndexOf("."),_=g>-1?p.substring(g+1):"";return _&&"md"!==_?"```"+_+"\n"+s+"\n```":s}},{key:"parseMarked",value:function(t,s){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.renderer){var l=(0,v.A)({},s.renderer);delete l.\u0275NgxMarkdownRendererExtendedForExtensions,delete l.\u0275NgxMarkdownRendererExtendedForMermaid,delete s.renderer,jn.use({renderer:l})}return u?jn.parseInline(t,s):jn.parse(t,s)}},{key:"parseEmoji",value:function(t){if(!(0,y.isPlatformBrowser)(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}},{key:"renderKatex",value:function(t,s){if((0,y.isPlatformBrowser)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,s)}}},{key:"renderClipboard",value:function(t,s,u){if((0,y.isPlatformBrowser)(this.platform)){if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!s)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");for(var l=u.buttonComponent,d=u.buttonTemplate,p=t.querySelectorAll("pre"),g=function(){var I=p.item(_),B=document.createElement("div");B.style.position="relative",I.parentNode.insertBefore(B,I),B.appendChild(I);var Y,be,$=document.createElement("div");if($.classList.add("markdown-clipboard-toolbar"),$.style.position="absolute",$.style.top=".5em",$.style.right=".5em",$.style.zIndex="1",B.insertAdjacentElement("beforeend",$),B.onmouseenter=function(){return $.classList.add("hover")},B.onmouseleave=function(){return $.classList.remove("hover")},l){var le=s.createComponent(l);Y=le.hostView,le.changeDetectorRef.markForCheck()}else if(d)Y=s.createEmbeddedView(d);else{var ge=s.createComponent(j1);Y=ge.hostView,ge.changeDetectorRef.markForCheck()}Y.rootNodes.forEach(function(me){$.appendChild(me),be=new ClipboardJS(me,{text:function(){return I.innerText}})}),Y.onDestroy(function(){return be.destroy()})},_=0;_<p.length;_++)g()}}},{key:"renderMermaid",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_MERMAID_OPTIONS;if((0,y.isPlatformBrowser)(this.platform)){if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");var u=t.querySelectorAll(".mermaid");0!==u.length&&(mermaid.initialize(s),mermaid.run({nodes:u}))}}},{key:"trimIndentation",value:function(t){return t?t.split("\n").map(function(u){var l=s;return u.length>0&&(l=isNaN(l)?u.search(/\S|$/):Math.min(u.search(/\S|$/),l)),isNaN(s)&&(s=l),l?u.substring(l):u}).join("\n"):"";var s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(z6,8),a.\u0275\u0275inject(H6,8),a.\u0275\u0275inject(U1,8),a.\u0275\u0275inject(K6,8),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(G1),a.\u0275\u0275inject(E.HttpClient,8),a.\u0275\u0275inject(M.DomSanitizer))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),z1=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.element=e,this.markdownService=t,this.viewContainerRef=s,this.error=new a.EventEmitter,this.load=new a.EventEmitter,this.ready=new a.EventEmitter,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new T.B},[{key:"disableSanitizer",get:function(){return this._disableSanitizer},set:function(t){this._disableSanitizer=this.coerceBooleanProperty(t)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=this.coerceBooleanProperty(t)}},{key:"clipboard",get:function(){return this._clipboard},set:function(t){this._clipboard=this.coerceBooleanProperty(t)}},{key:"emoji",get:function(){return this._emoji},set:function(t){this._emoji=this.coerceBooleanProperty(t)}},{key:"katex",get:function(){return this._katex},set:function(t){this._katex=this.coerceBooleanProperty(t)}},{key:"mermaid",get:function(){return this._mermaid},set:function(t){this._mermaid=this.coerceBooleanProperty(t)}},{key:"lineHighlight",get:function(){return this._lineHighlight},set:function(t){this._lineHighlight=this.coerceBooleanProperty(t)}},{key:"lineNumbers",get:function(){return this._lineNumbers},set:function(t){this._lineNumbers=this.coerceBooleanProperty(t)}},{key:"commandLine",get:function(){return this._commandLine},set:function(t){this._commandLine=this.coerceBooleanProperty(t)}},{key:"ngOnChanges",value:function(){this.loadContent()}},{key:"loadContent",value:function(){null==this.data?null==this.src||this.handleSrc():this.handleData()}},{key:"ngAfterViewInit",value:function(){var t=this;!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,cn.Q)(this.destroyed$)).subscribe(function(){return t.loadContent()})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"render",value:(e=(0,Mt.A)(function(s){var u=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Ke.A)().m(function d(){var p,g;return(0,Ke.A)().w(function(S){for(;;)switch(S.n){case 0:return p={decodeHtml:l,inline:u.inline,emoji:u.emoji,mermaid:u.mermaid,disableSanitizer:u.disableSanitizer},g={clipboard:u.clipboard,clipboardOptions:u.getClipboardOptions(),katex:u.katex,katexOptions:u.katexOptions,mermaid:u.mermaid,mermaidOptions:u.mermaidOptions},S.n=1,u.markdownService.parse(s,p);case 1:u.element.nativeElement.innerHTML=S.v,u.handlePlugins(),u.markdownService.render(u.element.nativeElement,g,u.viewContainerRef),u.ready.emit();case 2:return S.a(2)}},d)})()}),function t(s){return e.apply(this,arguments)})},{key:"coerceBooleanProperty",value:function(t){return null!=t&&"false"!=="".concat(String(t))}},{key:"getClipboardOptions",value:function(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}},{key:"handleData",value:function(){this.render(this.data)}},{key:"handleSrc",value:function(){var t=this;this.markdownService.getSource(this.src).subscribe({next:function(u){t.render(u).then(function(){t.load.emit(u)})},error:function(u){return t.error.emit(u)}})}},{key:"handleTransclusion",value:function(){this.render(this.element.nativeElement.innerHTML,!0)}},{key:"handlePlugins",value:function(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Lv.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Lv.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}},{key:"setPluginClass",value:function(t,s){for(var u=t.querySelectorAll("pre"),l=0;l<u.length;l++){var d,p=s instanceof Array?s:[s];(d=u.item(l).classList).add.apply(d,(0,A.A)(p))}}},{key:"setPluginOptions",value:function(t,s){for(var u=this,l=t.querySelectorAll("pre"),d=function(_){Object.keys(s).forEach(function(S){var I=s[S];if(I){var B=u.toLispCase(S);l.item(_).setAttribute(B,I.toString())}})},p=0;p<l.length;p++)d(p)}},{key:"toLispCase",value:function(t){var s=t.match(/([A-Z])/g);if(!s)return t;for(var u=t.toString(),l=0,d=s.length;l<d;l++)u=u.replace(new RegExp(s[l]),"-"+s[l].toLowerCase());return"-"===u.slice(0,1)&&(u=u.slice(1)),u}}]);var e}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Af),a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:j6,decls:1,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0))},encapsulation:2}),r}(),$1=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.domSanitizer=e,this.elementRef=t,this.markdownService=s,this.viewContainerRef=u,this.zone=l},[{key:"transform",value:(e=(0,Mt.A)((0,Ke.A)().m(function s(u,l){var p,d=this;return(0,Ke.A)().w(function(g){for(;;)switch(g.n){case 0:if(null!=u){g.n=1;break}return g.a(2,"");case 1:if("string"==typeof u){g.n=2;break}return console.error("MarkdownPipe has been invoked with an invalid value type [".concat(typeof u,"]")),g.a(2,u);case 2:return g.n=3,this.markdownService.parse(u,l);case 3:return p=g.v,this.zone.onStable.pipe((0,n6.$)()).subscribe(function(){return d.markdownService.render(d.elementRef.nativeElement,l,d.viewContainerRef)}),g.a(2,this.domSanitizer.bypassSecurityTrustHtml(p))}},s,this)})),function t(s,u){return e.apply(this,arguments)})}]);var e}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(M.DomSanitizer,16),a.\u0275\u0275directiveInject(a.ElementRef,16),a.\u0275\u0275directiveInject(Af,16),a.\u0275\u0275directiveInject(a.ViewContainerRef,16),a.\u0275\u0275directiveInject(a.NgZone,16))},o.\u0275pipe=a.\u0275\u0275definePipe({name:"markdown",type:o,pure:!0}),r}();function Z6(o){var r,n,e,t,s,u;return[Af,null!==(r=o?.loader)&&void 0!==r?r:[],null!==(n=o?.clipboardOptions)&&void 0!==n?n:[],null!==(e=o?.markedOptions)&&void 0!==e?e:[],null!==(t=o?.mermaidOptions)&&void 0!==t?t:[],null!==(s=o?.markedExtensions)&&void 0!==s?s:[],{provide:G1,useValue:null!==(u=o?.sanitize)&&void 0!==u?u:a.SecurityContext.HTML}]}var jv=function(){var o,r=function(){function n(){(0,h.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(t){return{ngModule:n,providers:[Z6(t)]}}},{key:"forChild",value:function(){return{ngModule:n}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),Sr=b(89745),Gr=b(85441),Bt=b(87813),jt=b(51973),fa=b(80421);function e5(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function t5(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",3),a.\u0275\u0275listener("ngSubmit",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.submit())}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",4),a.\u0275\u0275template(3,e5,1,0,"ng-container",5),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"mat-dialog-actions")(5,"button",6),a.\u0275\u0275text(6,"Save"),a.\u0275\u0275elementEnd()()()}if(2&o){var e=a.\u0275\u0275nextContext(),t=a.\u0275\u0275reference(3);a.\u0275\u0275property("formGroup",e.contentForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngTemplateOutlet",t),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!e.contentForm.valid)}}function n5(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function r5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",4),a.\u0275\u0275template(1,n5,1,0,"ng-container",5),a.\u0275\u0275elementEnd()),2&o){a.\u0275\u0275nextContext();var n=a.\u0275\u0275reference(3);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)}}function a5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.key)}}function i5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"ul",18),a.\u0275\u0275template(1,a5,2,1,"li",19),a.\u0275\u0275pipe(2,"keyvalue"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("hidden",!0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,n.tokens))}}function o5(o,r){if(1&o&&(a.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),a.\u0275\u0275pipe(1,"markdown")),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,n.preview))}}function s5(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("content",n.preview)}}function u5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"as-split",7)(1,"as-split-area",8)(2,"div"),a.\u0275\u0275template(3,i5,3,4,"ul",9),a.\u0275\u0275elementStart(4,"mat-form-field")(5,"mat-label"),a.\u0275\u0275text(6,"Content Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-select",10)(8,"mat-option",11),a.\u0275\u0275text(9,"Markdown"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-option",12),a.\u0275\u0275text(11,"HTML"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",13),a.\u0275\u0275text(13,"JSON"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(14,"as-split",14)(15,"as-split-area",8)(16,"div"),a.\u0275\u0275element(17,"textarea",15),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(18,"as-split-area",8)(19,"div"),a.\u0275\u0275element(20,"textarea",16),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(21,"as-split-area",8),a.\u0275\u0275template(22,o5,2,3,"classifieds-ui-dynamic-content-viewer",17)(23,s5,1,1,"classifieds-ui-dynamic-content-viewer",17),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("direction",n.splitDirection)("formGroup",n.contentForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",n.tokens),a.\u0275\u0275advance(14),a.\u0275\u0275property("cols",n.cols)("rows",n.rows),a.\u0275\u0275advance(3),a.\u0275\u0275property("cols",n.cols)("rows",n.rows),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.isMarkdown),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.isMarkdown)}}var xu=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.content=r.content,this.contentType=r.contentType,r.jsFile&&""!==r.jsFile&&(this.jsFile=r.jsFile),r.jsScript&&""!==r.jsScript&&(this.jsScript=r.jsScript))}),Cf=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.fb=e,this.submitted=new a.EventEmitter,this.splitDirection="vertical",this.rows=40,this.cols=100,this.rootForm=!0,this.onTouched=function(){},this.contentForm=this.fb.group({content:this.fb.control("",f.Validators.required),contentType:this.fb.control("",f.Validators.required),jsScript:this.fb.control("")}),this.isMarkdown=!1,this.contentEditorOptions={theme:"vs-dark",language:"text/html"}},[{key:"snippet",set:function(t){void 0!==t&&this.contentForm.setValue((0,v.A)((0,v.A)({},t),{},{jsScript:t.jsScript&&""!==t.jsScript?t.jsScript:""}))}},{key:"ngOnInit",value:function(){var t=this;this.contentForm.get("content").valueChanges.pipe((0,Co.F)(),(0,Ln.B)(500),(0,fe.T)(function(s){return void 0!==t.tokens?t.replaceTokens(s):s})).subscribe(function(s){t.preview=s}),this.contentForm.get("contentType").valueChanges.subscribe(function(s){t.isMarkdown="text/markdown"===s})}},{key:"writeValue",value:function(t){t&&(console.log("write value: ".concat(t)),this.contentForm.setValue(t,{emitEvent:!1}))}},{key:"registerOnChange",value:function(t){this.contentForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(t){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"snippet is invalid"}}}},{key:"submit",value:function(){this.submitted.emit(new xu({content:this.contentForm.get("content").value,contentType:this.contentForm.get("contentType").value,jsScript:this.contentForm.get("jsScript").value}))}},{key:"replaceTokens",value:function(t){return this.tokens&&this.tokens.forEach(function(s,u){t=t.replace("[".concat(u,"]"),"".concat(s," [token = '").concat(u,"']"))}),t}},{key:"addScript",value:function(){var t=document.createElement("script");t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-form"]],inputs:{tokens:"tokens",splitDirection:"splitDirection",rows:"rows",cols:"cols",rootForm:"rootForm",snippet:"snippet"},outputs:{submitted:"submitted"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:4,vars:2,consts:[["formBodyTpl",""],[3,"formGroup","ngSubmit",4,"ngIf"],["class","content-inner",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"content-inner"],[4,"ngTemplateOutlet"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"direction","formGroup"],["size","50"],[3,"hidden",4,"ngIf"],["required","","formControlName","contentType"],["value","text/markdown"],["value","text/html"],["value","application/json"],["direction","horizontal"],["formControlName","content",3,"cols","rows"],["formControlName","jsScript",3,"cols","rows"],[3,"content",4,"ngIf"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"content"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,t5,7,3,"form",1)(1,r5,2,1,"div",2)(2,u5,24,9,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),2&e&&(a.\u0275\u0275property("ngIf",t.rootForm),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!t.rootForm))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Hc,Kc,Sr.MatOption,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatFormField,jt.MatLabel,fa.MatSelect,sn.DynamicContentViewer,y.KeyValuePipe,$1],encapsulation:2}),r}(),Uv=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,dc,mf,pa.MaterialModule,Fd,jv,sn.UtilsModule]}),r}(),H1=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"parseSnippet",value:function(t){return(0,Te.of)(t.snippet.content)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),an=b(71265),l5=b(137);function tr(o,r,n){return(0,l5.v)(function(){return o()?r:n})}var zn=b(19999),qr=b(90778),Yc=b(32697),Ya=b(40353);function c5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function d5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function p5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),a.\u0275\u0275text(2,"Context"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-select",11),a.\u0275\u0275template(4,d5,2,2,"mat-option",4),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",n.contexts)}}function f5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",12)(1,"mat-checkbox",13),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("formGroupName",n),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.flagsAsArray[n])}}function m5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",1)(1,"div"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field",2)(4,"mat-label"),a.\u0275\u0275text(5,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-select",3),a.\u0275\u0275template(7,c5,2,2,"mat-option",4),a.\u0275\u0275pipe(8,"async"),a.\u0275\u0275pipe(9,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(10,p5,5,1,"mat-form-field",5),a.\u0275\u0275elementStart(11,"mat-form-field",2),a.\u0275\u0275element(12,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-form-field",2),a.\u0275\u0275element(14,"input",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"div",8),a.\u0275\u0275template(16,f5,3,2,"div",9),a.\u0275\u0275elementEnd()()),2&o){var n=r.$implicit,e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",n),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.paramName(e)),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(9,7,a.\u0275\u0275pipeBind1(8,5,t.paramPlugins$))),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","context"==n.get("mapping").get("type").value),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngForOf",n.get("flags").controls)}}function g5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}var Oo=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.evalParam=n.evalParam,n.condition&&(e.condition=n.condition),n.usedContexts&&(e.usedContexts=n.usedContexts)),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),ma=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.mapping=new K1(r.mapping),void 0!==r.flags&&(this.flags=r.flags.map(function(n){return new y5(n)})))}),K1=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.type=r.type,this.value=r.value,this.testValue=r.testValue,this.context=r.context)}),y5=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.name=r.name,this.enabled=r.enabled)}),Bo=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.plugin=r.plugin,this.settings=r.settings?new q1(r.settings):new q1)}),q1=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.paramsString=r.paramsString,r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),cs=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"param"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Jc=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.ppm=t,this.contexts=[],this.params$=new R.t({}),this.paramValues$=new R.t([]),this.init$=new T.B,this.formArray=this.fb.array([]),this.paramPlugins$=this.ppm.getPlugins(),this.flags=new Map,this.savedParams=new Map,this.paramIndexes=new Map,this.paramsSub=this.params$.pipe((0,q.M)(function(u){var l=new Map((0,A.A)(s.paramIndexes));s.formArray.clear(),s.paramIndexes.clear();var d=0;for(var p in u)Array.isArray(u[p])?(u[p].forEach(function(g){return s.buildParams(g,d,l)}),d++):0===u[p].indexOf(":")&&(s.buildParams(u[p],d,l),d++)})).subscribe(),this.savedParamsSub=this.formArray.valueChanges.pipe((0,Ln.B)(1e3),(0,q.M)(function(u){for(var l=u.length,d=0;d<l;d++)s.savedParams.set(s.paramName(d),new ma(u[d]))})).subscribe(),this.paramValuesSub=(0,zn.z)([this.paramValues$,this.params$,this.init$]).pipe((0,q.M)(function(u){for(var d=(0,k.A)(u,1)[0],p=d?d.length:0,g=function(I){var B=Array.from(s.paramIndexes).find(function($){return(0,k.A)($,2)[1]===I});void 0!==B&&s.savedParams.set(B[0],d[I])},_=0;_<p;_++)g(_)})).subscribe(),this.onTouched=function(){},this.flags.set("page","Page"),this.flags.set("limit","Limit"),this.flags.set("offset","Offset"),this.flags.set("searchString","Search String")},[{key:"params",set:function(t){this.params$.next(t)}},{key:"paramValues",set:function(t){this.paramValues$.next(t)}},{key:"flagsAsArray",get:function(){var t=[];return this.flags.forEach(function(s,u){t.push(u)}),t}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.formArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formArray.disable():this.formArray.enable()}},{key:"validate",value:function(t){return this.formArray.valid?null:this.formArray.errors}},{key:"buildParams",value:function(t,s,u){var l=this;console.log("build param ".concat(t)),this.paramIndexes.set(t,s),this.formArray.push(this.fb.group({mapping:this.fb.group({type:this.fb.control("",f.Validators.required),value:this.fb.control("",f.Validators.required),testValue:this.fb.control(""),context:this.fb.control("")}),flags:this.fb.array(this.flagsAsArray.map(function(d){return l.fb.group({name:d,enabled:l.fb.control(!1)})}))})),this.savedParams.has(t)?this.formArray.at(s).setValue(this.savedParams.get(t)):s<this.paramValues$.value.length&&-1===Array.from(u).findIndex(function(d){return(0,k.A)(d,2)[1]===s})&&this.formArray.at(s).setValue(this.paramValues$.value[s])}},{key:"paramName",value:function(t){var s=0;for(var u in this.params$.value)if(Array.isArray(this.params$.value[u]))for(var l=0;l<this.params$.value[u].length;l++){if(t===s)return this.params$.value[u][l];s++}else if(0===this.params$.value[u].indexOf(":")){if(s===t)return this.params$.value[u];s++}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(cs))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-params-form"]],inputs:{contexts:"contexts",params:"params",paramValues:"paramValues"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","mapping"],["required","","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","mapping",4,"ngIf"],["matInput","","formControlName","value","placeholder","value","required",""],["matInput","","formControlName","testValue","placeholder","Test Value","required",""],["formArrayName","flags"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","context"],[3,"formGroupName"],["formControlName","enabled"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,m5,17,9,"div",0),2&e&&a.\u0275\u0275property("ngForOf",t.formArray.controls)},dependencies:[y.NgForOf,y.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Sr.MatOption,Yc.MatCheckbox,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),_5=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new R.t(void 0),this.afterViewInit$=new T.B,this.paramValues$=new R.t([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(s){var u=Ya.parse("?"+s);t.paramsParsed=u}),this.settingsSub=this.settings$.pipe((0,q.M)(function(s){s&&t.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,zn.z)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,z.p)(function(s){return void 0!==(0,k.A)(s,1)[0]}),(0,dr.c)(1),(0,q.M)(function(s){var u=(0,k.A)(s,1);return t.paramValues$.next(u[0].params)})).subscribe(),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-params-querystring"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(5,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),b5=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.fb=e,this.plugins$=new R.t([]),this.title$=new R.t("Plugin"),this.instance$=new R.t(new Bo),this.instanceForm=this.fb.group({plugin:this.fb.control(""),settings:this.fb.control("")}),this.instanceSub=this.instance$.pipe((0,z.p)(function(s){return!!s}),(0,q.M)(function(s){t.instanceForm.get("plugin").setValue(s.plugin)})).subscribe(),this.onTouched=function(){}},[{key:"title",set:function(t){this.title$.next(t)}},{key:"plugins",set:function(t){this.plugins$.next(t)}},{key:"instance",set:function(t){this.instance$.next(t)}},{key:"writeValue",value:function(t){t&&this.instanceForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.instanceForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.instanceForm.disable():this.instanceForm.enable()}},{key:"validate",value:function(t){return this.instanceForm.valid?null:this.instanceForm.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-params-plugin-instance"]],inputs:{title:"title",plugins:"plugins",instance:"instance"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:10,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["formControlName","settings",3,"settings"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1),a.\u0275\u0275template(6,g5,2,2,"mat-option",2),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275pipe(8,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(9,"druid-params-querystring",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.instanceForm),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(4,4,t.title$)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(8,8,a.\u0275\u0275pipeBind1(7,6,t.plugins$))),a.\u0275\u0275advance(3),a.\u0275\u0275property("settings",t.instance$.value.settings))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect,_5,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),po=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.paramPluginManager=e,this.tokenizerService=t},[{key:"paramValue",value:function(t,s){var u=this;return this.paramPluginManager.getPlugins().pipe((0,fe.T)(function(l){return Array.from(l).map(function(d){return(0,k.A)(d,2)[1]})}),(0,fe.T)(function(l){return l.find(function(d){return d.condition&&d.condition({param:t,metadata:s})||!d.condition&&d.id===t.mapping.type})}),(0,We.n)(function(l){return tr(function(){return!!l},l?l.evalParam({param:t,metadata:s}):(0,Te.of)(),(0,Te.of)(t.mapping.value))}),(0,fe.T)(function(l){return t.mapping.value&&"string"==typeof l&&0===u.tokenizerService.discoverTokens(l).length?l:t.mapping.testValue}))}},{key:"paramValues",value:function(t){var s=this;return(0,An.p)(Array.from(t.keys()).map(function(u){return s.paramValue(t.get(u),new Map).pipe((0,fe.T)(function(l){return[u,l]}))})).pipe((0,fe.T)(function(u){return u.reduce(function(l,d){return new Map([].concat((0,A.A)(l),[d]))},new Map)}),(0,qr.U)(new Map))}},{key:"resolveParams",value:function(t){var s=this,u=t.params;return(0,We.n)(function(){return tr(function(){return Object.keys(u).length>1},(0,An.p)(Object.keys(u).map(function(l){return s.paramValue(u[l],new Map).pipe((0,fe.T)(function(d){return(0,c.A)({},l,d)}))})).pipe((0,fe.T)(function(l){return l.reduce(function(d,p){return(0,v.A)((0,v.A)({},d),p)},{})}),(0,fe.T)(function(l){return{options:l}})),tr(function(){return 0!==Object.keys(u).length},s.paramValue(0!==Object.keys(u).length?u[Object.keys(u)[0]]:new ma,new Map).pipe((0,fe.T)(function(l){return{options:(0,c.A)({},Object.keys(u)[0],l)}})),(0,Te.of)({options:{}})))})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cs),a.\u0275\u0275inject(Qn))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),ds=function(){var o,r=(0,m.A)(function n(e,t){(0,h.A)(this,n),e.register(new Oo({id:"static",title:"Static",evalParam:function(n){return(0,Te.of)(n.param.mapping.value)}})),e.register(function(r){return new Oo({id:"inputparam",title:"Input Param",evalParam:function(e){var t=e.param,s=e.metadata;return(0,Te.of)(t.mapping.value).pipe((0,fe.T)(function(u){return s.has("inputparams")&&s.get("inputparams").has(u)?s.get("inputparams").get(u):void 0}),(0,We.n)(function(u){return tr(function(){return void 0!==u},void 0!==u?r.paramValue(u,s):(0,Te.of)(t.mapping.testValue),(0,Te.of)(t.mapping.testValue))}))}})}(t))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cs),a.\u0275\u0275inject(po))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule]}),r}(),W1="@ngrx/router-store/request",Gv=(Ha(W1,{_as:"props",_p:void 0}),"@ngrx/router-store/navigation"),zv=(Ha(Gv,{_as:"props",_p:void 0}),"@ngrx/router-store/cancel"),$v=(Ha(zv,{_as:"props",_p:void 0}),"@ngrx/router-store/error"),Q1=(Ha($v,{_as:"props",_p:void 0}),"@ngrx/router-store/navigated");Ha(Q1,{_as:"props",_p:void 0});var Hv=function(){return(0,m.A)(function o(){(0,h.A)(this,o)},[{key:"serialize",value:function(n){return{root:this.serializeRoute(n.root),url:n.url}}},{key:"serializeRoute",value:function(n){var e=this,t=n.children.map(function(s){return e.serializeRoute(s)});return{params:n.params,data:n.data,url:n.url,outlet:n.outlet,title:n.title,routeConfig:n.routeConfig?{path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet,title:"string"==typeof n.routeConfig.title?n.routeConfig.title:void 0}:null,queryParams:n.queryParams,fragment:n.fragment,firstChild:t[0],children:t}}}])}(),Kv=function(o){return o[o.PreActivation=1]="PreActivation",o[o.PostActivation=2]="PostActivation",o}(Kv||{}),Y1=new a.InjectionToken("@ngrx/router-store Internal Configuration"),J1=new a.InjectionToken("@ngrx/router-store Configuration"),qv=function(o){return o[o.Full=0]="Full",o[o.Minimal=1]="Minimal",o}(qv||{});function C5(o){return(0,v.A)({stateKey:"router",serializer:Hv,navigationActionTiming:Kv.PreActivation},o)}var Z1=function(){return(0,m.A)(function o(){(0,h.A)(this,o)},[{key:"serialize",value:function(n){return{root:this.serializeRoute(n.root),url:n.url}}},{key:"serializeRoute",value:function(n){var e=this,t=n.children.map(function(s){return e.serializeRoute(s)});return{params:n.params,paramMap:n.paramMap,data:n.data,url:n.url,outlet:n.outlet,title:n.title,routeConfig:n.routeConfig?{component:n.routeConfig.component,path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet,title:n.routeConfig.title}:null,queryParams:n.queryParams,queryParamMap:n.queryParamMap,fragment:n.fragment,component:n.routeConfig?n.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}}])}(),ex=(0,m.A)(function o(){(0,h.A)(this,o)}),fo=function(o){return o[o.NONE=1]="NONE",o[o.ROUTER=2]="ROUTER",o[o.STORE=3]="STORE",o}(fo||{}),tx=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.store=e,this.router=t,this.serializer=s,this.errorHandler=u,this.config=l,this.activeRuntimeChecks=d,this.lastEvent=null,this.routerState=null,this.trigger=fo.NONE,this.stateKey=this.config.stateKey,(0,a.isDevMode)()&&(null!=d&&d.strictActionSerializability||null!=d&&d.strictStateSerializability)&&this.serializer instanceof Z1&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()},[{key:"setUpStoreStateListener",value:function(){var t=this;this.store.pipe(wr(this.stateKey),oi(this.store)).subscribe(function(s){var u=(0,k.A)(s,2);t.navigateIfNeeded(u[0],u[1])})}},{key:"navigateIfNeeded",value:function(t,s){var u=this;if(t&&t.state&&this.trigger!==fo.ROUTER&&!(this.lastEvent instanceof Yn.NavigationStart)){var l=t.state.url;(function x5(o,r){return nx(o)===nx(r)})(this.router.url,l)||(this.storeState=s,this.trigger=fo.STORE,this.router.navigateByUrl(l).catch(function(d){u.errorHandler.handleError(d)}))}}},{key:"setUpRouterEventsListener",value:function(){var u,t=this,s=this.config.navigationActionTiming===Kv.PostActivation;this.router.events.pipe(oi(this.store)).subscribe(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];t.lastEvent=p,p instanceof Yn.NavigationStart?(t.routerState=t.serializer.serialize(t.router.routerState.snapshot),t.trigger!==fo.STORE&&(t.storeState=g,t.dispatchRouterRequest(p))):p instanceof Yn.RoutesRecognized?(u=p,!s&&t.trigger!==fo.STORE&&t.dispatchRouterNavigation(p)):p instanceof Yn.NavigationCancel?(t.dispatchRouterCancel(p),t.reset()):p instanceof Yn.NavigationError?(t.dispatchRouterError(p),t.reset()):p instanceof Yn.NavigationEnd&&(t.trigger!==fo.STORE&&(s&&t.dispatchRouterNavigation(u),t.dispatchRouterNavigated(p)),t.reset())})}},{key:"dispatchRouterRequest",value:function(t){this.dispatchRouterAction(W1,{event:t})}},{key:"dispatchRouterNavigation",value:function(t){var s=this.serializer.serialize(t.state);this.dispatchRouterAction(Gv,{routerState:s,event:new Yn.RoutesRecognized(t.id,t.url,t.urlAfterRedirects,s)})}},{key:"dispatchRouterCancel",value:function(t){this.dispatchRouterAction(zv,{storeState:this.storeState,event:t})}},{key:"dispatchRouterError",value:function(t){this.dispatchRouterAction($v,{storeState:this.storeState,event:new Yn.NavigationError(t.id,t.url,"".concat(t))})}},{key:"dispatchRouterNavigated",value:function(t){var s=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Q1,{event:t,routerState:s})}},{key:"dispatchRouterAction",value:function(t,s){this.trigger=fo.ROUTER;try{this.store.dispatch({type:t,payload:(0,v.A)((0,v.A)({routerState:this.routerState},s),{},{event:this.config.routerState===qv.Full?s.event:{id:s.event.id,url:s.event.url,urlAfterRedirects:s.event.urlAfterRedirects}})})}finally{this.trigger=fo.NONE}}},{key:"reset",value:function(){this.trigger=fo.NONE,this.storeState=null,this.routerState=null}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Yn.Router),a.\u0275\u0275inject(ex),a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(J1),a.\u0275\u0275inject(Uu))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function nx(o){return o?.length>0&&"/"===o[o.length-1]?o.substring(0,o.length-1):o}function S5(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.makeEnvironmentProviders)([{provide:Y1,useValue:o},{provide:J1,useFactory:C5,deps:[Y1]},{provide:ex,useClass:o.serializer?o.serializer:o.routerState===qv.Full?Z1:Hv},(0,a.provideEnvironmentInitializer)(function(){return(0,a.inject)(tx)}),tx])}var E5=function(){var o,r=function(){function n(){(0,h.A)(this,n)}return(0,m.A)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[S5(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}();function Zc(){var r=Fn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function D5(){return gc("router")}(),function(I){return I&&I.state}),n=Fn(r,function(I){return I&&I.root}),e=Fn(n,function(I){if(I){for(var B=I;B.firstChild;)B=B.firstChild;return B}}),t=Fn(n,function(I){return I&&I.fragment}),s=Fn(n,function(I){return I&&I.queryParams}),l=Fn(e,function(I){return I&&I.params}),p=Fn(e,function(I){return I&&I.data}),_=Fn(r,function(I){return I&&I.url}),S=Fn(e,function(I){if(null!=I&&I.routeConfig)return"string"==typeof I.routeConfig.title?I.routeConfig.title:I.title});return{selectCurrentRoute:e,selectFragment:t,selectQueryParams:s,selectQueryParam:function(B){return Fn(s,function($){return $&&$[B]})},selectRouteParams:l,selectRouteParam:function(B){return Fn(l,function($){return $&&$[B]})},selectRouteData:p,selectRouteDataParam:function(B){return Fn(p,function($){return $&&$[B]})},selectUrl:_,selectTitle:S}}var T5=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),[new Oo({id:"page",title:"Page",usedContexts:function(){return(0,Te.of)(["_page"])},condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled&&"page"===s.name})>-1&&t.has("page")},evalParam:function(n){return(0,Te.of)("".concat(n.metadata.get("page")))}}),new Oo({id:"searchstring",title:"Searchstring",condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled})>-1&&t.has("searchString")},evalParam:function(n){return(0,Te.of)("".concat(n.metadata.get("searchString")))}}),new Oo({id:"route",title:"Route",usedContexts:function(){return(0,Te.of)(["_route"])},evalParam:function(n){var e=n.param,s=n.metadata.get("_route");return(0,Te.of)(s.params[e.mapping.value])}}),new Oo({id:"querystring",title:"Querystring",usedContexts:function(){return(0,Te.of)(["_page"])},evalParam:function(n){var e=n.param,s=n.metadata.get("_route");return(0,Te.of)(s.queryParams[e.mapping.value])}}),new Oo({id:"standardpagination",title:"Standard Pagination",usedContexts:function(){return(0,Te.of)(["_page"])},condition:function(n){var t=n.metadata;return n.param.flags.findIndex(function(s){return s.enabled&&"offset"===s.name})>-1&&t.has("limit")&&t.has("page")},evalParam:function(n){var t=n.metadata;return(0,Te.of)("".concat(+t.get("limit")*(+t.get("page")-1)))}})].forEach(function(t){return e.register(t)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cs))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[ds]}),r}(),ed=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.routerStore=e,this.paramPluginManager=t,this.paramEvaluatorService=s},[{key:"getUrl",value:function(t,s,u){var l=this,d=Zc();return this.routerStore.pipe(wr(d.selectCurrentRoute),(0,fe.T)(function(g){return[g,t,t?t.indexOf("?"):-1]}),(0,fe.T)(function(g){var _=(0,k.A)(g,3),I=_[1],B=_[2];return[_[0],B>-1?I.substring(0,B):I,B>-1?I.substring(B+1):""]}),(0,We.n)(function(g){var _=(0,k.A)(g,3),S=_[0],I=_[1],B=_[2],$=Ya.parse(B),Y=I?I.split("/"):[],le=new Map([].concat((0,A.A)(u),[["_route",S]])),ge=l.paramNames(t),be=s.reduce(function(it,dt,Rt){return new Map([].concat((0,A.A)(it),[[ge[Rt],dt]]))},new Map),me=Y.reduce(function(it,dt,Rt){return 0===dt.indexOf(":")?[].concat((0,A.A)(it),[l.paramEvaluatorService.paramValue(be.get(dt),le)]):[].concat((0,A.A)(it),[(0,Te.of)(Y[Rt])])},[]),ke=[],qe=function(dt){Array.isArray($[dt])?$[dt].forEach(function(Rt){return ke.push(l.paramEvaluatorService.paramValue(be.get(Rt),le).pipe((0,fe.T)(function(Lt){return[dt,Lt,!0]})))}):"string"==typeof $[dt]&&$[dt].indexOf(":")>-1?ke.push(l.paramEvaluatorService.paramValue(be.get($[dt]),le).pipe((0,fe.T)(function(Rt){return[dt,Rt,!1]}))):ke.push((0,Te.of)([dt,$[dt],Array.isArray($[dt])]))};for(var ct in $)qe(ct);return(0,An.p)([(0,An.p)(me).pipe((0,fe.T)(function(it){return it.filter(function(dt){return null!=dt&&""!==dt&&"undefined"!==dt}).map(function(dt,Rt){return 0===Rt&&0===dt.indexOf("http")?"".concat(dt,"/"):dt}).join("/")}),(0,qr.U)(I)),(0,An.p)(ke).pipe((0,q.M)(function(it){return console.log(it)}),(0,fe.T)(function(it){return it.reduce(function(dt,Rt){var Lt=(0,k.A)(Rt,3),ft=Lt[0],yt=Lt[1],Dt=Lt[2];if(null==yt||""===yt||"undefined"===yt){var Jt=(0,v.A)({},dt);return delete Jt[ft],Jt}return(0,v.A)((0,v.A)({},dt),{},(0,c.A)({},ft,Dt?[].concat((0,A.A)(void 0!==dt[ft]?dt[ft]:[]),[yt]):yt))},l.rebuildQueryString($))}),(0,q.M)(function(it){return console.log(it)}),(0,fe.T)(function(it){return Ya.stringify(it,{arrayFormat:"repeat",indices:!1})}),(0,qr.U)(B))]).pipe((0,fe.T)(function(it){return it.join("?")}))}))}},{key:"paramNames",value:function(t){var s=t?t.indexOf("?"):-1,u=(s>-1?t.substring(0,s):t||"").split("/").reduce(function(g,_,S){return 0===_.indexOf(":")?(0,v.A)((0,v.A)({},g),{},(0,c.A)({},_.substr(1),_)):g},{}),l=(0,v.A)((0,v.A)({},u),Ya.parse(t?t.substring(t.indexOf("?")+1):"")),d=[];for(var p in l)Array.isArray(l[p])?l[p].forEach(function(g){return d.push(g)}):0===l[p].indexOf(":")&&d.push(l[p]);return d}},{key:"rebuildQueryString",value:function(t){var s={};for(var u in t)Array.isArray(t[u])?s[u]=[]:null!=u[t]&&""!==u[t]&&"undefined"!==u[t]&&(s[u]=u[t]);return Ya.parse(s)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(cs),a.\u0275\u0275inject(po))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function R5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function M5(o,r){}function N5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function V5(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Binding"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",10),a.\u0275\u0275template(5,N5,2,2,"mat-option",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"button",6),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.removeBinding(u))}),a.\u0275\u0275text(7,"Remove"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",t.bindableOptions)}}var O5=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.fb=e,this.onChange=function(){},this.onTouched=function(){},this.formGroup=this.fb.group({query:[""],trackBy:[""],valueMapping:[""],labelMapping:[""],idMapping:[""],multiple:[""],limit:[""]}),this.formGroup.valueChanges.subscribe(function(s){t.onChange(s)})},[{key:"ngOnChanges",value:function(t){t.datasourceOptions&&t.datasourceOptions.currentValue&&this.formGroup.patchValue(this.datasourceOptions,{emitEvent:!1})}},{key:"writeValue",value:function(t){console.log("Datasource Options Write Value",t),t&&this.formGroup.patchValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-options"]],inputs:{datasourceOptions:"datasourceOptions"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["matInput","","formControlName","idMapping","placeholder","Id"],["matInput","","formControlName","valueMapping","placeholder","Value"],["matInput","","formControlName","labelMapping","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),a.\u0275\u0275element(2,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-form-field"),a.\u0275\u0275element(8,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-form-field"),a.\u0275\u0275element(10,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div")(12,"mat-checkbox",6),a.\u0275\u0275text(13,"Multiple"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(14,"mat-form-field"),a.\u0275\u0275element(15,"input",7),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Yc.MatCheckbox,jt.MatInput,jt.MatFormField],encapsulation:2}),r}(),rx=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiDatasourceRendererHost",""]],standalone:!1}),r}(),Ti=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"datasource"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Wv=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.fb=e,this.componentFactoryResolver=t,this.dpm=s,this.datasources$=this.dpm.getPlugins(),this.formGroup=this.fb.group({plugin:this.fb.control("",[f.Validators.required]),settings:this.fb.control(""),renderer:this.fb.group({type:this.fb.control("pane"),bindings:this.fb.array([])})}),this.bindableOptions=[],this.contexts=[],this.settings$=new R.t([]),this.componentRef$=new R.t(void 0),this.datasource$=new R.t(void 0),this.afterViewInit$=new T.B,this.contextForwardingSub=this.componentRef$.pipe((0,z.p)(function(l){return!!l})).subscribe(function(l){l.instance.contexts=u.contexts,l.instance.settings=u.settings$.value}),this.rendererSub=(0,zn.z)([this.formGroup.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,We.n)(function(l){var p=(0,k.A)(l,2)[0];return p&&""!==p?u.dpm.getPlugin(p):(0,Te.of)(void 0)})).subscribe(function(l){l&&u.renderPlugin(l)}),this.settingsSub=(0,zn.z)([this.componentRef$,this.settings$]).pipe((0,z.p)(function(l){return!!(0,k.A)(l,2)[0]})).subscribe(function(l){var d=(0,k.A)(l,2);d[0].instance.settings=d[1]}),this.datasourceSub=this.datasource$.pipe((0,q.M)(function(l){setTimeout(function(){return u.settings$.next(l?l.settings:[])})})).subscribe(function(l){u.formGroup.get("renderer").get("bindings").clear(),l?(u.formGroup.get("plugin").setValue(l.plugin),u.formGroup.get("renderer").get("type").setValue("pane"),l.renderer&&l.renderer.bindings&&l.renderer.bindings.forEach(function(d){u.addBinding(d)})):(u.formGroup.get("plugin").setValue(""),u.formGroup.get("renderer").get("type").setValue("pane"))}),this.onTouched=function(){}},[{key:"datasource",set:function(t){this.datasource$.next(t)}},{key:"bindings",get:function(){return this.formGroup.get("renderer").get("bindings")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"renderPlugin",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editor),u=this.datasourceHost.viewContainerRef;u.clear(),this.componentRef$.next(u.createComponent(s))}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"addBinding",value:function(t){this.bindings.push(this.fb.group({type:this.fb.control("pane",f.Validators.required),id:this.fb.control(t?t.id:"",f.Validators.required)}))}},{key:"removeBinding",value:function(t){this.bindings.removeAt(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(Ti))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(rx,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.datasourceHost=s.first)},inputs:{bindableOptions:"bindableOptions",contexts:"contexts",datasource:"datasource"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDatasourceRendererHost",""],["formGroupName","renderer"],["formArrayName","bindings"],["type","button",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],["required","","formControlName","id"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,R5,2,2,"mat-option",2),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275pipe(7,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,M5,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementStart(10,"div",4)(11,"div",5)(12,"button",6),a.\u0275\u0275listener("click",function(){return t.addBinding()}),a.\u0275\u0275text(13,"Add Binding"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div"),a.\u0275\u0275template(15,V5,8,2,"div",7),a.\u0275\u0275elementEnd()()()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,5,a.\u0275\u0275pipeBind1(6,3,t.datasources$))),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngForOf",t.bindings.controls))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Sr.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect,rx,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),B5=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){u&&u.data?s.formGroup.get("data").setValue(u.data):s.formGroup.get("data").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-data-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","data","cols","60","rows","20"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName],encapsulation:2}),r}(),L5=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-data-datasource"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-data-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,B5],encapsulation:2}),r}(),mo=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.editor=n.editor,e.fetch=n.fetch,e.getBindings=n.getBindings?n.getBindings:function(){return(0,Te.of)([])},e.editorOptions=n.editorOptions?n.editorOptions:function(){return(0,Te.of)(new xf)}),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),Lo=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.url=r.url,this.method=r.method?r.method:void 0,void 0!==r.renderer&&(this.renderer=new Qv(r.renderer)),void 0!==r.params&&(this.params=r.params.map(function(n){return new ma(n)})),r.body&&(this.body=new xu(r.body)))}),Qv=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.type=r.type,this.query=r.query,this.trackBy=r.trackBy,void 0!==r.data&&(this.data=new xu(r.data)),void 0!==r.bindings&&(this.bindings=r.bindings.map(function(n){return new Xt.ContentBinding(n)})))}),Un=(0,m.A)(function o(r){(0,h.A)(this,o),this.results=[],r&&(this.results=r.results)}),ax=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.query=r.query,this.trackBy=r.trackBy,this.idMapping=r.idMapping,this.labelMapping=r.labelMapping,this.valueMapping=r.valueMapping,this.multiple=r.multiple,this.limit=r.limit)}),Su=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],this.params=[],r&&(this.plugin=r.plugin,r.renderer&&(this.renderer=new Qv(r.renderer)),r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})),r.params&&(this.params=r.params.map(function(n){return new ma(n)})))}),xf=(0,m.A)(function o(r){(0,h.A)(this,o),this.fullscreen=!1,r&&(this.fullscreen=r.fullscreen)}),j5=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"Datasource"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),U5=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-source"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-datasource-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,j5],encapsulation:2}),r}(),G5=function(r){return new mo({id:"data",title:"Data",editor:L5,fetch:function(e){var t=e.settings;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return r.deserializeAsObject(t)}),(0,fe.T)(function(s){return new Un({results:JSON.parse(s.data)})}))}})},Eu=function(){var o,r=(0,m.A)(function n(e,t){(0,h.A)(this,n),[G5(t),new mo({id:"datasource_datasource",title:"Datasource",editor:U5,fetch:function(e){return(0,Te.of)(new Un)}})].forEach(function(s){return e.register(s)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,pa.MaterialModule,T5]}),r}(),ix=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.config=e,this.http=t,this.cache=new Map},[{key:"getData",value:function(t){var s=this;return this.cache.has(t)?(0,Te.of)(this.cache.get(t)).pipe((0,dr.c)(0)):this.http.get("".concat(t)).pipe((0,aa.W)(function(){return(0,Te.of)([])}),(0,fe.T)(function(u){return Array.isArray(u)?u:[u]}),(0,q.M)(function(u){return s.cache.set(t,u)}))}},{key:"postData",value:function(t){var u=t.body,l=void 0===u?"":u;return this.http.post("".concat(t.url),l).pipe((0,fe.T)(function(d){return Array.isArray(d)?d:[d]}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject($u),a.\u0275\u0275inject(E.HttpClient))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Xv=new ax({query:"",trackBy:"",idMapping:"",labelMapping:"",valueMapping:"",multiple:!1,limit:0}),ox=(new Lo({url:"",renderer:{type:"",data:{content:"",contentType:""},query:"",trackBy:"",bindings:[]},params:[]}),(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.label=r.label,this.dataItem=r.dataItem,void 0!==r.value&&(this.value=r.value))})),sx=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.value=r.value,this.label=r.label,this.id=r.id,this.multiple=r.multiple,this.limit=r.limit)}),ux=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.dpm=e,this.attributeSerializer=t},[{key:"evalDatasource",value:function(t){var s=this,l=t.metadata,d=t.datasources;return(0,Te.of)(t.datasource).pipe((0,We.n)(function(p){return s.dpm.getPlugin(p.plugin).pipe((0,fe.T)(function(g){return[p,g]}))}),(0,We.n)(function(p){var g=(0,k.A)(p,2),_=g[0];return g[1].fetch({settings:_.settings,metadata:l,datasource:_,datasources:d}).pipe((0,fe.T)(function(I){return[_,I]}))}),(0,We.n)(function(p){var g=(0,k.A)(p,2),S=g[1];return(0,An.p)(g[0].renderer.bindings.reduce(function(I,B){return[].concat((0,A.A)(I),(0,A.A)(d&&d.has(B.id)?[(0,Te.of)(d.get(B.id))]:[]))},[])).pipe((0,We.n)(function(I){return I.reduce(function(B,$){return B.pipe((0,We.n)(function(Y){return s.dpm.getPlugin($.plugin).pipe((0,fe.T)(function(le){return[le,Y,$]}))}),(0,We.n)(function(Y){var le=(0,k.A)(Y,3);return le[0].fetch({settings:$.settings,dataset:le[1],metadata:l,datasource:le[2],datasources:d})}))},(0,Te.of)(S))}),(0,fe.T)(function(I){return I}),(0,qr.U)(S))}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Du=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),td=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.build=n.build),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),jl=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"bridgebuilder"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),K5=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.bpm=e},[{key:"build",value:function(){try{console.log("build bridge..."),this.bpm.getPlugins().subscribe(function(t){Array.from(t).forEach(function(s){var u=(0,k.A)(s,2),l=u[0];u[1].build(),console.log("bridge build: "+l)})}),console.log("bridge built.")}catch{}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(jl))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),lx=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),console.log("bridge constructor"),e.register(new td({id:"test",title:"Test",build:function(){Du.prototype.sayHello2=function(){alert("say hello 2")}}}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(jl))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[(0,a.provideAppInitializer)(function(){var n=function(r){return function(){return new Promise(function(n){r.build(),n()})}}((0,a.inject)(K5));return n()})]}),r}(),Sf=b(56042);function q5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",3),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function W5(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.name),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function Q5(o,r){}var Yv=new a.InjectionToken("ContextPlugin"),jo=function(o){function r(n){var e;return(0,h.A)(this,r),(e=(0,F.A)(this,r,[n])).global=!1,n&&(e.name=e.id,e.baseObject=n.baseObject,e.resolver=n.resolver,e.global=void 0!==n.global&&n.global,e.internal=void 0!==n.internal&&n.internal,e.group=void 0!==n.group?n.group:void 0,n.editorComponent&&(e.editorComponent=n.editorComponent)),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),Ia=(0,m.A)(function o(r){(0,h.A)(this,o),this.name=r.name,this.adaptor=r.adaptor,r.plugin&&(this.plugin=r.plugin),"rest"===this.adaptor?this.rest=new Lo(r.rest):"snippet"===this.adaptor||"json"===this.adaptor?this.snippet=new xu(r.snippet):"data"===this.adaptor?this.data=r.data:"token"===this.adaptor?this.tokens=new Map((0,A.A)(r.tokens)):"datasource"===this.adaptor&&(this.datasource=new Su(r.datasource))}),Jv=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.name=r.name)}),X5=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new R.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[f.Validators.required])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new Jv(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?s.formGroup.get("name").setValue(u.name):s.formGroup.get("name").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["required","","formControlName","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Context"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,q5,2,2,"mat-option",2),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",t.contexts))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect],encapsulation:2}),r}(),Y5=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.contexts=[],this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-datasource"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"contexts","settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("contexts",t.contexts)("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,X5],encapsulation:2}),r}(),J5=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.fb=e,this.controlContainer=t,this.attributeSerializer=s},[{key:"ngOnInit",value:function(){var t=this;this.controlContainer.control.addControl("adaptor",this.fb.control("datasource",f.Validators.required)),this.controlContainer.control.addControl("datasource",this.fb.control("")),this.controlContainer.control.addControl("_proxy",this.fb.control("")),this.proxyControlSub=this.controlContainer.control.get("_proxy").valueChanges.pipe((0,fe.T)(function(s){return s?new Su((0,v.A)((0,v.A)({},s),{},{settings:t.attributeSerializer.serialize(s.settings,"settings").attributes})):new Su}),(0,q.M)(function(s){return t.controlContainer.control.get("datasource").setValue(s)})).subscribe()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-context-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Wv,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.datasourceFormComp=s.first)},standalone:!1,decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","_proxy"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("formGroup",t.controlContainer.control)},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Wv],encapsulation:2}),r}(),Z5=function(r){return new jo({id:"route",name:"route",title:"Route",global:!0,baseObject:{path:"",arg0:"",arg2:"",arg3:"",arg4:"",arg5:""},resolver:r})},Zv=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.routerStore=e},[{key:"resolve",value:function(t,s){var u=Zc();return this.routerStore.pipe(wr(u.selectCurrentRoute),(0,fe.T)(function(d){return{path:"/pages/panelpage/".concat(d.params.panelPageId)}}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),cx=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiContextEditorHost",""]],standalone:!1}),r}(),ps=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"context"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),dx=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.fb=e,this.componentFactoryResolver=t,this.cpm=s,this.contextForm=this.fb.group({name:this.fb.control("",f.Validators.required),plugin:this.fb.control("",f.Validators.required)}),this.context$=new R.t(void 0),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.contextPlugins=this.cpm.getPlugins().pipe((0,fe.T)(function(s){return new Map(Array.from(s).filter(function(u,l){return!(0,k.A)(u,2)[1].internal}).map(function(u,l){var g=(0,k.A)(u,2)[1];return[g.name,g]}))})),this.contextForm.get("plugin").valueChanges.pipe((0,We.n)(function(s){return t.cpm.getPlugin(s)})).subscribe(function(s){s.editorComponent?t.renderEditor(s):t.editorHost.viewContainerRef.clear()}),this.context$.pipe((0,z.p)(function(){return!!t.componentRef})).subscribe(function(s){t.componentRef.instance.context=s})}},{key:"writeValue",value:function(t){t&&this.contextForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.contextForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contextForm.disable():this.contextForm.enable()}},{key:"validate",value:function(t){return this.contextForm.valid?null:{invalidForm:{valid:!1,message:"context is invalid"}}}},{key:"renderEditor",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editorComponent),u=this.editorHost.viewContainerRef;u.clear(),this.componentRef=u.createComponent(s),this.componentRef.instance.context=this.context$.value}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(ps))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(cx,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.editorHost=s.first)},inputs:{context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:12,vars:6,consts:[["fxLayout","column",3,"formGroup"],["matInput","","formControlName","name","placeholder","Name","required",""],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiContextEditorHost",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),a.\u0275\u0275element(2,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field")(4,"mat-label"),a.\u0275\u0275text(5,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-select",2),a.\u0275\u0275template(7,W5,2,2,"mat-option",3),a.\u0275\u0275pipe(8,"async"),a.\u0275\u0275pipe(9,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(10),a.\u0275\u0275template(11,Q5,0,0,"ng-template",4),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.contextForm),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(9,4,a.\u0275\u0275pipeBind1(8,2,t.contextPlugins))))},dependencies:[y.NgForOf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,Re,cx,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),ey=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.dpm=e},[{key:"resolve",value:function(t,s,u){var l=this;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return new Su(s)}),(0,We.n)(function(d){return l.dpm.getPlugin(d.plugin).pipe((0,fe.T)(function(p){return{ds:d,p}}))}),(0,We.n)(function(d){return d.p.fetch({settings:d.ds.settings,metadata:u})}),(0,fe.T)(function(d){return d}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),aL=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),this.cpm=r,this.rcm=n},[{key:"resolveGlobals",value:function(){return arguments.length>0&&void 0!==arguments[0]||cr(),this.cpm.getPlugins().pipe((0,fe.T)(function(e){return Array.from(e.values()).filter(function(t){return!0===t.global})}),(0,We.n)(function(e){return G.h.apply(void 0,(0,A.A)(e.map(function(t){return t.resolver.resolve(t,{}).pipe((0,fe.T)(function(s){return[t.name,s,e.length]}))}))).pipe((0,kd.S)(function(t,s){var u=(0,k.A)(s,3),l=u[0],d=u[1],p=u[2];return new Map([].concat((0,A.A)(t),[["_".concat(l),d],["__len",p]]))},new Map([])),(0,z.p)(function(t){return t.size-1===+t.get("__len")}),(0,fe.T)(function(t){return Object.assign.apply(Object,[{}].concat((0,A.A)((0,A.A)(t.entries()).filter(function(s){return"__len"!==(0,k.A)(s,2)[0]}).map(function(s){var u=(0,k.A)(s,2);return(0,c.A)({},u[0],u[1])}))))}))}))}},{key:"resolveGlobalsSingle",value:function(){return arguments.length>0&&void 0!==arguments[0]||cr(),this.cpm.getPlugins().pipe((0,fe.T)(function(e){return Array.from(e.values()).filter(function(t){return!0===t.global})}),(0,We.n)(function(e){return G.h.apply(void 0,(0,A.A)(e.map(function(t){return t.resolver.resolve(t,{}).pipe((0,fe.T)(function(s){return[t.name,s]}))})))}))}},{key:"resolveAll",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr();return G.h.apply(void 0,(0,A.A)(n.map(function(s){return e.resolve(s,t).pipe((0,fe.T)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,kd.S)(function(s,u){var l=(0,k.A)(u,2),d=l[0],p=l[1];return new Map([].concat((0,A.A)(s),[[d,p]]))},new Map),(0,z.p)(function(s){return s.size===n.length}),(0,fe.T)(function(s){return Object.assign.apply(Object,[{}].concat((0,A.A)((0,A.A)(s.entries()).map(function(u){var l=(0,k.A)(u,2);return(0,c.A)({},l[0],l[1])}))))}))}},{key:"resolveAllSingle",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr();return G.h.apply(void 0,(0,A.A)(n.map(function(s){return e.resolve(s,t).pipe((0,fe.T)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,fe.T)(function(s){var u=(0,k.A)(s,2);return[u[0],u[1]]}))}},{key:"resolveMerged",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr();return this.rcm.getPlugins().pipe((0,We.n)(function(){return e.rcm.add$.pipe((0,qr.U)(void 0))}),(0,We.n)(function(){return e.rcm.getPlugins()}),(0,We.n)(function(s){return(0,zn.z)([].concat((0,A.A)(Array.from(s).map(function(u){return(0,k.A)(u,2)[1].resolve()})),[e.resolveGlobals(t),0===n.length?(0,Te.of)({}):e.resolveAll(n,t)])).pipe((0,Ln.B)(0),(0,fe.T)(function(u){return u.reduce(function(l,d){return(0,v.A)((0,v.A)({},l),d)},{})}))}))}},{key:"resolveMergedSingle",value:function(n){var e=this;return arguments.length>1&&void 0!==arguments[1]||cr(),0!==n.length?this.rcm.getPlugins().pipe((0,We.n)(function(s){return G.h.apply(void 0,(0,A.A)(Array.from(s).map(function(u){return(0,k.A)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle(),e.resolveAllSingle(n)]))})):this.rcm.getPlugins().pipe((0,We.n)(function(s){return G.h.apply(void 0,(0,A.A)(Array.from(s).map(function(u){return(0,k.A)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle()]))}))}},{key:"resolve",value:function(n){var e=this;return arguments.length>1&&void 0!==arguments[1]||cr(),n.plugin?this.cpm.getPlugin(n.plugin).pipe((0,We.n)(function(s){return s.resolver.resolve(s,e.getDataObject(n),new Map([["name",n.name]]))})):(0,Te.of)(this.getDataObject(n))}},{key:"getDataObject",value:function(n){switch(n.adaptor){case"rest":return n.rest;case"snippet":return n.snippet;case"json":return JSON.parse(n.snippet.content);case"data":return n.data;case"token":return n.tokens;case"datasource":return n.datasource;default:return}}}])}(),px=function(){var o,r=function(n){function e(t,s){var u;return(0,h.A)(this,e),(u=(0,F.A)(this,e,[t,s])).add$=new Sf.m(1),u}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"resolved_context"}))}},{key:"register",value:function(s){var u=this.pluginInstances.has(s.id);(0,Ne.A)(e,"register",this,3)([s]),u||this.add$.next(void 0)}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Ul=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e)}(aL);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ps),a.\u0275\u0275inject(px))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Gl=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,g,_){(0,h.A)(this,n),e.forEach(function(S){return u.register(S)}),l.register(function(r,n){return new td({id:"context",title:"Context",build:function(){Du.prototype.resolveContext=function(t,s){return new Promise(function(u){r.getPlugin(t).pipe((0,We.n)(function(l){return l.resolver.resolve(l,s).pipe((0,pn.s)(1))})).subscribe(function(l){u(l)})})},Du.prototype.resolveMergedContext=function(t){return new Promise(function(s){n.resolveMerged(t).pipe((0,q.M)(function(u){return s(u)}),(0,pn.s)(1)).subscribe()})}}})}(u,t)),p.register(function(r,n){return new Oo({id:"context",title:"Context",evalParam:function(t){var s=t.param,l=s.mapping.context&&""!==s.mapping.context?new Ia(t.metadata.get("contexts").find(function(d){return d.name===s.mapping.context})):void 0;return l?r.resolve(l).pipe((0,pn.s)(1),(0,We.n)(function(d){return tr(function(){return s.mapping.value&&""!==s.mapping.value},(0,Te.of)(d).pipe((0,fe.T)(function(p){return n.generateGenericTokens(Array.isArray(p)?p[0]:p)}),(0,fe.T)(function(p){return n.replaceTokens("[".concat(s.mapping.value,"]"),p)}),(0,pn.s)(1)),(0,Te.of)(Array.isArray(d)?d[0]:d)).pipe((0,pn.s)(1))})):(0,Te.of)()},usedContexts:function(t){return(0,Te.of)([t.param.mapping.context])}})}(t,s)),d.register(function(r,n){return new mo({id:"context",title:"Context",editor:Y5,fetch:function(t){var s=t.settings,u=t.metadata;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return new Jv(n.deserializeAsObject(s))}),(0,fe.T)(function(l){return u.get("contexts").find(function(d){return d.name===l.name})}),(0,We.n)(function(l){return r.resolve(l).pipe((0,fe.T)(function(d){return d instanceof Un?d:new Un({results:Array.isArray(d)?d:[d]})}),(0,pn.s)(1))}))},getBindings:function(t){var s=t.settings;return(0,Te.of)([]).pipe((0,fe.T)(function(){return new Jv(n.deserializeAsObject(s))}),(0,fe.T)(function(l){return[new Xt.ContentBinding({id:l.name,type:"context"})]}))}})}(t,g)),u.register(function(r){var n={dataset:new Un};return new jo({id:"datasource",name:"datasource",title:"Datasource",baseObject:n,resolver:r,editorComponent:J5})}(_))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Yv),a.\u0275\u0275inject(Ul),a.\u0275\u0275inject(Qn),a.\u0275\u0275inject(ps),a.\u0275\u0275inject(jl),a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(cs),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ey))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:Zv,useClass:Zv},{provide:ey,useClass:ey},{provide:Yv,useFactory:Z5,multi:!0,deps:[Zv]}],imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,pa.MaterialModule,dc,Gc,Uv,Eu]}),r}(),iL=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.contextPlugins=e},[{key:"getAll",value:function(t){return typeof t>"u"?this.contextPlugins:this.contextPlugins.filter(t?function(s){return s.global}:function(s){return!s.global})}},{key:"getAllObjects",value:function(){return this.contextPlugins.map(function(t){return t.baseObject})}},{key:"lookupContext",value:function(t){return this.contextPlugins.find(function(s){return s.name===t})}},{key:"register",value:function(t){this.contextPlugins.push(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Yv))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),oL=function(o){function r(n){var e;return(0,h.A)(this,r),(e=(0,F.A)(this,r,[n])).resolve=n.resolve,e.resolveSingle=n.resolveSingle,e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),ty=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.ppm=e},[{key:"extractContexts",value:function(t){var s=this;return(0,An.p)(t.map(function(u){return s.ppm.getPlugin(u.mapping.type).pipe((0,We.n)(function(l){return tr(function(){return!!l&&!!l.usedContexts},l&&l.usedContexts?l.usedContexts({param:u,metadata:new Map([])}):(0,Te.of)([]),(0,Te.of)([]))}))})).pipe((0,fe.T)(function(u){return u.reduce(function(l,d){return[].concat((0,A.A)(l),(0,A.A)(d.filter(function(p){return!l.includes(p)})))},[])}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(cs))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),sL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.routerStore=e,this.router=t},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(Yn.Router),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-alias-catch-all-router"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"Page Not Found"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),uL=[],lL=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[sn.UtilsModule,Yn.RouterModule.forChild(uL)]}),r}(),cL=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.loadingStrategy=n.loadingStrategy,e.matchingStrategy=n.matchingStrategy,e.redirectHandler=n.redirectHandler),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),fx=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"alias"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),mx=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.siteName=e,this.router=t,this.apm=s,this.routesLoaded=!1},[{key:"canActivate",value:function(t,s){var u=this;return console.log("catch all alias hit"),new Promise(function(l){u.apm.getPlugins().pipe((0,We.n)(function(d){return(0,An.p)(u.routesLoaded?[]:Array.from(d).map(function(p){return(0,k.A)(p,2)[1].loadingStrategy.load()})).pipe((0,qr.U)(void 0))}),(0,q.M)(function(){return u.routesLoaded=!0}),(0,We.n)(function(){return u.apm.getPlugins()}),(0,We.n)(function(d){return(0,An.p)(Array.from(d).map(function(p){var S=(0,k.A)(p,2)[1];return S.matchingStrategy.match(s).pipe((0,fe.T)(function(I){return[S,I]}))}))})).subscribe(function(d){if(console.log("routes loaded: ".concat(u.routesLoaded?"y":"n")),void 0!==d.map(function(_,S){var I=(0,k.A)(_,2);return I[1]?I[0]:void 0}).find(function(_){return void 0!==_})){console.log("alias gaurd state: ".concat(s.url));var g=u.router.parseUrl(s.url);l(g)}else l(!0)})})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.SITE_NAME),a.\u0275\u0275inject(Yn.Router),a.\u0275\u0275inject(fx),a.\u0275\u0275inject(yr))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),gx=b(27092);function dL(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function pL(o,r){}var hx=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.editor=n.editor,e.send=n.send),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),fL=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],r&&(this.data=r.data,r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})))}),ny=(0,m.A)(function o(r){(0,h.A)(this,o)}),zl=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.dataduct=new mL(r.dataduct))}),mL=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],r&&(this.plugin=r.plugin,r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})))}),vx=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiDataductRendererHost",""]],standalone:!1}),r}(),Ef=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"dataduct"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),gL=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.dpm=e,this.fb=t,this.contexts=[],this.ductForm=this.fb.group({plugin:this.fb.control("",[f.Validators.required]),settings:this.fb.control("")}),this.ducts$=this.dpm.getPlugins(),this.componentRef$=new R.t(void 0),this.persistence$=new R.t(void 0),this.afterViewInit$=new T.B,this.contextForwardingSub=this.componentRef$.pipe((0,z.p)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.persistence$.value&&s.persistence$.value.dataduct?s.persistence$.value.dataduct.settings:[]}),this.persistenceSub=(0,zn.z)([this.persistence$,this.afterViewInit$]).pipe((0,fe.T)(function(u){return(0,k.A)(u,1)[0]}),(0,q.M)(function(u){s.ductForm.get("plugin").setValue(u&&u.dataduct?u.dataduct.plugin:"")}),(0,dr.c)(1),(0,q.M)(function(u){s.componentRef$.value&&s.componentRef$.value.instance&&u&&(s.componentRef$.value.instance.settings=u.dataduct?u.dataduct.settings:[])})).subscribe(),this.rendererSub=(0,zn.z)([this.ductForm.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,We.n)(function(u){var d=(0,k.A)(u,2)[0];return d&&""!==d?s.dpm.getPlugin(d):(0,Te.of)(void 0)})).subscribe(function(u){u&&s.renderPlugin(u)}),this.onTouched=function(){}},[{key:"persistence",set:function(t){this.persistence$.next(t)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.ductForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.ductForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.ductForm.disable():this.ductForm.enable()}},{key:"validate",value:function(t){return this.ductForm.valid?null:this.ductForm.errors}},{key:"renderPlugin",value:function(t){var s=this.datasourceHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(t.editor))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Ef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-persistence-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(vx,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.datasourceHost=s.first)},inputs:{contexts:"contexts",persistence:"persistence"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:6,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDataductRendererHost",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Plugin"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,dL,2,2,"mat-option",2),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275pipe(7,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,pL,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.ductForm),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,4,a.\u0275\u0275pipeBind1(6,2,t.ducts$))))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatFormField,jt.MatLabel,fa.MatSelect,vx,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),hL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.persistenceForm=this.fb.group({dataduct:this.fb.control("")}),this.contexts=[],this.persistence=new zl,this.contexts=e.contexts,this.persistence=e.persistence},[{key:"submit",value:function(){var t=this.persistenceForm.value;console.log("persistence form",t);var s=this.attributeSerializer.serialize(t.dataduct.settings,"settings");console.log("persistence settings",s),this.dialogRef.close(new zl((0,v.A)((0,v.A)({},this.persistenceForm.value),{},{dataduct:(0,v.A)((0,v.A)({},t.dataduct),{},{settings:s.attributes})})))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-persistence-dialog"]],standalone:!1,decls:8,vars:4,consts:[[1,"persistence-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["formControlName","dataduct",3,"contexts","persistence"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),a.\u0275\u0275element(4,"classifieds-ui-persistence-form",3),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.persistenceForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",t.contexts)("persistence",t.persistence),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.persistenceForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,gL],encapsulation:2}),r}(),vL=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule]}),r}(),yL=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.dpm=e},[{key:"persist",value:function(t){var s=t.data,u=t.persistence;return this.dpm.getPlugin(u.dataduct.plugin).pipe((0,We.n)(function(l){return l.send(new fL({data:s,settings:u.dataduct.settings}))}),(0,fe.T)(function(){}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ef))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function _L(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"druid-detour-interaction-listener",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.deleteListener$.next(u))}),a.\u0275\u0275text(3,"Delete"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("formControlName",e)("listener",t.interactions$.value.interactions.listeners[e])}}var wu=(0,m.A)(function o(r){(0,h.A)(this,o),this.interactions=r&&r.interactions?new yx(r.interactions):new yx}),yx=(0,m.A)(function o(r){(0,h.A)(this,o),this.listeners=[],r&&r.listeners&&Array.isArray(r.listeners)&&(this.listeners=r.listeners.map(function(n){return new _x(n)}))}),_x=(0,m.A)(function o(r){(0,h.A)(this,o),this.handler=r&&r.handler?new Bo(r.handler):new Bo,this.event=r&&r.event?new Bo(r.event):new Bo}),bx=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"interaction_event"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Ax=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"interaction_handler"}))}},{key:"discovery",value:function(){(0,Ne.A)(e,"discovery",this,3)([])}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),bL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.fb=e,this.iepm=t,this.ihpm=s,this.eventPlugins$=this.iepm.getPlugins(),this.handlerPlugins$=this.ihpm.getPlugins(),this.listenerForm=this.fb.group({event:this.fb.control(""),handler:this.fb.control("")}),this.contexts=[],this.listener$=new R.t(new _x),this.event$=new R.t(new Bo),this.handler$=new R.t(new Bo),this.listenerSub=this.listener$.pipe((0,q.M)(function(l){u.event$.next(l&&l.event?l.event:new Bo),u.handler$.next(l&&l.handler?l.handler:new Bo)})).subscribe(),this.onTouched=function(){}},[{key:"listener",set:function(t){this.listener$.next(t)}},{key:"writeValue",value:function(t){t&&this.listenerForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.listenerForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.listenerForm.disable():this.listenerForm.enable()}},{key:"validate",value:function(t){return this.listenerForm.valid?null:this.listenerForm.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(bx),a.\u0275\u0275directiveInject(Ax))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interaction-listener"]],inputs:{contexts:"contexts",listener:"listener"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:9,consts:[[3,"formGroup"],["formControlName","event","title","Event",3,"plugins","instance"],["formControlName","handler","title","Handler",3,"plugins","instance"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"druid-params-plugin-instance",1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275element(3,"druid-params-plugin-instance",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.listenerForm),a.\u0275\u0275advance(),a.\u0275\u0275property("plugins",a.\u0275\u0275pipeBind1(2,5,t.eventPlugins$))("instance",t.event$.value),a.\u0275\u0275advance(2),a.\u0275\u0275property("plugins",a.\u0275\u0275pipeBind1(4,7,t.handlerPlugins$))("instance",t.handler$.value))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,b5,y.AsyncPipe],encapsulation:2}),r}(),AL=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.fb=e,this.interactions$=new R.t(new wu({interactions:{listeners:[]}})),this.contexts$=new R.t([]),this.afterViewInit$=new T.B,this.interactionsForm=this.fb.group({listeners:this.fb.array([])}),this.addListener$=new T.B,this.deleteListener$=new T.B,this.addListenerSub=this.addListener$.pipe((0,q.M)(function(){return t.listeners.push(t.fb.control(""))})).subscribe(),this.deleteListenerSub=this.deleteListener$.pipe((0,q.M)(function(s){t.interactions$.value.interactions.listeners.splice(s,1),t.listeners.removeAt(s)})).subscribe(),this.interactionsSub=(0,zn.z)([this.interactions$,this.afterViewInit$]).pipe((0,fe.T)(function(s){return(0,k.A)(s,1)[0]}),(0,z.p)(function(s){return 0!==s.interactions.listeners.length}),(0,q.M)(function(s){t.listeners.clear(),s.interactions.listeners.forEach(function(u,l){t.listeners.push(t.fb.control(""))})})).subscribe(),this.onTouched=function(){}},[{key:"interactions",set:function(t){this.interactions$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"listeners",get:function(){return this.interactionsForm.get("listeners")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.interactionsForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.interactionsForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.interactionsForm.disable():this.interactionsForm.enable()}},{key:"validate",value:function(t){return this.interactionsForm.valid?null:this.interactionsForm.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interactions-form"]],inputs:{interactions:"interactions",contexts:"contexts"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","listeners"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","listener"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1),a.\u0275\u0275template(2,_L,4,2,"div",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.addListener$.next(void 0)}),a.\u0275\u0275text(4,"Add Listener"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.interactionsForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.listeners.controls))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,bL],encapsulation:2}),r}(),CL=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.interactionsForm=this.fb.group({interactions:this.fb.control("")}),this.contexts=[],this.interactions=new wu,this.contexts=e.contexts,this.interactions=e.interactions},[{key:"submit",value:function(){var t=new wu(this.interactionsForm.value);console.log("interactions payload",t),this.dialogRef.close(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interactions-dialog"]],standalone:!1,decls:8,vars:4,consts:[[1,"interactions-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["formControlName","interactions",3,"contexts","interactions"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),a.\u0275\u0275element(4,"druid-detour-interactions-form",3),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.interactionsForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",t.contexts)("interactions",t.interactions),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.interactionsForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,AL],encapsulation:2}),r}(),xL=function(o){function r(n){return(0,h.A)(this,r),(0,F.A)(this,r,[n])}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),EL=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),e.register(new xL({title:"DOM",id:"dom"}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(bx))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,ds]}),r}(),Cx=function(o){function r(n){return(0,h.A)(this,r),(0,F.A)(this,r,[n])}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),Fu=b(47273),Df=b(45935),fs=b(81289),go=b(26077),$l=b(7479),ry=b(50270),Hl=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.create=n.create,e.read=n.read,e.update=n.update,e.delete=n.delete,n.query&&(e.query=n.query)),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),xx=(0,m.A)(function o(r){(0,h.A)(this,o),this.options=[],this.params=[],r&&(this.adaptorName=r.adaptorName,this.optionsString=r.optionsString?r.optionsString:void 0,this.paramsString=r.paramsString?r.paramsString:void 0,r.options&&Array.isArray(r.options)&&(this.options=r.options.map(function(n){return new ma(n)})),r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),DL=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new R.t(void 0),this.datasource$=new R.t(void 0),this.optionValues$=new R.t([]),this.paramValues$=new R.t([]),this.formGroup=this.fb.group({adaptorName:this.fb.control(""),optionsString:this.fb.control(""),paramsString:this.fb.control(""),options:this.fb.control([]),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new xx(s.attributeSerializer.deserializeAsObject(u)):void 0}),(0,q.M)(function(u){return setTimeout(function(){return s.datasource$.next(u)})})).subscribe(function(u){u?(s.formGroup.get("adaptorName").setValue(u.adaptorName),s.formGroup.get("optionsString").setValue(u.optionsString?u.optionsString:""),s.formGroup.get("paramsString").setValue(u.paramsString?u.paramsString:"")):(s.formGroup.get("adaptorName").setValue(""),s.formGroup.get("optionsString").setValue(""),s.formGroup.get("paramsString").setValue(""),setTimeout(function(){return s.optionValues$.next([])},2),setTimeout(function(){return s.optionValues$.next([])},2))}),this.datasourceOptionsSub=(0,zn.z)([this.datasource$,this.formGroup.get("optionsString").valueChanges]).pipe((0,z.p)(function(u){return void 0!==(0,k.A)(u,1)[0]}),(0,dr.c)(1),(0,q.M)(function(u){var l=(0,k.A)(u,1);return s.optionValues$.next(l[0].options)})).subscribe(),this.datasourceParamsSub=(0,zn.z)([this.datasource$,this.formGroup.get("paramsString").valueChanges]).pipe((0,z.p)(function(u){return void 0!==(0,k.A)(u,1)[0]}),(0,dr.c)(1),(0,q.M)(function(u){var l=(0,k.A)(u,1);return s.paramValues$.next(l[0].params)})).subscribe(),this.optionsStringChangeSub=this.formGroup.get("optionsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(u){var l=Ya.parse("?"+u);s.optionsParsed=l}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(u){var l=Ya.parse("?"+u);s.paramsParsed=l}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-crud-adaptor-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:14,vars:7,consts:[[3,"formGroup"],["matInput","","placeholder","Adaptor","formControlName","adaptorName","required",""],[1,"options-container"],["matInput","","placeholder","Options","formControlName","optionsString"],["formControlName","options",3,"params","paramValues","contexts"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"div",2)(5,"div")(6,"mat-form-field"),a.\u0275\u0275element(7,"input",3),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(8,"classifieds-ui-params-form",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",5)(10,"div")(11,"mat-form-field"),a.\u0275\u0275element(12,"input",6),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(13,"classifieds-ui-params-form",7),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(8),a.\u0275\u0275property("params",t.optionsParsed)("paramValues",t.optionValues$.value)("contexts",t.contexts),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),Sx=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-crud-adaptor-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-crud-adaptor-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,DL],encapsulation:2}),r}(),ms=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"crud_adaptor"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),nd=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.crud=e,this.cachedCollectionQueries=[],this.cachedCollectionIgnore={p:{create:void 0,update:void 0,delete:void 0,query:void 0,read:void 0},input:{identity:void 0}}},[{key:"evaluatePlugins",value:function(t){var s=this,u=t.object,l=t.plugins,d=t.op,p=t.parentObject,_=Object.keys(l).filter(function(S){return!l[S].ops||l[S].ops.includes(d)}).map(function(S){return s.crud.getPlugin(l[S].plugin?l[S].plugin:S).pipe((0,fe.T)(function(I){return{p:I,params:l[S].params?Object.keys(l[S].params).reduce(function(B,$){return(0,v.A)((0,v.A)({},B),{},(0,c.A)({},$,l[S].params[$]instanceof ma?l[S].params[$]:new ma({flags:[],mapping:{type:"static",value:l[S].params[$],context:void 0,testValue:l[S].params[$]}})))},{}):{}}}),(0,We.n)(function(I){return I.p[d]({rule:void 0,object:u,parentObject:p,params:I.params,identity:function(le){var ge=le.object,be=le.parentObject;return(0,Te.of)({identity:ge.id?ge.id:be?be.id:void 0})}})}),(0,We.n)(function(I){return tr(function(){return l[S].plugins&&0!==Object.keys(l[S].plugins).length},l[S].plugins&&0!==Object.keys(l[S].plugins).length?s.evaluatePlugins({plugins:l[S].plugins,object:I.entity?I.entity:u,parentObject:I.originalEntity?I.originalEntity:u,op:d}):(0,Te.of)(I),(0,Te.of)(I))}))});return(0,An.p)(_).pipe((0,fe.T)(function(){return u}))}},{key:"evaluateCollectionPlugins",value:function(t){var s=this,u=t.query,l=t.objects,d=t.plugins,p=t.op,g=t.parentObjects;console.log("evaluate collection plugins");var _=Object.keys(d),S=_.filter(function(B){return!d[B].ops||d[B].ops.includes(p)}).map(function(B){return s.crud.getPlugin(d[B].plugin?d[B].plugin:B).pipe((0,fe.T)(function($){return{p:$,params:d[B].params?Object.keys(d[B].params).reduce(function(Y,le){return(0,v.A)((0,v.A)({},Y),{},(0,c.A)({},le,d[B].params[le]instanceof ma?d[B].params[le]:new ma({flags:[],mapping:{type:"static",value:d[B].params[le],context:void 0,testValue:d[B].params[le]}})))},{}):{}}}),(0,We.n)(function($){var Y=$.p,le=$.params;return s.buildQueryRule({params:u,config:d[B]}).pipe((0,fe.T)(function(ge){return{p:Y,params:le,rule:ge.rule}}))}),(0,We.n)(function($){return s.flightAndCacheAwareCollectionQuery({p:$.p,input:{rule:$.rule,objects:l,parentObjects:g,params:$.params,identity:function(me){var ke=me.object,qe=me.parentObject;return(0,Te.of)({identity:ke.id?ke.id:qe?qe.id:void 0})}}}).pipe((0,q.M)(function(){return console.log("end of crud query call")}))}),(0,We.n)(function($){return tr(function(){return d[B].plugins&&0!==Object.keys(d[B].plugins).length},s.evaluateCollectionPlugins({query:u,plugins:d[B].plugins&&0!==Object.keys(d[B].plugins).length?d[B].plugins:{},objects:$.entities?$.entities:l,parentObjects:$.originalEntities?$.originalEntities:l,op:p}),(0,Te.of)($))}),(0,q.M)(function($){return console.log("end of op",$)}))});return _.filter(function(B){return!d[B].ops||d[B].ops.includes(p)}).find(function(B){return d[B].fallback})&&S.length>1?S.reduce(function(B,$){return B.pipe((0,We.n)(function(Y){return Y&&Array.isArray(Y)&&Y.length>0?(0,Te.of)(Y):$.pipe((0,fe.T)(function(le){return le&&le.entities&&Array.isArray(le.entities)?le.entities:[]}))}),(0,We.n)(function(Y){return(0,Te.of)(Y.length>0?Y:[])}))},(0,Te.of)([])):1===S.length?S[0].pipe((0,fe.T)(function(B){return(0,A.A)(B.entities)})):(0,An.p)(S).pipe((0,fe.T)(function(B){return B.reduce(function($,Y){return[].concat((0,A.A)($),(0,A.A)(Y.entities))},[])}),(0,qr.U)([]))}},{key:"buildQueryRule",value:function(t){var s=t.params,u=t.config;return new L.c(function(l){var d=[];"string"==typeof s&&s.split("&").map(function(_){return _.split("=",2)}).reduce(function(_,S){var I=(0,k.A)(S,2),B=I[0],$=I[1];return new Map([].concat((0,A.A)(Array.from(_).filter(function(Y){return(0,k.A)(Y,2)[0]!==B})),[[B,[].concat((0,A.A)(_.has(B)?_.get(B):[]),[$])]]))},new Map).forEach(function(_,S){return d.push({any:_.map(function(I){return(0,v.A)({fact:"identity"===S?"identity":"entity",operator:u.queryMappings&&u.queryMappings.has(S)&&u.queryMappings.get(S).defaultOperator?u.queryMappings.get(S).defaultOperator:"equal",value:I},"identity"===S?{}:{path:"$.".concat(S)})})})});var g=d.length>0?new $l.Rule({conditions:{all:d},event:{type:"visible"}}):void 0;l.next({rule:g}),l.complete()})}},{key:"flightAndCacheAwareCollectionQuery",value:function(t){var s=this,u=this.cachedCollectionQueries.findIndex(function(l){var d=l.p,p=l.input,g=(0,ry.getDiff)((0,v.A)((0,v.A)({},t.p),s.cachedCollectionIgnore.p),(0,v.A)((0,v.A)({},d),s.cachedCollectionIgnore.p)),_=(0,ry.getDiff)((0,v.A)((0,v.A)({},t.input),s.cachedCollectionIgnore.input),(0,v.A)((0,v.A)({},p),s.cachedCollectionIgnore.input));return 0===g.length&&0===_.length});return-1===u&&(this.cachedCollectionQueries.push({p:t.p,input:t.input,query$:new Sf.m}),u=this.cachedCollectionQueries.length-1,t.p.query(t.input).pipe((0,q.M)(function(l){return s.cachedCollectionQueries[u].query$.next(l)}),(0,pn.s)(1)).subscribe()),this.cachedCollectionQueries[u].query$.pipe((0,pn.s)(1))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ms))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),rd=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,g){(0,h.A)(this,n),e.register(function(r,n,e,t,s,u){return new mo({id:"crud_adaptor",title:"Crud Adaptor",editor:Sx,fetch:function(d){var p=d.settings,g=d.metadata;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return n.deserializeAsObject(p)}),(0,fe.T)(function(_){return new xx(_)}),(0,We.n)(function(_){return e.getPlugin(_.adaptorName).pipe((0,fe.T)(function(S){return{plugin:S,ds:_}}))}),(0,fe.T)(function(_){var I=_.ds;return{plugin:_.plugin,ds:I,optionNames:I.optionsString?I.optionsString.split("&").filter(function(B){return-1!==B.indexOf("=:")}).map(function(B){return B.split("=",2)[1].substr(1)}):[]}}),(0,We.n)(function(_){var S=_.plugin,I=_.ds,B=_.optionNames;return(0,An.p)([t.paramValues(I.options.reduce(function($,Y,le){return new Map([].concat((0,A.A)($),[[B[le],Y]]))},new Map)).pipe((0,fe.T)(function($){return Array.from($).reduce(function(Y,le){var ge=(0,k.A)(le,2),be=ge[0],me=ge[1];return(0,v.A)((0,v.A)({},Y),{},(0,c.A)({},be,me))},{})})),I.paramsString&&""!==I.paramsString?u.getUrl("?"+I.paramsString,I.params,g).pipe((0,pn.s)(1)):(0,Te.of)(void 0)]).pipe((0,fe.T)(function($){var Y=(0,k.A)($,2);return{plugin:S,options:Y[0],query:Y[1]}}))}),(0,We.n)(function(_){var B=_.query;return s.evaluateCollectionPlugins({plugins:(0,c.A)({},_.plugin.id,{params:_.options}),op:"query",query:B&&B.substr(1)})}),(0,fe.T)(function(_){return new Un({results:_})}))},editorOptions:function(){return(0,Te.of)(new xf({fullscreen:!0}))},getBindings:function(d){return(0,Te.of)([])}})}(0,l,t,d,p,g)),s.register(function(r){var n=r.crudDataHelper,e=r.attributeSerializer;return new hx({id:"crud",title:"Crud",editor:Sx,send:function(s){return(0,Te.of)(new ny({})).pipe((0,fe.T)(function(){return{settings:e.deserializeAsObject(s.settings)}}),(0,q.M)(function(u){return console.log("crud data duct",u.settings)}),(0,fe.T)(function(u){var l=u.settings;return{plugins:(0,c.A)({},"".concat(l.adaptorName),{plugin:"".concat(l.adaptorName),ops:["create"],params:"".concat(l.optionsString).split("&").reduce(function(d,p,g){return(0,v.A)((0,v.A)({},d),{},(0,c.A)({},p.split("=",1)[0],new ma(l.options[g])))},{})})}}),(0,We.n)(function(u){return n.evaluatePlugins({object:s.data,plugins:u.plugins,op:"create",parentObject:{id:cr()}})}),(0,fe.T)(function(){return new ny({})}))}})}({crudDataHelper:p,attributeSerializer:l}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(ms),a.\u0275\u0275inject(Ef),a.\u0275\u0275inject(ty),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(po),a.\u0275\u0275inject(nd),a.\u0275\u0275inject(ed))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,pa.MaterialModule,Gl,ds]}),r}(),ay=function(){return(0,m.A)(function o(r,n,e,t){(0,h.A)(this,o),this.crud=n,this.entityDefinitionService=e,this.crudDataHelperService=t,this._name="".concat(r," CrudDataService"),this.entityName=r},[{key:"name",get:function(){return this._name}},{key:"add",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"create"})}},{key:"update",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n.changes,plugins:e.crud,op:"update"})}},{key:"upsert",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"update"})}},{key:"delete",value:function(n){var e=this,t=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.getById(n).pipe((0,We.n)(function(s){return e.crudDataHelperService.evaluatePlugins({object:s,plugins:t.crud,op:"delete"})}),(0,fe.T)(function(){return n}))}},{key:"getAll",value:function(){var n=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({plugins:n.crud,op:"query"})}},{key:"getById",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(n),plugins:e.crud,op:"query"}).pipe((0,fe.T)(function(t){return t&&0!==t.length?t[0]:void 0}))}},{key:"getWithQuery",value:function(n){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:n,plugins:e.crud,op:"query"})}}])}(),Ex=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n),this.operatorsMap=new Map([["=","equal"],["!=","notEqual"]])},[{key:"buildFields",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=new Map;return this.genericFields(t,u,s,0),u}},{key:"attributeFields",value:function(t,s,u,l){var d=this;t.forEach(function(p,g){if("widget"!==p.name)for(var _ in p)p.type===_t.AttributeTypes.Complex||"attributes"===_&&p.attributes&&p.attributes.length>0?d.attributeFields(p.attributes,s,p.type===_t.AttributeTypes.Complex?"".concat(u):"".concat(u,".").concat(p.name),l+1):"attributes"!==_&&(_===p.name?s.set("".concat(u,".").concat(_),{name:"".concat(u,".").concat(_),type:d.resolveAttributeType(p.type),defaultValue:p[_]}):s.set("".concat(u,".").concat(p.name,".").concat(_),{name:"".concat(u,".").concat(p.name,".").concat(_),type:d.resolveAttributeType(p.type),defaultValue:p[_]}))})}},{key:"genericFields",value:function(t,s,u,l){for(var d in t){var p=typeof t[d];if("object"!==p)s.set("".concat(u,".").concat(d),{name:"".concat(u,".").concat(d),type:this.resolveNativeType(p),defaultValue:t[d]});else if(Array.isArray(t[d])&&"attributes"===d)this.attributeFields(t[d],s,"".concat(u,".").concat(d),l+1);else if(Array.isArray(t[d]))for(var g=t[d].length,_=0;_<g;_++)this.genericFields(t[d][_],s,"".concat(u,".").concat(d,".").concat(_),l+1);else this.genericFields(t[d],s,"".concat(u,".").concat(d),l+1)}}},{key:"toEngineRule",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=[];if(void 0!==t.rules&&Array.isArray(t.rules)){for(var g=t.rules.length,_=0;_<g;_++)if(!("field"in t.rules[_])||null!=t.condition&&""!==t.condition){var $=this.toEngineRule(t.rules[_],s+1);u.push($.conditions)}else{var S=t.rules[_].field.indexOf("."),I=t.rules[_].field.substr(0,S),B=t.rules[_].field.substr(S+1);u.push({fact:I,path:"$.".concat(B),operator:this.operatorsMap.get(t.rules[_].operator),value:t.rules[_].value})}return new $l.Rule("and"===t.condition?{conditions:{all:u},event:0===s?{type:"visible"}:void 0}:{conditions:{any:u},event:0===s?{type:"visible"}:void 0})}var l=t.field.indexOf("."),d=t.field.substr(0,l),p=t.field.substr(l+1);return u.push({fact:d,path:"$.".concat(p),operator:this.operatorsMap.get(t.operator),value:t.value}),new $l.Rule({conditions:{all:u},event:0===s?{type:"visible"}:void 0})}},{key:"extractConditions",value:function(t){var u=this.toEngineRule(t);return[].concat((0,A.A)(void 0!==u.conditions.any?u.conditions.any:[]),(0,A.A)(void 0!==u.conditions.all?u.conditions.all:[]))}},{key:"resolveNativeType",value:function(t){switch(t){case"number":return"number";case"boolean":return"boolean";default:return"string"}}},{key:"resolveAttributeType",value:function(t){switch(t){case _t.AttributeTypes.Float:case _t.AttributeTypes.Number:return"number";case _t.AttributeTypes.Bool:return"boolean";default:return"string"}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),iy=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.rulesParser=e,this.inlineContextResolver=t},[{key:"evaluate",value:function(t){var s=this;return this.inlineContextResolver.resolveMerged(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],"rules:".concat(cr())).pipe((0,pn.s)(1),(0,fe.T)(function(l){return[(0,v.A)({},l),new $l.Engine]}),(0,q.M)(function(l){var g=(0,k.A)(l,2)[1],_=s.rulesParser.toEngineRule(t);g.addRule(_)}),(0,We.n)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return new L.c(function(_){g.run(p).then(function(S){_.next(S.events.findIndex(function(I){return"visible"===I.type})>-1),_.complete()})})}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ex),a.\u0275\u0275inject(Ul))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function fi(o){if(null==o)throw new TypeError("Cannot destructure "+o)}b(17351);for(var oy=b(89835),Dx=(b(62933),{}),sy={},ad=0;ad<256;ad++){var id=ad.toString(16).toLowerCase();1===id.length&&(id="0".concat(id)),Dx[ad]=id,sy[id]=ad}function Ri(o){for(var r="",n=0;n<o.byteLength;n++)r+=Dx[o[n]];return r}var uy=function(){function o(r){if((0,h.A)(this,o),this.bytes=r,8!==r.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,m.A)(o,[{key:"valueOf",value:function(){var n=this.bytes.slice(0),e=128&n[0];return e&&wx(n),parseInt(Ri(n),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error("".concat(n," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),t=7,s=Math.abs(Math.round(n));t>-1&&s>0;t--,s/=256)e[t]=s;return n<0&&wx(e),new o(e)}}])}();function wx(o){for(var r=0;r<8;r++)o[r]^=255;for(var n=7;n>-1&&(o[n]++,0===o[n]);n--);}var PL=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),this.toUtf8=r,this.fromUtf8=n},[{key:"format",value:function(n){for(var e=[],t=0,s=Object.keys(n);t<s.length;t++){var u=s[t],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[u]))}for(var d=new Uint8Array(e.reduce(function(I,B){return I+B.byteLength},0)),p=0,g=0,_=e;g<_.length;g++){var S=_[g];d.set(S,p),p+=S.byteLength}return d}},{key:"formatHeaderValue",value:function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+n.value.byteLength));u.setUint8(0,6),u.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(n.value,3),l;case"string":var d=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+d.byteLength));p.setUint8(0,7),p.setUint16(1,d.byteLength,!1);var g=new Uint8Array(p.buffer);return g.set(d,3),g;case"timestamp":var _=new Uint8Array(9);return _[0]=8,_.set(uy.fromNumber(n.value.valueOf()).bytes,1),_;case"uuid":if(!jL.test(n.value))throw new Error("Invalid UUID received: ".concat(n.value));var S=new Uint8Array(17);return S[0]=9,S.set(function kL(o){if(o.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var r=new Uint8Array(o.length/2),n=0;n<o.length;n+=2){var e=o.slice(n,n+2).toLowerCase();if(!(e in sy))throw new Error("Cannot decode unrecognized sequence ".concat(e," as hexadecimal"));r[n/2]=sy[e]}return r}(n.value.replace(/\-/g,"")),1),S}}},{key:"parse",value:function(n){for(var e={},t=0;t<n.byteLength;){var s=n.getUint8(t++),u=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,s));switch(t+=s,n.getUint8(t++)){case 0:e[u]={type:Fx,value:!0};break;case 1:e[u]={type:Fx,value:!1};break;case 2:e[u]={type:TL,value:n.getInt8(t++)};break;case 3:e[u]={type:RL,value:n.getInt16(t,!1)},t+=2;break;case 4:e[u]={type:ML,value:n.getInt32(t,!1)},t+=4;break;case 5:e[u]={type:NL,value:new uy(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var l=n.getUint16(t,!1);t+=2,e[u]={type:VL,value:new Uint8Array(n.buffer,n.byteOffset+t,l)},t+=l;break;case 7:var d=n.getUint16(t,!1);t+=2,e[u]={type:OL,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,d))},t+=d;break;case 8:e[u]={type:BL,value:new Date(new uy(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,e[u]={type:LL,value:"".concat(Ri(p.subarray(0,4)),"-").concat(Ri(p.subarray(4,6)),"-").concat(Ri(p.subarray(6,8)),"-").concat(Ri(p.subarray(8,10)),"-").concat(Ri(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}])}(),Fx="boolean",TL="byte",RL="short",ML="integer",NL="long",VL="binary",OL="string",BL="timestamp",LL="uuid",jL=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Px=function(r){if("function"==typeof r)return r;var n=Promise.resolve(r);return function(){return n}},GL=function(r){return new TextDecoder("utf-8").decode(r)},Ix=function(r){return(new TextEncoder).encode(r)},od=function(r){return"string"==typeof r?Ix(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)},Tx="X-Amz-Date",Rx="X-Amz-Signature",Mx="X-Amz-Security-Token",Nx="authorization",Vx=Tx.toLowerCase(),WL=[Nx,Vx,"date"],QL=Rx.toLowerCase(),ly="x-amz-content-sha256",XL=Mx.toLowerCase(),YL={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},JL=/^proxy-/,ZL=/^sec-/,cy="AWS4-HMAC-SHA256",ej="AWS4-HMAC-SHA256-PAYLOAD",Ox="aws4_request",Kl={},wf=[],dy=function(r,n,e){return"".concat(r,"/").concat(n,"/").concat(e,"/").concat(Ox)},aj=function(){var o=(0,Mt.A)((0,Ke.A)().m(function r(n,e,t,s,u){var l,d,p,g,_,S;return(0,Ke.A)().w(function(I){for(;;)switch(I.n){case 0:return I.n=1,Bx(n,e.secretAccessKey,e.accessKeyId);case 1:if(l=I.v,!((d="".concat(t,":").concat(s,":").concat(u,":").concat(Ri(l),":").concat(e.sessionToken))in Kl)){I.n=2;break}return I.a(2,Kl[d]);case 2:for(wf.push(d);wf.length>50;)delete Kl[wf.shift()];p="AWS4".concat(e.secretAccessKey),g=0,_=[t,s,u,Ox];case 3:if(!(g<_.length)){I.n=6;break}return S=_[g],I.n=4,Bx(n,p,S);case 4:p=I.v;case 5:g++,I.n=3;break;case 6:return I.a(2,Kl[d]=p)}},r)}));return function(n,e,t,s,u){return o.apply(this,arguments)}}(),Bx=function(r,n,e){var t=new r(n);return t.update(od(e)),t.digest()},Lx=function(r,n,e){var l,t=r.headers,s={},u=(0,N.A)(Object.keys(t).sort());try{for(u.s();!(l=u.n()).done;){var d=l.value;if(null!=t[d]){var p=d.toLowerCase();(p in YL||null!=n&&n.has(p)||JL.test(p)||ZL.test(p))&&(!e||e&&!e.has(p))||(s[p]=t[d].trim().replace(/\s+/g," "))}}}catch(g){u.e(g)}finally{u.f()}return s},Ff=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,ij)},ij=function(r){return"%".concat(r.charCodeAt(0).toString(16).toUpperCase())},sj=function(r){return"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(r)},py=function(){var o=(0,Mt.A)(function(r,n){var e=r.headers,t=r.body;return(0,Ke.A)().m(function s(){var u,l,d,p,g;return(0,Ke.A)().w(function(_){for(;;)switch(_.n){case 0:u=0,l=Object.keys(e);case 1:if(!(u<l.length)){_.n=3;break}if((d=l[u]).toLowerCase()!==ly){_.n=2;break}return _.a(2,e[d]);case 2:u++,_.n=1;break;case 3:if(null!=t){_.n=4;break}return _.a(2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 4:if("string"!=typeof t&&!ArrayBuffer.isView(t)&&!sj(t)){_.n=6;break}return(p=new n).update(od(t)),g=Ri,_.n=5,p.digest();case 5:return _.a(2,g(_.v));case 6:return _.a(2,"UNSIGNED-PAYLOAD")}},s)})()});return function(n,e){return o.apply(this,arguments)}}(),uj=function(r,n){r=r.toLowerCase();for(var e=0,t=Object.keys(n);e<t.length;e++)if(r===t[e].toLowerCase())return!0;return!1},lj=["headers","query"],jx=function(r){var n=r.headers,e=r.query,t=(0,gA.A)(r,lj);return(0,v.A)((0,v.A)({},t),{},{headers:(0,v.A)({},n),query:e?cj(e):void 0})},cj=function(r){return Object.keys(r).reduce(function(n,e){var t=r[e];return(0,v.A)((0,v.A)({},n),{},(0,c.A)({},e,Array.isArray(t)?(0,A.A)(t):t))},{})},dj=function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="function"==typeof r.clone?r.clone():jx(r),t=e.headers,s=e.query,u=void 0===s?{}:s,l=0,d=Object.keys(t);l<d.length;l++){var p,g=d[l],_=g.toLowerCase();"x-amz-"===_.slice(0,6)&&(null===(p=n.unhoistableHeaders)||void 0===p||!p.has(_))&&(u[g]=t[g],delete t[g])}return(0,v.A)((0,v.A)({},r),{},{headers:t,query:u})},Ux=function(r){r="function"==typeof r.clone?r.clone():jx(r);for(var n=0,e=Object.keys(r.headers);n<e.length;n++){var t=e[n];WL.indexOf(t.toLowerCase())>-1&&delete r.headers[t]}return r},Gx=function(){return(0,m.A)(function o(r){var n=r.applyChecksum,e=r.credentials,t=r.region,s=r.service,u=r.sha256,l=r.uriEscapePath,d=void 0===l||l;(0,h.A)(this,o),this.headerMarshaller=new PL(GL,Ix),this.service=s,this.sha256=u,this.uriEscapePath=d,this.applyChecksum="boolean"!=typeof n||n,this.regionProvider=Px(t),this.credentialProvider=Px(e)},[{key:"presign",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ke.A)().m(function u(){var l,d,p,g,_,S,I,B,$,Y,le,ge,be,me,ke,qe,ct,it,dt,Rt,Lt,ft,yt,Dt,Jt;return(0,Ke.A)().w(function(en){for(;;)switch(en.n){case 0:return d=void 0===(l=s.signingDate)?new Date:l,g=void 0===(p=s.expiresIn)?3600:p,_=s.unsignableHeaders,S=s.unhoistableHeaders,I=s.signableHeaders,B=s.signingRegion,$=s.signingService,en.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(Y=en.v),null==B){en.n=2;break}it=B,en.n=4;break;case 2:return en.n=3,t.regionProvider();case 3:it=en.v;case 4:if(le=it,ge=kf(d),be=ge.longDate,me=ge.shortDate,!(g>604800)){en.n=5;break}return en.a(2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 5:return ke=dy(me,le,$??t.service),qe=dj(Ux(e),{unhoistableHeaders:S}),Y.sessionToken&&(qe.query[Mx]=Y.sessionToken),qe.query["X-Amz-Algorithm"]=cy,qe.query["X-Amz-Credential"]="".concat(Y.accessKeyId,"/").concat(ke),qe.query[Tx]=be,qe.query["X-Amz-Expires"]=g.toString(10),ct=Lx(qe,_,I),qe.query["X-Amz-SignedHeaders"]=zx(ct),dt=t,Rt=be,Lt=ke,ft=t.getSigningKey(Y,le,me,$),yt=t,Dt=qe,Jt=ct,en.n=6,py(e,t.sha256);case 6:return en.n=7,dt.getSignature.call(dt,Rt,Lt,ft,yt.createCanonicalRequest.call(yt,Dt,Jt,en.v));case 7:return qe.query[Rx]=en.v,en.a(2,qe)}},u)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"sign",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(t,s){return(0,Ke.A)().w(function(u){for(;;)switch(u.n){case 0:if("string"!=typeof t){u.n=1;break}return u.a(2,this.signString(t,s));case 1:if(!t.headers||!t.payload){u.n=2;break}return u.a(2,this.signEvent(t,s));case 2:if(!t.message){u.n=3;break}return u.a(2,this.signMessage(t,s));case 3:return u.a(2,this.signRequest(t,s));case 4:return u.a(2)}},e,this)}));return function n(e,t){return r.apply(this,arguments)}}()},{key:"signEvent",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=e.headers,l=e.payload,d=t.signingDate,p=void 0===d?new Date:d,g=t.priorSignature,_=t.signingRegion,S=t.signingService;return(0,Ke.A)().m(function I(){var B,$,le,ge,be,me,ke,qe,ct,it;return(0,Ke.A)().w(function(dt){for(;;)switch(dt.n){case 0:if(null==_){dt.n=1;break}ct=_,dt.n=3;break;case 1:return dt.n=2,s.regionProvider();case 2:ct=dt.v;case 3:return B=ct,$=kf(p),le=$.longDate,ge=dy($.shortDate,B,S??s.service),dt.n=4,py({headers:{},body:l},s.sha256);case 4:return be=dt.v,(me=new s.sha256).update(u),it=Ri,dt.n=5,me.digest();case 5:return ke=it(dt.v),qe=[ej,le,ge,g,ke,be].join("\n"),dt.a(2,s.signString(qe,{signingDate:p,signingRegion:B,signingService:S}))}},I)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"signMessage",value:function(){var r=(0,Mt.A)(function(e,t){var s=this,u=t.signingDate,l=void 0===u?new Date:u,d=t.signingRegion,p=t.signingService;return(0,Ke.A)().m(function g(){var _;return(0,Ke.A)().w(function(S){for(;;)if(0===S.n)return _=s.signEvent({headers:s.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:l,signingRegion:d,signingService:p,priorSignature:e.priorSignature}),S.a(2,_.then(function(I){return{message:e.message,signature:I}}))},g)})()});return function n(e,t){return r.apply(this,arguments)}}()},{key:"signString",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,d=s.signingRegion,p=s.signingService;return(0,Ke.A)().m(function g(){var _,S,I,B,$,Y,le,be;return(0,Ke.A)().w(function(me){for(;;)switch(me.n){case 0:return me.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(_=me.v),null==d){me.n=2;break}Y=d,me.n=4;break;case 2:return me.n=3,t.regionProvider();case 3:Y=me.v;case 4:return S=Y,I=kf(l),B=I.shortDate,le=t.sha256,me.n=5,t.getSigningKey(_,S,B,p);case 5:return($=new le(me.v)).update(od(e)),be=Ri,me.n=6,$.digest();case 6:return me.a(2,be(me.v))}},g)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"signRequest",value:function(){var r=(0,Mt.A)(function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,d=s.signableHeaders,p=s.unsignableHeaders,g=s.signingRegion,_=s.signingService;return(0,Ke.A)().m(function S(){var I,B,$,Y,le,ge,be,me,ke,qe,ct;return(0,Ke.A)().w(function(it){for(;;)switch(it.n){case 0:return it.n=1,t.credentialProvider();case 1:if(t.validateResolvedCredentials(I=it.v),null==g){it.n=2;break}ct=g,it.n=4;break;case 2:return it.n=3,t.regionProvider();case 3:ct=it.v;case 4:return B=ct,$=Ux(e),Y=kf(l),le=Y.longDate,be=dy(ge=Y.shortDate,B,_??t.service),$.headers[Vx]=le,I.sessionToken&&($.headers[XL]=I.sessionToken),it.n=5,py($,t.sha256);case 5:return me=it.v,!uj(ly,$.headers)&&t.applyChecksum&&($.headers[ly]=me),ke=Lx($,p,d),it.n=6,t.getSignature(le,be,t.getSigningKey(I,B,ge,_),t.createCanonicalRequest($,ke,me));case 6:return qe=it.v,$.headers[Nx]="".concat(cy," ")+"Credential=".concat(I.accessKeyId,"/").concat(be,", ")+"SignedHeaders=".concat(zx(ke),", ")+"Signature=".concat(qe),it.a(2,$)}},S)})()});return function n(e){return r.apply(this,arguments)}}()},{key:"createCanonicalRequest",value:function(n,e,t){var s=Object.keys(e).sort();return"".concat(n.method,"\n").concat(this.getCanonicalPath(n),"\n").concat(function(r){var l,n=r.query,e=void 0===n?{}:n,t=[],s={},u=(0,N.A)(Object.keys(e).sort());try{var d=function(){var g=l.value;if(g.toLowerCase()===QL)return 1;t.push(g);var _=e[g];"string"==typeof _?s[g]="".concat(Ff(g),"=").concat(Ff(_)):Array.isArray(_)&&(s[g]=_.slice(0).sort().reduce(function(S,I){return S.concat(["".concat(Ff(g),"=").concat(Ff(I))])},[]).join("&"))};for(u.s();!(l=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}return t.map(function(p){return s[p]}).filter(function(p){return p}).join("&")}(n),"\n").concat(s.map(function(u){return"".concat(u,":").concat(e[u])}).join("\n"),"\n\n").concat(s.join(";"),"\n").concat(t)}},{key:"createStringToSign",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(t,s,u){var l,d;return(0,Ke.A)().w(function(p){for(;;)switch(p.n){case 0:return(l=new this.sha256).update(od(u)),p.n=1,l.digest();case 1:return d=p.v,p.a(2,"".concat(cy,"\n").concat(t,"\n").concat(s,"\n").concat(Ri(d)))}},e,this)}));return function n(e,t,s){return r.apply(this,arguments)}}()},{key:"getCanonicalPath",value:function(n){var e=n.path;if(this.uriEscapePath){var u,t=[],s=(0,N.A)(e.split("/"));try{for(s.s();!(u=s.n()).done;){var l=u.value;0!==l?.length&&"."!==l&&(".."===l?t.pop():t.push(l))}}catch(g){s.e(g)}finally{s.f()}var d="".concat(null!=e&&e.startsWith("/")?"/":"").concat(t.join("/")).concat(t.length>0&&null!=e&&e.endsWith("/")?"/":"");return encodeURIComponent(d).replace(/%2F/g,"/")}return e}},{key:"getSignature",value:function(){var r=(0,Mt.A)((0,Ke.A)().m(function e(t,s,u,l){var d,p,g,S;return(0,Ke.A)().w(function(I){for(;;)switch(I.n){case 0:return I.n=1,this.createStringToSign(t,s,l);case 1:return d=I.v,g=this.sha256,I.n=2,u;case 2:return(p=new g(I.v)).update(od(d)),S=Ri,I.n=3,p.digest();case 3:return I.a(2,S(I.v))}},e,this)}));return function n(e,t,s,u){return r.apply(this,arguments)}}()},{key:"getSigningKey",value:function(n,e,t,s){return aj(this.sha256,n,t,e,s||this.service)}},{key:"validateResolvedCredentials",value:function(n){if("object"!=typeof n||"string"!=typeof n.accessKeyId||"string"!=typeof n.secretAccessKey)throw new Error("Resolved credential object is not valid")}}])}(),kf=function(r){var n=function(r){return function(r){return"number"==typeof r?new Date(1e3*r):"string"==typeof r?Number(r)?new Date(1e3*Number(r)):new Date(r):r}(r).toISOString().replace(/\.\d{3}Z$/,"Z")}(r).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},zx=function(r){return Object.keys(r).sort().join(";")},$x=function(){function o(r){(0,h.A)(this,o),this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?":"!==r.protocol.slice(-1)?"".concat(r.protocol,":"):r.protocol:"https:",this.path=r.path?"/"!==r.path.charAt(0)?"/".concat(r.path):r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}return(0,m.A)(o,[{key:"clone",value:function(){var n=new o((0,v.A)((0,v.A)({},this),{},{headers:(0,v.A)({},this.headers)}));return n.query&&(n.query=function gj(o){return Object.keys(o).reduce(function(r,n){var e=o[n];return(0,v.A)((0,v.A)({},r),{},(0,c.A)({},n,Array.isArray(e)?(0,A.A)(e):e))},{})}(n.query)),n}}],[{key:"isInstance",value:function(n){return!!n&&("method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&"object"==typeof n.query&&"object"==typeof n.headers)}}])}(),Hx=b(93967),fy=function(r){var s=r.method,l=r.path,p=r.port,_=r.protocol,B=r.service,$=r.cognitoSettings,Y=r.authFacade;return(0,Te.of)(new $x({body:r.body,headers:r.headers,hostname:r.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===_?"https:":_,query:r.query})).pipe((0,q.M)(function(){return console.log(".marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })")}),(0,We.n)(function(le){return(0,oy.H)(new Gx({credentials:zh({client:new $h.D({region:$.region}),identityPoolId:$.identityPoolId,logins:(0,c.A)({},"cognito-idp.".concat($.region,".amazonaws.com/").concat($.userPoolId),function(){return Ym(Y.getUser$.pipe((0,fe.T)(function(be){return be?be.id_token:void 0})))})}),region:$.region,service:B,sha256:Hx.Sha256}).sign(le).then(function(ge){return console.log(".marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })"),ge})).pipe((0,q.M)(function(){return console.log(".marker({ /s3/sign/after/sig })")}),(0,pn.s)(1))}),(0,fe.T)(function(le){return le}),(0,q.M)(function(){return console.log(".marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })")}))},vj=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p){(0,h.A)(this,n),s.register(function(r,n,e,t,s){return new Hl({id:"aws_s3_entity",title:"AWS S3 Entity",create:function(d){var p=d.object,g=d.identity,_=d.params,S=d.parentObject;return(0,Te.of)({success:!1}).pipe(t.resolveParams({params:_}),(0,We.n)(function(I){var B=I.options;return g({object:p,parentObject:S}).pipe((0,fe.T)(function($){return{identity:$.identity,options:B}}))}),(0,We.n)(function(I){var B=I.options,$=I.identity;return fy({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(B.bucket,".s3.amazonaws.com")},hostname:"".concat(B.bucket,".s3.amazonaws.com"),path:"".concat(B.prefix).concat($,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,fe.T)(function(Y){return{signedHttpRequest:Y,options:B}}))}),(0,q.M)(function(I){return delete I.signedHttpRequest.headers.host}),(0,fe.T)(function(I){var B=I.signedHttpRequest,$=I.options;return{signedHttpRequest:B,options:$,url:"https://".concat($.bucket,".s3.amazonaws.com").concat(B.path)}}),(0,We.n)(function(I){var B=I.signedHttpRequest;return s.put(I.url,JSON.stringify(p),{headers:B.headers,withCredentials:!1})}),(0,fe.T)(function(){return{success:!0}}))},read:function(d){return fi(d),(0,Te.of)({success:!1})},update:function(d){var p=d.object,g=d.identity,_=d.params;return(0,Te.of)({success:!1}).pipe(t.resolveParams({params:_}),(0,We.n)(function(S){var I=S.options;return g({object:p}).pipe((0,fe.T)(function(B){return{identity:B.identity,options:I}}))}),(0,We.n)(function(S){var I=S.options,B=S.identity;return fy({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(I.bucket,".s3.amazonaws.com")},hostname:"".concat(I.bucket,".s3.amazonaws.com"),path:"".concat(I.prefix).concat(B,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,fe.T)(function($){return{signedHttpRequest:$,options:I}}))}),(0,q.M)(function(S){return delete S.signedHttpRequest.headers.host}),(0,fe.T)(function(S){var I=S.signedHttpRequest,B=S.options;return{signedHttpRequest:I,options:B,url:"https://".concat(B.bucket,".s3.amazonaws.com").concat(I.path)}}),(0,We.n)(function(S){var I=S.signedHttpRequest;return s.put(S.url,JSON.stringify(p),{headers:I.headers,withCredentials:!1})}),(0,fe.T)(function(){return{success:!0}}))},delete:function(d){return fi(d),(0,Te.of)({success:!1})},query:function(d){var p=d.rule,g=d.params;return(0,Te.of)({entities:[],success:!1}).pipe(t.resolveParams({params:g}),(0,fe.T)(function(_){return{options:_.options,identityCondition:p.conditions.all.map(function(I){return I.any.find(function(B){return"identity"===B.fact})}).find(function(I){return!!I})}}),(0,We.n)(function(_){var S=_.identityCondition,I=_.options;return tr(function(){return void 0!==S&&S&&"identity"===S.fact&&I&&I.bucket},fy({method:"GET",body:void 0,headers:{"Content-Type":"application/json",host:"".concat(I?I.bucket:"",".s3.amazonaws.com")},hostname:"".concat(I?I.bucket:"",".s3.amazonaws.com"),path:"".concat(I&&I.prefix?I.prefix:"").concat(S?S.value:"",".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,q.M)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })")}),(0,q.M)(function(B){return delete B.headers.host}),(0,fe.T)(function(B){return{signedHttpRequest:B,options:I,url:"https://".concat(I.bucket,".s3.amazonaws.com").concat(B.path)}}),(0,q.M)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,We.n)(function(B){return s.get(B.url,{headers:B.signedHttpRequest.headers,withCredentials:!1})}),(0,q.M)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })")}),(0,fe.T)(function(B){return{entities:B?[B]:[],success:!!B}})),(0,Te.of)({entities:[],success:!1}))}))}})}(0,u,e,l,d))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wd),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(ms),a.\u0275\u0275inject(_i),a.\u0275\u0275inject(po),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(sn.AsyncApiCallHelperService))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[sn.UtilsModule,Sc,rd]}),r}(),Pf=function(r){var s=r.method,l=r.path,p=r.port,_=r.protocol,B=r.service,$=r.cognitoSettings,Y=r.authFacade;return(0,Te.of)(new $x({body:r.body,headers:r.headers,hostname:r.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===_?"https:":_,query:r.query})).pipe((0,q.M)(function(){return console.log(".marker({ event: BEGIN , context: os, entity: sig , op: signv4 , meta: {  } })")}),(0,We.n)(function(le){return(0,oy.H)(new Gx({credentials:zh({client:new $h.D({region:$.region}),identityPoolId:$.identityPoolId,logins:(0,c.A)({},"cognito-idp.".concat($.region,".amazonaws.com/").concat($.userPoolId),function(){return Ym(Y.getUser$.pipe((0,fe.T)(function(be){return be?be.id_token:void 0})))})}),region:$.region,service:B,sha256:Hx.Sha256,applyChecksum:!1}).sign(le).then(function(ge){return console.log(".marker({ event: RESOLVED, entity: os , op: signv4 , meta: {  } })"),ge})).pipe((0,q.M)(function(){return console.log(".marker({ /os/sign/after/sig })")}),(0,pn.s)(1))}),(0,fe.T)(function(le){return le}),(0,q.M)(function(){return console.log(".marker({ event: END , context: os, entity: sig , op: signv4 , meta: {  } })")}))},bj=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),s.register(function(r,n,e,t,s){return new Hl({id:"aws_opensearch_template",title:"AWS Opensearch Template",create:function(l){return(0,Te.of)({success:!1})},read:function(l){return fi(l),(0,Te.of)({success:!1})},update:function(l){return(0,Te.of)({success:!1})},delete:function(l){return fi(l),(0,Te.of)({success:!1})},query:function(l){var d=l.rule,p=l.params;return(0,Te.of)({entities:[],success:!1}).pipe((0,We.n)(function(){return p&&0!==Object.keys(p).length?(0,An.p)(Object.keys(p).map(function(g){return t.paramValue(p[g],new Map).pipe((0,fe.T)(function(_){return(0,c.A)({},g,_)}))})).pipe((0,fe.T)(function(g){return g.reduce(function(_,S){return(0,v.A)((0,v.A)({},_),S)},{})}),(0,fe.T)(function(g){return{options:g}})):(0,Te.of)({options:{}})}),(0,fe.T)(function(g){var _=g.options;return{options:_,body:JSON.stringify({id:_.id,params:d?d.conditions.all.reduce(function(S,I){return(0,v.A)((0,v.A)({},S),I.any.reduce(function(B,$){return(0,v.A)((0,v.A)({},B),{},(0,c.A)({},$.path.substr(2),[].concat((0,A.A)(B[$.path.substr(2)]?B[$.path.substr(2)]:[]),[JSON.parse(decodeURIComponent($.value))])))},{}))},{}):{}})}}),(0,q.M)(function(g){return console.log("open search template query body",g.body)}),(0,We.n)(function(g){var _=g.options;return Pf({method:"POST",body:g.body,headers:{"Content-Type":"application/json",host:"".concat(_.domain,".").concat(_.region,".es.amazonaws.com")},hostname:"".concat(_.domain,".").concat(_.region,".es.amazonaws.com"),path:"/".concat(_.index,"/_search/template"),protocol:"https:",service:"es",cognitoSettings:e,authFacade:n}).pipe((0,fe.T)(function(I){return{signedHttpRequest:I,options:_}}))}),(0,We.n)(function(g){var _=g.signedHttpRequest,S=g.options;delete _.headers.host;var I="https://".concat(S.domain,".").concat(S.region,".es.amazonaws.com/").concat(S.index,"/_search/template");return s.post(I,_.body,{headers:_.headers,withCredentials:!1}).pipe((0,fe.T)(function(B){return{res:B,options:S}}))}),(0,fe.T)(function(g){var _=g.res,S=g.options;return{entities:S.hits&&_&&_.hits&&_.hits.hits?_.hits.hits.map(function(I){return S.source?I._source:I}):[_],success:!0}}))}})}(0,u,e,l,d)),s.register(function(r,n,e,t){return new Hl({id:"aws_opensearch_entity",title:"AWS Opensearch Entity",create:function(u){var l=u.object,d=u.identity,p=u.params,g=u.parentObject;return(0,Te.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,We.n)(function(_){var S=_.options;return d({object:l,parentObject:g}).pipe((0,fe.T)(function(I){return{identity:I.identity,options:S}}))}),(0,We.n)(function(_){var S=_.options,I=_.identity;return Pf((0,v.A)((0,v.A)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com")},hostname:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com"),path:"/".concat(S.index,"/_doc/").concat(I),protocol:"https:",service:"es"},(0,v.A)({},S.pipeline?{query:{pipeline:S.pipeline}}:{})),{},{cognitoSettings:n,authFacade:r})).pipe((0,fe.T)(function(B){return{signedHttpRequest:B,options:S,identity:I}}))}),(0,We.n)(function(_){var S=_.signedHttpRequest,I=_.options,B=_.identity;delete S.headers.host;var $="https://".concat(I.domain,".").concat(I.region,".es.amazonaws.com/").concat(I.index,"/_doc/").concat(B);return t.put($,JSON.stringify(l),{headers:S.headers,withCredentials:!1,params:(0,v.A)({},I.pipeline?{pipeline:I.pipeline}:{})}).pipe((0,fe.T)(function(Y){return{res:Y,options:I}}))}),(0,fe.T)(function(){return{success:!0}}))},read:function(u){return fi(u),(0,Te.of)({success:!1})},update:function(u){var l=u.object,d=u.identity,p=u.params,g=u.parentObject;return(0,Te.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,We.n)(function(_){var S=_.options;return d({object:l,parentObject:g}).pipe((0,fe.T)(function(I){return{identity:I.identity,options:S}}))}),(0,We.n)(function(_){var S=_.options,I=_.identity;return Pf((0,v.A)((0,v.A)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com")},hostname:"".concat(S.domain,".").concat(S.region,".es.amazonaws.com"),path:"/".concat(S.index,"/_doc/").concat(I),protocol:"https:",service:"es"},(0,v.A)({},S.pipeline?{query:{pipeline:S.pipeline}}:{})),{},{cognitoSettings:n,authFacade:r})).pipe((0,fe.T)(function(B){return{signedHttpRequest:B,options:S,identity:I}}))}),(0,We.n)(function(_){var S=_.signedHttpRequest,I=_.options,B=_.identity;delete S.headers.host;var $="https://".concat(I.domain,".").concat(I.region,".es.amazonaws.com/").concat(I.index,"/_doc/").concat(B);return t.put($,JSON.stringify(l),{headers:S.headers,withCredentials:!1,params:(0,v.A)({},I.pipeline?{pipeline:I.pipeline}:{})}).pipe((0,fe.T)(function(Y){return{res:Y,options:I}}))}),(0,fe.T)(function(){return{success:!0}}))},delete:function(u){return fi(u),(0,Te.of)({success:!1})},query:function(u){var l=u.rule,d=u.params;return(0,Te.of)({entities:[],success:!1}).pipe((0,q.M)(function(){console.log("crud open search query",l,d)}),e.resolveParams({params:d}),(0,fe.T)(function(p){return{options:p.options,identityCondition:l.conditions.all.map(function(_){return _.any.find(function(S){return"identity"===S.fact})}).find(function(_){return!!_})}}),(0,We.n)(function(p){var g=p.options,_=p.identityCondition;return Pf({method:"GET",headers:{"Content-Type":"application/json",host:"".concat(g.domain,".").concat(g.region,".es.amazonaws.com")},hostname:"".concat(g.domain,".").concat(g.region,".es.amazonaws.com"),path:"/".concat(g.index,"/_doc/").concat(_?_.value:""),protocol:"https:",service:"es",cognitoSettings:n,authFacade:r}).pipe((0,q.M)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { action: createSignedRequest } })")}),(0,q.M)(function(S){return delete S.headers.host}),(0,fe.T)(function(S){return{signedHttpRequest:S,options:g,url:"https://".concat(g.domain,".").concat(g.region,".es.amazonaws.com").concat(S.path)}}),(0,q.M)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,We.n)(function(S){return t.get(S.url,{headers:S.signedHttpRequest.headers,withCredentials:!1}).pipe((0,aa.W)(function(){return(0,Te.of)(void 0)}))}),(0,q.M)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { http: get } })")}),(0,fe.T)(function(S){return{entities:S?[S._source]:[],success:!!S}}))}))}})}(u,e,l,d))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wd),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(ms),a.\u0275\u0275inject(_i),a.\u0275\u0275inject(po),a.\u0275\u0275inject(E.HttpClient))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[Sc,rd]}),r}(),Uo=b(8345),Aj=b(97055),sd=b(74832),Cj=Object.prototype.toString;var qx=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},If=function(){function o(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,n,e){return n&&o(r.prototype,n),e&&o(r,e),r}}();function Wx(o){return o.split("").map(function(r){return"(?:"+r.toUpperCase()+"|"+r.toLowerCase()+")"}).join("")}function ql(o,r){for(var n=o.length-1;n>=0;n--)o[n]===r&&Array.prototype.splice.call(o,n,1)}function xj(o,r){return Object.prototype.hasOwnProperty.call(o,r)}var my={},Qx=function(){function o(){qx(this,o),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return If(o,null,[{key:"getInstance",value:function(n){return my[n]=my[n]||new o,my[n]}}]),If(o,[{key:"acronym",value:function(n){this.acronyms[n.toLowerCase()]=n;var e=[];for(var t in this.acronyms)xj(this.acronyms,t)&&e.push(this.acronyms[t]);this.acronymRegex=new RegExp(e.join("|"))}},{key:"plural",value:function(n,e){"string"==typeof n&&ql(this.uncountables,n),ql(this.uncountables,e),this.plurals.unshift([n,e])}},{key:"singular",value:function(n,e){"string"==typeof n&&ql(this.uncountables,n),ql(this.uncountables,e),this.singulars.unshift([n,e])}},{key:"irregular",value:function(n,e){ql(this.uncountables,n),ql(this.uncountables,e);var t=n[0],s=n.substr(1),u=e[0],l=e.substr(1);if(t.toUpperCase()===u.toUpperCase())this.plural(new RegExp("("+t+")"+s+"$","i"),"$1"+l),this.plural(new RegExp("("+u+")"+l+"$","i"),"$1"+l),this.singular(new RegExp("("+t+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+u+")"+l+"$","i"),"$1"+s);else{var d=Wx(s),p=Wx(l);this.plural(new RegExp(t.toUpperCase()+d+"$"),u.toUpperCase()+l),this.plural(new RegExp(t.toLowerCase()+d+"$"),u.toLowerCase()+l),this.plural(new RegExp(u.toUpperCase()+p+"$"),u.toUpperCase()+l),this.plural(new RegExp(u.toLowerCase()+p+"$"),u.toLowerCase()+l),this.singular(new RegExp(t.toUpperCase()+d+"$"),t.toUpperCase()+s),this.singular(new RegExp(t.toLowerCase()+d+"$"),t.toLowerCase()+s),this.singular(new RegExp(u.toUpperCase()+p+"$"),t.toUpperCase()+s),this.singular(new RegExp(u.toLowerCase()+p+"$"),t.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];this.uncountables=this.uncountables.concat(e)}},{key:"human",value:function(n,e){this.humans.unshift([n,e])}},{key:"clear",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===n?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[n]=[]}}]),o}(),Xx={en:function Sj(o){o.plural(/$/,"s"),o.plural(/s$/i,"s"),o.plural(/^(ax|test)is$/i,"$1es"),o.plural(/(octop|vir)us$/i,"$1i"),o.plural(/(octop|vir)i$/i,"$1i"),o.plural(/(alias|status)$/i,"$1es"),o.plural(/(bu)s$/i,"$1ses"),o.plural(/(buffal|tomat)o$/i,"$1oes"),o.plural(/([ti])um$/i,"$1a"),o.plural(/([ti])a$/i,"$1a"),o.plural(/sis$/i,"ses"),o.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),o.plural(/(hive)$/i,"$1s"),o.plural(/([^aeiouy]|qu)y$/i,"$1ies"),o.plural(/(x|ch|ss|sh)$/i,"$1es"),o.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),o.plural(/^(m|l)ouse$/i,"$1ice"),o.plural(/^(m|l)ice$/i,"$1ice"),o.plural(/^(ox)$/i,"$1en"),o.plural(/^(oxen)$/i,"$1"),o.plural(/(quiz)$/i,"$1zes"),o.singular(/s$/i,""),o.singular(/(ss)$/i,"$1"),o.singular(/(n)ews$/i,"$1ews"),o.singular(/([ti])a$/i,"$1um"),o.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),o.singular(/(^analy)(sis|ses)$/i,"$1sis"),o.singular(/([^f])ves$/i,"$1fe"),o.singular(/(hive)s$/i,"$1"),o.singular(/(tive)s$/i,"$1"),o.singular(/([lr])ves$/i,"$1f"),o.singular(/([^aeiouy]|qu)ies$/i,"$1y"),o.singular(/(s)eries$/i,"$1eries"),o.singular(/(m)ovies$/i,"$1ovie"),o.singular(/(x|ch|ss|sh)es$/i,"$1"),o.singular(/^(m|l)ice$/i,"$1ouse"),o.singular(/(bus)(es)?$/i,"$1"),o.singular(/(o)es$/i,"$1"),o.singular(/(shoe)s$/i,"$1"),o.singular(/(cris|test)(is|es)$/i,"$1is"),o.singular(/^(a)x[ie]s$/i,"$1xis"),o.singular(/(octop|vir)(us|i)$/i,"$1us"),o.singular(/(alias|status)(es)?$/i,"$1"),o.singular(/^(ox)en/i,"$1"),o.singular(/(vert|ind)ices$/i,"$1ex"),o.singular(/(matr)ices$/i,"$1ix"),o.singular(/(quiz)zes$/i,"$1"),o.singular(/(database)s$/i,"$1"),o.irregular("person","people"),o.irregular("man","men"),o.irregular("child","children"),o.irregular("sex","sexes"),o.irregular("move","moves"),o.irregular("zombie","zombies"),o.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function ho(o,r){if(function Kx(o){return"[object Function]"===Cj.call(o)}(o)&&(r=o,o=null),o=o||"en",!r)return Qx.getInstance(o);r(Qx.getInstance(o))}for(var Yx in Xx)ho(Yx,Xx[Yx]);function Zx(o){return function Jx(o,r){var e,t,s,n=""+o;if(0===n.length)return n;var u=n.toLowerCase().match(/\b\w+$/);if(u&&ho().uncountables.indexOf(u[0])>-1)return n;for(var l=0,d=r.length;l<d;l++)if(s=(e=r[l])[1],n.match(t=e[0])){n=n.replace(t,s);break}return n}(o,ho(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").plurals)}function eS(o){var r=null==o?"":String(o);return r.charAt(0).toUpperCase()+r.slice(1)}function Pu(o,r){null==r&&(r=!0);var n=""+o;return(n=r?n.replace(/^[a-z\d]*/,function(e){return ho().acronyms[e]||eS(e)}):n.replace(new RegExp("^(?:"+ho().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(e){return e.toLowerCase()})).replace(/(?:_|(\/))([a-z\d]*)/gi,function(e,t,s,u,l){return t||(t=""),""+t+(ho().acronyms[s]||eS(s))})}var tS={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00c6:"AE",\u00c7:"C",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00d0:"D",\u00d1:"N",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O","\xd7":"x",\u00d8:"O",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00dd:"Y",\u00de:"Th",\u00df:"ss",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00e6:"ae",\u00e7:"c",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00f0:"d",\u00f1:"n",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00fd:"y",\u00fe:"th",\u00ff:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010a:"C",\u010b:"c",\u010c:"C",\u010d:"c",\u010e:"D",\u010f:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011a:"E",\u011b:"e",\u011c:"G",\u011d:"g",\u011e:"G",\u011f:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012a:"I",\u012b:"i",\u012c:"I",\u012d:"i",\u012e:"I",\u012f:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013a:"l",\u013b:"L",\u013c:"l",\u013d:"L",\u013e:"l",\u013f:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014a:"NG",\u014b:"ng",\u014c:"O",\u014d:"o",\u014e:"O",\u014f:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015a:"S",\u015b:"s",\u015c:"S",\u015d:"s",\u015e:"S",\u015f:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016a:"U",\u016b:"u",\u016c:"U",\u016d:"u",\u016e:"U",\u016f:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017a:"z",\u017b:"Z",\u017c:"z",\u017d:"Z",\u017e:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041a:"K",\u041b:"L",\u041c:"M",\u041d:"N",\u041e:"O",\u041f:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042a:"",\u042b:"Y",\u042c:"",\u042d:"E",\u042e:"YU",\u042f:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043a:"k",\u043b:"l",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044a:"",\u044b:"y",\u044c:"",\u044d:"e",\u044e:"yu",\u044f:"ya"},gy={};function Tj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.index;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("panel page | level: ",n)}}function Rj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",3),a.\u0275\u0275template(2,Tj,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,n.panelPages$))}}function Mj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.index;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("panel | ",n)}}function Nj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",6),a.\u0275\u0275template(2,Mj,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,n.panels$))}}function Vj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.index;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("pane | ",n)}}function Oj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",7),a.\u0275\u0275template(2,Vj,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,n.panes$))}}function Bj(o,r){if(1&o&&a.\u0275\u0275element(0,"druid-panels-panelpage-linkedlist",8),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPages",n.nested)}}function Lj(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",2),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.onItemSelect(s.id))}),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.title," [",e.id,"]")}}function jj(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,Lj,3,2,"a",5),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,1,n.panels$))}}!function(){function o(){for(var r in qx(this,o),this.approximations={},tS)this.approximate(r,tS[r])}If(o,null,[{key:"getInstance",value:function(n){return gy[n]=gy[n]||new o,gy[n]}}]),If(o,[{key:"approximate",value:function(n,e){this.approximations[n]=e}},{key:"transliterate",value:function(n,e){var t=this;return n.replace(/[^\u0000-\u007f]/g,function(s){return t.approximations[s]||e||"?"})}}])}();var Gj=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.openSearchDomain=r.openSearchDomain,this.s3Bucket=r.s3Bucket,this.objectsRootUrl=r.objectsRootUrl)}),Pr=(0,m.A)(function o(r){(0,h.A)(this,o),this.gridItems=[],this.panels=[],this.contexts=[],this.rowSettings=[],this.entityPermissions=new rS,r&&(this.id=r.id,this.layoutType=r.layoutType,this.displayType=r.displayType,this.name=r.name?r.name:void 0,this.title=r.title?r.title:void 0,this.site=r.site?r.site:void 0,this.userId=r.userId?r.userId:void 0,this.path=r.path?r.path:void 0,this.persistence=r.persistence?new zl(r.persistence):void 0,this.interactions=r.interactions?new wu(r.interactions):void 0,r.panels&&(this.panels=r.panels.map(function(n){return new Go(n)})),r.gridItems&&(this.gridItems=r.gridItems.map(function(n){return new zj(n)})),r.contexts&&(this.contexts=r.contexts.map(function(n){return new Ia(n)})),r.layoutSetting&&(this.layoutSetting=new $n(r.layoutSetting)),r.rowSettings&&Array.isArray(r.rowSettings)&&(this.rowSettings=r.rowSettings.map(function(n){return new $n(n)})),r.entityPermissions&&(this.entityPermissions=new rS(r.entityPermissions)),r.cssFile&&(this.cssFile=r.cssFile))}),Go=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],this.panes=[],r&&(this.name=r.name?r.name:void 0,this.label=r.label?r.label:void 0,this.stylePlugin=r.stylePlugin,r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})),r.panes&&(this.panes=r.panes.map(function(n){return new Er(n)})),r.columnSetting&&(this.columnSetting=new $n(r.columnSetting)))}),Er=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],this.locked=!1,this.contexts=[],r&&(this.name=r.name,this.label=r.label,this.contentPlugin=r.contentPlugin,this.locked=void 0!==r.locked&&r.locked,r.linkedPageId&&(this.linkedPageId=r.linkedPageId),void 0!==r.metadata&&(this.metadata=new Map((0,A.A)(r.metadata))),void 0!==r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})),void 0!==r.contexts&&(this.contexts=r.contexts.map(function(n){return new Ia(n)})),void 0!==r.rule&&"string"!=typeof r.rule&&(this.rule=(0,v.A)({},r.rule)),r.nestedPage&&(this.nestedPage=new Pr(r.nestedPage)),r.resolvedContext&&(this.resolvedContext=(0,v.A)({},r.resolvedContext)))}),zj=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.cols=r.cols,this.rows=r.rows,this.x=r.x,this.y=r.y,this.weight=r.weight)}),$n=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],r&&r.settings&&Array.isArray(r.settings)&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)}))}),rS=(0,m.A)(function o(r){(0,h.A)(this,o),this.readUserIds=[],this.writeUserIds=[],this.deleteUserIds=[],r&&(this.readUserIds=r.readUserIds?r.readUserIds.map(function(n){return n}):[],this.writeUserIds=r.writeUserIds?r.writeUserIds.map(function(n){return n}):[],this.deleteUserIds=r.deleteUserIds?r.deleteUserIds.map(function(n){return n}):[])}),ja=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Te.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"getBindings",value:function(t,s){return(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"fromPanes",value:function(t){var s=this;return t.map(function(u){return new Er(s.attributeSerializer.deserialize(u))})}},{key:"wrapPanel",value:function(t){return new Go({stylePlugin:void 0,settings:[],panes:t,columnSetting:new $n})}},{key:"stateDefinition",value:function(t){return(0,Te.of)({})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),$j=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.panelHandler=t,this.panelPages$=new R.t([]),this.panels$=new R.t([]),this.panes$=new R.t([]),this.nested$=new R.t([]),this.formGroup=this.fb.group({panelPage:this.fb.control(void 0),panel:this.fb.control(void 0),pane:this.fb.control(void 0),nested:this.fb.control(void 0)}),this.panelPageSub=this.formGroup.get("panelPage").valueChanges.subscribe(function(u){s.panels$.next(new Pr(s.panelPages$.value[u]).panels)}),this.panelSub=this.formGroup.get("panel").valueChanges.subscribe(function(u){s.panes$.next(new Go(s.panels$.value[u]).panes)}),this.paneSub=this.formGroup.get("pane").valueChanges.pipe((0,fe.T)(function(u){return s.panes$.value[u]}),(0,We.n)(function(u){return tr(function(){return"panel"===u.contentPlugin},s.panelHandler.toObject(u.settings),(0,Te.of)(void 0))}),(0,z.p)(function(u){return!!u})).subscribe(function(u){s.nested$.next([u])}),this.onTouched=function(){}},[{key:"panelPages",get:function(){return this.panelPages$.value&&Array.isArray(this.panelPages$.value)?this.panelPages$.value:[]},set:function(t){this.panelPages$.next(t)}},{key:"panels",get:function(){return this.panels$.value&&Array.isArray(this.panels$.value)?this.panels$.value:[]},set:function(t){this.panels$.next(t)}},{key:"panes",get:function(){return this.panes$.value&&Array.isArray(this.panes$.value)?this.panes$.value:[]},set:function(t){this.panes$.next(t)}},{key:"nested",get:function(){return this.nested$.value&&void 0!==typeof this.nested$.value&&this.nested$.value.length>0?(0,A.A)(this.nested$.value):void 0}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(ja))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-panels-panelpage-linkedlist"]],inputs:{panelPages:"panelPages",panels:"panels",panes:"panes"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["formControlName","nested",3,"panelPages",4,"ngIf"],["required","","formControlName","panelPage"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","","formControlName","panel"],["required","","formControlName","pane"],["formControlName","nested",3,"panelPages"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,Rj,4,3,"mat-form-field",1)(2,Nj,4,3,"mat-form-field",1)(3,Oj,4,3,"mat-form-field",1)(4,Bj,1,1,"druid-panels-panelpage-linkedlist",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.panelPages.length>0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.panels.length>0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.panes.length>0),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested))},dependencies:[y.NgForOf,y.NgIf,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatFormField,fa.MatSelect,o,y.AsyncPipe],encapsulation:2}),r}(),Hj=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.siteName=e,this.bottomSheetRef=t,this.handler=s,this.dialog=u,this.fb=l,this.selectedIndex=0,this.panelPagesService=d.getEntityCollectionService("PanelPage"),this.panelPageListItemsService=d.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){}},{key:"onNewSelect",value:function(){var t=this,s=cr(),u=new Pr({id:void 0,layoutType:"split",displayType:"page",site:this.siteName,gridItems:[],panels:[],layoutSetting:new $n,rowSettings:[]});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:s,label:s,rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(u).map(function(l){return t.convertToGroup(l)}))})),this.bottomSheetRef.dismiss()}},{key:"onLinkSelect",value:function(){this.selectedIndex=1,this.panels$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent(this.siteName)))}},{key:"onEmbedSelect",value:function(){var t=cr();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:t,label:t,rule:new f.UntypedFormControl(""),locked:new f.UntypedFormControl(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"onItemSelect",value:function(t){var s=cr();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:s,label:s,rule:new f.UntypedFormControl(""),linkedPageId:new f.UntypedFormControl(t,f.Validators.required),locked:new f.UntypedFormControl(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(sn.SITE_NAME),a.\u0275\u0275directiveInject(Fu.MatBottomSheetRef),a.\u0275\u0275directiveInject(ja),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-selector"]],inputs:{panelFormGroup:"panelFormGroup"},standalone:!1,decls:11,vars:1,consts:[["mat-align-tabs","start",3,"selectedIndex"],["label","Type"],["mat-list-item","","mat-list-item","",3,"click"],["label","Search"],["matTabContent",""],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-nav-list")(3,"a",2),a.\u0275\u0275listener("click",function(){return t.onNewSelect()}),a.\u0275\u0275text(4,"New Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"a",2),a.\u0275\u0275listener("click",function(){return t.onLinkSelect()}),a.\u0275\u0275text(6,"Link Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"a",2),a.\u0275\u0275listener("click",function(){return t.onEmbedSelect()}),a.\u0275\u0275text(8,"Embed Panel"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(9,"mat-tab",3),a.\u0275\u0275template(10,jj,3,3,"ng-template",4),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("selectedIndex",t.selectedIndex)},dependencies:[y.NgForOf,Df.MatLine,fs.MatNavList,fs.MatListItem,go.MatTabContent,go.MatTab,go.MatTabGroup,y.AsyncPipe],encapsulation:2}),r}(),Kj=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-editor"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"panel-editor works!"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),vo=(0,m.A)(function o(r){(0,h.A)(this,o),this.panels=[],r&&(this.id=r.id,void 0!==r.panels&&Array.isArray(r.panels)&&(this.panels=r.panels.map(function(n){return new Iu(n)})))}),Iu=(0,m.A)(function o(r){(0,h.A)(this,o),this.panes=[],r&&void 0!==r.panes&&Array.isArray(r.panes)&&(this.panes=r.panes.map(function(n){return new mi(n)}))}),mi=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(void 0!==r.state&&(this.state=new _t.AttributeValue(r.state)),null!=r.nestedPage&&(this.nestedPage=new vo(r.nestedPage)))}),hy=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.siteName=e,this.panelHandler=t,this.attributeSerializer=s,this.rulesResolver=u,this.dpm=l,this.datasourceEvalutator=d},[{key:"handleFile",value:function(t){return(0,Te.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!0}},{key:"isData",value:function(t){return!0}},{key:"fetchDynamicData",value:function(t,s){var u=this,l=s.has("dataPanes")?new Map(s.get("dataPanes").map(function(p){return[p.name,p]})):new Map([]),d=new Map(Array.from(l).map(function(p){var g=(0,k.A)(p,2);return[g[0],new Su(u.attributeSerializer.deserializeAsObject(g[1].settings))]}));return this.toObject(t).pipe((0,We.n)(function(p){return u.datasourceEvalutator.evalDatasource({datasource:p,metadata:s,datasources:d})}))}},{key:"buildDynamicItems",value:function(t,s){var u=this,l=new Map(s.get("dataPanes").map(function(d){return[d.name,d]}));return this.fetchDynamicData(t,s).pipe((0,We.n)(function(d){return u.toObject(t).pipe((0,fe.T)(function(p){return[p,d]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,2),g=p[0],_=p[1];return u.getBindings(t,"pane").pipe((0,fe.T)(function(S){return[g,_,S]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,3),g=p[0],_=p[1],S=p[2];return tr(function(){return 0!==_.results.length&&S.length>0},(0,An.p)(_.results.map(function(I){return(0,An.p)(S.filter(function(B){return!l.has(B.id)}).map(function(B){return(0,Te.of)(s.get("panes").find(function($){return $.name===B.id})).pipe((0,We.n)(function($){return tr(function(){return $&&$.rule&&null!==$.rule&&""!==$.rule.condition},$?u.rulesResolver.evaluate($.rule,[].concat((0,A.A)(s.get("contexts")),(0,A.A)(void 0!==$.contexts?$.contexts:[]),[new Ia({name:"_root",adaptor:"data",data:I})])).pipe((0,fe.T)(function(Y){return[$,Y]})):(0,Te.of)([$,!1]),(0,Te.of)(!1).pipe((0,fe.T)(function(Y){return[$,Y]})))}),(0,z.p)(function($){return(0,k.A)($,2)[1]}),(0,fe.T)(function($){return(0,k.A)($,2)[0].name}),(0,qr.U)(B.id))})).pipe((0,fe.T)(function(B){return B.reduce(function($,Y){return[].concat((0,A.A)($),[Y])},[])}))})).pipe((0,fe.T)(function(I){return[g,_,I]})),new L.c(function(I){I.next([g,_,[]]),I.complete()}))}),(0,fe.T)(function(d){var p=(0,k.A)(d,3),S=p[2];return p[1].results.reduce(function(I,B,$){return[].concat((0,A.A)(I),(0,A.A)(S[$]?S[$].map(function(Y){return new Er((0,v.A)((0,v.A)({},s.get("panes").find(function(le){return le.name===Y})),{},{rule:void 0,label:cr(),contexts:[].concat((0,A.A)(s.get("contexts")),[new Ia({name:"_root",adaptor:"data",data:B})])}))}):[]))},[])}),(0,fe.T)(function(d){return new Go({stylePlugin:void 0,settings:[],panes:d,columnSetting:new $n})}),(0,fe.T)(function(d){return u.panelHandler.buildSettings(new Pr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new $n,rowSettings:[],panels:[d]}))}),(0,fe.T)(function(d){return d.find(function(p){return"panels"===p.name}).attributes[0].attributes.find(function(p){return"panes"===p.name}).attributes}))}},{key:"getBindings",value:function(t,s,u){var l=this,d=u?new Map(u.get("dataPanes").map(function(p){return[p.name,p]})):new Map;return"context"===s?this.toObject(t).pipe((0,fe.T)(function(p){return[p,p.params?p.params.reduce(function(g,_){return[].concat((0,A.A)(g),(0,A.A)("form"===_.mapping.type?[new Xt.ContentBinding({id:"form__".concat(_.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[]):[]]}),(0,We.n)(function(p){var _=(0,k.A)(p,2)[0];return l.dpm.getPlugin(_.plugin).pipe((0,We.n)(function(I){return I.getBindings({settings:_.settings,metadata:u}).pipe((0,fe.T)(function(B){return[_,B]}))}))}),(0,We.n)(function(p){var g=(0,k.A)(p,2),S=g[1];return(0,An.p)(g[0].renderer.bindings.reduce(function(I,B){return[].concat((0,A.A)(I),(0,A.A)(d.has(B.id)?[l.toObject(d.get(B.id).settings)]:[]))},[])).pipe((0,We.n)(function(I){return(0,An.p)(I.map(function(B){return l.dpm.getPlugin(B.plugin).pipe((0,We.n)(function($){return $.getBindings({settings:B.settings,metadata:u})}))})).pipe((0,fe.T)(function(B){return B.reduce(function($,Y){return[].concat((0,A.A)($),(0,A.A)(Y))},S)}),(0,qr.U)(S))}),(0,qr.U)(S))})):this.toObject(t).pipe((0,We.n)(function(p){return tr(function(){return p.renderer.type===s},(0,Te.of)(p.renderer.bindings),(0,Te.of)([]))}))}},{key:"toObject",value:function(t){return(0,Te.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"getRenderType",value:function(t){var s=[t.find(function(u){return"renderer"===u.name})].map(function(u){return u.attributes.find(function(l){return"type"===l.name})});return s.length>0?s[0].value:void 0}},{key:"stateDefinition",value:function(t){return(0,Te.of)({autocomplete:{input:""},loading:"y"})}},{key:"editorOptions",value:function(t){var s=this;return this.toObject(t).pipe((0,We.n)(function(u){return s.dpm.getPlugin(u&&u.plugin?u.plugin:"data").pipe((0,fe.T)(function(l){return[u,l]}))}),(0,We.n)(function(u){var l=(0,k.A)(u,2),d=l[0],p=l[1];return p.editorOptions?p.editorOptions({settings:d&&d.settings?d.settings:[]}):(0,Te.of)(void 0)}),(0,fe.T)(function(u){return new Xt.ContentPluginEditorOptions({fullscreen:!!u&&u.fullscreen})}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.SITE_NAME),a.\u0275\u0275inject(ja),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(iy),a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(ux))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),qj=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.datasourceHandler=l,this.datasource=new Su,this.bindableOptions=[],this.contexts=[],this.formGroup=this.fb.group({source:this.fb.control("")})},[{key:"ngOnInit",value:function(){var t=this,s=this.data.panelFormGroup.get("panes");if(this.bindableOptions=s.controls.reduce(function(l,d){return d.get("name").value?[].concat((0,A.A)(l),[d.get("name").value]):(0,A.A)(l)},[]),this.contexts=this.data.contexts.map(function(l){return l.name}),void 0!==this.data.panelIndex&&this.data.paneIndex<s.length){var u=s.at(this.data.paneIndex).get("settings").value.map(function(l){return new _t.AttributeValue(l)});this.datasourceHandler.toObject(u).subscribe(function(l){t.datasource=l})}}},{key:"onSubmit",value:function(){var t=this,s=this.attributeSerializer.serialize(this.formGroup.value.source,"source"),u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);void 0===this.data.paneIndex?(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"datasource",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(s.attributes.map(function(l){return t.attributeSerializer.convertToGroup(l)}))})),console.log(this.data.panelFormGroup.get("panes").value)):(u.get("settings").clear(),s.attributes.forEach(function(l){return u.get("settings").push(t.attributeSerializer.convertToGroup(l))})),this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(hy))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-editor"]],standalone:!1,decls:4,vars:4,consts:[[3,"ngSubmit","formGroup"],["formControlName","source",3,"bindableOptions","contexts","datasource"],["type","submit"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),a.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),a.\u0275\u0275elementStart(2,"button",2),a.\u0275\u0275text(3,"Save"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(),a.\u0275\u0275property("bindableOptions",t.bindableOptions)("contexts",t.contexts)("datasource",t.datasource))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Wv],encapsulation:2}),r}(),Wj=function(r){return new Xt.ContentPlugin({id:"panel",title:"Panel",selectionComponent:Hj,editorComponent:Kj,renderComponent:void 0,handler:r})},Qj=function(r){return new Xt.ContentPlugin({id:"datasource",title:"Datasource",selectionComponent:void 0,editorComponent:qj,renderComponent:void 0,handler:r})},aS=Ha("[PageBuilder] Load Rest Data",{_as:"props",_p:void 0}),iS=Ha("[PageBuilder] Load Rest Data Success",{_as:"props",_p:void 0}),vy=(Ha("[PageBuilder] Load Rest Data Error",{_as:"props",_p:void 0}),Ha("[PageBuilder] Set Page Info",{_as:"props",_p:void 0})),oS=Ha("[PageBuilder] Set Form",{_as:"props",_p:void 0}),yy=Ha("[PageBuilder] Set Page",{_as:"props",_p:void 0}),sS=Ha("[PageBuilder] Selection Path",{_as:"props",_p:void 0}),Yj=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.actions$=e,this.datasourceApi=t,this.snippetParserService=s,this.loadRestData$=ui(function(){return u.actions$.pipe(Eo(aS),(0,ks.H)(function(l){return u.fetchRestdata$(l.rest).pipe((0,aa.W)(function(){return[]}),(0,fe.T)(function(d){return void 0!==l.rest.renderer&&void 0!==l.rest.renderer.query&&""!==l.rest.renderer.query?(0,Uo.JSONPath)({path:l.rest.renderer.query,json:d}):d}),(0,fe.T)(function(d){return iS({tag:l.tag,data:new Un({results:d})})}))}))})},[{key:"fetchRestdata$",value:function(t){var s=this;switch(t.method?t.method:"get"){case"post":case"POST":return(0,Te.of)([]).pipe((0,We.n)(function(){return s.snippetParserService.parseSnippet({snippet:t.body})}),(0,We.n)(function(l){return s.datasourceApi.postData({url:t.url,body:l})}));default:return this.datasourceApi.getData(t.url)}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(ix),a.\u0275\u0275inject(H1))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),ld=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.id=r.id,this.path=r.path,this.realPath=r.realPath,this.args=r.args)}),uS="pageBuilder",Zj=function I2(o){for(var r=new Map,n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];for(var s=function(){var _,p=l[u],g=(0,N.A)(p.types);try{var S=function(){var B=_.value,$=r.get(B);r.set(B,$?function(ge,be){return p.reducer($(ge,be),be)}:p.reducer)};for(g.s();!(_=g.n()).done;)S()}catch(I){g.e(I)}finally{g.f()}},u=0,l=e;u<l.length;u++)s();return function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,p=arguments.length>1?arguments[1]:void 0,g=r.get(p.type);return g?g(d,p):d}}({dataTags:[],datasets:[],pageInfo:void 0,formNames:[],forms:[],page:void 0,selectionPath:[]},hc(iS,function(o,r){var n=o.dataTags.findIndex(function(t){return t===r.tag});if(n>-1&&void 0!==o.forms[n]){var e=(0,v.A)({},o);return e.datasets[n].push(r.data),e}return(0,v.A)((0,v.A)({},o),{},{dataTags:[].concat((0,A.A)(o.dataTags),[r.tag]),datasets:[].concat((0,A.A)(o.datasets),[[r.data]])})}),hc(oS,function(o,r){var n=o.formNames.findIndex(function(e){return e===r.name});return(0,v.A)((0,v.A)({},o),{},n>-1&&void 0!==o.forms[n]?{forms:o.forms.map(function(e,t){return t===n?r.form:e})}:{formNames:[].concat((0,A.A)(o.formNames),[r.name]),forms:[].concat((0,A.A)(o.forms),[r.form])})}),hc(vy,function(o,r){return(0,v.A)((0,v.A)({},o),{},{pageInfo:void 0!==r.info?new ld(r.info):void 0})}),hc(yy,function(o,r){return(0,v.A)((0,v.A)({},o),{},{page:void 0!==r.page?new Pr(r.page):void 0})}),hc(sS,function(o,r){return(0,v.A)((0,v.A)({},o),{},{selectionPath:void 0!==r.path?r.path:[]})}));function e9(o,r){return Zj(o,r)}var Tf=new a.InjectionToken("StylePlugin"),lS=new a.InjectionToken("PanelsSettings"),_y=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,g,_,S,I,B){(0,h.A)(this,n);var $=function(r,n){return{PanelPageListItem:{entityName:"PanelPageListItem",crud:(0,v.A)((0,v.A)({},(0,y.isPlatformServer)(r)?{}:{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}}),{},{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}})},PanelPage:{entityName:"PanelPage",crud:(0,v.A)((0,v.A)({},(0,y.isPlatformServer)(r)?{}:{readPrimary:{fallback:!0,ops:["create","update","query"],plugin:"idb_keyval",params:{prefix:"panelpage__"}}}),{},{readFallback:{fallback:!0,ops:["query"],plugin:"rest",params:{entityName:"PanelPage",root:n.objectsRootUrl,suffix:".json"}}},(0,y.isPlatformServer)(r)?{}:{idb_keyval:{params:{prefix:"panelpage__"}}})},PanelPageState:{entityName:"PanelPageState"}}}(e,s);u.registerMetadataMap($),d.registerService("PanelPageState",new sn.NoopDataService("PanelPageState")),d.registerService("PanelPage",new ay("PanelPage",S,I,B)),d.registerService("PanelPageListItem",new ay("PanelPageListItem",S,I,B)),t.forEach(function(Y){return l.register(Y)}),p.register(function(r,n){return new td({id:"panels",title:"Panels",build:function(){Du.prototype.writePaneState=function(t,s){return new Promise(function(u){var l=r.getEntityCollectionService("PanelPageState");l.getByKey(t.id).pipe((0,aa.W)(function(){return(0,Te.of)(new vo({id:t.id,panels:[]}))}),(0,fe.T)(function(d){return void 0===d?new vo({id:t.id,panels:[]}):d}),(0,fe.T)(function(d){for(var p=n.serialize(s,"root"),g=new vo((0,v.A)((0,v.A)({},d),{},{panels:[]})),_=0;_<t.panelIndex+1;_++){g.panels.push(_<d.panels.length?new Iu((0,v.A)((0,v.A)({},d.panels[_]),{},{panes:[]})):new Iu);for(var S=0;S<t.paneIndex+1;S++)g.panels[_].panes.push(_===t.panelIndex&&S===t.paneIndex?new mi(_<d.panels.length&&S<d.panels[_].panes.length?(0,v.A)((0,v.A)({},d.panels[_].panes[S]),{},{state:p}):{state:p}):_<d.panels.length&&S<d.panels[_].panes.length?new mi((0,v.A)({},d.panels[_].panes[S])):new mi)}return g}),(0,We.n)(function(d){return l.upsert(d)})).subscribe(function(d){u(d)})})}}})}(g,_)),d.registerService("PanelPageForm",new ay("PanelPageForm",S,I,B))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(Xt.CONTENT_PLUGIN),a.\u0275\u0275inject(lS),a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(jl),a.\u0275\u0275inject(yr),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ms),a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(nd))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:ja,useClass:ja},{provide:Xt.CONTENT_PLUGIN,useFactory:Wj,multi:!0,deps:[ja]},{provide:Xt.CONTENT_PLUGIN,useFactory:Qj,multi:!0,deps:[hy]},{provide:Ac,useClass:P_}],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,Em.forFeature(uS,e9),_c.forFeature([Yj]),pa.MaterialModule,Eu,Sc,vj,bj,rd]}),r}(),cS=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.panelPage=r.panelPage,null!=r.panel&&(this.panel=r.panel),null!=r.pane&&(this.pane=r.pane),null!=r.nested&&"object"==typeof r.nested&&(this.nested=new o(r.nested)))}),dS=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.savable=!0,this.nested=!1,this.dashboard=[],this.layoutSetting=new $n,this.rowSettings=[],this.ancestory=[]},[{key:"gridItems",get:function(){return[]}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-layout-editor-base"]],inputs:{savable:"savable",nested:"nested",editor:"editor",dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings",editablePaneTpl:"editablePaneTpl",extraActionsAreaTmpl:"extraActionsAreaTmpl",contextsMenuTpl:"contextsMenuTpl",ancestory:"ancestory"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),pS=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.displayMainControls=!1,this.displayItemHeader=!1},[{key:"columnSettings",get:function(){return this.panelPage?this.panelPage.panels.reduce(function(s,u){return[].concat((0,A.A)(s),[new $n(u.columnSetting)])},[]):[]}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-layout-renderer-base"]],inputs:{panelPage:"panelPage",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",renderPanelTpl:"renderPanelTpl"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),t9=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n),this.settings=[],this.panes=[],this.originMappings=[],this.ancestory=[]},[{key:"mergeContexts",value:function(t){if(void 0!==t||void 0!==this.contexts)return void 0!==t&&void 0!==this.contexts?[].concat((0,A.A)(t),(0,A.A)(this.contexts)):void 0!==t?t:this.contexts}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-style-renderer-base"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",ancestory:"ancestory"},standalone:!1,decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),fS=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.es=e,this.panelHandler=t},[{key:"panelPageService",get:function(){return this.es.getEntityCollectionService("PanelPage")}},{key:"reducePage",value:function(t){var s=this;return t.panels.reduce(function(u,l,d){return s.reducePanels(u,l,d)},[])}},{key:"reducePanels",value:function(t,s,u){var l=this;return[].concat((0,A.A)(t),(0,A.A)(s.panes.reduce(function(d,p,g){return l.reducePanes(d,p,g).map(function(_){return _.pipe((0,fe.T)(function(S){var I=(0,k.A)(S,2);return[u,I[0],I[1]]}))})},[])))}},{key:"reducePanes",value:function(t,s,u){return[].concat((0,A.A)(t),(0,A.A)("panel"===s.contentPlugin?[this.nestedPage$(s).pipe((0,fe.T)(function(l){return[u,l]}))]:[]))}},{key:"nestedPage$",value:function(t){return console.log("get nested panel page"),t.linkedPageId&&""!==t.linkedPageId?this.getByKey(t.linkedPageId).pipe((0,q.M)(function(){return console.log("get(".concat(t.linkedPageId,")"))})):this.getEmbedded(t.settings).pipe((0,q.M)(function(){return console.log("toObject()")}))}},{key:"remapNested",value:function(t,s){s.forEach(function(u){var l=(0,k.A)(u,3);t.panels[l[0]].panes[l[1]].nestedPage=l[2]})}},{key:"getByKey",value:function(t){var s=this;return this.panelPageService.getByKey(t).pipe((0,fe.T)(function(u){return new Pr(u)}),(0,We.n)(function(u){return tr(function(){return s.reducePage(u).length>0},(0,An.p)(s.reducePage(u)).pipe((0,q.M)(function(l){return s.remapNested(u,l)}),(0,fe.T)(function(){return u})),(0,Te.of)(u))}))}},{key:"getEmbedded",value:function(t){var s=this;return this.panelHandler.toObject(t).pipe((0,fe.T)(function(u){return new Pr(u)}),(0,We.n)(function(u){return tr(function(){return s.reducePage(u).length>0},(0,An.p)(s.reducePage(u)).pipe((0,q.M)(function(l){return s.remapNested(u,l)}),(0,fe.T)(function(){return u})),(0,Te.of)(u))}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(yr),a.\u0275\u0275inject(ja))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),n9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.panelHandler=e},[{key:"rebuildPage",value:function(t,s){return new Pr((0,v.A)((0,v.A)({},t),{},{panels:this.rebuildPanels(t.panels,(0,A.A)(s))}))}},{key:"rebuildPanels",value:function(t,s){var u=this;return t.filter(function(l,d){return u.rebuildCondition(s[0],d)}).map(function(l){return new Go((0,v.A)((0,v.A)({},l),{},{panes:u.rebuildPanes(l.panes,s.slice(1))}))})}},{key:"rebuildPanes",value:function(t,s){var u=this;return t.filter(function(l,d){return u.rebuildCondition(s[0],d)}).map(function(l){return new Er("panel"===l.contentPlugin?(0,v.A)((0,v.A)({},l),{},{nestedPage:void 0,settings:u.panelHandler.buildSettings(u.rebuildPage(l.nestedPage,s.slice(1)))}):(0,v.A)({},l))})}},{key:"rebuildCondition",value:function(t,s){return 0===t||(t>-1?s===t+-1*t:s!==-1*t+t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ja))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),r9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.panelHandler=e},[{key:"convertPageToState",value:function(t){var s=this;return(0,Te.of)(new vo).pipe((0,We.n)(function(){return(0,An.p)(t.panels.map(function(u){return s.convertPanelToState(u)}))}),(0,fe.T)(function(u){return new vo({id:t.id,panels:u})}))}},{key:"convertPanelToState",value:function(t){var s=this;return(0,Te.of)(new Iu).pipe((0,We.n)(function(){return(0,An.p)(t.panes.map(function(u){return s.convertPaneToState(u)}))}),(0,fe.T)(function(u){return new Iu({panes:u})}))}},{key:"convertPaneToState",value:function(t){var s=this;return(0,Te.of)(new mi).pipe((0,We.n)(function(u){return tr(function(){return s.hasNestedPanelPage(t)},s.panelHandler.toObject(t.settings).pipe((0,We.n)(function(l){return s.convertPageToState(l)}),(0,fe.T)(function(l){return new mi({state:new _t.AttributeValue,nestedPage:l})})),(0,Te.of)(u))}))}},{key:"hasNestedPanelPage",value:function(t){return"panel"===t.contentPlugin&&(null==t.linkedPageId||""===t.linkedPageId)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ja))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),a9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.panelsLoaderService=e},[{key:"walkPageHierarchy",value:function(t){var s=this,u=t.panelPage,l=t.visitorFunc,d=t.defaultv,p=t.ancestory;return new L.c(function(g){for(var _=u.panels.length,S=[],I=0;I<_;I++)for(var B=u.panels[I].panes.length,$=0;$<B;$++)S.push(l({pane:u.panels[I].panes[$],panelPage:u,ancestoryWithSelf:[].concat((0,A.A)(p),[I,$])})),u.panels[I].panes[$].nestedPage&&u.panels[I].panes[$].nestedPage.panels&&0!==u.panels[I].panes[$].nestedPage.panels.length&&S.push(s.walkPageHierarchy({panelPage:u,visitorFunc:l,defaultv:d,ancestory:[].concat((0,A.A)(p),[I,$])}));0===S.length?(g.next(d),g.complete()):(0,An.p)(S).pipe((0,fe.T)(function(Y){return Y.reduce(function(le,ge){return[].concat((0,A.A)(le),(0,A.A)(ge))},d)}),(0,q.M)(function(Y){g.next(Y),g.complete()})).subscribe()})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fS))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),mS=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.panelsVisitorService=e,this.cpm=t,this.gatherPaneContexts=function(u){var l=u.pane,d=u.panelPage,p=u.ancestoryWithSelf;return s.cpm.getPlugin(l.contentPlugin).pipe((0,We.n)(function(g){return g.handler?g.handler.stateDefinition(l.settings):(0,Te.of)({})}),(0,fe.T)(function(g){return new Ia({name:"panestate-"+p.join("-"),adaptor:"data",plugin:"panestate",data:{id:d?d.id:"",selectionPath:(0,A.A)(p),value:g}})}),(0,fe.T)(function(g){return[g]}),(0,pn.s)(1))}},[{key:"allActivePageContexts",value:function(t){var u=t.ancestory;return this.panelsVisitorService.walkPageHierarchy({panelPage:t.panelPage,ancestory:void 0===u?[]:u,visitorFunc:this.gatherPaneContexts,defaultv:[]})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a9),a.\u0275\u0275inject(Xt.ContentPluginManager))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),i9=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e},[{key:"buildToAncestorySpec",value:function(t){for(var s=t.panelPageState,u=t.ancestory,l=0;l<u[0]+1;l++)if(s.panels.length<l+1&&s.panels.push(new Iu),l===u[0]&&u.length>1)for(var d=0;d<u[1]+1;d++)s.panels[u[0]].panes.length<d+1&&s.panels[u[0]].panes.push(new mi({state:this.attributeSerializer.serialize({},"root")})),d===u[1]&&u.length>2&&(s.panels[u[0]].panes[d].nestedPage||(s.panels[u[0]].panes[d].nestedPage=new vo),this.buildToAncestorySpec({panelPageState:s.panels[u[0]].panes[d].nestedPage,ancestory:u.slice(2)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Wl=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"style"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),gS=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.spm=e},[{key:"alterResolvedPanes",value:function(t){var s=this,u=t.panel,l=t.resolvedPanes,d=t.originMappings;return(0,Te.of)(void 0).pipe((0,We.n)(function(){return u.stylePlugin&&""!==u.stylePlugin?s.spm.getPlugin(u.stylePlugin):(0,Te.of)(void 0)}),(0,We.n)(function(p){return p&&p.handler?p.handler.alterResolvedPanes({settings:u.settings,resolvedPanes:l,originMappings:d}):(0,Te.of)({resolvedPanes:l,originMappings:d})}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wl))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),by=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.panelHandler=e,this.rulesResolver=t,this.inlineContextResolver=s,this.cpm=u},[{key:"usedContexts",value:function(t){var s=this;return this.panesPlugins(t).pipe((0,We.n)(function(u){return s.dataPanes(t).pipe((0,fe.T)(function(l){return{plugins:u,dataPanes:l}}))}),(0,We.n)(function(u){var l=u.plugins,d=u.dataPanes;return(0,An.p)(t.reduce(function(p,g){var _=l.get(g.contentPlugin);return void 0!==_.handler?[].concat((0,A.A)(p),[_.handler.getBindings(g.settings,"context",new Map([["dataPanes",d]])).pipe((0,fe.T)(function(S){return S.map(function(I){return I.id})}))]):(0,A.A)(p)},[])).pipe((0,fe.T)(function(p){return p.reduce(function(g,_){return[].concat((0,A.A)(g),(0,A.A)(_))},[])}))}))}},{key:"staticPanes",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[])).pipe((0,fe.T)(function(s){return t.filter(function(u){return void 0===s.get(u.contentPlugin).handler||!s.get(u.contentPlugin).handler.isDynamic(u.settings)})}))}},{key:"dataPanes",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[])).pipe((0,fe.T)(function(s){return t.filter(function(u){return void 0!==s.get(u.contentPlugin).handler&&s.get(u.contentPlugin).handler.isData(u.settings)})}))}},{key:"panesPlugins",value:function(t){return this.cpm.getPlugins(t.reduce(function(s,u){return-1===s.findIndex(function(l){return l===u.contentPlugin})?[].concat((0,A.A)(s),[u.contentPlugin]):(0,A.A)(s)},[]))}},{key:"resolvePanes",value:function(t){var s=this,u=t.panes,l=t.contexts,d=t.resolvedContext;return console.log("resolve panes"),this.panesPlugins(u).pipe((0,We.n)(function(p){return(0,An.p)(u.reduce(function(g,_){var S=p.get(_.contentPlugin);return[].concat((0,A.A)(g),void 0!==S.handler?[S.handler.getBindings(_.settings,"pane").pipe((0,fe.T)(function(I){return I.map(function(B){return B.id})}))]:[(0,Te.of)([])])},[]))})).pipe((0,fe.T)(function(p){return p.reduce(function(g,_){return[].concat((0,A.A)(g),(0,A.A)(_))},[])}),(0,We.n)(function(p){return s.panesPlugins(u).pipe((0,fe.T)(function(g){return[p,g]}))}),(0,We.n)(function(p){var g=(0,k.A)(p,2),_=g[0],S=g[1];return(0,An.p)(u.reduce(function(I,B){var $=S.get(B.contentPlugin);return void 0!==$.handler&&$.handler.isDynamic(B.settings)?[].concat((0,A.A)(I),[$.handler.isData(B.settings)&&-1!==_.findIndex(function(Y){return Y===B.name})?(0,Te.of)([]):(0,An.p)([s.staticPanes(u),s.dataPanes(u)]).pipe((0,We.n)(function(Y){var le=(0,k.A)(Y,2),ge=le[0],be=le[1];return $.handler.buildDynamicItems(B.settings,new Map([].concat((0,A.A)(void 0===B.metadata?[]:B.metadata),[["tag",cr()],["panes",ge],["dataPanes",be],["contexts",void 0!==l?l:[]]]))).pipe((0,fe.T)(function(me){return s.panelHandler.fromPanes(me)}),(0,fe.T)(function(me){return s.panelHandler.wrapPanel(me).panes}),(0,pn.s)(1))}))]):""===B.name||-1===_.findIndex(function(Y){return Y===B.name})?[].concat((0,A.A)(I),[(0,Te.of)([new Er((0,v.A)((0,v.A)({},B),{},{contexts:[].concat((0,A.A)(l),(0,A.A)(B.contexts?B.contexts:[]))}))]).pipe((0,We.n)(function(Y){return tr(function(){return null!=Y[0].rule&&""!==Y[0].rule.condition},s.rulesResolver.evaluate(Y[0].rule,[].concat((0,A.A)(l),(0,A.A)(B.contexts?B.contexts:[]))).pipe((0,fe.T)(function(le){return le?Y:[]})),(0,Te.of)(Y))}))]):(0,A.A)(I)},[])).pipe((0,We.n)(function(I){return tr(function(){return 0===I.reduce(function(B,$){return[].concat((0,A.A)(B),(0,A.A)($))},[]).length},(0,Te.of)([I,[]]),(0,An.p)((0,A.A)(I.reduce(function(B,$){return[].concat((0,A.A)(B),(0,A.A)($.map(function(Y){return Y.contexts&&0!==Y.contexts.length?s.inlineContextResolver.resolveAll(Y.contexts).pipe((0,pn.s)(1)):(0,Te.of)({}).pipe((0,pn.s)(1))})))},[]))).pipe((0,fe.T)(function(B){return[I,B.map(function($){return(0,v.A)((0,v.A)({},$),d)})]})))}),(0,fe.T)(function(I){var B=(0,k.A)(I,2),Y=B[1],le=[],ge=[];return B[0].forEach(function(be,me){le=[].concat((0,A.A)(void 0===le?[]:le),(0,A.A)(be.map(function(ke,qe){return new Er((0,v.A)((0,v.A)({},ke),{},{resolvedContext:Y[le.length+qe]}))}))),ge=[].concat((0,A.A)(ge&&[]),(0,A.A)(be.map(function(){return me})))}),{resolvedPanes:le,originMappings:ge}}))}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ja),a.\u0275\u0275inject(iy),a.\u0275\u0275inject(Ul),a.\u0275\u0275inject(Xt.ContentPluginManager))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Rf=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.name=e.id,e.title=n.title,e.editorComponent=n.editorComponent?n.editorComponent:void 0,e.renderComponent=n.renderComponent?n.renderComponent:void 0,n.handler&&(e.handler=n.handler)),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),Mf=function(){var o,r=function(n){function e(){var t;return(0,h.A)(this,e),(t=(0,F.A)(this,e)).pageChange$=new T.B,t.pageSize=20,t.dataStream=new R.t([]),t.subscription=new gx.yU,t.lastPage=0,t.paneItems=[],t}return(0,w.A)(e,n),(0,m.A)(e,[{key:"panes",set:function(s){this.paneItems=[].concat((0,A.A)(this.paneItems),(0,A.A)(s)),this.dataStream.next(this.paneItems)}},{key:"connect",value:function(s){var u=this;return this.subscription.add(s.viewChange.subscribe(function(l){var d=Math.ceil((l.end+1)/u.pageSize);d>u.lastPage&&(u.lastPage=d,u.pageChange$.next(d))})),this.dataStream}},{key:"disconnect",value:function(s){this.subscription.unsubscribe()}}])}(Aj.DataSource);return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Ql=gc(uS),Nf=function(r){return Fn(Ql,function(n){var e=n.dataTags.findIndex(function(t){return t===r});if(e>-1)return n.datasets[e][n.datasets[e].length-1]})},o9=Fn(Ql,function(o){return o.pageInfo}),s9=Fn(Ql,function(o){return o.page}),u9=Fn(Ql,function(o){return o.selectionPath}),hS=Fn(Ql,function(o){return o.formNames}),l9=Fn(Ql,function(o){return o.forms}),c9=Fn(hS,l9,function(o,r,n){var e=o.findIndex(function(t){return t===n.name});if(e>-1)return r[e]}),gi=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.store=e,this.getPageInfo$=this.store.pipe(wr(o9)),this.getPage$=this.store.pipe(wr(s9)),this.getSelectionPath$=this.store.pipe(wr(u9)),this.getFormNames$=this.store.pipe(wr(hS)),this.getForm$=function(s){return t.store.pipe(wr(c9,{name:s}))}},[{key:"loadRestData",value:function(t,s){this.store.dispatch(aS({tag:t,rest:s}))}},{key:"setPageInfo",value:function(t){this.store.dispatch(vy({info:t}))}},{key:"setPage",value:function(t){this.store.dispatch(yy({page:t}))}},{key:"setSelectionPath",value:function(t){this.store.dispatch(sS({path:t}))}},{key:"setForm",value:function(t,s){this.store.dispatch(oS({name:t,form:s}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),cd=(0,m.A)(function o(r){(0,h.A)(this,o),this.readUserIds=[],r&&(this.title=r.title,this.name=r.name,this.path=r.path,this.cssFile=r.cssFile,r.readUserIds&&(this.readUserIds=r.readUserIds.map(function(n){return n})))}),vS=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.label=r.label,this.name=r.name)}),yS=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.label=r.label,this.name=r.name)}),hs=(0,m.A)(function o(r){(0,h.A)(this,o),this.panels=[],r&&(this.id=r.id,this.name=r.name,this.title=r.title,this.derivativeId=r.derivativeId,r.panels&&(this.panels=r.panels.map(function(n){return new d9(n)})))}),d9=(0,m.A)(function o(r){(0,h.A)(this,o),this.panes=[],r&&(this.name=r.name,this.label=r.label,r.panes&&(this.panes=r.panes.map(function(n){return new p9(n)})))}),p9=(0,m.A)(function o(r){(0,h.A)(this,o),this.settings=[],r&&(this.name=r.name,this.label=r.label,this.contentPlugin=r.contentPlugin,r.settings&&(this.settings=r.settings.map(function(n){return new _t.AttributeValue(n)})))}),Ay=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.name=r.name,this.field=r.field)}),f9=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){var l=this;(0,h.A)(this,n),this.pageBuilderFacade=e,this.panelStateArchitectService=t,this.attributeSerializer=s,this.selectEntities=function(d){return d.entities},this.selectById=function(d){var p=d.id;return Fn(l.selectEntities,function(g){return g[p]?g[p]:void 0})},this.panelPageStateService=u.getEntityCollectionService("PanelPageState")},[{key:"mergeState",value:function(t){var s=this,l=t.settings,d=t.plugin,p=t.ancestory;return(0,Te.of)(t.state).pipe((0,We.n)(function(g){return s.pageBuilderFacade.getPageInfo$.pipe((0,fe.T)(function(_){return[g,_]}))}),(0,We.n)(function(g){var _=(0,k.A)(g,2),S=_[0],I=_[1];return d.handler.stateDefinition(l).pipe((0,fe.T)(function(B){return[S,I,B]}))}),(0,We.n)(function(g){var _=(0,k.A)(g,3),S=_[0],I=_[1],B=_[2];return s.panelPageStateService.collection$.pipe(wr(s.selectById({id:I.id})),(0,fe.T)(function($){return[S,new vo($||{id:I.id,panels:[]}),B]}),(0,pn.s)(1))}),(0,fe.T)(function(g){var _=(0,k.A)(g,3),S=_[0],I=_[1],B=_[2];s.panelStateArchitectService.buildToAncestorySpec({panelPageState:I,ancestory:(0,A.A)(p)});var $="$."+p.map(function(le,ge){return"".concat((ge+1)%2==0?"panes":(0===ge?"":"nestedPage.")+"panels","[").concat(le,"]")}).join(".");return[S,I,B,(0,Uo.JSONPath)({path:$,json:I})[0]]}),(0,q.M)(function(g){var _=(0,k.A)(g,4),S=_[0],B=_[2],$=_[3],Y=$.state?$.state.root?s.attributeSerializer.deserialize($.state).root:s.attributeSerializer.deserialize($.state):{},le=sd(Y&&0!==Object.keys(Y).length?Y:B,S);$.state=s.attributeSerializer.serialize(le,"root")}),(0,fe.T)(function(g){var _=(0,k.A)(g,4);return{paneState:_[3],pageState:_[1]}}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gi),a.\u0275\u0275inject(i9),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(yr))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),_S=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e},[{key:"serializeForm",value:function(t){for(var s=t.panels.length,u={},l=0;l<s;l++){for(var d=t.panels[l].panes.length,p=new Map,g=0;g<d;g++){var _=this.serializeFormPane(t.panels[l].panes[g]);if(t.panels[l].panes[g].name&&null!==t.panels[l].panes[g].name&&(u[t.panels[l].panes[g].name]||t.panels[l].panes[g].name===Zx(t.panels[l].panes[g].name))){p.has(t.panels[l].panes[g].name)||p.set(t.panels[l].panes[g].name,typeof u[t.panels[l].panes[g].name]<"u"?[u[t.panels[l].panes[g].name]]:[]);var S=p.get(t.panels[l].panes[g].name);p.set(t.panels[l].panes[g].name,[].concat((0,A.A)(S),[_]))}else u=t.panels[l].panes[g].name&&""!==t.panels[l].panes[g].name?(0,v.A)((0,v.A)({},u),{},(0,c.A)({},t.panels[l].panes[g].name,_)):(0,v.A)((0,v.A)({},u),_)}Array.from(p).forEach(function(I){var B=(0,k.A)(I,2);return u[B[0]]=B[1]})}return u}},{key:"serializeFormPane",value:function(t){if("panel"===t.contentPlugin)return this.serializeForm(new hs(this.attributeSerializer.deserializeAsObject(t.settings,!0)));var s=this.attributeSerializer.deserializeAsObject(t.settings,!0);return void 0!==s?s.value:void 0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Cy=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"makeJsonNode",value:function(){return{attributes:{},children:{}}}},{key:"reduceCss",value:function(t,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t&&t.children?Object.keys(t.children).filter(function(l){return u?0===l.indexOf(s):0!==l.indexOf(s)}).reduce(function(l,d){return(0,v.A)((0,v.A)({},l),{},{children:(0,v.A)((0,v.A)({},l.children),{},(0,c.A)({},u?d.substr(d.indexOf(s)+s.length).trim():d,t.children[d]))})},this.makeJsonNode()):this.makeJsonNode()}},{key:"reduceSelector",value:function(t,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t?Object.keys(t).filter(function(l){return u?0===l.indexOf(s):0!==l.indexOf(s)}).reduce(function(l,d){return(0,v.A)((0,v.A)({},l),{},(0,c.A)({},u?d.substr(d.indexOf(s)+s.length).trim():d,t[d]))},{}):{}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),xy=[[["ngx-dropzone-label"]]],Sy=["ngx-dropzone-label"];function m9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",1),a.\u0275\u0275listener("click",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s._remove(t))}),a.\u0275\u0275elementEnd()}}var g9=["fileInput"],h9=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],v9=["ngx-dropzone-preview","*","ngx-dropzone-label"];function y9(o,r){1&o&&a.\u0275\u0275projection(0,2,["*ngIf","!_hasPreviews"])}function _9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",2),a.\u0275\u0275listener("click",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s._remove(t))}),a.\u0275\u0275elementEnd()}}function b9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"video",2),a.\u0275\u0275listener("click",function(s){return a.\u0275\u0275restoreView(n),a.\u0275\u0275resetView(s.stopPropagation())}),a.\u0275\u0275element(1,"source",3),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("src",e.sanitizedVideoSrc,a.\u0275\u0275sanitizeUrl)}}function A9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",4),a.\u0275\u0275listener("click",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s._remove(t))}),a.\u0275\u0275elementEnd()}}var bS=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["ngx-dropzone-label"]],standalone:!1}),o}();function Xl(o){return null!=o&&"false"!=="".concat(o)}var Ey=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-remove-badge"]],standalone:!1,decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(n,e){1&n&&(a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(0,"svg"),a.\u0275\u0275element(1,"line",0)(2,"line",1),a.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),o}(),Dy=function(o){return o[o.BACKSPACE=8]="BACKSPACE",o[o.DELETE=46]="DELETE",o}(Dy||{}),Yl=function(){var o=function(){return(0,m.A)(function r(n){(0,h.A)(this,r),this.sanitizer=n,this._removable=!1,this.removed=new a.EventEmitter,this.tabIndex=0},[{key:"file",get:function(){return this._file},set:function(e){this._file=e}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Xl(e)}},{key:"keyEvent",value:function(e){switch(e.keyCode){case Dy.BACKSPACE:case Dy.DELETE:this.remove()}}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:(n=(0,Mt.A)((0,Ke.A)().m(function t(){var s=this;return(0,Ke.A)().w(function(u){for(;;)if(0===u.n)return u.a(2,new Promise(function(l,d){var p=new FileReader;if(p.onload=function(g){l(g.target.result)},p.onerror=function(g){console.error("FileReader failed on file ".concat(s.file.name,".")),d(g)},!s.file)return d("No file to read. Please provide a file using the [file] Input property.");p.readAsDataURL(s.file)}))},t)})),function e(){return n.apply(this,arguments)})}]);var n}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(M.DomSanitizer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(n,e){1&n&&a.\u0275\u0275listener("keyup",function(s){return e.keyEvent(s)}),2&n&&(a.\u0275\u0275domProperty("tabIndex",e.tabIndex),a.\u0275\u0275styleMap(e.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},standalone:!1,ngContentSelectors:Sy,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(a.\u0275\u0275projectionDef(xy),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,m9,1,0,"ngx-dropzone-remove-badge",0)),2&n&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.removable))},dependencies:[Ey,y.NgIf],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),o}(),AS=function(){var o=function(){return(0,m.A)(function r(){(0,h.A)(this,r)},[{key:"parseFileList",value:function(e,t,s,u){for(var l=[],d=[],p=0;p<e.length;p++){var g=e.item(p);this.isAccepted(g,t)?s&&g.size>s?this.rejectFile(d,g,"size"):!u&&l.length>=1?this.rejectFile(d,g,"no_multiple"):l.push(g):this.rejectFile(d,g,"type")}return{addedFiles:l,rejectedFiles:d}}},{key:"isAccepted",value:function(e,t){if("*"===t)return!0;var s=t.split(",").map(function(p){return p.toLowerCase().trim()}),u=e.type.toLowerCase(),l=e.name.toLowerCase();return!!s.find(function(p){return p.endsWith("/*")?u.split("/")[0]===p.split("/")[0]:p.startsWith(".")?l.endsWith(p):p==u})}},{key:"rejectFile",value:function(e,t,s){var u=t;u.reason=s,e.push(u)}}])}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Vf=function(){var o=function(){return(0,m.A)(function r(n){(0,h.A)(this,r),this.service=n,this.change=new a.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1},[{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Xl(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Xl(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function C9(o){return isNaN(parseFloat(o))||isNaN(Number(o))?null:Number(o)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=Xl(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=Xl(e)}},{key:"processDirectoryDrop",get:function(){return this._processDirectoryDrop},set:function(e){this._processDirectoryDrop=Xl(e)}},{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){var t=this;if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){var s=e.dataTransfer.items;if(s.length>0){for(var u=[],l=[],d=0;d<s.length;d++){var p=s[d].webkitGetAsEntry();p.isFile?u.push(e.dataTransfer.files[d]):p.isDirectory&&l.push(p)}var g=new DataTransfer;if(u.forEach(function($){g.items.add($)}),!l.length&&g.items.length&&this.handleFileDrop(g.files),l.length){var I,_=[],S=(0,N.A)(l);try{for(S.s();!(I=S.n()).done;)_.push(this.extractFilesFromDirectory(I.value))}catch($){S.e($)}finally{S.f()}Promise.all(_).then(function($){$.reduce(function(Y,le){return[].concat((0,A.A)(Y),(0,A.A)(le))}).forEach(function(Y){g.items.add(Y)}),t.handleFileDrop(g.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}},{key:"extractFilesFromDirectory",value:function(e){function t(u){return s.apply(this,arguments)}function s(){return(s=(0,Mt.A)((0,Ke.A)().m(function u(l){return(0,Ke.A)().w(function(p){for(;;)switch(p.p=p.n){case 0:return p.p=0,p.n=1,new Promise(function(g,_){return l.file(g,_)});case 1:return p.a(2,p.v);case 2:p.p=2,console.log("Error converting a fileEntry to a File: ",p.v);case 3:return p.a(2)}},u,null,[[0,2]])}))).apply(this,arguments)}return new Promise(function(u,l){var d=[],p=e.createReader(),g=function(){p.readEntries(function(){var S=(0,Mt.A)((0,Ke.A)().m(function I(B){var $,Y,le,ge;return(0,Ke.A)().w(function(ke){for(;;)switch(ke.p=ke.n){case 0:if(B.length){ke.n=1;break}u(d),ke.n=10;break;case 1:$=B.filter(function(qe){return qe.isFile}),Y=(0,N.A)($),ke.p=2,Y.s();case 3:if((le=Y.n()).done){ke.n=6;break}return ge=le.value,ke.n=4,t(ge);case 4:d.push(ke.v);case 5:ke.n=3;break;case 6:ke.n=8;break;case 7:ke.p=7,Y.e(ke.v);case 8:return ke.p=8,Y.f(),ke.f(8);case 9:g();case 10:return ke.a(2)}},I,null,[[2,7,8,9]])}));return function(I){return S.apply(this,arguments)}}())};g()})}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}}])}();return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(AS,2))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(n,e,t){var s;1&n&&a.\u0275\u0275contentQuery(t,Yl,5),2&n&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(e._previewChildren=s)},viewQuery:function(n,e){var t;1&n&&a.\u0275\u0275viewQuery(g9,7),2&n&&a.\u0275\u0275queryRefresh(t=a.\u0275\u0275loadQuery())&&(e._fileInput=t.first)},hostVars:8,hostBindings:function(n,e){1&n&&a.\u0275\u0275listener("click",function(){return e._onClick()})("dragover",function(s){return e._onDragOver(s)})("dragleave",function(){return e._onDragLeave()})("drop",function(s){return e._onDrop(s)}),2&n&&a.\u0275\u0275classProp("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)("ngx-dz-hovered",e._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([AS])],ngContentSelectors:v9,decls:5,vars:8,consts:[["fileInput",""],["type","file",3,"change","id","multiple","accept","disabled"],[4,"ngIf"]],template:function(n,e){if(1&n){var t=a.\u0275\u0275getCurrentView();a.\u0275\u0275projectionDef(h9),a.\u0275\u0275elementStart(0,"input",1,0),a.\u0275\u0275listener("change",function(u){return a.\u0275\u0275restoreView(t),a.\u0275\u0275resetView(e._onFilesSelected(u))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(2,y9,1,0,"ng-content",2),a.\u0275\u0275projection(3),a.\u0275\u0275projection(4,1)}2&n&&(a.\u0275\u0275property("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),a.\u0275\u0275attribute("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!e._hasPreviews))},dependencies:[y.NgIf],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),o}(),CS=function(){var o=function(r){function n(e){var t;return(0,h.A)(this,n),(t=(0,F.A)(this,n,[e])).defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",t.imageSrc=t.sanitizer.bypassSecurityTrustUrl(t.defaultImgLoading),t}return(0,w.A)(n,r),(0,m.A)(n,[{key:"file",get:function(){return this._file},set:function(t){this._file=t,this.renderImage()}},{key:"ngOnInit",value:function(){this.renderImage()}},{key:"renderImage",value:function(){var t=this;this.readFile().then(function(s){return setTimeout(function(){return t.imageSrc=s})}).catch(function(s){return console.error(s)})}}])}(Yl);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(M.DomSanitizer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:Yl,useExisting:o}]),a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Sy,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(a.\u0275\u0275projectionDef(xy),a.\u0275\u0275element(0,"img",0),a.\u0275\u0275projection(1),a.\u0275\u0275template(2,_9,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(a.\u0275\u0275property("src",e.imageSrc,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.removable))},dependencies:[Ey,y.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o}(),x9=function(){var o=function(r){function n(e){return(0,h.A)(this,n),(0,F.A)(this,n,[e])}return(0,w.A)(n,r),(0,m.A)(n,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}])}(Yl);return o.\u0275fac=function(n){return new(n||o)(a.\u0275\u0275directiveInject(M.DomSanitizer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-video-preview"]],standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:Yl,useExisting:o}]),a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Sy,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(n,e){1&n&&(a.\u0275\u0275projectionDef(xy),a.\u0275\u0275template(0,b9,2,1,"video",0),a.\u0275\u0275projection(1),a.\u0275\u0275template(2,A9,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(a.\u0275\u0275property("ngIf",e.sanitizedVideoSrc),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.removable))},dependencies:[Ey,y.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o}(),Of=function(){var o=(0,m.A)(function r(){(0,h.A)(this,r)});return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[[y.CommonModule]]}),o}(),S9=["treeContainer"],E9=function(r,n){return{ruleset:r,invalid:n}};function D9(o,r){if(1&o&&a.\u0275\u0275element(0,"i",12),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",n.getClassNames("arrowIcon"))}}function w9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function F9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,w9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getArrowIconContext())}}function k9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.toggleCollapse())}),a.\u0275\u0275template(1,F9,2,2,"ng-container",14),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(),t=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngClass",e.getClassNames("arrowIconButton",e.data.collapsed?"collapsed":"")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.getArrowIconTemplate())("ngIfElse",t)}}function P9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function I9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",12),a.\u0275\u0275template(2,P9,1,0,"ng-container",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getButtonGroupContext())}}function T9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(s.addRuleSet())}),a.\u0275\u0275element(1,"i",12),a.\u0275\u0275text(2," Ruleset "),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("addIcon"))}}function R9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(s.removeRuleSet())}),a.\u0275\u0275element(2,"i",12),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&o){var e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function M9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.addRule())}),a.\u0275\u0275element(2,"i",12),a.\u0275\u0275text(3," Rule "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,T9,3,3,"button",20)(5,R9,3,3,"ng-container",21),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("addIcon")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.allowRuleset),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!!e.parentValue&&e.allowRuleset)}}function N9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function V9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,N9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getSwitchGroupContext())}}function O9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"div",12)(2,"input",22,4),a.\u0275\u0275twoWayListener("ngModelChange",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275twoWayBindingSet(u.data.condition,s)||(u.data.condition=s),a.\u0275\u0275resetView(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"label",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275reference(3),u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.changeCondition(s.value))}),a.\u0275\u0275text(5,"AND"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div",12)(7,"input",23,5),a.\u0275\u0275twoWayListener("ngModelChange",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275twoWayBindingSet(u.data.condition,s)||(u.data.condition=s),a.\u0275\u0275resetView(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"label",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275reference(8),u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.changeCondition(s.value))}),a.\u0275\u0275text(10,"OR"),a.\u0275\u0275elementEnd()()()}if(2&o){var e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",e.getClassNames("switchGroup","transition")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("switchRadio")),a.\u0275\u0275twoWayProperty("ngModel",e.data.condition),a.\u0275\u0275property("disabled",e.disabled),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",e.getClassNames("switchLabel")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("switchRadio")),a.\u0275\u0275twoWayProperty("ngModel",e.data.condition),a.\u0275\u0275property("disabled",e.disabled),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",e.getClassNames("switchLabel"))}}function B9(o,r){if(1&o&&a.\u0275\u0275template(0,O9,11,11,"div",16),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",n.data)}}function L9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function j9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",12),a.\u0275\u0275template(2,L9,1,0,"ng-container",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getRemoveButtonContext(e))}}function U9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext(3).$implicit,u=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(u.removeRule(s,u.data))}),a.\u0275\u0275element(2,"i",12),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(5);a.\u0275\u0275property("ngClass",e.getClassNames("removeButtonSize","rightAlign")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function G9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function z9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,G9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getEntityContext(e))}}function $9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",27),a.\u0275\u0275template(1,z9,2,2,"ng-container",14),a.\u0275\u0275elementEnd()),2&o){a.\u0275\u0275nextContext();var n=a.\u0275\u0275reference(6),e=a.\u0275\u0275nextContext(4);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.getEntityTemplate())("ngIfElse",n)}}function H9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function K9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275twoWayBindingSet(l.entity,u)||(l.entity=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3),d=l.$implicit,p=l.index,g=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(g.changeEntity(u,d,p,g.data))}),a.\u0275\u0275template(2,H9,2,2,"option",29),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("entityControlSize")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("entityControl")),a.\u0275\u0275twoWayProperty("ngModel",e.entity),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.entities)}}function q9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function W9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,q9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getFieldContext(e))}}function Q9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function X9(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275twoWayBindingSet(l.field,u)||(l.field=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit,d=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(d.changeField(u,l))}),a.\u0275\u0275template(2,Q9,2,2,"option",29),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("fieldControlSize")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("fieldControl")),a.\u0275\u0275twoWayProperty("ngModel",e.field),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getFields(e.entity))}}function Y9(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function J9(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Y9,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getOperatorContext(e))}}function Z9(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n," ")}}function e7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12)(1,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275twoWayBindingSet(l.operator,u)||(l.operator=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(3).$implicit,l=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(l.changeOperator(u))}),a.\u0275\u0275template(2,Z9,2,2,"option",29),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("operatorControlSize")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("operatorControl")),a.\u0275\u0275twoWayProperty("ngModel",e.operator),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getOperators(e.field))}}function t7(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function n7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,t7,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275nextContext(3).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.getInputContext(e))}}function r7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",39),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function a7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",40),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function o7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",41),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function s7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",42),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function u7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function l7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"select",28),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275template(1,u7,2,2,"option",29),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getOptions(e.field))}}function c7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("ngValue",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function d7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"select",43),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275template(2,c7,2,2,"option",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.getOptions(e.field))}}function p7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",44),a.\u0275\u0275twoWayListener("ngModelChange",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext(4).$implicit;return a.\u0275\u0275twoWayBindingSet(l.value,u)||(l.value=u),a.\u0275\u0275resetView(u)}),a.\u0275\u0275listener("ngModelChange",function(){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext(6);return a.\u0275\u0275resetView(u.changeInput())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext(4).$implicit,t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",t.getClassNames("inputControl")),a.\u0275\u0275twoWayProperty("ngModel",e.value),a.\u0275\u0275property("disabled",t.disabled)}}function f7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",31),a.\u0275\u0275template(1,r7,1,3,"input",32)(2,a7,1,3,"input",33)(3,o7,1,3,"input",34)(4,s7,1,3,"input",35)(5,l7,2,4,"select",36)(6,d7,3,4,"ng-container",37)(7,p7,1,3,"input",38),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(3).$implicit,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",e.getClassNames("inputControlSize"))("ngSwitch",e.getInputType(n.field,n.operator)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","string"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","number"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","date"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","time"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","category"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","multiselect"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","boolean")}}function m7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,j9,3,3,"ng-container",14)(2,U9,3,4,"ng-template",null,7,a.\u0275\u0275templateRefExtractor)(4,$9,2,2,"div",26)(5,K9,3,5,"ng-template",null,8,a.\u0275\u0275templateRefExtractor)(7,W9,2,2,"ng-container",14)(8,X9,3,5,"ng-template",null,9,a.\u0275\u0275templateRefExtractor)(10,J9,2,2,"ng-container",14)(11,e7,3,5,"ng-template",null,10,a.\u0275\u0275templateRefExtractor)(13,n7,2,2,"ng-container",14)(14,f7,8,9,"ng-template",null,11,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275reference(3),e=a.\u0275\u0275reference(9),t=a.\u0275\u0275reference(12),s=a.\u0275\u0275reference(15),u=a.\u0275\u0275nextContext(2).$implicit,l=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",l.getRemoveButtonTemplate())("ngIfElse",n),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",null==l.entities?null:l.entities.length),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",l.getFieldTemplate())("ngIfElse",e),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",l.getOperatorTemplate())("ngIfElse",t),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",l.findTemplateForRule(u))("ngIfElse",s)}}function g7(o,r){if(1&o&&a.\u0275\u0275element(0,"query-builder",45),2&o){var n=a.\u0275\u0275nextContext(2).$implicit,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("data",n)("disabled",e.disabled)("parentTouchedCallback",e.parentTouchedCallback||e.onTouchedCallback)("parentChangeCallback",e.parentChangeCallback||e.onChangeCallback)("parentInputTemplates",e.parentInputTemplates||e.inputTemplates)("parentOperatorTemplate",e.parentOperatorTemplate||e.operatorTemplate)("parentFieldTemplate",e.parentFieldTemplate||e.fieldTemplate)("parentEntityTemplate",e.parentEntityTemplate||e.entityTemplate)("parentSwitchGroupTemplate",e.parentSwitchGroupTemplate||e.switchGroupTemplate)("parentButtonGroupTemplate",e.parentButtonGroupTemplate||e.buttonGroupTemplate)("parentRemoveButtonTemplate",e.parentRemoveButtonTemplate||e.removeButtonTemplate)("parentEmptyWarningTemplate",e.parentEmptyWarningTemplate||e.emptyWarningTemplate)("parentArrowIconTemplate",e.parentArrowIconTemplate||e.arrowIconTemplate)("parentValue",e.data)("classNames",e.classNames)("config",e.config)("allowRuleset",e.allowRuleset)("allowCollapse",e.allowCollapse)("emptyMessage",e.emptyMessage)("operatorMap",e.operatorMap)}}function h7(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function v7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,h7,1,0,"ng-container",18),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext().ngIf,e=a.\u0275\u0275nextContext(4);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.getEmptyWarningContext())}}function y7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,v7,2,2,"ng-container",21),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.invalid)}}function _7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"p",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(5);a.\u0275\u0275property("ngClass",n.getClassNames("emptyWarning")),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.emptyMessage," ")}}function b7(o,r){if(1&o&&a.\u0275\u0275template(0,_7,2,2,"p",16),2&o){var n=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275property("ngIf",n.invalid)}}function A7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"li",12),a.\u0275\u0275template(2,m7,16,9,"ng-container",21)(3,g7,1,20,"query-builder",25)(4,y7,2,1,"ng-container",14)(5,b7,1,1,"ng-template",null,6,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.ngIf,e=a.\u0275\u0275reference(6),t=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",t.getQueryItemClassName(n)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.ruleset),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.ruleset),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.getEmptyWarningTemplate())("ngIfElse",e)}}function C7(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,A7,7,5,"ng-container",21),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",a.\u0275\u0275pureFunction2(1,E9,!!n.rules,!e.config.allowEmptyRulesets&&n.rules&&0===n.rules.length))}}function x7(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"ul",12),a.\u0275\u0275template(1,C7,2,4,"ng-container",24),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",n.getClassNames("tree")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",n.data.rules)}}var S7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryOperator",""]],standalone:!1}),r}(),E7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryField",""]],standalone:!1}),r}(),D7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryEntity",""]],standalone:!1}),r}(),w7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","querySwitchGroup",""]],standalone:!1}),r}(),F7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryButtonGroup",""]],standalone:!1}),r}(),k7=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e},[{key:"queryInputType",get:function(){return this._type},set:function(t){t&&(this._type=t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"},standalone:!1}),r}(),P7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryRemoveButton",""]],standalone:!1}),r}(),I7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryEmptyWarning",""]],standalone:!1}),r}(),T7=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.template=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.TemplateRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","queryArrowIcon",""]],standalone:!1}),r}(),R7={provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return wy}),multi:!0},M7={provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return wy}),multi:!0},wy=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.changeDetectorRef=e,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.disabled=!1,this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.classNames={},this.operatorMap={},this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.operatorsCache={},this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return t.disabled},this.fields=[],this.filterFields=[],this.entities=[]},[{key:"condition",get:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.condition}},{key:"ngOnChanges",value:function(t){var s=this.config,u=typeof s;if("object"!==u)throw new Error("Expected 'config' must be a valid object, got ".concat(u," instead."));this.fields=Object.keys(s.fields).map(function(l){var d=s.fields[l];return d.value=d.value||l,d}),this.entities=s.entities?Object.keys(s.entities).map(function(l){var d=s.entities?s.entities[l]:[];return d.value=d.value||l,d}):[],this.operatorsCache={}}},{key:"validate",value:function(t){var s={},u=[],l=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(s.empty="Empty rulesets are not allowed.",l=!0),this.validateRulesInRuleset(this.data,u),u.length&&(s.rules=u,l=!0),l?s:null}},{key:"value",get:function(){return this.data},set:function(t){this.data=t||{condition:"and",rules:[]},this.handleDataChange()}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){var s=this;this.onChangeCallback=function(){return t(s.data)}}},{key:"registerOnTouched",value:function(t){var s=this;this.onTouchedCallback=function(){return t(s.data)}}},{key:"setDisabledState",value:function(t){this.disabled=t,this.changeDetectorRef.detectChanges()}},{key:"findTemplateForRule",value:function(t){var s=this.getInputType(t.field,t.operator);if(s){var u=this.findQueryInput(s);return u?u.template:(-1===this.defaultTemplateTypes.indexOf(s)&&console.warn("Could not find template for field with type: ".concat(s)),null)}}},{key:"findQueryInput",value:function(t){return(this.parentInputTemplates||this.inputTemplates||[]).find(function(u){return u.queryInputType===t})}},{key:"getOperators",value:function(t){if(this.operatorsCache[t])return this.operatorsCache[t];var s=this.defaultEmptyList,u=this.config.fields[t];if(this.config.getOperators)return this.config.getOperators(t,u);var l=u.type;return u&&u.operators?s=u.operators:l?(0===(s=this.operatorMap&&this.operatorMap[l]||this.defaultOperatorMap[l]||this.defaultEmptyList).length&&console.warn("No operators found for field '".concat(t,"' with type ").concat(u.type,". ")+"Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),u.nullable&&(s=s.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '".concat(t,"'")),this.operatorsCache[t]=s,s}},{key:"getFields",value:function(t){var s;return null!==(s=this.entities)&&void 0!==s&&s.length&&t?this.fields.filter(function(u){return u&&u.entity===t}):this.fields}},{key:"getInputType",value:function(t,s){if(this.config.getInputType)return this.config.getInputType(t,s);if(!this.config.fields[t])throw new Error("No configuration for field '".concat(t,"' could be found! Please add it to config.fields."));var u=this.config.fields[t].type;switch(s){case"is null":case"is not null":return null;case"in":case"not in":return"category"===u||"boolean"===u?"multiselect":u;default:return u}}},{key:"getOptions",value:function(t){return this.config.getOptions?this.config.getOptions(t):this.config.fields[t].options||this.defaultEmptyList}},{key:"getClassNames",value:function(){for(var t=this.classNames?this.classNames:this.defaultClassNames,s=this.defaultClassNames,u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];var p=l.map(function(g){return t[g]||s[g]}).filter(function(g){return!!g});return p.length?p.join(" "):[]}},{key:"getDefaultField",value:function(t){if(t){if(void 0!==t.defaultField)return this.getDefaultValue(t.defaultField);var s=this.fields.filter(function(u){return u&&u.entity===t.value});return s&&s.length?s[0]:(console.warn("No fields found for entity '".concat(t.name,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null}},{key:"getDefaultOperator",value:function(t){if(t&&void 0!==t.defaultOperator)return this.getDefaultValue(t.defaultOperator);var s=this.getOperators(t.value);return s&&s.length?s[0]:(console.warn("No operators found for field '".concat(t.value,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}},{key:"addRule",value:function(t){if(!this.disabled){if(t=t||this.data,this.config.addRule)this.config.addRule(t);else{var s=this.fields[0];t.rules=t.rules.concat([{field:s.value,operator:this.getDefaultOperator(s),value:this.getDefaultValue(s.defaultValue),entity:s.entity}])}this.handleTouched(),this.handleDataChange()}}},{key:"removeRule",value:function(t,s){this.disabled||(s=s||this.data,this.config.removeRule?this.config.removeRule(t,s):s.rules=s.rules.filter(function(u){return u!==t}),this.inputContextCache.delete(t),this.operatorContextCache.delete(t),this.fieldContextCache.delete(t),this.entityContextCache.delete(t),this.removeButtonContextCache.delete(t),this.handleTouched(),this.handleDataChange())}},{key:"addRuleSet",value:function(t){this.disabled||(t=t||this.data,this.config.addRuleSet?this.config.addRuleSet(t):t.rules=t.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())}},{key:"removeRuleSet",value:function(t,s){this.disabled||(t=t||this.data,s=s||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(t,s):s&&(s.rules=s.rules.filter(function(u){return u!==t})),this.handleTouched(),this.handleDataChange())}},{key:"transitionEnd",value:function(t){this.treeContainer.nativeElement.style.maxHeight=null}},{key:"toggleCollapse",value:function(){var t=this;this.computedTreeContainerHeight(),setTimeout(function(){t.data.collapsed=!t.data.collapsed},100)}},{key:"computedTreeContainerHeight",value:function(){var t=this.treeContainer.nativeElement;t&&t.firstElementChild&&(t.style.maxHeight=t.firstElementChild.clientHeight+8+"px")}},{key:"changeCondition",value:function(t){this.disabled||(this.data.condition=t,this.handleTouched(),this.handleDataChange())}},{key:"changeOperator",value:function(t){this.disabled||(t.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(t.operator,t.value,t):this.coerceValueForOperator(t.operator,t.value,t),this.handleTouched(),this.handleDataChange())}},{key:"coerceValueForOperator",value:function(t,s,u){return"multiselect"!==this.getInputType(u.field,t)||Array.isArray(s)?s:[s]}},{key:"changeInput",value:function(){this.disabled||(this.handleTouched(),this.handleDataChange())}},{key:"changeField",value:function(t,s){if(!this.disabled){var u=this.inputContextCache.get(s),d=this.config.fields[t],p=this.calculateFieldChangeValue(u&&u.field,d,s.value);void 0!==p?s.value=p:delete s.value,s.operator=this.getDefaultOperator(d),this.inputContextCache.delete(s),this.operatorContextCache.delete(s),this.fieldContextCache.delete(s),this.entityContextCache.delete(s),this.getInputContext(s),this.getFieldContext(s),this.getOperatorContext(s),this.getEntityContext(s),this.handleTouched(),this.handleDataChange()}}},{key:"changeEntity",value:function(t,s,u,l){if(!this.disabled){var d=u,p=l,g=this.entities.find(function(S){return S.value===t}),_=this.getDefaultField(g);p||(d=(p=this.data).rules.findIndex(function(S){return S===s})),s.field=_.value,p.rules[d]=s,_?this.changeField(_.value,s):(this.handleTouched(),this.handleDataChange())}}},{key:"getDefaultValue",value:function(t){return"function"==typeof t?t():t}},{key:"getOperatorTemplate",value:function(){var t=this.parentOperatorTemplate||this.operatorTemplate;return t?t.template:null}},{key:"getFieldTemplate",value:function(){var t=this.parentFieldTemplate||this.fieldTemplate;return t?t.template:null}},{key:"getEntityTemplate",value:function(){var t=this.parentEntityTemplate||this.entityTemplate;return t?t.template:null}},{key:"getArrowIconTemplate",value:function(){var t=this.parentArrowIconTemplate||this.arrowIconTemplate;return t?t.template:null}},{key:"getButtonGroupTemplate",value:function(){var t=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return t?t.template:null}},{key:"getSwitchGroupTemplate",value:function(){var t=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return t?t.template:null}},{key:"getRemoveButtonTemplate",value:function(){var t=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return t?t.template:null}},{key:"getEmptyWarningTemplate",value:function(){var t=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return t?t.template:null}},{key:"getQueryItemClassName",value:function(t){var s=this.getClassNames("row","connector","transition");return s+=" "+this.getClassNames(t.ruleset?"ruleSet":"rule"),t.invalid&&(s+=" "+this.getClassNames("invalidRuleSet")),s}},{key:"getButtonGroupContext",value:function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext}},{key:"getRemoveButtonContext",value:function(t){return this.removeButtonContextCache.has(t)||this.removeButtonContextCache.set(t,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:t}),this.removeButtonContextCache.get(t)}},{key:"getFieldContext",value:function(t){return this.fieldContextCache.has(t)||this.fieldContextCache.set(t,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:t}),this.fieldContextCache.get(t)}},{key:"getEntityContext",value:function(t){return this.entityContextCache.has(t)||this.entityContextCache.set(t,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:t}),this.entityContextCache.get(t)}},{key:"getSwitchGroupContext",value:function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getArrowIconContext",value:function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getEmptyWarningContext",value:function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}}},{key:"getOperatorContext",value:function(t){return this.operatorContextCache.has(t)||this.operatorContextCache.set(t,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(t.field),$implicit:t}),this.operatorContextCache.get(t)}},{key:"getInputContext",value:function(t){return this.inputContextCache.has(t)||this.inputContextCache.set(t,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(t.field),field:this.config.fields[t.field],$implicit:t}),this.inputContextCache.get(t)}},{key:"calculateFieldChangeValue",value:function(t,s,u){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(t,s,u):this.persistValueOnFieldChange&&null!=t&&null!=s&&t.type===s.type&&-1!==this.defaultPersistValueTypes.indexOf(t.type)?u:s&&void 0!==s.defaultValue?this.getDefaultValue(s.defaultValue):void 0}},{key:"checkEmptyRuleInRuleset",value:function(t){var s=this;return!t||!t.rules||0===t.rules.length||t.rules.some(function(u){return!!u.rules&&s.checkEmptyRuleInRuleset(u)})}},{key:"validateRulesInRuleset",value:function(t,s){var u=this;t&&t.rules&&t.rules.length>0&&t.rules.forEach(function(l){if(l.rules)return u.validateRulesInRuleset(l,s);if(l.field){var d=u.config.fields[l.field];if(d&&d.validator){var p=d.validator(l,t);null!=p&&s.push(p)}}})}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()}},{key:"handleTouched",value:function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ChangeDetectorRef))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["query-builder"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,F7,5),a.\u0275\u0275contentQuery(s,w7,5),a.\u0275\u0275contentQuery(s,E7,5),a.\u0275\u0275contentQuery(s,D7,5),a.\u0275\u0275contentQuery(s,S7,5),a.\u0275\u0275contentQuery(s,P7,5),a.\u0275\u0275contentQuery(s,I7,5),a.\u0275\u0275contentQuery(s,T7,5),a.\u0275\u0275contentQuery(s,k7,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.buttonGroupTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.switchGroupTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.fieldTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.entityTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.operatorTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.removeButtonTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.emptyWarningTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.arrowIconTemplate=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.inputTemplates=u))},viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(S9,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.treeContainer=s.first)},hostVars:1,hostBindings:function(e,t){2&e&&a.\u0275\u0275attribute("query-builder-condition",t.condition)},inputs:{disabled:"disabled",data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",config:"config",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([R7,M7]),a.\u0275\u0275NgOnChangesFeature],decls:13,vars:8,consts:[["defaultArrowIcon",""],["defaultButtonGroup",""],["defaultSwitchGroup",""],["treeContainer",""],["andOption",""],["orOption",""],["defaultEmptyWarning",""],["defaultRemoveButton",""],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"transitionend","ngClass"],[3,"ngClass",4,"ngIf"],[3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"click","ngClass","disabled"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngModelChange","ngClass","ngModel","disabled"],["type","radio","value","or",3,"ngModelChange","ngClass","ngModel","disabled"],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["class","q-inline-block-display",4,"ngIf"],[1,"q-inline-block-display"],[3,"ngModelChange","ngClass","ngModel","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngModelChange","ngClass","ngModel","disabled"],["type","number",3,"ngModelChange","ngClass","ngModel","disabled"],["type","date",3,"ngModelChange","ngClass","ngModel","disabled"],["type","time",3,"ngModelChange","ngClass","ngModel","disabled"],["multiple","",3,"ngModelChange","ngClass","ngModel","disabled"],["type","checkbox",3,"ngModelChange","ngClass","ngModel","disabled"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12),a.\u0275\u0275template(1,D9,1,1,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)(3,k9,2,3,"a",13)(4,I9,3,3,"ng-container",14)(5,M9,6,6,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(7,V9,2,2,"ng-container",14)(8,B9,1,1,"ng-template",null,2,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",15,3),a.\u0275\u0275listener("transitionend",function(p){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.transitionEnd(p))}),a.\u0275\u0275template(12,x7,2,2,"ul",16),a.\u0275\u0275elementEnd()}if(2&e){var u=a.\u0275\u0275reference(6),l=a.\u0275\u0275reference(9);a.\u0275\u0275property("ngClass",t.getClassNames("switchRow")),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.allowCollapse),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.getButtonGroupTemplate())("ngIfElse",u),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.getSwitchGroupTemplate())("ngIfElse",l),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngClass",t.getClassNames("treeContainer",t.data.collapsed?"collapsed":"")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.data&&t.data.rules)}},dependencies:[y.NgClass,y.NgForOf,y.NgIf,y.NgTemplateOutlet,y.NgSwitch,y.NgSwitchCase,f.NgSelectOption,f.\u0275NgSelectMultipleOption,f.DefaultValueAccessor,f.NumberValueAccessor,f.CheckboxControlValueAccessor,f.SelectControlValueAccessor,f.SelectMultipleControlValueAccessor,f.RadioControlValueAccessor,f.NgControlStatus,f.NgModel,o],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]:before{content:"\\274c"}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;transform:rotate(90deg);transition:linear .25s transform;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]:before{content:"\\25b6"}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]:before{content:"\\2795"}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%]{font-family:Lucida Grande,Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto;min-width:180px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]){min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid rgb(97,158,215);background:#fff;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:#b3415d1a!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #ccc}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #ccc;background:#fff}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{-webkit-transition:all .1s ease-in-out;-moz-transition:all .1s ease-in-out;-ms-transition:all .1s ease-in-out;-o-transition:all .1s ease-in-out;transition:all .1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;transition:ease-in .25s max-height}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{content:"";left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child:after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}']}),r}(),N7=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule]}),r}(),xS=["*"];function V7(o,r){if(1&o&&a.\u0275\u0275element(0,"div",0),2&o){var n=r.$index,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",e.gridRenderer.getGridColumnStyle(n))}}function O7(o,r){if(1&o&&a.\u0275\u0275element(0,"div",1),2&o){var n=r.$index,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",e.gridRenderer.getGridRowStyle(n))}}function B7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",8),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function L7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",9),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function j7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",10),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function U7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",11),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function G7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",12),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function z7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",13),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function $7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",14),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}function H7(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275domElementStart(0,"div",15),a.\u0275\u0275domListener("mousedown",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))})("touchstart",function(t){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.resize.dragStartDelay(t))}),a.\u0275\u0275domElementEnd()}}var dd,pd,Hi,fd,zo,md,gd,hd,vd,Vn=function(o){return o.Fit="fit",o.ScrollVertical="scrollVertical",o.ScrollHorizontal="scrollHorizontal",o.Fixed="fixed",o.VerticalFixed="verticalFixed",o.HorizontalFixed="horizontalFixed",o}(Vn||{}),Fy=function(o){return o.Always="always",o.OnDragAndResize="onDrag&Resize",o.None="none",o}(Fy||{}),nr=function(o){return o.None="none",o.CompactUp="compactUp",o.CompactLeft="compactLeft",o.CompactUpAndLeft="compactUp&Left",o.CompactLeftAndUp="compactLeft&Up",o.CompactRight="compactRight",o.CompactUpAndRight="compactUp&Right",o.CompactRightAndUp="compactRight&Up",o.CompactDown="compactDown",o.CompactDownAndLeft="compactDown&Left",o.CompactLeftAndDown="compactLeft&Down",o.CompactDownAndRight="compactDown&Right",o.CompactRightAndDown="compactRight&Down",o.CompactGrid="compactGrid",o}(nr||{}),ga=function(o){return o.LTR="ltr",o.RTL="rtl",o}(ga||{}),K7=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"gridster",void 0),this.gridster=r},[{key:"destroy",value:function(){this.gridster=null}},{key:"checkCompact",value:function(){this.gridster.$options.compactType!==nr.None&&(this.gridster.$options.compactType===nr.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===nr.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===nr.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===nr.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===nr.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===nr.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===nr.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===nr.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===nr.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===nr.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===nr.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===nr.CompactRightAndDown?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===nr.CompactGrid&&this.checkCompactGrid())}},{key:"checkCompactItem",value:function(n){this.gridster.$options.compactType!==nr.None&&(this.gridster.$options.compactType===nr.CompactUp?this.moveTillCollision(n,"y",-1):this.gridster.$options.compactType===nr.CompactLeft?this.moveTillCollision(n,"x",-1):this.gridster.$options.compactType===nr.CompactUpAndLeft?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===nr.CompactLeftAndUp?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",-1)):this.gridster.$options.compactType===nr.CompactUpAndRight?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===nr.CompactDown?this.moveTillCollision(n,"y",1):this.gridster.$options.compactType===nr.CompactDownAndLeft?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===nr.CompactLeftAndDown?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===nr.CompactDownAndRight?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===nr.CompactRightAndDown?(this.moveTillCollision(n,"x",1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===nr.CompactGrid&&this.moveToGridPosition(n))}},{key:"checkCompactMovement",value:function(n,e){var t=this,s=!1;this.gridster.grid.forEach(function(u){!1!==u.$item.compactEnabled&&t.moveTillCollision(u.$item,n,e)&&(s=!0,u.item[n]=u.$item[n],u.itemChanged())}),s&&this.checkCompact()}},{key:"moveTillCollision",value:function(n,e,t){return n[e]+=t,this.gridster.checkCollision(n)?(n[e]-=t,!1):(this.moveTillCollision(n,e,t),!0)}},{key:"checkCompactGrid",value:function(){var n=this,e=this.gridster.grid.filter(function(l){return!1!==l.$item.compactEnabled}).sort(function(l,d){return l.$item.y!==d.$item.y?l.$item.y-d.$item.y:l.$item.x-d.$item.x}),t=0,s=0,u=0;e.forEach(function(l){var d=l.$item;s+d.cols>n.gridster.columns&&(s=0,u=t=u);var p=d.x,g=d.y;d.x=s,d.y=t,(p!==d.x||g!==d.y)&&(l.item.x=d.x,l.item.y=d.y,l.itemChanged()),s+=d.cols,u=Math.max(u,t+d.rows)})}},{key:"moveToGridPosition",value:function(n){var d,e=0,t=0,s=0,u=this.gridster.grid.filter(function(_){return _.$item!==n}).sort(function(_,S){return _.$item.y!==S.$item.y?_.$item.y-S.$item.y:_.$item.x-S.$item.x}),l=(0,N.A)(u);try{for(l.s();!(d=l.n()).done;){var g=d.value.$item;t+g.cols>this.gridster.columns&&(t=0,s=e=s),e<g.y+g.rows&&e+n.rows>g.y&&t<g.x+g.cols&&t+n.cols>g.x?(t=g.x+g.cols,e=g.y,s=Math.max(s,e+g.rows)):(t+=g.cols,s=Math.max(s,e+g.rows))}}catch(_){l.e(_)}finally{l.f()}t+n.cols>this.gridster.columns&&(e=s,t=0),n.x=t,n.y=e}}])}(),q7={gridType:Vn.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:nr.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,itemAspectRatio:void 0,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Fy.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:ga.LTR},Ja=function(){function o(){(0,h.A)(this,o)}return(0,m.A)(o,null,[{key:"merge",value:function(n,e,t){for(var s in e)void 0!==e[s]&&t.hasOwnProperty(s)&&("object"==typeof e[s]?(s in n||(n[s]={}),n[s]=o.merge(n[s],e[s],t[s])):n[s]=e[s]);return n}},{key:"checkTouchEvent",value:function(n){void 0===n.clientX&&n.touches&&(n.touches&&n.touches.length?(n.clientX=n.touches[0].clientX,n.clientY=n.touches[0].clientY):n.changedTouches&&n.changedTouches.length&&(n.clientX=n.changedTouches[0].clientX,n.clientY=n.changedTouches[0].clientY))}},{key:"checkContentClassForEvent",value:function(n,e){if(n.$options.draggable.ignoreContent){if(!o.checkDragHandleClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass,n.$options.draggable.ignoreContentClass))return!0}else if(o.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass))return!0;return!1}},{key:"checkContentClassForEmptyCellClickEvent",value:function(n,e){return o.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass)||o.checkContentClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass)}},{key:"checkDragHandleClass",value:function(n,e,t,s){if(!n||n===e)return!1;if(n.hasAttribute("class")){var u=n.getAttribute("class").split(" ");if(u.indexOf(t)>-1)return!0;if(u.indexOf(s)>-1)return!1}return o.checkDragHandleClass(n.parentNode,e,t,s)}},{key:"checkContentClass",value:function(n,e,t){return!(!n||n===e)&&(!!(n.hasAttribute("class")&&n.getAttribute("class").split(" ").indexOf(t)>-1)||o.checkContentClass(n.parentNode,e,t))}},{key:"compareItems",value:function(n,e){return n.y>e.y?-1:n.y<e.y?1:n.x>e.x?-1:1}}])}(),W7=function(){return(0,m.A)(function o(r){var n=this;(0,h.A)(this,o),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"initialItem",void 0),(0,c.A)(this,"removeEmptyCellClickListenerFn",void 0),(0,c.A)(this,"removeEmptyCellTouchendListenerFn",void 0),(0,c.A)(this,"removeEmptyCellContextMenuListenerFn",void 0),(0,c.A)(this,"removeEmptyCellDropListenerFn",void 0),(0,c.A)(this,"removeEmptyCellMousedownListenerFn",void 0),(0,c.A)(this,"removeEmptyCellTouchstartListenerFn",void 0),(0,c.A)(this,"removeWindowMousemoveListenerFn",void 0),(0,c.A)(this,"removeWindowTouchmoveListenerFn",void 0),(0,c.A)(this,"removeWindowMouseupListenerFn",void 0),(0,c.A)(this,"removeWindowTouchendListenerFn",void 0),(0,c.A)(this,"removeEmptyCellDragoverListenerFn",void 0),(0,c.A)(this,"removeDocumentDragendListenerFn",void 0),(0,c.A)(this,"emptyCellClickCb",function(e){if(n.gridster&&!n.gridster.movingItem&&!Ja.checkContentClassForEmptyCellClickEvent(n.gridster,e)){var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellClickCallback&&n.gridster.options.emptyCellClickCallback(e,t),n.gridster.cdRef.markForCheck())}}),(0,c.A)(this,"emptyCellContextMenuCb",function(e){if(!n.gridster.movingItem&&!Ja.checkContentClassForEmptyCellClickEvent(n.gridster,e)){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellContextMenuCallback&&n.gridster.options.emptyCellContextMenuCallback(e,t),n.gridster.cdRef.markForCheck())}}),(0,c.A)(this,"emptyCellDragDrop",function(e){var t=n.getValidItemFromEvent(e);t&&(n.gridster.options.emptyCellDropCallback&&n.gridster.options.emptyCellDropCallback(e,t),n.gridster.cdRef.markForCheck())}),(0,c.A)(this,"emptyCellDragOver",function(e){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);t?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),n.gridster.movingItem=t):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),n.gridster.movingItem=null),n.gridster.previewStyle()}),(0,c.A)(this,"emptyCellMouseDown",function(e){if(!Ja.checkContentClassForEmptyCellClickEvent(n.gridster,e)){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e);!t||1!==e.buttons&&!(e instanceof TouchEvent)||(n.initialItem=t,n.gridster.movingItem=t,n.gridster.previewStyle(),n.gridster.zone.runOutsideAngular(function(){n.removeWindowMousemoveListenerFn=n.gridster.renderer.listen("window","mousemove",n.emptyCellMouseMove),n.removeWindowTouchmoveListenerFn=n.gridster.renderer.listen("window","touchmove",n.emptyCellMouseMove)}),n.removeWindowMouseupListenerFn=n.gridster.renderer.listen("window","mouseup",n.emptyCellMouseUp),n.removeWindowTouchendListenerFn=n.gridster.renderer.listen("window","touchend",n.emptyCellMouseUp))}}),(0,c.A)(this,"emptyCellMouseMove",function(e){e.preventDefault(),e.stopPropagation();var t=n.getValidItemFromEvent(e,n.initialItem);t&&(n.gridster.movingItem=t,n.gridster.previewStyle())}),(0,c.A)(this,"emptyCellMouseUp",function(e){n.removeWindowMousemoveListenerFn(),n.removeWindowTouchmoveListenerFn(),n.removeWindowMouseupListenerFn(),n.removeWindowTouchendListenerFn();var t=n.getValidItemFromEvent(e,n.initialItem);t&&(n.gridster.movingItem=t),n.gridster.options.emptyCellDragCallback&&n.gridster.movingItem&&n.gridster.options.emptyCellDragCallback(e,n.gridster.movingItem),setTimeout(function(){n.initialItem=null,n.gridster&&(n.gridster.movingItem=null,n.gridster.previewStyle())}),n.gridster.cdRef.markForCheck()}),this.gridster=r},[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}},{key:"updateOptions",value:function(){var n=this;this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(function(){n.removeEmptyCellDragoverListenerFn=n.gridster.renderer.listen(n.gridster.el,"dragover",n.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",function(){n.gridster.movingItem=null,n.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}},{key:"getPixelsX",value:function(n,e){var t=this.gridster.options.scale;return t?(n.clientX-e.left)/t+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():n.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}},{key:"getPixelsY",value:function(n,e){var t=this.gridster.options.scale;return t?(n.clientY-e.top)/t+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():n.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}},{key:"getValidItemFromEvent",value:function(n,e){n.preventDefault(),n.stopPropagation(),Ja.checkTouchEvent(n);var t=this.gridster.el.getBoundingClientRect(),s=this.getPixelsX(n,t),u=this.getPixelsY(n,t),l={x:this.gridster.pixelsToPositionX(s,Math.floor,!0),y:this.gridster.pixelsToPositionY(u,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(l.cols=Math.min(Math.abs(e.x-l.x)+1,this.gridster.$options.emptyCellDragMaxCols),l.rows=Math.min(Math.abs(e.y-l.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<l.x?l.x=e.x:e.x-l.x>this.gridster.$options.emptyCellDragMaxCols-1&&(l.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<l.y?l.y=e.y:e.y-l.y>this.gridster.$options.emptyCellDragMaxRows-1&&(l.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(l))return l}}])}(),Q7=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"lastGridColumnStyles",{}),(0,c.A)(this,"lastGridRowStyles",{}),this.gridster=r},[{key:"destroy",value:function(){this.gridster=null}},{key:"updateItem",value:function(n,e,t){if(this.gridster.mobile)this.clearCellPosition(t,n),t.setStyle(n,"height",this.gridster.$options.keepFixedHeightInMobile?(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px":e.rows*this.gridster.curWidth/e.cols+"px"),t.setStyle(n,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),t.setStyle(n,"margin-bottom",this.gridster.$options.margin+"px"),t.setStyle(n,ga.LTR?"margin-right":"margin-left","");else{var s=Math.round(this.gridster.curColWidth*e.x),u=Math.round(this.gridster.curRowHeight*e.y),l=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,d=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(t,n,s,u),t.setStyle(n,"width",l+"px"),t.setStyle(n,"height",d+"px");var p=null,g=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(p=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(g=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),t.setStyle(n,"margin-bottom",p),t.setStyle(n,this.gridster.$options.dirType===ga.LTR?"margin-right":"margin-left",g)}}},{key:"updateGridster",value:function(){var n="",e="",t="",s="";if(this.gridster.$options.gridType===Vn.Fit)n=Vn.Fit,e=Vn.ScrollVertical,t=Vn.ScrollHorizontal,s=Vn.Fixed;else if(this.gridster.$options.gridType===Vn.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,n=Vn.ScrollVertical,e=Vn.Fit,t=Vn.ScrollHorizontal,s=Vn.Fixed;else if(this.gridster.$options.gridType===Vn.ScrollHorizontal){var u=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(u>=1?u:u+1),n=Vn.ScrollHorizontal,e=Vn.Fit,t=Vn.ScrollVertical,s=Vn.Fixed}else this.gridster.$options.gridType===Vn.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Vn.Fixed,e=Vn.Fit,t=Vn.ScrollVertical,s=Vn.ScrollHorizontal):this.gridster.$options.gridType===Vn.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Vn.ScrollVertical,e=Vn.Fit,t=Vn.ScrollHorizontal,s=Vn.Fixed):this.gridster.$options.gridType===Vn.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=Vn.ScrollHorizontal,e=Vn.Fit,t=Vn.ScrollVertical,s=Vn.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==Vn.Fit?this.gridster.renderer.removeClass(this.gridster.el,n):this.gridster.renderer.addClass(this.gridster.el,n),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,s)}},{key:"getGridColumnStyle",value:function(n){var e={left:this.gridster.curColWidth*n,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,v.A)((0,v.A)({},this.getLeftPosition(e.left)),{},{width:e.width+"px",height:e.height+"px"});var t=this.lastGridColumnStyles[n];return t&&t.left===e.left&&t.width===e.width&&t.height===e.height?t.style:(this.lastGridColumnStyles[n]=e,e.style)}},{key:"getGridRowStyle",value:function(n){var e={top:this.gridster.curRowHeight*n,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,v.A)((0,v.A)({},this.getTopPosition(e.top)),{},{width:e.width+"px",height:e.height+"px"});var t=this.lastGridRowStyles[n];return t&&t.top===e.top&&t.width===e.width&&t.height===e.height?t.style:(this.lastGridRowStyles[n]=e,e.style)}},{key:"getLeftPosition",value:function(n){var e=this.gridster.$options.dirType===ga.RTL?-n:n;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}},{key:"getTopPosition",value:function(n){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+n+"px)"}:{top:this.getTopMargin()+n+"px"}}},{key:"clearCellPosition",value:function(n,e){this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform",""):(n.setStyle(e,"top",""),n.setStyle(e,"left",""))}},{key:"setCellPosition",value:function(n,e,t,s){var u=this.gridster.$options.dirType===ga.RTL?-t:t;this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform","translate3d("+u+"px, "+s+"px, 0)"):(n.setStyle(e,"left",this.getLeftMargin()+u+"px"),n.setStyle(e,"top",this.getTopMargin()+s+"px"))}},{key:"getLeftMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}},{key:"getTopMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}])}(),X7=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"previewStyle$",void 0),(0,c.A)(this,"gridRenderer",void 0),(0,c.A)(this,"el",void 0),(0,c.A)(this,"sub",void 0),this.renderer=t,this.el=e.nativeElement},[{key:"ngOnInit",value:function(){var t=this;this.sub=this.previewStyle$.subscribe(function(s){return t.previewStyle(s)})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"previewStyle",value:function(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}}])}();return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2))}),(0,c.A)(r,"\u0275cmp",a.\u0275\u0275defineComponent({type:o,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(e,t){},styles:["gridster-preview{position:absolute;display:none;background:#00000026}\n"],encapsulation:2})),r}(),ky=function(){var o,r=function(){function n(e,t,s,u){var l=this;(0,h.A)(this,n),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"cdRef",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"options",void 0),(0,c.A)(this,"movingItem",void 0),(0,c.A)(this,"el",void 0),(0,c.A)(this,"$options",void 0),(0,c.A)(this,"mobile",void 0),(0,c.A)(this,"curWidth",void 0),(0,c.A)(this,"curHeight",void 0),(0,c.A)(this,"grid",void 0),(0,c.A)(this,"columns",0),(0,c.A)(this,"rows",0),(0,c.A)(this,"curColWidth",void 0),(0,c.A)(this,"curRowHeight",void 0),(0,c.A)(this,"gridColumns",[]),(0,c.A)(this,"gridRows",[]),(0,c.A)(this,"windowResize",void 0),(0,c.A)(this,"dragInProgress",void 0),(0,c.A)(this,"emptyCell",void 0),(0,c.A)(this,"compact",void 0),(0,c.A)(this,"gridRenderer",void 0),(0,c.A)(this,"previewStyle$",new a.EventEmitter),(0,c.A)(this,"calculateLayout$",new T.B),(0,c.A)(this,"resize$",new T.B),(0,c.A)(this,"destroy$",new T.B),(0,c.A)(this,"optionsChanged",function(){l.setOptions();for(var d=l.grid.length-1;d>=0;d--)l.grid[d].updateOptions();l.calculateLayout()}),(0,c.A)(this,"onResize",function(){l.el.clientWidth&&(l.options.setGridSize&&(l.renderer.setStyle(l.el,"width",""),l.renderer.setStyle(l.el,"height","")),l.setGridSize(),l.calculateLayout())}),(0,c.A)(this,"getNextPossiblePosition",function(d){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};-1===d.cols&&(d.cols=l.$options.defaultItemCols),-1===d.rows&&(d.rows=l.$options.defaultItemRows),l.setGridDimensions();for(var _,g=p.y||0;g<l.rows;g++)for(d.y=g,_=p.x||0;_<l.columns;_++)if(d.x=_,!l.checkCollision(d))return!0;var S=l.$options.maxRows>=l.rows+d.rows;return!(l.rows<=l.columns&&S)&&l.$options.maxCols>=l.columns+d.cols?(d.x=l.columns,d.y=0,!0):!!S&&(d.y=l.rows,d.x=0,!0)}),(0,c.A)(this,"getFirstPossiblePosition",function(d){var p=Object.assign({},d);return l.getNextPossiblePosition(p),p}),(0,c.A)(this,"getLastPossiblePosition",function(d){var p={y:0,x:0};p=l.grid.reduce(function(_,S){var I={y:S.$item.y+S.$item.rows-1,x:S.$item.x+S.$item.cols-1};return 1===Ja.compareItems(_,I)?I:_},p);var g=Object.assign({},d);return l.getNextPossiblePosition(g,p),g}),this.renderer=t,this.cdRef=s,this.zone=u,this.el=e.nativeElement,this.$options=JSON.parse(JSON.stringify(q7)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new W7(this),this.compact=new K7(this),this.gridRenderer=new Q7(this)}return(0,m.A)(n,[{key:"checkCollisionTwoItems",value:function(t,s){if(!(t.x<s.x+s.cols&&t.x+t.cols>s.x&&t.y<s.y+s.rows&&t.y+t.rows>s.y))return!1;if(!this.$options.allowMultiLayer)return!0;var l=this.$options.defaultLayerIndex;return(void 0===t.layerIndex?l:t.layerIndex)===(void 0===s.layerIndex?l:s.layerIndex)}},{key:"ngOnInit",value:function(){var t=this;this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,Ln.B)(0),(0,cn.Q)(this.destroy$)).subscribe(function(){return t.calculateLayout()}),this.resize$.pipe((0,We.n)(function(){return(0,x1.O)(100)}),(0,cn.Q)(this.destroy$)).subscribe(function(){return t.resize()})}},{key:"ngOnChanges",value:function(t){var s=this;t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:function(l){return s.getItemComponent(l)}},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}},{key:"resize",value:function(){var t,s;"fit"!==this.$options.gridType||this.mobile?(s=this.el.clientWidth,t=this.el.clientHeight):(s=this.el.offsetWidth,t=this.el.offsetHeight),(s!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}},{key:"setOptions",value:function(){this.$options=Ja.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}},{key:"checkIfToResize",value:function(){var t=this.el.clientWidth,s=this.el.offsetWidth,u=this.el.scrollWidth,l=this.el.clientHeight,d=this.el.offsetHeight,p=this.el.scrollHeight;return!(t<s&&p>d&&p-d<s-t||l<d&&u>s&&u-s<d-l)}},{key:"checkIfMobile",value:function(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}},{key:"setGridSize",value:function(){var s,u,t=this.el;this.$options.setGridSize||this.$options.gridType===Vn.Fit&&!this.mobile?(s=t.offsetWidth,u=t.offsetHeight):(s=t.clientWidth,u=t.clientHeight),this.curWidth=s,this.curHeight=u}},{key:"setGridDimensions",value:function(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));for(var l,t=this.$options.minRows,s=this.$options.minCols,u=this.grid.length-1;u>=0;u--)(l=this.grid[u]).notPlaced||(t=Math.max(t,l.$item.y+l.$item.rows),s=Math.max(s,l.$item.x+l.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==s||this.rows!==t)&&(this.columns=s,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}},{key:"calculateLayout",value:function(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){var t=-this.$options.margin;null!==this.$options.outerMarginLeft?(t+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(t+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(t+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(t+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-t)/this.columns;var s=-this.$options.margin;null!==this.$options.outerMarginTop?(s+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(s+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-s)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();for(var l,u=this.grid.length-1;u>=0;u--)(l=this.grid[u]).setSize(),l.drag.toggle(),l.resize.toggle();this.resize$.next()}},{key:"updateGrid",value:function(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=n.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=n.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}},{key:"addItem",value:function(t){void 0===t.$item.cols&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),void 0===t.$item.rows&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),-1===t.$item.x||-1===t.$item.y?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayout$.next()}},{key:"removeItem",value:function(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}},{key:"checkCollision",value:function(t,s){var u=!1;if(this.options.itemValidateCallback&&(u=!this.options.itemValidateCallback(t)),!u&&this.checkGridCollision(t,s)&&(u=!0),!u){var l=this.findItemWithItem(t);l&&(u=l)}return u}},{key:"checkGridCollision",value:function(t){var $=!0;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var Y=t.itemAspectRatio||this.$options.itemAspectRatio;Y&&($=t.cols/t.rows===Y)}var be=t.cols*t.rows;return!(t.y>-1&&t.x>-1&&t.cols+t.x<=this.$options.maxCols&&t.rows+t.y<=this.$options.maxRows&&$&&t.cols<=(void 0===t.maxItemCols?this.$options.maxItemCols:t.maxItemCols)&&t.cols>=(void 0===t.minItemCols?this.$options.minItemCols:t.minItemCols)&&t.rows<=(void 0===t.maxItemRows?this.$options.maxItemRows:t.maxItemRows)&&t.rows>=(void 0===t.minItemRows?this.$options.minItemRows:t.minItemRows)&&(void 0===t.minItemArea?this.$options.minItemArea:t.minItemArea)<=be&&(void 0===t.maxItemArea?this.$options.maxItemArea:t.maxItemArea)>=be)}},{key:"findItemWithItem",value:function(t){for(var u,s=0;s<this.grid.length;s++)if((u=this.grid[s]).$item!==t&&this.checkCollisionTwoItems(u.$item,t))return u;return!1}},{key:"findItemsWithItem",value:function(t){for(var l,s=[],u=0;u<this.grid.length;u++)(l=this.grid[u]).$item!==t&&this.checkCollisionTwoItems(l.$item,t)&&s.push(l);return s}},{key:"autoPositionItem",value:function(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}},{key:"pixelsToPositionX",value:function(t,s,u){var l=s(t/this.curColWidth);return u?l:Math.max(l,0)}},{key:"pixelsToPositionY",value:function(t,s,u){var l=s(t/this.curRowHeight);return u?l:Math.max(l,0)}},{key:"positionXToPixels",value:function(t){return t*this.curColWidth}},{key:"positionYToPixels",value:function(t){return t*this.curRowHeight}},{key:"getItemComponent",value:function(t){return this.grid.find(function(s){return s.item===t})}},{key:"checkCollisionForSwaping",value:function(t){var s=!1;if(this.options.itemValidateCallback&&(s=!this.options.itemValidateCallback(t)),!s&&this.checkGridCollision(t)&&(s=!0),!s){var u=this.findItemWithItemForSwapping(t);u&&(s=u)}return s}},{key:"findItemWithItemForSwapping",value:function(t){for(var u,s=this.grid.length-1;s>-1;s--)if((u=this.grid[s]).$item!==t&&n.checkCollisionTwoItemsForSwaping(u.$item,t))return u;return!1}},{key:"previewStyle",value:function(){this.movingItem?(this.compact&&arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}}],[{key:"checkCollisionTwoItemsForSwaping",value:function(t,s){return t.x+(1===t.cols?0:1)<s.x+s.cols&&t.x+t.cols>s.x+(1===s.cols?0:1)&&t.y+(1===t.rows?0:1)<s.y+s.rows&&t.y+t.rows>s.y+(1===s.rows?0:1)}},{key:"getNewArrayLength",value:function(t,s,u){var l=Math.max(t,Math.floor(s/u));return l<0?0:Number.isFinite(l)?Math.floor(l):0}}])}();return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.NgZone))}),(0,c.A)(r,"\u0275cmp",a.\u0275\u0275defineComponent({type:o,selectors:[["gridster"]],inputs:{options:"options"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:xS,decls:6,vars:2,consts:[[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275repeaterCreate(0,V7,1,1,"div",0,a.\u0275\u0275repeaterTrackByIndex),a.\u0275\u0275repeaterCreate(2,O7,1,1,"div",1,a.\u0275\u0275repeaterTrackByIndex),a.\u0275\u0275projection(4),a.\u0275\u0275element(5,"gridster-preview",2)),2&e&&(a.\u0275\u0275repeater(t.gridColumns),a.\u0275\u0275advance(2),a.\u0275\u0275repeater(t.gridRows),a.\u0275\u0275advance(3),a.\u0275\u0275property("gridRenderer",t.gridRenderer)("previewStyle$",t.previewStyle$))},dependencies:[y.NgStyle,X7],styles:["gridster{position:relative;box-sizing:border-box;background:gray;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2})),r}(),SS=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"fromSouth",void 0),(0,c.A)(this,"fromNorth",void 0),(0,c.A)(this,"fromEast",void 0),(0,c.A)(this,"fromWest",void 0),(0,c.A)(this,"pushedItems",void 0),(0,c.A)(this,"pushedItemsTemp",void 0),(0,c.A)(this,"pushedItemsTempPath",void 0),(0,c.A)(this,"pushedItemsPath",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"pushedItemsOrder",void 0),(0,c.A)(this,"tryPattern",void 0),(0,c.A)(this,"iteration",0),this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=r,this.gridster=r.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(n,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;var t=this.push(this.gridsterItem,n);return t||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],t}return!1}},{key:"restoreTempItems",value:function(){for(var n=this.pushedItemsTemp.length-1;n>-1;n--)this.removeFromTempPushed(this.pushedItemsTemp[n])}},{key:"restoreItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).$item.x=t.item.x||0,t.$item.y=t.item.y||0,t.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).checkItemChanges(t.$item,t.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var n=this.pushedItems.length-1,e=!1;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(n,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(n.$item)||""===e)return!1;var t=this.gridster.findItemsWithItem(n.$item),s=e===this.fromNorth||e===this.fromWest;t.sort(function(S,I){return s?I.$item.y-S.$item.y||I.$item.x-S.$item.x:S.$item.y-I.$item.y||S.$item.x-I.$item.x});for(var l,u=0,d=!0,p=[];u<t.length;u++)if((l=t[u])!==this.gridsterItem){if(!l.canBeDragged()){d=!1;break}var g=this.pushedItemsTemp.indexOf(l);if(g>-1&&this.pushedItemsTempPath[g].length>10){d=!1;break}if(this.tryPattern[e][0].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][1].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][2].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else{if(!this.tryPattern[e][3].call(this,l,n)){d=!1;break}this.pushedItemsOrder.push(l),p.push(l)}}if(!d&&(u=this.pushedItemsOrder.lastIndexOf(p[0]))>-1)for(var _=this.pushedItemsOrder.length-1;_>=u;_--)l=this.pushedItemsOrder[_],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l);return this.iteration++,d}},{key:"trySouth",value:function(n,e){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(n),n.$item.y=e.$item.y+e.$item.rows,this.push(n,this.fromNorth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryNorth",value:function(n,e){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(n),n.$item.y=e.$item.y-n.$item.rows,this.push(n,this.fromSouth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryEast",value:function(n,e){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(n),n.$item.x=e.$item.x+e.$item.cols,this.push(n,this.fromWest)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"tryWest",value:function(n,e){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(n),n.$item.x=e.$item.x-n.$item.cols,this.push(n,this.fromEast)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}},{key:"addToTempPushed",value:function(n){var e=this.pushedItemsTemp.indexOf(n);-1===e&&(e=this.pushedItemsTemp.push(n)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:n.$item.x,y:n.$item.y})}},{key:"removeFromTempPushed",value:function(n){var e=this.pushedItemsTemp.indexOf(n),t=this.pushedItemsTempPath[e].pop();t&&(n.$item.x=t.x,n.$item.y=t.y,n.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}},{key:"addToPushed",value:function(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0},{x:n.$item.x,y:n.$item.y}]);else{var e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y})}}},{key:"removeFromPushed",value:function(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}},{key:"removeFromPushedItem",value:function(n){var e=this.pushedItems.indexOf(n);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}},{key:"checkPushedItem",value:function(n,e){for(var u,l,d,t=this.pushedItemsPath[e],s=t.length-2,p=!1;s>-1;s--)l=n.$item.x,d=n.$item.y,n.$item.x=(u=t[s]).x,n.$item.y=u.y,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=d):(n.setSize(),t.splice(s+1,t.length-s-1),p=!0);return t.length<2&&this.removeFromPushed(e),p}}])}();function DS(o,r,n,e,t,s,u,l,d,p){dd=o.$options.scrollSensitivity,pd=o.$options.scrollSpeed,fd=d,zo=p;var g=(Hi=o.el).offsetWidth,S=Hi.scrollLeft,I=Hi.scrollTop,B=n-I,Y=s.clientX,le=s.clientY;if(!o.$options.disableScrollVertical)if(u.clientY<le&&Hi.offsetHeight+I-n-t<dd){if(RS(),fd&&zo&&!zo.south||vd)return;vd=wS(1,l,u)}else if(u.clientY>le&&I>0&&B<dd){if(TS(),fd&&zo&&!zo.north||hd)return;hd=wS(-1,l,u)}else u.clientY!==le&&Iy();var be=r-S;if(!o.$options.disableScrollHorizontal){var me=o.$options.dirType===ga.RTL,ke=u.clientX<Y,qe=u.clientX>Y,it=me?ke:qe;if((me?qe:ke)&&S+g-r-e<=dd){if(IS(),fd&&zo&&!zo.east||md)return;md=FS(1,l,u,me)}else if(it&&S>0&&be<dd){if(PS(),fd&&zo&&!zo.west||gd)return;gd=FS(-1,l,u,me)}else u.clientX!==Y&&Py()}}function wS(o,r,n){var e=n.clientY;return window.setInterval(function(){(!Hi||-1===o&&Hi.scrollTop-pd<0)&&Iy(),Hi.scrollTop+=o*pd,r({clientX:n.clientX,clientY:e+=o*pd})},50)}function FS(o,r,n,e){var t=n.clientX;return window.setInterval(function(){if(Hi){var s=o*pd,u=e?-s:s;Hi.scrollBy({left:u,behavior:"auto"}),r({clientX:t+=u,clientY:n.clientY})}else Py()},50)}function kS(){Py(),Iy(),Hi=null}function Py(){PS(),IS()}function Iy(){RS(),TS()}function PS(){md&&(clearInterval(md),md=0)}function IS(){gd&&(clearInterval(gd),gd=0)}function TS(){vd&&(clearInterval(vd),vd=0)}function RS(){hd&&(clearInterval(hd),hd=0)}var Y7=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"swapedItem",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),this.gridsterItem=r,this.gridster=r.gridster},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=this.swapedItem=null}},{key:"swapItems",value:function(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}},{key:"checkSwapBack",value:function(){if(this.swapedItem){var n=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=n,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}},{key:"restoreSwapItem",value:function(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}},{key:"setSwapItem",value:function(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}},{key:"checkSwap",value:function(n){var e;if((e=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(n.$item):this.gridster.checkCollision(n.$item))&&!0!==e&&e.canBeDragged()){var t=e,s=t.$item.x,u=t.$item.y,l=n.$item.x,d=n.$item.y,p=l-s,g=d-u;t.$item.x=n.item.x-p,t.$item.y=n.item.y-g,n.$item.x=t.item.x+p,n.$item.y=t.item.y+g,this.gridster.checkCollision(t.$item)||this.gridster.checkCollision(n.$item)?(n.$item.x=l,n.$item.y=d,t.$item.x=s,t.$item.y=u):(t.setSize(),this.swapedItem=t,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}])}(),hi=function(o){return o.UP="UP",o.DOWN="DOWN",o.LEFT="LEFT",o.RIGHT="RIGHT",o}(hi||{}),Z7=function(){return(0,m.A)(function o(r,n,e){var t=this;(0,h.A)(this,o),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"lastMouse",void 0),(0,c.A)(this,"offsetLeft",void 0),(0,c.A)(this,"offsetTop",void 0),(0,c.A)(this,"margin",void 0),(0,c.A)(this,"outerMarginTop",void 0),(0,c.A)(this,"outerMarginRight",void 0),(0,c.A)(this,"outerMarginBottom",void 0),(0,c.A)(this,"outerMarginLeft",void 0),(0,c.A)(this,"diffTop",void 0),(0,c.A)(this,"diffLeft",void 0),(0,c.A)(this,"originalClientX",void 0),(0,c.A)(this,"originalClientY",void 0),(0,c.A)(this,"top",void 0),(0,c.A)(this,"left",void 0),(0,c.A)(this,"height",void 0),(0,c.A)(this,"width",void 0),(0,c.A)(this,"positionX",void 0),(0,c.A)(this,"positionY",void 0),(0,c.A)(this,"positionXBackup",void 0),(0,c.A)(this,"positionYBackup",void 0),(0,c.A)(this,"enabled",void 0),(0,c.A)(this,"mousemove",void 0),(0,c.A)(this,"mouseup",void 0),(0,c.A)(this,"mouseleave",void 0),(0,c.A)(this,"cancelOnBlur",void 0),(0,c.A)(this,"touchmove",void 0),(0,c.A)(this,"touchend",void 0),(0,c.A)(this,"touchcancel",void 0),(0,c.A)(this,"mousedown",void 0),(0,c.A)(this,"touchstart",void 0),(0,c.A)(this,"push",void 0),(0,c.A)(this,"swap",void 0),(0,c.A)(this,"path",void 0),(0,c.A)(this,"collision",!1),(0,c.A)(this,"dragMove",function(s){s.stopPropagation(),s.preventDefault(),Ja.checkTouchEvent(s);var l,d,p,g,u=t.getDirections(s);t.gridster.options.enableBoundaryControl&&(u.includes(hi.UP)&&t.gridsterItem.el.getBoundingClientRect().top<t.gridster.el.getBoundingClientRect().top+(null!==(l=t.outerMarginTop)&&void 0!==l?l:t.margin)&&(u=u.filter(function(_){return _!=hi.UP}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:t.lastMouse.clientY})),u.includes(hi.LEFT)&&t.gridsterItem.el.getBoundingClientRect().left<t.gridster.el.getBoundingClientRect().left+(null!==(d=t.outerMarginLeft)&&void 0!==d?d:t.margin)&&(u=u.filter(function(_){return _!=hi.LEFT}),s=new MouseEvent(s.type,{clientX:t.lastMouse.clientX,clientY:s.clientY})),u.includes(hi.RIGHT)&&t.gridsterItem.el.getBoundingClientRect().right>t.gridster.el.getBoundingClientRect().right-(null!==(p=t.outerMarginRight)&&void 0!==p?p:t.margin)&&(u=u.filter(function(_){return _!=hi.RIGHT}),s=new MouseEvent(s.type,{clientX:t.lastMouse.clientX,clientY:s.clientY})),u.includes(hi.DOWN)&&t.gridsterItem.el.getBoundingClientRect().bottom>t.gridster.el.getBoundingClientRect().bottom-(null!==(g=t.outerMarginBottom)&&void 0!==g?g:t.margin)&&(u=u.filter(function(_){return _!=hi.DOWN}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:t.lastMouse.clientY}))),u.length&&(t.offsetLeft=t.gridster.el.scrollLeft-t.gridster.el.offsetLeft,t.offsetTop=t.gridster.el.scrollTop-t.gridster.el.offsetTop,DS(t.gridster,t.left,t.top,t.width,t.height,s,t.lastMouse,t.calculateItemPositionFromMousePosition),t.calculateItemPositionFromMousePosition(s))}),(0,c.A)(this,"calculateItemPositionFromMousePosition",function(s){t.gridster.options.scale?t.calculateItemPositionWithScale(s,t.gridster.options.scale):t.calculateItemPositionWithoutScale(s),t.calculateItemPosition(),t.lastMouse.clientX=s.clientX,t.lastMouse.clientY=s.clientY,t.zone.run(function(){t.gridster.updateGrid()})}),(0,c.A)(this,"dragStop",function(s){s.stopPropagation(),s.preventDefault(),kS(),t.cancelOnBlur(),t.mousemove(),t.mouseup(),t.mouseleave(),t.touchmove(),t.touchend(),t.touchcancel(),t.gridsterItem.renderer.removeClass(t.gridsterItem.el,"gridster-item-moving"),t.gridster.dragInProgress=!1,t.gridster.updateGrid(),t.path=[],t.gridster.options.draggable&&t.gridster.options.draggable.stop?Promise.resolve(t.gridster.options.draggable.stop(t.gridsterItem.item,t.gridsterItem,s)).then(t.makeDrag,t.cancelDrag):t.makeDrag(),setTimeout(function(){t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle(!0))})}),(0,c.A)(this,"cancelDrag",function(){t.gridsterItem.$item.x=t.gridsterItem.item.x||0,t.gridsterItem.$item.y=t.gridsterItem.item.y||0,t.gridsterItem.setSize(),t.push&&t.push.restoreItems(),t.swap&&t.swap.restoreSwapItem(),t.push&&(t.push.destroy(),t.push=null),t.swap&&(t.swap.destroy(),t.swap=null)}),(0,c.A)(this,"makeDrag",function(){t.gridster.$options.draggable.dropOverItems&&t.gridster.options.draggable&&t.gridster.options.draggable.dropOverItemsCallback&&t.collision&&!0!==t.collision&&t.collision.$item&&t.gridster.options.draggable.dropOverItemsCallback(t.gridsterItem.item,t.collision.item,t.gridster),t.collision=!1,t.gridsterItem.setSize(),t.gridsterItem.checkItemChanges(t.gridsterItem.$item,t.gridsterItem.item),t.push&&t.push.setPushedItems(),t.swap&&t.swap.setSwapItem(),t.push&&(t.push.destroy(),t.push=null),t.swap&&(t.swap.destroy(),t.swap=null)}),(0,c.A)(this,"dragStartDelay",function(s){if(!s.target.classList.contains("gridster-item-resizable-handler")&&!Ja.checkContentClassForEvent(t.gridster,s))if(Ja.checkTouchEvent(s),t.gridster.$options.draggable.delayStart)var l=setTimeout(function(){t.dragStart(s),$()},t.gridster.$options.draggable.delayStart),d=t.gridsterItem.renderer.listen("document","mouseup",$),p=t.gridsterItem.renderer.listen("document","mouseleave",$),g=t.gridsterItem.renderer.listen("window","blur",$),_=t.gridsterItem.renderer.listen("document","touchmove",function B(Y){Ja.checkTouchEvent(Y),(Math.abs(Y.clientX-s.clientX)>9||Math.abs(Y.clientY-s.clientY)>9)&&$()}),S=t.gridsterItem.renderer.listen("document","touchend",$),I=t.gridsterItem.renderer.listen("document","touchcancel",$);else t.dragStart(s);function $(){clearTimeout(l),g(),d(),p(),_(),S(),I()}}),this.zone=e,this.gridsterItem=r,this.gridster=n,this.lastMouse={clientX:0,clientY:0},this.path=[]},[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}},{key:"dragStart",value:function(n){var e=this;n.which&&1!==n.which||this.gridster.dragInProgress||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===ga.RTL?n.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:n.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=n.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new SS(this.gridsterItem),this.swap=new Y7(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}},{key:"calculateItemPositionWithScale",value:function(n,e){this.left=this.gridster.$options.dirType===ga.RTL?this.gridster.el.scrollWidth-this.originalClientX+(n.clientX-this.originalClientX)/e+this.diffLeft:this.originalClientX+(n.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(n.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}},{key:"calculateItemPositionWithoutScale",value:function(n){this.left=this.gridster.$options.dirType===ga.RTL?this.gridster.el.offsetWidth-(n.clientX+this.offsetLeft-this.diffLeft):n.clientX+this.offsetLeft-this.diffLeft,this.top=n.clientY+this.offsetTop-this.diffTop}},{key:"calculateItemPosition",value:function(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){var n=this.path[this.path.length-1],e="";n.x<this.gridsterItem.$item.x?e=this.push.fromWest:n.x>this.gridsterItem.$item.x?e=this.push.fromEast:n.y<this.gridsterItem.$item.y?e=this.push.fromNorth:n.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}},{key:"toggle",value:function(){var n=this.gridsterItem.canBeDragged();!this.enabled&&n?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!n&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}},{key:"getDirections",value:function(n){var e=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=n.clientY,this.lastMouse.clientX=n.clientX),this.lastMouse.clientY>n.clientY&&e.push(hi.UP),this.lastMouse.clientY<n.clientY&&e.push(hi.DOWN),this.lastMouse.clientX<n.clientX&&e.push(hi.RIGHT),this.lastMouse.clientX>n.clientX&&e.push(hi.LEFT),e}}])}(),eU=function(){return(0,m.A)(function o(r){(0,h.A)(this,o),(0,c.A)(this,"fromSouth",void 0),(0,c.A)(this,"fromNorth",void 0),(0,c.A)(this,"fromEast",void 0),(0,c.A)(this,"fromWest",void 0),(0,c.A)(this,"pushedItems",void 0),(0,c.A)(this,"pushedItemsPath",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"tryPattern",void 0),this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=r,this.gridster=r.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"},[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(n){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,n)}},{key:"restoreItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).$item.x=t.item.x||0,t.$item.y=t.item.y||0,t.$item.cols=t.item.cols||1,t.$item.row=t.item.row||1,t.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var t,n=0,e=this.pushedItems.length;n<e;n++)(t=this.pushedItems[n]).checkItemChanges(t.$item,t.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var n=this.pushedItems.length-1,e=!1;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(n,e){var t=this.gridster.checkCollision(n.$item);if(t&&!0!==t&&t!==this.gridsterItem&&t.canBeResized()){if(this.tryPattern[e].call(this,t,n,e))return!0}else if(!1===t)return!0;return!1}},{key:"trySouth",value:function(n,e,t){var s=n.$item.y,u=n.$item.rows;return n.$item.y=e.$item.y+e.$item.rows,n.$item.rows=u+s-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.y=s,n.$item.rows=u,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryNorth",value:function(n,e,t){var s=n.$item.rows;return n.$item.rows=e.$item.y-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.rows=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryEast",value:function(n,e,t){var s=n.$item.x,u=n.$item.cols;return n.$item.x=e.$item.x+e.$item.cols,n.$item.cols=u+s-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.x=s,n.$item.cols=u,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"tryWest",value:function(n,e,t){var s=n.$item.cols;return n.$item.cols=e.$item.x-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.cols=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,t),!0)}},{key:"addToPushed",value:function(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0,cols:n.item.cols||0,rows:n.item.rows||0},{x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows}]);else{var e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows})}}},{key:"removeFromPushed",value:function(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}},{key:"checkPushedItem",value:function(n,e){for(var u,l,d,p,g,t=this.pushedItemsPath[e],s=t.length-2;s>-1;s--)l=n.$item.x,d=n.$item.y,p=n.$item.cols,g=n.$item.rows,n.$item.x=(u=t[s]).x,n.$item.y=u.y,n.$item.cols=u.cols,n.$item.rows=u.rows,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=d,n.$item.cols=p,n.$item.rows=g):(n.setSize(),t.splice(s+1,t.length-1-s));return t.length<2&&(this.removeFromPushed(e),!0)}}])}(),tU=function(){return(0,m.A)(function o(r,n,e){var t=this;(0,h.A)(this,o),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"gridsterItem",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"lastMouse",void 0),(0,c.A)(this,"itemBackup",{x:0,y:0,cols:0,rows:0}),(0,c.A)(this,"resizeEventScrollType",void 0),(0,c.A)(this,"directionFunction",null),(0,c.A)(this,"resizeEnabled",void 0),(0,c.A)(this,"resizableHandles",void 0),(0,c.A)(this,"mousemove",void 0),(0,c.A)(this,"mouseup",void 0),(0,c.A)(this,"mouseleave",void 0),(0,c.A)(this,"cancelOnBlur",void 0),(0,c.A)(this,"touchmove",void 0),(0,c.A)(this,"touchend",void 0),(0,c.A)(this,"touchcancel",void 0),(0,c.A)(this,"push",void 0),(0,c.A)(this,"pushResize",void 0),(0,c.A)(this,"minHeight",void 0),(0,c.A)(this,"minWidth",void 0),(0,c.A)(this,"offsetTop",void 0),(0,c.A)(this,"offsetLeft",void 0),(0,c.A)(this,"diffTop",void 0),(0,c.A)(this,"diffLeft",void 0),(0,c.A)(this,"diffRight",void 0),(0,c.A)(this,"diffBottom",void 0),(0,c.A)(this,"margin",void 0),(0,c.A)(this,"outerMarginTop",void 0),(0,c.A)(this,"outerMarginRight",void 0),(0,c.A)(this,"outerMarginBottom",void 0),(0,c.A)(this,"outerMarginLeft",void 0),(0,c.A)(this,"originalClientX",void 0),(0,c.A)(this,"originalClientY",void 0),(0,c.A)(this,"top",void 0),(0,c.A)(this,"left",void 0),(0,c.A)(this,"bottom",void 0),(0,c.A)(this,"right",void 0),(0,c.A)(this,"width",void 0),(0,c.A)(this,"height",void 0),(0,c.A)(this,"hasRatio",void 0),(0,c.A)(this,"dragMove",function(s){if(null===t.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");s.stopPropagation(),s.preventDefault(),Ja.checkTouchEvent(s),t.offsetTop=t.gridster.el.scrollTop-t.gridster.el.offsetTop,t.offsetLeft=t.gridster.el.scrollLeft-t.gridster.el.offsetLeft,DS(t.gridster,t.left,t.top,t.width,t.height,s,t.lastMouse,t.directionFunction,!0,t.resizeEventScrollType);var u=t.gridster.options.scale||1;t.directionFunction({clientX:t.originalClientX+(s.clientX-t.originalClientX)/u,clientY:t.originalClientY+(s.clientY-t.originalClientY)/u}),t.lastMouse.clientX=s.clientX,t.lastMouse.clientY=s.clientY,t.zone.run(function(){t.gridster.updateGrid()})}),(0,c.A)(this,"dragStop",function(s){s.stopPropagation(),s.preventDefault(),kS(),t.mousemove(),t.mouseup(),t.mouseleave(),t.cancelOnBlur(),t.touchmove(),t.touchend(),t.touchcancel(),t.gridster.dragInProgress=!1,t.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1},t.gridster.updateGrid(),t.gridster.options.resizable&&t.gridster.options.resizable.stop?Promise.resolve(t.gridster.options.resizable.stop(t.gridsterItem.item,t.gridsterItem,s)).then(t.makeResize,t.cancelResize):t.makeResize(),setTimeout(function(){t.gridsterItem.renderer.removeClass(t.gridsterItem.el,"gridster-item-resizing"),t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle())})}),(0,c.A)(this,"cancelResize",function(){t.gridsterItem.$item.cols=t.gridsterItem.item.cols||1,t.gridsterItem.$item.rows=t.gridsterItem.item.rows||1,t.gridsterItem.$item.x=t.gridsterItem.item.x||0,t.gridsterItem.$item.y=t.gridsterItem.item.y||0,t.gridsterItem.setSize(),t.push.restoreItems(),t.pushResize.restoreItems(),t.push.destroy(),t.push=null,t.pushResize.destroy(),t.pushResize=null}),(0,c.A)(this,"makeResize",function(){t.gridsterItem.setSize(),t.gridsterItem.checkItemChanges(t.gridsterItem.$item,t.gridsterItem.item),t.push.setPushedItems(),t.pushResize.setPushedItems(),t.push.destroy(),t.push=null,t.pushResize.destroy(),t.pushResize=null}),(0,c.A)(this,"check",function(s){return t.hasRatio&&t.enforceAspectRatio(),t.pushResize.pushItems(s),t.push.pushItems(s,t.gridster.$options.disablePushOnResize),t.gridster.checkCollision(t.gridsterItem.$item,!0)?(t.resetItem(t.hasRatio),!1):(t.gridster.previewStyle(),t.pushResize.checkPushBack(),t.push.checkPushBack(),!0)}),(0,c.A)(this,"getNewNorthPosition",function(s){return t.top=s.clientY+t.offsetTop-t.diffTop,t.height=t.bottom-t.top,t.minHeight>t.height?(t.height=t.minHeight,t.top=t.bottom-t.minHeight):t.gridster.options.enableBoundaryControl&&(t.top=Math.max(0,t.top),t.height=t.bottom-t.top),t.gridster.pixelsToPositionY(t.top+(t.gridster.options.pushItems?t.margin:0),Math.floor)}),(0,c.A)(this,"handleNorth",function(s){var u=t.getNewNorthPosition(s);t.gridsterItem.$item.y!==u&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height))}),(0,c.A)(this,"getNewWestPosition",function(s){return t.left=(t.gridster.$options.dirType===ga.RTL?t.originalClientX+(t.originalClientX-s.clientX):s.clientX)+t.offsetLeft-t.diffLeft,t.width=t.right-t.left,t.minWidth>t.width?(t.width=t.minWidth,t.left=t.right-t.minWidth):t.gridster.options.enableBoundaryControl&&(t.left=Math.max(0,t.left),t.width=t.right-t.left),t.gridster.pixelsToPositionX(t.left+(t.gridster.options.pushItems?t.margin:0),Math.floor)}),(0,c.A)(this,"handleWest",function(s){var u=t.getNewWestPosition(s);t.gridsterItem.$item.x!==u&&(t.makeItemBackup(),t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-u,t.gridsterItem.$item.x=u,!t.check(t.pushResize.fromEast))||(t.setItemLeft(t.left),t.setItemWidth(t.width))}),(0,c.A)(this,"getNewSouthPosition",function(s){if(t.height=s.clientY+t.offsetTop-t.diffBottom-t.top,t.minHeight>t.height&&(t.height=t.minHeight),t.bottom=t.top+t.height,t.gridster.options.enableBoundaryControl){var u,l=null!==(u=t.outerMarginBottom)&&void 0!==u?u:t.margin,d=t.gridster.el.getBoundingClientRect();t.bottom=Math.min(t.bottom,d.bottom-d.top-2*l),t.height=t.bottom-t.top}return t.gridster.pixelsToPositionY(t.bottom+(t.gridster.options.pushItems?0:t.margin),Math.ceil)}),(0,c.A)(this,"handleSouth",function(s){var u=t.getNewSouthPosition(s);t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,!t.check(t.pushResize.fromNorth))||t.setItemHeight(t.height)}),(0,c.A)(this,"getNewEastPosition",function(s){if(t.width=(t.gridster.$options.dirType===ga.RTL?t.originalClientX+(t.originalClientX-s.clientX):s.clientX)+t.offsetLeft-t.diffRight-t.left,t.minWidth>t.width&&(t.width=t.minWidth),t.right=t.left+t.width,t.gridster.options.enableBoundaryControl){var l,d=null!==(l=t.outerMarginRight)&&void 0!==l?l:t.margin,p=t.gridster.el.getBoundingClientRect();t.right=Math.min(t.right,p.right-p.left-2*d),t.width=t.right-t.left}return t.gridster.pixelsToPositionX(t.right+(t.gridster.options.pushItems?0:t.margin),Math.ceil)}),(0,c.A)(this,"handleEast",function(s){var u=t.getNewEastPosition(s);t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==u&&(t.makeItemBackup(),t.gridsterItem.$item.cols=u-t.gridsterItem.$item.x,!t.check(t.pushResize.fromWest))||t.setItemWidth(t.width)}),(0,c.A)(this,"handleNorthWest",function(s){var u=t.getNewNorthPosition(s),l=t.getNewWestPosition(s);(t.gridsterItem.$item.y!==u||t.gridsterItem.$item.x!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-l,t.gridsterItem.$item.x=l,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height),t.setItemLeft(t.left),t.setItemWidth(t.width))}),(0,c.A)(this,"handleNorthEast",function(s){var u=t.getNewNorthPosition(s),l=t.getNewEastPosition(s);(t.gridsterItem.$item.y!==u||t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows+=t.gridsterItem.$item.y-u,t.gridsterItem.$item.y=u,t.gridsterItem.$item.cols=l-t.gridsterItem.$item.x,!t.check(t.pushResize.fromSouth))||(t.setItemTop(t.top),t.setItemHeight(t.height),t.setItemWidth(t.width))}),(0,c.A)(this,"handleSouthWest",function(s){var u=t.getNewSouthPosition(s),l=t.getNewWestPosition(s);(t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u||t.gridsterItem.$item.x!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,t.gridsterItem.$item.cols+=t.gridsterItem.$item.x-l,t.gridsterItem.$item.x=l,!t.check(t.pushResize.fromNorth))||(t.setItemLeft(t.left),t.setItemHeight(t.height),t.setItemWidth(t.width))}),(0,c.A)(this,"handleSouthEast",function(s){var u=t.getNewSouthPosition(s),l=t.getNewEastPosition(s);(t.gridsterItem.$item.y+t.gridsterItem.$item.rows!==u||t.gridsterItem.$item.x+t.gridsterItem.$item.cols!==l)&&(t.makeItemBackup(),t.gridsterItem.$item.rows=u-t.gridsterItem.$item.y,t.gridsterItem.$item.cols=l-t.gridsterItem.$item.x,!t.check(t.pushResize.fromNorth))||(t.setItemHeight(t.height),t.setItemWidth(t.width))}),this.zone=e,this.gridsterItem=r,this.gridster=n,this.lastMouse={clientX:0,clientY:0},this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}},[{key:"destroy",value:function(){var n;null===(n=this.gridster)||void 0===n||n.previewStyle(),this.gridster=this.gridsterItem=null}},{key:"dragStart",value:function(n){var e=this;if(!(n.which&&1!==n.which||this.gridster.dragInProgress)){this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=n.clientX+this.offsetLeft-this.left,this.diffRight=n.clientX+this.offsetLeft-this.right,this.diffTop=n.clientY+this.offsetTop-this.top,this.diffBottom=n.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new SS(this.gridsterItem),this.pushResize=new eU(this.gridsterItem),this.gridster.dragInProgress=!0,this.hasRatio=!(!this.gridster.$options.itemAspectRatio&&!this.gridsterItem.$item.itemAspectRatio),this.itemBackup={x:0,y:0,cols:0,rows:0},this.gridster.updateGrid();var t=n.target.classList;t.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):t.contains("handle-w")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):t.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):t.contains("handle-e")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):t.contains("handle-nw")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):t.contains("handle-ne")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):t.contains("handle-sw")?this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):t.contains("handle-se")&&(this.gridster.$options.dirType===ga.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}}},{key:"makeItemBackup",value:function(){this.itemBackup.x=this.gridsterItem.$item.x,this.itemBackup.y=this.gridsterItem.$item.y,this.itemBackup.cols=this.gridsterItem.$item.cols,this.itemBackup.rows=this.gridsterItem.$item.rows}},{key:"resetItem",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridsterItem.$item.x!==this.itemBackup.x&&(this.gridsterItem.$item.x=this.itemBackup.x,n||(this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.y),this.setItemLeft(this.left))),this.gridsterItem.$item.y!==this.itemBackup.y&&(this.gridsterItem.$item.y=this.itemBackup.y,n||(this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.top))),this.gridsterItem.$item.cols!==this.itemBackup.cols&&(this.gridsterItem.$item.cols=this.itemBackup.cols,n||this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin)),this.gridsterItem.$item.rows!==this.itemBackup.rows&&(this.gridsterItem.$item.rows=this.itemBackup.rows,n||this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin))}},{key:"toggle",value:function(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}},{key:"dragStartDelay",value:function(n){var e=this;if(Ja.checkTouchEvent(n),this.gridster.$options.resizable.delayStart)var t=setTimeout(function(){e.dragStart(n),I()},this.gridster.$options.resizable.delayStart),s=this.zone.runOutsideAngular(function(){return{cancelMouse:e.gridsterItem.renderer.listen("document","mouseup",I),cancelMouseLeave:e.gridsterItem.renderer.listen("document","mouseleave",I),cancelOnBlur:e.gridsterItem.renderer.listen("window","blur",I),cancelTouchMove:e.gridsterItem.renderer.listen("document","touchmove",S),cancelTouchEnd:e.gridsterItem.renderer.listen("document","touchend",I),cancelTouchCancel:e.gridsterItem.renderer.listen("document","touchcancel",I)}}),u=s.cancelMouse,l=s.cancelMouseLeave,d=s.cancelOnBlur,p=s.cancelTouchMove,g=s.cancelTouchEnd,_=s.cancelTouchCancel;else this.dragStart(n);function S(B){Ja.checkTouchEvent(B),(Math.abs(B.clientX-n.clientX)>9||Math.abs(B.clientY-n.clientY)>9)&&I()}function I(){clearTimeout(t),d(),u(),l(),p(),g(),_()}}},{key:"setItemTop",value:function(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,n)}},{key:"setItemLeft",value:function(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,n,this.top)}},{key:"setItemHeight",value:function(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",n+"px")}},{key:"setItemWidth",value:function(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",n+"px")}},{key:"enforceAspectRatio",value:function(){var n=this.gridsterItem.$item.itemAspectRatio||this.gridster.$options.itemAspectRatio;if(n){var e=n*(this.gridster.curColWidth/this.gridster.curRowHeight),s=this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows,u=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,l=this.gridster.positionYToPixels(s)-this.margin,d=this.gridsterItem.$item.maxItemCols||this.gridster.$options.maxItemCols||0,p=this.gridsterItem.$item.maxItemRows||this.gridster.$options.maxItemRows||0,g=d?this.gridster.positionXToPixels(d)-this.margin:Number.MAX_VALUE,_=p?this.gridster.positionYToPixels(p)-this.margin:Number.MAX_VALUE,S=this.width,I=this.height;if(this.resizeEventScrollType.north||this.resizeEventScrollType.south?(S=this.height*e)<u?(S=u,I=u/e):S>g&&(S=g,I=g/e):(this.resizeEventScrollType.east||this.resizeEventScrollType.west)&&((I=this.width/e)<l?(I=l,S=l*e):I>_&&(I=_,S=_*e)),this.gridster.options.enableBoundaryControl){var B=this.gridster.el.getBoundingClientRect(),$=Math.max(this.outerMarginTop||this.margin,this.outerMarginRight||this.margin,this.outerMarginBottom||this.margin,this.outerMarginLeft||this.margin),Y=B.width-2*$,le=B.height-2*$;this.resizeEventScrollType.west?this.right-S<0&&(I=(S=this.right)/e):this.resizeEventScrollType.east&&this.left+S>Y&&(I=(S=Y-this.left)/e),this.resizeEventScrollType.north?this.bottom-I<0&&(S=(I=this.bottom)*e):this.resizeEventScrollType.south&&this.top+I>le&&(S=(I=le-this.top)*e)}this.width=S,this.height=I,this.resizeEventScrollType.west&&(this.left=this.right-this.width),this.resizeEventScrollType.north&&(this.top=this.bottom-this.height);var be=this.gridster.options.pushItems?0:this.margin,me=this.gridster.options.pushItems?this.margin:0,ke=this.gridster.options.pushItems?this.margin:0;this.gridsterItem.$item.x=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?0:this.margin),Math.floor),this.gridsterItem.$item.y=this.gridster.pixelsToPositionY(this.top+be,Math.floor),this.gridsterItem.$item.cols=this.gridster.pixelsToPositionX(this.width+me,Math.ceil),this.gridsterItem.$item.rows=this.gridster.pixelsToPositionY(this.height+ke,Math.ceil),this.setItemTop(this.top),this.setItemLeft(this.left),this.setItemWidth(this.width),this.setItemHeight(this.height)}}}])}(),nU=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),(0,c.A)(this,"renderer",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"item",void 0),(0,c.A)(this,"itemInit",new a.EventEmitter),(0,c.A)(this,"itemChange",new a.EventEmitter),(0,c.A)(this,"itemResize",new a.EventEmitter),(0,c.A)(this,"$item",void 0),(0,c.A)(this,"el",void 0),(0,c.A)(this,"gridster",void 0),(0,c.A)(this,"top",void 0),(0,c.A)(this,"left",void 0),(0,c.A)(this,"width",void 0),(0,c.A)(this,"height",void 0),(0,c.A)(this,"drag",void 0),(0,c.A)(this,"resize",void 0),(0,c.A)(this,"notPlaced",void 0),(0,c.A)(this,"init",void 0),this.renderer=s,this.zone=u,this.el=e.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=t,this.drag=new Z7(this,t,this.zone),this.resize=new tU(this,t,this.zone)},[{key:"zIndex",get:function(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}},{key:"ngOnInit",value:function(){this.gridster.addItem(this)}},{key:"ngOnChanges",value:function(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),t.item&&t.item.previousValue&&this.setSize()}},{key:"updateOptions",value:function(){this.$item=Ja.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,itemAspectRatio:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}},{key:"ngOnDestroy",value:function(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}},{key:"setSize",value:function(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}},{key:"updateItemSize",value:function(){var s=this.$item.x*this.gridster.curColWidth,u=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,l=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=s,!this.init&&u>0&&l>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})),(u!==this.width||l!==this.height)&&(this.width=u,this.height=l,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}},{key:"itemChanged",value:function(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}},{key:"checkItemChanges",value:function(t,s){t.rows===s.rows&&t.cols===s.cols&&t.x===s.x&&t.y===s.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=s.x||0,this.$item.y=s.y||0,this.$item.cols=s.cols||1,this.$item.rows=s.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}},{key:"canBeDragged",value:function(){var t=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.dragEnabled?t:this.$item.dragEnabled)}},{key:"canBeResized",value:function(){var t=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.resizeEnabled?t:this.$item.resizeEnabled)}},{key:"getResizableHandles",value:function(){var t=this.gridster.$options.resizable.handles,s=this.$item.resizableHandles;return void 0===s?t:(0,v.A)((0,v.A)({},t),s)}},{key:"bringToFront",value:function(t){if(!(t&&t<=0)){var s=this.getLayerIndex(),u=this.gridster.$options.maxLayerIndex;if(s<u){var l=t?s+t:u;this.item.layerIndex=this.$item.layerIndex=l>u?u:l}}}},{key:"sendToBack",value:function(t){if(!(t&&t<=0)){var s=this.getLayerIndex();if(s>0){var u=t?s-t:0;this.item.layerIndex=this.$item.layerIndex=u<0?0:u}}}},{key:"getLayerIndex",value:function(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}])}();return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ky),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.NgZone))}),(0,c.A)(r,"\u0275cmp",a.\u0275\u0275defineComponent({type:o,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(e,t){2&e&&a.\u0275\u0275styleProp("z-index",t.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:xS,decls:9,vars:8,consts:[[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0),a.\u0275\u0275conditionalCreate(1,B7,1,0,"div",0),a.\u0275\u0275conditionalCreate(2,L7,1,0,"div",1),a.\u0275\u0275conditionalCreate(3,j7,1,0,"div",2),a.\u0275\u0275conditionalCreate(4,U7,1,0,"div",3),a.\u0275\u0275conditionalCreate(5,G7,1,0,"div",4),a.\u0275\u0275conditionalCreate(6,z7,1,0,"div",5),a.\u0275\u0275conditionalCreate(7,$7,1,0,"div",6),a.\u0275\u0275conditionalCreate(8,H7,1,0,"div",7)),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.s&&t.resize.resizeEnabled?1:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.e&&t.resize.resizeEnabled?2:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.n&&t.resize.resizeEnabled?3:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.w&&t.resize.resizeEnabled?4:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.se&&t.resize.resizeEnabled?5:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.ne&&t.resize.resizeEnabled?6:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.sw&&t.resize.resizeEnabled?7:-1),a.\u0275\u0275advance(),a.\u0275\u0275conditional(null!=t.resize.resizableHandles&&t.resize.resizableHandles.nw&&t.resize.resizeEnabled?8:-1))},styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:#fff;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2})),r}(),MS=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return o=r,(0,c.A)(r,"\u0275fac",function(e){return new(e||o)}),(0,c.A)(r,"\u0275mod",a.\u0275\u0275defineNgModule({type:o})),(0,c.A)(r,"\u0275inj",a.\u0275\u0275defineInjector({})),r}(),yd=b(20793),Ua=b(65629),Tu=b(48739),Jl=b(29421),rU=b(69327),Zl=b(56079),Bf=["innerGridItem"],aU=function(){return{height:"100%"}},Ru=function(r){return{i:r}};function iU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function oU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",2)(1,"p",4),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",5),a.\u0275\u0275template(4,iU,1,0,"ng-container",6),a.\u0275\u0275elementEnd()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("fxFlex",t.dashboard[t.itemIndex(e,n)].cols),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate3("row: ",e," | column: ",n," | size: ",t.dashboard[t.itemIndex(e,n)].cols),a.\u0275\u0275advance(),a.\u0275\u0275property("ngStyle",t.gridItemInnerStyles(e,n)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(7,Ru,t.itemIndex(e,n)))}}function sU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",2)(1,"div",3),a.\u0275\u0275template(2,oU,5,9,"div",1),a.\u0275\u0275elementEnd()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("fxFlex",e.rowFlex(n)),a.\u0275\u0275advance(),a.\u0275\u0275property("fxLayout",e.rowDirection(n))("ngStyle",a.\u0275\u0275pureFunction0(4,aU)),a.\u0275\u0275advance(),a.\u0275\u0275property("for",e.totalColumns(n))}}var Ty=["gridItemActions"],Ry=["extraActions"],NS=["mainControls"],VS=["itemHeader"];function uU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function lU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function cU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function dU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"gridster-item",9)(1,"div",10)(2,"div",11,1),a.\u0275\u0275template(4,lU,1,0,"ng-container",12),a.\u0275\u0275elementStart(5,"button",13),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.removeItem(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.removeItem(l))}),a.\u0275\u0275text(6,"Delete"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"div",14),a.\u0275\u0275template(8,cU,1,0,"ng-container",12),a.\u0275\u0275elementEnd()()()}if(2&o){var e=r.$implicit,t=r.index,s=a.\u0275\u0275nextContext();a.\u0275\u0275property("item",e),a.\u0275\u0275advance(2),a.\u0275\u0275property("hidden",!s.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",s.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(6,Ru,t)),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngTemplateOutlet",s.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(8,Ru,t))}}var OS=function(){return{i:0}};function pU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function fU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function mU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function gU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function hU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function vU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function yU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"as-split-area",16)(1,"div",17)(2,"div",18,2),a.\u0275\u0275template(4,hU,1,0,"ng-container",19),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",20),a.\u0275\u0275template(6,vU,1,0,"ng-container",19),a.\u0275\u0275elementEnd()()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("size",t.itemSize(e,n)),a.\u0275\u0275advance(2),a.\u0275\u0275property("hidden",!t.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(6,Ru,t.itemIndex(e,n))),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(8,Ru,t.itemIndex(e,n)))}}function _U(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",8)(1,"div",9)(2,"button",10)(3,"mat-icon"),a.\u0275\u0275text(4,"menu"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"mat-menu",null,1)(7,"button",11),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.addColumn(l))}),a.\u0275\u0275text(8,"Add Column"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",11),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.layoutSettings("row",l))}),a.\u0275\u0275text(10,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"button",12),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.removeRow(l))}),a.\u0275\u0275text(12,"Delete"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(13,"div",13)(14,"as-split",14),a.\u0275\u0275listener("dragEnd",function(l){var d=a.\u0275\u0275restoreView(n).index,p=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(p.dragEnd(d,l))}),a.\u0275\u0275template(15,yU,7,10,"as-split-area",15),a.\u0275\u0275elementEnd()()()}if(2&o){var e=r.index,t=a.\u0275\u0275reference(6),s=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("matMenuTriggerFor",t),a.\u0275\u0275advance(13),a.\u0275\u0275property("for",s.totalColumns(e))}}var bU=["*"],AU=function(r){return[r,"manage"]};function CU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",6),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.login())}),a.\u0275\u0275text(1,"login"),a.\u0275\u0275elementEnd()}}function xU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",7)(1,"a",8),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("routerLink",a.\u0275\u0275pureFunction1(2,AU,n.path)),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.path)}}var My=function(r,n){return{i:r,j:n}};function SU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",16),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(2,"Save"),a.\u0275\u0275elementEnd()()}}function EU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(2,"Properties"),a.\u0275\u0275elementEnd()()}}function DU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(2,"Delete"),a.\u0275\u0275elementEnd()()}}function wU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(2,"Rules"),a.\u0275\u0275elementEnd()()}}function FU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(2,"Persistence"),a.\u0275\u0275elementEnd()()}}function kU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(2,"Interactions"),a.\u0275\u0275elementEnd()()}}function PU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))}),a.\u0275\u0275text(2,"Apply Style"),a.\u0275\u0275elementEnd()()}}function IU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))}),a.\u0275\u0275text(2,"Remove Style"),a.\u0275\u0275elementEnd()()}}function TU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",36),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2);var t=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(t.toggle())}),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd()()}}function RU(o,r){1&o&&(a.\u0275\u0275elementStart(0,"mat-icon"),a.\u0275\u0275text(1,"arrow_drop_down"),a.\u0275\u0275elementEnd())}function MU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"button",37),a.\u0275\u0275template(1,RU,2,0,"mat-icon",9),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2),e=a.\u0275\u0275reference(29);a.\u0275\u0275property("matMenuTriggerFor",e),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested)}}function NU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function VU(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,NU,1,0,"ng-container",24),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.contextsMenuTpl)}}function OU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",38),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.editor.panelStyleTitle(0))}}function BU(o,r){1&o&&a.\u0275\u0275element(0,"span",39)}function LU(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function jU(o,r){1&o&&(a.\u0275\u0275elementStart(0,"div",40),a.\u0275\u0275text(1,"Quell"),a.\u0275\u0275elementEnd())}function UU(o,r){if(1&o&&(a.\u0275\u0275template(0,TU,3,0,"button",20)(1,MU,2,2,"button",21),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275template(3,VU,2,1,"ng-container",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,OU,2,1,"div",22)(5,BU,1,0,"span",23)(6,LU,1,0,"ng-container",24),a.\u0275\u0275elementStart(7,"div",25)(8,"mat-form-field")(9,"mat-select",26)(10,"mat-option",27),a.\u0275\u0275text(11,"page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",28),a.\u0275\u0275text(13,"form"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-option",29),a.\u0275\u0275text(15,"json"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(16,"div",30)(17,"mat-form-field")(18,"mat-select",31)(19,"mat-option",32),a.\u0275\u0275text(20,"grid"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"mat-option",33),a.\u0275\u0275text(22,"gridless"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(23,"mat-option",34),a.\u0275\u0275text(24,"split"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275template(25,jU,2,0,"div",35)),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",!n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.editor.hasPanelStyle(0)&&n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.extraActionsAreaTmpl),a.\u0275\u0275advance(19),a.\u0275\u0275property("ngIf",!n.nested)}}function GU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",38),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.editor.panelStyleTitle(0))}}function zU(o,r){if(1&o&&a.\u0275\u0275template(0,GU,2,1,"div",22),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",n.editor.hasPanelStyle(0)&&!n.nested)}}function $U(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function HU(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",43),a.\u0275\u0275template(1,$U,1,0,"ng-container",44),a.\u0275\u0275elementEnd()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().i,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.editablePaneTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction2(2,My,e,n))}}function KU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone",41),a.\u0275\u0275listener("change",function(u){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.onFileChange(u,l))})("cdkDropListDropped",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.editor.onDrop(u))}),a.\u0275\u0275elementStart(1,"div",null,5),a.\u0275\u0275template(3,HU,2,5,"div",42),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.i,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.editor.panelPanes(e).controls)}}function qU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",16),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(1,"Save"),a.\u0275\u0275elementEnd()}}function WU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(1,"Properties"),a.\u0275\u0275elementEnd()}}function QU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(1,"Delete"),a.\u0275\u0275elementEnd()}}function XU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(1,"Rules"),a.\u0275\u0275elementEnd()}}function YU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(1,"Persistence"),a.\u0275\u0275elementEnd()}}function JU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(1,"Interactions"),a.\u0275\u0275elementEnd()}}function ZU(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.applyStyle(0))}),a.\u0275\u0275text(1,"Apply Style"),a.\u0275\u0275elementEnd()}}function eG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.removeStyle(0))}),a.\u0275\u0275text(1,"Remove Style"),a.\u0275\u0275elementEnd()}}function tG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function nG(o,r){if(1&o&&a.\u0275\u0275template(0,tG,1,0,"ng-container",2),2&o){var n=r.i,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Ru,n))}}function rG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",18),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(2,"Save"),a.\u0275\u0275elementEnd()()}}function aG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(2,"Rules"),a.\u0275\u0275elementEnd()()}}function iG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(2,"Persistence"),a.\u0275\u0275elementEnd()()}}function oG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(2,"Interactions"),a.\u0275\u0275elementEnd()()}}function sG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li")(1,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(2,"Delete"),a.\u0275\u0275elementEnd()()}}function uG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",34),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2);var t=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(t.toggle())}),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd()()}}function lG(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"button",35)(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd()()),2&o){a.\u0275\u0275nextContext(2);var n=a.\u0275\u0275reference(30);a.\u0275\u0275property("matMenuTriggerFor",n)}}function cG(o,r){1&o&&a.\u0275\u0275element(0,"span",36)}function dG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function pG(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,dG,1,0,"ng-container",32),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.contextsMenuTpl)}}function fG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function mG(o,r){1&o&&(a.\u0275\u0275elementStart(0,"div",37),a.\u0275\u0275text(1,"Quell"),a.\u0275\u0275elementEnd())}function gG(o,r){if(1&o&&(a.\u0275\u0275template(0,uG,3,0,"button",20)(1,lG,3,1,"button",21)(2,cG,1,0,"span",22),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275template(4,pG,2,1,"ng-container",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",23)(6,"mat-form-field")(7,"mat-select",24)(8,"mat-option",25),a.\u0275\u0275text(9,"page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-option",26),a.\u0275\u0275text(11,"form"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",27),a.\u0275\u0275text(13,"json"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(14,"div",28)(15,"mat-form-field")(16,"mat-select",29)(17,"mat-option",30),a.\u0275\u0275text(18,"gridless"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"mat-option",31),a.\u0275\u0275text(20,"split"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275template(21,fG,1,0,"ng-container",32)(22,mG,2,0,"div",33)),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",!n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.savable),a.\u0275\u0275advance(17),a.\u0275\u0275property("ngTemplateOutlet",n.extraActionsAreaTmpl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.nested)}}function hG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",43),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.applyStyle(t))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.applyStyle(t))}),a.\u0275\u0275text(1,"Apply Style"),a.\u0275\u0275elementEnd()}}function vG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",43),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.removeStyle(t))})("touchstart",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext().i,s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.editor.removeStyle(t))}),a.\u0275\u0275text(1,"Remove Style"),a.\u0275\u0275elementEnd()}}function yG(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",44),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().i,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(e.editor.panelStyleTitle(n))}}function _G(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",38)(1,"mat-icon"),a.\u0275\u0275text(2,"arrow_drop_down"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(3,"mat-menu",null,6)(5,"button",12),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i;a.\u0275\u0275nextContext();var d=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(d.layoutSettings("column",l))}),a.\u0275\u0275text(6,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"button",39),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.addContent(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.addContent(l))}),a.\u0275\u0275text(8,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",39),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.editPanelProps(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.editPanelProps(l))}),a.\u0275\u0275text(10,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,hG,2,0,"button",40)(12,vG,2,0,"button",40),a.\u0275\u0275elementStart(13,"button",41),a.\u0275\u0275listener("mousedown",function(){var l=a.\u0275\u0275restoreView(n).i;a.\u0275\u0275nextContext();var d=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(d.removeColumn2(l))})("touchstart",function(){var l=a.\u0275\u0275restoreView(n).i;a.\u0275\u0275nextContext();var d=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(d.removeColumn2(l))}),a.\u0275\u0275text(14,"Delete"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(15,yG,2,1,"div",42)}if(2&o){var e=r.i,t=a.\u0275\u0275reference(4),s=a.\u0275\u0275nextContext();a.\u0275\u0275property("matMenuTriggerFor",t),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngIf",!s.editor.hasPanelStyle(e)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e))}}function bG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function AG(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",47),a.\u0275\u0275template(1,bG,1,0,"ng-container",48),a.\u0275\u0275elementEnd()),2&o){var n=r.index,e=a.\u0275\u0275nextContext().i,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.editablePaneTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction2(2,My,e,n))}}function CG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone",45),a.\u0275\u0275listener("change",function(u){var l=a.\u0275\u0275restoreView(n).i,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.editor.onFileChange(u,l))})("cdkDropListDropped",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.editor.onDrop(u))}),a.\u0275\u0275elementStart(1,"div",null,7),a.\u0275\u0275template(3,AG,2,5,"div",46),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.i,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.editor.panelPanes(e).controls)}}function xG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.submit())}),a.\u0275\u0275text(1,"Save"),a.\u0275\u0275elementEnd()}}function SG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onRulesClick())}),a.\u0275\u0275text(1,"Rules"),a.\u0275\u0275elementEnd()}}function EG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onPersistenceClick())}),a.\u0275\u0275text(1,"Persistence"),a.\u0275\u0275elementEnd()}}function DG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onInteractionsClick())}),a.\u0275\u0275text(1,"Interactions"),a.\u0275\u0275elementEnd()}}function wG(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.editor.onDeleteClick())}),a.\u0275\u0275text(1,"Delete"),a.\u0275\u0275elementEnd()}}function FG(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function kG(o,r){if(1&o&&a.\u0275\u0275template(0,FG,1,0,"ng-container",2),2&o){var n=r.i,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Ru,n))}}var zG=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeMatcher=e,this.dashboard=[],this.layoutSetting=new $n,this.rowSettings=[],this.columnSettings=[]},[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(t,s){return s.y>t?s.y:t},0)+1}},{key:"direction",get:function(){var t=this.attributeMatcher.getComputedValue("direction",this.layoutSetting?this.layoutSetting.settings:[]);return!t||"column"!==t.trim()&&"row"!==t.trim()?"column":t}},{key:"ngOnInit",value:function(){console.log(this.dashboard)}},{key:"itemIndex",value:function(t,s){return this.dashboard.findIndex(function(u){return u.y===t&&u.x===s})}},{key:"totalColumns",value:function(t){return this.dashboard.reduce(function(s,u){return u.y===t?s+1:s},0)}},{key:"rowDirection",value:function(t){var s=this.attributeMatcher.getComputedValue("direction",this.rowSettings&&this.rowSettings[t]?this.rowSettings[t].settings:[]);return!s||"column"!==s.trim()&&"row"!==s.trim()?"row":s}},{key:"rowFlex",value:function(t){var s=this;return["flexGrow","flexShrink","flexBasis"].map(function(p){return s.attributeMatcher.getComputedValue(p,s.rowSettings&&s.rowSettings[t]?s.rowSettings[t].settings:[])}).map(function(p){return null!=p&&""!==p&&""!==p.trim()?"".concat(p.trim()):""}).join(" ")}},{key:"gridItemInnerStyles",value:function(t,s){var u=this.itemIndex(t,s);return{height:this.calculateHeight(this.attributeMatcher.getComputedValue("height",this.columnSettings&&this.columnSettings[u]?this.columnSettings[u].settings:[]))}}},{key:"calculateHeight",value:function(t){return null!=t?t.trim():"auto"}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeMatcherService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-flex-layout"]],contentQueries:function(e,t,s){var u;1&e&&a.\u0275\u0275contentQuery(s,Bf,5),2&e&&a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first)},inputs:{dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},standalone:!1,decls:2,vars:2,consts:[["fxFill","",3,"fxLayout"],[3,"fxFlex",4,"for"],[3,"fxFlex"],[3,"fxLayout","ngStyle"],["hidden",""],[1,"grid-item-inner",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,sU,3,5,"div",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("fxLayout",t.direction),a.\u0275\u0275advance(),a.\u0275\u0275property("for",t.totalRows))},dependencies:[y.NgTemplateOutlet,y.NgStyle,Re,ju,ai,Ae,sn.ForDirective],encapsulation:2}),r}(),BS=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n),this.itemAdded=new a.EventEmitter,this.itemRemoved=new a.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.itemHeights=[],this.rows=0},[{key:"grid",get:function(){return this.dashboard}},{key:"cumulativeHeight",get:function(){var t=this,s=[];return this.heightsMatrix.forEach(function(u){s.push(t.itemHeights.reduce(function(l,d){return d>l?d:l}))}),s.reduce(function(u,l){return u+l})}},{key:"heightsMatrix",get:function(){var t=this;return this.dashboard.reduce(function(s,u,l){return s[u.y]=void 0!==s[u.y]?[].concat((0,A.A)(s[u.y]),[t.itemHeights[l]]):[t.itemHeights[l]],s},[])}},{key:"ngOnInit",value:function(){}},{key:"removeItem",value:function(t){this.dashboard.splice(t,1),this.itemHeights.splice(t,1),this.itemRemoved.emit(t)}},{key:"addColumn",value:function(){console.log("add column grid"),this.dashboard.push({cols:1,rows:1,y:0,x:this.dashboard.length}),this.itemAdded.emit()}},{key:"addRow",value:function(){this.dashboard.push({cols:1,rows:1,y:this.rows++,x:0}),this.itemAdded.emit()}},{key:"setItemContentHeight",value:function(t,s){this.itemHeights[t]=s+(this.displayItemHeader?this.itemHeaderHeight(t):0),this.refreshGridHeight()}},{key:"refreshGridHeight",value:function(){this.gridHeight=this.cumulativeHeight+16*this.gridster.rows}},{key:"itemHeaderHeight",value:function(t){return this.itemHeaders.find(function(s,u){return u===t}).nativeElement.offsetHeight}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-grid-layout"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,Ty,5),a.\u0275\u0275contentQuery(s,Bf,5),a.\u0275\u0275contentQuery(s,Ry,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.gridItemActionsTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsTmpl=u.first))},viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(ky,5),a.\u0275\u0275viewQuery(NS,5),a.\u0275\u0275viewQuery(VS,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.gridster=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.mainControls=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.itemHeaders=s))},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",options:"options"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved"},standalone:!1,decls:11,vars:6,consts:[["mainControls",""],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["type","button",3,"mousedown"],[4,"ngTemplateOutlet"],[1,"layout-inner"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"delete",3,"mousedown","touchstart"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",2)(1,"div",3,0)(3,"button",4),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.addColumn())}),a.\u0275\u0275text(4,"Add Column"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"button",4),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.addRow())}),a.\u0275\u0275text(6,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,uU,1,0,"ng-container",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",6)(9,"gridster",7),a.\u0275\u0275template(10,dU,9,10,"gridster-item",8),a.\u0275\u0275elementEnd()()()}2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",!t.displayMainControls),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngTemplateOutlet",t.extraActionsTmpl),a.\u0275\u0275advance(),a.\u0275\u0275styleProp("height",t.gridHeight,"px"),a.\u0275\u0275advance(),a.\u0275\u0275property("options",t.options),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.dashboard))},dependencies:[y.NgForOf,y.NgTemplateOutlet,Re,ju,ai,ky,nU],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{background-color:#ccc;padding:.5em}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{background-color:#fff;padding:.5em}"]}),r}(),LS=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n),this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,Ty,5),a.\u0275\u0275contentQuery(s,Bf,5),a.\u0275\u0275contentQuery(s,Ry,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.gridItemActionsTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsTmpl=u.first))},hostVars:2,hostBindings:function(e,t){2&e&&a.\u0275\u0275classProp("is-nested",t.nested)},inputs:{displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested"},standalone:!1,decls:11,vars:9,consts:[["mainControls",""],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],[4,"ngTemplateOutlet"],[1,"layout-inner"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",2)(1,"div",3,0),a.\u0275\u0275template(3,pU,1,0,"ng-container",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",5)(5,"div",6)(6,"div",7,1),a.\u0275\u0275template(8,fU,1,0,"ng-container",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",9),a.\u0275\u0275template(10,mU,1,0,"ng-container",8),a.\u0275\u0275elementEnd()()()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",!t.displayMainControls),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.extraActionsTmpl),a.\u0275\u0275advance(3),a.\u0275\u0275property("hidden",!t.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction0(7,OS)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction0(8,OS)))},dependencies:[y.NgTemplateOutlet,Re,ju,ai],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline;border-bottom:1px solid #ccc;margin-bottom:.25em}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}"]}),r}(),$G=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.fb=e,this.settingValues=[],this.layoutForm=this.fb.group({settings:this.fb.control("")}),this.onTouched=function(){}},[{key:"attributes",get:function(){return this.layout.settings.has(this.type)?this.layout.settings.get(this.type):[]}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.layoutForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.layoutForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.layoutForm.disable():this.layoutForm.enable()}},{key:"validate",value:function(t){return this.layoutForm.valid?null:{invalidForm:{valid:!1,message:"layout is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-form"]],inputs:{layout:"layout",type:"type",settingValues:"settingValues"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"classifieds-ui-attributes-builder",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.layoutForm),a.\u0275\u0275advance(),a.\u0275\u0275property("attributes",t.attributes)("attributeValues",t.settingValues))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_t.AttributesBuilderComponent],encapsulation:2}),r}(),HG=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.valueComputerService=s,this.fb=u,this.settingValues=[],this.dialogForm=this.fb.group({layout:this.fb.control("")})},[{key:"attrValues",get:function(){return""===this.dialogForm.get("layout").value?this.settingValues:this.dialogForm.get("layout").value.settings.map(function(t){return new _t.AttributeValue(t)})}},{key:"ngOnInit",value:function(){this.layout=this.data.layout,this.type=this.data.type,this.settingValues=this.data.settingValues}},{key:"submit",value:function(){console.log(this.attrValues);var t=this.valueComputerService.compute(this.attrValues);this.dialogRef.close(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(_t.ValueComputerService),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-dialog"]],standalone:!1,decls:6,vars:5,consts:[[1,"layout-form",3,"ngSubmit","formGroup"],["formControlName","layout",3,"layout","type","settingValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"druid-layout-form",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.dialogForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("layout",t.layout)("type",t.type)("settingValues",t.settingValues),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.dialogForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,$G],encapsulation:2}),r}(),Lf=function(){var o,r=function(n){function e(t,s){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s])}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"layout"}))}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),jS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.el=e,this.dialog=t,this.lpm=s,this.itemAdded=new a.EventEmitter,this.itemRemoved=new a.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1,this.layoutSettingChange=new a.EventEmitter,this.rowSettingsChange=new a.EventEmitter,this.columnSettingsChange=new a.EventEmitter,this.rows=0,this.sizes=[]},[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(t,s){return s.y>t?s.y:t},0)+1}},{key:"ngOnInit",value:function(){if(0===this.dashboard.length)this.addRow();else{for(var t=0;t<this.totalRows;t++){var s=this.totalColumns(t);this.sizes.push([]);for(var u=0;u<s;u++){var l=this.itemIndex(t,u);this.sizes[t].push(this.dashboard[l].cols)}}if(this.totalRows!==this.rowSettings.length&&0===this.rowSettings.length){for(var d=[],p=0;p<this.totalRows;p++)d.push(new $n);this.rowSettings=d,this.rowSettingsChange.emit(this.rowSettings)}for(var g=0,_=0;_<this.totalRows;_++)g+=this.totalColumns(_);if(g!==this.columnSettings.length&&0===this.columnSettings.length){for(var S=[],I=0;I<this.totalRows;I++)for(var B=0;B<this.totalColumns(I);B++)S.push(new $n);this.columnSettings=S,this.columnSettingsChange.emit(this.columnSettings)}}}},{key:"removeRow",value:function(t){for(var s=this.dashboard.reduce(function(g,_,S){return[].concat((0,A.A)(g),(0,A.A)(_.y===t?[S]:[]))},[]),u=s.length,l=0,d=0;d<u;d++)this.dashboard.splice(s[d]-l,1),this.rowSettings.splice(t,1),l++,this.itemRemoved.emit(s[d]),this.rowSettingsChange.emit(this.rowSettings);u=this.dashboard.length;for(var p=0;p<u;p++)this.dashboard[p].y>t&&(this.dashboard[p].y=this.dashboard[p].y-1)}},{key:"removeColumn",value:function(t,s){var u=this.itemIndex(t,s);this.dashboard.splice(u,1),this.itemRemoved.emit(u)}},{key:"removeColumn2",value:function(t){this.dashboard.splice(t,1),this.itemRemoved.emit(t)}},{key:"addRow",value:function(){this.sizes.push([]),this.rowSettings=[].concat((0,A.A)(this.rowSettings.map(function(t){return new $n(t)})),[new $n]),this.addColumn(0===this.totalRows?0:this.totalRows),this.rowSettingsChange.emit(this.rowSettings)}},{key:"addColumn",value:function(t){var s=this,u=this.totalColumns(t),l=0===u?100:100/(u+1);this.sizes[t][u]=l,this.dashboard.push({cols:l,rows:1,y:t,x:u}),this.itemAdded.emit(),setTimeout(function(){return s.resetGutter()})}},{key:"dragEnd",value:function(t,s){var u=s.sizes,l=this.dashboard.length,d=0;this.sizes[t]=(0,A.A)(u);for(var p=this.dashboard.map(function(_){return(0,v.A)({},_)}),g=0;g<l;g++)this.dashboard[g].y===t&&(p[g].cols=u[d],d+=1);this.dashboard=p}},{key:"itemIndex",value:function(t,s){return this.dashboard.findIndex(function(u){return u.y===t&&u.x===s})}},{key:"itemSize",value:function(t,s){return this.dashboard[this.itemIndex(t,s)].cols}},{key:"totalColumns",value:function(t){return this.dashboard.reduce(function(s,u){return u.y===t?s+1:s},0)}},{key:"resetGutter",value:function(){this.el.nativeElement.querySelectorAll(".as-split-gutter").forEach(function(t){t.style.height="auto"})}},{key:"settingValues",value:function(t,s){switch(t){case"column":return this.columnSettings[s].settings;case"row":return this.rowSettings[s].settings;case"global":return this.layoutSetting.settings;default:return[]}}},{key:"layoutSettings",value:function(t,s){var u=this;this.lpm.getPlugin("split").pipe((0,We.n)(function(l){return u.dialog.open(HG,{data:{layout:l,type:t,settingValues:u.settingValues(t,s)}}).afterClosed()}),(0,z.p)(function(l){return!!l})).subscribe(function(l){switch(t){case"column":u.columnSettings=u.columnSettings.map(function(d,p){return new $n(p===s?{settings:l.map(function(g){return new _t.AttributeValue(g)})}:d)}),console.log(u.columnSettings),u.columnSettingsChange.emit(u.columnSettings);break;case"row":u.rowSettings=u.rowSettings.map(function(d,p){return new $n(p===s?{settings:l.map(function(g){return new _t.AttributeValue(g)})}:d)}),console.log(u.rowSettings),u.rowSettingsChange.emit(u.rowSettings);break;case"global":u.layoutSetting=new $n({settings:l.map(function(d){return new _t.AttributeValue(d)})}),u.layoutSettingChange.emit(u.layoutSetting)}})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(Lf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-split-layout"]],contentQueries:function(e,t,s){var u;1&e&&(a.\u0275\u0275contentQuery(s,Ty,5),a.\u0275\u0275contentQuery(s,Bf,5),a.\u0275\u0275contentQuery(s,Ry,5)),2&e&&(a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.gridItemActionsTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.innerGridItemTmpl=u.first),a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsTmpl=u.first))},viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(NS,5),a.\u0275\u0275viewQuery(VS,5),a.\u0275\u0275viewQuery(Kc,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.mainControls=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.itemHeaders=s),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.splitAreas=s))},hostVars:2,hostBindings:function(e,t){2&e&&a.\u0275\u0275classProp("is-nested",t.nested)},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved",layoutSettingChange:"layoutSettingChange",rowSettingsChange:"rowSettingsChange",columnSettingsChange:"columnSettingsChange"},standalone:!1,decls:6,vars:3,consts:[["mainControls",""],["rowActions","matMenu"],["itemHeader",""],[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],[4,"ngTemplateOutlet"],[1,"layout-inner"],["class","rows-wrapper",4,"for"],[1,"rows-wrapper"],[1,"row-controls"],["mat-button","","type","button",3,"matMenuTriggerFor"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",1,"remove-row",3,"mousedown"],[1,"rows-inner"],["unit","percent","direction","horizontal",3,"dragEnd"],[3,"size",4,"for"],[3,"size"],["fxLayout","column","fxFill",""],[1,"grid-item-header",3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",3)(1,"div",4,0),a.\u0275\u0275template(3,gU,1,0,"ng-container",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",6),a.\u0275\u0275template(5,_U,16,2,"div",7),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",!t.displayMainControls),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t.extraActionsTmpl),a.\u0275\u0275advance(2),a.\u0275\u0275property("for",t.totalRows))},dependencies:[y.NgTemplateOutlet,Gr.MatButton,yd.MatIcon,Ua.MatMenu,Ua.MatMenuItem,Ua.MatMenuTrigger,Re,ju,ai,Hc,Kc,sn.ForDirective],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline}.rows-inner[_ngcontent-%COMP%]{height:auto;background-color:#fff}.row-controls[_ngcontent-%COMP%]{background-color:gray;padding:0}.remove-row[_ngcontent-%COMP%]{float:right}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;color:#fff}.mat-mdc-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]}),r}(),US=function(o){function r(n){var e;if((0,h.A)(this,r),(e=(0,F.A)(this,r,[n])).settings=new Map,n.settings){var t=[];e.renderer=n.renderer,e.editor=n.editor,n.settings.forEach(function(s,u){t.push([u,s.map(function(l){return new _t.Attribute(l)})])}),e.settings=new Map(t)}return e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),GS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.siteName=e,this.authFacade=t,this.controlContainer=s,this.close=new a.EventEmitter,this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,fe.T)(function(t){return!!t}))}},{key:"login",value:function(){this.authFacade.login()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(sn.SITE_NAME),a.\u0275\u0275directiveInject(_i),a.\u0275\u0275directiveInject(f.ControlContainer),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-sidenav"]],outputs:{close:"close"},standalone:!1,ngContentSelectors:bU,decls:12,vars:6,consts:[[1,"close-wrapper"],[3,"click"],["type","button","class","login","mat-button","",3,"click",4,"ngIf"],[1,"viewport-container"],["appendOnly","","itemSize","48",1,"viewport"],["class","pp-item",4,"cdkVirtualFor","cdkVirtualForOf"],["type","button","mat-button","",1,"login",3,"click"],[1,"pp-item"],[3,"routerLink"]],template:function(e,t){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),a.\u0275\u0275listener("click",function(){return t.close.emit()}),a.\u0275\u0275text(2,"close"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,CU,2,0,"button",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"mat-divider"),a.\u0275\u0275projection(6),a.\u0275\u0275element(7,"mat-divider"),a.\u0275\u0275elementStart(8,"div",3)(9,"cdk-virtual-scroll-viewport",4),a.\u0275\u0275template(10,xU,3,4,"div",5),a.\u0275\u0275pipe(11,"async"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!a.\u0275\u0275pipeBind1(4,2,t.isAuthenticated$)),a.\u0275\u0275advance(7),a.\u0275\u0275property("cdkVirtualForOf",a.\u0275\u0275pipeBind1(11,4,t.panelPageListItems$)))},dependencies:[y.NgIf,Yn.RouterLink,Gr.MatButton,rU.MatDivider,yd.MatIcon,Zl.CdkFixedSizeVirtualScroll,Zl.CdkVirtualForOf,Zl.CdkVirtualScrollViewport,y.AsyncPipe],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.close-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;position:relative}.login[_ngcontent-%COMP%]{position:absolute;top:7px;right:5px}.pp-item[_ngcontent-%COMP%]{line-height:48px}.viewport[_ngcontent-%COMP%]{height:100%;width:300px}.viewport-container[_ngcontent-%COMP%]{flex:1;padding:0 0 0 16px;box-sizing:border-box}"]}),r}(),KG=function(){var o,r=function(n){function e(t,s,u,l){var d;return(0,h.A)(this,e),(d=(0,F.A)(this,e,[u])).siteName=t,d.authFacade=s,d.controlContainer=u,d.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem"),d}return(0,w.A)(e,n),(0,m.A)(e,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,fe.T)(function(s){return!!s}))}},{key:"login",value:function(){this.authFacade.login()}}])}(dS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(sn.SITE_NAME),a.\u0275\u0275directiveInject(_i),a.\u0275\u0275directiveInject(f.ControlContainer),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout-editor"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:42,vars:19,consts:[["drawer",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["panes",""],["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["cdkDropListGroup","",3,"formGroup","nested"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"mousedown"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","style-title",4,"ngIf"],["class","spacer",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","grid"],["value","gridless"],["value","split"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"style-title"],[1,"spacer"],[1,"brand"],["cdkDropList","",1,"panel-dropzone",3,"change","cdkDropListDropped","cdkDropListData","multiple","disableClick"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-sidenav-container",6)(1,"mat-sidenav",7,0)(3,"druid-layout-sidenav",8),a.\u0275\u0275listener("close",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(l.toggle())}),a.\u0275\u0275elementStart(4,"nav")(5,"ul"),a.\u0275\u0275template(6,SU,3,0,"li",9)(7,EU,3,0,"li",9)(8,DU,3,0,"li",9)(9,wU,3,0,"li",9)(10,FU,3,0,"li",9)(11,kU,3,0,"li",9),a.\u0275\u0275elementStart(12,"li")(13,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))}),a.\u0275\u0275text(14,"Add Content"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(15,"li")(16,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))}),a.\u0275\u0275text(17,"Props"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(18,PU,3,0,"li",9)(19,IU,3,0,"li",9),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-gridless-layout",11),a.\u0275\u0275template(22,UU,26,7,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(24,zU,1,1,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)(26,KU,4,4,"ng-template",null,3,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(28,"mat-menu",null,4),a.\u0275\u0275template(30,qU,2,0,"button",12)(31,WU,2,0,"button",13)(32,QU,2,0,"button",13)(33,XU,2,0,"button",13)(34,YU,2,0,"button",14)(35,JU,2,0,"button",14),a.\u0275\u0275elementStart(36,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.addContent(0))}),a.\u0275\u0275text(37,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(38,"button",10),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))})("touchstart",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.editPanelProps(0))}),a.\u0275\u0275text(39,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(40,ZU,2,0,"button",15)(41,eG,2,0,"button",15),a.\u0275\u0275elementEnd()}2&e&&(a.\u0275\u0275property("hasBackdrop",!1),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable||t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngIf",!t.editor.hasPanelStyle(0)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)),a.\u0275\u0275advance(2),a.\u0275\u0275property("formGroup",t.controlContainer.control)("nested",t.nested),a.\u0275\u0275advance(9),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable||t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngIf",!t.editor.hasPanelStyle(0)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Tu.CdkDropList,Tu.CdkDropListGroup,Tu.CdkDrag,Sr.MatOption,Gr.MatButton,yd.MatIcon,jt.MatFormField,Ua.MatMenu,Ua.MatMenuItem,Ua.MatMenuTrigger,fa.MatSelect,Jl.MatSidenav,Jl.MatSidenavContainer,Jl.MatSidenavContent,Vf,LS,GS],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),r}(),qG=function(){var o,r=function(n){function e(t){var s;return(0,h.A)(this,e),(s=(0,F.A)(this,e,[t])).controlContainer=t,s}return(0,w.A)(e,n),(0,m.A)(e,[{key:"ngOnInit",value:function(){}}])}(pS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout-renderer"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["innerGridItem",""],[3,"displayMainControls","displayItemHeader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-gridless-layout",1),a.\u0275\u0275template(1,nG,1,4,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("displayMainControls",t.displayMainControls)("displayItemHeader",t.displayItemHeader)},dependencies:[y.NgTemplateOutlet,LS],styles:["[_nghost-%COMP%]{height:100%}"]}),r}(),WG=function(){var o,r=function(n){function e(t){var s;return(0,h.A)(this,e),(s=(0,F.A)(this,e,[t])).controlContainer=t,s}return(0,w.A)(e,n),(0,m.A)(e,[{key:"gridItems",get:function(){return this.dashboard.map(function(s,u){return(0,v.A)((0,v.A)({},s),{},{cols:Math.floor(s.cols),weight:u})})}},{key:"ngOnInit",value:function(){}}])}(dS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-split-layout-editor"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:42,vars:17,consts:[["drawer",""],["splitLayout",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["panelActions","matMenu"],["panes",""],["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",3,"click"],["cdkDropListGroup","",3,"itemAdded","itemRemoved","layoutSettingChange","rowSettingsChange","columnSettingsChange","nested","formGroup","dashboard","layoutSetting","rowSettings","columnSettings"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["mat-menu-item","","type","button",3,"click"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","gridless"],["value","split"],[4,"ngTemplateOutlet"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"spacer"],[1,"brand"],["mat-button","","type","button",1,"panel-actions-btn",3,"matMenuTriggerFor"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"mousedown","touchstart"],["class","style-title",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],[1,"style-title"],["cdkDropList","",1,"panel-dropzone",3,"change","cdkDropListDropped","cdkDropListData","multiple","disableClick"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-sidenav-container",8)(1,"mat-sidenav",9,0)(3,"druid-layout-sidenav",10),a.\u0275\u0275listener("close",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(2);return a.\u0275\u0275resetView(l.toggle())}),a.\u0275\u0275elementStart(4,"nav")(5,"ul"),a.\u0275\u0275template(6,rG,3,0,"li",11),a.\u0275\u0275elementStart(7,"li")(8,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.addRow())}),a.\u0275\u0275text(9,"Add Row"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(10,"li")(11,"button",13),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(12,"Props"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"li")(14,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.layoutSettings("global"))}),a.\u0275\u0275text(15,"Layout Settings"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(16,aG,3,0,"li",11)(17,iG,3,0,"li",11)(18,oG,3,0,"li",11)(19,sG,3,0,"li",11),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-split-layout",14,1),a.\u0275\u0275listener("itemAdded",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onItemAdded())})("itemRemoved",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onItemRemoved(l))})("layoutSettingChange",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onLayoutSettingChange(l))})("rowSettingsChange",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onRowSettingsChange(l))})("columnSettingsChange",function(l){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onColumnSettingsChange(l))}),a.\u0275\u0275template(23,gG,23,6,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)(25,_G,16,4,"ng-template",null,3,a.\u0275\u0275templateRefExtractor)(27,CG,4,4,"ng-template",null,4,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(29,"mat-menu",null,5),a.\u0275\u0275template(31,xG,2,0,"button",15),a.\u0275\u0275elementStart(32,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.addRow())}),a.\u0275\u0275text(33,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(34,"button",13),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.editor.onPropertiesClick())}),a.\u0275\u0275text(35,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(36,"button",12),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(s);var l=a.\u0275\u0275reference(22);return a.\u0275\u0275resetView(l.layoutSettings("global"))}),a.\u0275\u0275text(37,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(38,SG,2,0,"button",16)(39,EG,2,0,"button",17)(40,DG,2,0,"button",17)(41,wG,2,0,"button",16),a.\u0275\u0275elementEnd()}2&e&&(a.\u0275\u0275property("hasBackdrop",!1),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("nested",t.nested)("formGroup",t.controlContainer.control)("dashboard",t.dashboard)("layoutSetting",t.layoutSetting)("rowSettings",t.rowSettings)("columnSettings",t.columnSettings),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngIf",t.nested),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.savable),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.nested))},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Tu.CdkDropList,Tu.CdkDropListGroup,Tu.CdkDrag,Sr.MatOption,Gr.MatButton,yd.MatIcon,jt.MatFormField,Ua.MatMenu,Ua.MatMenuItem,Ua.MatMenuTrigger,fa.MatSelect,Jl.MatSidenav,Jl.MatSidenavContainer,Jl.MatSidenavContent,Vf,jS,GS],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.panel-actions-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),r}(),QG=function(){var o,r=function(n){function e(t){var s;return(0,h.A)(this,e),(s=(0,F.A)(this,e,[t])).controlContainer=t,s}return(0,w.A)(e,n),(0,m.A)(e,[{key:"ngOnInit",value:function(){}}])}(pS);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-flex-layout-renderer"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[["innerGridItem",""],[3,"dashboard","layoutSetting","rowSettings","columnSettings"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-flex-layout",1),a.\u0275\u0275template(1,kG,1,4,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("dashboard",null==t.panelPage?null:t.panelPage.gridItems)("layoutSetting",t.panelPage.layoutSetting)("rowSettings",t.panelPage.rowSettings)("columnSettings",t.columnSettings)},dependencies:[y.NgTemplateOutlet,zG],encapsulation:2}),r}(),XG=function(){var r=new Map([["row",[new _t.Attribute({name:"flexGrow",type:_t.AttributeTypes.Text,label:"Flex Grow",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"flexShrink",type:_t.AttributeTypes.Text,label:"Flex Shrink",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"flexBasis",type:_t.AttributeTypes.Text,label:"Flex Basis",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"height",type:_t.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]}),new _t.Attribute({name:"direction",type:_t.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]],["column",[new _t.Attribute({name:"height",type:_t.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]})]],["global",[new _t.Attribute({name:"direction",type:_t.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]]]);return new US({id:"split",title:"Split",editor:WG,renderer:QG,settings:r})},zS=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),[XG(),new US({id:"gridless",title:"Gridless",editor:KG,renderer:qG,settings:new Map})].forEach(function(t){e.register(t)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Lf))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,Yn.RouterModule,f.ReactiveFormsModule,pa.MaterialModule,dc,mf,MS,Of,sn.UtilsModule,Gc,_t.AttributesModule]}),r}();function JG(o,r){if(1&o&&a.\u0275\u0275element(0,"ngx-json-viewer",12),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("json",n.jsonData)("expanded",!1)}}var vs,jf=(0,m.A)(function o(r){(0,h.A)(this,o),this.params=[],r&&(this.url=r.url,this.method=r.method?r.method:void 0,void 0!==r.renderer&&(this.renderer=new Qv(r.renderer)),void 0!==r.params&&(this.params=r.params.map(function(n){return new ma(n)})),r.body&&(this.body=new xu(r.body)))}),_d=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.fb=e,this.datasourceApi=t,this.tokenizerService=s,this.dataChange=new a.EventEmitter,this.contexts=[],this.sourceForm=this.fb.group({url:this.fb.control("",f.Validators.required),params:this.fb.control([]),body:this.fb.control(""),method:this.fb.control("get",[f.Validators.required])}),this.restSource$=new R.t(new jf),this.urlParams$=new R.t({}),this.bodyParams$=new R.t({}),this.componentDestroyed=new T.B,this.refreshData$=new T.B,this.refreshSubscription=this.refreshData$.pipe((0,fe.T)(function(){return u.generateUrl()}),(0,q.M)(function(l){return console.log("URL Generated:",l)}),(0,z.p)(function(l){return l&&""!==l.trim()}),(0,We.n)(function(l){var d,p=u.sourceForm.get("method").value,g=null===(d=u.sourceForm.get("body").value)||void 0===d?void 0:d.content;return("post"===p?u.datasourceApi.postData({url:l,body:g}):u.datasourceApi.getData(l)).pipe((0,aa.W)(function(S){return console.error(S),(0,Te.of)([])}))}),(0,cn.Q)(this.componentDestroyed)).subscribe(function(l){u.jsonData=l,u.dataChange.emit(l)}),this.urlChangeSub=this.sourceForm.get("url").valueChanges.pipe((0,Ln.B)(500),(0,z.p)(function(l){return l&&""!==l.trim()}),(0,fe.T)(function(l){return[l,l.indexOf("?")]}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return[g>-1?p.substring(0,g):p,g>-1?p.substring(g+1):""]})).subscribe(function(l){var d=(0,k.A)(l,2),g=d[1],_=d[0].split("/").reduce(function(I,B,$){return 0===B.indexOf(":")?(0,v.A)((0,v.A)({},I),{},(0,c.A)({},B.substr(1),B)):I},{}),S=(0,v.A)((0,v.A)({},_),Ya.parse(g));console.log("params parsed",S),u.urlParams$.next(S)}),this.bodyChangeSub=this.sourceForm.get("body").valueChanges.pipe((0,Ln.B)(500),(0,q.M)(function(l){console.log("body change",l);var d=u.parseBody(l.content);u.bodyParams$.next((0,v.A)({},d))})).subscribe(),this.paramsChangesSub=(0,zn.z)([this.urlParams$,this.bodyParams$]).pipe((0,Ln.B)(500),(0,q.M)(function(l){var d=(0,k.A)(l,2),g=d[1];u.paramsParsed=(0,v.A)((0,v.A)({},d[0]),g)})).subscribe(),this.restSourceSub=this.restSource$.pipe((0,q.M)(function(l){l?(u.sourceForm.get("url").setValue(l.url),u.sourceForm.get("method").setValue(l.method?l.method:""),u.sourceForm.get("body").setValue(l.body?(0,v.A)((0,v.A)({},l.body),{},{jsScript:""}):"")):(u.sourceForm.get("url").setValue(""),u.sourceForm.get("method").setValue(""),u.sourceForm.get("body").setValue(""))})).subscribe(),this.onTouched=function(){}},[{key:"restSource",set:function(t){this.restSource$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.sourceForm.valueChanges.pipe((0,Ln.B)(1e3)).subscribe(function(){console.log("refresh data"),t.refreshData$.next(void 0)})}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.next(void 0),this.componentDestroyed.complete()}},{key:"parseBody",value:function(t){var s=/\[:([a-zA-Z0-9_]+)\]/g,u={};return function l(d){if("string"==typeof d)for(var p;null!==(p=s.exec(d));){var g=p[1];u[g]=":".concat(g)}else if(Array.isArray(d)){var S,_=(0,N.A)(d);try{for(_.s();!(S=_.n()).done;)l(S.value)}catch($){_.e($)}finally{_.f()}}else if("object"==typeof d&&null!==d)for(var B in d)d.hasOwnProperty(B)&&l(d[B])}(t),u}},{key:"writeValue",value:function(t){t&&this.sourceForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.sourceForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.sourceForm.disable():this.sourceForm.enable()}},{key:"validate",value:function(t){return this.sourceForm.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"generateUrl",value:function(){console.log("generate url");for(var t=this.sourceForm.get("url").value,s=t?t.split("?",2):["",""],u=(0,k.A)(s,2),l=u[0],d=u[1],p=Ya.parse(d),g={},_=l.split("/"),S=_.length,I=[],B=0,$=0;$<S;$++)if(0===_[$].indexOf(":")){if(!this.sourceForm.get("params").value[B])return"";var Y=this.sourceForm.get("params").value[B].mapping;I.push("static"===Y.value.type?Y.value.value:Y.value.testValue),B++}else I.push(_[$]);for(var le in p)if("string"==typeof p[le]&&p[le].indexOf(":")>-1){if(!this.sourceForm.get("params").value[B])return"";var ge=this.sourceForm.get("params").value[B].mapping;g[le]="static"===ge.type?ge.value:ge.testValue,B++}var be=I.join("/")+(""!==d?"?"+Ya.stringify((0,v.A)((0,v.A)({},p),g)):"");return console.log(be),be}},{key:"onDataChange",value:function(t){this.tokens=this.tokenizerService.generateGenericTokens(t[0])}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(ix),a.\u0275\u0275directiveInject(Qn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-source-form"]],inputs:{restSource:"restSource",contexts:"contexts"},outputs:{dataChange:"dataChange"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:19,vars:7,consts:[["direction","horizontal",3,"formGroup"],["as-split-area","","size","50"],["required","","formControlName","method"],["value","get"],["value","post"],["value","put"],["value","delete"],["matInput","","placeholder","Url","formControlName","url","required",""],["formControlName","body","rows","10","cols","40",3,"rootForm","tokens"],["formControlName","params",3,"params","paramValues","contexts"],["size","50"],[3,"json","expanded",4,"ngIf"],[3,"json","expanded"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"as-split",0)(1,"div",1)(2,"div")(3,"mat-form-field")(4,"mat-select",2)(5,"mat-option",3),a.\u0275\u0275text(6,"GET"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-option",4),a.\u0275\u0275text(8,"POST"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-option",5),a.\u0275\u0275text(10,"PUT"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-option",6),a.\u0275\u0275text(12,"DELETE"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(13,"mat-form-field"),a.\u0275\u0275element(14,"input",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(15,"classifieds-ui-snippet-form",8)(16,"classifieds-ui-params-form",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"as-split-area",10),a.\u0275\u0275template(18,JG,1,2,"ngx-json-viewer",11),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.sourceForm),a.\u0275\u0275advance(15),a.\u0275\u0275property("rootForm",!1)("tokens",t.tokens),a.\u0275\u0275advance(),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.restSource$.value.params)("contexts",t.contexts),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.jsonData))},dependencies:[y.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatInput,jt.MatFormField,fa.MatSelect,Hc,Kc,Iw,Cf,Jc],encapsulation:2}),r}(),ZG=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.attributeSerializer=e,this.controlContainer=t,this.contexts=[]},[{key:"settings",set:function(t){this.restSource=t?new jf(this.attributeSerializer.deserializeAsObject(t)):void 0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"restSource","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("restSource",t.restSource)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_d],encapsulation:2}),r}(),bd=function(r){var p,n=r.method,e=r.url,t=r.data,s=r.options,u=r.params,l=r.http;if(t instanceof Error)return(0,Te.of)([]);switch(n){case"DELETE":p=l.delete(e,s),u.has("saveDelay")&&(p=p.pipe((0,dr.c)(+u.get("saveDelay"))));break;case"GET":var g=u.has("suffix")?e+u.get("suffix"):e;p=l.get(g,s),u.has("getDelay")&&(p=p.pipe((0,dr.c)(+u.get("getDelay"))));break;case"POST":p=l.post(e,t,s),u.has("saveDelay")&&(p=p.pipe((0,dr.c)(+u.get("saveDelay"))));break;case"PUT":p=l.put(e,t,s),u.has("saveDelay")&&(p=p.pipe((0,dr.c)(+u.get("saveDelay"))));break;default:var _=new Error("Unimplemented HTTP method, "+n);p=(0,Ji.$)(_)}return u.has("timeout")&&(p=p.pipe(Vd(+u.get("timeout")+ +u.get("saveDelay")))),p.pipe((0,aa.W)(function(){return(0,Te.of)([])}))},$S=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.attrbuteSerializer=e,this.http=t,this.snippetParserService=s,this.urlGenerator=u,this.paramsEvaluatorService=l},[{key:"fetchDataset",value:function(t){var s=this,u=t.settings,l=t.metadata;return console.log("metadata",l),(0,Te.of)(new Un).pipe((0,q.M)(function(){return console.log("START rest fetch")}),(0,fe.T)(function(){return s.attrbuteSerializer.deserializeAsObject(u)}),(0,fe.T)(function(d){return new jf(d)}),(0,We.n)(function(d){return s.urlGenerator.getUrl(d.url,d.params,l).pipe((0,fe.T)(function(p){return[new jf((0,v.A)((0,v.A)({},d),{},{url:p})),d]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,2),g=p[0],_=p[1];if("POST"===_.method.toUpperCase()&&_.body&&"application/json"===_.body.contentType){var S=s.parseUrl(_.url),I=_.body&&"application/json"===_.body.contentType?s.parseBody(_.body.content):{},B=(0,v.A)((0,v.A)({},S),I),$=s.mapKeyToParam(B,_.params||[]);return Object.keys(S).forEach(function(Y){return $.delete(Y)}),s.paramsEvaluatorService.paramValues($).pipe((0,q.M)(function(Y){return console.log("Evaluated body params",Y)}),(0,fe.T)(function(Y){var le=JSON.parse(_.body.content);return s.replaceTokensInJson(le,Y)}),(0,fe.T)(function(Y){return[g,Y]}))}return(0,Te.of)([g,{}])}),(0,z.p)(function(d){var g=(0,k.A)(d,1)[0];return g.url&&""!==g.url.trim()&&g.url.indexOf("http")>-1}),(0,We.n)(function(d){var p=(0,k.A)(d,2),g=p[0],_=p[1];return bd((0,v.A)((0,v.A)({url:g.url,method:"POST"===g.method.toUpperCase()?"POST":"GET"},"POST"===g.method.toUpperCase()&&g.body&&"application/json"===g.body.contentType?{data:_}:{}),{},{http:s.http,params:new Map})).pipe((0,aa.W)(function(){return(0,Te.of)([])}),(0,fe.T)(function(S){return Array.isArray(S)?S:[S]}),(0,fe.T)(function(S){return new Un({results:S})}))}),(0,q.M)(function(){return console.log("END rest fetch")}))}},{key:"parseUrl",value:function(t){for(var l,s=/:([a-zA-Z0-9_]+)/g,u={};null!==(l=s.exec(t));){var d=l[1];u[d]=":".concat(d)}return u}},{key:"parseBody",value:function(t){var s=/\[:([a-zA-Z0-9_]+)\]/g,u={};return function l(d){if("string"==typeof d)for(var p;null!==(p=s.exec(d));){var g=p[1];u[g]=":".concat(g)}else if(Array.isArray(d)){var S,_=(0,N.A)(d);try{for(_.s();!(S=_.n()).done;)l(S.value)}catch($){_.e($)}finally{_.f()}}else if("object"==typeof d&&null!==d)for(var B in d)d.hasOwnProperty(B)&&l(d[B])}(t),u}},{key:"mapKeyToParam",value:function(t,s){var u=new Map;return Object.keys(t).forEach(function(d,p){p<s.length&&u.set(d,s[p])}),u}},{key:"replaceTokensInJson",value:function(t,s){var u=this;if("string"==typeof t){var d,l=(0,N.A)(s);try{for(l.s();!(d=l.n()).done;){var p=(0,k.A)(d.value,2),g=p[0],_=p[1];t=(t=t.replace(new RegExp("\\[:".concat(g,"\\]"),"g"),_.toString())).replace(new RegExp(":".concat(g),"g"),_.toString())}}catch(me){l.e(me)}finally{l.f()}return t}if(Array.isArray(t))return t.map(function(me){return u.replaceTokensInJson(me,s)});if("object"==typeof t&&null!==t){var S={};for(var I in t)if(t.hasOwnProperty(I)){var Y,B=I,$=(0,N.A)(s);try{for($.s();!(Y=$.n()).done;){var le=(0,k.A)(Y.value,2),ge=le[0],be=le[1];B=(B=B.replace(new RegExp("\\[:".concat(ge,"\\]"),"g"),be.toString())).replace(new RegExp(":".concat(ge),"g"),be.toString())}}catch(me){$.e(me)}finally{$.f()}S[B]=this.replaceTokensInJson(t[I],s)}return S}return t}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(H1),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(po))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),HS=function(){var o,r=function(n){function e(t){var s;return(0,h.A)(this,e),(s=(0,F.A)(this,e,[t])).pluralizer2=t,s}return(0,w.A)(e,n),(0,m.A)(e,[{key:"getResourceUrls",value:function(s,u){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?u:l_(u);return{entityResourceUrl:"".concat(d,"/").concat(s,"/").toLowerCase(),collectionResourceUrl:"".concat(d,"/").concat(this.pluralizer2.pluralize(s),"/").toLowerCase()}}}])}(u_);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ac))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),nz=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,g,_){(0,h.A)(this,n),e.register(function(r,n,e){return new mo({id:"rest",title:"Rest",editor:ZG,fetch:function(s){return r.fetchDataset({settings:s.settings,metadata:s.metadata})},editorOptions:function(){return(0,Te.of)(new xf({fullscreen:!0}))},getBindings:function(s){var u=s.settings;return(0,Te.of)([]).pipe((0,fe.T)(function(){return e.deserializeAsObject(u)}),(0,fe.T)(function(d){return new Lo(d)}),(0,We.n)(function(d){return n.extractContexts(d.params)}),(0,fe.T)(function(d){return d.map(function(p){return new Xt.ContentBinding({id:p,type:"context"})})}))}})}(t,s,u)),l.register(function(r,n,e,t){return new Hl({id:"rest",title:"Rest",create:function(u){var l=u.object,d=u.params;return(0,Te.of)({success:!1}).pipe((0,We.n)(function(){return r.paramValues(new Map(Object.keys(d).map(function(p){return[p,d[p]]})))}),(0,We.n)(function(p){return bd({method:"POST",url:e.entityResource(p.get("entityName"),p.has("root")?p.get("root"):t.root?t.root:"api",!0),data:l||new Error("No entity to add"),params:p,http:n})}),(0,fe.T)(function(){return{success:!0,entity:l}}))},read:function(u){return fi(u),(0,Te.of)({success:!1})},update:function(u){var l=u.object,d=u.identity,p=u.params,g=u.parentObject;return(0,Te.of)({success:!1}).pipe((0,We.n)(function(){return d({object:l,parentObject:g})}),(0,We.n)(function(_){var S=_.identity;return r.paramValues(new Map(Object.keys(p).map(function(I){return[I,p[I]]}))).pipe((0,fe.T)(function(I){return{identity:S,options:I}}))}),(0,We.n)(function(_){var S=_.identity,I=_.options;return bd({method:"PUT",url:e.entityResource(I.get("entityName"),I.has("root")?I.get("root"):t.root?t.root:"api",!0)+"".concat(S),data:l||new Error("No entity to add"),params:I,http:n})}),(0,fe.T)(function(){return{success:!0,entity:l}}))},delete:function(u){return fi(u),(0,Te.of)({success:!1})},query:function(u){var l=u.params,d=u.rule;return(0,Te.of)({success:!1}).pipe((0,We.n)(function(){return r.paramValues(new Map(Object.keys(l).map(function(p){return[p,l[p]]})))}),(0,We.n)(function(p){return new L.c(function(g){var _=d?d.conditions.all.reduce(function(I,B){return[].concat((0,A.A)(I),(0,A.A)(B.any.filter(function($){return"identity"!==$.fact}).map(function($){return"".concat($.path.substr(2),"=").concat($.value)})))},[]):[],S=d?d.conditions.all.reduce(function(I,B){return I||B.any.find(function($){return"identity"===$.fact})},void 0):void 0;g.next({identityFact:S,options:p,query:_.length>0?new E.HttpParams({fromString:_.join("&")}):void 0,path:S?S.value:""}),g.complete()})}),(0,We.n)(function(p){var g=p.options,_=p.query,S=p.path,I=p.identityFact;return tr(function(){return!!I},bd({method:"GET",url:e.entityResource(g.get("entityName"),g.has("root")?g.get("root"):t.root?t.root:"api",!0)+S,options:{params:_},params:g,http:n}).pipe((0,fe.T)(function(B){return{success:!0,entities:Array.isArray(B)?B:[B]}})),bd({method:"GET",url:e.collectionResource(g.get("entityName"),g.has("root")?g.get("root"):t.root?t.root:"api")+S,options:{params:_},params:g,http:n}).pipe((0,fe.T)(function(B){return{success:!0,entities:B}})))}))}})}(d,p,g,_))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject($S),a.\u0275\u0275inject(ty),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ms),a.\u0275\u0275inject(po),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(HS),a.\u0275\u0275inject($u))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[$S,HS],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,mf,Fd,Uv,Eu,Gc,rd,ds]}),r}(),ec=b(47470),Ny=b(65903),rz=b(80967),Vy=b(63037),KS=b(95812),iz=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),tc=function(r){var n=r.selector,t=r.document.createDocumentFragment();if(!n||-1!==n.indexOf("undefined"))return!1;try{t.querySelector(n)}catch{return!1}return!0},oz=/\/\*[\s\S]*?\*\//g,sz=/([^\:]+):([^\;]*);/,uz=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,Uf=function(r){return typeof r>"u"||0==r.length||null==r},lz={ordered:!1,comments:!1,stripComments:!1,split:!1},cz=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.document=e,this.mutate$=new T.B,this.mutated$=new T.B,this.mutateSub=this.mutate$.pipe((0,z.p)(function(s){var u=s.record;return"attributes"===u.type&&"style"===u.attributeName&&!!u.target}),(0,Ln.B)(2e3),(0,We.n)(function(s){return t.mapRecord({record:s.record,overlay:s.overlay})}),(0,q.M)(function(s){return t.mutated$.next({stylesheet:s.stylesheet})})).subscribe()},[{key:"stylize",value:function(t){var s=this,u=t.targetNode,l=new Map;new MutationObserver(function(g){g.forEach(function(_){s.mutate$.next({record:_,overlay:l})})}).observe(u,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0})}},{key:"mapRecord",value:function(t){var s=this,u=t.record,l=t.overlay;return new L.c(function(d){var p=KS.default(u.target),g=s.toJSON("".concat(p," { ").concat(u.oldValue," }")),_=g.children[p]?Object.keys(g.children[p].attributes).reduce(function(Y,le){return(0,v.A)((0,v.A)({},Y),{},(0,c.A)({},Pu(le.replace("-","_"),!1),g.children[p].attributes[le]))},{}):void 0,S=Object.keys(u.target.style).reduce(function(Y,le){return!Number.isNaN(parseInt(le))&&u.target.style.hasOwnProperty(Pu(u.target.style[le].replace("-","_"),!1))?(0,v.A)((0,v.A)({},Y),{},(0,c.A)({},Pu(u.target.style[le].replace("-","_"),!1),u.target.style[Pu(u.target.style[le].replace("-","_"),!1)])):Y},{}),I=sd(_,S);l.set(p,I);var B=[];l.forEach(function(Y,le){var be=le.split(" ").reduce(function(qe,ct,it){return-1!==ct.indexOf(".pane-")||-1!==ct.indexOf(".panel-")?{selector:[].concat((0,A.A)(qe.selector),[ct.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:qe.chars+ct.length,lastIndex:qe.chars+it+ct.length}:(0,v.A)((0,v.A)({},qe),{},{chars:qe.chars+ct.length})},{selector:[],chars:0,lastIndex:0});if(0!==be.selector.length){var me=(be.selector.join(" ")+" "+le.slice(be.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"").trim();0===me.indexOf(".panel-page")&&(me=me.substr(12).trim()),tc({selector:me,document:s.document})&&B.push(me+" { "+Object.keys(Y).reduce(function(qe,ct){return ct.match(/^[a-zA-Z-]*$/gm)?"".concat(qe).concat(function wj(o){return o.replace(/_/g,"-")}(function ud(o){var r=""+o;return(r=(r=(r=(r=r.replace(new RegExp("(?:([A-Za-z\\d])|^)("+ho().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(n,e,t){return(e||"")+(e?"_":"")+t.toLowerCase()})).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}(ct)),": ").concat(Y[ct],";"):qe},"")+" }")}});var $=B.join("\n");d.next({stylesheet:$}),d.complete()})}},{key:"toJSON",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lz,g={children:{},attributes:{}},_=null,S=0;for(s.stripComments&&(s.comments=!1,t=t.replace(oz,""));null!=(_=uz.exec(t));)if(!Uf(_[1])&&s.comments)g[S++]=_[1].trim();else if(Uf(_[2])){if(!Uf(_[3]))return g;if(!Uf(_[4])){var be=_[4].trim(),me=sz.exec(be);if(me){var ke=me[1].trim(),qe=me[2].trim();if(s.ordered)g[S++]={name:ke,value:qe,type:"attr"};else if(ke in g.attributes){var ct=g.attributes[ke];ct instanceof Array||(g.attributes[ke]=[ct]),g.attributes[ke].push(qe)}else g.attributes[ke]=qe}else g[S++]=be}}else{var I=_[2].trim(),B=this.toJSON(t,s);if(s.ordered)g[S++]={name:I,value:B,type:"rule"};else{var $=s.split?I.split(","):[I];for(var Y in $){var le=$[Y].trim();if(le in g.children)for(var ge in B.attributes)g.children[le].attributes[ge]=B.attributes[ge];else g.children[le]=B}}}return g}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Mu=function(o){return o[o.KEEP=0]="KEEP",o[o.ADD=1]="ADD",o[o.REMOVE=2]="REMOVE",o}(Mu||{}),dz=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.document=e,this.mutate=new T.B,this.mutated$=new T.B,this.mutateub=this.mutate.pipe((0,z.p)(function(s){var u=s.record;return"attributes"===u.type&&"class"===u.attributeName&&!!u.target}),(0,Ln.B)(2e3),(0,We.n)(function(s){var l=s.overlay;return t.mapRecord({record:s.record,overlay:l,originals:s.originals}).pipe((0,aa.W)(function(p){return(0,Te.of)({classes:l})}))}),(0,q.M)(function(s){return t.mutated$.next({classes:s.classes})})).subscribe()},[{key:"classify",value:function(t){var s=this,u=t.targetNode,l=new Map,d=new Map;new MutationObserver(function(_){_.forEach(function(S){s.mutate.next({record:S,overlay:l,originals:d})})}).observe(u,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}},{key:"mapRecord",value:function(t){var s=this,u=t.record,l=t.overlay,d=t.originals;return new L.c(function(p){var g=KS.default(u.target),_="",S=u.oldValue&&null!==u.oldValue?u.oldValue.split(" ").map(function(me){return me.trim()}):[],B=g.split(" ").reduce(function(me,ke,qe){return-1!==ke.indexOf(".pane-")||-1!==ke.indexOf(".panel-")?{selector:[].concat((0,A.A)(me.selector),[ke.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:me.chars+ke.length,lastIndex:me.chars+qe+ke.length}:(0,v.A)((0,v.A)({},me),{},{chars:me.chars+ke.length})},{selector:[],chars:0,lastIndex:0});if(0!==B.selector.length){var $=g.substring(B.lastIndex).split(">").map(function(me){return me.trim()}).filter(function(me){return""!==me}).map(function(me,ke){var qe=me.indexOf("."),ct=-1===qe?me.substring(0):me.substring(0,qe),dt=(-1===qe?[]:me.substring(qe+1).split(".")).filter(function(Rt){return void 0!==S.find(function(Lt){return Rt===Lt})});return(0===ke?" > ":"")+ct+(0===dt.length?"":"."+dt.join("."))});0===(_=(B.selector.join(" ")+$.join(" > ")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"")).indexOf(".panel-page")&&(_=_.substr(12).trim())}if(tc({selector:_,document:s.document})){d.has(_)||d.set(_,new Set(S));var le=u.target.classList,ge=new Map(Array.from(le.values()).map(function(me){return["".concat(me),!d.has(_)||!d.get(_).has("".concat(me))&&0!=="".concat(me).indexOf("ng-")&&0!=="".concat(me).indexOf("mat-")?Mu.ADD:Mu.KEEP]})),be=Array.from(d.get(_)).reduce(function(me,ke){return[-1===Array.from(le.values()).findIndex(function(qe){return qe===ke})?ke:void 0]},[]).filter(function(me){return void 0!==me});0!==be.length&&be.forEach(function(me){return ge.set(me,Mu.REMOVE)}),0===ge.size&&l.has(_)?l.delete(_):0!==ge.size&&l.set(_,ge),p.next({classes:l}),p.complete()}else p.error(new Error('Selector invalid "'+_+'"')),p.complete()})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.DOCUMENT))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}();function pz(o,r){}function fz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPage",n.panelPage)("nested",!0)("contexts",n.contexts)("css",n.filteredCss)("listeners",n.filteredListeners)("ancestory",n.ancestoryWithSelf)}}function mz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",5),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",n.linkedPageId)("nested",!0)("contexts",n.contexts)("ancestory",n.ancestoryWithSelf)}}function gz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPage",n.embedPanel)("nested",!0)("contexts",n.contexts)("css",n.filteredCss)("listeners",n.filteredListeners)("ancestory",n.ancestoryWithSelf)}}var hz=["panes"];function vz(o,r){}function yz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",8),2&o){var n=r.$implicit,e=r.index,t=a.\u0275\u0275nextContext(3),s=a.\u0275\u0275reference(1);a.\u0275\u0275property("formControlName",e)("pluginName",n.contentPlugin)("settings",n.settings)("name",n.name)("label",n.label)("originPane",t.panel.panes[t.originMappings[e]])("contexts",n.contexts)("displayType",t.displayType)("resolvedContext",n.resolvedContext)("indexPosition",e)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf$.value)("panes",s)("originPanes",t.originPanes)}}function _z(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0)(1)(2,6),a.\u0275\u0275template(3,yz,1,15,"classifieds-ui-render-pane",7),a.\u0275\u0275elementContainerEnd()()()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",n.resolvedPanes)}}function bz(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",10),2&o){var n=r.$implicit,e=r.index,t=a.\u0275\u0275nextContext(3),s=a.\u0275\u0275reference(1);a.\u0275\u0275property("pluginName",n.contentPlugin)("settings",n.settings)("name",n.name)("label",n.label)("originPane",t.panel.panes[t.originMappings[e]])("contexts",n.contexts)("linkedPageId",n.linkedPageId)("displayType",t.displayType)("resolvedContext",n.resolvedContext)("indexPosition",e)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf$.value)("panes",s)("originPanes",t.originPanes)}}function Az(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,bz,1,15,"classifieds-ui-render-pane",9),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",n.resolvedPanes)}}function Cz(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0)(1,4),a.\u0275\u0275template(2,_z,4,1,"ng-container",5)(3,Az,2,1,"ng-container",5),a.\u0275\u0275elementContainerEnd()()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitch",n.displayType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","form"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","page")}}var xz=["renderPanelTpl"];function Sz(o,r){}function Ez(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.submit())}),a.\u0275\u0275text(1,"Submit"),a.\u0275\u0275elementEnd()}}function Dz(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0,1)(1,5),a.\u0275\u0275element(2,"classifieds-ui-render-panel",6),a.\u0275\u0275elementContainerEnd()()),2&o){var n=r.i,e=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e.pageForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("formControlName",n)("panel",e.panelPageCached.panels[n])("nested",e.nested$.value)("contexts",e.contexts$.value)("resolvedContext",e.resolvedContext)("contextsChanged",e.contextsChanged)("displayType",e.panelPageCached.displayType)("indexPosition",n)("css",e.filteredCss)("listeners",e.filteredListeners)("ancestory",e.ancestory$.value)}}var Gf=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiPaneContentHost",""]],standalone:!1}),r}(),qS=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiLayoutRendererHost",""]],standalone:!1}),r}(),Oy=function(){function o(r,n,e,t,s,u,l,d,p,g,_,S,I,B,$,Y,le,ge,be,me,ke,qe,ct,it,dt,Rt,Lt){var ft=this;(0,h.A)(this,o),this.platformId=r,this.mediaSettings=n,this.routerStore=e,this.fb=t,this.el=s,this.inlineContextResolver=u,this.pageBuilderFacade=l,this.cpm=d,this.cxm=p,this.lpm=g,this.componentFactoryResolver=_,this.styleLoader=S,this.http=I,this.cssHelper=B,this.attributeSerializer=$,this.formService=Y,this.panelsContextService=le,this.asyncApiCallHelperSvc=ge,this.crudDataHelperService=be,this.entityDefinitionService=me,this.ngZone=ke,this.persistService=qe,this.stylizerService=ct,this.classifyService=it,this.fileService=dt,this.authFacade=Rt,this.resolvedContext={},this.contextsChanged=[],this.persistenceEnabled=!1,this.onInit$=new T.B,this.afterViewInit$=new T.B,this.afterContentInit$=new T.B,this.renderLayout$=new T.B,this.id$=new R.t(void 0),this.panelPage$=new R.t(void 0),this.nested$=new R.t(!1),this.ancestory$=new R.t([]),this.contexts$=new R.t([]),this.instanceUniqueIdentity=cr(),this.isStable=!1,this.managedCssCache="",this.managedClassesCache={},this.filteredListeners=[],this.css$=new R.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=this.css$.subscribe(function(yt){ft.nested$.value&&console.log("filtered css nested",yt),ft.filteredCss=yt}),this.listeners$=new R.t([]),this.listenersSub=this.listeners$.pipe((0,q.M)(function(yt){ft.filteredListeners=yt})).subscribe(),this.settingsFormArray=this.fb.array([]),this.pageForm=this.fb.group({panels:this.fb.array([])}),this.bridgeSub=this.pageForm.valueChanges.pipe((0,z.p)(function(){return ft.nested$.value}),(0,Ln.B)(500)).subscribe(function(yt){console.log("write page"),console.log(yt),ft.settingsFormArray.clear();var Dt=ft.attributeSerializer.convertToGroup(ft.attributeSerializer.serialize(yt,"value").attributes[0]);ft.settingsFormArray.push(Dt),console.log(Dt.value)}),this.idOrPanelPageSub=(0,zn.z)([this.id$,this.panelPage$]).pipe((0,Co.F)(),(0,fe.T)(function(yt){var Dt=(0,k.A)(yt,2);return{id:Dt[0],panelPage:Dt[1]}}),(0,z.p)(function(yt){return!!yt.id||!!yt.panelPage}),(0,We.n)(function(yt){var Dt=yt.id;return tr(function(){return!Dt},(0,Te.of)({panelPage:yt.panelPage}),new L.c(function(en){var Jn=ft.entityDefinitionService.getDefinition("PanelPage").metadata;return ft.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(Dt),plugins:Jn.crud,op:"query"}).pipe((0,fe.T)(function(Wr){return Wr&&0!==Wr.length?Wr[0]:void 0}),(0,q.M)(function(Wr){en.next({panelPage:Wr}),en.complete()})).subscribe()}))}),(0,We.n)(function(yt){var Dt=yt.panelPage;return ft.cpm.getPlugins(Dt.panels.reduce(function(Jt,en){return en.panes.forEach(function(Jn){Jt.includes(Jn.contentPlugin)||Jt.push(Jn.contentPlugin)}),Jt},[])).pipe((0,fe.T)(function(){return{panelPage:Dt}}))}),(0,We.n)(function(yt){var Dt=yt.panelPage;return tr(function(){return!ft.nested$.value},
/*!this.nested ? this.panelsContextService.allActivePageContexts({ panelPage: p }).pipe(
                  map(paneContexts => [p, isDynamic, paneContexts])
                ): of([p, isDynamic, []]),*/
ft.panelsContextService.allActivePageContexts({panelPage:Dt}).pipe((0,fe.T)(function(Jt){return{panelPage:Dt,contexts:Array.from(Jt)}})),(0,Te.of)({panelPage:Dt,contexts:[]}))}),(0,q.M)(function(yt){var Dt=yt.panelPage,Jt=yt.contexts;ft.hookupFormChange({panelPage:Dt}),ft.populatePanelsFormArray({panelPage:Dt}),ft.panelPageCached=Dt,ft.persistenceEnabled=Dt.persistence&&Dt.persistence.dataduct&&Dt.persistence.dataduct.plugin&&""!==Dt.persistence.dataduct.plugin,ft.filteredListeners=Dt.interactions&&Dt.interactions.interactions&&Dt.interactions.interactions.listeners?Dt.interactions.interactions.listeners:[],ft.renderLayout$.next(Dt),ft.contexts$.next([].concat((0,A.A)(Dt.contexts?Dt.contexts.map(function(en){return new Ia(en)}):[]),(0,A.A)(Jt))),ft.hookupCss({file:Dt.cssFile?Dt.cssFile.trim():void 0}),console.log("cached panel page: ".concat(Dt.id))})).subscribe(),this.hookupContextSub=(0,zn.z)(this.contexts$,this.afterContentInit$).pipe((0,fe.T)(function(yt){return(0,k.A)(yt,1)[0]}),(0,We.n)(function(yt){return ft.inlineContextResolver.resolveMerged(yt,"panelpage:".concat(cr())).pipe((0,We.n)(function(Dt){return ft.cxm.getPlugins().pipe((0,fe.T)(function(Jt){return{contexts:yt,resolvedContext:Dt,globalPlugins:Array.from(Jt.values()).filter(function(en){return!0===en.global})}}))}),(0,pn.s)(1))}),(0,q.M)(function(){ft.resolveSub&&ft.resolveSub.unsubscribe()}),(0,q.M)(function(yt){var Dt=yt.contexts,en=yt.globalPlugins;ft.resolvedContext=yt.resolvedContext;var Jn=new T.B;if((0,y.isPlatformServer)(ft.platformId))var Wr=setInterval(function(){0===o.registredContextListeners.size&&(Jn.next(),Jn.complete(),clearInterval(Wr))},1e3);ft.resolveSub=ft.inlineContextResolver.resolveMergedSingle(Dt).pipe((0,ec.i)(en.length+(Dt?Dt.length:0)),(0,q.M)(function(){return o.registredContextListeners.add(ft.instanceUniqueIdentity)}),(0,q.M)(function(Hn){return console.log("buffer",Hn)}),function az(o){for(var r,n,e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var u=null!==(r=(0,c0.lI)(t))&&void 0!==r?r:vc.E,l=null!==(n=t[0])&&void 0!==n?n:null,d=t[1]||1/0;return(0,Ds.N)(function(p,g){var _=[],S=!1,I=function(le){var ge=le.buffer;le.subs.unsubscribe(),(0,rz.o)(_,le),g.next(ge),S&&B()},B=function(){if(_){var le=new gx.yU;g.add(le);var be={buffer:[],subs:le};_.push(be),(0,wm.N)(le,u,function(){return I(be)},o)}};null!==l&&l>=0?(0,wm.N)(g,u,B,l,!0):S=!0,B();var $=(0,ji._)(g,function(Y){var be,le=_.slice(),ge=(0,N.A)(le);try{for(ge.s();!(be=ge.n()).done;){var me=be.value,ke=me.buffer;ke.push(Y),d<=ke.length&&I(me)}}catch(qe){ge.e(qe)}finally{ge.f()}},function(){for(;_?.length;)g.next(_.shift().buffer);$?.unsubscribe(),g.complete(),g.unsubscribe()},void 0,function(){return _=null});p.subscribe($)})}(1),(0,q.M)(function(Hn){0===Hn.length&&o.registredContextListeners.delete(ft.instanceUniqueIdentity)}),(0,z.p)(function(Hn){return 0!==Hn.length}),(0,q.M)(function(Hn){ft.contextsChanged=Hn.reduce(function(ti,Vi){var _o=(0,k.A)(Vi,2)[0];return[].concat((0,A.A)(ti),(0,A.A)(ti.includes(_o)?[]:[_o]))},[]),ft.resolvedContext=Hn.reduce(function(ti,Vi){var Ga=(0,k.A)(Vi,2),_o=Ga[0],ac=Ga[1];return(0,v.A)((0,v.A)({},ti),{},(0,c.A)({},_o,ac))},ft.resolvedContext)}),(0,q.M)(function(){return o.registredContextListeners.delete(ft.instanceUniqueIdentity)}),(0,y.isPlatformServer)(ft.platformId)?(0,cn.Q)(Jn):(0,q.M)(function(){})).subscribe()})).subscribe(),this.renderLayoutSub=(0,zn.z)([this.renderLayout$,this.afterViewInit$]).pipe((0,dr.c)(1),(0,fe.T)(function(yt){return{panelPage:(0,k.A)(yt,1)[0]}}),(0,We.n)(function(yt){var Dt=yt.panelPage;return ft.lpm.getPlugin(Dt.layoutType).pipe((0,fe.T)(function(Jt){return{panelPage:Dt,plugin:Jt}}))}),(0,q.M)(function(){return console.log("start render layout")}),(0,fe.T)(function(yt){return{panelPage:yt.panelPage,plugin:yt.plugin,viewContainerRef:ft.layoutRendererHost.viewContainerRef}}),(0,q.M)(function(yt){return yt.viewContainerRef.clear()}),(0,fe.T)(function(yt){return{panelPage:yt.panelPage,layoutRendererRef:yt.viewContainerRef.createComponent(yt.plugin.renderer)}}),(0,q.M)(function(yt){return ft.layoutRendererRef=yt.layoutRendererRef}),(0,q.M)(function(yt){var Dt=yt.layoutRendererRef,Jt=yt.panelPage;Dt.instance.renderPanelTpl=ft.renderPanelTpl,Dt.instance.panelPage=Jt}),(0,q.M)(function(){return console.log("end render layout")})).subscribe(),this.stylizerSub=this.afterViewInit$.pipe((0,z.p)(function(){return(0,y.isPlatformBrowser)(ft.platformId)}),(0,q.M)(function(){ft.stylizerService.stylize({targetNode:ft.el.nativeElement})})).subscribe(),this.classifySub=this.afterViewInit$.pipe((0,z.p)(function(){return(0,y.isPlatformBrowser)(ft.platformId)}),(0,q.M)(function(){ft.classifyService.classify({targetNode:ft.el.nativeElement})})).subscribe(),this.stylizerMutatedSub=(0,y.isPlatformBrowser)(this.platformId)?this.stylizerService.mutated$.pipe((0,Ln.B)(2e3),(0,ec.i)(1),(0,We.n)(function(yt){var Dt=yt.stylesheet;return ft.authFacade.getUser$.pipe((0,fe.T)(function(Jt){return{stylesheet:Dt,isAuthenticated:!!Jt}}))}),(0,z.p)(function(yt){return yt.isAuthenticated}),(0,q.M)(function(yt){console.log("merged css",yt.stylesheet)}),(0,z.p)(function(){return!!ft.panelPageCached&&!!ft.panelPageCached.id}),(0,We.n)(function(yt){var Dt=yt.stylesheet;return ft.isStable?(0,Te.of)({stylesheet:Dt}):ft.ngZone.onStable.asObservable().pipe((0,fe.T)(function(){return{stylesheet:Dt}}),(0,pn.s)(1))}),(0,fe.T)(function(yt){var Dt=yt.stylesheet;return{stylesheet:(ft.managedCssCache&&""!==ft.managedCssCache.trim()?ft.managedCssCache+"\n":"")+Dt}}),(0,ks.H)(function(yt){return ft.fileService.bulkUpload({nocache:!0,files:[new File([yt.stylesheet],"panelpage__".concat(ft.panelPageCached.id,".css"))],fileNameOverride:"panelpage__".concat(ft.panelPageCached.id,".css")})}),(0,q.M)(function(){console.log("stylesheet saved.")})).subscribe():void 0,this.classifyMutatedSub=(0,y.isPlatformBrowser)(this.platformId)?this.classifyService.mutated$.pipe((0,Ln.B)(2e3),(0,ec.i)(1),(0,We.n)(function(yt){var Dt=yt.classes;return ft.authFacade.getUser$.pipe((0,fe.T)(function(Jt){return{classes:Dt,isAuthenticated:!!Jt}}))}),(0,z.p)(function(yt){return yt.isAuthenticated}),(0,q.M)(function(yt){console.log("merged classes",yt.classes)}),(0,z.p)(function(){return!!ft.panelPageCached&&!!ft.panelPageCached.id}),(0,We.n)(function(yt){var Dt=yt.classes;return ft.isStable?(0,Te.of)({classes:Dt}):ft.ngZone.onStable.asObservable().pipe((0,fe.T)(function(){return{classes:Dt}}),(0,pn.s)(1))}),(0,fe.T)(function(yt){var Dt=yt.classes;return{classes:Array.from(Dt.keys()).reduce(function(Jt,en){return(0,v.A)((0,v.A)({},Jt),{},(0,c.A)({},en,Array.from(Dt.get(en).keys()).filter(function(Jn){return Dt.get(en).get(Jn)!==Mu.KEEP}).reduce(function(Jn,Wr){return(0,v.A)((0,v.A)({},Jn),{},(0,c.A)({},Wr,Dt.get(en).get(Wr)))},{})))},{})}}),(0,fe.T)(function(yt){return{classes:sd(ft.managedClassesCache,yt.classes)}}),(0,fe.T)(function(yt){return{json:JSON.stringify(yt.classes)}}),(0,ks.H)(function(yt){return ft.fileService.bulkUpload({nocache:!0,files:[new File([yt.json],"panelpage__".concat(ft.panelPageCached.id,"__classes.json"))],fileNameOverride:"panelpage__".concat(ft.panelPageCached.id,"__classes.json")})}),(0,q.M)(function(){console.log("classes saved.")})).subscribe():void 0,this.onStableSub=this.ngZone.onStable.asObservable().pipe((0,q.M)(function(){return ft.isStable=!0})).subscribe(),this.onUnstableSub=this.ngZone.onUnstable.asObservable().pipe((0,q.M)(function(){return ft.isStable=!1})).subscribe(),this.onTouched=function(){},this.panelPageService=Lt.getEntityCollectionService("PanelPage"),this.panelPageFormService=Lt.getEntityCollectionService("PanelPageForm"),this.panelPageStateService=Lt.getEntityCollectionService("PanelPageState")}return(0,m.A)(o,[{key:"id",set:function(n){this.id$.next(n)}},{key:"panelPage",set:function(n){this.panelPage$.next(n)}},{key:"nested",set:function(n){this.nested$.next(n)}},{key:"contexts",set:function(n){this.contexts$.next(n)}},{key:"ancestory",set:function(n){this.ancestory$.next(n)}},{key:"css",set:function(n){this.css$.next(n)}},{key:"listeners",set:function(n){this.listeners$.next(n)}},{key:"panelsArray",get:function(){return this.pageForm.get("panels")}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"ngOnDestroy",value:function(){o.registredContextListeners.delete(this.instanceUniqueIdentity)}},{key:"populatePanelsFormArray",value:function(n){var e=this,t=n.panelPage;this.panelsArray.clear(),t.panels.forEach(function(){e.panelsArray.push(e.fb.control(""))})}},{key:"hookupFormChange",value:function(n){var e=this,t=n.panelPage;this.pageForm.valueChanges.pipe((0,Ln.B)(100),(0,z.p)(function(){return void 0!==t&&"form"===t.displayType})).subscribe(function(s){var u=new hs((0,v.A)((0,v.A)({},s),{},{name:t.name,title:t.title,derivativeId:t.id}));e.pageBuilderFacade.setForm(t.name,u)})}},{key:"hookupCss",value:function(n){var e=this;(0,An.p)([(0,Te.of)(void 0),(0,Te.of)(void 0),(0,Te.of)(void 0),this.panelPageCached.id?this.http.get("".concat(this.mediaSettings.imageUrl,"/media/panelpage__").concat(this.panelPageCached.id,"__classes.json")).pipe((0,aa.W)(function(){return(0,Te.of)(void 0)}),(0,qr.U)(void 0)):(0,Te.of)(void 0)]).pipe((0,q.M)(function(s){var u=(0,k.A)(s,4),l=u[0],d=u[1],p=u[2],g=u[3];console.log("fetched managed panelpage css and class files");var _={};e.managedCssCache="",e.managedClassesCache=g,l&&(_=sd(_,l)),d&&(e.managedCssCache=p,_=sd(_,d)),e.filteredCss={css:_,classes:g}})).subscribe()}},{key:"submit",value:function(){if(this.pageForm.valid){var n=new hs((0,v.A)({},this.pageForm.value)),e=this.formService.serializeForm(n);console.log(n),console.log(this.formService.serializeForm(n)),console.log("form data",e),this.persistService.persist({data:e,persistence:this.panelPageCached.persistence}).subscribe(function(){console.log("persisted data")})}else console.log("detected form invalid")}},{key:"writeValue",value:function(n){n&&this.settingsFormArray.setValue(n,{emitEvent:!1})}},{key:"registerOnChange",value:function(n){this.settingsFormArray.valueChanges.subscribe(n)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"setDisabledState",value:function(n){n?this.settingsFormArray.disable():this.settingsFormArray.enable()}},{key:"validate",value:function(n){var e=this;return this.pageForm.statusChanges.pipe((0,Vy.Z)(this.pageForm.status),(0,z.p)(function(t){return"PENDING"!==t}),(0,Ln.B)(1),(0,pn.s)(1),(0,fe.T)(function(t){return e.pageForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}))}}])}();(vs=Oy).registredContextListeners=new Set,vs.\u0275fac=function(r){return new(r||vs)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(cf),a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ul),a.\u0275\u0275directiveInject(gi),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(ps),a.\u0275\u0275directiveInject(Lf),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(sn.StyleLoaderService),a.\u0275\u0275directiveInject(E.HttpClient),a.\u0275\u0275directiveInject(Cy),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(_S),a.\u0275\u0275directiveInject(mS),a.\u0275\u0275directiveInject(sn.AsyncApiCallHelperService),a.\u0275\u0275directiveInject(nd),a.\u0275\u0275directiveInject(Wa),a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(yL),a.\u0275\u0275directiveInject(cz),a.\u0275\u0275directiveInject(dz),a.\u0275\u0275directiveInject(df),a.\u0275\u0275directiveInject(_i),a.\u0275\u0275directiveInject(yr))},vs.\u0275cmp=a.\u0275\u0275defineComponent({type:vs,selectors:[["classifieds-ui-panel-page"]],viewQuery:function(r,n){var e;1&r&&(a.\u0275\u0275viewQuery(BS,5),a.\u0275\u0275viewQuery(xz,7),a.\u0275\u0275viewQuery(qS,5)),2&r&&(a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(n.gridLayout=e.first),a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(n.renderPanelTpl=e.first),a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(n.layoutRendererHost=e.first))},hostVars:2,hostBindings:function(r,n){2&r&&a.\u0275\u0275classProp("panel-page",!0)},inputs:{id:"id",panelPage:"panelPage",nested:"nested",contexts:"contexts",ancestory:"ancestory",css:"css",listeners:"listeners",resolvedContext:"resolvedContext"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return vs}),multi:!0},{provide:f.NG_ASYNC_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return vs}),multi:!0}])],decls:6,vars:2,consts:[["renderPanelTpl",""],[3,"formGroup"],["classifiedsUiLayoutRendererHost",""],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"],["formArrayName","panels"],[3,"formControlName","panel","nested","contexts","resolvedContext","contextsChanged","displayType","indexPosition","css","listeners","ancestory"]],template:function(r,n){1&r&&(a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,Sz,0,0,"ng-template",2),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,Ez,2,0,"button",3)(4,Dz,3,12,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)),2&r&&(a.\u0275\u0275property("formGroup",n.pageForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",n.persistenceEnabled))},dependencies:function(){return[y.NgIf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,wz,qS]},styles:["[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}"]});var Ad=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,g,_,S,I){var B=this;(0,h.A)(this,n),this.document=e,this.platformId=t,this.el=s,this.renderer2=u,this.componentFactoryResolver=l,this.panelHandler=d,this.fb=p,this.cpm=g,this.cssHelper=_,this.paneStateService=S,this.settings=[],this.ancestory=[],this.panes=[],this.originPanes=[],this.afterContentInit$=new T.B,this.resolvedContext$=new R.t({}),this.schedulePluginChange=new T.B,this.ancestoryWithSelf=[],this.filteredListeners=[],this.css$=new R.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,zn.z)([this.css$,this.afterContentInit$,this.schedulePluginChange]).pipe((0,fe.T)(function($){return(0,k.A)($,1)[0]}),(0,fe.T)(function($){return{css:B.cssHelper.reduceCss($.css,".pane-".concat(B.indexPosition)),classes:B.cssHelper.reduceSelector($.classes,".pane-".concat(B.indexPosition))}}),(0,fe.T)(function($){var Y=$.css,le=$.classes;return[B.cssHelper.reduceCss(Y,".panel-page",!1),B.cssHelper.reduceCss(Y,".panel-page"),B.cssHelper.reduceSelector(le,".panel-page",!1),B.cssHelper.reduceSelector(le,".panel-page")]}),(0,q.M)(function($){var Y=(0,k.A)($,4);return B.filteredCss={css:Y[1],classes:Y[3]}}),(0,fe.T)(function($){var Y=(0,k.A)($,4);return{css:Y[0],classes:Y[2]}}),(0,fe.T)(function($){var le=$.classes;return{css:{children:Object.keys($.css.children).reduce(function(me,ke){return(0,v.A)((0,v.A)({},me),0===ke.indexOf(">")?(0,c.A)({},B.ancestoryWithSelf.map(function(qe,ct){return(ct+1)%2==0?".pane-".concat(qe):".panel-".concat(qe)}).join(" ")+" "+ke,le[ke]):(0,c.A)({},ke,le[ke]))},{})},classes:Object.keys(le).reduce(function(me,ke){return(0,v.A)((0,v.A)({},me),0===ke.indexOf(">")?(0,c.A)({},B.ancestoryWithSelf.map(function(qe,ct){return(ct+1)%2==0?".pane-".concat(qe):".panel-".concat(qe)}).join(" ")+" "+ke,le[ke]):(0,c.A)({},ke,le[ke]))},{})}}),(0,dr.c)(500)).subscribe(function($){var Y=$.css,le=$.classes;console.log("reduced classes",le);var ge=Object.keys(Y.children).filter(function(me){return""===me||tc({selector:me,document:B.document})}),be=Object.keys(le).filter(function(me){return""===me||tc({selector:me,document:B.document})});be.forEach(function(me,ke){for(var qe=""===me?[B.el.nativeElement]:-1!==me.indexOf(">")?B.document.querySelectorAll(me):B.el.nativeElement.querySelectorAll(me),ct=qe.length,it=0;it<ct;it++)for(var dt=le[be[ke]],Rt=Object.keys(dt),Lt=Rt.length,ft=0;ft<Lt;ft++)qe[it]&&(dt[Rt[ft]]===Mu.REMOVE?(console.log("remove class ".concat(Rt[ft])),B.renderer2.removeClass(qe[it],Rt[ft])):(console.log("add class ".concat(Rt[ft])),B.renderer2.addClass(qe[it],Rt[ft])))}),ge.forEach(function(me){console.log("search: ".concat(me));for(var ke=""===me?[B.el.nativeElement]:-1!==me.indexOf(">")?B.document.querySelectorAll(me):B.el.nativeElement.querySelectorAll(me),qe=ke.length,ct=Object.keys(Y.children[me].attributes),it=function(Lt){ke[Lt]&&ct.forEach(function(ft){console.log("".concat(me," { ").concat(ft,": ").concat(Y.children[me].attributes[ft],"; }"));var yt=Pu(ft.replace("-","_"),!1);B.renderer2.setStyle(ke[Lt],yt,Y.children[me].attributes[ft])})},dt=0;dt<qe;dt++)it(dt)})}),this.listeners$=new R.t([]),this.listenersSub=(0,zn.z)([this.listeners$,this.schedulePluginChange]).pipe((0,fe.T)(function($){return(0,k.A)($,1)[0]}),(0,q.M)(function($){console.log("pane listeners",$)})).subscribe(),this.paneForm=this.fb.group({contentPlugin:this.fb.control("",f.Validators.required),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.control("")}),this.paneFormSub=this.paneForm.valueChanges.subscribe(function($){console.log("pane form value plugin: ".concat(B.pluginName)),console.log($)}),this.scheduleStateChange$=new T.B,this.scheduleStateChangeSub=this.scheduleStateChange$.pipe((0,We.n)(function($){return B.paneStateService.mergeState({state:$.state,ancestory:(0,A.A)(B.ancestoryWithSelf),settings:B.settings,plugin:B.contentPlugin})})).subscribe(function($){B.panelPageStateService.upsert($.pageState)}),this.onTouched=function(){},this.pluginChangeSub=this.schedulePluginChange.pipe((0,z.p)(function(){return B.pluginName&&null!==B.pluginName&&""!==B.pluginName}),(0,We.n)(function(){return B.cpm.getPlugin(B.pluginName)})).subscribe(function($){B.contentPlugin=$,B.paneForm.get("contentPlugin").setValue($.name),B.paneForm.get("name").setValue(B.name),B.paneForm.get("label").setValue(B.label),"panel"===B.pluginName?B.resolveNestedPanelPage():B.renderPaneContent()}),this.embedPanelSub=this.resolvedContext$.pipe((0,fe.T)(function($){$&&$._root&&!B.linkedPageId&&0===B.settings.length&&(B.embedPanel=new Pr($._root))})).subscribe(),this.panelPageStateService=I.getEntityCollectionService("PanelPageState")},[{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"indexPositionClass",get:function(){return"pane-".concat(this.indexPosition)}},{key:"dynamicPanel",get:function(){return new Pr(this.resolvedContext._root)}},{key:"ngOnInit",value:function(){this.ancestoryWithSelf=[].concat((0,A.A)(this.ancestory?this.ancestory:[]),(0,A.A)(null!=this.indexPosition?[this.indexPosition]:[])),this.schedulePluginChange.next(void 0)}},{key:"ngOnChanges",value:function(t){if(t.ancestory||t.indexPosition){var s=[].concat((0,A.A)(t.ancestory.currentValue?t.ancestory.currentValue:this.ancestory?this.ancestory:[]),(0,A.A)(null!=t.indexPosition.currentValue?[t.indexPosition.currentValue]:this.indexPosition?[this.indexPosition]:[]));(s.length!==this.ancestoryWithSelf.length||0!==this.ancestoryWithSelf.filter(function(u,l){return s[l]!==u}).length)&&(this.ancestoryWithSelf=s)}this.schedulePluginChange.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.paneForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.paneForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.paneForm.disable():this.paneForm.enable()}},{key:"validate",value:function(t){var s=this;return this.paneForm.statusChanges.pipe((0,Vy.Z)(this.paneForm.status),(0,z.p)(function(u){return"PENDING"!==u}),(0,Ln.B)(1),(0,pn.s)(1),(0,fe.T)(function(u){return s.paneForm.valid?null:{invalidForm:{invalidForm:{valid:!1,message:"pane is invalid"}}}}))}},{key:"resolveNestedPanelPage",value:function(){var t=this;this.panelHandler.toObject(this.settings).subscribe(function(s){t.panelPage=new Pr((0,v.A)((0,v.A)({},s),{},{contexts:t.contexts}))})}},{key:"renderPaneContent",value:function(){var t=this,s=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),u=this.contentPaneHost.viewContainerRef;u.clear(),this.componentRef=u.createComponent(s),this.componentRef.instance.settings=this.settings,this.componentRef.instance.name=this.name,this.componentRef.instance.label=this.label,this.componentRef.instance.panes=this.panes,this.componentRef.instance.originPanes=this.originPanes,this.componentRef.instance.contexts=this.contexts.map(function(l){return new Ia(l)}),this.componentRef.instance.displayType=this.displayType,this.componentRef.instance.resolvedContext=this.resolvedContext$.value,this.componentRef.instance.ancestory=this.ancestoryWithSelf,this.componentRef.instance.state&&this.contentPlugin.handler&&this.contentPlugin.handler.stateDefinition(this.settings).pipe((0,pn.s)(1)).subscribe(function(l){t.componentRef.instance.state=l||{}}),this.componentRef.instance.stateChange&&this.componentRef.instance.stateChange.subscribe(function(l){t.scheduleStateChange$.next({state:l})})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.DOCUMENT),a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(ja),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(Cy),a.\u0275\u0275directiveInject(f9),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-render-pane"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Gf,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contentPaneHost=s.first)},hostVars:5,hostBindings:function(e,t){2&e&&(a.\u0275\u0275attribute("data-index",t.indexPosition),a.\u0275\u0275classMap(t.indexPositionClass),a.\u0275\u0275classProp("pane",!0))},inputs:{pluginName:"pluginName",settings:"settings",linkedPageId:"linkedPageId",contexts:"contexts",originPane:"originPane",displayType:"displayType",name:"name",label:"label",indexPosition:"indexPosition",ancestory:"ancestory",panes:"panes",originPanes:"originPanes",resolvedContext:"resolvedContext",css:"css",listeners:"listeners"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_ASYNC_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:6,vars:4,consts:[["fxFlex","",3,"formGroup"],["classifiedsUiPaneContentHost",""],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,pz,0,0,"ng-template",1),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275template(3,fz,1,6,"classifieds-ui-panel-page",2)(4,mz,1,4,"classifieds-ui-panel-page",3)(5,gz,1,6,"classifieds-ui-panel-page",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.paneForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","panel"==t.pluginName&&!t.linkedPageId&&0!==t.settings.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","panel"==t.pluginName&&t.linkedPageId),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","panel"==t.pluginName&&!t.linkedPageId&&0===t.settings.length))},dependencies:[y.NgIf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gf,Oy],styles:["[_nghost-%COMP%]{height:100%}"]}),r}(),wz=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,g,_,S){var I=this;(0,h.A)(this,n),this.platformId=e,this.document=t,this.hostEl=s,this.renderer2=u,this.componentFactoryResolver=l,this.fb=d,this.panelResolverService=p,this.spm=g,this.cssHelper=_,this.styleResolverService=S,this.nested=!1,this.resolvedContext={},this.heightChange=new a.EventEmitter,this.panelForm=this.fb.group({name:this.fb.control(""),label:this.fb.control(""),panes:this.fb.array([])}),this.panelFormSub=this.panelForm.valueChanges.subscribe(function(B){console.log("paneL form value"),console.log(B)}),this.filteredListeners=[],this.afterContentInit$=new T.B,this.schedulePanelRender=new T.B,this.rendered$=new T.B,this.css$=new R.t({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,zn.z)([this.css$,this.afterContentInit$,this.rendered$]).pipe((0,q.M)(function(B){var $=(0,k.A)(B,1);return console.log("css node",$[0].css)}),(0,fe.T)(function(B){return(0,k.A)(B,1)[0]}),(0,fe.T)(function(B){return{css:I.cssHelper.reduceCss(B.css,".panel-".concat(I.indexPosition$.value)),classes:I.cssHelper.reduceSelector(B.classes,".panel-".concat(I.indexPosition$.value))}}),(0,fe.T)(function(B){var $=B.css,Y=B.classes;return[I.cssHelper.reduceCss($,".pane-",!1),$,I.cssHelper.reduceSelector(Y,".pane-",!1),Y]}),(0,q.M)(function(B){var $=(0,k.A)(B,4);return I.filteredCss={css:$[1],classes:$[3]}}),(0,fe.T)(function(B){var $=(0,k.A)(B,3);return{css:$[0],classes:$[2]}}),(0,fe.T)(function(B){var Y=B.classes;return{css:{children:Object.keys(B.css.children).reduce(function(be,me){return(0,v.A)((0,v.A)({},be),0===me.indexOf(">")?(0,c.A)({},I.ancestoryWithSelf$.value.map(function(ke,qe){return(qe+1)%2==0?".pane-".concat(ke):".panel-".concat(ke)}).join(" ")+" "+me,Y[me]):(0,c.A)({},me,Y[me]))},{})},classes:Object.keys(Y).reduce(function(be,me){return(0,v.A)((0,v.A)({},be),0===me.indexOf(">")?(0,c.A)({},I.ancestoryWithSelf$.value.map(function(ke,qe){return(qe+1)%2==0?".pane-".concat(ke):".panel-".concat(ke)}).join(" ")+" "+me,Y[me]):(0,c.A)({},me,Y[me]))},{})}}),(0,dr.c)(1)).subscribe(function(B){var $=B.css,Y=B.classes;console.log("classes",Y);var le=Object.keys($.children).filter(function(be){return""===be||tc({selector:be,document:I.document})}),ge=Object.keys(Y).filter(function(be){return""===be||tc({selector:be,document:I.document})});ge.forEach(function(be,me){for(var ke=""===be?[I.hostEl.nativeElement]:-1!==be.indexOf(">")?I.document.querySelectorAll(be):I.hostEl.nativeElement.querySelectorAll(be),qe=ke.length,ct=0;ct<qe;ct++)for(var it=Y[ge[me]],dt=Object.keys(it),Rt=dt.length,Lt=0;Lt<Rt;Lt++)ke[ct]&&(it[dt[Lt]]===Mu.REMOVE?(console.log("remove class ".concat(dt[Lt])),I.renderer2.removeClass(ke[ct],dt[Lt])):(console.log("add class ".concat(dt[Lt])),I.renderer2.addClass(ke[ct],dt[Lt])))}),le.forEach(function(be){console.log("search: ".concat(be));for(var me=""===be?[I.hostEl.nativeElement]:-1!==be.indexOf(">")?I.document.querySelectorAll(be):I.hostEl.nativeElement.querySelectorAll(be),ke=me.length,qe=Object.keys($.children[be].attributes),ct=function(Rt){me[Rt]&&qe.forEach(function(Lt){console.log("".concat(be," { ").concat(Lt,": ").concat($.children[be].attributes[Lt],"; }"));var ft=Pu(Lt.replace("-","_"),!1);I.renderer2.setStyle(me[Rt],ft,$.children[be].attributes[Lt])})},it=0;it<ke;it++)ct(it)})}),this.listeners$=new R.t([]),this.listenersSub=this.listeners$.pipe((0,q.M)(function(B){console.log("panel listeners",B),I.filteredListeners=B})).subscribe(),this.scheduleRender=new T.B,this.scheduleRenderSub=this.scheduleRender.pipe((0,q.M)(function(){return console.log("schdule renderer before [".concat(I.panel.name,"]"))}),(0,We.n)(function(B){var $=(0,k.A)(B,3),Y=$[0];return I.panelResolverService.resolvePanes({panes:Y,contexts:$[1],resolvedContext:$[2]}).pipe((0,fe.T)(function(be){return{resolvedPanes:be.resolvedPanes,originMappings:be.originMappings,panes:Y}}))}),(0,We.n)(function(B){var $=B.panes;return I.styleResolverService.alterResolvedPanes({panel:I.panel,resolvedPanes:B.resolvedPanes,originMappings:B.originMappings}).pipe((0,fe.T)(function(ge){return{panes:$,resolvedPanes:ge.resolvedPanes,originMappings:ge.originMappings}}))}),(0,q.M)(function(){return console.log("schdule renderer after [".concat(I.panel.name,"]"))})).subscribe(function(B){var $=B.panes,Y=B.resolvedPanes,le=B.originMappings;console.log("render panel: ".concat(I.panel.name)),I.resolvedPanes=Y,I.originPanes=$,I.originMappings=le,I.populatePanesFormArray(),void 0!==I.stylePlugin?I.renderPanelContent():I.rendered$.next(void 0)}),this.schduleContextChange=new T.B,this.schedulePanelRenderSub=this.schedulePanelRender.pipe((0,We.n)(function(B){return I.spm.getPlugin(B)})).subscribe(function(B){var $=I.componentFactoryResolver.resolveComponentFactory(B.renderComponent),Y=I.panelHost.viewContainerRef;Y.clear();var le=Y.createComponent($);I.componentRef=le,le.instance.settings=I.panel.settings,le.instance.panes=I.resolvedPanes,le.instance.originPanes=I.panel.panes,le.instance.originMappings=I.originMappings,le.instance.contexts=I.contexts.map(function(ge){return new Ia(ge)}),le.instance.displayType=I.displayType,le.instance.ancestory=I.ancestoryWithSelf$.value,le.instance.resolvedContext=I.resolvedContext,le.instance.panel=I.panel,le.instance.indexPosition=I.indexPosition$.value,I.rendered$.next(void 0)}),this.originMappings=[],this.resolvedContexts=[],this.ancestoryWithSelf$=new R.t([]),this.ancestory$=new R.t([]),this.indexPosition$=new R.t(void 0),this.onTouched=function(){},this.ancestorySub=(0,zn.z)([this.ancestory$,this.indexPosition$]).pipe((0,q.M)(function(B){var $=(0,k.A)(B,2),le=$[1];I.ancestoryWithSelf$.next([].concat((0,A.A)($[0]),[le]))})).subscribe(),this.counter=n.COUNTER++},[{key:"contextChanged",set:function(t){}},{key:"contextsChanged",set:function(t){var s=this;t.map(function(u){return s.schduleContextChange.next(u)})}},{key:"indexPosition",set:function(t){this.indexPosition$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"indexPositionClass",get:function(){return"panel-".concat(this.indexPosition$.value)}},{key:"panesArray",get:function(){return this.panelForm.get("panes")}},{key:"ngOnInit",value:function(){var t=this;this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,void 0!==this.panel&&void 0!==this.panelHost&&(console.log("panel render init [".concat(this.panel.name)),this.panelResolverService.usedContexts(this.panel.panes).pipe((0,fe.T)(function(s){return s.filter(function(u){return"_page"!==u&&"_root"!==u&&"."!==u&&0!==u.indexOf("panestate-"+t.ancestoryWithSelf$.value.join("-"))})}),(0,q.M)(function(s){return console.log("contexts [".concat(t.panel.name,"]: ").concat(s.join(",")))}),(0,We.n)(function(s){return t.schduleContextChange.pipe((0,q.M)(function(u){return console.log("detected change [".concat(t.panel.name,"]: ").concat(u))}),(0,fe.T)(function(u){return[s,u]}))}),(0,q.M)(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return console.log("detected change [".concat(t.panel.name,"]: ").concat(d," : ctx: ").concat(l.join(",")))}),(0,z.p)(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return Array.isArray(l)&&-1!==l.findIndex(function(p){return p===d})}),(0,Ln.B)(100)).subscribe(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];console.log("Context changed [".concat(t.panel.name,"]: ").concat(d)),console.log("contexts detected [".concat(t.panel.name,"]: ").concat(l.join(","))),t.scheduleRender.next([t.panel.panes,t.contexts,t.resolvedContext])}))}},{key:"ngOnChanges",value:function(t){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,t.resolvedContext&&void 0===t.resolvedContext.previousValue&&this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}},{key:"ngAfterViewInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(t){t&&this.panelForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.panelForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.panelForm.disable():this.panelForm.enable()}},{key:"validate",value:function(t){var s=this;return this.panelForm.statusChanges.pipe((0,Vy.Z)(this.panelForm.status),(0,z.p)(function(u){return"PENDING"!==u}),(0,Ln.B)(1),(0,pn.s)(1),(0,fe.T)(function(u){return s.panelForm.valid?null:{invalidForm:{valid:!1,message:"panel are invalid"}}}))}},{key:"populatePanesFormArray",value:function(){var t=this;this.panesArray.clear(),this.resolvedPanes.forEach(function(s,u){t.panesArray.push(t.fb.control(""))})}},{key:"renderPanelContent",value:function(){this.schedulePanelRender.next(this.stylePlugin)}}])}();return(o=r).COUNTER=0,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(a.DOCUMENT),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(by),a.\u0275\u0275directiveInject(Wl),a.\u0275\u0275directiveInject(Cy),a.\u0275\u0275directiveInject(gS))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-render-panel"]],viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(Gf,7),a.\u0275\u0275viewQuery(hz,7),a.\u0275\u0275viewQuery(Ad,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.panelHost=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.paneContainer=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.renderedPanes=s))},hostVars:5,hostBindings:function(e,t){2&e&&(a.\u0275\u0275attribute("data-index",t.indexPosition$.value),a.\u0275\u0275classMap(t.indexPositionClass),a.\u0275\u0275classProp("panel",!0))},inputs:{panel:"panel",contexts:"contexts",nested:"nested",displayType:"displayType",resolvedContext:"resolvedContext",contextChanged:"contextChanged",contextsChanged:"contextsChanged",indexPosition:"indexPosition",ancestory:"ancestory",css:"css",listeners:"listeners"},outputs:{heightChange:"heightChange"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_ASYNC_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:5,vars:2,consts:[["panes",""],[1,"render-panel",3,"formGroup"],["classifiedsUiPaneContentHost",""],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formArrayName","panes"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",1,0),a.\u0275\u0275elementContainerStart(2),a.\u0275\u0275template(3,vz,0,0,"ng-template",2),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275template(4,Cz,4,3,"ng-container",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.panelForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!t.stylePlugin&&t.resolvedPanes))},dependencies:[y.NgForOf,y.NgIf,y.NgSwitch,y.NgSwitchCase,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,Gf,Ad],styles:["[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}"]}),r}(),By=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),e.register(new Cx({id:"panels_form_submit",title:"Submit Panels Form"})),e.register(new Cx({id:"panels_dialog",title:"Open Panels Dialog"}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ax))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,sn.UtilsModule,f.ReactiveFormsModule,_y,zS]}),r}(),nc=b(67081),zf=b(2043),WS=b(37865),yo=b(80453);function Pz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",4),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onEntitySelected(s.value))}),a.\u0275\u0275elementStart(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.title)}}function Iz(o,r){}function Tz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275listener("docRendered",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onDocRendered())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.content$))}}function Rz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275listener("docRendered",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onDocRendered())}),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.content$))}}function Mz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",4),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onStyleSelected(s.value))}),a.\u0275\u0275elementStart(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.title)}}function Nz(o,r){}var Vz=["contentEditor"],$f=function(r){return{settings:r}},Oz=function(r){return{visible:r}};function Bz(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function Lz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",21),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(t.onOverrideClick())}),a.\u0275\u0275text(1,"Override"),a.\u0275\u0275elementEnd()}}function jz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",21),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(t.onRemoveOverrideClick())}),a.\u0275\u0275text(1,"Remove Override"),a.\u0275\u0275elementEnd()}}function Uz(o,r){}function Gz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14)(4,"mat-icon"),a.\u0275\u0275text(5,"more_vert"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(6,"mat-expansion-panel",15),a.\u0275\u0275listener("afterCollapse",function(){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onAfterCollapse())})("afterExpand",function(){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onAfterExpand())}),a.\u0275\u0275elementStart(7,"mat-expansion-panel-header")(8,"mat-panel-title"),a.\u0275\u0275text(9),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(10,"div",16)(11,"ul"),a.\u0275\u0275template(12,Bz,1,0,"ng-container",17),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"div",18),a.\u0275\u0275template(14,Lz,2,0,"button",19)(15,jz,2,0,"button",19),a.\u0275\u0275elementContainerStart(16),a.\u0275\u0275template(17,Uz,0,0,"ng-template",20),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()()}if(2&o){var e=a.\u0275\u0275nextContext(),t=a.\u0275\u0275reference(2),s=a.\u0275\u0275reference(6);a.\u0275\u0275advance(3),a.\u0275\u0275property("matMenuTriggerFor",s),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate2("",e.contentPlugin.title," : ",e.name),a.\u0275\u0275advance(),a.\u0275\u0275property("hidden",e.preview),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(9,$f,e.settings)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(11,Oz,e.preview)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.displayOverride&&!e.hasOverride),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.displayOverride&&e.hasOverride)}}function zz(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"attribute"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit,e=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,e,n.name))}}function $z(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function Hz(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"ul"),a.\u0275\u0275template(1,$z,1,0,"ng-container",17),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275nextContext(2);var e=a.\u0275\u0275reference(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,$f,n.attributes))}}function Kz(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275text(1),a.\u0275\u0275template(2,zz,3,4,"span",23)(3,Hz,2,4,"ul",23),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",n.displayName,": "),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.attributes||0==n.attributes.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.attributes&&n.attributes.length>0)}}function qz(o,r){1&o&&a.\u0275\u0275template(0,Kz,4,3,"li",22),2&o&&a.\u0275\u0275property("ngForOf",r.settings)}function Wz(o,r){}function Qz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",24)(1,"classifieds-ui-content-editor",25,3),a.\u0275\u0275listener("nestedUpdate",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onNestedUpdate(s))})("delete",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onDeleteClick())})("rules",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onRulesClick())})("props",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onPropsClick())}),a.\u0275\u0275template(3,Wz,0,0,"ng-template",null,4,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("panelPage",e.panelPage)("savable",!1)("nested",!0)("locked",e.locked)("contexts",e.contexts)("rootContext",e.rootContext)("ancestory",e.paneAncestoryWithSelf)}}function Xz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",26),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.onPreviewClick())}),a.\u0275\u0275text(1,"Preview"),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("disabled",e.locked)}}function Yz(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",27),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var t=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(t.onDisablePreviewClick())}),a.\u0275\u0275text(1,"Disable Preview"),a.\u0275\u0275elementEnd()}}var Jz=["extraActionsArea"],Zz=["contextsMenuTpl"],e$=["editablePaneTpl"],t$=["panes"],QS=function(r){return{nested:r}};function n$(o,r){}function r$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",7),a.\u0275\u0275listener("ngSubmit",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.submit())}),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,n$,0,0,"ng-template",8),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e.contentForm)("ngClass",a.\u0275\u0275pureFunction1(2,QS,e.nested))}}function a$(o,r){}function i$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,a$,0,0,"ng-template",8),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",n.contentForm)("ngClass",a.\u0275\u0275pureFunction1(2,QS,n.nested))}}function o$(o,r){1&o&&a.\u0275\u0275element(0,"div",12)}function s$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-editable-pane",10),a.\u0275\u0275listener("delete",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.onDeletePane(d,p))})("rules",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.onRulesPane(d,p))})("nestedUpdate",function(l){var d=a.\u0275\u0275restoreView(n),p=d.i,g=d.j,_=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(_.onNestedUpdate(l,p,g))})("rendererOverride",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.onOverrideRenderer(d,p))})("removeRendererOverride",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.onRemoveOverrideRenderer(d,p))})("edit",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.onPaneEdit(d,p))})("props",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.editPaneProps(d,p))})("delete",function(){var l=a.\u0275\u0275restoreView(n),d=l.i,p=l.j,g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.onPaneDelete(d,p))}),a.\u0275\u0275template(1,o$,1,0,"div",11),a.\u0275\u0275elementEnd()}if(2&o){var e=r.i,t=r.j,s=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelIndex",e)("paneIndex",t)("name",s.panelPaneName(e,t))("label",s.panelPaneLabel(e,t))("locked",s.panelPaneLocked(e,t))("contexts",s.contexts)("pluginName",s.panelPanePlugin(e,t))("settings",s.panelPaneSettings(e,t))("ancestory",s.ancestory)}}function u$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"button",13),a.\u0275\u0275text(1,"( x )"),a.\u0275\u0275elementEnd()),2&o){a.\u0275\u0275nextContext();var n=a.\u0275\u0275reference(8);a.\u0275\u0275property("matMenuTriggerFor",n)}}function l$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",5),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onEditContext(s.name))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(e.name)}}function c$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",1),a.\u0275\u0275listener("click",function(){var s=a.\u0275\u0275restoreView(n).$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onItemSelect(s.value))}),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.name)}}function d$(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function p$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1("",n.displayName,": ")}}function f$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"attribute"),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit,e=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,e,n.name))}}function m$(o,r){1&o&&a.\u0275\u0275elementContainer(0)}function g$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,m$,1,0,"ng-container",5),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275nextContext(2);var e=a.\u0275\u0275reference(3);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,$f,n.attributes))}}function h$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,p$,2,1,"span",3)(2,f$,3,4,"span",3)(3,g$,2,4,"div",3),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",0==n.attributes.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",0==n.attributes.length),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.attributes.length>0)}}function v$(o,r){1&o&&a.\u0275\u0275template(0,h$,4,3,"div",6),2&o&&a.\u0275\u0275property("ngForOf",r.settings)}function y$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,d$,1,0,"ng-container",5)(2,v$,1,1,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275reference(3),e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,$f,e.attributeValues))}}function _$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275element(1,"classifieds-ui-attributes-builder",8),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("formGroup",n.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("attributes",n.attributes)("attributeValues",n.attributeValues)}}function b$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,y$,4,4,"div",3)(2,_$,2,3,"div",4),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","page"==n.displayType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","form"==n.displayType)}}function A$(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-snippet-pane-renderer",9),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("settings",n.rendererSettings)("tokens",n.tokens)}}function C$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",2),a.\u0275\u0275listener("removed",function(s){a.\u0275\u0275restoreView(n);var u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemoveMedia(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("removable",!0)("file",e.media),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.media.name," (",e.media.type,")")}}var x$=["img"];function S$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",26),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function E$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",23)(2,"mat-label"),a.\u0275\u0275text(3,"Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",24),a.\u0275\u0275template(5,S$,2,2,"mat-option",25),a.\u0275\u0275elementEnd()()()),2&o){var n=r.index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("formGroupName",n),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",e.panes)}}function D$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",20)(1,"button",21),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(s.addPane())}),a.\u0275\u0275text(2,"Add Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275template(4,E$,6,2,"div",22),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",e.bindings.controls)}}function w$(o,r){1&o&&(a.\u0275\u0275elementStart(0,"div",27)(1,"mat-form-field"),a.\u0275\u0275element(2,"input",28),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",30),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div")(8,"mat-checkbox",31),a.\u0275\u0275text(9,"Multiple"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275element(11,"input",32),a.\u0275\u0275elementEnd()())}function F$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function k$(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",6),a.\u0275\u0275template(5,F$,2,2,"mat-option",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(n.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",n.options)}}function P$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-radio-button",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function I$(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div")(2,"label"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-radio-group",6),a.\u0275\u0275template(5,P$,2,2,"mat-radio-button",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(n.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",n.options)}}function T$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div")(1,"div",10)(2,"mat-checkbox",11),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd()()()),2&o){var n=r.$implicit,e=r.index;a.\u0275\u0275advance(),a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(n.label)}}function R$(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div")(2,"div",2),a.\u0275\u0275template(3,T$,4,2,"div",9),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",n.options)}}function M$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function N$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275element(2,"input",12),a.\u0275\u0275elementStart(3,"mat-autocomplete",13,0),a.\u0275\u0275listener("optionSelected",function(u){a.\u0275\u0275restoreView(n);var l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onOptionSelected(u))}),a.\u0275\u0275template(5,M$,2,2,"mat-option",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerEnd()}if(2&o){var e=a.\u0275\u0275reference(4),t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("placeholder",t.label)("matAutocomplete",e),a.\u0275\u0275advance(),a.\u0275\u0275property("displayWith",t.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.options)}}function V$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.name),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.name)}}function O$(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",5),a.\u0275\u0275element(1,"druid-panels-panelpage-linkedlist",6),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.onRemoveMapping(u))}),a.\u0275\u0275text(3,"Remove"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(),a.\u0275\u0275property("panes",t.panes)}}function B$(o,r){if(1&o&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",4),2&o){var n=a.\u0275\u0275nextContext().index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("pluginName",e.panes[2*n].contentPlugin)("settings",e.panes[2*n].settings)("contexts",e.panes[2*n].contexts)}}function L$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab"),a.\u0275\u0275template(1,B$,1,3,"ng-template",3),a.\u0275\u0275element(2,"classifieds-ui-render-pane",4),a.\u0275\u0275elementEnd()),2&o){var n=r.index,e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275property("pluginName",e.panes[2*n+1].contentPlugin)("settings",e.panes[2*n+1].settings)("contexts",e.panes[2*n+1].contexts)}}function j$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab-group",1),a.\u0275\u0275template(1,L$,3,3,"mat-tab",2),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("for",n.panes.length/2)}}function U$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab",6),a.\u0275\u0275element(1,"classifieds-ui-render-pane",4),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("pluginName",n.contentPlugin)("settings",n.settings)("contexts",n.contexts)}}function G$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-tab-group",1),a.\u0275\u0275template(1,U$,2,3,"mat-tab",5),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",n.panes)}}function z$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"div",2),a.\u0275\u0275element(1,"classifieds-ui-render-pane",3),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275advance(),a.\u0275\u0275property("pluginName",n.contentPlugin)("settings",n.settings)("contexts",n.contexts)("resolvedContext",n.resolvedContext)}}function $$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"th",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function H$(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"td",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext().$implicit,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(t.rowData(e,n))}}function K$(o,r){1&o&&(a.\u0275\u0275elementContainerStart(0,4),a.\u0275\u0275template(1,$$,2,1,"th",5)(2,H$,2,1,"td",6),a.\u0275\u0275elementContainerEnd()),2&o&&a.\u0275\u0275property("matColumnDef",r.$implicit)}function q$(o,r){1&o&&a.\u0275\u0275element(0,"tr",9)}function W$(o,r){1&o&&a.\u0275\u0275element(0,"tr",10)}var $y,Q$={GridLayout:{entityName:"GridLayout"},PanelPageForm:{crud:{panelpageform_serialize:{plugins:{idb_keyval:{params:{prefix:"panelpageform__"}}}}}}},Hf=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiContentSelectionHost",""]],standalone:!1}),r}(),X$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.data=e,this.bottomSheetRef=t,this.dialog=s,this.componentFactoryResolver=u,this.fb=l,this.contentPluginManager=d,this.selectedIndex=0},[{key:"ngOnInit",value:function(){this.contentPlugins=this.contentPluginManager.getPlugins()}},{key:"onEntitySelected",value:function(t){var s=this;this.plugin=t,void 0!==this.plugin.selectionComponent?(this.selectedIndex=1,this.renderSelectionComponent()):void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),t.handler?this.plugin.handler.editorOptions([]).subscribe(function(l){s.dialog.open(s.plugin.editorComponent,(0,v.A)({data:{panelFormGroup:s.data.panelForm,panelIndex:s.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:s.data.contexts,contentAdded:s.data.contentAdded,plugin:t}},l.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}))}):this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded}})):this.data.panelForm.get("panes").push(this.fb.group({contentPlugin:this.fb.control(this.plugin.id),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.array([])}))}},{key:"renderSelectionComponent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.plugin.selectionComponent),s=this.selectionHost.viewContainerRef;s.clear();var u=s.createComponent(t);u.instance.panelFormGroup=this.data.panelForm,u.instance.contexts=this.data.contexts}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Fu.MAT_BOTTOM_SHEET_DATA),a.\u0275\u0275directiveInject(Fu.MatBottomSheetRef),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Xt.ContentPluginManager))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-content-selector"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Hf,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.selectionHost=s.first)},standalone:!1,decls:10,vars:6,consts:[[1,"content-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),a.\u0275\u0275template(4,Pz,3,1,"a",2),a.\u0275\u0275pipe(5,"async"),a.\u0275\u0275pipe(6,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"mat-tab"),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,Iz,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("selectedIndex",t.selectedIndex),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(6,4,a.\u0275\u0275pipeBind1(5,2,t.contentPlugins))))},dependencies:[y.NgForOf,Df.MatLine,fs.MatNavList,fs.MatListItem,go.MatTab,go.MatTabGroup,Hf,y.AsyncPipe,y.KeyValuePipe],styles:[".content-selector-wrapper[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}"]}),r}(),Nu=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.attributeSerializer=e,this.tokenizrService=t,this.types=["text/markdown","text/html"]},[{key:"handleFile",value:function(t){var s=this;return new L.c(function(u){var l=new FileReader;l.onload=function(){u.next(s.buildSettings(new xu({contentType:t.type,content:"".concat(l.result)}))),u.complete()},l.readAsText(t)})}},{key:"handlesType",value:function(t){return void 0!==this.types.find(function(s){return s===t})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){var l=this;return"context"===s?this.toObject(t).pipe((0,fe.T)(function(d){return l.tokenizrService.discoverTokens(d.content).map(function(g){return new Xt.ContentBinding({id:g,type:"context"})})})):(0,Te.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(new xu(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Te.of)({})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions({fullscreen:!0}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(Qn))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),XS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){var l=this;(0,h.A)(this,n),this.hostEl=e,this.handler=t,this.tokenizerService=s,this.markdownService=u,this.contexts=[],this.afterContentInit$=new T.B,this.content="",this.content$=new R.t(""),this.settings$=new R.t([]),this.snippet$=new R.t(void 0),this.resolvedContext$=new R.t(void 0),this.docRendered$=new T.B,this.contentSub=(0,zn.z)([this.afterContentInit$,this.content$,this.snippet$,this.docRendered$]).subscribe(function(d){var S=(0,k.A)(d,3)[2];S&&S.jsScript&&""!==S.jsScript&&setTimeout(function(){return l.appendScript(S.jsScript)})}),this.renderContentSub=(0,zn.z)([this.settings$,this.resolvedContext$]).pipe((0,We.n)(function(d){var p=(0,k.A)(d,2);return l.handler.toObject(p[0])}),(0,We.n)(function(d){return l.resolveContexts().pipe((0,fe.T)(function(p){return[d,p]}))})).subscribe(function(){var d=(0,Mt.A)(function(p){var g=(0,k.A)(p,2),_=g[0],S=g[1];return(0,Ke.A)().m(function I(){var B,$;return(0,Ke.A)().w(function(Y){for(;;)switch(Y.n){case 0:if(void 0!==S&&(l.tokens=S),l.contentType=_.contentType,l.snippet$.next(_),B=l.replaceTokens(_.content),!_.contentType||-1===_.contentType.indexOf("markdown")){Y.n=2;break}return Y.n=1,Promise.resolve(l.markdownService.parse(B));case 1:$=Y.v,Y.n=3;break;case 2:$=B;case 3:l.content$.next($);case 4:return Y.a(2)}},I)})()});return function(p){return d.apply(this,arguments)}}())},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){console.log("pane changed")}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(),this.afterContentInit$.complete()}},{key:"replaceTokens",value:function(t){return void 0!==this.tokens&&this.tokens.forEach(function(s,u){t=t.split("[".concat(u,"]")).join("".concat(s))}),t}},{key:"resolveContexts",value:function(){var t=this;return new L.c(function(s){var u=new Map;if(t.resolvedContext$.value)for(var l in t.resolvedContext$.value)u=new Map([].concat((0,A.A)(u),(0,A.A)(t.tokenizerService.generateGenericTokens(t.resolvedContext$.value[l],"_root"===l?"":l))));s.next(u),s.complete()})}},{key:"appendScript",value:function(t){var s=document.createElement("script");s.type="text/javascript",s.appendChild(document.createTextNode(t)),this.hostEl.nativeElement.appendChild(s),console.log("add script")}},{key:"onDocRendered",value:function(){this.docRendered$.next(void 0)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Nu),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Af))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-pane-renderer"]],inputs:{settings:"settings",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"content","docRendered",4,"ngIf"],[3,"docRendered","content"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,Tz,2,3,"classifieds-ui-dynamic-content-viewer",0)(1,Rz,2,3,"classifieds-ui-dynamic-content-viewer",0),2&e&&(a.\u0275\u0275property("ngIf","text/markdown"==t.contentType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","text/html"==t.contentType))},dependencies:[y.NgIf,sn.DynamicContentViewer,y.AsyncPipe],encapsulation:2}),r}(),Vu=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.snippetHandler=e},[{key:"handleFile",value:function(t){return(0,Te.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return this.rendererSnippet(t).pipe((0,fe.T)(function(s){return void 0!==s}))}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"getBindings",value:function(t,s,u){return(0,Te.of)([])}},{key:"valueSettings",value:function(t){var s=[];return t.forEach(function(u){"value"===u.name&&s.push(u)}),s}},{key:"rendererSnippet",value:function(t){var u,s=this;return t.forEach(function(l){"_renderer"===l.name&&(u=s.snippetHandler.toObject(l.attributes))}),void 0!==u?u:(0,Te.of)(void 0)}},{key:"rendererOverrideSettings",value:function(t){return[new _t.AttributeValue({name:"_renderer",type:_t.AttributeTypes.Complex,displayName:"Renderer Override",value:void 0,computedValue:void 0,intValue:0,attributes:this.snippetHandler.buildSettings(t)})]}},{key:"widgetSettings",value:function(t){return[new _t.AttributeValue({name:"widget",type:t.schema.type,displayName:"Widget",value:t.name,computedValue:t.name,intValue:0,attributes:[]})]}},{key:"stateDefinition",value:function(t){return(0,Te.of)({})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Nu))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Y$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.tokenizerService=s,this.handler=u,this.fb=l},[{key:"ngOnInit",value:function(){this.tokens=this.tokenizerService.generateTokens(this.data.pane.settings)}},{key:"submitted",value:function(t){this.replaceRenderer(t),this.dialogRef.close()}},{key:"replaceRenderer",value:function(t){var s,u=this.handler.rendererOverrideSettings(t)[0],l=this.convertToGroup(u),d=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");d.controls.forEach(function(p,g){"_renderer"===p.get("name").value&&(s=g)}),void 0!==s?(d.insert(s,l),d.removeAt(s+1)):d.push(l)}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Vu),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rendering-editor"]],standalone:!1,decls:2,vars:1,consts:[[3,"submitted","tokens"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),a.\u0275\u0275listener("submitted",function(u){return t.submitted(u)}),a.\u0275\u0275element(1,"classifieds-ui-snippet-form"),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("tokens",t.tokens)},dependencies:[Cf],encapsulation:2}),r}(),J$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.data=e,this.spm=t,this.bottomSheetRef=s,this.dialog=u,this.componentFactoryResolver=l,this.fb=d,this.selectedIndex=0},[{key:"ngOnInit",value:function(){this.stylePlugins=this.spm.getPlugins()}},{key:"onStyleSelected",value:function(t){this.plugin=t,void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,contexts:this.data.contexts}})):(this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.bottomSheetRef.dismiss())}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Fu.MAT_BOTTOM_SHEET_DATA),a.\u0275\u0275directiveInject(Wl),a.\u0275\u0275directiveInject(Fu.MatBottomSheetRef),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-style-selector"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(Hf,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.selectionHost=s.first)},standalone:!1,decls:10,vars:6,consts:[[1,"style-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),a.\u0275\u0275template(4,Mz,3,1,"a",2),a.\u0275\u0275pipe(5,"async"),a.\u0275\u0275pipe(6,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"mat-tab"),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,Nz,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("selectedIndex",t.selectedIndex),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(6,4,a.\u0275\u0275pipeBind1(5,2,t.stylePlugins))))},dependencies:[y.NgForOf,Df.MatLine,fs.MatNavList,fs.MatListItem,go.MatTab,go.MatTabGroup,Hf,y.AsyncPipe,y.KeyValuePipe],styles:[".style-selector-wrapper[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}"]}),r}(),Z$=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.inlineContextResolver=u,this.rulesParser=l,this.rulesForm=this.fb.group({rules:this.fb.control("")}),this.config={fields:{}}},[{key:"ngOnInit",value:function(){var t=this;this.inlineContextResolver.resolveMerged(this.data.contexts).subscribe(function(s){var u={};for(var l in s)t.rulesParser.buildFields(s[l],l).forEach(function(d,p){u[p]=d});t.config=(0,v.A)((0,v.A)({},t.config),{},{fields:u}),void 0!==t.data.rule&&t.rulesForm.get("rules").setValue(t.data.rule)})}},{key:"submit",value:function(){console.log("the rules"),console.log(this.rulesForm.get("rules").value),this.dialogRef.close(this.rulesForm.get("rules").value)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Ul),a.\u0275\u0275directiveInject(Ex))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rules-dialog"]],standalone:!1,decls:6,vars:3,consts:[[1,"rest-form",3,"ngSubmit","formGroup"],["formControlName","rules",3,"config"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"query-builder",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.rulesForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("config",t.config),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.rulesForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,wy],encapsulation:2}),r}(),eH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propertiesForm=this.fb.group({name:this.fb.control(this.data.props.name),title:this.fb.control(this.data.props.title),path:this.fb.control(this.data.props.path),cssFile:this.fb.control(this.data.props.cssFile),readUserIds:this.fb.array([this.fb.group({userId:this.fb.control(this.data.props.readUserIds&&this.data.props.readUserIds.length>0?this.data.props.readUserIds[0]:"")})])})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new cd((0,v.A)((0,v.A)({},this.propertiesForm.value),{},{readUserIds:this.propertiesForm.value.readUserIds.map(function(t){return t.userId})})))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-properties-dialog"]],standalone:!1,decls:18,vars:2,consts:[[1,"properties-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","title","placeholder","Title"],["matInput","","formControlName","path","placeholder","Path"],["matInput","","formControlName","cssFile","placeholder","Css File"],["formArrayName","readUserIds"],["formGroupName","0"],["matInput","","formControlName","userId","placeholder","Read User Id"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275element(9,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275element(11,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-form-field",7)(13,"div",8),a.\u0275\u0275element(14,"input",9),a.\u0275\u0275elementEnd()()()()(),a.\u0275\u0275elementStart(15,"mat-dialog-actions")(16,"button",10),a.\u0275\u0275text(17,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.propertiesForm),a.\u0275\u0275advance(16),a.\u0275\u0275property("disabled",!t.propertiesForm.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Re],encapsulation:2}),r}(),YS=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.contextForm=this.fb.group({context:this.fb.control("")}),this.context=e.context},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;this.data.context&&setTimeout(function(){t.contextFormComp.contextForm.setValue({name:t.data.context.name,plugin:t.data.context.plugin}),"rest"===t.data.context.plugin?setTimeout(function(){t.contextFormComp.componentRef.instance.restSourceFormComp.restSource={url:t.data.context.rest.url,params:t.data.context.rest.params}}):"datasource"===t.data.context.plugin&&setTimeout(function(){t.contextFormComp.componentRef.instance.datasourceFormComp.datasource=t.data.context.datasource})})}},{key:"submit",value:function(){""!==this.contextForm.get("context").value.name?this.dialogRef.close(new Ia(this.contextForm.get("context").value)):this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-dialog"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(dx,5),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextFormComp=s.first)},standalone:!1,decls:6,vars:3,consts:[[1,"context-form",3,"ngSubmit","formGroup"],["formControlName","context",3,"context"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"classifieds-ui-context-form",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.contextForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("context",t.context),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.contextForm.valid))},dependencies:[f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,dx],encapsulation:2}),r}(),tH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new vS(this.propsForm.value))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-props-dialog"]],standalone:!1,decls:11,vars:2,consts:[[1,"props-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),a.\u0275\u0275text(10,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.propsForm),a.\u0275\u0275advance(9),a.\u0275\u0275property("disabled",!t.propsForm.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Re],encapsulation:2}),r}(),nH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new yS(this.propsForm.value))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-pane-props-dialog"]],standalone:!1,decls:11,vars:2,consts:[[1,"props-form",3,"ngSubmit","formGroup"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),a.\u0275\u0275text(10,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.propsForm),a.\u0275\u0275advance(9),a.\u0275\u0275property("disabled",!t.propsForm.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Re],encapsulation:2}),r}(),JS=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiLayoutEditorHost",""]],standalone:!1}),r}(),ZS=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiPaneContentHost",""]],standalone:!1}),r}(),Ly=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.entityServices=e,this.attributeSerializer=t},[{key:"entityCollectionService",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState")}},{key:"resolve",value:function(t,s){var S,B,u=this,l=function(S){return S.entities},g="$."+s.selectionPath.map(function(_,S){return"".concat((S+1)%2==0?"panes":(0===S?"":"nestedPage.")+"panels","[").concat(_,"]")}).join(".");return this.entityCollectionService.collection$.pipe(wr((B=(S={id:s.id,path:g}).path,Fn(function(S){var I=S.id;return Fn(l,function(B){return B[I]?B[I]:void 0})}({id:S.id}),function($){return(0,Uo.JSONPath)({path:B,json:$})}))),(0,fe.T)(function(_){return _&&Array.isArray(_)&&0!==_.length?_[0]:u.defaultPaneState(s.value?s.value:{})}),(0,fe.T)(function(_){return u.attributeSerializer.deserialize(_.state)}),(0,fe.T)(function(_){return _?_.root?_.root:_:{}}),(0,q.M)(function(_){console.log("resolved panestate[id=".concat(s.id,"]").concat(g)),console.log(_)}))}},{key:"defaultPaneState",value:function(t){return new mi({state:this.attributeSerializer.serialize(t,"root")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(yr),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),eE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.componentFactoryResolver=e,this.panelHandler=t,this.cpm=s,this.settings=[],this.locked=!1,this.contexts=[],this.edit=new a.EventEmitter,this.props=new a.EventEmitter,this.delete=new a.EventEmitter,this.rules=new a.EventEmitter,this.rendererOverride=new a.EventEmitter,this.removeRendererOverride=new a.EventEmitter,this.nestedUpdate=new a.EventEmitter,this.heightChange=new a.EventEmitter,this.displayOverride=!1,this.hasOverride=!1,this.preview=!1,this.schedulePluginChange=new T.B,this.pluginChangeSub=this.schedulePluginChange.pipe((0,We.n)(function(l){return u.cpm.getPlugin(u.pluginName).pipe((0,We.n)(function(d){return d.handler.hasRendererOverride(u.settings).pipe((0,fe.T)(function(p){return[l,d,p]}))}))})).subscribe(function(l){var d=(0,k.A)(l,3),p=d[0],g=d[1],_=d[2];u.contentPlugin=g,u.displayOverride=g.handler.implementsRendererOverride(),u.hasOverride=!!_,p&&"panel"===u.pluginName&&u.panelHandler.toObject(u.settings).subscribe(function(S){u.panelPage=S})}),this.ancestory$=new T.B,this.panelIndex$=new T.B,this.paneIndex$=new T.B,this.paneAncestoryWithSelf=[],this.paneAncestoryWithSelfSub=(0,zn.z)([this.ancestory$,this.panelIndex$,this.paneIndex$]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,3),g=d[1],_=d[2];return[].concat((0,A.A)(d[0]),[g,_])})).subscribe(function(l){u.paneAncestoryWithSelf=l})},[{key:"panelIndex",set:function(t){this.panelIndex$.next(t)}},{key:"paneIndex",set:function(t){this.paneIndex$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"ngOnInit",value:function(){this.schedulePluginChange.next(!0),console.log("here 1")}},{key:"ngOnChanges",value:function(t){this.schedulePluginChange.next(!1),console.log("here 2"),console.log(t)}},{key:"onEditClick",value:function(){this.edit.emit()}},{key:"onPropsClick",value:function(){this.props.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onPreviewClick",value:function(){var t=this;this.preview=!0,void 0!==this.contentPaneHost&&this.renderPaneContent(),setTimeout(function(){return t.heightChange.emit()})}},{key:"onOverrideClick",value:function(){this.rendererOverride.emit()}},{key:"onRemoveOverrideClick",value:function(){this.removeRendererOverride.emit()}},{key:"onNestedUpdate",value:function(t){this.nestedUpdate.emit(t)}},{key:"onDisablePreviewClick",value:function(){var t=this;this.preview=!1,void 0!==this.contentPaneHost&&this.contentPaneHost.viewContainerRef.clear(),setTimeout(function(){return t.heightChange.emit()})}},{key:"onAfterCollapse",value:function(){this.heightChange.emit()}},{key:"onAfterExpand",value:function(){this.heightChange.emit()}},{key:"renderPaneContent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),s=this.contentPaneHost.viewContainerRef;s.clear(),s.createComponent(t).instance.settings=this.settings}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(ja),a.\u0275\u0275directiveInject(Xt.ContentPluginManager))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-editable-pane"]],viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(ZS,5),a.\u0275\u0275viewQuery(Vz,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contentPaneHost=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contentEditor=s.first))},inputs:{pluginName:"pluginName",settings:"settings",name:"name",label:"label",panelIndex:"panelIndex",paneIndex:"paneIndex",locked:"locked",rootContext:"rootContext",contexts:"contexts",ancestory:"ancestory"},outputs:{edit:"edit",props:"props",delete:"delete",rules:"rules",rendererOverride:"rendererOverride",removeRendererOverride:"removeRendererOverride",nestedUpdate:"nestedUpdate",heightChange:"heightChange"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:17,vars:6,consts:[["settingsTmpl",""],["nestedPanelTpl",""],["paneMenu","matMenu"],["contentEditor",""],["extraActionsArea",""],["class","editable-pane-wrapper",4,"ngIf","ngIfElse"],["type","button","mat-menu-item","",3,"click","disabled"],["type","button","mat-menu-item","",3,"click"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"click"],[1,"editable-pane-wrapper"],["fxLayout","row",1,"inner-pane-wrapper"],[1,"pane-menu-trigger-wrapper"],["mat-button","","type","button",3,"matMenuTriggerFor"],["fxFlex","",3,"afterCollapse","afterExpand"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"preview-area",3,"ngClass"],["class","override","type","button",3,"click",4,"ngIf"],["classifiedsUiPaneContentHost",""],["type","button",1,"override",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nested-panel-wrapper"],[3,"nestedUpdate","delete","rules","props","panelPage","savable","nested","locked","contexts","rootContext","ancestory"],["mat-menu-item","","type","button",3,"click","disabled"],["mat-menu-item","","type","button",3,"click"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275template(0,Gz,18,13,"div",5)(1,qz,1,1,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)(3,Qz,5,7,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(5,"mat-menu",null,2)(7,"button",6),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onEditClick())}),a.\u0275\u0275text(8,"Edit"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",6),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onPropsClick())}),a.\u0275\u0275text(10,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"button",7),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onRulesClick())}),a.\u0275\u0275text(12,"Rules"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(13,Xz,2,1,"button",8)(14,Yz,2,0,"button",9),a.\u0275\u0275elementStart(15,"button",10),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onDeleteClick())}),a.\u0275\u0275text(16,"Delete"),a.\u0275\u0275elementEnd()()}if(2&e){var u=a.\u0275\u0275reference(4);a.\u0275\u0275property("ngIf","panel"!=t.pluginName||t.locked)("ngIfElse",u),a.\u0275\u0275advance(7),a.\u0275\u0275property("disabled",t.locked),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",t.locked&&0!==t.settings.length),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!t.preview),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.preview)}},dependencies:function(){return[y.NgClass,y.NgForOf,y.NgIf,y.NgTemplateOutlet,Gr.MatButton,Ny.MatExpansionPanel,Ny.MatExpansionPanelHeader,Ny.MatExpansionPanelTitle,yd.MatIcon,Ua.MatMenu,Ua.MatMenuItem,Ua.MatMenuTrigger,Re,ai,za,jy,ZS,_t.AttributePipe]},styles:[".editable-pane-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em;border-radius:4px;padding-left:.25em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nested-panel-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em}.inner-pane-wrapper[_ngcontent-%COMP%]{padding:0}.pane-header[_ngcontent-%COMP%]{background-color:#ccc;padding:0}.mat-mdc-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}button.delete[_ngcontent-%COMP%]{float:right}.preview-area[_ngcontent-%COMP%]{display:none;position:relative}.preview-area.visible[_ngcontent-%COMP%]{display:block;height:300px;overflow-y:scroll;border:1px solid black;padding:.5em}.panel-name[_ngcontent-%COMP%]{float:right;padding-right:.5em}.pane-menu-trigger-wrapper[_ngcontent-%COMP%]{display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1em 0 .25em}"]}),r}(),jy=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,g,_,S,I,B,$,Y){var le=this;(0,h.A)(this,n),this.siteName=e,this.cpm=t,this.spm=s,this.lpm=u,this.cxtm=l,this.fb=d,this.bs=p,this.dialog=g,this.panelHandler=_,this.tokenizerService=S,this.componentFactoryResolver=I,this.pageBuilderFacade=B,this.paneStateContextResolver=$,this.panelsContextService=Y,this.submitted=new a.EventEmitter,this.nestedUpdate=new a.EventEmitter,this.delete=new a.EventEmitter,this.rules=new a.EventEmitter,this.props=new a.EventEmitter,this.savable=!0,this.nested=!1,this.locked=!1,this.pageBuilder=!1,this.contexts=[],this.contentAdded=new T.B,this.contentAdddedSub=this.contentAdded.subscribe(function(ge){var be=(0,k.A)(ge,2);le.resolvePaneContexts(be[0],be[1])}),this.dashboard=[],this.pageProperties=new cd,this.persistence=new zl,this.interactions=new wu,this.layoutSetting=new $n,this.rowSettings=[],this.ancestory$=new R.t([]),this.onTouched=function(){},this.contentForm=this.fb.group({name:this.fb.control(""),title:this.fb.control(""),layoutType:this.fb.control("split",f.Validators.required),displayType:this.fb.control("page",f.Validators.required),panels:this.fb.array([])}),this.options={gridType:Vn.Fit,displayGrid:Fy.Always,pushItems:!0,draggable:{enabled:!0},resizable:{enabled:!0},mobileBreakpoint:0,itemChangeCallback:function(be,me){},itemInitCallback:function(be,me){if(le.nested&&0!==be.y){var ke=le.gridLayout.grid.findIndex(function(qe){return qe.x===be.x&&qe.y===be.y&&qe.cols===be.cols&&qe.rows===be.rows});0===le.panelPanes(ke).length&&le.gridLayout.setItemContentHeight(ke,200)}}},this.ancestorySub=this.ancestory$.pipe((0,z.p)(function(){return!!le.layoutEditorRef})).subscribe(function(ge){le.layoutEditorRef.instance.ancestory=ge})},[{key:"ancestory",get:function(){return this.ancestory$.value},set:function(t){this.ancestory$.next(t)}},{key:"panels",get:function(){return this.contentForm.get("panels")}},{key:"layoutType",get:function(){return this.contentForm.get("layoutType")}},{key:"displayType",get:function(){return this.contentForm.get("displayType")}},{key:"columnSettings",get:function(){for(var t=this.panels.length,s=[],u=0;u<t;u++)s=[].concat((0,A.A)(s),[new $n(this.panels.at(u).get("columnSetting").value)]);return s}},{key:"ngOnInit",value:function(){var t=this;this.contentForm.valueChanges.pipe((0,z.p)(function(){return t.nested}),(0,Ln.B)(500)).subscribe(function(){t.nestedUpdate.emit(t.packageFormData())}),this.contentForm.get("layoutType").valueChanges.pipe((0,z.p)(function(s){return"gridless"===s}),(0,dr.c)(1)).subscribe(function(s){0===t.panels.length&&t.panels.push(t.fb.group({name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),stylePlugin:new f.UntypedFormControl(""),styleTitle:new f.UntypedFormControl(""),settings:new f.UntypedFormArray([]),panes:t.fb.array([]),columnSetting:t.fb.group({settings:t.fb.array([])})}))}),this.contentForm.valueChanges.pipe((0,z.p)(function(){return!t.nested}),(0,Ln.B)(500)).subscribe(function(){var s=t.packageFormData();t.pageBuilderFacade.setPage(s)})}},{key:"ngAfterViewInit",value:function(){var t=this;this.layoutType.valueChanges.pipe((0,z.p)(function(){return!!t.layoutEditorHost})).subscribe(function(s){t.renderEditorLayout(s)}),this.layoutType.value&&this.renderEditorLayout(this.layoutType.value)}},{key:"ngAfterContentInit",value:function(){var t=this;setTimeout(function(){t.panelPage||t.contentForm.get("layoutType").setValue("split")},1e3)}},{key:"ngOnChanges",value:function(t){var s=this;t.panelPage&&t.panelPage.previousValue!==t.panelPage.currentValue&&(this.panels.clear(),this.panelPageId=t.panelPage.currentValue.panelPageId,this.dashboard=t.panelPage.currentValue.gridItems.map(function(u){return Object.assign({},u)}),this.layoutType.setValue(t.panelPage.currentValue.layoutType),this.layoutSetting=new $n(t.panelPage.currentValue.layoutSetting),this.rowSettings=t.panelPage.currentValue.rowSettings?t.panelPage.currentValue.rowSettings.map(function(u){return new $n(u)}):[],this.persistence=t.panelPage.currentValue.persistence?new zl(t.panelPage.currentValue.persistence):new zl,this.interactions=t.panelPage.currentValue.interactions?new wu(t.panelPage.currentValue.interactions):new wu,this.nested?(this.pageProperties=new cd({name:t.panelPage.currentValue.name,title:t.panelPage.currentValue.title,path:"",readUserIds:[],cssFile:""}),this.contentForm.get("name").setValue(t.panelPage.currentValue.name),this.contentForm.get("title").setValue(t.panelPage.currentValue.title)):(this.pageProperties=new cd({name:t.panelPage.currentValue.name,title:t.panelPage.currentValue.title,path:t.panelPage.currentValue.path,readUserIds:t.panelPage.currentValue.entityPermissions.readUserIds,cssFile:t.panelPage.currentValue.cssFile}),this.contexts=t.panelPage.currentValue.contexts),t.panelPage.currentValue.panels.forEach(function(u,l){s.panels.push(s.fb.group({name:new f.UntypedFormControl(u.name),label:new f.UntypedFormControl(u.label),stylePlugin:new f.UntypedFormControl(u.stylePlugin),styleTitle:new f.UntypedFormControl(""),settings:s.fb.array(void 0!==u.settings?u.settings.map(function(d){return s.convertToGroup(d)}):[]),panes:s.fb.array([]),columnSetting:s.fb.group({settings:s.fb.array(u.columnSetting?u.columnSetting.settings.map(function(d){return s.convertToGroup(d)}):[])})})),u.stylePlugin&&""!==u.stylePlugin&&s.spm.getPlugin(u.stylePlugin).subscribe(function(d){s.panels.at(l).get("styleTitle").setValue(d.title)}),s.nested&&s.panelPanes(s.panels.length-1).valueChanges.pipe((0,Ln.B)(5),(0,dr.c)(1)).subscribe(function(d){return function(){if(void 0!==s.gridLayout){var p=s.paneContainers.find(function(g,_){return _===d});s.gridLayout.setItemContentHeight(d,p.nativeElement.offsetHeight)}}}(s.panels.length-1)),u.panes.forEach(function(d,p){s.panels.at(l).get("panes").push(s.fb.group({contentPlugin:d.contentPlugin,name:new f.UntypedFormControl(d.name),label:new f.UntypedFormControl(d.label),locked:new f.UntypedFormControl(d.locked),linkedPageId:new f.UntypedFormControl(d.linkedPageId),rule:new f.UntypedFormControl(d.rule&&null!==d.rule?(0,v.A)((0,v.A)({},d.rule),{},{rules:d.rule.rules&&Array.isArray(d.rule.rules)?d.rule.rules:[]}):{condition:"",rules:[]}),settings:new f.UntypedFormArray(d.settings.map(function(g){return s.convertToGroup(g)}))})),setTimeout(function(){return s.resolvePaneContexts(l,p)})})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings))}},{key:"addContent",value:function(t){var s=this;console.log(this.panels.at(t)),this.pageBuilderFacade.getPage$.pipe((0,We.n)(function(u){return s.panelsContextService.allActivePageContexts({panelPage:u})}),(0,pn.s)(1)).subscribe(function(u){s.bs.open(X$,{data:{panelForm:s.panels.at(t),panelIndex:t,contexts:[].concat((0,A.A)(s.rootContext?[s.rootContext]:[]),(0,A.A)(s.contexts),(0,A.A)(u))}})})}},{key:"editPanelProps",value:function(t){var s=this.panels.at(t).get("name"),u=this.panels.at(t).get("label");this.dialog.open(tH,{data:{props:new vS({name:s.value,label:u.value})}}).afterClosed().subscribe(function(l){l&&(s.setValue(l.name),u.setValue(l.label))})}},{key:"editPaneProps",value:function(t,s){var u=this.panelPane(t,s).get("name"),l=this.panelPane(t,s).get("label");this.dialog.open(nH,{data:{props:new yS({name:u.value,label:l.value})}}).afterClosed().subscribe(function(d){d&&(u.setValue(d.name),l.setValue(d.label))})}},{key:"applyStyle",value:function(t){this.bs.open(J$,{data:{panelForm:this.panels.controls[t],panelIndex:t,contexts:this.contexts}})}},{key:"removeStyle",value:function(t){this.panels.controls[t].get("stylePlugin").setValue(""),this.panels.controls[t].get("styleTitle").setValue("")}},{key:"onItemAdded",value:function(){var t=this;console.log("item added"),this.panels.push(this.fb.group({name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),stylePlugin:new f.UntypedFormControl(""),styleTitle:new f.UntypedFormControl(""),settings:new f.UntypedFormArray([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})})),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){t.paneContainers.forEach(function(s,u){t.gridLayout.setItemContentHeight(u,s.nativeElement.offsetHeight)})}),this.panelPanes(this.panels.length-1).valueChanges.pipe((0,z.p)(function(){return t.nested&&void 0!==t.gridLayout}),(0,Ln.B)(5),(0,dr.c)(1)).subscribe(function(s){return function(){var u=t.paneContainers.find(function(l,d){return d===s});t.gridLayout.setItemContentHeight(s,u.nativeElement.offsetHeight)}}(this.panels.length-1)),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onItemRemoved",value:function(t){var s=this;this.panels.removeAt(t),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){s.paneContainers.forEach(function(u,l){s.gridLayout.setItemContentHeight(l,u.nativeElement.offsetHeight)})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onDrop",value:function(t){console.log(t);var s=+t.container.data,u=+t.previousContainer.data;if(s===u){for(var l=t.currentIndex>t.previousIndex?1:-1,d=t.previousIndex,p=t.currentIndex,g=this.panelPanes(s).at(d),_=d;_*l<p*l;_+=l){var S=this.panelPanes(s).at(_+l);this.panelPanes(s).setControl(_,S)}this.panelPanes(s).setControl(p,g)}else{var I=this.panelPanes(u).at(t.previousIndex);this.panelPanes(u).removeAt(t.previousIndex),this.panelPanes(s).insert(t.currentIndex,I)}}},{key:"onOverrideRenderer",value:function(t,s){var u=new Er(this.panelPane(t,s).value);this.dialog.open(Y$,{data:{panelFormGroup:this.panels.at(t),paneIndex:s,pane:u}})}},{key:"onRemoveOverrideRenderer",value:function(t,s){var l,u=this.panelPane(t,s).get("settings");u.controls.forEach(function(d,p){"_renderer"===d.get("name").value&&(l=p)}),void 0!==l&&u.removeAt(l)}},{key:"onNestedUpdate",value:function(t,s,u){var l=this,d=this.panelHandler.buildSettings(t),p=this.panelPane(s,u).get("settings");p.clear(),d.forEach(function(g){return p.push(l.convertToGroup(g))})}},{key:"onPaneHeightChange",value:function(t){if(this.nested&&this.gridLayout){var s=this.paneContainers.find(function(u,l){return l===t});this.gridLayout.setItemContentHeight(t,s.nativeElement.offsetHeight)}}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onPropertiesClick",value:function(){var t=this;this.props.emit(),this.dialog.open(eH,{data:{props:this.pageProperties}}).afterClosed().subscribe(function(s){s&&(t.pageProperties=new cd((0,v.A)({},s)),t.contentForm.get("name").setValue(s.name),t.contentForm.get("title").setValue(s.title))})}},{key:"onRulesPane",value:function(t,s){var u=this,l=new Er(this.panelPane(t,s).value),d=""!==this.panelPane(t,s).get("rule").value?this.panelPane(t,s).get("rule").value:void 0,p=this.editablePanes.filter(function(S,I){return S.name===l.name}),_=(0,k.A)(p,1)[0];this.pageBuilderFacade.getPage$.pipe((0,q.M)(function(){u.pageBuilderFacade.setSelectionPath([].concat((0,A.A)(u.ancestory),[t,s]))}),(0,We.n)(function(S){return u.panelsContextService.allActivePageContexts({panelPage:S})}),(0,We.n)(function(S){return u.dialog.open(Z$,{data:{rule:d,contexts:[].concat((0,A.A)(_.rootContext?[_.rootContext]:u.rootContext?[u.rootContext]:[]),(0,A.A)(u.contexts),(0,A.A)(S))}}).afterClosed()}),(0,pn.s)(1)).subscribe(function(S){u.panelPane(t,s).get("rule").setValue(S||d||void 0)})}},{key:"onDeletePane",value:function(t,s){console.log("delete nested pane: ".concat(t," | ").concat(s))}},{key:"onAddContextClick",value:function(){var t=this,s=this.packageFormData();this.pageBuilderFacade.setPage(s),this.dialog.open(YS,{data:{}}).afterClosed().subscribe(function(u){u&&(t.contexts=[].concat((0,A.A)(t.contexts),[u]))})}},{key:"onEditContext",value:function(t){var s=this,u=this.contexts.find(function(d){return d.name===t});if(console.log(u),u){var l=this.packageFormData();this.pageBuilderFacade.setPage(l),this.dialog.open(YS,{data:{context:u}}).afterClosed().subscribe(function(d){d&&(s.contexts=s.contexts.map(function(p){return p.name===t?new Ia(d):p}))})}}},{key:"onLayoutSettingChange",value:function(t){this.layoutSetting=new $n(t),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting)}},{key:"onRowSettingsChange",value:function(t){this.rowSettings=t.map(function(s){return new $n(s)}),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.rowSettings=this.rowSettings)}},{key:"onColumnSettingsChange",value:function(t){for(var s=this.panels.length,u=0;u<s;u++){this.panels.at(u).get("columnSetting").get("settings").clear();for(var l=0;l<t[u].settings.length;l++)this.panels.at(u).get("columnSetting").get("settings").push(this.convertToGroup(t[u].settings[l]))}this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"submit",value:function(){this.submitted.emit(this.packageFormData())}},{key:"packageFormData",value:function(){var s=new Pr({id:this.panelPageId,title:this.pageProperties.title,name:this.pageProperties.name,site:this.siteName,path:this.pageProperties.path,cssFile:this.pageProperties.cssFile,displayType:this.displayType.value,layoutType:this.layoutType.value,gridItems:this.layoutEditorRef.instance.gridItems,contexts:this.contexts,panels:this.panels.value,layoutSetting:new $n(this.layoutSetting),rowSettings:this.rowSettings.map(function(u){return new $n(u)}),persistence:this.persistence,interactions:this.interactions,entityPermissions:{readUserIds:this.pageProperties.readUserIds,writeUserIds:[],deleteUserIds:[]}});return console.log(s),s}},{key:"syncNestedPanelPages",value:function(){var t=this;console.log("sync nested"),this.editablePanes.forEach(function(s){if(void 0!==s.contentEditor){var u=t.panelHandler.buildSettings(s.contentEditor.packageFormData()),l=t.panelPane(s.panelIndex,s.paneIndex).get("settings");l.clear(),u.forEach(function(d){return l.push(t.convertToGroup(d))})}})}},{key:"resolvePaneContexts",value:function(t,s){var u=this,l=new Er(this.panelPane(t,s).value),d=this.panelPanes(t).controls;this.cpm.getPlugin(l.contentPlugin).pipe((0,z.p)(function(p){return void 0!==p.handler&&p.handler.isDynamic(l.settings)}),(0,We.n)(function(p){return p.handler.fetchDynamicData(l.settings,new Map([["tag",cr()],["contexts",(0,A.A)(u.contexts)]])).pipe((0,fe.T)(function(g){return new Ia({name:"_root",adaptor:"data",data:0!==g.length?g.results[0]:{}})}),(0,We.n)(function(g){return p.handler.getBindings(l.settings,"pane").pipe((0,fe.T)(function(_){return[g,_.map(function(S){return d.findIndex(function(I){return new Er(I.value).name===S.id})})]}))}))})).subscribe(function(p){var g=(0,k.A)(p,2),_=g[0],S=g[1];u.editablePanes.forEach(function(I,B){S.findIndex(function($){return $===B})>-1&&(I.rootContext=_)})})}},{key:"onPersistenceClick",value:function(){var t=this;this.dialog.open(hL,{data:{persistence:this.persistence,contexts:this.contexts}}).afterClosed().subscribe(function(s){console.log("persistence closed",s),t.persistence=s||t.persistence})}},{key:"onInteractionsClick",value:function(){var t=this;this.dialog.open(CL,(0,v.A)({data:{interactions:this.interactions,contexts:this.contexts}},{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"})).afterClosed().subscribe(function(s){console.log("interactions closed",s),t.interactions=s||t.interactions})}},{key:"panelPanes",value:function(t){return this.panels.at(t).get("panes")}},{key:"panelPane",value:function(t,s){return this.panelPanes(t).at(s)}},{key:"panelPanePlugin",value:function(t,s){return this.panelPane(t,s).get("contentPlugin").value}},{key:"panelPaneSettings",value:function(t,s){return this.panelPane(t,s).get("settings").value}},{key:"panelPaneName",value:function(t,s){return this.panelPane(t,s).get("name").value}},{key:"panelPaneLabel",value:function(t,s){return this.panelPane(t,s).get("label").value}},{key:"panelPaneLocked",value:function(t,s){if(this.locked)return this.locked;var u=this.panelPane(t,s).get("locked");return null!==u&&u.value}},{key:"panelPaneIsNested",value:function(t,s){return"panel"===this.panelPanePlugin(t,s)}},{key:"panelPanePanelPage",value:function(t,s){var u;return this.panelHandler.toObject(this.panelPaneSettings(t,s)).subscribe(function(l){u=l}),u}},{key:"hasPanelStyle",value:function(t){return void 0!==this.panels.at(t).get("stylePlugin").value&&""!==this.panels.at(t).get("stylePlugin").value}},{key:"panelStyleTitle",value:function(t){return this.panels.at(t).get("styleTitle").value}},{key:"onPaneEdit",value:function(t,s){var u=this,l=new Er(this.panelPane(t,s).value),d=this.panelPanePlugin(t,s),p=this.editablePanes.filter(function(S,I){return S.name===l.name}),_=(0,k.A)(p,1)[0];this.cpm.getPlugin(d).pipe((0,z.p)(function(S){return void 0!==S.editorComponent}),(0,We.n)(function(S){return u.pageBuilderFacade.getPage$.pipe((0,We.n)(function(I){return u.panelsContextService.allActivePageContexts({panelPage:I}).pipe((0,fe.T)(function(B){return[S,B]}),(0,pn.s)(1))}),(0,pn.s)(1))}),(0,We.n)(function(S){var I=(0,k.A)(S,2),B=I[0],$=I[1];return B.handler?B.handler.editorOptions(l.settings).pipe((0,fe.T)(function(Y){return[B,$,Y]})):(0,Te.of)([B,$,new Xt.ContentPluginEditorOptions])})).subscribe(function(S){var I=(0,k.A)(S,3),$=I[1],Y=I[2];u.dialog.open(I[0].editorComponent,(0,v.A)({data:{panelFormGroup:u.panels.at(t),panelIndex:t,paneIndex:s,contexts:[].concat((0,A.A)(_.rootContext?[_.rootContext]:u.rootContext?[u.rootContext]:[]),(0,A.A)(u.contexts),(0,A.A)($)),contentAdded:u.contentAdded,pane:l}},Y.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{})).afterClosed().subscribe(function(){u.resolvePaneContexts(t,s)})})}},{key:"onPaneDelete",value:function(t,s){this.panelPanes(t).removeAt(s)}},{key:"onFileChange",value:function(t,s){var u=this,l=t.addedFiles[0];this.cpm.getPlugins().pipe((0,fe.T)(function(d){return Array.from(d.values()).filter(function(p){return void 0!==p.handler}).find(function(p){return p.handler.handlesType(l.type)})}),(0,z.p)(function(d){return void 0!==d})).subscribe(function(d){d.handler.handleFile(l).subscribe(function(p){u.panelPanes(s).push(u.fb.group({contentPlugin:d.id,name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),settings:u.fb.array(p.map(function(g){return u.fb.group({name:new f.UntypedFormControl(g.name,f.Validators.required),type:new f.UntypedFormControl(g.type,f.Validators.required),displayName:new f.UntypedFormControl(g.displayName,f.Validators.required),value:new f.UntypedFormControl(g.value,f.Validators.required),computedValue:new f.UntypedFormControl(g.value,f.Validators.required)})}))}))})})}},{key:"writeValue",value:function(t){t&&this.contentForm.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.contentForm.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(t){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}},{key:"renderEditorLayout",value:function(t){var s=this;console.log("render editor layout ".concat(t)),this.lpm.getPlugin(t).subscribe(function(u){var l=s.componentFactoryResolver.resolveComponentFactory(u.editor),d=s.layoutEditorHost.viewContainerRef;d.clear(),s.layoutEditorRef=d.createComponent(l),s.layoutEditorRef.instance.savable=s.savable,s.layoutEditorRef.instance.nested=s.nested,s.layoutEditorRef.instance.ancestory=s.ancestory,s.layoutEditorRef.instance.editor=s,s.layoutEditorRef.instance.extraActionsAreaTmpl=s.extraActionsAreaTmpl,s.layoutEditorRef.instance.contextsMenuTpl=s.contextsMenuTpl,s.layoutEditorRef.instance.editablePaneTpl=s.editablePaneTpl,s.layoutEditorRef.instance.dashboard=s.dashboard,s.layoutEditorRef.instance.layoutSetting=s.layoutSetting,s.layoutEditorRef.instance.rowSettings=s.rowSettings,s.layoutEditorRef.instance.columnSettings=s.columnSettings})}},{key:"updateEditorLayoutVars",value:function(){this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(sn.SITE_NAME),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(Wl),a.\u0275\u0275directiveInject(Lf),a.\u0275\u0275directiveInject(ps),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Fu.MatBottomSheet),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(ja),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(gi),a.\u0275\u0275directiveInject(Ly),a.\u0275\u0275directiveInject(mS))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-content-editor"]],contentQueries:function(e,t,s){var u;1&e&&a.\u0275\u0275contentQuery(s,Jz,5),2&e&&a.\u0275\u0275queryRefresh(u=a.\u0275\u0275loadQuery())&&(t.extraActionsAreaTmpl=u.first)},viewQuery:function(e,t){var s;1&e&&(a.\u0275\u0275viewQuery(BS,5),a.\u0275\u0275viewQuery(jS,5),a.\u0275\u0275viewQuery(JS,5),a.\u0275\u0275viewQuery(Zz,7),a.\u0275\u0275viewQuery(e$,7),a.\u0275\u0275viewQuery(t$,5),a.\u0275\u0275viewQuery(eE,5)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.gridLayout=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.splitLayout=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.layoutEditorHost=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextsMenuTpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.editablePaneTpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.paneContainers=s),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.editablePanes=s))},inputs:{panelPage:"panelPage",savable:"savable",nested:"nested",locked:"locked",pageBuilder:"pageBuilder",contexts:"contexts",rootContext:"rootContext",ancestory:"ancestory"},outputs:{submitted:"submitted",nestedUpdate:"nestedUpdate",delete:"delete",rules:"rules",props:"props"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:12,vars:3,consts:[["nestedTpl",""],["editablePaneTpl",""],["contextsMenuTpl",""],["contextMenu","matMenu"],["class","content-editor-wrapper",3,"formGroup","ngClass","ngSubmit",4,"ngIf","ngIfElse"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"content-editor-wrapper",3,"ngSubmit","formGroup","ngClass"],["classifiedsUiLayoutEditorHost",""],[1,"content-editor-wrapper",3,"formGroup","ngClass"],[1,"editable-pane",3,"delete","rules","nestedUpdate","rendererOverride","removeRendererOverride","edit","props","panelIndex","paneIndex","name","label","locked","contexts","pluginName","settings","ancestory"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[1,"custom-placeholder"],["type","button","mat-menu-item","",1,"context-button",3,"matMenuTriggerFor"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275template(0,r$,3,4,"form",4)(1,i$,3,4,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)(3,s$,2,9,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(5,u$,2,1,"ng-template",null,2,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(7,"mat-menu",null,3)(9,"button",5),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.onAddContextClick())}),a.\u0275\u0275text(10,"define variable"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,l$,2,1,"button",6),a.\u0275\u0275elementEnd()}if(2&e){var u=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf",!t.nested&&!t.pageBuilder)("ngIfElse",u),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngForOf",t.contexts)}},dependencies:[y.NgClass,y.NgForOf,y.NgIf,f.\u0275NgNoValidate,f.NgControlStatusGroup,f.FormGroupDirective,Tu.CdkDragPlaceholder,Ua.MatMenu,Ua.MatMenuItem,Ua.MatMenuTrigger,za,JS,eE],styles:[".content-editor-wrapper[_ngcontent-%COMP%]{height:100%}.panel-inner[_ngcontent-%COMP%]{padding:1em}.content-editor-wrapper[_ngcontent-%COMP%]     ngx-dropzone{height:100%;display:block;padding:0;border:none}.content-editor-wrapper.nested[_ngcontent-%COMP%]     .grid-item-header{border-bottom:1px solid white}.layout-type[_ngcontent-%COMP%], .display-type[_ngcontent-%COMP%]{float:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:1.5em}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-mdc-form-field, .display-type[_ngcontent-%COMP%]     .mat-mdc-form-field{width:85px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .main-controls{background-color:#ccc}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .layout-inner{background-color:#ccc;padding:.75em}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .editable-pane-wrapper{border:none;margin-bottom:0}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .pane-header{background-color:#fff}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .nested-panel-wrapper{padding:.75em;margin-bottom:0}.custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.context-button[_ngcontent-%COMP%]{font-style:italic;font-family:serif;font-weight:bolder;font-size:medium}"]}),r}(),rH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.data=e,this.fb=t,this.handler=s},[{key:"ngOnInit",value:function(){var t=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.snippet=s})}},{key:"onSubmit",value:function(t){if(void 0===this.data.paneIndex)this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"snippet",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:new f.UntypedFormArray(this.buildSettings(t))}));else{var s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);s.get("settings").clear(),this.buildSettings(t).forEach(function(u){s.get("settings").push(u)})}}},{key:"buildSettings",value:function(t){return[this.fb.group({name:new f.UntypedFormControl("contentType",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Text,f.Validators.required),displayName:new f.UntypedFormControl("Content Type",f.Validators.required),value:new f.UntypedFormControl(t.contentType,f.Validators.required),computedValue:new f.UntypedFormControl(t.contentType,f.Validators.required)}),this.fb.group({name:new f.UntypedFormControl("content",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Text,f.Validators.required),displayName:new f.UntypedFormControl("Content",f.Validators.required),value:new f.UntypedFormControl(t.content,f.Validators.required),computedValue:new f.UntypedFormControl(t.content,f.Validators.required)}),this.fb.group({name:new f.UntypedFormControl("jsScript",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Text,f.Validators.required),displayName:new f.UntypedFormControl("jsScript",f.Validators.required),value:new f.UntypedFormControl(t.jsScript),computedValue:new f.UntypedFormControl(t.jsScript)})]}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Nu))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-editor2"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","snippet"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),a.\u0275\u0275listener("submitted",function(u){return t.onSubmit(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("snippet",t.snippet)},dependencies:[Cf],encapsulation:2}),r}(),Kf=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p){var g=this;(0,h.A)(this,n),this.route=e,this.pageBuilderFacade=t,this.routerStore=s,this.asyncApiCallHelperSvc=u,this.crudDataHelperService=l,this.entityDefinitionService=d,this.paramMapSub=this.route.paramMap.pipe((0,q.M)(function(){return console.log("param map panelPageId")}),(0,fe.T)(function(_){return _.get("panelPageId")}),(0,z.p)(function(_){return void 0!==_}),(0,We.n)(function(){return g.route.data}),oi(this.routerStore.pipe(wr(Zc(function(_){return _.router}).selectCurrentRoute),(0,fe.T)(function(_){return _.params}),(0,pn.s)(1))),(0,q.M)(function(_){var S=(0,k.A)(_,2),I=S[0],B=S[1];console.log("route page"),g.pageBuilderFacade.setPageInfo(new ld({id:I.panelPageListItem.id,realPath:"/pages/panelpage/"+I.panelPageListItem.id,path:I.panelPageListItem.path,args:B})),g.panelPageId=I.panelPageListItem.id})).subscribe(),this.panelPageService=p.getEntityCollectionService("PanelPage")},[{key:"ngOnInit",value:function(){var t=this,u=Zc(function(l){return l.router}).selectCurrentRoute;this.route.paramMap.pipe((0,q.M)(function(){return console.log("param map page builder facade info")}),oi(this.pageBuilderFacade.getPageInfo$),(0,z.p)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return void 0!==g&&void 0!==p.get("panelPageId")&&p.get("panelPageId")===g.id}),(0,We.n)(function(l){var g=(0,k.A)(l,2)[1];return t.routerStore.pipe(wr(u),(0,fe.T)(function(_){return[g,_.params]}),(0,pn.s)(1))})).subscribe(function(l){var d=(0,k.A)(l,2),g=d[1];t.pageBuilderFacade.setPageInfo(new ld((0,v.A)((0,v.A)({},d[0]),{},{args:g})))})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Yn.ActivatedRoute),a.\u0275\u0275directiveInject(gi),a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(sn.AsyncApiCallHelperService),a.\u0275\u0275directiveInject(nd),a.\u0275\u0275directiveInject(Wa),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-page-router"]],standalone:!1,decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",0),2&e&&a.\u0275\u0275property("id",t.panelPageId)},dependencies:[Oy],encapsulation:2}),r}(),aH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.panelPageService=e.getEntityCollectionService("PanelPage"),this.panelPageListItemService=e.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){console.log("here")}},{key:"onSubmit",value:function(t){console.log("create panel page",t),t.id=cr(),this.panelPageService.add(t).subscribe(function(){console.log("panel page created")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-create-panel-page"]],standalone:!1,decls:1,vars:0,consts:[[3,"submitted"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),a.\u0275\u0275listener("submitted",function(u){return t.onSubmit(u)}),a.\u0275\u0275elementEnd())},dependencies:[jy],encapsulation:2}),r}(),qf=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.route=e,this.pageBuilderFacade=t,this.routerStore=s,this.moduleLoader=u,this.panelPageService=l.getEntityCollectionService("PanelPage"),this.panelPageListItemService=l.getEntityCollectionService("PanelPageListItem")},[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.pipe((0,fe.T)(function(s){return s.get("panelPageId")}),(0,z.p)(function(s){return void 0!==s}),(0,Co.F)(),(0,We.n)(function(s){return t.panelPageService.getByKey(s)}),(0,We.n)(function(s){return s?(0,An.p)(s.contexts.filter(function(u){return"module"===u.plugin}).map(function(u){return t.moduleLoader.loadModule(function(){return(0,nc.loadRemoteModule)({type:"module",remoteEntry:u.data.remoteEntry,exposedModule:u.data.exposedModule}).then(function(l){return l[u.data.moduleName]})})})).pipe((0,dr.c)(1),(0,fe.T)(function(){return s}),(0,qr.U)(s)):(0,Te.of)(s)}),(0,We.n)(function(s){return t.routerStore.pipe(wr(Zc(function(u){return u.router}).selectCurrentRoute),(0,fe.T)(function(u){return[s,u.params]}),(0,pn.s)(1))}),(0,q.M)(function(s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return t.pageBuilderFacade.setPageInfo(new ld({id:l.id,realPath:"/pages/panelpage/".concat(l.id),path:l.path,args:d}))})).subscribe(function(s){var l=(0,k.A)(s,1)[0];console.log(l),t.panelPage=l})}},{key:"onSubmit",value:function(t){console.log("submitted"),this.panelPageService.update(new Pr((0,v.A)((0,v.A)({},t),{},{id:this.panelPage.id}))).subscribe(function(){alert("panel page updated")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Yn.ActivatedRoute),a.\u0275\u0275directiveInject(gi),a.\u0275\u0275directiveInject(Ir),a.\u0275\u0275directiveInject(sn.ModuleLoaderService),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-edit-panel-page"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","panelPage"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),a.\u0275\u0275listener("submitted",function(u){return t.onSubmit(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("panelPage",t.panelPage)},dependencies:[jy],encapsulation:2}),r}(),iH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.bottomSheetRef=e,this.handler=t,this.fb=s,this.dialog=u,this.cpm=l,this.wpm=d},[{key:"ngOnInit",value:function(){this.attributeWidgets=this.wpm.getPlugins()}},{key:"onItemSelect",value:function(t){var s=this;console.log(t),this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"attribute",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.widgetSettings(t).map(function(p){return s.fb.group({name:new f.UntypedFormControl(p.name,f.Validators.required),type:new f.UntypedFormControl(p.type,f.Validators.required),displayName:new f.UntypedFormControl(p.displayName,f.Validators.required),value:new f.UntypedFormControl(p.value,f.Validators.required),computedValue:new f.UntypedFormControl(p.computedValue,f.Validators.required)})}))}));var u=this.panelFormGroup.get("panes"),l=u.length-1,d=new Er(u.at(l).value);this.cpm.getPlugin("attribute").subscribe(function(p){s.dialog.open(p.editorComponent,{data:{panelFormGroup:s.panelFormGroup,pane:d,paneIndex:l}})}),this.bottomSheetRef.dismiss()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Fu.MatBottomSheetRef),a.\u0275\u0275directiveInject(Vu),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Bt.MatDialog),a.\u0275\u0275directiveInject(Xt.ContentPluginManager),a.\u0275\u0275directiveInject(_t.WidgetPluginManager))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-selector"]],inputs:{panelFormGroup:"panelFormGroup"},standalone:!1,decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,c$,3,1,"a",0),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"keyvalue"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,3,a.\u0275\u0275pipeBind1(2,1,t.attributeWidgets))))},dependencies:[y.NgForOf,Df.MatLine,fs.MatNavList,fs.MatListItem,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),oH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=s,this.fb=u,this.handler=l,this.attributes=[],this.attributeValues=[],this.attributesFormGroup=this.fb.group({name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),attributes:new f.UntypedFormControl("")});var d=this.data.pane.settings.find(function(p){return"widget"===p.name});this.widget=t.find(function(p){return p.name===d.value})},[{key:"name",get:function(){return this.attributesFormGroup.get("name")}},{key:"label",get:function(){return this.attributesFormGroup.get("label")}},{key:"ngOnInit",value:function(){var t=this.data.pane.settings.find(function(l){return"value"===l.name});this.attributes=[new _t.Attribute((0,v.A)((0,v.A)({},this.widget.schema),{},{widget:this.widget.name,label:"Value",name:"value"}))];var s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").value,u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").value;this.attributesFormGroup.get("name").setValue(s),this.attributesFormGroup.get("label").setValue(u),void 0!==t?(this.attributeValues=this.handler.valueSettings(this.data.pane.settings),console.log(this.attributeValues)):this.attributeValues=[new _t.AttributeValue({name:"value",type:this.widget.schema.type,displayName:"Value",value:"",computedValue:"",intValue:0,attributes:[]})]}},{key:"submit",value:function(){var t=this,s=this.name.value,u=this.label.value;this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").setValue(s),this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").setValue(u);var l=new Er({name:s,label:u,contentPlugin:"attribute",settings:""===this.attributesFormGroup.get("attributes").value?[]:this.attributesFormGroup.get("attributes").value});0!==l.settings.length?this.handler.rendererSnippet(this.data.pane.settings).subscribe(function(d){var p=void 0!==d?t.handler.rendererOverrideSettings(d):[],g=t.data.panelFormGroup.get("panes").at(t.data.paneIndex).get("settings");g.clear(),[].concat((0,A.A)(t.handler.widgetSettings(t.widget)),(0,A.A)(l.settings),(0,A.A)(p)).forEach(function(_){return g.push(t.convertToGroup(_))}),t.dialogRef.close()}):this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(_t.ATTRIBUTE_WIDGET),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Vu))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-editor"]],standalone:!1,decls:10,vars:3,consts:[[3,"ngSubmit","formGroup"],["fxLayout","column"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Label","formControlName","label"],["formControlName","attributes",3,"attributes","attributeValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"mat-form-field"),a.\u0275\u0275element(3,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"classifieds-ui-attributes-builder",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-dialog-actions")(8,"button",5),a.\u0275\u0275text(9,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.attributesFormGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("attributes",t.attributes)("attributeValues",t.attributeValues))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,Re,_t.AttributesBuilderComponent],encapsulation:2}),r}(),sH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.widgets=e,this.handler=t,this.tokenizerService=s,this.fb=u,this.controlContainer=l,this.settings=[],this.appearance="legacy",this.attributes=[]},[{key:"ngOnInit",value:function(){var t=this;this.attributes=[new _t.Attribute((0,v.A)((0,v.A)({},this.widgets.find(function(s){return s.name===t.settings.find(function(u){return"widget"===u.name}).value}).schema),{},{name:"value",label:"Value"}))],this.attributeValues=this.handler.valueSettings(this.settings),this.tokens=this.tokenizerService.generateTokens(this.attributeValues),this.handler.rendererSnippet(this.settings).subscribe(function(s){t.rendererOverride=s,void 0!==s&&(t.rendererSettings=t.handler.rendererOverrideSettings(s)[0].attributes)})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.ATTRIBUTE_WIDGET),a.\u0275\u0275directiveInject(Vu),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer,8))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-pane-renderer"]],inputs:{settings:"settings",appearance:"appearance",name:"name",label:"label",displayType:"displayType"},standalone:!1,decls:3,vars:2,consts:[["overrideTpl",""],["settingsTmpl",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"],[3,"settings","tokens"]],template:function(e,t){if(1&e&&a.\u0275\u0275template(0,b$,3,2,"div",2)(1,A$,1,2,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),2&e){var s=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf",!t.rendererOverride)("ngIfElse",s)}},dependencies:[y.NgForOf,y.NgIf,y.NgTemplateOutlet,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_t.AttributesBuilderComponent,XS,_t.AttributePipe],styles:[".override[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em}"]}),r}(),rc=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.filesService=e,this.attributeSerializer=t,this.types=["image/png","image/jpg","image/jpeg","image/gif"]},[{key:"handleFile",value:function(t){var s=this;return this.filesService.bulkUpload({files:[t]}).pipe((0,fe.T)(function(u){return s.buildSettings(u[0])}))}},{key:"handlesType",value:function(t){return void 0!==this.types.find(function(s){return s===t})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"getBindings",value:function(t,s,u){return(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return t.fileName="placeholdername",this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Te.of)({mediaLoading:"y",mediaLoaded:"n",loadError:"n",loadDuration:"y"})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(df),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),uH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.filesService=u,this.handler=l,this.mediaTypes=".png,.jpg,.jpeg,.gif,.svg"},[{key:"ngOnInit",value:function(){var t=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).pipe((0,We.n)(function(s){return t.filesService.convertToFiles([s])})).subscribe(function(s){t.media=s[0]})}},{key:"onSelectMedia",value:function(t){var s=this;this.media=t.addedFiles[0],this.handler.handleFile(this.media).subscribe(function(u){void 0===s.data.paneIndex&&s.data.panelFormGroup.get("panes").push(s.fb.group({contentPlugin:"media",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:new f.UntypedFormArray(u.map(function(l){return s.fb.group({name:new f.UntypedFormControl(l.name,f.Validators.required),type:new f.UntypedFormControl(l.type,f.Validators.required),displayName:new f.UntypedFormControl(l.displayName,f.Validators.required),value:new f.UntypedFormControl(l.value,f.Validators.required),computedValue:new f.UntypedFormControl(l.value,f.Validators.required)})}))})),s.dialogRef.close()})}},{key:"onRemoveMedia",value:function(t){this.media=void 0}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(df),a.\u0275\u0275directiveInject(rc))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-media-editor"]],standalone:!1,decls:4,vars:3,consts:[[3,"change","multiple","accept"],[3,"removable","file","removed",4,"ngIf"],[3,"removed","removable","file"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"ngx-dropzone",0),a.\u0275\u0275listener("change",function(u){return t.onSelectMedia(u)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2,"Drag and Drop Media Here"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,C$,3,4,"ngx-dropzone-image-preview",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("multiple",!1)("accept",t.mediaTypes),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.media))},dependencies:[y.NgIf,Vf,bS,CS],encapsulation:2}),r}(),lH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.mediaSettings=e,this.handler=t,this.attributeSerializer=s,this.settings=[],this.ancestory=[],this.state={},this.stateChange=new a.EventEmitter,this.panelPageStateService=u.getEntityCollectionService("PanelPageState")},[{key:"ngOnInit",value:function(){var t=this;console.log("media ancestory is"),console.log(this.ancestory),console.log("my state is:"),console.log(this.state),this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(s){t.mediaFile=s})}},{key:"ngAfterViewInit",value:function(){var t=this;this.image.nativeElement.onload=function(){console.log("image loaded"),t.stateChange.emit({mediaLoading:"n"})}}},{key:"ngOnChanges",value:function(){var t=this;this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(s){t.mediaFile=s})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(cf),a.\u0275\u0275directiveInject(rc),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(yr))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-media-pane-renderer"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(x$,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.image=s.first)},inputs:{settings:"settings",ancestory:"ancestory",state:"state"},outputs:{stateChange:"stateChange"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:3,consts:[["img",""],[3,"src"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"img",1,0),2&e&&a.\u0275\u0275property("src",a.\u0275\u0275interpolate2("",t.mediaBaseUrl,"/",t.mediaFile.path),a.\u0275\u0275sanitizeUrl)},styles:["img[_ngcontent-%COMP%]{max-width:100%}"]}),r}(),Cd=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,g,_){(0,h.A)(this,n),this.siteName=e,this.snippetHandler=t,this.pageBuilderFacade=s,this.store=u,this.tokenizerService=l,this.panelHandler=d,this.urlGeneratorService=p,this.attributeSerializer=g,this.rulesResolver=_},[{key:"handleFile",value:function(t){return(0,Te.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return["snippet","pane"].indexOf(this.getRenderType(t))>-1}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){var u=this,l=new T.B;return this.toObject(t).pipe((0,We.n)(function(d){return u.urlGeneratorService.getUrl(d.url,d.params,s).pipe((0,fe.T)(function(p){return[d,p]}))})).subscribe(function(d){var p=(0,k.A)(d,2),g=p[0],_=p[1];u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),new Lo((0,v.A)((0,v.A)({},g),{},{url:_}))),u.store.pipe(wr(Nf("".concat(s.get("tag")))),(0,z.p)(function(S){return void 0!==S})).subscribe(function(S){l.next(S),l.complete()})}),l}},{key:"buildDynamicItems",value:function(t,s){var u=this,l=new T.B;return console.log("build dynamic items rest"),this.toObject(t).pipe((0,We.n)(function(d){return u.urlGeneratorService.getUrl(d.url,d.params,s).pipe((0,fe.T)(function(p){return[d,p]}))})).subscribe(function(d){var p=(0,k.A)(d,2),g=p[0],_=p[1];console.log("Load in rest data"),u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),new Lo((0,v.A)((0,v.A)({},g),{},{url:_}))),u.store.pipe(wr(Nf("".concat(s.get("tag")))),(0,z.p)(function(S){return void 0!==S}),(0,We.n)(function(S){return u.getBindings(t,"pane").pipe((0,fe.T)(function(I){return[S,I]}))}),(0,We.n)(function(S){var I=(0,k.A)(S,2),B=I[0],$=I[1];return tr(function(){return 0!==B.results.length&&$.length>0},new L.c(function(Y){(0,An.p)(B.results.map(function(le){return(0,oy.H)($).pipe((0,fe.T)(function(ge){return s.get("panes").find(function(be){return be.name===ge.id})}),(0,We.n)(function(ge){return tr(function(){return ge.rule&&null!==ge.rule&&""!==ge.rule.condition},u.rulesResolver.evaluate(ge.rule,[].concat((0,A.A)(s.get("contexts")),(0,A.A)(void 0!==ge.contexts?ge.contexts:[]),[new Ia({name:"_root",adaptor:"data",data:le})])).pipe((0,fe.T)(function(be){return[ge,be]})),(0,Te.of)(!1).pipe((0,fe.T)(function(be){return[ge,be]})))}),(0,z.p)(function(ge){return(0,k.A)(ge,2)[1]}),(0,fe.T)(function(ge){return(0,k.A)(ge,2)[0].name}),(0,qr.U)($[0].id),(0,pn.s)(1))})).pipe((0,fe.T)(function(le){return[B,le]})).subscribe(function(le){Y.next(le),Y.complete()})}),new L.c(function(Y){Y.next([B]),Y.complete()}))}),(0,fe.T)(function(S){var I=(0,k.A)(S,2),$=I[1];return I[0].results.map("pane"===g.renderer.type?function(Y,le){var ge=s.get("panes").find(function(me){return me.name===$[le]}),be=cr();return new Er((0,v.A)((0,v.A)({},ge),{},{rule:void 0,label:be,contexts:[].concat((0,A.A)(s.get("contexts")),[new Ia({name:"_root",adaptor:"data",data:Y})])}))}:function(Y){return new Er({contentPlugin:"snippet",name:cr(),label:void 0,contexts:[].concat((0,A.A)(s.get("contexts")),[new Ia({name:"_root",adaptor:"data",data:Y})]),settings:u.snippetHandler.buildSettings((0,v.A)((0,v.A)({},g.renderer.data),{},{content:g.renderer.data.content}))})})}),(0,fe.T)(function(S){return new Go({stylePlugin:void 0,settings:[],panes:S,columnSetting:new $n})}),(0,fe.T)(function(S){return u.panelHandler.buildSettings(new Pr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new $n,rowSettings:[],panels:[S]}))})).subscribe(function(S){l.next(S.find(function(I){return"panels"===I.name}).attributes[0].attributes.find(function(I){return"panes"===I.name}).attributes),l.complete()})}),l}},{key:"buildSelectOptionItems",value:function(t,s){var u=this;return this.toObject(t).pipe((0,We.n)(function(l){return u.urlGeneratorService.getUrl(l.url,l.params,s).pipe((0,fe.T)(function(d){return[l,d]}))}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),g=d[1];return new Lo((0,v.A)((0,v.A)({},d[0]),{},{url:g}))})).subscribe(function(l){u.pageBuilderFacade.loadRestData("".concat(s.get("tag")),l)}),this.store.pipe(wr(Nf("".concat(s.get("tag")))),(0,z.p)(function(l){return void 0!==l}),(0,fe.T)(function(l){return[l,l.results.map(function(d){return u.tokenizerService.generateGenericTokens(d)})]}),(0,fe.T)(function(l){var d=(0,k.A)(l,2);return[d[0],d[1],new sx(JSON.parse(s.get("snippet").content))]}),(0,fe.T)(function(l){var d=(0,k.A)(l,3),p=d[0],_=d[2];return d[1].map(function(S,I){return new ox({dataItem:p.results[I],value:u.attributeSerializer.serialize("[.]"===_.value?p.results[I]:u.tokenizerService.replaceTokens(_.value,S),"value"),label:u.tokenizerService.replaceTokens(_.label,S)})})}))}},{key:"getBindings",value:function(t,s,u){return"context"===s?this.toObject(t).pipe((0,fe.T)(function(l){return l.params.reduce(function(d,p){return[].concat((0,A.A)(d),(0,A.A)("form"===p.mapping.type?[new Xt.ContentBinding({id:"form__".concat(p.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[])})):this.toObject(t).pipe((0,We.n)(function(l){return tr(function(){return l.renderer.type===s},(0,Te.of)(l.renderer.bindings),(0,Te.of)([]))}))}},{key:"toObject",value:function(t){return(0,Te.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"getRenderType",value:function(t){var s=[t.find(function(u){return"renderer"===u.name})].map(function(u){return u.attributes.find(function(l){return"type"===l.name})});return s.length>0?s[0].value:void 0}},{key:"stateDefinition",value:function(t){return(0,Te.of)({autocomplete:{input:""}})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.SITE_NAME),a.\u0275\u0275inject(Nu),a.\u0275\u0275inject(gi),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(Qn),a.\u0275\u0275inject(ja),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(iy))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),cH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.fb=e,this.tokenizerService=t,this.panes=[],this.submitted=new a.EventEmitter,this.contexts=[],this.forms=[],this.snippetValidation=!0,this.restForm=this.fb.group({source:this.fb.control(""),renderer:this.fb.group({type:"snippet",query:this.fb.control(""),trackBy:this.fb.control(""),data:this.fb.control(""),bindings:this.fb.array([]),select:this.fb.group({value:this.fb.control(""),label:this.fb.control(""),id:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")})})})},[{key:"rest",set:function(t){var s=this;void 0!==t&&(this._rest=t,this.restForm.setValue({renderer:(0,v.A)((0,v.A)({trackBy:"",query:""},t.renderer),{},{data:t.renderer.data?(0,v.A)((0,v.A)({},t.renderer.data),{},{jsScript:t.renderer.data.jsScript?t.renderer.data.jsScript:""}):{content:"",contentType:"",jsScript:""},select:["pane","snippet"].findIndex(function(l){return l===t.renderer.type})>-1?{value:"",label:"",id:"",multiple:"",limit:""}:JSON.parse(t.renderer.data.content),bindings:[]}),source:{url:"",params:[],method:"",body:""}}),"pane"===t.renderer.type&&(this.bindings.clear(),t.renderer.bindings.forEach(function(l){"pane"===l.type&&s.bindings.push(s.fb.group({id:s.fb.control(l.id,f.Validators.required),type:s.fb.control(l.type,f.Validators.required)}))})),"pane"===t.renderer.type?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),setTimeout(function(){s.restSource={url:t.url,params:t.params,method:t.method?t.method:"",body:t.body?(0,v.A)((0,v.A)({},t.body),{},{jsScript:""}):""},s.sourceForm.refreshData$.next(void 0)}))}},{key:"rendererType",get:function(){return this.restForm.get("renderer").get("type")}},{key:"isSelectable",get:function(){return this.restForm.get("renderer").get("type").value&&"snippet"!==this.restForm.get("renderer").get("type").value&&"pane"!==this.restForm.get("renderer").get("type").value}},{key:"bindings",get:function(){return this.restForm.get("renderer").get("bindings")}},{key:"valid",get:function(){return this.restForm.valid}},{key:"ngOnInit",value:function(){var t=this;console.log(this.contexts),this.restForm.get("renderer").get("type").valueChanges.subscribe(function(s){"pane"===t.rendererType.value?t.restForm.get("renderer").get("data").disable():t.restForm.get("renderer").get("data").enable(),t.restForm.get("renderer").get("data").setValue({contentType:"",content:"",jsScript:""})}),this.restForm.get("renderer").get("select").valueChanges.subscribe(function(s){t.restForm.get("renderer").get("data").setValue({contentType:"application/json",content:JSON.stringify({value:s.value,label:s.label,id:s.id,multiple:s.multiple,limit:s.limit}),jsScript:""})})}},{key:"ngAfterViewInit",value:function(){}},{key:"onDataChange",value:function(t){this.tokens=this.tokenizerService.generateGenericTokens(t[0])}},{key:"addPane",value:function(){this.bindings.push(this.fb.group({type:this.fb.control("pane",f.Validators.required),id:this.fb.control("",f.Validators.required)}))}},{key:"submit",value:function(){var t=new Lo((0,v.A)((0,v.A)({},this.restForm.value),{},{url:this.restForm.value.source.url,params:this.restForm.value.source.params,method:this.restForm.value.source.method,body:this.restForm.value.source.body}));this.submitted.emit(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Qn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-form"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(_d,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.sourceForm=s.first)},inputs:{panes:"panes",contexts:"contexts",rest:"rest"},outputs:{submitted:"submitted"},standalone:!1,decls:34,vars:9,consts:[[1,"rest-form",3,"ngSubmit","formGroup"],["direction","vertical",1,"content-inner"],["as-split-area","","size","50"],["formControlName","source",3,"dataChange","contexts","restSource"],["size","50","formGroupName","renderer"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["required","","formControlName","type"],["label","Output"],["value","snippet"],["value","pane"],["label","Input"],["value","select"],["value","radiogroup"],["value","checkboxgroup"],["value","autocomplete"],["formControlName","data","splitDirection","horizontal","rows","10","cols","40",3,"hidden","rootForm","tokens"],["formArrayName","bindings",4,"ngIf"],["formGroupName","select",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["formArrayName","bindings"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formGroupName","select"],["matInput","","formControlName","id","placeholder","Id"],["matInput","","formControlName","value","placeholder","Value"],["matInput","","formControlName","label","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"as-split",1)(3,"div",2)(4,"classifieds-ui-rest-source-form",3),a.\u0275\u0275listener("dataChange",function(u){return t.onDataChange(u)}),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"as-split-area",4)(6,"mat-form-field"),a.\u0275\u0275element(7,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275element(9,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field")(11,"mat-label"),a.\u0275\u0275text(12,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-select",7)(14,"mat-optgroup",8)(15,"mat-option",9),a.\u0275\u0275text(16,"Snippet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"mat-option",10),a.\u0275\u0275text(18,"Pane"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(19,"mat-optgroup",11)(20,"mat-option",12),a.\u0275\u0275text(21,"Select"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"mat-option",13),a.\u0275\u0275text(23,"Radio Group"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"mat-option",14),a.\u0275\u0275text(25,"Checkbox Group"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"mat-option",15),a.\u0275\u0275text(27,"Autocomplete"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275element(28,"classifieds-ui-snippet-form",16),a.\u0275\u0275template(29,D$,5,1,"div",17)(30,w$,12,0,"div",18),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(31,"mat-dialog-actions")(32,"button",19),a.\u0275\u0275text(33,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.restForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",t.contexts)("restSource",t.restSource),a.\u0275\u0275advance(24),a.\u0275\u0275property("hidden","snippet"!=t.rendererType.value)("rootForm",!1)("tokens",t.tokens),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf","pane"==t.rendererType.value),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.isSelectable),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!t.valid))},dependencies:[y.NgForOf,y.NgIf,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Sr.MatOption,Sr.MatOptgroup,Gr.MatButton,Yc.MatCheckbox,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,Hc,Kc,_d,Cf],styles:[".rest-form[_ngcontent-%COMP%]     .content-inner{height:auto}"]}),r}(),dH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.panes=[],this.contexts=[],this.contexts=this.data.contexts},[{key:"ngOnInit",value:function(){var t=this;this.panes=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):(0,A.A)(s)},[]),void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.rest=s})}},{key:"submitted",value:function(t){var s=this,u=this.data.panelFormGroup.get("panes");if(void 0===this.data.paneIndex)u.push(this.fb.group({contentPlugin:"rest",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(t).map(function(d){return s.convertToGroup(d)}))})),this.data.contentAdded.next([this.data.panelIndex,u.length-1]);else{var l=u.at(this.data.paneIndex);l.get("settings").clear(),this.handler.buildSettings(t).forEach(function(d){l.get("settings").push(s.convertToGroup(d))})}this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Cd))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-editor"]],standalone:!1,decls:1,vars:3,consts:[[3,"submitted","panes","rest","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-rest-form",0),a.\u0275\u0275listener("submitted",function(u){return t.submitted(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("panes",t.panes)("rest",t.rest)("contexts",t.contexts)},dependencies:[cH],encapsulation:2}),r}(),pH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.tokenizerService=s,this.searchChange=new a.EventEmitter,this.selectionForm=this.fb.group({attributes:this.fb.array([])}),this.onTouched=function(){},this.displayAuto=function(l){return s.replaceTokens(u.selectMapping.label,u.tokenizerService.generateGenericTokens(l.dataItem))}},[{key:"values",set:function(t){this.options=t,this.buildOptions()}},{key:"attributesArray",get:function(){return this.selectionForm.get("attributes")}},{key:"ngOnInit",value:function(){var t=this;this.attributesArray.push(this.fb.group({name:new f.UntypedFormControl("value",f.Validators.required),type:new f.UntypedFormControl(_t.AttributeTypes.Array,f.Validators.required),displayName:new f.UntypedFormControl("Value",f.Validators.required),value:new f.UntypedFormControl(""),attributes:["checkboxgroup"].findIndex(function(s){return s===t.renderType})>-1?this.fb.array([]):new f.UntypedFormControl("")})),"autocomplete"===this.renderType&&(this.attributesArray.at(0).addControl("_proxy",this.fb.control("")),this.attributesArray.at(0).get("_proxy").valueChanges.pipe((0,Co.F)(),(0,Ln.B)(500)).subscribe(function(s){t.searchChange.emit(s)}))}},{key:"onOptionSelected",value:function(t){this.attributesArray.at(0).get("attributes").setValue(t.option.value.value),this.attributesArray.at(0).get("attributes").updateValueAndValidity()}},{key:"writeValue",value:function(t){t&&this.attributesArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.attributesArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.attributesArray.disable():this.attributesArray.enable()}},{key:"validate",value:function(t){return this.selectionForm.valid?null:{invalidForm:{valid:!1,message:"selection is invalid"}}}},{key:"buildOptions",value:function(){var t=this;if("checkboxgroup"===this.renderType&&void 0!==this.options){var s=this.attributesArray.controls[0].get("attributes");s.clear(),this.options.forEach(function(u){var l=t.attributeSerializer.convertToGroup(u.value);l.addControl("_store",new f.UntypedFormControl(!1)),s.push(l)})}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Qn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-selection"]],inputs:{name:"name",label:"label",values:"values",renderType:"renderType",selectMapping:"selectMapping"},outputs:{searchChange:"searchChange"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:9,vars:6,consts:[["autocomplete","matAutocomplete"],[3,"formGroup"],["formArrayName","attributes"],["formGroupName","0"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","attributes"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","_store"],["matInput","","formControlName","_proxy",3,"placeholder","matAutocomplete"],[3,"optionSelected","displayWith"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),a.\u0275\u0275elementContainerStart(4,4),a.\u0275\u0275template(5,k$,6,2,"ng-container",5)(6,I$,6,2,"ng-container",5)(7,R$,4,1,"ng-container",5)(8,N$,6,4,"ng-container",5),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()()()()),2&e&&(a.\u0275\u0275property("formGroup",t.selectionForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngSwitch",t.renderType),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","select"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","radiogroup"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","checkboxgroup"),a.\u0275\u0275advance(),a.\u0275\u0275property("ngSwitchCase","autocomplete"))},dependencies:[y.NgForOf,y.NgSwitch,y.NgSwitchCase,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Sr.MatAutocomplete,Sr.MatOption,Sr.MatAutocompleteTrigger,Yc.MatCheckbox,jt.MatInput,jt.MatFormField,jt.MatLabel,zf.MatRadioGroup,zf.MatRadioButton,fa.MatSelect],encapsulation:2}),r}(),fH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.restHandler=e,this.controlContainer=t,this.settings=[],this.contexts=[],this.state={},this.stateChange=new a.EventEmitter,this.tag=cr(),this.searchChange$=new T.B},[{key:"renderType",get:function(){return this.restHandler.getRenderType(this.settings)}},{key:"ngOnInit",value:function(){var t=this;this.restHandler.toObject(this.settings).pipe((0,q.M)(function(s){t.snippet=s.renderer.data,t.selectMapping=new sx(JSON.parse(t.snippet.content))}),(0,z.p)(function(){return"autocomplete"!==t.renderType}),(0,We.n)(function(s){return t.restHandler.buildSelectOptionItems(t.settings,new Map([["tag",t.tag],["snippet",s.renderer.data],["contexts",t.contexts]]))})).subscribe(function(s){t.options=s}),this.searchChange$.pipe((0,q.M)(function(s){t.stateChange.emit({autocomplete:{input:s}})}),(0,We.n)(function(s){return t.restHandler.buildSelectOptionItems(t.settings,new Map([["tag",cr()],["snippet",t.snippet],["contexts",t.contexts]]))})).subscribe(function(s){t.options=s})}},{key:"onSearchChange",value:function(t){this.searchChange$.next(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Cd),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-pane-renderer"]],inputs:{settings:"settings",name:"name",label:"label",displayType:"displayType",contexts:"contexts",state:"state"},outputs:{stateChange:"stateChange"},standalone:!1,decls:2,vars:6,consts:[[3,"formGroup"],["formControlName","settings",3,"searchChange","name","label","renderType","values","selectMapping"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"classifieds-ui-selection",1),a.\u0275\u0275listener("searchChange",function(u){return t.onSearchChange(u)}),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("name",t.name)("label",t.label)("renderType",t.renderType)("values",t.options)("selectMapping",t.selectMapping))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,pH],encapsulation:2}),r}(),Wf=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),this.siteName=e,this.tokenizerService=t,this.panelHandler=s,this.mediaHandler=u,this.attributeSerializer=l,this.inlineContextResolver=d},[{key:"handleFile",value:function(t){return(0,Te.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!0}},{key:"isData",value:function(t){return!1}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){var u=this;return this.toObject(t).pipe((0,fe.T)(function(l){return[l,s.get("contexts").find(function(d){return d.name===l.context})]}),(0,We.n)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return u.extractDataArray(g,p.query).pipe((0,fe.T)(function(_){return[p,g,_]}))}),(0,We.n)(function(l){var d=(0,k.A)(l,3);return u.transformDataArray(d[2],d[0].plugin)}),(0,fe.T)(function(l){return new Go({stylePlugin:void 0,settings:[],panes:l,columnSetting:new $n})}),(0,fe.T)(function(l){return u.panelHandler.buildSettings(new Pr({id:void 0,layoutType:"grid",displayType:"page",site:u.siteName,gridItems:[],layoutSetting:new $n,rowSettings:[],panels:[l]}))}),(0,fe.T)(function(l){return l.find(function(d){return"panels"===d.name}).attributes[0].attributes.find(function(d){return"panes"===d.name}).attributes}))}},{key:"getBindings",value:function(t,s,u){return"context"===s?this.toObject(t).pipe((0,fe.T)(function(l){return[new Xt.ContentBinding({id:l.context,type:"context"})]})):(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"extractDataArray",value:function(t,s){return this.inlineContextResolver.resolve(t).pipe((0,fe.T)(function(u){var l=s.split("."),d=l.length;if(void 0===t)return(0,Te.of)([]);for(var p=Array.isArray(u)?u[0]:u,g=0;g<d;g++)""!==l[g]&&(p=p[l[g]]);return p}))}},{key:"transformDataArray",value:function(t,s){var u=this;return"media"===s?(0,Te.of)(t.map(function(l){return new Fv(l)}).map(function(l){return new Er({contentPlugin:"media",name:void 0,label:void 0,settings:u.mediaHandler.buildSettings(l)})})):(0,Te.of)()}},{key:"stateDefinition",value:function(t){return(0,Te.of)({})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.SITE_NAME),a.\u0275\u0275inject(Qn),a.\u0275\u0275inject(ja),a.\u0275\u0275inject(rc),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(Ul))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),mH=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.context=r.context,this.query=r.query,this.plugin=r.plugin)}),gH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.fb=e,this.contexts=[],this.submitted=new a.EventEmitter,this.sliceForm=this.fb.group({context:this.fb.control("",f.Validators.required),query:this.fb.control("",f.Validators.required),plugin:this.fb.control("",f.Validators.required)})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var t=new mH(this.sliceForm.value);this.submitted.emit(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-slice-form"]],inputs:{contexts:"contexts"},outputs:{submitted:"submitted"},standalone:!1,decls:20,vars:3,consts:[[1,"slice-form",3,"ngSubmit","formGroup"],["required","","formControlName","context"],["value","_root"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Query","formControlName","query","required",""],["required","","formControlName","plugin"],["value","media"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),a.\u0275\u0275text(7,"_root"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,V$,2,2,"mat-option",3),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(9,"mat-form-field"),a.\u0275\u0275element(10,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-form-field")(12,"mat-label"),a.\u0275\u0275text(13,"Plugin"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-select",5)(15,"mat-option",6),a.\u0275\u0275text(16,"Media"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(17,"mat-dialog-actions")(18,"button",7),a.\u0275\u0275text(19,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.sliceForm),a.\u0275\u0275advance(8),a.\u0275\u0275property("ngForOf",t.contexts),a.\u0275\u0275advance(10),a.\u0275\u0275property("disabled",!t.sliceForm.valid))},dependencies:[y.NgForOf,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect],encapsulation:2}),r}(),hH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.contexts=[],this.contexts=this.data.contexts},[{key:"ngOnInit",value:function(){}},{key:"submitted",value:function(t){var s=this;this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"slice",name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(t).map(function(u){return s.convertToGroup(u)}))})),this.dialogRef.close()}},{key:"convertToGroup",value:function(t){var s=this,u=this.fb.group({name:new f.UntypedFormControl(t.name,f.Validators.required),type:new f.UntypedFormControl(t.type,f.Validators.required),displayName:new f.UntypedFormControl(t.displayName,f.Validators.required),value:new f.UntypedFormControl(t.value,f.Validators.required),computedValue:new f.UntypedFormControl(t.value,f.Validators.required),attributes:new f.UntypedFormArray([])});return t.attributes&&t.attributes.length>0&&t.attributes.forEach(function(l){u.get("attributes").push(s.convertToGroup(l))}),u}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(Wf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-slice-editor"]],standalone:!1,decls:1,vars:1,consts:[[3,"submitted","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-slice-form",0),a.\u0275\u0275listener("submitted",function(u){return t.submitted(u)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("contexts",t.contexts)},dependencies:[gH],encapsulation:2}),r}(),vH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("rest",f.Validators.required)),this.controlContainer.control.addControl("rest",this.fb.control(""))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(_d,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.restSourceFormComp=s.first)},standalone:!1,decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","rest"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("formGroup",t.controlContainer.control)},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,_d],encapsulation:2}),r}(),yH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.contexts=[],this.panes=[],this.formGroup=this.fb.group({labels:this.fb.array([this.buildLabelGroup()])}),this.contexts=this.data.contexts},[{key:"labels",get:function(){return this.formGroup.get("labels")}},{key:"ngOnInit",value:function(){this.panes=new Go(this.data.panelFormGroup.value).panes}},{key:"submit",value:function(){var t=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(s){console.log("label mappings"),console.log(t.attributeSerializer.convertToGroup(s)),t.data.panelFormGroup.get("settings").push(t.attributeSerializer.convertToGroup(s))})}},{key:"onRemoveMapping",value:function(t){this.labels.removeAt(t)}},{key:"onAddMapping",value:function(){this.labels.push(this.buildLabelGroup())}},{key:"buildLabelGroup",value:function(){return this.fb.group({mapping:this.fb.control("")})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-tabs-panel-editor"]],standalone:!1,decls:7,vars:3,consts:[[3,"ngSubmit","formGroup"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"formGroupName"],["formControlName","mapping",3,"panes"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275template(2,O$,4,2,"div",2),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.onAddMapping()}),a.\u0275\u0275text(4,"Add"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"button",4),a.\u0275\u0275text(6,"Save"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.labels.controls),a.\u0275\u0275advance(3),a.\u0275\u0275property("disabled",!t.formGroup.valid))},dependencies:[y.NgForOf,f.\u0275NgNoValidate,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormGroupName,f.FormArrayName,Gr.MatButton,Bt.MatDialogClose,$j],encapsulation:2}),r}(),_H=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e,this.settings=[],this.panes=[],this.originMappings=[],this.labelMappingsEnabled=!1},[{key:"ngOnInit",value:function(){console.log("tabs panels contexts"),console.log(this.panes);var t=this.attributeSerializer.deserialize(new _t.AttributeValue({name:"",displayName:"",computedValue:"",type:_t.AttributeTypes.Complex,value:"",intValue:0,attributes:this.settings}));this.labelMappingsEnabled=!!(t&&void 0!==t.labels&&Array.isArray(t.labels)&&t.labels.length>0)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-tabs-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings"},standalone:!1,decls:2,vars:2,consts:[["mat-align-tabs","start",4,"ngIf"],["mat-align-tabs","start"],[4,"for"],["mat-tab-label",""],[3,"pluginName","settings","contexts"],["label","The Label",4,"ngFor","ngForOf"],["label","The Label"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,j$,2,1,"mat-tab-group",0)(1,G$,2,1,"mat-tab-group",0),2&e&&(a.\u0275\u0275property("ngIf",t.labelMappingsEnabled),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!t.labelMappingsEnabled))},dependencies:[y.NgForOf,y.NgIf,go.MatTabLabel,go.MatTab,go.MatTabGroup,sn.ForDirective,Ad],encapsulation:2}),r}(),tE=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.controlContainer=t,this.panelPages=[],this.panelPage$=new R.t(new Pr),this.context$=new R.t(void 0),this.formGroup=this.fb.group({state:this.fb.control("",[f.Validators.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Ln.B)(250),(0,Co.F)(),(0,z.p)(function(u){try{return JSON.parse(u),!0}catch{return!1}}),(0,fe.T)(function(u){return JSON.parse(u)})).subscribe(function(u){console.log("write state"),console.log(u),s.formGroup.get("state").setValue(u)}),this.onTouched=function(){}},[{key:"panelPage",set:function(t){this.panelPage$.next(t)}},{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.panelPage$.subscribe(function(s){t.panelPages=[s]}),this.context$.subscribe(function(s){t.stateCtrl.setValue(s?JSON.stringify(s.data.state):"")})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"flattenSelector",value:function(t){var s=[];return null!=t.panel&&s.push(t.panel),null!=t.pane&&s.push(t.pane),null!=t.nested&&"object"==typeof t.nested&&this.flattenSelector(t.nested).forEach(function(u){return s.push(u)}),s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-state-form"]],inputs:{panelPage:"panelPage",context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:3,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275text(1," <"),a.\u0275\u0275element(2,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("formControl",t.stateCtrl))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormControlDirective,f.FormGroupDirective],encapsulation:2}),r}(),bH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.fb=e,this.pageBuilderFacade=t,this.controlContainer=s},[{key:"ngOnInit",value:function(){var t=this;this.controlContainer.control.addControl("adaptor",this.fb.control("data",f.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control("")),this.pageBuilderFacade.getPage$.pipe((0,pn.s)(1)).subscribe(function(s){t.panelPage=s})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(gi),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-state-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(tE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.restSourceFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","data",3,"panelPage","context"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-page-state-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("panelPage",t.panelPage)("context",t.context))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,tE],encapsulation:2}),r}(),AH=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[f.Validators.required]),field:this.fb.control("",[f.Validators.required])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new Ay(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?(s.formGroup.get("name").setValue(u.name),s.formGroup.get("field").setValue(u.field)):(s.formGroup.get("name").setValue(""),s.formGroup.get("field").setValue(""))}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-datasource-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:11,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","field","required",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),a.\u0275\u0275text(9,"Field"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"input",2),a.\u0275\u0275elementEnd()()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),CH=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-datasource"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-form-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,AH],encapsulation:2}),r}(),xH=function(r){return new Xt.ContentPlugin({id:"snippet",title:"Snippet",selectionComponent:void 0,editorComponent:rH,renderComponent:XS,handler:r})},SH=function(r){return new Xt.ContentPlugin({id:"attribute",title:"Attribute",selectionComponent:iH,editorComponent:oH,renderComponent:sH,handler:r})},EH=function(r){return new Xt.ContentPlugin({id:"media",title:"Media",selectionComponent:void 0,editorComponent:uH,renderComponent:lH,handler:r})},DH=function(r){return new Xt.ContentPlugin({id:"rest",title:"REST",selectionComponent:void 0,editorComponent:dH,renderComponent:fH,handler:r})},wH=function(r){return new Xt.ContentPlugin({id:"slice",title:"Slice",selectionComponent:void 0,editorComponent:hH,renderComponent:void 0,handler:r})},FH=function(r){return new jo({id:"page",name:"page",title:"Page",global:!0,group:"pages",baseObject:{path:""},resolver:r})},kH=function(r){var n={dataset:new Un};return new jo({id:"rest",name:"rest",title:"Rest",baseObject:n,resolver:r,editorComponent:vH})},PH=function(r){var n={dataset:new Un};return new jo({id:"form",name:"form",title:"Form",baseObject:n,resolver:r})},IH=function(r){var n=new mi({state:new _t.AttributeValue});return new jo({id:"panestate",name:"panestate",title:"Pane State",internal:!0,baseObject:n,resolver:r})},TH=function(r){var n=new mi({state:new _t.AttributeValue});return new jo({id:"pagestate",name:"pagestate",title:"Page State",internal:!0,baseObject:n,resolver:r,editorComponent:bH})},RH=function(r){return new Rf({id:"tabs",name:"tabs",title:"Tabs",handler:r,editorComponent:yH,renderComponent:_H})},Uy=function(r){return function(n){if(0===("/"+n.map(function(t){return t.path}).join("/")).indexOf(r.path)){var e=r.path.substr(1).split("/").length;return{consumed:n,posParams:n.reduce(function(t,s,u){return 0===u?(0,v.A)((0,v.A)({},t),{},{panelPageId:new Yn.UrlSegment(r.id,{})}):u>e-1?(0,v.A)((0,v.A)({},t),{},(0,c.A)({},"arg".concat(u-e),new Yn.UrlSegment(s.path,{}))):(0,v.A)({},t)},{})}}return null}},Gy=function(r){return function(n){return 0===("/"+n.map(function(t){return t.path}).join("/")).indexOf(r.path)&&n.map(function(t){return t.path}).join("/").indexOf("/manage")>-1?(r.path.substr(1).split("/"),{consumed:n,posParams:n.reduce(function(t,s,u){return 0===u?(0,v.A)((0,v.A)({},t),{},{panelPageId:new Yn.UrlSegment(r.id,{})}):(0,v.A)({},t)},{})}):null}},LH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.tokenizerService=e,this.panelResolverService=t,this.styleResolverService=s,this.paneDatasource=u,this.settings=[],this.panes=[],this.originMappings=[],this.resolvedContext={}},[{key:"ngOnInit",value:function(){var t=this;this.paneDatasource.pageChange$.pipe((0,ec.i)(1),(0,We.n)(function(s){return t.panelResolverService.resolvePanes({panes:t.originPanes.map(function(u){return new Er((0,v.A)((0,v.A)({},u),{},{metadata:new Map([].concat((0,A.A)(u.metadata?u.metadata:[]),[["page",s],["limit",t.paneDatasource.pageSize]]))}))}),contexts:t.contexts,resolvedContext:t.resolvedContext})}),(0,We.n)(function(s){return t.styleResolverService.alterResolvedPanes({panel:t.panel,resolvedPanes:s.resolvedPanes,originMappings:s.originMappings})})).subscribe(function(s){var u=s.resolvedPanes;t.originMappings=s.originMappings,t.paneDatasource.panes=u}),this.paneDatasource.panes=this.panes,this.trackByTpl="[._root.id]"}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(by),a.\u0275\u0275directiveInject(gS),a.\u0275\u0275directiveInject(Mf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-virtual-list-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",resolvedContext:"resolvedContext",panel:"panel"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([Mf])],decls:2,vars:2,consts:[[1,"panes-viewport",3,"itemSize"],["class","pane-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pane-item"],[3,"pluginName","settings","contexts","resolvedContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",0),a.\u0275\u0275template(1,z$,2,4,"div",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("itemSize",75),a.\u0275\u0275advance(),a.\u0275\u0275property("cdkVirtualForOf",t.paneDatasource))},dependencies:[Zl.CdkFixedSizeVirtualScroll,Zl.CdkVirtualForOf,Zl.CdkVirtualScrollViewport,Ad],styles:["[_nghost-%COMP%]{position:relative}.panes-viewport[_ngcontent-%COMP%]{height:100%;width:100%}"]}),r}(),jH=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.router=e},[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.router.navigateByUrl(this.href)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Yn.Router))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-router-link"]],inputs:{href:"href",text:"text"},standalone:!1,decls:2,vars:1,consts:[[3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"a",0),a.\u0275\u0275listener("click",function(){return t.onClick()}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(t.text))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}"]}),r}(),nE=new a.InjectionToken("PagesSettings"),UH=(0,m.A)(function o(r){(0,h.A)(this,o),this.disableRouting=!1,r&&(this.disableRouting=r.disableRouting)}),GH=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.siteName=e,this.pagesSettings=t,this.router=s,this.routesLoaded=!1,this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")},[{key:"canActivate",value:function(t,s){var u=this;return new Promise(this.pagesSettings.disableRouting?function(l){return l(!0)}:function(l){var d=s.url;-1!==d.indexOf("?")&&(d=s.url.substr(0,d.indexOf("?")));var p="path="+d.substr(1).split("/").reduce(function(g,_,S){return[].concat((0,A.A)(g),[0===S?"/".concat(_):"".concat(g[S-1],"/").concat(_)])},[]).map(function(g){return u.encodePathComponent(g)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(u.siteName,'"}}}')));setTimeout(function(){}),(0,An.p)([tr(function(){return!u.routesLoaded},u.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(u.siteName,'"}}}')),'&path={"wildcard":{"path.keyword":{"value":"*"}}}')).pipe((0,q.M)(function(){return console.log("loaded page list items")}),(0,fe.T)(function(g){return g.filter(function(_){return void 0!==_.path&&""!==_.path})}),(0,fe.T)(function(g){return g.map(function(_){return new Pr(_)}).sort(function(_,S){return _.path.split("/").length===S.path.split("/").length?_.path.split("/")[_.path.split("/").length-1]>S.path.split("/")[S.path.split("/").length-1]?-1:1:_.path.split("/").length>S.path.split("/").length?-1:1})}),(0,q.M)(function(g){return g.sort(function(_,S){return _.path.length>S.path.length?1:-1})}),(0,q.M)(function(g){var _=u.router.config;g.forEach(function(S){_.unshift({matcher:Gy(S),component:qf}),_.unshift({matcher:Uy(S),component:Kf,data:{panelPageListItem:S}}),console.log("panels matcher: ".concat(S.path))}),u.routesLoaded=!0}),(0,fe.T)(function(){return[]})),(0,Te.of)([])),u.panelPageListItemsService.getWithQuery(p).pipe((0,aa.W)(function(g){return(0,Te.of)([])}),(0,q.M)(function(){return console.log("loaded specific matched")}),(0,fe.T)(function(g){return g.reduce(function(_,S){return void 0===_||_.path.split("/").length<S.path.split("/").length?S:_},void 0)}),(0,fe.T)(function(g){var _=s.url.substr(1).split("/").slice(g.path.split("/").length-1).join("/");return[g,_]}))]).pipe((0,fe.T)(function(g){var _=(0,k.A)(g,2),I=(0,k.A)(_[1],2);return[I[0],I[1]]})).subscribe(function(g){var _=(0,k.A)(g,2),S=_[0],I=_[1],B="".concat(S.path).concat(""===I?"":"/".concat(I),"?").concat(Ya.stringify(t.queryParams)),$=u.router.parseUrl(B);console.log("panels garud navigate: ".concat(S.path).concat(""===I?"":"/".concat(I),"?").concat(Ya.stringify(t.queryParams))),l($)})})}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.SITE_NAME),a.\u0275\u0275inject(nE),a.\u0275\u0275inject(Yn.Router),a.\u0275\u0275inject(yr))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),rE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.pageBuilderFacade=e},[{key:"resolve",value:function(t,s){return this.pageBuilderFacade.getPageInfo$}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gi))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),aE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.pageBuilderFacade=e,this.store=t,this.urlGeneratorService=s,this.routerStore=u},[{key:"resolve",value:function(t,s){var u=this,l=new Lo(s);return(l.params&&Array.isArray(l.params)&&l.params.length>0?this.changePipeline(l.params):(0,Te.of)([])).pipe((0,We.n)(function(){return l.params&&Array.isArray(l.params)&&l.params.length>0?u.rebuildParams(l.params):(0,Te.of)([])}),(0,fe.T)(function(d){return[d,new Map([["tag",cr()]])]}),(0,We.n)(function(d){var p=(0,k.A)(d,2),_=p[1];return u.urlGeneratorService.getUrl(l.url,p[0],_).pipe((0,fe.T)(function(S){return[S,_]}))}),(0,We.n)(function(d){var p=(0,k.A)(d,2),g=p[0],_=p[1];return u.pageBuilderFacade.loadRestData("".concat(_.get("tag")),new Lo((0,v.A)((0,v.A)({},l),{},{url:g}))),u.store.pipe(wr(Nf("".concat(_.get("tag")))),(0,z.p)(function(S){return void 0!==S}),(0,fe.T)(function(S){return S.results}),(0,pn.s)(1))}))}},{key:"changePipeline",value:function(t){var s=this,u=t.reduce(function(l,d){switch(d.mapping.type){case"route":return[].concat((0,A.A)(l),[s.routeArgChange(d.mapping.value)]);case"querystring":return[].concat((0,A.A)(l),[s.queryStringChange(d.mapping.value)]);case"form":return[].concat((0,A.A)(l),[s.formChange(d.mapping.value)]);default:return(0,A.A)(l)}},[]);return G.h.apply(void 0,(0,A.A)(u))}},{key:"routeArgChange",value:function(t){return this.pageBuilderFacade.getPageInfo$.pipe((0,fe.T)(function(){}))}},{key:"queryStringChange",value:function(t){return new T.B}},{key:"formChange",value:function(t){var s=t.split(".",2),u=(0,k.A)(s,2);return this.pageBuilderFacade.getForm$(u[0]).pipe((0,q.M)(function(){return console.log("form change")}),(0,fe.T)(function(){}))}},{key:"rebuildParams",value:function(t){var s=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,fe.T)(function(u){return u?t:s.testParams(t)}))}},{key:"testParams",value:function(t){for(var s=[],u=t.length,l=0;l<u;l++)s.push(new ma("route"===t[l].mapping.type?(0,v.A)((0,v.A)({},t[l]),{},{mapping:{type:"static",value:t[l].mapping.testValue,context:void 0,testValue:void 0}}):t[l]));return s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gi),a.\u0275\u0275inject(Ir),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(Ir))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),iE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.pageBuilderFacade=e},[{key:"resolve",value:function(t,s){return this.pageBuilderFacade.getForm$(s)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(gi))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),zH=function(){var o,r=function(n){function e(t,s){var u;return(0,h.A)(this,e),(u=(0,F.A)(this,e)).tokenizerService=t,u.paneDatasource=s,u.trackByMapping=function(l,d){return u.tokenizerService.replaceTokens(u.trackByTpl,u.tokenizerService.generateGenericTokens(d.contexts[0].data))},u}return(0,w.A)(e,n),(0,m.A)(e,[{key:"displayedColumns",get:function(){var s=this.panes.findIndex(function(u){return u.contexts.findIndex(function(l){return"_root"===l.name})>-1});return s>-1?Object.keys(this.panes[s].contexts.find(function(u){return"_root"===u.name}).data):[]}},{key:"ngOnInit",value:function(){console.log(this.panes),this.paneDatasource.panes=this.panes}},{key:"rowData",value:function(s,u){return console.log("name: ".concat(s)),"".concat(u.contexts.find(function(l){return"_root"===l.name}).data[s])}}])}(t9);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Mf))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["lib-table-panel-renderer"]],standalone:!1,features:[a.\u0275\u0275ProvidersFeature([Mf]),a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"table",0),a.\u0275\u0275template(1,K$,3,1,"ng-container",1)(2,q$,1,0,"tr",2)(3,W$,1,0,"tr",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("dataSource",t.paneDatasource),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.displayedColumns),a.\u0275\u0275advance(),a.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),a.\u0275\u0275advance(),a.\u0275\u0275property("matRowDefColumns",t.displayedColumns))},dependencies:[y.NgForOf,WS.MatSort,WS.MatSortHeader,yo.MatTable,yo.MatHeaderCellDef,yo.MatHeaderRowDef,yo.MatColumnDef,yo.MatCellDef,yo.MatRowDef,yo.MatHeaderCell,yo.MatCell,yo.MatHeaderRow,yo.MatRow],encapsulation:2}),r}(),$H=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Te.of)()}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"getBindings",value:function(t,s){return(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(this.attributeSerializer.deserializeAsObject(t))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"fromPanes",value:function(t){var s=this;return t.map(function(u){return new Er(s.attributeSerializer.deserialize(u))})}},{key:"wrapPanel",value:function(t){return new Go({stylePlugin:void 0,settings:[],panes:t,columnSetting:new $n})}},{key:"stateDefinition",value:function(t){return(0,Te.of)({})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),zy=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.panelHandler=e,this.attributeSerializer=t,this.panelsLoaderService=s,this.panelsSelectorService=u},[{key:"alterResolvedPanes",value:function(t){var s=this,l=t.resolvedPanes,d=t.originMappings,p=this.attributeSerializer.deserialize(new _t.AttributeValue({name:"",displayName:"",computedValue:"",type:_t.AttributeTypes.Complex,value:"",intValue:0,attributes:t.settings})),g=p&&void 0!==p.labels&&Array.isArray(p.labels)?p.labels.map(function(S){return new cS(S.mapping)}):[],_=[];return 0===g.length?(0,Te.of)({resolvedPanes:l,originMappings:d}):(_=l.length!==g.length?l.map(function(S,I){return new cS((0,v.A)((0,v.A)({},I<g.length?g[I]:g[g.length-1]),{},{pane:I}))}).map(function(S){return s.flattenSelector(S)}):g.map(function(S){return s.flattenSelector(S)}),(0,An.p)(l.map(function(S,I){return s.panelsLoaderService.reducePanes([],S,0)[0]})).pipe((0,fe.T)(function(S){return S.reduce(function(I,B){var le=(0,k.A)(B,2)[1];return[].concat((0,A.A)(I),[le])},[])}),(0,fe.T)(function(S){for(var I=_.map(function(me){return s.selectWithTarget(me)}),B=_.map(function(me){return s.selectWithoutTarget(me)}),$=I.map(function(me,ke){return s.panelsSelectorService.rebuildPage(S[_[ke][0]],me.slice(1))}),Y=B.map(function(me,ke){return s.panelsSelectorService.rebuildPage(S[_[ke][0]],me.slice(1))}),le=[],ge=l.length,be=0;be<ge;be++)le.push(new Er((0,v.A)((0,v.A)({},l[be]),{},{settings:s.panelHandler.buildSettings($[be])}))),le.push(new Er((0,v.A)((0,v.A)({},l[be]),{},{settings:s.panelHandler.buildSettings(Y[be])})));return{resolvedPanes:le,originMappings:d}})))}},{key:"stateDefinition",value:function(t){return(0,Te.of)({})}},{key:"flattenSelector",value:function(t){var s=[];return null!=t.panel&&s.push(t.panel),null!=t.pane&&s.push(t.pane),null!=t.nested&&"object"==typeof t.nested&&this.flattenSelector(t.nested).forEach(function(u){return s.push(u)}),s}},{key:"selectWithTarget",value:function(t){return t.map(function(s){return s+1})}},{key:"selectWithoutTarget",value:function(t){return t.map(function(s,u){return u===t.length-1?-1*(s+1):0})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject($H),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(fS),a.\u0275\u0275inject(n9))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),oE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.entityServices=e,this.pageBuilderFacade=t,this.panelStateConverterService=s,this.attributeSerializer=u,this.resolverCache$=new Map},[{key:"emptyPaneState",get:function(){return new mi({state:this.attributeSerializer.serialize({displayAssociatedPane:""},"root")})}},{key:"entities$",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState").entities$.pipe((0,q.M)(function(t){console.log("entities in store"),console.log(t)}))}},{key:"panelPage$",get:function(){return(0,zn.z)([this.pageBuilderFacade.getPageInfo$,this.entityServices.getEntityCollectionService("PanelPage").entities$]).pipe((0,fe.T)(function(t){var s=(0,k.A)(t,2),u=s[0],l=s[1];return u&&void 0!==u.id&&""!==u.id&&null!==u.id&&-1!==l.findIndex(function(d){return d.id===u.id})?l.find(function(d){return d.id===u.id}):void 0}))}},{key:"fakePageInfo",get:function(){return new ld({id:"948d6e7b-12ab-11ec-8ecd-661fdd19e6df",path:"",realPath:"",args:new Map})}},{key:"resolve",value:function(t,s){var u=s&&s.selectionMethod&&0!==s.selectionMethod.length&&s.id&&null!==s.id&&""!==s.id?"ps[id=".concat(s.id,"]").concat(s.selectionMethod.map(function(d){return"".concat(d)}).join("")):void 0;if(u&&this.resolverCache$.has(u))return this.resolverCache$.get(u);var l=this.resolve$(t,s);return u&&this.resolverCache$.set(u,l),l}},{key:"resolve$",value:function(t,s){var u=this;return(0,zn.z)([this.panelPage$,this.entities$]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return[p,p&&-1!==g.findIndex(function(_){return _.id===p.id})?g.find(function(_){return _.id===p.id}):new vo]}),(0,We.n)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return u.pageBuilderFacade.getSelectionPath$.pipe((0,fe.T)(function(_){return s&&s.selectionPath?s.selectionPath:_}),(0,q.M)(function(_){return _.join(",")}),(0,fe.T)(function(_){return _.map(function(S,I){return"".concat((I+1)%2==0?"panes":(0===I?"":"nestedPage.")+"panels","[").concat(S,"]")})}),(0,fe.T)(function(_){return 0===_.length?void 0:"$."+_.join(".")}),(0,fe.T)(function(_){return[p,g,_]}))}),(0,q.M)(function(l){var d=(0,k.A)(l,3),p=d[0],_=d[2];console.log("page state context resolver"),console.log(p),console.log("query: "+_)}),(0,We.n)(function(l){var d=(0,k.A)(l,3),p=d[0],g=d[1],_=d[2];return tr(function(){return!!p&&!g},u.panelStateConverterService.convertPageToState(p).pipe((0,fe.T)(function(S){return new vo((0,v.A)((0,v.A)({},S),{},{panels:S.panels.map(function(I){return new Iu((0,v.A)((0,v.A)({},I),{},{panes:I.panes.map(function(B){return new mi((0,v.A)((0,v.A)({},B),{},{state:u.attributeSerializer.serialize({displayAssociatedPane:"y"},"root")}))})}))})}))}),(0,fe.T)(function(S){return[S,_]})),(0,Te.of)([g,_]))}),(0,q.M)(function(l){var p=(0,k.A)(l,2)[0];console.log("rebuilt state from realtime page"),console.log(p)}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),g=d[1];return g?(0,Uo.JSONPath)({path:g,json:d[0]}):u.emptyPaneState}),(0,fe.T)(function(l){return l&&Array.isArray(l)&&0!==l.length?l[0]:u.emptyPaneState}),(0,q.M)(function(l){console.log("json path match"),console.log(l)}),(0,fe.T)(function(l){return u.attributeSerializer.deserializeAsObject(l.state)}),(0,q.M)(function(l){console.log("final state"),console.log(l)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(yr),a.\u0275\u0275inject(gi),a.\u0275\u0275inject(r9),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),HH=[{path:"pages",children:[{path:"create-panel-page",component:aH},{path:"panelpage/:panelPageId/manage",component:qf}]}],KH=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p,g,_,S,I,B,$,Y,le,ge,be,me,ke,qe,ct,it,dt,Rt,Lt,ft,yt,Dt,Jt){(0,h.A)(this,n),d.registerMetadataMap(Q$),[FH(Y),kH(le),PH(ge),IH(be),TH(me)].forEach(function(Jn){u.register(Jn)}),e.forEach(function(Jn){return s.register(Jn)}),t.forEach(function(Jn){return l.register(Jn)}),p.register(function(r,n,e){return new Oo({id:"form",title:"Form",usedContexts:function(s){var u=s.param;return(0,Te.of)(["form__".concat(u.mapping.value.substr(0,u.mapping.value.indexOf(".")))])},evalParam:function(s){var u=s.param,d=u.mapping.value.substr(0,u.mapping.value.indexOf(".")),p=u.mapping.value.substr(u.mapping.value.indexOf(".")+1);return console.log("form: ".concat(d," || ").concat(p)),e.getForm$(d).pipe((0,pn.s)(1),(0,fe.T)(function(g){return g||new hs}),(0,fe.T)(function(g){return n.serializeForm(g)}),(0,fe.T)(function(g){return r.generateGenericTokens(g)}),(0,q.M)(function(g){return console.log(g)}),(0,fe.T)(function(g){return g.has(".".concat(p))?r.replaceTokens("[.".concat(p,"]"),g):""}),(0,q.M)(function(g){console.log("form value"),console.log(g)}))}})}(I,B,$)),g.register(function(r){return new oL({id:"form",title:"Form",resolve:function(){return r.getFormNames$.pipe((0,We.n)(function(e){return 0===e.length?(0,Te.of)([]):(0,zn.z)(e.map(function(t){return r.getForm$(t).pipe((0,fe.T)(function(s){return[t,s]}))}))}),(0,fe.T)(function(e){return e.reduce(function(t,s){var u=(0,k.A)(s,2),l=u[0],d=u[1];return(0,v.A)((0,v.A)({},t),{},(0,c.A)({},"form__".concat(l),d))},{})}))},resolveSingle:function(){return r.getFormNames$.pipe((0,We.n)(function(e){return G.h.apply(void 0,(0,A.A)(e.map(function(t){return r.getForm$(t).pipe((0,fe.T)(function(s){return["form__".concat(t),s]}))})))}))}})}($)),ke.register(function(r){return new td({id:"pages_form",title:"Pages Form",build:function(){Du.prototype.serializePageForm=function(e){return new Promise(function(t){t(r.serializeForm(e))})}}})}(B)),ke.getPlugin("pages_form").subscribe(function(Jn){return Jn.build()}),dt.register(function(r,n){return new Hl({id:"panelpageform_serialize",title:"Panelpageform Serialize",create:function(t){return(0,Te.of)({success:!1,entity:n.serializeForm(new hs(t.object))})},read:function(t){return fi(t),(0,Te.of)({success:!1})},update:function(t){return fi(t),(0,Te.of)({success:!1})},delete:function(t){return fi(t),(0,Te.of)({success:!1})}})}(0,B)),yt.register(function(r,n,e){return new mo({id:"form",title:"Form",editor:CH,fetch:function(s){var u=s.settings;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return new Ay(r.deserializeAsObject(u))}),(0,We.n)(function(l){return n.getForm$(l.name).pipe((0,fe.T)(function(d){return[l,d||new hs]}),(0,qr.U)([l,new hs]),(0,pn.s)(1))}),(0,fe.T)(function(l){var d=(0,k.A)(l,2);return[d[0],e.serializeForm(d[1])]}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),g=d[1];return new Un({results:(0,Uo.JSONPath)({path:"$.".concat(d[0].field,".*"),json:g})})}))},getBindings:function(s){var u=s.settings;return(0,Te.of)([]).pipe((0,fe.T)(function(){return new Ay(r.deserializeAsObject(u))}),(0,fe.T)(function(d){return[new Xt.ContentBinding({id:"form__".concat(d.name),type:"context"})]}))}})}(Dt,$,B))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.CONTENT_PLUGIN),a.\u0275\u0275inject(Tf),a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(ps),a.\u0275\u0275inject(Wl),a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(cs),a.\u0275\u0275inject(px),a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(iL),a.\u0275\u0275inject(Qn),a.\u0275\u0275inject(_S),a.\u0275\u0275inject(gi),a.\u0275\u0275inject(rE),a.\u0275\u0275inject(aE),a.\u0275\u0275inject(iE),a.\u0275\u0275inject(Ly),a.\u0275\u0275inject(oE),a.\u0275\u0275inject(jl),a.\u0275\u0275inject(E.HttpClient),a.\u0275\u0275inject(Ac),a.\u0275\u0275inject($u),a.\u0275\u0275inject(ms),a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(po),a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(nd))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[GH,rE,aE,iE,Ly,oE,{provide:sn.EMBEDDABLE_COMPONENT,useValue:jH,multi:!0},{provide:sn.EMBEDDABLE_COMPONENT,useValue:z1,multi:!0},{provide:sn.EMBEDDABLE_COMPONENT,useValue:Kf,multi:!0},{provide:Nu,useClass:Nu},{provide:Vu,useClass:Vu},{provide:rc,useClass:rc},{provide:Cd,useClass:Cd},{provide:Wf,useClass:Wf},{provide:zy,useClass:zy},{provide:Xt.CONTENT_PLUGIN,useFactory:xH,multi:!0,deps:[Nu]},{provide:Xt.CONTENT_PLUGIN,useFactory:SH,multi:!0,deps:[Vu]},{provide:Xt.CONTENT_PLUGIN,useFactory:EH,multi:!0,deps:[rc]},{provide:Xt.CONTENT_PLUGIN,useFactory:DH,multi:!0,deps:[Cd]},{provide:Xt.CONTENT_PLUGIN,useFactory:wH,multi:!0,deps:[Wf]},{provide:Tf,useValue:new Rf({id:"virtuallist",name:"virtuallist",title:"Virtual List",editorComponent:void 0,renderComponent:LH}),multi:!0},{provide:Tf,useFactory:RH,multi:!0,deps:[zy]},{provide:Tf,useValue:new Rf({id:"table",name:"table",title:"Table",editorComponent:void 0,renderComponent:zH}),multi:!0}],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,dc,mf,Yn.RouterModule.forChild(HH),Fd,jv.forChild(),Of,MS,sn.UtilsModule,Gc,Gl,_t.AttributesModule,y1,zS,N7,_y,nz,Uv,ds,lx,Eu,By]}),r}(),qH=function(o){function r(){return(0,h.A)(this,r),(0,F.A)(this,r,arguments)}return(0,w.A)(r,o),(0,m.A)(r)}(cL),WH=function(){return(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.siteName=r,this.es=n,this.router=e,this.routesLoaded=!1},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"isLoaded",value:function(){return this.routesLoaded}},{key:"load",value:function(){var n=this;return this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')),"&path=").concat(encodeURIComponent('{"wildcard":{"path.keyword":{"value":"*"}}}'))).pipe((0,fe.T)(function(e){return e.filter(function(t){return void 0!==t.path&&""!==t.path})}),(0,fe.T)(function(e){return e.map(function(t){return new Pr(t)}).sort(function(t,s){return t.path.split("/").length===s.path.split("/").length?t.path.split("/")[t.path.split("/").length-1]>s.path.split("/")[s.path.split("/").length-1]?-1:1:t.path.split("/").length>s.path.split("/").length?-1:1})}),(0,q.M)(function(e){return e.sort(function(t,s){return t.path.length>s.path.length?1:-1})}),(0,q.M)(function(e){e.forEach(function(t){n.router.config.unshift({matcher:Uy(t),component:Kf,data:{panelPageListItem:t}}),n.router.config.unshift({matcher:Gy(t),component:qf,data:{panelPageListItem:t}})}),n.routesLoaded=!0}),(0,q.M)(function(){return console.log("panels routes loaded")}),(0,fe.T)(function(){return!0}))}}])}(),QH=function(){return(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.siteName=r,this.es=n,this.router=e},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"match",value:function(n){var e=this,t=n.url;-1!==t.indexOf("?")&&(t=n.url.substr(0,t.indexOf("?")));var s="path="+t.substr(1).split("/").reduce(function(u,l,d){return[].concat((0,A.A)(u),[0===d?"/".concat(l):"".concat(u[d-1],"/").concat(l)])},[]).map(function(u){return e.encodePathComponent(u)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));return this.panelPageListItemsService.getWithQuery(s).pipe((0,aa.W)(function(u){return(0,Te.of)([])}),(0,fe.T)(function(u){return u.reduce(function(l,d){return void 0===l||l.path.split("/").length<d.path.split("/").length?d:l},void 0)}),(0,fe.T)(function(u){return!!u||n.url.indexOf("pages")>-1}))}},{key:"encodePathComponent",value:function(n){return'{"term":{"path.keyword":{"value":"'.concat(n,'"}}}')}}])}(),XH=function(){return(0,m.A)(function o(r,n,e){(0,h.A)(this,o),this.siteName=r,this.es=n,this.router=e},[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"redirect",value:function(n,e){var t=this;if(e.url.indexOf("pages")>-1)console.log("redirect: ".concat(e.url)),this.router.navigateByUrl(e.url);else{var s=e.url;-1!==s.indexOf("?")&&(s=e.url.substr(0,s.indexOf("?")));var u="path="+s.substr(1).split("/").reduce(function(l,d,p){return[].concat((0,A.A)(l),[0===p?"/".concat(d):"".concat(l[p-1],"/").concat(d)])},[]).map(function(l){return t.encodePathComponent(l)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));this.panelPageListItemsService.getWithQuery(u).pipe((0,fe.T)(function(l){return l.reduce(function(d,p){return void 0===d||d.path.split("/").length<p.path.split("/").length?p:d},void 0)}),(0,fe.T)(function(l){var d=e.url.substr(1).split("/").slice(l.path.split("/").length-1).join("/");return[l,d]})).subscribe(function(l){(0,k.A)(l,2),t.router.navigate(["reload"])})}}},{key:"encodePathComponent",value:function(n){return'{"term":{"path.keyword":{"value":"'.concat(n,'"}}}')}}])}(),JH=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),e.register(function(r,n,e){var t=new WH(r,n,e),s=new QH(r,n,e),u=new XH(r,n,e);return new qH({id:"panels",title:"Panels",loadingStrategy:t,matchingStrategy:s,redirectHandler:u})}(s,u,t))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fx),a.\u0275\u0275inject(Yn.Router),a.\u0275\u0275inject(sn.SITE_NAME),a.\u0275\u0275inject(yr))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule]}),r}(),sE=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.controlContainer=t,this.context$=new R.t(void 0),this.formGroup=this.fb.group({value:this.fb.control("",[f.Validators.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Ln.B)(250),(0,Co.F)(),(0,z.p)(function(u){try{return JSON.parse(u),!0}catch{return!1}}),(0,fe.T)(function(u){return JSON.parse(u)})).subscribe(function(u){console.log("write state"),console.log(u),s.formGroup.get("value").setValue(u)}),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.context$.subscribe(function(s){t.stateCtrl.setValue(s?JSON.stringify(s.data.value):"")})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-state-form"]],inputs:{context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(),a.\u0275\u0275property("formControl",t.stateCtrl))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormControlDirective,f.FormGroupDirective],encapsulation:2}),r}(),ZH=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",f.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-state-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(sE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextStateFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-state-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("context",t.context))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,sE],encapsulation:2}),r}(),uE=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.attributeSerializer=e,this.es=t},[{key:"entityCollectionService",get:function(){return this.es.getEntityCollectionService("GlobalState")}},{key:"resolve",value:function(t,s,u){var l=this;console.log("hookup globalstate"),console.log(s);var S,g=u&&u.has("name")&&u.get("name")&&null!==u.get("name")&&""!==u.get("name")?u.get("name"):void 0;return g?this.entityCollectionService.collection$.pipe(wr((S=g,Fn(function(S){return S.entities},function(I){return I[S]?I[S]:void 0}))),(0,fe.T)(function(_){return _?l.attributeSerializer.deserialize(_.value):s.value?s.value:{}}),(0,fe.T)(function(_){return _.root?_.root:_}),(0,q.M)(function(_){console.log("resolve globalstate"),console.log(_)})):(0,Te.of)(s.value?s.value:{}).pipe((0,q.M)(function(_){console.log("resolve default globalstate"),console.log(_)}))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(yr))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),eK=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.id=r.id,this.value=new _t.AttributeValue(r.value))}),rK={GlobalState:{entityName:"GlobalState"}},aK=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d,p){(0,h.A)(this,n),e.registerMetadataMap(rK),t.registerService("GlobalState",new sn.NoopDataService("GlobalState")),s.register(function(r){var n=new _t.AttributeValue;return new jo({id:"state",name:"state",title:"State",baseObject:n,resolver:r,editorComponent:ZH})}(p)),d.register(function(r,n){return new td({id:"state",title:"State",build:function(){Du.prototype.writeState=function(t){return new Promise(function(s){r.getEntityCollectionService("GlobalState").upsert(new eK({id:t.id,value:n.serialize(t.value,"root")})).pipe((0,q.M)(function(l){return s(l)})).subscribe()})}}})}(u,l))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wa),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(ps),a.\u0275\u0275inject(yr),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(jl),a.\u0275\u0275inject(uE))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[uE],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule]}),r}(),iK=b(49923);function Za(o){return new Promise(function(r,n){o.oncomplete=o.onsuccess=function(){return r(o.result)},o.onabort=o.onerror=function(){return n(o.error)}})}function Ki(){return $y||($y=function oK(o,r){var n;return function(t,s){return function(){if(n)return n;var s=indexedDB.open(o);return s.onupgradeneeded=function(){return s.result.createObjectStore(r)},(n=Za(s)).then(function(u){u.onclose=function(){return n=void 0}},function(){}),n}().then(function(u){return s(u.transaction(r,t).objectStore(r))})}}("keyval-store","keyval")),$y}function lE(o,r){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ki())("readwrite",function(e){return e.put(r,o),Za(e.transaction)})}var cK=function(r){return new Hl({id:"idb_keyval",title:"Idb Keyval",create:function(e){var t=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,Te.of)({success:!1}).pipe((0,We.n)(function(){return s({object:t,parentObject:l}).pipe((0,fe.T)(function(d){return{identity:d.identity}}))}),(0,We.n)(function(d){var p=d.identity;return u&&0!==Object.keys(u).length?(0,An.p)(Object.keys(u).map(function(g){return r.paramValue(u[g],new Map).pipe((0,fe.T)(function(_){return(0,c.A)({},g,_)}))})).pipe((0,fe.T)(function(g){return g.reduce(function(_,S){return(0,v.A)((0,v.A)({},_),S)},{})}),(0,fe.T)(function(g){return{identity:p,options:g}})):(0,Te.of)({identity:p,options:{}})}),(0,fe.T)(function(d){return{name:d.options.prefix+d.identity}}),(0,We.n)(function(d){var p=d.name;return new L.c(function(g){lE(p,t).then(function(_){console.log("idb write suceeded"),console.log(_),g.next({success:!0}),g.complete()}).catch(function(_){console.log("idb write failed"),console.log(_),g.next({success:!1}),g.complete()})})}))},read:function(e){return fi(e),(0,Te.of)({success:!1})},update:function(e){var t=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,Te.of)({success:!1}).pipe((0,We.n)(function(){return s({object:t,parentObject:l}).pipe((0,fe.T)(function(d){return{identity:d.identity}}))}),(0,We.n)(function(d){var p=d.identity;return u&&0!==Object.keys(u).length?(0,An.p)(Object.keys(u).map(function(g){return r.paramValue(u[g],new Map).pipe((0,fe.T)(function(_){return(0,c.A)({},g,_)}))})).pipe((0,fe.T)(function(g){return g.reduce(function(_,S){return(0,v.A)((0,v.A)({},_),S)},{})}),(0,fe.T)(function(g){return{identity:p,options:g}})):(0,Te.of)({identity:p,options:{}})}),(0,fe.T)(function(d){return{name:d.options.prefix+d.identity}}),(0,We.n)(function(d){var p=d.name;return new L.c(function(g){lE(p,t).then(function(_){console.log("idb write suceeded"),console.log(_),g.next({success:!0}),g.complete()}).catch(function(_){console.log("idb write failed"),console.log(_),g.next({success:!1}),g.complete()})})}))},delete:function(e){return fi(e),(0,Te.of)({success:!1})},query:function(e){var t=e.params,s=e.rule,u=e.identity;return r.paramValues(new Map(Object.keys(t).map(function(l){return[l,t[l]]}))).pipe((0,We.n)(function(l){return new L.c(function(d){(function lK(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki())("readonly",function(r){if(r.getAllKeys)return Za(r.getAllKeys());var n=[];return function Hy(o,r){return o.openCursor().onsuccess=function(){this.result&&(r(this.result),this.result.continue())},Za(o.transaction)}(r,function(e){return n.push(e.key)}).then(function(){return n})})})().then(function(p){return p.filter(function(g){return 0==="".concat(g).indexOf(l.get("prefix"))})}).then(function(p){return function uK(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki())("readonly",function(n){return Promise.all(o.map(function(e){return Za(n.get(e))}))})}(p)}).then(function(p){d.next({entities:p,success:!0}),d.complete()})})}),(0,We.n)(function(l){return s?new L.c(function(d){var p=new $l.Engine;p.addOperator("startsWith",function(g,_){return"string"==typeof _&&"string"==typeof g&&0===_.indexOf(g)}),p.addOperator("term||wildcard",function(g,_){var S=JSON.parse(decodeURIComponent(_)),I=(0,Uo.JSONPath)({path:"$.term.*.value.@string()",json:S,flatten:!0});return void 0!==S.wildcard||S.term&&0!==I.lengh&&I[0]===g}),p.addRule(s),p.addFact("identity",function(g,_){return new L.c(function(S){_.factValue("entity").then(function(I){return u({object:I}).pipe((0,fe.T)(function(B){return B.identity})).toPromise()}).then(function(I){S.next(I),S.complete()})}).toPromise()},{cache:!1}),Te.of.apply(void 0,(0,A.A)(l.entities)).pipe((0,ks.H)(function(g){return new L.c(function(_){p.removeFact("entity"),p.addFact("entity",g,{cache:!1}),p.run().then(function(S){_.next([g,S.events.findIndex(function(I){return"visible"===I.type})>-1]),_.complete()})})}),(0,z.p)(function(g){return(0,k.A)(g,2)[1]}),(0,fe.T)(function(g){return(0,k.A)(g,1)[0]}),(0,iK.T)(function(g,_){return[].concat((0,A.A)(g),[_])},[]),(0,qr.U)([])).subscribe(function(g){d.next((0,v.A)((0,v.A)({},l),{},{entities:g})),d.complete()})}):(0,Te.of)(l)}))}})},pK=function(){var o,r=(0,m.A)(function n(e,t){(0,h.A)(this,n),e.register(cK(t))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ms),a.\u0275\u0275inject(po))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[rd]}),r}(),fK=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.authFacade=t,this.router=s,this.title="ipe",this.menuClicked=new a.EventEmitter,(0,y.isPlatformBrowser)(e)&&(bridge=u)},[{key:"ngOnInit",value:function(){var t=this;this.authFacade.getUser$.subscribe(function(s){t.isAuthenticated=!!s})}},{key:"login",value:function(){this.authFacade.login()}},{key:"menuClick",value:function(){this.menuClicked.emit()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(_i),a.\u0275\u0275directiveInject(Yn.Router),a.\u0275\u0275directiveInject(Du))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["app-root"]],outputs:{menuClicked:"menuClicked"},standalone:!1,decls:3,vars:0,consts:[["fxLayout","column","fxFill",""],[1,"outlet-wrapper"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1),a.\u0275\u0275element(2,"router-outlet"),a.\u0275\u0275elementEnd()())},dependencies:[Re,ju,Yn.RouterOutlet],styles:[".outlet-wrapper[_ngcontent-%COMP%]{height:100%}"]}),r}(),mK=b(71870),xd="PERFORM_ACTION",dE="ROLLBACK",mE="TOGGLE_ACTION",gE="JUMP_TO_STATE",hE="JUMP_TO_ACTION",Ky="IMPORT_STATE",vE="LOCK_CHANGES",yE="PAUSE_RECORDING",Qf=(0,m.A)(function o(r,n){if((0,h.A)(this,o),this.action=r,this.timestamp=n,this.type=xd,typeof r.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}),vK=(0,m.A)(function o(){(0,h.A)(this,o),this.type="REFRESH"}),yK=(0,m.A)(function o(r){(0,h.A)(this,o),this.timestamp=r,this.type="RESET"}),_K=(0,m.A)(function o(r){(0,h.A)(this,o),this.timestamp=r,this.type=dE}),bK=(0,m.A)(function o(r){(0,h.A)(this,o),this.timestamp=r,this.type="COMMIT"}),AK=(0,m.A)(function o(){(0,h.A)(this,o),this.type="SWEEP"}),CK=(0,m.A)(function o(r){(0,h.A)(this,o),this.id=r,this.type=mE}),xK=(0,m.A)(function o(r){(0,h.A)(this,o),this.index=r,this.type=gE}),SK=(0,m.A)(function o(r){(0,h.A)(this,o),this.actionId=r,this.type=hE}),EK=(0,m.A)(function o(r){(0,h.A)(this,o),this.nextLiftedState=r,this.type=Ky}),DK=(0,m.A)(function o(r){(0,h.A)(this,o),this.status=r,this.type=vE}),wK=(0,m.A)(function o(r){(0,h.A)(this,o),this.status=r,this.type=yE}),Xf=new a.InjectionToken("@ngrx/store-devtools Options"),_E=new a.InjectionToken("@ngrx/store-devtools Initial Config");function bE(){return null}function kK(o){var r={maxAge:!1,monitor:bE,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n="function"==typeof o?o():o,t=n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||r.features;!0===t.import&&(t.import="custom");var s=Object.assign({},r,{features:t},n);if(s.maxAge&&s.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got ".concat(s.maxAge));return s}function AE(o,r){return o.filter(function(n){return r.indexOf(n)<0})}function CE(o){var r=o.computedStates,n=o.currentStateIndex;return n>=r.length?r[r.length-1].state:r[n].state}function Sd(o){return new Qf(o,+Date.now())}function PK(o,r){return Object.keys(r).reduce(function(n,e){var t=Number(e);return n[t]=xE(o,r[t],t),n},{})}function xE(o,r,n){return(0,v.A)((0,v.A)({},r),{},{action:o(r.action,n)})}function IK(o,r){return r.map(function(n,e){return{state:SE(o,n.state,e),error:n.error}})}function SE(o,r,n){return o(r,n)}function EE(o){return o.predicate||o.actionsSafelist||o.actionsBlocklist}function qy(o,r,n,e,t){var s=n&&!n(o,r.action),u=e&&!r.action.type.match(e.map(function(d){return DE(d)}).join("|")),l=t&&r.action.type.match(t.map(function(d){return DE(d)}).join("|"));return s||u||l}function DE(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wE(o){return{ngZone:o?(0,a.inject)(a.NgZone):null,connectInZone:o}}var Yf=function(){var o,r=function(n){function e(){return(0,h.A)(this,e),(0,F.A)(this,e,arguments)}return(0,w.A)(e,n),(0,m.A)(e)}(xo);return(o=r).\u0275fac=function(){var n;return function(t){return(n||(n=a.\u0275\u0275getInheritedFactory(o)))(t||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Wy=new a.InjectionToken("@ngrx/store-devtools Redux Devtools Extension"),FE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.config=t,this.dispatcher=s,this.zoneConfig=wE(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()},[{key:"notify",value:function(t,s){var u=this;if(this.devtoolsExtension)if(t.type===xd){if(s.isLocked||s.isPaused)return;var l=CE(s);if(EE(this.config)&&qy(l,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var d=this.config.stateSanitizer?SE(this.config.stateSanitizer,l,s.currentStateIndex):l,p=this.config.actionSanitizer?xE(this.config.actionSanitizer,t,s.nextActionId):t;this.sendToReduxDevtools(function(){return u.extensionConnection.send(p,d)})}else{var g=(0,v.A)((0,v.A)({},s),{},{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?PK(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?IK(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(function(){return u.devtoolsExtension.send(null,g,u.getExtensionConfig(u.config))})}}},{key:"createChangesObservable",value:function(){var t=this;return this.devtoolsExtension?new L.c(function(s){var u=t.zoneConfig.connectInZone?t.zoneConfig.ngZone.runOutsideAngular(function(){return t.devtoolsExtension.connect(t.getExtensionConfig(t.config))}):t.devtoolsExtension.connect(t.getExtensionConfig(t.config));return t.extensionConnection=u,u.init(),u.subscribe(function(l){return s.next(l)}),u.unsubscribe}):U0.w}},{key:"createActionStreams",value:function(){var t=this,s=this.createChangesObservable().pipe((0,mK.u)()),u=s.pipe((0,z.p)(function(S){return"START"===S.type})),l=s.pipe((0,z.p)(function(S){return"STOP"===S.type})),d=s.pipe((0,z.p)(function(S){return"DISPATCH"===S.type}),(0,fe.T)(function(S){return t.unwrapAction(S.payload)}),(0,ks.H)(function(S){return S.type===Ky?t.dispatcher.pipe((0,z.p)(function(I){return I.type===mm}),Vd(1e3),(0,Ln.B)(1e3),(0,fe.T)(function(){return S}),(0,aa.W)(function(){return(0,Te.of)(S)}),(0,pn.s)(1)):(0,Te.of)(S)})),g=s.pipe((0,z.p)(function(S){return"ACTION"===S.type}),(0,fe.T)(function(S){return t.unwrapAction(S.payload)})).pipe((0,cn.Q)(l)),_=d.pipe((0,cn.Q)(l));this.start$=u.pipe((0,cn.Q)(l)),this.actions$=this.start$.pipe((0,We.n)(function(){return g})),this.liftedActions$=this.start$.pipe((0,We.n)(function(){return _}))}},{key:"unwrapAction",value:function(t){return"string"==typeof t?(0,eval)("(".concat(t,")")):t}},{key:"getExtensionConfig",value:function(t){var s,u,l,d={name:t.name,features:t.features,serialize:t.serialize,autoPause:null!==(s=t.autoPause)&&void 0!==s&&s,trace:null!==(u=t.trace)&&void 0!==u&&u,traceLimit:null!==(l=t.traceLimit)&&void 0!==l?l:75};return!1!==t.maxAge&&(d.maxAge=t.maxAge),d}},{key:"sendToReduxDevtools",value:function(t){try{t()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Wy),a.\u0275\u0275inject(Xf),a.\u0275\u0275inject(Yf))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),Zf={type:Pd},MK={type:"@ngrx/store-devtools/recompute"};function kE(o,r,n,e,t){if(e)return{state:n,error:"Interrupted by an error up the chain"};var u,s=n;try{s=o(n,r)}catch(l){u=l.toString(),t.handleError(l)}return{state:s,error:u}}function em(o,r,n,e,t,s,u,l,d){if(r>=o.length&&o.length===s.length)return o;for(var p=o.slice(0,r),g=s.length-(d?1:0),_=r;_<g;_++){var S=s[_],I=t[S].action,B=p[_-1],$=B?B.state:e,Y=B?B.error:void 0,ge=u.indexOf(S)>-1?B:kE(n,I,$,Y,l);p.push(ge)}return d&&p.push(o[o.length-1]),p}var PE=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d,p,g){var _=this;(0,h.A)(this,n);var S=function NK(o,r){return{monitorState:r(void 0,{}),nextActionId:1,actionsById:{0:Sd(Zf)},stagedActionIds:[0],skippedActionIds:[],committedState:o,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(p,g.monitor),I=function VK(o,r,n,e){var t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(s){return function(u,l){var d=u||r,p=d.monitorState,g=d.actionsById,_=d.nextActionId,S=d.stagedActionIds,I=d.skippedActionIds,B=d.committedState,$=d.currentStateIndex,Y=d.computedStates,le=d.isLocked,ge=d.isPaused;function be(Hn){for(var ti=Hn,Vi=S.slice(1,ti+1),Ga=0;Ga<Vi.length;Ga++){if(Y[Ga+1].error){Vi=S.slice(1,(ti=Ga)+1);break}delete g[Vi[Ga]]}I=I.filter(function(_o){return-1===Vi.indexOf(_o)}),S=[0].concat((0,A.A)(S.slice(ti+1))),B=Y[ti].state,Y=Y.slice(ti),$=$>ti?$-ti:0}function me(){g={0:Sd(Zf)},_=1,S=[0],I=[],B=Y[$].state,$=0,Y=[]}u||(g=Object.create(g));var ke=0;switch(l.type){case vE:le=l.status,ke=1/0;break;case yE:(ge=l.status)?(S=[].concat((0,A.A)(S),[_]),g[_]=new Qf({type:"@ngrx/devtools/pause"},+Date.now()),_++,ke=S.length-1,Y=Y.concat(Y[Y.length-1]),$===S.length-2&&$++,ke=1/0):me();break;case"RESET":g={0:Sd(Zf)},_=1,S=[0],I=[],B=o,$=0,Y=[];break;case"COMMIT":me();break;case dE:g={0:Sd(Zf)},_=1,S=[0],I=[],$=0,Y=[];break;case mE:var qe=l.id,ct=I.indexOf(qe);I=-1===ct?[qe].concat((0,A.A)(I)):I.filter(function(Hn){return Hn!==qe}),ke=S.indexOf(qe);break;case"SET_ACTIONS_ACTIVE":for(var it=l.start,dt=l.end,Rt=l.active,Lt=[],ft=it;ft<dt;ft++)Lt.push(ft);I=Rt?AE(I,Lt):[].concat((0,A.A)(I),Lt),ke=S.indexOf(it);break;case gE:$=l.index,ke=1/0;break;case hE:var yt=S.indexOf(l.actionId);-1!==yt&&($=yt),ke=1/0;break;case"SWEEP":S=AE(S,I),I=[],$=Math.min($,S.length-1);break;case xd:if(le)return u||r;if(ge||u&&qy(u.computedStates[$],l,t.predicate,t.actionsSafelist,t.actionsBlocklist)){var Dt=Y[Y.length-1];Y=[].concat((0,A.A)(Y.slice(0,-1)),[kE(s,l.action,Dt.state,Dt.error,n)]),ke=1/0;break}t.maxAge&&S.length===t.maxAge&&be(1),$===S.length-1&&$++;var Jt=_++;g[Jt]=l,ke=(S=[].concat((0,A.A)(S),[Jt])).length-1;break;case Ky:var en=l.nextLiftedState;p=en.monitorState,g=en.actionsById,_=en.nextActionId,S=en.stagedActionIds,I=en.skippedActionIds,B=en.committedState,$=en.currentStateIndex,Y=en.computedStates,le=en.isLocked,ge=en.isPaused;break;case Pd:ke=0,t.maxAge&&S.length>t.maxAge&&(Y=em(Y,ke,s,B,g,S,I,n,ge),be(S.length-t.maxAge),ke=1/0);break;case mm:if(Y.filter(function(Hn){return Hn.error}).length>0)ke=0,t.maxAge&&S.length>t.maxAge&&(Y=em(Y,ke,s,B,g,S,I,n,ge),be(S.length-t.maxAge),ke=1/0);else{if(!ge&&!le){$===S.length-1&&$++;var Wr=_++;g[Wr]=new Qf(l,+Date.now()),S=[].concat((0,A.A)(S),[Wr]),Y=em(Y,ke=S.length-1,s,B,g,S,I,n,ge)}Y=Y.map(function(Hn){return(0,v.A)((0,v.A)({},Hn),{},{state:s(Hn.state,MK)})}),$=S.length-1,t.maxAge&&S.length>t.maxAge&&be(S.length-t.maxAge),ke=1/0}break;default:ke=1/0}return Y=em(Y,ke,s,B,g,S,I,n,ge),{monitorState:p=e(p,l),actionsById:g,nextActionId:_,stagedActionIds:S,skippedActionIds:I,committedState:B,currentStateIndex:$,computedStates:Y,isLocked:le,isPaused:ge}}}}(p,S,d,g.monitor,g),B=(0,G.h)((0,G.h)(t.asObservable().pipe((0,ec.i)(1)),u.actions$).pipe((0,fe.T)(Sd)),e,u.liftedActions$).pipe((0,l0.Q)(u0)),$=s.pipe((0,fe.T)(I)),Y=wE(g.connectInZone),le=new Sf.m(1);this.liftedStateSubscription=B.pipe(oi($),IE(Y),(0,kd.S)(function(me,ke){var qe=me.state,ct=(0,k.A)(ke,2),it=ct[0],Rt=(0,ct[1])(qe,it);return it.type!==xd&&EE(g)&&(Rt=function TK(o,r,n,e){var t=[],s={},u=[];return o.stagedActionIds.forEach(function(l,d){var p=o.actionsById[l];p&&(d&&qy(o.computedStates[d],p,r,n,e)||(s[l]=p,t.push(l),u.push(o.computedStates[d])))}),(0,v.A)((0,v.A)({},o),{},{stagedActionIds:t,actionsById:s,computedStates:u})}(Rt,g.predicate,g.actionsSafelist,g.actionsBlocklist)),u.notify(it,Rt),{state:Rt,action:it}},{state:S,action:null})).subscribe(function(me){var qe=me.action;le.next(me.state),qe.type===xd&&l.next(qe.action)}),this.extensionStartSubscription=u.start$.pipe(IE(Y)).subscribe(function(){_.refresh()});var ge=le.asObservable(),be=ge.pipe((0,fe.T)(CE));Object.defineProperty(be,"state",{value:(0,rm.toSignal)(be,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=ge,this.state=be},[{key:"ngOnDestroy",value:function(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}},{key:"dispatch",value:function(t){this.dispatcher.next(t)}},{key:"next",value:function(t){this.dispatcher.next(t)}},{key:"error",value:function(t){}},{key:"complete",value:function(){}},{key:"performAction",value:function(t){this.dispatch(new Qf(t,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new vK)}},{key:"reset",value:function(){this.dispatch(new yK(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new _K(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new bK(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new AK)}},{key:"toggleAction",value:function(t){this.dispatch(new CK(t))}},{key:"jumpToAction",value:function(t){this.dispatch(new SK(t))}},{key:"jumpToState",value:function(t){this.dispatch(new xK(t))}},{key:"importState",value:function(t){this.dispatch(new EK(t))}},{key:"lockChanges",value:function(t){this.dispatch(new DK(t))}},{key:"pauseRecording",value:function(t){this.dispatch(new wK(t))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Yf),a.\u0275\u0275inject(xo),a.\u0275\u0275inject(mc),a.\u0275\u0275inject(FE),a.\u0275\u0275inject(Qo),a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(Id),a.\u0275\u0275inject(Xf))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}();function IE(o){var r=o.ngZone,n=o.connectInZone;return function(e){return n?new L.c(function(t){return e.subscribe({next:function(u){return r.run(function(){return t.next(u)})},error:function(u){return r.run(function(){return t.error(u)})},complete:function(){return r.run(function(){return t.complete()})}})}):e}}var OK=new a.InjectionToken("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function BK(o,r){return!!o||r.monitor!==bE}function LK(){var o="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[o]<"u"?window[o]:null}function jK(o){return o.state}function UK(){return(0,a.makeEnvironmentProviders)([FE,Yf,PE,{provide:_E,useValue:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},{provide:OK,deps:[Wy,Xf],useFactory:BK},{provide:Wy,useFactory:LK},{provide:Xf,deps:[_E],useFactory:kK},{provide:gm,deps:[PE],useFactory:jK},{provide:fm,useExisting:Yf}])}var GK=function(){var o,r=function(){function n(){(0,h.A)(this,n)}return(0,m.A)(n,null,[{key:"instrument",value:function(){return{ngModule:n,providers:[UK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({}),r}(),qi=b(37273),zK={router:function A5(o,r){var n=r;switch(n.type){case Gv:case $v:case zv:return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return o}}},$K=[],TE=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.query=r.query)}),HK=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.settings$=new R.t(void 0),this.formGroup=this.fb.group({query:this.fb.control("",[f.Validators.required])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?new TE(s.attributeSerializer.deserializeAsObject(u)):void 0})).subscribe(function(u){u?s.formGroup.get("query").setValue(u.query):s.formGroup.get("query").setValue("")}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-select-source-form"]],inputs:{settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","required",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),a.\u0275\u0275text(3,"Query"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"input",1),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),KK=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-transform-select"]],inputs:{settings:"settings"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-select-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,HK],encapsulation:2}),r}(),qK=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"ngOnInit",value:function(){}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-transform-merge"]],standalone:!1,decls:2,vars:0,template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"transform merge"),a.\u0275\u0275elementEnd())},encapsulation:2}),r}(),WK=function(r){return new mo({id:"select",title:"Select",editor:KK,fetch:function(e){var t=e.settings,s=e.dataset;return tr(function(){return!!s},(0,Te.of)(s).pipe((0,fe.T)(function(){return new TE(r.deserializeAsObject(t))}),(0,fe.T)(function(u){return new Un({results:(0,Uo.JSONPath)({path:u.query,json:s.results})})})),(0,Te.of)(new Un))}})},XK=function(){var o,r=(0,m.A)(function n(e,t){(0,h.A)(this,n),[WK(t),new mo({id:"merge",title:"Merge",editor:qK,fetch:function(n){return(0,Te.of)(new Un)}})].forEach(function(s){return e.register(s)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,Eu]}),r}(),YK=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.fb=e,this.attributeSerializer=t,this.contexts=[],this.settings$=new R.t(void 0),this.paramValues$=new R.t([]),this.formGroup=this.fb.group({entityName:this.fb.control(""),queryString:this.fb.control(""),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,fe.T)(function(u){return u?s.attributeSerializer.deserializeAsObject(u):void 0})).subscribe(function(u){u?(s.formGroup.get("entityName").setValue(u.entityName),s.formGroup.get("queryString").setValue(u.queryString)):(s.formGroup.get("entityName").setValue(""),s.formGroup.get("queryString").setValue(""))}),this.queryStringChangeSub=this.formGroup.get("queryString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(u){var l=Ya.parse("?"+u);s.paramsParsed=l}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-entity-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:8,vars:4,consts:[[3,"formGroup"],["matInput","","placeholder","Name","formControlName","entityName","required",""],["matInput","","placeholder","Query String","formControlName","queryString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"div")(5,"mat-form-field"),a.\u0275\u0275element(6,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(7,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(7),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),RE=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-entity-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-entity-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,YK],encapsulation:2}),r}(),ME=(0,m.A)(function o(r){(0,h.A)(this,o),this.params=[],r&&(this.entityName=r.entityName,this.queryString=r.queryString?r.queryString:"",r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),eq=function(){var o,r=(0,m.A)(function n(e,t,s,u,l,d){(0,h.A)(this,n),e.register(function(r,n,e,t){return new mo({id:"entity",title:"Entity",editor:RE,fetch:function(u){var l=u.settings,d=u.metadata;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return n.deserializeAsObject(l)}),(0,fe.T)(function(p){return new ME(p)}),(0,We.n)(function(p){return e.getUrl("?"+p.queryString,p.params,d).pipe((0,fe.T)(function(g){return{e:p,queryString:g}}))}),(0,fe.T)(function(p){return{e:p.e,queryString:p.queryString.substr(1)}}),(0,We.n)(function(p){var g=p.e,_=p.queryString;return _&&""!==_?t.getEntityCollectionService(g.entityName).getWithQuery(_):t.getEntityCollectionService(g.entityName).getAll()}),(0,fe.T)(function(p){return new Un({results:p})}))},editorOptions:function(){return(0,Te.of)(new xf({fullscreen:!0}))},getBindings:function(u){var l=u.settings;return(0,Te.of)([]).pipe((0,fe.T)(function(){return n.deserializeAsObject(l)}),(0,fe.T)(function(p){return new ME(p)}),(0,We.n)(function(p){return r.extractContexts(p.params)}),(0,fe.T)(function(p){return p.map(function(g){return new Xt.ContentBinding({id:g,type:"context"})})}))}})}(s,u,l,d)),t.register(new hx({id:"entity",title:"Entity",editor:RE,send:function(n){return(0,Te.of)(new ny({}))}}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(Ef),a.\u0275\u0275inject(ty),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ed),a.\u0275\u0275inject(yr))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,f.FormsModule,pa.MaterialModule,Gl,ds]}),r}(),tq=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new R.t(void 0),this.datasource$=new R.t(void 0),this.formGroup=this.fb.group({}),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-loop-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"div",0),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.NgControlStatusGroup,f.FormGroupDirective],encapsulation:2}),r}(),nq=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-loop-datasource"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-loop-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,tq],encapsulation:2}),r}(),rq=(0,m.A)(function o(r){(0,h.A)(this,o)}),aq=function(r,n){return new mo({id:"loop",title:"loop",editor:nq,fetch:function(t){var s=t.settings,u=t.dataset,l=t.datasource,d=t.metadata,p=t.datasources;return(0,Te.of)(new Un).pipe((0,fe.T)(function(){return r.deserializeAsObject(s)}),(0,fe.T)(function(g){return g?new rq(g):void 0}),(0,We.n)(function(g){return(0,An.p)(u?u.results.map(function(_){return n.evalDatasource({datasource:new Su({plugin:"data",renderer:l.renderer,settings:r.serialize({data:JSON.stringify(u.results)},"root").attributes}),datasources:p,metadata:new Map([].concat((0,A.A)(d?Array.from(d).filter(function(S){return"contexts"!==(0,k.A)(S,1)[0]}):[]),[["contexts",[].concat((0,A.A)(d.has("contexts")&&Array.isArray(d.get("contexts"))?d.get("contexts").filter(function(S){return"_root"!==S.name}):[]),[new Ia({name:"_root",adaptor:"data",data:_})])]]))}).pipe((0,pn.s)(1))}):[]).pipe((0,fe.T)(function(_){return new Un({results:_.reduce(function(S,I){return[].concat((0,A.A)(S),(0,A.A)(I.results))},[])})}),(0,qr.U)(new Un({results:[]})))}))}})},iq=function(){var o,r=(0,m.A)(function n(e,t,s){(0,h.A)(this,n),[aq(t,s)].forEach(function(u){return e.register(u)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ti),a.\u0275\u0275inject(_t.AttributeSerializerService),a.\u0275\u0275inject(ux))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.ReactiveFormsModule,pa.MaterialModule,Gl,Eu]}),r}();function oq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",6),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value.id),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.value.title)}}function sq(o,r){}function uq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"druid-ordain-validation-validator",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var u=a.\u0275\u0275restoreView(n).index,l=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(l.deleteValidator$.next(u))}),a.\u0275\u0275text(3,"Delete"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.index,t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("formControlName",e)("validation",t.validation$.value.validators[e])}}var $o=function(o){function r(n){var e;return(0,h.A)(this,r),e=(0,F.A)(this,r,[n]),n&&(e.editor=n.editor,e.errorMessage=n.errorMessage,e.builder=n.builder),e}return(0,w.A)(r,o),(0,m.A)(r)}(an.Plugin),lq=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.name=r.name,this.validator=r.validator,this.overrideErrorMessage=r.overrideErrorMessage,r.paramSettings&&"string"!=typeof r.paramSettings&&(this.paramSettings=new cq(r.paramSettings)))}),cq=(0,m.A)(function o(r){(0,h.A)(this,o),this.params=[],r&&(this.paramsString=r.paramsString,r.params&&Array.isArray(r.params)&&(this.params=r.params.map(function(n){return new ma(n)})))}),Ed=(0,m.A)(function o(r){(0,h.A)(this,o),r&&Array.isArray(r.validators)&&(this.validators=r.validators.map(function(n){return new lq(n)}))}),NE=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.viewContainerRef=e});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","druidValidationRendererHost",""]],standalone:!1}),r}(),dq=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.fb=e,this.contexts=[],this.settings$=new R.t(void 0),this.afterViewInit$=new T.B,this.paramValues$=new R.t([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ln.B)(500)).subscribe(function(s){var u=Ya.parse("?"+s);t.paramsParsed=u}),this.settingsSub=this.settings$.pipe((0,q.M)(function(s){s&&t.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,zn.z)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,z.p)(function(s){return void 0!==(0,k.A)(s,1)[0]}),(0,dr.c)(1),(0,q.M)(function(s){var u=(0,k.A)(s,1);return t.paramValues$.next(u[0].params)})).subscribe(),this.onTouched=function(){}},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:this.formGroup.errors}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-params-editor-form"]],inputs:{contexts:"contexts",settings:"settings"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(5,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",t.paramsParsed)("paramValues",t.paramValues$.value)("contexts",t.contexts))},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,Jc],encapsulation:2}),r}(),Ho=function(){var o,r=(0,m.A)(function n(e){(0,h.A)(this,n),this.controlContainer=e,this.settings=[],this.contexts=[]});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-params-editor"]],inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","paramSettings",3,"settings","contexts"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"druid-ordain-validation-params-editor-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("settings",t.settings)("contexts",t.contexts))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,dq],encapsulation:2}),r}(),pq=function(){return(0,m.A)(function o(r,n){(0,h.A)(this,o),this.pluginManager=r,this.formsValidationUtils=n},[{key:"loadPlugins",value:function(n){var e=this;return(0,Te.of)(!1).pipe((0,q.M)(function(){return e.pluginManager.register(e.makeRequired())}),(0,q.M)(function(){return e.pluginManager.register(e.makeRequiredTrue())}),(0,q.M)(function(){e.pluginManager.register(e.makeMin()),e.pluginManager.register(e.makeMax()),e.pluginManager.register(e.makeMinLength()),e.pluginManager.register(e.makeMaxLength())}),(0,fe.T)(function(){return e.pluginManager.register(e.makeEmail())}),(0,fe.T)(function(){return e.pluginManager.register(e.makePattern())}),(0,fe.T)(function(){return e.pluginManager.register(e.nullValidator())}),(0,fe.T)(function(){return!0}))}},{key:"makeRequired",value:function(){var n=this;return new $o({id:"required",title:"Required",errorMessage:"Field is required",editor:Ho,builder:function(t){var s=t.serialized;return(0,Te.of)(function(u){return(0,Te.of)(f.Validators.required(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeRequiredTrue",value:function(){var n=this;return new $o({id:"required_true",title:"Required True",errorMessage:"Field is required",editor:Ho,builder:function(t){var s=t.serialized;return(0,Te.of)(function(u){return(0,Te.of)(f.Validators.requiredTrue(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeEmail",value:function(){var n=this;return new $o({id:"email",title:"Email",errorMessage:"Invalid email",editor:Ho,builder:function(t){var s=t.serialized;return(0,Te.of)(function(u){return(0,Te.of)(f.Validators.email(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"nullValidator",value:function(){var n=this;return new $o({id:"null",title:"Null",errorMessage:"nota",editor:Ho,builder:function(t){var s=t.serialized;return(0,Te.of)(function(u){return(0,Te.of)(f.Validators.nullValidator(n.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeMin",value:function(){var n=this;return new $o({id:"min",title:"Min",errorMessage:"Field min [.min]",editor:Ho,builder:function(t){var s=t.v,u=t.serialized;return(0,Te.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.min(+d.min)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMax",value:function(){var n=this;return new $o({id:"max",title:"Max",errorMessage:"Field max [.max]",editor:Ho,builder:function(t){var s=t.v,u=t.serialized;return(0,Te.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.max(+d.max)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMinLength",value:function(){var n=this;return new $o({id:"min_length",title:"Min Length",errorMessage:"minimum of [.min] characters",editor:Ho,builder:function(t){var s=t.v,u=t.serialized;return(0,Te.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.minLength(+d.minLength)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMaxLength",value:function(){var n=this;return new $o({id:"max_length",title:"Max Length",errorMessage:"Maximum of [.max] characters",editor:Ho,builder:function(t){var s=t.v,u=t.serialized;return(0,Te.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.maxLength(+d.maxLength)(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makePattern",value:function(){var n=this;return new $o({id:"pattern",title:"Pattern",errorMessage:"Must match pattern",editor:Ho,builder:function(t){var s=t.v,u=t.serialized;return(0,Te.of)(function(l){return n.formsValidationUtils.resolveParams({v:s}).pipe((0,fe.T)(function(d){return f.Validators.pattern(new RegExp(d.pattern))(n.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}}])}(),fq=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.paramEvaluatorService=e,this.attributesSerializerService=t},[{key:"resolveParams",value:function(t){var s=this,u=t.v;return(0,Te.of)({}).pipe((0,fe.T)(function(){return{paramNames:u.paramSettings.paramsString?u.paramSettings.paramsString.split("&").filter(function(l){return-1!==l.indexOf("=:")}).map(function(l){return l.split("=",2)[1].substr(1)}):[]}}),(0,We.n)(function(l){var d=l.paramNames;return s.paramEvaluatorService.paramValues(u.paramSettings.params.reduce(function(p,g,_){return new Map([].concat((0,A.A)(p),[[d[_],g]]))},new Map)).pipe((0,fe.T)(function(p){return Array.from(p).reduce(function(g,_){var S=(0,k.A)(_,2),I=S[0],B=S[1];return(0,v.A)((0,v.A)({},g),{},(0,c.A)({},I,B))},{})}))}))}},{key:"rebuildControl",value:function(t){var s=t.c;return t.serialized?new f.UntypedFormControl(this.attributesSerializerService.deserializeAsObject(s.value).value):s}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(po),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),ei=function(){var o,r=function(n){function e(t,s,u){var l;return(0,h.A)(this,e),(l=(0,F.A)(this,e,[s,u])).addDiscovery(new pq(l,t)),l}return(0,w.A)(e,n),(0,m.A)(e,[{key:"pluginDef",value:function(){return(0,Te.of)(new an.PluginDef({name:"validation"}))}},{key:"discovery",value:function(){(0,Ne.A)(e,"discovery",this,3)([])}}])}(an.BasePluginManager);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(fq),a.\u0275\u0275inject(an.PluginConfigurationManager),a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),mq=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.fb=e,this.vpm=t,this.componentFactoryResolver=s,this.contexts=[],this.settings$=new R.t(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[f.Validators.required]),validator:this.fb.control("",[f.Validators.required]),overrideErrorMessage:this.fb.control(""),paramSettings:this.fb.control("")}),this.validationPlugins$=this.vpm.getPlugins(),this.componentRef$=new R.t(void 0),this.afterViewInit$=new T.B,this.onInit$=new T.B,this.validation$=new R.t(void 0),this.validatorChangeSub=this.formGroup.get("validator").valueChanges.pipe((0,q.M)(function(l){console.log("validator change",l)})).subscribe(),this.validatorSub=(0,zn.z)([this.formGroup.get("validator").valueChanges,this.afterViewInit$]).pipe((0,fe.T)(function(l){return(0,k.A)(l,1)[0]}),(0,We.n)(function(l){return l&&""!==l?u.vpm.getPlugin(l):(0,Te.of)(void 0)}),(0,q.M)(function(l){l&&u.renderValidation(l)})).subscribe(),this.validationSub=this.validation$.pipe((0,q.M)(function(l){l?(u.formGroup.get("name").setValue(l.name),u.formGroup.get("validator").setValue(l.validator),u.formGroup.get("overrideErrorMessage").setValue(l.overrideErrorMessage),setTimeout(function(){return u.formGroup.get("paramSettings").setValue(l.paramSettings)})):(u.formGroup.get("name").setValue(""),u.formGroup.get("overrideErrorMessage").setValue(""),u.formGroup.get("validator").setValue(""))})).subscribe(),this.contextForwardingSub=this.componentRef$.pipe((0,z.p)(function(l){return!!l})).subscribe(function(l){l.instance.contexts=u.contexts,l.instance.settings=u.validation$.value?u.validation$.value.paramSettings:void 0}),this.onTouched=function(){}},[{key:"validation",set:function(t){this.validation$.next(t)}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0),this.onInit$.complete()}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue((0,v.A)((0,v.A)({},t),{},{settings:t.settings?t.settings:""}),{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"renderValidation",value:function(t){var s=this.componentFactoryResolver.resolveComponentFactory(t.editor),u=this.validationHost.viewContainerRef;u.clear(),this.componentRef$.next(u.createComponent(s))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-validator"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(NE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.validationHost=s.first)},inputs:{contexts:"contexts",validation:"validation"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:19,vars:6,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","name"],["required","","formControlName","validator"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","overrideErrorMessage"],["druidValidationRendererHost",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field")(7,"mat-label"),a.\u0275\u0275text(8,"Validator"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-select",2),a.\u0275\u0275template(10,oq,2,2,"mat-option",3),a.\u0275\u0275pipe(11,"async"),a.\u0275\u0275pipe(12,"keyvalue"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"mat-form-field")(14,"mat-label"),a.\u0275\u0275text(15,"Error Message"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(16,"input",4),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementContainerStart(17),a.\u0275\u0275template(18,sq,0,0,"ng-template",5),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(12,4,a.\u0275\u0275pipeBind1(11,2,t.validationPlugins$))))},dependencies:[y.NgForOf,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,Sr.MatOption,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,NE,y.AsyncPipe,y.KeyValuePipe],encapsulation:2}),r}(),gq=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.fb=e,this.formGroup=this.fb.group({validators:this.fb.array([])}),this.addValidator$=new T.B,this.deleteValidator$=new T.B,this.afterViewInit$=new T.B,this.validation$=new R.t(new Ed({validators:[]})),this.addValidatorSub=this.addValidator$.pipe((0,q.M)(function(){t.validators.push(t.fb.control(""))})).subscribe(),this.deleteValidatorSub=this.deleteValidator$.pipe((0,q.M)(function(s){t.validation$.value.validators.splice(s,1),t.validators.removeAt(s)})).subscribe(),this.validationSub=(0,zn.z)([this.validation$,this.afterViewInit$]).pipe((0,fe.T)(function(s){return(0,k.A)(s,1)[0]}),(0,z.p)(function(s){return 0!==s.validators.length}),(0,q.M)(function(s){t.validators.clear(),s.validators.forEach(function(u,l){t.validators.push(t.fb.control(""))})})).subscribe(),this.onTouched=function(){}},[{key:"validation",set:function(t){this.validation$.next(t)}},{key:"validators",get:function(){return this.formGroup.get("validators")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-editor"]],inputs:{validation:"validation"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","validators"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","validation"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1),a.\u0275\u0275template(2,uq,4,2,"div",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.addValidator$.next(void 0)}),a.\u0275\u0275text(4,"Add Validator"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.validators.controls))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,mq],encapsulation:2}),r}(),hq=function(){var o,r=function(){return(0,m.A)(function n(e,t){var s=this;(0,h.A)(this,n),this.vpm=e,this.tokenizerService=t,this.validators$=new R.t([]),this.errors$=new R.t(null),this.message$=new R.t("Field is invalid"),this.resolvedContext$=new R.t(void 0),this.messageSub=(0,zn.z)([this.validators$,this.errors$,this.resolvedContext$]).pipe((0,z.p)(function(u){var p=(0,k.A)(u,2)[1];return null!==p&&0!==Object.keys(p).length}),(0,fe.T)(function(u){var l=(0,k.A)(u,2),d=l[0],p=l[1],g=Object.keys(p),S=(0,k.A)(g,1)[0],I=d.find(function(B){return B.validator===S});return{k:S,v:I,e:p[S]}}),(0,We.n)(function(u){var l=u.k,d=u.v,p=u.e;return s.vpm.getPlugin(d.validator).pipe((0,fe.T)(function(g){return{k:l,v:d,p:g,e:p}}))}),(0,We.n)(function(u){var l=u.k,d=u.v,p=u.p;return s.resolveContexts({errors:u.e}).pipe((0,fe.T)(function(_){return{k:l,v:d,p,t:_}}))}),(0,q.M)(function(u){var p=u.v,g=s.replaceTokens({message:p.overrideErrorMessage&&""!==p.overrideErrorMessage?p.overrideErrorMessage:u.p.errorMessage,tokens:u.t});s.message$.next(g)})).subscribe()},[{key:"validators",set:function(t){this.validators$.next(t)}},{key:"errors",set:function(t){this.errors$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"replaceTokens",value:function(t){var s=t.message,u=t.tokens;return void 0!==u&&u.forEach(function(l,d){s=s.split("[".concat(d,"]")).join("".concat(l))}),s}},{key:"resolveContexts",value:function(t){var s=this,u=t.errors;return new L.c(function(l){var d=new Map(s.tokenizerService.generateGenericTokens(u,""));if(s.resolvedContext$.value)for(var p in s.resolvedContext$.value)d=new Map([].concat((0,A.A)(d),(0,A.A)(s.tokenizerService.generateGenericTokens(s.resolvedContext$.value[p],"_root"===p?"":p))));l.next(d),l.complete()})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(Qn))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-default-validation-error"]],inputs:{validators:"validators",errors:"errors",resolvedContext:"resolvedContext"},standalone:!1,decls:1,vars:1,template:function(e,t){1&e&&a.\u0275\u0275text(0),2&e&&a.\u0275\u0275textInterpolate(t.message$.value)},encapsulation:2}),r}(),VE=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,ds]}),r}(),OE=b(84517),vq=b(69989),Qy=b(43233);function yq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275element(1,"druid-ordain-default-validation-error",2),a.\u0275\u0275elementEnd()),2&o){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("validators",null==n.formSettings$.value||null==n.formSettings$.value.validation?null:n.formSettings$.value.validation.validators)("errors",n.formControl.errors)("resolvedContext",n.resolvedContext$.value)}}function _q(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function bq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"classifieds-ui-render-pane",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){var l=a.\u0275\u0275restoreView(n).index,d=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(d.remove$.next(l))}),a.\u0275\u0275text(3,"Remove"),a.\u0275\u0275elementEnd()()}if(2&o){var e=r.$implicit,t=r.index,s=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("formControlName",t)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("contexts",e.contexts)("panes",s.panes)("resolvedContext",e.resolvedContext)("indexPosition",t)("ancestory",s.ancestory)}}function Aq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",9),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n)}}function Cq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-radio-button",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n.value),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function xq(o,r){if(1&o&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&o){var n=r.$implicit;a.\u0275\u0275property("value",n),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate(n.label)}}function Sq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",4),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemove(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("file",e)("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function Eq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-video-preview",4),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemove(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("file",e)("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function Dq(o,r){if(1&o){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-preview",5),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(n);var s=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.onRemove(s))}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()()}if(2&o){var e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function wq(o,r){if(1&o&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Sq,3,4,"ngx-dropzone-image-preview",2)(2,Eq,3,4,"ngx-dropzone-video-preview",2)(3,Dq,3,3,"ngx-dropzone-preview",3),a.\u0275\u0275elementContainerEnd()),2&o){var n=r.$implicit,e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.isType(n,"image")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",e.isType(n,"video")),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!e.isType(n,"image")&&!e.isType(n,"video"))}}var Xy=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.value=r.value?r.value:"",r.datasourceBinding&&"object"==typeof r.datasourceBinding&&(this.datasourceBinding=new Xt.ContentBinding(r.datasourceBinding)),r.datasourceOptions&&"object"==typeof r.datasourceOptions&&(this.datasourceOptions=new ax(r.datasourceOptions)),r.validation&&(this.validation=new Ed(r.validation)))}),Fq=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.valuesMapping=r.valuesMapping)}),Mi=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.tokenizerService=e,this.datasourceContentHandler=t,this.panelResolver=s,this.attributeSerializer=u},[{key:"resolveElementOptions",value:function(t,s){var u=this;return(0,Te.of)(t).pipe((0,We.n)(function(l){if(l.datasourceBinding&&l.datasourceBinding.id&&""!==l.datasourceBinding.id){var d=s.has("panes")?s.get("panes").find(function(p){return p.name===l.datasourceBinding.id}):void 0;return u.panelResolver.dataPanes(s.get("panes")).pipe((0,We.n)(function(p){return d?u.datasourceContentHandler.fetchDynamicData(d.settings,new Map([].concat((0,A.A)(s),[["dataPanes",p]]))):(0,Te.of)([])}),(0,fe.T)(function(p){return[l,p.results]}))}return(0,Te.of)([l,[]])}),(0,fe.T)(function(l){var d=(0,k.A)(l,2),p=d[0],g=d[1];return[p,p.datasourceOptions&&""!==p.datasourceOptions.query?(0,Uo.JSONPath)({path:p.datasourceOptions.query,json:g}):g]}),(0,We.n)(function(l){var d=(0,k.A)(l,2);return u.mapDataOptions(d[0],d[1])}))}},{key:"mapDataOptions",value:function(t,s){var u=this;return(0,Te.of)([t,s]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,2),g=d[1];return[d[0],g,g?g.map(function(_){return u.tokenizerService.generateGenericTokens(_)}):[]]}),(0,fe.T)(function(l){var d=(0,k.A)(l,3),p=d[0];return d[2].map(function(S){return u.mapDataItem(p,S)})}))}},{key:"mapDataItem",value:function(t,s){return new ox({value:this.tokenizerService.replaceTokens("".concat(t.datasourceOptions.valueMapping),s),label:this.tokenizerService.replaceTokens("".concat(t.datasourceOptions.labelMapping),s),dataItem:void 0})}},{key:"hasDataOptions",value:function(t){return t.datasourceBinding&&t.datasourceBinding.id&&""!==t.datasourceBinding.id}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Qn),a.\u0275\u0275inject(hy),a.\u0275\u0275inject(by),a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Ni=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.tokenizerService=e,this.cachedResolvedContexts=[],this.scheduleResolution$=new T.B,this.scheduleResolutionSub=this.scheduleResolution$.pipe((0,q.M)(function(s){var u=s.resolvedContext,l=s.index,d=new Map;if(u)for(var p in u)u[p]instanceof hs||(d=new Map([].concat((0,A.A)(d),(0,A.A)(t.tokenizerService.generateGenericTokens(u[p],"_root"===p?"":p)))));t.cachedResolvedContexts[l].resolution$.next(d)})).subscribe()},[{key:"resolveContexts",value:function(t){var s=t.resolvedContext,u=this.cachedResolvedContexts.findIndex(function(l){return 0===(0,ry.getDiff)(l.rContext,s).length});return-1===u?(console.log("resolved context no cache",s),u=this.cachedResolvedContexts.length,this.cachedResolvedContexts.push({rContext:s,resolution$:new Sf.m}),this.scheduleResolution$.next({resolvedContext:s,index:u})):console.log("resolved context cache hit",s),this.cachedResolvedContexts[u].resolution$.pipe((0,pn.s)(1))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Qn))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Wi=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l,d){var p=this;(0,h.A)(this,n),this.attributeSerializer=e,this.optionsResolver=t,this.tokenizerService=s,this.formsContextHelper=u,this.vpm=l,this.controlContainer=d,this.formControl=new f.UntypedFormControl(""),this.formControlValueChangesSub=this.formControl.valueChanges.pipe((0,q.M)(function(g){return console.log("serialized form value",p.attributeSerializer.serialize(g,"value"))}),(0,q.M)(function(g){return p.controlContainer.control.get("settings").setValue([p.attributeSerializer.serialize(g,"value")])})).subscribe(),this.formSettings$=new R.t(void 0),this.settings$=new R.t([]),this.options$=new R.t([]),this.init$=new T.B,this.afterViewInit$=new T.B,this.panes$=new R.t([]),this.originPanes$=new R.t([]),this.contexts$=new R.t([]),this.resolvedContext$=new R.t(void 0),this.value$=new T.B,this.settingsSub=this.settings$.pipe((0,fe.T)(function(g){return g?p.settingsToObject(p.attributeSerializer.deserializeAsObject(g)):void 0}),(0,q.M)(function(g){return p.formSettings$.next(g)})).subscribe(),this.loadOptionsSub=(0,zn.z)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe((0,fe.T)(function(g){var _=(0,k.A)(g,4),I=_[1],B=_[2],$=_[3];return{settings:_[0],metadata:new Map([["panes",[].concat((0,A.A)(I&&Array.isArray(I)?I:[]),(0,A.A)(B&&Array.isArray(B)?B:[]))],["contexts",$]])}}),(0,We.n)(function(g){return p.optionsResolver.resolveElementOptions(g.settings,g.metadata)}),(0,q.M)(function(g){return p.options$.next(g)})).subscribe(),this.renderContentSub=(0,zn.z)([this.formSettings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,fe.T)(function(g){var _=(0,k.A)(g,2);return{settings:_[0],resolvedContext:_[1]}}),(0,We.n)(function(g){var _=g.settings;return p.formsContextHelper.resolveContexts({resolvedContext:g.resolvedContext}).pipe((0,fe.T)(function(I){return{settings:_,tokens:I}}))}),(0,We.n)(function(g){var _=g.settings,S=g.tokens;return(0,An.p)(_.validation&&_.validation.validators?_.validation.validators.map(function(I){return p.vpm.getPlugin(I.validator).pipe((0,We.n)(function(B){return B.builder({v:I,serialized:!1}).pipe((0,fe.T)(function($){return{v:I,vf:$}}))}))}):[]).pipe((0,fe.T)(function(I){return{settings:_,tokens:S,validators:I}}),(0,qr.U)({settings:_,tokens:S,validators:[]}))}),(0,We.n)(function(g){var _=g.settings,S=g.tokens,I=g.validators;return(0,An.p)(_.validation&&_.validation.validators?_.validation.validators.map(function(B){return p.vpm.getPlugin(B.validator).pipe((0,We.n)(function($){return $.builder({v:B,serialized:!0}).pipe((0,fe.T)(function(Y){return{v:B,vf:Y}}))}))}):[]).pipe((0,fe.T)(function(B){return{settings:_,tokens:S,validators:I,validatorsSerialized:B}}),(0,qr.U)({settings:_,tokens:S,validators:I,validatorsSerialized:[]}))}),(0,q.M)(function(g){var _=g.settings,S=g.tokens,B=g.validatorsSerialized;if(p.formControl.setAsyncValidators(g.validators.map(function(it){return it.vf})),p.controlContainer.control.get("settings").setAsyncValidators(B.map(function(it){return it.vf})),p.formControl.updateValueAndValidity(),p.controlContainer.control.updateValueAndValidity(),void 0!==S&&(p.tokens=S),_.value&&null!==_.value&&""!==_.value){(-1!==_.value.indexOf(".$i.")||-1!==_.value.indexOf(".$j.")||-1!==_.value.indexOf(".$k."))&&console.log(_.value,p.ancestory);var $=_.value.split("$i"),Y=$.map(function(it,dt){return p.ancestory[1*dt+(3+(0===dt?0:3))]}),le=$.reduce(function(it,dt,Rt){return[].concat((0,A.A)(it),[0===Rt?"":Rt-1<Y.length?"".concat(Y[Rt-1]):"",dt])},[]).join("");console.log("path",le);var ge=p.replaceTokens(le);p.formControl.setValue(ge);var be=p.tokenizerService.discoverTokens(ge,!0);if(0!==be.length)if(be[0].trim().lastIndexOf(".id")===be[0].trim().length-3){var me=cr();p.formControl.setValue(me),p.value$.next(me)}else{var ke=Array.from(S).filter(function(it){return 0===(0,k.A)(it,1)[0].indexOf(le.substr(1,le.length-2))});if(0!==ke.length){var qe=ke.reduce(function(it,dt){var Rt=(0,k.A)(dt,2),Lt=Rt[0],ft=Rt[1];return(0,v.A)((0,v.A)({},it),{},(0,c.A)({},Lt.substr(Lt.lastIndexOf(".")+1),ft))},{});p.formControl.setValue(qe),p.value$.next(qe)}else{var ct=p.tokenizerService.replaceTokens(_.value,new Map(Array.from(be).map(function(it){return[it,""]})));p.formControl.setValue(ct),p.value$.next(ct)}}else p.value$.next(ge)}else p.formControl.setValue("")}),(0,pn.s)(1)).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"panes",set:function(t){this.panes$.next(t)}},{key:"originPanes",set:function(t){this.originPanes$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"settingsToObject",value:function(t){return new Xy(t)}},{key:"replaceTokens",value:function(t){return void 0!==this.tokens&&this.tokens.forEach(function(s,u){t=t.split("[".concat(u,"]")).join("".concat(s))}),t}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275dir=a.\u0275\u0275defineDirective({type:o,selectors:[["","druid-forms-form-element-base",""]],inputs:{tokens:"tokens",settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",resolvedContext:"resolvedContext",ancestory:"ancestory"},standalone:!1}),r}(),kq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-input"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matInput","",3,"formControl"],[4,"ngIf"],[3,"validators","errors","resolvedContext"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275element(1,"input",0),a.\u0275\u0275template(2,yq,2,3,"mat-error",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.formControl.invalid))},dependencies:[y.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,jt.MatInput,jt.MatFormField,jt.MatError,hq],encapsulation:2}),r}(),Pq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-select"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",0),a.\u0275\u0275template(2,_q,2,2,"mat-option",1),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275advance(),a.\u0275\u0275property("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,2,t.options$)))},dependencies:[y.NgForOf,f.NgControlStatus,f.FormControlDirective,Sr.MatOption,jt.MatFormField,fa.MatSelect,y.AsyncPipe],encapsulation:2}),r}(),Iq=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.attributeSerializer=e,this.fb=t,this.controlContainer=s,this.panes=[],this.originMappings=[],this.ancestory=[],this.add$=new T.B,this.remove$=new T.B,this.panes$=new R.t([]),this.settings$=new T.B,this.resolvedContext$=new T.B,this.panel$=new T.B,this.afterViewInit$=new T.B,this.addSub=this.add$.pipe((0,fe.T)(function(){return new Er(u.panes[0])}),(0,q.M)(function(){return u.panesFormArray.push(u.fb.control(""))}),(0,q.M)(function(l){return u.panes.push(l)})).subscribe(),this.removeSub=this.remove$.pipe((0,q.M)(function(l){return u.panesFormArray.removeAt(l)}),(0,q.M)(function(l){return u.panes.splice(l,1)})).subscribe(),this.populateDefaultValues=(0,zn.z)([this.settings$.pipe((0,fe.T)(function(l){return l?new Fq(u.attributeSerializer.deserializeAsObject(l)):void 0})),this.resolvedContext$,this.panel$,this.afterViewInit$]).pipe((0,fe.T)(function(l){var d=(0,k.A)(l,3);return{s:d[0],rc:d[1],p:d[2]}}),(0,q.M)(function(l){return console.log(l.s.valuesMapping,u.ancestory)}),(0,fe.T)(function(l){var d=l.s,p=l.rc,g=l.p;if(p&&d&&d.valuesMapping&&""!==d.valuesMapping.trim()){var _=d.valuesMapping.split("[$i]"),S=_.map(function($,Y){return u.ancestory[1*Y+3]}),I=_.reduce(function($,Y,le){return[].concat((0,A.A)($),[0===le?"":le-1<S.length?"[".concat(S[le-1],"]"):"",Y])},[]).join("");return console.log("path",I),{items:(0,Uo.JSONPath)({path:"$.".concat(I,".*"),json:p}),s:d,p:g}}return{items:[],p:g}}),(0,q.M)(function(l){for(var p=l.items.length-u.panesFormArray.length,g=0;g<p;g++)u.add$.next(void 0)})).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"resolvedContext",set:function(t){this.resolvedContext$.next(t)}},{key:"panel",set:function(t){this.panel$.next(t)}},{key:"panesFormArray",get:function(){return this.controlContainer.control.get("panes")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-section"]],inputs:{panes:"panes",originPanes:"originPanes",originMappings:"originMappings",ancestory:"ancestory",settings:"settings",resolvedContext:"resolvedContext",panel:"panel"},standalone:!1,decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","panes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","pluginName","settings","name","label","contexts","panes","resolvedContext","indexPosition","ancestory"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0)(1,1),a.\u0275\u0275template(2,bq,4,10,"div",2),a.\u0275\u0275elementContainerEnd()(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return t.add$.next(void 0)}),a.\u0275\u0275text(4,"Add Item"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.panes))},dependencies:[y.NgForOf,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,f.FormArrayName,Ad],encapsulation:2}),r}(),Tq=function(){var o,r=function(n){function e(t,s,u,l,d,p){var g;return(0,h.A)(this,e),(g=(0,F.A)(this,e,[t,s,u,l,d,p])).cols=20,g.rows=20,g}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-textarea"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"formControl","cols","rows"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"textarea",0),2&e&&a.\u0275\u0275property("formControl",t.formControl)("cols",t.cols)("rows",t.rows)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective],encapsulation:2}),r}(),Rq=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Te.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){return"pane"===s?this.toObject(t).pipe((0,We.n)(function(l){return tr(function(){return l.datasourceBinding&&l.datasourceBinding.id&&null!==l.datasourceBinding.id},(0,Te.of)([l.datasourceBinding]),(0,Te.of)([]))})):(0,Te.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(new Xy(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Te.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),BE=function(){var o,r=function(n){function e(){return(0,h.A)(this,e),(0,F.A)(this,e,arguments)}return(0,w.A)(e,n),(0,m.A)(e)}(Rq);return(o=r).\u0275fac=function(){var n;return function(t){return(n||(n=a.\u0275\u0275getInheritedFactory(o)))(t||o)}}(),o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),Qi=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.attributeSerializer=l,this.datasourceOptions=Xv,this.validation=new Ed({validators:[]}),this.bindableOptions=[],this.formGroup=this.fb.group({value:this.fb.control(""),datasourceOptions:this.fb.control(""),validation:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})}),this.paneIndex=e.paneIndex,this.pane=e.pane},[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var t=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(s){var u;console.log("Form Editor Data Pane Data",s),t.formGroup.patchValue({value:s.value,datasourceOptions:s.datasourceOptions||Xv,datasourceBinding:{id:(null===(u=s.datasourceBinding)||void 0===u?void 0:u.id)||"",type:"pane"}}),t.datasourceOptions=s.datasourceOptions||Xv,t.validation=new Ed(s.validation?s.validation:{validators:[]})}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Er(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):s},[])}},{key:"submit",value:function(){var t=this;console.log(this.formGroup.value);var s=new Xy(this.formGroup.value);console.log("losing options debug",s),this.paneGroup.get("settings").clear(),this.handler.buildSettings(s).map(function(l){return t.attributeSerializer.convertToGroup(l)}).forEach(function(l){return t.paneGroup.get("settings").push(l)}),this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(BE),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-element-editor"]],inputs:{bindableOptions:"bindableOptions"},standalone:!1,decls:17,vars:3,consts:[[3,"ngSubmit","formGroup"],["fxLayout","column"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions"],["formControlName","validation",3,"validation"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"div")(3,"mat-form-field")(4,"mat-label"),a.\u0275\u0275text(5,"Value"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(7,"mat-form-field",3)(8,"mat-label"),a.\u0275\u0275text(9,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-select",4),a.\u0275\u0275template(11,Aq,2,2,"mat-option",5),a.\u0275\u0275elementEnd()(),a.\u0275\u0275element(12,"classifieds-ui-datasource-options",6)(13,"druid-ordain-validation-editor",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-dialog-actions")(15,"button",8),a.\u0275\u0275text(16,"Save"),a.\u0275\u0275elementEnd()()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngForOf",t.bindableOptions),a.\u0275\u0275advance(2),a.\u0275\u0275property("validation",t.validation))},dependencies:[y.NgForOf,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,f.FormGroupName,Sr.MatOption,Gr.MatButton,Bt.MatDialogClose,Bt.MatDialogActions,Bt.MatDialogContent,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,O5,gq],encapsulation:2}),r}(),Mq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-radiogroup"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-radio-group",0),a.\u0275\u0275template(1,Cq,2,2,"mat-radio-button",1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,t.options$)))},dependencies:[y.NgForOf,f.NgControlStatus,f.FormControlDirective,zf.MatRadioGroup,zf.MatRadioButton,y.AsyncPipe],encapsulation:2}),r}(),Nq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-slider"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"],["matSliderThumb",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-slider",0),a.\u0275\u0275element(1,"input",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formControl",t.formControl)},dependencies:[f.NgControlStatus,f.FormControlDirective,OE.MatSlider,OE.MatSliderThumb],encapsulation:2}),r}(),Vq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-toggle"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"mat-slide-toggle",0),a.\u0275\u0275text(1,"Toggle Label"),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formControl",t.formControl)},dependencies:[f.NgControlStatus,f.FormControlDirective,vq.MatSlideToggle],encapsulation:2}),r}(),Oq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-checkbox"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"mat-checkbox",0),2&e&&a.\u0275\u0275property("formControl",t.formControl)},dependencies:[f.NgControlStatus,f.FormControlDirective,Yc.MatCheckbox],encapsulation:2}),r}(),Bq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-datepicker"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[["picker",""],["appearance","fill"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"]],template:function(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-label"),a.\u0275\u0275text(2,"Choose a date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"input",2)(4,"mat-datepicker-toggle",3)(5,"mat-datepicker",null,0),a.\u0275\u0275elementEnd()),2&e){var s=a.\u0275\u0275reference(6);a.\u0275\u0275advance(3),a.\u0275\u0275property("matDatepicker",s)("formControl",t.formControl),a.\u0275\u0275advance(),a.\u0275\u0275property("for",s)}},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,Qy.MatDatepicker,Qy.MatDatepickerInput,Qy.MatDatepickerToggle,jt.MatInput,jt.MatFormField,jt.MatLabel,jt.MatSuffix],encapsulation:2}),r}(),Lq=function(){var o,r=function(n){function e(t,s,u,l,d,p){var g;return(0,h.A)(this,e),(g=(0,F.A)(this,e,[t,s,u,l,d,p])).proxyControl=new f.UntypedFormControl(""),g.optionSelected$=new T.B,g.proxyControlValueChangesSub=g.proxyControl.valueChanges.pipe((0,Ln.B)(1e3),(0,Co.F)(),oi((0,zn.z)([g.formSettings$,g.panes$,g.originPanes$,g.contexts$]).pipe((0,fe.T)(function(_){var S=(0,k.A)(_,4);return{settings:S[0],panes:S[1],originPanes:S[2],contexts:S[3]}}))),(0,fe.T)(function(_){var S=(0,k.A)(_,2),I=S[0],B=S[1],Y=B.panes,le=B.originPanes,ge=B.contexts;return{term:I,settings:B.settings,metadata:new Map([["panes",[].concat((0,A.A)(Y&&Array.isArray(Y)?Y:[]),(0,A.A)(le&&Array.isArray(le)?le:[]))],["contexts",ge],["inputparams",new Map([["term",new ma({flags:[],mapping:new K1({value:I,testValue:I,type:"static",context:void 0})})]])]])}}),(0,We.n)(function(_){return g.optionsResolver.resolveElementOptions(_.settings,_.metadata)}),(0,q.M)(function(_){return g.options$.next(_)})).subscribe(),g.optionSelectedSub=g.optionSelected$.pipe((0,q.M)(function(_){return g.formControl.setValue(_.option&&_.option.value?_.option.value.value:"")})).subscribe(),g.displayAuto=function(_){return _.label},g}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-autocomplete"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[["autocomplete","matAutocomplete"],["matInput","",3,"matAutocomplete","formControl"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e){var s=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-label"),a.\u0275\u0275text(2,"Autocomplete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementStart(4,"mat-autocomplete",2,0),a.\u0275\u0275listener("optionSelected",function(d){return a.\u0275\u0275restoreView(s),a.\u0275\u0275resetView(t.optionSelected$.next(d))}),a.\u0275\u0275template(6,xq,2,2,"mat-option",3),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275elementEnd()()}if(2&e){var u=a.\u0275\u0275reference(5);a.\u0275\u0275advance(3),a.\u0275\u0275property("matAutocomplete",u)("formControl",t.proxyControl),a.\u0275\u0275advance(),a.\u0275\u0275property("displayWith",t.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,4,t.options$))}},dependencies:[y.NgForOf,f.DefaultValueAccessor,f.NgControlStatus,f.FormControlDirective,Sr.MatAutocomplete,Sr.MatOption,Sr.MatAutocompleteTrigger,jt.MatInput,jt.MatFormField,jt.MatLabel,y.AsyncPipe],encapsulation:2}),r}(),jq=function(){var o,r=function(n){function e(t,s,u,l,d,p,g){var _;return(0,h.A)(this,e),(_=(0,F.A)(this,e,[t,s,l,d,p,g])).files=[],_.select$=new T.B,_.selectSub=_.select$.pipe((0,q.M)(function(S){return console.log(S)}),(0,Fs.Z)(function(S){return _.filesService.bulkUpload({files:[S.addedFiles[0]]}).pipe((0,fe.T)(function(I){return{mfs:I,e:S}}))}),(0,q.M)(function(S){return _.formControl.setValue(S.mfs[0])}),(0,q.M)(function(S){var I;return(I=_.files).push.apply(I,(0,A.A)(S.e.addedFiles))})).subscribe(),_.valueSub=_.value$.pipe((0,z.p)(function(S){return"object"==typeof S}),(0,fe.T)(function(S){return new Fv(S)}),(0,q.M)(function(S){console.log("populate value",S)}),(0,We.n)(function(S){return _.filesService.convertToFiles([S])}),(0,q.M)(function(S){console.log("populate as file",S),_.files=S})).subscribe(),_.filesService=u,_}return(0,w.A)(e,n),(0,m.A)(e,[{key:"onSelect",value:function(s){this.select$.next(s)}},{key:"onRemove",value:function(s){console.log(s),this.formControl.setValue(""),this.files.splice(this.files.indexOf(s),1)}},{key:"isType",value:function(s,u){switch(u){case"image":return this.filesService.isImage({file:s});case"video":return this.filesService.isVideo({file:s});default:return!1}}}])}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(df),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-media"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[3,"change"],[4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngIf"],[3,"removable","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","file","removable"],[3,"removed","removable"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"ngx-dropzone",0),a.\u0275\u0275listener("change",function(u){return t.onSelect(u)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2,"Drop it, baby!"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,wq,4,3,"ng-container",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.files))},dependencies:[y.NgForOf,y.NgIf,Vf,bS,Yl,CS,x9],encapsulation:2}),r}(),Uq=function(){var o,r=function(n){function e(t,s,u,l,d,p){return(0,h.A)(this,e),(0,F.A)(this,e,[t,s,u,l,d,p])}return(0,w.A)(e,n),(0,m.A)(e)}(Wi);return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService),a.\u0275\u0275directiveInject(Mi),a.\u0275\u0275directiveInject(Qn),a.\u0275\u0275directiveInject(Ni),a.\u0275\u0275directiveInject(ei),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-hidden"]],standalone:!1,features:[a.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(e,t){},encapsulation:2}),r}(),Gq=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.attributeSerializer=u,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})},[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var t=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(s){console.log("formly repeating editor form"),console.log(t.attributeSerializer.convertToGroup(s)),t.data.panelFormGroup.get("settings").push(t.attributeSerializer.convertToGroup(s))})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-form-section-editor"]],standalone:!1,decls:8,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Values Mapping"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"button",2),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd()()),2&e&&(a.\u0275\u0275property("formGroup",t.formGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("disabled",!t.formGroup.valid))},dependencies:[f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,Gr.MatButton,Bt.MatDialogClose,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),zq=function(r){return new Xt.ContentPlugin({id:"form_input",title:"Form Input",selectionComponent:void 0,editorComponent:Qi,renderComponent:kq,handler:r.handler})},$q=function(r){return new Xt.ContentPlugin({id:"form_select",title:"Form Select",selectionComponent:void 0,editorComponent:Qi,renderComponent:Pq,handler:r.handler})},Hq=function(r){return new Xt.ContentPlugin({id:"form_radiogroup",title:"Form Radiogroup",selectionComponent:void 0,editorComponent:Qi,renderComponent:Mq,handler:r.handler})},Kq=function(r){return new Xt.ContentPlugin({id:"form_textarea",title:"Form Textarea",selectionComponent:void 0,editorComponent:Qi,renderComponent:Tq,handler:r.handler})},qq=function(r){return new Xt.ContentPlugin({id:"form_slider",title:"Form Slider",selectionComponent:void 0,editorComponent:Qi,renderComponent:Nq,handler:r.handler})},Wq=function(r){return new Xt.ContentPlugin({id:"form_toggle",title:"Form Toggle",selectionComponent:void 0,editorComponent:Qi,renderComponent:Vq,handler:r.handler})},Qq=function(r){return new Xt.ContentPlugin({id:"form_checkbox",title:"Form Checkbox",selectionComponent:void 0,editorComponent:Qi,renderComponent:Oq,handler:r.handler})},Xq=function(r){return new Xt.ContentPlugin({id:"form_datepicker",title:"Form Datepicker",selectionComponent:void 0,editorComponent:Qi,renderComponent:Bq,handler:r.handler})},Yq=function(r){return new Xt.ContentPlugin({id:"form_autocomplete",title:"Form Autocomplete",selectionComponent:void 0,editorComponent:Qi,renderComponent:Lq,handler:r.handler})},Jq=function(r){return new Xt.ContentPlugin({id:"form_media",title:"Form Media",selectionComponent:void 0,editorComponent:Qi,renderComponent:jq,handler:r.handler})},Zq=function(r){return new Xt.ContentPlugin({id:"form_hidden",title:"Form Hidden",selectionComponent:void 0,editorComponent:Qi,renderComponent:Uq,handler:r.handler})},tW=function(){var o,r=(0,m.A)(function n(e,t,s){(0,h.A)(this,n),[zq({handler:s}),$q({handler:s}),Kq({handler:s}),Hq({handler:s}),qq({handler:s}),Wq({handler:s}),Qq({handler:s}),Xq({handler:s}),Yq({handler:s}),Jq({handler:s}),Zq({handler:s})].forEach(function(u){return e.register(u)}),[new Rf({id:"form_section",name:"form_section",title:"Form Section",editorComponent:Gq,renderComponent:Iq})].forEach(function(u){return t.register(u)})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(Wl),a.\u0275\u0275inject(BE))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,pa.MaterialModule,By,Eu,Of,VE]}),r}(),nW=new a.InjectionToken("AlienaliasSettings"),aW=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.openSearchDomain=r.openSearchDomain)}),uW=["mfeReactComponent"],lW=function(){var o,r=function(){return(0,m.A)(function n(){(0,h.A)(this,n)},[{key:"ngOnChanges",value:function(t){this.render()}},{key:"ngAfterViewInit",value:function(){this.render()}},{key:"ngOnDestroy",value:function(){}},{key:"render",value:function(){this.component()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-mfe-react"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(uW,5),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.containerRef=s.first)},inputs:{component:"component"},standalone:!1,features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["mfeReactComponent",""]],template:function(e,t){1&e&&a.\u0275\u0275element(0,"span",null,0)},encapsulation:2}),r}(),cW=["appContainer"],Yy=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.type=r.type&&""!==r.type?r.type:"module",this.remoteEntry=r.remoteEntry,this.componentName=r.componentName,this.exposedModule=r.exposedModule,this.remoteName=r.remoteName&&""!==r.remoteName?r.remoteName:void 0)}),LE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.attributeSerializer=e},[{key:"handleFile",value:function(t){return(0,Te.of)([])}},{key:"handlesType",value:function(t){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(t){return(0,Te.of)(!1)}},{key:"isDynamic",value:function(t){return!1}},{key:"isData",value:function(t){return!1}},{key:"getBindings",value:function(t,s,u){return(0,Te.of)([])}},{key:"fetchDynamicData",value:function(t,s){return(0,Te.of)(new Un)}},{key:"buildDynamicItems",value:function(t,s){return(0,Te.of)([])}},{key:"toObject",value:function(t){return(0,Te.of)(new Yy(this.attributeSerializer.deserializeAsObject(t)))}},{key:"buildSettings",value:function(t){return this.attributeSerializer.serialize(t,"root").attributes}},{key:"stateDefinition",value:function(t){return(0,Te.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(t){return(0,Te.of)(new Xt.ContentPluginEditorOptions)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(_t.AttributeSerializerService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),dW=function(){var o,r=function(){return(0,m.A)(function n(e,t,s,u,l){(0,h.A)(this,n),this.data=e,this.dialogRef=t,this.fb=s,this.handler=u,this.attributeSerializer=l,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("module",[f.Validators.required]),remoteEntry:this.fb.control("",[f.Validators.required]),exposedModule:this.fb.control("",[f.Validators.required]),componentName:this.fb.control("",[f.Validators.required]),remoteName:this.fb.control("")}),this.paneIndex=e.paneIndex,this.pane=e.pane},[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var t=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(s){t.formGroup.get("type").setValue(s.type&&""!==s.type?s.type:"module"),t.formGroup.get("remoteEntry").setValue(s.remoteEntry),t.formGroup.get("exposedModule").setValue(s.exposedModule),t.formGroup.get("componentName").setValue(s.componentName),t.formGroup.get("remoteName").setValue(s.remoteName)}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new f.UntypedFormControl(""),label:new f.UntypedFormControl(""),rule:new f.UntypedFormControl(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Er(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(s,u){return u.get("name").value?[].concat((0,A.A)(s),[u.get("name").value]):(0,A.A)(s)},[])}},{key:"submit",value:function(){var t=this;console.log(this.formGroup.value);var s=new Yy(this.formGroup.value);console.log(s),this.paneGroup.get("settings").clear(),this.handler.buildSettings(s).map(function(l){return t.attributeSerializer.convertToGroup(l)}).forEach(function(l){return t.paneGroup.get("settings").push(l)}),this.dialogRef.close()}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(Bt.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(Bt.MatDialogRef),a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(LE),a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-outsider-outside-app-editor"]],inputs:{bindableOptions:"bindableOptions"},standalone:!1,decls:32,vars:1,consts:[[3,"ngSubmit","formGroup"],["formControlName","type","required",""],["value","module"],["value","script"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","componentName","required",""],["matInput","","formControlName","remoteName"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return t.submit()}),a.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),a.\u0275\u0275text(7,"Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-option",3),a.\u0275\u0275text(9,"Script"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(10,"div")(11,"mat-form-field")(12,"mat-label"),a.\u0275\u0275text(13,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(14,"input",4),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(15,"div")(16,"mat-form-field")(17,"mat-label"),a.\u0275\u0275text(18,"Exposed Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(19,"input",5),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(20,"div")(21,"mat-form-field")(22,"mat-label"),a.\u0275\u0275text(23,"Component Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(24,"input",6),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(25,"div")(26,"mat-form-field")(27,"mat-label"),a.\u0275\u0275text(28,"Remote Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(29,"input",7),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(30,"button",8),a.\u0275\u0275text(31,"Save"),a.\u0275\u0275elementEnd()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[Sr.MatOption,Gr.MatButton,Bt.MatDialogClose,jt.MatInput,jt.MatFormField,jt.MatLabel,fa.MatSelect,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName],encapsulation:2}),r}(),pW=function(){var o,r=function(){return(0,m.A)(function n(e){var t=this;(0,h.A)(this,n),this.attributeSerializer=e,this.objectSettings$=new R.t(void 0),this.contexts$=new R.t([]),this.settings$=new R.t([]),this.settingsSub=this.settings$.pipe((0,fe.T)(function(s){return s?new Yy(t.attributeSerializer.deserializeAsObject(s)):void 0}),(0,q.M)(function(s){return t.objectSettings$.next(s)})).subscribe(),this.renderAppSub=this.objectSettings$.pipe((0,ec.i)(1),(0,We.n)(function(s){return new L.c(function(u){(0,nc.loadRemoteModule)(s.type&&"script"!==s.type?{type:"module",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule}:{type:"script",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule,remoteName:s.remoteName}).then(function(l){u.next(l[s.componentName&&""!==s.componentName?s.componentName:"default"]),u.complete()})}).pipe((0,fe.T)(function(u){return{s,c:u}}))}),(0,q.M)(function(s){var u=s.s,l=s.c;t.viewContainer.clear(),u.type&&"script"!==u.type?t.viewContainer.createComponent(l):t.viewContainer.createComponent(lW).instance.component=l})).subscribe()},[{key:"settings",set:function(t){this.settings$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(_t.AttributeSerializerService))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["druid-outsider-outside-app-renderer"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(cW,7,a.ViewContainerRef),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.viewContainer=s.first)},inputs:{settings:"settings",contexts:"contexts"},standalone:!1,decls:2,vars:0,consts:[["appContainer",""]],template:function(e,t){1&e&&a.\u0275\u0275elementContainer(0,null,0)},encapsulation:2}),r}(),mW=function(){var o,r=(0,m.A)(function n(e,t){(0,h.A)(this,n),e.register(function(r){return new Xt.ContentPlugin({id:"outside_app",title:"Outside App",selectionComponent:void 0,editorComponent:dW,renderComponent:pW,handler:r.handler})}({handler:t}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(LE))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({imports:[y.CommonModule,pa.MaterialModule,f.ReactiveFormsModule]}),r}(),jE=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.fb=e,this.controlContainer=t,this.context$=new R.t(void 0),this.formGroup=this.fb.group({remoteEntry:this.fb.control("",[f.Validators.required]),exposedModule:this.fb.control("",[f.Validators.required]),moduleName:this.fb.control("",[f.Validators.required])}),this.onTouched=function(){}},[{key:"context",set:function(t){this.context$.next(t)}},{key:"ngOnInit",value:function(){var t=this;this.context$.subscribe(function(s){t.formGroup.setValue(s?{remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule,moduleName:s.data.moduleName}:{remoteEntry:"",exposedModule:"",moduleName:""})})}},{key:"writeValue",value:function(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.formGroup.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(t){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-module-form"]],inputs:{context:"context"},standalone:!1,features:[a.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0},{provide:f.NG_VALIDATORS,useExisting:(0,a.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","moduleName","required",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),a.\u0275\u0275text(4,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),a.\u0275\u0275text(9,"Exposed Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"input",2),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(11,"div")(12,"mat-form-field")(13,"mat-label"),a.\u0275\u0275text(14,"Module Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(15,"input",3),a.\u0275\u0275elementEnd()()()),2&e&&a.\u0275\u0275property("formGroup",t.formGroup)},dependencies:[f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName,jt.MatInput,jt.MatFormField,jt.MatLabel],encapsulation:2}),r}(),gW=function(){var o,r=function(){return(0,m.A)(function n(e,t){(0,h.A)(this,n),this.fb=e,this.controlContainer=t},[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",f.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275directiveInject(f.UntypedFormBuilder),a.\u0275\u0275directiveInject(f.ControlContainer))},o.\u0275cmp=a.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-module-editor"]],viewQuery:function(e,t){var s;1&e&&a.\u0275\u0275viewQuery(jE,7),2&e&&a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(t.contextModuleFormComp=s.first)},inputs:{context:"context"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-module-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",t.controlContainer.control),a.\u0275\u0275advance(),a.\u0275\u0275property("context",t.context))},dependencies:[f.NgControlStatus,f.NgControlStatusGroup,f.FormGroupDirective,f.FormControlName,jE],encapsulation:2}),r}(),hW=function(){var o,r=(0,m.A)(function n(e,t,s){var u=this;(0,h.A)(this,n),this.actions$=e,this.moduleLoaderService=t,this.es=s,this.setPage$=ui(function(){return u.actions$.pipe(Eo(yy),(0,q.M)(function(l){var d=l.page;console.log("tractor beam capture page",d),d.contexts&&Array.isArray(d.contexts)&&d.contexts.forEach(function(p){if("module"===p.plugin)return u.moduleLoaderService.loadModule(function(){return(0,nc.loadRemoteModule)({type:"module",remoteEntry:p.data.remoteEntry,exposedModule:p.data.exposedModule}).then(function(g){return g[p.data.moduleName]})}).subscribe()})}))},{dispatch:!1}),this.setPageInfo$=ui(function(){return u.actions$.pipe(Eo(vy),(0,q.M)(function(l){console.log("tractor beam info",l.info)}),(0,We.n)(function(l){var d=l.info;return u.es.getEntityCollectionService("PanelPage").getByKey(d.id)}),(0,q.M)(function(l){l.contexts&&Array.isArray(l.contexts)&&l.contexts.forEach(function(d){if("module"===d.plugin)return u.moduleLoaderService.loadModule(function(){return(0,nc.loadRemoteModule)({type:"module",remoteEntry:d.data.remoteEntry,exposedModule:d.data.exposedModule}).then(function(p){return p[d.data.moduleName]})}).subscribe()})}))},{dispatch:!1})});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(Ps),a.\u0275\u0275inject(sn.ModuleLoaderService),a.\u0275\u0275inject(yr))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),UE=function(){var o,r=function(){return(0,m.A)(function n(e){(0,h.A)(this,n),this.moduleLoaderService=e},[{key:"resolve",value:function(t,s,u){return console.log("module resolver context",t,s,u),this.moduleLoaderService.loadModule(function(){return(0,nc.loadRemoteModule)({type:"module",remoteEntry:s.remoteEntry,exposedModule:s.exposedModule}).then(function(l){return l[s.moduleName]})})}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.ModuleLoaderService))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),r}(),yW=function(){var o,r=function(){return(0,m.A)(function n(e,t,s){(0,h.A)(this,n),this.moduleLoader=e,this.pageBuilderFacade=t,this.es=s},[{key:"loadPlugins",value:function(){var t=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,q.M)(function(){return console.log("started loading external modules")}),(0,We.n)(function(s){return(s&&s.id?t.es.getEntityCollectionService("PanelPage").getByKey(s.id):(0,Te.of)(void 0)).pipe((0,qr.U)(void 0))}),(0,We.n)(function(s){return s?(0,An.p)(s.contexts.filter(function(u){return"module"===u.plugin}).map(function(u){return t.moduleLoader.loadModule(function(){return(0,nc.loadRemoteModule)({type:"module",remoteEntry:u.data.remoteEntry,exposedModule:u.data.exposedModule}).then(function(l){return l[u.data.moduleName]})})})).pipe((0,dr.c)(1),(0,qr.U)([])):(0,Te.of)([])}),(0,q.M)(function(){return console.log("completed loading external modules")}),(0,fe.T)(function(){return!0}),(0,pn.s)(1))}}])}();return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(sn.ModuleLoaderService),a.\u0275\u0275inject(gi),a.\u0275\u0275inject(yr))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),r}(),_W=function(){var o,r=(0,m.A)(function n(e,t,s,u){(0,h.A)(this,n),t.addDiscovery(u),e.register(function(r){return new jo({id:"module",name:"module",title:"Module",baseObject:{},resolver:r.moduleResolver,editorComponent:gW})}({moduleResolver:s}))});return(o=r).\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(ps),a.\u0275\u0275inject(Xt.ContentPluginManager),a.\u0275\u0275inject(UE),a.\u0275\u0275inject(yW))},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[UE],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,Gl,pa.MaterialModule,_c.forFeature([hW])]}),r}(),bW=(0,m.A)(function o(r){(0,h.A)(this,o),r&&(this.appId=r.appId,this.guestRoleArn=r.guestRoleArn,this.region=r.region,this.identityPoolId=r.identityPoolId)}),AW=new a.InjectionToken("RumSettings"),GE=[["bb66aa62-8635-4015-86c9-ba4f208b0856","/native_forms_rebuild_v1"],["888b9746-9cc1-43dc-8edb-1868e64b36a5","/test-2025"],["5494f47d-473c-49b4-bbef-f563be722131","/plugin-amcharts-refs-test-1"],["8ebbcdb3-300f-4739-8cb3-6c5d4c402638","/am-charts-visual-editor-bar-chart-test"],["63a4219d-254e-11ec-ab14-c613312e594f","/dev-test-virtual-list-flex-v1"],["c38d4c9a-c2c7-4d9a-9d89-6a5c5425a372","/justwork"]],CW=[{contexts:[{adaptor:"data",data:{exposedModule:"./GalleryModule",moduleName:"GalleryModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"gallery",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"0340ec29-fc39-4d4a-92ba-09caa0fb9d8f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-gallery-int",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[{contentPlugin:"gallery_gallery_item",contexts:[],label:"gallery",locked:!1,name:"gallery",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"bindingOption",name:"bindingOption",type:1,value:"data"},{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"[.type]",displayName:"typeMapping",name:"typeMapping",type:1,value:"[.type]"},{attributes:[],computedValue:"[.src]",displayName:"imageMapping",name:"imageMapping",type:1,value:"[.src]"}]},{contentPlugin:"datasource",contexts:[],label:"Data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'{"images":[\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"}\n]}',displayName:"data",name:"data",type:1,value:'{"images":[\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"},\n{"type": "image", "src": "https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg"}\n]}'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectMedia",displayName:"id",name:"id",type:1,value:"selectMedia"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Media",locked:!1,name:"selectMedia",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$.images.*",displayName:"query",name:"query",type:1,value:"$.images.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/test-gallery-int",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",name:"direction",type:1,value:""}]}],site:"spearhead",title:"Test Gallery int",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"rest",name:"ad",plugin:"rest",rest:{body:{content:"{}",contentType:"application/json"},method:"get",params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"de35f42f-a551-11f0-89d0-1ac36c6edc87",type:"route",value:"arg1"}}],url:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id"}},{adaptor:"data",data:{exposedModule:"./GalleryModule",moduleName:"GalleryModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"gallery",plugin:"module"}],cssFile:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/media/test.css",displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"0904fb75-1311-4763-b6e3-043239fb3a89",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"Search Form",locked:!1,name:"searchForm",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Search Phrase",displayName:"Content",name:"content",type:1,value:"Search Phrase"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"textSearchLabel",displayName:"name",name:"name",type:1,value:"textSearchLabel"},{attributes:[],computedValue:"Text Search Label",displayName:"label",name:"label",type:1,value:"Text Search Label"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"textSearch",displayName:"name",name:"name",type:1,value:"textSearch"},{attributes:[],computedValue:"Text Search",displayName:"label",name:"label",type:1,value:"Text Search"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"title": "All", "value": ""},\n{"title": "1", "value": "1"},\n{"title": "1.5", "value": "1.5"},\n{"title": "2", "value": "2"},\n{"title": "2.5", "value": "2.5"},\n{"title": "3", "value": "3"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"title": "All", "value": ""},\n{"title": "1", "value": "1"},\n{"title": "1.5", "value": "1.5"},\n{"title": "2", "value": "2"},\n{"title": "2.5", "value": "2.5"},\n{"title": "3", "value": "3"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"beds",displayName:"name",name:"name",type:1,value:"beds"},{attributes:[],computedValue:"Beds",displayName:"label",name:"label",type:1,value:"Beds"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Beds",displayName:"Content",name:"content",type:1,value:"Beds"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"bedsSearchLabel",displayName:"name",name:"name",type:1,value:"bedsSearchLabel"},{attributes:[],computedValue:"Beds Search Label",displayName:"label",name:"label",type:1,value:"Beds Search Label"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"3",name:"3",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"beds",displayName:"id",name:"id",type:1,value:"beds"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.title]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.title]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"bedsSearch",displayName:"name",name:"name",type:1,value:"bedsSearch"},{attributes:[],computedValue:"Beds Search",displayName:"label",name:"label",type:1,value:"Beds Search"},{attributes:[],computedValue:"form_select",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_select"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"4",name:"4",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"rest",displayName:"adaptor",name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id",displayName:"url",name:"url",type:1,value:"https://m7k310bu9a.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/shapeshifter/property-listing-ad/:id"},{attributes:[],computedValue:"get",displayName:"method",name:"method",type:1,value:"get"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"de35f42f-a551-11f0-89d0-1ac36c6edc87",displayName:"testValue",name:"testValue",type:1,value:"de35f42f-a551-11f0-89d0-1ac36c6edc87"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:"{}",displayName:"content",name:"content",type:1,value:"{}"},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"}],computedValue:null,displayName:"body",name:"body",type:2,value:null}],computedValue:null,displayName:"rest",name:"rest",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"gallery",displayName:"name",name:"name",type:1,value:"gallery"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"module",displayName:"plugin",name:"plugin",type:1,value:"module"},{attributes:[{attributes:[],computedValue:"http://localhost:3000/remoteEntry.js",displayName:"remoteEntry",name:"remoteEntry",type:1,value:"http://localhost:3000/remoteEntry.js"},{attributes:[],computedValue:"./GalleryModule",displayName:"exposedModule",name:"exposedModule",type:1,value:"./GalleryModule"},{attributes:[],computedValue:"GalleryModule",displayName:"moduleName",name:"moduleName",type:1,value:"GalleryModule"}],computedValue:null,displayName:"data",name:"data",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"searchForm",displayName:"name",name:"name",type:1,value:"searchForm"},{attributes:[],computedValue:"Search Form",displayName:"title",name:"title",type:1,value:"Search Form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",name:"type",type:1,value:"form"},{attributes:[],computedValue:"searchForm.textSearch",displayName:"value",name:"value",type:1,value:"searchForm.textSearch"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",name:"type",type:1,value:"form"},{attributes:[],computedValue:"searchForm.bedsSearch",displayName:"value",name:"value",type:1,value:"searchForm.bedsSearch"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:null,displayName:"mapping",name:"mapping",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:null,displayName:"3",name:"3",type:2,value:null}],computedValue:null,displayName:"flags",name:"flags",type:4,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t },\n"bool": {\n  "all": [\n    {\n       "matchPhrase": {\n          "field": "description",\n          "value": "[:textSearch]"\n      }\n    },\n   {\n      "filter": {\n        "field": "property.bedrooms",\n         "value": "[:bedsSearch]"\n      }\n   }\n  ]\n}\n}}',displayName:"content",name:"content",type:1,value:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t },\n"bool": {\n  "all": [\n    {\n       "matchPhrase": {\n          "field": "description",\n          "value": "[:textSearch]"\n      }\n    },\n   {\n      "filter": {\n        "field": "property.bedrooms",\n         "value": "[:bedsSearch]"\n      }\n   }\n  ]\n}\n}}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectHits",displayName:"id",name:"id",type:1,value:"selectHits"}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"adDescription",displayName:"id",name:"id",type:1,value:"adDescription"}],computedValue:null,displayName:"1",name:"1",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Hits",locked:!1,name:"selectHits",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$[0].hits.*",displayName:"query",name:"query",type:1,value:"$[0].hits.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"snippet",contexts:[],label:"Ad Description",locked:!1,name:"adDescription",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<classifieds-ui-page-router-link href="[_page.path]/listing/[.id]" text="[.title]"></classifieds-ui-page-router-link>',displayName:"Content",name:"content",type:1,value:'<classifieds-ui-page-router-link href="[_page.path]/listing/[.id]" text="[.title]"></classifieds-ui-page-router-link>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"gallery_gallery_item",contexts:[],label:"Gallery",locked:!1,name:"gallery",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"galleryDummyData",displayName:"bindingOption",name:"bindingOption",type:1,value:"galleryDummyData"},{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"[.type]",displayName:"typeMapping",name:"typeMapping",type:1,value:"[.type]"},{attributes:[],computedValue:"[.src]",displayName:"imageMapping",name:"imageMapping",type:1,value:"[.src]"},{attributes:[],computedValue:"undefined",displayName:"videoMapping",name:"videoMapping",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"youtubeMapping",name:"youtubeMapping",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"iframeMapping",name:"iframeMapping",type:0,value:"undefined"}]},{contentPlugin:"datasource",contexts:[],label:"Gallery Dummy Data",locked:!1,name:"galleryDummyData",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"context",displayName:"plugin",name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectImages",displayName:"id",name:"id",type:1,value:"selectImages"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Images",locked:!1,name:"selectImages",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$[0].photos.*",displayName:"query",name:"query",type:1,value:"$[0].photos.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"title",locked:!1,name:"title",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"<h2>[ad.title]</h2>",displayName:"Content",name:"content",type:1,value:"<h2>[ad.title]</h2>"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]},{contentPlugin:"snippet",contexts:[],label:"Description",locked:!1,name:"description",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"[ad.description]",displayName:"Content",name:"content",type:1,value:"[ad.description]"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"mapping",name:"mapping",type:1,value:""}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"labels",name:"labels",type:4,value:null}],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",name:"direction",type:1,value:""}]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"200e4ab8-922c-4a9c-a760-77bce3facf92",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hedge-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"This is a hedge compatibility test. Modified.",displayName:"Content",name:"content",type:1,value:"This is a hedge compatibility test. Modified."},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hedge-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hedge Test",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"286f9a5e-196d-4812-bd8a-235a164a1a97",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"2d94ada8-53f4-4e45-b7e5-8c07c796856d",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"testDatasourceSelectv1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'{"options": [\n{"label": "one", "value":"1"},\n{"label": "two", "value":"2"},\n{"label": "three", "value":"3"}\n]}',displayName:"data",name:"data",type:1,value:'{"options": [\n{"label": "one", "value":"1"},\n{"label": "two", "value":"2"},\n{"label": "three", "value":"3"}\n]}'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"selectOptions",displayName:"id",name:"id",type:1,value:"selectOptions"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.label]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.label]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"",displayName:"multiple",name:"multiple",type:1,value:""},{attributes:[],computedValue:"",displayName:"limit",name:"limit",type:1,value:""}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Select Options",locked:!1,name:"selectOptions",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$.options.*",displayName:"query",name:"query",type:1,value:"$.options.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-datasource-select-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Datasource Select v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"37ebba18-506d-41c4-bff7-b6ef0affa67d",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'\n  {"query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}\n}',displayName:"content",name:"content",type:1,value:'\n  {"query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}\n}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World!",displayName:"Content",name:"content",type:1,value:"Hello World!"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"41cc92a0-bd34-4c06-a386-bd61b89bced8",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"homes",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"Ads",locked:!1,name:"ads",settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search",displayName:"url",name:"url",type:1,value:"https://77iwvhc4mf.execute-api.us-east-1.amazonaws.com/rollthecloudinc/spearhead-objects/search"},{attributes:[],computedValue:null,displayName:"params",name:"params",type:4,value:null},{attributes:[{attributes:[],computedValue:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}}',displayName:"content",name:"content",type:1,value:'{\n  "query": {\n  "index": "property-listing-ad-location-category",\n\t"composite": {\n\t\t"location": "detroit",\n\t\t"category": "general"\n\t }\n}}'},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:null,displayName:"body",name:"body",type:2,value:null},{attributes:[],computedValue:"post",displayName:"method",name:"method",type:1,value:"post"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/homes",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Homes",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"https://rollthecloudinc.github.io/plugin-amcharts5-build/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"479f66de-7468-47fa-a649-9fd476b754ab",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_amcharts5_plugin_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"amcharts5_json_chart",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[]}],settings:[],stylePlugin:""}],path:"/test-amcharts5-plugin-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test AmCharts5 Plugin v1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"5494f47d-473c-49b4-bbef-f563be722131",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[{attributes:[],computedValue:"column",displayName:"Direction",name:"direction",type:1,value:"column"}]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"name",name:"name",type:1,value:"data"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"},{attributes:[],computedValue:"undefined",displayName:"type",name:"type",type:0,value:"undefined"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"refs",name:"refs",type:4,value:null},{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"json",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]},{contentPlugin:"datasource",contexts:[],label:"data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]',displayName:"data",name:"data",type:1,value:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"1",displayName:"Flex Grow",name:"flexGrow",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Shrink",name:"flexShrink",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Basis",name:"flexBasis",type:1,value:"1"},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"row",displayName:"Direction",name:"direction",type:1,value:"row"}]},{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"rest",data:null,datasource:null,name:"character",plugin:"rest",rest:{params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"1017100",type:"route",value:"arg1"}}],url:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"63a4219d-254e-11ec-ab14-c613312e594f",layoutSetting:{settings:[]},layoutType:"split",name:"dev_test_virtual_list_flex_v1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"panel",label:"filter Form",linkedPageId:"",locked:!1,name:"filter_form",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"filter_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"filter_form"},{attributes:[],computedValue:"filter form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"filter form"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"datasource",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters?apikey=12097554cc585301fc38efd51b21fb06&orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters?apikey=12097554cc585301fc38efd51b21fb06&orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"20",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"20"},{attributes:[],computedValue:"20",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"20"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"0"},{attributes:[],computedValue:"0",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"0"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"form"},{attributes:[],computedValue:"filter_form.nameStartsWith",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"filter_form.nameStartsWith"},{attributes:[],computedValue:"john",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"x",displayName:"content",floatValue:0,intValue:0,name:"content",type:1,value:"x"},{attributes:[],computedValue:"application/json",displayName:"contentType",floatValue:0,intValue:0,name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",floatValue:0,intValue:0,name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",floatValue:0,intValue:0,name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"character_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"character_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"select_characters",linkedPageId:"",locked:!1,name:"select_characters",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"snippet",label:"character_tpl",linkedPageId:"",locked:!1,name:"character_tpl",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"panel",label:"276c66e1-286f-4a8f-9953-938f42f3fb36",linkedPageId:"",locked:!1,name:"276c66e1-286f-4a8f-9953-938f42f3fb36",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"# [character.data.results.0.name]\n[character.data.results.0.id]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"# [character.data.results.0.name]\n[character.data.results.0.id]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[character.data.results.0.description]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[character.data.results.0.description]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:""}]},label:"right_panel",name:"right_panel",panes:[{contentPlugin:"panel",label:"c40a5eba-1081-45f7-b02e-7102980d7a2e",linkedPageId:"",locked:!1,name:"c40a5eba-1081-45f7-b02e-7102980d7a2e",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Comics",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Comics"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"comic_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"comic_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_comics",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_comics"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.comics.items[0,1,2,3,4]",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.comics.items[0,1,2,3,4]"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_comics"},{attributes:[],computedValue:"select_comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_comics"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"comic_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comic_tpl"},{attributes:[],computedValue:"comic_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comic_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comics"},{attributes:[],computedValue:"comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comics"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1e704bb6-d886-4196-931b-70327374ef8d",linkedPageId:"",locked:!1,name:"1e704bb6-d886-4196-931b-70327374ef8d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Series",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Series"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab_title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab_title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"series_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"series_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_series",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_series"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.series.items.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.series.items.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_series",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_series"},{attributes:[],computedValue:"select_series",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_series"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"series_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"series_tpl"},{attributes:[],computedValue:"series_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"series_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1a3ad36e-b741-46d8-9d4b-500276778060",linkedPageId:"",locked:!1,name:"1a3ad36e-b741-46d8-9d4b-500276778060",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"58458438-44ef-4e53-a08f-e91bc0cede2d",linkedPageId:"",locked:!1,name:"58458438-44ef-4e53-a08f-e91bc0cede2d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:2,value:""},{attributes:[],computedValue:"",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:2,value:""},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[{attributes:[],computedValue:"0",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"labels",floatValue:0,intValue:0,name:"labels",type:4,value:""}],stylePlugin:"tabs"}],path:"/dev-test-virtual-list-flex-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}]}],site:"ipe",title:"Dev Test Virtual List Flex v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"6b4bc3f2-5138-491b-a718-e342f6828a62",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-simple-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Text",locked:!1,name:"text",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"required",displayName:"name",name:"name",type:1,value:"required"},{attributes:[],computedValue:"required",displayName:"validator",name:"validator",type:1,value:"required"},{attributes:[],computedValue:"field is required.",displayName:"overrideErrorMessage",name:"overrideErrorMessage",type:1,value:"field is required."}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}]},{contentPlugin:"form_textarea",contexts:[],label:"Textarea",locked:!1,name:"textarea",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_datepicker",contexts:[],label:"datepick",locked:!1,name:"datepick",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_checkbox",contexts:[],label:"checkbox",locked:!1,name:"checkbox",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_slider",contexts:[],label:"slider",locked:!1,name:"slider",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"datasource",contexts:[],label:"Nums",locked:!1,name:"nums",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"label": "One", "value": "1"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"label": "One", "value": "1"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"nums",displayName:"id",name:"id",type:1,value:"nums"}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.value]",displayName:"idMapping",name:"idMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"[.label]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.label]"},{attributes:[],computedValue:"[.value]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.value]"},{attributes:[],computedValue:"",displayName:"multiple",name:"multiple",type:1,value:""},{attributes:[],computedValue:"",displayName:"limit",name:"limit",type:1,value:""}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null}]},{contentPlugin:"form_toggle",contexts:[],label:"toggle",locked:!1,name:"toggle",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"form_hidden",contexts:[],label:"Id",locked:!1,name:"id",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"terms",locked:!1,name:"terms",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"required",displayName:"name",name:"name",type:1,value:"required"},{attributes:[],computedValue:"required",displayName:"validator",name:"validator",type:1,value:"required"},{attributes:[],computedValue:"This field is required.",displayName:"overrideErrorMessage",name:"overrideErrorMessage",type:1,value:"This field is required."}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"term",displayName:"name",name:"name",type:1,value:"term"},{attributes:[],computedValue:"Term",displayName:"label",name:"label",type:1,value:"Term"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-simple-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestSimpleForm",displayName:"entityName",name:"entityName",type:1,value:"TestSimpleForm"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Simple Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"7254396c-2464-41d3-a2df-8f6294a486ac",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"888b9746-9cc1-43dc-8edb-1868e64b36a5",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World! Modify",displayName:"Content",name:"content",type:1,value:"Hello World! Modify"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"8ebbcdb3-300f-4739-8cb3-6c5d4c402638",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"96050a0f-cc1a-4a31-bc47-8c9fe065745a",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"hello2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello",displayName:"Content",name:"content",type:1,value:"Hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hello-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"a2399ab6-d16b-480d-b015-88eed8dc8f64",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"a5291ca2-8fec-4011-9fc5-7574cbf944cc",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123",displayName:"Content",name:"content",type:1,value:"Hellow World 123"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"ad3dd72c-f153-4689-8da8-f94e01230457",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hello2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello",displayName:"Content",name:"content",type:1,value:"Hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hello-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bad7cc2e-75fe-4137-9c36-d7777273ff80",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"upload-file-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_media",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/upload-file-form",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Upload File Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{value:[{},{},{}]},name:"terms",plugin:"state"},{adaptor:"datasource",datasource:{params:[],plugin:"data",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}]},name:"characters",plugin:"datasource"},{adaptor:"datasource",datasource:{params:[],plugin:"crud_adaptor",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",intValue:0,name:"params",type:4,value:""}]},name:"ad",plugin:"datasource"}],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bb66aa62-8635-4015-86c9-ba4f208b0856",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"native_forms_rebuild_v1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"datasource",contexts:[],label:"characters_context_ref",locked:!1,name:"characters_context_ref",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"context",displayName:"plugin",name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",contexts:[],label:"creators",locked:!1,name:"creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith",displayName:"url",name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"inputparam",displayName:"type",name:"type",type:1,value:"inputparam"},{attributes:[],computedValue:"term",displayName:"value",name:"value",type:1,value:"term"},{attributes:[],computedValue:"john",displayName:"testValue",name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"content",name:"content",type:1,value:""},{attributes:[],computedValue:"application/json",displayName:"contentType",name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_creators",displayName:"id",name:"id",type:1,value:"select_creators"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",contexts:[],label:"select_creators",locked:!1,name:"select_creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}]},{contentPlugin:"form_input",contexts:[],label:"text",locked:!1,name:"text",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.text]",displayName:"value",name:"value",type:1,value:"[ad.results.0.text]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"",displayName:"idMapping",name:"idMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"labelMapping",name:"labelMapping",type:1,value:""},{attributes:[],computedValue:"",displayName:"valueMapping",name:"valueMapping",type:1,value:""},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:null,displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"validators",name:"validators",type:4,value:null}],computedValue:null,displayName:"validation",name:"validation",type:2,value:null}]},{contentPlugin:"form_select",contexts:[],label:"select",locked:!1,name:"select",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.select]",displayName:"value",name:"value",type:1,value:"[ad.results.0.select]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_textarea",contexts:[],label:"textarea",locked:!1,name:"textarea",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.textarea]",displayName:"value",name:"value",type:1,value:"[ad.results.0.textarea]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_radiogroup",contexts:[],label:"radiogroup",locked:!1,name:"radiogroup",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.radiogroup]",displayName:"value",name:"value",type:1,value:"[ad.results.0.radiogroup]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_slider",contexts:[],label:"slider",locked:!1,name:"slider",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.slider]",displayName:"value",name:"value",type:1,value:"[ad.results.0.slider]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_toggle",contexts:[],label:"toggle",locked:!1,name:"toggle",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.toggle]",displayName:"value",name:"value",type:1,value:"[ad.results.0.toggle]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_checkbox",contexts:[],label:"checkbox",locked:!1,name:"checkbox",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.checkbox]",displayName:"value",name:"value",type:1,value:"[ad.results.0.checkbox]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_datepicker",contexts:[],label:"datepicker",locked:!1,name:"datepicker",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.datepicker]",displayName:"value",name:"value",type:1,value:"[ad.results.0.datepicker]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_autocomplete",contexts:[],label:"autocomplete",locked:!1,name:"autocomplete",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.autocomplete]",displayName:"value",name:"value",type:1,value:"[ad.results.0.autocomplete]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"creators",displayName:"id",name:"id",type:1,value:"creators"}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.fullName]",displayName:"labelMapping",name:"labelMapping",type:1,value:"[.fullName]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"panel",contexts:[],label:"nested",locked:!1,name:"nested",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.nested.nestedValue]",displayName:"value",name:"value",type:1,value:"[ad.results.0.nested.nestedValue]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"nestedValue",displayName:"name",name:"name",type:1,value:"nestedValue"},{attributes:[],computedValue:"nestedValue",displayName:"label",name:"label",type:1,value:"nestedValue"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"nested_form",displayName:"name",name:"name",type:1,value:"nested_form"},{attributes:[],computedValue:"nested_form",displayName:"title",name:"title",type:1,value:"nested_form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.ad.results[0].terms"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.humanName]",displayName:"value",name:"value",type:1,value:"[ad.results.0.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms[$i].terms",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.ad.results[0].terms[$i].terms"}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.terms.$i.humanName]",displayName:"value",name:"value",type:1,value:"[ad.results.0.terms.$i.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form2",displayName:"name",name:"name",type:1,value:"terms_form2"},{attributes:[],computedValue:"terms_form2",displayName:"title",name:"title",type:1,value:"terms_form2"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form",displayName:"name",name:"name",type:1,value:"terms_form"},{attributes:[],computedValue:"terms_form",displayName:"title",name:"title",type:1,value:"terms_form"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",name:"rule",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panes",name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"panels",name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"value",name:"value",type:4,value:""}],computedValue:"",displayName:"data",name:"data",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"1",name:"1",type:2,value:""}],computedValue:"",displayName:"options",name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",name:"3",type:2,value:""}],computedValue:"",displayName:"flags",name:"flags",type:4,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"params",name:"params",type:4,value:""}],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"0",name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",name:"layoutSetting",type:2,value:""}]},{contentPlugin:"form_hidden",contexts:[],label:"id",locked:!1,name:"id",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.id]",displayName:"value",name:"value",type:1,value:"[ad.results.0.id]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:""}]}],settings:[],stylePlugin:""}],path:"/native_forms_rebuild_v1",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"rest",displayName:"adaptorName",name:"adaptorName",type:1,value:"rest"},{attributes:[],computedValue:"entityName=:entityName",displayName:"optionsString",name:"optionsString",type:1,value:"entityName=:entityName"},{attributes:[],computedValue:"",displayName:"paramsString",name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"value",name:"value",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"testValue",name:"testValue",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],displayName:"mapping",name:"mapping",type:2},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"0",name:"0",type:2},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"1",name:"1",type:2},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"2",name:"2",type:2},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"3",name:"3",type:2}],displayName:"flags",name:"flags",type:4}],displayName:"0",name:"0",type:2}],displayName:"options",name:"options",type:4},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"native_forms_rebuild_v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd29f806-3b4b-4b79-9dac-7a5ae221f432",layoutSetting:{settings:[]},layoutType:"split",name:"hello_world",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Hello World"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/hello-world",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello World",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd4c1820-952c-47c8-9478-5a49d45a7bc0",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c38d4c9a-c2c7-4d9a-9d89-6a5c5425a372",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123 345",displayName:"Content",name:"content",type:1,value:"Hellow World 123 345"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"c8feab31-84b9-49a1-95a3-989ad3211eac",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"datasource-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"Body",locked:!1,name:"body",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"[.body]",displayName:"Content",name:"content",type:1,value:"[.body]"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]},{contentPlugin:"datasource",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n{"body": "data here"},\n{"body": "data here"},\n{"body": "data here"}\n]',displayName:"data",name:"data",type:1,value:'[\n{"body": "data here"},\n{"body": "data here"},\n{"body": "data here"}\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"body",displayName:"id",name:"id",type:1,value:"body"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/datasource-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Datasource Test",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c91aa514-0ad8-4797-a516-cce997c877d9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}',displayName:"JSON",name:"json",type:1,value:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[],id:"cdcb0c14-3dd8-492c-9013-74aa861087f9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justsave",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"hello",displayName:"Content",name:"content",type:1,value:"hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justsave",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justsave",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d4a8f35d-bcf4-412a-a67c-7f6d3fcff2b2",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"post-ad-v1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Title",locked:!1,name:"title",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"Title",displayName:"value",name:"value",type:1,value:"Title"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/post",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"rest",displayName:"adaptorName",name:"adaptorName",type:1,value:"rest"},{attributes:[],computedValue:"entityName=:entityName",displayName:"optionsString",name:"optionsString",type:1,value:"entityName=:entityName"},{attributes:[],computedValue:"",displayName:"paramsString",name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",name:"type",type:1,value:"static"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"value",name:"value",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"TestAnAdQuell",displayName:"testValue",name:"testValue",type:1,value:"TestAnAdQuell"},{attributes:[],computedValue:"",displayName:"context",name:"context",type:1,value:""}],displayName:"mapping",name:"mapping",type:2},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"0",name:"0",type:2},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"1",name:"1",type:2},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"2",name:"2",type:2},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",name:"enabled",type:5,value:"false"}],displayName:"3",name:"3",type:2}],displayName:"flags",name:"flags",type:4}],displayName:"0",name:"0",type:2}],displayName:"options",name:"options",type:4},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Post Ad v1",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[""],writeUserIds:[]},gridItems:[],id:"d52e24fa-470f-4d7c-815e-41f33f89b2bc",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justsave",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"hello",displayName:"Content",name:"content",type:1,value:"hello"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justsave",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justsave",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"d5f9de5b-e56f-4cfb-a2ca-677637e1e3d7",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d75c2267-0eb1-4238-ad0e-7d4b0d1d4801",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"e39fa739-b354-45cb-8a35-5c9e54d28d6f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:[],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"e9f7488d-bd52-4f42-b850-4afc6a217c20",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",panels:[{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"eaa608c2-17fd-48ad-924e-8a29fc8c72cb",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"upload-file-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_media",contexts:[],label:"File",locked:!1,name:"file",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.images.*",displayName:"valuesMapping",name:"valuesMapping",type:1,value:"$.images.*"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",name:"weight",type:0,value:"0"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"file",displayName:"name",name:"name",type:1,value:"file"},{attributes:[],computedValue:"File",displayName:"label",name:"label",type:1,value:"File"},{attributes:[],computedValue:"form_media",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"form_media"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:1,value:""}],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"photos",displayName:"name",name:"name",type:1,value:"photos"},{attributes:[],computedValue:"Photos",displayName:"title",name:"title",type:1,value:"Photos"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"photos",displayName:"name",name:"name",type:1,value:"photos"},{attributes:[],computedValue:"Photos",displayName:"label",name:"label",type:1,value:"Photos"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"panel"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"images",displayName:"name",name:"name",type:1,value:"images"},{attributes:[],computedValue:"Images",displayName:"label",name:"label",type:1,value:"Images"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",name:"0",type:1,value:""}],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/upload-file-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestMedia",displayName:"entityName",name:"entityName",type:1,value:"TestMedia"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Upload File Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"ecacb624-716e-47fd-b62d-4ad4f4b9cf1f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_2025",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World!",displayName:"Content",name:"content",type:1,value:"Hello World!"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test-2025",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test 2025",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"f3ecdb90-080e-4791-afaf-073d43bc8228",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"justwork",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hellow World 123",displayName:"Content",name:"content",type:1,value:"Hellow World 123"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/justwork",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"justwork",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"},{contexts:[],displayType:"form",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"fc69e899-1c7d-47cc-bc63-260037d76381",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"split",name:"test-simple-form",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"form_input",contexts:[],label:"Text",locked:!1,name:"text",settings:[{attributes:[],computedValue:"",displayName:"value",name:"value",type:1,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",name:"id",type:1,value:""}],computedValue:null,displayName:"datasourceBinding",name:"datasourceBinding",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/test-simple-form",persistence:{dataduct:{plugin:"entity",settings:[{attributes:[],computedValue:"TestSimpleForm",displayName:"entityName",name:"entityName",type:1,value:"TestSimpleForm"},{attributes:[],computedValue:"",displayName:"queryString",name:"queryString",type:1,value:""},{attributes:[],displayName:"params",name:"params",type:4}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test Simple Form",userId:"44e8b438-a061-70ca-faa7-3d3e93c015cb"}],xW=[{path:"auth-callback",component:nk}].concat((0,A.A)(GE.map(function(o){var r=(0,k.A)(o,2),n=r[0],e=r[1];return{matcher:Gy(new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:qf,data:{panelPageListItem:new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),(0,A.A)(GE.map(function(o){var r=(0,k.A)(o,2),n=r[0],e=r[1];return{matcher:Uy(new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:Kf,data:{panelPageListItem:new Pr({id:n,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),[{path:"**",component:sL,canActivate:[mx]}]),SW={root:qi.c.apiGatewaySettings.endpointUrl,timeout:2e4};function EW(){var o=new Cu;return o.link=function(r){var n=r.href,t=r.text;return"page"===t?'<classifieds-ui-panel-page id="'.concat(n,'"></classifieds-ui-panel-page>'):'<classifieds-ui-page-router-link href="'.concat(n,'" text="').concat(t,'"></classifieds-ui-page-router-link>')},{renderer:o}}var DW=function(){var o,r=(0,m.A)(function n(){(0,h.A)(this,n)});return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.\u0275\u0275defineNgModule({type:o,bootstrap:[fK]}),o.\u0275inj=a.\u0275\u0275defineInjector({providers:[(0,M.provideClientHydration)(),mx,{provide:a.APP_ID,useValue:"serverApp"},{provide:sn.SITE_NAME,useValue:qi.c.site},{provide:Xm,useValue:new qm(qi.c.clientSettings)},{provide:cf,useValue:new O8(qi.c.mediaSettings)},{provide:lS,useValue:new Gj(qi.c.panelsSettings)},{provide:nW,useValue:new aW(qi.c.alienaliasSettings)},{provide:nE,useValue:new UH({disableRouting:!1})},{provide:Wd,useValue:new hk(qi.c.cognitoSettings)},{provide:AW,useValue:new bW(qi.c.rumSettings)},{provide:E.HTTP_INTERCEPTORS,useClass:dk,multi:!0},{provide:E.HTTP_INTERCEPTORS,useClass:rk,multi:!0},{provide:$u,useValue:SW},(0,a.provideAppInitializer)(function(){return function(r){var n=r.data,e=r.key;return function(t){return function(){return new L.c(function(s){(0,y.isPlatformBrowser)(t)?function sK(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki())("readwrite",function(n){return o.forEach(function(e){return n.put(e[1],e[0])}),Za(n.transaction)})}(n.map(function(l){return[e({data:l}),l]})).then(function(){console.log("data loaded into idb"),s.next(),s.complete()}).catch(function(){console.log("data load into idb failure"),s.next(),s.complete()}):(s.next(),s.complete())})}}}({key:function(t){return"panelpage__"+t.data.id},data:CW.map(function(e){return new Pr(e)})})((0,a.inject)(a.PLATFORM_ID))()}),(0,E.provideHttpClient)((0,E.withInterceptorsFromDi)(),(0,E.withJsonpSupport)())],imports:[y.CommonModule,f.FormsModule,f.ReactiveFormsModule,dc,Fd,jv.forRoot({sanitize:a.SecurityContext.NONE,markedOptions:{provide:U1,useFactory:EW}}),Yn.RouterModule.forRoot(xW,{initialNavigation:"enabledBlocking"}),qi.c.production?[]:GK.instrument({maxAge:25,logOnly:qi.c.production,connectInZone:!0}),E5.forRoot({serializer:Hv}),Em.forRoot(zK,{metaReducers:$K,runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),_c.forRoot([]),lx,aK,sn.UtilsModule,Gc,Xt.ContentModule,Gl,Sc.forRoot(),ck.forRoot(),y1,YF.forRoot({}),lL,_y,By,JH,XK,gk,pK,eq,iq,tW,mW,_W,vL,iz,Of,KH,VE,ds,EL]}),r}();console.log("bootstrap"),qi.c.production&&(0,a.enableProdMode)(),M.platformBrowser().bootstrapModule(DW).catch(function(o){return console.log(o)})},56886:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.RawSha256=void 0;var M=b(86770),a=function(){function m(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return m.prototype.update=function(h){if(this.finished)throw new Error("Attempted to update an already finished hash.");var k=0,A=h.byteLength;if(this.bytesHashed+=A,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;A>0;)this.buffer[this.bufferLength++]=h[k++],A--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},m.prototype.digest=function(){if(!this.finished){var h=8*this.bytesHashed,k=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),A=this.bufferLength;if(k.setUint8(this.bufferLength++,128),A%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var y=this.bufferLength;y<M.BLOCK_SIZE;y++)k.setUint8(y,0);this.hashBuffer(),this.bufferLength=0}for(y=this.bufferLength;y<M.BLOCK_SIZE-8;y++)k.setUint8(y,0);k.setUint32(M.BLOCK_SIZE-8,Math.floor(h/4294967296),!0),k.setUint32(M.BLOCK_SIZE-4,h),this.hashBuffer(),this.finished=!0}var E=new Uint8Array(M.DIGEST_LENGTH);for(y=0;y<8;y++)E[4*y]=this.state[y]>>>24&255,E[4*y+1]=this.state[y]>>>16&255,E[4*y+2]=this.state[y]>>>8&255,E[4*y+3]=this.state[y]>>>0&255;return E},m.prototype.hashBuffer=function(){for(var k=this.buffer,A=this.state,y=A[0],E=A[1],f=A[2],v=A[3],P=A[4],F=A[5],w=A[6],N=A[7],R=0;R<M.BLOCK_SIZE;R++){if(R<16)this.temp[R]=(255&k[4*R])<<24|(255&k[4*R+1])<<16|(255&k[4*R+2])<<8|255&k[4*R+3];else{var L=this.temp[R-2];this.temp[R]=(((L>>>17|L<<15)^(L>>>19|L<<13)^L>>>10)+this.temp[R-7]|0)+((((L=this.temp[R-15])>>>7|L<<25)^(L>>>18|L<<14)^L>>>3)+this.temp[R-16]|0)}var V=(((P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&F^~P&w)|0)+(N+(M.KEY[R]+this.temp[R]|0)|0)|0,U=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&E^y&f^E&f)|0;N=w,w=F,F=P,P=v+V|0,v=f,f=E,E=y,y=V+U|0}A[0]+=y,A[1]+=E,A[2]+=f,A[3]+=v,A[4]+=P,A[5]+=F,A[6]+=w,A[7]+=N},m}();oe.RawSha256=a},86770:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.MAX_HASHABLE_LENGTH=oe.INIT=oe.KEY=oe.DIGEST_LENGTH=oe.BLOCK_SIZE=void 0,oe.BLOCK_SIZE=64,oe.DIGEST_LENGTH=32,oe.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oe.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],oe.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},93967:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),(0,b(24398).__exportStar)(b(17011),oe)},17011:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Sha256=void 0;var M=b(24398),a=b(86770),m=b(56886),h=b(15312),k=function(){function y(E){if(this.hash=new m.RawSha256,E){this.outer=new m.RawSha256;var f=function A(y){var E=(0,h.convertToBuffer)(y);if(E.byteLength>a.BLOCK_SIZE){var f=new m.RawSha256;f.update(E),E=f.digest()}var v=new Uint8Array(a.BLOCK_SIZE);return v.set(E),v}(E),v=new Uint8Array(a.BLOCK_SIZE);v.set(f);for(var P=0;P<a.BLOCK_SIZE;P++)f[P]^=54,v[P]^=92;for(this.hash.update(f),this.outer.update(v),P=0;P<f.byteLength;P++)f[P]=0}}return y.prototype.update=function(E){if(!(0,h.isEmptyData)(E)&&!this.error)try{this.hash.update((0,h.convertToBuffer)(E))}catch(f){this.error=f}},y.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},y.prototype.digest=function(){return(0,M.__awaiter)(this,void 0,void 0,function(){return(0,M.__generator)(this,function(E){return[2,this.digestSync()]})})},y}();oe.Sha256=k},92164:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.convertToBuffer=void 0;var M=b(94965),a=typeof Buffer<"u"&&Buffer.from?function(h){return Buffer.from(h,"utf8")}:M.fromUtf8;oe.convertToBuffer=function m(h){return h instanceof Uint8Array?h:"string"==typeof h?a(h):ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(h)}},15312:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.uint32ArrayFrom=oe.numToUint8=oe.isEmptyData=oe.convertToBuffer=void 0;var M=b(92164);Object.defineProperty(oe,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var a=b(31657);Object.defineProperty(oe,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var m=b(6057);Object.defineProperty(oe,"numToUint8",{enumerable:!0,get:function(){return m.numToUint8}});var h=b(55066);Object.defineProperty(oe,"uint32ArrayFrom",{enumerable:!0,get:function(){return h.uint32ArrayFrom}})},31657:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.isEmptyData=void 0,oe.isEmptyData=function b(M){return"string"==typeof M?0===M.length:0===M.byteLength}},6057:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.numToUint8=void 0,oe.numToUint8=function b(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},55066:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.uint32ArrayFrom=void 0,oe.uint32ArrayFrom=function b(M){if(!Array.from){for(var a=new Uint32Array(M.length);0<M.length;)a[0]=M[0];return a}return Uint32Array.from(M)}},29554:(we,oe,b)=>{b.d(oe,{D:()=>O});var M=b(11),a=b(81890),m=b(43288),h=b(63398),k=b(82297),A=b(792),y=b(13544),E=b(40642),f=b(96539),v=b(65337),P=b(54931),F=b(98027),w=b(15997),N=b(54308),R=b(27111),L=b(48944),G=b(37957),T=b(13909),V=b(42855),U=b(61795),ee=b(6811),te=b(36977),K=b(97763),j=b(13928),re=b(46887),ue=function(){var H=(0,a.A)((0,M.A)().m(function J(ce,Ae,_e){var De,Fe;return(0,M.A)().w(function(Ne){for(;;)switch(Ne.n){case 0:return De=(0,j.u)(Ae).operation,Ne.n=1,(0,re.t)(ce.region)();case 1:if(Fe=Ne.v){Ne.n=2;break}Fe=function(){throw new Error("expected `region` to be configured for `aws.auth#sigv4`")}();case 2:return Ne.a(2,{operation:De,region:Fe})}},J)}));return function(ce,Ae,_e){return H.apply(this,arguments)}}(),q=function(J){var ce=[];switch(J.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":ce.push({schemeId:"smithy.api#noAuth"});break;default:ce.push(function ne(H){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:H.region},propertiesExtractor:function(ce,Ae){return{signingProperties:{config:ce,context:Ae}}}}}(J))}return ce},ye=b(90975),Ee=b(22292);var Ge=b(15312),xe={name:"SHA-256"},Be={name:"HMAC",hash:xe},Xe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Ze=b(93342),ot=function(){function H(J){this.toHash=new Uint8Array(0),this.secret=J,this.reset()}return H.prototype.update=function(J){if(!(0,Ge.isEmptyData)(J)){var ce=(0,Ge.convertToBuffer)(J),Ae=new Uint8Array(this.toHash.byteLength+ce.byteLength);Ae.set(this.toHash,0),Ae.set(ce,this.toHash.byteLength),this.toHash=Ae}},H.prototype.digest=function(){var J=this;return this.key?this.key.then(function(ce){return(0,Ze.R)().crypto.subtle.sign(Be,ce,J.toHash).then(function(Ae){return new Uint8Array(Ae)})}):(0,Ge.isEmptyData)(this.toHash)?Promise.resolve(Xe):Promise.resolve().then(function(){return(0,Ze.R)().crypto.subtle.digest(xe,J.toHash)}).then(function(ce){return Promise.resolve(new Uint8Array(ce))})},H.prototype.reset=function(){var J=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(ce,Ae){(0,Ze.R)().crypto.subtle.importKey("raw",(0,Ge.convertToBuffer)(J.secret),Be,!1,["sign"]).then(ce,Ae)}),this.key.catch(function(){}))},H}(),vt=b(24398),At=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),de=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],W=Math.pow(2,53)-1,X=function(){function H(){this.state=Int32Array.from(de),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return H.prototype.update=function(J){if(this.finished)throw new Error("Attempted to update an already finished hash.");var ce=0,Ae=J.byteLength;if(this.bytesHashed+=Ae,8*this.bytesHashed>W)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;Ae>0;)this.buffer[this.bufferLength++]=J[ce++],Ae--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},H.prototype.digest=function(){if(!this.finished){var J=8*this.bytesHashed,ce=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),Ae=this.bufferLength;if(ce.setUint8(this.bufferLength++,128),Ae%64>=56){for(var _e=this.bufferLength;_e<64;_e++)ce.setUint8(_e,0);this.hashBuffer(),this.bufferLength=0}for(_e=this.bufferLength;_e<56;_e++)ce.setUint8(_e,0);ce.setUint32(56,Math.floor(J/4294967296),!0),ce.setUint32(60,J),this.hashBuffer(),this.finished=!0}var De=new Uint8Array(32);for(_e=0;_e<8;_e++)De[4*_e]=this.state[_e]>>>24&255,De[4*_e+1]=this.state[_e]>>>16&255,De[4*_e+2]=this.state[_e]>>>8&255,De[4*_e+3]=this.state[_e]>>>0&255;return De},H.prototype.hashBuffer=function(){for(var ce=this.buffer,Ae=this.state,_e=Ae[0],De=Ae[1],Fe=Ae[2],c=Ae[3],Ne=Ae[4],He=Ae[5],Je=Ae[6],rt=Ae[7],tt=0;tt<64;tt++){if(tt<16)this.temp[tt]=(255&ce[4*tt])<<24|(255&ce[4*tt+1])<<16|(255&ce[4*tt+2])<<8|255&ce[4*tt+3];else{var he=this.temp[tt-2];this.temp[tt]=(((he>>>17|he<<15)^(he>>>19|he<<13)^he>>>10)+this.temp[tt-7]|0)+((((he=this.temp[tt-15])>>>7|he<<25)^(he>>>18|he<<14)^he>>>3)+this.temp[tt-16]|0)}var Le=(((Ne>>>6|Ne<<26)^(Ne>>>11|Ne<<21)^(Ne>>>25|Ne<<7))+(Ne&He^~Ne&Je)|0)+(rt+(At[tt]+this.temp[tt]|0)|0)|0,et=((_e>>>2|_e<<30)^(_e>>>13|_e<<19)^(_e>>>22|_e<<10))+(_e&De^_e&Fe^De&Fe)|0;rt=Je,Je=He,He=Ne,Ne=c+Le|0,c=Fe,Fe=De,De=_e,_e=Le+et|0}Ae[0]+=_e,Ae[1]+=De,Ae[2]+=Fe,Ae[3]+=c,Ae[4]+=Ne,Ae[5]+=He,Ae[6]+=Je,Ae[7]+=rt},H}(),Ce=function(){function H(J){this.secret=J,this.hash=new X,this.reset()}return H.prototype.update=function(J){if(!(0,Ge.isEmptyData)(J)&&!this.error)try{this.hash.update((0,Ge.convertToBuffer)(J))}catch(ce){this.error=ce}},H.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},H.prototype.digest=function(){return(0,vt.__awaiter)(this,void 0,void 0,function(){return(0,vt.__generator)(this,function(J){return[2,this.digestSync()]})})},H.prototype.reset=function(){if(this.hash=new X,this.secret){this.outer=new X;var J=function Pe(H){var J=(0,Ge.convertToBuffer)(H);if(J.byteLength>64){var ce=new X;ce.update(J),J=ce.digest()}var Ae=new Uint8Array(64);return Ae.set(J),Ae}(this.secret),ce=new Uint8Array(64);ce.set(J);for(var Ae=0;Ae<64;Ae++)J[Ae]^=54,ce[Ae]^=92;for(this.hash.update(J),this.outer.update(ce),Ae=0;Ae<J.byteLength;Ae++)J[Ae]=0}},H}(),ie=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var Q=function(){function H(J){this.hash=function ae(H){return!(!function Me(H){return"object"==typeof H&&"object"==typeof H.crypto&&"function"==typeof H.crypto.getRandomValues}(H)||"object"!=typeof H.crypto.subtle)&&function se(H){return H&&ie.every(function(J){return"function"==typeof H[J]})}(H.crypto.subtle)}((0,Ze.R)())?new ot(J):new Ce(J)}return H.prototype.update=function(J,ce){this.hash.update((0,Ge.convertToBuffer)(J))},H.prototype.digest=function(){return this.hash.digest()},H.prototype.reset=function(){this.hash.reset()},H}(),ve=b(71587),je=b(3668),nt=b(82502),at=b(27011),bt=b(56992),Ot=b(82499),It=b(69153),ln=b(17439),fn=b(67404),Se=function(){return(0,h.A)(function H(){(0,m.A)(this,H)},[{key:"sign",value:(J=(0,a.A)((0,M.A)().m(function Ae(_e,De,Fe){return(0,M.A)().w(function(c){for(;;)if(0===c.n)return c.a(2,_e)},Ae)})),function ce(Ae,_e,De){return J.apply(this,arguments)})}]);var J}(),Zn=b(38310),Dn=b(50993),pt=b(8833),Vt=b(47436),xt=b(87521),wt=b(56044),Ft=b(92553),ht=b(64585),Ue=b(67227),$e=b(71440),mt="required",Tt="fn",gt="argv",kt="ref",rn="booleanEquals",Bn="error",tn="endpoint",dn="tree",Pn="PartitionResult",sr="getAttr",qn="stringEquals",wn=(0,E.A)((0,E.A)({},mt,!1),"type","String"),rr=(0,E.A)((0,E.A)((0,E.A)({},mt,!0),"default",!1),"type","Boolean"),hr=(0,E.A)({},kt,"Endpoint"),Cn=(0,E.A)((0,E.A)({},Tt,rn),gt,[(0,E.A)({},kt,"UseFIPS"),!0]),cn=(0,E.A)((0,E.A)({},Tt,rn),gt,[(0,E.A)({},kt,"UseDualStack"),!0]),mn={},ta=(0,E.A)({},kt,"Region"),ni=(0,E.A)((0,E.A)({},Tt,sr),gt,[(0,E.A)({},kt,Pn),"supportsFIPS"]),Gn=(0,E.A)({},kt,Pn),Oi=(0,E.A)((0,E.A)({},Tt,rn),gt,[!0,(0,E.A)((0,E.A)({},Tt,sr),gt,[Gn,"supportsDualStack"])]),Ta=[Cn],ri=[cn],vi=[ta],za={version:"1.0",parameters:{Region:wn,UseDualStack:rr,UseFIPS:rr,Endpoint:wn},rules:[{conditions:[(0,E.A)((0,E.A)({},Tt,"isSet"),gt,[hr])],rules:[{conditions:Ta,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Bn},{conditions:ri,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Bn},{endpoint:{url:hr,properties:mn,headers:mn},type:tn}],type:dn},{conditions:[(0,E.A)((0,E.A)({},Tt,"isSet"),gt,vi)],rules:[{conditions:[(0,E.A)((0,E.A)((0,E.A)({},Tt,"aws.partition"),gt,vi),"assign",Pn)],rules:[{conditions:[Cn,cn],rules:[{conditions:[(0,E.A)((0,E.A)({},Tt,rn),gt,[!0,ni]),Oi],rules:[{conditions:[(0,E.A)((0,E.A)({},Tt,qn),gt,[ta,"us-east-1"])],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:mn,headers:mn},type:tn},{conditions:[(0,E.A)((0,E.A)({},Tt,qn),gt,[ta,"us-east-2"])],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:mn,headers:mn},type:tn},{conditions:[(0,E.A)((0,E.A)({},Tt,qn),gt,[ta,"us-west-1"])],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:mn,headers:mn},type:tn},{conditions:[(0,E.A)((0,E.A)({},Tt,qn),gt,[ta,"us-west-2"])],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:mn,headers:mn},type:tn},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mn,headers:mn},type:tn}],type:dn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Bn}],type:dn},{conditions:Ta,rules:[{conditions:[(0,E.A)((0,E.A)({},Tt,rn),gt,[ni,!0])],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:mn,headers:mn},type:tn}],type:dn},{error:"FIPS is enabled but this partition does not support FIPS",type:Bn}],type:dn},{conditions:ri,rules:[{conditions:[Oi],rules:[{conditions:[(0,E.A)((0,E.A)({},Tt,qn),gt,["aws",(0,E.A)((0,E.A)({},Tt,sr),gt,[Gn,"name"])])],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:mn,headers:mn},type:tn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mn,headers:mn},type:tn}],type:dn},{error:"DualStack is enabled but this partition does not support DualStack",type:Bn}],type:dn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:mn,headers:mn},type:tn}],type:dn}],type:dn},{error:"Invalid Configuration: Missing Region",type:Bn}]},Xi=new ht.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ys=function(J){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xi.get(J,function(){return(0,Ue.s)(za,{endpointParams:J,logger:ce.logger})})};$e.m.aws=Ft.UF;var ic=b(98526),Dd=b(75208),Ou=b(45647),_s=b(44811),Bu=b(56747),O=function(H){function J(){for(var ce,Ae=arguments.length,_e=new Array(Ae),De=0;De<Ae;De++)_e[De]=arguments[De];var Fe=_e[0];(0,m.A)(this,J);var c=function(J){var ce,Ae,_e,De,Fe,c,Ne,He,Je,rt,tt,he=(0,Dd.I)(J),Re=function(){return he().then(ic.l)},Oe=function(J){var ce,Ae,_e,De,Fe,c,Ne,He,Je,rt,tt,he;return{apiVersion:"2014-06-30",base64Decoder:null!==(ce=J?.base64Decoder)&&void 0!==ce?ce:pt.E,base64Encoder:null!==(Ae=J?.base64Encoder)&&void 0!==Ae?Ae:Vt.n,disableHostPrefix:null!==(_e=J?.disableHostPrefix)&&void 0!==_e&&_e,endpointProvider:null!==(De=J?.endpointProvider)&&void 0!==De?De:ys,extensions:null!==(Fe=J?.extensions)&&void 0!==Fe?Fe:[],httpAuthSchemeProvider:null!==(c=J?.httpAuthSchemeProvider)&&void 0!==c?c:q,httpAuthSchemes:null!==(Ne=J?.httpAuthSchemes)&&void 0!==Ne?Ne:[{schemeId:"aws.auth#sigv4",identityProvider:function(Oe){return Oe.getIdentityProvider("aws.auth#sigv4")},signer:new fn.f2},{schemeId:"smithy.api#noAuth",identityProvider:function(Oe){return Oe.getIdentityProvider("smithy.api#noAuth")||(0,a.A)((0,M.A)().m(function Le(){return(0,M.A)().w(function(et){for(;;)if(0===et.n)return et.a(2,{})},Le)}))},signer:new Se}],logger:null!==(He=J?.logger)&&void 0!==He?He:new Zn.N,serviceId:null!==(Je=J?.serviceId)&&void 0!==Je?Je:"Cognito Identity",urlParser:null!==(rt=J?.urlParser)&&void 0!==rt?rt:Dn.D,utf8Decoder:null!==(tt=J?.utf8Decoder)&&void 0!==tt?tt:xt.a,utf8Encoder:null!==(he=J?.utf8Encoder)&&void 0!==he?he:wt.P}}(J);return(0,Ee.A)((0,Ee.A)((0,Ee.A)({},Oe),J),{},{runtime:"browser",defaultsMode:he,bodyLengthChecker:null!==(ce=J?.bodyLengthChecker)&&void 0!==ce?ce:It.n,credentialDefaultProvider:null!==(Ae=J?.credentialDefaultProvider)&&void 0!==Ae?Ae:function(Le){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(_e=J?.defaultUserAgentProvider)&&void 0!==_e?_e:(0,ve.pf)({serviceId:Oe.serviceId,clientVersion:"3.914.0"}),maxAttempts:null!==(De=J?.maxAttempts)&&void 0!==De?De:ln.Gz,region:null!==(Fe=J?.region)&&void 0!==Fe?Fe:(0,Ot.B)("Region is missing"),requestHandler:at.N.create(null!==(c=J?.requestHandler)&&void 0!==c?c:Re),retryMode:null!==(Ne=J?.retryMode)&&void 0!==Ne?Ne:(0,a.A)((0,M.A)().m(function Le(){var et;return(0,M.A)().w(function(st){for(;;)switch(st.n){case 0:return st.n=1,Re();case 1:if(et=st.v.retryMode){st.n=2;break}et=ln.L0;case 2:return st.a(2,et)}},Le)})),sha256:null!==(He=J?.sha256)&&void 0!==He?He:Q,streamCollector:null!==(Je=J?.streamCollector)&&void 0!==Je?Je:bt.k,useDualstackEndpoint:null!==(rt=J?.useDualstackEndpoint)&&void 0!==rt?rt:function(){return Promise.resolve(je.VW)},useFipsEndpoint:null!==(tt=J?.useFipsEndpoint)&&void 0!==tt?tt:function(){return Promise.resolve(nt.Hj)}})}(Fe||{});ce=(0,k.A)(this,J,[c]),(0,E.A)(ce,"config",void 0),ce.initConfig=c;var Le,Ne=(0,ye.v)(c),He=(0,F.D)(Ne),Je=(0,U.$z)(He),rt=(0,N.T)(Je),tt=(0,f.OV)(rt),Re=function(J){var ce,Ae=(0,K.h)(J);return Object.assign(Ae,{authSchemePreference:(0,re.t)(null!==(ce=J.authSchemePreference)&&void 0!==ce?ce:[])})}((0,V.C)(tt)),Oe=function(J,ce){var Ae=Object.assign((0,Ou.R)(J),(0,Bu.xA)(J),(0,_s.e)(J),function(J){var ce=J.httpAuthSchemes,Ae=J.httpAuthSchemeProvider,_e=J.credentials;return{setHttpAuthScheme:function(Fe){var c=ce.findIndex(function(Ne){return Ne.schemeId===Fe.schemeId});-1===c?ce.push(Fe):ce.splice(c,1,Fe)},httpAuthSchemes:function(){return ce},setHttpAuthSchemeProvider:function(Fe){Ae=Fe},httpAuthSchemeProvider:function(){return Ae},setCredentials:function(Fe){_e=Fe},credentials:function(){return _e}}}(J));return ce.forEach(function(_e){return _e.configure(Ae)}),Object.assign(J,(0,Ou.$)(Ae),(0,Bu.uv)(Ae),(0,_s.j)(Ae),function(J){return{httpAuthSchemes:J.httpAuthSchemes(),httpAuthSchemeProvider:J.httpAuthSchemeProvider(),credentials:J.credentials()}}(Ae))}(Re,Fe?.extensions||[]);return ce.config=Oe,ce.middlewareStack.use((0,w.sM)(ce.config)),ce.middlewareStack.use((0,ee.ey)(ce.config)),ce.middlewareStack.use((0,T.vK)(ce.config)),ce.middlewareStack.use((0,f.TC)(ce.config)),ce.middlewareStack.use((0,v.Y7)(ce.config)),ce.middlewareStack.use((0,P.n)(ce.config)),ce.middlewareStack.use((0,R.w)(ce.config,{httpAuthSchemeParametersProvider:ue,identityProviderConfigProvider:(Le=(0,a.A)((0,M.A)().m(function st(Kt){return(0,M.A)().w(function(Pt){for(;;)if(0===Pt.n)return Pt.a(2,new L.h({"aws.auth#sigv4":Kt.credentials}))},st)})),function et(st){return Le.apply(this,arguments)})})),ce.middlewareStack.use((0,G.l)(ce.config)),ce}return(0,y.A)(J,H),(0,h.A)(J,[{key:"destroy",value:function(){(0,A.A)(J,"destroy",this,3)([])}}])}(te.K)},90975:(we,oe,b)=>{b.d(oe,{S:()=>a,v:()=>M});var M=function(h){var k,A;return Object.assign(h,{useDualstackEndpoint:null!==(k=h.useDualstackEndpoint)&&void 0!==k&&k,useFipsEndpoint:null!==(A=h.useFipsEndpoint)&&void 0!==A&&A,defaultSigningName:"cognito-identity"})},a={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},7931:(we,oe,b)=>{function M(a,m,h){a.__aws_sdk_context?a.__aws_sdk_context.features||(a.__aws_sdk_context.features={}):a.__aws_sdk_context={features:{}},a.__aws_sdk_context.features[m]=h}b.d(oe,{J:()=>M})},67404:(we,oe,b)=>{b.d(oe,{f2:()=>N,pz:()=>w});var M=b(98824),a=b(43288),m=b(63398),h=b(11),k=b(81890),A=b(43776),y=b(85797),E=b(91386),f=function(G){var T,V,U;return E.c.isInstance(G)?null!==(T=null===(V=G.headers)||void 0===V?void 0:V.date)&&void 0!==T?T:null===(U=G.headers)||void 0===U?void 0:U.Date:void 0},P=function(G,T){var V=Date.parse(G);return function(G,T){return Math.abs((0,y.C)(T).getTime()-G)>=3e5}(V,T)?V-Date.now():T},F=function(G,T){if(!T)throw new Error("Property `".concat(G,"` is not resolved for AWS SDK SigV4Auth"));return T},w=function(){var L=(0,k.A)((0,h.A)().m(function G(T){var V,U,ee,te,K,j,re,ue,ne;return(0,h.A)().w(function(z){for(;;)switch(z.n){case 0:return U=F("context",T.context),ee=F("config",T.config),te=null===(V=U.endpointV2)||void 0===V||null===(V=V.properties)||void 0===V||null===(V=V.authSchemes)||void 0===V?void 0:V[0],K=F("signer",ee.signer),z.n=1,K(te);case 1:return j=z.v,re=T?.signingRegion,ue=T?.signingRegionSet,ne=T?.signingName,z.a(2,{config:ee,signer:j,signingRegion:re,signingRegionSet:ue,signingName:ne})}},G)}));return function(T){return L.apply(this,arguments)}}(),N=function(){return(0,m.A)(function L(){(0,a.A)(this,L)},[{key:"sign",value:(G=(0,k.A)((0,h.A)().m(function V(U,ee,te){var K,j,re,ue,ne,z,q,pe,ye,Ee,Ie,Ge,xe;return(0,h.A)().w(function(Xe){for(;;)switch(Xe.n){case 0:if(A.K.isInstance(U)){Xe.n=1;break}throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");case 1:return Xe.n=2,w(te);case 2:return ue=(re=Xe.v).config,ne=re.signer,z=re.signingRegion,q=re.signingName,null!==(K=null==(pe=te.context)||null===(j=pe.authSchemes)||void 0===j?void 0:j.length)&&void 0!==K&&K&&(ye=(0,M.A)(pe.authSchemes,2),Ee=ye[0],Ie=ye[1],"sigv4a"===Ee?.name&&"sigv4"===Ie?.name&&(z=null!==(Ge=Ie?.signingRegion)&&void 0!==Ge?Ge:z,q=null!==(xe=Ie?.signingName)&&void 0!==xe?xe:q)),Xe.n=3,ne.sign(U,{signingDate:(0,y.C)(ue.systemClockOffset),signingRegion:z,signingService:q});case 3:return Xe.a(2,Xe.v)}},V)})),function T(V,U,ee){return G.apply(this,arguments)})},{key:"errorHandler",value:function(T){return function(V){var U,ee=null!==(U=V.ServerTime)&&void 0!==U?U:f(V.$response);if(ee){var te=F("config",T.config),K=te.systemClockOffset;te.systemClockOffset=P(ee,te.systemClockOffset),te.systemClockOffset!==K&&V.$metadata&&(V.$metadata.clockSkewCorrected=!0)}throw V}}},{key:"successHandler",value:function(T,V){var U=f(T);if(U){var ee=F("config",V.config);ee.systemClockOffset=P(U,ee.systemClockOffset)}}}]);var G}()},97763:(we,oe,b)=>{b.d(oe,{h:()=>w});var M=b(22292),a=b(98824),m=b(11),h=b(81890);function k(G,T,V){return G.$source||(G.$source={}),G.$source[T]=V,G}var A=b(43971),f=function(U){return v(U)&&U.expiration.getTime()-Date.now()<3e5},v=function(T){return void 0!==T.expiration},F=b(60324),w=function(T){var V=T.credentials,U=!!T.credentials,ee=void 0;Object.defineProperty(T,"credentials",{set:function(pe){pe&&pe!==V&&pe!==ee&&(U=!0);var ye=function R(G,T){var ee,V=T.credentials,U=T.credentialDefaultProvider;return ee=V?null!=V&&V.memoized?V:function(T,V,U){if(void 0!==T){var te,K,j,ee="function"!=typeof T?(0,h.A)((0,m.A)().m(function ne(){return(0,m.A)().w(function(z){for(;;)if(0===z.n)return z.a(2,Promise.resolve(T))},ne)})):T,re=!1,ue=function(){var ne=(0,h.A)((0,m.A)().m(function z(q){return(0,m.A)().w(function(pe){for(;;)switch(pe.p=pe.n){case 0:return K||(K=ee(q)),pe.p=1,pe.n=2,K;case 2:te=pe.v,j=!0,re=!1;case 3:return pe.p=3,K=void 0,pe.f(3);case 4:return pe.a(2,te)}},z,null,[[1,,3,4]])}));return function(q){return ne.apply(this,arguments)}}();return void 0===V?function(){var ne=(0,h.A)((0,m.A)().m(function z(q){return(0,m.A)().w(function(pe){for(;;)switch(pe.n){case 0:if(j&&(null==q||!q.forceRefresh)){pe.n=2;break}return pe.n=1,ue(q);case 1:te=pe.v;case 2:return pe.a(2,te)}},z)}));return function(z){return ne.apply(this,arguments)}}():function(){var ne=(0,h.A)((0,m.A)().m(function z(q){return(0,m.A)().w(function(pe){for(;;)switch(pe.n){case 0:if(j&&(null==q||!q.forceRefresh)){pe.n=2;break}return pe.n=1,ue(q);case 1:te=pe.v;case 2:if(!re){pe.n=3;break}return pe.a(2,te);case 3:if(U(te)){pe.n=4;break}return re=!0,pe.a(2,te);case 4:if(!V(te)){pe.n=6;break}return pe.n=5,ue(q);case 5:case 6:return pe.a(2,te)}},z)}));return function(z){return ne.apply(this,arguments)}}()}}(V,f,v):U?(0,A.t)(U(Object.assign({},G,{parentClientConfig:G}))):function(){var te=(0,h.A)((0,m.A)().m(function K(){return(0,m.A)().w(function(j){for(;;)switch(j.n){case 0:throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.");case 1:return j.a(2)}},K)}));return function(){return te.apply(this,arguments)}}(),ee.memoized=!0,ee}(T,{credentials:V=pe,credentialDefaultProvider:T.credentialDefaultProvider}),Ee=function L(G,T){if(T.configBound)return T;var V=function(){var U=(0,h.A)((0,m.A)().m(function ee(te){return(0,m.A)().w(function(K){for(;;)if(0===K.n)return K.a(2,T((0,M.A)((0,M.A)({},te),{},{callerClientConfig:G})))},ee)}));return function(te){return U.apply(this,arguments)}}();return V.memoized=T.memoized,V.configBound=!0,V}(T,ye);U&&!Ee.attributed?(ee=function(){var Ie=(0,h.A)((0,m.A)().m(function Ge(xe){return(0,m.A)().w(function(Be){for(;;)if(0===Be.n)return Be.a(2,Ee(xe).then(function(Xe){return k(Xe,"CREDENTIALS_CODE","e")}))},Ge)}));return function(xe){return Ie.apply(this,arguments)}}(),ee.memoized=Ee.memoized,ee.configBound=Ee.configBound,ee.attributed=!0):ee=Ee},get:function(){return ee},enumerable:!0,configurable:!0}),T.credentials=V;var ne,te=T.signingEscapePath,K=void 0===te||te,j=T.systemClockOffset,re=void 0===j?T.systemClockOffset||0:j,ue=T.sha256;return ne=T.signer?(0,A.t)(T.signer):T.regionInfoProvider?function(){return(0,A.t)(T.region)().then(function(){var pe=(0,h.A)((0,m.A)().m(function ye(Ee){var Ie,Ge,xe,Be,Xe;return(0,m.A)().w(function(vt){for(;;)switch(vt.n){case 0:return Ge=T,xe=Ee,vt.n=1,T.useFipsEndpoint();case 1:return Be=vt.v,vt.n=2,T.useDualstackEndpoint();case 2:return Xe=vt.v,vt.n=3,Ge.regionInfoProvider.call(Ge,xe,{useFipsEndpoint:Be,useDualstackEndpoint:Xe});case 3:if(Ie=vt.v){vt.n=4;break}Ie={};case 4:return vt.a(2,[Ie,Ee])}},ye)}));return function(ye){return pe.apply(this,arguments)}}()).then(function(pe){var ye=(0,a.A)(pe,2),Ee=ye[0],xe=Ee.signingService;T.signingRegion=T.signingRegion||Ee.signingRegion||ye[1],T.signingName=T.signingName||xe||T.serviceId;var Be=(0,M.A)((0,M.A)({},T),{},{credentials:T.credentials,region:T.signingRegion,service:T.signingName,sha256:ue,uriEscapePath:K});return new(T.signerConstructor||F.B)(Be)})}:function(){var q=(0,h.A)((0,m.A)().m(function pe(ye){var Ee,Ie,Ge,Be,Xe,Ze;return(0,m.A)().w(function(ze){for(;;)switch(ze.n){case 0:return Be=Object,Xe={},Ze=T.signingName||T.defaultSigningName,ze.n=1,(0,A.t)(T.region)();case 1:return ye=Be.assign.call(Be,Xe,{name:"sigv4",signingName:Ze,signingRegion:ze.v,properties:{}},ye),Ee=ye.signingRegion,Ie=ye.signingName,T.signingRegion=T.signingRegion||Ee,T.signingName=T.signingName||Ie||T.serviceId,Ge=(0,M.A)((0,M.A)({},T),{},{credentials:T.credentials,region:T.signingRegion,service:T.signingName,sha256:ue,uriEscapePath:K}),ze.a(2,new(T.signerConstructor||F.B)(Ge))}},pe)}));return function(ye){return q.apply(this,arguments)}}(),Object.assign(T,{systemClockOffset:re,signingEscapePath:K,signer:ne})}},85797:(we,oe,b)=>{b.d(oe,{C:()=>M});var M=function(m){return new Date(Date.now()+m)}},76446:(we,oe,b)=>{b.d(oe,{w:()=>m});var M=b(57622),a=b(56044),m=function(k,A){return(0,M.P)(k,A).then(function(y){var E;return(null!==(E=A?.utf8Encoder)&&void 0!==E?E:a.P)(y)})}},97668:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.AwsCrc32=void 0;var M=b(24398),a=b(15312),m=b(62933),h=function(){function k(){this.crc32=new m.Crc32}return k.prototype.update=function(A){(0,a.isEmptyData)(A)||this.crc32.update((0,a.convertToBuffer)(A))},k.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(A){return[2,(0,a.numToUint8)(this.crc32.digest())]})})},k.prototype.reset=function(){this.crc32=new m.Crc32},k}();oe.AwsCrc32=h},62933:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.AwsCrc32=oe.Crc32=oe.crc32=void 0;var M=b(24398),a=b(15312);oe.crc32=function m(E){return(new h).update(E).digest()};var h=function(){function E(){this.checksum=4294967295}return E.prototype.update=function(f){var v,P;try{for(var F=M.__values(f),w=F.next();!w.done;w=F.next())this.checksum=this.checksum>>>8^A[255&(this.checksum^w.value)]}catch(R){v={error:R}}finally{try{w&&!w.done&&(P=F.return)&&P.call(F)}finally{if(v)throw v.error}}return this},E.prototype.digest=function(){return(4294967295^this.checksum)>>>0},E}();oe.Crc32=h;var A=(0,a.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),y=b(97668);Object.defineProperty(oe,"AwsCrc32",{enumerable:!0,get:function(){return y.AwsCrc32}})},96539:(we,oe,b)=>{b.d(oe,{OV:()=>h,TC:()=>y});var M=b(11),a=b(81890),m=b(43776);function h(E){return E}var A={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},y=function(f){return{applyToStack:function(P){P.add(function(f){return function(v){return function(){var P=(0,a.A)((0,M.A)().m(function F(w){var N,L,T;return(0,M.A)().w(function(V){for(;;)switch(V.n){case 0:if(m.K.isInstance(w.request)){V.n=1;break}return V.a(2,v(w));case 1:return N=w.request,(void 0===(L=(f.requestHandler.metadata||{}).handlerProtocol)?"":L).indexOf("h2")>=0&&!N.headers[":authority"]?(delete N.headers.host,N.headers[":authority"]=N.hostname+(N.port?":"+N.port:"")):N.headers.host||(T=N.hostname,null!=N.port&&(T+=":".concat(N.port)),N.headers.host=T),V.a(2,v(w))}},F)}));return function(F){return P.apply(this,arguments)}}()}}(f),A)}}}},65337:(we,oe,b)=>{b.d(oe,{Y7:()=>y});var M=b(11),a=b(88051),m=b(81890),h=["$metadata"],A={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},y=function(f){return{applyToStack:function(P){P.add(function(f,v){return function(){var P=(0,m.A)((0,M.A)().m(function F(w){var N,R,L,G,T,V,U,K,j,re,ue,ne,z,q,pe,ye,Ee,xe,Be;return(0,M.A)().w(function(Xe){for(;;)switch(Xe.p=Xe.n){case 0:return Xe.p=0,Xe.n=1,f(w);case 1:return L=v.clientName,G=v.commandName,T=v.logger,K=(U=void 0===(V=v.dynamoDbDocumentClientOptions)?{}:V).overrideInputFilterSensitiveLog??v.inputFilterSensitiveLog,j=U.overrideOutputFilterSensitiveLog??v.outputFilterSensitiveLog,ue=(re=(R=Xe.v).output).$metadata,ne=(0,a.A)(re,h),null==T||null===(N=T.info)||void 0===N||N.call(T,{clientName:L,commandName:G,input:K(w.input),output:j(ne),metadata:ue}),Xe.a(2,R);case 2:throw Xe.p=2,Be=Xe.v,q=v.clientName,pe=v.commandName,xe=(void 0===(Ee=v.dynamoDbDocumentClientOptions)?{}:Ee).overrideInputFilterSensitiveLog??v.inputFilterSensitiveLog,null==(ye=v.logger)||null===(z=ye.error)||void 0===z||z.call(ye,{clientName:q,commandName:pe,input:xe(w.input),error:Be,metadata:Be.$metadata}),Be;case 3:return Xe.a(2)}},F,null,[[0,2]])}));return function(F){return P.apply(this,arguments)}}()},A)}}}},54931:(we,oe,b)=>{b.d(oe,{n:()=>k});var M={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},a=b(11),m=b(81890),k=function(y){return{applyToStack:function(f){f.add(function(y){return function(){var E=(0,m.A)((0,a.A)().m(function f(v){return(0,a.A)().w(function(P){for(;;)if(0===P.n)return P.a(2,y(v))},f)}));return function(f){return E.apply(this,arguments)}}()},M)}}}},98027:(we,oe,b)=>{b.d(oe,{D:()=>A});var M=b(11),a=b(81890),m=b(43971),h=void 0;function k(y){return void 0===y||"string"==typeof y&&y.length<=50}function A(y){var E,P,f=(0,m.t)(null!==(E=y.userAgentAppId)&&void 0!==E?E:h),v=y.customUserAgent;return Object.assign(y,{customUserAgent:"string"==typeof v?[[v]]:v,userAgentAppId:(P=(0,a.A)((0,M.A)().m(function w(){var N,R,L;return(0,M.A)().w(function(G){for(;;)switch(G.n){case 0:return G.n=1,f();case 1:return k(N=G.v)||(L="NoOpLogger"!==(null===(R=y.logger)||void 0===R||null===(R=R.constructor)||void 0===R?void 0:R.name)&&y.logger?y.logger:console,"string"!=typeof N?L?.warn("userAgentAppId must be a string or undefined."):N.length>50&&L?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")),G.a(2,N)}},w)})),function F(){return P.apply(this,arguments)})})}},15997:(we,oe,b)=>{b.d(oe,{sM:()=>j});var M=b(11),a=b(22292),m=b(63730),h=b(81890),k=b(92553),A=b(43776),y=b(98824),E=b(7931),f=/\d{12}\.ddb/;function v(re,ue,ne){return P.apply(this,arguments)}function P(){return(P=(0,h.A)((0,M.A)().m(function re(ue,ne,z){var q,pe,ye,Ee,Ie,Ge,xe,Be,Xe,Ze,ot,vt,ze,Ye,W;return(0,M.A)().w(function(X){for(;;)switch(X.n){case 0:if("rpc-v2-cbor"===(null==(ye=z.request)||null===(q=ye.headers)||void 0===q?void 0:q["smithy-protocol"])&&(0,E.J)(ue,"PROTOCOL_RPC_V2_CBOR","M"),"function"!=typeof ne.retryStrategy){X.n=2;break}return X.n=1,ne.retryStrategy();case 1:"function"==typeof(Ee=X.v).acquireInitialRetryToken?null!==(Ie=Ee.constructor)&&void 0!==Ie&&null!==(Ie=Ie.name)&&void 0!==Ie&&Ie.includes("Adaptive")?(0,E.J)(ue,"RETRY_MODE_ADAPTIVE","F"):(0,E.J)(ue,"RETRY_MODE_STANDARD","E"):(0,E.J)(ue,"RETRY_MODE_LEGACY","D");case 2:if("function"!=typeof ne.accountIdEndpointMode){X.n=7;break}return Be=ue.endpointV2,String(null==Be||null===(Ge=Be.url)||void 0===Ge?void 0:Ge.hostname).match(f)&&(0,E.J)(ue,"ACCOUNT_ID_ENDPOINT","O"),X.n=3,null===(xe=ne.accountIdEndpointMode)||void 0===xe?void 0:xe.call(ne);case 3:X.n="disabled"===(W=X.v)?4:"preferred"===W?5:"required"===W?6:7;break;case 4:return(0,E.J)(ue,"ACCOUNT_ID_MODE_DISABLED","Q"),X.a(3,7);case 5:return(0,E.J)(ue,"ACCOUNT_ID_MODE_PREFERRED","P"),X.a(3,7);case 6:return(0,E.J)(ue,"ACCOUNT_ID_MODE_REQUIRED","R"),X.a(3,7);case 7:if(null!=(Xe=null===(pe=ue.__smithy_context)||void 0===pe||null===(pe=pe.selectedHttpAuthScheme)||void 0===pe?void 0:pe.identity)&&Xe.$source)for((Ze=Xe).accountId&&(0,E.J)(ue,"RESOLVED_ACCOUNT_ID","T"),ot=0,vt=Object.entries(null!==(ze=Ze.$source)&&void 0!==ze?ze:{});ot<vt.length;ot++)Ye=(0,y.A)(vt[ot],2),(0,E.J)(ue,Ye[0],Ye[1]);case 8:return X.a(2)}},re)}))).apply(this,arguments)}var F="user-agent",w="x-amz-user-agent",L=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,G=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;function U(re){var ue="";for(var ne in re){var z=re[ne];if(!(ue.length+z.length+1<=1024))break;ue+=ue.length?","+z:z}return ue}var te=function(ue){var ne,z=ue[0].split("/").map(function(Ie){return Ie.replace(L,"-")}).join("/"),q=null===(ne=ue[1])||void 0===ne?void 0:ne.replace(G,"-"),pe=z.indexOf("/"),ye=z.substring(0,pe),Ee=z.substring(pe+1);return"api"===ye&&(Ee=Ee.toLowerCase()),[ye,Ee,q].filter(function(Ie){return Ie&&Ie.length>0}).reduce(function(Ie,Ge,xe){switch(xe){case 0:return Ge;case 1:return"".concat(Ie,"/").concat(Ge);default:return"".concat(Ie,"#").concat(Ge)}},"")},K={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},j=function(ue){return{applyToStack:function(z){z.add(function(ue){return function(ne,z){return function(){var q=(0,h.A)((0,M.A)().m(function pe(ye){var Ee,Ie,Ge,xe,Be,Xe,Ze,ot,ze,Ye,At,de,W;return(0,M.A)().w(function(X){for(;;)switch(X.n){case 0:if(A.K.isInstance(Be=ye.request)){X.n=1;break}return X.a(2,ne(ye));case 1:return Xe=Be.headers,Ze=(null==z||null===(Ee=z.userAgent)||void 0===Ee?void 0:Ee.map(te))||[],X.n=2,ue.defaultUserAgentProvider();case 2:return ot=X.v.map(te),X.n=3,v(z,ue,ye);case 3:return ot.push("m/".concat(U(Object.assign({},null===(Ie=z.__smithy_context)||void 0===Ie?void 0:Ie.features,null===(Ge=z.__aws_sdk_context)||void 0===Ge?void 0:Ge.features)))),ze=(null==ue||null===(xe=ue.customUserAgent)||void 0===xe?void 0:xe.map(te))||[],X.n=4,ue.userAgentAppId();case 4:return(Ye=X.v)&&ot.push(te(["app/".concat(Ye)])),At=(0,k.vL)(),de=(At?[At]:[]).concat([].concat((0,m.A)(ot),(0,m.A)(Ze),(0,m.A)(ze))).join(" "),W=[].concat((0,m.A)(ot.filter(function(Ce){return Ce.startsWith("aws-sdk-")})),(0,m.A)(ze)).join(" "),"browser"!==ue.runtime?(W&&(Xe[w]=Xe[w]?"".concat(Xe[F]," ").concat(W):W),Xe[F]=de):Xe[w]=de,X.a(2,ne((0,a.A)((0,a.A)({},ye),{},{request:Be})))}},pe)}));return function(pe){return q.apply(this,arguments)}}()}}(ue),K)}}}},45647:(we,oe,b)=>{b.d(oe,{$:()=>a,R:()=>M});var M=function(h){return{setRegion:function(A){h.region=A},region:function(){return h.region}}},a=function(h){return{region:h.region()}}},92553:(we,oe,b)=>{b.d(oe,{UF:()=>V,vL:()=>T});var M=b(71440),a=b(50438),m=b(98023),h=b(54110),k=function(K){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var ue,re=(0,a.A)(K.split("."));try{for(re.s();!(ue=re.n()).done;)if(!k(ue.value))return!1}catch(z){re.e(z)}finally{re.f()}return!0}return!(!(0,m.X)(K)||K.length<3||K.length>63||K!==K.toLowerCase()||(0,h.o)(K))},A=b(6724),v=b(98824),P=b(22292),w=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}'),T=function(){return""},V={isVirtualHostableS3Bucket:k,parseArn:function(K){var j=K.split(":");if(j.length<6)return null;var re=(0,A.A)(j),ue=re[0],ne=re[1],z=re[2],q=re[3],pe=re[4],ye=re.slice(5);return"arn"!==ue||""===ne||""===z||""===ye.join(":")?null:{partition:ne,service:z,region:q,accountId:pe,resourceId:ye.map(function(Ie){return Ie.split("/")}).flat()}},partition:function(K){var ne,re=w.partitions,ue=(0,a.A)(re);try{for(ue.s();!(ne=ue.n()).done;)for(var z=ne.value,pe=z.outputs,ye=0,Ee=Object.entries(z.regions);ye<Ee.length;ye++){var Ie=(0,v.A)(Ee[ye],2),xe=Ie[1];if(Ie[0]===K)return(0,P.A)((0,P.A)({},pe),xe)}}catch(Ye){ue.e(Ye)}finally{ue.f()}var Xe,Be=(0,a.A)(re);try{for(Be.s();!(Xe=Be.n()).done;){var Ze=Xe.value,vt=Ze.outputs;if(new RegExp(Ze.regionRegex).test(K))return(0,P.A)({},vt)}}catch(Ye){Be.e(Ye)}finally{Be.f()}var ze=re.find(function(Ye){return"aws"===Ye.id});if(!ze)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return(0,P.A)({},ze.outputs)}};M.m.aws=V},93342:(we,oe,b)=>{b.d(oe,{R:()=>a});var M={};function a(){return typeof window<"u"?window:typeof self<"u"?self:M}},71587:(we,oe,b)=>{b.d(oe,{pf:()=>m});var M=b(11),a=b(81890),m=function(y){var E=y.serviceId,f=y.clientVersion;return function(){var v=(0,a.A)((0,M.A)().m(function P(F){var w,N,R,L,G,T,V,U,ee,te,K,j,re,ne,z,q,pe,ye,Ee;return(0,M.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:return K=typeof window<"u"?window.navigator:void 0,j=null!==(w=K?.userAgent)&&void 0!==w?w:"",re=null!==(N=null!==(R=null==K||null===(L=K.userAgentData)||void 0===L?void 0:L.platform)&&void 0!==R?R:h.os(j))&&void 0!==N?N:"other",ne=null!==(G=null==K||null===(T=K.userAgentData)||void 0===T?void 0:T.brands)&&void 0!==G?G:[],z=ne[ne.length-1],q=null!==(V=null!==(U=z?.brand)&&void 0!==U?U:h.browser(j))&&void 0!==V?V:"unknown",pe=null!==(ee=z?.version)&&void 0!==ee?ee:"unknown",ye=[["aws-sdk-js",f],["ua","2.1"],["os/".concat(re),void 0],["lang/js"],["md/browser","".concat(q,"_").concat(pe)]],E&&ye.push(["api/".concat(E),f]),Ie.n=1,null==F||null===(te=F.userAgentAppId)||void 0===te?void 0:te.call(F);case 1:return(Ee=Ie.v)&&ye.push(["app/".concat(Ee)]),Ie.a(2,ye)}},P)}));return function(P){return v.apply(this,arguments)}}()},h={os:function(y){return/iPhone|iPad|iPod/.test(y)?"iOS":/Macintosh|Mac OS X/.test(y)?"macOS":/Windows NT/.test(y)?"Windows":/Android/.test(y)?"Android":/Linux/.test(y)?"Linux":void 0},browser:function(y){return/EdgiOS|EdgA|Edg\//.test(y)?"Microsoft Edge":/Firefox\//.test(y)?"Firefox":/Chrome\//.test(y)?"Chrome":/Safari\//.test(y)?"Safari":void 0}}},94965:(we,oe,b)=>{b.r(oe),b.d(oe,{fromUtf8:()=>k,toUtf8:()=>A});var k=function(E){return"function"==typeof TextEncoder?function m(y){return(new TextEncoder).encode(y)}(E):function(E){for(var f=[],v=0,P=E.length;v<P;v++){var F=E.charCodeAt(v);if(F<128)f.push(F);else if(F<2048)f.push(F>>6|192,63&F|128);else if(v+1<E.length&&55296==(64512&F)&&56320==(64512&E.charCodeAt(v+1))){var w=65536+((1023&F)<<10)+(1023&E.charCodeAt(++v));f.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}else f.push(F>>12|224,F>>6&63|128,63&F|128)}return Uint8Array.from(f)}(E)},A=function(E){return"function"==typeof TextDecoder?function h(y){return new TextDecoder("utf-8").decode(y)}(E):function(E){for(var f="",v=0,P=E.length;v<P;v++){var F=E[v];if(F<128)f+=String.fromCharCode(F);else if(192<=F&&F<224){var w=E[++v];f+=String.fromCharCode((31&F)<<6|63&w)}else if(240<=F&&F<365){var R="%"+[F,E[++v],E[++v],E[++v]].map(function(L){return L.toString(16)}).join("%");f+=decodeURIComponent(R)}else f+=String.fromCharCode((15&F)<<12|(63&E[++v])<<6|63&E[++v])}return f}(E)}},3668:(we,oe,b)=>{b.d(oe,{VW:()=>k}),b(80694),b(62734);var k=!1},82502:(we,oe,b)=>{b.d(oe,{Hj:()=>k}),b(80694),b(62734);var k=!1},54308:(we,oe,b)=>{b.d(oe,{T:()=>E});var M=b(11),a=b(81890),m=b(98023),h=new Set,k=function(v){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.X;if(!h.has(v)&&!P(v))throw new Error('Region not accepted: region="'.concat(v,'" is not a valid hostname component.'));h.add(v)},A=function(v){return"string"==typeof v&&(v.startsWith("fips-")||v.endsWith("-fips"))},y=function(v){return A(v)?["fips-aws-global","aws-fips"].includes(v)?"us-east-1":v.replace(/fips-(dkr-|prod-)?|-fips/,""):v},E=function(v){var w,P=v.region,F=v.useFipsEndpoint;if(!P)throw new Error("Region is missing");return Object.assign(v,{region:(w=(0,a.A)((0,M.A)().m(function R(){var G,T;return(0,M.A)().w(function(V){for(;;)switch(V.n){case 0:if("function"!=typeof P){V.n=2;break}return V.n=1,P();case 1:T=V.v,V.n=3;break;case 2:T=P;case 3:return G=y(T),k(G),V.a(2,G)}},R)})),function N(){return w.apply(this,arguments)}),useFipsEndpoint:function(){var w=(0,a.A)((0,M.A)().m(function R(){var G;return(0,M.A)().w(function(T){for(;;)switch(T.n){case 0:if("string"!=typeof P){T.n=1;break}G=P,T.n=3;break;case 1:return T.n=2,P();case 2:G=T.v;case 3:if(!A(G)){T.n=4;break}return T.a(2,!0);case 4:return T.a(2,"function"!=typeof F?Promise.resolve(!!F):F())}},R)}));return function N(){return w.apply(this,arguments)}}()})}},27111:(we,oe,b)=>{b.d(oe,{w:()=>f});var M=b(11),a=b(81890),m=b(50438),h=b(13928),k=function(P,F){if(!F||0===F.length)return P;var R,w=[],N=(0,m.A)(F);try{for(N.s();!(R=N.n()).done;){var T,L=R.value,G=(0,m.A)(P);try{for(G.s();!(T=G.n()).done;){var V=T.value;V.schemeId.split("#")[1]===L&&w.push(V)}}catch(j){G.e(j)}finally{G.f()}}}catch(j){N.e(j)}finally{N.f()}var te,ee=(0,m.A)(P);try{var K=function(){var re=te.value;w.find(function(ue){return ue.schemeId===re.schemeId})||w.push(re)};for(ee.s();!(te=ee.n()).done;)K()}catch(j){ee.e(j)}finally{ee.f()}return w};function A(v){var w,P=new Map,F=(0,m.A)(v);try{for(F.s();!(w=F.n()).done;){var N=w.value;P.set(N.schemeId,N)}}catch(R){F.e(R)}finally{F.f()}return P}var E={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},f=function(P,F){var w=F.httpAuthSchemeParametersProvider,N=F.identityProviderConfigProvider;return{applyToStack:function(L){L.addRelativeTo(function(P,F){return function(w,N){return function(){var R=(0,a.A)((0,M.A)().m(function L(G){var T,U,ee,te,K,j,re,ue,ne,z,q,pe,ye,Ie,Ge,xe,Be,Xe,Ze;return(0,M.A)().w(function(Ye){for(;;)switch(Ye.p=Ye.n){case 0:return xe=P,Ye.n=1,F.httpAuthSchemeParametersProvider(P,N,G.input);case 1:if(T=xe.httpAuthSchemeProvider.call(xe,Ye.v),!P.authSchemePreference){Ye.n=3;break}return Ye.n=2,P.authSchemePreference();case 2:Be=Ye.v,Ye.n=4;break;case 3:Be=[];case 4:U=k(T,Be),ee=A(P.httpAuthSchemes),te=(0,h.u)(N),K=[],j=(0,m.A)(U),Ye.p=5,j.s();case 6:if((re=j.n()).done){Ye.n=12;break}if(z=ee.get((ne=re.value).schemeId)){Ye.n=7;break}return K.push("HttpAuthScheme `".concat(ne.schemeId,"` was not enabled for this service.")),Ye.a(3,11);case 7:return Xe=z,Ye.n=8,F.identityProviderConfigProvider(P);case 8:if(q=Xe.identityProvider.call(Xe,Ye.v)){Ye.n=9;break}return K.push("HttpAuthScheme `".concat(ne.schemeId,"` did not have an IdentityProvider configured.")),Ye.a(3,11);case 9:return pe=(null===(ue=ne.propertiesExtractor)||void 0===ue?void 0:ue.call(ne,P,N))||{},ye=pe.identityProperties,Ge=void 0===(Ie=pe.signingProperties)?{}:Ie,ne.identityProperties=Object.assign(ne.identityProperties||{},void 0===ye?{}:ye),ne.signingProperties=Object.assign(ne.signingProperties||{},Ge),Ze=ne,Ye.n=10,q(ne.identityProperties);case 10:return te.selectedHttpAuthScheme={httpAuthOption:Ze,identity:Ye.v,signer:z.signer},Ye.a(3,12);case 11:Ye.n=6;break;case 12:Ye.n=14;break;case 13:Ye.p=13,j.e(Ye.v);case 14:return Ye.p=14,j.f(),Ye.f(14);case 15:if(te.selectedHttpAuthScheme){Ye.n=16;break}throw new Error(K.join("\n"));case 16:return Ye.a(2,w(G))}},L,null,[[5,13,14,15]])}));return function(L){return R.apply(this,arguments)}}()}}(P,{httpAuthSchemeParametersProvider:w,identityProviderConfigProvider:N}),E)}}}},37957:(we,oe,b)=>{b.d(oe,{l:()=>v,Q:()=>f});var M=b(11),a=b(22292),m=b(81890),h=b(43776),k=b(13928),A=function(F){return function(w){throw w}},y=function(F,w){},f={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},v=function(F){return{applyToStack:function(N){N.addRelativeTo(function(w,N){return function(){var R=(0,m.A)((0,M.A)().m(function L(G){var T,V,U,ee,te,K,j,re,ue,ne,z,q;return(0,M.A)().w(function(pe){for(;;)switch(pe.n){case 0:if(h.K.isInstance(G.request)){pe.n=1;break}return pe.a(2,w(G));case 1:if(T=(0,k.u)(N),V=T.selectedHttpAuthScheme){pe.n=2;break}throw new Error("No HttpAuthScheme was selected: unable to sign request");case 2:return ee=void 0===(U=V.httpAuthOption.signingProperties)?{}:U,te=V.identity,K=V.signer,re=w,ue=a.A,ne=(0,a.A)({},G),z={},pe.n=3,K.sign(G.request,te,ee);case 3:return q=pe.v,pe.n=4,re(ue(ne,z,{request:q})).catch((K.errorHandler||A)(ee));case 4:return(K.successHandler||y)((j=pe.v).response,ee),pe.a(2,j)}},L)}));return function(L){return R.apply(this,arguments)}}()},f)}}}},43971:(we,oe,b)=>{b.d(oe,{t:()=>M});var M=function(m){if("function"==typeof m)return m;var h=Promise.resolve(m);return function(){return h}}},57622:(we,oe,b)=>{b.d(oe,{P:()=>w});var M=b(11),a=b(81890),m=b(43288),h=b(63398),k=b(82297),A=b(13544),y=b(94334),E=b(47436),f=b(8833),v=b(56044),P=b(87521),F=function(N){function R(){return(0,m.A)(this,R),(0,k.A)(this,R,arguments)}return(0,A.A)(R,N),(0,h.A)(R,[{key:"transformToString",value:function(){return"base64"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8")?(0,E.n)(this):(0,v.P)(this)}}],[{key:"fromString",value:function(G){if("string"==typeof G)return R.mutate("base64"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8")?(0,f.E)(G):(0,P.a)(G));throw new Error("Unsupported conversion from ".concat(typeof G," to Uint8ArrayBlobAdapter."))}},{key:"mutate",value:function(G){return Object.setPrototypeOf(G,R.prototype),G}}])}((0,y.A)(Uint8Array)),w=function(){var N=(0,a.A)(function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,L=arguments.length>1?arguments[1]:void 0;return(0,M.A)().m(function G(){var T,V;return(0,M.A)().w(function(U){for(;;)switch(U.n){case 0:if(!(R instanceof Uint8Array)){U.n=1;break}return U.a(2,F.mutate(R));case 1:if(R){U.n=2;break}return U.a(2,F.mutate(new Uint8Array));case 2:return T=L.streamCollector(R),V=F,U.n=3,T;case 3:return U.a(2,V.mutate.call(V,U.v))}},G)})()});return function(){return N.apply(this,arguments)}}()},32723:(we,oe,b)=>{b.d(oe,{JV:()=>k,l3:()=>N,t_:()=>f,xE:()=>w});var M=b(98824),a=b(69176),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(ne){var z=ne.getUTCFullYear(),q=ne.getUTCMonth(),pe=ne.getUTCDay(),ye=ne.getUTCDate(),Ee=ne.getUTCHours(),Ie=ne.getUTCMinutes(),Ge=ne.getUTCSeconds(),xe=ye<10?"0".concat(ye):"".concat(ye),Be=Ee<10?"0".concat(Ee):"".concat(Ee),Xe=Ie<10?"0".concat(Ie):"".concat(Ie),Ze=Ge<10?"0".concat(Ge):"".concat(Ge);return"".concat(m[pe],", ").concat(xe," ").concat(h[q]," ").concat(z," ").concat(Be,":").concat(Xe,":").concat(Ze," GMT")}var E=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),f=function(z){if(null!=z){if("string"!=typeof z)throw new TypeError("RFC-3339 date-times must be expressed as strings");var q=E.exec(z);if(!q)throw new TypeError("Invalid RFC-3339 date-time value");var pe=(0,M.A)(q,9),Ie=pe[2],Ge=pe[3],xe=pe[4],Be=pe[5],Xe=pe[6],Ze=pe[7],ot=pe[8],vt=(0,a.zi)(ue(pe[1])),ze=K(Ie,"month",1,12),Ye=K(Ge,"day",1,31),At=R(vt,ze,Ye,{hours:xe,minutes:Be,seconds:Xe,fractionalMilliseconds:Ze});return"Z"!=ot.toUpperCase()&&At.setTime(At.getTime()-re(ot)),At}},v=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),P=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),F=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),w=function(z){if(null!=z){if("string"!=typeof z)throw new TypeError("RFC-7231 date-times must be expressed as strings");var q=v.exec(z);if(q){var ye=(0,M.A)(q,8),Ie=ye[1],Ge=ye[2],Be=ye[4],Xe=ye[5],Ze=ye[6],ot=ye[7];return R((0,a.zi)(ue(ye[3])),V(Ge),K(Ie,"day",1,31),{hours:Be,minutes:Xe,seconds:Ze,fractionalMilliseconds:ot})}if(q=P.exec(z)){var ze=(0,M.A)(q,8),At=ze[1],de=ze[2],X=ze[4],Ce=ze[5],Pe=ze[6],ie=ze[7];return T(R(L(ze[3]),V(de),K(At,"day",1,31),{hours:X,minutes:Ce,seconds:Pe,fractionalMilliseconds:ie}))}if(q=F.exec(z)){var Me=(0,M.A)(q,8),Z=Me[1],Q=Me[2],ve=Me[3],je=Me[4],nt=Me[5],at=Me[6];return R((0,a.zi)(ue(Me[7])),V(Z),K(Q.trimLeft(),"day",1,31),{hours:ve,minutes:je,seconds:nt,fractionalMilliseconds:at})}throw new TypeError("Invalid RFC-7231 date-time value")}},N=function(z){if(null!=z){var q;if("number"==typeof z)q=z;else if("string"==typeof z)q=(0,a.OZ)(z);else{if("object"!=typeof z||1!==z.tag)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");q=z.value}if(Number.isNaN(q)||q===1/0||q===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*q))}},R=function(z,q,pe,ye){var Ee=q-1;return ee(z,Ee,pe),new Date(Date.UTC(z,Ee,pe,K(ye.hours,"hour",0,23),K(ye.minutes,"minute",0,59),K(ye.seconds,"seconds",0,60),j(ye.fractionalMilliseconds)))},L=function(z){var q=(new Date).getUTCFullYear(),pe=100*Math.floor(q/100)+(0,a.zi)(ue(z));return pe<q?pe+100:pe},T=function(z){return z.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(z.getUTCFullYear()-100,z.getUTCMonth(),z.getUTCDate(),z.getUTCHours(),z.getUTCMinutes(),z.getUTCSeconds(),z.getUTCMilliseconds())):z},V=function(z){var q=h.indexOf(z);if(q<0)throw new TypeError("Invalid month: ".concat(z));return q+1},U=[31,28,31,30,31,30,31,31,30,31,30,31],ee=function(z,q,pe){var ye=U[q];if(1===q&&te(z)&&(ye=29),pe>ye)throw new TypeError("Invalid day for ".concat(h[q]," in ").concat(z,": ").concat(pe))},te=function(z){return z%4==0&&(z%100!=0||z%400==0)},K=function(z,q,pe,ye){var Ee=(0,a.tW)(ue(z));if(Ee<pe||Ee>ye)throw new TypeError("".concat(q," must be between ").concat(pe," and ").concat(ye,", inclusive"));return Ee},j=function(z){return null==z?0:1e3*(0,a.UO)("0."+z)},re=function(z){var q=z[0],pe=1;if("+"==q)pe=1;else{if("-"!=q)throw new TypeError("Offset direction, ".concat(q,', must be "+" or "-"'));pe=-1}return pe*(60*Number(z.substring(1,3))+Number(z.substring(4,6)))*60*1e3},ue=function(z){for(var q=0;q<z.length-1&&"0"===z.charAt(q);)q++;return 0===q?z:z.slice(q)}},69176:(we,oe,b)=>{b.d(oe,{OZ:()=>G,UO:()=>V,V0:()=>ne,Xk:()=>N,Y0:()=>w,lK:()=>R,r$:()=>m,tW:()=>ye,yG:()=>M,zi:()=>pe});var M=function(xe){switch(xe){case"true":return!0;case"false":return!1;default:throw new Error('Unable to parse boolean value "'.concat(xe,'"'))}},m=function(xe){if(null!=xe){if("string"==typeof xe){var Be=parseFloat(xe);if(!Number.isNaN(Be))return String(Be)!==String(xe)&&Ie.warn(Ee("Expected number but observed string: ".concat(xe))),Be}if("number"==typeof xe)return xe;throw new TypeError("Expected number, got ".concat(typeof xe,": ").concat(xe))}},h=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),A=function(xe){if(null!=xe){if(Number.isInteger(xe)&&!Number.isNaN(xe))return xe;throw new TypeError("Expected integer, got ".concat(typeof xe,": ").concat(xe))}},P=function(xe,Be){var Xe=A(xe);if(void 0!==Xe&&F(Xe,Be)!==Xe)throw new TypeError("Expected ".concat(Be,"-bit integer, got ").concat(xe));return Xe},F=function(xe,Be){switch(Be){case 32:return Int32Array.of(xe)[0];case 16:return Int16Array.of(xe)[0];case 8:return Int8Array.of(xe)[0]}},w=function(xe,Be){if(null==xe)throw Be?new TypeError("Expected a non-null value for ".concat(Be)):new TypeError("Expected a non-null value");return xe},N=function(xe){if(null!=xe){if("object"==typeof xe&&!Array.isArray(xe))return xe;var Be=Array.isArray(xe)?"array":typeof xe;throw new TypeError("Expected object, got ".concat(Be,": ").concat(xe))}},R=function(xe){if(null!=xe){if("string"==typeof xe)return xe;if(["boolean","number","bigint"].includes(typeof xe))return Ie.warn(Ee("Expected string, got ".concat(typeof xe,": ").concat(xe))),String(xe);throw new TypeError("Expected string, got ".concat(typeof xe,": ").concat(xe))}},G=function(xe){return m("string"==typeof xe?ee(xe):xe)},V=function(xe){return function(xe){var Be=m(xe);if(void 0!==Be&&!Number.isNaN(Be)&&Be!==1/0&&Be!==-1/0&&Math.abs(Be)>h)throw new TypeError("Expected 32-bit float, got ".concat(xe));return Be}("string"==typeof xe?ee(xe):xe)},U=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ee=function(xe){var Be=xe.match(U);if(null===Be||Be[0].length!==xe.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(xe)},ne=function(xe){return A("string"==typeof xe?ee(xe):xe)},pe=function(xe){return function(xe){return P(xe,16)}("string"==typeof xe?ee(xe):xe)},ye=function(xe){return function(xe){return P(xe,8)}("string"==typeof xe?ee(xe):xe)},Ee=function(xe){return String(new TypeError(xe).stack||xe).split("\n").slice(0,5).filter(function(Be){return!Be.includes("stackTraceWarning")}).join("\n")},Ie={warn:console.warn}},48944:(we,oe,b)=>{b.d(oe,{h:()=>k});var M=b(98824),a=b(43288),m=b(63398),h=b(40642),k=function(){return(0,m.A)(function A(y){(0,a.A)(this,A),(0,h.A)(this,"authSchemes",new Map);for(var E=0,f=Object.entries(y);E<f.length;E++){var v=(0,M.A)(f[E],2),F=v[1];void 0!==F&&this.authSchemes.set(v[0],F)}},[{key:"getIdentityProvider",value:function(E){return this.authSchemes.get(E)}}])}()},27011:(we,oe,b)=>{b.d(oe,{N:()=>w});var M=b(11),a=b(50438),m=b(81890),h=b(43288),k=b(63398),A=b(40642),y=b(91386),E=b(96639);function f(N){var G,R=[],L=(0,a.A)(Object.keys(N).sort());try{for(L.s();!(G=L.n()).done;){var T=G.value,V=N[T];if(T=(0,E.o)(T),Array.isArray(V))for(var U=0,ee=V.length;U<ee;U++)R.push("".concat(T,"=").concat((0,E.o)(V[U])));else{var te=T;(V||"string"==typeof V)&&(te+="=".concat((0,E.o)(V))),R.push(te)}}}catch(K){L.e(K)}finally{L.f()}return R.join("&")}function v(N,R){return new Request(N,R)}function P(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(R,L){N&&setTimeout(function(){var G=new Error("Request did not complete within ".concat(N," ms"));G.name="TimeoutError",L(G)},N)})}var F={supported:void 0},w=function(){function N(R){(0,h.A)(this,N),(0,A.A)(this,"config",void 0),(0,A.A)(this,"configProvider",void 0),"function"==typeof R?this.configProvider=R().then(function(L){return L||{}}):(this.config=R??{},this.configProvider=Promise.resolve(this.config)),void 0===F.supported&&(F.supported=typeof Request<"u"&&"keepalive"in v("https://[::1]"))}return(0,k.A)(N,[{key:"destroy",value:function(){}},{key:"handle",value:(R=(0,m.A)(function(G){var T=this,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=V.abortSignal,ee=V.requestTimeout;return(0,M.A)().m(function te(K){var j,re,ue,ne,z,q,pe,ye,Ee,Ie,Ge,xe,Be,Xe,Ze,ot,vt,ze,Ye;return(0,M.A)().w(function(At){for(;;)switch(At.n){case 0:if(T.config){At.n=2;break}return At.n=1,T.configProvider;case 1:T.config=At.v;case 2:if(j=ee??T.config.requestTimeout,re=!0===T.config.keepAlive,ue=T.config.credentials,null==U||!U.aborted){At.n=3;break}return(ne=new Error("Request aborted")).name="AbortError",At.a(2,Promise.reject(ne));case 3:return z=G.path,(q=f(G.query||{}))&&(z+="?".concat(q)),G.fragment&&(z+="#".concat(G.fragment)),pe="",(null!=G.username||null!=G.password)&&(Ie=null!==(ye=G.username)&&void 0!==ye?ye:"",Ge=null!==(Ee=G.password)&&void 0!==Ee?Ee:"",pe="".concat(Ie,":").concat(Ge,"@")),xe=G.port,Be=G.method,Xe="".concat(G.protocol,"//").concat(pe).concat(G.hostname).concat(xe?":".concat(xe):"").concat(z),ot={body:Ze="GET"===Be||"HEAD"===Be?void 0:G.body,headers:new Headers(G.headers),method:Be,credentials:ue},null!==(K=T.config)&&void 0!==K&&K.cache&&(ot.cache=T.config.cache),Ze&&(ot.duplex="half"),typeof AbortController<"u"&&(ot.signal=U),F.supported&&(ot.keepalive=re),"function"==typeof T.config.requestInit&&Object.assign(ot,T.config.requestInit(G)),vt=function(){},ze=v(Xe,ot),Ye=[fetch(ze).then(function(de){var Pe,X={},Ce=(0,a.A)(de.headers.entries());try{for(Ce.s();!(Pe=Ce.n()).done;){var ie=Pe.value;X[ie[0]]=ie[1]}}catch(Me){Ce.e(Me)}finally{Ce.f()}return null!=de.body?{response:new y.c({headers:X,reason:de.statusText,statusCode:de.status,body:de.body})}:de.blob().then(function(Me){return{response:new y.c({headers:X,reason:de.statusText,statusCode:de.status,body:Me})}})}),P(j)],U&&Ye.push(new Promise(function(de,W){var X=function(){var ie=new Error("Request aborted");ie.name="AbortError",W(ie)};if("function"==typeof U.addEventListener){var Ce=U;Ce.addEventListener("abort",X,{once:!0}),vt=function(){return Ce.removeEventListener("abort",X)}}else U.onabort=X})),At.a(2,Promise.race(Ye).finally(vt))}},te)})()}),function L(G){return R.apply(this,arguments)})},{key:"updateHttpClientConfig",value:function(L,G){this.config=void 0,this.configProvider=this.configProvider.then(function(T){return T[L]=G,T})}},{key:"httpHandlerConfigs",value:function(){var L;return null!==(L=this.config)&&void 0!==L?L:{}}}],[{key:"create",value:function(L){return"function"==typeof L?.handle?L:new N(L)}}]);var R}()},56992:(we,oe,b)=>{b.d(oe,{k:()=>h});var M=b(11),a=b(81890),m=b(8833),h=function(){var v=(0,a.A)((0,M.A)().m(function P(F){var w,N;return(0,M.A)().w(function(L){for(;;)switch(L.n){case 0:if(!("function"==typeof Blob&&F instanceof Blob||"Blob"===(null===(w=F.constructor)||void 0===w?void 0:w.name))){L.n=3;break}if(void 0===Blob.prototype.arrayBuffer){L.n=2;break}return N=Uint8Array,L.n=1,F.arrayBuffer();case 1:return L.a(2,new N(L.v));case 2:return L.a(2,k(F));case 3:return L.a(2,y(F))}},P)}));return function(F){return v.apply(this,arguments)}}();function k(v){return A.apply(this,arguments)}function A(){return(A=(0,a.A)((0,M.A)().m(function v(P){var w;return(0,M.A)().w(function(N){for(;;)switch(N.n){case 0:return N.n=1,f(P);case 1:return w=(0,m.E)(N.v),N.a(2,new Uint8Array(w))}},v)}))).apply(this,arguments)}function y(v){return E.apply(this,arguments)}function E(){return(E=(0,a.A)((0,M.A)().m(function v(P){var F,w,N,R,L,G,T,V,U,ee,te,K;return(0,M.A)().w(function(j){for(;;)switch(j.n){case 0:F=[],w=P.getReader(),N=!1,R=0;case 1:if(N){j.n=3;break}return j.n=2,w.read();case 2:G=(L=j.v).done,(T=L.value)&&(F.push(T),R+=T.length),N=G,j.n=1;break;case 3:for(V=new Uint8Array(R),U=0,ee=0,te=F;ee<te.length;ee++)V.set(K=te[ee],U),U+=K.length;return j.a(2,V)}},v)}))).apply(this,arguments)}function f(v){return new Promise(function(P,F){var w=new FileReader;w.onloadend=function(){var N;if(2!==w.readyState)return F(new Error("Reader aborted too early"));var R=null!==(N=w.result)&&void 0!==N?N:"",L=R.indexOf(",");P(R.substring(L>-1?L+1:R.length))},w.onabort=function(){return F(new Error("Read aborted"))},w.onerror=function(){return F(w.error)},w.readAsDataURL(v)})}},82499:(we,oe,b)=>{b.d(oe,{B:()=>M});var M=function(m){return function(){return Promise.reject(m)}}},9099:(we,oe,b)=>{b.d(oe,{m:()=>M});var M=function(m){return"function"==typeof ArrayBuffer&&m instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(m)}},13909:(we,oe,b)=>{b.d(oe,{vK:()=>f});var M=b(11),a=b(40642),m=b(22292),h=b(81890),k=b(43776),A="content-length",E={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},f=function(P){return{applyToStack:function(w){w.add(function y(v){return function(P){return function(){var F=(0,h.A)((0,M.A)().m(function w(N){var R,L,G,T;return(0,M.A)().w(function(V){for(;;)if(0===V.n){if(k.K.isInstance(R=N.request)&&(G=R.headers,(L=R.body)&&-1===Object.keys(G).map(function(U){return U.toLowerCase()}).indexOf(A)))try{T=v(L),R.headers=(0,m.A)((0,m.A)({},R.headers),{},(0,a.A)({},A,String(T)))}catch{}return V.a(2,P((0,m.A)((0,m.A)({},N),{},{request:R})))}},w)}));return function(w){return F.apply(this,arguments)}}()}}(P.bodyLengthChecker),E)}}}},67754:(we,oe,b)=>{b.d(oe,{k:()=>m});var M=b(11),a=b(81890),m=function(){var h=(0,a.A)((0,M.A)().m(function k(A){return(0,M.A)().w(function(y){for(;;)if(0===y.n)return y.a(2,void 0)},k)}));return function(A){return h.apply(this,arguments)}}()},71522:(we,oe,b)=>{b.d(oe,{r:()=>R,x:()=>L});var M=b(98824),a=b(11),m=b(81890),h=function(){var G=(0,m.A)((0,a.A)().m(function T(V){var U;return(0,a.A)().w(function(ee){for(;;)switch(ee.n){case 0:if(U=V?.Bucket||"","string"==typeof V.Bucket&&(V.Bucket=U.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),!P(U)){ee.n=2;break}if(!0!==V.ForcePathStyle){ee.n=1;break}throw new Error("Path-style addressing cannot be used with ARN buckets");case 1:ee.n=3;break;case 2:(!v(U)||-1!==U.indexOf(".")&&!String(V.Endpoint).startsWith("http:")||U.toLowerCase()!==U||U.length<3)&&(V.ForcePathStyle=!0);case 3:return V.DisableMultiRegionAccessPoints&&(V.disableMultiRegionAccessPoints=!0,V.DisableMRAP=!0),ee.a(2,V)}},T)}));return function(V){return G.apply(this,arguments)}}(),k=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,A=/(\d+\.){3}\d+/,y=/\.\./,v=function(T){return k.test(T)&&!A.test(T)&&!y.test(T)},P=function(T){var V=T.split(":"),U=(0,M.A)(V,6),te=U[1],K=U[2],j=U[5],re="arn"===U[0]&&T.split(":").length>=6,ue=!!(re&&te&&K&&j);if(re&&!ue)throw new Error("Invalid ARN: ".concat(T," was an invalid ARN."));return ue},F=function(T,V,U){var ee=function(){var te=(0,m.A)((0,a.A)().m(function K(){var j,re;return(0,a.A)().w(function(ue){for(;;)switch(ue.n){case 0:if("function"!=typeof(re=null!==(j=U[T])&&void 0!==j?j:U[V])){ue.n=1;break}return ue.a(2,re());case 1:return ue.a(2,re)}},K)}));return function(){return te.apply(this,arguments)}}();return"credentialScope"===T||"CredentialScope"===V?(0,m.A)((0,a.A)().m(function te(){var K,j,re,ue;return(0,a.A)().w(function(ne){for(;;)switch(ne.n){case 0:if("function"!=typeof U.credentials){ne.n=2;break}return ne.n=1,U.credentials();case 1:ue=ne.v,ne.n=3;break;case 2:ue=U.credentials;case 3:return j=ue,re=null!==(K=j?.credentialScope)&&void 0!==K?K:j?.CredentialScope,ne.a(2,re)}},te)})):"accountId"===T||"AccountId"===V?(0,m.A)((0,a.A)().m(function te(){var K,j,re,ue;return(0,a.A)().w(function(ne){for(;;)switch(ne.n){case 0:if("function"!=typeof U.credentials){ne.n=2;break}return ne.n=1,U.credentials();case 1:ue=ne.v,ne.n=3;break;case 2:ue=U.credentials;case 3:return j=ue,re=null!==(K=j?.accountId)&&void 0!==K?K:j?.AccountId,ne.a(2,re)}},te)})):"endpoint"===T||"endpoint"===V?(0,m.A)((0,a.A)().m(function te(){var K,re,ue,ne;return(0,a.A)().w(function(z){for(;;)switch(z.n){case 0:if(!1!==U.isCustomEndpoint){z.n=1;break}return z.a(2,void 0);case 1:return z.n=2,ee();case 2:if(!(K=z.v)||"object"!=typeof K){z.n=4;break}if(!("url"in K)){z.n=3;break}return z.a(2,K.url.href);case 3:if(!("hostname"in K)){z.n=4;break}return re=K.hostname,ue=K.port,ne=K.path,z.a(2,"".concat(K.protocol,"//").concat(re).concat(ue?":"+ue:"").concat(ne));case 4:return z.a(2,K)}},te)})):ee},w=b(67754),N=b(4266),R=function(){var G=(0,m.A)((0,a.A)().m(function T(V,U,ee,te){var K,j,re;return(0,a.A)().w(function(ue){for(;;)switch(ue.n){case 0:if(ee.isCustomEndpoint){ue.n=5;break}if(!ee.serviceConfiguredEndpoint){ue.n=2;break}return ue.n=1,ee.serviceConfiguredEndpoint();case 1:K=ue.v,ue.n=4;break;case 2:return ue.n=3,(0,w.k)(ee.serviceId);case 3:K=ue.v;case 4:K&&(ee.endpoint=function(){return Promise.resolve((0,N.a)(K))},ee.isCustomEndpoint=!0);case 5:return ue.n=6,L(V,U,ee);case 6:if(j=ue.v,"function"==typeof ee.endpointProvider){ue.n=7;break}throw new Error("config.endpointProvider is not set.");case 7:return re=ee.endpointProvider(j,te),ue.a(2,re)}},T)}));return function(V,U,ee,te){return G.apply(this,arguments)}}(),L=function(){var G=(0,m.A)((0,a.A)().m(function T(V,U,ee){var te,K,j,re,ue,ne,z,q,pe;return(0,a.A)().w(function(ye){for(;;)switch(ye.n){case 0:K={},j=(null==U||null===(te=U.getEndpointParameterInstructions)||void 0===te?void 0:te.call(U))||{},re=0,ue=Object.entries(j);case 1:if(!(re<ue.length)){ye.n=9;break}ne=(0,M.A)(ue[re],2),z=ne[0],ye.n="staticContextParams"===(pe=(q=ne[1]).type)?2:"contextParams"===pe?3:"clientContextParams"===pe||"builtInParams"===pe?4:"operationContextParams"===pe?6:7;break;case 2:return K[z]=q.value,ye.a(3,8);case 3:return K[z]=V[q.name],ye.a(3,8);case 4:return ye.n=5,F(q.name,z,ee)();case 5:return K[z]=ye.v,ye.a(3,8);case 6:return K[z]=q.get(V),ye.a(3,8);case 7:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(q));case 8:re++,ye.n=1;break;case 9:if(0===Object.keys(j).length&&Object.assign(K,ee),"s3"!==String(ee.serviceId).toLowerCase()){ye.n=10;break}return ye.n=10,h(K);case 10:return ye.a(2,K)}},T)}));return function(V,U,ee){return G.apply(this,arguments)}}()},4266:(we,oe,b)=>{b.d(oe,{a:()=>a});var M=b(50993),a=function(h){return"object"==typeof h?"url"in h?(0,M.D)(h.url):h:(0,M.D)(h)}},19119:(we,oe,b)=>{b.d(oe,{r:()=>v});var M=b(57964),a=b(11),m=b(22292),h=b(81890);function k(P,F,w){P.__smithy_context?P.__smithy_context.features||(P.__smithy_context.features={}):P.__smithy_context={features:{}},P.__smithy_context.features[F]=w}var A=b(13928),y=b(71522),f={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:M.Ou.name},v=function(F,w){return{applyToStack:function(R){R.addRelativeTo(function(F){var w=F.config,N=F.instructions;return function(R,L){return function(){var G=(0,h.A)((0,a.A)().m(function T(V){var U,ee,te,K,j,re,ue;return(0,a.A)().w(function(ne){for(;;)switch(ne.n){case 0:return w.isCustomEndpoint&&k(L,"ENDPOINT_OVERRIDE","N"),ne.n=1,(0,y.r)(V.input,{getEndpointParameterInstructions:function(){return N}},(0,m.A)({},w),L);case 1:return L.endpointV2=te=ne.v,L.authSchemes=null===(U=te.properties)||void 0===U?void 0:U.authSchemes,(K=null===(ee=L.authSchemes)||void 0===ee?void 0:ee[0])&&(L.signing_region=K.signingRegion,L.signing_service=K.signingName,re=(0,A.u)(L),(ue=null==re||null===(j=re.selectedHttpAuthScheme)||void 0===j?void 0:j.httpAuthOption)&&(ue.signingProperties=Object.assign(ue.signingProperties||{},{signing_region:K.signingRegion,signingRegion:K.signingRegion,signing_service:K.signingName,signingName:K.signingName,signingRegionSet:K.signingRegionSet},K.properties))),ne.a(2,R((0,m.A)({},V)))}},T)}));return function(T){return G.apply(this,arguments)}}()}}({config:F,instructions:w}),f)}}}},42855:(we,oe,b)=>{b.d(oe,{C:()=>A});var M=b(11),a=b(81890),m=b(46887),h=b(67754),k=b(4266),A=function(E){var f,v=null===(f=E.tls)||void 0===f||f,P=E.endpoint,F=E.useDualstackEndpoint,w=E.useFipsEndpoint,L=Object.assign(E,{endpoint:null!=P?(0,a.A)((0,M.A)().m(function T(){var V;return(0,M.A)().w(function(U){for(;;)switch(U.n){case 0:return V=k.a,U.n=1,(0,m.t)(P)();case 1:return U.a(2,V(U.v))}},T)})):void 0,tls:v,isCustomEndpoint:!!P,useDualstackEndpoint:(0,m.t)(F??!1),useFipsEndpoint:(0,m.t)(w??!1)}),G=void 0;return L.serviceConfiguredEndpoint=(0,a.A)((0,M.A)().m(function T(){return(0,M.A)().w(function(V){for(;;)if(0===V.n)return E.serviceId&&!G&&(G=(0,h.k)(E.serviceId)),V.a(2,G)},T)})),L}},61795:(we,oe,b)=>{b.d(oe,{$z:()=>T});var M=b(11),a=b(81890),m=b(46887),h=b(17439),k=b(43288),A=b(63398),y=b(40642),E=b(13554),f=function(){function te(K){var j,re,ue,ne,z;(0,k.A)(this,te),(0,y.A)(this,"beta",void 0),(0,y.A)(this,"minCapacity",void 0),(0,y.A)(this,"minFillRate",void 0),(0,y.A)(this,"scaleConstant",void 0),(0,y.A)(this,"smooth",void 0),(0,y.A)(this,"currentCapacity",0),(0,y.A)(this,"enabled",!1),(0,y.A)(this,"lastMaxRate",0),(0,y.A)(this,"measuredTxRate",0),(0,y.A)(this,"requestCount",0),(0,y.A)(this,"fillRate",void 0),(0,y.A)(this,"lastThrottleTime",void 0),(0,y.A)(this,"lastTimestamp",0),(0,y.A)(this,"lastTxRateBucket",void 0),(0,y.A)(this,"maxCapacity",void 0),(0,y.A)(this,"timeWindow",0),this.beta=null!==(j=K?.beta)&&void 0!==j?j:.7,this.minCapacity=null!==(re=K?.minCapacity)&&void 0!==re?re:1,this.minFillRate=null!==(ue=K?.minFillRate)&&void 0!==ue?ue:.5,this.scaleConstant=null!==(ne=K?.scaleConstant)&&void 0!==ne?ne:.4,this.smooth=null!==(z=K?.smooth)&&void 0!==z?z:.8;var q=this.getCurrentTimeInSeconds();this.lastThrottleTime=q,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return(0,A.A)(te,[{key:"getCurrentTimeInSeconds",value:function(){return Date.now()/1e3}},{key:"getSendToken",value:(K=(0,a.A)((0,M.A)().m(function re(){return(0,M.A)().w(function(ue){for(;;)if(0===ue.n)return ue.a(2,this.acquireTokenBucket(1))},re,this)})),function j(){return K.apply(this,arguments)})},{key:"acquireTokenBucket",value:function(){var K=(0,a.A)((0,M.A)().m(function re(ue){var ne;return(0,M.A)().w(function(z){for(;;)switch(z.n){case 0:if(this.enabled){z.n=1;break}return z.a(2);case 1:if(this.refillTokenBucket(),!(ue>this.currentCapacity)){z.n=2;break}return ne=(ue-this.currentCapacity)/this.fillRate*1e3,z.n=2,new Promise(function(q){return te.setTimeoutFn(q,ne)});case 2:this.currentCapacity=this.currentCapacity-ue;case 3:return z.a(2)}},re,this)}));return function j(re){return K.apply(this,arguments)}}()},{key:"refillTokenBucket",value:function(){var j=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(j-this.lastTimestamp)*this.fillRate),this.lastTimestamp=j):this.lastTimestamp=j}},{key:"updateClientSendingRate",value:function(j){var re;if(this.updateMeasuredRate(),(0,E.Qb)(j)){var ue=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=ue,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),re=this.cubicThrottle(ue),this.enableTokenBucket()}else this.calculateTimeWindow(),re=this.cubicSuccess(this.getCurrentTimeInSeconds());var ne=Math.min(re,2*this.measuredTxRate);this.updateTokenBucketRate(ne)}},{key:"calculateTimeWindow",value:function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}},{key:"cubicThrottle",value:function(j){return this.getPrecise(j*this.beta)}},{key:"cubicSuccess",value:function(j){return this.getPrecise(this.scaleConstant*Math.pow(j-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}},{key:"enableTokenBucket",value:function(){this.enabled=!0}},{key:"updateTokenBucketRate",value:function(j){this.refillTokenBucket(),this.fillRate=Math.max(j,this.minFillRate),this.maxCapacity=Math.max(j,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}},{key:"updateMeasuredRate",value:function(){var j=this.getCurrentTimeInSeconds(),re=Math.floor(2*j)/2;this.requestCount++,re>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(re-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=re)}},{key:"getPrecise",value:function(j){return parseFloat(j.toFixed(8))}}]);var K}();(0,y.A)(f,"setTimeoutFn",setTimeout);var v=b(18276),F=function(K){var j=K.retryDelay,re=K.retryCount,ue=K.retryCost;return{getRetryCount:function(){return re},getRetryDelay:function(){return Math.min(v.G8,j)},getRetryCost:function(){return ue}}},w=function(){return(0,A.A)(function te(K){(0,k.A)(this,te),(0,y.A)(this,"maxAttempts",void 0),(0,y.A)(this,"mode",h.cm.STANDARD),(0,y.A)(this,"capacity",v.Df),(0,y.A)(this,"retryBackoffStrategy",function(){var K=v.bp;return{computeNextBackoffDelay:function(ne){return Math.floor(Math.min(v.G8,Math.random()*Math.pow(2,ne)*K))},setDelayBase:function(ne){K=ne}}}()),(0,y.A)(this,"maxAttemptsProvider",void 0),this.maxAttempts=K,this.maxAttemptsProvider="function"==typeof K?K:(0,a.A)((0,M.A)().m(function j(){return(0,M.A)().w(function(re){for(;;)if(0===re.n)return re.a(2,K)},j)}))},[{key:"acquireInitialRetryToken",value:(K=(0,a.A)((0,M.A)().m(function re(ue){return(0,M.A)().w(function(ne){for(;;)if(0===ne.n)return ne.a(2,F({retryDelay:v.bp,retryCount:0}))},re)})),function j(re){return K.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var K=(0,a.A)((0,M.A)().m(function re(ue,ne){var q,pe,ye,Ee;return(0,M.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:return Ie.n=1,this.getMaxAttempts();case 1:if(!this.shouldRetry(ue,ne,Ie.v)){Ie.n=2;break}return this.retryBackoffStrategy.setDelayBase("THROTTLING"===(q=ne.errorType)?v.jh:v.bp),pe=this.retryBackoffStrategy.computeNextBackoffDelay(ue.getRetryCount()),ye=ne.retryAfterHint?Math.max(ne.retryAfterHint.getTime()-Date.now()||0,pe):pe,Ee=this.getCapacityCost(q),this.capacity-=Ee,Ie.a(2,F({retryDelay:ye,retryCount:ue.getRetryCount()+1,retryCost:Ee}));case 2:throw new Error("No retry token available");case 3:return Ie.a(2)}},re,this)}));return function j(re,ue){return K.apply(this,arguments)}}()},{key:"recordSuccess",value:function(j){var re;this.capacity=Math.max(v.Df,this.capacity+(null!==(re=j.getRetryCost())&&void 0!==re?re:v.XP))}},{key:"getCapacity",value:function(){return this.capacity}},{key:"getMaxAttempts",value:function(){var K=(0,a.A)((0,M.A)().m(function re(){return(0,M.A)().w(function(ne){for(;;)switch(ne.p=ne.n){case 0:return ne.p=0,ne.n=1,this.maxAttemptsProvider();case 1:return ne.a(2,ne.v);case 2:return ne.p=2,console.warn("Max attempts provider could not resolve. Using default of ".concat(h.Gz)),ne.a(2,h.Gz)}},re,this,[[0,2]])}));return function j(){return K.apply(this,arguments)}}()},{key:"shouldRetry",value:function(j,re,ue){return j.getRetryCount()+1<ue&&this.capacity>=this.getCapacityCost(re.errorType)&&this.isRetryableError(re.errorType)}},{key:"getCapacityCost",value:function(j){return"TRANSIENT"===j?v.Rn:v.XS}},{key:"isRetryableError",value:function(j){return"THROTTLING"===j||"TRANSIENT"===j}}]);var K}(),N=function(){return(0,A.A)(function te(K,j){(0,k.A)(this,te),(0,y.A)(this,"maxAttemptsProvider",void 0),(0,y.A)(this,"rateLimiter",void 0),(0,y.A)(this,"standardRetryStrategy",void 0),(0,y.A)(this,"mode",h.cm.ADAPTIVE),this.maxAttemptsProvider=K,this.rateLimiter=(j??{}).rateLimiter??new f,this.standardRetryStrategy=new w(K)},[{key:"acquireInitialRetryToken",value:(K=(0,a.A)((0,M.A)().m(function re(ue){return(0,M.A)().w(function(ne){for(;;)switch(ne.n){case 0:return ne.n=1,this.rateLimiter.getSendToken();case 1:return ne.a(2,this.standardRetryStrategy.acquireInitialRetryToken(ue))}},re,this)})),function j(re){return K.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var K=(0,a.A)((0,M.A)().m(function re(ue,ne){return(0,M.A)().w(function(z){for(;;)if(0===z.n)return this.rateLimiter.updateClientSendingRate(ne),z.a(2,this.standardRetryStrategy.refreshRetryTokenForRetry(ue,ne))},re,this)}));return function j(re,ue){return K.apply(this,arguments)}}()},{key:"recordSuccess",value:function(j){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(j)}}]);var K}(),T=function(K){var z,j=K.retryStrategy,re=K.retryMode,ne=(0,m.t)(K.maxAttempts??h.Gz);return Object.assign(K,{maxAttempts:ne,retryStrategy:(z=(0,a.A)((0,M.A)().m(function pe(){return(0,M.A)().w(function(Ee){for(;;)switch(Ee.n){case 0:if(!j){Ee.n=1;break}return Ee.a(2,j);case 1:return Ee.n=2,(0,m.t)(re)();case 2:if(Ee.v!==h.cm.ADAPTIVE){Ee.n=3;break}return Ee.a(2,new N(ne));case 3:return Ee.a(2,new w(ne))}},pe)})),function q(){return z.apply(this,arguments)})})}},6811:(we,oe,b)=>{b.d(oe,{ey:()=>U});var M=b(82846),a=b(63730),m=b(11),h=b(81890),k=b(43776),A=b(91386),y=b(13554),E=b(38310),f=b(18276),v=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),P=Array.from({length:256},function(te,K){return K.toString(16).padStart(2,"0")}),F=function(){if(v)return v();var K=new Uint8Array(16);return crypto.getRandomValues(K),K[6]=15&K[6]|64,K[8]=63&K[8]|128,P[K[0]]+P[K[1]]+P[K[2]]+P[K[3]]+"-"+P[K[4]]+P[K[5]]+"-"+P[K[6]]+P[K[7]]+"-"+P[K[8]]+P[K[9]]+"-"+P[K[10]]+P[K[11]]+P[K[12]]+P[K[13]]+P[K[14]]+P[K[15]]},w=function(K){return K?.body instanceof ReadableStream},N=function(K){return K instanceof Error?K:K instanceof Object?Object.assign(new Error,K):"string"==typeof K?new Error(K):new Error("AWS SDK error wrapper for ".concat(K))},L=function(K){return typeof K.acquireInitialRetryToken<"u"&&typeof K.refreshRetryTokenForRetry<"u"&&typeof K.recordSuccess<"u"},G=function(K){var j={error:K,errorType:T(K)},re=ee(K.$response);return re&&(j.retryAfterHint=re),j},T=function(K){return(0,y.Qb)(K)?"THROTTLING":(0,y.bV)(K)?"TRANSIENT":(0,y.GQ)(K)?"SERVER_ERROR":"CLIENT_ERROR"},V={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},U=function(K){return{applyToStack:function(re){re.add(function(K){return function(j,re){return function(){var ue=(0,h.A)((0,m.A)().m(function ne(z){var q,pe,ye,Ee,Ie,Ge,xe,Be,Xe,Ze,ot;return(0,m.A)().w(function(vt){for(;;)switch(vt.n){case 0:return vt.n=1,K.retryStrategy();case 1:return q=vt.v,vt.n=2,K.maxAttempts();case 2:if(pe=vt.v,!L(q)){vt.n=8;break}return vt.n=3,q.acquireInitialRetryToken(re.partition_id);case 3:ye=vt.v,Ee=new Error,Ie=0,Ge=0,(Be=k.K.isInstance(xe=z.request))&&(xe.headers[f.l5]=F()),Xe=(0,m.A)().m(function ze(){var Ye,At,de,W,X,Ce,Pe;return(0,m.A)().w(function(ae){for(;;)switch(ae.p=ae.n){case 0:return ae.p=0,Be&&(xe.headers[f.ok]="attempt=".concat(Ie+1,"; max=").concat(pe)),ae.n=1,j(z);case 1:return At=(Ye=ae.v).response,de=Ye.output,q.recordSuccess(ye),de.$metadata.attempts=Ie+1,de.$metadata.totalRetryDelay=Ge,ae.a(2,{v:{response:At,output:de}});case 2:if(ae.p=2,W=G(Pe=ae.v),Ee=N(Pe),!Be||!w(xe)){ae.n=3;break}throw null===(X=re.logger instanceof E.N?console:re.logger)||void 0===X||X.warn("An error was encountered in a non-retryable streaming request."),Ee;case 3:return ae.p=3,ae.n=4,q.refreshRetryTokenForRetry(ye,W);case 4:ye=ae.v,ae.n=6;break;case 5:throw ae.p=5,Ee.$metadata||(Ee.$metadata={}),Ee.$metadata.attempts=Ie+1,Ee.$metadata.totalRetryDelay=Ge,Ee;case 6:return Ie=ye.getRetryCount(),Ce=ye.getRetryDelay(),Ge+=Ce,ae.n=7,new Promise(function(Me){return setTimeout(Me,Ce)});case 7:return ae.a(2)}},ze,null,[[3,5],[0,2]])});case 4:return vt.d((0,M.A)(Xe()),5);case 5:if(!(Ze=vt.v)){vt.n=6;break}return vt.a(2,Ze.v);case 6:vt.n=4;break;case 7:vt.n=9;break;case 8:return null!==(ot=q)&&void 0!==ot&&ot.mode&&(re.userAgent=[].concat((0,a.A)(re.userAgent||[]),[["cfg/retry-mode",q.mode]])),vt.a(2,q.retry(j,z));case 9:return vt.a(2)}},ne)}));return function(ne){return ue.apply(this,arguments)}}()}}(K),V)}}},ee=function(K){if(A.c.isInstance(K)){var j=Object.keys(K.headers).find(function(z){return"retry-after"===z.toLowerCase()});if(j){var re=K.headers[j],ue=Number(re);return Number.isNaN(ue)?new Date(re):new Date(1e3*ue)}}}},57964:(we,oe,b)=>{b.d(oe,{TM:()=>P,Ou:()=>v});var M=b(98824),a=b(11),m=b(81890),h=b(91386),k=function(w,N){return function(R,L){return function(){var G=(0,m.A)((0,a.A)().m(function T(V){var ee,K,j,re,ue,ne,q,pe;return(0,a.A)().w(function(ye){for(;;)switch(ye.p=ye.n){case 0:return ye.n=1,R(V);case 1:return ee=ye.v.response,ye.p=2,ye.n=3,N(ee,w);case 3:return ye.a(2,{response:ee,output:ye.v});case 4:if(ye.p=4,pe=ye.v,Object.defineProperty(pe,"$response",{value:ee}),!("$metadata"in pe)){K="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{pe.message+="\n  "+K}catch{L.logger&&"NoOpLogger"!==(null===(j=L.logger)||void 0===j||null===(j=j.constructor)||void 0===j?void 0:j.name)?null===(re=L.logger)||void 0===re||null===(ue=re.warn)||void 0===ue||ue.call(re,K):console.warn(K)}typeof pe.$responseBodyText<"u"&&pe.$response&&(pe.$response.body=pe.$responseBodyText);try{h.c.isInstance(ee)&&(ne=ee.headers,q=Object.entries(void 0===ne?{}:ne),pe.$metadata={httpStatusCode:ee.statusCode,requestId:A(/^x-[\w-]+-request-?id$/,q),extendedRequestId:A(/^x-[\w-]+-id-2$/,q),cfId:A(/^x-[\w-]+-cf-id$/,q)})}catch{}}throw pe;case 5:return ye.a(2)}},T,null,[[2,4]])}));return function(T){return G.apply(this,arguments)}}()}},A=function(w,N){return(N.find(function(R){return(0,M.A)(R,1)[0].match(w)})||[void 0,void 0])[1]},y=b(22292),E=function(w,N){return function(R,L){return function(){var G=(0,m.A)((0,a.A)().m(function T(V){var U,ee,te,K;return(0,a.A)().w(function(j){for(;;)switch(j.n){case 0:if(ee=w,te=null!==(U=L.endpointV2)&&void 0!==U&&U.url&&ee.urlParser?(0,m.A)((0,a.A)().m(function re(){return(0,a.A)().w(function(ue){for(;;)if(0===ue.n)return ue.a(2,ee.urlParser(L.endpointV2.url))},re)})):ee.endpoint){j.n=1;break}throw new Error("No valid endpoint provider available.");case 1:return j.n=2,N(V.input,(0,y.A)((0,y.A)({},w),{},{endpoint:te}));case 2:return K=j.v,j.a(2,R((0,y.A)((0,y.A)({},V),{},{request:K})))}},T)}));return function(T){return G.apply(this,arguments)}}()}},f={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},v={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function P(F,w,N){return{applyToStack:function(L){L.add(k(F,N),f),L.add(E(F,w),v)}}}},31579:(we,oe,b)=>{b.d(oe,{o:()=>A});var M=b(63730),a=b(22292),m=b(50438),h=function(v,P){var F=[];if(v&&F.push(v),P){var N,w=(0,m.A)(P);try{for(w.s();!(N=w.n()).done;)F.push(N.value)}catch(L){w.e(L)}finally{w.f()}}return F},k=function(v,P){return"".concat(v||"anonymous").concat(P&&P.length>0?" (a.k.a. ".concat(P.join(","),")"):"")},A=function(){var v=[],P=[],F=!1,w=new Set,G=function(te){var K;return v.forEach(function(j){te.add(j.middleware,(0,a.A)({},j))}),P.forEach(function(j){te.addRelativeTo(j.middleware,(0,a.A)({},j))}),null===(K=te.identifyOnResolve)||void 0===K||K.call(te,U.identifyOnResolve()),te},T=function(te){var K=[];return te.before.forEach(function(j){0===j.before.length&&0===j.after.length?K.push(j):K.push.apply(K,(0,M.A)(T(j)))}),K.push(te),te.after.reverse().forEach(function(j){0===j.before.length&&0===j.after.length?K.push(j):K.push.apply(K,(0,M.A)(T(j)))}),K},V=function(){var te=arguments.length>0&&void 0!==arguments[0]&&arguments[0],K=[],j=[],re={};v.forEach(function(ne){var pe,z=(0,a.A)((0,a.A)({},ne),{},{before:[],after:[]}),q=(0,m.A)(h(z.name,z.aliases));try{for(q.s();!(pe=q.n()).done;)re[pe.value]=z}catch(Ee){q.e(Ee)}finally{q.f()}K.push(z)}),P.forEach(function(ne){var pe,z=(0,a.A)((0,a.A)({},ne),{},{before:[],after:[]}),q=(0,m.A)(h(z.name,z.aliases));try{for(q.s();!(pe=q.n()).done;)re[pe.value]=z}catch(Ee){q.e(Ee)}finally{q.f()}j.push(z)}),j.forEach(function(ne){if(ne.toMiddleware){var z=re[ne.toMiddleware];if(void 0===z){if(te)return;throw new Error("".concat(ne.toMiddleware," is not found when adding ")+"".concat(k(ne.name,ne.aliases)," ")+"middleware ".concat(ne.relation," ").concat(ne.toMiddleware))}"after"===ne.relation&&z.after.push(ne),"before"===ne.relation&&z.before.push(ne)}});var ue=function(te){return te.sort(function(K,j){return y[j.step]-y[K.step]||E[j.priority||"normal"]-E[K.priority||"normal"]})}(K).map(T).reduce(function(ne,z){return ne.push.apply(ne,(0,M.A)(z)),ne},[]);return ue},U={add:function(te){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=K.name,re=K.override,ue=K.aliases,ne=(0,a.A)({step:"initialize",priority:"normal",middleware:te},K),z=h(j,ue);if(z.length>0){if(z.some(function(xe){return w.has(xe)})){if(!re)throw new Error("Duplicate middleware name '".concat(k(j,ue),"'"));var pe,q=(0,m.A)(z);try{var ye=function(){var Be=pe.value,Xe=v.findIndex(function(ot){var vt;return ot.name===Be||(null===(vt=ot.aliases)||void 0===vt?void 0:vt.some(function(ze){return ze===Be}))});if(-1===Xe)return 1;var Ze=v[Xe];if(Ze.step!==ne.step||ne.priority!==Ze.priority)throw new Error('"'.concat(k(Ze.name,Ze.aliases),'" middleware with ')+"".concat(Ze.priority," priority in ").concat(Ze.step," step cannot ")+'be overridden by "'.concat(k(j,ue),'" middleware with ')+"".concat(ne.priority," priority in ").concat(ne.step," step."));v.splice(Xe,1)};for(q.s();!(pe=q.n()).done;)ye()}catch(xe){q.e(xe)}finally{q.f()}}var Ie,Ee=(0,m.A)(z);try{for(Ee.s();!(Ie=Ee.n()).done;)w.add(Ie.value)}catch(xe){Ee.e(xe)}finally{Ee.f()}}v.push(ne)},addRelativeTo:function(te,K){var j=K.name,re=K.override,ue=K.aliases,ne=(0,a.A)({middleware:te},K),z=h(j,ue);if(z.length>0){if(z.some(function(xe){return w.has(xe)})){if(!re)throw new Error("Duplicate middleware name '".concat(k(j,ue),"'"));var pe,q=(0,m.A)(z);try{var ye=function(){var Be=pe.value,Xe=P.findIndex(function(ot){var vt;return ot.name===Be||(null===(vt=ot.aliases)||void 0===vt?void 0:vt.some(function(ze){return ze===Be}))});if(-1===Xe)return 1;var Ze=P[Xe];if(Ze.toMiddleware!==ne.toMiddleware||Ze.relation!==ne.relation)throw new Error('"'.concat(k(Ze.name,Ze.aliases),'" middleware ')+"".concat(Ze.relation,' "').concat(Ze.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(k(j,ue),'" middleware ').concat(ne.relation," ")+'"'.concat(ne.toMiddleware,'" middleware.'));P.splice(Xe,1)};for(q.s();!(pe=q.n()).done;)ye()}catch(xe){q.e(xe)}finally{q.f()}}var Ie,Ee=(0,m.A)(z);try{for(Ee.s();!(Ie=Ee.n()).done;)w.add(Ie.value)}catch(xe){Ee.e(xe)}finally{Ee.f()}}P.push(ne)},clone:function(){return G(A())},use:function(te){te.applyToStack(U)},remove:function(te){return"string"==typeof te?function(te){var K=!1,j=function(ue){var ne=h(ue.name,ue.aliases);if(ne.includes(te)){K=!0;var q,z=(0,m.A)(ne);try{for(z.s();!(q=z.n()).done;)w.delete(q.value)}catch(ye){z.e(ye)}finally{z.f()}return!1}return!0};return v=v.filter(j),P=P.filter(j),K}(te):function(te){var K=!1,j=function(ue){if(ue.middleware===te){K=!0;var z,ne=(0,m.A)(h(ue.name,ue.aliases));try{for(ne.s();!(z=ne.n()).done;)w.delete(z.value)}catch(pe){ne.e(pe)}finally{ne.f()}return!1}return!0};return v=v.filter(j),P=P.filter(j),K}(te)},removeByTag:function(te){var K=!1,j=function(ue){var ne=ue.tags,z=ue.name,q=ue.aliases;if(ne&&ne.includes(te)){var Ee,pe=h(z,q),ye=(0,m.A)(pe);try{for(ye.s();!(Ee=ye.n()).done;)w.delete(Ee.value)}catch(Ge){ye.e(Ge)}finally{ye.f()}return K=!0,!1}return!0};return v=v.filter(j),P=P.filter(j),K},concat:function(te){var K,j,re=G(A());return re.use(te),re.identifyOnResolve(F||re.identifyOnResolve()||null!==(K=null===(j=te.identifyOnResolve)||void 0===j?void 0:j.call(te))&&void 0!==K&&K),re},applyToStack:G,identify:function(){return V(!0).map(function(te){var K,j=null!==(K=te.step)&&void 0!==K?K:te.relation+" "+te.toMiddleware;return k(te.name,te.aliases)+" - "+j})},identifyOnResolve:function(te){return"boolean"==typeof te&&(F=te),F},resolve:function(te,K){var re,j=(0,m.A)(V().map(function(ne){return ne.middleware}).reverse());try{for(j.s();!(re=j.n()).done;)te=(0,re.value)(te,K)}catch(ne){j.e(ne)}finally{j.f()}return F&&console.log(U.identify()),te}};return U},y={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},E={high:3,normal:2,low:1}},44811:(we,oe,b)=>{b.d(oe,{e:()=>M,j:()=>a});var M=function(h){return{setHttpHandler:function(A){h.httpHandler=A},httpHandler:function(){return h.httpHandler},updateHttpClientConfig:function(A,y){var E;null===(E=h.httpHandler)||void 0===E||E.updateHttpClientConfig(A,y)},httpHandlerConfigs:function(){return h.httpHandler.httpHandlerConfigs()}}},a=function(h){return{httpHandler:h.httpHandler()}}},43776:(we,oe,b)=>{b.d(oe,{K:()=>A});var M=b(63730),a=b(22292),m=b(43288),h=b(63398),k=b(40642),A=function(){function E(f){(0,m.A)(this,E),(0,k.A)(this,"method",void 0),(0,k.A)(this,"protocol",void 0),(0,k.A)(this,"hostname",void 0),(0,k.A)(this,"port",void 0),(0,k.A)(this,"path",void 0),(0,k.A)(this,"query",void 0),(0,k.A)(this,"headers",void 0),(0,k.A)(this,"username",void 0),(0,k.A)(this,"password",void 0),(0,k.A)(this,"fragment",void 0),(0,k.A)(this,"body",void 0),this.method=f.method||"GET",this.hostname=f.hostname||"localhost",this.port=f.port,this.query=f.query||{},this.headers=f.headers||{},this.body=f.body,this.protocol=f.protocol?":"!==f.protocol.slice(-1)?"".concat(f.protocol,":"):f.protocol:"https:",this.path=f.path?"/"!==f.path.charAt(0)?"/".concat(f.path):f.path:"/",this.username=f.username,this.password=f.password,this.fragment=f.fragment}return(0,h.A)(E,[{key:"clone",value:function(){return E.clone(this)}}],[{key:"clone",value:function(v){var P=new E((0,a.A)((0,a.A)({},v),{},{headers:(0,a.A)({},v.headers)}));return P.query&&(P.query=function y(E){return Object.keys(E).reduce(function(f,v){var P=E[v];return(0,a.A)((0,a.A)({},f),{},(0,k.A)({},v,Array.isArray(P)?(0,M.A)(P):P))},{})}(P.query)),P}},{key:"isInstance",value:function(v){return!!v&&("method"in v&&"protocol"in v&&"hostname"in v&&"path"in v&&"object"==typeof v.query&&"object"==typeof v.headers)}}])}()},91386:(we,oe,b)=>{b.d(oe,{c:()=>h});var M=b(43288),a=b(63398),m=b(40642),h=function(){return(0,a.A)(function k(A){(0,M.A)(this,k),(0,m.A)(this,"statusCode",void 0),(0,m.A)(this,"reason",void 0),(0,m.A)(this,"headers",void 0),(0,m.A)(this,"body",void 0),this.statusCode=A.statusCode,this.reason=A.reason,this.headers=A.headers||{},this.body=A.body},null,[{key:"isInstance",value:function(y){return!!y&&("number"==typeof y.statusCode&&"object"==typeof y.headers)}}])}()},13554:(we,oe,b)=>{b.d(oe,{GQ:()=>w,Qb:()=>P,bV:()=>F});var a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],m=["TimeoutError","RequestTimeout","RequestTimeoutException"],h=[500,502,503,504],k=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],A=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],P=function(R){var L,G;return 429===(null===(L=R.$metadata)||void 0===L?void 0:L.httpStatusCode)||a.includes(R.name)||1==(null===(G=R.$retryable)||void 0===G?void 0:G.throttling)},F=function(R){var L,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(R){return void 0!==R?.$retryable}(R)||function(R){var L;return null===(L=R.$metadata)||void 0===L?void 0:L.clockSkewCorrected}(R)||m.includes(R.name)||k.includes(R?.code||"")||A.includes(R?.code||"")||h.includes((null===(L=R.$metadata)||void 0===L?void 0:L.httpStatusCode)||0)||function(R){return!!(R&&R instanceof TypeError)&&new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]).has(R.message)}(R)||void 0!==R.cause&&G<=10&&F(R.cause,G+1)},w=function(R){var L;if(void 0!==(null===(L=R.$metadata)||void 0===L?void 0:L.httpStatusCode)){var G=R.$metadata.httpStatusCode;return 500<=G&&G<=599&&!F(R)}return!1}},60324:(we,oe,b)=>{b.d(oe,{B:()=>Dn});var M=b(11),a=b(81890),m=b(43288),h=b(63398),k=b(82297),A=b(13544),y=b(40642),E=b(34576),f=b(83060),F="X-Amz-Date",R="X-Amz-Signature",L="X-Amz-Security-Token",T="authorization",V=F.toLowerCase(),ee=[T,V,"date"],te=R.toLowerCase(),K="x-amz-content-sha256",j=L.toLowerCase(),ue={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ne=/^proxy-/,z=/^sec-/,pe="AWS4-HMAC-SHA256",Ee="AWS4-HMAC-SHA256-PAYLOAD",xe="aws4_request",Xe={},Ze=[],ot=function(Vt,xt,wt){return"".concat(Vt,"/").concat(xt,"/").concat(wt,"/").concat(xe)},vt=function(){var pt=(0,a.A)((0,M.A)().m(function Vt(xt,wt,Ft,ht,Ue){var $e,mt,Tt,gt,kt,Qt;return(0,M.A)().w(function(un){for(;;)switch(un.n){case 0:return un.n=1,Ye(xt,wt.secretAccessKey,wt.accessKeyId);case 1:if($e=un.v,!((mt="".concat(Ft,":").concat(ht,":").concat(Ue,":").concat((0,E.n)($e),":").concat(wt.sessionToken))in Xe)){un.n=2;break}return un.a(2,Xe[mt]);case 2:for(Ze.push(mt);Ze.length>50;)delete Xe[Ze.shift()];Tt="AWS4".concat(wt.secretAccessKey),gt=0,kt=[Ft,ht,Ue,xe];case 3:if(!(gt<kt.length)){un.n=6;break}return Qt=kt[gt],un.n=4,Ye(xt,Tt,Qt);case 4:Tt=un.v;case 5:gt++,un.n=3;break;case 6:return un.a(2,Xe[mt]=Tt)}},Vt)}));return function(xt,wt,Ft,ht,Ue){return pt.apply(this,arguments)}}(),Ye=function(Vt,xt,wt){var Ft=new Vt(xt);return Ft.update((0,f.F)(wt)),Ft.digest()},At=b(50438),de=function(Vt,xt,wt){var $e,Ft=Vt.headers,ht={},Ue=(0,At.A)(Object.keys(Ft).sort());try{for(Ue.s();!($e=Ue.n()).done;){var mt=$e.value;if(null!=Ft[mt]){var Tt=mt.toLowerCase();(Tt in ue||null!=xt&&xt.has(Tt)||ne.test(Tt)||z.test(Tt))&&(!wt||wt&&!wt.has(Tt))||(ht[Tt]=Ft[mt].trim().replace(/\s+/g," "))}}}catch(gt){Ue.e(gt)}finally{Ue.f()}return ht},W=b(9099),X=function(){var pt=(0,a.A)(function(Vt,xt){var wt=Vt.headers,Ft=Vt.body;return(0,M.A)().m(function ht(){var Ue,$e,mt,Tt,gt;return(0,M.A)().w(function(kt){for(;;)switch(kt.n){case 0:Ue=0,$e=Object.keys(wt);case 1:if(!(Ue<$e.length)){kt.n=3;break}if((mt=$e[Ue]).toLowerCase()!==K){kt.n=2;break}return kt.a(2,wt[mt]);case 2:Ue++,kt.n=1;break;case 3:if(null!=Ft){kt.n=4;break}return kt.a(2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 4:if("string"!=typeof Ft&&!ArrayBuffer.isView(Ft)&&!(0,W.m)(Ft)){kt.n=6;break}return(Tt=new xt).update((0,f.F)(Ft)),gt=E.n,kt.n=5,Tt.digest();case 5:return kt.a(2,gt(kt.v));case 6:return kt.a(2,"UNSIGNED-PAYLOAD")}},ht)})()});return function(xt,wt){return pt.apply(this,arguments)}}(),Ce=b(87521),Pe=function(){return(0,h.A)(function pt(){(0,m.A)(this,pt)},[{key:"format",value:function(xt){for(var wt=[],Ft=0,ht=Object.keys(xt);Ft<ht.length;Ft++){var Ue=ht[Ft],$e=(0,Ce.a)(Ue);wt.push(Uint8Array.from([$e.byteLength]),$e,this.formatHeaderValue(xt[Ue]))}for(var mt=new Uint8Array(wt.reduce(function(un,rn){return un+rn.byteLength},0)),Tt=0,gt=0,kt=wt;gt<kt.length;gt++){var Qt=kt[gt];mt.set(Qt,Tt),Tt+=Qt.byteLength}return mt}},{key:"formatHeaderValue",value:function(xt){switch(xt.type){case"boolean":return Uint8Array.from([xt.value?0:1]);case"byte":return Uint8Array.from([2,xt.value]);case"short":var wt=new DataView(new ArrayBuffer(3));return wt.setUint8(0,3),wt.setInt16(1,xt.value,!1),new Uint8Array(wt.buffer);case"integer":var Ft=new DataView(new ArrayBuffer(5));return Ft.setUint8(0,4),Ft.setInt32(1,xt.value,!1),new Uint8Array(Ft.buffer);case"long":var ht=new Uint8Array(9);return ht[0]=5,ht.set(xt.value.bytes,1),ht;case"binary":var Ue=new DataView(new ArrayBuffer(3+xt.value.byteLength));Ue.setUint8(0,6),Ue.setUint16(1,xt.value.byteLength,!1);var $e=new Uint8Array(Ue.buffer);return $e.set(xt.value,3),$e;case"string":var mt=(0,Ce.a)(xt.value),Tt=new DataView(new ArrayBuffer(3+mt.byteLength));Tt.setUint8(0,7),Tt.setUint16(1,mt.byteLength,!1);var gt=new Uint8Array(Tt.buffer);return gt.set(mt,3),gt;case"timestamp":var kt=new Uint8Array(9);return kt[0]=8,kt.set(Me.fromNumber(xt.value.valueOf()).bytes,1),kt;case"uuid":if(!ae.test(xt.value))throw new Error("Invalid UUID received: ".concat(xt.value));var Qt=new Uint8Array(17);return Qt[0]=9,Qt.set((0,E.a)(xt.value.replace(/\-/g,"")),1),Qt}}}])}(),ae=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Me=function(){function pt(Vt){if((0,m.A)(this,pt),(0,y.A)(this,"bytes",void 0),this.bytes=Vt,8!==Vt.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,h.A)(pt,[{key:"valueOf",value:function(){var xt=this.bytes.slice(0),wt=128&xt[0];return wt&&se(xt),parseInt((0,E.n)(xt),16)*(wt?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(xt){if(xt>0x8000000000000000||xt<-0x8000000000000000)throw new Error("".concat(xt," is too large (or, if negative, too small) to represent as an Int64"));for(var wt=new Uint8Array(8),Ft=7,ht=Math.abs(Math.round(xt));Ft>-1&&ht>0;Ft--,ht/=256)wt[Ft]=ht;return xt<0&&se(wt),new pt(wt)}}])}();function se(pt){for(var Vt=0;Vt<8;Vt++)pt[Vt]^=255;for(var xt=7;xt>-1&&(pt[xt]++,0===pt[xt]);xt--);}var Z=function(Vt,xt){Vt=Vt.toLowerCase();for(var wt=0,Ft=Object.keys(xt);wt<Ft.length;wt++)if(Vt===Ft[wt].toLowerCase())return!0;return!1},je=b(22292),nt=b(43776),at=function(Vt){for(var xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},wt=nt.K.clone(Vt),Ft=wt.headers,ht=wt.query,Ue=void 0===ht?{}:ht,$e=0,mt=Object.keys(Ft);$e<mt.length;$e++){var Tt,gt,kt=mt[$e],Qt=kt.toLowerCase();("x-amz-"===Qt.slice(0,6)&&(null===(Tt=xt.unhoistableHeaders)||void 0===Tt||!Tt.has(Qt))||null!==(gt=xt.hoistableHeaders)&&void 0!==gt&&gt.has(Qt))&&(Ue[kt]=Ft[kt],delete Ft[kt])}return(0,je.A)((0,je.A)({},Vt),{},{headers:Ft,query:Ue})},bt=function(Vt){Vt=nt.K.clone(Vt);for(var xt=0,wt=Object.keys(Vt.headers);xt<wt.length;xt++){var Ft=wt[xt];ee.indexOf(Ft.toLowerCase())>-1&&delete Vt.headers[Ft]}return Vt},Ot=b(46887),It=b(96639),Dn=function(pt){function Vt(xt){var wt,Ft=xt.applyChecksum,ht=xt.credentials,Ue=xt.region,$e=xt.service,mt=xt.sha256,Tt=xt.uriEscapePath,gt=void 0===Tt||Tt;return(0,m.A)(this,Vt),wt=(0,k.A)(this,Vt,[{applyChecksum:Ft,credentials:ht,region:Ue,service:$e,sha256:mt,uriEscapePath:gt}]),(0,y.A)(wt,"headerFormatter",new Pe),wt}return(0,A.A)(Vt,pt),(0,h.A)(Vt,[{key:"presign",value:(xt=(0,a.A)(function(Ft){var ht=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.A)().m(function $e(){var mt,Tt,gt,kt,Qt,un,rn,Bn,tn,dn,Pn,sr,qn,wn,rr,hr,Cn,cn,mn,ta,ni,Gn,Oi,Ta,ri,vi;return(0,M.A)().w(function(vn){for(;;)switch(vn.n){case 0:return Tt=void 0===(mt=Ue.signingDate)?new Date:mt,kt=void 0===(gt=Ue.expiresIn)?3600:gt,Qt=Ue.unsignableHeaders,un=Ue.unhoistableHeaders,rn=Ue.signableHeaders,Bn=Ue.hoistableHeaders,tn=Ue.signingRegion,dn=Ue.signingService,vn.n=1,ht.credentialProvider();case 1:if(ht.validateResolvedCredentials(Pn=vn.v),null==tn){vn.n=2;break}mn=tn,vn.n=4;break;case 2:return vn.n=3,ht.regionProvider();case 3:mn=vn.v;case 4:if(sr=mn,qn=ht.formatDate(Tt),wn=qn.longDate,rr=qn.shortDate,!(kt>604800)){vn.n=5;break}return vn.a(2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 5:return hr=ot(rr,sr,dn??ht.service),Cn=at(bt(Ft),{unhoistableHeaders:un,hoistableHeaders:Bn}),Pn.sessionToken&&(Cn.query[L]=Pn.sessionToken),Cn.query["X-Amz-Algorithm"]=pe,Cn.query["X-Amz-Credential"]="".concat(Pn.accessKeyId,"/").concat(hr),Cn.query[F]=wn,Cn.query["X-Amz-Expires"]=kt.toString(10),cn=de(Cn,Qt,rn),Cn.query["X-Amz-SignedHeaders"]=ht.getCanonicalHeaderList(cn),ta=ht,ni=wn,Gn=hr,Oi=ht.getSigningKey(Pn,sr,rr,dn),Ta=ht,ri=Cn,vi=cn,vn.n=6,X(Ft,ht.sha256);case 6:return vn.n=7,ta.getSignature.call(ta,ni,Gn,Oi,Ta.createCanonicalRequest.call(Ta,ri,vi,vn.v));case 7:return Cn.query[R]=vn.v,vn.a(2,Cn)}},$e)})()}),function wt(Ft){return xt.apply(this,arguments)})},{key:"sign",value:function(){var xt=(0,a.A)((0,M.A)().m(function Ft(ht,Ue){return(0,M.A)().w(function($e){for(;;)switch($e.n){case 0:if("string"!=typeof ht){$e.n=1;break}return $e.a(2,this.signString(ht,Ue));case 1:if(!ht.headers||!ht.payload){$e.n=2;break}return $e.a(2,this.signEvent(ht,Ue));case 2:if(!ht.message){$e.n=3;break}return $e.a(2,this.signMessage(ht,Ue));case 3:return $e.a(2,this.signRequest(ht,Ue));case 4:return $e.a(2)}},Ft,this)}));return function wt(Ft,ht){return xt.apply(this,arguments)}}()},{key:"signEvent",value:function(){var xt=(0,a.A)(function(Ft,ht){var Ue=this,$e=Ft.headers,mt=Ft.payload,Tt=ht.signingDate,gt=void 0===Tt?new Date:Tt,kt=ht.priorSignature,Qt=ht.signingRegion,un=ht.signingService;return(0,M.A)().m(function rn(){var Bn,tn,Pn,sr,qn,wn,rr,hr,Cn,cn;return(0,M.A)().w(function(mn){for(;;)switch(mn.n){case 0:if(null==Qt){mn.n=1;break}Cn=Qt,mn.n=3;break;case 1:return mn.n=2,Ue.regionProvider();case 2:Cn=mn.v;case 3:return Bn=Cn,tn=Ue.formatDate(gt),Pn=tn.longDate,sr=ot(tn.shortDate,Bn,un??Ue.service),mn.n=4,X({headers:{},body:mt},Ue.sha256);case 4:return qn=mn.v,(wn=new Ue.sha256).update($e),cn=E.n,mn.n=5,wn.digest();case 5:return rr=cn(mn.v),hr=[Ee,Pn,sr,kt,rr,qn].join("\n"),mn.a(2,Ue.signString(hr,{signingDate:gt,signingRegion:Bn,signingService:un}))}},rn)})()});return function wt(Ft,ht){return xt.apply(this,arguments)}}()},{key:"signMessage",value:function(){var xt=(0,a.A)(function(Ft,ht){var Ue=this,$e=ht.signingDate,mt=void 0===$e?new Date:$e,Tt=ht.signingRegion,gt=ht.signingService;return(0,M.A)().m(function kt(){var Qt;return(0,M.A)().w(function(un){for(;;)if(0===un.n)return Qt=Ue.signEvent({headers:Ue.headerFormatter.format(Ft.message.headers),payload:Ft.message.body},{signingDate:mt,signingRegion:Tt,signingService:gt,priorSignature:Ft.priorSignature}),un.a(2,Qt.then(function(rn){return{message:Ft.message,signature:rn}}))},kt)})()});return function wt(Ft,ht){return xt.apply(this,arguments)}}()},{key:"signString",value:function(){var xt=(0,a.A)(function(Ft){var ht=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$e=Ue.signingDate,mt=void 0===$e?new Date:$e,Tt=Ue.signingRegion,gt=Ue.signingService;return(0,M.A)().m(function kt(){var Qt,un,rn,Bn,tn,dn,Pn,qn;return(0,M.A)().w(function(wn){for(;;)switch(wn.n){case 0:return wn.n=1,ht.credentialProvider();case 1:if(ht.validateResolvedCredentials(Qt=wn.v),null==Tt){wn.n=2;break}dn=Tt,wn.n=4;break;case 2:return wn.n=3,ht.regionProvider();case 3:dn=wn.v;case 4:return un=dn,rn=ht.formatDate(mt),Bn=rn.shortDate,Pn=ht.sha256,wn.n=5,ht.getSigningKey(Qt,un,Bn,gt);case 5:return(tn=new Pn(wn.v)).update((0,f.F)(Ft)),qn=E.n,wn.n=6,tn.digest();case 6:return wn.a(2,qn(wn.v))}},kt)})()});return function wt(Ft){return xt.apply(this,arguments)}}()},{key:"signRequest",value:function(){var xt=(0,a.A)(function(Ft){var ht=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$e=Ue.signingDate,mt=void 0===$e?new Date:$e,Tt=Ue.signableHeaders,gt=Ue.unsignableHeaders,kt=Ue.signingRegion,Qt=Ue.signingService;return(0,M.A)().m(function un(){var rn,Bn,tn,dn,Pn,sr,qn,wn,rr,hr,Cn;return(0,M.A)().w(function(cn){for(;;)switch(cn.n){case 0:return cn.n=1,ht.credentialProvider();case 1:if(ht.validateResolvedCredentials(rn=cn.v),null==kt){cn.n=2;break}Cn=kt,cn.n=4;break;case 2:return cn.n=3,ht.regionProvider();case 3:Cn=cn.v;case 4:return Bn=Cn,tn=bt(Ft),dn=ht.formatDate(mt),Pn=dn.longDate,qn=ot(sr=dn.shortDate,Bn,Qt??ht.service),tn.headers[V]=Pn,rn.sessionToken&&(tn.headers[j]=rn.sessionToken),cn.n=5,X(tn,ht.sha256);case 5:return wn=cn.v,!Z(K,tn.headers)&&ht.applyChecksum&&(tn.headers[K]=wn),rr=de(tn,gt,Tt),cn.n=6,ht.getSignature(Pn,qn,ht.getSigningKey(rn,Bn,sr,Qt),ht.createCanonicalRequest(tn,rr,wn));case 6:return hr=cn.v,tn.headers[T]="".concat(pe," ")+"Credential=".concat(rn.accessKeyId,"/").concat(qn,", ")+"SignedHeaders=".concat(ht.getCanonicalHeaderList(rr),", ")+"Signature=".concat(hr),cn.a(2,tn)}},un)})()});return function wt(Ft){return xt.apply(this,arguments)}}()},{key:"getSignature",value:function(){var xt=(0,a.A)((0,M.A)().m(function Ft(ht,Ue,$e,mt){var Tt,gt,kt,un;return(0,M.A)().w(function(rn){for(;;)switch(rn.n){case 0:return rn.n=1,this.createStringToSign(ht,Ue,mt,pe);case 1:return Tt=rn.v,kt=this.sha256,rn.n=2,$e;case 2:return(gt=new kt(rn.v)).update((0,f.F)(Tt)),un=E.n,rn.n=3,gt.digest();case 3:return rn.a(2,un(rn.v))}},Ft,this)}));return function wt(Ft,ht,Ue,$e){return xt.apply(this,arguments)}}()},{key:"getSigningKey",value:function(wt,Ft,ht,Ue){return vt(this.sha256,wt,ht,Ft,Ue||this.service)}}]);var xt}(function(){return(0,h.A)(function pt(Vt){var xt=Vt.applyChecksum,wt=Vt.credentials,Ft=Vt.region,ht=Vt.service,Ue=Vt.sha256,$e=Vt.uriEscapePath,mt=void 0===$e||$e;(0,m.A)(this,pt),(0,y.A)(this,"service",void 0),(0,y.A)(this,"regionProvider",void 0),(0,y.A)(this,"credentialProvider",void 0),(0,y.A)(this,"sha256",void 0),(0,y.A)(this,"uriEscapePath",void 0),(0,y.A)(this,"applyChecksum",void 0),this.service=ht,this.sha256=Ue,this.uriEscapePath=mt,this.applyChecksum="boolean"!=typeof xt||xt,this.regionProvider=(0,Ot.t)(Ft),this.credentialProvider=(0,Ot.t)(wt)},[{key:"createCanonicalRequest",value:function(xt,wt,Ft){var ht=Object.keys(wt).sort();return"".concat(xt.method,"\n").concat(this.getCanonicalPath(xt),"\n").concat(function(Vt){for(var xt=Vt.query,wt=void 0===xt?{}:xt,Ft=[],ht={},Ue=function(){var gt=mt[$e];if(gt.toLowerCase()===te)return 1;var kt=(0,It.o)(gt);Ft.push(kt);var Qt=wt[gt];"string"==typeof Qt?ht[kt]="".concat(kt,"=").concat((0,It.o)(Qt)):Array.isArray(Qt)&&(ht[kt]=Qt.slice(0).reduce(function(un,rn){return un.concat(["".concat(kt,"=").concat((0,It.o)(rn))])},[]).sort().join("&"))},$e=0,mt=Object.keys(wt);$e<mt.length;$e++)Ue();return Ft.sort().map(function(Tt){return ht[Tt]}).filter(function(Tt){return Tt}).join("&")}(xt),"\n").concat(ht.map(function(Ue){return"".concat(Ue,":").concat(wt[Ue])}).join("\n"),"\n\n").concat(ht.join(";"),"\n").concat(Ft)}},{key:"createStringToSign",value:(Vt=(0,a.A)((0,M.A)().m(function wt(Ft,ht,Ue,$e){var mt,Tt;return(0,M.A)().w(function(gt){for(;;)switch(gt.n){case 0:return(mt=new this.sha256).update((0,f.F)(Ue)),gt.n=1,mt.digest();case 1:return Tt=gt.v,gt.a(2,"".concat($e,"\n").concat(Ft,"\n").concat(ht,"\n").concat((0,E.n)(Tt)))}},wt,this)})),function xt(wt,Ft,ht,Ue){return Vt.apply(this,arguments)})},{key:"getCanonicalPath",value:function(xt){var wt=xt.path;if(this.uriEscapePath){var Ue,Ft=[],ht=(0,At.A)(wt.split("/"));try{for(ht.s();!(Ue=ht.n()).done;){var $e=Ue.value;0!==$e?.length&&"."!==$e&&(".."===$e?Ft.pop():Ft.push($e))}}catch(gt){ht.e(gt)}finally{ht.f()}var mt="".concat(null!=wt&&wt.startsWith("/")?"/":"").concat(Ft.join("/")).concat(Ft.length>0&&null!=wt&&wt.endsWith("/")?"/":"");return(0,It.o)(mt).replace(/%2F/g,"/")}return wt}},{key:"validateResolvedCredentials",value:function(xt){if("object"!=typeof xt||"string"!=typeof xt.accessKeyId||"string"!=typeof xt.secretAccessKey)throw new Error("Resolved credential object is not valid")}},{key:"formatDate",value:function(xt){var wt=function(Vt){return function(Vt){return"number"==typeof Vt?new Date(1e3*Vt):"string"==typeof Vt?Number(Vt)?new Date(1e3*Number(Vt)):new Date(Vt):Vt}(Vt).toISOString().replace(/\.\d{3}Z$/,"Z")}(xt).replace(/[\-:]/g,"");return{longDate:wt,shortDate:wt.slice(0,8)}}},{key:"getCanonicalHeaderList",value:function(xt){return Object.keys(xt).sort().join(";")}}]);var Vt}())},38310:(we,oe,b)=>{b.d(oe,{N:()=>m});var M=b(43288),a=b(63398),m=function(){return(0,a.A)(function h(){(0,M.A)(this,h)},[{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}])}()},36977:(we,oe,b)=>{b.d(oe,{K:()=>k});var M=b(43288),a=b(63398),m=b(40642),h=b(31579),k=function(){return(0,a.A)(function A(y){(0,M.A)(this,A),(0,m.A)(this,"config",void 0),(0,m.A)(this,"middlewareStack",(0,h.o)()),(0,m.A)(this,"initConfig",void 0),(0,m.A)(this,"handlers",void 0),this.config=y},[{key:"send",value:function(E,f,v){var N,P="function"!=typeof f?f:void 0,F="function"==typeof f?f:v;if(void 0===P&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);var R=this.handlers;R.has(E.constructor)?N=R.get(E.constructor):(N=E.resolveMiddleware(this.middlewareStack,this.config,P),R.set(E.constructor,N))}else delete this.handlers,N=E.resolveMiddleware(this.middlewareStack,this.config,P);if(!F)return N(E).then(function(L){return L.output});N(E).then(function(L){return F(null,L.output)},function(L){return F(L)}).catch(function(){})}},{key:"destroy",value:function(){var E,f;null===(E=this.config)||void 0===E||null===(E=E.requestHandler)||void 0===E||null===(f=E.destroy)||void 0===f||f.call(E),delete this.handlers}}])}()},71852:(we,oe,b)=>{b.d(oe,{u:()=>U});var M=b(82297),a=b(13544),m=b(22292),h=b(50438),k=b(43288),A=b(63398),y=b(40642),E=b(31579),f=b(33927),v=b(98824),P=b(11),F=function(K){return"function"==typeof K?K():K};function w(te){if("object"==typeof te)return te;te|=0;for(var K={},j=0,re=0,ue=["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"];re<ue.length;re++)1==(te>>j++&1)&&(K[ue[re]]=1);return K}var N=function(){var te=function(){function K(j,re){(0,k.A)(this,K),(0,y.A)(this,"ref",void 0),(0,y.A)(this,"memberName",void 0),(0,y.A)(this,"symbol",K.symbol),(0,y.A)(this,"name",void 0),(0,y.A)(this,"schema",void 0),(0,y.A)(this,"_isMemberSchema",void 0),(0,y.A)(this,"traits",void 0),(0,y.A)(this,"memberTraits",void 0),(0,y.A)(this,"normalizedTraits",void 0),this.ref=j,this.memberName=re;var Ee,ue=[],ne=j,z=j;for(this._isMemberSchema=!1;L(ne);)ue.push(ne[1]),z=F(ne=ne[0]),this._isMemberSchema=!0;if(ue.length>0){this.memberTraits={};for(var q=ue.length-1;q>=0;--q)Object.assign(this.memberTraits,w(ue[q]))}else this.memberTraits=0;if(z instanceof K){var ye=this.memberTraits;return Object.assign(this,z),this.memberTraits=Object.assign({},ye,z.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,void(this.memberName=re??z.memberName)}if(this.schema=F(z),G(this.schema)?(this.name="".concat(this.schema[1],"#").concat(this.schema[2]),this.traits=this.schema[3]):(this.name=null!==(Ee=this.memberName)&&void 0!==Ee?Ee:String(z),this.traits=0),this._isMemberSchema&&!re)throw new Error("@smithy/core/schema - NormalizedSchema member init ".concat(this.getName(!0)," missing member name."))}return(0,A.A)(K,[{key:"getSchema",value:function(){var re=this.schema;return 0===re[0]?re[4]:re}},{key:"getName",value:function(){var ue=this.name;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!ue||!ue.includes("#")?ue||void 0:ue.split("#")[1]}},{key:"getMemberName",value:function(){return this.memberName}},{key:"isMemberSchema",value:function(){return this._isMemberSchema}},{key:"isListSchema",value:function(){var re=this.getSchema();return"number"==typeof re?re>=64&&re<128:1===re[0]}},{key:"isMapSchema",value:function(){var re=this.getSchema();return"number"==typeof re?re>=128&&re<=255:2===re[0]}},{key:"isStructSchema",value:function(){var re=this.getSchema();return 3===re[0]||-3===re[0]}},{key:"isBlobSchema",value:function(){var re=this.getSchema();return 21===re||42===re}},{key:"isTimestampSchema",value:function(){var re=this.getSchema();return"number"==typeof re&&re>=4&&re<=7}},{key:"isUnitSchema",value:function(){return"unit"===this.getSchema()}},{key:"isDocumentSchema",value:function(){return 15===this.getSchema()}},{key:"isStringSchema",value:function(){return 0===this.getSchema()}},{key:"isBooleanSchema",value:function(){return 2===this.getSchema()}},{key:"isNumericSchema",value:function(){return 1===this.getSchema()}},{key:"isBigIntegerSchema",value:function(){return 17===this.getSchema()}},{key:"isBigDecimalSchema",value:function(){return 19===this.getSchema()}},{key:"isStreaming",value:function(){return!!this.getMergedTraits().streaming||42===this.getSchema()}},{key:"isIdempotencyToken",value:function(){var re=function(pe){return!(4&~pe&&(null==pe||!pe.idempotencyToken))},ne=this.traits,z=this.memberTraits;return re(this.normalizedTraits)||re(ne)||re(z)}},{key:"getMergedTraits",value:function(){var re;return null!==(re=this.normalizedTraits)&&void 0!==re?re:this.normalizedTraits=(0,m.A)((0,m.A)({},this.getOwnTraits()),this.getMemberTraits())}},{key:"getMemberTraits",value:function(){return w(this.memberTraits)}},{key:"getOwnTraits",value:function(){return w(this.traits)}},{key:"getKeySchema",value:function(){var re,ue=[this.isDocumentSchema(),this.isMapSchema()],ne=ue[0];if(!ne&&!ue[1])throw new Error("@smithy/core/schema - cannot get key for non-map: ".concat(this.getName(!0)));var q=this.getSchema();return R([ne?15:null!==(re=q[4])&&void 0!==re?re:0,0],"key")}},{key:"getValueSchema",value:function(){var re=this.getSchema(),ue=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],z=ue[1],pe="number"==typeof re?63&re:re&&"object"==typeof re&&(z||ue[2])?re[3+re[0]]:ue[0]?15:void 0;if(null!=pe)return R([pe,0],z?"value":"member");throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no value member."))}},{key:"getMemberSchema",value:function(re){var ue=this.getSchema();if(this.isStructSchema()&&ue[4].includes(re)){var ne=ue[4].indexOf(re),z=ue[5][ne];return R(L(z)?z:[z,0],re)}if(this.isDocumentSchema())return R([15,0],re);throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no no member=").concat(re,"."))}},{key:"getMemberSchemas",value:function(){var re={};try{var ne,ue=(0,h.A)(this.structIterator());try{for(ue.s();!(ne=ue.n()).done;){var z=(0,v.A)(ne.value,2);re[z[0]]=z[1]}}catch(ye){ue.e(ye)}finally{ue.f()}}catch{}return re}},{key:"getEventStreamMember",value:function(){if(this.isStructSchema()){var ue,re=(0,h.A)(this.structIterator());try{for(re.s();!(ue=re.n()).done;){var ne=(0,v.A)(ue.value,2),z=ne[0],q=ne[1];if(q.isStreaming()&&q.isStructSchema())return z}}catch(pe){re.e(pe)}finally{re.f()}}return""}},{key:"structIterator",value:(0,P.A)().m(function j(){var re,ue;return(0,P.A)().w(function(ne){for(;;)switch(ne.n){case 0:if(!this.isUnitSchema()){ne.n=1;break}return ne.a(2);case 1:if(this.isStructSchema()){ne.n=2;break}throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");case 2:re=this.getSchema(),ue=0;case 3:if(!(ue<re[4].length)){ne.n=5;break}return ne.n=4,[re[4][ue],R([re[5][ue],0],re[4][ue])];case 4:++ue,ne.n=3;break;case 5:return ne.a(2)}},j,this)})}],[{key:Symbol.hasInstance,value:function(re){var ue=this.prototype.isPrototypeOf(re);return ue||"object"!=typeof re||null===re?ue:re.symbol===this.symbol}},{key:"of",value:function(re){var ue=F(re);if(ue instanceof K)return ue;if(L(ue)){var ne=(0,v.A)(ue,2),z=ne[0],q=ne[1];if(z instanceof K)return Object.assign(z.getMergedTraits(),w(q)),z;throw new Error("@smithy/core/schema - may not init unwrapped member schema=".concat(JSON.stringify(re,null,2),"."))}return new K(ue)}}])}();return(0,y.A)(te,"symbol",Symbol.for("@smithy/nor")),te}();function R(te,K){return te instanceof N?Object.assign(te,{memberName:K,_isMemberSchema:!0}):new N(te,K)}var L=function(K){return Array.isArray(K)&&2===K.length},G=function(K){return Array.isArray(K)&&K.length>=5},T="***SensitiveInformation***";function V(te,K){if(null==K)return K;var j=N.of(te);if(j.getMergedTraits().sensitive)return T;if(j.isListSchema()){if(j.getValueSchema().getMergedTraits().sensitive)return T}else if(j.isMapSchema()){if(j.getKeySchema().getMergedTraits().sensitive||j.getValueSchema().getMergedTraits().sensitive)return T}else if(j.isStructSchema()&&"object"==typeof K){var pe,ne=K,z={},q=(0,h.A)(j.structIterator());try{for(q.s();!(pe=q.n()).done;){var ye=(0,v.A)(pe.value,2),Ee=ye[0];null!=ne[Ee]&&(z[Ee]=V(ye[1],ne[Ee]))}}catch(Ge){q.e(Ge)}finally{q.f()}return z}return K}var U=function(){return(0,A.A)(function te(){(0,k.A)(this,te),(0,y.A)(this,"middlewareStack",(0,E.o)()),(0,y.A)(this,"schema",void 0)},[{key:"resolveMiddlewareWithContext",value:function(j,re,ue,ne){var Xe,q=ne.clientName,pe=ne.commandName,ye=ne.inputFilterSensitiveLog,Ee=ne.outputFilterSensitiveLog,Ie=ne.smithyContext,Ge=ne.additionalContext,xe=ne.CommandCtor,Be=(0,h.A)(ne.middlewareFn.bind(this)(xe,j,re,ue));try{for(Be.s();!(Xe=Be.n()).done;)this.middlewareStack.use(Xe.value)}catch(At){Be.e(At)}finally{Be.f()}var ot=j.concat(this.middlewareStack),ze=(0,m.A)((0,y.A)({logger:re.logger,clientName:q,commandName:pe,inputFilterSensitiveLog:ye,outputFilterSensitiveLog:Ee},f.V,(0,m.A)({commandInstance:this},Ie)),Ge),Ye=re.requestHandler;return ot.resolve(function(At){return Ye.handle(At.request,ue||{})},ze)}}],[{key:"classBuilder",value:function(){return new ee}}])}(),ee=function(){return(0,A.A)(function te(){(0,k.A)(this,te),(0,y.A)(this,"_init",function(){}),(0,y.A)(this,"_ep",{}),(0,y.A)(this,"_middlewareFn",function(){return[]}),(0,y.A)(this,"_commandName",""),(0,y.A)(this,"_clientName",""),(0,y.A)(this,"_additionalContext",{}),(0,y.A)(this,"_smithyContext",{}),(0,y.A)(this,"_inputFilterSensitiveLog",void 0),(0,y.A)(this,"_outputFilterSensitiveLog",void 0),(0,y.A)(this,"_serializer",null),(0,y.A)(this,"_deserializer",null),(0,y.A)(this,"_operationSchema",void 0)},[{key:"init",value:function(j){this._init=j}},{key:"ep",value:function(j){return this._ep=j,this}},{key:"m",value:function(j){return this._middlewareFn=j,this}},{key:"s",value:function(j,re){return this._smithyContext=(0,m.A)({service:j,operation:re},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this}},{key:"c",value:function(){return this._additionalContext=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this}},{key:"n",value:function(j,re){return this._clientName=j,this._commandName=re,this}},{key:"f",value:function(){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(ue){return ue};return this._inputFilterSensitiveLog=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(ue){return ue},this._outputFilterSensitiveLog=re,this}},{key:"ser",value:function(j){return this._serializer=j,this}},{key:"de",value:function(j){return this._deserializer=j,this}},{key:"sc",value:function(j){return this._operationSchema=j,this._smithyContext.operationSchema=j,this}},{key:"build",value:function(){var re,j=this;return re=function(ue){function ne(){for(var z,q=arguments.length,pe=new Array(q),ye=0;ye<q;ye++)pe[ye]=arguments[ye];var Ee=pe[0];return(0,k.A)(this,ne),z=(0,M.A)(this,ne),(0,y.A)(z,"input",void 0),(0,y.A)(z,"serialize",j._serializer),(0,y.A)(z,"deserialize",j._deserializer),z.input=Ee??{},j._init(z),z.schema=j._operationSchema,z}return(0,a.A)(ne,ue),(0,A.A)(ne,[{key:"resolveMiddleware",value:function(q,pe,ye){var Ee,Ie,Ge,xe,Be=j._operationSchema,Xe=null!==(Ee=Be?.[4])&&void 0!==Ee?Ee:Be?.input,Ze=null!==(Ie=Be?.[5])&&void 0!==Ie?Ie:Be?.output;return this.resolveMiddlewareWithContext(q,pe,ye,{CommandCtor:re,middlewareFn:j._middlewareFn,clientName:j._clientName,commandName:j._commandName,inputFilterSensitiveLog:null!==(Ge=j._inputFilterSensitiveLog)&&void 0!==Ge?Ge:Be?V.bind(null,Xe):function(ot){return ot},outputFilterSensitiveLog:null!==(xe=j._outputFilterSensitiveLog)&&void 0!==xe?xe:Be?V.bind(null,Ze):function(ot){return ot},smithyContext:j._smithyContext,additionalContext:j._additionalContext})}}],[{key:"getEndpointParameterInstructions",value:function(){return j._ep}}])}(U)}}])}()},73181:(we,oe,b)=>{b.d(oe,{$:()=>M});var M="***SensitiveInformation***"},21987:(we,oe,b)=>{b.d(oe,{j:()=>m});var M=b(93628),m=function(A){return function(y){!function(A){var E=A.parsedBody,f=A.exceptionCtor,v=A.errorCode,P=h(A.output),F=P.httpStatusCode?P.httpStatusCode+"":void 0,w=new f({name:E?.code||E?.Code||v||F||"UnknownError",$fault:"client",$metadata:P});throw(0,M.M)(w,E)}({output:y.output,parsedBody:y.parsedBody,exceptionCtor:A,errorCode:y.errorCode})}},h=function(A){var y,E;return{httpStatusCode:A.statusCode,requestId:null!==(y=null!==(E=A.headers["x-amzn-requestid"])&&void 0!==E?E:A.headers["x-amzn-request-id"])&&void 0!==y?y:A.headers["x-amz-request-id"],extendedRequestId:A.headers["x-amz-id-2"],cfId:A.headers["x-amz-cf-id"]}}},98526:(we,oe,b)=>{b.d(oe,{l:()=>M});var M=function(m){switch(m){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}},93628:(we,oe,b)=>{b.d(oe,{M:()=>f,T:()=>E});var M=b(98824),a=b(43288),m=b(63398),h=b(82297),k=b(13544),A=b(94334),y=b(40642),E=function(v){function P(F){var w;return(0,a.A)(this,P),w=(0,h.A)(this,P,[F.message]),(0,y.A)(w,"$fault",void 0),(0,y.A)(w,"$response",void 0),(0,y.A)(w,"$retryable",void 0),(0,y.A)(w,"$metadata",void 0),Object.setPrototypeOf(w,Object.getPrototypeOf(w).constructor.prototype),w.name=F.name,w.$fault=F.$fault,w.$metadata=F.$metadata,w}return(0,k.A)(P,v),(0,m.A)(P,null,[{key:"isInstance",value:function(w){if(!w)return!1;var N=w;return P.prototype.isPrototypeOf(N)||!!N.$fault&&!!N.$metadata&&("client"===N.$fault||"server"===N.$fault)}},{key:Symbol.hasInstance,value:function(w){if(!w)return!1;var N=w;return this===P?P.isInstance(w):!!P.isInstance(w)&&(N.name&&this.name?this.prototype.isPrototypeOf(w)||N.name===this.name:this.prototype.isPrototypeOf(w))}}])}((0,A.A)(Error)),f=function(P){return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).filter(function(N){return void 0!==(0,M.A)(N,2)[1]}).forEach(function(N){var R=(0,M.A)(N,2),L=R[0];(null==P[L]||""===P[L])&&(P[L]=R[1])}),P.message=P.message||P.Message||"UnknownError",delete P.Message,P}},56747:(we,oe,b)=>{b.d(oe,{xA:()=>E,uv:()=>v});var M=function(P){return P.MD5="md5",P.CRC32="crc32",P.CRC32C="crc32c",P.SHA1="sha1",P.SHA256="sha256",P}(M||{}),E=function(F){return Object.assign(function(F){var w=[],N=function(){var G=M[R];if(void 0===F[G])return 1;w.push({algorithmId:function(){return G},checksumConstructor:function(){return F[G]}})};for(var R in M)N();return{addChecksumAlgorithm:function(G){w.push(G)},checksumAlgorithms:function(){return w}}}(F),function(F){return{setRetryStrategy:function(N){F.retryStrategy=N},retryStrategy:function(){return F.retryStrategy}}}(F))},v=function(F){return Object.assign(function(F){var w={};return F.checksumAlgorithms().forEach(function(N){w[N.algorithmId()]=N.checksumConstructor()}),w}(F),function(F){var w={};return w.retryStrategy=F.retryStrategy(),w}(F))}},79286:(we,oe,b)=>{b.d(oe,{Tj:()=>a,s:()=>h});var M=b(98824);function a(f,v,P){var F,N;if(typeof v>"u"&&typeof P>"u")F={},N=f;else{if(F=f,"function"==typeof v)return k(F,v,N=P);N=v}for(var R=0,L=Object.keys(N);R<L.length;R++){var G=L[R];Array.isArray(N[G])?A(F,null,N,G):F[G]=N[G]}return F}var h=function(v,P){var F={};for(var w in P)A(F,v,P,w);return F},k=function(v,P,F){return a(v,Object.entries(F).reduce(function(w,N){var R=(0,M.A)(N,2),G=R[1];return w[R[0]]=Array.isArray(G)?G:"function"==typeof G?[P,G()]:[P,G],w},{}))},A=function(v,P,F,w){if(null===P){var K=(0,M.A)(F[w],2),j=K[0],re=K[1];if("function"==typeof re){var ue,ne=void 0===j&&null!=(ue=re()),z="function"==typeof j&&!!j(void 0)||"function"!=typeof j&&!!j;ne?v[w]=ue:z&&(v[w]=re())}else{var q=void 0===j&&null!=re,pe="function"==typeof j&&!!j(re)||"function"!=typeof j&&!!j;(q||pe)&&(v[w]=re)}}else{var N=F[w];"function"==typeof N&&(N=[,N]);var L=(0,M.A)(N,3),G=L[0],T=void 0===G?y:G,V=L[1],U=void 0===V?E:V,ee=L[2],te=void 0===ee?w:ee;("function"==typeof T&&T(P[te])||"function"!=typeof T&&T)&&(v[w]=U(P[te]))}},y=function(v){return null!=v},E=function(v){return v}},33927:(we,oe,b)=>{b.d(oe,{V:()=>M});var M="__smithy_context"},50993:(we,oe,b)=>{b.d(oe,{D:()=>h});var M=b(98824),a=b(50438),h=function(A){if("string"==typeof A)return h(new URL(A));var F,y=A.hostname,E=A.pathname,f=A.port,v=A.protocol,P=A.search;return P&&(F=function m(k){var A={};if(k=k.replace(/^\?/,"")){var E,y=(0,a.A)(k.split("&"));try{for(y.s();!(E=y.n()).done;){var v=E.value.split("="),P=(0,M.A)(v,2),F=P[0],w=P[1],N=void 0===w?null:w;F=decodeURIComponent(F),N&&(N=decodeURIComponent(N)),F in A?Array.isArray(A[F])?A[F].push(N):A[F]=[A[F],N]:A[F]=N}}catch(R){y.e(R)}finally{y.f()}}return A}(P)),{hostname:y,port:f?parseInt(f):void 0,protocol:v,path:E,query:F}}},47245:(we,oe,b)=>{b.d(oe,{Kc:()=>h,OF:()=>y,_w:()=>k,kQ:()=>A,mh:()=>m});var M=b(98824),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=Object.entries(a).reduce(function(E,f){var v=(0,M.A)(f,2);return E[v[1]]=Number(v[0]),E},{}),h=a.split(""),k=6,A=8,y=63},8833:(we,oe,b)=>{b.d(oe,{E:()=>a});var M=b(47245),a=function(h){var k=h.length/4*3;"=="===h.slice(-2)?k-=2:"="===h.slice(-1)&&k--;for(var A=new ArrayBuffer(k),y=new DataView(A),E=0;E<h.length;E+=4){for(var f=0,v=0,P=E,F=E+3;P<=F;P++)if("="!==h[P]){if(!(h[P]in M.mh))throw new TypeError("Invalid character ".concat(h[P]," in base64 string."));f|=M.mh[h[P]]<<(F-P)*M._w,v+=M._w}else f>>=M._w;var w=E/4*3;f>>=v%M.kQ;for(var N=Math.floor(v/M.kQ),R=0;R<N;R++){var L=(N-R-1)*M.kQ;y.setUint8(w+R,(f&255<<L)>>L)}}return new Uint8Array(A)}},47436:(we,oe,b)=>{b.d(oe,{n:()=>m});var M=b(87521),a=b(47245);function m(h){var k;if(!("object"==typeof(k="string"==typeof h?(0,M.a)(h):h)&&"number"==typeof k.length||"object"==typeof k&&"number"==typeof k.byteOffset&&"number"==typeof k.byteLength))throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");for(var E="",f=0;f<k.length;f+=3){for(var v=0,P=0,F=f,w=Math.min(f+3,k.length);F<w;F++)v|=k[F]<<(w-F-1)*a.kQ,P+=a.kQ;var N=Math.ceil(P/a._w);v<<=N*a._w-P;for(var R=1;R<=N;R++){var L=(N-R)*a._w;E+=a.Kc[(v&a.OF<<L)>>L]}E+="==".slice(0,4-N)}return E}},69153:(we,oe,b)=>{b.d(oe,{n:()=>a});var M="function"==typeof TextEncoder?new TextEncoder:null,a=function(h){if("string"==typeof h){if(M)return M.encode(h).byteLength;for(var k=h.length,A=k-1;A>=0;A--){var y=h.charCodeAt(A);y>127&&y<=2047?k++:y>2047&&y<=65535&&(k+=2),y>=56320&&y<=57343&&A--}return k}if("number"==typeof h.byteLength)return h.byteLength;if("number"==typeof h.size)return h.size;throw new Error("Body Length computation failed for ".concat(h))}},80694:(we,oe,b)=>{b.d(oe,{Q:()=>M});var M=function(m,h,k){if(h in m){if("true"===m[h])return!0;if("false"===m[h])return!1;throw new Error("Cannot load ".concat(k,' "').concat(h,'". Expected "true" or "false", got ').concat(m[h],"."))}}},62734:(we,oe,b)=>{b.d(oe,{c:()=>M});var M=function(a){return a.ENV="env",a.CONFIG="shared config entry",a}(M||{})},75208:(we,oe,b)=>{b.d(oe,{I:()=>k});var M=b(11),a=b(81890),h=["in-region","cross-region","mobile","standard","legacy"],k=function(){var E,P,F,w,R,f=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultsMode;return E=(0,a.A)((0,M.A)().m(function v(){var P,F,w;return(0,M.A)().w(function(N){for(;;)switch(N.n){case 0:if("function"!=typeof f){N.n=2;break}return N.n=1,f();case 1:F=N.v,N.n=3;break;case 2:F=f;case 3:P=F,w=P?.toLowerCase(),N.n="auto"===w?4:"mobile"===w||"in-region"===w||"cross-region"===w||"standard"===w||"legacy"===w?5:void 0===w?6:7;break;case 4:return N.a(2,Promise.resolve(A()?"mobile":"standard"));case 5:return N.a(2,Promise.resolve(P?.toLocaleLowerCase()));case 6:return N.a(2,Promise.resolve("legacy"));case 7:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(h.join(", "),", got ").concat(P));case 8:return N.a(2)}},v)})),R=function(){var L=(0,a.A)((0,M.A)().m(function G(){return(0,M.A)().w(function(T){for(;;)switch(T.p=T.n){case 0:return F||(F=E()),T.p=1,T.n=2,F;case 2:P=T.v,w=!0;case 3:return T.p=3,F=void 0,T.f(3);case 4:return T.a(2,P)}},G,null,[[1,,3,4]])}));return function(){return L.apply(this,arguments)}}(),function(){var L=(0,a.A)((0,M.A)().m(function G(T){return(0,M.A)().w(function(V){for(;;)switch(V.n){case 0:if(w&&(null==T||!T.forceRefresh)){V.n=2;break}return V.n=1,R();case 1:P=V.v;case 2:return V.a(2,P)}},G)}));return function(G){return L.apply(this,arguments)}}()},A=function(){var E,f,v=null===(E=window)||void 0===E?void 0:E.navigator;if(null!=v&&v.connection){var P=v?.connection,F=P.effectiveType,N=P.downlink;if("string"==typeof F&&"4g"!==F||Number(P.rtt)>100||Number(N)<10)return!0}return(null==v||null===(f=v.userAgentData)||void 0===f?void 0:f.mobile)||"number"==typeof v?.maxTouchPoints&&v?.maxTouchPoints>1}},64585:(we,oe,b)=>{b.d(oe,{k:()=>k});var M=b(50438),a=b(43288),m=b(63398),h=b(40642),k=function(){return(0,m.A)(function A(y){var E=y.size,f=y.params;(0,a.A)(this,A),(0,h.A)(this,"capacity",void 0),(0,h.A)(this,"data",new Map),(0,h.A)(this,"parameters",[]),this.capacity=E??50,f&&(this.parameters=f)},[{key:"get",value:function(E,f){var v=this.hash(E);if(!1===v)return f();if(!this.data.has(v)){if(this.data.size>this.capacity+10)for(var P=this.data.keys(),F=0;;){var w=P.next(),R=w.done;if(this.data.delete(w.value),R||++F>10)break}this.data.set(v,f())}return this.data.get(v)}},{key:"size",value:function(){return this.data.size}},{key:"hash",value:function(E){var f="",v=this.parameters;if(0===v.length)return!1;var F,P=(0,M.A)(v);try{for(P.s();!(F=P.n()).done;){var w,R=String(null!==(w=E[F.value])&&void 0!==w?w:"");if(R.includes("|;"))return!1;f+=R+"|;"}}catch(L){P.e(L)}finally{P.f()}return f}}])}()},54110:(we,oe,b)=>{b.d(oe,{o:()=>a});var M=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),a=function(h){return M.test(h)||h.startsWith("[")&&h.endsWith("]")}},98023:(we,oe,b)=>{b.d(oe,{X:()=>m});var M=b(50438),a=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),m=function(k){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return a.test(k);var f,y=k.split("."),E=(0,M.A)(y);try{for(E.s();!(f=E.n()).done;)if(!m(f.value))return!1}catch(P){E.e(P)}finally{E.f()}return!0}},67227:(we,oe,b)=>{b.d(oe,{s:()=>Pe});var M=b(50438),a=b(98824),m="endpoints";function h(ie){return"object"!=typeof ie||null==ie?ie:"ref"in ie?"$".concat(h(ie.ref)):"fn"in ie?"".concat(ie.fn,"(").concat((ie.argv||[]).map(h).join(", "),")"):JSON.stringify(ie,null,2)}var k=b(63398),A=b(43288),y=b(82297),E=b(13544),v=function(ie){function ae(Me){var se;return(0,A.A)(this,ae),(se=(0,y.A)(this,ae,[Me])).name="EndpointError",se}return(0,E.A)(ae,ie),(0,k.A)(ae)}((0,b(94334).A)(Error)),P=b(22292),F=b(88051),w=b(63730),N=b(71440),G=function(ae,Me){return function(ae){var Q,Me=ae.split("."),se=[],Z=(0,M.A)(Me);try{for(Z.s();!(Q=Z.n()).done;){var ve=Q.value,je=ve.indexOf("[");if(-1!==je){if(ve.indexOf("]")!==ve.length-1)throw new v("Path: '".concat(ae,"' does not end with ']'"));var nt=ve.slice(je+1,-1);if(Number.isNaN(parseInt(nt)))throw new v("Invalid array index: '".concat(nt,"' in path: '").concat(ae,"'"));0!==je&&se.push(ve.slice(0,je)),se.push(nt)}else se.push(ve)}}catch(at){Z.e(at)}finally{Z.f()}return se}(Me).reduce(function(se,Z){if("object"!=typeof se)throw new v("Index '".concat(Z,"' in '").concat(Me,"' not found in '").concat(JSON.stringify(ae),"'"));return Array.isArray(se)?se[parseInt(Z)]:se[Z]},ae)},V=b(98023),ee=b(40642),te=function(ie){return ie.HTTP="http",ie.HTTPS="https",ie}(te||{}),K=b(54110),j=(0,ee.A)((0,ee.A)({},te.HTTP,80),te.HTTPS,443),q={booleanEquals:function(ae,Me){return ae===Me},getAttr:G,isSet:function(ae){return null!=ae},isValidHostLabel:V.X,not:function(ae){return!ae},parseURL:function(ae){var Me=function(){try{if(ae instanceof URL)return ae;if("object"==typeof ae&&"hostname"in ae){var ln=ae.hostname,fn=ae.port,Se=ae.protocol,Dn=ae.path,pt=void 0===Dn?"":Dn,Vt=ae.query,xt=void 0===Vt?{}:Vt,wt=new URL("".concat(void 0===Se?"":Se,"//").concat(ln).concat(fn?":".concat(fn):"").concat(pt));return wt.search=Object.entries(xt).map(function(Ft){var ht=(0,a.A)(Ft,2),$e=ht[1];return"".concat(ht[0],"=").concat($e)}).join("&"),wt}return new URL(ae)}catch{return null}}();if(!Me)return console.error("Unable to parse ".concat(JSON.stringify(ae)," as a whatwg URL.")),null;var se=Me.href,Z=Me.host,Q=Me.hostname,ve=Me.pathname;if(Me.search)return null;var at=Me.protocol.slice(0,-1);if(!Object.values(te).includes(at))return null;var bt=(0,K.o)(Q),Ot=se.includes("".concat(Z,":").concat(j[at]))||"string"==typeof ae&&ae.includes("".concat(Z,":").concat(j[at]));return{scheme:at,authority:"".concat(Z).concat(Ot?":".concat(j[at]):""),path:ve,normalizedPath:ve.endsWith("/")?ve:"".concat(ve,"/"),isIp:bt}},stringEquals:function(ae,Me){return ae===Me},substring:function(ae,Me,se,Z){return Me>=se||ae.length<se?null:Z?ae.substring(ae.length-se,ae.length-Me):ae.substring(Me,se)},uriEncode:function(ae){return encodeURIComponent(ae).replace(/[!*'()]/g,function(Me){return"%".concat(Me.charCodeAt(0).toString(16).toUpperCase())})}},pe=function(ae,Me){for(var se=[],Z=(0,P.A)((0,P.A)({},Me.endpointParams),Me.referenceRecord),Q=0;Q<ae.length;){var ve=ae.indexOf("{",Q);if(-1===ve){se.push(ae.slice(Q));break}se.push(ae.slice(Q,ve));var je=ae.indexOf("}",ve);if(-1===je){se.push(ae.slice(ve));break}"{"===ae[ve+1]&&"}"===ae[je+1]&&(se.push(ae.slice(ve+1,je)),Q=je+2);var nt=ae.substring(ve+1,je);if(nt.includes("#")){var at=nt.split("#"),bt=(0,a.A)(at,2);se.push(G(Z[bt[0]],bt[1]))}else se.push(Z[nt]);Q=je+1}return se.join("")},Ee=function(ae,Me,se){if("string"==typeof ae)return pe(ae,se);if(ae.fn)return Ge.callFunction(ae,se);if(ae.ref)return function(ae,Me){var se=ae.ref;return(0,P.A)((0,P.A)({},Me.endpointParams),Me.referenceRecord)[se]}(ae,se);throw new v("'".concat(Me,"': ").concat(String(ae)," is not a string, function or reference."))},Ie=function(ae,Me){var je,se=ae.fn,Q=ae.argv.map(function(nt){return["boolean","number"].includes(typeof nt)?nt:Ge.evaluateExpression(nt,"arg",Me)}),ve=se.split(".");return ve[0]in N.m&&null!=ve[1]?(je=N.m[ve[0]])[ve[1]].apply(je,(0,w.A)(Q)):q[se].apply(q,(0,w.A)(Q))},Ge={evaluateExpression:Ee,callFunction:Ie},xe=["assign"],Be=function(ae,Me){var se,Z,Q=ae.assign,ve=(0,F.A)(ae,xe);if(Q&&Q in Me.referenceRecord)throw new v("'".concat(Q,"' is already defined in Reference Record."));var je=Ie(ve,Me);return null===(se=Me.logger)||void 0===se||null===(Z=se.debug)||void 0===Z||Z.call(se,"".concat(m," evaluateCondition: ").concat(h(ve)," = ").concat(h(je))),(0,P.A)({result:""===je||!!je},null!=Q&&{toAssign:{name:Q,value:je}})},Xe=function(){var Q,Me=arguments.length>1?arguments[1]:void 0,se={},Z=(0,M.A)(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(Z.s();!(Q=Z.n()).done;){var bt,Ot,je=Be(Q.value,(0,P.A)((0,P.A)({},Me),{},{referenceRecord:(0,P.A)((0,P.A)({},Me.referenceRecord),se)})),nt=je.result,at=je.toAssign;if(!nt)return{result:nt};at&&(se[at.name]=at.value,null===(bt=Me.logger)||void 0===bt||null===(Ot=bt.debug)||void 0===Ot||Ot.call(bt,"".concat(m," assign: ").concat(at.name," := ").concat(h(at.value))))}}catch(It){Z.e(It)}finally{Z.f()}return{result:!0,referenceRecord:se}},Ze=function(ae,Me){return Object.entries(ae).reduce(function(se,Z){var Q=(0,a.A)(Z,2),ve=Q[0],je=Q[1];return(0,P.A)((0,P.A)({},se),{},(0,ee.A)({},ve,je.map(function(nt){var at=Ee(nt,"Header value entry",Me);if("string"!=typeof at)throw new v("Header '".concat(ve,"' value '").concat(at,"' is not a string"));return at})))},{})},ot=function(ae,Me){return Object.entries(ae).reduce(function(se,Z){var Q=(0,a.A)(Z,2),ve=Q[0],je=Q[1];return(0,P.A)((0,P.A)({},se),{},(0,ee.A)({},ve,ze.getEndpointProperty(je,Me)))},{})},vt=function(ae,Me){if(Array.isArray(ae))return ae.map(function(se){return vt(se,Me)});switch(typeof ae){case"string":return pe(ae,Me);case"object":if(null===ae)throw new v("Unexpected endpoint property: ".concat(ae));return ze.getEndpointProperties(ae,Me);case"boolean":return ae;default:throw new v("Unexpected endpoint property type: ".concat(typeof ae))}},ze={getEndpointProperty:vt,getEndpointProperties:ot},Ye=function(ae,Me){var se=Ee(ae,"Endpoint URL",Me);if("string"==typeof se)try{return new URL(se)}catch(Z){throw console.error("Failed to construct URL with ".concat(se),Z),Z}throw new v("Endpoint URL must be a string, got ".concat(typeof se))},At=function(ae,Me){var se,Z,ve=ae.endpoint,je=Xe(ae.conditions,Me),at=je.referenceRecord;if(je.result){var bt=(0,P.A)((0,P.A)({},Me),{},{referenceRecord:(0,P.A)((0,P.A)({},Me.referenceRecord),at)}),Ot=ve.url,It=ve.properties,ln=ve.headers;return null===(se=Me.logger)||void 0===se||null===(Z=se.debug)||void 0===Z||Z.call(se,"".concat(m," Resolving endpoint from template: ").concat(h(ve))),(0,P.A)((0,P.A)((0,P.A)({},null!=ln&&{headers:Ze(ln,bt)}),null!=It&&{properties:ot(It,bt)}),{},{url:Ye(Ot,bt)})}},de=function(ae,Me){var Z=ae.error,Q=Xe(ae.conditions,Me),je=Q.referenceRecord;if(Q.result)throw new v(Ee(Z,"Error",(0,P.A)((0,P.A)({},Me),{},{referenceRecord:(0,P.A)((0,P.A)({},Me.referenceRecord),je)})))},W=function(ae,Me){var Z,se=(0,M.A)(ae);try{for(se.s();!(Z=se.n()).done;){var Q=Z.value;if("endpoint"===Q.type){var ve=At(Q,Me);if(ve)return ve}else if("error"===Q.type)de(Q,Me);else{if("tree"!==Q.type)throw new v("Unknown endpoint rule: ".concat(Q));var je=Ce.evaluateTreeRule(Q,Me);if(je)return je}}}catch(nt){se.e(nt)}finally{se.f()}throw new v("Rules evaluation failed")},Ce={evaluateRules:W,evaluateTreeRule:function(ae,Me){var Z=ae.rules,Q=Xe(ae.conditions,Me),je=Q.referenceRecord;if(Q.result)return Ce.evaluateRules(Z,(0,P.A)((0,P.A)({},Me),{},{referenceRecord:(0,P.A)((0,P.A)({},Me.referenceRecord),je)}))}},Pe=function(ae,Me){var se,Z,Q,ve,je=Me.endpointParams,nt=Me.logger,at=ae.parameters,bt=ae.rules;null===(se=Me.logger)||void 0===se||null===(Z=se.debug)||void 0===Z||Z.call(se,"".concat(m," Initial EndpointParams: ").concat(h(je)));var Ot=Object.entries(at).filter(function(ht){return null!=(0,a.A)(ht,2)[1].default}).map(function(ht){var Ue=(0,a.A)(ht,2);return[Ue[0],Ue[1].default]});if(Ot.length>0){var ln,It=(0,M.A)(Ot);try{for(It.s();!(ln=It.n()).done;){var fn,Se=(0,a.A)(ln.value,2),Zn=Se[0];je[Zn]=null!==(fn=je[Zn])&&void 0!==fn?fn:Se[1]}}catch(ht){It.e(ht)}finally{It.f()}}var xt,pt=Object.entries(at).filter(function(ht){return(0,a.A)(ht,2)[1].required}).map(function(ht){return(0,a.A)(ht,1)[0]}),Vt=(0,M.A)(pt);try{for(Vt.s();!(xt=Vt.n()).done;){var wt=xt.value;if(null==je[wt])throw new v("Missing required parameter: '".concat(wt,"'"))}}catch(ht){Vt.e(ht)}finally{Vt.f()}var Ft=W(bt,{endpointParams:je,logger:nt,referenceRecord:{}});return null===(Q=Me.logger)||void 0===Q||null===(ve=Q.debug)||void 0===ve||ve.call(Q,"".concat(m," Resolved endpoint: ").concat(h(Ft))),Ft}},71440:(we,oe,b)=>{b.d(oe,{m:()=>M});var M={}},34576:(we,oe,b)=>{b.d(oe,{a:()=>k,n:()=>A});for(var M={},a={},m=0;m<256;m++){var h=m.toString(16).toLowerCase();1===h.length&&(h="0".concat(h)),M[m]=h,a[h]=m}function k(y){if(y.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var E=new Uint8Array(y.length/2),f=0;f<y.length;f+=2){var v=y.slice(f,f+2).toLowerCase();if(!(v in a))throw new Error("Cannot decode unrecognized sequence ".concat(v," as hexadecimal"));E[f/2]=a[v]}return E}function A(y){for(var E="",f=0;f<y.byteLength;f++)E+=M[y[f]];return E}},13928:(we,oe,b)=>{b.d(oe,{u:()=>a});var M=b(33927),a=function(h){return h[M.V]||(h[M.V]={})}},46887:(we,oe,b)=>{b.d(oe,{t:()=>M});var M=function(m){if("function"==typeof m)return m;var h=Promise.resolve(m);return function(){return h}}},17439:(we,oe,b)=>{b.d(oe,{Gz:()=>a,L0:()=>m,cm:()=>M});var M=function(h){return h.STANDARD="standard",h.ADAPTIVE="adaptive",h}(M||{}),a=3,m=M.STANDARD},18276:(we,oe,b)=>{b.d(oe,{Df:()=>h,G8:()=>a,Rn:()=>A,XP:()=>y,XS:()=>k,bp:()=>M,jh:()=>m,l5:()=>E,ok:()=>f});var M=100,a=2e4,m=500,h=500,k=5,A=10,y=1,E="amz-sdk-invocation-id",f="amz-sdk-request"},96639:(we,oe,b)=>{b.d(oe,{o:()=>M});var M=function(h){return encodeURIComponent(h).replace(/[!'()*]/g,a)},a=function(h){return"%".concat(h.charCodeAt(0).toString(16).toUpperCase())}},87521:(we,oe,b)=>{b.d(oe,{a:()=>M});var M=function(m){return(new TextEncoder).encode(m)}},83060:(we,oe,b)=>{b.d(oe,{F:()=>a});var M=b(87521),a=function(h){return"string"==typeof h?(0,M.a)(h):ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(h)}},56044:(we,oe,b)=>{b.d(oe,{P:()=>M});var M=function(m){if("string"==typeof m)return m;if("object"!=typeof m||"number"!=typeof m.byteOffset||"number"!=typeof m.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(m)}},54578:(we,oe)=>{oe.byteLength=function y(w){var N=A(w),L=N[1];return 3*(N[0]+L)/4-L},oe.toByteArray=function f(w){var N,ee,R=A(w),L=R[0],G=R[1],T=new a(function E(w,N,R){return 3*(N+R)/4-R}(0,L,G)),V=0,U=G>0?L-4:L;for(ee=0;ee<U;ee+=4)N=M[w.charCodeAt(ee)]<<18|M[w.charCodeAt(ee+1)]<<12|M[w.charCodeAt(ee+2)]<<6|M[w.charCodeAt(ee+3)],T[V++]=N>>16&255,T[V++]=N>>8&255,T[V++]=255&N;return 2===G&&(N=M[w.charCodeAt(ee)]<<2|M[w.charCodeAt(ee+1)]>>4,T[V++]=255&N),1===G&&(N=M[w.charCodeAt(ee)]<<10|M[w.charCodeAt(ee+1)]<<4|M[w.charCodeAt(ee+2)]>>2,T[V++]=N>>8&255,T[V++]=255&N),T},oe.fromByteArray=function F(w){for(var N,R=w.length,L=R%3,G=[],T=16383,V=0,U=R-L;V<U;V+=T)G.push(P(w,V,V+T>U?U:V+T));return 1===L?G.push(b[(N=w[R-1])>>2]+b[N<<4&63]+"=="):2===L&&G.push(b[(N=(w[R-2]<<8)+w[R-1])>>10]+b[N>>4&63]+b[N<<2&63]+"="),G.join("")};for(var b=[],M=[],a=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)b[h]=m[h],M[m.charCodeAt(h)]=h;function A(w){var N=w.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=w.indexOf("=");return-1===R&&(R=N),[R,R===N?0:4-R%4]}function v(w){return b[w>>18&63]+b[w>>12&63]+b[w>>6&63]+b[63&w]}function P(w,N,R){for(var G=[],T=N;T<R;T+=3)G.push(v((w[T]<<16&16711680)+(w[T+1]<<8&65280)+(255&w[T+2])));return G.join("")}M[45]=62,M[95]=63},25346:we=>{we.exports=function M(a){return"[object String]"=={}.toString.call(a)?a.replace(oe,".$1").replace(b,""):""};var oe=/\[([^\[\]]+)\]/g,b=/^[.]*|[.]*$/g},163:(we,oe,b)=>{var M=b(54578),a=b(17383),m="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;oe.Buffer=y,oe.SlowBuffer=function G(se){return+se!=se&&(se=0),y.alloc(+se)},oe.INSPECT_MAX_BYTES=50;var h=2147483647;function A(se){if(se>h)throw new RangeError('The value "'+se+'" is invalid for option "size"');var Z=new Uint8Array(se);return Object.setPrototypeOf(Z,y.prototype),Z}function y(se,Z,Q){if("number"==typeof se){if("string"==typeof Z)throw new TypeError('The "string" argument must be of type string. Received type number');return P(se)}return E(se,Z,Q)}function E(se,Z,Q){if("string"==typeof se)return function F(se,Z){if(("string"!=typeof Z||""===Z)&&(Z="utf8"),!y.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var Q=0|T(se,Z),ve=A(Q),je=ve.write(se,Z);return je!==Q&&(ve=ve.slice(0,je)),ve}(se,Z);if(ArrayBuffer.isView(se))return w(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(ie(se,ArrayBuffer)||se&&ie(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(se,SharedArrayBuffer)||se&&ie(se.buffer,SharedArrayBuffer)))return function N(se,Z,Q){if(Z<0||se.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<Z+(Q||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return ve=void 0===Z&&void 0===Q?new Uint8Array(se):void 0===Q?new Uint8Array(se,Z):new Uint8Array(se,Z,Q),Object.setPrototypeOf(ve,y.prototype),ve}(se,Z,Q);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');var ve=se.valueOf&&se.valueOf();if(null!=ve&&ve!==se)return y.from(ve,Z,Q);var je=function R(se){if(y.isBuffer(se)){var Z=0|L(se.length),Q=A(Z);return 0===Q.length||se.copy(Q,0,0,Z),Q}return void 0!==se.length?"number"!=typeof se.length||ae(se.length)?A(0):w(se):"Buffer"===se.type&&Array.isArray(se.data)?w(se.data):void 0}(se);if(je)return je;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return y.from(se[Symbol.toPrimitive]("string"),Z,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function f(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function P(se){return f(se),A(se<0?0:0|L(se))}function w(se){for(var Z=se.length<0?0:0|L(se.length),Q=A(Z),ve=0;ve<Z;ve+=1)Q[ve]=255&se[ve];return Q}function L(se){if(se>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|se}function T(se,Z){if(y.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||ie(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);var Q=se.length,ve=arguments.length>2&&!0===arguments[2];if(!ve&&0===Q)return 0;for(var je=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return de(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Ce(se).length;default:if(je)return ve?-1:de(se).length;Z=(""+Z).toLowerCase(),je=!0}}function V(se,Z,Q){var ve=!1;if((void 0===Z||Z<0)&&(Z=0),Z>this.length||((void 0===Q||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(Z>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return xe(this,Z,Q);case"utf8":case"utf-8":return pe(this,Z,Q);case"ascii":return Ie(this,Z,Q);case"latin1":case"binary":return Ge(this,Z,Q);case"base64":return q(this,Z,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,Z,Q);default:if(ve)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),ve=!0}}function U(se,Z,Q){var ve=se[Z];se[Z]=se[Q],se[Q]=ve}function ee(se,Z,Q,ve,je){if(0===se.length)return-1;if("string"==typeof Q?(ve=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),ae(Q=+Q)&&(Q=je?0:se.length-1),Q<0&&(Q=se.length+Q),Q>=se.length){if(je)return-1;Q=se.length-1}else if(Q<0){if(!je)return-1;Q=0}if("string"==typeof Z&&(Z=y.from(Z,ve)),y.isBuffer(Z))return 0===Z.length?-1:te(se,Z,Q,ve,je);if("number"==typeof Z)return Z&=255,"function"==typeof Uint8Array.prototype.indexOf?je?Uint8Array.prototype.indexOf.call(se,Z,Q):Uint8Array.prototype.lastIndexOf.call(se,Z,Q):te(se,[Z],Q,ve,je);throw new TypeError("val must be string, number or Buffer")}function te(se,Z,Q,ve,je){var It,nt=1,at=se.length,bt=Z.length;if(void 0!==ve&&("ucs2"===(ve=String(ve).toLowerCase())||"ucs-2"===ve||"utf16le"===ve||"utf-16le"===ve)){if(se.length<2||Z.length<2)return-1;nt=2,at/=2,bt/=2,Q/=2}function Ot(Zn,Dn){return 1===nt?Zn[Dn]:Zn.readUInt16BE(Dn*nt)}if(je){var ln=-1;for(It=Q;It<at;It++)if(Ot(se,It)===Ot(Z,-1===ln?0:It-ln)){if(-1===ln&&(ln=It),It-ln+1===bt)return ln*nt}else-1!==ln&&(It-=It-ln),ln=-1}else for(Q+bt>at&&(Q=at-bt),It=Q;It>=0;It--){for(var fn=!0,Se=0;Se<bt;Se++)if(Ot(se,It+Se)!==Ot(Z,Se)){fn=!1;break}if(fn)return It}return-1}function K(se,Z,Q,ve){Q=Number(Q)||0;var je=se.length-Q;ve?(ve=Number(ve))>je&&(ve=je):ve=je;var nt=Z.length;ve>nt/2&&(ve=nt/2);for(var at=0;at<ve;++at){var bt=parseInt(Z.substr(2*at,2),16);if(ae(bt))return at;se[Q+at]=bt}return at}function j(se,Z,Q,ve){return Pe(de(Z,se.length-Q),se,Q,ve)}function re(se,Z,Q,ve){return Pe(function W(se){for(var Z=[],Q=0;Q<se.length;++Q)Z.push(255&se.charCodeAt(Q));return Z}(Z),se,Q,ve)}function ue(se,Z,Q,ve){return re(se,Z,Q,ve)}function ne(se,Z,Q,ve){return Pe(Ce(Z),se,Q,ve)}function z(se,Z,Q,ve){return Pe(function X(se,Z){for(var Q,ve,nt=[],at=0;at<se.length&&!((Z-=2)<0);++at)ve=(Q=se.charCodeAt(at))>>8,nt.push(Q%256),nt.push(ve);return nt}(Z,se.length-Q),se,Q,ve)}function q(se,Z,Q){return M.fromByteArray(0===Z&&Q===se.length?se:se.slice(Z,Q))}function pe(se,Z,Q){Q=Math.min(se.length,Q);for(var ve=[],je=Z;je<Q;){var Ot,It,ln,fn,nt=se[je],at=null,bt=nt>239?4:nt>223?3:nt>191?2:1;if(je+bt<=Q)switch(bt){case 1:nt<128&&(at=nt);break;case 2:128==(192&(Ot=se[je+1]))&&(fn=(31&nt)<<6|63&Ot)>127&&(at=fn);break;case 3:It=se[je+2],128==(192&(Ot=se[je+1]))&&128==(192&It)&&(fn=(15&nt)<<12|(63&Ot)<<6|63&It)>2047&&(fn<55296||fn>57343)&&(at=fn);break;case 4:It=se[je+2],ln=se[je+3],128==(192&(Ot=se[je+1]))&&128==(192&It)&&128==(192&ln)&&(fn=(15&nt)<<18|(63&Ot)<<12|(63&It)<<6|63&ln)>65535&&fn<1114112&&(at=fn)}null===at?(at=65533,bt=1):at>65535&&(ve.push((at-=65536)>>>10&1023|55296),at=56320|1023&at),ve.push(at),je+=bt}return function Ee(se){var Z=se.length;if(Z<=ye)return String.fromCharCode.apply(String,se);for(var Q="",ve=0;ve<Z;)Q+=String.fromCharCode.apply(String,se.slice(ve,ve+=ye));return Q}(ve)}oe.kMaxLength=h,!(y.TYPED_ARRAY_SUPPORT=function k(){try{var se=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(se,Z),42===se.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}}),y.poolSize=8192,y.from=function(se,Z,Q){return E(se,Z,Q)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array),y.alloc=function(se,Z,Q){return function v(se,Z,Q){return f(se),se<=0?A(se):void 0!==Z?"string"==typeof Q?A(se).fill(Z,Q):A(se).fill(Z):A(se)}(se,Z,Q)},y.allocUnsafe=function(se){return P(se)},y.allocUnsafeSlow=function(se){return P(se)},y.isBuffer=function(Z){return null!=Z&&!0===Z._isBuffer&&Z!==y.prototype},y.compare=function(Z,Q){if(ie(Z,Uint8Array)&&(Z=y.from(Z,Z.offset,Z.byteLength)),ie(Q,Uint8Array)&&(Q=y.from(Q,Q.offset,Q.byteLength)),!y.isBuffer(Z)||!y.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===Q)return 0;for(var ve=Z.length,je=Q.length,nt=0,at=Math.min(ve,je);nt<at;++nt)if(Z[nt]!==Q[nt]){ve=Z[nt],je=Q[nt];break}return ve<je?-1:je<ve?1:0},y.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(Z,Q){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return y.alloc(0);var ve;if(void 0===Q)for(Q=0,ve=0;ve<Z.length;++ve)Q+=Z[ve].length;var je=y.allocUnsafe(Q),nt=0;for(ve=0;ve<Z.length;++ve){var at=Z[ve];if(ie(at,Uint8Array)&&(at=y.from(at)),!y.isBuffer(at))throw new TypeError('"list" argument must be an Array of Buffers');at.copy(je,nt),nt+=at.length}return je},y.byteLength=T,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<Z;Q+=2)U(this,Q,Q+1);return this},y.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<Z;Q+=4)U(this,Q,Q+3),U(this,Q+1,Q+2);return this},y.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<Z;Q+=8)U(this,Q,Q+7),U(this,Q+1,Q+6),U(this,Q+2,Q+5),U(this,Q+3,Q+4);return this},y.prototype.toLocaleString=y.prototype.toString=function(){var Z=this.length;return 0===Z?"":0===arguments.length?pe(this,0,Z):V.apply(this,arguments)},y.prototype.equals=function(Z){if(!y.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===y.compare(this,Z)},y.prototype.inspect=function(){var Z="",Q=oe.INSPECT_MAX_BYTES;return Z=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(Z+=" ... "),"<Buffer "+Z+">"},m&&(y.prototype[m]=y.prototype.inspect),y.prototype.compare=function(Z,Q,ve,je,nt){if(ie(Z,Uint8Array)&&(Z=y.from(Z,Z.offset,Z.byteLength)),!y.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(void 0===Q&&(Q=0),void 0===ve&&(ve=Z?Z.length:0),void 0===je&&(je=0),void 0===nt&&(nt=this.length),Q<0||ve>Z.length||je<0||nt>this.length)throw new RangeError("out of range index");if(je>=nt&&Q>=ve)return 0;if(je>=nt)return-1;if(Q>=ve)return 1;if(this===Z)return 0;for(var at=(nt>>>=0)-(je>>>=0),bt=(ve>>>=0)-(Q>>>=0),Ot=Math.min(at,bt),It=this.slice(je,nt),ln=Z.slice(Q,ve),fn=0;fn<Ot;++fn)if(It[fn]!==ln[fn]){at=It[fn],bt=ln[fn];break}return at<bt?-1:bt<at?1:0},y.prototype.includes=function(Z,Q,ve){return-1!==this.indexOf(Z,Q,ve)},y.prototype.indexOf=function(Z,Q,ve){return ee(this,Z,Q,ve,!0)},y.prototype.lastIndexOf=function(Z,Q,ve){return ee(this,Z,Q,ve,!1)},y.prototype.write=function(Z,Q,ve,je){if(void 0===Q)je="utf8",ve=this.length,Q=0;else if(void 0===ve&&"string"==typeof Q)je=Q,ve=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q>>>=0,isFinite(ve)?(ve>>>=0,void 0===je&&(je="utf8")):(je=ve,ve=void 0)}var nt=this.length-Q;if((void 0===ve||ve>nt)&&(ve=nt),Z.length>0&&(ve<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var at=!1;;)switch(je){case"hex":return K(this,Z,Q,ve);case"utf8":case"utf-8":return j(this,Z,Q,ve);case"ascii":return re(this,Z,Q,ve);case"latin1":case"binary":return ue(this,Z,Q,ve);case"base64":return ne(this,Z,Q,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,Z,Q,ve);default:if(at)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),at=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ye=4096;function Ie(se,Z,Q){var ve="";Q=Math.min(se.length,Q);for(var je=Z;je<Q;++je)ve+=String.fromCharCode(127&se[je]);return ve}function Ge(se,Z,Q){var ve="";Q=Math.min(se.length,Q);for(var je=Z;je<Q;++je)ve+=String.fromCharCode(se[je]);return ve}function xe(se,Z,Q){var ve=se.length;(!Z||Z<0)&&(Z=0),(!Q||Q<0||Q>ve)&&(Q=ve);for(var je="",nt=Z;nt<Q;++nt)je+=Me[se[nt]];return je}function Be(se,Z,Q){for(var ve=se.slice(Z,Q),je="",nt=0;nt<ve.length;nt+=2)je+=String.fromCharCode(ve[nt]+256*ve[nt+1]);return je}function Xe(se,Z,Q){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+Z>Q)throw new RangeError("Trying to access beyond buffer length")}function Ze(se,Z,Q,ve,je,nt){if(!y.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>je||Z<nt)throw new RangeError('"value" argument is out of bounds');if(Q+ve>se.length)throw new RangeError("Index out of range")}function ot(se,Z,Q,ve,je,nt){if(Q+ve>se.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function vt(se,Z,Q,ve,je){return Z=+Z,Q>>>=0,je||ot(se,0,Q,4),a.write(se,Z,Q,ve,23,4),Q+4}function ze(se,Z,Q,ve,je){return Z=+Z,Q>>>=0,je||ot(se,0,Q,8),a.write(se,Z,Q,ve,52,8),Q+8}y.prototype.slice=function(Z,Q){var ve=this.length;(Z=~~Z)<0?(Z+=ve)<0&&(Z=0):Z>ve&&(Z=ve),(Q=void 0===Q?ve:~~Q)<0?(Q+=ve)<0&&(Q=0):Q>ve&&(Q=ve),Q<Z&&(Q=Z);var je=this.subarray(Z,Q);return Object.setPrototypeOf(je,y.prototype),je},y.prototype.readUIntLE=function(Z,Q,ve){Z>>>=0,Q>>>=0,ve||Xe(Z,Q,this.length);for(var je=this[Z],nt=1,at=0;++at<Q&&(nt*=256);)je+=this[Z+at]*nt;return je},y.prototype.readUIntBE=function(Z,Q,ve){Z>>>=0,Q>>>=0,ve||Xe(Z,Q,this.length);for(var je=this[Z+--Q],nt=1;Q>0&&(nt*=256);)je+=this[Z+--Q]*nt;return je},y.prototype.readUInt8=function(Z,Q){return Z>>>=0,Q||Xe(Z,1,this.length),this[Z]},y.prototype.readUInt16LE=function(Z,Q){return Z>>>=0,Q||Xe(Z,2,this.length),this[Z]|this[Z+1]<<8},y.prototype.readUInt16BE=function(Z,Q){return Z>>>=0,Q||Xe(Z,2,this.length),this[Z]<<8|this[Z+1]},y.prototype.readUInt32LE=function(Z,Q){return Z>>>=0,Q||Xe(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},y.prototype.readUInt32BE=function(Z,Q){return Z>>>=0,Q||Xe(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},y.prototype.readIntLE=function(Z,Q,ve){Z>>>=0,Q>>>=0,ve||Xe(Z,Q,this.length);for(var je=this[Z],nt=1,at=0;++at<Q&&(nt*=256);)je+=this[Z+at]*nt;return je>=(nt*=128)&&(je-=Math.pow(2,8*Q)),je},y.prototype.readIntBE=function(Z,Q,ve){Z>>>=0,Q>>>=0,ve||Xe(Z,Q,this.length);for(var je=Q,nt=1,at=this[Z+--je];je>0&&(nt*=256);)at+=this[Z+--je]*nt;return at>=(nt*=128)&&(at-=Math.pow(2,8*Q)),at},y.prototype.readInt8=function(Z,Q){return Z>>>=0,Q||Xe(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},y.prototype.readInt16LE=function(Z,Q){Z>>>=0,Q||Xe(Z,2,this.length);var ve=this[Z]|this[Z+1]<<8;return 32768&ve?4294901760|ve:ve},y.prototype.readInt16BE=function(Z,Q){Z>>>=0,Q||Xe(Z,2,this.length);var ve=this[Z+1]|this[Z]<<8;return 32768&ve?4294901760|ve:ve},y.prototype.readInt32LE=function(Z,Q){return Z>>>=0,Q||Xe(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},y.prototype.readInt32BE=function(Z,Q){return Z>>>=0,Q||Xe(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},y.prototype.readFloatLE=function(Z,Q){return Z>>>=0,Q||Xe(Z,4,this.length),a.read(this,Z,!0,23,4)},y.prototype.readFloatBE=function(Z,Q){return Z>>>=0,Q||Xe(Z,4,this.length),a.read(this,Z,!1,23,4)},y.prototype.readDoubleLE=function(Z,Q){return Z>>>=0,Q||Xe(Z,8,this.length),a.read(this,Z,!0,52,8)},y.prototype.readDoubleBE=function(Z,Q){return Z>>>=0,Q||Xe(Z,8,this.length),a.read(this,Z,!1,52,8)},y.prototype.writeUIntLE=function(Z,Q,ve,je){Z=+Z,Q>>>=0,ve>>>=0,je||Ze(this,Z,Q,ve,Math.pow(2,8*ve)-1,0);var at=1,bt=0;for(this[Q]=255&Z;++bt<ve&&(at*=256);)this[Q+bt]=Z/at&255;return Q+ve},y.prototype.writeUIntBE=function(Z,Q,ve,je){Z=+Z,Q>>>=0,ve>>>=0,je||Ze(this,Z,Q,ve,Math.pow(2,8*ve)-1,0);var at=ve-1,bt=1;for(this[Q+at]=255&Z;--at>=0&&(bt*=256);)this[Q+at]=Z/bt&255;return Q+ve},y.prototype.writeUInt8=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,1,255,0),this[Q]=255&Z,Q+1},y.prototype.writeUInt16LE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,2,65535,0),this[Q]=255&Z,this[Q+1]=Z>>>8,Q+2},y.prototype.writeUInt16BE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,2,65535,0),this[Q]=Z>>>8,this[Q+1]=255&Z,Q+2},y.prototype.writeUInt32LE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,4,4294967295,0),this[Q+3]=Z>>>24,this[Q+2]=Z>>>16,this[Q+1]=Z>>>8,this[Q]=255&Z,Q+4},y.prototype.writeUInt32BE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,4,4294967295,0),this[Q]=Z>>>24,this[Q+1]=Z>>>16,this[Q+2]=Z>>>8,this[Q+3]=255&Z,Q+4},y.prototype.writeIntLE=function(Z,Q,ve,je){if(Z=+Z,Q>>>=0,!je){var nt=Math.pow(2,8*ve-1);Ze(this,Z,Q,ve,nt-1,-nt)}var at=0,bt=1,Ot=0;for(this[Q]=255&Z;++at<ve&&(bt*=256);)Z<0&&0===Ot&&0!==this[Q+at-1]&&(Ot=1),this[Q+at]=(Z/bt|0)-Ot&255;return Q+ve},y.prototype.writeIntBE=function(Z,Q,ve,je){if(Z=+Z,Q>>>=0,!je){var nt=Math.pow(2,8*ve-1);Ze(this,Z,Q,ve,nt-1,-nt)}var at=ve-1,bt=1,Ot=0;for(this[Q+at]=255&Z;--at>=0&&(bt*=256);)Z<0&&0===Ot&&0!==this[Q+at+1]&&(Ot=1),this[Q+at]=(Z/bt|0)-Ot&255;return Q+ve},y.prototype.writeInt8=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,1,127,-128),Z<0&&(Z=255+Z+1),this[Q]=255&Z,Q+1},y.prototype.writeInt16LE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,2,32767,-32768),this[Q]=255&Z,this[Q+1]=Z>>>8,Q+2},y.prototype.writeInt16BE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,2,32767,-32768),this[Q]=Z>>>8,this[Q+1]=255&Z,Q+2},y.prototype.writeInt32LE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,4,2147483647,-2147483648),this[Q]=255&Z,this[Q+1]=Z>>>8,this[Q+2]=Z>>>16,this[Q+3]=Z>>>24,Q+4},y.prototype.writeInt32BE=function(Z,Q,ve){return Z=+Z,Q>>>=0,ve||Ze(this,Z,Q,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[Q]=Z>>>24,this[Q+1]=Z>>>16,this[Q+2]=Z>>>8,this[Q+3]=255&Z,Q+4},y.prototype.writeFloatLE=function(Z,Q,ve){return vt(this,Z,Q,!0,ve)},y.prototype.writeFloatBE=function(Z,Q,ve){return vt(this,Z,Q,!1,ve)},y.prototype.writeDoubleLE=function(Z,Q,ve){return ze(this,Z,Q,!0,ve)},y.prototype.writeDoubleBE=function(Z,Q,ve){return ze(this,Z,Q,!1,ve)},y.prototype.copy=function(Z,Q,ve,je){if(!y.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(ve||(ve=0),!je&&0!==je&&(je=this.length),Q>=Z.length&&(Q=Z.length),Q||(Q=0),je>0&&je<ve&&(je=ve),je===ve||0===Z.length||0===this.length)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(ve<0||ve>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),Z.length-Q<je-ve&&(je=Z.length-Q+ve);var nt=je-ve;if(this===Z&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(Q,ve,je);else if(this===Z&&ve<Q&&Q<je)for(var at=nt-1;at>=0;--at)Z[at+Q]=this[at+ve];else Uint8Array.prototype.set.call(Z,this.subarray(ve,je),Q);return nt},y.prototype.fill=function(Z,Q,ve,je){if("string"==typeof Z){if("string"==typeof Q?(je=Q,Q=0,ve=this.length):"string"==typeof ve&&(je=ve,ve=this.length),void 0!==je&&"string"!=typeof je)throw new TypeError("encoding must be a string");if("string"==typeof je&&!y.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(1===Z.length){var nt=Z.charCodeAt(0);("utf8"===je&&nt<128||"latin1"===je)&&(Z=nt)}}else"number"==typeof Z?Z&=255:"boolean"==typeof Z&&(Z=Number(Z));if(Q<0||this.length<Q||this.length<ve)throw new RangeError("Out of range index");if(ve<=Q)return this;var at;if(Q>>>=0,ve=void 0===ve?this.length:ve>>>0,Z||(Z=0),"number"==typeof Z)for(at=Q;at<ve;++at)this[at]=Z;else{var bt=y.isBuffer(Z)?Z:y.from(Z,je),Ot=bt.length;if(0===Ot)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(at=0;at<ve-Q;++at)this[at+Q]=bt[at%Ot]}return this};var Ye=/[^+/0-9A-Za-z-_]/g;function de(se,Z){Z=Z||1/0;for(var Q,ve=se.length,je=null,nt=[],at=0;at<ve;++at){if((Q=se.charCodeAt(at))>55295&&Q<57344){if(!je){if(Q>56319){(Z-=3)>-1&&nt.push(239,191,189);continue}if(at+1===ve){(Z-=3)>-1&&nt.push(239,191,189);continue}je=Q;continue}if(Q<56320){(Z-=3)>-1&&nt.push(239,191,189),je=Q;continue}Q=65536+(je-55296<<10|Q-56320)}else je&&(Z-=3)>-1&&nt.push(239,191,189);if(je=null,Q<128){if((Z-=1)<0)break;nt.push(Q)}else if(Q<2048){if((Z-=2)<0)break;nt.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((Z-=3)<0)break;nt.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;nt.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return nt}function Ce(se){return M.toByteArray(function At(se){if((se=(se=se.split("=")[0]).trim().replace(Ye,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(se))}function Pe(se,Z,Q,ve){for(var je=0;je<ve&&!(je+Q>=Z.length||je>=se.length);++je)Z[je+Q]=se[je];return je}function ie(se,Z){return se instanceof Z||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===Z.name}function ae(se){return se!=se}var Me=function(){for(var se="0123456789abcdef",Z=new Array(256),Q=0;Q<16;++Q)for(var ve=16*Q,je=0;je<16;++je)Z[ve+je]=se[Q]+se[je];return Z}()},55124:(we,oe,b)=>{var M=b(37707),a=b(60814),m=b(87648),h=b(48963);we.exports=h||M.call(m,a)},60814:we=>{we.exports=Function.prototype.apply},87648:we=>{we.exports=Function.prototype.call},92282:(we,oe,b)=>{var M=b(37707),a=b(28519),m=b(87648),h=b(55124);we.exports=function(A){if(A.length<1||"function"!=typeof A[0])throw new a("a function is required");return h(M,m,A)}},48963:we=>{we.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},30840:(we,oe,b)=>{var M=b(12521),a=b(92282),m=a([M("%String.prototype.indexOf%")]);we.exports=function(k,A){var y=M(k,!!A);return"function"==typeof y&&m(k,".prototype.")>-1?a([y]):y}},32471:we=>{var oe=function(){"use strict";function b(v,P){return null!=P&&v instanceof P}var M,a,m;try{M=Map}catch{M=function(){}}try{a=Set}catch{a=function(){}}try{m=Promise}catch{m=function(){}}function h(v,P,F,w,N){"object"==typeof P&&(F=P.depth,w=P.prototype,N=P.includeNonEnumerable,P=P.circular);var R=[],L=[],G=typeof Buffer<"u";return typeof P>"u"&&(P=!0),typeof F>"u"&&(F=1/0),function T(V,U){if(null===V)return null;if(0===U)return V;var ee,te;if("object"!=typeof V)return V;if(b(V,M))ee=new M;else if(b(V,a))ee=new a;else if(b(V,m))ee=new m(function(ye,Ee){V.then(function(Ie){ye(T(Ie,U-1))},function(Ie){Ee(T(Ie,U-1))})});else if(h.__isArray(V))ee=[];else if(h.__isRegExp(V))ee=new RegExp(V.source,f(V)),V.lastIndex&&(ee.lastIndex=V.lastIndex);else if(h.__isDate(V))ee=new Date(V.getTime());else{if(G&&Buffer.isBuffer(V))return ee=Buffer.allocUnsafe?Buffer.allocUnsafe(V.length):new Buffer(V.length),V.copy(ee),ee;b(V,Error)?ee=Object.create(V):typeof w>"u"?(te=Object.getPrototypeOf(V),ee=Object.create(te)):(ee=Object.create(w),te=w)}if(P){var K=R.indexOf(V);if(-1!=K)return L[K];R.push(V),L.push(ee)}for(var j in b(V,M)&&V.forEach(function(ye,Ee){var Ie=T(Ee,U-1),Ge=T(ye,U-1);ee.set(Ie,Ge)}),b(V,a)&&V.forEach(function(ye){var Ee=T(ye,U-1);ee.add(Ee)}),V){var re;te&&(re=Object.getOwnPropertyDescriptor(te,j)),(!re||null!=re.set)&&(ee[j]=T(V[j],U-1))}if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(V);for(j=0;j<ue.length;j++){var ne=ue[j];(z=Object.getOwnPropertyDescriptor(V,ne))&&!z.enumerable&&!N||(ee[ne]=T(V[ne],U-1),z.enumerable||Object.defineProperty(ee,ne,{enumerable:!1}))}}if(N){var q=Object.getOwnPropertyNames(V);for(j=0;j<q.length;j++){var z,pe=q[j];(z=Object.getOwnPropertyDescriptor(V,pe))&&z.enumerable||(ee[pe]=T(V[pe],U-1),Object.defineProperty(ee,pe,{enumerable:!1}))}}return ee}(v,F)}function k(v){return Object.prototype.toString.call(v)}function f(v){var P="";return v.global&&(P+="g"),v.ignoreCase&&(P+="i"),v.multiline&&(P+="m"),P}return h.clonePrototype=function(P){if(null===P)return null;var F=function(){};return F.prototype=P,new F},h.__objToStr=k,h.__isDate=function A(v){return"object"==typeof v&&"[object Date]"===k(v)},h.__isArray=function y(v){return"object"==typeof v&&"[object Array]"===k(v)},h.__isRegExp=function E(v){return"object"==typeof v&&"[object RegExp]"===k(v)},h.__getRegExpFlags=f,h}();we.exports&&(we.exports=oe)},17351:function(we,oe){var b,a;void 0!==(a="function"==typeof(b=function(){return new function(){var h=this;h.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(T){return new Array(1+T).join(this)}},h.init();var E=/\/\*[\s\S]*?\*\//g,f=/([^\:]+):([^\;]*);/,v=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,R=function(V){return typeof V>"u"||0==V.length||null==V};h.toJSON=function(T,V){var U={children:{},attributes:{}},ee=null,te=0;for(typeof V>"u"&&(V={ordered:!1,comments:!1,stripComments:!1,split:!1}),V.stripComments&&(V.comments=!1,T=T.replace(E,""));null!=(ee=v.exec(T));)if(!R(ee[1])&&V.comments){var K=ee[1].trim();U[te++]=K}else if(R(ee[2])){if(!R(ee[3]))return U;if(!R(ee[4])){var pe=ee[4].trim(),ye=f.exec(pe);if(ye){var j=ye[1].trim(),Ee=ye[2].trim();if(V.ordered)(ue={}).name=j,ue.value=Ee,ue.type="attr",U[te++]=ue;else if(j in U.attributes){var Ie=U.attributes[j];Ie instanceof Array||(U.attributes[j]=[Ie]),U.attributes[j].push(Ee)}else U.attributes[j]=Ee}else U[te++]=pe}}else{j=ee[2].trim();var re=h.toJSON(T,V);if(V.ordered){var ue;(ue={}).name=j,ue.value=re,ue.type="rule",U[te++]=ue}else{if(V.split)var ne=j.split(",");else ne=[j];for(i in ne){var z=ne[i].trim();if(z in U.children)for(var q in re.attributes)U.children[z].attributes[q]=re.attributes[q];else U.children[z]=re}}}return U},h.toCSS=function(T,V,U){var ee="";if(typeof V>"u"&&(V=0),typeof U>"u"&&(U=!1),T.attributes)for(i in T.attributes){var te=T.attributes[i];if(te instanceof Array)for(var K=0;K<te.length;K++)ee+=L(i,te[K],V);else ee+=L(i,te,V)}if(T.children){var j=!0;for(i in T.children)U&&!j?ee+="\n":j=!1,ee+=G(i,T.children[i],V)}return ee};var L=function(V,U,ee){return"\t".repeat(ee)+V+": "+U+";\n"},G=function(V,U,ee){var te="\t".repeat(ee)+V+" {\n";return(te+=h.toCSS(U,ee+1))+("\t".repeat(ee)+"}\n")}}})?b.apply(oe,[]):b)&&(we.exports=a)},19558:function(we,oe){!function(b){"use strict";var M="function"==typeof Symbol?Symbol("curriable placeholder"):60881;function m(A,y){var E="number"==typeof y?y:A.length,f=function a(A,y){return function E(f){return function(){var L,v=f.length,P=arguments,F=P.length,w=[],N=0,R=y;if(v)for(var G=-1;++G<v;)w[G]=L=f[G]===M&&N<F?P[N++]:f[G],L!==M&&--R;if(N<F)for(;N<F;)w[w.length]=L=P[N],L!==M&&N<y&&--R,++N;return R>0?E(w):A.apply(this,w)}}([])}(A,E);return f.arity=E,f.fn=A,f}function h(A){return A===M}function k(A){return A.fn}m.__=M,m.isPlaceholder=h,m.uncurry=k,b.__=M,b.curry=m,b.default=m,b.isPlaceholder=h,b.uncurry=k,Object.defineProperty(b,"__esModule",{value:!0})}(oe)},22954:(we,oe,b)=>{var M=Function.prototype.bind||b(7861);we.exports=function a(m,h){var k=function(){return 0===arguments.length?k:arguments.length>1?m.apply(h,arguments):M.call(m,h,arguments[0])};return k.uncurry=function(){return m},k}},74832:function(we){we.exports=function(){"use strict";var oe="__proto__",b=function(w,N){return N},M=function(w,N){return N.map(function(R){return P(R)})},a=function(w,N){if(N&&N.hasOwnProperty("__proto__")){var R={};for(var L in N)L!==oe&&(R[L]=N[L]);return R}return Object.assign({},N)},f={$push:function(w,N){return w.concat(N)},$append:function(w,N){return w.concat(N)},$prepend:function(w,N){return N.concat(w)},$replace:function(w,N){var R;return w=M(0,w),Object.keys(N).forEach(function(L){if((R=Number.parseInt(L))<0||Number.isNaN(R))throw Error("Invalid index for $replace: ".concat(L));w[R]=P.clone(N[L])}),w},$merge:function(w,N){var R;return w=w.slice(),Object.keys(N).forEach(function(L){if((R=Number.parseInt(L))<0||Number.isNaN(R))throw Error("Invalid index for $merge: ".concat(L));w[R]=P(w[R],N[L])}),w},$insert:function(w,N){var R;return w=M(0,w),Object.keys(N).forEach(function(L){if(R=Number.parseInt(L),Number.isNaN(R))throw Error("Invalid index for $insert: ".concat(L));w.splice(R,0,N[L])}),w},$set:M},v={oo:function(w,N){return w=a(0,w),Object.keys(N).forEach(function(R){R!==oe&&(w[R]=P(w[R],N[R]))}),w},oa:a,ob:b,aa:function(w,N){return w=M(0,w),N.forEach(function(R,L){return w[L]=P(w[L],R)}),w},ao:function(w,N){return w=M(0,w),Object.keys(N).forEach(function(R){R!==oe&&(w=R in f?f[R](w,N[R]):N)}),w},ab:b,bb:b,bo:a,ba:M};function P(F,w){if(void 0===w){if(null==F)return F;w=Array.isArray(F)?[]:"object"==typeof F?{}:F}else if(null===w)return null;var N=Array.isArray(F)?"a":"object"==typeof F?"o":"b",R=Array.isArray(w)?"a":"object"==typeof w?"o":"b";return v[N+R](F,w)}return P.clone=function(F){return P(F)},P.multi=function(F){for(var w=arguments.length,N=new Array(w>1?w-1:0),R=1;R<w;R++)N[R-1]=arguments[R];if(!N)return P(F);for(var L=0;L<N.length;L++)F=P(F,N[L]);return F},P}()},95812:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=oe.nthElement=oe.parentElements=void 0;var b=function(y){for(var E=[];y;){var f=y.nodeName.toLowerCase(),v=y.id?"#".concat(y.id):"",P="";y.className&&"string"==typeof y.className&&(P=".".concat(y.className.replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&"))),E.unshift({element:y,selector:f+v+P}),y=y.parentNode!==document&&y.parentNode}return E};oe.parentElements=b;var M=function(y){for(var E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=y,v=1;null!==f.previousElementSibling;)(!E||f.previousElementSibling.nodeName===y.nodeName)&&v++,f=f.previousElementSibling;return v};oe.nthElement=M;oe.default=function(y){if(!(y instanceof HTMLElement))throw new Error("element must be of type `HTMLElement`.");return function(y){var E=[];return y.forEach(function(f){(function(y,E){var f=""===E?y:"".concat(E," > ").concat(y);return document.querySelectorAll(f).length>1})(f.selector,E.join(" > "))&&(f.selector+=":nth-of-type(".concat(M(f.element),")")),E.push(f.selector)}),E.join(" > ")}(b(y))}},46413:we=>{var oe=Object.prototype.toString;function m(h){return h.replace(/\uffff/g,".")}we.exports=function b(h){for(var k=-1,A=function a(h){for(var k=-1,A=h.length,y=[];++k<A;)h[k]&&y.push(h[k]);return y}(function M(h){return("[object String]"===oe.call(h)?h:"").replace(/\\\./g,"\uffff")}(h).split(".")),y=A.length,E=[];++k<y;)E.push(m(A[k]));return E}},38580:(we,oe,b)=>{var m,M=b(92282),a=b(89263);try{m=[].__proto__===Array.prototype}catch(y){if(!y||"object"!=typeof y||!("code"in y)||"ERR_PROTO_ACCESS"!==y.code)throw y}var h=!!m&&a&&a(Object.prototype,"__proto__"),k=Object,A=k.getPrototypeOf;we.exports=h&&"function"==typeof h.get?M([h.get]):"function"==typeof A&&function(E){return A(null==E?E:k(E))}},81963:we=>{var oe=Object.defineProperty||!1;if(oe)try{oe({},"a",{value:1})}catch{oe=!1}we.exports=oe},2905:we=>{we.exports=EvalError},71123:we=>{we.exports=Error},67718:we=>{we.exports=RangeError},33286:we=>{we.exports=ReferenceError},54880:we=>{we.exports=SyntaxError},28519:we=>{we.exports=TypeError},52781:we=>{we.exports=URIError},37888:we=>{we.exports=Object},44339:we=>{var M,oe="object"==typeof Reflect?Reflect:null,b=oe&&"function"==typeof oe.apply?oe.apply:function(U,ee,te){return Function.prototype.apply.call(U,ee,te)};M=oe&&"function"==typeof oe.ownKeys?oe.ownKeys:Object.getOwnPropertySymbols?function(U){return Object.getOwnPropertyNames(U).concat(Object.getOwnPropertySymbols(U))}:function(U){return Object.getOwnPropertyNames(U)};var m=Number.isNaN||function(U){return U!=U};function h(){h.init.call(this)}we.exports=h,we.exports.once=function L(V,U){return new Promise(function(ee,te){function K(re){V.removeListener(U,j),te(re)}function j(){"function"==typeof V.removeListener&&V.removeListener("error",K),ee([].slice.call(arguments))}T(V,U,j,{once:!0}),"error"!==U&&function G(V,U,ee){"function"==typeof V.on&&T(V,"error",U,ee)}(V,K,{once:!0})})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var k=10;function A(V){if("function"!=typeof V)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof V)}function y(V){return void 0===V._maxListeners?h.defaultMaxListeners:V._maxListeners}function E(V,U,ee,te){var K,j,re;if(A(ee),void 0===(j=V._events)?(j=V._events=Object.create(null),V._eventsCount=0):(void 0!==j.newListener&&(V.emit("newListener",U,ee.listener?ee.listener:ee),j=V._events),re=j[U]),void 0===re)re=j[U]=ee,++V._eventsCount;else if("function"==typeof re?re=j[U]=te?[ee,re]:[re,ee]:te?re.unshift(ee):re.push(ee),(K=y(V))>0&&re.length>K&&!re.warned){re.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=V,ue.type=U,ue.count=re.length,function a(V){console&&console.warn&&console.warn(V)}(ue)}return V}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(V,U,ee){var te={fired:!1,wrapFn:void 0,target:V,type:U,listener:ee},K=f.bind(te);return K.listener=ee,te.wrapFn=K,K}function P(V,U,ee){var te=V._events;if(void 0===te)return[];var K=te[U];return void 0===K?[]:"function"==typeof K?ee?[K.listener||K]:[K]:ee?function R(V){for(var U=new Array(V.length),ee=0;ee<U.length;++ee)U[ee]=V[ee].listener||V[ee];return U}(K):w(K,K.length)}function F(V){var U=this._events;if(void 0!==U){var ee=U[V];if("function"==typeof ee)return 1;if(void 0!==ee)return ee.length}return 0}function w(V,U){for(var ee=new Array(U),te=0;te<U;++te)ee[te]=V[te];return ee}function T(V,U,ee,te){if("function"==typeof V.on)te.once?V.once(U,ee):V.on(U,ee);else{if("function"!=typeof V.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof V);V.addEventListener(U,function K(j){te.once&&V.removeEventListener(U,K),ee(j)})}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(U){if("number"!=typeof U||U<0||m(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");k=U}}),h.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(U){if("number"!=typeof U||U<0||m(U))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+U+".");return this._maxListeners=U,this},h.prototype.getMaxListeners=function(){return y(this)},h.prototype.emit=function(U){for(var ee=[],te=1;te<arguments.length;te++)ee.push(arguments[te]);var K="error"===U,j=this._events;if(void 0!==j)K=K&&void 0===j.error;else if(!K)return!1;if(K){var re;if(ee.length>0&&(re=ee[0]),re instanceof Error)throw re;var ue=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw ue.context=re,ue}var ne=j[U];if(void 0===ne)return!1;if("function"==typeof ne)b(ne,this,ee);else{var z=ne.length,q=w(ne,z);for(te=0;te<z;++te)b(q[te],this,ee)}return!0},h.prototype.on=h.prototype.addListener=function(U,ee){return E(this,U,ee,!1)},h.prototype.prependListener=function(U,ee){return E(this,U,ee,!0)},h.prototype.once=function(U,ee){return A(ee),this.on(U,v(this,U,ee)),this},h.prototype.prependOnceListener=function(U,ee){return A(ee),this.prependListener(U,v(this,U,ee)),this},h.prototype.off=h.prototype.removeListener=function(U,ee){var te,K,j,re,ue;if(A(ee),void 0===(K=this._events))return this;if(void 0===(te=K[U]))return this;if(te===ee||te.listener===ee)0===--this._eventsCount?this._events=Object.create(null):(delete K[U],K.removeListener&&this.emit("removeListener",U,te.listener||ee));else if("function"!=typeof te){for(j=-1,re=te.length-1;re>=0;re--)if(te[re]===ee||te[re].listener===ee){ue=te[re].listener,j=re;break}if(j<0)return this;0===j?te.shift():function N(V,U){for(;U+1<V.length;U++)V[U]=V[U+1];V.pop()}(te,j),1===te.length&&(K[U]=te[0]),void 0!==K.removeListener&&this.emit("removeListener",U,ue||ee)}return this},h.prototype.removeAllListeners=function(U){var ee,te,K;if(void 0===(te=this._events))return this;if(void 0===te.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==te[U]&&(0===--this._eventsCount?this._events=Object.create(null):delete te[U]),this;if(0===arguments.length){var re,j=Object.keys(te);for(K=0;K<j.length;++K)"removeListener"!==(re=j[K])&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ee=te[U]))this.removeListener(U,ee);else if(void 0!==ee)for(K=ee.length-1;K>=0;K--)this.removeListener(U,ee[K]);return this},h.prototype.listeners=function(U){return P(this,U,!0)},h.prototype.rawListeners=function(U){return P(this,U,!1)},h.listenerCount=function(V,U){return"function"==typeof V.listenerCount?V.listenerCount(U):F.call(V,U)},h.prototype.listenerCount=F,h.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},7861:we=>{we.exports=function(oe){var M,b=this;if(arguments.length<2)M=function(){if(this instanceof M){var k=b.apply(this,arguments);return Object(k)===k?k:this}return b.apply(oe,arguments)};else{for(var a=new Array(arguments.length-1),m=1;m<arguments.length;m++)a[m-1]=arguments[m];M=function(){var y,k=a.length,A=new Array(k+arguments.length);for(y=0;y<k;y++)A[y]=a[y];for(y=0;y<arguments.length;y++)A[k+y]=arguments[y];if(this instanceof M){var E=b.apply(this,A);return Object(E)===E?E:this}return b.apply(oe,A)}}return M.prototype=b.prototype,M}},3933:we=>{var b=Object.prototype.toString,M=Math.max,m=function(y,E){for(var f=[],v=0;v<y.length;v+=1)f[v]=y[v];for(var P=0;P<E.length;P+=1)f[P+y.length]=E[P];return f};we.exports=function(y){var E=this;if("function"!=typeof E||"[object Function]"!==b.apply(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var v,f=function(y){for(var f=[],v=1,P=0;v<y.length;v+=1,P+=1)f[P]=y[v];return f}(arguments),F=M(0,E.length-f.length),w=[],N=0;N<F;N++)w[N]="$"+N;if(v=Function("binder","return function ("+function(y){for(var f="",v=0;v<y.length;v+=1)f+=y[v],v+1<y.length&&(f+=",");return f}(w)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof v){var G=E.apply(this,m(f,arguments));return Object(G)===G?G:this}return E.apply(y,m(f,arguments))}),E.prototype){var R=function(){};R.prototype=E.prototype,v.prototype=new R,R.prototype=null}return v}},37707:(we,oe,b)=>{var M=b(3933);we.exports=Function.prototype.bind||M},12521:(we,oe,b)=>{var M,a=b(37888),m=b(71123),h=b(2905),k=b(67718),A=b(33286),y=b(54880),E=b(28519),f=b(52781),v=b(97598),P=b(73116),F=b(42136),w=b(43462),N=b(11516),R=b(75714),L=b(497),G=Function,T=function(Ce){try{return G('"use strict"; return ('+Ce+").constructor;")()}catch{}},V=b(89263),U=b(81963),ee=function(){throw new E},te=V?function(){try{return ee}catch{try{return V(arguments,"callee").get}catch{return ee}}}():ee,K=b(61459)(),j=b(11568),re=b(69364),ue=b(93996),ne=b(60814),z=b(87648),q={},pe=typeof Uint8Array>"u"||!j?M:j(Uint8Array),ye={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":K&&j?j([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":q,"%AsyncGenerator%":q,"%AsyncGeneratorFunction%":q,"%AsyncIteratorPrototype%":q,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":m,"%eval%":eval,"%EvalError%":h,"%Float16Array%":typeof Float16Array>"u"?M:Float16Array,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":G,"%GeneratorFunction%":q,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&j?j(j([][Symbol.iterator]())):M,"%JSON%":"object"==typeof JSON?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!j?M:j((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":V,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":k,"%ReferenceError%":A,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!j?M:j((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&j?j(""[Symbol.iterator]()):M,"%Symbol%":K?Symbol:M,"%SyntaxError%":y,"%ThrowTypeError%":te,"%TypedArray%":pe,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet,"%Function.prototype.call%":z,"%Function.prototype.apply%":ne,"%Object.defineProperty%":U,"%Object.getPrototypeOf%":re,"%Math.abs%":v,"%Math.floor%":P,"%Math.max%":F,"%Math.min%":w,"%Math.pow%":N,"%Math.round%":R,"%Math.sign%":L,"%Reflect.getPrototypeOf%":ue};if(j)try{null.error}catch(X){var Ee=j(j(X));ye["%Error.prototype%"]=Ee}var Ie=function X(Ce){var Pe;if("%AsyncFunction%"===Ce)Pe=T("async function () {}");else if("%GeneratorFunction%"===Ce)Pe=T("function* () {}");else if("%AsyncGeneratorFunction%"===Ce)Pe=T("async function* () {}");else if("%AsyncGenerator%"===Ce){var ie=X("%AsyncGeneratorFunction%");ie&&(Pe=ie.prototype)}else if("%AsyncIteratorPrototype%"===Ce){var ae=X("%AsyncGenerator%");ae&&j&&(Pe=j(ae.prototype))}return ye[Ce]=Pe,Pe},Ge={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=b(37707),Be=b(13889),Xe=xe.call(z,Array.prototype.concat),Ze=xe.call(ne,Array.prototype.splice),ot=xe.call(z,String.prototype.replace),vt=xe.call(z,String.prototype.slice),ze=xe.call(z,RegExp.prototype.exec),Ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,At=/\\(\\)?/g,W=function(Ce,Pe){var ae,ie=Ce;if(Be(Ge,ie)&&(ie="%"+(ae=Ge[ie])[0]+"%"),Be(ye,ie)){var Me=ye[ie];if(Me===q&&(Me=Ie(ie)),typeof Me>"u"&&!Pe)throw new E("intrinsic "+Ce+" exists, but is not available. Please file an issue!");return{alias:ae,name:ie,value:Me}}throw new y("intrinsic "+Ce+" does not exist!")};we.exports=function(Ce,Pe){if("string"!=typeof Ce||0===Ce.length)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Pe)throw new E('"allowMissing" argument must be a boolean');if(null===ze(/^%?[^%]*%?$/,Ce))throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ie=function(Ce){var Pe=vt(Ce,0,1),ie=vt(Ce,-1);if("%"===Pe&&"%"!==ie)throw new y("invalid intrinsic syntax, expected closing `%`");if("%"===ie&&"%"!==Pe)throw new y("invalid intrinsic syntax, expected opening `%`");var ae=[];return ot(Ce,Ye,function(Me,se,Z,Q){ae[ae.length]=Z?ot(Q,At,"$1"):se||Me}),ae}(Ce),ae=ie.length>0?ie[0]:"",Me=W("%"+ae+"%",Pe),se=Me.name,Z=Me.value,Q=!1,ve=Me.alias;ve&&(ae=ve[0],Ze(ie,Xe([0,1],ve)));for(var je=1,nt=!0;je<ie.length;je+=1){var at=ie[je],bt=vt(at,0,1),Ot=vt(at,-1);if(('"'===bt||"'"===bt||"`"===bt||'"'===Ot||"'"===Ot||"`"===Ot)&&bt!==Ot)throw new y("property names with quotes must have matching quotes");if(("constructor"===at||!nt)&&(Q=!0),Be(ye,se="%"+(ae+="."+at)+"%"))Z=ye[se];else if(null!=Z){if(!(at in Z)){if(!Pe)throw new E("base intrinsic for "+Ce+" exists, but the property is not available.");return}if(V&&je+1>=ie.length){var It=V(Z,at);Z=(nt=!!It)&&"get"in It&&!("originalValue"in It.get)?It.get:Z[at]}else nt=Be(Z,at),Z=Z[at];nt&&!Q&&(ye[se]=Z)}}return Z}},69364:(we,oe,b)=>{var M=b(37888);we.exports=M.getPrototypeOf||null},93996:we=>{we.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},11568:(we,oe,b)=>{var M=b(93996),a=b(69364),m=b(38580);we.exports=M?function(k){return M(k)}:a?function(k){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new TypeError("getProto: not an object");return a(k)}:m?function(k){return m(k)}:null},29817:we=>{we.exports=Object.getOwnPropertyDescriptor},89263:(we,oe,b)=>{var M=b(29817);if(M)try{M([],"length")}catch{M=null}we.exports=M},61459:(we,oe,b)=>{var M=typeof Symbol<"u"&&Symbol,a=b(76497);we.exports=function(){return"function"==typeof M&&"function"==typeof Symbol&&"symbol"==typeof M("foo")&&"symbol"==typeof Symbol("bar")&&a()}},76497:we=>{we.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var b={},M=Symbol("test"),a=Object(M);if("string"==typeof M||"[object Symbol]"!==Object.prototype.toString.call(M)||"[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(var h in b[M]=42,b)return!1;if("function"==typeof Object.keys&&0!==Object.keys(b).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var k=Object.getOwnPropertySymbols(b);if(1!==k.length||k[0]!==M||!Object.prototype.propertyIsEnumerable.call(b,M))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var A=Object.getOwnPropertyDescriptor(b,M);if(42!==A.value||!0!==A.enumerable)return!1}return!0}},6451:(we,oe,b)=>{b.r(oe),b.d(oe,{default:()=>vt,hash:()=>ot});var a,m,h,k,M=b(19558),A=typeof Buffer<"u"&&"function"==typeof Buffer.from,y="function"==typeof Uint16Array,E=/\[object (HTML(.*)Element)\]/,f=/\[object (SVG(.*)Element)\]/,P=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"].reduce(function(ze,Ye){return ze["[object "+Ye+"]"]=Ye,ze},{}),F=Object.keys(P).reduce(function(ze,Ye){return ze[P[Ye].toUpperCase()]=Ye,ze},{}),w={"[object Map]":!0,"[object Set]":!0},N={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},R=((a={})[F.ARGUMENTS]=!0,a[F.ARRAY]=!0,a),L=((m={})[F.REGEXP]=!0,m[F.SYMBOL]=!0,m),G=((h={})[F.FLOAT32ARRAY]=!0,h[F.FLOAT64ARRAY]=!0,h[F.INT8ARRAY]=!0,h[F.INT16ARRAY]=!0,h[F.INT32ARRAY]=!0,h[F.UINT8ARRAY]=!0,h[F.UINT8CLAMPEDARRAY]=!0,h[F.UINT16ARRAY]=!0,h[F.UINT32ARRAY]=!0,h),T=((k={})[F.GENERATOR]=!0,k[F.PROMISE]=!0,k[F.WEAKMAP]=!0,k[F.WEAKSET]=!0,k),V=/^\s*function\s*([^(]*)/i,U=Object.prototype.toString,ee=Object.keys;function re(ze,Ye){return ze>Ye}function ue(ze,Ye){return ze[0]>Ye[0]}function ne(ze,Ye){for(var At,de,W=0;W<ze.length;++W){for(de=ze[W],At=W-1;~At&&Ye(ze[At],de);--At)ze[At+1]=ze[At];ze[At+1]=de}return ze}function pe(ze){return String.fromCharCode.apply(null,new Uint16Array(ze))}function ye(ze){return Buffer.from(ze).toString("utf8")}function Ee(){return""}var Ie=function(){return A?ye:y?pe:Ee}();function xe(ze,Ye){for(var At=0;At<ze.length;++At)if(ze[At]===Ye)return At+1;return 0}function Be(ze,Ye,At,de){if(void 0===de){var W=typeof ze;if("string"===W||N[W])return W+"|"+ze;if(null===ze)return"null|"+ze}var X=de||U.call(ze);return R[X]?ze:X===F.OBJECT?function q(ze){for(var de,Ye=ne(ee(ze),re),At={},W=0;W<Ye.length;++W)At[de=Ye[W]]=ze[de];return At}(ze):L[X]?P[X]+"|"+ze.toString():w[X]?function z(ze,Ye,At){var de="function"==typeof ze.get,W=[];de?(ze.forEach(function(ae,Me){W.push([Ze(Me,Ye,At),Ze(ae,Ye,At)])}),ne(W,ue)):(ze.forEach(function(ae){W.push(Ze(ae,Ye,At))}),ne(W,re));for(var ie,X=function te(ze){return ze.name||(ze.toString().match(V)||[])[1]||"anonymous"}(ze.constructor)+"|[",Ce=0,Pe=W.length;Ce<Pe;++Ce)ie=W[Ce],X+=(Ce?",":"")+(de?"["+ie[0]+","+ie[1]+"]":ie);return X+"]"}(ze,Ye,At):X===F.DATE?P[X]+"|"+ze.getTime():X===F.ERROR?P[X]+"|"+ze.stack:X===F.EVENT?function j(ze){return{bubbles:ze.bubbles,cancelBubble:ze.cancelBubble,cancelable:ze.cancelable,composed:ze.composed,currentTarget:ze.currentTarget,defaultPrevented:ze.defaultPrevented,eventPhase:ze.eventPhase,isTrusted:ze.isTrusted,returnValue:ze.returnValue,target:ze.target,type:ze.type}}(ze):T[X]?P[X]+"|NOT_ENUMERABLE":E.test(X)||f.test(X)?X.slice(8,-1)+"|"+ze.outerHTML:X===F.DOCUMENTFRAGMENT?P[X]+"|"+function Ge(ze){for(var Ye=ze.children,At="",de=0;de<Ye.length;++de)At+=Ye[de].outerHTML;return At}(ze):G[X]?P[X]+"|"+ze.join(","):X===F.ARRAYBUFFER?P[X]+"|"+Ie(ze):X===F.DATAVIEW?P[X]+"|"+Ie(ze.buffer):ze}function Ze(ze,Ye,At){if(!ze||"object"!=typeof ze)return Be(ze,Ye,At);var de=U.call(ze);return de===F.DATE||de===F.REGEXP?Be(ze,Ye,At,de):JSON.stringify(ze,function Xe(ze,Ye){return void 0===ze&&(ze=[]),void 0===Ye&&(Ye=[]),function(At,de){if("object"==typeof de)if(ze.length){var W=xe(ze,this);0===W?ze.push(this):(ze.splice(W),Ye.splice(W)),Ye.push(At);var X=xe(ze,de);if(0!==X)return"[~"+(Ye.slice(0,X).join(".")||".")+"]";ze.push(de)}else ze[0]=de,Ye[0]=At;return At&&this[At]instanceof Date?Be(this[At],ze,Ye,F.DATE):Be(de,ze,Ye)}}(Ye,At))}function ot(ze){return function K(ze){for(var W,Ye=ze.length,At=5381,de=52711;Ye--;)At=33*At^(W=ze.charCodeAt(Ye)),de=33*de^W;return 4096*(At>>>0)+(de>>>0)}(Ze(ze))}(ot.is=(0,M.curry)(function(ze,Ye){return ot(ze)===ot(Ye)})).all=(0,M.curry)(function(ze){for(var Ye=ot.is(ze),At=1;At<arguments.length;++At)if(!Ye(arguments[At]))return!1;return!0},2),ot.is.any=(0,M.curry)(function(ze){for(var Ye=ot.is(ze),At=1;At<arguments.length;At++)if(Ye(arguments[At]))return!0;return!1},2),ot.is.not=(0,M.curry)(function(ze,Ye){return ot(ze)!==ot(Ye)});const vt=ot},13889:(we,oe,b)=>{var M=Function.prototype.call,a=Object.prototype.hasOwnProperty,m=b(37707);we.exports=m.call(M,a)},17383:(we,oe)=>{oe.read=function(b,M,a,m,h){var k,A,y=8*h-m-1,E=(1<<y)-1,f=E>>1,v=-7,P=a?h-1:0,F=a?-1:1,w=b[M+P];for(P+=F,k=w&(1<<-v)-1,w>>=-v,v+=y;v>0;k=256*k+b[M+P],P+=F,v-=8);for(A=k&(1<<-v)-1,k>>=-v,v+=m;v>0;A=256*A+b[M+P],P+=F,v-=8);if(0===k)k=1-f;else{if(k===E)return A?NaN:1/0*(w?-1:1);A+=Math.pow(2,m),k-=f}return(w?-1:1)*A*Math.pow(2,k-m)},oe.write=function(b,M,a,m,h,k){var A,y,E,f=8*k-h-1,v=(1<<f)-1,P=v>>1,F=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,w=m?0:k-1,N=m?1:-1,R=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(y=isNaN(M)?1:0,A=v):(A=Math.floor(Math.log(M)/Math.LN2),M*(E=Math.pow(2,-A))<1&&(A--,E*=2),(M+=A+P>=1?F/E:F*Math.pow(2,1-P))*E>=2&&(A++,E/=2),A+P>=v?(y=0,A=v):A+P>=1?(y=(M*E-1)*Math.pow(2,h),A+=P):(y=M*Math.pow(2,P-1)*Math.pow(2,h),A=0));h>=8;b[a+w]=255&y,w+=N,y/=256,h-=8);for(A=A<<h|y,f+=h;f>0;b[a+w]=255&A,w+=N,A/=256,f-=8);b[a+w-N]|=128*R}},19822:we=>{we.exports="function"==typeof Object.create?function(b,M){M&&(b.super_=M,b.prototype=Object.create(M.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}))}:function(b,M){if(M){b.super_=M;var a=function(){};a.prototype=M.prototype,b.prototype=new a,b.prototype.constructor=b}}},38195:(we,oe,b)=>{var M,a,m;void 0!==(a="function"==typeof(M=m=function(){function m(){for(var A=0,y={};A<arguments.length;A++){var E=arguments[A];for(var f in E)y[f]=E[f]}return y}function h(A){return A.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function k(A){function y(){}function E(v,P,F){if(!(typeof document>"u")){"number"==typeof(F=m({path:"/"},y.defaults,F)).expires&&(F.expires=new Date(1*new Date+864e5*F.expires)),F.expires=F.expires?F.expires.toUTCString():"";try{var w=JSON.stringify(P);/^[\{\[]/.test(w)&&(P=w)}catch{}P=A.write?A.write(P,v):encodeURIComponent(String(P)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),v=encodeURIComponent(String(v)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var N="";for(var R in F)F[R]&&(N+="; "+R,!0!==F[R]&&(N+="="+F[R].split(";")[0]));return document.cookie=v+"="+P+N}}function f(v,P){if(!(typeof document>"u")){for(var F={},w=document.cookie?document.cookie.split("; "):[],N=0;N<w.length;N++){var R=w[N].split("="),L=R.slice(1).join("=");!P&&'"'===L.charAt(0)&&(L=L.slice(1,-1));try{var G=h(R[0]);if(L=(A.read||A)(L,G)||h(L),P)try{L=JSON.parse(L)}catch{}if(F[G]=L,v===G)break}catch{}}return v?F[v]:F}}return y.set=E,y.get=function(v){return f(v,!1)},y.getJSON=function(v){return f(v,!0)},y.remove=function(v,P){E(v,"",m(P,{expires:-1}))},y.defaults={},y.withConverter=k,y}(function(){})})?M.call(oe,b,oe,we):M)&&(we.exports=a),we.exports=m()},59788:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0});var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},a=function(){function N(R,L){for(var G=0;G<L.length;G++){var T=L[G];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,L,G){return L&&N(R.prototype,L),G&&N(R,G),R}}(),h=P(b(62909)),k=b(88912),y=P(b(46440)),E=b(8345),v=P(b(77086));function P(N){return N&&N.__esModule?N:{default:N}}var w=function(){function N(R){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var T in function F(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),this.factMap=new Map(R),this.factResultsCache=new Map,this.allowUndefinedFacts=!!G.allowUndefinedFacts,L){var V;V=L[T]instanceof h.default?L[T]:new h.default(T,L[T]),this._addConstantFact(V),(0,y.default)("almanac::constructor initialized runtime fact:"+V.id+" with "+V.value+"<"+M(V.value)+">")}}return a(N,[{key:"_getFact",value:function(L){return this.factMap.get(L)}},{key:"_addConstantFact",value:function(L){this.factMap.set(L.id,L),this._setFactValue(L,{},L.value)}},{key:"_setFactValue",value:function(L,G,T){var V=L.getCacheKey(G),U=Promise.resolve(T);return V&&this.factResultsCache.set(V,U),U}},{key:"addRuntimeFact",value:function(L,G){(0,y.default)("almanac::addRuntimeFact id:"+L);var T=new h.default(L,G);return this._addConstantFact(T)}},{key:"factValue",value:function(L){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",V=void 0,U=this._getFact(L);if(void 0===U)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new k.UndefinedFactError("Undefined fact: "+L));if(U.isConstant())V=Promise.resolve(U.calculate(G,this));else{var ee=U.getCacheKey(G),te=ee&&this.factResultsCache.get(ee);te?(V=Promise.resolve(te),(0,y.default)("almanac::factValue cache hit for fact:"+L)):((0,y.default)("almanac::factValue cache miss for fact:"+L+"; calculating"),V=this._setFactValue(U,G,U.calculate(G,this)))}if(T){if("string"==typeof T&&T.startsWith("$"))return(0,y.default)("condition::evaluate extracting object property "+T),V.then(function(j){if((0,v.default)(j)){var re=(0,E.JSONPath)({path:T,json:j,wrap:!1});return(0,y.default)("condition::evaluate extracting object property "+T+", received: "+re),re}return(0,y.default)("condition::evaluate could not compute object path("+T+") of non-object: "+j+" <"+(typeof j>"u"?"undefined":M(j))+">; continuing with "+j),j});var K=void 0;try{K=b(34365)}catch{throw console.error('Oops! Looks like you\'re trying to use the deprecated syntax for the ".path" property.'),console.error('Please convert your "path" properties to JsonPath syntax (ensure your path starts with "$")'),console.error('Alternatively, if you wish to continue using old syntax (provided by selectn), you may "npm install selectn" as a direct dependency.'),console.error("See https://github.com/CacheControl/json-rules-engine/blob/master/CHANGELOG.md#500--2019-10-27 for more information."),new Error('json-rules-engine: Unmet peer dependency "selectn" required for use of deprecated ".path" syntax. please "npm install selectn" or convert to json-path syntax')}return V.then(function(j){if((0,v.default)(j)){var re=K(T)(j);return(0,y.default)("condition::evaluate extracting object property "+T+", received: "+re),re}return(0,y.default)("condition::evaluate could not compute object path("+T+") of non-object: "+j+" <"+(typeof j>"u"?"undefined":M(j))+">; continuing with "+j),j})}return V}}]),N}();oe.default=w},3354:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0});var M=function(){function f(v,P){for(var F=0;F<P.length;F++){var w=P[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,P,F){return P&&f(v.prototype,P),F&&f(v,F),v}}(),m=A(b(46440)),k=A(b(77086));function A(f){return f&&f.__esModule?f:{default:f}}var E=function(){function f(v){if(function y(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f),!v)throw new Error("Condition: constructor options required");var P=f.booleanOperator(v);if(Object.assign(this,v),P){var F=v[P];if(!Array.isArray(F))throw new Error('"'+P+'" must be an array');this.operator=P,this.priority=parseInt(v.priority,10)||1,this[P]=F.map(function(w){return new f(w)})}else{if(!Object.prototype.hasOwnProperty.call(v,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(v,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(v,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(v,"priority")&&(v.priority=parseInt(v.priority,10))}}return M(f,[{key:"toJSON",value:function(){var P=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],F={};this.priority&&(F.priority=this.priority);var w=f.booleanOperator(this);return w?F[w]=this[w].map(function(N){return N.toJSON(P)}):(F.operator=this.operator,F.value=this.value,F.fact=this.fact,void 0!==this.factResult&&(F.factResult=this.factResult),void 0!==this.result&&(F.result=this.result),this.params&&(F.params=this.params),this.path&&(F.path=this.path)),P?JSON.stringify(F):F}},{key:"_getValue",value:function(P){var F=this.value;return(0,k.default)(F)&&Object.prototype.hasOwnProperty.call(F,"fact")?P.factValue(F.fact,F.params,F.path):Promise.resolve(F)}},{key:"evaluate",value:function(P,F){var w=this;if(!P)return Promise.reject(new Error("almanac required"));if(!F)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var N=F.get(this.operator);return N?this._getValue(P).then(function(R){return P.factValue(w.fact,w.params,w.path).then(function(L){var G=N.evaluate(L,R);return(0,m.default)("condition::evaluate <"+L+" "+w.operator+" "+R+"?> ("+G+")"),{result:G,leftHandSideValue:L,rightHandSideValue:R,operator:w.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return f.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==f.booleanOperator(this)}}],[{key:"booleanOperator",value:function(P){return Object.prototype.hasOwnProperty.call(P,"any")?"any":Object.prototype.hasOwnProperty.call(P,"all")?"all":void 0}}]),f}();oe.default=E},46440:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=function b(M){try{(typeof process<"u"&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(M)}catch{}}},45757:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0});var a=function m(A){return A&&A.__esModule?A:{default:A}}(b(49203)),h=[];function k(A){return"NaN"!==Number.parseFloat(A).toString()}h.push(new a.default("equal",function(A,y){return A===y})),h.push(new a.default("notEqual",function(A,y){return A!==y})),h.push(new a.default("in",function(A,y){return y.indexOf(A)>-1})),h.push(new a.default("notIn",function(A,y){return-1===y.indexOf(A)})),h.push(new a.default("contains",function(A,y){return A.indexOf(y)>-1},Array.isArray)),h.push(new a.default("doesNotContain",function(A,y){return-1===A.indexOf(y)},Array.isArray)),h.push(new a.default("lessThan",function(A,y){return A<y},k)),h.push(new a.default("lessThanInclusive",function(A,y){return A<=y},k)),h.push(new a.default("greaterThan",function(A,y){return A>y},k)),h.push(new a.default("greaterThanInclusive",function(A,y){return A>=y},k)),oe.default=h},9175:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.SuccessEventFact=function(){var a=[];return function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.event&&a.push(m.event),a}}},86457:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.FINISHED=oe.RUNNING=oe.READY=void 0;var M=function(){function j(re,ue){for(var ne=0;ne<ue.length;ne++){var z=ue[ne];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(re,z.key,z)}}return function(re,ue,ne){return ue&&j(re.prototype,ue),ne&&j(re,ne),re}}(),m=L(b(62909)),k=L(b(57133)),y=L(b(49203)),f=L(b(59788)),v=b(44339),P=b(9175),w=L(b(45757)),R=L(b(46440));function L(j){return j&&j.__esModule?j:{default:j}}var U=oe.READY="READY",ee=oe.RUNNING="RUNNING",te=oe.FINISHED="FINISHED",K=function(j){function re(){var ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function G(j,re){if(!(j instanceof re))throw new TypeError("Cannot call a class as a function")}(this,re);var z=function T(j,re){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!re||"object"!=typeof re&&"function"!=typeof re?j:re}(this,(re.__proto__||Object.getPrototypeOf(re)).call(this));return z.rules=[],z.allowUndefinedFacts=ne.allowUndefinedFacts||!1,z.operators=new Map,z.facts=new Map,z.status=U,ue.map(function(q){return z.addRule(q)}),w.default.map(function(q){return z.addOperator(q)}),z}return function V(j,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function, not "+typeof re);j.prototype=Object.create(re&&re.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(j,re):j.__proto__=re)}(re,j),M(re,[{key:"addRule",value:function(ne){if(!ne)throw new Error("Engine: addRule() requires options");if(!Object.prototype.hasOwnProperty.call(ne,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!Object.prototype.hasOwnProperty.call(ne,"event"))throw new Error('Engine: addRule() argument requires "event" property');var z=void 0;return(z=ne instanceof k.default?ne:new k.default(ne)).setEngine(this),this.rules.push(z),this.prioritizedRules=null,this}},{key:"removeRule",value:function(ne){if(!(ne instanceof k.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var z=this.rules.indexOf(ne);return-1!==z&&(this.prioritizedRules=null,!!this.rules.splice(z,1).length)}},{key:"addOperator",value:function(ne,z){var q;q=ne instanceof y.default?ne:new y.default(ne,z),(0,R.default)("engine::addOperator name:"+q.name),this.operators.set(q.name,q)}},{key:"removeOperator",value:function(ne){return this.operators.delete(ne instanceof y.default?ne.name:ne)}},{key:"addFact",value:function(ne,z,q){var pe=ne,ye=void 0;return ne instanceof m.default?(pe=ne.id,ye=ne):ye=new m.default(ne,z,q),(0,R.default)("engine::addFact id:"+pe),this.facts.set(pe,ye),this}},{key:"removeFact",value:function(ne){return this.facts.delete(ne instanceof m.default?ne.id:ne)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var ne=this.rules.reduce(function(z,q){var pe=q.priority;return z[pe]||(z[pe]=[]),z[pe].push(q),z},{});this.prioritizedRules=Object.keys(ne).sort(function(z,q){return Number(z)>Number(q)?-1:1}).map(function(z){return ne[z]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=te,this}},{key:"getFact",value:function(ne){return this.facts.get(ne)}},{key:"evaluateRules",value:function(ne,z){var q=this;return Promise.all(ne.map(function(pe){if(q.status===ee)return pe.evaluate(z).then(function(ye){(0,R.default)("engine::run ruleResult:"+ye.result),ye.result?(q.emit("success",pe.event,z,ye),q.emit(pe.event.type,pe.event.params,z,ye),z.factValue("success-events",{event:pe.event})):q.emit("failure",pe.event,z,ye)});(0,R.default)("engine::run status:"+q.status+"; skipping remaining rules")}))}},{key:"run",value:function(){var ne=this,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,R.default)("engine::run started"),(0,R.default)("engine::run runtimeFacts:",z),z["success-events"]=new m.default("success-events",(0,P.SuccessEventFact)(),{cache:!1}),this.status=ee;var q=new f.default(this.facts,z,{allowUndefinedFacts:this.allowUndefinedFacts}),pe=this.prioritizeRules(),ye=Promise.resolve();return new Promise(function(Ee,Ie){pe.map(function(Ge){return ye=ye.then(function(){return ne.evaluateRules(Ge,q)}).catch(Ie)}),ye.then(function(){return ne.status=te,(0,R.default)("engine::run completed"),q.factValue("success-events")}).then(function(Ge){Ee({events:Ge,almanac:q})}).catch(Ie)})}}]),re}(v.EventEmitter);oe.default=K},88912:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.UndefinedFactError=function(){function k(){var A;!function b(h,k){if(!(h instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k);for(var y=arguments.length,E=Array(y),f=0;f<y;f++)E[f]=arguments[f];var v=function M(h,k){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?h:k}(this,(A=k.__proto__||Object.getPrototypeOf(k)).call.apply(A,[this].concat(E)));return v.code="UNDEFINED_FACT",v}return function a(h,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);h.prototype=Object.create(k&&k.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(h,k):h.__proto__=k)}(k,Error),k}()},62909:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0});var M=function(){function y(E,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,f,v){return f&&y(E.prototype,f),v&&y(E,v),E}}(),m=function h(y){return y&&y.__esModule?y:{default:y}}(b(6451)),A=function(){function y(E,f,v){(function k(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=E;var P={cache:!0};if(typeof v>"u"&&(v=P),"function"!=typeof f?(this.value=f,this.type=this.constructor.CONSTANT):(this.calculationMethod=f,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(v.priority||1,10),this.options=Object.assign({},P,v),this.cacheKeyMethod=this.defaultCacheKeys,this}return M(y,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(f,v){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(f,v)}},{key:"defaultCacheKeys",value:function(f,v){return{params:v,id:f}}},{key:"getCacheKey",value:function(f){if(!0===this.options.cache){var v=this.cacheKeyMethod(this.id,f);return y.hashFromObject(v)}}}],[{key:"hashFromObject",value:function(f){return(0,m.default)(f)}}]),y}();A.CONSTANT="CONSTANT",A.DYNAMIC="DYNAMIC",oe.default=A},7479:(we,oe,b)=>{we.exports=b(46542)},46542:(we,oe,b)=>{oe.Engine=oe.Rule=void 0;var m=v(b(86457)),y=(v(b(62909)),v(b(57133)));v(b(49203));function v(P){return P&&P.__esModule?P:{default:P}}oe.Rule=y.default,oe.Engine=m.default},49203:(we,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0});var b=function(){function m(h,k){for(var A=0;A<k.length;A++){var y=k[A];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,k,A){return k&&m(h.prototype,k),A&&m(h,A),h}}(),a=function(){function m(h,k,A){if(function M(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),this.name=String(h),!h)throw new Error("Missing operator name");if("function"!=typeof k)throw new Error("Missing operator callback");this.cb=k,this.factValueValidator=A,this.factValueValidator||(this.factValueValidator=function(){return!0})}return b(m,[{key:"evaluate",value:function(k,A){return this.factValueValidator(k)&&this.cb(k,A)}}]),m}();oe.default=a},70347:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0});var M=function(){function y(E,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,f,v){return f&&y(E.prototype,f),v&&y(E,v),E}}(),m=function h(y){return y&&y.__esModule?y:{default:y}}(b(32471)),A=function(){function y(E,f,v,P){(function k(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,y),this.conditions=(0,m.default)(E),this.event=(0,m.default)(f),this.priority=(0,m.default)(v),this.name=(0,m.default)(P),this.result=null}return M(y,[{key:"setResult",value:function(f){this.result=f}},{key:"toJSON",value:function(){var f=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],v={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return f?JSON.stringify(v):v}}]),y}();oe.default=A},57133:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0});var M=function(){function N(R,L){for(var G=0;G<L.length;G++){var T=L[G];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,L,G){return L&&N(R.prototype,L),G&&N(R,G),R}}(),m=f(b(3354)),k=f(b(70347)),A=b(44339),E=f(b(46440));function f(N){return N&&N.__esModule?N:{default:N}}var w=function(N){function R(L){!function v(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R);var G=function P(N,R){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?N:R}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return"string"==typeof L&&(L=JSON.parse(L)),L&&L.conditions&&G.setConditions(L.conditions),L&&L.onSuccess&&G.on("success",L.onSuccess),L&&L.onFailure&&G.on("failure",L.onFailure),L&&(L.name||0===L.name)&&G.setName(L.name),G.setPriority(L&&L.priority||1),G.setEvent(L&&L.event||{type:"unknown"}),G}return function F(N,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);N.prototype=Object.create(R&&R.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(N,R):N.__proto__=R)}(R,N),M(R,[{key:"setPriority",value:function(G){if((G=parseInt(G,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=G,this}},{key:"setName",value:function(G){if(!G&&0!==G)throw new Error('Rule "name" must be defined');return this.name=G,this}},{key:"setConditions",value:function(G){if(!Object.prototype.hasOwnProperty.call(G,"all")&&!Object.prototype.hasOwnProperty.call(G,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new m.default(G),this}},{key:"setEvent",value:function(G){if(!G)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(G,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:G.type},G.params&&(this.event.params=G.params),this}},{key:"setEngine",value:function(G){return this.engine=G,this}},{key:"toJSON",value:function(){var G=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],T={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return G?JSON.stringify(T):T}},{key:"prioritizeConditions",value:function(G){var T=this,V=G.reduce(function(U,ee){var te=ee.priority;if(!te){var K=T.engine.getFact(ee.fact);te=K&&K.priority||1}return U[te]||(U[te]=[]),U[te].push(ee),U},{});return Object.keys(V).sort(function(U,ee){return Number(U)>Number(ee)?-1:1}).map(function(U){return V[U]})}},{key:"evaluate",value:function(G){var T=this,V=new k.default(this.conditions,this.event,this.priority,this.name),te=function(ne,z){if(0===ne.length)return Promise.resolve(!0);var q=Array.prototype.some;"all"===z&&(q=Array.prototype.every);for(var pe=T.prioritizeConditions(ne),ye=Promise.resolve(),Ee=function(xe){var Be=pe[xe],Xe=!1;ye=ye.then(function(Ze){return"any"===z&&!0===Ze||Xe?((0,E.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),Xe=!0,!0):"all"===z&&!1===Ze||Xe?((0,E.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),Xe=!0,!1):function(ne,z){return Array.isArray(ne)||(ne=[ne]),Promise.all(ne.map(function(q){return function(ne){if(ne.isBooleanOperator()){var z=ne[ne.operator];return("all"===ne.operator?j(z):K(z)).then(function(pe){var ye=!0===pe;return ne.result=ye,ye})}return ne.evaluate(G,T.engine.operators).then(function(pe){var ye=pe.result;return ne.factResult=pe.leftHandSideValue,ne.result=ye,ye})}(q)})).then(function(q){return(0,E.default)("rule::evaluateConditions results",q),z.call(q,function(pe){return!0===pe})})}(Be,q)})},Ie=0;Ie<pe.length;Ie++)Ee(Ie);return ye},K=function(ne){return te(ne,"any")},j=function(ne){return te(ne,"all")},re=function(ne){return V.setResult(ne),T.emit(ne?"success":"failure",V.event,G,V),V};return V.conditions.any?K(V.conditions.any).then(function(ue){return re(ue)}):j(V.conditions.all).then(function(ue){return re(ue)})}}]),R}(A.EventEmitter);oe.default=w},8345:(we,oe,b)=>{function M(z){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(z)}function h(z){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(z)}function k(z,q){return(k=Object.setPrototypeOf||function(ye,Ee){return ye.__proto__=Ee,ye})(z,q)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function y(z,q,pe){return(y=A()?Reflect.construct:function(Ee,Ie,Ge){var xe=[null];xe.push.apply(xe,Ie);var Xe=new(Function.bind.apply(Ee,xe));return Ge&&k(Xe,Ge.prototype),Xe}).apply(null,arguments)}function f(z){var q="function"==typeof Map?new Map:void 0;return f=function(ye){if(null===ye||!function E(z){return-1!==Function.toString.call(z).indexOf("[native code]")}(ye))return ye;if("function"!=typeof ye)throw new TypeError("Super expression must either be null or a function");if(typeof q<"u"){if(q.has(ye))return q.get(ye);q.set(ye,Ee)}function Ee(){return y(ye,arguments,h(this).constructor)}return Ee.prototype=Object.create(ye.prototype,{constructor:{value:Ee,enumerable:!1,writable:!0,configurable:!0}}),k(Ee,ye)},f(z)}function w(z){return function N(z){if(Array.isArray(z))return G(z)}(z)||function R(z){if(typeof Symbol<"u"&&Symbol.iterator in Object(z))return Array.from(z)}(z)||L(z)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(z,q){if(z){if("string"==typeof z)return G(z,q);var pe=Object.prototype.toString.call(z).slice(8,-1);if("Object"===pe&&z.constructor&&(pe=z.constructor.name),"Map"===pe||"Set"===pe)return Array.from(pe);if("Arguments"===pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return G(z,q)}}function G(z,q){(null==q||q>z.length)&&(q=z.length);for(var pe=0,ye=new Array(q);pe<q;pe++)ye[pe]=z[pe];return ye}b.r(oe),b.d(oe,{JSONPath:()=>ne});var ee=Object.prototype.hasOwnProperty,K=(ne.nodeVMSupported=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}())?b(52249):{runInNewContext:function(q,pe){var ye=Object.keys(pe),Ee=[];!function(q,pe,ye){for(var Ee=q.length,Ie=0;Ie<Ee;Ie++)ye(q[Ie])&&pe.push(q.splice(Ie--,1)[0])}(ye,Ee,function(Xe){return"function"==typeof pe[Xe]});var Ie=ye.map(function(Xe,Ze){return pe[Xe]});!(q=Ee.reduce(function(Xe,Ze){var ot=pe[Ze].toString();return/function/.test(ot)||(ot="function "+ot),"var "+Ze+"="+ot+";"+Xe},"")+q).match(/(["'])use strict\1/)&&!ye.includes("arguments")&&(q="var arguments = undefined;"+q);var xe=(q=q.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),Be=xe>-1?q.slice(0,xe+1)+" return "+q.slice(xe+1):" return "+q;return y(Function,w(ye).concat([Be])).apply(void 0,w(Ie))}};function j(z,q){return(z=z.slice()).push(q),z}function re(z,q){return(q=q.slice()).unshift(z),q}var ue=function(z){!function m(z,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(q&&q.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),q&&k(z,q)}(pe,z);var q=function F(z){return function(){var pe,q=h(z);if(A()){var ye=h(this).constructor;pe=Reflect.construct(q,arguments,ye)}else pe=q.apply(this,arguments);return function P(z,q){return!q||"object"!=typeof q&&"function"!=typeof q?function v(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z):q}(this,pe)}}(pe);function pe(ye){var Ee;return function a(z,q){if(!(z instanceof q))throw new TypeError("Cannot call a class as a function")}(this,pe),(Ee=q.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,Ee.value=ye,Ee.name="NewError",Ee}return pe}(f(Error));function ne(z,q,pe,ye,Ee){if(!(this instanceof ne))try{return new ne(z,q,pe,ye,Ee)}catch(Be){if(!Be.avoidNew)throw Be;return Be.value}"string"==typeof z&&(Ee=ye,ye=pe,pe=q,q=z,z=null);var Ie=z&&"object"===M(z);if(this.json=(z=z||{}).json||pe,this.path=z.path||q,this.resultType=z.resultType||"value",this.flatten=z.flatten||!1,this.wrap=!ee.call(z,"wrap")||z.wrap,this.sandbox=z.sandbox||{},this.preventEval=z.preventEval||!1,this.parent=z.parent||null,this.parentProperty=z.parentProperty||null,this.callback=z.callback||ye||null,this.otherTypeCallback=z.otherTypeCallback||Ee||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==z.autostart){var Ge={path:Ie?z.path:q};Ie?"json"in z&&(Ge.json=z.json):Ge.json=pe;var xe=this.evaluate(Ge);if(!xe||"object"!==M(xe))throw new ue(xe);return xe}}ne.prototype.evaluate=function(z,q,pe,ye){var Ee=this,Ie=this.parent,Ge=this.parentProperty,xe=this.flatten,Be=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,pe=pe||this.callback,this.currOtherTypeCallback=ye||this.otherTypeCallback,q=q||this.json,(z=z||this.path)&&"object"===M(z)&&!Array.isArray(z)){if(!z.path&&""!==z.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ee.call(z,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');q=z.json,xe=ee.call(z,"flatten")?z.flatten:xe,this.currResultType=ee.call(z,"resultType")?z.resultType:this.currResultType,this.currSandbox=ee.call(z,"sandbox")?z.sandbox:this.currSandbox,Be=ee.call(z,"wrap")?z.wrap:Be,this.currPreventEval=ee.call(z,"preventEval")?z.preventEval:this.currPreventEval,pe=ee.call(z,"callback")?z.callback:pe,this.currOtherTypeCallback=ee.call(z,"otherTypeCallback")?z.otherTypeCallback:this.currOtherTypeCallback,Ie=ee.call(z,"parent")?z.parent:Ie,Ge=ee.call(z,"parentProperty")?z.parentProperty:Ge,z=z.path}if(Ie=Ie||null,Ge=Ge||null,Array.isArray(z)&&(z=ne.toPathString(z)),(z||""===z)&&q){this._obj=q;var Ze=ne.toPathArray(z);"$"===Ze[0]&&Ze.length>1&&Ze.shift(),this._hasParentSelector=null;var ot=this._trace(Ze,q,["$"],Ie,Ge,pe).filter(function(vt){return vt&&!vt.isParentSelector});return ot.length?Be||1!==ot.length||ot[0].hasArrExpr?ot.reduce(function(vt,ze){var Ye=Ee._getPreferredOutput(ze);return xe&&Array.isArray(Ye)?vt=vt.concat(Ye):vt.push(Ye),vt},[]):this._getPreferredOutput(ot[0]):Be?[]:void 0}},ne.prototype._getPreferredOutput=function(z){var q=this.currResultType;switch(q){default:throw new TypeError("Unknown result type");case"all":var pe=Array.isArray(z.path)?z.path:ne.toPathArray(z.path);return z.pointer=ne.toPointer(pe),z.path="string"==typeof z.path?z.path:ne.toPathString(z.path),z;case"value":case"parent":case"parentProperty":return z[q];case"path":return ne.toPathString(z[q]);case"pointer":return ne.toPointer(z.path)}},ne.prototype._handleCallback=function(z,q,pe){if(q){var ye=this._getPreferredOutput(z);z.path="string"==typeof z.path?z.path:ne.toPathString(z.path),q(ye,pe,z)}},ne.prototype._trace=function(z,q,pe,ye,Ee,Ie,Ge,xe){var Be,Xe=this;if(!z.length)return this._handleCallback(Be={path:pe,value:q,parent:ye,parentProperty:Ee,hasArrExpr:Ge},Ie,"value"),Be;var Ze=z[0],ot=z.slice(1),vt=[];function ze(Q){Array.isArray(Q)?Q.forEach(function(ve){vt.push(ve)}):vt.push(Q)}if(("string"!=typeof Ze||xe)&&q&&ee.call(q,Ze))ze(this._trace(ot,q[Ze],j(pe,Ze),q,Ze,Ie,Ge));else if("*"===Ze)this._walk(Ze,ot,q,pe,ye,Ee,Ie,function(Q,ve,je,nt,at,bt,Ot,It){ze(Xe._trace(re(Q,je),nt,at,bt,Ot,It,!0,!0))});else if(".."===Ze)ze(this._trace(ot,q,pe,ye,Ee,Ie,Ge)),this._walk(Ze,ot,q,pe,ye,Ee,Ie,function(Q,ve,je,nt,at,bt,Ot,It){"object"===M(nt[Q])&&ze(Xe._trace(re(ve,je),nt[Q],j(at,Q),nt,Q,It,!0))});else{if("^"===Ze)return this._hasParentSelector=!0,{path:pe.slice(0,-1),expr:ot,isParentSelector:!0};if("~"===Ze)return Be={path:j(pe,Ze),value:Ee,parent:ye,parentProperty:null},this._handleCallback(Be,Ie,"property"),Be;if("$"===Ze)ze(this._trace(ot,q,pe,null,null,Ie,Ge));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(Ze))ze(this._slice(Ze,ot,q,pe,ye,Ee,Ie));else if(0===Ze.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(Ze,ot,q,pe,ye,Ee,Ie,function(Q,ve,je,nt,at,bt,Ot,It){Xe._eval(ve.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),nt[Q],Q,at,bt,Ot)&&ze(Xe._trace(re(Q,je),nt,at,bt,Ot,It,!0))})}else if("("===Ze[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");ze(this._trace(re(this._eval(Ze,q,pe[pe.length-1],pe.slice(0,-1),ye,Ee),ot),q,pe,ye,Ee,Ie,Ge))}else if("@"===Ze[0]){var Ye=!1,At=Ze.slice(1,-2);switch(At){default:throw new TypeError("Unknown value type "+At);case"scalar":(!q||!["object","function"].includes(M(q)))&&(Ye=!0);break;case"boolean":case"string":case"undefined":case"function":M(q)===At&&(Ye=!0);break;case"integer":Number.isFinite(q)&&!(q%1)&&(Ye=!0);break;case"number":Number.isFinite(q)&&(Ye=!0);break;case"nonFinite":"number"==typeof q&&!Number.isFinite(q)&&(Ye=!0);break;case"object":q&&M(q)===At&&(Ye=!0);break;case"array":Array.isArray(q)&&(Ye=!0);break;case"other":Ye=this.currOtherTypeCallback(q,pe,ye,Ee);break;case"null":null===q&&(Ye=!0)}if(Ye)return this._handleCallback(Be={path:pe,value:q,parent:ye,parentProperty:Ee},Ie,"value"),Be}else if("`"===Ze[0]&&q&&ee.call(q,Ze.slice(1))){var de=Ze.slice(1);ze(this._trace(ot,q[de],j(pe,de),q,de,Ie,Ge,!0))}else if(Ze.includes(",")){var Ce,X=function V(z){if(typeof Symbol>"u"||null==z[Symbol.iterator]){if(Array.isArray(z)||(z=L(z))){var q=0,pe=function(){};return{s:pe,n:function(){return q>=z.length?{done:!0}:{done:!1,value:z[q++]}},e:function(Be){throw Be},f:pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ye,Ge,Ee=!0,Ie=!1;return{s:function(){ye=z[Symbol.iterator]()},n:function(){var Be=ye.next();return Ee=Be.done,Be},e:function(Be){Ie=!0,Ge=Be},f:function(){try{!Ee&&null!=ye.return&&ye.return()}finally{if(Ie)throw Ge}}}}(Ze.split(","));try{for(X.s();!(Ce=X.n()).done;)ze(this._trace(re(Ce.value,ot),q,pe,ye,Ee,Ie,!0))}catch(Q){X.e(Q)}finally{X.f()}}else!xe&&q&&ee.call(q,Ze)&&ze(this._trace(ot,q[Ze],j(pe,Ze),q,Ze,Ie,Ge,!0))}if(this._hasParentSelector)for(var ie=0;ie<vt.length;ie++){var ae=vt[ie];if(ae&&ae.isParentSelector){var Me=Xe._trace(ae.expr,q,ae.path,ye,Ee,Ie,Ge);if(Array.isArray(Me)){vt[ie]=Me[0];for(var se=Me.length,Z=1;Z<se;Z++)ie++,vt.splice(ie,0,Me[Z])}else vt[ie]=Me}}return vt},ne.prototype._walk=function(z,q,pe,ye,Ee,Ie,Ge,xe){if(Array.isArray(pe))for(var Be=pe.length,Xe=0;Xe<Be;Xe++)xe(Xe,z,q,pe,ye,Ee,Ie,Ge);else pe&&"object"===M(pe)&&Object.keys(pe).forEach(function(Ze){xe(Ze,z,q,pe,ye,Ee,Ie,Ge)})},ne.prototype._slice=function(z,q,pe,ye,Ee,Ie,Ge){if(Array.isArray(pe)){var xe=pe.length,Be=z.split(":"),Xe=Be[2]&&Number.parseInt(Be[2])||1,Ze=Be[0]&&Number.parseInt(Be[0])||0,ot=Be[1]&&Number.parseInt(Be[1])||xe;Ze=Ze<0?Math.max(0,Ze+xe):Math.min(xe,Ze),ot=ot<0?Math.max(0,ot+xe):Math.min(xe,ot);for(var vt=[],ze=Ze;ze<ot;ze+=Xe)this._trace(re(ze,q),pe,ye,Ee,Ie,Ge,!0).forEach(function(At){vt.push(At)});return vt}},ne.prototype._eval=function(z,q,pe,ye,Ee,Ie){if(!this._obj||!q)return!1;z.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=Ie,z=z.replace(/@parentProperty/g,"_$_parentProperty")),z.includes("@parent")&&(this.currSandbox._$_parent=Ee,z=z.replace(/@parent/g,"_$_parent")),z.includes("@property")&&(this.currSandbox._$_property=pe,z=z.replace(/@property/g,"_$_property")),z.includes("@path")&&(this.currSandbox._$_path=ne.toPathString(ye.concat([pe])),z=z.replace(/@path/g,"_$_path")),z.includes("@root")&&(this.currSandbox._$_root=this.json,z=z.replace(/@root/g,"_$_root")),z.match(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/)&&(this.currSandbox._$_v=q,z=z.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return K.runInNewContext(z,this.currSandbox)}catch(Ge){throw console.log(Ge),new Error("jsonPath: "+Ge.message+": "+z)}},ne.cache={},ne.toPathString=function(z){for(var q=z,pe=q.length,ye="$",Ee=1;Ee<pe;Ee++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(q[Ee])||(ye+=/^[\*0-9]+$/.test(q[Ee])?"["+q[Ee]+"]":"['"+q[Ee]+"']");return ye},ne.toPointer=function(z){for(var q=z,pe=q.length,ye="",Ee=1;Ee<pe;Ee++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(q[Ee])||(ye+="/"+q[Ee].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return ye},ne.toPathArray=function(z){var q=ne.cache;if(q[z])return q[z].concat();var pe=[],Ee=z.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(Ie,Ge){return"[#"+(pe.push(Ge)-1)+"]"}).replace(/\['((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)'\]/g,function(Ie,Ge){return"['"+Ge.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(Ie,Ge){return";"+Ge.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(Ie){var Ge=Ie.match(/#([0-9]+)/);return Ge&&Ge[1]?pe[Ge[1]]:Ie});return q[z]=Ee,q[z]}},77086:we=>{we.exports=function oe(b){return!!b&&"object"==typeof b}},97598:we=>{we.exports=Math.abs},73116:we=>{we.exports=Math.floor},80159:we=>{we.exports=Number.isNaN||function(b){return b!=b}},42136:we=>{we.exports=Math.max},43462:we=>{we.exports=Math.min},11516:we=>{we.exports=Math.pow},75714:we=>{we.exports=Math.round},497:(we,oe,b)=>{var M=b(80159);we.exports=function(m){return M(m)||0===m?m:m<0?-1:1}},12100:(we,oe)=>{function M(y){return y.replace(/[-[\]/{}()*+?.\\^$]/g,"\\$&")}function a(y,E){var v=(void 0===E?{}:E).decimalMark,P=void 0===v?".":v;if("number"==typeof y)return y.toString();if("string"!=typeof y)return"NaN";var F=M(P),w=y.trim(),N=w.match(/^\(.*\)$|^-/),R=new RegExp("[^\\d"+F+"]|"+F+"(?=.*"+F+")|^\\D*"+F+"\\D*$","g");return""===(w=w.replace(R,"").replace(P,"."))?w="NaN":N&&(w="-"+w),w}oe.Ro=void 0,oe.Ro=function m(y,E){var v=(void 0===E?{}:E).decimalMark,F=a(y,{decimalMark:void 0===v?".":v});return"NaN"===F?NaN:Number(F)}},73687:(we,oe,b)=>{var M="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&M?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,m=M&&a&&"function"==typeof a.get?a.get:null,h=M&&Map.prototype.forEach,k="function"==typeof Set&&Set.prototype,A=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,y=k&&A&&"function"==typeof A.get?A.get:null,E=k&&Set.prototype.forEach,v="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,F="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,N="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,R=Boolean.prototype.valueOf,L=Object.prototype.toString,G=Function.prototype.toString,T=String.prototype.match,V=String.prototype.slice,U=String.prototype.replace,ee=String.prototype.toUpperCase,te=String.prototype.toLowerCase,K=RegExp.prototype.test,j=Array.prototype.concat,re=Array.prototype.join,ue=Array.prototype.slice,ne=Math.floor,z="function"==typeof BigInt?BigInt.prototype.valueOf:null,q=Object.getOwnPropertySymbols,pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ye="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ee="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ie=Object.prototype.propertyIsEnumerable,Ge=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ue){return Ue.__proto__}:null);function xe(Ue,$e){if(Ue===1/0||Ue===-1/0||Ue!=Ue||Ue&&Ue>-1e3&&Ue<1e3||K.call(/e/,$e))return $e;var mt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ue){var Tt=Ue<0?-ne(-Ue):ne(Ue);if(Tt!==Ue){var gt=String(Tt),kt=V.call($e,gt.length+1);return U.call(gt,mt,"$&_")+"."+U.call(U.call(kt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return U.call($e,mt,"$&_")}var Be=b(42634),Xe=Be.custom,Ze=Me(Xe)?Xe:null,ot={__proto__:null,double:'"',single:"'"},vt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function ze(Ue,$e,mt){var gt=ot[mt.quoteStyle||$e];return gt+Ue+gt}function Ye(Ue){return U.call(String(Ue),/"/g,"&quot;")}function At(Ue){return!Ee||!("object"==typeof Ue&&(Ee in Ue||typeof Ue[Ee]<"u"))}function de(Ue){return"[object Array]"===ve(Ue)&&At(Ue)}function X(Ue){return"[object RegExp]"===ve(Ue)&&At(Ue)}function Me(Ue){if(ye)return Ue&&"object"==typeof Ue&&Ue instanceof Symbol;if("symbol"==typeof Ue)return!0;if(!Ue||"object"!=typeof Ue||!pe)return!1;try{return pe.call(Ue),!0}catch{}return!1}we.exports=function Ue($e,mt,Tt,gt){var kt=mt||{};if(Q(kt,"quoteStyle")&&!Q(ot,kt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Q(kt,"maxStringLength")&&("number"==typeof kt.maxStringLength?kt.maxStringLength<0&&kt.maxStringLength!==1/0:null!==kt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qt=!Q(kt,"customInspect")||kt.customInspect;if("boolean"!=typeof Qt&&"symbol"!==Qt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(kt,"indent")&&null!==kt.indent&&"\t"!==kt.indent&&!(parseInt(kt.indent,10)===kt.indent&&kt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(kt,"numericSeparator")&&"boolean"!=typeof kt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var un=kt.numericSeparator;if(typeof $e>"u")return"undefined";if(null===$e)return"null";if("boolean"==typeof $e)return $e?"true":"false";if("string"==typeof $e)return Se($e,kt);if("number"==typeof $e){if(0===$e)return 1/0/$e>0?"0":"-0";var rn=String($e);return un?xe($e,rn):rn}if("bigint"==typeof $e){var Bn=String($e)+"n";return un?xe($e,Bn):Bn}var tn=typeof kt.depth>"u"?5:kt.depth;if(typeof Tt>"u"&&(Tt=0),Tt>=tn&&tn>0&&"object"==typeof $e)return de($e)?"[Array]":"[Object]";var dn=function wt(Ue,$e){var mt;if("\t"===Ue.indent)mt="\t";else{if(!("number"==typeof Ue.indent&&Ue.indent>0))return null;mt=re.call(Array(Ue.indent+1)," ")}return{base:mt,prev:re.call(Array($e+1),mt)}}(kt,Tt);if(typeof gt>"u")gt=[];else if(nt(gt,$e)>=0)return"[Circular]";function Pn(za,Xi,ys){if(Xi&&(gt=ue.call(gt)).push(Xi),ys){var Yi={depth:kt.depth};return Q(kt,"quoteStyle")&&(Yi.quoteStyle=kt.quoteStyle),Ue(za,Yi,Tt+1,gt)}return Ue(za,kt,Tt+1,gt)}if("function"==typeof $e&&!X($e)){var sr=function je(Ue){if(Ue.name)return Ue.name;var $e=T.call(G.call(Ue),/^function\s*([\w$]+)/);return $e?$e[1]:null}($e),qn=ht($e,Pn);return"[Function"+(sr?": "+sr:" (anonymous)")+"]"+(qn.length>0?" { "+re.call(qn,", ")+" }":"")}if(Me($e)){var wn=ye?U.call(String($e),/^(Symbol\(.*\))_[^)]*$/,"$1"):pe.call($e);return"object"!=typeof $e||ye?wn:Dn(wn)}if(function fn(Ue){return!(!Ue||"object"!=typeof Ue)&&(typeof HTMLElement<"u"&&Ue instanceof HTMLElement||"string"==typeof Ue.nodeName&&"function"==typeof Ue.getAttribute)}($e)){for(var rr="<"+te.call(String($e.nodeName)),hr=$e.attributes||[],Cn=0;Cn<hr.length;Cn++)rr+=" "+hr[Cn].name+"="+ze(Ye(hr[Cn].value),"double",kt);return rr+=">",$e.childNodes&&$e.childNodes.length&&(rr+="..."),rr+"</"+te.call(String($e.nodeName))+">"}if(de($e)){if(0===$e.length)return"[]";var cn=ht($e,Pn);return dn&&!function xt(Ue){for(var $e=0;$e<Ue.length;$e++)if(nt(Ue[$e],"\n")>=0)return!1;return!0}(cn)?"["+Ft(cn,dn)+"]":"[ "+re.call(cn,", ")+" ]"}if(function Ce(Ue){return"[object Error]"===ve(Ue)&&At(Ue)}($e)){var mn=ht($e,Pn);return"cause"in Error.prototype||!("cause"in $e)||Ie.call($e,"cause")?0===mn.length?"["+String($e)+"]":"{ ["+String($e)+"] "+re.call(mn,", ")+" }":"{ ["+String($e)+"] "+re.call(j.call("[cause]: "+Pn($e.cause),mn),", ")+" }"}if("object"==typeof $e&&Qt){if(Ze&&"function"==typeof $e[Ze]&&Be)return Be($e,{depth:tn-Tt});if("symbol"!==Qt&&"function"==typeof $e.inspect)return $e.inspect()}if(function at(Ue){if(!m||!Ue||"object"!=typeof Ue)return!1;try{m.call(Ue);try{y.call(Ue)}catch{return!0}return Ue instanceof Map}catch{}return!1}($e)){var ta=[];return h&&h.call($e,function(za,Xi){ta.push(Pn(Xi,$e,!0)+" => "+Pn(za,$e))}),Vt("Map",m.call($e),ta,dn)}if(function It(Ue){if(!y||!Ue||"object"!=typeof Ue)return!1;try{y.call(Ue);try{m.call(Ue)}catch{return!0}return Ue instanceof Set}catch{}return!1}($e)){var ni=[];return E&&E.call($e,function(za){ni.push(Pn(za,$e))}),Vt("Set",y.call($e),ni,dn)}if(function bt(Ue){if(!v||!Ue||"object"!=typeof Ue)return!1;try{v.call(Ue,v);try{F.call(Ue,F)}catch{return!0}return Ue instanceof WeakMap}catch{}return!1}($e))return pt("WeakMap");if(function ln(Ue){if(!F||!Ue||"object"!=typeof Ue)return!1;try{F.call(Ue,F);try{v.call(Ue,v)}catch{return!0}return Ue instanceof WeakSet}catch{}return!1}($e))return pt("WeakSet");if(function Ot(Ue){if(!N||!Ue||"object"!=typeof Ue)return!1;try{return N.call(Ue),!0}catch{}return!1}($e))return pt("WeakRef");if(function ie(Ue){return"[object Number]"===ve(Ue)&&At(Ue)}($e))return Dn(Pn(Number($e)));if(function se(Ue){if(!Ue||"object"!=typeof Ue||!z)return!1;try{return z.call(Ue),!0}catch{}return!1}($e))return Dn(Pn(z.call($e)));if(function ae(Ue){return"[object Boolean]"===ve(Ue)&&At(Ue)}($e))return Dn(R.call($e));if(function Pe(Ue){return"[object String]"===ve(Ue)&&At(Ue)}($e))return Dn(Pn(String($e)));if(typeof window<"u"&&$e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&$e===globalThis||typeof global<"u"&&$e===global)return"{ [object globalThis] }";if(!function W(Ue){return"[object Date]"===ve(Ue)&&At(Ue)}($e)&&!X($e)){var Gn=ht($e,Pn),Oi=Ge?Ge($e)===Object.prototype:$e instanceof Object||$e.constructor===Object,Ta=$e instanceof Object?"":"null prototype",ri=!Oi&&Ee&&Object($e)===$e&&Ee in $e?V.call(ve($e),8,-1):Ta?"Object":"",vn=(Oi||"function"!=typeof $e.constructor?"":$e.constructor.name?$e.constructor.name+" ":"")+(ri||Ta?"["+re.call(j.call([],ri||[],Ta||[]),": ")+"] ":"");return 0===Gn.length?vn+"{}":dn?vn+"{"+Ft(Gn,dn)+"}":vn+"{ "+re.call(Gn,", ")+" }"}return String($e)};var Z=Object.prototype.hasOwnProperty||function(Ue){return Ue in this};function Q(Ue,$e){return Z.call(Ue,$e)}function ve(Ue){return L.call(Ue)}function nt(Ue,$e){if(Ue.indexOf)return Ue.indexOf($e);for(var mt=0,Tt=Ue.length;mt<Tt;mt++)if(Ue[mt]===$e)return mt;return-1}function Se(Ue,$e){if(Ue.length>$e.maxStringLength){var mt=Ue.length-$e.maxStringLength,Tt="... "+mt+" more character"+(mt>1?"s":"");return Se(V.call(Ue,0,$e.maxStringLength),$e)+Tt}var gt=vt[$e.quoteStyle||"single"];return gt.lastIndex=0,ze(U.call(U.call(Ue,gt,"\\$1"),/[\x00-\x1f]/g,Zn),"single",$e)}function Zn(Ue){var $e=Ue.charCodeAt(0),mt={8:"b",9:"t",10:"n",12:"f",13:"r"}[$e];return mt?"\\"+mt:"\\x"+($e<16?"0":"")+ee.call($e.toString(16))}function Dn(Ue){return"Object("+Ue+")"}function pt(Ue){return Ue+" { ? }"}function Vt(Ue,$e,mt,Tt){return Ue+" ("+$e+") {"+(Tt?Ft(mt,Tt):re.call(mt,", "))+"}"}function Ft(Ue,$e){if(0===Ue.length)return"";var mt="\n"+$e.prev+$e.base;return mt+re.call(Ue,","+mt)+"\n"+$e.prev}function ht(Ue,$e){var mt=de(Ue),Tt=[];if(mt){Tt.length=Ue.length;for(var gt=0;gt<Ue.length;gt++)Tt[gt]=Q(Ue,gt)?$e(Ue[gt],Ue):""}var Qt,kt="function"==typeof q?q(Ue):[];if(ye){Qt={};for(var un=0;un<kt.length;un++)Qt["$"+kt[un]]=kt[un]}for(var rn in Ue)Q(Ue,rn)&&(mt&&String(Number(rn))===rn&&rn<Ue.length||ye&&Qt["$"+rn]instanceof Symbol||(K.call(/[^\w$]/,rn)?Tt.push($e(rn,Ue)+": "+$e(Ue[rn],Ue)):Tt.push(rn+": "+$e(Ue[rn],Ue))));if("function"==typeof q)for(var Bn=0;Bn<kt.length;Bn++)Ie.call(Ue,kt[Bn])&&Tt.push("["+$e(kt[Bn])+"]: "+$e(Ue[kt[Bn]],Ue));return Tt}},17473:function(we){we.exports=function(oe){var b={};function M(a){if(b[a])return b[a].exports;var m=b[a]={i:a,l:!1,exports:{}};return oe[a].call(m.exports,m,m.exports,M),m.l=!0,m.exports}return M.m=oe,M.c=b,M.d=function(a,m,h){M.o(a,m)||Object.defineProperty(a,m,{enumerable:!0,get:h})},M.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},M.t=function(a,m){if(1&m&&(a=M(a)),8&m||4&m&&"object"==typeof a&&a&&a.__esModule)return a;var h=Object.create(null);if(M.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&m&&"string"!=typeof a)for(var k in a)M.d(h,k,function(A){return a[A]}.bind(null,k));return h},M.n=function(a){var m=a&&a.__esModule?function(){return a.default}:function(){return a};return M.d(m,"a",m),m},M.o=function(a,m){return Object.prototype.hasOwnProperty.call(a,m)},M.p="",M(M.s=22)}([function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function A(y,E){for(var f=0;f<E.length;f++){var v=E[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,E,f){return E&&A(y.prototype,E),f&&A(y,f),y}}(),m={debug:function(){},info:function(){},warn:function(){},error:function(){}},h=void 0,k=void 0;(b.Log=function(){function A(){!function(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")}(this,A)}return A.reset=function(){k=3,h=m},A.debug=function(){if(k>=4){for(var E=arguments.length,f=Array(E),v=0;v<E;v++)f[v]=arguments[v];h.debug.apply(h,Array.from(f))}},A.info=function(){if(k>=3){for(var E=arguments.length,f=Array(E),v=0;v<E;v++)f[v]=arguments[v];h.info.apply(h,Array.from(f))}},A.warn=function(){if(k>=2){for(var E=arguments.length,f=Array(E),v=0;v<E;v++)f[v]=arguments[v];h.warn.apply(h,Array.from(f))}},A.error=function(){if(k>=1){for(var E=arguments.length,f=Array(E),v=0;v<E;v++)f[v]=arguments[v];h.error.apply(h,Array.from(f))}},a(A,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return k},set:function(E){if(!(0<=E&&E<=4))throw new Error("Invalid log level");k=E}},{key:"logger",get:function(){return h},set:function(E){if(!E.debug&&E.info&&(E.debug=E.info),!(E.debug&&E.info&&E.warn&&E.error))throw new Error("Invalid logger");h=E}}]),A}()).reset()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function A(y,E){for(var f=0;f<E.length;f++){var v=E[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,E,f){return E&&A(y.prototype,E),f&&A(y,f),y}}(),m={setInterval:function(A){function y(E,f){return A.apply(this,arguments)}return y.toString=function(){return A.toString()},y}(function(A,y){return setInterval(A,y)}),clearInterval:function(A){function y(E){return A.apply(this,arguments)}return y.toString=function(){return A.toString()},y}(function(A){return clearInterval(A)})},h=!1,k=null;b.Global=function(){function A(){!function(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")}(this,A)}return A._testing=function(){h=!0},A.setXMLHttpRequest=function(E){k=E},a(A,null,[{key:"location",get:function(){if(!h)return location}},{key:"localStorage",get:function(){if(!h&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!h&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!h&&typeof window<"u")return k||XMLHttpRequest}},{key:"timer",get:function(){if(!h)return m}}]),A}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataService=void 0;var a=function(){function y(E,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,f,v){return f&&y(E.prototype,f),v&&y(E,v),E}}(),m=M(0),h=M(7);var A=".well-known/openid-configuration";b.MetadataService=function(){function y(E){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.JsonService;if(function k(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw m.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=E,this._jsonService=new f(["application/jwk-set+json"])}return y.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},y.prototype.getMetadata=function(){var f=this;return this._settings.metadata?(m.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(m.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(v){return m.Log.debug("MetadataService.getMetadata: json received"),f._settings.metadata=Object.assign({},f._settings.metadataSeed||{},v),f._settings.metadata})):(m.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},y.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},y.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},y.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},y.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},y.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},y.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},y.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},y.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},y.prototype._getMetadataProperty=function(f){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.Log.debug("MetadataService.getMetadataProperty for: "+f),this.getMetadata().then(function(P){if(m.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===P[f]){if(!0===v)return void m.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+f);throw m.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+f),new Error("Metadata does not contain property "+f)}return P[f]})},y.prototype.getSigningKeys=function(){var f=this;return this._settings.signingKeys?(m.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(v){return m.Log.debug("MetadataService.getSigningKeys: jwks_uri received",v),f._jsonService.getJson(v).then(function(P){if(m.Log.debug("MetadataService.getSigningKeys: key set received",P),!P.keys)throw m.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return f._settings.signingKeys=P.keys,f._settings.signingKeys})})},a(y,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(A)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=A))),this._metadataUrl}}]),y}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UrlUtility=void 0;var a=M(0),m=M(1);b.UrlUtility=function(){function h(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.addQueryParam=function(A,y,E){return A.indexOf("?")<0&&(A+="?"),"?"!==A[A.length-1]&&(A+="&"),A+=encodeURIComponent(y),(A+="=")+encodeURIComponent(E)},h.parseUrlFragment=function(A){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof A&&(A=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.Global).location.href);var f=A.lastIndexOf(y);f>=0&&(A=A.substr(f+1)),"?"===y&&(f=A.indexOf("#"))>=0&&(A=A.substr(0,f));for(var v,P={},F=/([^&=]+)=([^&]*)/g,w=0;v=F.exec(A);)if(P[decodeURIComponent(v[1])]=decodeURIComponent(v[2].replace(/\+/g," ")),w++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",A),{error:"Response exceeded expected number of parameters"};for(var N in P)return P;return{}},h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JoseUtil=void 0;var k,a=M(26),m=(k=M(33))&&k.__esModule?k:{default:k};b.JoseUtil=(0,m.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClientSettings=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},m=function(){function N(R,L){for(var G=0;G<L.length;G++){var T=L[G];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,L,G){return L&&N(R.prototype,L),G&&N(R,G),R}}(),h=M(0),k=M(23),A=M(6),y=M(24),E=M(2);var v=".well-known/openid-configuration";b.OidcClientSettings=function(){function N(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=R.authority,G=R.metadataUrl,T=R.metadata,V=R.signingKeys,U=R.metadataSeed,ee=R.client_id,te=R.client_secret,K=R.response_type,j=void 0===K?"id_token":K,re=R.scope,ue=void 0===re?"openid":re,ne=R.redirect_uri,z=R.post_logout_redirect_uri,q=R.client_authentication,pe=void 0===q?"client_secret_post":q,ye=R.prompt,Ee=R.display,Ie=R.max_age,Ge=R.ui_locales,xe=R.acr_values,Be=R.resource,Xe=R.response_mode,Ze=R.filterProtocolClaims,ot=void 0===Ze||Ze,vt=R.loadUserInfo,ze=void 0===vt||vt,Ye=R.staleStateAge,At=void 0===Ye?900:Ye,de=R.clockSkew,W=void 0===de?300:de,X=R.clockService,Ce=void 0===X?new k.ClockService:X,Pe=R.userInfoJwtIssuer,ie=void 0===Pe?"OP":Pe,ae=R.mergeClaims,Me=void 0!==ae&&ae,se=R.stateStore,Z=void 0===se?new A.WebStorageStateStore:se,Q=R.ResponseValidatorCtor,ve=void 0===Q?y.ResponseValidator:Q,je=R.MetadataServiceCtor,nt=void 0===je?E.MetadataService:je,at=R.extraQueryParams,bt=void 0===at?{}:at,Ot=R.extraTokenParams,It=void 0===Ot?{}:Ot;(function f(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")})(this,N),this._authority=L,this._metadataUrl=G,this._metadata=T,this._metadataSeed=U,this._signingKeys=V,this._client_id=ee,this._client_secret=te,this._response_type=j,this._scope=ue,this._redirect_uri=ne,this._post_logout_redirect_uri=z,this._client_authentication=pe,this._prompt=ye,this._display=Ee,this._max_age=Ie,this._ui_locales=Ge,this._acr_values=xe,this._resource=Be,this._response_mode=Xe,this._filterProtocolClaims=!!ot,this._loadUserInfo=!!ze,this._staleStateAge=At,this._clockSkew=W,this._clockService=Ce,this._userInfoJwtIssuer=ie,this._mergeClaims=!!Me,this._stateStore=Z,this._validator=new ve(this),this._metadataService=new nt(this),this._extraQueryParams="object"===(void 0===bt?"undefined":a(bt))?bt:{},this._extraTokenParams="object"===(void 0===It?"undefined":a(It))?It:{}}return N.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},m(N,[{key:"client_id",get:function(){return this._client_id},set:function(L){if(this._client_id)throw h.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=L}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(L){if(this._authority)throw h.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=L}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(v)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=v)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(L){this._metadata=L}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(L){this._metadataSeed=L}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(L){this._signingKeys=L}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(L){this._extraQueryParams="object"===(void 0===L?"undefined":a(L))?L:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(L){this._extraTokenParams="object"===(void 0===L?"undefined":a(L))?L:{}}}]),N}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebStorageStateStore=void 0;var a=M(0),m=M(1);b.WebStorageStateStore=function(){function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=A.prefix,E=void 0===y?"oidc.":y,f=A.store,v=void 0===f?m.Global.localStorage:f;(function h(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,k),this._store=v,this._prefix=E}return k.prototype.set=function(y,E){return a.Log.debug("WebStorageStateStore.set",y),this._store.setItem(y=this._prefix+y,E),Promise.resolve()},k.prototype.get=function(y){a.Log.debug("WebStorageStateStore.get",y);var E=this._store.getItem(y=this._prefix+y);return Promise.resolve(E)},k.prototype.remove=function(y){a.Log.debug("WebStorageStateStore.remove",y);var E=this._store.getItem(y=this._prefix+y);return this._store.removeItem(y),Promise.resolve(E)},k.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var y=[],E=0;E<this._store.length;E++){var f=this._store.key(E);0===f.indexOf(this._prefix)&&y.push(f.substr(this._prefix.length))}return Promise.resolve(y)},k}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonService=void 0;var a=M(0),m=M(1);b.JsonService=function(){function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Global.XMLHttpRequest,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function h(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,k),this._contentTypes=A&&Array.isArray(A)?A.slice():[],this._contentTypes.push("application/json"),E&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=y,this._jwtHandler=E}return k.prototype.getJson=function(y,E){var f=this;if(!y)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",y),new Promise(function(v,P){var F=new f._XMLHttpRequest;F.open("GET",y);var w=f._contentTypes,N=f._jwtHandler;F.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",F.status),200===F.status){var R=F.getResponseHeader("Content-Type");if(R){var L=w.find(function(G){if(R.startsWith(G))return!0});if("application/jwt"==L)return void N(F).then(v,P);if(L)try{return void v(JSON.parse(F.responseText))}catch(G){return a.Log.error("JsonService.getJson: Error parsing JSON response",G.message),void P(G)}}P(Error("Invalid response Content-Type: "+R+", from URL: "+y))}else P(Error(F.statusText+" ("+F.status+")"))},F.onerror=function(){a.Log.error("JsonService.getJson: network error"),P(Error("Network Error"))},E&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),F.setRequestHeader("Authorization","Bearer "+E)),F.send()})},k.prototype.postForm=function(y,E,f){var v=this;if(!y)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",y),new Promise(function(P,F){var w=new v._XMLHttpRequest;w.open("POST",y);var N=v._contentTypes;w.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",w.status),200!==w.status){if(400===w.status&&(V=w.getResponseHeader("Content-Type"))&&N.find(function(U){if(V.startsWith(U))return!0}))try{var T=JSON.parse(w.responseText);if(T&&T.error)return a.Log.error("JsonService.postForm: Error from server: ",T.error),void F(new Error(T.error))}catch(U){return a.Log.error("JsonService.postForm: Error parsing JSON response",U.message),void F(U)}F(Error(w.statusText+" ("+w.status+")"))}else{var V;if((V=w.getResponseHeader("Content-Type"))&&N.find(function(U){if(V.startsWith(U))return!0}))try{return void P(JSON.parse(w.responseText))}catch(U){return a.Log.error("JsonService.postForm: Error parsing JSON response",U.message),void F(U)}F(Error("Invalid response Content-Type: "+V+", from URL: "+y))}},w.onerror=function(){a.Log.error("JsonService.postForm: network error"),F(Error("Network Error"))};var R="";for(var L in E){var G=E[L];G&&(R.length>0&&(R+="&"),R+=encodeURIComponent(L),R+="=",R+=encodeURIComponent(G))}w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==f&&w.setRequestHeader("Authorization","Basic "+btoa(f)),w.send(R)})},k}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninRequest=void 0;var a=M(0),m=M(3),h=M(13);b.SigninRequest=function(){function k(A){var y=A.url,E=A.client_id,f=A.redirect_uri,v=A.response_type,P=A.scope,F=A.authority,w=A.data,N=A.prompt,R=A.display,L=A.max_age,G=A.ui_locales,T=A.id_token_hint,V=A.login_hint,U=A.acr_values,ee=A.resource,te=A.response_mode,K=A.request,j=A.request_uri,re=A.extraQueryParams,ue=A.request_type,ne=A.client_secret,z=A.extraTokenParams,q=A.skipUserInfo;if(function(Be,Xe){if(!(Be instanceof Xe))throw new TypeError("Cannot call a class as a function")}(this,k),!y)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!E)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!f)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!v)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!P)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!F)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var pe=k.isOidc(v),ye=k.isCode(v);te||(te=k.isCode(v)?"query":null),this.state=new h.SigninState({nonce:pe,data:w,client_id:E,authority:F,redirect_uri:f,code_verifier:ye,request_type:ue,response_mode:te,client_secret:ne,scope:P,extraTokenParams:z,skipUserInfo:q}),y=m.UrlUtility.addQueryParam(y,"client_id",E),y=m.UrlUtility.addQueryParam(y,"redirect_uri",f),y=m.UrlUtility.addQueryParam(y,"response_type",v),y=m.UrlUtility.addQueryParam(y,"scope",P),y=m.UrlUtility.addQueryParam(y,"state",this.state.id),pe&&(y=m.UrlUtility.addQueryParam(y,"nonce",this.state.nonce)),ye&&(y=m.UrlUtility.addQueryParam(y,"code_challenge",this.state.code_challenge),y=m.UrlUtility.addQueryParam(y,"code_challenge_method","S256"));var Ee={prompt:N,display:R,max_age:L,ui_locales:G,id_token_hint:T,login_hint:V,acr_values:U,resource:ee,request:K,request_uri:j,response_mode:te};for(var Ie in Ee)Ee[Ie]&&(y=m.UrlUtility.addQueryParam(y,Ie,Ee[Ie]));for(var Ge in re)y=m.UrlUtility.addQueryParam(y,Ge,re[Ge]);this.url=y}return k.isOidc=function(y){return!!y.split(/\s+/g).filter(function(E){return"id_token"===E})[0]},k.isOAuth=function(y){return!!y.split(/\s+/g).filter(function(E){return"token"===E})[0]},k.isCode=function(y){return!!y.split(/\s+/g).filter(function(E){return"code"===E})[0]},k}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.State=void 0;var y,a=function(){function A(y,E){for(var f=0;f<E.length;f++){var v=E[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,E,f){return E&&A(y.prototype,E),f&&A(y,f),y}}(),m=M(0),h=(y=M(14))&&y.__esModule?y:{default:y};b.State=function(){function A(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.id,f=y.data,v=y.created,P=y.request_type;(function k(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,A),this._id=E||(0,h.default)(),this._data=f,this._created="number"==typeof v&&v>0?v:parseInt(Date.now()/1e3),this._request_type=P}return A.prototype.toStorageString=function(){return m.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},A.fromStorageString=function(E){return m.Log.debug("State.fromStorageString"),new A(JSON.parse(E))},A.clearStaleState=function(E,f){var v=Date.now()/1e3-f;return E.getAllKeys().then(function(P){m.Log.debug("State.clearStaleState: got keys",P);for(var F=[],w=function(G){var T=P[G];R=E.get(T).then(function(V){var U=!1;if(V)try{var ee=A.fromStorageString(V);m.Log.debug("State.clearStaleState: got item from key: ",T,ee.created),ee.created<=v&&(U=!0)}catch(te){m.Log.error("State.clearStaleState: Error parsing state for key",T,te.message),U=!0}else m.Log.debug("State.clearStaleState: no item in storage for key: ",T),U=!0;if(U)return m.Log.debug("State.clearStaleState: removed item for key: ",T),E.remove(T)}),F.push(R)},N=0;N<P.length;N++){var R;w(N)}return m.Log.debug("State.clearStaleState: waiting on promise count:",F.length),Promise.all(F)})},a(A,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),A}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClient=void 0;var a=function(){function w(N,R){for(var L=0;L<R.length;L++){var G=R[L];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(N,G.key,G)}}return function(N,R,L){return R&&w(N.prototype,R),L&&w(N,L),N}}(),m=M(0),h=M(5),k=M(12),A=M(8),y=M(34),E=M(35),f=M(36),v=M(13),P=M(9);b.OidcClient=function(){function w(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function F(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")})(this,w),this._settings=N instanceof h.OidcClientSettings?N:new h.OidcClientSettings(N)}return w.prototype.createSigninRequest=function(){var R=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=L.response_type,T=L.scope,V=L.redirect_uri,U=L.data,ee=L.state,te=L.prompt,K=L.display,j=L.max_age,re=L.ui_locales,ue=L.id_token_hint,ne=L.login_hint,z=L.acr_values,q=L.resource,pe=L.request,ye=L.request_uri,Ee=L.response_mode,Ie=L.extraQueryParams,Ge=L.extraTokenParams,xe=L.request_type,Be=L.skipUserInfo,Xe=arguments[1];m.Log.debug("OidcClient.createSigninRequest");var Ze=this._settings.client_id;T=T||this._settings.scope,V=V||this._settings.redirect_uri,te=te||this._settings.prompt,K=K||this._settings.display,j=j||this._settings.max_age,re=re||this._settings.ui_locales,z=z||this._settings.acr_values,q=q||this._settings.resource,Ee=Ee||this._settings.response_mode,Ie=Ie||this._settings.extraQueryParams,Ge=Ge||this._settings.extraTokenParams;var ot=this._settings.authority;return A.SigninRequest.isCode(G=G||this._settings.response_type)&&"code"!==G?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(vt){m.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",vt);var ze=new A.SigninRequest({url:vt,client_id:Ze,redirect_uri:V,response_type:G,scope:T,data:U||ee,authority:ot,prompt:te,display:K,max_age:j,ui_locales:re,id_token_hint:ue,login_hint:ne,acr_values:z,resource:q,request:pe,request_uri:ye,extraQueryParams:Ie,extraTokenParams:Ge,request_type:xe,response_mode:Ee,client_secret:R._settings.client_secret,skipUserInfo:Be}),Ye=ze.state;return(Xe=Xe||R._stateStore).set(Ye.id,Ye.toStorageString()).then(function(){return ze})})},w.prototype.readSigninResponseState=function(R,L){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m.Log.debug("OidcClient.readSigninResponseState");var T="query"===this._settings.response_mode||!this._settings.response_mode&&A.SigninRequest.isCode(this._settings.response_type),U=new y.SigninResponse(R,T?"?":"#");return U.state?(L=L||this._stateStore,(G?L.remove.bind(L):L.get.bind(L))(U.state).then(function(te){if(!te)throw m.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.SigninState.fromStorageString(te),response:U}})):(m.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},w.prototype.processSigninResponse=function(R,L){var G=this;return m.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(R,L,!0).then(function(T){var V=T.state,U=T.response;return m.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),G._validator.validateSigninResponse(V,U)})},w.prototype.createSignoutRequest=function(){var R=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=L.id_token_hint,T=L.data,V=L.state,U=L.post_logout_redirect_uri,ee=L.extraQueryParams,te=L.request_type,K=arguments[1];return m.Log.debug("OidcClient.createSignoutRequest"),U=U||this._settings.post_logout_redirect_uri,ee=ee||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(j){if(!j)throw m.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");m.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",j);var re=new E.SignoutRequest({url:j,id_token_hint:G,post_logout_redirect_uri:U,data:T||V,extraQueryParams:ee,request_type:te}),ue=re.state;return ue&&(m.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(K=K||R._stateStore).set(ue.id,ue.toStorageString())),re})},w.prototype.readSignoutResponseState=function(R,L){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m.Log.debug("OidcClient.readSignoutResponseState");var T=new f.SignoutResponse(R);if(!T.state)return m.Log.debug("OidcClient.readSignoutResponseState: No state in response"),T.error?(m.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",T.error),Promise.reject(new k.ErrorResponse(T))):Promise.resolve({state:void 0,response:T});var V=T.state;return L=L||this._stateStore,(G?L.remove.bind(L):L.get.bind(L))(V).then(function(ee){if(!ee)throw m.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:P.State.fromStorageString(ee),response:T}})},w.prototype.processSignoutResponse=function(R,L){var G=this;return m.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(R,L,!0).then(function(T){var V=T.state,U=T.response;return V?(m.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),G._validator.validateSignoutResponse(V,U)):(m.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),U)})},w.prototype.clearStaleState=function(R){return m.Log.debug("OidcClient.clearStaleState"),P.State.clearStaleState(R=R||this._stateStore,this.settings.staleStateAge)},a(w,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),w}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenClient=void 0;var a=M(7),m=M(2),h=M(0);b.TokenClient=function(){function A(y){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.MetadataService;if(function k(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,A),!y)throw h.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new E,this._metadataService=new f(this._settings)}return A.prototype.exchangeCode=function(){var E=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(f=Object.assign({},f)).grant_type=f.grant_type||"authorization_code",f.client_id=f.client_id||this._settings.client_id,f.client_secret=f.client_secret||this._settings.client_secret,f.redirect_uri=f.redirect_uri||this._settings.redirect_uri;var v=void 0,P=f._client_authentication||this._settings._client_authentication;return delete f._client_authentication,f.code?f.redirect_uri?f.code_verifier?f.client_id?f.client_secret||"client_secret_basic"!=P?("client_secret_basic"==P&&(v=f.client_id+":"+f.client_secret,delete f.client_id,delete f.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(F){return h.Log.debug("TokenClient.exchangeCode: Received token endpoint"),E._jsonService.postForm(F,f,v).then(function(w){return h.Log.debug("TokenClient.exchangeCode: response received"),w})})):(h.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(h.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(h.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(h.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(h.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},A.prototype.exchangeRefreshToken=function(){var E=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(f=Object.assign({},f)).grant_type=f.grant_type||"refresh_token",f.client_id=f.client_id||this._settings.client_id,f.client_secret=f.client_secret||this._settings.client_secret;var v=void 0,P=f._client_authentication||this._settings._client_authentication;return delete f._client_authentication,f.refresh_token?f.client_id?("client_secret_basic"==P&&(v=f.client_id+":"+f.client_secret,delete f.client_id,delete f.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(F){return h.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),E._jsonService.postForm(F,f,v).then(function(w){return h.Log.debug("TokenClient.exchangeRefreshToken: response received"),w})})):(h.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(h.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},A}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ErrorResponse=void 0;var a=M(0);b.ErrorResponse=function(k){function A(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.error,f=y.error_description,v=y.error_uri,P=y.state,F=y.session_state;if(function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),!E)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var w=function h(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}(this,k.call(this,f||E));return w.name="ErrorResponse",w.error=E,w.error_description=f,w.error_uri=v,w.state=P,w.session_state=F,w}return function(E,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);E.prototype=Object.create(f&&f.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(E,f):E.__proto__=f)}(A,k),A}(Error)},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninState=void 0;var v,a=function(){function f(v,P){for(var F=0;F<P.length;F++){var w=P[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,P,F){return P&&f(v.prototype,P),F&&f(v,F),v}}(),m=M(0),h=M(9),k=M(4),A=(v=M(14))&&v.__esModule?v:{default:v};b.SigninState=function(f){function v(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=P.nonce,w=P.authority,N=P.client_id,R=P.redirect_uri,L=P.code_verifier,G=P.response_mode,T=P.client_secret,V=P.scope,U=P.extraTokenParams,ee=P.skipUserInfo;!function y(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var te=function E(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?f:v}(this,f.call(this,arguments[0]));if(!0===F?te._nonce=(0,A.default)():F&&(te._nonce=F),!0===L?te._code_verifier=(0,A.default)()+(0,A.default)()+(0,A.default)():L&&(te._code_verifier=L),te.code_verifier){var K=k.JoseUtil.hashString(te.code_verifier,"SHA256");te._code_challenge=k.JoseUtil.hexToBase64Url(K)}return te._redirect_uri=R,te._authority=w,te._client_id=N,te._response_mode=G,te._client_secret=T,te._scope=V,te._extraTokenParams=U,te._skipUserInfo=ee,te}return function(F,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);F.prototype=Object.create(w&&w.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(F,w):F.__proto__=w)}(v,f),v.prototype.toStorageString=function(){return m.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},v.fromStorageString=function(F){return m.Log.debug("SigninState.fromStorageString"),new v(JSON.parse(F))},a(v,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),v}(h.State)},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(){return("undefined"!=a&&null!==a&&void 0!==a.getRandomValues?m:h)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function m(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(k){return(k^a.getRandomValues(new Uint8Array(1))[0]&15>>k/4).toString(16)})}function h(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(k){return(k^16*Math.random()>>k/4).toString(16)})}oe.exports=b.default},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.User=void 0;var a=function(){function h(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&h(k.prototype,A),y&&h(k,y),k}}(),m=M(0);b.User=function(){function h(k){var A=k.id_token,y=k.session_state,E=k.access_token,f=k.refresh_token,v=k.token_type,P=k.scope,F=k.profile,w=k.expires_at,N=k.state;(function(L,G){if(!(L instanceof G))throw new TypeError("Cannot call a class as a function")})(this,h),this.id_token=A,this.session_state=y,this.access_token=E,this.refresh_token=f,this.token_type=v,this.scope=P,this.profile=F,this.expires_at=w,this.state=N}return h.prototype.toStorageString=function(){return m.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},h.fromStorageString=function(A){return m.Log.debug("User.fromStorageString"),new h(JSON.parse(A))},a(h,[{key:"expires_in",get:function(){if(this.expires_at){var A=parseInt(Date.now()/1e3);return this.expires_at-A}},set:function(A){var y=parseInt(A);if("number"==typeof y&&y>0){var E=parseInt(Date.now()/1e3);this.expires_at=E+y}}},{key:"expired",get:function(){var A=this.expires_in;if(void 0!==A)return A<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AccessTokenEvents=void 0;var a=M(0),m=M(46);b.AccessTokenEvents=function(){function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=A.accessTokenExpiringNotificationTime,E=void 0===y?60:y,f=A.accessTokenExpiringTimer,v=void 0===f?new m.Timer("Access token expiring"):f,P=A.accessTokenExpiredTimer,F=void 0===P?new m.Timer("Access token expired"):P;(function h(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")})(this,k),this._accessTokenExpiringNotificationTime=E,this._accessTokenExpiring=v,this._accessTokenExpired=F}return k.prototype.load=function(y){if(y.access_token&&void 0!==y.expires_in){var E=y.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",E),E>0){var f=E-this._accessTokenExpiringNotificationTime;f<=0&&(f=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",f),this._accessTokenExpiring.init(f)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var v=E+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",v),this._accessTokenExpired.init(v)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},k.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},k.prototype.addAccessTokenExpiring=function(y){this._accessTokenExpiring.addHandler(y)},k.prototype.removeAccessTokenExpiring=function(y){this._accessTokenExpiring.removeHandler(y)},k.prototype.addAccessTokenExpired=function(y){this._accessTokenExpired.addHandler(y)},k.prototype.removeAccessTokenExpired=function(y){this._accessTokenExpired.removeHandler(y)},k}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Event=void 0;var a=M(0);b.Event=function(){function m(h){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,m),this._name=h,this._callbacks=[]}return m.prototype.addHandler=function(k){this._callbacks.push(k)},m.prototype.removeHandler=function(k){var A=this._callbacks.findIndex(function(y){return y===k});A>=0&&this._callbacks.splice(A,1)},m.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var k=0;k<this._callbacks.length;k++){var A;(A=this._callbacks)[k].apply(A,arguments)}},m}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SessionMonitor=void 0;var a=function(){function y(E,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,f,v){return f&&y(E.prototype,f),v&&y(E,v),E}}(),m=M(0),h=M(19),k=M(1);b.SessionMonitor=function(){function y(E){var f=this,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.CheckSessionIFrame,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Global.timer;if(function A(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw m.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=E,this._CheckSessionIFrameCtor=v,this._timer=P,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(F){F?f._start(F):f._settings.monitorAnonymousSession&&f._userManager.querySessionStatus().then(function(w){var N={session_state:w.session_state};w.sub&&w.sid&&(N.profile={sub:w.sub,sid:w.sid}),f._start(N)}).catch(function(w){m.Log.error("SessionMonitor ctor: error from querySessionStatus:",w.message)})}).catch(function(F){m.Log.error("SessionMonitor ctor: error from getUser:",F.message)}))}return y.prototype._start=function(f){var v=this,P=f.session_state;P&&(f.profile?(this._sub=f.profile.sub,this._sid=f.profile.sid,m.Log.debug("SessionMonitor._start: session_state:",P,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,m.Log.debug("SessionMonitor._start: session_state:",P,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(P):this._metadataService.getCheckSessionIframe().then(function(F){if(F){m.Log.debug("SessionMonitor._start: Initializing check session iframe");var w=v._client_id,N=v._checkSessionInterval,R=v._stopCheckSessionOnError;v._checkSessionIFrame=new v._CheckSessionIFrameCtor(v._callback.bind(v),w,F,N,R),v._checkSessionIFrame.load().then(function(){v._checkSessionIFrame.start(P)})}else m.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(F){m.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",F.message)}))},y.prototype._stop=function(){var f=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(m.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var v=this._timer.setInterval(function(){f._timer.clearInterval(v),f._userManager.querySessionStatus().then(function(P){var F={session_state:P.session_state};P.sub&&P.sid&&(F.profile={sub:P.sub,sid:P.sid}),f._start(F)}).catch(function(P){m.Log.error("SessionMonitor: error from querySessionStatus:",P.message)})},1e3)},y.prototype._callback=function(){var f=this;this._userManager.querySessionStatus().then(function(v){var P=!0;v?v.sub===f._sub?(P=!1,f._checkSessionIFrame.start(v.session_state),v.sid===f._sid?m.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",v.session_state):(m.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",v.session_state),f._userManager.events._raiseUserSessionChanged())):m.Log.debug("SessionMonitor._callback: Different subject signed into OP:",v.sub):m.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),P&&(f._sub?(m.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),f._userManager.events._raiseUserSignedOut()):(m.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),f._userManager.events._raiseUserSignedIn()))}).catch(function(v){f._sub&&(m.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",v.message),f._userManager.events._raiseUserSignedOut())})},a(y,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),y}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CheckSessionIFrame=void 0;var a=M(0);b.CheckSessionIFrame=function(){function h(k,A,y,E){var f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function m(h,k){if(!(h instanceof k))throw new TypeError("Cannot call a class as a function")})(this,h),this._callback=k,this._client_id=A,this._url=y,this._interval=E||2e3,this._stopOnError=f;var v=y.indexOf("/",y.indexOf("//")+2);this._frame_origin=y.substr(0,v),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=y}return h.prototype.load=function(){var A=this;return new Promise(function(y){A._frame.onload=function(){y()},window.document.body.appendChild(A._frame),A._boundMessageEvent=A._message.bind(A),window.addEventListener("message",A._boundMessageEvent,!1)})},h.prototype._message=function(A){A.origin===this._frame_origin&&A.source===this._frame.contentWindow&&("error"===A.data?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===A.data?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+A.data+" message from check session op iframe"))},h.prototype.start=function(A){var y=this;if(this._session_state!==A){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=A;var E=function(){y._frame.contentWindow.postMessage(y._client_id+" "+y._session_state,y._frame_origin)};E(),this._timer=window.setInterval(E,this._interval)}},h.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenRevocationClient=void 0;var a=M(0),m=M(2),h=M(1);b.TokenRevocationClient=function(){function E(f){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.Global.XMLHttpRequest,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.MetadataService;if(function k(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")}(this,E),!f)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=f,this._XMLHttpRequestCtor=v,this._metadataService=new P(this._settings)}return E.prototype.revoke=function(v,P){var F=this,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!v)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==w&&"refresh_token"!=w)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(N){if(N)return a.Log.debug("TokenRevocationClient.revoke: Revoking "+w),F._revoke(N,F._settings.client_id,F._settings.client_secret,v,w);if(P)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},E.prototype._revoke=function(v,P,F,w,N){var R=this;return new Promise(function(L,G){var T=new R._XMLHttpRequestCtor;T.open("POST",v),T.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",T.status),200===T.status?L():G(Error(T.statusText+" ("+T.status+")"))},T.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),G("Network Error")};var V="client_id="+encodeURIComponent(P);F&&(V+="&client_secret="+encodeURIComponent(F)),V+="&token_type_hint="+encodeURIComponent(N),V+="&token="+encodeURIComponent(w),T.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),T.send(V)})},E}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupWindow=void 0;var a=function(){function h(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&h(k.prototype,A),y&&h(k,y),k}}(),m=M(0);b.CordovaPopupWindow=function(){function h(k){var A=this;(function(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")})(this,h),this._promise=new Promise(function(y,E){A._resolve=y,A._reject=E}),this.features=k.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=k.popupWindowTarget||"_blank",this.redirect_uri=k.startUrl,m.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return h.prototype._isInAppBrowserInstalled=function(A){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(y){return A.hasOwnProperty(y)})},h.prototype.navigate=function(A){if(A&&A.url){if(!window.cordova)return this._error("cordova is undefined");var y=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(y))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(A.url,this.target,this.features),this._popup?(m.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},h.prototype._loadStartCallback=function(A){0===A.url.indexOf(this.redirect_uri)&&this._success({url:A.url})},h.prototype._exitCallback=function(A){this._error(A)},h.prototype._success=function(A){this._cleanup(),m.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(A)},h.prototype._error=function(A){this._cleanup(),m.Log.error(A),this._reject(new Error(A))},h.prototype.close=function(){this._cleanup()},h.prototype._cleanup=function(){this._popup&&(m.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(h,[{key:"promise",get:function(){return this._promise}}]),h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=M(0),m=M(10),h=M(5),k=M(6),A=M(37),y=M(38),E=M(16),f=M(2),v=M(48),P=M(49),F=M(19),w=M(20),N=M(18),R=M(1),L=M(15),G=M(50);b.default={Version:G.Version,Log:a.Log,OidcClient:m.OidcClient,OidcClientSettings:h.OidcClientSettings,WebStorageStateStore:k.WebStorageStateStore,InMemoryWebStorage:A.InMemoryWebStorage,UserManager:y.UserManager,AccessTokenEvents:E.AccessTokenEvents,MetadataService:f.MetadataService,CordovaPopupNavigator:v.CordovaPopupNavigator,CordovaIFrameNavigator:P.CordovaIFrameNavigator,CheckSessionIFrame:F.CheckSessionIFrame,TokenRevocationClient:w.TokenRevocationClient,SessionMonitor:N.SessionMonitor,Global:R.Global,User:L.User},oe.exports=b.default},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClockService=function(){function a(){!function(h,k){if(!(h instanceof k))throw new TypeError("Cannot call a class as a function")}(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResponseValidator=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},m=M(0),h=M(2),k=M(25),A=M(11),y=M(12),E=M(4);var v=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];b.ResponseValidator=function(){function P(F){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.MetadataService,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.UserInfoService,R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.JoseUtil,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A.TokenClient;if(function f(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}(this,P),!F)throw m.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=F,this._metadataService=new w(this._settings),this._userInfoService=new N(this._settings),this._joseUtil=R,this._tokenClient=new L(this._settings)}return P.prototype.validateSigninResponse=function(w,N){var R=this;return m.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(w,N).then(function(L){return m.Log.debug("ResponseValidator.validateSigninResponse: state processed"),R._validateTokens(w,L).then(function(G){return m.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),R._processClaims(w,G).then(function(T){return m.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),T})})})},P.prototype.validateSignoutResponse=function(w,N){return w.id!==N.state?(m.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(m.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),N.state=w.data,N.error?(m.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",N.error),Promise.reject(new y.ErrorResponse(N))):Promise.resolve(N))},P.prototype._processSigninParams=function(w,N){if(w.id!==N.state)return m.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!w.client_id)return m.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!w.authority)return m.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==w.authority)return m.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=w.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==w.client_id)return m.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=w.client_id;return m.Log.debug("ResponseValidator._processSigninParams: state validated"),N.state=w.data,N.error?(m.Log.warn("ResponseValidator._processSigninParams: Response was error",N.error),Promise.reject(new y.ErrorResponse(N))):w.nonce&&!N.id_token?(m.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!w.nonce&&N.id_token?(m.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):w.code_verifier&&!N.code?(m.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!w.code_verifier&&N.code?(m.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(N.scope||(N.scope=w.scope),Promise.resolve(N))},P.prototype._processClaims=function(w,N){var R=this;if(N.isOpenIdConnect){if(m.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),N.profile=this._filterProtocolClaims(N.profile),!0!==w.skipUserInfo&&this._settings.loadUserInfo&&N.access_token)return m.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(N.access_token).then(function(L){return m.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),L.sub!==N.profile.sub?(m.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(N.profile=R._mergeClaims(N.profile,L),m.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",N.profile),N)});m.Log.debug("ResponseValidator._processClaims: not loading user info")}else m.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(N)},P.prototype._mergeClaims=function(w,N){var R=Object.assign({},w);for(var L in N){var G=N[L];Array.isArray(G)||(G=[G]);for(var T=0;T<G.length;T++){var V=G[T];R[L]?Array.isArray(R[L])?R[L].indexOf(V)<0&&R[L].push(V):R[L]!==V&&(R[L]="object"===(void 0===V?"undefined":a(V))&&this._settings.mergeClaims?this._mergeClaims(R[L],V):[R[L],V]):R[L]=V}}return R},P.prototype._filterProtocolClaims=function(w){m.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",w);var N=Object.assign({},w);return this._settings._filterProtocolClaims?(v.forEach(function(R){delete N[R]}),m.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",N)):m.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),N},P.prototype._validateTokens=function(w,N){return N.code?(m.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(w,N)):N.id_token?N.access_token?(m.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(w,N)):(m.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(w,N)):(m.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(N))},P.prototype._processCode=function(w,N){var R=this,L={client_id:w.client_id,client_secret:w.client_secret,code:N.code,redirect_uri:w.redirect_uri,code_verifier:w.code_verifier};return w.extraTokenParams&&"object"===a(w.extraTokenParams)&&Object.assign(L,w.extraTokenParams),this._tokenClient.exchangeCode(L).then(function(G){for(var T in G)N[T]=G[T];return N.id_token?(m.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),R._validateIdTokenAttributes(w,N)):(m.Log.debug("ResponseValidator._processCode: token response successful, returning response"),N)})},P.prototype._validateIdTokenAttributes=function(w,N){var R=this;return this._metadataService.getIssuer().then(function(L){var G=w.client_id,T=R._settings.clockSkew;return m.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",T),R._settings.getEpochTime().then(function(V){return R._joseUtil.validateJwtAttributes(N.id_token,L,G,T,V).then(function(U){return w.nonce&&w.nonce!==U.nonce?(m.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):U.sub?(N.profile=U,N):(m.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},P.prototype._validateIdTokenAndAccessToken=function(w,N){var R=this;return this._validateIdToken(w,N).then(function(L){return R._validateAccessToken(L)})},P.prototype._getSigningKeyForJwt=function(w){var N=this;return this._metadataService.getSigningKeys().then(function(R){var L=w.header.kid;if(!R)return m.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));m.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var G=void 0;if(L)G=R.filter(function(T){return T.kid===L})[0];else{if((R=N._filterByAlg(R,w.header.alg)).length>1)return m.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));G=R[0]}return Promise.resolve(G)})},P.prototype._getSigningKeyForJwtWithSingleRetry=function(w){var N=this;return this._getSigningKeyForJwt(w).then(function(R){return R?Promise.resolve(R):(N._metadataService.resetSigningKeys(),N._getSigningKeyForJwt(w))})},P.prototype._validateIdToken=function(w,N){var R=this;if(!w.nonce)return m.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var L=this._joseUtil.parseJwt(N.id_token);return L&&L.header&&L.payload?w.nonce!==L.payload.nonce?(m.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(G){return m.Log.debug("ResponseValidator._validateIdToken: Received issuer"),R._getSigningKeyForJwtWithSingleRetry(L).then(function(T){if(!T)return m.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var V=w.client_id,U=R._settings.clockSkew;return m.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",U),R._joseUtil.validateJwt(N.id_token,T,G,V,U).then(function(){return m.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),L.payload.sub?(N.profile=L.payload,N):(m.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(m.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",L),Promise.reject(new Error("Failed to parse id_token")))},P.prototype._filterByAlg=function(w,N){var R=null;if(N.startsWith("RS"))R="RSA";else if(N.startsWith("PS"))R="PS";else{if(!N.startsWith("ES"))return m.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",N),[];R="EC"}return m.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",R),w=w.filter(function(L){return L.kty===R}),m.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",R,w.length),w},P.prototype._validateAccessToken=function(w){if(!w.profile)return m.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!w.profile.at_hash)return m.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!w.id_token)return m.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var N=this._joseUtil.parseJwt(w.id_token);if(!N||!N.header)return m.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",N),Promise.reject(new Error("Failed to parse id_token"));var R=N.header.alg;if(!R||5!==R.length)return m.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",R),Promise.reject(new Error("Unsupported alg: "+R));var L=R.substr(2,3);if(!L)return m.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",R,L),Promise.reject(new Error("Unsupported alg: "+R));if(256!==(L=parseInt(L))&&384!==L&&512!==L)return m.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",R,L),Promise.reject(new Error("Unsupported alg: "+R));var G="sha"+L,T=this._joseUtil.hashString(w.access_token,G);if(!T)return m.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",G),Promise.reject(new Error("Failed to validate at_hash"));var V=T.substr(0,T.length/2),U=this._joseUtil.hexToBase64Url(V);return U!==w.profile.at_hash?(m.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",U,w.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(m.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(w))},P}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserInfoService=void 0;var a=M(7),m=M(2),h=M(0),k=M(4);b.UserInfoService=function(){function y(E){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.MetadataService,P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.JoseUtil;if(function A(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw h.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=E,this._jsonService=new f(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new v(this._settings),this._joseUtil=P}return y.prototype.getClaims=function(f){var v=this;return f?this._metadataService.getUserInfoEndpoint().then(function(P){return h.Log.debug("UserInfoService.getClaims: received userinfo url",P),v._jsonService.getJson(P,f).then(function(F){return h.Log.debug("UserInfoService.getClaims: claims received",F),F})}):(h.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},y.prototype._getClaimsFromJwt=function(f){var v=this;try{var P=this._joseUtil.parseJwt(f.responseText);if(!P||!P.header||!P.payload)return h.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",P),Promise.reject(new Error("Failed to parse id_token"));var F=P.header.kid,w=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":w=this._metadataService.getIssuer();break;case"ANY":w=Promise.resolve(P.payload.iss);break;default:w=Promise.resolve(this._settings.userInfoJwtIssuer)}return w.then(function(N){return h.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+N),v._metadataService.getSigningKeys().then(function(R){if(!R)return h.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));h.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var L=void 0;if(F)L=R.filter(function(V){return V.kid===F})[0];else{if((R=v._filterByAlg(R,P.header.alg)).length>1)return h.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));L=R[0]}if(!L)return h.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var G=v._settings.client_id,T=v._settings.clockSkew;return h.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",T),v._joseUtil.validateJwt(f.responseText,L,N,G,T,void 0,!0).then(function(){return h.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),P.payload})})})}catch(N){return h.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",N.message),void reject(N)}},y.prototype._filterByAlg=function(f,v){var P=null;if(v.startsWith("RS"))P="RSA";else if(v.startsWith("PS"))P="PS";else{if(!v.startsWith("ES"))return h.Log.debug("UserInfoService._filterByAlg: alg not supported: ",v),[];P="EC"}return h.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",P),f=f.filter(function(F){return F.kty===P}),h.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",P,f.length),f},y}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AllowedSigningAlgs=b.b64tohex=b.hextob64u=b.crypto=b.X509=b.KeyUtil=b.jws=void 0;var a=M(27);b.jws=a.jws,b.KeyUtil=a.KEYUTIL,b.X509=a.X509,b.crypto=a.crypto,b.hextob64u=a.hextob64u,b.b64tohex=a.b64tohex,b.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(oe,b,M){"use strict";(function(a){Object.defineProperty(b,"__esModule",{value:!0});var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h={userAgent:!1},k={};if(void 0===A)var A={};A.lang={extend:function(C,D,O){if(!D||!C)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var H=function(){};if(H.prototype=D.prototype,C.prototype=new H,C.prototype.constructor=C,C.superclass=D.prototype,D.prototype.constructor==Object.prototype.constructor&&(D.prototype.constructor=D),O){var J;for(J in O)C.prototype[J]=O[J];var ce=function(){},Ae=["toString","valueOf"];try{/MSIE/.test(h.userAgent)&&(ce=function(De,Fe){for(J=0;J<Ae.length;J+=1){var c=Ae[J],Ne=Fe[c];"function"==typeof Ne&&Ne!=Object.prototype[c]&&(De[c]=Ne)}})}catch{}ce(C.prototype,O)}}};var y,E,f,v,P,F,w,N,R,L,G,C,D,O,H,T=T||(y=Math,f=(E={}).lib={},v=f.Base=function(){function x(){}return{extend:function(D){x.prototype=this;var O=new x;return D&&O.mixIn(D),O.hasOwnProperty("init")||(O.init=function(){O.$super.init.apply(this,arguments)}),O.init.prototype=O,O.$super=this,O},create:function(){var D=this.extend();return D.init.apply(D,arguments),D},init:function(){},mixIn:function(D){for(var O in D)D.hasOwnProperty(O)&&(this[O]=D[O]);D.hasOwnProperty("toString")&&(this.toString=D.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),P=f.WordArray=v.extend({init:function(C,D){C=this.words=C||[],this.sigBytes=D??4*C.length},toString:function(C){return(C||w).stringify(this)},concat:function(C){var D=this.words,O=C.words,H=this.sigBytes,J=C.sigBytes;if(this.clamp(),H%4)for(var ce=0;ce<J;ce++)D[H+ce>>>2]|=(O[ce>>>2]>>>24-ce%4*8&255)<<24-(H+ce)%4*8;else for(ce=0;ce<J;ce+=4)D[H+ce>>>2]=O[ce>>>2];return this.sigBytes+=J,this},clamp:function(){var C=this.words,D=this.sigBytes;C[D>>>2]&=4294967295<<32-D%4*8,C.length=y.ceil(D/4)},clone:function(){var C=v.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var D=[],O=0;O<C;O+=4)D.push(4294967296*y.random()|0);return new P.init(D,C)}}),F=E.enc={},w=F.Hex={stringify:function(C){for(var D=C.words,O=C.sigBytes,H=[],J=0;J<O;J++){var ce=D[J>>>2]>>>24-J%4*8&255;H.push((ce>>>4).toString(16)),H.push((15&ce).toString(16))}return H.join("")},parse:function(C){for(var D=C.length,O=[],H=0;H<D;H+=2)O[H>>>3]|=parseInt(C.substr(H,2),16)<<24-H%8*4;return new P.init(O,D/2)}},N=F.Latin1={stringify:function(C){for(var D=C.words,O=C.sigBytes,H=[],J=0;J<O;J++)H.push(String.fromCharCode(D[J>>>2]>>>24-J%4*8&255));return H.join("")},parse:function(C){for(var D=C.length,O=[],H=0;H<D;H++)O[H>>>2]|=(255&C.charCodeAt(H))<<24-H%4*8;return new P.init(O,D)}},R=F.Utf8={stringify:function(C){try{return decodeURIComponent(escape(N.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return N.parse(unescape(encodeURIComponent(C)))}},L=f.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(C){"string"==typeof C&&(C=R.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var D=this._data,O=D.words,H=D.sigBytes,J=this.blockSize,ce=H/(4*J),Ae=(ce=C?y.ceil(ce):y.max((0|ce)-this._minBufferSize,0))*J,_e=y.min(4*Ae,H);if(Ae){for(var De=0;De<Ae;De+=J)this._doProcessBlock(O,De);var Fe=O.splice(0,Ae);D.sigBytes-=_e}return new P.init(Fe,_e)},clone:function(){var C=v.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),f.Hasher=L.extend({cfg:v.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){L.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(D,O){return new C.init(O).finalize(D)}},_createHmacHelper:function(C){return function(D,O){return new G.HMAC.init(C,O).finalize(D)}}}),G=E.algo={},E);D=(C=T).lib,O=D.Base,H=D.WordArray,(C=C.x64={}).Word=O.extend({init:function(ce,Ae){this.high=ce,this.low=Ae}}),C.WordArray=O.extend({init:function(ce,Ae){ce=this.words=ce||[],this.sigBytes=Ae??8*ce.length},toX32:function(){for(var ce=this.words,Ae=ce.length,_e=[],De=0;De<Ae;De++){var Fe=ce[De];_e.push(Fe.high),_e.push(Fe.low)}return H.create(_e,this.sigBytes)},clone:function(){for(var ce=O.clone.call(this),Ae=ce.words=this.words.slice(0),_e=Ae.length,De=0;De<_e;De++)Ae[De]=Ae[De].clone();return ce}}),function(){var C=T.lib.WordArray;T.enc.Base64={stringify:function(O){var H=O.words,J=O.sigBytes,ce=this._map;O.clamp(),O=[];for(var Ae=0;Ae<J;Ae+=3)for(var _e=(H[Ae>>>2]>>>24-Ae%4*8&255)<<16|(H[Ae+1>>>2]>>>24-(Ae+1)%4*8&255)<<8|H[Ae+2>>>2]>>>24-(Ae+2)%4*8&255,De=0;4>De&&Ae+.75*De<J;De++)O.push(ce.charAt(_e>>>6*(3-De)&63));if(H=ce.charAt(64))for(;O.length%4;)O.push(H);return O.join("")},parse:function(O){var H=O.length,J=this._map;(ce=J.charAt(64))&&-1!=(ce=O.indexOf(ce))&&(H=ce);for(var ce=[],Ae=0,_e=0;_e<H;_e++)if(_e%4){var De=J.indexOf(O.charAt(_e-1))<<_e%4*2,Fe=J.indexOf(O.charAt(_e))>>>6-_e%4*2;ce[Ae>>>2]|=(De|Fe)<<24-Ae%4*8,Ae++}return C.create(ce,Ae)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(x){for(var C=T,D=(H=C.lib).WordArray,O=H.Hasher,H=C.algo,J=[],ce=[],Ae=function(rt){return 4294967296*(rt-(0|rt))|0},_e=2,De=0;64>De;){var Fe;e:{for(var c=x.sqrt(Fe=_e),Ne=2;Ne<=c;Ne++)if(!(Fe%Ne)){Fe=!1;break e}Fe=!0}Fe&&(8>De&&(J[De]=Ae(x.pow(_e,.5))),ce[De]=Ae(x.pow(_e,1/3)),De++),_e++}var He=[];H=H.SHA256=O.extend({_doReset:function(){this._hash=new D.init(J.slice(0))},_doProcessBlock:function(rt,tt){for(var he=this._hash.words,Re=he[0],Oe=he[1],Le=he[2],et=he[3],st=he[4],Kt=he[5],Pt=he[6],xn=he[7],Ut=0;64>Ut;Ut++){if(16>Ut)He[Ut]=0|rt[tt+Ut];else{var Zt=He[Ut-15],er=He[Ut-2];He[Ut]=((Zt<<25|Zt>>>7)^(Zt<<14|Zt>>>18)^Zt>>>3)+He[Ut-7]+((er<<15|er>>>17)^(er<<13|er>>>19)^er>>>10)+He[Ut-16]}Zt=xn+((st<<26|st>>>6)^(st<<21|st>>>11)^(st<<7|st>>>25))+(st&Kt^~st&Pt)+ce[Ut]+He[Ut],er=((Re<<30|Re>>>2)^(Re<<19|Re>>>13)^(Re<<10|Re>>>22))+(Re&Oe^Re&Le^Oe&Le),xn=Pt,Pt=Kt,Kt=st,st=et+Zt|0,et=Le,Le=Oe,Oe=Re,Re=Zt+er|0}he[0]=he[0]+Re|0,he[1]=he[1]+Oe|0,he[2]=he[2]+Le|0,he[3]=he[3]+et|0,he[4]=he[4]+st|0,he[5]=he[5]+Kt|0,he[6]=he[6]+Pt|0,he[7]=he[7]+xn|0},_doFinalize:function(){var rt=this._data,tt=rt.words,he=8*this._nDataBytes,Re=8*rt.sigBytes;return tt[Re>>>5]|=128<<24-Re%32,tt[14+(Re+64>>>9<<4)]=x.floor(he/4294967296),tt[15+(Re+64>>>9<<4)]=he,rt.sigBytes=4*tt.length,this._process(),this._hash},clone:function(){var rt=O.clone.call(this);return rt._hash=this._hash.clone(),rt}}),C.SHA256=O._createHelper(H),C.HmacSHA256=O._createHmacHelper(H)}(Math),function(){function x(){return O.create.apply(O,arguments)}for(var C=T,D=C.lib.Hasher,O=(J=C.x64).Word,H=J.WordArray,J=C.algo,ce=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],Ae=[],_e=0;80>_e;_e++)Ae[_e]=x();J=J.SHA512=D.extend({_doReset:function(){this._hash=new H.init([new O.init(1779033703,4089235720),new O.init(3144134277,2227873595),new O.init(1013904242,4271175723),new O.init(2773480762,1595750129),new O.init(1359893119,2917565137),new O.init(2600822924,725511199),new O.init(528734635,4215389547),new O.init(1541459225,327033209)])},_doProcessBlock:function(Fe,c){for(var Ne=(Oe=this._hash.words)[0],He=Oe[1],Je=Oe[2],rt=Oe[3],tt=Oe[4],he=Oe[5],Re=Oe[6],Oe=Oe[7],Le=Ne.high,et=Ne.low,st=He.high,Kt=He.low,Pt=Je.high,xn=Je.low,Ut=rt.high,Zt=rt.low,er=tt.high,ur=tt.low,Wn=he.high,ba=he.low,na=Re.high,ra=Re.low,Dr=Oe.high,Nr=Oe.low,Qr=Le,Aa=et,bs=st,ai=Kt,As=Pt,Ko=xn,sc=Ut,Cs=Zt,ii=er,$a=ur,uc=Wn,xs=ba,Lu=na,Ss=ra,lc=Dr,Es=Nr,yi=0;80>yi;yi++){var bo=Ae[yi];if(16>yi)var Bi=bo.high=0|Fe[c+2*yi],lr=bo.low=0|Fe[c+2*yi+1];else{Bi=((lr=(Bi=Ae[yi-15]).high)>>>1|(Li=Bi.low)<<31)^(lr>>>8|Li<<24)^lr>>>7;var Li=(Li>>>1|lr<<31)^(Li>>>8|lr<<24)^(Li>>>7|lr<<25),qo=((lr=(qo=Ae[yi-2]).high)>>>19|(Vr=qo.low)<<13)^(lr<<3|Vr>>>29)^lr>>>6,Vr=(Vr>>>19|lr<<13)^(Vr<<3|lr>>>29)^(Vr>>>6|lr<<26),cc=(lr=Ae[yi-7]).high,Ao=(Wo=Ae[yi-16]).high,Wo=Wo.low;Bi=(Bi=(Bi=Bi+cc+((lr=Li+lr.low)>>>0<Li>>>0?1:0))+qo+((lr+=Vr)>>>0<Vr>>>0?1:0))+Ao+((lr+=Wo)>>>0<Wo>>>0?1:0),bo.high=Bi,bo.low=lr}cc=ii&uc^~ii&Lu,Wo=$a&xs^~$a&Ss,bo=Qr&bs^Qr&As^bs&As;var tm=Aa&ai^Aa&Ko^ai&Ko,nm=(Li=(Qr>>>28|Aa<<4)^(Qr<<30|Aa>>>2)^(Qr<<25|Aa>>>7),qo=(Aa>>>28|Qr<<4)^(Aa<<30|Qr>>>2)^(Aa<<25|Qr>>>7),(Vr=ce[yi]).high),wd=Vr.low;Ao=lc+((ii>>>14|$a<<18)^(ii>>>18|$a<<14)^(ii<<23|$a>>>9))+((Vr=Es+(($a>>>14|ii<<18)^($a>>>18|ii<<14)^($a<<23|ii>>>9)))>>>0<Es>>>0?1:0),lc=Lu,Es=Ss,Lu=uc,Ss=xs,uc=ii,xs=$a,ii=sc+(Ao=(Ao=(Ao=Ao+cc+((Vr+=Wo)>>>0<Wo>>>0?1:0))+nm+((Vr+=wd)>>>0<wd>>>0?1:0))+Bi+((Vr+=lr)>>>0<lr>>>0?1:0))+(($a=Cs+Vr|0)>>>0<Cs>>>0?1:0)|0,sc=As,Cs=Ko,As=bs,Ko=ai,bs=Qr,ai=Aa,Qr=Ao+(bo=Li+bo+((lr=qo+tm)>>>0<qo>>>0?1:0))+((Aa=Vr+lr|0)>>>0<Vr>>>0?1:0)|0}et=Ne.low=et+Aa,Ne.high=Le+Qr+(et>>>0<Aa>>>0?1:0),Kt=He.low=Kt+ai,He.high=st+bs+(Kt>>>0<ai>>>0?1:0),xn=Je.low=xn+Ko,Je.high=Pt+As+(xn>>>0<Ko>>>0?1:0),Zt=rt.low=Zt+Cs,rt.high=Ut+sc+(Zt>>>0<Cs>>>0?1:0),ur=tt.low=ur+$a,tt.high=er+ii+(ur>>>0<$a>>>0?1:0),ba=he.low=ba+xs,he.high=Wn+uc+(ba>>>0<xs>>>0?1:0),ra=Re.low=ra+Ss,Re.high=na+Lu+(ra>>>0<Ss>>>0?1:0),Nr=Oe.low=Nr+Es,Oe.high=Dr+lc+(Nr>>>0<Es>>>0?1:0)},_doFinalize:function(){var Fe=this._data,c=Fe.words,Ne=8*this._nDataBytes,He=8*Fe.sigBytes;return c[He>>>5]|=128<<24-He%32,c[30+(He+128>>>10<<5)]=Math.floor(Ne/4294967296),c[31+(He+128>>>10<<5)]=Ne,Fe.sigBytes=4*c.length,this._process(),this._hash.toX32()},clone:function(){var Fe=D.clone.call(this);return Fe._hash=this._hash.clone(),Fe},blockSize:32}),C.SHA512=D._createHelper(J),C.HmacSHA512=D._createHmacHelper(J)}(),function(){var x=T,C=(H=x.x64).Word,D=H.WordArray,O=(H=x.algo).SHA512,H=H.SHA384=O.extend({_doReset:function(){this._hash=new D.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var ce=O._doFinalize.call(this);return ce.sigBytes-=16,ce}});x.SHA384=O._createHelper(H),x.HmacSHA384=O._createHmacHelper(H)}();var V,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ee(x){var C,D,O="";for(C=0;C+3<=x.length;C+=3)D=parseInt(x.substring(C,C+3),16),O+=U.charAt(D>>6)+U.charAt(63&D);for(C+1==x.length?(D=parseInt(x.substring(C,C+1),16),O+=U.charAt(D<<2)):C+2==x.length&&(D=parseInt(x.substring(C,C+2),16),O+=U.charAt(D>>2)+U.charAt((3&D)<<4));(3&O.length)>0;)O+="=";return O}function te(x){var C,D,O,H="",J=0;for(C=0;C<x.length&&"="!=x.charAt(C);++C)(O=U.indexOf(x.charAt(C)))<0||(0==J?(H+=q(O>>2),D=3&O,J=1):1==J?(H+=q(D<<2|O>>4),D=15&O,J=2):2==J?(H+=q(D),H+=q(O>>2),D=3&O,J=3):(H+=q(D<<2|O>>4),H+=q(15&O),J=0));return 1==J&&(H+=q(D<<2)),H}function K(x){var C,D=te(x),O=new Array;for(C=0;2*C<D.length;++C)O[C]=parseInt(D.substring(2*C,2*C+2),16);return O}function j(x,C,D){null!=x&&("number"==typeof x?this.fromNumber(x,C,D):this.fromString(x,null==C&&"string"!=typeof x?256:C))}function re(){return new j(null)}"Microsoft Internet Explorer"==h.appName?(j.prototype.am=function(C,D,O,H,J,ce){for(var Ae=32767&D,_e=D>>15;--ce>=0;){var De=32767&this[C],Fe=this[C++]>>15,c=_e*De+Fe*Ae;J=((De=Ae*De+((32767&c)<<15)+O[H]+(1073741823&J))>>>30)+(c>>>15)+_e*Fe+(J>>>30),O[H++]=1073741823&De}return J},V=30):"Netscape"!=h.appName?(j.prototype.am=function(C,D,O,H,J,ce){for(;--ce>=0;){var Ae=D*this[C++]+O[H]+J;J=Math.floor(Ae/67108864),O[H++]=67108863&Ae}return J},V=26):(j.prototype.am=function(C,D,O,H,J,ce){for(var Ae=16383&D,_e=D>>14;--ce>=0;){var De=16383&this[C],Fe=this[C++]>>14,c=_e*De+Fe*Ae;J=((De=Ae*De+((16383&c)<<14)+O[H]+J)>>28)+(c>>14)+_e*Fe,O[H++]=268435455&De}return J},V=28),j.prototype.DB=V,j.prototype.DM=(1<<V)-1,j.prototype.DV=1<<V,j.prototype.FV=Math.pow(2,52),j.prototype.F1=52-V,j.prototype.F2=2*V-52;var ue,ne,z=new Array;for(ue=48,ne=0;ne<=9;++ne)z[ue++]=ne;for(ue=97,ne=10;ne<36;++ne)z[ue++]=ne;for(ue=65,ne=10;ne<36;++ne)z[ue++]=ne;function q(x){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(x)}function pe(x,C){return z[x.charCodeAt(C)]??-1}function ye(x){var C=re();return C.fromInt(x),C}function Ee(x){var C,D=1;return 0!=(C=x>>>16)&&(x=C,D+=16),0!=(C=x>>8)&&(x=C,D+=8),0!=(C=x>>4)&&(x=C,D+=4),0!=(C=x>>2)&&(x=C,D+=2),0!=(C=x>>1)&&(x=C,D+=1),D}function Ie(x){this.m=x}function Ge(x){this.m=x,this.mp=x.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<x.DB-15)-1,this.mt2=2*x.t}function xe(x,C){return x&C}function Be(x,C){return x|C}function Xe(x,C){return x^C}function Ze(x,C){return x&~C}function ot(x){if(0==x)return-1;var C=0;return!(65535&x)&&(x>>=16,C+=16),!(255&x)&&(x>>=8,C+=8),!(15&x)&&(x>>=4,C+=4),!(3&x)&&(x>>=2,C+=2),!(1&x)&&++C,C}function vt(x){for(var C=0;0!=x;)x&=x-1,++C;return C}function ze(){}function Ye(x){return x}function At(x){this.r2=re(),this.q3=re(),j.ONE.dlShiftTo(2*x.t,this.r2),this.mu=this.r2.divide(x),this.m=x}Ie.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},Ie.prototype.revert=function(C){return C},Ie.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},Ie.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O),this.reduce(O)},Ie.prototype.sqrTo=function(C,D){C.squareTo(D),this.reduce(D)},Ge.prototype.convert=function(C){var D=re();return C.abs().dlShiftTo(this.m.t,D),D.divRemTo(this.m,null,D),C.s<0&&D.compareTo(j.ZERO)>0&&this.m.subTo(D,D),D},Ge.prototype.revert=function(C){var D=re();return C.copyTo(D),this.reduce(D),D},Ge.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var D=0;D<this.m.t;++D){var O=32767&C[D],H=O*this.mpl+((O*this.mph+(C[D]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[O=D+this.m.t]+=this.m.am(0,H,C,D,0,this.m.t);C[O]>=C.DV;)C[O]-=C.DV,C[++O]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},Ge.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O),this.reduce(O)},Ge.prototype.sqrTo=function(C,D){C.squareTo(D),this.reduce(D)},j.prototype.copyTo=function(C){for(var D=this.t-1;D>=0;--D)C[D]=this[D];C.t=this.t,C.s=this.s},j.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},j.prototype.fromString=function(C,D){var O;if(16==D)O=4;else if(8==D)O=3;else if(256==D)O=8;else if(2==D)O=1;else if(32==D)O=5;else{if(4!=D)return void this.fromRadix(C,D);O=2}this.t=0,this.s=0;for(var H=C.length,J=!1,ce=0;--H>=0;){var Ae=8==O?255&C[H]:pe(C,H);Ae<0?"-"==C.charAt(H)&&(J=!0):(J=!1,0==ce?this[this.t++]=Ae:ce+O>this.DB?(this[this.t-1]|=(Ae&(1<<this.DB-ce)-1)<<ce,this[this.t++]=Ae>>this.DB-ce):this[this.t-1]|=Ae<<ce,(ce+=O)>=this.DB&&(ce-=this.DB))}8==O&&!!(128&C[0])&&(this.s=-1,ce>0&&(this[this.t-1]|=(1<<this.DB-ce)-1<<ce)),this.clamp(),J&&j.ZERO.subTo(this,this)},j.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},j.prototype.dlShiftTo=function(C,D){var O;for(O=this.t-1;O>=0;--O)D[O+C]=this[O];for(O=C-1;O>=0;--O)D[O]=0;D.t=this.t+C,D.s=this.s},j.prototype.drShiftTo=function(C,D){for(var O=C;O<this.t;++O)D[O-C]=this[O];D.t=Math.max(this.t-C,0),D.s=this.s},j.prototype.lShiftTo=function(C,D){var O,H=C%this.DB,J=this.DB-H,ce=(1<<J)-1,Ae=Math.floor(C/this.DB),_e=this.s<<H&this.DM;for(O=this.t-1;O>=0;--O)D[O+Ae+1]=this[O]>>J|_e,_e=(this[O]&ce)<<H;for(O=Ae-1;O>=0;--O)D[O]=0;D[Ae]=_e,D.t=this.t+Ae+1,D.s=this.s,D.clamp()},j.prototype.rShiftTo=function(C,D){D.s=this.s;var O=Math.floor(C/this.DB);if(O>=this.t)D.t=0;else{var H=C%this.DB,J=this.DB-H,ce=(1<<H)-1;D[0]=this[O]>>H;for(var Ae=O+1;Ae<this.t;++Ae)D[Ae-O-1]|=(this[Ae]&ce)<<J,D[Ae-O]=this[Ae]>>H;H>0&&(D[this.t-O-1]|=(this.s&ce)<<J),D.t=this.t-O,D.clamp()}},j.prototype.subTo=function(C,D){for(var O=0,H=0,J=Math.min(C.t,this.t);O<J;)H+=this[O]-C[O],D[O++]=H&this.DM,H>>=this.DB;if(C.t<this.t){for(H-=C.s;O<this.t;)H+=this[O],D[O++]=H&this.DM,H>>=this.DB;H+=this.s}else{for(H+=this.s;O<C.t;)H-=C[O],D[O++]=H&this.DM,H>>=this.DB;H-=C.s}D.s=H<0?-1:0,H<-1?D[O++]=this.DV+H:H>0&&(D[O++]=H),D.t=O,D.clamp()},j.prototype.multiplyTo=function(C,D){var O=this.abs(),H=C.abs(),J=O.t;for(D.t=J+H.t;--J>=0;)D[J]=0;for(J=0;J<H.t;++J)D[J+O.t]=O.am(0,H[J],D,J,0,O.t);D.s=0,D.clamp(),this.s!=C.s&&j.ZERO.subTo(D,D)},j.prototype.squareTo=function(C){for(var D=this.abs(),O=C.t=2*D.t;--O>=0;)C[O]=0;for(O=0;O<D.t-1;++O){var H=D.am(O,D[O],C,2*O,0,1);(C[O+D.t]+=D.am(O+1,2*D[O],C,2*O+1,H,D.t-O-1))>=D.DV&&(C[O+D.t]-=D.DV,C[O+D.t+1]=1)}C.t>0&&(C[C.t-1]+=D.am(O,D[O],C,2*O,0,1)),C.s=0,C.clamp()},j.prototype.divRemTo=function(C,D,O){var H=C.abs();if(!(H.t<=0)){var J=this.abs();if(J.t<H.t)return D?.fromInt(0),void(null!=O&&this.copyTo(O));null==O&&(O=re());var ce=re(),Ae=this.s,_e=C.s,De=this.DB-Ee(H[H.t-1]);De>0?(H.lShiftTo(De,ce),J.lShiftTo(De,O)):(H.copyTo(ce),J.copyTo(O));var Fe=ce.t,c=ce[Fe-1];if(0!=c){var Ne=c*(1<<this.F1)+(Fe>1?ce[Fe-2]>>this.F2:0),He=this.FV/Ne,Je=(1<<this.F1)/Ne,rt=1<<this.F2,tt=O.t,he=tt-Fe,Re=D??re();for(ce.dlShiftTo(he,Re),O.compareTo(Re)>=0&&(O[O.t++]=1,O.subTo(Re,O)),j.ONE.dlShiftTo(Fe,Re),Re.subTo(ce,ce);ce.t<Fe;)ce[ce.t++]=0;for(;--he>=0;){var Oe=O[--tt]==c?this.DM:Math.floor(O[tt]*He+(O[tt-1]+rt)*Je);if((O[tt]+=ce.am(0,Oe,O,he,0,Fe))<Oe)for(ce.dlShiftTo(he,Re),O.subTo(Re,O);O[tt]<--Oe;)O.subTo(Re,O)}null!=D&&(O.drShiftTo(Fe,D),Ae!=_e&&j.ZERO.subTo(D,D)),O.t=Fe,O.clamp(),De>0&&O.rShiftTo(De,O),Ae<0&&j.ZERO.subTo(O,O)}}},j.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var D=3&C;return(D=(D=(D=(D=D*(2-(15&C)*D)&15)*(2-(255&C)*D)&255)*(2-((65535&C)*D&65535))&65535)*(2-C*D%this.DV)%this.DV)>0?this.DV-D:-D},j.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},j.prototype.exp=function(C,D){if(C>4294967295||C<1)return j.ONE;var O=re(),H=re(),J=D.convert(this),ce=Ee(C)-1;for(J.copyTo(O);--ce>=0;)if(D.sqrTo(O,H),(C&1<<ce)>0)D.mulTo(H,J,O);else{var Ae=O;O=H,H=Ae}return D.revert(O)},j.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var D;if(16==C)D=4;else if(8==C)D=3;else if(2==C)D=1;else if(32==C)D=5;else{if(4!=C)return this.toRadix(C);D=2}var O,H=(1<<D)-1,J=!1,ce="",Ae=this.t,_e=this.DB-Ae*this.DB%D;if(Ae-- >0)for(_e<this.DB&&(O=this[Ae]>>_e)>0&&(J=!0,ce=q(O));Ae>=0;)_e<D?(O=(this[Ae]&(1<<_e)-1)<<D-_e,O|=this[--Ae]>>(_e+=this.DB-D)):(O=this[Ae]>>(_e-=D)&H,_e<=0&&(_e+=this.DB,--Ae)),O>0&&(J=!0),J&&(ce+=q(O));return J?ce:"0"},j.prototype.negate=function(){var C=re();return j.ZERO.subTo(this,C),C},j.prototype.abs=function(){return this.s<0?this.negate():this},j.prototype.compareTo=function(C){var D=this.s-C.s;if(0!=D)return D;var O=this.t;if(0!=(D=O-C.t))return this.s<0?-D:D;for(;--O>=0;)if(0!=(D=this[O]-C[O]))return D;return 0},j.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Ee(this[this.t-1]^this.s&this.DM)},j.prototype.mod=function(C){var D=re();return this.abs().divRemTo(C,null,D),this.s<0&&D.compareTo(j.ZERO)>0&&C.subTo(D,D),D},j.prototype.modPowInt=function(C,D){var O;return O=C<256||D.isEven()?new Ie(D):new Ge(D),this.exp(C,O)},j.ZERO=ye(0),j.ONE=ye(1),ze.prototype.convert=Ye,ze.prototype.revert=Ye,ze.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O)},ze.prototype.sqrTo=function(C,D){C.squareTo(D)},At.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var D=re();return C.copyTo(D),this.reduce(D),D},At.prototype.revert=function(C){return C},At.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},At.prototype.mulTo=function(C,D,O){C.multiplyTo(D,O),this.reduce(O)},At.prototype.sqrTo=function(C,D){C.squareTo(D),this.reduce(D)};var Ce,Pe,ie,de=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],W=(1<<26)/de[de.length-1];function X(){this.i=0,this.j=0,this.S=new Array}function ae(){!function(C){Pe[ie++]^=255&C,Pe[ie++]^=C>>8&255,Pe[ie++]^=C>>16&255,Pe[ie++]^=C>>24&255,ie>=256&&(ie-=256)}((new Date).getTime())}if(j.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},j.prototype.toRadix=function(C){if(null==C&&(C=10),0==this.signum()||C<2||C>36)return"0";var D=this.chunkSize(C),O=Math.pow(C,D),H=ye(O),J=re(),ce=re(),Ae="";for(this.divRemTo(H,J,ce);J.signum()>0;)Ae=(O+ce.intValue()).toString(C).substr(1)+Ae,J.divRemTo(H,J,ce);return ce.intValue().toString(C)+Ae},j.prototype.fromRadix=function(C,D){this.fromInt(0),null==D&&(D=10);for(var O=this.chunkSize(D),H=Math.pow(D,O),J=!1,ce=0,Ae=0,_e=0;_e<C.length;++_e){var De=pe(C,_e);De<0?"-"==C.charAt(_e)&&0==this.signum()&&(J=!0):(Ae=D*Ae+De,++ce>=O&&(this.dMultiply(H),this.dAddOffset(Ae,0),ce=0,Ae=0))}ce>0&&(this.dMultiply(Math.pow(D,ce)),this.dAddOffset(Ae,0)),J&&j.ZERO.subTo(this,this)},j.prototype.fromNumber=function(C,D,O){if("number"==typeof D)if(C<2)this.fromInt(1);else for(this.fromNumber(C,O),this.testBit(C-1)||this.bitwiseTo(j.ONE.shiftLeft(C-1),Be,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(D);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(j.ONE.shiftLeft(C-1),this);else{var H=new Array,J=7&C;H.length=1+(C>>3),D.nextBytes(H),J>0?H[0]&=(1<<J)-1:H[0]=0,this.fromString(H,256)}},j.prototype.bitwiseTo=function(C,D,O){var H,J,ce=Math.min(C.t,this.t);for(H=0;H<ce;++H)O[H]=D(this[H],C[H]);if(C.t<this.t){for(J=C.s&this.DM,H=ce;H<this.t;++H)O[H]=D(this[H],J);O.t=this.t}else{for(J=this.s&this.DM,H=ce;H<C.t;++H)O[H]=D(J,C[H]);O.t=C.t}O.s=D(this.s,C.s),O.clamp()},j.prototype.changeBit=function(C,D){var O=j.ONE.shiftLeft(C);return this.bitwiseTo(O,D,O),O},j.prototype.addTo=function(C,D){for(var O=0,H=0,J=Math.min(C.t,this.t);O<J;)H+=this[O]+C[O],D[O++]=H&this.DM,H>>=this.DB;if(C.t<this.t){for(H+=C.s;O<this.t;)H+=this[O],D[O++]=H&this.DM,H>>=this.DB;H+=this.s}else{for(H+=this.s;O<C.t;)H+=C[O],D[O++]=H&this.DM,H>>=this.DB;H+=C.s}D.s=H<0?-1:0,H>0?D[O++]=H:H<-1&&(D[O++]=this.DV+H),D.t=O,D.clamp()},j.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},j.prototype.dAddOffset=function(C,D){if(0!=C){for(;this.t<=D;)this[this.t++]=0;for(this[D]+=C;this[D]>=this.DV;)this[D]-=this.DV,++D>=this.t&&(this[this.t++]=0),++this[D]}},j.prototype.multiplyLowerTo=function(C,D,O){var H,J=Math.min(this.t+C.t,D);for(O.s=0,O.t=J;J>0;)O[--J]=0;for(H=O.t-this.t;J<H;++J)O[J+this.t]=this.am(0,C[J],O,J,0,this.t);for(H=Math.min(C.t,D);J<H;++J)this.am(0,C[J],O,J,0,D-J);O.clamp()},j.prototype.multiplyUpperTo=function(C,D,O){--D;var H=O.t=this.t+C.t-D;for(O.s=0;--H>=0;)O[H]=0;for(H=Math.max(D-this.t,0);H<C.t;++H)O[this.t+H-D]=this.am(D-H,C[H],O,0,0,this.t+H-D);O.clamp(),O.drShiftTo(1,O)},j.prototype.modInt=function(C){if(C<=0)return 0;var D=this.DV%C,O=this.s<0?C-1:0;if(this.t>0)if(0==D)O=this[0]%C;else for(var H=this.t-1;H>=0;--H)O=(D*O+this[H])%C;return O},j.prototype.millerRabin=function(C){var D=this.subtract(j.ONE),O=D.getLowestSetBit();if(O<=0)return!1;var H=D.shiftRight(O);(C=C+1>>1)>de.length&&(C=de.length);for(var J=re(),ce=0;ce<C;++ce){J.fromInt(de[Math.floor(Math.random()*de.length)]);var Ae=J.modPow(H,this);if(0!=Ae.compareTo(j.ONE)&&0!=Ae.compareTo(D)){for(var _e=1;_e++<O&&0!=Ae.compareTo(D);)if(0==(Ae=Ae.modPowInt(2,this)).compareTo(j.ONE))return!1;if(0!=Ae.compareTo(D))return!1}}return!0},j.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var C=re();return this.copyTo(C),C},j.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},j.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},j.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},j.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},j.prototype.toByteArray=function(){var C=this.t,D=new Array;D[0]=this.s;var O,H=this.DB-C*this.DB%8,J=0;if(C-- >0)for(H<this.DB&&(O=this[C]>>H)!=(this.s&this.DM)>>H&&(D[J++]=O|this.s<<this.DB-H);C>=0;)H<8?(O=(this[C]&(1<<H)-1)<<8-H,O|=this[--C]>>(H+=this.DB-8)):(O=this[C]>>(H-=8)&255,H<=0&&(H+=this.DB,--C)),!!(128&O)&&(O|=-256),0==J&&(128&this.s)!=(128&O)&&++J,(J>0||O!=this.s)&&(D[J++]=O);return D},j.prototype.equals=function(C){return 0==this.compareTo(C)},j.prototype.min=function(C){return this.compareTo(C)<0?this:C},j.prototype.max=function(C){return this.compareTo(C)>0?this:C},j.prototype.and=function(C){var D=re();return this.bitwiseTo(C,xe,D),D},j.prototype.or=function(C){var D=re();return this.bitwiseTo(C,Be,D),D},j.prototype.xor=function(C){var D=re();return this.bitwiseTo(C,Xe,D),D},j.prototype.andNot=function(C){var D=re();return this.bitwiseTo(C,Ze,D),D},j.prototype.not=function(){for(var C=re(),D=0;D<this.t;++D)C[D]=this.DM&~this[D];return C.t=this.t,C.s=~this.s,C},j.prototype.shiftLeft=function(C){var D=re();return C<0?this.rShiftTo(-C,D):this.lShiftTo(C,D),D},j.prototype.shiftRight=function(C){var D=re();return C<0?this.lShiftTo(-C,D):this.rShiftTo(C,D),D},j.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(0!=this[C])return C*this.DB+ot(this[C]);return this.s<0?this.t*this.DB:-1},j.prototype.bitCount=function(){for(var C=0,D=this.s&this.DM,O=0;O<this.t;++O)C+=vt(this[O]^D);return C},j.prototype.testBit=function(C){var D=Math.floor(C/this.DB);return D>=this.t?0!=this.s:!!(this[D]&1<<C%this.DB)},j.prototype.setBit=function(C){return this.changeBit(C,Be)},j.prototype.clearBit=function(C){return this.changeBit(C,Ze)},j.prototype.flipBit=function(C){return this.changeBit(C,Xe)},j.prototype.add=function(C){var D=re();return this.addTo(C,D),D},j.prototype.subtract=function(C){var D=re();return this.subTo(C,D),D},j.prototype.multiply=function(C){var D=re();return this.multiplyTo(C,D),D},j.prototype.divide=function(C){var D=re();return this.divRemTo(C,D,null),D},j.prototype.remainder=function(C){var D=re();return this.divRemTo(C,null,D),D},j.prototype.divideAndRemainder=function(C){var D=re(),O=re();return this.divRemTo(C,D,O),new Array(D,O)},j.prototype.modPow=function(C,D){var O,H,J=C.bitLength(),ce=ye(1);if(J<=0)return ce;O=J<18?1:J<48?3:J<144?4:J<768?5:6,H=J<8?new Ie(D):D.isEven()?new At(D):new Ge(D);var Ae=new Array,_e=3,De=O-1,Fe=(1<<O)-1;if(Ae[1]=H.convert(this),O>1){var c=re();for(H.sqrTo(Ae[1],c);_e<=Fe;)Ae[_e]=re(),H.mulTo(c,Ae[_e-2],Ae[_e]),_e+=2}var Ne,He,Je=C.t-1,rt=!0,tt=re();for(J=Ee(C[Je])-1;Je>=0;){for(J>=De?Ne=C[Je]>>J-De&Fe:(Ne=(C[Je]&(1<<J+1)-1)<<De-J,Je>0&&(Ne|=C[Je-1]>>this.DB+J-De)),_e=O;!(1&Ne);)Ne>>=1,--_e;if((J-=_e)<0&&(J+=this.DB,--Je),rt)Ae[Ne].copyTo(ce),rt=!1;else{for(;_e>1;)H.sqrTo(ce,tt),H.sqrTo(tt,ce),_e-=2;_e>0?H.sqrTo(ce,tt):(He=ce,ce=tt,tt=He),H.mulTo(tt,Ae[Ne],ce)}for(;Je>=0&&!(C[Je]&1<<J);)H.sqrTo(ce,tt),He=ce,ce=tt,tt=He,--J<0&&(J=this.DB-1,--Je)}return H.revert(ce)},j.prototype.modInverse=function(C){var D=C.isEven();if(this.isEven()&&D||0==C.signum())return j.ZERO;for(var O=C.clone(),H=this.clone(),J=ye(1),ce=ye(0),Ae=ye(0),_e=ye(1);0!=O.signum();){for(;O.isEven();)O.rShiftTo(1,O),D?(J.isEven()&&ce.isEven()||(J.addTo(this,J),ce.subTo(C,ce)),J.rShiftTo(1,J)):ce.isEven()||ce.subTo(C,ce),ce.rShiftTo(1,ce);for(;H.isEven();)H.rShiftTo(1,H),D?(Ae.isEven()&&_e.isEven()||(Ae.addTo(this,Ae),_e.subTo(C,_e)),Ae.rShiftTo(1,Ae)):_e.isEven()||_e.subTo(C,_e),_e.rShiftTo(1,_e);O.compareTo(H)>=0?(O.subTo(H,O),D&&J.subTo(Ae,J),ce.subTo(_e,ce)):(H.subTo(O,H),D&&Ae.subTo(J,Ae),_e.subTo(ce,_e))}return 0!=H.compareTo(j.ONE)?j.ZERO:_e.compareTo(C)>=0?_e.subtract(C):_e.signum()<0?(_e.addTo(C,_e),_e.signum()<0?_e.add(C):_e):_e},j.prototype.pow=function(C){return this.exp(C,new ze)},j.prototype.gcd=function(C){var D=this.s<0?this.negate():this.clone(),O=C.s<0?C.negate():C.clone();if(D.compareTo(O)<0){var H=D;D=O,O=H}var J=D.getLowestSetBit(),ce=O.getLowestSetBit();if(ce<0)return D;for(J<ce&&(ce=J),ce>0&&(D.rShiftTo(ce,D),O.rShiftTo(ce,O));D.signum()>0;)(J=D.getLowestSetBit())>0&&D.rShiftTo(J,D),(J=O.getLowestSetBit())>0&&O.rShiftTo(J,O),D.compareTo(O)>=0?(D.subTo(O,D),D.rShiftTo(1,D)):(O.subTo(D,O),O.rShiftTo(1,O));return ce>0&&O.lShiftTo(ce,O),O},j.prototype.isProbablePrime=function(C){var D,O=this.abs();if(1==O.t&&O[0]<=de[de.length-1]){for(D=0;D<de.length;++D)if(O[0]==de[D])return!0;return!1}if(O.isEven())return!1;for(D=1;D<de.length;){for(var H=de[D],J=D+1;J<de.length&&H<W;)H*=de[J++];for(H=O.modInt(H);D<J;)if(H%de[D++]==0)return!1}return O.millerRabin(C)},j.prototype.square=function(){var C=re();return this.squareTo(C),C},X.prototype.init=function(C){var D,O,H;for(D=0;D<256;++D)this.S[D]=D;for(O=0,D=0;D<256;++D)H=this.S[D],this.S[D]=this.S[O=O+this.S[D]+C[D%C.length]&255],this.S[O]=H;this.i=0,this.j=0},X.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]},null==Pe){var Me;if(Pe=new Array,ie=0,void 0!==k&&(void 0!==k.crypto||void 0!==k.msCrypto)){var se=k.crypto||k.msCrypto;if(se.getRandomValues){var Z=new Uint8Array(32);for(se.getRandomValues(Z),Me=0;Me<32;++Me)Pe[ie++]=Z[Me]}else if("Netscape"==h.appName&&h.appVersion<"5"){var Q=k.crypto.random(32);for(Me=0;Me<Q.length;++Me)Pe[ie++]=255&Q.charCodeAt(Me)}}for(;ie<256;)Me=Math.floor(65536*Math.random()),Pe[ie++]=Me>>>8,Pe[ie++]=255&Me;ie=0,ae()}function ve(){if(null==Ce){for(ae(),(Ce=new X).init(Pe),ie=0;ie<Pe.length;++ie)Pe[ie]=0;ie=0}return Ce.next()}function je(){}function nt(x,C){return new j(x,C)}function at(x,C,D){for(var O="",H=0;O.length<C;)O+=D(String.fromCharCode.apply(String,x.concat([(4278190080&H)>>24,(16711680&H)>>16,(65280&H)>>8,255&H]))),H+=1;return O}function bt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Ot(x,C){this.x=C,this.q=x}function It(x,C,D,O){this.curve=x,this.x=C,this.y=D,this.z=O??j.ONE,this.zinv=null}function ln(x,C,D){this.q=x,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(D),this.infinity=new It(this,null,null)}je.prototype.nextBytes=function(C){var D;for(D=0;D<C.length;++D)C[D]=ve()},bt.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},bt.prototype.setPublic=function(C,D){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof C)this.n=C,this.e=D;else{if(!(null!=C&&null!=D&&C.length>0&&D.length>0))throw"Invalid RSA public key";this.n=nt(C,16),this.e=parseInt(D,16)}},bt.prototype.encrypt=function(C){var D=function(ce,Ae){if(Ae<ce.length+11)throw"Message too long for RSA";for(var _e=new Array,De=ce.length-1;De>=0&&Ae>0;){var Fe=ce.charCodeAt(De--);Fe<128?_e[--Ae]=Fe:Fe>127&&Fe<2048?(_e[--Ae]=63&Fe|128,_e[--Ae]=Fe>>6|192):(_e[--Ae]=63&Fe|128,_e[--Ae]=Fe>>6&63|128,_e[--Ae]=Fe>>12|224)}_e[--Ae]=0;for(var c=new je,Ne=new Array;Ae>2;){for(Ne[0]=0;0==Ne[0];)c.nextBytes(Ne);_e[--Ae]=Ne[0]}return _e[--Ae]=2,_e[--Ae]=0,new j(_e)}(C,this.n.bitLength()+7>>3);if(null==D)return null;var O=this.doPublic(D);if(null==O)return null;var H=O.toString(16);return 1&H.length?"0"+H:H},bt.prototype.encryptOAEP=function(C,D,O){var H=function(_e,De,Fe,c){var Ne=Se.crypto.MessageDigest,He=Se.crypto.Util,Je=null;if(Fe||(Fe="sha1"),"string"==typeof Fe&&(Je=Ne.getCanonicalAlgName(Fe),c=Ne.getHashLength(Je),Fe=function(Pt){return kt(He.hashHex(Qt(Pt),Je))}),_e.length+2*c+2>De)throw"Message too long for RSA";var rt,tt="";for(rt=0;rt<De-_e.length-2*c-2;rt+=1)tt+="\0";var he=Fe("")+tt+"\x01"+_e,Re=new Array(c);(new je).nextBytes(Re);var Oe=at(Re,he.length,Fe),Le=[];for(rt=0;rt<he.length;rt+=1)Le[rt]=he.charCodeAt(rt)^Oe.charCodeAt(rt);var et=at(Le,Re.length,Fe),st=[0];for(rt=0;rt<Re.length;rt+=1)st[rt+1]=Re[rt]^et.charCodeAt(rt);return new j(st.concat(Le))}(C,this.n.bitLength()+7>>3,D,O);if(null==H)return null;var J=this.doPublic(H);if(null==J)return null;var ce=J.toString(16);return 1&ce.length?"0"+ce:ce},bt.prototype.type="RSA",Ot.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Ot.prototype.toBigInteger=function(){return this.x},Ot.prototype.negate=function(){return new Ot(this.q,this.x.negate().mod(this.q))},Ot.prototype.add=function(C){return new Ot(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Ot.prototype.subtract=function(C){return new Ot(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Ot.prototype.multiply=function(C){return new Ot(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Ot.prototype.square=function(){return new Ot(this.q,this.x.square().mod(this.q))},Ot.prototype.divide=function(C){return new Ot(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},It.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},It.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},It.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(j.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(j.ZERO))},It.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(j.ZERO)&&!this.y.toBigInteger().equals(j.ZERO)},It.prototype.negate=function(){return new It(this.curve,this.x,this.y.negate(),this.z)},It.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var D=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),O=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(j.ZERO.equals(O))return j.ZERO.equals(D)?this.twice():this.curve.getInfinity();var H=new j("3"),J=this.x.toBigInteger(),ce=this.y.toBigInteger(),Ae=(C.x.toBigInteger(),C.y.toBigInteger(),O.square()),_e=Ae.multiply(O),De=J.multiply(Ae),Fe=D.square().multiply(this.z),c=Fe.subtract(De.shiftLeft(1)).multiply(C.z).subtract(_e).multiply(O).mod(this.curve.q),Ne=De.multiply(H).multiply(D).subtract(ce.multiply(_e)).subtract(Fe.multiply(D)).multiply(C.z).add(D.multiply(_e)).mod(this.curve.q),He=_e.multiply(this.z).multiply(C.z).mod(this.curve.q);return new It(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(Ne),He)},It.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var C=new j("3"),D=this.x.toBigInteger(),O=this.y.toBigInteger(),H=O.multiply(this.z),J=H.multiply(O).mod(this.curve.q),ce=this.curve.a.toBigInteger(),Ae=D.square().multiply(C);j.ZERO.equals(ce)||(Ae=Ae.add(this.z.square().multiply(ce)));var _e=(Ae=Ae.mod(this.curve.q)).square().subtract(D.shiftLeft(3).multiply(J)).shiftLeft(1).multiply(H).mod(this.curve.q),De=Ae.multiply(C).multiply(D).subtract(J.shiftLeft(1)).shiftLeft(2).multiply(J).subtract(Ae.square().multiply(Ae)).mod(this.curve.q),Fe=H.square().multiply(H).shiftLeft(3).mod(this.curve.q);return new It(this.curve,this.curve.fromBigInteger(_e),this.curve.fromBigInteger(De),Fe)},It.prototype.multiply=function(C){if(this.isInfinity())return this;if(0==C.signum())return this.curve.getInfinity();var D,O=C,H=O.multiply(new j("3")),J=this.negate(),ce=this,Ae=this.curve.q.subtract(C),_e=Ae.multiply(new j("3")),De=new It(this.curve,this.x,this.y),Fe=De.negate();for(D=H.bitLength()-2;D>0;--D){ce=ce.twice();var c=H.testBit(D);c!=O.testBit(D)&&(ce=ce.add(c?this:J))}for(D=_e.bitLength()-2;D>0;--D){De=De.twice();var Ne=_e.testBit(D);Ne!=Ae.testBit(D)&&(De=De.add(Ne?De:Fe))}return ce},It.prototype.multiplyTwo=function(C,D,O){var H;H=C.bitLength()>O.bitLength()?C.bitLength()-1:O.bitLength()-1;for(var J=this.curve.getInfinity(),ce=this.add(D);H>=0;)J=J.twice(),C.testBit(H)?J=O.testBit(H)?J.add(ce):J.add(this):O.testBit(H)&&(J=J.add(D)),--H;return J},ln.prototype.getQ=function(){return this.q},ln.prototype.getA=function(){return this.a},ln.prototype.getB=function(){return this.b},ln.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},ln.prototype.getInfinity=function(){return this.infinity},ln.prototype.fromBigInteger=function(C){return new Ot(this.q,C)},ln.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var D=(C.length-2)/2,O=C.substr(2,D),H=C.substr(D+2,D);return new It(this,this.fromBigInteger(new j(O,16)),this.fromBigInteger(new j(H,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
Ot.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},It.prototype.getEncoded=function(x){var C=function(ce,Ae){var _e=ce.toByteArrayUnsigned();if(Ae<_e.length)_e=_e.slice(_e.length-Ae);else for(;Ae>_e.length;)_e.unshift(0);return _e},D=this.getX().toBigInteger(),O=this.getY().toBigInteger(),H=C(D,32);return x?O.isEven()?H.unshift(2):H.unshift(3):(H.unshift(4),H=H.concat(C(O,32))),H},It.decodeFrom=function(x,C){var D=C.length-1,O=C.slice(1,1+D/2),H=C.slice(1+D/2,1+D);O.unshift(0),H.unshift(0);var J=new j(O),ce=new j(H);return new It(x,x.fromBigInteger(J),x.fromBigInteger(ce))},It.decodeFromHex=function(x,C){C.substr(0,2);var D=C.length-2,O=C.substr(2,D/2),H=C.substr(2+D/2,D/2),J=new j(O,16),ce=new j(H,16);return new It(x,x.fromBigInteger(J),x.fromBigInteger(ce))},It.prototype.add2D=function(x){if(this.isInfinity())return x;if(x.isInfinity())return this;if(this.x.equals(x.x))return this.y.equals(x.y)?this.twice():this.curve.getInfinity();var C=x.x.subtract(this.x),D=x.y.subtract(this.y).divide(C),O=D.square().subtract(this.x).subtract(x.x),H=D.multiply(this.x.subtract(O)).subtract(this.y);return new It(this.curve,O,H)},It.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var x=this.curve.fromBigInteger(j.valueOf(2)),C=this.curve.fromBigInteger(j.valueOf(3)),D=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(x)),O=D.square().subtract(this.x.multiply(x)),H=D.multiply(this.x.subtract(O)).subtract(this.y);return new It(this.curve,O,H)},It.prototype.multiply2D=function(x){if(this.isInfinity())return this;if(0==x.signum())return this.curve.getInfinity();var C,D=x,O=D.multiply(new j("3")),H=this.negate(),J=this;for(C=O.bitLength()-2;C>0;--C){J=J.twice();var ce=O.testBit(C);ce!=D.testBit(C)&&(J=J.add2D(ce?this:H))}return J},It.prototype.isOnCurve=function(){var x=this.getX().toBigInteger(),C=this.getY().toBigInteger(),D=this.curve.getA().toBigInteger(),O=this.curve.getB().toBigInteger(),H=this.curve.getQ(),J=C.multiply(C).mod(H),ce=x.multiply(x).multiply(x).add(D.multiply(x)).add(O).mod(H);return J.equals(ce)},It.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},It.prototype.validate=function(){var x=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),D=this.getY().toBigInteger();if(C.compareTo(j.ONE)<0||C.compareTo(x.subtract(j.ONE))>0)throw new Error("x coordinate out of bounds");if(D.compareTo(j.ONE)<0||D.compareTo(x.subtract(j.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(x).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var fn=function(){var x=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),D={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function O(ce,Ae,_e){return Ae?D[Ae]:String.fromCharCode(parseInt(_e,16))}var H=new String(""),J=Object.hasOwnProperty;return function(ce,Ae){var _e,De,Fe=ce.match(x),c=Fe[0],Ne=!1;"{"===c?_e={}:"["===c?_e=[]:(_e=[],Ne=!0);for(var He=[_e],Je=1-Ne,rt=Fe.length;Je<rt;++Je){var tt;switch((c=Fe[Je]).charCodeAt(0)){default:(tt=He[0])[De||tt.length]=+c,De=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(C,O)),tt=He[0],!De){if(!(tt instanceof Array)){De=c||H;break}De=tt.length}tt[De]=c,De=void 0;break;case 91:He.unshift((tt=He[0])[De||tt.length]=[]),De=void 0;break;case 93:case 125:He.shift();break;case 102:(tt=He[0])[De||tt.length]=!1,De=void 0;break;case 110:(tt=He[0])[De||tt.length]=null,De=void 0;break;case 116:(tt=He[0])[De||tt.length]=!0,De=void 0;break;case 123:He.unshift((tt=He[0])[De||tt.length]={}),De=void 0}}if(Ne){if(1!==He.length)throw new Error;_e=_e[0]}else if(He.length)throw new Error;return Ae&&(_e=function he(Re,Oe){var Le=Re[Oe];if(Le&&"object"===(void 0===Le?"undefined":m(Le))){var et=null;for(var st in Le)if(J.call(Le,st)&&Le!==Re){var Kt=he(Le,st);void 0!==Kt?Le[st]=Kt:(et||(et=[]),et.push(st))}if(et)for(var Pt=et.length;--Pt>=0;)delete Le[et[Pt]]}return Ae.call(Re,Oe,Le)}({"":_e},"")),_e}}();void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.asn1&&Se.asn1||(Se.asn1={}),Se.asn1.ASN1Util=new function(){this.integerToByteHex=function(x){var C=x.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(x){var C=x.toString(16);if("-"!=C.substr(0,1))C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var D=C.substr(1).length;D%2==1?D+=1:C.match(/^[0-7]/)||(D+=2);for(var O="",H=0;H<D;H++)O+="f";C=new j(O,16).xor(x).add(j.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(x,C){return tn(x,C)},this.newObject=function(x){var C=Se.asn1,D=C.ASN1Object,O=C.DERBoolean,H=C.DERInteger,J=C.DERBitString,ce=C.DEROctetString,Ae=C.DERNull,_e=C.DERObjectIdentifier,De=C.DEREnumerated,Fe=C.DERUTF8String,c=C.DERNumericString,Ne=C.DERPrintableString,He=C.DERTeletexString,Je=C.DERIA5String,rt=C.DERUTCTime,tt=C.DERGeneralizedTime,he=C.DERVisibleString,Re=C.DERBMPString,Oe=C.DERSequence,Le=C.DERSet,et=C.DERTaggedObject,st=C.ASN1Util.newObject;if(x instanceof C.ASN1Object)return x;var Kt=Object.keys(x);if(1!=Kt.length)throw new Error("key of param shall be only one.");var Pt=Kt[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Pt+":"))throw new Error("undefined key: "+Pt);if("bool"==Pt)return new O(x[Pt]);if("int"==Pt)return new H(x[Pt]);if("bitstr"==Pt)return new J(x[Pt]);if("octstr"==Pt)return new ce(x[Pt]);if("null"==Pt)return new Ae(x[Pt]);if("oid"==Pt)return new _e(x[Pt]);if("enum"==Pt)return new De(x[Pt]);if("utf8str"==Pt)return new Fe(x[Pt]);if("numstr"==Pt)return new c(x[Pt]);if("prnstr"==Pt)return new Ne(x[Pt]);if("telstr"==Pt)return new He(x[Pt]);if("ia5str"==Pt)return new Je(x[Pt]);if("utctime"==Pt)return new rt(x[Pt]);if("gentime"==Pt)return new tt(x[Pt]);if("visstr"==Pt)return new he(x[Pt]);if("bmpstr"==Pt)return new Re(x[Pt]);if("asn1"==Pt)return new D(x[Pt]);if("seq"==Pt){for(var xn=x[Pt],Ut=[],Zt=0;Zt<xn.length;Zt++){var er=st(xn[Zt]);Ut.push(er)}return new Oe({array:Ut})}if("set"==Pt){for(xn=x[Pt],Ut=[],Zt=0;Zt<xn.length;Zt++)er=st(xn[Zt]),Ut.push(er);return new Le({array:Ut})}if("tag"==Pt){var ur=x[Pt];if("[object Array]"===Object.prototype.toString.call(ur)&&3==ur.length){var Wn=st(ur[2]);return new et({tag:ur[0],explicit:ur[1],obj:Wn})}return new et(ur)}},this.jsonToASN1HEX=function(x){return this.newObject(x).getEncodedHex()}},Se.asn1.ASN1Util.oidHexToInt=function(x){for(var C="",D=parseInt(x.substr(0,2),16),O=(C=Math.floor(D/40)+"."+D%40,""),H=2;H<x.length;H+=2){var J=("00000000"+parseInt(x.substr(H,2),16).toString(2)).slice(-8);O+=J.substr(1,7),"0"==J.substr(0,1)&&(C=C+"."+new j(O,2).toString(10),O="")}return C},Se.asn1.ASN1Util.oidIntToHex=function(x){var C=function(_e){var De=_e.toString(16);return 1==De.length&&(De="0"+De),De},D=function(_e){var De="",Fe=new j(_e,10).toString(2),c=7-Fe.length%7;7==c&&(c=0);for(var Ne="",He=0;He<c;He++)Ne+="0";for(Fe=Ne+Fe,He=0;He<Fe.length-1;He+=7){var Je=Fe.substr(He,7);He!=Fe.length-7&&(Je="1"+Je),De+=C(parseInt(Je,2))}return De};if(!x.match(/^[0-9.]+$/))throw"malformed oid string: "+x;var O="",H=x.split("."),J=40*parseInt(H[0])+parseInt(H[1]);O+=C(J),H.splice(0,2);for(var ce=0;ce<H.length;ce++)O+=D(H[ce]);return O},Se.asn1.ASN1Object=function(x){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,D=C.toString(16);if(D.length%2==1&&(D="0"+D),C<128)return D;var O=D.length/2;if(O>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+O).toString(16)+D},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},null!=x&&null!=x.tlv&&(this.hTLV=x.tlv,this.isModified=!1)},Se.asn1.DERAbstractString=function(x){Se.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Tt(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==x&&("string"==typeof x?this.setString(x):void 0!==x.str?this.setString(x.str):void 0!==x.hex&&this.setStringHex(x.hex))},A.lang.extend(Se.asn1.DERAbstractString,Se.asn1.ASN1Object),Se.asn1.DERAbstractTime=function(x){Se.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var D=C.getTime()+6e4*C.getTimezoneOffset();return new Date(D)},this.formatDate=function(C,D,O){var H=this.zeroPadding,J=this.localDateToUTC(C),ce=String(J.getFullYear());"utc"==D&&(ce=ce.substr(2,2));var Ae=ce+H(String(J.getMonth()+1),2)+H(String(J.getDate()),2)+H(String(J.getHours()),2)+H(String(J.getMinutes()),2)+H(String(J.getSeconds()),2);if(!0===O){var _e=J.getMilliseconds();if(0!=_e){var De=H(String(_e),3);Ae=Ae+"."+(De=De.replace(/[0]+$/,""))}}return Ae+"Z"},this.zeroPadding=function(C,D){return C.length>=D?C:new Array(D-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Ft(C)},this.setByDateValue=function(C,D,O,H,J,ce){var Ae=new Date(Date.UTC(C,D-1,O,H,J,ce,0));this.setByDate(Ae)},this.getFreshValueHex=function(){return this.hV}},A.lang.extend(Se.asn1.DERAbstractTime,Se.asn1.ASN1Object),Se.asn1.DERAbstractStructured=function(x){Se.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,void 0!==x&&void 0!==x.array&&(this.asn1Array=x.array)},A.lang.extend(Se.asn1.DERAbstractStructured,Se.asn1.ASN1Object),Se.asn1.DERBoolean=function(x){Se.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==x?"010100":"0101ff"},A.lang.extend(Se.asn1.DERBoolean,Se.asn1.ASN1Object),Se.asn1.DERInteger=function(x){Se.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=Se.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var D=new j(String(C),10);this.setByBigInteger(D)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==x&&(void 0!==x.bigint?this.setByBigInteger(x.bigint):void 0!==x.int?this.setByInteger(x.int):"number"==typeof x?this.setByInteger(x):void 0!==x.hex&&this.setValueHex(x.hex))},A.lang.extend(Se.asn1.DERInteger,Se.asn1.ASN1Object),Se.asn1.DERBitString=function(x){if(void 0!==x&&void 0!==x.obj){var C=Se.asn1.ASN1Util.newObject(x.obj);x.hex="00"+C.getEncodedHex()}Se.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(D){this.hTLV=null,this.isModified=!0,this.hV=D},this.setUnusedBitsAndHexValue=function(D,O){if(D<0||7<D)throw"unused bits shall be from 0 to 7: u = "+D;var H="0"+D;this.hTLV=null,this.isModified=!0,this.hV=H+O},this.setByBinaryString=function(D){var O=8-(D=D.replace(/0+$/,"")).length%8;8==O&&(O=0);for(var H=0;H<=O;H++)D+="0";var J="";for(H=0;H<D.length-1;H+=8){var ce=D.substr(H,8),Ae=parseInt(ce,2).toString(16);1==Ae.length&&(Ae="0"+Ae),J+=Ae}this.hTLV=null,this.isModified=!0,this.hV="0"+O+J},this.setByBooleanArray=function(D){for(var O="",H=0;H<D.length;H++)O+=1==D[H]?"1":"0";this.setByBinaryString(O)},this.newFalseArray=function(D){for(var O=new Array(D),H=0;H<D;H++)O[H]=!1;return O},this.getFreshValueHex=function(){return this.hV},void 0!==x&&("string"==typeof x&&x.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(x):void 0!==x.hex?this.setHexValueIncludingUnusedBits(x.hex):void 0!==x.bin?this.setByBinaryString(x.bin):void 0!==x.array&&this.setByBooleanArray(x.array))},A.lang.extend(Se.asn1.DERBitString,Se.asn1.ASN1Object),Se.asn1.DEROctetString=function(x){if(void 0!==x&&void 0!==x.obj){var C=Se.asn1.ASN1Util.newObject(x.obj);x.hex=C.getEncodedHex()}Se.asn1.DEROctetString.superclass.constructor.call(this,x),this.hT="04"},A.lang.extend(Se.asn1.DEROctetString,Se.asn1.DERAbstractString),Se.asn1.DERNull=function(){Se.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},A.lang.extend(Se.asn1.DERNull,Se.asn1.ASN1Object),Se.asn1.DERObjectIdentifier=function(x){Se.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var D=function(H){var J=function(Ne){var He=Ne.toString(16);return 1==He.length&&(He="0"+He),He},ce=function(Ne){var He="",Je=parseInt(Ne,10).toString(2),rt=7-Je.length%7;7==rt&&(rt=0);for(var tt="",he=0;he<rt;he++)tt+="0";for(Je=tt+Je,he=0;he<Je.length-1;he+=7){var Re=Je.substr(he,7);he!=Je.length-7&&(Re="1"+Re),He+=J(parseInt(Re,2))}return He};try{if(!H.match(/^[0-9.]+$/))return null;var Ae="",_e=H.split("."),De=40*parseInt(_e[0],10)+parseInt(_e[1],10);Ae+=J(De),_e.splice(0,2);for(var Fe=0;Fe<_e.length;Fe++)Ae+=ce(_e[Fe]);return Ae}catch{return null}}(C);if(null==D)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=D},this.setValueName=function(C){var D=Se.asn1.x509.OID.name2oid(C);if(""===D)throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(D)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){"string"==typeof C?this.setValueNameOrOid(C):void 0!==C.oid?this.setValueNameOrOid(C.oid):void 0!==C.name?this.setValueNameOrOid(C.name):void 0!==C.hex&&this.setValueHex(C.hex)},void 0!==x&&this.setByParam(x)},A.lang.extend(Se.asn1.DERObjectIdentifier,Se.asn1.ASN1Object),Se.asn1.DEREnumerated=function(x){Se.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=Se.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var D=new j(String(C),10);this.setByBigInteger(D)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},void 0!==x&&(void 0!==x.int?this.setByInteger(x.int):"number"==typeof x?this.setByInteger(x):void 0!==x.hex&&this.setValueHex(x.hex))},A.lang.extend(Se.asn1.DEREnumerated,Se.asn1.ASN1Object),Se.asn1.DERUTF8String=function(x){Se.asn1.DERUTF8String.superclass.constructor.call(this,x),this.hT="0c"},A.lang.extend(Se.asn1.DERUTF8String,Se.asn1.DERAbstractString),Se.asn1.DERNumericString=function(x){Se.asn1.DERNumericString.superclass.constructor.call(this,x),this.hT="12"},A.lang.extend(Se.asn1.DERNumericString,Se.asn1.DERAbstractString),Se.asn1.DERPrintableString=function(x){Se.asn1.DERPrintableString.superclass.constructor.call(this,x),this.hT="13"},A.lang.extend(Se.asn1.DERPrintableString,Se.asn1.DERAbstractString),Se.asn1.DERTeletexString=function(x){Se.asn1.DERTeletexString.superclass.constructor.call(this,x),this.hT="14"},A.lang.extend(Se.asn1.DERTeletexString,Se.asn1.DERAbstractString),Se.asn1.DERIA5String=function(x){Se.asn1.DERIA5String.superclass.constructor.call(this,x),this.hT="16"},A.lang.extend(Se.asn1.DERIA5String,Se.asn1.DERAbstractString),Se.asn1.DERVisibleString=function(x){Se.asn1.DERIA5String.superclass.constructor.call(this,x),this.hT="1a"},A.lang.extend(Se.asn1.DERVisibleString,Se.asn1.DERAbstractString),Se.asn1.DERBMPString=function(x){Se.asn1.DERBMPString.superclass.constructor.call(this,x),this.hT="1e"},A.lang.extend(Se.asn1.DERBMPString,Se.asn1.DERAbstractString),Se.asn1.DERUTCTime=function(x){Se.asn1.DERUTCTime.superclass.constructor.call(this,x),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Ft(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ft(this.s)),this.hV},void 0!==x&&(void 0!==x.str?this.setString(x.str):"string"==typeof x&&x.match(/^[0-9]{12}Z$/)?this.setString(x):void 0!==x.hex?this.setStringHex(x.hex):void 0!==x.date&&this.setByDate(x.date))},A.lang.extend(Se.asn1.DERUTCTime,Se.asn1.DERAbstractTime),Se.asn1.DERGeneralizedTime=function(x){Se.asn1.DERGeneralizedTime.superclass.constructor.call(this,x),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ft(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ft(this.s)),this.hV},void 0!==x&&(void 0!==x.str?this.setString(x.str):"string"==typeof x&&x.match(/^[0-9]{14}Z$/)?this.setString(x):void 0!==x.hex?this.setStringHex(x.hex):void 0!==x.date&&this.setByDate(x.date),!0===x.millis&&(this.withMillis=!0))},A.lang.extend(Se.asn1.DERGeneralizedTime,Se.asn1.DERAbstractTime),Se.asn1.DERSequence=function(x){Se.asn1.DERSequence.superclass.constructor.call(this,x),this.hT="30",this.getFreshValueHex=function(){for(var C="",D=0;D<this.asn1Array.length;D++)C+=this.asn1Array[D].getEncodedHex();return this.hV=C,this.hV}},A.lang.extend(Se.asn1.DERSequence,Se.asn1.DERAbstractStructured),Se.asn1.DERSet=function(x){Se.asn1.DERSet.superclass.constructor.call(this,x),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,D=0;D<this.asn1Array.length;D++)C.push(this.asn1Array[D].getEncodedHex());return 1==this.sortFlag&&C.sort(),this.hV=C.join(""),this.hV},void 0!==x&&void 0!==x.sortflag&&0==x.sortflag&&(this.sortFlag=!1)},A.lang.extend(Se.asn1.DERSet,Se.asn1.DERAbstractStructured),Se.asn1.DERTaggedObject=function(x){Se.asn1.DERTaggedObject.superclass.constructor.call(this);var C=Se.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(D,O,H){this.hT=O,this.isExplicit=D,this.asn1Object=H,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=H.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,O),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(D){null!=D.tag&&(this.hT=D.tag),null!=D.explicit&&(this.isExplicit=D.explicit),null!=D.tage&&(this.hT=D.tage,this.isExplicit=!0),null!=D.tagi&&(this.hT=D.tagi,this.isExplicit=!1),null!=D.obj&&(D.obj instanceof C.ASN1Object?(this.asn1Object=D.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==m(D.obj)&&(this.asn1Object=C.ASN1Util.newObject(D.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=x&&this.setByParam(x)},A.lang.extend(Se.asn1.DERTaggedObject,Se.asn1.ASN1Object);var Se,Zn,Dn,pt=new function(){};function Vt(x){for(var C=new Array,D=0;D<x.length;D++)C[D]=x.charCodeAt(D);return C}function xt(x){for(var C="",D=0;D<x.length;D++)C+=String.fromCharCode(x[D]);return C}function wt(x){for(var C="",D=0;D<x.length;D++){var O=x[D].toString(16);1==O.length&&(O="0"+O),C+=O}return C}function Ft(x){return wt(Vt(x))}function ht(x){return(x=(x=x.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ue(x){return x.length%4==2?x+="==":x.length%4==3&&(x+="="),(x=x.replace(/-/g,"+")).replace(/_/g,"/")}function $e(x){return x.length%2==1&&(x="0"+x),ht(ee(x))}function mt(x){return te(Ue(x))}function Tt(x){return qn(cn(x))}function gt(x){return decodeURIComponent(wn(x))}function kt(x){for(var C="",D=0;D<x.length-1;D+=2)C+=String.fromCharCode(parseInt(x.substr(D,2),16));return C}function Qt(x){for(var C="",D=0;D<x.length;D++)C+=("0"+x.charCodeAt(D).toString(16)).slice(-2);return C}function un(x){return ee(x)}function rn(x){return un(x).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Bn(x){return te(x.replace(/[^0-9A-Za-z\/+=]*/g,""))}function tn(x,C){return"-----BEGIN "+C+"-----\r\n"+rn(x)+"\r\n-----END "+C+"-----\r\n"}function dn(x,C){if(-1==x.indexOf("-----BEGIN "))throw"can't find PEM header: "+C;return Bn(x=void 0!==C?(x=x.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(x=x.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pn(x){var C,D,O,H,J,ce,Ae,_e,De,Fe,c;if(c=x.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return _e=c[1],C=parseInt(_e),2===_e.length&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),D=parseInt(c[2])-1,O=parseInt(c[3]),H=parseInt(c[4]),J=parseInt(c[5]),ce=parseInt(c[6]),Ae=0,""!==(De=c[7])&&(Fe=(De.substr(1)+"00").substr(0,3),Ae=parseInt(Fe)),Date.UTC(C,D,O,H,J,ce,Ae);throw"unsupported zulu format: "+x}function sr(x){return~~(Pn(x)/1e3)}function qn(x){return x.replace(/%/g,"")}function wn(x){return x.replace(/(..)/g,"%$1")}function rr(x){var C="malformed IPv6 address";if(!x.match(/^[0-9A-Fa-f:]+$/))throw C;var D=(x=x.toLowerCase()).split(":").length-1;if(D<2)throw C;var O=":".repeat(7-D+2),H=(x=x.replace("::",O)).split(":");if(8!=H.length)throw C;for(var J=0;J<8;J++)H[J]=("0000"+H[J]).slice(-4);return H.join("")}function hr(x){if(!x.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(x=x.toLowerCase()).match(/.{1,4}/g),D=0;D<8;D++)C[D]=C[D].replace(/^0+/,""),""==C[D]&&(C[D]="0");var O=(x=":"+C.join(":")+":").match(/:(0:){2,}/g);if(null===O)return x.slice(1,-1);var H="";for(D=0;D<O.length;D++)O[D].length>H.length&&(H=O[D]);return(x=x.replace(H,"::")).slice(1,-1)}function Cn(x){var C="malformed hex value";if(!x.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(8!=x.length)return 32==x.length?hr(x):x;try{return parseInt(x.substr(0,2),16)+"."+parseInt(x.substr(2,2),16)+"."+parseInt(x.substr(4,2),16)+"."+parseInt(x.substr(6,2),16)}catch{throw C}}function cn(x){for(var C=encodeURIComponent(x),D="",O=0;O<C.length;O++)"%"==C[O]?(D+=C.substr(O,3),O+=2):D=D+"%"+Ft(C[O]);return D}function mn(x){return!(x.length%2!=0||!x.match(/^[0-9a-f]+$/)&&!x.match(/^[0-9A-F]+$/))}function ta(x){return x.length%2==1?"0"+x:x.substr(0,1)>"7"?"00"+x:x}pt.getLblen=function(x,C){if("8"!=x.substr(C+2,1))return 1;var D=parseInt(x.substr(C+3,1));return 0==D?-1:0<D&&D<10?D+1:-2},pt.getL=function(x,C){var D=pt.getLblen(x,C);return D<1?"":x.substr(C+2,2*D)},pt.getVblen=function(x,C){var D;return""==(D=pt.getL(x,C))?-1:("8"===D.substr(0,1)?new j(D.substr(2),16):new j(D,16)).intValue()},pt.getVidx=function(x,C){var D=pt.getLblen(x,C);return D<0?D:C+2*(D+1)},pt.getV=function(x,C){var D=pt.getVidx(x,C),O=pt.getVblen(x,C);return x.substr(D,2*O)},pt.getTLV=function(x,C){return x.substr(C,2)+pt.getL(x,C)+pt.getV(x,C)},pt.getTLVblen=function(x,C){return 2+2*pt.getLblen(x,C)+2*pt.getVblen(x,C)},pt.getNextSiblingIdx=function(x,C){return pt.getVidx(x,C)+2*pt.getVblen(x,C)},pt.getChildIdx=function(x,C){var D,O,H,J=pt,ce=[];D=J.getVidx(x,C),O=2*J.getVblen(x,C),"03"==x.substr(C,2)&&(D+=2,O-=2),H=0;for(var Ae=D;H<=O;){var _e=J.getTLVblen(x,Ae);if((H+=_e)<=O&&ce.push(Ae),Ae+=_e,H>=O)break}return ce},pt.getNthChildIdx=function(x,C,D){return pt.getChildIdx(x,C)[D]},pt.getIdxbyList=function(x,C,D,O){var H,J,ce=pt;return 0==D.length?void 0!==O&&x.substr(C,2)!==O?-1:C:(H=D.shift())>=(J=ce.getChildIdx(x,C)).length?-1:ce.getIdxbyList(x,J[H],D,O)},pt.getIdxbyListEx=function(x,C,D,O){var H,J,ce=pt;if(0==D.length)return void 0!==O&&x.substr(C,2)!==O?-1:C;H=D.shift(),J=ce.getChildIdx(x,C);for(var Ae=0,_e=0;_e<J.length;_e++){var De=x.substr(J[_e],2);if("number"==typeof H&&!ce.isContextTag(De)&&Ae==H||"string"==typeof H&&ce.isContextTag(De,H))return ce.getIdxbyListEx(x,J[_e],D,O);ce.isContextTag(De)||Ae++}return-1},pt.getTLVbyList=function(x,C,D,O){var H=pt,J=H.getIdxbyList(x,C,D,O);return-1==J||J>=x.length?null:H.getTLV(x,J)},pt.getTLVbyListEx=function(x,C,D,O){var H=pt,J=H.getIdxbyListEx(x,C,D,O);return-1==J?null:H.getTLV(x,J)},pt.getVbyList=function(x,C,D,O,H){var J,ce,Ae=pt;return-1==(J=Ae.getIdxbyList(x,C,D,O))||J>=x.length?null:(ce=Ae.getV(x,J),!0===H&&(ce=ce.substr(2)),ce)},pt.getVbyListEx=function(x,C,D,O,H){var J,ce,Ae=pt;return-1==(J=Ae.getIdxbyListEx(x,C,D,O))?null:(ce=Ae.getV(x,J),"03"==x.substr(J,2)&&!1!==H&&(ce=ce.substr(2)),ce)},pt.getInt=function(x,C,D){null==D&&(D=-1);try{var O=x.substr(C,2);if("02"!=O&&"03"!=O)return D;var H=pt.getV(x,C);return"02"==O?parseInt(H,16):function(ce){try{var Ae=ce.substr(0,2);if("00"==Ae)return parseInt(ce.substr(2),16);var _e=parseInt(Ae,16),De=ce.substr(2),Fe=parseInt(De,16).toString(2);return"0"==Fe&&(Fe="00000000"),Fe=Fe.slice(0,0-_e),parseInt(Fe,2)}catch{return-1}}(H)}catch{return D}},pt.getOID=function(x,C,D){null==D&&(D=null);try{return"06"!=x.substr(C,2)?D:function(H){if(!mn(H))return null;try{var J=[],ce=H.substr(0,2),Ae=parseInt(ce,16);J[0]=new String(Math.floor(Ae/40)),J[1]=new String(Ae%40);for(var _e=H.substr(2),De=[],Fe=0;Fe<_e.length/2;Fe++)De.push(parseInt(_e.substr(2*Fe,2),16));var c=[],Ne="";for(Fe=0;Fe<De.length;Fe++)128&De[Fe]?Ne+=ni((127&De[Fe]).toString(2),7):(Ne+=ni((127&De[Fe]).toString(2),7),c.push(new String(parseInt(Ne,2))),Ne="");var He=J.join(".");return c.length>0&&(He=He+"."+c.join(".")),He}catch{return null}}(pt.getV(x,C))}catch{return D}},pt.getOIDName=function(x,C,D){null==D&&(D=null);try{var O=pt.getOID(x,C,D);if(O==D)return D;var H=Se.asn1.x509.OID.oid2name(O);return""==H?O:H}catch{return D}},pt.getString=function(x,C,D){null==D&&(D=null);try{return kt(pt.getV(x,C))}catch{return D}},pt.hextooidstr=function(x){var C=function(Ne,He){return Ne.length>=He?Ne:new Array(He-Ne.length+1).join("0")+Ne},D=[],O=x.substr(0,2),H=parseInt(O,16);D[0]=new String(Math.floor(H/40)),D[1]=new String(H%40);for(var J=x.substr(2),ce=[],Ae=0;Ae<J.length/2;Ae++)ce.push(parseInt(J.substr(2*Ae,2),16));var _e=[],De="";for(Ae=0;Ae<ce.length;Ae++)128&ce[Ae]?De+=C((127&ce[Ae]).toString(2),7):(De+=C((127&ce[Ae]).toString(2),7),_e.push(new String(parseInt(De,2))),De="");var Fe=D.join(".");return _e.length>0&&(Fe=Fe+"."+_e.join(".")),Fe},pt.dump=function(x,C,D,O){var H=pt,J=H.getV,ce=H.dump,Ae=H.getChildIdx,_e=x;x instanceof Se.asn1.ASN1Object&&(_e=x.getEncodedHex());var De=function(Pt,xn){return Pt.length<=2*xn?Pt:Pt.substr(0,xn)+"..(total "+Pt.length/2+"bytes).."+Pt.substr(Pt.length-xn,xn)};void 0===C&&(C={ommit_long_octet:32}),void 0===D&&(D=0),void 0===O&&(O="");var Fe,c=C.ommit_long_octet;if("01"==(Fe=_e.substr(D,2)))return"00"==(Ne=J(_e,D))?O+"BOOLEAN FALSE\n":O+"BOOLEAN TRUE\n";if("02"==Fe)return O+"INTEGER "+De(Ne=J(_e,D),c)+"\n";if("03"==Fe){var Ne=J(_e,D);return H.isASN1HEX(Ne.substr(2))?(He=O+"BITSTRING, encapsulates\n")+ce(Ne.substr(2),C,0,O+"  "):O+"BITSTRING "+De(Ne,c)+"\n"}if("04"==Fe)return Ne=J(_e,D),H.isASN1HEX(Ne)?(He=O+"OCTETSTRING, encapsulates\n",He+=ce(Ne,C,0,O+"  ")):O+"OCTETSTRING "+De(Ne,c)+"\n";if("05"==Fe)return O+"NULL\n";if("06"==Fe){var Je=J(_e,D),rt=Se.asn1.ASN1Util.oidHexToInt(Je),tt=Se.asn1.x509.OID.oid2name(rt),he=rt.replace(/\./g," ");return""!=tt?O+"ObjectIdentifier "+tt+" ("+he+")\n":O+"ObjectIdentifier ("+he+")\n"}if("0a"==Fe)return O+"ENUMERATED "+parseInt(J(_e,D))+"\n";if("0c"==Fe)return O+"UTF8String '"+gt(J(_e,D))+"'\n";if("13"==Fe)return O+"PrintableString '"+gt(J(_e,D))+"'\n";if("14"==Fe)return O+"TeletexString '"+gt(J(_e,D))+"'\n";if("16"==Fe)return O+"IA5String '"+gt(J(_e,D))+"'\n";if("17"==Fe)return O+"UTCTime "+gt(J(_e,D))+"\n";if("18"==Fe)return O+"GeneralizedTime "+gt(J(_e,D))+"\n";if("1a"==Fe)return O+"VisualString '"+gt(J(_e,D))+"'\n";if("1e"==Fe)return O+"BMPString '"+gt(J(_e,D))+"'\n";if("30"==Fe){if("3000"==_e.substr(D,4))return O+"SEQUENCE {}\n";He=O+"SEQUENCE\n";var Re=C;if((2==(et=Ae(_e,D)).length||3==et.length)&&"06"==_e.substr(et[0],2)&&"04"==_e.substr(et[et.length-1],2)){tt=H.oidname(J(_e,et[0]));var Oe=JSON.parse(JSON.stringify(C));Oe.x509ExtName=tt,Re=Oe}for(var Le=0;Le<et.length;Le++)He+=ce(_e,Re,et[Le],O+"  ");return He}if("31"==Fe){He=O+"SET\n";var et=Ae(_e,D);for(Le=0;Le<et.length;Le++)He+=ce(_e,C,et[Le],O+"  ");return He}if(128&(Fe=parseInt(Fe,16))){var He,st=31&Fe;if(32&Fe){for(He=O+"["+st+"]\n",et=Ae(_e,D),Le=0;Le<et.length;Le++)He+=ce(_e,C,et[Le],O+"  ");return He}return Ne=J(_e,D),pt.isASN1HEX(Ne)?(He=O+"["+st+"]\n")+ce(Ne,C,0,O+"  "):(("68747470"==Ne.substr(0,8)||"subjectAltName"===C.x509ExtName&&2==st)&&(Ne=gt(Ne)),O+"["+st+"] "+Ne+"\n")}return O+"UNKNOWN("+Fe+") "+J(_e,D)+"\n"},pt.isContextTag=function(x,C){var D,O;x=x.toLowerCase();try{D=parseInt(x,16)}catch{return-1}if(void 0===C)return 128==(192&D);try{return null!=C.match(/^\[[0-9]+\]$/)&&!((O=parseInt(C.substr(1,C.length-1),10))>31)&&128==(192&D)&&(31&D)==O}catch{return!1}},pt.isASN1HEX=function(x){var C=pt;if(x.length%2==1)return!1;var D=C.getVblen(x,0),O=x.substr(0,2),H=C.getL(x,0);return x.length-O.length-H.length==2*D},pt.checkStrictDER=function(x,C,D,O,H){var J=pt;if(void 0===D){if("string"!=typeof x)throw new Error("not hex string");if(x=x.toLowerCase(),!Se.lang.String.isHex(x))throw new Error("not hex string");D=x.length,H=(O=x.length/2)<128?1:Math.ceil(O.toString(16))+1}if(J.getL(x,C).length>2*H)throw new Error("L of TLV too long: idx="+C);var ce=J.getVblen(x,C);if(ce>O)throw new Error("value of L too long than hex: idx="+C);var Ae=J.getTLV(x,C),_e=Ae.length-2-J.getL(x,C).length;if(_e!==2*ce)throw new Error("V string length and L's value not the same:"+_e+"/"+2*ce);if(0===C&&x.length!=Ae.length)throw new Error("total length and TLV length unmatch:"+x.length+"!="+Ae.length);var De=x.substr(C,2);if("02"===De){var Fe=J.getVidx(x,C);if("00"==x.substr(Fe,2)&&x.charCodeAt(Fe+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(De,16)){for(var c=J.getVblen(x,C),Ne=0,He=J.getChildIdx(x,C),Je=0;Je<He.length;Je++)Ne+=J.getTLV(x,He[Je]).length,J.checkStrictDER(x,He[Je],D,O,H);if(2*c!=Ne)throw new Error("sum of children's TLV length and L unmatch: "+2*c+"!="+Ne)}},pt.oidname=function(x){var C=Se.asn1;Se.lang.String.isHex(x)&&(x=C.ASN1Util.oidHexToInt(x));var D=C.x509.OID.oid2name(x);return""===D&&(D=x),D},void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.lang&&Se.lang||(Se.lang={}),Se.lang.String=function(){},"function"==typeof a?(b.utf8tob64u=Zn=function(C){return ht(a.from(C,"utf8").toString("base64"))},b.b64utoutf8=Dn=function(C){return a.from(Ue(C),"base64").toString("utf8")}):(b.utf8tob64u=Zn=function(C){return $e(qn(cn(C)))},b.b64utoutf8=Dn=function(C){return decodeURIComponent(wn(mt(C)))}),Se.lang.String.isInteger=function(x){return!!x.match(/^[0-9]+$/)||!!x.match(/^-[0-9]+$/)},Se.lang.String.isHex=function(x){return mn(x)},Se.lang.String.isBase64=function(x){return!(!(x=x.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||x.length%4!=0)},Se.lang.String.isBase64URL=function(x){return!x.match(/[+/=]/)&&(x=Ue(x),Se.lang.String.isBase64(x))},Se.lang.String.isIntegerArray=function(x){return!!(x=x.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},Se.lang.String.isPrintable=function(x){return null!==x.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},Se.lang.String.isIA5=function(x){return null!==x.match(/^[\x20-\x21\x23-\x7f]*$/)},Se.lang.String.isMail=function(x){return null!==x.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var ni=function(C,D,O){return null==O&&(O="0"),C.length>=D?C:new Array(D-C.length+1).join(O)+C};void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.crypto&&Se.crypto||(Se.crypto={}),Se.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:T.algo.MD5,sha1:T.algo.SHA1,sha224:T.algo.SHA224,sha256:T.algo.SHA256,sha384:T.algo.SHA384,sha512:T.algo.SHA512,ripemd160:T.algo.RIPEMD160},this.getDigestInfoHex=function(x,C){if(void 0===this.DIGESTINFOHEAD[C])throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+x},this.getPaddedDigestInfoHex=function(x,C,D){var O=this.getDigestInfoHex(x,C),H=D/4;if(O.length+22>H)throw"key is too short for SigAlg: keylen="+D+","+C;for(var J="0001",ce="00"+O,Ae="",_e=H-4-ce.length,De=0;De<_e;De+=2)Ae+="ff";return J+Ae+ce},this.hashString=function(x,C){return new Se.crypto.MessageDigest({alg:C}).digestString(x)},this.hashHex=function(x,C){return new Se.crypto.MessageDigest({alg:C}).digestHex(x)},this.sha1=function(x){return this.hashString(x,"sha1")},this.sha256=function(x){return this.hashString(x,"sha256")},this.sha256Hex=function(x){return this.hashHex(x,"sha256")},this.sha512=function(x){return this.hashString(x,"sha512")},this.sha512Hex=function(x){return this.hashHex(x,"sha512")},this.isKey=function(x){return x instanceof bt||x instanceof Se.crypto.DSA||x instanceof Se.crypto.ECDSA}},Se.crypto.Util.md5=function(x){return new Se.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(x)},Se.crypto.Util.ripemd160=function(x){return new Se.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(x)},Se.crypto.Util.SECURERANDOMGEN=new je,Se.crypto.Util.getRandomHexOfNbytes=function(x){var C=new Array(x);return Se.crypto.Util.SECURERANDOMGEN.nextBytes(C),wt(C)},Se.crypto.Util.getRandomBigIntegerOfNbytes=function(x){return new j(Se.crypto.Util.getRandomHexOfNbytes(x),16)},Se.crypto.Util.getRandomHexOfNbits=function(x){var C=x%8,D=new Array((x-C)/8+1);return Se.crypto.Util.SECURERANDOMGEN.nextBytes(D),D[0]=(255<<C&255^255)&D[0],wt(D)},Se.crypto.Util.getRandomBigIntegerOfNbits=function(x){return new j(Se.crypto.Util.getRandomHexOfNbits(x),16)},Se.crypto.Util.getRandomBigIntegerZeroToMax=function(x){for(var C=x.bitLength();;){var D=Se.crypto.Util.getRandomBigIntegerOfNbits(C);if(-1!=x.compareTo(D))return D}},Se.crypto.Util.getRandomBigIntegerMinToMax=function(x,C){var D=x.compareTo(C);if(1==D)throw"biMin is greater than biMax";if(0==D)return x;var O=C.subtract(x);return Se.crypto.Util.getRandomBigIntegerZeroToMax(O).add(x)},Se.crypto.MessageDigest=function(x){this.setAlgAndProvider=function(C,D){if(null!==(C=Se.crypto.MessageDigest.getCanonicalAlgName(C))&&void 0===D&&(D=Se.crypto.Util.DEFAULTPROVIDER[C]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)&&"cryptojs"==D){try{this.md=Se.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(O){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+O}this.updateString=function(O){this.md.update(O)},this.updateHex=function(O){var H=T.enc.Hex.parse(O);this.md.update(H)},this.digest=function(){return this.md.finalize().toString(T.enc.Hex)},this.digestString=function(O){return this.updateString(O),this.digest()},this.digestHex=function(O){return this.updateHex(O),this.digest()}}if(-1!=":sha256:".indexOf(C)&&"sjcl"==D){try{this.md=new sjcl.hash.sha256}catch(O){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+O}this.updateString=function(O){this.md.update(O)},this.updateHex=function(O){var H=sjcl.codec.hex.toBits(O);this.md.update(H)},this.digest=function(){var O=this.md.finalize();return sjcl.codec.hex.fromBits(O)},this.digestString=function(O){return this.updateString(O),this.digest()},this.digestHex=function(O){return this.updateHex(O),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==x&&void 0!==x.alg&&(this.algName=x.alg,void 0===x.prov&&(this.provName=Se.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Se.crypto.MessageDigest.getCanonicalAlgName=function(x){return"string"==typeof x&&(x=(x=x.toLowerCase()).replace(/-/,"")),x},Se.crypto.MessageDigest.getHashLength=function(x){var C=Se.crypto.MessageDigest,D=C.getCanonicalAlgName(x);if(void 0===C.HASHLENGTH[D])throw"not supported algorithm: "+x;return C.HASHLENGTH[D]},Se.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Se.crypto.Mac=function(x){this.setAlgAndProvider=function(C,D){if(null==(C=C.toLowerCase())&&(C="hmacsha1"),"hmac"!=(C=C.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+C;void 0===D&&(D=Se.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+D;var O=C.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(O)&&"cryptojs"==D){try{this.mac=T.algo.HMAC.create(Se.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[O],this.pass)}catch(J){throw"setAlgAndProvider hash alg set fail hashAlg="+O+"/"+J}this.updateString=function(J){this.mac.update(J)},this.updateHex=function(J){var ce=T.enc.Hex.parse(J);this.mac.update(ce)},this.doFinal=function(){return this.mac.finalize().toString(T.enc.Hex)},this.doFinalString=function(J){return this.updateString(J),this.doFinal()},this.doFinalHex=function(J){return this.updateHex(J),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if("string"==typeof C){var D=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(D=Qt(C)),void(this.pass=T.enc.Hex.parse(D))}if("object"!=(void 0===C?"undefined":m(C)))throw"KJUR.crypto.Mac unsupported password type: "+C;if(D=null,void 0!==C.hex){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;D=C.hex}if(void 0!==C.utf8&&(D=Tt(C.utf8)),void 0!==C.rstr&&(D=Qt(C.rstr)),void 0!==C.b64&&(D=te(C.b64)),void 0!==C.b64u&&(D=mt(C.b64u)),null==D)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=T.enc.Hex.parse(D)},void 0!==x&&(void 0!==x.pass&&this.setPassword(x.pass),void 0!==x.alg&&(this.algName=x.alg,void 0===x.prov&&(this.provName=Se.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Se.crypto.Signature=function(x){var C=null;if(this._setAlgNames=function(){var D=this.algName.match(/^(.+)with(.+)$/);D&&(this.mdAlgName=D[1].toLowerCase(),this.pubkeyAlgName=D[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(D,O){for(var H="",J=O/4-D.length,ce=0;ce<J;ce++)H+="0";return H+D},this.setAlgAndProvider=function(D,O){if(this._setAlgNames(),"cryptojs/jsrsa"!=O)throw new Error("provider not supported: "+O);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new Se.crypto.MessageDigest({alg:this.mdAlgName})}catch(H){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+H)}this.init=function(H,J){var ce=null;try{ce=void 0===J?Gn.getKey(H):Gn.getKey(H,J)}catch(Ae){throw"init failed:"+Ae}if(!0===ce.isPrivate)this.prvKey=ce,this.state="SIGN";else{if(!0!==ce.isPublic)throw"init failed.:"+ce;this.pubKey=ce,this.state="VERIFY"}},this.updateString=function(H){this.md.updateString(H)},this.updateHex=function(H){this.md.updateHex(H)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==Se.crypto.ECDSA&&(this.prvKey=new Se.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof bt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof bt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Se.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Se.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(H){return this.updateString(H),this.sign()},this.signHex=function(H){return this.updateHex(H),this.sign()},this.verify=function(H){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==Se.crypto.ECDSA&&(this.pubKey=new Se.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof bt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,H,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof bt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,H);if(void 0!==Se.crypto.ECDSA&&this.pubKey instanceof Se.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,H);if(void 0!==Se.crypto.DSA&&this.pubKey instanceof Se.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,H);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(D,O){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(D){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(D){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(D){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(D){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(D){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=x,void 0!==x&&(void 0!==x.alg&&(this.algName=x.alg,this.provName=void 0===x.prov?Se.crypto.Util.DEFAULTPROVIDER[this.algName]:x.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==x.psssaltlen&&(this.pssSaltLen=x.psssaltlen),void 0!==x.prvkeypem)){if(void 0!==x.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{C=Gn.getKey(x.prvkeypem),this.init(C)}catch(D){throw"fatal error to load pem private key: "+D}}},Se.crypto.Cipher=function(x){},Se.crypto.Cipher.encrypt=function(x,C,D){if(C instanceof bt&&C.isPublic){var O=Se.crypto.Cipher.getAlgByKeyAndName(C,D);if("RSA"===O)return C.encrypt(x);if("RSAOAEP"===O)return C.encryptOAEP(x,"sha1");var H=O.match(/^RSAOAEP(\d+)$/);if(null!==H)return C.encryptOAEP(x,"sha"+H[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+D}throw"Cipher.encrypt: unsupported key or algorithm"},Se.crypto.Cipher.decrypt=function(x,C,D){if(C instanceof bt&&C.isPrivate){var O=Se.crypto.Cipher.getAlgByKeyAndName(C,D);if("RSA"===O)return C.decrypt(x);if("RSAOAEP"===O)return C.decryptOAEP(x,"sha1");var H=O.match(/^RSAOAEP(\d+)$/);if(null!==H)return C.decryptOAEP(x,"sha"+H[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+D}throw"Cipher.decrypt: unsupported key or algorithm"},Se.crypto.Cipher.getAlgByKeyAndName=function(x,C){if(x instanceof bt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C))return C;if(null==C)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},Se.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.crypto&&Se.crypto||(Se.crypto={}),Se.crypto.ECDSA=function(x){var C=Error,D=j,O=It,H=Se.crypto.ECDSA,J=Se.crypto.ECParameterDB,ce=H.getName,_e=pt.getVbyListEx,De=pt.isASN1HEX,Fe=new je;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(c){return new D(c.bitLength(),Fe).mod(c.subtract(D.ONE)).add(D.ONE)},this.setNamedCurve=function(c){this.ecparams=J.getByName(c),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=c},this.setPrivateKeyHex=function(c){this.isPrivate=!0,this.prvKeyHex=c},this.setPublicKeyHex=function(c){this.isPublic=!0,this.pubKeyHex=c},this.getPublicKeyXYHex=function(){var c=this.pubKeyHex;if("04"!==c.substr(0,2))throw"this method supports uncompressed format(04) only";var Ne=this.ecparams.keylen/4;if(c.length!==2+2*Ne)throw"malformed public key hex length";var He={};return He.x=c.substr(2,Ne),He.y=c.substr(2+Ne),He},this.getShortNISTPCurveName=function(){var c=this.curveName;return"secp256r1"===c||"NIST P-256"===c||"P-256"===c||"prime256v1"===c?"P-256":"secp384r1"===c||"NIST P-384"===c||"P-384"===c?"P-384":null},this.generateKeyPairHex=function(){var Ne=this.getBigRandom(this.ecparams.n),He=this.ecparams.G.multiply(Ne),Je=He.getX().toBigInteger(),rt=He.getY().toBigInteger(),tt=this.ecparams.keylen/4,he=("0000000000"+Ne.toString(16)).slice(-tt),Re="04"+("0000000000"+Je.toString(16)).slice(-tt)+("0000000000"+rt.toString(16)).slice(-tt);return this.setPrivateKeyHex(he),this.setPublicKeyHex(Re),{ecprvhex:he,ecpubhex:Re}},this.signWithMessageHash=function(c){return this.signHex(c,this.prvKeyHex)},this.signHex=function(c,Ne){var He=new D(Ne,16),Je=this.ecparams.n,rt=new D(c.substring(0,this.ecparams.keylen/4),16);do{var tt=this.getBigRandom(Je),he=this.ecparams.G.multiply(tt).getX().toBigInteger().mod(Je)}while(he.compareTo(D.ZERO)<=0);var Re=tt.modInverse(Je).multiply(rt.add(He.multiply(he))).mod(Je);return H.biRSSigToASN1Sig(he,Re)},this.sign=function(c,Ne){var He=Ne,Je=this.ecparams.n,rt=D.fromByteArrayUnsigned(c);do{var tt=this.getBigRandom(Je),he=this.ecparams.G.multiply(tt).getX().toBigInteger().mod(Je)}while(he.compareTo(j.ZERO)<=0);var Re=tt.modInverse(Je).multiply(rt.add(He.multiply(he))).mod(Je);return this.serializeSig(he,Re)},this.verifyWithMessageHash=function(c,Ne){return this.verifyHex(c,Ne,this.pubKeyHex)},this.verifyHex=function(c,Ne,He){try{var Je,rt,tt=H.parseSigHex(Ne);Je=tt.r,rt=tt.s;var he=O.decodeFromHex(this.ecparams.curve,He),Re=new D(c.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Re,Je,rt,he)}catch{return!1}},this.verify=function(c,Ne,He){var Je,rt,tt;if(Bitcoin.Util.isArray(Ne)){var he=this.parseSig(Ne);Je=he.r,rt=he.s}else{if("object"!==(void 0===Ne?"undefined":m(Ne))||!Ne.r||!Ne.s)throw"Invalid value for signature";Je=Ne.r,rt=Ne.s}if(He instanceof It)tt=He;else{if(!Bitcoin.Util.isArray(He))throw"Invalid format for pubkey value, must be byte array or ECPointFp";tt=O.decodeFrom(this.ecparams.curve,He)}var Re=D.fromByteArrayUnsigned(c);return this.verifyRaw(Re,Je,rt,tt)},this.verifyRaw=function(c,Ne,He,Je){var rt=this.ecparams.n,tt=this.ecparams.G;if(Ne.compareTo(D.ONE)<0||Ne.compareTo(rt)>=0||He.compareTo(D.ONE)<0||He.compareTo(rt)>=0)return!1;var he=He.modInverse(rt),Re=c.multiply(he).mod(rt),Oe=Ne.multiply(he).mod(rt);return tt.multiply(Re).add(Je.multiply(Oe)).getX().toBigInteger().mod(rt).equals(Ne)},this.serializeSig=function(c,Ne){var He=c.toByteArraySigned(),Je=Ne.toByteArraySigned(),rt=[];return rt.push(2),rt.push(He.length),(rt=rt.concat(He)).push(2),rt.push(Je.length),(rt=rt.concat(Je)).unshift(rt.length),rt.unshift(48),rt},this.parseSig=function(c){var Ne;if(48!=c[0])throw new Error("Signature not a valid DERSequence");if(2!=c[Ne=2])throw new Error("First element in signature must be a DERInteger");var He=c.slice(Ne+2,Ne+2+c[Ne+1]);if(2!=c[Ne+=2+c[Ne+1]])throw new Error("Second element in signature must be a DERInteger");var Je=c.slice(Ne+2,Ne+2+c[Ne+1]);return Ne+=2+c[Ne+1],{r:D.fromByteArrayUnsigned(He),s:D.fromByteArrayUnsigned(Je)}},this.parseSigCompact=function(c){if(65!==c.length)throw"Signature has the wrong length";var Ne=c[0]-27;if(Ne<0||Ne>7)throw"Invalid signature type";var He=this.ecparams.n;return{r:D.fromByteArrayUnsigned(c.slice(1,33)).mod(He),s:D.fromByteArrayUnsigned(c.slice(33,65)).mod(He),i:Ne}},this.readPKCS5PrvKeyHex=function(c){if(!1===De(c))throw new Error("not ASN.1 hex string");var Ne,He,Je;try{Ne=_e(c,0,["[0]",0],"06"),He=_e(c,0,[1],"04");try{Je=_e(c,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=ce(Ne),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je),this.setPrivateKeyHex(He),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(c){if(!1===De(c))throw new C("not ASN.1 hex string");var Ne,He,Je;try{_e(c,0,[1,0],"06"),Ne=_e(c,0,[1,1],"06"),He=_e(c,0,[2,0,1],"04");try{Je=_e(c,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=ce(Ne),void 0===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je),this.setPrivateKeyHex(He),this.isPublic=!1},this.readPKCS8PubKeyHex=function(c){if(!1===De(c))throw new C("not ASN.1 hex string");var Ne,He;try{_e(c,0,[0,0],"06"),Ne=_e(c,0,[0,1],"06"),He=_e(c,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=ce(Ne),null===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(He)},this.readCertPubKeyHex=function(c,Ne){if(!1===De(c))throw new C("not ASN.1 hex string");var He,Je;try{He=_e(c,0,[0,5,0,1],"06"),Je=_e(c,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=ce(He),null===this.curveName)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Je)},void 0!==x&&void 0!==x.curve&&(this.curveName=x.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==x&&(void 0!==x.prv&&this.setPrivateKeyHex(x.prv),void 0!==x.pub&&this.setPublicKeyHex(x.pub))},Se.crypto.ECDSA.parseSigHex=function(x){var C=Se.crypto.ECDSA.parseSigHexInHexRS(x);return{r:new j(C.r,16),s:new j(C.s,16)}},Se.crypto.ECDSA.parseSigHexInHexRS=function(x){var D=pt.getChildIdx,O=pt.getV;if(pt.checkStrictDER(x,0),"30"!=x.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var H=D(x,0);if(2!=H.length)throw new Error("signature shall have two elements");var J=H[0],ce=H[1];if("02"!=x.substr(J,2))throw new Error("1st item not ASN.1 integer");if("02"!=x.substr(ce,2))throw new Error("2nd item not ASN.1 integer");return{r:O(x,J),s:O(x,ce)}},Se.crypto.ECDSA.asn1SigToConcatSig=function(x){var C=Se.crypto.ECDSA.parseSigHexInHexRS(x),D=C.r,O=C.s;if("00"==D.substr(0,2)&&D.length%32==2&&(D=D.substr(2)),"00"==O.substr(0,2)&&O.length%32==2&&(O=O.substr(2)),D.length%32==30&&(D="00"+D),O.length%32==30&&(O="00"+O),D.length%32!=0)throw"unknown ECDSA sig r length error";if(O.length%32!=0)throw"unknown ECDSA sig s length error";return D+O},Se.crypto.ECDSA.concatSigToASN1Sig=function(x){if(x.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=x.substr(0,x.length/2),D=x.substr(x.length/2);return Se.crypto.ECDSA.hexRSSigToASN1Sig(C,D)},Se.crypto.ECDSA.hexRSSigToASN1Sig=function(x,C){var D=new j(x,16),O=new j(C,16);return Se.crypto.ECDSA.biRSSigToASN1Sig(D,O)},Se.crypto.ECDSA.biRSSigToASN1Sig=function(x,C){var D=Se.asn1,O=new D.DERInteger({bigint:x}),H=new D.DERInteger({bigint:C});return new D.DERSequence({array:[O,H]}).getEncodedHex()},Se.crypto.ECDSA.getName=function(x){return"2b8104001f"===x?"secp192k1":"2a8648ce3d030107"===x?"secp256r1":"2b8104000a"===x?"secp256k1":"2b81040021"===x?"secp224r1":"2b81040022"===x?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(x)?"secp256r1":-1!=="|secp256k1|".indexOf(x)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(x)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(x)?"secp384r1":null},void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.crypto&&Se.crypto||(Se.crypto={}),Se.crypto.ECParameterDB=new function(){var x={},C={};function D(O){return new j(O,16)}this.getByName=function(O){var H=O;if(void 0!==C[H]&&(H=C[O]),void 0!==x[H])return x[H];throw"unregistered EC curve name: "+H},this.regist=function(O,H,J,ce,Ae,_e,De,Fe,c,Ne,He,Je){x[O]={};var rt=D(J),tt=D(ce),he=D(Ae),Re=D(_e),Oe=D(De),Le=new ln(rt,tt,he),et=Le.decodePointHex("04"+Fe+c);x[O].name=O,x[O].keylen=H,x[O].curve=Le,x[O].G=et,x[O].n=Re,x[O].h=Oe,x[O].oid=He,x[O].info=Je;for(var st=0;st<Ne.length;st++)C[Ne[st]]=O}},Se.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),Se.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),Se.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),Se.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),Se.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),Se.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),Se.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),Se.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),Se.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),Se.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Gn=function(){var x=function(De,Fe,c){return C(T.AES,De,Fe,c)},C=function(De,Fe,c,Ne){var He=T.enc.Hex.parse(Fe),Je=T.enc.Hex.parse(c),rt=T.enc.Hex.parse(Ne),tt={};tt.key=Je,tt.iv=rt,tt.ciphertext=He;var he=De.decrypt(tt,Je,{iv:rt});return T.enc.Hex.stringify(he)},D=function(De,Fe,c){return O(T.AES,De,Fe,c)},O=function(De,Fe,c,Ne){var He=T.enc.Hex.parse(Fe),Je=T.enc.Hex.parse(c),rt=T.enc.Hex.parse(Ne),tt=De.encrypt(He,Je,{iv:rt}),he=T.enc.Hex.parse(tt.toString());return T.enc.Base64.stringify(he)},H={"AES-256-CBC":{proc:x,eproc:D,keylen:32,ivlen:16},"AES-192-CBC":{proc:x,eproc:D,keylen:24,ivlen:16},"AES-128-CBC":{proc:x,eproc:D,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(De,Fe,c){return C(T.TripleDES,De,Fe,c)},eproc:function(De,Fe,c){return O(T.TripleDES,De,Fe,c)},keylen:24,ivlen:8},"DES-CBC":{proc:function(De,Fe,c){return C(T.DES,De,Fe,c)},eproc:function(De,Fe,c){return O(T.DES,De,Fe,c)},keylen:8,ivlen:8}},J=function(De){var Fe={},c=De.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));c&&(Fe.cipher=c[1],Fe.ivsalt=c[2]);var Ne=De.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Ne&&(Fe.type=Ne[1]);var He=-1,Je=0;-1!=De.indexOf("\r\n\r\n")&&(He=De.indexOf("\r\n\r\n"),Je=2),-1!=De.indexOf("\n\n")&&(He=De.indexOf("\n\n"),Je=1);var rt=De.indexOf("-----END");if(-1!=He&&-1!=rt){var tt=De.substring(He+2*Je,rt-Je);tt=tt.replace(/\s+/g,""),Fe.data=tt}return Fe},ce=function(De,Fe,c){for(var Ne=c.substring(0,16),He=T.enc.Hex.parse(Ne),Je=T.enc.Utf8.parse(Fe),rt=H[De].keylen+H[De].ivlen,tt="",he=null;;){var Re=T.algo.MD5.create();if(null!=he&&Re.update(he),Re.update(Je),Re.update(He),he=Re.finalize(),(tt+=T.enc.Hex.stringify(he)).length>=2*rt)break}var Oe={};return Oe.keyhex=tt.substr(0,2*H[De].keylen),Oe.ivhex=tt.substr(2*H[De].keylen,2*H[De].ivlen),Oe},Ae=function(De,Fe,c,Ne){var He=T.enc.Base64.parse(De),Je=T.enc.Hex.stringify(He);return(0,H[Fe].proc)(Je,c,Ne)};return{version:"1.0.0",parsePKCS5PEM:function(De){return J(De)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(De,Fe,c){return ce(De,Fe,c)},decryptKeyB64:function(De,Fe,c,Ne){return Ae(De,Fe,c,Ne)},getDecryptedKeyHex:function(De,Fe){var c=J(De),Ne=c.cipher,He=c.ivsalt,Je=c.data,rt=ce(Ne,Fe,He).keyhex;return Ae(Je,Ne,rt,He)},getEncryptedPKCS5PEMFromPrvKeyHex:function(De,Fe,c,Ne,He){var he,Re,Je="";if(void 0!==Ne&&null!=Ne||(Ne="AES-256-CBC"),void 0===H[Ne])throw"KEYUTIL unsupported algorithm: "+Ne;void 0!==He&&null!=He||(He=(he=H[Ne].ivlen,Re=T.lib.WordArray.random(he),T.enc.Hex.stringify(Re)).toUpperCase());var rt=function(he,Re,Oe,Le){return(0,H[Re].eproc)(he,Oe,Le)}(Fe,Ne,ce(Ne,c,He).keyhex,He);return Je="-----BEGIN "+De+" PRIVATE KEY-----\r\n",Je+="Proc-Type: 4,ENCRYPTED\r\n",Je+="DEK-Info: "+Ne+","+He+"\r\n",Je+="\r\n",(Je+=rt.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+De+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(De){var c=pt.getChildIdx,Ne=pt.getV,He={},Je=c(De,0);if(2!=Je.length)throw"malformed format: SEQUENCE(0).items != 2: "+Je.length;He.ciphertext=Ne(De,Je[1]);var rt=c(De,Je[0]);if(2!=rt.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+rt.length;if("2a864886f70d01050d"!=Ne(De,rt[0]))throw"this only supports pkcs5PBES2";var tt=c(De,rt[1]);if(2!=rt.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+tt.length;var he=c(De,tt[1]);if(2!=he.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+he.length;if("2a864886f70d0307"!=Ne(De,he[0]))throw"this only supports TripleDES";He.encryptionSchemeAlg="TripleDES",He.encryptionSchemeIV=Ne(De,he[1]);var Re=c(De,tt[0]);if(2!=Re.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Re.length;if("2a864886f70d01050c"!=Ne(De,Re[0]))throw"this only supports pkcs5PBKDF2";var Oe=c(De,Re[1]);if(Oe.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Oe.length;He.pbkdf2Salt=Ne(De,Oe[0]);var Le=Ne(De,Oe[1]);try{He.pbkdf2Iter=parseInt(Le,16)}catch{throw"malformed format pbkdf2Iter: "+Le}return He},getPBKDF2KeyHexFromParam:function(De,Fe){var c=T.enc.Hex.parse(De.pbkdf2Salt),He=T.PBKDF2(Fe,c,{keySize:6,iterations:De.pbkdf2Iter});return T.enc.Hex.stringify(He)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(De,Fe){var c=dn(De,"ENCRYPTED PRIVATE KEY"),Ne=this.parseHexOfEncryptedPKCS8(c),He=Gn.getPBKDF2KeyHexFromParam(Ne,Fe),Je={};Je.ciphertext=T.enc.Hex.parse(Ne.ciphertext);var rt=T.enc.Hex.parse(He),tt=T.enc.Hex.parse(Ne.encryptionSchemeIV),he=T.TripleDES.decrypt(Je,rt,{iv:tt});return T.enc.Hex.stringify(he)},getKeyFromEncryptedPKCS8PEM:function(De,Fe){var c=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(De,Fe);return this.getKeyFromPlainPrivatePKCS8Hex(c)},parsePlainPrivatePKCS8Hex:function(De){var Fe=pt,c=Fe.getChildIdx,Ne=Fe.getV,He={algparam:null};if("30"!=De.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var Je=c(De,0);if(3!=Je.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=De.substr(Je[1],2))throw"malformed PKCS8 private key(code:003)";var rt=c(De,Je[1]);if(2!=rt.length)throw"malformed PKCS8 private key(code:004)";if("06"!=De.substr(rt[0],2))throw"malformed PKCS8 private key(code:005)";if(He.algoid=Ne(De,rt[0]),"06"==De.substr(rt[1],2)&&(He.algparam=Ne(De,rt[1])),"04"!=De.substr(Je[2],2))throw"malformed PKCS8 private key(code:006)";return He.keyidx=Fe.getVidx(De,Je[2]),He},getKeyFromPlainPrivatePKCS8PEM:function(De){var Fe=dn(De,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Fe)},getKeyFromPlainPrivatePKCS8Hex:function(De){var Fe,c=this.parsePlainPrivatePKCS8Hex(De);if("2a864886f70d010101"==c.algoid)Fe=new bt;else if("2a8648ce380401"==c.algoid)Fe=new Se.crypto.DSA;else{if("2a8648ce3d0201"!=c.algoid)throw"unsupported private key algorithm";Fe=new Se.crypto.ECDSA}return Fe.readPKCS8PrvKeyHex(De),Fe},_getKeyFromPublicPKCS8Hex:function(De){var Fe,c=pt.getVbyList(De,0,[0,0],"06");if("2a864886f70d010101"===c)Fe=new bt;else if("2a8648ce380401"===c)Fe=new Se.crypto.DSA;else{if("2a8648ce3d0201"!==c)throw"unsupported PKCS#8 public key hex";Fe=new Se.crypto.ECDSA}return Fe.readPKCS8PubKeyHex(De),Fe},parsePublicRawRSAKeyHex:function(De){var c=pt.getChildIdx,Ne=pt.getV,He={};if("30"!=De.substr(0,2))throw"malformed RSA key(code:001)";var Je=c(De,0);if(2!=Je.length)throw"malformed RSA key(code:002)";if("02"!=De.substr(Je[0],2))throw"malformed RSA key(code:003)";if(He.n=Ne(De,Je[0]),"02"!=De.substr(Je[1],2))throw"malformed RSA key(code:004)";return He.e=Ne(De,Je[1]),He},parsePublicPKCS8Hex:function(De){var Fe=pt,c=Fe.getChildIdx,Ne=Fe.getV,He={algparam:null},Je=c(De,0);if(2!=Je.length)throw"outer DERSequence shall have 2 elements: "+Je.length;var rt=Je[0];if("30"!=De.substr(rt,2))throw"malformed PKCS8 public key(code:001)";var tt=c(De,rt);if(2!=tt.length)throw"malformed PKCS8 public key(code:002)";if("06"!=De.substr(tt[0],2))throw"malformed PKCS8 public key(code:003)";if(He.algoid=Ne(De,tt[0]),"06"==De.substr(tt[1],2)?He.algparam=Ne(De,tt[1]):"30"==De.substr(tt[1],2)&&(He.algparam={},He.algparam.p=Fe.getVbyList(De,tt[1],[0],"02"),He.algparam.q=Fe.getVbyList(De,tt[1],[1],"02"),He.algparam.g=Fe.getVbyList(De,tt[1],[2],"02")),"03"!=De.substr(Je[1],2))throw"malformed PKCS8 public key(code:004)";return He.key=Ne(De,Je[1]).substr(2),He}}}();Gn.getKey=function(x,C,D){var Wn,O=(tt=pt).getChildIdx,H=tt.getVbyList,J=Se.crypto,ce=J.ECDSA,Ae=J.DSA,_e=bt,De=dn,Fe=Gn;if(void 0!==_e&&x instanceof _e||void 0!==ce&&x instanceof ce||void 0!==Ae&&x instanceof Ae)return x;if(void 0!==x.curve&&void 0!==x.xy&&void 0===x.d)return new ce({pub:x.xy,curve:x.curve});if(void 0!==x.curve&&void 0!==x.d)return new ce({prv:x.d,curve:x.curve});if(void 0===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0===x.d)return(Zt=new _e).setPublic(x.n,x.e),Zt;if(void 0===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d&&void 0!==x.p&&void 0!==x.q&&void 0!==x.dp&&void 0!==x.dq&&void 0!==x.co&&void 0===x.qi)return(Zt=new _e).setPrivateEx(x.n,x.e,x.d,x.p,x.q,x.dp,x.dq,x.co),Zt;if(void 0===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d&&void 0===x.p)return(Zt=new _e).setPrivate(x.n,x.e,x.d),Zt;if(void 0!==x.p&&void 0!==x.q&&void 0!==x.g&&void 0!==x.y&&void 0===x.x)return(Zt=new Ae).setPublic(x.p,x.q,x.g,x.y),Zt;if(void 0!==x.p&&void 0!==x.q&&void 0!==x.g&&void 0!==x.y&&void 0!==x.x)return(Zt=new Ae).setPrivate(x.p,x.q,x.g,x.y,x.x),Zt;if("RSA"===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0===x.d)return(Zt=new _e).setPublic(mt(x.n),mt(x.e)),Zt;if("RSA"===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d&&void 0!==x.p&&void 0!==x.q&&void 0!==x.dp&&void 0!==x.dq&&void 0!==x.qi)return(Zt=new _e).setPrivateEx(mt(x.n),mt(x.e),mt(x.d),mt(x.p),mt(x.q),mt(x.dp),mt(x.dq),mt(x.qi)),Zt;if("RSA"===x.kty&&void 0!==x.n&&void 0!==x.e&&void 0!==x.d)return(Zt=new _e).setPrivate(mt(x.n),mt(x.e),mt(x.d)),Zt;if("EC"===x.kty&&void 0!==x.crv&&void 0!==x.x&&void 0!==x.y&&void 0===x.d){var c=(Ut=new ce({curve:x.crv})).ecparams.keylen/4,Ne="04"+("0000000000"+mt(x.x)).slice(-c)+("0000000000"+mt(x.y)).slice(-c);return Ut.setPublicKeyHex(Ne),Ut}if("EC"===x.kty&&void 0!==x.crv&&void 0!==x.x&&void 0!==x.y&&void 0!==x.d){c=(Ut=new ce({curve:x.crv})).ecparams.keylen/4,Ne="04"+("0000000000"+mt(x.x)).slice(-c)+("0000000000"+mt(x.y)).slice(-c);var He=("0000000000"+mt(x.d)).slice(-c);return Ut.setPublicKeyHex(Ne),Ut.setPrivateKeyHex(He),Ut}if("pkcs5prv"===D){var Je,rt=x,tt=pt;if(9===(Je=O(rt,0)).length)(Zt=new _e).readPKCS5PrvKeyHex(rt);else if(6===Je.length)(Zt=new Ae).readPKCS5PrvKeyHex(rt);else{if(!(Je.length>2&&"04"===rt.substr(Je[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(Zt=new ce).readPKCS5PrvKeyHex(rt)}return Zt}if("pkcs8prv"===D)return Fe.getKeyFromPlainPrivatePKCS8Hex(x);if("pkcs8pub"===D)return Fe._getKeyFromPublicPKCS8Hex(x);if("x509pub"===D)return vn.getPublicKeyFromCertHex(x);if(-1!=x.indexOf("-END CERTIFICATE-",0)||-1!=x.indexOf("-END X509 CERTIFICATE-",0)||-1!=x.indexOf("-END TRUSTED CERTIFICATE-",0))return vn.getPublicKeyFromCertPEM(x);if(-1!=x.indexOf("-END PUBLIC KEY-")){var he=dn(x,"PUBLIC KEY");return Fe._getKeyFromPublicPKCS8Hex(he)}if(-1!=x.indexOf("-END RSA PRIVATE KEY-")&&-1==x.indexOf("4,ENCRYPTED")){var Re=De(x,"RSA PRIVATE KEY");return Fe.getKey(Re,null,"pkcs5prv")}if(-1!=x.indexOf("-END DSA PRIVATE KEY-")&&-1==x.indexOf("4,ENCRYPTED")){var Oe=H(Wn=De(x,"DSA PRIVATE KEY"),0,[1],"02"),Le=H(Wn,0,[2],"02"),et=H(Wn,0,[3],"02"),st=H(Wn,0,[4],"02"),Kt=H(Wn,0,[5],"02");return(Zt=new Ae).setPrivate(new j(Oe,16),new j(Le,16),new j(et,16),new j(st,16),new j(Kt,16)),Zt}if(-1!=x.indexOf("-END EC PRIVATE KEY-")&&-1==x.indexOf("4,ENCRYPTED"))return Re=De(x,"EC PRIVATE KEY"),Fe.getKey(Re,null,"pkcs5prv");if(-1!=x.indexOf("-END PRIVATE KEY-"))return Fe.getKeyFromPlainPrivatePKCS8PEM(x);if(-1!=x.indexOf("-END RSA PRIVATE KEY-")&&-1!=x.indexOf("4,ENCRYPTED")){var Pt=Fe.getDecryptedKeyHex(x,C),xn=new bt;return xn.readPKCS5PrvKeyHex(Pt),xn}if(-1!=x.indexOf("-END EC PRIVATE KEY-")&&-1!=x.indexOf("4,ENCRYPTED")){var Ut,Zt=H(Wn=Fe.getDecryptedKeyHex(x,C),0,[1],"04"),er=H(Wn,0,[2,0],"06"),ur=H(Wn,0,[3,0],"03").substr(2);if(void 0===Se.crypto.OID.oidhex2name[er])throw"undefined OID(hex) in KJUR.crypto.OID: "+er;return(Ut=new ce({curve:Se.crypto.OID.oidhex2name[er]})).setPublicKeyHex(ur),Ut.setPrivateKeyHex(Zt),Ut.isPublic=!1,Ut}if(-1!=x.indexOf("-END DSA PRIVATE KEY-")&&-1!=x.indexOf("4,ENCRYPTED"))return Oe=H(Wn=Fe.getDecryptedKeyHex(x,C),0,[1],"02"),Le=H(Wn,0,[2],"02"),et=H(Wn,0,[3],"02"),st=H(Wn,0,[4],"02"),Kt=H(Wn,0,[5],"02"),(Zt=new Ae).setPrivate(new j(Oe,16),new j(Le,16),new j(et,16),new j(st,16),new j(Kt,16)),Zt;if(-1!=x.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Fe.getKeyFromEncryptedPKCS8PEM(x,C);throw new Error("not supported argument")},Gn.generateKeypair=function(x,C){if("RSA"==x){var D=C;(ce=new bt).generate(D,"10001"),ce.isPrivate=!0,ce.isPublic=!0;var O=new bt,H=ce.n.toString(16),J=ce.e.toString(16);return O.setPublic(H,J),O.isPrivate=!1,O.isPublic=!0,(Ae={}).prvKeyObj=ce,Ae.pubKeyObj=O,Ae}if("EC"==x){var ce,Ae,_e=C,De=new Se.crypto.ECDSA({curve:_e}).generateKeyPairHex();return(ce=new Se.crypto.ECDSA({curve:_e})).setPublicKeyHex(De.ecpubhex),ce.setPrivateKeyHex(De.ecprvhex),ce.isPrivate=!0,ce.isPublic=!1,(O=new Se.crypto.ECDSA({curve:_e})).setPublicKeyHex(De.ecpubhex),O.isPrivate=!1,O.isPublic=!0,(Ae={}).prvKeyObj=ce,Ae.pubKeyObj=O,Ae}throw"unknown algorithm: "+x},Gn.getPEM=function(x,C,D,O,H,J){var Ae=Se.asn1,_e=Ae.DERObjectIdentifier,De=Ae.DERInteger,Fe=Ae.ASN1Util.newObject,Ne=Se.crypto,He=Ne.DSA,Je=Ne.ECDSA,rt=bt;function tt(Ut){return Fe({seq:[{int:0},{int:{bigint:Ut.n}},{int:Ut.e},{int:{bigint:Ut.d}},{int:{bigint:Ut.p}},{int:{bigint:Ut.q}},{int:{bigint:Ut.dmp1}},{int:{bigint:Ut.dmq1}},{int:{bigint:Ut.coeff}}]})}function he(Ut){return Fe({seq:[{int:1},{octstr:{hex:Ut.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ut.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ut.pubKeyHex}}]}]})}function Re(Ut){return Fe({seq:[{int:0},{int:{bigint:Ut.p}},{int:{bigint:Ut.q}},{int:{bigint:Ut.g}},{int:{bigint:Ut.y}},{int:{bigint:Ut.x}}]})}if((void 0!==rt&&x instanceof rt||void 0!==He&&x instanceof He||void 0!==Je&&x instanceof Je)&&1==x.isPublic&&(void 0===C||"PKCS8PUB"==C))return tn(st=new(0,Ae.x509.SubjectPublicKeyInfo)(x).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==C&&void 0!==rt&&x instanceof rt&&(void 0===D||null==D)&&1==x.isPrivate)return tn(st=tt(x).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==C&&void 0!==Je&&x instanceof Je&&(void 0===D||null==D)&&1==x.isPrivate){var Oe=new _e({name:x.curveName}).getEncodedHex(),Le=he(x).getEncodedHex(),et="";return(et+=tn(Oe,"EC PARAMETERS"))+tn(Le,"EC PRIVATE KEY")}if("PKCS1PRV"==C&&void 0!==He&&x instanceof He&&(void 0===D||null==D)&&1==x.isPrivate)return tn(st=Re(x).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==C&&void 0!==rt&&x instanceof rt&&void 0!==D&&null!=D&&1==x.isPrivate){var st=tt(x).getEncodedHex();return void 0===O&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",st,D,O,J)}if("PKCS5PRV"==C&&void 0!==Je&&x instanceof Je&&void 0!==D&&null!=D&&1==x.isPrivate)return st=he(x).getEncodedHex(),void 0===O&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",st,D,O,J);if("PKCS5PRV"==C&&void 0!==He&&x instanceof He&&void 0!==D&&null!=D&&1==x.isPrivate)return st=Re(x).getEncodedHex(),void 0===O&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",st,D,O,J);var Kt=function(Zt,er){var ur=Pt(Zt,er);return new Fe({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:ur.pbkdf2Salt}},{int:ur.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:ur.encryptionSchemeIV}}]}]}]},{octstr:{hex:ur.ciphertext}}]}).getEncodedHex()},Pt=function(Zt,er){var ur=T.lib.WordArray.random(8),Wn=T.lib.WordArray.random(8),ba=T.PBKDF2(er,ur,{keySize:6,iterations:100}),na=T.enc.Hex.parse(Zt),ra=T.TripleDES.encrypt(na,ba,{iv:Wn})+"",Dr={};return Dr.ciphertext=ra,Dr.pbkdf2Salt=T.enc.Hex.stringify(ur),Dr.pbkdf2Iter=100,Dr.encryptionSchemeAlg="DES-EDE3-CBC",Dr.encryptionSchemeIV=T.enc.Hex.stringify(Wn),Dr};if("PKCS8PRV"==C&&null!=rt&&x instanceof rt&&1==x.isPrivate){var xn=tt(x).getEncodedHex();return st=Fe({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:xn}}]}).getEncodedHex(),void 0===D||null==D?tn(st,"PRIVATE KEY"):tn(Le=Kt(st,D),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==C&&void 0!==Je&&x instanceof Je&&1==x.isPrivate)return xn=new Fe({seq:[{int:1},{octstr:{hex:x.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+x.pubKeyHex}}]}]}).getEncodedHex(),st=Fe({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:x.curveName}}]},{octstr:{hex:xn}}]}).getEncodedHex(),void 0===D||null==D?tn(st,"PRIVATE KEY"):tn(Le=Kt(st,D),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==C&&void 0!==He&&x instanceof He&&1==x.isPrivate)return xn=new De({bigint:x.x}).getEncodedHex(),st=Fe({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:x.p}},{int:{bigint:x.q}},{int:{bigint:x.g}}]}]},{octstr:{hex:xn}}]}).getEncodedHex(),void 0===D||null==D?tn(st,"PRIVATE KEY"):tn(Le=Kt(st,D),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Gn.getKeyFromCSRPEM=function(x){var C=dn(x,"CERTIFICATE REQUEST");return Gn.getKeyFromCSRHex(C)},Gn.getKeyFromCSRHex=function(x){var C=Gn.parseCSRHex(x);return Gn.getKey(C.p8pubkeyhex,null,"pkcs8pub")},Gn.parseCSRHex=function(x){var D=pt.getChildIdx,O=pt.getTLV,H={},J=x;if("30"!=J.substr(0,2))throw"malformed CSR(code:001)";var ce=D(J,0);if(ce.length<1)throw"malformed CSR(code:002)";if("30"!=J.substr(ce[0],2))throw"malformed CSR(code:003)";var Ae=D(J,ce[0]);if(Ae.length<3)throw"malformed CSR(code:004)";return H.p8pubkeyhex=O(J,Ae[2]),H},Gn.getKeyID=function(x){var C=Gn,D=pt;"string"==typeof x&&-1!=x.indexOf("BEGIN ")&&(x=C.getKey(x));var O=dn(C.getPEM(x)),H=D.getIdxbyList(O,0,[1]),J=D.getV(O,H).substring(2);return Se.crypto.Util.hashHex(J,"sha1")},Gn.getJWKFromKey=function(x){var C={};if(x instanceof bt&&x.isPrivate)return C.kty="RSA",C.n=$e(x.n.toString(16)),C.e=$e(x.e.toString(16)),C.d=$e(x.d.toString(16)),C.p=$e(x.p.toString(16)),C.q=$e(x.q.toString(16)),C.dp=$e(x.dmp1.toString(16)),C.dq=$e(x.dmq1.toString(16)),C.qi=$e(x.coeff.toString(16)),C;if(x instanceof bt&&x.isPublic)return C.kty="RSA",C.n=$e(x.n.toString(16)),C.e=$e(x.e.toString(16)),C;if(x instanceof Se.crypto.ECDSA&&x.isPrivate){if("P-256"!==(O=x.getShortNISTPCurveName())&&"P-384"!==O)throw"unsupported curve name for JWT: "+O;var D=x.getPublicKeyXYHex();return C.kty="EC",C.crv=O,C.x=$e(D.x),C.y=$e(D.y),C.d=$e(x.prvKeyHex),C}if(x instanceof Se.crypto.ECDSA&&x.isPublic){var O;if("P-256"!==(O=x.getShortNISTPCurveName())&&"P-384"!==O)throw"unsupported curve name for JWT: "+O;return D=x.getPublicKeyXYHex(),C.kty="EC",C.crv=O,C.x=$e(D.x),C.y=$e(D.y),C}throw"not supported key object"},bt.getPosArrayOfChildrenFromHex=function(x){return pt.getChildIdx(x,0)},bt.getHexValueArrayOfChildrenFromHex=function(x){var C,D=pt.getV,O=D(x,(C=bt.getPosArrayOfChildrenFromHex(x))[0]),H=D(x,C[1]),J=D(x,C[2]),ce=D(x,C[3]),Ae=D(x,C[4]),_e=D(x,C[5]),De=D(x,C[6]),Fe=D(x,C[7]),c=D(x,C[8]);return(C=new Array).push(O,H,J,ce,Ae,_e,De,Fe,c),C},bt.prototype.readPrivateKeyFromPEMString=function(x){var C=dn(x),D=bt.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(D[1],D[2],D[3],D[4],D[5],D[6],D[7],D[8])},bt.prototype.readPKCS5PrvKeyHex=function(x){var C=bt.getHexValueArrayOfChildrenFromHex(x);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},bt.prototype.readPKCS8PrvKeyHex=function(x){var C,D,O,H,J,ce,Ae,_e,Fe=pt.getVbyListEx;if(!1===pt.isASN1HEX(x))throw new Error("not ASN.1 hex string");try{C=Fe(x,0,[2,0,1],"02"),D=Fe(x,0,[2,0,2],"02"),O=Fe(x,0,[2,0,3],"02"),H=Fe(x,0,[2,0,4],"02"),J=Fe(x,0,[2,0,5],"02"),ce=Fe(x,0,[2,0,6],"02"),Ae=Fe(x,0,[2,0,7],"02"),_e=Fe(x,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,D,O,H,J,ce,Ae,_e)},bt.prototype.readPKCS5PubKeyHex=function(x){var C=pt,D=C.getV;if(!1===C.isASN1HEX(x))throw new Error("keyHex is not ASN.1 hex string");var O=C.getChildIdx(x,0);if(2!==O.length||"02"!==x.substr(O[0],2)||"02"!==x.substr(O[1],2))throw new Error("wrong hex for PKCS#5 public key");var H=D(x,O[0]),J=D(x,O[1]);this.setPublic(H,J)},bt.prototype.readPKCS8PubKeyHex=function(x){var C=pt;if(!1===C.isASN1HEX(x))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==C.getTLVbyListEx(x,0,[0,0]))throw new Error("not PKCS8 RSA public key");var D=C.getTLVbyListEx(x,0,[1,0]);this.readPKCS5PubKeyHex(D)},bt.prototype.readCertPubKeyHex=function(x,C){var D,O;(D=new vn).readCertHex(x),O=D.getPublicKeyHex(),this.readPKCS8PubKeyHex(O)};var Oi=new RegExp("[^0-9a-f]","gi");function Ta(x,C){for(var D="",O=C/4-x.length,H=0;H<O;H++)D+="0";return D+x}function ri(x,C,D){for(var O="",H=0;O.length<C;)O+=kt(D(Qt(x+String.fromCharCode.apply(String,[(4278190080&H)>>24,(16711680&H)>>16,(65280&H)>>8,255&H])))),H+=1;return O}function vi(x){for(var C in Se.crypto.Util.DIGESTINFOHEAD){var D=Se.crypto.Util.DIGESTINFOHEAD[C],O=D.length;if(x.substring(0,O)==D)return[C,x.substring(O)]}return[]}function vn(x){var C,D=pt,O=D.getChildIdx,H=D.getV,J=D.getTLV,ce=D.getVbyList,Ae=D.getVbyListEx,_e=D.getTLVbyList,De=D.getTLVbyListEx,Fe=D.getIdxbyList,c=D.getIdxbyListEx,Ne=D.getVidx,He=D.oidname,Je=D.hextooidstr,rt=vn,tt=dn;try{C=Se.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==_e(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return Ae(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var he=De(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(he)},this.getAlgorithmIdentifierName=function(he){for(var Re in C)if(he===C[Re])return Re;return He(Ae(he,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return _e(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return rt.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return _e(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return rt.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var he=ce(this.hex,0,[0,4+this.foffset,0]);return he=he.replace(/(..)/g,"%$1"),decodeURIComponent(he)},this.getNotAfter=function(){var he=ce(this.hex,0,[0,4+this.foffset,1]);return he=he.replace(/(..)/g,"%$1"),decodeURIComponent(he)},this.getPublicKeyHex=function(){return D.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Fe(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var he=this.getPublicKeyIdx();return Fe(this.hex,he,[1,0],"30")},this.getPublicKey=function(){return Gn.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var he=_e(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(he)},this.getSignatureValueHex=function(){return ce(this.hex,0,[2],"03",!0)},this.verifySignature=function(he){var Re=this.getSignatureAlgorithmField(),Oe=this.getSignatureValueHex(),Le=_e(this.hex,0,[0],"30"),et=new Se.crypto.Signature({alg:Re});return et.init(he),et.updateHex(Le),et.verify(Oe)},this.parseExt=function(he){var Re,Oe,Le;if(void 0===he){if(3!==this.version)return-1;Re=Fe(Le=this.hex,0,[0,7,0],"30"),Oe=O(Le,Re)}else{Le=dn(he);var et=Fe(Le,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=H(Le,et))return void(this.aExtInfo=new Array);Re=Fe(Le,0,[0,3,0,1,0],"30"),Oe=O(Le,Re),this.hex=Le}this.aExtInfo=new Array;for(var st=0;st<Oe.length;st++){var Kt={critical:!1},Pt=0;3===O(Le,Oe[st]).length&&(Kt.critical=!0,Pt=1),Kt.oid=D.hextooidstr(ce(Le,Oe[st],[0],"06"));var xn=Fe(Le,Oe[st],[1+Pt]);Kt.vidx=Ne(Le,xn),this.aExtInfo.push(Kt)}},this.getExtInfo=function(he){var Re=this.aExtInfo,Oe=he;if(he.match(/^[0-9.]+$/)||(Oe=Se.asn1.x509.OID.name2oid(he)),""!==Oe)for(var Le=0;Le<Re.length;Le++)if(Re[Le].oid===Oe)return Re[Le]},this.getExtBasicConstraints=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("basicConstraints");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"basicConstraints"};if(Re&&(Le.critical=!0),"3000"===he)return Le;if("30030101ff"===he)return Le.cA=!0,Le;if("30060101ff02"===he.substr(0,12)){var et=H(he,10),st=parseInt(et,16);return Le.cA=!0,Le.pathLen=st,Le}throw new Error("hExtV parse error: "+he)},this.getExtKeyUsage=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("keyUsage");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"keyUsage"};return Re&&(Le.critical=!0),Le.names=this.getExtKeyUsageString(he).split(","),Le},this.getExtKeyUsageBin=function(he){if(void 0===he){var Re=this.getExtInfo("keyUsage");if(void 0===Re)return"";he=J(this.hex,Re.vidx)}if(8!=he.length&&10!=he.length)throw new Error("malformed key usage value: "+he);var Oe="000000000000000"+parseInt(he.substr(6),16).toString(2);return 8==he.length&&(Oe=Oe.slice(-8)),10==he.length&&(Oe=Oe.slice(-16)),""==(Oe=Oe.replace(/0+$/,""))&&(Oe="0"),Oe},this.getExtKeyUsageString=function(he){for(var Re=this.getExtKeyUsageBin(he),Oe=new Array,Le=0;Le<Re.length;Le++)"1"==Re.substr(Le,1)&&Oe.push(vn.KEYUSAGE_NAME[Le]);return Oe.join(",")},this.getExtSubjectKeyIdentifier=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("subjectKeyIdentifier");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"subjectKeyIdentifier"};Re&&(Le.critical=!0);var et=H(he,0);return Le.kid={hex:et},Le},this.getExtAuthorityKeyIdentifier=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("authorityKeyIdentifier");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"authorityKeyIdentifier"};Re&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var Kt=he.substr(et[st],2);if("80"===Kt&&(Le.kid={hex:H(he,et[st])}),"a1"===Kt){var Pt=J(he,et[st]),xn=this.getGeneralNames(Pt);Le.issuer=xn[0].dn}"82"===Kt&&(Le.sn={hex:H(he,et[st])})}return Le},this.getExtExtKeyUsage=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("extKeyUsage");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"extKeyUsage",array:[]};Re&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++)Le.array.push(He(H(he,et[st])));return Le},this.getExtExtKeyUsageName=function(){var he=this.getExtInfo("extKeyUsage");if(void 0===he)return he;var Re=new Array,Oe=J(this.hex,he.vidx);if(""===Oe)return Re;for(var Le=O(Oe,0),et=0;et<Le.length;et++)Re.push(He(H(Oe,Le[et])));return Re},this.getExtSubjectAltName=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("subjectAltName");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"subjectAltName",array:[]};return Re&&(Le.critical=!0),Le.array=this.getGeneralNames(he),Le},this.getExtIssuerAltName=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("issuerAltName");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"issuerAltName",array:[]};return Re&&(Le.critical=!0),Le.array=this.getGeneralNames(he),Le},this.getGeneralNames=function(he){for(var Re=O(he,0),Oe=[],Le=0;Le<Re.length;Le++){var et=this.getGeneralName(J(he,Re[Le]));void 0!==et&&Oe.push(et)}return Oe},this.getGeneralName=function(he){var Re=he.substr(0,2),Oe=H(he,0),Le=kt(Oe);return"81"==Re?{rfc822:Le}:"82"==Re?{dns:Le}:"86"==Re?{uri:Le}:"87"==Re?{ip:Cn(Oe)}:"a4"==Re?{dn:this.getX500Name(Oe)}:void 0},this.getExtSubjectAltName2=function(){var he,Re,Oe,Le=this.getExtInfo("subjectAltName");if(void 0===Le)return Le;for(var et=new Array,st=J(this.hex,Le.vidx),Kt=O(st,0),Pt=0;Pt<Kt.length;Pt++)Oe=st.substr(Kt[Pt],2),he=H(st,Kt[Pt]),"81"===Oe&&(Re=gt(he),et.push(["MAIL",Re])),"82"===Oe&&(Re=gt(he),et.push(["DNS",Re])),"84"===Oe&&(Re=vn.hex2dn(he,0),et.push(["DN",Re])),"86"===Oe&&(Re=gt(he),et.push(["URI",Re])),"87"===Oe&&(Re=Cn(he),et.push(["IP",Re]));return et},this.getExtCRLDistributionPoints=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("cRLDistributionPoints");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"cRLDistributionPoints",array:[]};Re&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var Kt=J(he,et[st]);Le.array.push(this.getDistributionPoint(Kt))}return Le},this.getDistributionPoint=function(he){for(var Re={},Oe=O(he,0),Le=0;Le<Oe.length;Le++){var et=he.substr(Oe[Le],2),st=J(he,Oe[Le]);"a0"==et&&(Re.dpname=this.getDistributionPointName(st))}return Re},this.getDistributionPointName=function(he){for(var Re={},Oe=O(he,0),Le=0;Le<Oe.length;Le++){var et=he.substr(Oe[Le],2),st=J(he,Oe[Le]);"a0"==et&&(Re.full=this.getGeneralNames(st))}return Re},this.getExtCRLDistributionPointsURI=function(){var he=this.getExtInfo("cRLDistributionPoints");if(void 0===he)return he;for(var Re=new Array,Oe=O(this.hex,he.vidx),Le=0;Le<Oe.length;Le++)try{var et=gt(ce(this.hex,Oe[Le],[0,0,0],"86"));Re.push(et)}catch{}return Re},this.getExtAIAInfo=function(){var he=this.getExtInfo("authorityInfoAccess");if(void 0===he)return he;for(var Re={ocsp:[],caissuer:[]},Oe=O(this.hex,he.vidx),Le=0;Le<Oe.length;Le++){var et=ce(this.hex,Oe[Le],[0],"06"),st=ce(this.hex,Oe[Le],[1],"86");"2b06010505073001"===et&&Re.ocsp.push(gt(st)),"2b06010505073002"===et&&Re.caissuer.push(gt(st))}return Re},this.getExtAuthorityInfoAccess=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("authorityInfoAccess");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"authorityInfoAccess",array:[]};Re&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var Kt=Ae(he,et[st],[0],"06"),Pt=gt(ce(he,et[st],[1],"86"));if("2b06010505073001"==Kt)Le.array.push({ocsp:Pt});else{if("2b06010505073002"!=Kt)throw new Error("unknown method: "+Kt);Le.array.push({caissuer:Pt})}}return Le},this.getExtCertificatePolicies=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("certificatePolicies");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"certificatePolicies",array:[]};Re&&(Le.critical=!0);for(var et=O(he,0),st=0;st<et.length;st++){var Kt=J(he,et[st]),Pt=this.getPolicyInformation(Kt);Le.array.push(Pt)}return Le},this.getPolicyInformation=function(he){var Re={},Oe=ce(he,0,[0],"06");Re.policyoid=He(Oe);var Le=c(he,0,[1],"30");if(-1!=Le){Re.array=[];for(var et=O(he,Le),st=0;st<et.length;st++){var Kt=J(he,et[st]),Pt=this.getPolicyQualifierInfo(Kt);Re.array.push(Pt)}}return Re},this.getPolicyQualifierInfo=function(he){var Re={},Oe=ce(he,0,[0],"06");if("2b06010505070201"===Oe){var Le=Ae(he,0,[1],"16");Re.cps=kt(Le)}else if("2b06010505070202"===Oe){var et=_e(he,0,[1],"30");Re.unotice=this.getUserNotice(et)}return Re},this.getUserNotice=function(he){for(var Re={},Oe=O(he,0),Le=0;Le<Oe.length;Le++){var et=J(he,Oe[Le]);"30"!=et.substr(0,2)&&(Re.exptext=this.getDisplayText(et))}return Re},this.getDisplayText=function(he){var Re={};return Re.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[he.substr(0,2)],Re.str=kt(H(he,0)),Re},this.getExtCRLNumber=function(he,Re){var Oe={extname:"cRLNumber"};if(Re&&(Oe.critical=!0),"02"==he.substr(0,2))return Oe.num={hex:H(he,0)},Oe;throw new Error("hExtV parse error: "+he)},this.getExtCRLReason=function(he,Re){var Oe={extname:"cRLReason"};if(Re&&(Oe.critical=!0),"0a"==he.substr(0,2))return Oe.code=parseInt(H(he,0),16),Oe;throw new Error("hExtV parse error: "+he)},this.getExtOcspNonce=function(he,Re){var Oe={extname:"ocspNonce"};Re&&(Oe.critical=!0);var Le=H(he,0);return Oe.hex=Le,Oe},this.getExtOcspNoCheck=function(he,Re){var Oe={extname:"ocspNoCheck"};return Re&&(Oe.critical=!0),Oe},this.getExtAdobeTimeStamp=function(he,Re){if(void 0===he&&void 0===Re){var Oe=this.getExtInfo("adobeTimeStamp");if(void 0===Oe)return;he=J(this.hex,Oe.vidx),Re=Oe.critical}var Le={extname:"adobeTimeStamp"};Re&&(Le.critical=!0);var et=O(he,0);if(et.length>1){var st=J(he,et[1]),Kt=this.getGeneralName(st);null!=Kt.uri&&(Le.uri=Kt.uri)}if(et.length>2){var Pt=J(he,et[2]);"0101ff"==Pt&&(Le.reqauth=!0),"010100"==Pt&&(Le.reqauth=!1)}return Le},this.getX500NameRule=function(he){for(var Re=null,Oe=[],Le=0;Le<he.length;Le++)for(var et=he[Le],st=0;st<et.length;st++)Oe.push(et[st]);for(Le=0;Le<Oe.length;Le++){var Kt=Oe[Le],Pt=Kt.ds,Ut=Kt.type;if("prn"!=Pt&&"utf8"!=Pt&&"ia5"!=Pt)return"mixed";if("ia5"==Pt){if("CN"!=Ut)return"mixed";if(Se.lang.String.isMail(Kt.value))continue;return"mixed"}if("C"==Ut){if("prn"==Pt)continue;return"mixed"}if(null==Re)Re=Pt;else if(Re!==Pt)return"mixed"}return Re??"prn"},this.getX500Name=function(he){var Re=this.getX500NameArray(he);return{array:Re,str:this.dnarraytostr(Re)}},this.getX500NameArray=function(he){for(var Re=[],Oe=O(he,0),Le=0;Le<Oe.length;Le++)Re.push(this.getRDN(J(he,Oe[Le])));return Re},this.getRDN=function(he){for(var Re=[],Oe=O(he,0),Le=0;Le<Oe.length;Le++)Re.push(this.getAttrTypeAndValue(J(he,Oe[Le])));return Re},this.getAttrTypeAndValue=function(he){var Re={type:null,value:null,ds:null},Oe=O(he,0),Le=ce(he,Oe[0],[],"06"),et=ce(he,Oe[1],[]),st=Se.asn1.ASN1Util.oidHexToInt(Le);return Re.type=Se.asn1.x509.OID.oid2atype(st),Re.value=kt(et),Re.ds=this.HEX2STAG[he.substr(Oe[1],2)],Re},this.readCertPEM=function(he){this.readCertHex(tt(he))},this.readCertHex=function(he){this.hex=he,this.getVersion();try{Fe(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var he={};return he.version=this.getVersion(),he.serial={hex:this.getSerialNumberHex()},he.sigalg=this.getSignatureAlgorithmField(),he.issuer=this.getIssuer(),he.notbefore=this.getNotBefore(),he.notafter=this.getNotAfter(),he.subject=this.getSubject(),he.sbjpubkey=tn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(he.ext=this.getExtParamArray()),he.sighex=this.getSignatureValueHex(),he},this.getExtParamArray=function(he){null==he&&-1!=c(this.hex,0,[0,"[3]"])&&(he=De(this.hex,0,[0,"[3]",0],"30"));for(var Re=[],Oe=O(he,0),Le=0;Le<Oe.length;Le++){var et=J(he,Oe[Le]),st=this.getExtParam(et);null!=st&&Re.push(st)}return Re},this.getExtParam=function(he){var Re=O(he,0).length;if(2!=Re&&3!=Re)throw new Error("wrong number elements in Extension: "+Re+" "+he);var Oe=Je(ce(he,0,[0],"06")),Le=!1;3==Re&&"0101ff"==_e(he,0,[1])&&(Le=!0);var et=_e(he,0,[Re-1,0]),st=void 0;if("2.5.29.14"==Oe?st=this.getExtSubjectKeyIdentifier(et,Le):"2.5.29.15"==Oe?st=this.getExtKeyUsage(et,Le):"2.5.29.17"==Oe?st=this.getExtSubjectAltName(et,Le):"2.5.29.18"==Oe?st=this.getExtIssuerAltName(et,Le):"2.5.29.19"==Oe?st=this.getExtBasicConstraints(et,Le):"2.5.29.31"==Oe?st=this.getExtCRLDistributionPoints(et,Le):"2.5.29.32"==Oe?st=this.getExtCertificatePolicies(et,Le):"2.5.29.35"==Oe?st=this.getExtAuthorityKeyIdentifier(et,Le):"2.5.29.37"==Oe?st=this.getExtExtKeyUsage(et,Le):"1.3.6.1.5.5.7.1.1"==Oe?st=this.getExtAuthorityInfoAccess(et,Le):"2.5.29.20"==Oe?st=this.getExtCRLNumber(et,Le):"2.5.29.21"==Oe?st=this.getExtCRLReason(et,Le):"1.3.6.1.5.5.7.48.1.2"==Oe?st=this.getExtOcspNonce(et,Le):"1.3.6.1.5.5.7.48.1.5"==Oe?st=this.getExtOcspNoCheck(et,Le):"1.2.840.113583.1.1.9.1"==Oe&&(st=this.getExtAdobeTimeStamp(et,Le)),null!=st)return st;var Kt={extname:Oe,extn:et};return Le&&(Kt.critical=!0),Kt},this.findExt=function(he,Re){for(var Oe=0;Oe<he.length;Oe++)if(he[Oe].extname==Re)return he[Oe];return null},this.updateExtCDPFullURI=function(he,Re){var Oe=this.findExt(he,"cRLDistributionPoints");if(null!=Oe&&null!=Oe.array)for(var Le=Oe.array,et=0;et<Le.length;et++)if(null!=Le[et].dpname&&null!=Le[et].dpname.full)for(var st=Le[et].dpname.full,Kt=0;Kt<st.length;Kt++){var Pt=st[et];null!=Pt.uri&&(Pt.uri=Re)}},this.updateExtAIAOCSP=function(he,Re){var Oe=this.findExt(he,"authorityInfoAccess");if(null!=Oe&&null!=Oe.array)for(var Le=Oe.array,et=0;et<Le.length;et++)null!=Le[et].ocsp&&(Le[et].ocsp=Re)},this.updateExtAIACAIssuer=function(he,Re){var Oe=this.findExt(he,"authorityInfoAccess");if(null!=Oe&&null!=Oe.array)for(var Le=Oe.array,et=0;et<Le.length;et++)null!=Le[et].caissuer&&(Le[et].caissuer=Re)},this.dnarraytostr=function(he){return"/"+he.map(function(Re){return Re.map(function(et){return(Kt=et).type+"="+Kt.value;var Kt}).join("+")}).join("/")},this.getInfo=function(){var he,Re,Oe,Le=function(ba){return JSON.stringify(ba.array).replace(/[\[\]\{\}\"]/g,"")},et=function(ba){for(var na="",ra=ba.array,Dr=0;Dr<ra.length;Dr++){var Nr=ra[Dr];if(na+="    policy oid: "+Nr.policyoid+"\n",void 0!==Nr.array)for(var Qr=0;Qr<Nr.array.length;Qr++){var Aa=Nr.array[Qr];void 0!==Aa.cps&&(na+="    cps: "+Aa.cps+"\n")}}return na},st=function(ba){for(var na="",ra=ba.array,Dr=0;Dr<ra.length;Dr++){var Nr=ra[Dr];try{void 0!==Nr.dpname.full[0].uri&&(na+="    "+Nr.dpname.full[0].uri+"\n")}catch{}try{void 0!==Nr.dname.full[0].dn.hex&&(na+="    "+vn.hex2dn(Nr.dpname.full[0].dn.hex)+"\n")}catch{}}return na},Kt=function(ba){for(var na="",ra=ba.array,Dr=0;Dr<ra.length;Dr++){var Nr=ra[Dr];void 0!==Nr.caissuer&&(na+="    caissuer: "+Nr.caissuer+"\n"),void 0!==Nr.ocsp&&(na+="    ocsp: "+Nr.ocsp+"\n")}return na};if(he="Basic Fields\n",he+="  serial number: "+this.getSerialNumberHex()+"\n",he+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",he+="  issuer: "+this.getIssuerString()+"\n",he+="  notBefore: "+this.getNotBefore()+"\n",he+="  notAfter: "+this.getNotAfter()+"\n",he+="  subject: "+this.getSubjectString()+"\n",he+="  subject public key info: \n",he+="    key algorithm: "+(Re=this.getPublicKey()).type+"\n","RSA"===Re.type&&(he+="    n="+ta(Re.n.toString(16)).substr(0,16)+"...\n",he+="    e="+ta(Re.e.toString(16))+"\n"),null!=(Oe=this.aExtInfo)){he+="X509v3 Extensions:\n";for(var Pt=0;Pt<Oe.length;Pt++){var xn=Oe[Pt],Ut=Se.asn1.x509.OID.oid2name(xn.oid);""===Ut&&(Ut=xn.oid);var Zt="";if(!0===xn.critical&&(Zt="CRITICAL"),he+="  "+Ut+" "+Zt+":\n","basicConstraints"===Ut){var er=this.getExtBasicConstraints();void 0===er.cA?he+="    {}\n":(he+="    cA=true",void 0!==er.pathLen&&(he+=", pathLen="+er.pathLen),he+="\n")}else if("keyUsage"===Ut)he+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Ut)he+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Ut){var ur=this.getExtAuthorityKeyIdentifier();void 0!==ur.kid&&(he+="    kid="+ur.kid.hex+"\n")}else"extKeyUsage"===Ut?he+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Ut?he+="    "+Le(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===Ut?he+=st(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Ut?he+=Kt(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Ut&&(he+=et(this.getExtCertificatePolicies()))}}return(he+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof x&&(-1!=x.indexOf("-----BEGIN")?this.readCertPEM(x):Se.lang.String.isHex(x)&&this.readCertHex(x))}bt.prototype.sign=function(x,C){var D=function(H){return Se.crypto.Util.hashString(H,C)}(x);return this.signWithMessageHash(D,C)},bt.prototype.signWithMessageHash=function(x,C){var D=nt(Se.crypto.Util.getPaddedDigestInfoHex(x,C,this.n.bitLength()),16);return Ta(this.doPrivate(D).toString(16),this.n.bitLength())},bt.prototype.signPSS=function(x,C,D){var J,O=(J=Qt(x),Se.crypto.Util.hashHex(J,C));return void 0===D&&(D=-1),this.signWithMessageHashPSS(O,C,D)},bt.prototype.signWithMessageHashPSS=function(x,C,D){var O,H=kt(x),J=H.length,ce=this.n.bitLength()-1,Ae=Math.ceil(ce/8),_e=function(he){return Se.crypto.Util.hashHex(he,C)};if(-1===D||void 0===D)D=J;else if(-2===D)D=Ae-J-2;else if(D<-2)throw new Error("invalid salt length");if(Ae<J+D+2)throw new Error("data too long");var De="";D>0&&(De=new Array(D),(new je).nextBytes(De),De=String.fromCharCode.apply(String,De));var Fe=kt(_e(Qt("\0\0\0\0\0\0\0\0"+H+De))),c=[];for(O=0;O<Ae-D-J-2;O+=1)c[O]=0;var Ne=String.fromCharCode.apply(String,c)+"\x01"+De,He=ri(Fe,Ne.length,_e),Je=[];for(O=0;O<Ne.length;O+=1)Je[O]=Ne.charCodeAt(O)^He.charCodeAt(O);for(Je[0]&=~(65280>>8*Ae-ce&255),O=0;O<J;O++)Je.push(Fe.charCodeAt(O));return Je.push(188),Ta(this.doPrivate(new j(Je)).toString(16),this.n.bitLength())},bt.prototype.verify=function(x,C){var D=nt(C=(C=C.replace(Oi,"")).replace(/[ \n]+/g,""),16);if(D.bitLength()>this.n.bitLength())return 0;var O=vi(this.doPublic(D).toString(16).replace(/^1f+00/,""));return 0!=O.length&&O[1]==Se.crypto.Util.hashString(x,O[0])},bt.prototype.verifyWithMessageHash=function(x,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var D=nt(C,16);if(D.bitLength()>this.n.bitLength())return 0;var O=vi(this.doPublic(D).toString(16).replace(/^1f+00/,""));return 0!=O.length&&O[1]==x},bt.prototype.verifyPSS=function(x,C,D,O){var ce,H=(ce=Qt(x),Se.crypto.Util.hashHex(ce,D));return void 0===O&&(O=-1),this.verifyWithMessageHashPSS(H,C,D,O)},bt.prototype.verifyWithMessageHashPSS=function(x,C,D,O){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var H,J=new j(C,16),ce=function(Oe){return Se.crypto.Util.hashHex(Oe,D)},Ae=kt(x),_e=Ae.length,De=this.n.bitLength()-1,Fe=Math.ceil(De/8);if(-1===O||void 0===O)O=_e;else if(-2===O)O=Fe-_e-2;else if(O<-2)throw new Error("invalid salt length");if(Fe<_e+O+2)throw new Error("data too long");var c=this.doPublic(J).toByteArray();for(H=0;H<c.length;H+=1)c[H]&=255;for(;c.length<Fe;)c.unshift(0);if(188!==c[Fe-1])throw new Error("encoded message does not end in 0xbc");var Ne=(c=String.fromCharCode.apply(String,c)).substr(0,Fe-_e-1),He=c.substr(Ne.length,_e),Je=65280>>8*Fe-De&255;if(0!=(Ne.charCodeAt(0)&Je))throw new Error("bits beyond keysize not zero");var rt=ri(He,Ne.length,ce),tt=[];for(H=0;H<Ne.length;H+=1)tt[H]=Ne.charCodeAt(H)^rt.charCodeAt(H);tt[0]&=~Je;var he=Fe-_e-O-2;for(H=0;H<he;H+=1)if(0!==tt[H])throw new Error("leftmost octets not zero");if(1!==tt[he])throw new Error("0x01 marker not found");return He===kt(ce(Qt("\0\0\0\0\0\0\0\0"+Ae+String.fromCharCode.apply(String,tt.slice(-O)))))},bt.SALT_LEN_HLEN=-1,bt.SALT_LEN_MAX=-2,bt.SALT_LEN_RECOVER=-2,vn.hex2dn=function(x,C){if(void 0===C&&(C=0),"30"!==x.substr(C,2))throw new Error("malformed DN");for(var D=new Array,O=pt.getChildIdx(x,C),H=0;H<O.length;H++)D.push(vn.hex2rdn(x,O[H]));return"/"+(D=D.map(function(J){return J.replace("/","\\/")})).join("/")},vn.hex2rdn=function(x,C){if(void 0===C&&(C=0),"31"!==x.substr(C,2))throw new Error("malformed RDN");for(var D=new Array,O=pt.getChildIdx(x,C),H=0;H<O.length;H++)D.push(vn.hex2attrTypeValue(x,O[H]));return(D=D.map(function(J){return J.replace("+","\\+")})).join("+")},vn.hex2attrTypeValue=function(x,C){var D=pt,O=D.getV;if(void 0===C&&(C=0),"30"!==x.substr(C,2))throw new Error("malformed attribute type and value");var H=D.getChildIdx(x,C);2!==H.length||x.substr(H[0],2);var J=O(x,H[0]),ce=Se.asn1.ASN1Util.oidHexToInt(J);return Se.asn1.x509.OID.oid2atype(ce)+"="+kt(O(x,H[1]))},vn.getPublicKeyFromCertHex=function(x){var C=new vn;return C.readCertHex(x),C.getPublicKey()},vn.getPublicKeyFromCertPEM=function(x){var C=new vn;return C.readCertPEM(x),C.getPublicKey()},vn.getPublicKeyInfoPropOfCertPEM=function(x){var C,D,O=pt.getVbyList,H={algparam:null};return(C=new vn).readCertPEM(x),D=C.getPublicKeyHex(),H.keyhex=O(D,0,[1],"03").substr(2),H.algoid=O(D,0,[0,0],"06"),"2a8648ce3d0201"===H.algoid&&(H.algparam=O(D,0,[0,1],"06")),H},vn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==Se&&Se||(b.KJUR=Se={}),void 0!==Se.jws&&Se.jws||(Se.jws={}),Se.jws.JWS=function(){var x=Se.jws.JWS.isSafeJSONString;this.parseJWS=function(C,D){if(void 0===this.parsedJWS||!D&&void 0===this.parsedJWS.sigvalH){var O=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==O)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var H=O[1],J=O[2],ce=O[3],Ae=H+"."+J;if(this.parsedJWS={},this.parsedJWS.headB64U=H,this.parsedJWS.payloadB64U=J,this.parsedJWS.sigvalB64U=ce,this.parsedJWS.si=Ae,!D){var _e=mt(ce),De=nt(_e,16);this.parsedJWS.sigvalH=_e,this.parsedJWS.sigvalBI=De}var Fe=Dn(H),c=Dn(J);if(this.parsedJWS.headS=Fe,this.parsedJWS.payloadS=c,!x(Fe,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Fe}}},Se.jws.JWS.sign=function(x,C,D,O,H){var J,ce,Ae,De=Se.jws.JWS,Fe=De.readSafeJSONString,c=De.isSafeJSONString,Ne=Se.crypto,He=Ne.Mac,Je=Ne.Signature,rt=JSON;if("string"!=typeof C&&"object"!=(void 0===C?"undefined":m(C)))throw"spHeader must be JSON string or object: "+C;if("object"==(void 0===C?"undefined":m(C))&&(J=rt.stringify(ce=C)),"string"==typeof C){if(!c(J=C))throw"JWS Head is not safe JSON string: "+J;ce=Fe(J)}if(Ae=D,"object"==(void 0===D?"undefined":m(D))&&(Ae=rt.stringify(D)),""!=x&&null!=x||void 0===ce.alg||(x=ce.alg),""!=x&&null!=x&&void 0===ce.alg&&(ce.alg=x,J=rt.stringify(ce)),x!==ce.alg)throw"alg and sHeader.alg doesn't match: "+x+"!="+ce.alg;var tt=null;if(void 0===De.jwsalg2sigalg[x])throw"unsupported alg name: "+x;tt=De.jwsalg2sigalg[x];var he=Zn(J)+"."+Zn(Ae),Re="";if("Hmac"==tt.substr(0,4)){if(void 0===O)throw"mac key shall be specified for HS* alg";var Oe=new He({alg:tt,prov:"cryptojs",pass:O});Oe.updateString(he),Re=Oe.doFinal()}else if(-1!=tt.indexOf("withECDSA")){(et=new Je({alg:tt})).init(O,H),et.updateString(he);var Le=et.sign();Re=Se.crypto.ECDSA.asn1SigToConcatSig(Le)}else{var et;"none"!=tt&&((et=new Je({alg:tt})).init(O,H),et.updateString(he),Re=et.sign())}return he+"."+$e(Re)},Se.jws.JWS.verify=function(x,C,D){var O,J=Se.jws.JWS,ce=J.readSafeJSONString,Ae=Se.crypto,_e=Ae.ECDSA,De=Ae.Mac,Fe=Ae.Signature;void 0!==m(bt)&&(O=bt);var c=x.split(".");if(3!==c.length)return!1;var tt,Ne=c[0]+"."+c[1],He=mt(c[2]),Je=ce(Dn(c[0])),rt=null;if(void 0===Je.alg)throw"algorithm not specified in header";if(tt=(rt=Je.alg).substr(0,2),null!=D&&"[object Array]"===Object.prototype.toString.call(D)&&D.length>0&&-1==(":"+D.join(":")+":").indexOf(":"+rt+":"))throw"algorithm '"+rt+"' not accepted in the list";if("none"!=rt&&null===C)throw"key shall be specified to verify.";if("string"==typeof C&&-1!=C.indexOf("-----BEGIN ")&&(C=Gn.getKey(C)),!("RS"!=tt&&"PS"!=tt||C instanceof O))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==tt&&!(C instanceof _e))throw"key shall be a ECDSA obj for ES* algs";var he=null;if(void 0===J.jwsalg2sigalg[Je.alg])throw"unsupported alg name: "+rt;if("none"==(he=J.jwsalg2sigalg[rt]))throw"not supported";if("Hmac"==he.substr(0,4)){if(void 0===C)throw"hexadecimal key shall be specified for HMAC";var Re=new De({alg:he,pass:C});return Re.updateString(Ne),He==Re.doFinal()}if(-1!=he.indexOf("withECDSA")){var Oe,Le=null;try{Le=_e.concatSigToASN1Sig(He)}catch{return!1}return(Oe=new Fe({alg:he})).init(C),Oe.updateString(Ne),Oe.verify(Le)}return(Oe=new Fe({alg:he})).init(C),Oe.updateString(Ne),Oe.verify(He)},Se.jws.JWS.parse=function(x){var D,O,H=x.split("."),J={};if(2!=H.length&&3!=H.length)throw"malformed sJWS: wrong number of '.' splitted elements";return D=H[1],3==H.length&&(O=H[2]),J.headerObj=Se.jws.JWS.readSafeJSONString(Dn(H[0])),J.payloadObj=Se.jws.JWS.readSafeJSONString(Dn(D)),J.headerPP=JSON.stringify(J.headerObj,null,"  "),J.payloadPP=null==J.payloadObj?Dn(D):JSON.stringify(J.payloadObj,null,"  "),void 0!==O&&(J.sigHex=mt(O)),J},Se.jws.JWS.verifyJWT=function(x,C,D){var O=Se.jws,H=O.JWS,J=H.readSafeJSONString,ce=H.inArray,Ae=H.includedArray,_e=x.split("."),De=_e[0],Fe=_e[1],c=(mt(_e[2]),J(Dn(De))),Ne=J(Dn(Fe));if(void 0===c.alg)return!1;if(void 0===D.alg)throw"acceptField.alg shall be specified";if(!ce(c.alg,D.alg)||void 0!==Ne.iss&&"object"===m(D.iss)&&!ce(Ne.iss,D.iss)||void 0!==Ne.sub&&"object"===m(D.sub)&&!ce(Ne.sub,D.sub))return!1;if(void 0!==Ne.aud&&"object"===m(D.aud))if("string"==typeof Ne.aud){if(!ce(Ne.aud,D.aud))return!1}else if("object"==m(Ne.aud)&&!Ae(Ne.aud,D.aud))return!1;var He=O.IntDate.getNow();return void 0!==D.verifyAt&&"number"==typeof D.verifyAt&&(He=D.verifyAt),void 0!==D.gracePeriod&&"number"==typeof D.gracePeriod||(D.gracePeriod=0),!(void 0!==Ne.exp&&"number"==typeof Ne.exp&&Ne.exp+D.gracePeriod<He||void 0!==Ne.nbf&&"number"==typeof Ne.nbf&&He<Ne.nbf-D.gracePeriod||void 0!==Ne.iat&&"number"==typeof Ne.iat&&He<Ne.iat-D.gracePeriod||void 0!==Ne.jti&&void 0!==D.jti&&Ne.jti!==D.jti||!H.verify(x,C,D.alg))},Se.jws.JWS.includedArray=function(x,C){var D=Se.jws.JWS.inArray;if(null===x||"object"!==(void 0===x?"undefined":m(x))||"number"!=typeof x.length)return!1;for(var O=0;O<x.length;O++)if(!D(x[O],C))return!1;return!0},Se.jws.JWS.inArray=function(x,C){if(null===C||"object"!==(void 0===C?"undefined":m(C))||"number"!=typeof C.length)return!1;for(var D=0;D<C.length;D++)if(C[D]==x)return!0;return!1},Se.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},Se.jws.JWS.isSafeJSONString=function(x,C,D){var O=null;try{return"object"!=(void 0===(O=fn(x))?"undefined":m(O))||O.constructor===Array?0:(C&&(C[D]=O),1)}catch{return 0}},Se.jws.JWS.readSafeJSONString=function(x){var C=null;try{return"object"!=(void 0===(C=fn(x))?"undefined":m(C))||C.constructor===Array?null:C}catch{return null}},Se.jws.JWS.getEncodedSignatureValueFromJWS=function(x){var C=x.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==C)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},Se.jws.JWS.getJWKthumbprint=function(x){if("RSA"!==x.kty&&"EC"!==x.kty&&"oct"!==x.kty)throw"unsupported algorithm for JWK Thumprint";var C="{";if("RSA"===x.kty){if("string"!=typeof x.n||"string"!=typeof x.e)throw"wrong n and e value for RSA key";C+='"e":"'+x.e+'",',C+='"kty":"'+x.kty+'",',C+='"n":"'+x.n+'"}'}else if("EC"===x.kty){if("string"!=typeof x.crv||"string"!=typeof x.x||"string"!=typeof x.y)throw"wrong crv, x and y value for EC key";C+='"crv":"'+x.crv+'",',C+='"kty":"'+x.kty+'",',C+='"x":"'+x.x+'",',C+='"y":"'+x.y+'"}'}else if("oct"===x.kty){if("string"!=typeof x.k)throw"wrong k value for oct(symmetric) key";C+='"kty":"'+x.kty+'",',C+='"k":"'+x.k+'"}'}var D=Qt(C);return $e(Se.crypto.Util.hashHex(D,"sha256"))},Se.jws.IntDate={},Se.jws.IntDate.get=function(x){var C=Se.jws.IntDate,D=C.getNow,O=C.getZulu;if("now"==x)return D();if("now + 1hour"==x)return D()+3600;if("now + 1day"==x)return D()+86400;if("now + 1month"==x)return D()+2592e3;if("now + 1year"==x)return D()+31536e3;if(x.match(/Z$/))return O(x);if(x.match(/^[0-9]+$/))return parseInt(x);throw"unsupported format: "+x},Se.jws.IntDate.getZulu=function(x){return sr(x)},Se.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Se.jws.IntDate.intDate2UTCString=function(x){return new Date(1e3*x).toUTCString()},Se.jws.IntDate.intDate2Zulu=function(x){var C=new Date(1e3*x);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},b.SecureRandom=je,b.rng_seed_time=ae,b.BigInteger=j,b.RSAKey=bt,b.EDSA=Se.crypto.EDSA,b.DSA=Se.crypto.DSA,b.Signature=Se.crypto.Signature,b.MessageDigest=Se.crypto.MessageDigest,b.Mac=Se.crypto.Mac,b.Cipher=Se.crypto.Cipher,b.KEYUTIL=Gn,b.ASN1HEX=pt,b.X509=vn,b.CryptoJS=T,b.b64tohex=te,b.b64toBA=K,b.stoBA=Vt,b.BAtos=xt,b.BAtohex=wt,b.stohex=Ft,b.stob64=function(C){return ee(Ft(C))},b.stob64u=function(C){return ht(ee(Ft(C)))},b.b64utos=function(C){return xt(K(Ue(C)))},b.b64tob64u=ht,b.b64utob64=Ue,b.hex2b64=ee,b.hextob64u=$e,b.b64utohex=mt,b.utf8tob64u=Zn,b.b64utoutf8=Dn,b.utf8tob64=function(C){return ee(qn(cn(C)))},b.b64toutf8=function(C){return decodeURIComponent(wn(te(C)))},b.utf8tohex=Tt,b.hextoutf8=gt,b.hextorstr=kt,b.rstrtohex=Qt,b.hextob64=un,b.hextob64nl=rn,b.b64nltohex=Bn,b.hextopem=tn,b.pemtohex=dn,b.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(null==C.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var D=new ArrayBuffer(C.length/2),O=new DataView(D),H=0;H<C.length/2;H++)O.setUint8(H,parseInt(C.substr(2*H,2),16));return D},b.ArrayBuffertohex=function(C){for(var D="",O=new DataView(C),H=0;H<C.byteLength;H++)D+=("00"+O.getUint8(H).toString(16)).slice(-2);return D},b.zulutomsec=Pn,b.zulutosec=sr,b.zulutodate=function(C){return new Date(Pn(C))},b.datetozulu=function(C,D,O){var H,J=C.getUTCFullYear();if(D){if(J<1950||2049<J)throw"not proper year for UTCTime: "+J;H=(""+J).slice(-2)}else H=("000"+J).slice(-4);if(H+=("0"+(C.getUTCMonth()+1)).slice(-2),H+=("0"+C.getUTCDate()).slice(-2),H+=("0"+C.getUTCHours()).slice(-2),H+=("0"+C.getUTCMinutes()).slice(-2),H+=("0"+C.getUTCSeconds()).slice(-2),O){var ce=C.getUTCMilliseconds();0!==ce&&(H+="."+(ce=(ce=("00"+ce).slice(-3)).replace(/0+$/g,"")))}return H+"Z"},b.uricmptohex=qn,b.hextouricmp=wn,b.ipv6tohex=rr,b.hextoipv6=hr,b.hextoip=Cn,b.iptohex=function(C){var D="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&-1!==C.indexOf(":"))return rr(C);throw D}var O=C.split(".");if(4!==O.length)throw D;var H="";try{for(var J=0;J<4;J++)H+=("0"+parseInt(O[J]).toString(16)).slice(-2);return H}catch{throw D}},b.encodeURIComponentAll=cn,b.newline_toUnix=function(C){return C.replace(/\r\n/gm,"\n")},b.newline_toDos=function(C){return(C=C.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},b.hextoposhex=ta,b.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(D,O,H){var J=parseInt(D);if(J<0||255<J)throw"integer not in range 0-255";return("00"+J.toString(16)).slice(-2)}).join("")}catch(D){throw"malformed integer array string: "+D}},b.strdiffidx=function(C,D){var O=C.length;C.length>D.length&&(O=D.length);for(var H=0;H<O;H++)if(C.charCodeAt(H)!=D.charCodeAt(H))return H;return C.length!=D.length?O:-1},b.KJUR=Se,b.crypto=Se.crypto,b.asn1=Se.asn1,b.jws=Se.jws,b.lang=Se.lang}).call(this,M(28).Buffer)},function(oe,b,M){"use strict";(function(a){var m=M(30),h=M(31),k=M(32);function A(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(de,W){if(A()<W)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(de=new Uint8Array(W)).__proto__=E.prototype:(null===de&&(de=new E(W)),de.length=W),de}function E(de,W,X){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(de,W,X);if("number"==typeof de){if("string"==typeof W)throw new Error("If encoding is specified then the first argument must be a string");return P(this,de)}return f(this,de,W,X)}function f(de,W,X,Ce){if("number"==typeof W)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&W instanceof ArrayBuffer?function(ie,ae,Me,se){if(Me<0||ae.byteLength<Me)throw new RangeError("'offset' is out of bounds");if(ae.byteLength<Me+(se||0))throw new RangeError("'length' is out of bounds");return ae=void 0===Me&&void 0===se?new Uint8Array(ae):void 0===se?new Uint8Array(ae,Me):new Uint8Array(ae,Me,se),E.TYPED_ARRAY_SUPPORT?(ie=ae).__proto__=E.prototype:ie=F(ie,ae),ie}(de,W,X,Ce):"string"==typeof W?function(ie,ae,Me){if("string"==typeof Me&&""!==Me||(Me="utf8"),!E.isEncoding(Me))throw new TypeError('"encoding" must be a valid string encoding');var se=0|N(ae,Me),Z=(ie=y(ie,se)).write(ae,Me);return Z!==se&&(ie=ie.slice(0,Z)),ie}(de,W,X):function(ie,ae){if(E.isBuffer(ae)){var Me=0|w(ae.length);return 0===(ie=y(ie,Me)).length||ae.copy(ie,0,0,Me),ie}if(ae){if(typeof ArrayBuffer<"u"&&ae.buffer instanceof ArrayBuffer||"length"in ae)return"number"!=typeof ae.length||(Z=ae.length)!=Z?y(ie,0):F(ie,ae);if("Buffer"===ae.type&&k(ae.data))return F(ie,ae.data)}var Z;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(de,W)}function v(de){if("number"!=typeof de)throw new TypeError('"size" argument must be a number');if(de<0)throw new RangeError('"size" argument must not be negative')}function P(de,W){if(v(W),de=y(de,W<0?0:0|w(W)),!E.TYPED_ARRAY_SUPPORT)for(var X=0;X<W;++X)de[X]=0;return de}function F(de,W){var X=W.length<0?0:0|w(W.length);de=y(de,X);for(var Ce=0;Ce<X;Ce+=1)de[Ce]=255&W[Ce];return de}function w(de){if(de>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return 0|de}function N(de,W){if(E.isBuffer(de))return de.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(de)||de instanceof ArrayBuffer))return de.byteLength;"string"!=typeof de&&(de=""+de);var X=de.length;if(0===X)return 0;for(var Ce=!1;;)switch(W){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":case void 0:return ze(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Ye(de).length;default:if(Ce)return ze(de).length;W=(""+W).toLowerCase(),Ce=!0}}function R(de,W,X){var Ce=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(W>>>=0))return"";for(de||(de="utf8");;)switch(de){case"hex":return pe(this,W,X);case"utf8":case"utf-8":return ue(this,W,X);case"ascii":return z(this,W,X);case"latin1":case"binary":return q(this,W,X);case"base64":return re(this,W,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,W,X);default:if(Ce)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),Ce=!0}}function L(de,W,X){var Ce=de[W];de[W]=de[X],de[X]=Ce}function G(de,W,X,Ce,Pe){if(0===de.length)return-1;if("string"==typeof X?(Ce=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,isNaN(X)&&(X=Pe?0:de.length-1),X<0&&(X=de.length+X),X>=de.length){if(Pe)return-1;X=de.length-1}else if(X<0){if(!Pe)return-1;X=0}if("string"==typeof W&&(W=E.from(W,Ce)),E.isBuffer(W))return 0===W.length?-1:T(de,W,X,Ce,Pe);if("number"==typeof W)return W&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Pe?Uint8Array.prototype.indexOf.call(de,W,X):Uint8Array.prototype.lastIndexOf.call(de,W,X):T(de,[W],X,Ce,Pe);throw new TypeError("val must be string, number or Buffer")}function T(de,W,X,Ce,Pe){var ie,ae=1,Me=de.length,se=W.length;if(void 0!==Ce&&("ucs2"===(Ce=String(Ce).toLowerCase())||"ucs-2"===Ce||"utf16le"===Ce||"utf-16le"===Ce)){if(de.length<2||W.length<2)return-1;ae=2,Me/=2,se/=2,X/=2}function Z(nt,at){return 1===ae?nt[at]:nt.readUInt16BE(at*ae)}if(Pe){var Q=-1;for(ie=X;ie<Me;ie++)if(Z(de,ie)===Z(W,-1===Q?0:ie-Q)){if(-1===Q&&(Q=ie),ie-Q+1===se)return Q*ae}else-1!==Q&&(ie-=ie-Q),Q=-1}else for(X+se>Me&&(X=Me-se),ie=X;ie>=0;ie--){for(var ve=!0,je=0;je<se;je++)if(Z(de,ie+je)!==Z(W,je)){ve=!1;break}if(ve)return ie}return-1}function V(de,W,X,Ce){X=Number(X)||0;var Pe=de.length-X;Ce?(Ce=Number(Ce))>Pe&&(Ce=Pe):Ce=Pe;var ie=W.length;if(ie%2!=0)throw new TypeError("Invalid hex string");Ce>ie/2&&(Ce=ie/2);for(var ae=0;ae<Ce;++ae){var Me=parseInt(W.substr(2*ae,2),16);if(isNaN(Me))return ae;de[X+ae]=Me}return ae}function U(de,W,X,Ce){return At(ze(W,de.length-X),de,X,Ce)}function ee(de,W,X,Ce){return At(function(ie){for(var ae=[],Me=0;Me<ie.length;++Me)ae.push(255&ie.charCodeAt(Me));return ae}(W),de,X,Ce)}function te(de,W,X,Ce){return ee(de,W,X,Ce)}function K(de,W,X,Ce){return At(Ye(W),de,X,Ce)}function j(de,W,X,Ce){return At(function(ie,ae){for(var Me,se,Q=[],ve=0;ve<ie.length&&!((ae-=2)<0);++ve)se=(Me=ie.charCodeAt(ve))>>8,Q.push(Me%256),Q.push(se);return Q}(W,de.length-X),de,X,Ce)}function re(de,W,X){return m.fromByteArray(0===W&&X===de.length?de:de.slice(W,X))}function ue(de,W,X){X=Math.min(de.length,X);for(var Ce=[],Pe=W;Pe<X;){var ie,ae,Me,se,Z=de[Pe],Q=null,ve=Z>239?4:Z>223?3:Z>191?2:1;if(Pe+ve<=X)switch(ve){case 1:Z<128&&(Q=Z);break;case 2:128==(192&(ie=de[Pe+1]))&&(se=(31&Z)<<6|63&ie)>127&&(Q=se);break;case 3:ae=de[Pe+2],128==(192&(ie=de[Pe+1]))&&128==(192&ae)&&(se=(15&Z)<<12|(63&ie)<<6|63&ae)>2047&&(se<55296||se>57343)&&(Q=se);break;case 4:ae=de[Pe+2],Me=de[Pe+3],128==(192&(ie=de[Pe+1]))&&128==(192&ae)&&128==(192&Me)&&(se=(15&Z)<<18|(63&ie)<<12|(63&ae)<<6|63&Me)>65535&&se<1114112&&(Q=se)}null===Q?(Q=65533,ve=1):Q>65535&&(Ce.push((Q-=65536)>>>10&1023|55296),Q=56320|1023&Q),Ce.push(Q),Pe+=ve}return function(nt){var at=nt.length;if(at<=ne)return String.fromCharCode.apply(String,nt);for(var bt="",Ot=0;Ot<at;)bt+=String.fromCharCode.apply(String,nt.slice(Ot,Ot+=ne));return bt}(Ce)}b.Buffer=E,b.SlowBuffer=function(W){return+W!=W&&(W=0),E.alloc(+W)},b.INSPECT_MAX_BYTES=50,E.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var W=new Uint8Array(1);return W.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===W.foo()&&"function"==typeof W.subarray&&0===W.subarray(1,1).byteLength}catch{return!1}}(),b.kMaxLength=A(),E.poolSize=8192,E._augment=function(de){return de.__proto__=E.prototype,de},E.from=function(de,W,X){return f(null,de,W,X)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0})),E.alloc=function(de,W,X){return ae=W,Me=X,v(ie=de),ie<=0?y(null,ie):void 0!==ae?"string"==typeof Me?y(null,ie).fill(ae,Me):y(null,ie).fill(ae):y(null,ie);var ie,ae,Me},E.allocUnsafe=function(de){return P(null,de)},E.allocUnsafeSlow=function(de){return P(null,de)},E.isBuffer=function(W){return!(null==W||!W._isBuffer)},E.compare=function(W,X){if(!E.isBuffer(W)||!E.isBuffer(X))throw new TypeError("Arguments must be Buffers");if(W===X)return 0;for(var Ce=W.length,Pe=X.length,ie=0,ae=Math.min(Ce,Pe);ie<ae;++ie)if(W[ie]!==X[ie]){Ce=W[ie],Pe=X[ie];break}return Ce<Pe?-1:Pe<Ce?1:0},E.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(W,X){if(!k(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return E.alloc(0);var Ce;if(void 0===X)for(X=0,Ce=0;Ce<W.length;++Ce)X+=W[Ce].length;var Pe=E.allocUnsafe(X),ie=0;for(Ce=0;Ce<W.length;++Ce){var ae=W[Ce];if(!E.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(Pe,ie),ie+=ae.length}return Pe},E.byteLength=N,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<W;X+=2)L(this,X,X+1);return this},E.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<W;X+=4)L(this,X,X+3),L(this,X+1,X+2);return this},E.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<W;X+=8)L(this,X,X+7),L(this,X+1,X+6),L(this,X+2,X+5),L(this,X+3,X+4);return this},E.prototype.toString=function(){var W=0|this.length;return 0===W?"":0===arguments.length?ue(this,0,W):R.apply(this,arguments)},E.prototype.equals=function(W){if(!E.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===E.compare(this,W)},E.prototype.inspect=function(){var W="",X=b.INSPECT_MAX_BYTES;return this.length>0&&(W=this.toString("hex",0,X).match(/.{2}/g).join(" "),this.length>X&&(W+=" ... ")),"<Buffer "+W+">"},E.prototype.compare=function(W,X,Ce,Pe,ie){if(!E.isBuffer(W))throw new TypeError("Argument must be a Buffer");if(void 0===X&&(X=0),void 0===Ce&&(Ce=W?W.length:0),void 0===Pe&&(Pe=0),void 0===ie&&(ie=this.length),X<0||Ce>W.length||Pe<0||ie>this.length)throw new RangeError("out of range index");if(Pe>=ie&&X>=Ce)return 0;if(Pe>=ie)return-1;if(X>=Ce)return 1;if(this===W)return 0;for(var ae=(ie>>>=0)-(Pe>>>=0),Me=(Ce>>>=0)-(X>>>=0),se=Math.min(ae,Me),Z=this.slice(Pe,ie),Q=W.slice(X,Ce),ve=0;ve<se;++ve)if(Z[ve]!==Q[ve]){ae=Z[ve],Me=Q[ve];break}return ae<Me?-1:Me<ae?1:0},E.prototype.includes=function(W,X,Ce){return-1!==this.indexOf(W,X,Ce)},E.prototype.indexOf=function(W,X,Ce){return G(this,W,X,Ce,!0)},E.prototype.lastIndexOf=function(W,X,Ce){return G(this,W,X,Ce,!1)},E.prototype.write=function(W,X,Ce,Pe){if(void 0===X)Pe="utf8",Ce=this.length,X=0;else if(void 0===Ce&&"string"==typeof X)Pe=X,Ce=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X|=0,isFinite(Ce)?(Ce|=0,void 0===Pe&&(Pe="utf8")):(Pe=Ce,Ce=void 0)}var ie=this.length-X;if((void 0===Ce||Ce>ie)&&(Ce=ie),W.length>0&&(Ce<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");for(var ae=!1;;)switch(Pe){case"hex":return V(this,W,X,Ce);case"utf8":case"utf-8":return U(this,W,X,Ce);case"ascii":return ee(this,W,X,Ce);case"latin1":case"binary":return te(this,W,X,Ce);case"base64":return K(this,W,X,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,W,X,Ce);default:if(ae)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),ae=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ne=4096;function z(de,W,X){var Ce="";X=Math.min(de.length,X);for(var Pe=W;Pe<X;++Pe)Ce+=String.fromCharCode(127&de[Pe]);return Ce}function q(de,W,X){var Ce="";X=Math.min(de.length,X);for(var Pe=W;Pe<X;++Pe)Ce+=String.fromCharCode(de[Pe]);return Ce}function pe(de,W,X){var Ce=de.length;(!W||W<0)&&(W=0),(!X||X<0||X>Ce)&&(X=Ce);for(var Pe="",ie=W;ie<X;++ie)Pe+=vt(de[ie]);return Pe}function ye(de,W,X){for(var Ce=de.slice(W,X),Pe="",ie=0;ie<Ce.length;ie+=2)Pe+=String.fromCharCode(Ce[ie]+256*Ce[ie+1]);return Pe}function Ee(de,W,X){if(de%1!=0||de<0)throw new RangeError("offset is not uint");if(de+W>X)throw new RangeError("Trying to access beyond buffer length")}function Ie(de,W,X,Ce,Pe,ie){if(!E.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>Pe||W<ie)throw new RangeError('"value" argument is out of bounds');if(X+Ce>de.length)throw new RangeError("Index out of range")}function Ge(de,W,X,Ce){W<0&&(W=65535+W+1);for(var Pe=0,ie=Math.min(de.length-X,2);Pe<ie;++Pe)de[X+Pe]=(W&255<<8*(Ce?Pe:1-Pe))>>>8*(Ce?Pe:1-Pe)}function xe(de,W,X,Ce){W<0&&(W=4294967295+W+1);for(var Pe=0,ie=Math.min(de.length-X,4);Pe<ie;++Pe)de[X+Pe]=W>>>8*(Ce?Pe:3-Pe)&255}function Be(de,W,X,Ce,Pe,ie){if(X+Ce>de.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Xe(de,W,X,Ce,Pe){return Pe||Be(de,0,X,4),h.write(de,W,X,Ce,23,4),X+4}function Ze(de,W,X,Ce,Pe){return Pe||Be(de,0,X,8),h.write(de,W,X,Ce,52,8),X+8}E.prototype.slice=function(W,X){var Ce,Pe=this.length;if((W=~~W)<0?(W+=Pe)<0&&(W=0):W>Pe&&(W=Pe),(X=void 0===X?Pe:~~X)<0?(X+=Pe)<0&&(X=0):X>Pe&&(X=Pe),X<W&&(X=W),E.TYPED_ARRAY_SUPPORT)(Ce=this.subarray(W,X)).__proto__=E.prototype;else{var ie=X-W;Ce=new E(ie,void 0);for(var ae=0;ae<ie;++ae)Ce[ae]=this[ae+W]}return Ce},E.prototype.readUIntLE=function(W,X,Ce){W|=0,X|=0,Ce||Ee(W,X,this.length);for(var Pe=this[W],ie=1,ae=0;++ae<X&&(ie*=256);)Pe+=this[W+ae]*ie;return Pe},E.prototype.readUIntBE=function(W,X,Ce){W|=0,X|=0,Ce||Ee(W,X,this.length);for(var Pe=this[W+--X],ie=1;X>0&&(ie*=256);)Pe+=this[W+--X]*ie;return Pe},E.prototype.readUInt8=function(W,X){return X||Ee(W,1,this.length),this[W]},E.prototype.readUInt16LE=function(W,X){return X||Ee(W,2,this.length),this[W]|this[W+1]<<8},E.prototype.readUInt16BE=function(W,X){return X||Ee(W,2,this.length),this[W]<<8|this[W+1]},E.prototype.readUInt32LE=function(W,X){return X||Ee(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},E.prototype.readUInt32BE=function(W,X){return X||Ee(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},E.prototype.readIntLE=function(W,X,Ce){W|=0,X|=0,Ce||Ee(W,X,this.length);for(var Pe=this[W],ie=1,ae=0;++ae<X&&(ie*=256);)Pe+=this[W+ae]*ie;return Pe>=(ie*=128)&&(Pe-=Math.pow(2,8*X)),Pe},E.prototype.readIntBE=function(W,X,Ce){W|=0,X|=0,Ce||Ee(W,X,this.length);for(var Pe=X,ie=1,ae=this[W+--Pe];Pe>0&&(ie*=256);)ae+=this[W+--Pe]*ie;return ae>=(ie*=128)&&(ae-=Math.pow(2,8*X)),ae},E.prototype.readInt8=function(W,X){return X||Ee(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},E.prototype.readInt16LE=function(W,X){X||Ee(W,2,this.length);var Ce=this[W]|this[W+1]<<8;return 32768&Ce?4294901760|Ce:Ce},E.prototype.readInt16BE=function(W,X){X||Ee(W,2,this.length);var Ce=this[W+1]|this[W]<<8;return 32768&Ce?4294901760|Ce:Ce},E.prototype.readInt32LE=function(W,X){return X||Ee(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},E.prototype.readInt32BE=function(W,X){return X||Ee(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},E.prototype.readFloatLE=function(W,X){return X||Ee(W,4,this.length),h.read(this,W,!0,23,4)},E.prototype.readFloatBE=function(W,X){return X||Ee(W,4,this.length),h.read(this,W,!1,23,4)},E.prototype.readDoubleLE=function(W,X){return X||Ee(W,8,this.length),h.read(this,W,!0,52,8)},E.prototype.readDoubleBE=function(W,X){return X||Ee(W,8,this.length),h.read(this,W,!1,52,8)},E.prototype.writeUIntLE=function(W,X,Ce,Pe){W=+W,X|=0,Ce|=0,Pe||Ie(this,W,X,Ce,Math.pow(2,8*Ce)-1,0);var ie=1,ae=0;for(this[X]=255&W;++ae<Ce&&(ie*=256);)this[X+ae]=W/ie&255;return X+Ce},E.prototype.writeUIntBE=function(W,X,Ce,Pe){W=+W,X|=0,Ce|=0,Pe||Ie(this,W,X,Ce,Math.pow(2,8*Ce)-1,0);var ie=Ce-1,ae=1;for(this[X+ie]=255&W;--ie>=0&&(ae*=256);)this[X+ie]=W/ae&255;return X+Ce},E.prototype.writeUInt8=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,1,255,0),E.TYPED_ARRAY_SUPPORT||(W=Math.floor(W)),this[X]=255&W,X+1},E.prototype.writeUInt16LE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[X]=255&W,this[X+1]=W>>>8):Ge(this,W,X,!0),X+2},E.prototype.writeUInt16BE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[X]=W>>>8,this[X+1]=255&W):Ge(this,W,X,!1),X+2},E.prototype.writeUInt32LE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[X+3]=W>>>24,this[X+2]=W>>>16,this[X+1]=W>>>8,this[X]=255&W):xe(this,W,X,!0),X+4},E.prototype.writeUInt32BE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W):xe(this,W,X,!1),X+4},E.prototype.writeIntLE=function(W,X,Ce,Pe){if(W=+W,X|=0,!Pe){var ie=Math.pow(2,8*Ce-1);Ie(this,W,X,Ce,ie-1,-ie)}var ae=0,Me=1,se=0;for(this[X]=255&W;++ae<Ce&&(Me*=256);)W<0&&0===se&&0!==this[X+ae-1]&&(se=1),this[X+ae]=(W/Me|0)-se&255;return X+Ce},E.prototype.writeIntBE=function(W,X,Ce,Pe){if(W=+W,X|=0,!Pe){var ie=Math.pow(2,8*Ce-1);Ie(this,W,X,Ce,ie-1,-ie)}var ae=Ce-1,Me=1,se=0;for(this[X+ae]=255&W;--ae>=0&&(Me*=256);)W<0&&0===se&&0!==this[X+ae+1]&&(se=1),this[X+ae]=(W/Me|0)-se&255;return X+Ce},E.prototype.writeInt8=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,1,127,-128),E.TYPED_ARRAY_SUPPORT||(W=Math.floor(W)),W<0&&(W=255+W+1),this[X]=255&W,X+1},E.prototype.writeInt16LE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[X]=255&W,this[X+1]=W>>>8):Ge(this,W,X,!0),X+2},E.prototype.writeInt16BE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[X]=W>>>8,this[X+1]=255&W):Ge(this,W,X,!1),X+2},E.prototype.writeInt32LE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[X]=255&W,this[X+1]=W>>>8,this[X+2]=W>>>16,this[X+3]=W>>>24):xe(this,W,X,!0),X+4},E.prototype.writeInt32BE=function(W,X,Ce){return W=+W,X|=0,Ce||Ie(this,W,X,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),E.TYPED_ARRAY_SUPPORT?(this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W):xe(this,W,X,!1),X+4},E.prototype.writeFloatLE=function(W,X,Ce){return Xe(this,W,X,!0,Ce)},E.prototype.writeFloatBE=function(W,X,Ce){return Xe(this,W,X,!1,Ce)},E.prototype.writeDoubleLE=function(W,X,Ce){return Ze(this,W,X,!0,Ce)},E.prototype.writeDoubleBE=function(W,X,Ce){return Ze(this,W,X,!1,Ce)},E.prototype.copy=function(W,X,Ce,Pe){if(Ce||(Ce=0),Pe||0===Pe||(Pe=this.length),X>=W.length&&(X=W.length),X||(X=0),Pe>0&&Pe<Ce&&(Pe=Ce),Pe===Ce||0===W.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Ce<0||Ce>=this.length)throw new RangeError("sourceStart out of bounds");if(Pe<0)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),W.length-X<Pe-Ce&&(Pe=W.length-X+Ce);var ie,ae=Pe-Ce;if(this===W&&Ce<X&&X<Pe)for(ie=ae-1;ie>=0;--ie)W[ie+X]=this[ie+Ce];else if(ae<1e3||!E.TYPED_ARRAY_SUPPORT)for(ie=0;ie<ae;++ie)W[ie+X]=this[ie+Ce];else Uint8Array.prototype.set.call(W,this.subarray(Ce,Ce+ae),X);return ae},E.prototype.fill=function(W,X,Ce,Pe){if("string"==typeof W){if("string"==typeof X?(Pe=X,X=0,Ce=this.length):"string"==typeof Ce&&(Pe=Ce,Ce=this.length),1===W.length){var ie=W.charCodeAt(0);ie<256&&(W=ie)}if(void 0!==Pe&&"string"!=typeof Pe)throw new TypeError("encoding must be a string");if("string"==typeof Pe&&!E.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe)}else"number"==typeof W&&(W&=255);if(X<0||this.length<X||this.length<Ce)throw new RangeError("Out of range index");if(Ce<=X)return this;var ae;if(X>>>=0,Ce=void 0===Ce?this.length:Ce>>>0,W||(W=0),"number"==typeof W)for(ae=X;ae<Ce;++ae)this[ae]=W;else{var Me=E.isBuffer(W)?W:ze(new E(W,Pe).toString()),se=Me.length;for(ae=0;ae<Ce-X;++ae)this[ae+X]=Me[ae%se]}return this};var ot=/[^+\/0-9A-Za-z-_]/g;function vt(de){return de<16?"0"+de.toString(16):de.toString(16)}function ze(de,W){var X;W=W||1/0;for(var Ce=de.length,Pe=null,ie=[],ae=0;ae<Ce;++ae){if((X=de.charCodeAt(ae))>55295&&X<57344){if(!Pe){if(X>56319){(W-=3)>-1&&ie.push(239,191,189);continue}if(ae+1===Ce){(W-=3)>-1&&ie.push(239,191,189);continue}Pe=X;continue}if(X<56320){(W-=3)>-1&&ie.push(239,191,189),Pe=X;continue}X=65536+(Pe-55296<<10|X-56320)}else Pe&&(W-=3)>-1&&ie.push(239,191,189);if(Pe=null,X<128){if((W-=1)<0)break;ie.push(X)}else if(X<2048){if((W-=2)<0)break;ie.push(X>>6|192,63&X|128)}else if(X<65536){if((W-=3)<0)break;ie.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;ie.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return ie}function Ye(de){return m.toByteArray(function(X){if((X=(Pe=X,Pe.trim?Pe.trim():Pe.replace(/^\s+|\s+$/g,"")).replace(ot,"")).length<2)return"";for(var Pe;X.length%4!=0;)X+="=";return X}(de))}function At(de,W,X,Ce){for(var Pe=0;Pe<Ce&&!(Pe+X>=W.length||Pe>=de.length);++Pe)W[Pe+X]=de[Pe];return Pe}}).call(this,M(29))},function(oe,b){var M;M=function(){return this}();try{M=M||new Function("return this")()}catch{"object"==typeof window&&(M=window)}oe.exports=M},function(oe,b,M){"use strict";b.byteLength=function(P){var F=E(P),N=F[1];return 3*(F[0]+N)/4-N},b.toByteArray=function(P){var F,w,K,N=E(P),R=N[0],L=N[1],G=new h(3*(R+(K=L))/4-K),T=0,V=L>0?R-4:R;for(w=0;w<V;w+=4)F=m[P.charCodeAt(w)]<<18|m[P.charCodeAt(w+1)]<<12|m[P.charCodeAt(w+2)]<<6|m[P.charCodeAt(w+3)],G[T++]=F>>16&255,G[T++]=F>>8&255,G[T++]=255&F;return 2===L&&(F=m[P.charCodeAt(w)]<<2|m[P.charCodeAt(w+1)]>>4,G[T++]=255&F),1===L&&(F=m[P.charCodeAt(w)]<<10|m[P.charCodeAt(w+1)]<<4|m[P.charCodeAt(w+2)]>>2,G[T++]=F>>8&255,G[T++]=255&F),G},b.fromByteArray=function(P){for(var F,w=P.length,N=w%3,R=[],L=16383,G=0,T=w-N;G<T;G+=L)R.push(f(P,G,G+L>T?T:G+L));return 1===N?R.push(a[(F=P[w-1])>>2]+a[F<<4&63]+"=="):2===N&&R.push(a[(F=(P[w-2]<<8)+P[w-1])>>10]+a[F>>4&63]+a[F<<2&63]+"="),R.join("")};for(var a=[],m=[],h=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)a[A]=k[A],m[k.charCodeAt(A)]=A;function E(v){var P=v.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var F=v.indexOf("=");return-1===F&&(F=P),[F,F===P?0:4-F%4]}function f(v,P,F){for(var N,R=[],L=P;L<F;L+=3)R.push(a[(N=(v[L]<<16&16711680)+(v[L+1]<<8&65280)+(255&v[L+2]))>>18&63]+a[N>>12&63]+a[N>>6&63]+a[63&N]);return R.join("")}m[45]=62,m[95]=63},function(oe,b){b.read=function(M,a,m,h,k){var A,y,E=8*k-h-1,f=(1<<E)-1,v=f>>1,P=-7,F=m?k-1:0,w=m?-1:1,N=M[a+F];for(F+=w,A=N&(1<<-P)-1,N>>=-P,P+=E;P>0;A=256*A+M[a+F],F+=w,P-=8);for(y=A&(1<<-P)-1,A>>=-P,P+=h;P>0;y=256*y+M[a+F],F+=w,P-=8);if(0===A)A=1-v;else{if(A===f)return y?NaN:1/0*(N?-1:1);y+=Math.pow(2,h),A-=v}return(N?-1:1)*y*Math.pow(2,A-h)},b.write=function(M,a,m,h,k,A){var y,E,f,v=8*A-k-1,P=(1<<v)-1,F=P>>1,w=23===k?Math.pow(2,-24)-Math.pow(2,-77):0,N=h?0:A-1,R=h?1:-1,L=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(E=isNaN(a)?1:0,y=P):(y=Math.floor(Math.log(a)/Math.LN2),a*(f=Math.pow(2,-y))<1&&(y--,f*=2),(a+=y+F>=1?w/f:w*Math.pow(2,1-F))*f>=2&&(y++,f/=2),y+F>=P?(E=0,y=P):y+F>=1?(E=(a*f-1)*Math.pow(2,k),y+=F):(E=a*Math.pow(2,F-1)*Math.pow(2,k),y=0));k>=8;M[m+N]=255&E,N+=R,E/=256,k-=8);for(y=y<<k|E,v+=k;v>0;M[m+N]=255&y,N+=R,y/=256,v-=8);M[m+N-R]|=128*L}},function(oe,b){var M={}.toString;oe.exports=Array.isArray||function(a){return"[object Array]"==M.call(a)}},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(h){var k=h.jws,A=h.KeyUtil,y=h.X509,E=h.crypto,f=h.hextob64u,v=h.b64tohex,P=h.AllowedSigningAlgs;return function(){function F(){!function(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")}(this,F)}return F.parseJwt=function(N){a.Log.debug("JoseUtil.parseJwt");try{var R=k.JWS.parse(N);return{header:R.headerObj,payload:R.payloadObj}}catch(L){a.Log.error(L)}},F.validateJwt=function(N,R,L,G,T,V,U){a.Log.debug("JoseUtil.validateJwt");try{if("RSA"===R.kty)if(R.e&&R.n)R=A.getKey(R);else{if(!R.x5c||!R.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",R),Promise.reject(new Error("RSA key missing key material"));var ee=v(R.x5c[0]);R=y.getPublicKeyFromCertHex(ee)}else{if("EC"!==R.kty)return a.Log.error("JoseUtil.validateJwt: Unsupported key type",R&&R.kty),Promise.reject(new Error(R.kty));if(!(R.crv&&R.x&&R.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",R),Promise.reject(new Error("EC key missing key material"));R=A.getKey(R)}return F._validateJwt(N,R,L,G,T,V,U)}catch(te){return a.Log.error(te&&te.message||te),Promise.reject("JWT validation failed")}},F.validateJwtAttributes=function(N,R,L,G,T,V){G||(G=0),T||(T=parseInt(Date.now()/1e3));var U=F.parseJwt(N).payload;if(!U.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(U.iss!==R)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",U.iss),Promise.reject(new Error("Invalid issuer in token: "+U.iss));if(!U.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(U.aud===L||Array.isArray(U.aud)&&U.aud.indexOf(L)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",U.aud),Promise.reject(new Error("Invalid audience in token: "+U.aud));if(U.azp&&U.azp!==L)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",U.azp),Promise.reject(new Error("Invalid azp in token: "+U.azp));if(!V){var ee=T+G,te=T-G;if(!U.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(ee<U.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",U.iat),Promise.reject(new Error("iat is in the future: "+U.iat));if(U.nbf&&ee<U.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",U.nbf),Promise.reject(new Error("nbf is in the future: "+U.nbf));if(!U.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(U.exp<te)return a.Log.error("JoseUtil._validateJwt: exp is in the past",U.exp),Promise.reject(new Error("exp is in the past:"+U.exp))}return Promise.resolve(U)},F._validateJwt=function(N,R,L,G,T,V,U){return F.validateJwtAttributes(N,L,G,T,V,U).then(function(ee){try{return k.JWS.verify(N,R,P)?ee:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(te){return a.Log.error(te&&te.message||te),Promise.reject(new Error("signature validation failed"))}})},F.hashString=function(N,R){try{return E.Util.hashString(N,R)}catch(L){a.Log.error(L)}},F.hexToBase64Url=function(N){try{return f(N)}catch(R){a.Log.error(R)}},F}()};var a=M(0);oe.exports=b.default},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninResponse=void 0;var a=function(){function k(A,y){for(var E=0;E<y.length;E++){var f=y[E];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(A,f.key,f)}}return function(A,y,E){return y&&k(A.prototype,y),E&&k(A,E),A}}(),m=M(3);b.SigninResponse=function(){function k(A){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function h(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,k);var E=m.UrlUtility.parseUrlFragment(A,y);this.error=E.error,this.error_description=E.error_description,this.error_uri=E.error_uri,this.code=E.code,this.state=E.state,this.id_token=E.id_token,this.session_state=E.session_state,this.access_token=E.access_token,this.token_type=E.token_type,this.scope=E.scope,this.profile=void 0,this.expires_in=E.expires_in}return a(k,[{key:"expires_in",get:function(){if(this.expires_at){var y=parseInt(Date.now()/1e3);return this.expires_at-y}},set:function(y){var E=parseInt(y);if("number"==typeof E&&E>0){var f=parseInt(Date.now()/1e3);this.expires_at=f+E}}},{key:"expired",get:function(){var y=this.expires_in;if(void 0!==y)return y<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),k}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutRequest=void 0;var a=M(0),m=M(3),h=M(9);b.SignoutRequest=function k(A){var y=A.url,E=A.id_token_hint,f=A.post_logout_redirect_uri,v=A.data,P=A.extraQueryParams,F=A.request_type;if(function(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}(this,k),!y)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var w in E&&(y=m.UrlUtility.addQueryParam(y,"id_token_hint",E)),f&&(y=m.UrlUtility.addQueryParam(y,"post_logout_redirect_uri",f),v&&(this.state=new h.State({data:v,request_type:F}),y=m.UrlUtility.addQueryParam(y,"state",this.state.id))),P)y=m.UrlUtility.addQueryParam(y,w,P[w]);this.url=y}},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutResponse=void 0;var a=M(3);b.SignoutResponse=function m(h){!function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,m);var k=a.UrlUtility.parseUrlFragment(h,"?");this.error=k.error,this.error_description=k.error_description,this.error_uri=k.error_uri,this.state=k.state}},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InMemoryWebStorage=void 0;var a=function(){function h(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&h(k.prototype,A),y&&h(k,y),k}}(),m=M(0);b.InMemoryWebStorage=function(){function h(){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this._data={}}return h.prototype.getItem=function(A){return m.Log.debug("InMemoryWebStorage.getItem",A),this._data[A]},h.prototype.setItem=function(A,y){m.Log.debug("InMemoryWebStorage.setItem",A),this._data[A]=y},h.prototype.removeItem=function(A){m.Log.debug("InMemoryWebStorage.removeItem",A),delete this._data[A]},h.prototype.key=function(A){return Object.getOwnPropertyNames(this._data)[A]},a(h,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManager=void 0;var a=function(){function L(G,T){for(var V=0;V<T.length;V++){var U=T[V];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(G,U.key,U)}}return function(G,T,V){return T&&L(G.prototype,T),V&&L(G,V),G}}(),m=M(0),h=M(10),k=M(39),A=M(15),y=M(45),E=M(47),f=M(18),v=M(8),P=M(20),F=M(11),w=M(4);b.UserManager=function(L){function G(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.SilentRenewService,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.SessionMonitor,ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P.TokenRevocationClient,te=arguments.length>4&&void 0!==arguments[4]?arguments[4]:F.TokenClient,K=arguments.length>5&&void 0!==arguments[5]?arguments[5]:w.JoseUtil;(function N(L,G){if(!(L instanceof G))throw new TypeError("Cannot call a class as a function")})(this,G),T instanceof k.UserManagerSettings||(T=new k.UserManagerSettings(T));var j=function R(L,G){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?L:G}(this,L.call(this,T));return j._events=new y.UserManagerEvents(T),j._silentRenewService=new V(j),j.settings.automaticSilentRenew&&(m.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),j.startSilentRenew()),j.settings.monitorSession&&(m.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),j._sessionMonitor=new U(j)),j._tokenRevocationClient=new ee(j._settings),j._tokenClient=new te(j._settings),j._joseUtil=K,j}return function(V,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);V.prototype=Object.create(U&&U.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(V,U):V.__proto__=U)}(G,L),G.prototype.getUser=function(){var V=this;return this._loadUser().then(function(U){return U?(m.Log.info("UserManager.getUser: user loaded"),V._events.load(U,!1),U):(m.Log.info("UserManager.getUser: user not found in storage"),null)})},G.prototype.removeUser=function(){var V=this;return this.storeUser(null).then(function(){m.Log.info("UserManager.removeUser: user removed from storage"),V._events.unload()})},G.prototype.signinRedirect=function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(V=Object.assign({},V)).request_type="si:r",this._signinStart(V,this._redirectNavigator,{useReplaceToNavigate:V.useReplaceToNavigate}).then(function(){m.Log.info("UserManager.signinRedirect: successful")})},G.prototype.signinRedirectCallback=function(V){return this._signinEnd(V||this._redirectNavigator.url).then(function(U){return U.profile&&U.profile.sub?m.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",U.profile.sub):m.Log.info("UserManager.signinRedirectCallback: no sub"),U})},G.prototype.signinPopup=function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(V=Object.assign({},V)).request_type="si:p";var U=V.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return U?(V.redirect_uri=U,V.display="popup",this._signin(V,this._popupNavigator,{startUrl:U,popupWindowFeatures:V.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:V.popupWindowTarget||this.settings.popupWindowTarget}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?m.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",ee.profile.sub):m.Log.info("UserManager.signinPopup: no sub")),ee})):(m.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},G.prototype.signinPopupCallback=function(V){return this._signinCallback(V,this._popupNavigator).then(function(U){return U&&(U.profile&&U.profile.sub?m.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",U.profile.sub):m.Log.info("UserManager.signinPopupCallback: no sub")),U}).catch(function(U){m.Log.error(U.message)})},G.prototype.signinSilent=function(){var V=this,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U=Object.assign({},U),this._loadUser().then(function(ee){return ee&&ee.refresh_token?(U.refresh_token=ee.refresh_token,V._useRefreshToken(U)):(U.request_type="si:s",U.id_token_hint=U.id_token_hint||V.settings.includeIdTokenInSilentRenew&&ee&&ee.id_token,ee&&V._settings.validateSubOnSilentRenew&&(m.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",ee.profile.sub),U.current_sub=ee.profile.sub),V._signinSilentIframe(U))})},G.prototype._useRefreshToken=function(){var V=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(ee){return ee?ee.access_token?V._loadUser().then(function(te){if(te){var K=Promise.resolve();return ee.id_token&&(K=V._validateIdTokenFromTokenRefreshToken(te.profile,ee.id_token)),K.then(function(){return m.Log.debug("UserManager._useRefreshToken: refresh token response success"),te.id_token=ee.id_token||te.id_token,te.access_token=ee.access_token,te.refresh_token=ee.refresh_token||te.refresh_token,te.expires_in=ee.expires_in,V.storeUser(te).then(function(){return V._events.load(te),te})})}return null}):(m.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(m.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},G.prototype._validateIdTokenFromTokenRefreshToken=function(V,U){var ee=this;return this._metadataService.getIssuer().then(function(te){return ee.settings.getEpochTime().then(function(K){return ee._joseUtil.validateJwtAttributes(U,te,ee._settings.client_id,ee._settings.clockSkew,K).then(function(j){return j?j.sub!==V.sub?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):j.auth_time&&j.auth_time!==V.auth_time?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):j.azp&&j.azp!==V.azp?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!j.azp&&V.azp?(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(m.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},G.prototype._signinSilentIframe=function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=V.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return U?(V.redirect_uri=U,V.prompt=V.prompt||"none",this._signin(V,this._iframeNavigator,{startUrl:U,silentRequestTimeout:V.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?m.Log.info("UserManager.signinSilent: successful, signed in sub: ",ee.profile.sub):m.Log.info("UserManager.signinSilent: no sub")),ee})):(m.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},G.prototype.signinSilentCallback=function(V){return this._signinCallback(V,this._iframeNavigator).then(function(U){return U&&(U.profile&&U.profile.sub?m.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",U.profile.sub):m.Log.info("UserManager.signinSilentCallback: no sub")),U})},G.prototype.signinCallback=function(V){var U=this;return this.readSigninResponseState(V).then(function(ee){var te=ee.state;return"si:r"===te.request_type?U.signinRedirectCallback(V):"si:p"===te.request_type?U.signinPopupCallback(V):"si:s"===te.request_type?U.signinSilentCallback(V):Promise.reject(new Error("invalid response_type in state"))})},G.prototype.signoutCallback=function(V,U){var ee=this;return this.readSignoutResponseState(V).then(function(te){var K=te.state,j=te.response;return K?"so:r"===K.request_type?ee.signoutRedirectCallback(V):"so:p"===K.request_type?ee.signoutPopupCallback(V,U):Promise.reject(new Error("invalid response_type in state")):j})},G.prototype.querySessionStatus=function(){var V=this,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(U=Object.assign({},U)).request_type="si:s";var ee=U.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ee?(U.redirect_uri=ee,U.prompt="none",U.response_type=U.response_type||this.settings.query_status_response_type,U.scope=U.scope||"openid",U.skipUserInfo=!0,this._signinStart(U,this._iframeNavigator,{startUrl:ee,silentRequestTimeout:U.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(te){return V.processSigninResponse(te.url).then(function(K){if(m.Log.debug("UserManager.querySessionStatus: got signin response"),K.session_state&&K.profile.sub)return m.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",K.profile.sub),{session_state:K.session_state,sub:K.profile.sub,sid:K.profile.sid};m.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(K){if(K.session_state&&V.settings.monitorAnonymousSession&&("login_required"==K.message||"consent_required"==K.message||"interaction_required"==K.message||"account_selection_required"==K.message))return m.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:K.session_state};throw K})})):(m.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},G.prototype._signin=function(V,U){var ee=this;return this._signinStart(V,U,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(K){return ee._signinEnd(K.url,V)})},G.prototype._signinStart=function(V,U){var ee=this,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return U.prepare(te).then(function(K){return m.Log.debug("UserManager._signinStart: got navigator window handle"),ee.createSigninRequest(V).then(function(j){return m.Log.debug("UserManager._signinStart: got signin request"),te.url=j.url,te.id=j.state.id,K.navigate(te)}).catch(function(j){throw K.close&&(m.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),K.close()),j})})},G.prototype._signinEnd=function(V){var U=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(V).then(function(te){m.Log.debug("UserManager._signinEnd: got signin response");var K=new A.User(te);if(ee.current_sub){if(ee.current_sub!==K.profile.sub)return m.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",K.profile.sub),Promise.reject(new Error("login_required"));m.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return U.storeUser(K).then(function(){return m.Log.debug("UserManager._signinEnd: user stored"),U._events.load(K),K})})},G.prototype._signinCallback=function(V,U){m.Log.debug("UserManager._signinCallback");var ee="query"===this._settings.response_mode||!this._settings.response_mode&&v.SigninRequest.isCode(this._settings.response_type)?"?":"#";return U.callback(V,void 0,ee)},G.prototype.signoutRedirect=function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(V=Object.assign({},V)).request_type="so:r";var U=V.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return U&&(V.post_logout_redirect_uri=U),this._signoutStart(V,this._redirectNavigator,{useReplaceToNavigate:V.useReplaceToNavigate}).then(function(){m.Log.info("UserManager.signoutRedirect: successful")})},G.prototype.signoutRedirectCallback=function(V){return this._signoutEnd(V||this._redirectNavigator.url).then(function(U){return m.Log.info("UserManager.signoutRedirectCallback: successful"),U})},G.prototype.signoutPopup=function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(V=Object.assign({},V)).request_type="so:p";var U=V.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return V.post_logout_redirect_uri=U,V.display="popup",V.post_logout_redirect_uri&&(V.state=V.state||{}),this._signout(V,this._popupNavigator,{startUrl:U,popupWindowFeatures:V.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:V.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){m.Log.info("UserManager.signoutPopup: successful")})},G.prototype.signoutPopupCallback=function(V,U){return void 0===U&&"boolean"==typeof V&&(U=V,V=null),this._popupNavigator.callback(V,U,"?").then(function(){m.Log.info("UserManager.signoutPopupCallback: successful")})},G.prototype._signout=function(V,U){var ee=this;return this._signoutStart(V,U,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(K){return ee._signoutEnd(K.url)})},G.prototype._signoutStart=function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=this,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(te).then(function(K){return m.Log.debug("UserManager._signoutStart: got navigator window handle"),U._loadUser().then(function(j){return m.Log.debug("UserManager._signoutStart: loaded current user from storage"),(U._settings.revokeAccessTokenOnSignout?U._revokeInternal(j):Promise.resolve()).then(function(){var re=V.id_token_hint||j&&j.id_token;return re&&(m.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),V.id_token_hint=re),U.removeUser().then(function(){return m.Log.debug("UserManager._signoutStart: user removed, creating signout request"),U.createSignoutRequest(V).then(function(ue){return m.Log.debug("UserManager._signoutStart: got signout request"),te.url=ue.url,ue.state&&(te.id=ue.state.id),K.navigate(te)})})})}).catch(function(j){throw K.close&&(m.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),K.close()),j})})},G.prototype._signoutEnd=function(V){return this.processSignoutResponse(V).then(function(U){return m.Log.debug("UserManager._signoutEnd: got signout response"),U})},G.prototype.revokeAccessToken=function(){var V=this;return this._loadUser().then(function(U){return V._revokeInternal(U,!0).then(function(ee){if(ee)return m.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),U.access_token=null,U.refresh_token=null,U.expires_at=null,U.token_type=null,V.storeUser(U).then(function(){m.Log.debug("UserManager.revokeAccessToken: user stored"),V._events.load(U)})})}).then(function(){m.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},G.prototype._revokeInternal=function(V,U){var ee=this;if(V){var K=V.refresh_token;return this._revokeAccessTokenInternal(V.access_token,U).then(function(j){return ee._revokeRefreshTokenInternal(K,U).then(function(re){return j||re||m.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),j||re})})}return Promise.resolve(!1)},G.prototype._revokeAccessTokenInternal=function(V,U){return!V||V.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(V,U).then(function(){return!0})},G.prototype._revokeRefreshTokenInternal=function(V,U){return V?this._tokenRevocationClient.revoke(V,U,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},G.prototype.startSilentRenew=function(){this._silentRenewService.start()},G.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},G.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(V){return V?(m.Log.debug("UserManager._loadUser: user storageString loaded"),A.User.fromStorageString(V)):(m.Log.debug("UserManager._loadUser: no user storageString"),null)})},G.prototype.storeUser=function(V){if(V){m.Log.debug("UserManager.storeUser: storing user");var U=V.toStorageString();return this._userStore.set(this._userStoreKey,U)}return m.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(G,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),G}(h.OidcClient)},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerSettings=void 0;var a=function(){function F(w,N){for(var R=0;R<N.length;R++){var L=N[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,N,R){return N&&F(w.prototype,N),R&&F(w,R),w}}(),m=(M(0),M(5)),h=M(40),k=M(41),A=M(43),y=M(6),E=M(1),f=M(8);b.UserManagerSettings=function(F){function w(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=N.popup_redirect_uri,L=N.popup_post_logout_redirect_uri,G=N.popupWindowFeatures,T=N.popupWindowTarget,V=N.silent_redirect_uri,U=N.silentRequestTimeout,ee=N.automaticSilentRenew,te=void 0!==ee&&ee,K=N.validateSubOnSilentRenew,j=void 0!==K&&K,re=N.includeIdTokenInSilentRenew,ue=void 0===re||re,ne=N.monitorSession,z=void 0===ne||ne,q=N.monitorAnonymousSession,pe=void 0!==q&&q,ye=N.checkSessionInterval,Ee=void 0===ye?2e3:ye,Ie=N.stopCheckSessionOnError,Ge=void 0===Ie||Ie,xe=N.query_status_response_type,Be=N.revokeAccessTokenOnSignout,Xe=void 0!==Be&&Be,Ze=N.accessTokenExpiringNotificationTime,ot=void 0===Ze?60:Ze,vt=N.redirectNavigator,ze=void 0===vt?new h.RedirectNavigator:vt,Ye=N.popupNavigator,At=void 0===Ye?new k.PopupNavigator:Ye,de=N.iframeNavigator,W=void 0===de?new A.IFrameNavigator:de,X=N.userStore,Ce=void 0===X?new y.WebStorageStateStore({store:E.Global.sessionStorage}):X;!function v(F,w){if(!(F instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var Pe=function P(F,w){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?F:w}(this,F.call(this,arguments[0]));return Pe._popup_redirect_uri=R,Pe._popup_post_logout_redirect_uri=L,Pe._popupWindowFeatures=G,Pe._popupWindowTarget=T,Pe._silent_redirect_uri=V,Pe._silentRequestTimeout=U,Pe._automaticSilentRenew=te,Pe._validateSubOnSilentRenew=j,Pe._includeIdTokenInSilentRenew=ue,Pe._accessTokenExpiringNotificationTime=ot,Pe._monitorSession=z,Pe._monitorAnonymousSession=pe,Pe._checkSessionInterval=Ee,Pe._stopCheckSessionOnError=Ge,Pe._query_status_response_type=xe||(arguments[0]&&arguments[0].response_type?f.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Pe._revokeAccessTokenOnSignout=Xe,Pe._redirectNavigator=ze,Pe._popupNavigator=At,Pe._iframeNavigator=W,Pe._userStore=Ce,Pe}return function(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(R,L):R.__proto__=L)}(w,F),a(w,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),w}(m.OidcClientSettings)},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RedirectNavigator=void 0;var a=function(){function h(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&h(k.prototype,A),y&&h(k,y),k}}(),m=M(0);b.RedirectNavigator=function(){function h(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.prototype.prepare=function(){return Promise.resolve(this)},h.prototype.navigate=function(A){return A&&A.url?(A.useReplaceToNavigate?window.location.replace(A.url):window.location=A.url,Promise.resolve()):(m.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(h,[{key:"url",get:function(){return window.location.href}}]),h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupNavigator=void 0;var a=M(0),m=M(42);b.PopupNavigator=function(){function h(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.prototype.prepare=function(A){var y=new m.PopupWindow(A);return Promise.resolve(y)},h.prototype.callback=function(A,y,E){a.Log.debug("PopupNavigator.callback");try{return m.PopupWindow.notifyOpener(A,y,E),Promise.resolve()}catch(f){return Promise.reject(f)}},h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupWindow=void 0;var a=function(){function k(A,y){for(var E=0;E<y.length;E++){var f=y[E];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(A,f.key,f)}}return function(A,y,E){return y&&k(A.prototype,y),E&&k(A,E),A}}(),m=M(0),h=M(3);b.PopupWindow=function(){function k(A){var y=this;(function(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")})(this,k),this._promise=new Promise(function(v,P){y._resolve=v,y._reject=P}),this._popup=window.open("",A.popupWindowTarget||"_blank",A.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(m.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return k.prototype.navigate=function(y){return this._popup?y&&y.url?(m.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=y.id,this._id&&(window["popupCallback_"+y.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=y.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},k.prototype._success=function(y){m.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(y)},k.prototype._error=function(y){m.Log.error("PopupWindow.error: ",y),this._cleanup(),this._reject(new Error(y))},k.prototype.close=function(){this._cleanup(!1)},k.prototype._cleanup=function(y){m.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!y&&this._popup.close(),this._popup=null},k.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},k.prototype._callback=function(y,E){this._cleanup(E),y?(m.Log.debug("PopupWindow.callback success"),this._success({url:y})):(m.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},k.notifyOpener=function(y,E,f){if(window.opener){if(y=y||window.location.href){var v=h.UrlUtility.parseUrlFragment(y,f);if(v.state){var F=window.opener["popupCallback_"+v.state];F?(m.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),F(y,E)):m.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else m.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else m.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(k,[{key:"promise",get:function(){return this._promise}}]),k}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameNavigator=void 0;var a=M(0),m=M(44);b.IFrameNavigator=function(){function h(){!function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.prototype.prepare=function(A){var y=new m.IFrameWindow(A);return Promise.resolve(y)},h.prototype.callback=function(A){a.Log.debug("IFrameNavigator.callback");try{return m.IFrameWindow.notifyParent(A),Promise.resolve()}catch(y){return Promise.reject(y)}},h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameWindow=void 0;var a=function(){function h(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&h(k.prototype,A),y&&h(k,y),k}}(),m=M(0);b.IFrameWindow=function(){function h(k){var A=this;(function(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")})(this,h),this._promise=new Promise(function(y,E){A._resolve=y,A._reject=E}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return h.prototype.navigate=function(A){if(A&&A.url){var y=A.silentRequestTimeout||1e4;m.Log.debug("IFrameWindow.navigate: Using timeout of:",y),this._timer=window.setTimeout(this._timeout.bind(this),y),this._frame.src=A.url}else this._error("No url provided");return this.promise},h.prototype._success=function(A){this._cleanup(),m.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(A)},h.prototype._error=function(A){this._cleanup(),m.Log.error(A),this._reject(new Error(A))},h.prototype.close=function(){this._cleanup()},h.prototype._cleanup=function(){this._frame&&(m.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},h.prototype._timeout=function(){m.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},h.prototype._message=function(A){if(m.Log.debug("IFrameWindow.message"),this._timer&&A.origin===this._origin&&A.source===this._frame.contentWindow&&"string"==typeof A.data&&(A.data.startsWith("http://")||A.data.startsWith("https://"))){var y=A.data;y?this._success({url:y}):this._error("Invalid response from frame")}},h.notifyParent=function(A){m.Log.debug("IFrameWindow.notifyParent"),(A=A||window.location.href)&&(m.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(A,location.protocol+"//"+location.host))},a(h,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),h}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerEvents=void 0;var a=M(0),m=M(16),h=M(17);b.UserManagerEvents=function(k){function A(y){!function(v,P){if(!(v instanceof P))throw new TypeError("Cannot call a class as a function")}(this,A);var E=function(v,P){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?v:P}(this,k.call(this,y));return E._userLoaded=new h.Event("User loaded"),E._userUnloaded=new h.Event("User unloaded"),E._silentRenewError=new h.Event("Silent renew error"),E._userSignedIn=new h.Event("User signed in"),E._userSignedOut=new h.Event("User signed out"),E._userSessionChanged=new h.Event("User session changed"),E}return function(E,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);E.prototype=Object.create(f&&f.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(E,f):E.__proto__=f)}(A,k),A.prototype.load=function(E){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.Log.debug("UserManagerEvents.load"),k.prototype.load.call(this,E),f&&this._userLoaded.raise(E)},A.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),k.prototype.unload.call(this),this._userUnloaded.raise()},A.prototype.addUserLoaded=function(E){this._userLoaded.addHandler(E)},A.prototype.removeUserLoaded=function(E){this._userLoaded.removeHandler(E)},A.prototype.addUserUnloaded=function(E){this._userUnloaded.addHandler(E)},A.prototype.removeUserUnloaded=function(E){this._userUnloaded.removeHandler(E)},A.prototype.addSilentRenewError=function(E){this._silentRenewError.addHandler(E)},A.prototype.removeSilentRenewError=function(E){this._silentRenewError.removeHandler(E)},A.prototype._raiseSilentRenewError=function(E){a.Log.debug("UserManagerEvents._raiseSilentRenewError",E.message),this._silentRenewError.raise(E)},A.prototype.addUserSignedIn=function(E){this._userSignedIn.addHandler(E)},A.prototype.removeUserSignedIn=function(E){this._userSignedIn.removeHandler(E)},A.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},A.prototype.addUserSignedOut=function(E){this._userSignedOut.addHandler(E)},A.prototype.removeUserSignedOut=function(E){this._userSignedOut.removeHandler(E)},A.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},A.prototype.addUserSessionChanged=function(E){this._userSessionChanged.addHandler(E)},A.prototype.removeUserSessionChanged=function(E){this._userSessionChanged.removeHandler(E)},A.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},A}(m.AccessTokenEvents)},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Timer=void 0;var a=function(){function E(f,v){for(var P=0;P<v.length;P++){var F=v[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(f,F.key,F)}}return function(f,v,P){return v&&E(f.prototype,v),P&&E(f,P),f}}(),m=M(0),h=M(1),k=M(17);b.Timer=function(E){function f(v){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.Global.timer,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function A(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f);var w=function y(E,f){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?E:f}(this,E.call(this,v));return w._timer=P,w._nowFunc=F||function(){return Date.now()/1e3},w}return function(P,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);P.prototype=Object.create(F&&F.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(P,F):P.__proto__=F)}(f,E),f.prototype.init=function(P){P<=0&&(P=1),P=parseInt(P);var F=this.now+P;if(this.expiration===F&&this._timerHandle)m.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),m.Log.debug("Timer.init timer "+this._name+" for duration:",P),this._expiration=F;var w=5;P<w&&(w=P),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*w)}},f.prototype.cancel=function(){this._timerHandle&&(m.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},f.prototype._callback=function(){m.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),E.prototype.raise.call(this))},a(f,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),f}(k.Event)},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SilentRenewService=void 0;var a=M(0);b.SilentRenewService=function(){function m(h){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,m),this._userManager=h}return m.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(k){}).catch(function(k){a.Log.error("SilentRenewService.start: Error from getUser:",k.message)}))},m.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},m.prototype._tokenExpiring=function(){var k=this;this._userManager.signinSilent().then(function(A){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(A){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",A.message),k._userManager.events._raiseSilentRenewError(A)})},m}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupNavigator=void 0;var a=M(21);b.CordovaPopupNavigator=function(){function m(){!function(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m)}return m.prototype.prepare=function(k){var A=new a.CordovaPopupWindow(k);return Promise.resolve(A)},m}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaIFrameNavigator=void 0;var a=M(21);b.CordovaIFrameNavigator=function(){function m(){!function(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m)}return m.prototype.prepare=function(k){k.popupWindowFeatures="hidden=yes";var A=new a.CordovaPopupWindow(k);return Promise.resolve(A)},m}()},function(oe,b,M){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Version="1.11.5"}])},79929:we=>{var oe=String.prototype.replace,b=/%20/g;we.exports={default:"RFC3986",formatters:{RFC1738:function(m){return oe.call(m,b,"+")},RFC3986:function(m){return String(m)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},40353:(we,oe,b)=>{var M=b(21528),a=b(95094),m=b(79929);we.exports={formats:m,parse:a,stringify:M}},95094:(we,oe,b)=>{var M=b(3884),a=Object.prototype.hasOwnProperty,m=Array.isArray,h={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:M.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},k=function(N){return N.replace(/&#(\d+);/g,function(R,L){return String.fromCharCode(parseInt(L,10))})},A=function(N,R,L){if(N&&"string"==typeof N&&R.comma&&N.indexOf(",")>-1)return N.split(",");if(R.throwOnLimitExceeded&&L>=R.arrayLimit)throw new RangeError("Array limit exceeded. Only "+R.arrayLimit+" element"+(1===R.arrayLimit?"":"s")+" allowed in an array.");return N},P=function(N,R,L,G){if(N){var T=L.allowDots?N.replace(/\.([^.[]+)/g,"[$1]"):N,U=/(\[[^[\]]*])/g,ee=L.depth>0&&/(\[[^[\]]*])/.exec(T),te=ee?T.slice(0,ee.index):T,K=[];if(te){if(!L.plainObjects&&a.call(Object.prototype,te)&&!L.allowPrototypes)return;K.push(te)}for(var j=0;L.depth>0&&null!==(ee=U.exec(T))&&j<L.depth;){if(j+=1,!L.plainObjects&&a.call(Object.prototype,ee[1].slice(1,-1))&&!L.allowPrototypes)return;K.push(ee[1])}if(ee){if(!0===L.strictDepth)throw new RangeError("Input depth exceeded depth option of "+L.depth+" and strictDepth is true");K.push("["+T.slice(ee.index)+"]")}return function(N,R,L,G){var T=0;if(N.length>0&&"[]"===N[N.length-1]){var V=N.slice(0,-1).join("");T=Array.isArray(R)&&R[V]?R[V].length:0}for(var U=G?R:A(R,L,T),ee=N.length-1;ee>=0;--ee){var te,K=N[ee];if("[]"===K&&L.parseArrays)te=L.allowEmptyArrays&&(""===U||L.strictNullHandling&&null===U)?[]:M.combine([],U);else{te=L.plainObjects?{__proto__:null}:{};var j="["===K.charAt(0)&&"]"===K.charAt(K.length-1)?K.slice(1,-1):K,re=L.decodeDotInKeys?j.replace(/%2E/g,"."):j,ue=parseInt(re,10);L.parseArrays||""!==re?!isNaN(ue)&&K!==re&&String(ue)===re&&ue>=0&&L.parseArrays&&ue<=L.arrayLimit?(te=[])[ue]=U:"__proto__"!==re&&(te[re]=U):te={0:U}}U=te}return U}(K,R,L,G)}};we.exports=function(w,N){var R=function(N){if(!N)return h;if(typeof N.allowEmptyArrays<"u"&&"boolean"!=typeof N.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof N.decodeDotInKeys<"u"&&"boolean"!=typeof N.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==N.decoder&&typeof N.decoder<"u"&&"function"!=typeof N.decoder)throw new TypeError("Decoder has to be a function.");if(typeof N.charset<"u"&&"utf-8"!==N.charset&&"iso-8859-1"!==N.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof N.throwOnLimitExceeded<"u"&&"boolean"!=typeof N.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var R=typeof N.charset>"u"?h.charset:N.charset,L=typeof N.duplicates>"u"?h.duplicates:N.duplicates;if("combine"!==L&&"first"!==L&&"last"!==L)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof N.allowDots>"u"?!0===N.decodeDotInKeys||h.allowDots:!!N.allowDots,allowEmptyArrays:"boolean"==typeof N.allowEmptyArrays?!!N.allowEmptyArrays:h.allowEmptyArrays,allowPrototypes:"boolean"==typeof N.allowPrototypes?N.allowPrototypes:h.allowPrototypes,allowSparse:"boolean"==typeof N.allowSparse?N.allowSparse:h.allowSparse,arrayLimit:"number"==typeof N.arrayLimit?N.arrayLimit:h.arrayLimit,charset:R,charsetSentinel:"boolean"==typeof N.charsetSentinel?N.charsetSentinel:h.charsetSentinel,comma:"boolean"==typeof N.comma?N.comma:h.comma,decodeDotInKeys:"boolean"==typeof N.decodeDotInKeys?N.decodeDotInKeys:h.decodeDotInKeys,decoder:"function"==typeof N.decoder?N.decoder:h.decoder,delimiter:"string"==typeof N.delimiter||M.isRegExp(N.delimiter)?N.delimiter:h.delimiter,depth:"number"==typeof N.depth||!1===N.depth?+N.depth:h.depth,duplicates:L,ignoreQueryPrefix:!0===N.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof N.interpretNumericEntities?N.interpretNumericEntities:h.interpretNumericEntities,parameterLimit:"number"==typeof N.parameterLimit?N.parameterLimit:h.parameterLimit,parseArrays:!1!==N.parseArrays,plainObjects:"boolean"==typeof N.plainObjects?N.plainObjects:h.plainObjects,strictDepth:"boolean"==typeof N.strictDepth?!!N.strictDepth:h.strictDepth,strictNullHandling:"boolean"==typeof N.strictNullHandling?N.strictNullHandling:h.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof N.throwOnLimitExceeded&&N.throwOnLimitExceeded}}(N);if(""===w||null===w||typeof w>"u")return R.plainObjects?{__proto__:null}:{};for(var L="string"==typeof w?function(N,R){var L={__proto__:null},G=R.ignoreQueryPrefix?N.replace(/^\?/,""):N;G=G.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var T=R.parameterLimit===1/0?void 0:R.parameterLimit,V=G.split(R.delimiter,R.throwOnLimitExceeded?T+1:T);if(R.throwOnLimitExceeded&&V.length>T)throw new RangeError("Parameter limit exceeded. Only "+T+" parameter"+(1===T?"":"s")+" allowed.");var ee,U=-1,te=R.charset;if(R.charsetSentinel)for(ee=0;ee<V.length;++ee)0===V[ee].indexOf("utf8=")&&("utf8=%E2%9C%93"===V[ee]?te="utf-8":"utf8=%26%2310003%3B"===V[ee]&&(te="iso-8859-1"),U=ee,ee=V.length);for(ee=0;ee<V.length;++ee)if(ee!==U){var ue,ne,K=V[ee],j=K.indexOf("]="),re=-1===j?K.indexOf("="):j+1;-1===re?(ue=R.decoder(K,h.decoder,te,"key"),ne=R.strictNullHandling?null:""):(ue=R.decoder(K.slice(0,re),h.decoder,te,"key"),ne=M.maybeMap(A(K.slice(re+1),R,m(L[ue])?L[ue].length:0),function(q){return R.decoder(q,h.decoder,te,"value")})),ne&&R.interpretNumericEntities&&"iso-8859-1"===te&&(ne=k(String(ne))),K.indexOf("[]=")>-1&&(ne=m(ne)?[ne]:ne);var z=a.call(L,ue);z&&"combine"===R.duplicates?L[ue]=M.combine(L[ue],ne):(!z||"last"===R.duplicates)&&(L[ue]=ne)}return L}(w,R):w,G=R.plainObjects?{__proto__:null}:{},T=Object.keys(L),V=0;V<T.length;++V){var U=T[V],ee=P(U,L[U],R,"string"==typeof w);G=M.merge(G,ee,R)}return!0===R.allowSparse?G:M.compact(G)}},21528:(we,oe,b)=>{var M=b(65492),a=b(3884),m=b(79929),h=Object.prototype.hasOwnProperty,k={brackets:function(G){return G+"[]"},comma:"comma",indices:function(G,T){return G+"["+T+"]"},repeat:function(G){return G}},A=Array.isArray,y=Array.prototype.push,E=function(G,T){y.apply(G,A(T)?T:[T])},f=Date.prototype.toISOString,v=m.default,P={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,filter:void 0,format:v,formatter:m.formatters[v],indices:!1,serializeDate:function(G){return f.call(G)},skipNulls:!1,strictNullHandling:!1},w={},N=function L(G,T,V,U,ee,te,K,j,re,ue,ne,z,q,pe,ye,Ee,Ie,Ge){for(var xe=G,Be=Ge,Xe=0,Ze=!1;void 0!==(Be=Be.get(w))&&!Ze;){var ot=Be.get(G);if(Xe+=1,typeof ot<"u"){if(ot===Xe)throw new RangeError("Cyclic object value");Ze=!0}typeof Be.get(w)>"u"&&(Xe=0)}if("function"==typeof ue?xe=ue(T,xe):xe instanceof Date?xe=q(xe):"comma"===V&&A(xe)&&(xe=a.maybeMap(xe,function(se){return se instanceof Date?q(se):se})),null===xe){if(te)return re&&!Ee?re(T,P.encoder,Ie,"key",pe):T;xe=""}if(function(G){return"string"==typeof G||"number"==typeof G||"boolean"==typeof G||"symbol"==typeof G||"bigint"==typeof G}(xe)||a.isBuffer(xe))return re?[ye(Ee?T:re(T,P.encoder,Ie,"key",pe))+"="+ye(re(xe,P.encoder,Ie,"value",pe))]:[ye(T)+"="+ye(String(xe))];var Ye,ze=[];if(typeof xe>"u")return ze;if("comma"===V&&A(xe))Ee&&re&&(xe=a.maybeMap(xe,re)),Ye=[{value:xe.length>0?xe.join(",")||null:void 0}];else if(A(ue))Ye=ue;else{var At=Object.keys(xe);Ye=ne?At.sort(ne):At}var de=j?String(T).replace(/\./g,"%2E"):String(T),W=U&&A(xe)&&1===xe.length?de+"[]":de;if(ee&&A(xe)&&0===xe.length)return W+"[]";for(var X=0;X<Ye.length;++X){var Ce=Ye[X],Pe="object"==typeof Ce&&Ce&&typeof Ce.value<"u"?Ce.value:xe[Ce];if(!K||null!==Pe){var ie=z&&j?String(Ce).replace(/\./g,"%2E"):String(Ce),ae=A(xe)?"function"==typeof V?V(W,ie):W:W+(z?"."+ie:"["+ie+"]");Ge.set(G,Xe);var Me=M();Me.set(w,Ge),E(ze,L(Pe,ae,V,U,ee,te,K,j,"comma"===V&&Ee&&A(xe)?null:re,ue,ne,z,q,pe,ye,Ee,Ie,Me))}}return ze};we.exports=function(L,G){var U,T=L,V=function(G){if(!G)return P;if(typeof G.allowEmptyArrays<"u"&&"boolean"!=typeof G.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof G.encodeDotInKeys<"u"&&"boolean"!=typeof G.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==G.encoder&&typeof G.encoder<"u"&&"function"!=typeof G.encoder)throw new TypeError("Encoder has to be a function.");var T=G.charset||P.charset;if(typeof G.charset<"u"&&"utf-8"!==G.charset&&"iso-8859-1"!==G.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var V=m.default;if(typeof G.format<"u"){if(!h.call(m.formatters,G.format))throw new TypeError("Unknown format option provided.");V=G.format}var te,U=m.formatters[V],ee=P.filter;if(("function"==typeof G.filter||A(G.filter))&&(ee=G.filter),te=G.arrayFormat in k?G.arrayFormat:"indices"in G?G.indices?"indices":"repeat":P.arrayFormat,"commaRoundTrip"in G&&"boolean"!=typeof G.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof G.addQueryPrefix?G.addQueryPrefix:P.addQueryPrefix,allowDots:typeof G.allowDots>"u"?!0===G.encodeDotInKeys||P.allowDots:!!G.allowDots,allowEmptyArrays:"boolean"==typeof G.allowEmptyArrays?!!G.allowEmptyArrays:P.allowEmptyArrays,arrayFormat:te,charset:T,charsetSentinel:"boolean"==typeof G.charsetSentinel?G.charsetSentinel:P.charsetSentinel,commaRoundTrip:!!G.commaRoundTrip,delimiter:typeof G.delimiter>"u"?P.delimiter:G.delimiter,encode:"boolean"==typeof G.encode?G.encode:P.encode,encodeDotInKeys:"boolean"==typeof G.encodeDotInKeys?G.encodeDotInKeys:P.encodeDotInKeys,encoder:"function"==typeof G.encoder?G.encoder:P.encoder,encodeValuesOnly:"boolean"==typeof G.encodeValuesOnly?G.encodeValuesOnly:P.encodeValuesOnly,filter:ee,format:V,formatter:U,serializeDate:"function"==typeof G.serializeDate?G.serializeDate:P.serializeDate,skipNulls:"boolean"==typeof G.skipNulls?G.skipNulls:P.skipNulls,sort:"function"==typeof G.sort?G.sort:null,strictNullHandling:"boolean"==typeof G.strictNullHandling?G.strictNullHandling:P.strictNullHandling}}(G);"function"==typeof V.filter?T=(0,V.filter)("",T):A(V.filter)&&(U=V.filter);var te=[];if("object"!=typeof T||null===T)return"";var K=k[V.arrayFormat],j="comma"===K&&V.commaRoundTrip;U||(U=Object.keys(T)),V.sort&&U.sort(V.sort);for(var re=M(),ue=0;ue<U.length;++ue){var ne=U[ue],z=T[ne];V.skipNulls&&null===z||E(te,N(z,ne,K,j,V.allowEmptyArrays,V.strictNullHandling,V.skipNulls,V.encodeDotInKeys,V.encode?V.encoder:null,V.filter,V.sort,V.allowDots,V.serializeDate,V.format,V.formatter,V.encodeValuesOnly,V.charset,re))}var q=te.join(V.delimiter),pe=!0===V.addQueryPrefix?"?":"";return V.charsetSentinel&&(pe+="iso-8859-1"===V.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),q.length>0?pe+q:""}},3884:(we,oe,b)=>{var M=b(79929),a=Object.prototype.hasOwnProperty,m=Array.isArray,h=function(){for(var G=[],T=0;T<256;++T)G.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return G}(),A=function(T,V){for(var U=V&&V.plainObjects?{__proto__:null}:{},ee=0;ee<T.length;++ee)typeof T[ee]<"u"&&(U[ee]=T[ee]);return U},v=1024;we.exports={arrayToObject:A,assign:function(T,V){return Object.keys(V).reduce(function(U,ee){return U[ee]=V[ee],U},T)},combine:function(T,V){return[].concat(T,V)},compact:function(T){for(var V=[{obj:{o:T},prop:"o"}],U=[],ee=0;ee<V.length;++ee)for(var te=V[ee],K=te.obj[te.prop],j=Object.keys(K),re=0;re<j.length;++re){var ue=j[re],ne=K[ue];"object"==typeof ne&&null!==ne&&-1===U.indexOf(ne)&&(V.push({obj:K,prop:ue}),U.push(ne))}return function(T){for(;T.length>1;){var V=T.pop(),U=V.obj[V.prop];if(m(U)){for(var ee=[],te=0;te<U.length;++te)typeof U[te]<"u"&&ee.push(U[te]);V.obj[V.prop]=ee}}}(V),T},decode:function(T,V,U){var ee=T.replace(/\+/g," ");if("iso-8859-1"===U)return ee.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ee)}catch{return ee}},encode:function(T,V,U,ee,te){if(0===T.length)return T;var K=T;if("symbol"==typeof T?K=Symbol.prototype.toString.call(T):"string"!=typeof T&&(K=String(T)),"iso-8859-1"===U)return escape(K).replace(/%u[0-9a-f]{4}/gi,function(pe){return"%26%23"+parseInt(pe.slice(2),16)+"%3B"});for(var j="",re=0;re<K.length;re+=v){for(var ue=K.length>=v?K.slice(re,re+v):K,ne=[],z=0;z<ue.length;++z){var q=ue.charCodeAt(z);45===q||46===q||95===q||126===q||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||te===M.RFC1738&&(40===q||41===q)?ne[ne.length]=ue.charAt(z):q<128?ne[ne.length]=h[q]:q<2048?ne[ne.length]=h[192|q>>6]+h[128|63&q]:q<55296||q>=57344?ne[ne.length]=h[224|q>>12]+h[128|q>>6&63]+h[128|63&q]:(q=65536+((1023&q)<<10|1023&ue.charCodeAt(z+=1)),ne[ne.length]=h[240|q>>18]+h[128|q>>12&63]+h[128|q>>6&63]+h[128|63&q])}j+=ne.join("")}return j},isBuffer:function(T){return!(!T||"object"!=typeof T||!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T)))},isRegExp:function(T){return"[object RegExp]"===Object.prototype.toString.call(T)},maybeMap:function(T,V){if(m(T)){for(var U=[],ee=0;ee<T.length;ee+=1)U.push(V(T[ee]));return U}return V(T)},merge:function G(T,V,U){if(!V)return T;if("object"!=typeof V&&"function"!=typeof V){if(m(T))T.push(V);else{if(!T||"object"!=typeof T)return[T,V];(U&&(U.plainObjects||U.allowPrototypes)||!a.call(Object.prototype,V))&&(T[V]=!0)}return T}if(!T||"object"!=typeof T)return[T].concat(V);var ee=T;return m(T)&&!m(V)&&(ee=A(T,U)),m(T)&&m(V)?(V.forEach(function(te,K){if(a.call(T,K)){var j=T[K];j&&"object"==typeof j&&te&&"object"==typeof te?T[K]=G(j,te,U):T.push(te)}else T[K]=te}),T):Object.keys(V).reduce(function(te,K){var j=V[K];return te[K]=a.call(te,K)?G(te[K],j,U):j,te},ee)}}},50270:function(we,oe,b){var a,m,M=b(40).default;typeof self<"u"&&self,we.exports=(a={182:function(k){var A={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};k.exports={types:A,iterableTypes:[A.ITERABLE_OBJECT,A.MAP,A.ARRAY,A.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},688:function(k,A,y){var E=y(182),f=E.types,v=E.iterableTypes,P=E.errors,F=y(555),w=M(M(M(M(M(M(M(M(M(M({},f.NUMBER,F.isNumber),f.BOOLEAN,F.isBoolean),f.STRING,F.isString),f.DATE,F.isDate),f.UNDEFINED,F.isUndefined),f.NULL,F.isNull),f.ARRAY,F.isArray),f.MAP,F.isMap),f.SET,F.isSet),f.ITERABLE_OBJECT,F.isIterableObject),N=M({},f.DATE,F.areDatesEqual);function R(V){for(var U=Object.keys(w),ee=f.DEFAULT,te=0;te<U.length;te+=1)if(w[U[te]](V)){ee=U[te];break}return ee}function L(V,U,ee,te,K){var j={op:ee,path:te};return"add"!==ee&&"update"!==ee||(j.val=U),K&&"add"!==ee&&(j.oldVal=V),j}function G(V,U,ee,te,K){var Ge,j=R(V),re=R(U),ue=te||[],ne=K||[];if((Ge=j)===re&&v.indexOf(Ge)>=0)for(var z=function(Ge,xe,Be){if(Be===f.ARRAY){var Xe=new Array(Ge.length>xe.length?Ge.length:xe.length);return Xe.fill(0),new Set(Xe.map(function(Ze,ot){return ot}))}return new Set(Object.keys(Ge).concat(Object.keys(xe)))}(V,U,j).values(),q=z.next(),pe=q.value,ye=q.done;!ye;){Object.prototype.hasOwnProperty.call(V,pe)?Object.prototype.hasOwnProperty.call(U,pe)?G(V[pe],U[pe],ee,ue.concat(pe),ne):ne.push(L(V[pe],U[pe],"delete",ue.concat(pe),ee)):ne.push(L(V[pe],U[pe],"add",ue.concat(pe),ee));var Ee=z.next();pe=Ee.value,ye=Ee.done}else{var Ie=function(Ge,xe,Be,Xe){var Ze,ot,vt,ze;return Be===f.UNDEFINED&&Xe!==f.UNDEFINED?Ze="add":Be!==f.UNDEFINED&&Xe===f.UNDEFINED?Ze="delete":(ot=Ge,vt=xe,(ze=Be)===Xe&&(N[ze]?N[ze](ot,vt):ot===vt)?F.noop():Ze="update"),Ze}(V,U,j,re);null!=Ie&&ne.push(L(V,U,Ie,te,ee))}return ne}var T={add:F.setValueByPath,update:F.setValueByPath,delete:F.deleteValueByPath};k.exports={getDiff:function(U,ee){return G(U,ee,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},applyDiff:function(U,ee,te){return function(K,j,re){if(!(j instanceof Array))throw new Error(P.INVALID_DIFF_FORMAT);var ue=K;return j.forEach(function(ne){var z=ne.op,q=ne.val,pe=ne.path;if(!T[z])throw new Error(P.INVALID_DIFF_OP);ue=T[z](ue,pe,q,re)}),ue}(U,ee,te)}}},555:function(k){var A=function(w){return function(N){return N instanceof w}},y=A(Date),E=A(Array),f=A(Map),v=A(Set),P=function(w){return"[object Object]"===Object.prototype.toString.call(w)};k.exports={isNumber:function(w){return"number"==typeof w},isBoolean:function(w){return"boolean"==typeof w},isString:function(w){return"string"==typeof w},isDate:y,isUndefined:function(w){return void 0===w},isNull:function(w){return null===w},isArray:E,isMap:f,isSet:v,isIterableObject:P,noop:function(){},areDatesEqual:function(w,N){return w.getTime()===N.getTime()},setValueByPath:function(w){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2?arguments[2]:void 0,L=arguments.length>3?arguments[3]:void 0;if(!E(N))throw new Error('Diff path: "'.concat(N,'" is not valid'));var G=N.length;if(0===G)return R;for(var T=w,V=0;V<G;V+=1){var U=N[V];if(!T)throw new Error('Invalid path: "'.concat(N,'" for object: ').concat(JSON.stringify(w,null,2)));if(null==U)throw new Error('Invalid path: "'.concat(N,'" for object: ').concat(JSON.stringify(w,null,2)));V!==G-1?(T=T[U],L&&L(T)):T[U]=R}return w},deleteValueByPath:function(w,N){var R=N||[];if(0!==R.length){for(var L=w,G=R.length,T=0;T<G;T+=1)if(T!==G-1){if(!L[R[T]])throw new Error('Invalid path: "'.concat(N,'" for object: ').concat(JSON.stringify(w,null,2)));L=L[R[T]]}else if(P(L))delete L[R[T]];else for(var V=parseInt(R[T],10);L.length>V;)L.pop();return w}}}}},m={},function h(k){var A=m[k];if(void 0!==A)return A.exports;var y=m[k]={exports:{}};return a[k](y,y.exports,h),y.exports}(688))},56042:(we,oe,b)=>{b.d(oe,{m:()=>E});var M=b(43288),a=b(63398),m=b(82297),h=b(792),k=b(13544),A=b(84205),y=b(35152),E=function(f){function v(){var P,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.U;return(0,M.A)(this,v),(P=(0,m.A)(this,v))._bufferSize=F,P._windowTime=w,P._timestampProvider=N,P._buffer=[],P._infiniteTimeWindow=!0,P._infiniteTimeWindow=w===1/0,P._bufferSize=Math.max(1,F),P._windowTime=Math.max(1,w),P}return(0,k.A)(v,f),(0,a.A)(v,[{key:"next",value:function(F){var N=this._buffer,R=this._infiniteTimeWindow,L=this._timestampProvider,G=this._windowTime;this.isStopped||(N.push(F),!R&&N.push(L.now()+G)),this._trimBuffer(),(0,h.A)(v,"next",this,3)([F])}},{key:"_subscribe",value:function(F){this._throwIfClosed(),this._trimBuffer();for(var w=this._innerSubscribe(F),N=this._infiniteTimeWindow,L=this._buffer.slice(),G=0;G<L.length&&!F.closed;G+=N?1:2)F.next(L[G]);return this._checkFinalizedStatuses(F),w}},{key:"_trimBuffer",value:function(){var F=this._bufferSize,w=this._timestampProvider,N=this._buffer,R=this._infiniteTimeWindow,L=(R?1:2)*F;if(F<1/0&&L<N.length&&N.splice(0,N.length-L),!R){for(var G=w.now(),T=0,V=1;V<N.length&&N[V]<=G;V+=2)T=V;T&&N.splice(0,T+1)}}}])}(A.B)},61873:(we,oe,b)=>{b.d(oe,{p:()=>E});var M=b(43942),a=b(57808),m=b(82645),h=b(4083),k=b(91687),A=b(38067),y=b(96813);function E(){for(var f=arguments.length,v=new Array(f),P=0;P<f;P++)v[P]=arguments[P];var F=(0,h.ms)(v),w=(0,a.D)(v),N=w.args,R=w.keys,L=new M.c(function(G){var T=N.length;if(T)for(var V=new Array(T),U=T,ee=T,te=function(re){var ue=!1;(0,m.Tg)(N[re]).subscribe((0,k._)(G,function(ne){ue||(ue=!0,ee--),V[re]=ne},function(){return U--},void 0,function(){(!U||!ue)&&(ee||G.next(R?(0,y.e)(R,V):V),G.complete())}))},K=0;K<T;K++)te(K);else G.complete()});return F?L.pipe((0,A.I)(F)):L}},14876:(we,oe,b)=>{b.d(oe,{O:()=>k});var M=b(43942),a=b(18473),m=b(89397),h=b(15602);function k(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1?arguments[1]:void 0,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.b,f=-1;return null!=y&&((0,m.m)(y)?E=y:f=y),new M.c(function(v){var P=(0,h.v)(A)?+A-E.now():A;P<0&&(P=0);var F=0;return E.schedule(function(){v.closed||(v.next(F++),0<=f?this.schedule(void 0,f):v.complete())},P)})}},52575:(we,oe,b)=>{b.d(oe,{B:()=>h});var M=b(18473),a=b(50819),m=b(91687);function h(k){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.E;return(0,a.N)(function(y,E){var f=null,v=null,P=null,F=function(){if(f){f.unsubscribe(),f=null;var R=v;v=null,E.next(R)}};function w(){var N=P+k,R=A.now();if(R<N)return f=this.schedule(void 0,N-R),void E.add(f);F()}y.subscribe((0,m._)(E,function(N){v=N,P=A.now(),f||(f=A.schedule(w,k),E.add(f))},function(){F(),E.complete()},void 0,function(){v=f=null}))})}},81692:(we,oe,b)=>{b.d(oe,{c:()=>f});var M=b(18473),a=b(23513),m=b(64334),h=b(7242),k=b(87378),A=b(1365);function y(v,P){return P?function(F){return(0,a.x)(P.pipe((0,m.s)(1),(0,h.w)()),F.pipe(y(v)))}:(0,A.Z)(function(F,w){return v(F,w).pipe((0,m.s)(1),(0,k.u)(F))})}var E=b(14876);function f(v){var F=(0,E.O)(v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.E);return y(function(){return F})}},91817:(we,oe,b)=>{b.d(oe,{F:()=>h});var M=b(1440),a=b(50819),m=b(91687);function h(A){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.D;return A=A??k,(0,a.N)(function(E,f){var v,P=!0;E.subscribe((0,m._)(f,function(F){var w=y(F);(P||!A(v,w))&&(P=!1,v=w,f.next(F))}))})}function k(A,y){return A===y}},7242:(we,oe,b)=>{b.d(oe,{w:()=>h});var M=b(50819),a=b(91687),m=b(54318);function h(){return(0,M.N)(function(k,A){k.subscribe((0,a._)(A,m.l))})}},87378:(we,oe,b)=>{b.d(oe,{u:()=>a});var M=b(70271);function a(m){return(0,M.T)(function(){return m})}},49923:(we,oe,b)=>{b.d(oe,{T:()=>m});var M=b(75392),a=b(50819);function m(h,k){return(0,a.N)((0,M.S)(h,k,arguments.length>=2,!1,!0))}},71870:(we,oe,b)=>{b.d(oe,{u:()=>k});var M=b(82645),a=b(84205),m=b(49931),h=b(50819);function k(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.connector,f=void 0===E?function(){return new a.B}:E,v=y.resetOnError,P=void 0===v||v,F=y.resetOnComplete,w=void 0===F||F,N=y.resetOnRefCountZero,R=void 0===N||N;return function(L){var G,T,V,U=0,ee=!1,te=!1,K=function(){T?.unsubscribe(),T=void 0},j=function(){K(),G=V=void 0,ee=te=!1},re=function(){var ne=G;j(),ne?.unsubscribe()};return(0,h.N)(function(ue,ne){U++,!te&&!ee&&K();var z=V=V??f();ne.add(function(){0===--U&&!te&&!ee&&(T=A(re,R))}),z.subscribe(ne),!G&&U>0&&(G=new m.Ms({next:function(pe){return z.next(pe)},error:function(pe){te=!0,K(),T=A(j,P,pe),z.error(pe)},complete:function(){ee=!0,K(),T=A(j,w),z.complete()}}),(0,M.Tg)(ue).subscribe(G))})(L)}}function A(y,E){if(!0!==E){if(!1!==E){for(var f=new m.Ms({next:function(){f.unsubscribe(),y()}}),v=arguments.length,P=new Array(v>2?v-2:0),F=2;F<v;F++)P[F-2]=arguments[F];return E.apply(void 0,P).subscribe(f)}}else y()}},86301:(we,oe,b)=>{b.d(oe,{t:()=>m});var M=b(56042),a=b(71870);function m(h,k,A){var y,E=!1;if(h&&"object"==typeof h){var f=h.bufferSize;y=void 0===f?1/0:f;var v=h.windowTime;k=void 0===v?1/0:v;var P=h.refCount;E=void 0!==P&&P,A=h.scheduler}else y=h??1/0;return(0,a.u)({connector:function(){return new M.m(y,k,A)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:E})}},47470:(we,oe,b)=>{b.d(oe,{i:()=>a});var M=b(51567);function a(m){return(0,M.p)(function(h,k){return m<=k})}},90428:(we,oe,b)=>{b.d(oe,{R:()=>v});var M=b(43288),a=b(63398),m=b(82297),h=b(792),k=b(13544),y=function(P){function F(w,N){return(0,M.A)(this,F),(0,m.A)(this,F)}return(0,k.A)(F,P),(0,a.A)(F,[{key:"schedule",value:function(N){return this}}])}(b(27092).yU),E={setInterval:function(P){function F(w,N){return P.apply(this,arguments)}return F.toString=function(){return P.toString()},F}(function(P,F){for(var w=E.delegate,N=arguments.length,R=new Array(N>2?N-2:0),L=2;L<N;L++)R[L-2]=arguments[L];return w?.setInterval?w.setInterval.apply(w,[P,F].concat(R)):setInterval.apply(void 0,[P,F].concat(R))}),clearInterval:function(P){function F(w){return P.apply(this,arguments)}return F.toString=function(){return P.toString()},F}(function(P){var F=E.delegate;return(F?.clearInterval||clearInterval)(P)}),delegate:void 0},f=b(80967),v=function(P){function F(w,N){var R;return(0,M.A)(this,F),(R=(0,m.A)(this,F,[w,N])).scheduler=w,R.work=N,R.pending=!1,R}return(0,k.A)(F,P),(0,a.A)(F,[{key:"schedule",value:function(N){var L,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=N;var G=this.id,T=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(T,G,R)),this.pending=!0,this.delay=R,this.id=null!==(L=this.id)&&void 0!==L?L:this.requestAsyncId(T,this.id,R),this}},{key:"requestAsyncId",value:function(N,R){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return E.setInterval(N.flush.bind(N,this),L)}},{key:"recycleAsyncId",value:function(N,R){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=L&&this.delay===L&&!1===this.pending)return R;null!=R&&E.clearInterval(R)}},{key:"execute",value:function(N,R){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var L=this._execute(N,R);if(L)return L;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(N,R){var G,L=!1;try{this.work(N)}catch(T){L=!0,G=T||new Error("Scheduled action threw falsy error")}if(L)return this.unsubscribe(),G}},{key:"unsubscribe",value:function(){if(!this.closed){var N=this.id,R=this.scheduler,L=R.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f.o)(L,this),null!=N&&(this.id=this.recycleAsyncId(R,N,null)),this.delay=null,(0,h.A)(F,"unsubscribe",this,3)([])}}}])}(y)},9576:(we,oe,b)=>{b.d(oe,{q:()=>y});var M=b(43288),a=b(63398),m=b(82297),h=b(13544),k=b(35152),A=function(){return(0,a.A)(function E(f){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.now;(0,M.A)(this,E),this.schedulerActionCtor=f,this.now=v},[{key:"schedule",value:function(v){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,v).schedule(F,P)}}])}();A.now=k.U.now;var y=function(E){function f(v){var P,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.now;return(0,M.A)(this,f),(P=(0,m.A)(this,f,[v,F])).actions=[],P._active=!1,P}return(0,h.A)(f,E),(0,a.A)(f,[{key:"flush",value:function(P){var F=this.actions;if(this._active)F.push(P);else{var w;this._active=!0;do{if(w=P.execute(P.state,P.delay))break}while(P=F.shift());if(this._active=!1,w){for(;P=F.shift();)P.unsubscribe();throw w}}}}])}(A)},18473:(we,oe,b)=>{b.d(oe,{E:()=>m,b:()=>h});var M=b(90428),m=new(b(9576).q)(M.R),h=m},35152:(we,oe,b)=>{b.d(oe,{U:()=>M});var M={now:function(){return(M.delegate||Date).now()},delegate:void 0}},15602:(we,oe,b)=>{function M(a){return a instanceof Date&&!isNaN(a)}b.d(oe,{v:()=>M})},34365:(we,oe,b)=>{var M=b(22954),a=b(25346),m=b(46413),h=Object.prototype.toString;we.exports=M(function k(A,y){for(var E=-1,f="[object Array]"===h.call(A)?A:m(a(A)),v=f.length,P=v?y:void 0;++E<v;){if(Object(P)!==P)return;P=P[f[E]]}return"function"==typeof P?P():P})},50863:(we,oe,b)=>{var M=b(73687),a=b(28519),m=function(f,v,P){for(var w,F=f;null!=(w=F.next);F=w)if(w.key===v)return F.next=w.next,P||(w.next=f.next,f.next=w),w};we.exports=function(){var f,v={assert:function(F){if(!v.has(F))throw new a("Side channel does not contain "+M(F))},delete:function(F){var w=f&&f.next,N=function(f,v){if(f)return m(f,v,!0)}(f,F);return N&&w&&w===N&&(f=void 0),!!N},get:function(F){return function(f,v){if(f){var P=m(f,v);return P&&P.value}}(f,F)},has:function(F){return function(f,v){return!!f&&!!m(f,v)}(f,F)},set:function(F,w){f||(f={next:void 0}),function(f,v,P){var F=m(f,v);F?F.value=P:f.next={key:v,next:f.next,value:P}}(f,F,w)}};return v}},42375:(we,oe,b)=>{var M=b(12521),a=b(30840),m=b(73687),h=b(28519),k=M("%Map%",!0),A=a("Map.prototype.get",!0),y=a("Map.prototype.set",!0),E=a("Map.prototype.has",!0),f=a("Map.prototype.delete",!0),v=a("Map.prototype.size",!0);we.exports=!!k&&function(){var F,w={assert:function(R){if(!w.has(R))throw new h("Side channel does not contain "+m(R))},delete:function(R){if(F){var L=f(F,R);return 0===v(F)&&(F=void 0),L}return!1},get:function(R){if(F)return A(F,R)},has:function(R){return!!F&&E(F,R)},set:function(R,L){F||(F=new k),y(F,R,L)}};return w}},20603:(we,oe,b)=>{var M=b(12521),a=b(30840),m=b(73687),h=b(42375),k=b(28519),A=M("%WeakMap%",!0),y=a("WeakMap.prototype.get",!0),E=a("WeakMap.prototype.set",!0),f=a("WeakMap.prototype.has",!0),v=a("WeakMap.prototype.delete",!0);we.exports=A?function(){var F,w,N={assert:function(L){if(!N.has(L))throw new k("Side channel does not contain "+m(L))},delete:function(L){if(A&&L&&("object"==typeof L||"function"==typeof L)){if(F)return v(F,L)}else if(h&&w)return w.delete(L);return!1},get:function(L){return A&&L&&("object"==typeof L||"function"==typeof L)&&F?y(F,L):w&&w.get(L)},has:function(L){return A&&L&&("object"==typeof L||"function"==typeof L)&&F?f(F,L):!!w&&w.has(L)},set:function(L,G){A&&L&&("object"==typeof L||"function"==typeof L)?(F||(F=new A),E(F,L,G)):h&&(w||(w=h()),w.set(L,G))}};return N}:h},65492:(we,oe,b)=>{var M=b(28519),a=b(73687),m=b(50863),h=b(42375),A=b(20603)||h||m;we.exports=function(){var E,f={assert:function(P){if(!f.has(P))throw new M("Side channel does not contain "+a(P))},delete:function(P){return!!E&&E.delete(P)},get:function(P){return E&&E.get(P)},has:function(P){return!!E&&E.has(P)},set:function(P,F){E||(E=A()),E.set(P,F)}};return f}},44834:(we,oe,b)=>{we.exports=m;var M=b(44339).EventEmitter;function m(){M.call(this)}b(19822)(m,M),m.Readable=b(1551),m.Writable=b(55299),m.Duplex=b(13049),m.Transform=b(8463),m.PassThrough=b(12781),m.finished=b(85629),m.pipeline=b(67607),m.Stream=m,m.prototype.pipe=function(h,k){var A=this;function y(N){h.writable&&!1===h.write(N)&&A.pause&&A.pause()}function E(){A.readable&&A.resume&&A.resume()}A.on("data",y),h.on("drain",E),!h._isStdio&&(!k||!1!==k.end)&&(A.on("end",v),A.on("close",P));var f=!1;function v(){f||(f=!0,h.end())}function P(){f||(f=!0,"function"==typeof h.destroy&&h.destroy())}function F(N){if(w(),0===M.listenerCount(this,"error"))throw N}function w(){A.removeListener("data",y),h.removeListener("drain",E),A.removeListener("end",v),A.removeListener("close",P),A.removeListener("error",F),h.removeListener("error",F),A.removeListener("end",w),A.removeListener("close",w),h.removeListener("close",w)}return A.on("error",F),h.on("error",F),A.on("end",w),A.on("close",w),h.on("close",w),h.emit("pipe",A),h}},58379:we=>{var b={};function M(A,y,E){E||(E=Error);var v=function(P){function F(w,N,R){return P.call(this,function f(P,F,w){return"string"==typeof y?y:y(P,F,w)}(w,N,R))||this}return function oe(A,y){A.prototype=Object.create(y.prototype),A.prototype.constructor=A,A.__proto__=y}(F,P),F}(E);v.prototype.name=E.name,v.prototype.code=A,b[A]=v}function a(A,y){if(Array.isArray(A)){var E=A.length;return A=A.map(function(f){return String(f)}),E>2?"one of ".concat(y," ").concat(A.slice(0,E-1).join(", "),", or ")+A[E-1]:2===E?"one of ".concat(y," ").concat(A[0]," or ").concat(A[1]):"of ".concat(y," ").concat(A[0])}return"of ".concat(y," ").concat(String(A))}M("ERR_INVALID_OPT_VALUE",function(A,y){return'The value "'+y+'" is invalid for option "'+A+'"'},TypeError),M("ERR_INVALID_ARG_TYPE",function(A,y,E){var f,v;if("string"==typeof y&&function m(A,y,E){return A.substr(!E||E<0?0:+E,y.length)===y}(y,"not ")?(f="must not be",y=y.replace(/^not /,"")):f="must be",function h(A,y,E){return(void 0===E||E>A.length)&&(E=A.length),A.substring(E-y.length,E)===y}(A," argument"))v="The ".concat(A," ").concat(f," ").concat(a(y,"type"));else{var P=function k(A,y,E){return"number"!=typeof E&&(E=0),!(E+y.length>A.length)&&-1!==A.indexOf(y,E)}(A,".")?"property":"argument";v='The "'.concat(A,'" ').concat(P," ").concat(f," ").concat(a(y,"type"))}return v+". Received type ".concat(typeof E)},TypeError),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),M("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),M("ERR_STREAM_PREMATURE_CLOSE","Premature close"),M("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),M("ERR_STREAM_WRITE_AFTER_END","write after end"),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),we.exports.F=b},13049:(we,oe,b)=>{var M=Object.keys||function(v){var P=[];for(var F in v)P.push(F);return P};we.exports=y;var a=b(1551),m=b(55299);b(19822)(y,a);for(var h=M(m.prototype),k=0;k<h.length;k++){var A=h[k];y.prototype[A]||(y.prototype[A]=m.prototype[A])}function y(v){if(!(this instanceof y))return new y(v);a.call(this,v),m.call(this,v),this.allowHalfOpen=!0,v&&(!1===v.readable&&(this.readable=!1),!1===v.writable&&(this.writable=!1),!1===v.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",E)))}function E(){this._writableState.ended||process.nextTick(f,this)}function f(v){v.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(P){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=P,this._writableState.destroyed=P)}})},12781:(we,oe,b)=>{we.exports=a;var M=b(8463);function a(m){if(!(this instanceof a))return new a(m);M.call(this,m)}b(19822)(a,M),a.prototype._transform=function(m,h,k){k(null,m)}},1551:(we,oe,b)=>{var M;we.exports=ne,ne.ReadableState=ue,b(44339);var v,m=function(ae,Me){return ae.listeners(Me).length},h=b(66832),k=b(163).Buffer,A=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=b(77199);v=f&&f.debuglog?f.debuglog("stream"):function(){};var U,ee,te,P=b(22650),F=b(79719),N=b(87288).getHighWaterMark,R=b(58379).F,L=R.ERR_INVALID_ARG_TYPE,G=R.ERR_STREAM_PUSH_AFTER_EOF,T=R.ERR_METHOD_NOT_IMPLEMENTED,V=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;b(19822)(ne,h);var K=F.errorOrDestroy,j=["error","close","destroy","pause","resume"];function ue(ie,ae,Me){M=M||b(13049),"boolean"!=typeof Me&&(Me=ae instanceof M),this.objectMode=!!(ie=ie||{}).objectMode,Me&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=N(this,ie,"readableHighWaterMark",Me),this.buffer=new P,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==ie.emitClose,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(U||(U=b(70281).I),this.decoder=new U(ie.encoding),this.encoding=ie.encoding)}function ne(ie){if(M=M||b(13049),!(this instanceof ne))return new ne(ie);this._readableState=new ue(ie,this,this instanceof M),this.readable=!0,ie&&("function"==typeof ie.read&&(this._read=ie.read),"function"==typeof ie.destroy&&(this._destroy=ie.destroy)),h.call(this)}function z(ie,ae,Me,se,Z){v("readableAddChunk",ae);var ve,Q=ie._readableState;if(null===ae)Q.reading=!1,function Ge(ie,ae){if(v("onEofChunk"),!ae.ended){if(ae.decoder){var Me=ae.decoder.end();Me&&Me.length&&(ae.buffer.push(Me),ae.length+=ae.objectMode?1:Me.length)}ae.ended=!0,ae.sync?xe(ie):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,Be(ie)))}}(ie,Q);else if(Z||(ve=function pe(ie,ae){var Me;return!function E(ie){return k.isBuffer(ie)||ie instanceof A}(ae)&&"string"!=typeof ae&&void 0!==ae&&!ie.objectMode&&(Me=new L("chunk",["string","Buffer","Uint8Array"],ae)),Me}(Q,ae)),ve)K(ie,ve);else if(Q.objectMode||ae&&ae.length>0)if("string"!=typeof ae&&!Q.objectMode&&Object.getPrototypeOf(ae)!==k.prototype&&(ae=function y(ie){return k.from(ie)}(ae)),se)Q.endEmitted?K(ie,new V):q(ie,Q,ae,!0);else if(Q.ended)K(ie,new G);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!Me?(ae=Q.decoder.write(ae),Q.objectMode||0!==ae.length?q(ie,Q,ae,!1):Xe(ie,Q)):q(ie,Q,ae,!1)}else se||(Q.reading=!1,Xe(ie,Q));return!Q.ended&&(Q.length<Q.highWaterMark||0===Q.length)}function q(ie,ae,Me,se){ae.flowing&&0===ae.length&&!ae.sync?(ae.awaitDrain=0,ie.emit("data",Me)):(ae.length+=ae.objectMode?1:Me.length,se?ae.buffer.unshift(Me):ae.buffer.push(Me),ae.needReadable&&xe(ie)),Xe(ie,ae)}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ae){this._readableState&&(this._readableState.destroyed=ae)}}),ne.prototype.destroy=F.destroy,ne.prototype._undestroy=F.undestroy,ne.prototype._destroy=function(ie,ae){ae(ie)},ne.prototype.push=function(ie,ae){var se,Me=this._readableState;return Me.objectMode?se=!0:"string"==typeof ie&&((ae=ae||Me.defaultEncoding)!==Me.encoding&&(ie=k.from(ie,ae),ae=""),se=!0),z(this,ie,ae,!1,se)},ne.prototype.unshift=function(ie){return z(this,ie,null,!0,!1)},ne.prototype.isPaused=function(){return!1===this._readableState.flowing},ne.prototype.setEncoding=function(ie){U||(U=b(70281).I);var ae=new U(ie);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var Me=this._readableState.buffer.head,se="";null!==Me;)se+=ae.write(Me.data),Me=Me.next;return this._readableState.buffer.clear(),""!==se&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var ye=1073741824;function Ie(ie,ae){return ie<=0||0===ae.length&&ae.ended?0:ae.objectMode?1:ie!=ie?ae.flowing&&ae.length?ae.buffer.head.data.length:ae.length:(ie>ae.highWaterMark&&(ae.highWaterMark=function Ee(ie){return ie>=ye?ie=ye:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}(ie)),ie<=ae.length?ie:ae.ended?ae.length:(ae.needReadable=!0,0))}function xe(ie){var ae=ie._readableState;v("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||(v("emitReadable",ae.flowing),ae.emittedReadable=!0,process.nextTick(Be,ie))}function Be(ie){var ae=ie._readableState;v("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&(ae.length||ae.ended)&&(ie.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,de(ie)}function Xe(ie,ae){ae.readingMore||(ae.readingMore=!0,process.nextTick(Ze,ie,ae))}function Ze(ie,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&0===ae.length);){var Me=ae.length;if(v("maybeReadMore read 0"),ie.read(0),Me===ae.length)break}ae.readingMore=!1}function vt(ie){var ae=ie._readableState;ae.readableListening=ie.listenerCount("readable")>0,ae.resumeScheduled&&!ae.paused?ae.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function ze(ie){v("readable nexttick read 0"),ie.read(0)}function At(ie,ae){v("resume",ae.reading),ae.reading||ie.read(0),ae.resumeScheduled=!1,ie.emit("resume"),de(ie),ae.flowing&&!ae.reading&&ie.read(0)}function de(ie){var ae=ie._readableState;for(v("flow",ae.flowing);ae.flowing&&null!==ie.read(););}function W(ie,ae){return 0===ae.length?null:(ae.objectMode?Me=ae.buffer.shift():!ie||ie>=ae.length?(Me=ae.decoder?ae.buffer.join(""):1===ae.buffer.length?ae.buffer.first():ae.buffer.concat(ae.length),ae.buffer.clear()):Me=ae.buffer.consume(ie,ae.decoder),Me);var Me}function X(ie){var ae=ie._readableState;v("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,process.nextTick(Ce,ae,ie))}function Ce(ie,ae){if(v("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&0===ie.length&&(ie.endEmitted=!0,ae.readable=!1,ae.emit("end"),ie.autoDestroy)){var Me=ae._writableState;(!Me||Me.autoDestroy&&Me.finished)&&ae.destroy()}}function Pe(ie,ae){for(var Me=0,se=ie.length;Me<se;Me++)if(ie[Me]===ae)return Me;return-1}ne.prototype.read=function(ie){v("read",ie),ie=parseInt(ie,10);var ae=this._readableState,Me=ie;if(0!==ie&&(ae.emittedReadable=!1),0===ie&&ae.needReadable&&((0!==ae.highWaterMark?ae.length>=ae.highWaterMark:ae.length>0)||ae.ended))return v("read: emitReadable",ae.length,ae.ended),0===ae.length&&ae.ended?X(this):xe(this),null;if(0===(ie=Ie(ie,ae))&&ae.ended)return 0===ae.length&&X(this),null;var Z,se=ae.needReadable;return v("need readable",se),(0===ae.length||ae.length-ie<ae.highWaterMark)&&v("length less than watermark",se=!0),ae.ended||ae.reading?v("reading or ended",se=!1):se&&(v("do read"),ae.reading=!0,ae.sync=!0,0===ae.length&&(ae.needReadable=!0),this._read(ae.highWaterMark),ae.sync=!1,ae.reading||(ie=Ie(Me,ae))),null===(Z=ie>0?W(ie,ae):null)?(ae.needReadable=ae.length<=ae.highWaterMark,ie=0):(ae.length-=ie,ae.awaitDrain=0),0===ae.length&&(ae.ended||(ae.needReadable=!0),Me!==ie&&ae.ended&&X(this)),null!==Z&&this.emit("data",Z),Z},ne.prototype._read=function(ie){K(this,new T("_read()"))},ne.prototype.pipe=function(ie,ae){var Me=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=ie;break;case 1:se.pipes=[se.pipes,ie];break;default:se.pipes.push(ie)}se.pipesCount+=1,v("pipe count=%d opts=%j",se.pipesCount,ae);var Q=ae&&!1===ae.end||ie===process.stdout||ie===process.stderr?Se:je;function je(){v("onend"),ie.end()}se.endEmitted?process.nextTick(Q):Me.once("end",Q),ie.on("unpipe",function ve(Zn,Dn){v("onunpipe"),Zn===Me&&Dn&&!1===Dn.hasUnpiped&&(Dn.hasUnpiped=!0,function bt(){v("cleanup"),ie.removeListener("close",ln),ie.removeListener("finish",fn),ie.removeListener("drain",nt),ie.removeListener("error",It),ie.removeListener("unpipe",ve),Me.removeListener("end",je),Me.removeListener("end",Se),Me.removeListener("data",Ot),at=!0,se.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&nt()}())});var nt=function ot(ie){return function(){var Me=ie._readableState;v("pipeOnDrain",Me.awaitDrain),Me.awaitDrain&&Me.awaitDrain--,0===Me.awaitDrain&&m(ie,"data")&&(Me.flowing=!0,de(ie))}}(Me);ie.on("drain",nt);var at=!1;function Ot(Zn){v("ondata");var Dn=ie.write(Zn);v("dest.write",Dn),!1===Dn&&((1===se.pipesCount&&se.pipes===ie||se.pipesCount>1&&-1!==Pe(se.pipes,ie))&&!at&&(v("false write response, pause",se.awaitDrain),se.awaitDrain++),Me.pause())}function It(Zn){v("onerror",Zn),Se(),ie.removeListener("error",It),0===m(ie,"error")&&K(ie,Zn)}function ln(){ie.removeListener("finish",fn),Se()}function fn(){v("onfinish"),ie.removeListener("close",ln),Se()}function Se(){v("unpipe"),Me.unpipe(ie)}return Me.on("data",Ot),function re(ie,ae,Me){if("function"==typeof ie.prependListener)return ie.prependListener(ae,Me);ie._events&&ie._events[ae]?Array.isArray(ie._events[ae])?ie._events[ae].unshift(Me):ie._events[ae]=[Me,ie._events[ae]]:ie.on(ae,Me)}(ie,"error",It),ie.once("close",ln),ie.once("finish",fn),ie.emit("pipe",Me),se.flowing||(v("pipe resume"),Me.resume()),ie},ne.prototype.unpipe=function(ie){var ae=this._readableState,Me={hasUnpiped:!1};if(0===ae.pipesCount)return this;if(1===ae.pipesCount)return ie&&ie!==ae.pipes||(ie||(ie=ae.pipes),ae.pipes=null,ae.pipesCount=0,ae.flowing=!1,ie&&ie.emit("unpipe",this,Me)),this;if(!ie){var se=ae.pipes,Z=ae.pipesCount;ae.pipes=null,ae.pipesCount=0,ae.flowing=!1;for(var Q=0;Q<Z;Q++)se[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Pe(ae.pipes,ie);return-1===ve||(ae.pipes.splice(ve,1),ae.pipesCount-=1,1===ae.pipesCount&&(ae.pipes=ae.pipes[0]),ie.emit("unpipe",this,Me)),this},ne.prototype.addListener=ne.prototype.on=function(ie,ae){var Me=h.prototype.on.call(this,ie,ae),se=this._readableState;return"data"===ie?(se.readableListening=this.listenerCount("readable")>0,!1!==se.flowing&&this.resume()):"readable"===ie&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,v("on readable",se.length,se.reading),se.length?xe(this):se.reading||process.nextTick(ze,this)),Me},ne.prototype.removeListener=function(ie,ae){var Me=h.prototype.removeListener.call(this,ie,ae);return"readable"===ie&&process.nextTick(vt,this),Me},ne.prototype.removeAllListeners=function(ie){var ae=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===ie||void 0===ie)&&process.nextTick(vt,this),ae},ne.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(v("resume"),ie.flowing=!ie.readableListening,function Ye(ie,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,process.nextTick(At,ie,ae))}(this,ie)),ie.paused=!1,this},ne.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ne.prototype.wrap=function(ie){var ae=this,Me=this._readableState,se=!1;for(var Z in ie.on("end",function(){if(v("wrapped end"),Me.decoder&&!Me.ended){var ve=Me.decoder.end();ve&&ve.length&&ae.push(ve)}ae.push(null)}),ie.on("data",function(ve){v("wrapped data"),Me.decoder&&(ve=Me.decoder.write(ve)),Me.objectMode&&null==ve||!(Me.objectMode||ve&&ve.length)||ae.push(ve)||(se=!0,ie.pause())}),ie)void 0===this[Z]&&"function"==typeof ie[Z]&&(this[Z]=function(je){return function(){return ie[je].apply(ie,arguments)}}(Z));for(var Q=0;Q<j.length;Q++)ie.on(j[Q],this.emit.bind(this,j[Q]));return this._read=function(ve){v("wrapped _read",ve),se&&(se=!1,ie.resume())},this},"function"==typeof Symbol&&(ne.prototype[Symbol.asyncIterator]=function(){return void 0===ee&&(ee=b(45486)),ee(this)}),Object.defineProperty(ne.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ne.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ne.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ae){this._readableState&&(this._readableState.flowing=ae)}}),ne._fromList=W,Object.defineProperty(ne.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ne.from=function(ie,ae){return void 0===te&&(te=b(65252)),te(ne,ie,ae)})},8463:(we,oe,b)=>{we.exports=E;var M=b(58379).F,a=M.ERR_METHOD_NOT_IMPLEMENTED,m=M.ERR_MULTIPLE_CALLBACK,h=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,k=M.ERR_TRANSFORM_WITH_LENGTH_0,A=b(13049);function y(P,F){var w=this._transformState;w.transforming=!1;var N=w.writecb;if(null===N)return this.emit("error",new m);w.writechunk=null,w.writecb=null,null!=F&&this.push(F),N(P);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function E(P){if(!(this instanceof E))return new E(P);A.call(this,P),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,P&&("function"==typeof P.transform&&(this._transform=P.transform),"function"==typeof P.flush&&(this._flush=P.flush)),this.on("prefinish",f)}function f(){var P=this;"function"!=typeof this._flush||this._readableState.destroyed?v(this,null,null):this._flush(function(F,w){v(P,F,w)})}function v(P,F,w){if(F)return P.emit("error",F);if(null!=w&&P.push(w),P._writableState.length)throw new k;if(P._transformState.transforming)throw new h;return P.push(null)}b(19822)(E,A),E.prototype.push=function(P,F){return this._transformState.needTransform=!1,A.prototype.push.call(this,P,F)},E.prototype._transform=function(P,F,w){w(new a("_transform()"))},E.prototype._write=function(P,F,w){var N=this._transformState;if(N.writecb=w,N.writechunk=P,N.writeencoding=F,!N.transforming){var R=this._readableState;(N.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},E.prototype._read=function(P){var F=this._transformState;null===F.writechunk||F.transforming?F.needTransform=!0:(F.transforming=!0,this._transform(F.writechunk,F.writeencoding,F.afterTransform))},E.prototype._destroy=function(P,F){A.prototype._destroy.call(this,P,function(w){F(w)})}},55299:(we,oe,b)=>{function a(de){var W=this;this.next=null,this.entry=null,this.finish=function(){!function At(de,W,X){var Ce=de.entry;for(de.entry=null;Ce;){var Pe=Ce.callback;W.pendingcb--,Pe(X),Ce=Ce.next}W.corkedRequestsFree.next=de}(W,de)}}var m;we.exports=ue,ue.WritableState=j;var re,h={deprecate:b(53935)},k=b(66832),A=b(163).Buffer,y=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v=b(79719),F=b(87288).getHighWaterMark,w=b(58379).F,N=w.ERR_INVALID_ARG_TYPE,R=w.ERR_METHOD_NOT_IMPLEMENTED,L=w.ERR_MULTIPLE_CALLBACK,G=w.ERR_STREAM_CANNOT_PIPE,T=w.ERR_STREAM_DESTROYED,V=w.ERR_STREAM_NULL_VALUES,U=w.ERR_STREAM_WRITE_AFTER_END,ee=w.ERR_UNKNOWN_ENCODING,te=v.errorOrDestroy;function K(){}function j(de,W,X){m=m||b(13049),"boolean"!=typeof X&&(X=W instanceof m),this.objectMode=!!(de=de||{}).objectMode,X&&(this.objectMode=this.objectMode||!!de.writableObjectMode),this.highWaterMark=F(this,de,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===de.decodeStrings),this.defaultEncoding=de.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){!function Ge(de,W){var X=de._writableState,Ce=X.sync,Pe=X.writecb;if("function"!=typeof Pe)throw new L;if(function Ie(de){de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0}(X),W)!function Ee(de,W,X,Ce,Pe){--W.pendingcb,X?(process.nextTick(Pe,Ce),process.nextTick(ze,de,W),de._writableState.errorEmitted=!0,te(de,Ce)):(Pe(Ce),de._writableState.errorEmitted=!0,te(de,Ce),ze(de,W))}(de,X,Ce,W,Pe);else{var ie=Ze(X)||de.destroyed;!ie&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&Xe(de,X),Ce?process.nextTick(xe,de,X,ie,Pe):xe(de,X,ie,Pe)}}(W,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==de.emitClose,this.autoDestroy=!!de.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function ue(de){var W=this instanceof(m=m||b(13049));if(!W&&!re.call(ue,this))return new ue(de);this._writableState=new j(de,this,W),this.writable=!0,de&&("function"==typeof de.write&&(this._write=de.write),"function"==typeof de.writev&&(this._writev=de.writev),"function"==typeof de.destroy&&(this._destroy=de.destroy),"function"==typeof de.final&&(this._final=de.final)),k.call(this)}function ye(de,W,X,Ce,Pe,ie,ae){W.writelen=Ce,W.writecb=ae,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new T("write")):X?de._writev(Pe,W.onwrite):de._write(Pe,ie,W.onwrite),W.sync=!1}function xe(de,W,X,Ce){X||function Be(de,W){0===W.length&&W.needDrain&&(W.needDrain=!1,de.emit("drain"))}(de,W),W.pendingcb--,Ce(),ze(de,W)}function Xe(de,W){W.bufferProcessing=!0;var X=W.bufferedRequest;if(de._writev&&X&&X.next){var Pe=new Array(W.bufferedRequestCount),ie=W.corkedRequestsFree;ie.entry=X;for(var ae=0,Me=!0;X;)Pe[ae]=X,X.isBuf||(Me=!1),X=X.next,ae+=1;Pe.allBuffers=Me,ye(de,W,!0,W.length,Pe,"",ie.finish),W.pendingcb++,W.lastBufferedRequest=null,ie.next?(W.corkedRequestsFree=ie.next,ie.next=null):W.corkedRequestsFree=new a(W),W.bufferedRequestCount=0}else{for(;X;){var se=X.chunk;if(ye(de,W,!1,W.objectMode?1:se.length,se,X.encoding,X.callback),X=X.next,W.bufferedRequestCount--,W.writing)break}null===X&&(W.lastBufferedRequest=null)}W.bufferedRequest=X,W.bufferProcessing=!1}function Ze(de){return de.ending&&0===de.length&&null===de.bufferedRequest&&!de.finished&&!de.writing}function ot(de,W){de._final(function(X){W.pendingcb--,X&&te(de,X),W.prefinished=!0,de.emit("prefinish"),ze(de,W)})}function ze(de,W){var X=Ze(W);if(X&&(function vt(de,W){!W.prefinished&&!W.finalCalled&&("function"!=typeof de._final||W.destroyed?(W.prefinished=!0,de.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,process.nextTick(ot,de,W)))}(de,W),0===W.pendingcb&&(W.finished=!0,de.emit("finish"),W.autoDestroy))){var Ce=de._readableState;(!Ce||Ce.autoDestroy&&Ce.endEmitted)&&de.destroy()}return X}b(19822)(ue,k),j.prototype.getBuffer=function(){for(var W=this.bufferedRequest,X=[];W;)X.push(W),W=W.next;return X},function(){try{Object.defineProperty(j.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(ue,Symbol.hasInstance,{value:function(W){return!!re.call(this,W)||this===ue&&W&&W._writableState instanceof j}})):re=function(W){return W instanceof this},ue.prototype.pipe=function(){te(this,new G)},ue.prototype.write=function(de,W,X){var Ce=this._writableState,Pe=!1,ie=!Ce.objectMode&&function f(de){return A.isBuffer(de)||de instanceof y}(de);return ie&&!A.isBuffer(de)&&(de=function E(de){return A.from(de)}(de)),"function"==typeof W&&(X=W,W=null),ie?W="buffer":W||(W=Ce.defaultEncoding),"function"!=typeof X&&(X=K),Ce.ending?function ne(de,W){var X=new U;te(de,X),process.nextTick(W,X)}(this,X):(ie||function z(de,W,X,Ce){var Pe;return null===X?Pe=new V:"string"!=typeof X&&!W.objectMode&&(Pe=new N("chunk",["string","Buffer"],X)),!Pe||(te(de,Pe),process.nextTick(Ce,Pe),!1)}(this,Ce,de,X))&&(Ce.pendingcb++,Pe=function pe(de,W,X,Ce,Pe,ie){if(!X){var ae=function q(de,W,X){return!de.objectMode&&!1!==de.decodeStrings&&"string"==typeof W&&(W=A.from(W,X)),W}(W,Ce,Pe);Ce!==ae&&(X=!0,Pe="buffer",Ce=ae)}var Me=W.objectMode?1:Ce.length;W.length+=Me;var se=W.length<W.highWaterMark;if(se||(W.needDrain=!0),W.writing||W.corked){var Z=W.lastBufferedRequest;W.lastBufferedRequest={chunk:Ce,encoding:Pe,isBuf:X,callback:ie,next:null},Z?Z.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else ye(de,W,!1,Me,Ce,Pe,ie);return se}(this,Ce,ie,de,W,X)),Pe},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){var de=this._writableState;de.corked&&(de.corked--,!de.writing&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&Xe(this,de))},ue.prototype.setDefaultEncoding=function(W){if("string"==typeof W&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new ee(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ue.prototype._write=function(de,W,X){X(new R("_write()"))},ue.prototype._writev=null,ue.prototype.end=function(de,W,X){var Ce=this._writableState;return"function"==typeof de?(X=de,de=null,W=null):"function"==typeof W&&(X=W,W=null),null!=de&&this.write(de,W),Ce.corked&&(Ce.corked=1,this.uncork()),Ce.ending||function Ye(de,W,X){W.ending=!0,ze(de,W),X&&(W.finished?process.nextTick(X):de.once("finish",X)),W.ended=!0,de.writable=!1}(this,Ce,X),this},Object.defineProperty(ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),ue.prototype.destroy=v.destroy,ue.prototype._undestroy=v.undestroy,ue.prototype._destroy=function(de,W){W(de)}},45486:(we,oe,b)=>{var M;function a(U,ee,te){return ee=function m(U){var ee=function h(U,ee){if("object"!=typeof U||null===U)return U;var te=U[Symbol.toPrimitive];if(void 0!==te){var K=te.call(U,ee||"default");if("object"!=typeof K)return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(U)}(U,"string");return"symbol"==typeof ee?ee:String(ee)}(ee),ee in U?Object.defineProperty(U,ee,{value:te,enumerable:!0,configurable:!0,writable:!0}):U[ee]=te,U}var k=b(85629),A=Symbol("lastResolve"),y=Symbol("lastReject"),E=Symbol("error"),f=Symbol("ended"),v=Symbol("lastPromise"),P=Symbol("handlePromise"),F=Symbol("stream");function w(U,ee){return{value:U,done:ee}}function N(U){var ee=U[A];if(null!==ee){var te=U[F].read();null!==te&&(U[v]=null,U[A]=null,U[y]=null,ee(w(te,!1)))}}function R(U){process.nextTick(N,U)}var G=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((a(M={get stream(){return this[F]},next:function(){var ee=this,te=this[E];if(null!==te)return Promise.reject(te);if(this[f])return Promise.resolve(w(void 0,!0));if(this[F].destroyed)return new Promise(function(ue,ne){process.nextTick(function(){ee[E]?ne(ee[E]):ue(w(void 0,!0))})});var j,K=this[v];if(K)j=new Promise(function L(U,ee){return function(te,K){U.then(function(){ee[f]?te(w(void 0,!0)):ee[P](te,K)},K)}}(K,this));else{var re=this[F].read();if(null!==re)return Promise.resolve(w(re,!1));j=new Promise(this[P])}return this[v]=j,j}},Symbol.asyncIterator,function(){return this}),a(M,"return",function(){var ee=this;return new Promise(function(te,K){ee[F].destroy(null,function(j){j?K(j):te(w(void 0,!0))})})}),M),G);we.exports=function(ee){var te,K=Object.create(T,(a(te={},F,{value:ee,writable:!0}),a(te,A,{value:null,writable:!0}),a(te,y,{value:null,writable:!0}),a(te,E,{value:null,writable:!0}),a(te,f,{value:ee._readableState.endEmitted,writable:!0}),a(te,P,{value:function(re,ue){var ne=K[F].read();ne?(K[v]=null,K[A]=null,K[y]=null,re(w(ne,!1))):(K[A]=re,K[y]=ue)},writable:!0}),te));return K[v]=null,k(ee,function(j){if(j&&"ERR_STREAM_PREMATURE_CLOSE"!==j.code){var re=K[y];return null!==re&&(K[v]=null,K[A]=null,K[y]=null,re(j)),void(K[E]=j)}var ue=K[A];null!==ue&&(K[v]=null,K[A]=null,K[y]=null,ue(w(void 0,!0))),K[f]=!0}),ee.on("readable",R.bind(null,K)),K}},22650:(we,oe,b)=>{function M(R,L){var G=Object.keys(R);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(R);L&&(T=T.filter(function(V){return Object.getOwnPropertyDescriptor(R,V).enumerable})),G.push.apply(G,T)}return G}function a(R){for(var L=1;L<arguments.length;L++){var G=null!=arguments[L]?arguments[L]:{};L%2?M(Object(G),!0).forEach(function(T){m(R,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(G)):M(Object(G)).forEach(function(T){Object.defineProperty(R,T,Object.getOwnPropertyDescriptor(G,T))})}return R}function m(R,L,G){return(L=y(L))in R?Object.defineProperty(R,L,{value:G,enumerable:!0,configurable:!0,writable:!0}):R[L]=G,R}function k(R,L){for(var G=0;G<L.length;G++){var T=L[G];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,y(T.key),T)}}function y(R){var L=function E(R,L){if("object"!=typeof R||null===R)return R;var G=R[Symbol.toPrimitive];if(void 0!==G){var T=G.call(R,L||"default");if("object"!=typeof T)return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(R)}(R,"string");return"symbol"==typeof L?L:String(L)}var v=b(163).Buffer,F=b(63779).inspect,w=F&&F.custom||"inspect";function N(R,L,G){v.prototype.copy.call(R,L,G)}we.exports=function(){function R(){(function h(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")})(this,R),this.head=null,this.tail=null,this.length=0}return function A(R,L,G){L&&k(R.prototype,L),G&&k(R,G),Object.defineProperty(R,"prototype",{writable:!1})}(R,[{key:"push",value:function(G){var T={data:G,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(G){var T={data:G,next:this.head};0===this.length&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(0!==this.length){var G=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,G}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(G){if(0===this.length)return"";for(var T=this.head,V=""+T.data;T=T.next;)V+=G+T.data;return V}},{key:"concat",value:function(G){if(0===this.length)return v.alloc(0);for(var T=v.allocUnsafe(G>>>0),V=this.head,U=0;V;)N(V.data,T,U),U+=V.data.length,V=V.next;return T}},{key:"consume",value:function(G,T){var V;return G<this.head.data.length?(V=this.head.data.slice(0,G),this.head.data=this.head.data.slice(G)):V=G===this.head.data.length?this.shift():T?this._getString(G):this._getBuffer(G),V}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(G){var T=this.head,V=1,U=T.data;for(G-=U.length;T=T.next;){var ee=T.data,te=G>ee.length?ee.length:G;if(U+=te===ee.length?ee:ee.slice(0,G),0===(G-=te)){te===ee.length?(++V,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=ee.slice(te));break}++V}return this.length-=V,U}},{key:"_getBuffer",value:function(G){var T=v.allocUnsafe(G),V=this.head,U=1;for(V.data.copy(T),G-=V.data.length;V=V.next;){var ee=V.data,te=G>ee.length?ee.length:G;if(ee.copy(T,T.length-G,0,te),0===(G-=te)){te===ee.length?(++U,this.head=V.next?V.next:this.tail=null):(this.head=V,V.data=ee.slice(te));break}++U}return this.length-=U,T}},{key:w,value:function(G,T){return F(this,a(a({},T),{},{depth:0,customInspect:!1}))}}]),R}()},79719:we=>{function b(k,A){m(k,A),M(k)}function M(k){k._writableState&&!k._writableState.emitClose||k._readableState&&!k._readableState.emitClose||k.emit("close")}function m(k,A){k.emit("error",A)}we.exports={destroy:function oe(k,A){var y=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(A?A(k):k&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(m,this,k)):process.nextTick(m,this,k)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(k||null,function(v){!A&&v?y._writableState?y._writableState.errorEmitted?process.nextTick(M,y):(y._writableState.errorEmitted=!0,process.nextTick(b,y,v)):process.nextTick(b,y,v):A?(process.nextTick(M,y),A(v)):process.nextTick(M,y)}),this)},undestroy:function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function h(k,A){var y=k._readableState,E=k._writableState;y&&y.autoDestroy||E&&E.autoDestroy?k.destroy(A):k.emit("error",A)}}},85629:(we,oe,b)=>{var M=b(58379).F.ERR_STREAM_PREMATURE_CLOSE;function m(){}we.exports=function k(A,y,E){if("function"==typeof y)return k(A,null,y);y||(y={}),E=function a(A){var y=!1;return function(){if(!y){y=!0;for(var E=arguments.length,f=new Array(E),v=0;v<E;v++)f[v]=arguments[v];A.apply(this,f)}}}(E||m);var f=y.readable||!1!==y.readable&&A.readable,v=y.writable||!1!==y.writable&&A.writable,P=function(){A.writable||w()},F=A._writableState&&A._writableState.finished,w=function(){v=!1,F=!0,f||E.call(A)},N=A._readableState&&A._readableState.endEmitted,R=function(){f=!1,N=!0,v||E.call(A)},L=function(U){E.call(A,U)},G=function(){var U;return f&&!N?((!A._readableState||!A._readableState.ended)&&(U=new M),E.call(A,U)):v&&!F?((!A._writableState||!A._writableState.ended)&&(U=new M),E.call(A,U)):void 0},T=function(){A.req.on("finish",w)};return function h(A){return A.setHeader&&"function"==typeof A.abort}(A)?(A.on("complete",w),A.on("abort",G),A.req?T():A.on("request",T)):v&&!A._writableState&&(A.on("end",P),A.on("close",P)),A.on("end",R),A.on("finish",w),!1!==y.error&&A.on("error",L),A.on("close",G),function(){A.removeListener("complete",w),A.removeListener("abort",G),A.removeListener("request",T),A.req&&A.req.removeListener("finish",w),A.removeListener("end",P),A.removeListener("close",P),A.removeListener("finish",w),A.removeListener("end",R),A.removeListener("error",L),A.removeListener("close",G)}}},65252:we=>{we.exports=function(){throw new Error("Readable.from is not available in the browser")}},67607:(we,oe,b)=>{var M,m=b(58379).F,h=m.ERR_MISSING_ARGS,k=m.ERR_STREAM_DESTROYED;function A(w){if(w)throw w}function f(w){w()}function v(w,N){return w.pipe(N)}we.exports=function F(){for(var w=arguments.length,N=new Array(w),R=0;R<w;R++)N[R]=arguments[R];var L=function P(w){return w.length&&"function"==typeof w[w.length-1]?w.pop():A}(N);if(Array.isArray(N[0])&&(N=N[0]),N.length<2)throw new h("streams");var G,T=N.map(function(V,U){var ee=U<N.length-1;return function E(w,N,R,L){L=function a(w){var N=!1;return function(){N||(N=!0,w.apply(void 0,arguments))}}(L);var G=!1;w.on("close",function(){G=!0}),void 0===M&&(M=b(85629)),M(w,{readable:N,writable:R},function(V){if(V)return L(V);G=!0,L()});var T=!1;return function(V){if(!G&&!T){if(T=!0,function y(w){return w.setHeader&&"function"==typeof w.abort}(w))return w.abort();if("function"==typeof w.destroy)return w.destroy();L(V||new k("pipe"))}}}(V,ee,U>0,function(K){G||(G=K),K&&T.forEach(f),!ee&&(T.forEach(f),L(G))})});return N.reduce(v)}},87288:(we,oe,b)=>{var M=b(58379).F.ERR_INVALID_OPT_VALUE;we.exports={getHighWaterMark:function m(h,k,A,y){var E=function a(h,k,A){return null!=h.highWaterMark?h.highWaterMark:k?h[A]:null}(k,y,A);if(null!=E){if(!isFinite(E)||Math.floor(E)!==E||E<0)throw new M(y?A:"highWaterMark",E);return Math.floor(E)}return h.objectMode?16:16384}}},66832:(we,oe,b)=>{we.exports=b(44339).EventEmitter},70281:(we,oe,b)=>{var M=b(66175).Buffer,a=M.isEncoding||function(T){switch((T=""+T)&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function k(T){var V;switch(this.encoding=function h(T){var V=function m(T){if(!T)return"utf8";for(var V;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(V)return;T=(""+T).toLowerCase(),V=!0}}(T);if("string"!=typeof V&&(M.isEncoding===a||!a(T)))throw new Error("Unknown encoding: "+T);return V||T}(T),this.encoding){case"utf16le":this.text=F,this.end=w,V=4;break;case"utf8":this.fillLast=f,V=4;break;case"base64":this.text=N,this.end=R,V=3;break;default:return this.write=L,void(this.end=G)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(V)}function A(T){return T<=127?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function f(T){var V=this.lastTotal-this.lastNeed,U=function E(T,V){if(128!=(192&V[0]))return T.lastNeed=0,"\ufffd";if(T.lastNeed>1&&V.length>1){if(128!=(192&V[1]))return T.lastNeed=1,"\ufffd";if(T.lastNeed>2&&V.length>2&&128!=(192&V[2]))return T.lastNeed=2,"\ufffd"}}(this,T);return void 0!==U?U:this.lastNeed<=T.length?(T.copy(this.lastChar,V,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,V,0,T.length),void(this.lastNeed-=T.length))}function F(T,V){if((T.length-V)%2==0){var U=T.toString("utf16le",V);if(U){var ee=U.charCodeAt(U.length-1);if(ee>=55296&&ee<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",V,T.length-1)}function w(T){var V=T&&T.length?this.write(T):"";return this.lastNeed?V+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):V}function N(T,V){var U=(T.length-V)%3;return 0===U?T.toString("base64",V):(this.lastNeed=3-U,this.lastTotal=3,1===U?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",V,T.length-U))}function R(T){var V=T&&T.length?this.write(T):"";return this.lastNeed?V+this.lastChar.toString("base64",0,3-this.lastNeed):V}function L(T){return T.toString(this.encoding)}function G(T){return T&&T.length?this.write(T):""}oe.I=k,k.prototype.write=function(T){if(0===T.length)return"";var V,U;if(this.lastNeed){if(void 0===(V=this.fillLast(T)))return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<T.length?V?V+this.text(T,U):this.text(T,U):V||""},k.prototype.end=function P(T){var V=T&&T.length?this.write(T):"";return this.lastNeed?V+"\ufffd":V},k.prototype.text=function v(T,V){var U=function y(T,V,U){var ee=V.length-1;if(ee<U)return 0;var te=A(V[ee]);return te>=0?(te>0&&(T.lastNeed=te-1),te):--ee<U||-2===te?0:(te=A(V[ee]))>=0?(te>0&&(T.lastNeed=te-2),te):--ee<U||-2===te?0:(te=A(V[ee]))>=0?(te>0&&(2===te?te=0:T.lastNeed=te-3),te):0}(this,T,V);if(!this.lastNeed)return T.toString("utf8",V);this.lastTotal=U;var ee=T.length-(U-this.lastNeed);return T.copy(this.lastChar,0,ee),T.toString("utf8",V,ee)},k.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length}},66175:(we,oe,b)=>{var M=b(163),a=M.Buffer;function m(k,A){for(var y in k)A[y]=k[y]}function h(k,A,y){return a(k,A,y)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?we.exports=M:(m(M,oe),oe.Buffer=h),m(a,h),h.from=function(k,A,y){if("number"==typeof k)throw new TypeError("Argument must not be a number");return a(k,A,y)},h.alloc=function(k,A,y){if("number"!=typeof k)throw new TypeError("Argument must be a number");var E=a(k);return void 0!==A?"string"==typeof y?E.fill(A,y):E.fill(A):E.fill(0),E},h.allocUnsafe=function(k){if("number"!=typeof k)throw new TypeError("Argument must be a number");return a(k)},h.allocUnsafeSlow=function(k){if("number"!=typeof k)throw new TypeError("Argument must be a number");return M.SlowBuffer(k)}},53935:we=>{function b(M){try{if(!global.localStorage)return!1}catch{return!1}var a=global.localStorage[M];return null!=a&&"true"===String(a).toLowerCase()}we.exports=function oe(M,a){if(b("noDeprecation"))return M;var m=!1;return function h(){if(!m){if(b("throwDeprecation"))throw new Error(a);b("traceDeprecation")?console.trace(a):console.warn(a),m=!0}return M.apply(this,arguments)}}},52249:()=>{},42634:()=>{},63779:()=>{},77199:()=>{},67081:(we,oe,b)=>{Object.defineProperty(oe,"__esModule",{value:!0}),b(24398).__exportStar(b(23879),oe)},40:(we,oe,b)=>{var M=b(88455);we.exports=function a(m,h,k){return(h=M(h))in m?Object.defineProperty(m,h,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[h]=k,m},we.exports.__esModule=!0,we.exports.default=we.exports},74594:(we,oe,b)=>{var M=b(94195).default;we.exports=function a(m,h){if("object"!=M(m)||!m)return m;var k=m[Symbol.toPrimitive];if(void 0!==k){var A=k.call(m,h||"default");if("object"!=M(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)},we.exports.__esModule=!0,we.exports.default=we.exports},88455:(we,oe,b)=>{var M=b(94195).default,a=b(74594);we.exports=function m(h){var k=a(h,"string");return"symbol"==M(k)?k:k+""},we.exports.__esModule=!0,we.exports.default=we.exports},94195:we=>{function oe(b){return we.exports=oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},we.exports.__esModule=!0,we.exports.default=we.exports,oe(b)}we.exports=oe,we.exports.__esModule=!0,we.exports.default=we.exports},23879:(we,oe,b)=>{b.r(oe),b.d(oe,{getManifest:()=>te,initFederation:()=>K,loadManifest:()=>re,loadRemoteEntry:()=>F,loadRemoteModule:()=>T,setManifest:()=>U});var M=b(11),a=b(22292),m=b(81890),h={},k={},A={},y=!1;function E(pe,ye){return f.apply(this,arguments)}function f(){return(f=(0,m.A)((0,M.A)().m(function pe(ye,Ee){var Ie,xe;return(0,M.A)().w(function(Be){for(;;)switch(Be.n){case 0:return Ie=k[ye],Be.n=1,Ie.get(Ee);case 1:return xe=(0,Be.v)(),Be.a(2,xe)}},pe)}))).apply(this,arguments)}function v(pe,ye){return P.apply(this,arguments)}function P(){return(P=(0,m.A)((0,M.A)().m(function pe(ye,Ee){return(0,M.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:if(!A[Ee]){Ie.n=1;break}return Ie.a(2,ye);case 1:if(y){Ie.n=3;break}return Ie.n=2,b.I("default");case 2:y=!0;case 3:return Ie.n=4,ye.init(b.S.default);case 4:return A[Ee]=!0,Ie.a(2,ye)}},pe)}))).apply(this,arguments)}function F(pe,ye){return w.apply(this,arguments)}function w(){return(w=(0,m.A)((0,M.A)().m(function pe(ye,Ee){var Ie,Ge,xe;return(0,M.A)().w(function(Be){for(;;)switch(Be.n){case 0:if("string"!=typeof ye){Be.n=2;break}return Ie=ye,Be.n=1,L(Ie,Ee);case 1:case 3:return Be.a(2,Be.v);case 2:if("script"!==ye.type){Be.n=4;break}return Ge=ye,Be.n=3,L(Ge.remoteEntry,Ge.remoteName);case 4:if("module"!==ye.type){Be.n=5;break}return xe=ye,Be.n=5,N(xe.remoteEntry);case 5:return Be.a(2)}},pe)}))).apply(this,arguments)}function N(pe){return R.apply(this,arguments)}function R(){return(R=(0,m.A)((0,M.A)().m(function pe(ye){return(0,M.A)().w(function(Ee){for(;;)switch(Ee.n){case 0:if(!k[ye]){Ee.n=1;break}return Ee.a(2,Promise.resolve());case 1:return Ee.n=2,import(ye).then(function(Ie){v(Ie,ye),k[ye]=Ie});case 2:return Ee.a(2,Ee.v)}},pe)}))).apply(this,arguments)}function L(pe,ye){return G.apply(this,arguments)}function G(){return(G=(0,m.A)((0,M.A)().m(function pe(ye,Ee){return(0,M.A)().w(function(Ie){for(;;)if(0===Ie.n)return Ie.a(2,new Promise(function(Ge,xe){if(k[Ee])Ge();else{var Be=document.createElement("script");Be.src=ye,Be.onerror=xe,Be.onload=function(){var Xe=window[Ee];v(Xe,Ee),k[Ee]=Xe,Ge()},document.body.appendChild(Be)}}))},pe)}))).apply(this,arguments)}function T(pe,ye){return V.apply(this,arguments)}function V(){return(V=(0,m.A)((0,M.A)().m(function pe(ye,Ee){var Ie,Ge,xe,Be,Xe,Ze;return(0,M.A)().w(function(ot){for(;;)switch(ot.n){case 0:if((Be="string"==typeof ye?{type:"manifest",remoteName:ye,exposedModule:Ee}:ye).type||(Xe=Object.keys(h).length>0,Be.type=Xe?"manifest":"script"),"manifest"!==Be.type){ot.n=2;break}if(Ze=h[Be.remoteName]){ot.n=1;break}throw new Error("Manifest does not contain "+Be.remoteName);case 1:Be={type:Ze.type,exposedModule:Be.exposedModule,remoteEntry:Ze.remoteEntry,remoteName:"script"===Ze.type?Be.remoteName:void 0},xe=Ze.remoteEntry,ot.n=3;break;case 2:xe=Be.remoteEntry;case 3:if("script"===Be.type?(Ie={type:"script",remoteEntry:Be.remoteEntry,remoteName:Be.remoteName},Ge=Be.remoteName):"module"===Be.type&&(Ie={type:"module",remoteEntry:Be.remoteEntry},Ge=Be.remoteEntry),!xe){ot.n=4;break}return ot.n=4,F(Ie);case 4:return ot.n=5,E(Ge,Be.exposedModule);case 5:return ot.a(2,ot.v)}},pe)}))).apply(this,arguments)}function U(pe){return ee.apply(this,arguments)}function ee(){return ee=(0,m.A)(function(pe){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,M.A)().m(function Ee(){return(0,M.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:if(h=ne(pe),ye){Ie.n=1;break}return Ie.n=1,z();case 1:return Ie.a(2)}},Ee)})()}),ee.apply(this,arguments)}function te(){return h}function K(pe){return j.apply(this,arguments)}function j(){return j=(0,m.A)(function(pe){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,M.A)().m(function Ee(){return(0,M.A)().w(function(Ie){for(;;)switch(Ie.n){case 0:if("string"!=typeof pe){Ie.n=1;break}return Ie.a(2,re(pe,ye));case 1:return Ie.a(2,U(pe,ye));case 2:return Ie.a(2)}},Ee)})()}),j.apply(this,arguments)}function re(pe){return ue.apply(this,arguments)}function ue(){return ue=(0,m.A)(function(pe){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,M.A)().m(function Ee(){var Ie,Ge;return(0,M.A)().w(function(xe){for(;;)switch(xe.n){case 0:return xe.n=1,fetch(pe);case 1:if((Ie=xe.v).ok){xe.n=2;break}throw Error("could not load configFile: "+pe);case 2:return Ge=ne,xe.n=3,Ie.json();case 3:if(h=Ge(xe.v),ye){xe.n=4;break}return xe.n=4,z();case 4:return xe.a(2)}},Ee)})()}),ue.apply(this,arguments)}function ne(pe){var ye={};for(var Ee in pe){var Ge,Ie=pe[Ee];Ge="string"==typeof Ie?{remoteEntry:Ie,type:"module"}:(0,a.A)((0,a.A)({},Ie),{},{type:Ie.type||"module"}),ye[Ee]=Ge}return ye}function z(){return q.apply(this,arguments)}function q(){return(q=(0,m.A)((0,M.A)().m(function pe(){var ye,Ee,Ie;return(0,M.A)().w(function(Ge){for(;;)switch(Ge.n){case 0:for(Ee in ye=[],h)ye.push(F("module"===(Ie=h[Ee]).type?{type:"module",remoteEntry:Ie.remoteEntry}:{type:"script",remoteEntry:Ie.remoteEntry,remoteName:Ee}));return Ge.n=1,Promise.all(ye);case 1:return Ge.a(2)}},pe)}))).apply(this,arguments)}},88051:(we,oe,b)=>{function a(m,h){if(null==m)return{};var k,A,y=function M(m,h){if(null==m)return{};var k={};for(var A in m)if({}.hasOwnProperty.call(m,A)){if(-1!==h.indexOf(A))continue;k[A]=m[A]}return k}(m,h);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(m);for(A=0;A<E.length;A++)-1===h.indexOf(k=E[A])&&{}.propertyIsEnumerable.call(m,k)&&(y[k]=m[k])}return y}b.d(oe,{A:()=>a})},82846:(we,oe,b)=>{b.d(oe,{A:()=>a});var M=b(80641);function a(m){if(null!=m){var h=m["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],k=0;if(h)return h.call(m);if("function"==typeof m.next)return m;if(!isNaN(m.length))return{next:function(){return m&&k>=m.length&&(m=void 0),{value:m&&m[k++],done:!m}}}}throw new TypeError((0,M.A)(m)+" is not iterable")}}}]);
//# sourceMappingURL=9506.778191d8fe4c7cb4.js.map